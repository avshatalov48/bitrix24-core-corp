jn.define("sign/dialog/banners/response",((e,t,o)=>{const{Loc:s}=e("loc");const{ButtonSize:n,ButtonDesign:i,Button:a}=e("ui-system/form/buttons/button");const{BannerTemplate:d}=e("sign/dialog/banners/template");const{SignOpener:r}=e("sign/opener");const{Indent:c,Color:l}=e("tokens");const{confirmationAccept:g,confirmationPostpone:h}=e("sign/connector");const{Processing:m}=e("sign/dialog/banners/processing");const{SignedByAssignee:u}=e("sign/dialog/banners/signedbyassignee");const{NotifyManager:I}=e("notify-manager");const{BBCodeParser:L}=e("bbcode/parser");const O=new L;const _="assignee";class E extends LayoutComponent{constructor(e){super(e);const{layoutWidget:t,documentTitle:o,memberId:s,role:n}=e;this.documentTitle=o;this.memberId=s;this.layoutWidget=t;this.role=n}componentDidMount(){this.layoutWidget.setListener((e=>{if(e==="onViewHidden"||e==="onViewRemoved"){r.clearCacheSomeBannerIsAlreadyOpen()}}))}closeLayout(e={}){r.clearCacheSomeBannerIsAlreadyOpen();this.layoutWidget.close(e)}render(){return d({iconPathName:"response.svg",title:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_TITLE"),description:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_DESCRIPTION",{"#DOCUMENT_TITLE#":O.parse(this.documentTitle).toPlainText(),"#COLOR_OF_HIGHLIGHTED_TEXT#":l.base1.toHex()}),buttonsView:View({},a({text:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_BUTTON_CONFIRM"),size:n.XL,design:i.FILLED,disabled:false,badge:false,stretched:true,onClick:()=>{I.showLoadingIndicator();g(this.memberId).then((()=>{I.hideLoadingIndicatorWithoutFallback();if(this.role===_){this.layoutWidget.showComponent(new u({layoutWidget:this.layoutWidget,documentTitle:this.documentTitle}))}else{this.layoutWidget.showComponent(new m({layoutWidget:this.layoutWidget,documentTitle:this.documentTitle,memberId:this.memberId}))}})).catch((()=>{I.showErrors([{message:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_DOCUMENT_UNKNOWN_ERROR_TEXT")}])}))},style:{marginBottom:c.L.toNumber()}}),a({text:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_BUTTON_CLOSE"),size:n.XL,design:i.PLAN_ACCENT,disabled:false,badge:false,stretched:true,onClick:()=>{I.showLoadingIndicator();h(this.memberId).then((()=>{I.hideLoadingIndicatorWithoutFallback();this.closeLayout()})).catch((()=>{I.hideLoadingIndicatorWithoutFallback();this.closeLayout()}))}}))})}}o.exports={Response:E}}));
//# sourceMappingURL=extension.map.js