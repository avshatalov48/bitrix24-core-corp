jn.define("sign/dialog/banners/signed",((e,t,s)=>{const{Loc:o}=e("loc");const{ButtonSize:n,ButtonDesign:i,Button:a}=e("ui-system/form/buttons/button");const{BannerTemplate:l}=e("sign/dialog/banners/template");const{Indent:d,Color:r}=e("tokens");const{NotifyManager:c}=e("notify-manager");const{Filesystem:g,utils:I}=e("native/filesystem");const{BBCodeParser:_}=e("bbcode/parser");const L=new _;class u extends LayoutComponent{constructor(e){super(e);const{layoutWidget:t,fileDownloadUrl:s,documentTitle:o}=e;this.documentTitle=o;this.fileDownloadUrl=s;this.layoutWidget=t}downloadFile(){c.showLoadingIndicator();g.downloadFile(this.fileDownloadUrl).then((e=>{c.hideLoadingIndicatorWithoutFallback();this.closeLayout((()=>{I.saveFile(e).catch((()=>dialogs.showSharingDialog({uri:e})))}))})).catch((()=>{c.showErrors([{message:o.getMessage("SIGN_MOBILE_DIALOG_SIGNED_SAVE_FILE_ERROR_TEXT")}])}))}closeLayout(e={}){this.layoutWidget.close(e)}render(){return l({iconPathName:"signed.svg",title:o.getMessage("SIGN_MOBILE_DIALOG_SIGNED_TITLE"),description:o.getMessage("SIGN_MOBILE_DIALOG_SIGNED_DESCRIPTION",{"#DOCUMENT_TITLE#":L.parse(this.documentTitle).toPlainText(),"#COLOR_OF_HIGHLIGHTED_TEXT#":r.base1.toHex()}),buttonsView:View({},a({text:o.getMessage("SIGN_MOBILE_DIALOG_SIGNED_BUTTON_SAVE_TITLE"),size:n.XL,design:i.FILLED,disabled:false,badge:false,stretched:true,onClick:()=>{this.downloadFile()},style:{marginBottom:d.L.toNumber()}}),a({text:o.getMessage("SIGN_MOBILE_DIALOG_SIGNED_BUTTON_CLOSE"),size:n.XL,design:i.PLAN_ACCENT,disabled:false,badge:false,stretched:true,onClick:()=>{this.closeLayout()}}))})}}s.exports={Signed:u}}));
//# sourceMappingURL=extension.map.js