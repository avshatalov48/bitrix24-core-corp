this.BX=this.BX||{};(function(e,t,n){"use strict";class i{constructor(e,n={}){this.extensionName=t.Type.isString(e)&&(e==="NEW"||e.substr(0,4)==="EDIT")||!parseInt(e)?"EventEditForm":"EventViewForm";this.sliderId=n.sliderId||"calendar:slider-"+Math.random();e=t.Type.isString(e)&&e.substr(0,4)==="EDIT"?parseInt(e.substr(4)):parseInt(e);this.extensionParams={entryId:e,entry:n.entry||null,type:n.type||null,ownerId:parseInt(n.ownerId)||null,userId:parseInt(n.userId)||null};if(t.Type.isArray(n.participantsEntityList)){this.extensionParams.participantsEntityList=n.participantsEntityList}if(t.Type.isArray(n.participantsSelectorEntityList)){this.extensionParams.participantsSelectorEntityList=n.participantsSelectorEntityList}if(n.formDataValue){this.extensionParams.formDataValue=n.formDataValue}if(n.calendarContext){this.extensionParams.calendarContext=n.calendarContext}if(n.isLocationCalendar){this.extensionParams.isLocationCalendar=n.isLocationCalendar}if(n.roomsManager){this.extensionParams.roomsManager=n.roomsManager}if(n.locationAccess){this.extensionParams.locationAccess=n.locationAccess}if(n.locationCapacity){this.extensionParams.locationCapacity=n.locationCapacity}if(n.dayOfWeekMonthFormat){this.extensionParams.dayOfWeekMonthFormat=n.dayOfWeekMonthFormat}if(t.Type.isDate(n.entryDateFrom)){this.extensionParams.entryDateFrom=n.entryDateFrom}if(n.timezoneOffset){this.extensionParams.timezoneOffset=n.timezoneOffset}if(t.Type.isString(n.entryName)){this.extensionParams.entryName=n.entryName}if(t.Type.isString(n.entryDescription)){this.extensionParams.entryDescription=n.entryDescription}if(t.Type.isString(n.link)){const e=new t.Uri(n.link);const i=e.getQueryParam("IS_SHARING");this.isSharing=i==="1"}}show(){if(this.isSharing){BX.SidePanel.Instance.open(this.sliderId,{contentCallback:e=>new Promise((t=>{new n.DeletedViewForm(this.extensionParams.entryId).initInSlider(e,t)})),width:600})}else{BX.SidePanel.Instance.open(this.sliderId,{contentCallback:this.loadExtension.bind(this),label:{text:t.Loc.getMessage("CALENDAR_EVENT"),bgColor:"#55D0E0"},type:"calendar:slider"})}}loadExtension(e){return new Promise((n=>{const i="calendar."+this.extensionName.toLowerCase();t.Runtime.loadExtension(i).then((t=>{if(t&&t[this.extensionName]){const i=new t[this.extensionName](this.extensionParams);if(typeof i.initInSlider){i.initInSlider(e,n)}}else{console.error(`Extension "calendar.${i}" not found`)}}))}))}}e.SliderLoader=i})(this.BX.Calendar=this.BX.Calendar||{},BX,BX.Calendar.Sharing);
//# sourceMappingURL=sliderloader.bundle.map.js