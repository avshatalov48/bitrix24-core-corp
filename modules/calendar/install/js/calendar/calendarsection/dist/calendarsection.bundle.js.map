{"version":3,"file":"calendarsection.bundle.js","sources":["../src/calendarsectionmanager.js","../src/calendarsection.js"],"sourcesContent":["import {Entry} from \"calendar.entry\";\nimport {Util} from \"calendar.util\";\nimport {Loc, Type} from \"main.core\";\n\nexport class CalendarSectionManager {\n\tstatic newEntrySectionId = null;\n\n\tstatic getNewEntrySectionId()\n\t{\n\t\treturn CalendarSectionManager.newEntrySectionId;\n\t}\n\n\tstatic setNewEntrySectionId(sectionId)\n\t{\n\t\tCalendarSectionManager.newEntrySectionId = parseInt(sectionId);\n\t}\n\n\tstatic getSectionGroupList(options = {})\n\t{\n\t\tlet\n\t\t\ttype = options.type,\n\t\t\townerId = options.ownerId,\n\t\t\tuserId = options.userId,\n\t\t\tfollowedUserList = options.trackingUsersList || Util.getFollowedUserList(userId),\n\t\t\tsectionGroups = [],\n\t\t\ttitle;\n\n\t\t// 1. Main group - depends from current view\n\t\tif (type === 'user')\n\t\t{\n\t\t\tif (userId === ownerId)\n\t\t\t{\n\t\t\t\ttitle = Loc.getMessage('EC_SEC_SLIDER_MY_CALENDARS_LIST');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttitle = Loc.getMessage('EC_SEC_SLIDER_USER_CALENDARS_LIST');\n\t\t\t}\n\t\t}\n\t\telse if (type === 'group')\n\t\t{\n\t\t\ttitle = Loc.getMessage('EC_SEC_SLIDER_GROUP_CALENDARS_LIST');\n\t\t}\n\t\telse if (type === 'location')\n\t\t{\n\t\t\ttitle = Loc.getMessage('EC_SEC_SLIDER_TYPE_LOCATION_LIST');\n\t\t}\n\t\telse if (type === 'resource')\n\t\t{\n\t\t\ttitle = Loc.getMessage('EC_SEC_SLIDER_TYPE_RESOURCE_LIST');\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttitle = Loc.getMessage('EC_SEC_SLIDER_TITLE_COMP_CAL');\n\t\t}\n\n\t\tsectionGroups.push({\n\t\t\ttitle: title,\n\t\t\ttype: type,\n\t\t\tbelongsToView: true\n\t\t});\n\n\t\tif (type !== 'user' || userId !== ownerId)\n\t\t{\n\t\t\tsectionGroups.push({\n\t\t\t\ttitle: Loc.getMessage('EC_SEC_SLIDER_MY_CALENDARS_LIST'),\n\t\t\t\ttype: 'user',\n\t\t\t\townerId: userId\n\t\t\t});\n\t\t}\n\n\t\t// 2. Company calendar\n\t\tsectionGroups.push({\n\t\t\ttitle: Loc.getMessage('EC_SEC_SLIDER_TITLE_COMP_CAL'),\n\t\t\ttype: 'company'\n\t\t});\n\n\t\t// 3. Users calendars\n\t\tif (Type.isArray(followedUserList))\n\t\t{\n\t\t\tfollowedUserList.forEach(function(user)\n\t\t\t{\n\t\t\t\tif (parseInt(user.ID) !== ownerId || type !== 'user')\n\t\t\t\t{\n\t\t\t\t\tsectionGroups.push({\n\t\t\t\t\t\ttitle: BX.util.htmlspecialchars(user.FORMATTED_NAME),\n\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\townerId: parseInt(user.ID)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, this);\n\t\t}\n\n\t\t// 4. Groups calendars\n\t\tsectionGroups.push({\n\t\t\ttitle: Loc.getMessage('EC_SEC_SLIDER_POPUP_MENU_ADD_GROUP'),\n\t\t\ttype: 'group'\n\t\t});\n\n\t\t// 5. Resources calendars\n\t\tsectionGroups.push({\n\t\t\ttitle: Loc.getMessage('EC_SEC_SLIDER_TITLE_RESOURCE_CAL'),\n\t\t\ttype: 'resource'\n\t\t});\n\n\t\t// 6. Location calendars\n\t\tsectionGroups.push({\n\t\t\ttitle: Loc.getMessage('EC_SEC_SLIDER_TITLE_LOCATION_CAL'),\n\t\t\ttype: 'location'\n\t\t});\n\n\t\treturn sectionGroups;\n\t}\n}","import {CalendarSectionManager} from \"./calendarsectionmanager\";\nimport {Type} from 'main.core';\n\nexport {CalendarSectionManager};\n\nexport class CalendarSection\n{\n\tconstructor()\n\t{\n\t}\n}"],"names":["CalendarSectionManager","newEntrySectionId","sectionId","parseInt","options","type","ownerId","userId","followedUserList","trackingUsersList","Util","getFollowedUserList","sectionGroups","title","Loc","getMessage","push","belongsToView","Type","isArray","forEach","user","ID","BX","util","htmlspecialchars","FORMATTED_NAME","CalendarSection"],"mappings":"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"}