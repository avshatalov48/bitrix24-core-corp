this.BX=this.BX||{};this.BX.Calendar=this.BX.Calendar||{};(function(e,s,a,l,t,i,r,o,_){"use strict";let b=e=>e,c,d,n,v,p,h;var P=babelHelpers.classPrivateFieldLooseKey("owner");var L=babelHelpers.classPrivateFieldLooseKey("link");var u=babelHelpers.classPrivateFieldLooseKey("currentLang");var H=babelHelpers.classPrivateFieldLooseKey("name");var F=babelHelpers.classPrivateFieldLooseKey("lastName");var B=babelHelpers.classPrivateFieldLooseKey("photo");var m=babelHelpers.classPrivateFieldLooseKey("layout");var f=babelHelpers.classPrivateFieldLooseKey("handleTimelineNotify");var y=babelHelpers.classPrivateFieldLooseKey("getNodeButton");var g=babelHelpers.classPrivateFieldLooseKey("getNodeLabel");var E=babelHelpers.classPrivateFieldLooseKey("getNodeInfo");class w{constructor(e){Object.defineProperty(this,E,{value:N});Object.defineProperty(this,g,{value:D});Object.defineProperty(this,y,{value:O});Object.defineProperty(this,f,{value:T});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,B,{writable:true,value:void 0});Object.defineProperty(this,m,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e.owner||null;babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e.link||null;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=e.currentLang||null;babelHelpers.classPrivateFieldLooseBase(this,H)[H]=babelHelpers.classPrivateFieldLooseBase(this,P)[P].name||null;babelHelpers.classPrivateFieldLooseBase(this,F)[F]=babelHelpers.classPrivateFieldLooseBase(this,P)[P].lastName||null;babelHelpers.classPrivateFieldLooseBase(this,B)[B]=babelHelpers.classPrivateFieldLooseBase(this,P)[P].photo||null;babelHelpers.classPrivateFieldLooseBase(this,m)[m]={wrapper:null,button:null,label:null};if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].type==="crm_deal"&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].active===true&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus!=="viewed"&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus!=="notViewed"){babelHelpers.classPrivateFieldLooseBase(this,f)[f]("notViewed");babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus="notViewed"}}disableButton(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"--disabled")}enableButton(){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"--disabled")}hideButton(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"--hidden")}handleWelcomePageButtonClick(){if(l.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"--disabled")){return}if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].type==="crm_deal"&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].active===true&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus==="notViewed"){babelHelpers.classPrivateFieldLooseBase(this,f)[f]("viewed");babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus="viewed"}this.disableButton();o.EventEmitter.emit("showSlotSelector",this)}setAccessDenied(){babelHelpers.classPrivateFieldLooseBase(this,m)[m].info=babelHelpers.classPrivateFieldLooseBase(this,E)[E](true)}render(){return l.Tag.render(c||(c=b`
			<div class="calendar-pub__block --welcome">
				${0}
				<div class="calendar-pub__welcome">
					<div class="calendar-pub__welcome-user">
						<div class="calendar-pub__welcome-userpic ui-icon ui-icon-common-user">
							<i ${0}></i>
						</div>
						<div class="calendar-pub-ui__typography-m">
							${0} ${0} 
						</div>
					</div>
					<div class="calendar-pub__block-separator"></div>
					${0}
					<div class="calendar-pub__welcome-bottom">
						${0}
					</div>
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,g)[g](),babelHelpers.classPrivateFieldLooseBase(this,B)[B]?`style="background-image: url(${encodeURI(babelHelpers.classPrivateFieldLooseBase(this,B)[B])})"`:"",babelHelpers.classPrivateFieldLooseBase(this,H)[H]?babelHelpers.classPrivateFieldLooseBase(this,H)[H]:"",babelHelpers.classPrivateFieldLooseBase(this,F)[F]?babelHelpers.classPrivateFieldLooseBase(this,F)[F]:"",babelHelpers.classPrivateFieldLooseBase(this,E)[E](),babelHelpers.classPrivateFieldLooseBase(this,y)[y]())}}function T(e){BX.ajax.runAction("calendar.api.sharingajax.handleTimelineNotify",{data:{linkHash:babelHelpers.classPrivateFieldLooseBase(this,L)[L].hash,entityId:babelHelpers.classPrivateFieldLooseBase(this,L)[L].entityId,entityType:babelHelpers.classPrivateFieldLooseBase(this,L)[L].type,notifyType:e}})}function O(){if(!babelHelpers.classPrivateFieldLooseBase(this,m)[m].button){babelHelpers.classPrivateFieldLooseBase(this,m)[m].button=l.Tag.render(d||(d=b`
				<div class="calendar-pub-ui__btn">
					<div class="calendar-pub-ui__btn-text">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SELECT_SLOT"));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"click",(()=>{this.handleWelcomePageButtonClick()}));o.EventEmitter.subscribe("hideSlotSelector",this.enableButton.bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,m)[m].button}function D(){if(!babelHelpers.classPrivateFieldLooseBase(this,m)[m].label){babelHelpers.classPrivateFieldLooseBase(this,m)[m].label=l.Tag.render(n||(n=b`
				<div class="calendar-pub__block-label"></div>
			`));if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]==="ru"){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].label,"--ru")}}return babelHelpers.classPrivateFieldLooseBase(this,m)[m].label}function N(e=false){if(!babelHelpers.classPrivateFieldLooseBase(this,m)[m].info){babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoTitle=l.Tag.render(v||(v=b`
				<div class="calendar-pub-ui__typography-title calendar-pub__welcome-info_title"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoSubTitle=l.Tag.render(p||(p=b`
				<div class="calendar-pub-ui__typography-s"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,m)[m].info=l.Tag.render(h||(h=b`
				<div class="calendar-pub__welcome-info">
					<div class="calendar-pub-ui__typography-title calendar-pub__welcome-info_title">${0}</div>
					<div class="calendar-pub-ui__typography-s">${0}</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoTitle,babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoSubTitle)}let s=l.Loc.getMessage("CALENDAR_SHARING_MY_FREE_SLOTS");let a=l.Loc.getMessage("CALENDAR_SHARING_YOU_CAN_CHOOSE_FREE_MEETING_TIME");if(e){s=l.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED");a=l.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED_INFO")}babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoTitle.innerText=s;babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoSubTitle.innerText=a;return babelHelpers.classPrivateFieldLooseBase(this,m)[m].info}let C=e=>e,k;var j=babelHelpers.classPrivateFieldLooseKey("layout");var S=babelHelpers.classPrivateFieldLooseKey("value");var K=babelHelpers.classPrivateFieldLooseKey("notCurrentMonth");var A=babelHelpers.classPrivateFieldLooseKey("today");var I=babelHelpers.classPrivateFieldLooseKey("selected");var M=babelHelpers.classPrivateFieldLooseKey("weekend");var $=babelHelpers.classPrivateFieldLooseKey("slots");var R=babelHelpers.classPrivateFieldLooseKey("enableBooking");var z=babelHelpers.classPrivateFieldLooseKey("bindEvents");var x=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class U{constructor(e){Object.defineProperty(this,x,{value:W});Object.defineProperty(this,z,{value:G});Object.defineProperty(this,j,{writable:true,value:void 0});Object.defineProperty(this,S,{writable:true,value:void 0});Object.defineProperty(this,K,{writable:true,value:void 0});Object.defineProperty(this,A,{writable:true,value:void 0});Object.defineProperty(this,I,{writable:true,value:void 0});Object.defineProperty(this,M,{writable:true,value:void 0});Object.defineProperty(this,$,{writable:true,value:void 0});Object.defineProperty(this,R,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,S)[S]=e.value?e.value:null;babelHelpers.classPrivateFieldLooseBase(this,K)[K]=e.notCurrentMonth?e.notCurrentMonth:null;babelHelpers.classPrivateFieldLooseBase(this,A)[A]=e.today?e.today:null;babelHelpers.classPrivateFieldLooseBase(this,$)[$]=e.slots||null;babelHelpers.classPrivateFieldLooseBase(this,j)[j]={wrapper:null};babelHelpers.classPrivateFieldLooseBase(this,I)[I]=e.selected?e.selected:null;babelHelpers.classPrivateFieldLooseBase(this,M)[M]=e.weekend?e.weekend:null;babelHelpers.classPrivateFieldLooseBase(this,R)[R]=e.enableBooking?e.enableBooking:null;if(babelHelpers.classPrivateFieldLooseBase(this,I)[I]){this.select()}babelHelpers.classPrivateFieldLooseBase(this,z)[z]()}isSelected(){return babelHelpers.classPrivateFieldLooseBase(this,I)[I]}getDay(){return babelHelpers.classPrivateFieldLooseBase(this,S)[S]}isEnableBooking(){return babelHelpers.classPrivateFieldLooseBase(this,R)[R]}select(){this.highlight();o.EventEmitter.emit("switchSlots",{slots:babelHelpers.classPrivateFieldLooseBase(this,$)[$]})}highlight(){babelHelpers.classPrivateFieldLooseBase(this,I)[I]=true;l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,x)[x](),"--selected");o.EventEmitter.emit("selectDate",this)}unSelect(){babelHelpers.classPrivateFieldLooseBase(this,I)[I]=null;l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,x)[x](),"--selected")}render(){return babelHelpers.classPrivateFieldLooseBase(this,x)[x]()}}function G(){l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,x)[x](),"click",this.select.bind(this))}function W(){if(!babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper){babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper=l.Tag.render(k||(k=C`
				<div class="calendar-sharing__month-col --day">${0}</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,S)[S]);if(babelHelpers.classPrivateFieldLooseBase(this,K)[K]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper,"--not-current-month")}if(babelHelpers.classPrivateFieldLooseBase(this,M)[M]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper,"--weekend")}if(babelHelpers.classPrivateFieldLooseBase(this,R)[R]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper,"--enable-booking")}}return babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper}let V=e=>e,X,Y,q,Z,Q,J,ee,se,ae,le,te,ie,re,oe,_e,be;var ce=babelHelpers.classPrivateFieldLooseKey("owner");var de=babelHelpers.classPrivateFieldLooseKey("accessibility");var ne=babelHelpers.classPrivateFieldLooseKey("layout");var ve=babelHelpers.classPrivateFieldLooseKey("currentMonth");var pe=babelHelpers.classPrivateFieldLooseKey("currentYear");var he=babelHelpers.classPrivateFieldLooseKey("nowTime");var Pe=babelHelpers.classPrivateFieldLooseKey("months");var Le=babelHelpers.classPrivateFieldLooseKey("selectedDay");var ue=babelHelpers.classPrivateFieldLooseKey("monthsSlotsMap");var He=babelHelpers.classPrivateFieldLooseKey("timezoneOffsetUtc");var Fe=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneOffsetUtc");var Be=babelHelpers.classPrivateFieldLooseKey("currentMonthIndex");var me=babelHelpers.classPrivateFieldLooseKey("currentDayNumber");var fe=babelHelpers.classPrivateFieldLooseKey("timezoneList");var ye=babelHelpers.classPrivateFieldLooseKey("calendarSettings");var ge=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneId");var Ee=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneNode");var we=babelHelpers.classPrivateFieldLooseKey("config");var Te=babelHelpers.classPrivateFieldLooseKey("loc");var Oe=babelHelpers.classPrivateFieldLooseKey("timeZonePopup");var De=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Ne=babelHelpers.classPrivateFieldLooseKey("incrementTime");var Ce=babelHelpers.classPrivateFieldLooseKey("setConfig");var ke=babelHelpers.classPrivateFieldLooseKey("initCurrentMonthSlots");var je=babelHelpers.classPrivateFieldLooseKey("calculateDateTimeSlots");var Se=babelHelpers.classPrivateFieldLooseKey("createMonth");var Ke=babelHelpers.classPrivateFieldLooseKey("reCreateCurrentMonth");var Ae=babelHelpers.classPrivateFieldLooseKey("createNextMonth");var Ie=babelHelpers.classPrivateFieldLooseKey("loadMonthAccessibility");var Me=babelHelpers.classPrivateFieldLooseKey("getMonthName");var $e=babelHelpers.classPrivateFieldLooseKey("getMonthDays");var Re=babelHelpers.classPrivateFieldLooseKey("getDayToSelect");var ze=babelHelpers.classPrivateFieldLooseKey("isHoliday");var xe=babelHelpers.classPrivateFieldLooseKey("doIntervalsIntersect");var Ue=babelHelpers.classPrivateFieldLooseKey("getNodeTimeZone");var Ge=babelHelpers.classPrivateFieldLooseKey("getPopupTimezoneSelect");var We=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneSelect");var Ve=babelHelpers.classPrivateFieldLooseKey("updateTimezone");var Xe=babelHelpers.classPrivateFieldLooseKey("getFormattedTimezone");var Ye=babelHelpers.classPrivateFieldLooseKey("getNodeDaysOfWeek");var qe=babelHelpers.classPrivateFieldLooseKey("getNodeDay");var Ze=babelHelpers.classPrivateFieldLooseKey("getNodeMonth");var Qe=babelHelpers.classPrivateFieldLooseKey("getNodeMonthWrapper");var Je=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneWrapper");var es=babelHelpers.classPrivateFieldLooseKey("getNodeCurrentMonth");var ss=babelHelpers.classPrivateFieldLooseKey("updateCalendar");var as=babelHelpers.classPrivateFieldLooseKey("getNodePrevNav");var ls=babelHelpers.classPrivateFieldLooseKey("getNodeNextNav");var ts=babelHelpers.classPrivateFieldLooseKey("getNodeNavigation");var is=babelHelpers.classPrivateFieldLooseKey("handleNextMonthArrowClick");var rs=babelHelpers.classPrivateFieldLooseKey("handlePreviousMonthArrowClick");var os=babelHelpers.classPrivateFieldLooseKey("updateMonth");var _s=babelHelpers.classPrivateFieldLooseKey("getNodeBack");var bs=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class cs{constructor(e){Object.defineProperty(this,bs,{value:Us});Object.defineProperty(this,_s,{value:xs});Object.defineProperty(this,os,{value:zs});Object.defineProperty(this,rs,{value:Rs});Object.defineProperty(this,is,{value:$s});Object.defineProperty(this,ts,{value:Ms});Object.defineProperty(this,ls,{value:Is});Object.defineProperty(this,as,{value:As});Object.defineProperty(this,ss,{value:Ks});Object.defineProperty(this,es,{value:Ss});Object.defineProperty(this,Je,{value:js});Object.defineProperty(this,Qe,{value:ks});Object.defineProperty(this,Ze,{value:Cs});Object.defineProperty(this,qe,{value:Ns});Object.defineProperty(this,Ye,{value:Ds});Object.defineProperty(this,Xe,{value:Os});Object.defineProperty(this,Ve,{value:Ts});Object.defineProperty(this,We,{value:ws});Object.defineProperty(this,Ge,{value:Es});Object.defineProperty(this,Ue,{value:gs});Object.defineProperty(this,xe,{value:ys});Object.defineProperty(this,ze,{value:fs});Object.defineProperty(this,Re,{value:ms});Object.defineProperty(this,$e,{value:Bs});Object.defineProperty(this,Me,{value:Fs});Object.defineProperty(this,Ie,{value:Hs});Object.defineProperty(this,Ae,{value:us});Object.defineProperty(this,Ke,{value:Ls});Object.defineProperty(this,Se,{value:Ps});Object.defineProperty(this,je,{value:hs});Object.defineProperty(this,ke,{value:ps});Object.defineProperty(this,Ce,{value:vs});Object.defineProperty(this,Ne,{value:ns});Object.defineProperty(this,De,{value:ds});Object.defineProperty(this,ce,{writable:true,value:void 0});Object.defineProperty(this,de,{writable:true,value:void 0});Object.defineProperty(this,ne,{writable:true,value:void 0});Object.defineProperty(this,ve,{writable:true,value:void 0});Object.defineProperty(this,pe,{writable:true,value:void 0});Object.defineProperty(this,he,{writable:true,value:void 0});Object.defineProperty(this,Pe,{writable:true,value:void 0});Object.defineProperty(this,Le,{writable:true,value:void 0});Object.defineProperty(this,ue,{writable:true,value:void 0});Object.defineProperty(this,He,{writable:true,value:void 0});Object.defineProperty(this,Fe,{writable:true,value:void 0});Object.defineProperty(this,Be,{writable:true,value:void 0});Object.defineProperty(this,me,{writable:true,value:void 0});Object.defineProperty(this,fe,{writable:true,value:void 0});Object.defineProperty(this,ye,{writable:true,value:void 0});Object.defineProperty(this,ge,{writable:true,value:void 0});Object.defineProperty(this,Ee,{writable:true,value:void 0});Object.defineProperty(this,we,{writable:true,value:void 0});Object.defineProperty(this,Te,{writable:true,value:void 0});Object.defineProperty(this,Oe,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]={wrapper:null,monthWrapper:null,timezoneWrapper:null,month:null,currentMonth:null,prevNav:null,nextNav:null,daysOfWeek:null,navigation:null,back:null};babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,de)[de]=e.accessibility;babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]=e.timezoneList;babelHelpers.classPrivateFieldLooseBase(this,ye)[ye]=e.calendarSettings;babelHelpers.classPrivateFieldLooseBase(this,he)[he]=new Date;babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]=0;babelHelpers.classPrivateFieldLooseBase(this,me)[me]=1;babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC";babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getMonth();babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear();babelHelpers.classPrivateFieldLooseBase(this,He)[He]=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]=[];babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]=[];babelHelpers.classPrivateFieldLooseBase(this,we)[we]={eventDurability:36e5,stepSize:36e5,weekHolidays:[6,0],weekStart:1};babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]={weekdays:a.Util.getWeekdaysLoc()};babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]=null;babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]();babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]();babelHelpers.classPrivateFieldLooseBase(this,De)[De]();setInterval(babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne].bind(this),15e3)}async updateEventSlotsList(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]];const s=e.year;const a=e.month+1;const l=a+"."+s;babelHelpers.classPrivateFieldLooseBase(this,de)[de][l]=await babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie](s,a);babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]()}selectFirstAvailableDay(){let e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]].days;if(babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]===0){const s=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getDate();e=e.filter((e=>e.getDay()>=s)).slice(0,14)}let s=e.find((e=>e.isEnableBooking()));if(s===undefined){s=e[0]}s.select()}selectMonthDay(){const e=babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]();babelHelpers.classPrivateFieldLooseBase(this,me)[me]=e.day;e.select()}highlightMonthDay(){const e=babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]();babelHelpers.classPrivateFieldLooseBase(this,me)[me]=e.day;e.highlight()}getSelectedTimezoneId(){return babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]}getTimezonePrefix(e){const s=e*1e3-babelHelpers.classPrivateFieldLooseBase(this,He)[He]*-6e4;const l=new Date(babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTime()+s);return i.DateTimeFormat.format(a.Util.getTimeFormatShort(),l.getTime()/1e3)}render(){return babelHelpers.classPrivateFieldLooseBase(this,bs)[bs]()}}function ds(){o.EventEmitter.subscribe("selectDate",(e=>{const s=e.data;if(babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]!==s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,Le)[Le])==null?void 0:a.unSelect()}babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]=s;babelHelpers.classPrivateFieldLooseBase(this,me)[me]=babelHelpers.classPrivateFieldLooseBase(this,Le)[Le].getDay()}));o.EventEmitter.subscribe("onSaveEvent",(async e=>{if(e.data.state==="created"||e.data.state==="not-created"){await this.updateEventSlotsList();this.highlightMonthDay()}}));o.EventEmitter.subscribe("onDeleteEvent",(async()=>{await this.updateEventSlotsList()}));o.EventEmitter.subscribe("onCreateAnotherEventButtonClick",(()=>{this.selectFirstAvailableDay()}))}function ns(){babelHelpers.classPrivateFieldLooseBase(this,he)[he]=new Date;const e=babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]();l.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]());l.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]())}function vs(){if(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].weekHolidays){babelHelpers.classPrivateFieldLooseBase(this,we)[we].weekHolidays=babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].weekHolidays.map((e=>a.Util.getIndByWeekDay(e)))}if(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].yearHolidays){babelHelpers.classPrivateFieldLooseBase(this,we)[we].yearHolidays=babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].yearHolidays}if(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].weekStart){babelHelpers.classPrivateFieldLooseBase(this,we)[we].weekStart=a.Util.getIndByWeekDay(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].weekStart);babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekdays.push(...babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekdays.splice(0,babelHelpers.classPrivateFieldLooseBase(this,we)[we].weekStart))}const e=a.Util.getTimeZoneOffset(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge])/60;if(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].workTimeStart){const s=parseFloat(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].workTimeStart)-e;babelHelpers.classPrivateFieldLooseBase(this,we)[we].workTimeStartHours=s-s%1;babelHelpers.classPrivateFieldLooseBase(this,we)[we].workTimeStartMinutes=s%1*60}if(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].workTimeEnd){const s=parseFloat(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye].workTimeEnd)-e;babelHelpers.classPrivateFieldLooseBase(this,we)[we].workTimeEndHours=s-s%1;babelHelpers.classPrivateFieldLooseBase(this,we)[we].workTimeEndMinutes=s%1*60}if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]==="UTC"||!babelHelpers.classPrivateFieldLooseBase(this,fe)[fe][babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]]){babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]="Africa/Dakar"}}function ps(){babelHelpers.classPrivateFieldLooseBase(this,je)[je](babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear(),babelHelpers.classPrivateFieldLooseBase(this,he)[he].getMonth());const e=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear(),babelHelpers.classPrivateFieldLooseBase(this,he)[he].getMonth());babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe].push(e)}function hs(e,s){const a=[];const l=new Date(e,s+1,0).getDate();const t=s+1+"."+e;const i=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTime();const r=(babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]-babelHelpers.classPrivateFieldLooseBase(this,He)[He])*-60*1e3;for(let _=1;_<=l;_++){const l=new Date(e,s,_);const b=new Date(e,s,_,babelHelpers.classPrivateFieldLooseBase(this,we)[we].workTimeStartHours,babelHelpers.classPrivateFieldLooseBase(this,we)[we].workTimeStartMinutes);const c=new Date(e,s,_,babelHelpers.classPrivateFieldLooseBase(this,we)[we].workTimeEndHours,babelHelpers.classPrivateFieldLooseBase(this,we)[we].workTimeEndMinutes);const d=babelHelpers.classPrivateFieldLooseBase(this,de)[de][t].filter((e=>{const s=!e.isFullDay;return babelHelpers.classPrivateFieldLooseBase(this,xe)[xe](BX.parseDate(e.from,s).getTime(),BX.parseDate(e.to,s).getTime(),b.getTime(),c.getTime())}));while(b.getTime()<c.getTime()){const e=b.getTime();const t=e+babelHelpers.classPrivateFieldLooseBase(this,we)[we].eventDurability;if(t>c.getTime()){break}const _=d.filter((s=>{const a=!s.isFullDay;return babelHelpers.classPrivateFieldLooseBase(this,xe)[xe](BX.parseDate(s.from,a).getTime(),BX.parseDate(s.to,a).getTime(),e,t)}));const n=_.length===0&&!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze](l)&&e>i;if(n){var o;const l=new Date(e+r);const i=new Date(l.getTime()+(t-e));const _=l.getDate();(o=a[_])!=null?o:a[_]=[];if(l.getMonth()===s){a[_].push({timeFrom:l,timeTo:i})}}b.setTime(b.getTime()+babelHelpers.classPrivateFieldLooseBase(this,we)[we].stepSize)}}babelHelpers.classPrivateFieldLooseBase(this,ue)[ue][t]=a}function Ps(e,s){return{year:e,month:s,currentTimezoneOffset:babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe],name:babelHelpers.classPrivateFieldLooseBase(this,Me)[Me](s),days:babelHelpers.classPrivateFieldLooseBase(this,$e)[$e](e,s)}}function Ls(){babelHelpers.classPrivateFieldLooseBase(this,os)[os](babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]);babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]()}async function us(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]];const s=e.year;const a=e.month;const l=(a+1)%12;const t=s+Math.floor((a+1)/12);const i=l+1;const r=i+"."+t;babelHelpers.classPrivateFieldLooseBase(this,de)[de][r]=await babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie](t,i);babelHelpers.classPrivateFieldLooseBase(this,je)[je](t,l);const o=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](t,l);babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe].push(o)}async function Hs(e,s){const a=new Date(e,s-1,1);const l=new Date(e,s,0,23,59);const t=await BX.ajax.runAction("calendar.api.sharingajax.getUserAccessibility",{data:{userId:babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].id,timestampFrom:a.getTime(),timestampTo:l.getTime()}});return t.data}function Fs(e){const s=new Date(babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear(),e,1);return i.DateTimeFormat.format("f",s.getTime()/1e3)}function Bs(e,s){const a=[];const l=new Date(e,s+1,0).getDate();const t=s+1+"."+e;for(let r=1;r<=l;r++){var i;const l=new Date(e,s,r);const o=(i=babelHelpers.classPrivateFieldLooseBase(this,ue)[ue][t][l.getDate()])!=null?i:[];const _={value:r,slots:o,weekend:babelHelpers.classPrivateFieldLooseBase(this,ze)[ze](l),enableBooking:o.length>0};const b=new U(_);a.push(b)}return a}function ms(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]].days;let s=e.find((e=>e.getDay()===babelHelpers.classPrivateFieldLooseBase(this,me)[me]));if(s===undefined){s=e[e.length-1]}return s}function fs(e){const s=e.getDate()+"."+("0"+(e.getMonth()+1)).slice(-2);return babelHelpers.classPrivateFieldLooseBase(this,we)[we].weekHolidays.includes(e.getDay())||babelHelpers.classPrivateFieldLooseBase(this,we)[we].yearHolidays[s]!==undefined}function ys(e,s,a,l){const t=a<=e&&e<l;const i=a<s&&s<=l;const r=e<=a&&s>=l;return t||i||r}function gs(){babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]=l.Tag.render(X||(X=V`
			<div class="calendar-sharing__timezone-value">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe](babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]));const e=l.Tag.render(Y||(Y=V`
			<div class="calendar-sharing__timezone">
				${0}
				<div class="calendar-sharing__timezone-area">
					<div class="calendar-sharing__timezone-title">${0}:</div>
					${0}
				</div>
			</div>
		`),l.Browser.isMobile()?babelHelpers.classPrivateFieldLooseBase(this,We)[We]():"",l.Loc.getMessage("CALENDAR_SHARING_YOR_TIME"),babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]);babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]();if(!l.Browser.isMobile()){e.addEventListener("click",(()=>{const s=babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]().getPopupWindow();s.show();const a=s.getContentContainer();const l=a.querySelector(".menu-popup-item.--selected");const t=e.getBoundingClientRect().top+e.offsetHeight/4-a.getBoundingClientRect().top;a.scrollTop=l.offsetTop-t}))}return e}function Es(){var e,s;if((e=babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe])!=null&&e.getPopupWindow().isShown()){return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]}(s=babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe])==null?void 0:s.destroy();const a=Object.keys(babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]).map((e=>({text:babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe](e),className:e===babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]?"menu-popup-no-icon --selected":"menu-popup-no-icon",onclick:()=>{babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve](e);babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].close()}})));babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]=t.MenuManager.create({id:"momomiomsiomx92984j",className:"calendar-sharing-timezone-select-popup",items:a,autoHide:true,maxHeight:window.innerHeight-150});return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]}function ws(){const e=l.Tag.render(q||(q=V`
			<select class="calendar-sharing__timezone-select">
				${0}
			</select>
		`),Object.keys(babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]).map((e=>l.Tag.render(Z||(Z=V`
					<option value="${0}" ${0}>
						${0}
					</option>
				`),e,e===babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]?"selected":"",babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe](e)))));e.addEventListener("change",(()=>babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve](e.value)));return e}function Ts(e){babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=e;babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]=-(babelHelpers.classPrivateFieldLooseBase(this,fe)[fe][babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]].offset/60);o.EventEmitter.emit("updateTimezone",{timezone:e});babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee].innerHTML=babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe](babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]);babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]();this.selectMonthDay()}function Os(e){return`${this.getTimezonePrefix(babelHelpers.classPrivateFieldLooseBase(this,fe)[fe][e].offset)} - ${e}`}function Ds(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].daysOfWeek){const e=babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekdays.map((e=>l.Tag.render(Q||(Q=V`
					<div class="calendar-sharing__month-col --day-of-week">${0}</div>
				`),e)));babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].daysOfWeek=l.Tag.render(J||(J=V`
				<div class="calendar-sharing__month-row">${0}</div>
			`),e)}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].daysOfWeek}function Ns(e={}){var s;e.selected=((s=babelHelpers.classPrivateFieldLooseBase(this,Le)[Le])==null?void 0:s.getDay())===e.value&&e.currentMonth===true;const a=new U(e);return a.render()}function Cs(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]];const s=e.year;const a=e.month;const t=(new Date(s,a,7).getDay()-(babelHelpers.classPrivateFieldLooseBase(this,we)[we].weekStart-1)+7)%7;const i=new Date(s,a+1,0).getDate();const r=a===0?new Date(s-1,11,0).getDate():new Date(s,a,0).getDate();const o=l.Tag.render(ee||(ee=V`<div class="calendar-sharing__month-row"></div>`));let _=r-t+1;for(let e=0;e<t;e++){l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,qe)[qe]({value:_,notCurrentMonth:true}),o);_++}for(let s=0;s<=i-1;s++){const a=e.days[s];l.Dom.append(a.render(),o)}let b=(new Date(s,a,i).getDay()-babelHelpers.classPrivateFieldLooseBase(this,we)[we].weekStart+7)%7;for(_=1;b<6;b++){l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,qe)[qe]({value:_,notCurrentMonth:true}),o);_++}const c=l.Tag.render(se||(se=V`
			<div class="calendar-sharing__month">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye](),o);let d={x:null};let n=e=>{d.x=e.changedTouches[0].clientX};c.addEventListener("touchstart",(e=>{n(e)}));c.addEventListener("touchend",(e=>{if(d.x<e.changedTouches[0].clientX-100){babelHelpers.classPrivateFieldLooseBase(this,rs)[rs]()}if(d.x>e.changedTouches[0].clientX+100){babelHelpers.classPrivateFieldLooseBase(this,is)[is]()}c.style.removeProperty("transform")}));c.addEventListener("touchmove",(e=>{e.preventDefault()}));return c}function ks(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].monthWrapper){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].monthWrapper=l.Tag.render(ae||(ae=V`
				<div class="calendar-sharing__calendar-block --month">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze]())}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].monthWrapper}function js(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].timezoneWrapper){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].timezoneWrapper=l.Tag.render(le||(le=V`
				<div class="calendar-sharing__calendar-block">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]())}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].timezoneWrapper}function Ss(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].currentMonth){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]].name;const s=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]].year;babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].currentMonth=l.Tag.render(te||(te=V`
				<div class="calendar-sharing__calendar-title-day calendar-pub-ui__typography-title">${0}, ${0}</div>
			`),e,s);o.EventEmitter.subscribe(this,"updateCalendar",(()=>{const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]].name;const s=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]].year;babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].currentMonth.innerHTML=`${e}, ${s}`}))}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].currentMonth}function Ks(e){l.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]());const s=babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze]();if(l.Type.isString(e)){l.Dom.addClass(s,`--animate-${e}`);s.addEventListener("animationend",(()=>{l.Dom.removeClass(s,`--animate-${e}`)}),{once:true})}l.Dom.append(s,babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]());o.EventEmitter.emit(this,"updateCalendar");if(babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]===0){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav,"--disabled")}else{l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav,"--disabled")}}function As(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav=l.Tag.render(ie||(ie=V`
				<div class="calendar-sharing__calendar-nav_prev --disabled" title="${0}"></div>
			`),l.Loc.getMessage("CALENDAR_SHARING_NAV_PREV"));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav,"click",babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav}function Is(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].nextNav){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].nextNav=l.Tag.render(re||(re=V`
				<div class="calendar-sharing__calendar-nav_next" title="${0}"></div>
			`),l.Loc.getMessage("CALENDAR_SHARING_NAV_NEXT"));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].nextNav,"click",babelHelpers.classPrivateFieldLooseBase(this,is)[is].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].nextNav}function Ms(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].navigation){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].navigation=l.Tag.render(oe||(oe=V`
				<div class="calendar-sharing__calendar-nav">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,as)[as](),babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]())}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].navigation}async function $s(){if(babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]===babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe].length-1){await babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae]()}babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]+=1;babelHelpers.classPrivateFieldLooseBase(this,os)[os](babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]);o.EventEmitter.emit(this,"clickNextMonth");babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]("next");this.selectMonthDay()}function Rs(){if(babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]===0){return}babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]-=1;babelHelpers.classPrivateFieldLooseBase(this,os)[os](babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]);o.EventEmitter.emit(this,"clickPrevMonth");babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]("prev");this.selectMonthDay()}function zs(e){const s=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][e].year;const a=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][e].month;babelHelpers.classPrivateFieldLooseBase(this,je)[je](s,a);babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]]=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](s,a)}function xs(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].back){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].back=l.Tag.render(_e||(_e=V`
				<div class="calendar-sharing__calendar-back"></div>
			`));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].back,"click",(()=>{o.EventEmitter.emit("hideSlotSelector",this)}))}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].back}function Us(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].wrapper){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].wrapper=l.Tag.render(be||(be=V`
				<div class="calendar-sharing__calendar">
					<div class="calendar-sharing__calendar-bar">
						${0}
						${0}
						${0}
					</div>
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,_s)[_s](),babelHelpers.classPrivateFieldLooseBase(this,es)[es](),babelHelpers.classPrivateFieldLooseBase(this,ts)[ts](),babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe](),babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]())}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].wrapper}let Gs=e=>e,Ws,Vs;var Xs=babelHelpers.classPrivateFieldLooseKey("wrapNode");var Ys=babelHelpers.classPrivateFieldLooseKey("isHiddenOnStart");var qs=babelHelpers.classPrivateFieldLooseKey("getWrapNode");var Zs=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Qs=babelHelpers.classPrivateFieldLooseKey("hide");var Js=babelHelpers.classPrivateFieldLooseKey("show");class ea{constructor(e){Object.defineProperty(this,Js,{value:ta});Object.defineProperty(this,Qs,{value:la});Object.defineProperty(this,Zs,{value:aa});Object.defineProperty(this,qs,{value:sa});Object.defineProperty(this,Xs,{writable:true,value:void 0});Object.defineProperty(this,Ys,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]=null;babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys]=e.isHiddenOnStart;babelHelpers.classPrivateFieldLooseBase(this,Zs)[Zs]()}getContent(){return l.Tag.render(Ws||(Ws=Gs`
			<div></div>
		`))}getType(){return"base"}render(){l.Dom.append(this.getContent(),babelHelpers.classPrivateFieldLooseBase(this,qs)[qs]());return babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]}}function sa(){if(!babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]){babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]=l.Tag.render(Vs||(Vs=Gs`<div class="calendar-pub__slots-wrap"></div>`));if(babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs],"--hidden")}}return babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]}function aa(){o.EventEmitter.subscribe("selectorTypeChange",(e=>{if(e.data!==this.getType()){babelHelpers.classPrivateFieldLooseBase(this,Qs)[Qs]()}else{babelHelpers.classPrivateFieldLooseBase(this,Js)[Js]()}}))}function la(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs],"--hidden")}function ta(){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs],"--hidden")}let ia=e=>e,ra,oa,_a,ba,ca,da,na;var va=babelHelpers.classPrivateFieldLooseKey("layout");var pa=babelHelpers.classPrivateFieldLooseKey("value");var ha=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageMonth");var Pa=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageDay");var La=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageTimeFrom");var ua=babelHelpers.classPrivateFieldLooseKey("getNodeDayInfo");var Ha=babelHelpers.classPrivateFieldLooseKey("getNodeTimeInterval");var Fa=babelHelpers.classPrivateFieldLooseKey("getNodeTimezone");class Ba{constructor(){Object.defineProperty(this,Fa,{value:wa});Object.defineProperty(this,Ha,{value:Ea});Object.defineProperty(this,ua,{value:ga});Object.defineProperty(this,La,{value:ya});Object.defineProperty(this,Pa,{value:fa});Object.defineProperty(this,ha,{value:ma});Object.defineProperty(this,va,{writable:true,value:void 0});Object.defineProperty(this,pa,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,va)[va]={calendarPage:{month:null,day:null,timeFrom:null},dayInfo:null,timeInterval:null,timezone:null};babelHelpers.classPrivateFieldLooseBase(this,pa)[pa]={from:null,to:null,timezone:null}}updateValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timezone=e.timezone}this.updateLayout()}updateLayout(){const e=babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].from.getTime()/1e3;babelHelpers.classPrivateFieldLooseBase(this,La)[La]().innerText=i.DateTimeFormat.format(a.Util.getTimeFormatShort(),e);babelHelpers.classPrivateFieldLooseBase(this,ha)[ha]().innerText=i.DateTimeFormat.format("f",e);babelHelpers.classPrivateFieldLooseBase(this,Pa)[Pa]().innerText=i.DateTimeFormat.format("d",e);babelHelpers.classPrivateFieldLooseBase(this,ua)[ua]().innerText=i.DateTimeFormat.format(a.Util.getDayOfWeekMonthFormat(),e);babelHelpers.classPrivateFieldLooseBase(this,Ha)[Ha]().innerText=a.Util.formatTimeInterval(babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].from,babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].to);babelHelpers.classPrivateFieldLooseBase(this,Fa)[Fa]().innerText=a.Util.getFormattedTimezone(babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timezone);babelHelpers.classPrivateFieldLooseBase(this,Fa)[Fa]().setAttribute("title",a.Util.getFormattedTimezone(babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timezone))}render(){return l.Tag.render(ra||(ra=ia`
				<div class="calendar-pub__form-date">
					<div class="calendar-pub__form-date-day">
						${0}
						<div class="calendar-pub__form-date-content">
							${0}
							${0}
						</div>
					</div>
					<div class="calendar-pub__form-date-info">
						${0}
						${0}
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ha)[ha](),babelHelpers.classPrivateFieldLooseBase(this,Pa)[Pa](),babelHelpers.classPrivateFieldLooseBase(this,La)[La](),babelHelpers.classPrivateFieldLooseBase(this,ua)[ua](),babelHelpers.classPrivateFieldLooseBase(this,Ha)[Ha](),babelHelpers.classPrivateFieldLooseBase(this,Fa)[Fa]())}}function ma(){if(!babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.month){babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.month=l.Tag.render(oa||(oa=ia`
				<div class="calendar-pub__form-date-day_month"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.month}function fa(){if(!babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.day){babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.day=l.Tag.render(_a||(_a=ia`
				<div class="calendar-pub__form-date-day_num"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.day}function ya(){if(!babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.timeFrom){babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.timeFrom=l.Tag.render(ba||(ba=ia`
				<div class="calendar-pub__form-date-day_time">13:00</div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,va)[va].calendarPage.timeFrom}function ga(){if(!babelHelpers.classPrivateFieldLooseBase(this,va)[va].dayInfo){babelHelpers.classPrivateFieldLooseBase(this,va)[va].dayInfo=l.Tag.render(ca||(ca=ia`
				<div class="calendar-pub__form-date-info_day"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,va)[va].dayInfo}function Ea(){if(!babelHelpers.classPrivateFieldLooseBase(this,va)[va].timeInterval){babelHelpers.classPrivateFieldLooseBase(this,va)[va].timeInterval=l.Tag.render(da||(da=ia`
				<div class="calendar-pub__form-date-info_time"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,va)[va].timeInterval}function wa(){if(!babelHelpers.classPrivateFieldLooseBase(this,va)[va].timezone){babelHelpers.classPrivateFieldLooseBase(this,va)[va].timezone=l.Tag.render(na||(na=ia`
				<div class="calendar-pub__form-date-info_time-zone"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,va)[va].timezone}let Ta=e=>e,Oa,Da,Na,Ca,ka,ja,Sa,Ka;var Aa=babelHelpers.classPrivateFieldLooseKey("layout");var Ia=babelHelpers.classPrivateFieldLooseKey("value");var Ma=babelHelpers.classPrivateFieldLooseKey("widgetDate");var $a=babelHelpers.classPrivateFieldLooseKey("owner");var Ra=babelHelpers.classPrivateFieldLooseKey("link");var za=babelHelpers.classPrivateFieldLooseKey("sharingUser");var xa=babelHelpers.classPrivateFieldLooseKey("phoneDb");var Ua=babelHelpers.classPrivateFieldLooseKey("isFromCrm");var Ga=babelHelpers.classPrivateFieldLooseKey("hasContactData");var Wa=babelHelpers.classPrivateFieldLooseKey("isPhoneFeatureEnabled");var Va=babelHelpers.classPrivateFieldLooseKey("isMailFeatureEnabled");var Xa=babelHelpers.classPrivateFieldLooseKey("inputData");var Ya=babelHelpers.classPrivateFieldLooseKey("inputErrors");var qa=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");var Za=babelHelpers.classPrivateFieldLooseKey("getEventName");var Qa=babelHelpers.classPrivateFieldLooseKey("getNodeButtonSend");var Ja=babelHelpers.classPrivateFieldLooseKey("handleSaveButtonClick");var el=babelHelpers.classPrivateFieldLooseKey("saveEvent");var sl=babelHelpers.classPrivateFieldLooseKey("parseDate");var al=babelHelpers.classPrivateFieldLooseKey("validateData");var ll=babelHelpers.classPrivateFieldLooseKey("validatePhone");var tl=babelHelpers.classPrivateFieldLooseKey("validateEmail");var il=babelHelpers.classPrivateFieldLooseKey("clearContactDataError");var rl=babelHelpers.classPrivateFieldLooseKey("clearContactNameError");var ol=babelHelpers.classPrivateFieldLooseKey("showFullContactPlaceholder");var _l=babelHelpers.classPrivateFieldLooseKey("isMailContactOnly");var bl=babelHelpers.classPrivateFieldLooseKey("isPhoneContactOnly");var cl=babelHelpers.classPrivateFieldLooseKey("isCrmAndHasContact");var dl=babelHelpers.classPrivateFieldLooseKey("getNodeWidgetDate");var nl=babelHelpers.classPrivateFieldLooseKey("getNodeFormArea");var vl=babelHelpers.classPrivateFieldLooseKey("getContactDataPlaceholder");var pl=babelHelpers.classPrivateFieldLooseKey("getNodeInputName");var hl=babelHelpers.classPrivateFieldLooseKey("getNodeInputContact");var Pl=babelHelpers.classPrivateFieldLooseKey("getNodeInputDescription");var Ll=babelHelpers.classPrivateFieldLooseKey("getNodeInputError");var ul=babelHelpers.classPrivateFieldLooseKey("renderInputErrors");var Hl=babelHelpers.classPrivateFieldLooseKey("getNodeBack");var Fl=babelHelpers.classPrivateFieldLooseKey("onPhoneInput");var Bl=babelHelpers.classPrivateFieldLooseKey("getTextBeforeCursor");var ml=babelHelpers.classPrivateFieldLooseKey("setCursorToFormattedPosition");var fl=babelHelpers.classPrivateFieldLooseKey("getTextEscapedForRegex");var yl=babelHelpers.classPrivateFieldLooseKey("onPhoneInputKeyDown");var gl=babelHelpers.classPrivateFieldLooseKey("isPhoneTypeInput");var El=babelHelpers.classPrivateFieldLooseKey("isDigit");var wl=babelHelpers.classPrivateFieldLooseKey("isControlKey");var Tl=babelHelpers.classPrivateFieldLooseKey("formatPhone");var Ol=babelHelpers.classPrivateFieldLooseKey("findMask");class Dl extends ea{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,Ol,{value:ct});Object.defineProperty(this,Tl,{value:bt});Object.defineProperty(this,wl,{value:_t});Object.defineProperty(this,El,{value:ot});Object.defineProperty(this,gl,{value:rt});Object.defineProperty(this,yl,{value:it});Object.defineProperty(this,fl,{value:tt});Object.defineProperty(this,ml,{value:lt});Object.defineProperty(this,Bl,{value:at});Object.defineProperty(this,Fl,{value:st});Object.defineProperty(this,Hl,{value:et});Object.defineProperty(this,ul,{value:Jl});Object.defineProperty(this,Ll,{value:Ql});Object.defineProperty(this,Pl,{value:Zl});Object.defineProperty(this,hl,{value:ql});Object.defineProperty(this,pl,{value:Yl});Object.defineProperty(this,vl,{value:Xl});Object.defineProperty(this,nl,{value:Vl});Object.defineProperty(this,dl,{value:Wl});Object.defineProperty(this,cl,{value:Gl});Object.defineProperty(this,bl,{value:Ul});Object.defineProperty(this,_l,{value:xl});Object.defineProperty(this,ol,{value:zl});Object.defineProperty(this,rl,{value:Rl});Object.defineProperty(this,il,{value:$l});Object.defineProperty(this,tl,{value:Ml});Object.defineProperty(this,ll,{value:Il});Object.defineProperty(this,al,{value:Al});Object.defineProperty(this,sl,{value:Kl});Object.defineProperty(this,el,{value:Sl});Object.defineProperty(this,Ja,{value:jl});Object.defineProperty(this,Qa,{value:kl});Object.defineProperty(this,Za,{value:Cl});Object.defineProperty(this,qa,{value:Nl});Object.defineProperty(this,Aa,{writable:true,value:void 0});Object.defineProperty(this,Ia,{writable:true,value:void 0});Object.defineProperty(this,Ma,{writable:true,value:void 0});Object.defineProperty(this,$a,{writable:true,value:void 0});Object.defineProperty(this,Ra,{writable:true,value:void 0});Object.defineProperty(this,za,{writable:true,value:void 0});Object.defineProperty(this,xa,{writable:true,value:void 0});Object.defineProperty(this,Ua,{writable:true,value:void 0});Object.defineProperty(this,Ga,{writable:true,value:void 0});Object.defineProperty(this,Wa,{writable:true,value:void 0});Object.defineProperty(this,Va,{writable:true,value:void 0});Object.defineProperty(this,Xa,{writable:true,value:void 0});Object.defineProperty(this,Ya,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,$a)[$a]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,Ra)[Ra]=e.link;babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma]=new Ba;babelHelpers.classPrivateFieldLooseBase(this,za)[za]=e.sharingUser;babelHelpers.classPrivateFieldLooseBase(this,Ua)[Ua]=e.isFromCrm;babelHelpers.classPrivateFieldLooseBase(this,Ga)[Ga]=e.hasContactData;babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]=e.isPhoneFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]=e.isMailFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa]={wrapper:null,buttonSend:null,widgetDate:null,formArea:null,back:null,calendarPage:{month:null,day:null,timeFrom:null},dayInfo:null,timeInterval:null,timezone:null,inputs:{name:null,contact:null,description:null}};babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia]={from:null,to:null,timezone:null};babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa]={authorName:"",contactData:"",description:""};babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya]={authorNameEmpty:false,contactDataEmpty:false,contactDataIncorrect:false};babelHelpers.classPrivateFieldLooseBase(this,xa)[xa]=null}cleanDescription(){babelHelpers.classPrivateFieldLooseBase(this,Pl)[Pl]().value=null;babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].description=""}getType(){return"form"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,qa)[qa]()}updateFormValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].timezone=e.timezone}this.updateFormLayout()}updateFormLayout(){babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].updateValue(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia])}clearInputErrors(){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl]();babelHelpers.classPrivateFieldLooseBase(this,il)[il]()}}function Nl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].wrapper=l.Tag.render(Oa||(Oa=Ta`
				<div class="calendar-pub__form">
					<div class="calendar-sharing__calendar-bar">
						${0}
						<div class="calendar-sharing__calendar-title-day calendar-pub-ui__typography-title">
							${0}
						</div>
					</div>
					<div class="calendar-sharing__calendar-block">
						${0}
					</div>
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl](),babelHelpers.classPrivateFieldLooseBase(this,Za)[Za](),babelHelpers.classPrivateFieldLooseBase(this,dl)[dl](),babelHelpers.classPrivateFieldLooseBase(this,nl)[nl]())}return babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].wrapper}function Cl(){return l.Loc.getMessage("CALENDAR_SHARING_EVENT_NAME",{"#OWNER_NAME#":babelHelpers.classPrivateFieldLooseBase(this,$a)[$a].name+" "+babelHelpers.classPrivateFieldLooseBase(this,$a)[$a].lastName})}function kl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].buttonSend){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].buttonSend=l.Tag.render(Da||(Da=Ta`
				<div class="calendar-pub-ui__btn">
					<div class="calendar-pub-ui__btn-text">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_CREATE_MEETING"));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].buttonSend,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,Ja)[Ja]()))}return babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].buttonSend}async function jl(){if(l.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].buttonSend,"--wait")){return}l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].buttonSend,"--wait");this.clearInputErrors();if(!babelHelpers.classPrivateFieldLooseBase(this,al)[al]()){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].buttonSend,"--wait");return}const e=await babelHelpers.classPrivateFieldLooseBase(this,el)[el]();if(e){o.EventEmitter.emit("selectorTypeChange","event",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Za)[Za](),from:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].from,to:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].timezone})}l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].buttonSend,"--wait")}async function Sl(){var e,s,a,l;let t=null;try{if(babelHelpers.classPrivateFieldLooseBase(this,Ua)[Ua]){t=await BX.ajax.runAction("calendar.api.sharingajax.saveCrmEvent",{data:{ownerCreated:babelHelpers.classPrivateFieldLooseBase(this,za)[za].ownerCreated,ownerId:babelHelpers.classPrivateFieldLooseBase(this,$a)[$a].id,dateFrom:babelHelpers.classPrivateFieldLooseBase(this,sl)[sl](babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].from),dateTo:babelHelpers.classPrivateFieldLooseBase(this,sl)[sl](babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].to),userName:babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].authorName,userContact:babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData,timezone:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].timezone,crmDealLinkHash:babelHelpers.classPrivateFieldLooseBase(this,Ra)[Ra].hash,description:babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].description}})}else{t=await BX.ajax.runAction("calendar.api.sharingajax.saveEvent",{data:{ownerCreated:babelHelpers.classPrivateFieldLooseBase(this,za)[za].ownerCreated,ownerId:babelHelpers.classPrivateFieldLooseBase(this,$a)[$a].id,userName:babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].authorName,userContact:babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData,dateFrom:babelHelpers.classPrivateFieldLooseBase(this,sl)[sl](babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].from),dateTo:babelHelpers.classPrivateFieldLooseBase(this,sl)[sl](babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].to),timezone:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].timezone,parentLinkHash:babelHelpers.classPrivateFieldLooseBase(this,Ra)[Ra].hash,description:babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].description}})}}catch(e){t=e}if(t.errors.length===0){o.EventEmitter.emit("onSaveEvent",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Za)[Za](),from:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].from,to:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].timezone,eventId:t.data.eventId,eventLinkId:t.data.eventLinkId,eventLinkHash:t.data.eventLinkHash,eventLinkShortUrl:t.data.eventLinkShortUrl,userName:babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].authorName,state:"created",isView:false});return true}if((e=t)!=null&&(s=e.data)!=null&&s.contactDataError||(a=t)!=null&&(l=a.data)!=null&&l.isEmptyContactName){babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataIncorrect=t.data.contactDataError===true;babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorNameEmpty=t.data.isEmptyContactName===true;babelHelpers.classPrivateFieldLooseBase(this,ul)[ul]();return false}o.EventEmitter.emit("onSaveEvent",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Za)[Za](),from:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].from,to:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].timezone,state:"not-created",isView:false});return false}function Kl(e){const s=i.DateTimeFormat.format(a.Util.getDateFormat(),e.getTime()/1e3);const l=i.DateTimeFormat.format(a.Util.getTimeFormat(),e.getTime()/1e3);return s+" "+l}function Al(){if(babelHelpers.classPrivateFieldLooseBase(this,cl)[cl]()){return true}if(babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].authorName.length===0){babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorNameEmpty=true}if(babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData.length===0){babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataEmpty=true}if(!babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataEmpty){babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataIncorrect=!babelHelpers.classPrivateFieldLooseBase(this,ll)[ll]()&&!babelHelpers.classPrivateFieldLooseBase(this,tl)[tl]()}babelHelpers.classPrivateFieldLooseBase(this,ul)[ul]();return!babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorNameEmpty&&!babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataEmpty&&!babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataIncorrect}function Il(){if(babelHelpers.classPrivateFieldLooseBase(this,_l)[_l]()){return false}const e=babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData.replace(/[()\s\-]+/g,"");const s=e.match(/(^\+?\d{4,25}$)/i);return(s==null?void 0:s[0])===e}function Ml(){if(babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()){return false}const e=babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData.match(/(^[^@]+@.+$)/i);return(e==null?void 0:e[0])===babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData}function $l(){babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataEmpty=false;babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataIncorrect=false;babelHelpers.classPrivateFieldLooseBase(this,ul)[ul]()}function Rl(){babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorNameEmpty=false;babelHelpers.classPrivateFieldLooseBase(this,ul)[ul]()}function zl(){return!babelHelpers.classPrivateFieldLooseBase(this,_l)[_l]()&&!babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()}function xl(){return!babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]&&babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]}function Ul(){return babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]&&!babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]}function Gl(){return babelHelpers.classPrivateFieldLooseBase(this,Ua)[Ua]&&babelHelpers.classPrivateFieldLooseBase(this,Ga)[Ga]}function Wl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].widgetDate){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].widgetDate=babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].render()}return babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].widgetDate}function Vl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].formArea){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].nameInputError=babelHelpers.classPrivateFieldLooseBase(this,Ll)[Ll]();babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].contactInputError=babelHelpers.classPrivateFieldLooseBase(this,Ll)[Ll]();babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].formArea=l.Tag.render(Na||(Na=Ta`
				<div class="calendar-sharing__calendar-block --form">
					<div class="calendar-sharing__form-area">
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}<span>*</span></div>
							${0}
						</div>
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}<span>*</span></div>
							${0}
						</div>
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}</div>
						</div>
					</div>
					<div class="calendar-pub__welcome-bottom">
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,pl)[pl](),l.Loc.getMessage("CALENDAR_SHARING_FORM_INPUT_NAME"),babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].nameInputError,babelHelpers.classPrivateFieldLooseBase(this,hl)[hl](),babelHelpers.classPrivateFieldLooseBase(this,vl)[vl](),babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].contactInputError,babelHelpers.classPrivateFieldLooseBase(this,Pl)[Pl](),l.Loc.getMessage("CALENDAR_SHARING_FORM_INPUT_INFO"),babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa]())}return babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].formArea}function Xl(){let e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_PHONE_FEATURE_ENABLED";if(babelHelpers.classPrivateFieldLooseBase(this,_l)[_l]()){e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_PHONE_FEATURE_DISABLED"}if(babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()){e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_MAIL_FEATURE_DISABLED"}return l.Loc.getMessage(e)}function Yl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name){var e;babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name=l.Tag.render(Ca||(Ca=Ta`
				<input type="text" placeholder=" " class="calendar-sharing__form-input-area">
			`));if(babelHelpers.classPrivateFieldLooseBase(this,Ga)[Ga]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name,"--hidden")}else if((e=babelHelpers.classPrivateFieldLooseBase(this,za)[za])!=null&&e.userName){var s;babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name.value=(s=babelHelpers.classPrivateFieldLooseBase(this,za)[za])==null?void 0:s.userName}babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].authorName=babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name.value;l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].authorName=babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name.value}));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name,"focus",babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name}function ql(){if(!babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact=l.Tag.render(ka||(ka=Ta`
				<input type="text" placeholder=" " class="calendar-sharing__form-input-area">
			`));if(babelHelpers.classPrivateFieldLooseBase(this,_l)[_l]()){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.inputMode="email"}if(babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.inputMode="tel"}if(babelHelpers.classPrivateFieldLooseBase(this,Ga)[Ga]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact,"--hidden")}else if(babelHelpers.classPrivateFieldLooseBase(this,za)[za]){if(babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]&&babelHelpers.classPrivateFieldLooseBase(this,za)[za].personalMailbox){var e;babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.value=(e=babelHelpers.classPrivateFieldLooseBase(this,za)[za])==null?void 0:e.personalMailbox}else if(babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]&&babelHelpers.classPrivateFieldLooseBase(this,za)[za].personalPhone){var s;babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.value=(s=babelHelpers.classPrivateFieldLooseBase(this,za)[za])==null?void 0:s.personalPhone}}babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData=babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.value;l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact,"input",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData=babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.value;babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl](e)}));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact,"keydown",babelHelpers.classPrivateFieldLooseBase(this,yl)[yl].bind(this));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact,"focus",babelHelpers.classPrivateFieldLooseBase(this,il)[il].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact}function Zl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.description){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.description=l.Tag.render(ja||(ja=Ta`
				<textarea type="text" placeholder=" " class="calendar-sharing__form-input-area --textarea"></textarea>
			`));babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].description=babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.description.value;l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.description,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].description=babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.description.value}))}return babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.description}function Ql(){return l.Tag.render(Sa||(Sa=Ta`
			<span class="calendar-sharing__form-input-error"></span>
		`))}function Jl(){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name.parentNode,"--error");l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.parentNode,"--error");if(babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorNameEmpty){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.name.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].nameInputError.innerText=l.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_REQUIRED")}if(babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataEmpty){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].contactInputError.innerText=l.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_REQUIRED")}if(babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactDataIncorrect){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].contactInputError.innerText=l.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_INCORRECT")}}function et(){if(!babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].back){babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].back=l.Tag.render(Ka||(Ka=Ta`
				<div class="calendar-sharing__calendar-back"></div>
			`));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].back,"click",(()=>{o.EventEmitter.emit("selectorTypeChange","slot-list")}))}return babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].back}function st(){babelHelpers.classPrivateFieldLooseBase(this,il)[il]();if(!babelHelpers.classPrivateFieldLooseBase(this,gl)[gl]()){return}const e=babelHelpers.classPrivateFieldLooseBase(this,Bl)[Bl](babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact);babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData=babelHelpers.classPrivateFieldLooseBase(this,Tl)[Tl](babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData);babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact.value=babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa].contactData;babelHelpers.classPrivateFieldLooseBase(this,ml)[ml](babelHelpers.classPrivateFieldLooseBase(this,Aa)[Aa].inputs.contact,e)}function at(e){const s=e.selectionStart;return e.value.slice(0,s)}function lt(e,s){const a=babelHelpers.classPrivateFieldLooseBase(this,fl)[fl](s.slice(0,-1));const l=babelHelpers.classPrivateFieldLooseBase(this,fl)[fl](s.slice(-1));const t=e.value.match(`${a}.*?${l}`);if(!t){return}const i=t[0];const r=e.value.indexOf(i)+i.length;e.setSelectionRange(r,r)}function tt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function it(e){if(!babelHelpers.classPrivateFieldLooseBase(this,gl)[gl]()){return}if(!babelHelpers.classPrivateFieldLooseBase(this,El)[El](e.key)&&!babelHelpers.classPrivateFieldLooseBase(this,wl)[wl](e.key)&&!a.Util.isAnyModifierKeyPressed(e)){e.preventDefault()}}function rt(){return babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()||babelHelpers.classPrivateFieldLooseBase(this,ol)[ol]()&&this.contactData.slice(0,1)==="+"}function ot(e){return/^\d+$/.test(e)}function _t(e){return["Esc","Delete","Backspace","Tab"].indexOf(e)>=0||e.includes("Arrow")}function bt(e){var s;(s=e)!=null?s:e="";let a=e.indexOf("+")===0;e=e.replace(/\D/g,"");if(!a&&e.substr(0,1)==="8"){e="7"+e.substr(1)}if(!babelHelpers.classPrivateFieldLooseBase(this,xa)[xa]){babelHelpers.classPrivateFieldLooseBase(this,xa)[xa]="247,ac,___-____|376,ad,___-___-___|971,ae,___-_-___-____|93,af,__-__-___-____|1268,ag,_ (___) ___-____|1264,ai,_ (___) ___-____|355,al,___ (___) ___-___|374,am,___-__-___-___|599,bq,___-___-____|244,ao,___ (___) ___-___|6721,aq,___-___-___|54,ar,__ (___) ___-____|1684,as,_ (___) ___-____|43,at,__ (___) ___-____|61,au,__-_-____-____|297,aw,___-___-____|994,az,___ (__) ___-__-__|387,ba,___-__-____|1246,bb,_ (___) ___-____|880,bd,___-__-___-___|32,be,__ (___) ___-___|226,bf,___-__-__-____|359,bg,___ (___) ___-___|973,bh,___-____-____|257,bi,___-__-__-____|229,bj,___-__-__-____|1441,bm,_ (___) ___-____|673,bn,___-___-____|591,bo,___-_-___-____|55,br,__-(__)-____-____|1242,bs,_ (___) ___-____|975,bt,___-_-___-___|267,bw,___-__-___-___|375,by,___ (__) ___-__-__|501,bz,___-___-____|243,cd,___ (___) ___-___|236,cf,___-__-__-____|242,cg,___-__-___-____|41,ch,__-__-___-____|225,ci,___-__-___-___|682,ck,___-__-___|56,cl,__-_-____-____|237,cm,___-____-____|86,cn,__ (___) ____-___|57,co,__ (___) ___-____|506,cr,___-____-____|53,cu,__-_-___-____|238,cv,___ (___) __-__|357,cy,___-__-___-___|420,cz,___ (___) ___-___|49,de,__-___-___|253,dj,___-__-__-__-__|45,dk,__-__-__-__-__|1767,dm,_ (___) ___-____|1809,do,_ (___) ___-____|,do,_ (___) ___-____|213,dz,___-__-___-____|593,ec,___-_-___-____|372,ee,___-___-____|20,eg,__ (___) ___-____|291,er,___-_-___-___|34,es,__ (___) ___-___|251,et,___-__-___-____|358,fi,___ (___) ___-__-__|679,fj,___-__-_____|500,fk,___-_____|691,fm,___-___-____|298,fo,___-___-___|262,fr,___-_____-____|33,fr,__ (___) ___-___|508,fr,___-__-____|590,fr,___ (___) ___-___|241,ga,___-_-__-__-__|1473,gd,_ (___) ___-____|995,ge,___ (___) ___-___|594,gf,___-_____-____|233,gh,___ (___) ___-___|350,gi,___-___-_____|299,gl,___-__-__-__|220,gm,___ (___) __-__|224,gn,___-__-___-___|240,gq,___-__-___-____|30,gr,__ (___) ___-____|502,gt,___-_-___-____|1671,gu,_ (___) ___-____|245,gw,___-_-______|592,gy,___-___-____|852,hk,___-____-____|504,hn,___-____-____|385,hr,___-__-___-___|509,ht,___-__-__-____|36,hu,__ (___) ___-___|62,id,__-__-___-__|353,ie,___ (___) ___-___|972,il,___-_-___-____|91,in,__ (____) ___-___|246,io,___-___-____|964,iq,___ (___) ___-____|98,ir,__ (___) ___-____|354,is,___-___-____|39,it,__ (___) ____-___|1876,jm,_ (___) ___-____|962,jo,___-_-____-____|81,jp,__ (___) ___-___|254,ke,___-___-______|996,kg,___ (___) ___-___|855,kh,___ (__) ___-___|686,ki,___-__-___|269,km,___-__-_____|1869,kn,_ (___) ___-____|850,kp,___-___-___|82,kr,__-__-___-____|965,kw,___-____-____|1345,ky,_ (___) ___-____|77,kz,_ (___) ___-__-__|856,la,___-__-___-___|961,lb,___-_-___-___|1758,lc,_ (___) ___-____|423,li,___ (___) ___-____|94,lk,__-__-___-____|231,lr,___-__-___-___|266,ls,___-_-___-____|370,lt,___ (___) __-___|352,lu,___ (___) ___-___|371,lv,___-__-___-___|218,ly,___-__-___-___|212,ma,___-__-____-___|377,mc,___-__-___-___|373,md,___-____-____|382,me,___-__-___-___|261,mg,___-__-__-_____|692,mh,___-___-____|389,mk,___-__-___-___|223,ml,___-__-__-____|95,mm,__-___-___|976,mn,___-__-__-____|853,mo,___-____-____|1670,mp,_ (___) ___-____|596,mq,___ (___) __-__-__|222,mr,___ (__) __-____|1664,ms,_ (___) ___-____|356,mt,___-____-____|230,mu,___-___-____|960,mv,___-___-____|265,mw,___-_-____-____|52,mx,__-__-__-____|60,my,__-_-___-___|258,mz,___-__-___-___|264,na,___-__-___-____|687,nc,___-__-____|227,ne,___-__-__-____|6723,nf,___-___-___|234,ng,___-__-___-__|505,ni,___-____-____|31,nl,__-__-___-____|47,no,__ (___) __-___|977,np,___-__-___-___|674,nr,___-___-____|683,nu,___-____|64,nz,__-__-___-___|968,om,___-__-___-___|507,pa,___-___-____|51,pe,__ (___) ___-___|689,pf,___-__-__-__|675,pg,___ (___) __-___|63,ph,__ (___) ___-____|92,pk,__ (___) ___-____|48,pl,__ (___) ___-___|970,ps,___-__-___-____|351,pt,___-__-___-____|680,pw,___-___-____|595,py,___ (___) ___-___|974,qa,___-____-____|40,ro,__-__-___-____|381,rs,___-__-___-____|7,ru,_ (___) ___-__-__|250,rw,___ (___) ___-___|966,sa,___-_-___-____|677,sb,___-_____|248,sc,___-_-___-___|249,sd,___-__-___-____|46,se,__-__-___-____|65,sg,__-____-____|386,si,___-__-___-___|421,sk,___ (___) ___-___|232,sl,___-__-______|378,sm,___-____-______|221,sn,___-__-___-____|252,so,___-_-___-___|597,sr,___-___-___|211,ss,___-__-___-____|239,st,___-__-_____|503,sv,___-__-__-____|1721,sx,_ (___) ___-____|963,sy,___-__-____-___|268,sz,___ (__) __-____|1649,tc,_ (___) ___-____|235,td,___-__-__-__-__|228,tg,___-__-___-___|66,th,__-__-___-___|992,tj,___-__-___-____|690,tk,___-____|670,tl,___-___-____|993,tm,___-_-___-____|216,tn,___-__-___-___|676,to,___-_____|90,tr,__ (___) ___-____|1868,tt,_ (___) ___-____|688,tv,___-_____|886,tw,___-____-____|255,tz,___-__-___-____|380,ua,___ (__) ___-__-__|256,ug,___ (___) ___-___|44,gb,__-__-____-____|598,uy,___-_-___-__-__|998,uz,___-__-___-____|396698,va,__-_-___-_____|1784,vc,_ (___) ___-____|58,ve,__ (___) ___-____|1284,vg,_ (___) ___-____|1340,vi,_ (___) ___-____|84,vn,__-__-____-___|678,vu,___-_____|681,wf,___-__-____|685,ws,___-__-____|967,ye,___-_-___-___|27,za,__-__-___-____|260,zm,___ (__) ___-____|263,zw,___-_-______|1,us,_ (___) ___-____|".split("|").map((e=>{e=e.split(",");return{code:e[0],id:e[1],mask:e[2]}}))}if(e.length>0){let s=babelHelpers.classPrivateFieldLooseBase(this,Ol)[Ol](e);s+=((s.indexOf("-")>=0?"-":" ")+"__").repeat(10);for(let a=0;a<e.length;a++){s=s.replace("_",e.slice(a,a+1))}e=s.replace(/\D+$/,"").replace(/_/g,"0")}if(a||e.length>0){e="+"+e}return e}function ct(e){let s=babelHelpers.classPrivateFieldLooseBase(this,xa)[xa].filter((s=>e.indexOf(s.code)===0)).sort(((e,s)=>s.code.length-e.code.length))[0];return s?s.mask:"_ ___ __ __ __"}let dt=e=>e,nt;var vt=babelHelpers.classPrivateFieldLooseKey("layout");var pt=babelHelpers.classPrivateFieldLooseKey("bindEvents");var ht=babelHelpers.classPrivateFieldLooseKey("getNodeEmptyState");class Pt extends ea{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,ht,{value:ut});Object.defineProperty(this,pt,{value:Lt});Object.defineProperty(this,vt,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,vt)[vt]={content:null};babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]()}getType(){return"empty-state"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,ht)[ht]()}}function Lt(){}function ut(){if(!babelHelpers.classPrivateFieldLooseBase(this,vt)[vt].content){babelHelpers.classPrivateFieldLooseBase(this,vt)[vt].content=l.Tag.render(nt||(nt=dt`
				<div class="calendar-pub__slots-empty">
					<div class="calendar-pub__slots-empty_title">${0}</div>
					<div class="calendar-pub__slots-empty_info">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_EMPTY"),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_EMPTY_INFO"))}return babelHelpers.classPrivateFieldLooseBase(this,vt)[vt].content}let Ht=e=>e,Ft;var Bt=babelHelpers.classPrivateFieldLooseKey("layout");var mt=babelHelpers.classPrivateFieldLooseKey("bindEvents");var ft=babelHelpers.classPrivateFieldLooseKey("getNodeEmptyState");class yt extends ea{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,ft,{value:Et});Object.defineProperty(this,mt,{value:gt});Object.defineProperty(this,Bt,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Bt)[Bt]={content:null};babelHelpers.classPrivateFieldLooseBase(this,mt)[mt]()}getType(){return"access-denied"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,ft)[ft]()}}function gt(){}function Et(){if(!babelHelpers.classPrivateFieldLooseBase(this,Bt)[Bt].content){babelHelpers.classPrivateFieldLooseBase(this,Bt)[Bt].content=l.Tag.render(Ft||(Ft=Ht`
				<div class="calendar-pub__slots-empty --icon-cross">
					<div class="calendar-pub__slots-empty_title">${0}</div>
					<div class="calendar-pub__slots-empty_info">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED"),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED_INFO"))}return babelHelpers.classPrivateFieldLooseBase(this,Bt)[Bt].content}let wt=e=>e,Tt,Ot,Dt;var Nt=babelHelpers.classPrivateFieldLooseKey("layout");var Ct=babelHelpers.classPrivateFieldLooseKey("selected");var kt=babelHelpers.classPrivateFieldLooseKey("value");var jt=babelHelpers.classPrivateFieldLooseKey("bindEvents");var St=babelHelpers.classPrivateFieldLooseKey("getNodeSelect");var Kt=babelHelpers.classPrivateFieldLooseKey("getNodeValue");var At=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class It{constructor(e){Object.defineProperty(this,At,{value:zt});Object.defineProperty(this,Kt,{value:Rt});Object.defineProperty(this,St,{value:$t});Object.defineProperty(this,jt,{value:Mt});Object.defineProperty(this,Nt,{writable:true,value:void 0});Object.defineProperty(this,Ct,{writable:true,value:void 0});Object.defineProperty(this,kt,{writable:true,value:void 0});this.BUTTON_MAX_WIDTH=123;babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct]=null;babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt]={wrapper:null,value:null,select:null};babelHelpers.classPrivateFieldLooseBase(this,kt)[kt]=e.value;babelHelpers.classPrivateFieldLooseBase(this,jt)[jt]()}isSelected(){return babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct]}select(){babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct]=true;l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,At)[At](),"--selected");o.EventEmitter.emit("selectSlot",this)}unSelect(){babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct]=null;l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,At)[At](),"--selected")}showForm(){o.EventEmitter.emit("confirmedSelectSlot",{value:babelHelpers.classPrivateFieldLooseBase(this,kt)[kt]})}render(){return babelHelpers.classPrivateFieldLooseBase(this,At)[At]()}}function Mt(){l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,At)[At](),"click",this.select.bind(this));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,St)[St](),"click",this.showForm.bind(this))}function $t(){if(!babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].select){babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].select=l.Tag.render(Tt||(Tt=wt`
				<div class="calendar-sharing__slot-select">${0}</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SELECT_SLOT"));document.body.append(babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].select);if(babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].select.offsetWidth>this.BUTTON_MAX_WIDTH){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].select,"--compact")}babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].select.remove()}return babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].select}function Rt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].value){let e=a.Util.formatTimeInterval(babelHelpers.classPrivateFieldLooseBase(this,kt)[kt].from,babelHelpers.classPrivateFieldLooseBase(this,kt)[kt].to);e=e.replace(/(am|pm)/g,`<span class="calendar-sharing-am-pm">$1</span>`);babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].value=l.Tag.render(Ot||(Ot=wt`
				<div class="calendar-sharing__slot-value">${0}</div>
			`),e)}return babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].value}function zt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].wrapper=l.Tag.render(Dt||(Dt=wt`
				<div class="calendar-sharing__slot-item">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Kt)[Kt](),babelHelpers.classPrivateFieldLooseBase(this,St)[St]())}return babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt].wrapper}let xt=e=>e,Ut,Gt,Wt,Vt;var Xt=babelHelpers.classPrivateFieldLooseKey("layout");var Yt=babelHelpers.classPrivateFieldLooseKey("slots");var qt=babelHelpers.classPrivateFieldLooseKey("selectedSlot");var Zt=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Qt=babelHelpers.classPrivateFieldLooseKey("getNodeSlotList");var Jt=babelHelpers.classPrivateFieldLooseKey("getNodeTitle");var ei=babelHelpers.classPrivateFieldLooseKey("getNodeList");var si=babelHelpers.classPrivateFieldLooseKey("getNodeListItems");class ai extends ea{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,si,{value:oi});Object.defineProperty(this,ei,{value:ri});Object.defineProperty(this,Jt,{value:ii});Object.defineProperty(this,Qt,{value:ti});Object.defineProperty(this,Zt,{value:li});Object.defineProperty(this,Xt,{writable:true,value:void 0});Object.defineProperty(this,Yt,{writable:true,value:void 0});Object.defineProperty(this,qt,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt]={title:null,list:null};babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt]=[];babelHelpers.classPrivateFieldLooseBase(this,Zt)[Zt]()}getType(){return"slot-list"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Qt)[Qt]()}updateSlotsList(){l.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,ei)[ei]());const e=babelHelpers.classPrivateFieldLooseBase(this,si)[si]();l.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,ei)[ei]());l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ei)[ei](),"--shadow-top");l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ei)[ei](),"--shadow-bottom")}}function li(){o.EventEmitter.subscribe("updateSlotsList",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt]=e.data.slots;this.updateSlotsList()}));o.EventEmitter.subscribe("selectSlot",(e=>{const s=e.data;if(babelHelpers.classPrivateFieldLooseBase(this,qt)[qt]!==s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,qt)[qt])==null?void 0:a.unSelect()}babelHelpers.classPrivateFieldLooseBase(this,qt)[qt]=s}))}function ti(){if(!babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].slotSelector){babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].slotSelector=l.Tag.render(Ut||(Ut=xt`
				<div class="calendar-pub__slot-list-wrap">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Jt)[Jt](),babelHelpers.classPrivateFieldLooseBase(this,ei)[ei]())}return babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].slotSelector}function ii(){if(!babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].title){babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].title=l.Tag.render(Gt||(Gt=xt`
				<div class="calendar-sharing__calendar-bar">
					<div class="calendar-pub-ui__typography-m">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_FREE"))}return babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].title}function ri(){if(!babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].slots){babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].slots=l.Tag.render(Wt||(Wt=xt`
				<div class="calendar-sharing__calendar-block --overflow-hidden --shadow">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,si)[si]())}return babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt].slots}function oi(){const e=babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].map((e=>new It({value:{from:e.timeFrom,to:e.timeTo}})));const s=l.Tag.render(Vt||(Vt=xt`
			<div class="calendar-sharing__slots">
				${0}
			</div>
		`),e.map((e=>e.render())));s.addEventListener("scroll",(()=>{if(s.scrollTop>0){babelHelpers.classPrivateFieldLooseBase(this,ei)[ei]().classList.add("--shadow-top")}else{babelHelpers.classPrivateFieldLooseBase(this,ei)[ei]().classList.remove("--shadow-top")}if(s.scrollHeight>s.offsetHeight&&Math.ceil(s.offsetHeight+s.scrollTop)<s.scrollHeight){babelHelpers.classPrivateFieldLooseBase(this,ei)[ei]().classList.add("--shadow-bottom")}else{babelHelpers.classPrivateFieldLooseBase(this,ei)[ei]().classList.remove("--shadow-bottom")}}));setTimeout((()=>{if(s.scrollHeight>s.offsetHeight){babelHelpers.classPrivateFieldLooseBase(this,ei)[ei]().classList.add("--shadow-bottom")}}));return s}let _i=e=>e,bi,ci,di,ni,vi,pi,hi,Pi,Li,ui,Hi,Fi,Bi,mi,fi,yi,gi,Ei;var wi=babelHelpers.classPrivateFieldLooseKey("event");var Ti=babelHelpers.classPrivateFieldLooseKey("owner");var Oi=babelHelpers.classPrivateFieldLooseKey("currentTimezone");var Di=babelHelpers.classPrivateFieldLooseKey("icsFile");var Ni=babelHelpers.classPrivateFieldLooseKey("widgetDate");var Ci=babelHelpers.classPrivateFieldLooseKey("layout");var ki=babelHelpers.classPrivateFieldLooseKey("value");var ji=babelHelpers.classPrivateFieldLooseKey("state");var Si=babelHelpers.classPrivateFieldLooseKey("inDeletedSlider");var Ki=babelHelpers.classPrivateFieldLooseKey("isView");var Ai=babelHelpers.classPrivateFieldLooseKey("showBackCalendarButtons");var Ii=babelHelpers.classPrivateFieldLooseKey("getWidgetDate");var Mi=babelHelpers.classPrivateFieldLooseKey("initEventData");var $i=babelHelpers.classPrivateFieldLooseKey("updateState");var Ri=babelHelpers.classPrivateFieldLooseKey("getNodeIcon");var zi=babelHelpers.classPrivateFieldLooseKey("getNodeBackWrapper");var xi=babelHelpers.classPrivateFieldLooseKey("createIconByState");var Ui=babelHelpers.classPrivateFieldLooseKey("getIconClassByState");var Gi=babelHelpers.classPrivateFieldLooseKey("getEventNameNode");var Wi=babelHelpers.classPrivateFieldLooseKey("getStateTitleNode");var Vi=babelHelpers.classPrivateFieldLooseKey("getStateTitleTextByState");var Xi=babelHelpers.classPrivateFieldLooseKey("getAdditionalBlockNode");var Yi=babelHelpers.classPrivateFieldLooseKey("createAdditionalBlockContentByState");var qi=babelHelpers.classPrivateFieldLooseKey("getBottomButtonNode");var Zi=babelHelpers.classPrivateFieldLooseKey("createBottomButtonByState");var Qi=babelHelpers.classPrivateFieldLooseKey("onIcsButtonClick");var Ji=babelHelpers.classPrivateFieldLooseKey("onVideoconferenceButtonClick");var er=babelHelpers.classPrivateFieldLooseKey("onReturnButtonClick");var sr=babelHelpers.classPrivateFieldLooseKey("getNodeWidgetDate");var ar=babelHelpers.classPrivateFieldLooseKey("getEventName");class lr extends ea{constructor(e){var s;super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,ar,{value:mr});Object.defineProperty(this,sr,{value:Br});Object.defineProperty(this,er,{value:Fr});Object.defineProperty(this,Ji,{value:Hr});Object.defineProperty(this,Qi,{value:ur});Object.defineProperty(this,Zi,{value:Lr});Object.defineProperty(this,qi,{value:Pr});Object.defineProperty(this,Yi,{value:hr});Object.defineProperty(this,Xi,{value:pr});Object.defineProperty(this,Vi,{value:vr});Object.defineProperty(this,Wi,{value:nr});Object.defineProperty(this,Gi,{value:dr});Object.defineProperty(this,Ui,{value:cr});Object.defineProperty(this,xi,{value:br});Object.defineProperty(this,zi,{value:_r});Object.defineProperty(this,Ri,{value:or});Object.defineProperty(this,$i,{value:rr});Object.defineProperty(this,Mi,{value:ir});Object.defineProperty(this,Ii,{value:tr});Object.defineProperty(this,wi,{writable:true,value:void 0});Object.defineProperty(this,Ti,{writable:true,value:void 0});Object.defineProperty(this,Oi,{writable:true,value:void 0});Object.defineProperty(this,Di,{writable:true,value:void 0});Object.defineProperty(this,Ni,{writable:true,value:void 0});Object.defineProperty(this,Ci,{writable:true,value:void 0});Object.defineProperty(this,ki,{writable:true,value:void 0});Object.defineProperty(this,ji,{writable:true,value:void 0});Object.defineProperty(this,Si,{writable:true,value:void 0});Object.defineProperty(this,Ki,{writable:true,value:void 0});Object.defineProperty(this,Ai,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ji)[ji]=e.state;babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]=e.isView;babelHelpers.classPrivateFieldLooseBase(this,wi)[wi]=e.event;babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi]=(s=e.timezone)!=null?s:Intl.DateTimeFormat().resolvedOptions().timeZone;babelHelpers.classPrivateFieldLooseBase(this,Ni)[Ni]=babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii]();babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci]={back:null,widgetDate:null,eventName:null,icon:null,stateTitle:null,additionalBlock:null,bottomButton:null};babelHelpers.classPrivateFieldLooseBase(this,ki)[ki]={from:null,to:null,timezone:null,canceledTimestamp:null,canceledUserName:null,eventName:null,canceledByManager:e.canceledByManager,eventLinkHash:e.eventLinkHash,eventId:e.eventId};babelHelpers.classPrivateFieldLooseBase(this,Di)[Di]=null;babelHelpers.classPrivateFieldLooseBase(this,Si)[Si]=e.inDeletedSlider===true;babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai]=e.showBackCalendarButtons;if(babelHelpers.classPrivateFieldLooseBase(this,wi)[wi]){babelHelpers.classPrivateFieldLooseBase(this,Mi)[Mi]()}if(e.action==="cancel"){setTimeout(this.showCancelEventPopup.bind(this),0)}if(e.action==="ics"){this.downloadIcsFile()}if(e.action==="videoconference"){this.startVideoconference()}}getType(){return"event"}updateValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].timezone=e.timezone}if(e.eventLinkHash){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventLinkHash=e.eventLinkHash}if(e.eventName){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventName=e.eventName}if(e.state){babelHelpers.classPrivateFieldLooseBase(this,$i)[$i](e.state)}if(e.isView){babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]=false}if(e.eventId){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventId=e.eventId}if(e.userName){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledUserName=e.userName}if(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledByManager===true){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledByManager=false}this.updateFormLayout()}updateFormLayout(){babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii]().updateValue(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki]);babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi]().innerText=babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventName}getContent(){return l.Tag.render(bi||(bi=_i`
			<div class="calendar-sharing__form-result">
				${0}
				<div class="calendar-sharing__calendar-block --form --center">
					${0}
					${0}
					${0}
				</div>
				
				<div class="calendar-sharing__calendar-block --form --center">
					${0}
				</div>
				
				<div class="calendar-sharing__calendar-block --form --center">
					${0}
				</div>
				
				<div class="calendar-sharing__calendar-block --top-auto">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,zi)[zi](),babelHelpers.classPrivateFieldLooseBase(this,Ri)[Ri](),babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi](),babelHelpers.classPrivateFieldLooseBase(this,Wi)[Wi](),babelHelpers.classPrivateFieldLooseBase(this,sr)[sr](),babelHelpers.classPrivateFieldLooseBase(this,Xi)[Xi](),babelHelpers.classPrivateFieldLooseBase(this,qi)[qi]())}getPopup(){if(!this.popup){const e=l.Tag.render(ci||(ci=_i`
				<div>
					<div class="calendar-pub__cookies-title">${0}</div>
					<div class="calendar-pub__cookies-info">${0}</div>
					<div class="calendar-pub__cookies-buttons ${0}">
						<div onclick="${0}" class="calendar-pub-ui__btn --inline --m --light-border">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
						<div onclick="${0}" class="calendar-pub-ui__btn --inline --m --secondary">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
					</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_POPUP_MEETING_CANCELED"),l.Loc.getMessage("CALENDAR_SHARING_POPUP_MEETING_CANCELED_INFO"),l.Browser.isMobile()?"--center":"--flex-end",this.closeCancelEventPopup.bind(this),l.Loc.getMessage("CALENDAR_SHARING_POPUP_LEAVE"),this.handleDeleteButtonClick.bind(this),l.Loc.getMessage("CALENDAR_SHARING_POPUP_CANCEL"));if(l.Browser.isMobile()){this.popup=new r.BottomSheet({className:"calendar-pub__state",content:e,padding:"20px 25px"})}else{this.popup=new t.Popup({className:"calendar-pub__popup",contentBackground:"transparent",width:380,animation:"fading-slide",content:e,overlay:true})}}return this.popup}showCancelEventPopup(){this.getPopup().show()}closeCancelEventPopup(){this.getPopup().close()}async handleDeleteButtonClick(){this.closeCancelEventPopup();const e=await this.deleteEvent();if(e){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledTimestamp=(new Date).getTime()/1e3;babelHelpers.classPrivateFieldLooseBase(this,$i)[$i]("declined");o.EventEmitter.emit("onDeleteEvent")}}async deleteEvent(){let e=null;try{e=await BX.ajax.runAction("calendar.api.sharingajax.deleteEvent",{data:{eventId:babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventId,eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventLinkHash}})}catch(s){e=s}return e.errors.length===0}async startVideoconference(){var e,s;let a=null;try{a=await BX.ajax.runAction("calendar.api.sharingajax.getConferenceLink",{data:{eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventLinkHash}})}catch(e){console.error(e)}const l=(e=a)==null?void 0:(s=e.data)==null?void 0:s.conferenceLink;if(l){window.location.href=l}}async downloadIcsFile(){if(!babelHelpers.classPrivateFieldLooseBase(this,Di)[Di]){const e=await BX.ajax.runAction("calendar.api.sharingajax.getIcsFileContent",{data:{eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventLinkHash}});this.icsFile=e.data}a.Util.downloadIcsFile(this.icsFile,"event")}}function tr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ni)[Ni]){babelHelpers.classPrivateFieldLooseBase(this,Ni)[Ni]=new Ba}return babelHelpers.classPrivateFieldLooseBase(this,Ni)[Ni]}function ir(){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].from=a.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,wi)[wi].timestampFromUTC)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi]);babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].to=a.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,wi)[wi].timestampToUTC)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi]);babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].timezone=babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi];babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventName=babelHelpers.classPrivateFieldLooseBase(this,ar)[ar]();babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledTimestamp=babelHelpers.classPrivateFieldLooseBase(this,wi)[wi].canceledTimestamp;babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledUserName=babelHelpers.classPrivateFieldLooseBase(this,wi)[wi].externalUserName;this.updateFormLayout()}function rr(e){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji]=e;l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ri)[Ri](),["--accept","--decline"]);l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ri)[Ri](),babelHelpers.classPrivateFieldLooseBase(this,Ui)[Ui](e));babelHelpers.classPrivateFieldLooseBase(this,Wi)[Wi]().innerText=babelHelpers.classPrivateFieldLooseBase(this,Vi)[Vi](e);let s=babelHelpers.classPrivateFieldLooseBase(this,Xi)[Xi]();let a=babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](e);babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].additionalBlock=a;l.Dom.replace(s,a);s=babelHelpers.classPrivateFieldLooseBase(this,qi)[qi]();a=babelHelpers.classPrivateFieldLooseBase(this,Zi)[Zi](e);babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].bottomButton=a;l.Dom.replace(s,a)}function or(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].icon){babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].icon=babelHelpers.classPrivateFieldLooseBase(this,xi)[xi](babelHelpers.classPrivateFieldLooseBase(this,ji)[ji])}return babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].icon}function _r(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].back){if(babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai]){babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].back=l.Tag.render(di||(di=_i`
					<div class="calendar-sharing__calendar-bar --arrow">
						<div class="calendar-sharing__calendar-back" onclick="${0}"></div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,er)[er].bind(this))}else{babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].back=l.Tag.render(ni||(ni=_i`<div class="calendar-sharing__calendar-bar --no-margin"></div>`))}}return babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].back}function br(e){let s=l.Tag.render(vi||(vi=_i`
			<div class="calendar-sharing__form-result_icon"></div>
		`));l.Dom.addClass(s,babelHelpers.classPrivateFieldLooseBase(this,Ui)[Ui](e));return s}function cr(e){let s="";switch(e){case"created":s="--accept";break;case"not-created":s="--decline";break;case"declined":s="--decline";break}return s}function dr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].eventName){babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].eventName=l.Tag.render(pi||(pi=_i`
				<div class="calendar-pub-ui__typography-title --center --line-height-normal">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventName)}return babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].eventName}function nr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].stateTitle){babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].stateTitle=l.Tag.render(hi||(hi=_i`
				<div class="calendar-pub-ui__typography-s --center"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].stateTitle.innerText=babelHelpers.classPrivateFieldLooseBase(this,Vi)[Vi](babelHelpers.classPrivateFieldLooseBase(this,ji)[ji])}return babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].stateTitle}function vr(e){let s="";switch(e){case"created":if(!babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]){s=l.Loc.getMessage("CALENDAR_SHARING_MEETING_CREATED")}break;case"not-created":s=l.Loc.getMessage("CALENDAR_SHARING_MEETING_NOT_CREATED");break;case"declined":s=l.Loc.getMessage("CALENDAR_SHARING_MEETING_CANCELED");break}return s}function pr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].additionalBlock){babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].additionalBlock=babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](babelHelpers.classPrivateFieldLooseBase(this,ji)[ji])}return babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].additionalBlock}function hr(e){let s="";if(babelHelpers.classPrivateFieldLooseBase(this,Si)[Si]){const e=a.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledTimestamp)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi]);if(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledTimestamp&&babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledUserName&&e){s=l.Tag.render(Pi||(Pi=_i`
						<div class="calendar-pub__form-status">
							<div class="calendar-pub__form-status_text">
								${0}: <a href="/company/personal/user/${0}/" target="_blank" class="calendar-sharing-deletedviewform_open-profile">${0}</a>
								<br>
								${0}
							</div>
						</div>
					`),l.Loc.getMessage("CALENDAR_SHARING_WHO_CANCELED"),babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].id,l.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledUserName),i.DateTimeFormat.format("j F "+a.Util.getTimeFormatShort(),e.getTime()/1e3))}else{s=l.Tag.render(Li||(Li=_i`
						<div></div>
					`))}return s}switch(e){case"created":s=l.Tag.render(ui||(ui=_i`
					<div onclick="${0}" class="calendar-pub__form-status --decline">
						<div class="calendar-pub__form-status_text">
							${0}
						</div>
					</div>
				`),this.showCancelEventPopup.bind(this),l.Loc.getMessage("CALENDAR_SHARING_DECLINE_MEETING"));break;case"not-created":s=l.Tag.render(Hi||(Hi=_i`
					<div></div>
				`));break;case"declined":const e=a.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledTimestamp)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi]);if(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledByManager){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledUserName=babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].name+" "+babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].lastName}if(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledTimestamp&&babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledUserName&&e){s=l.Tag.render(Fi||(Fi=_i`
						<div class="calendar-pub__form-status">
							<div class="calendar-pub__form-status_text">
								${0}: ${0}<br> ${0}
							</div>
						</div>
					`),l.Loc.getMessage("CALENDAR_SHARING_WHO_CANCELED"),l.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].canceledUserName),i.DateTimeFormat.format("j F "+a.Util.getTimeFormatShort(),e.getTime()/1e3))}else{s=l.Tag.render(Bi||(Bi=_i`
						<div></div>
					`))}break}return s}function Pr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].bottomButton){babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].bottomButton=babelHelpers.classPrivateFieldLooseBase(this,Zi)[Zi](babelHelpers.classPrivateFieldLooseBase(this,ji)[ji])}return babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].bottomButton}function Lr(e){if(babelHelpers.classPrivateFieldLooseBase(this,Si)[Si]){return""}let s="";switch(e){case"created":babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].videoconferenceButton=l.Tag.render(mi||(mi=_i`
					<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m calendar-pub-action-btn">
						<div class="calendar-pub-ui__btn-text">${0}</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,Ji)[Ji].bind(this),l.Loc.getMessage("CALENDAR_SHARING_OPEN_VIDEOCONFERENCE"));babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].icsButton=l.Tag.render(fi||(fi=_i`
					<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m calendar-pub-action-btn">
						<div class="calendar-pub-ui__btn-text">${0}</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,Qi)[Qi].bind(this),l.Loc.getMessage("CALENDAR_SHARING_ADD_TO_CALENDAR"));s=l.Tag.render(yi||(yi=_i`
					<div>
						${0}
						${0}
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].videoconferenceButton,babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].icsButton);break;case"not-created":case"declined":if(babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai]){s=l.Tag.render(gi||(gi=_i`
						<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
					`),babelHelpers.classPrivateFieldLooseBase(this,er)[er].bind(this),l.Loc.getMessage("CALENDAR_SHARING_RETURN_TO_SLOT_LIST"))}else{s=l.Tag.render(Ei||(Ei=_i`<div></div>`))}break}return s}async function ur(){await this.downloadIcsFile()}async function Hr(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].videoconferenceButton,"--wait");await this.startVideoconference();l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].videoconferenceButton,"--wait")}function Fr(){o.EventEmitter.emit("onCreateAnotherEventButtonClick")}function Br(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].widgetDate){babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].widgetDate=babelHelpers.classPrivateFieldLooseBase(this,Ni)[Ni].render()}return babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].widgetDate}function mr(){return l.Loc.getMessage("CALENDAR_SHARING_EVENT_NAME",{"#OWNER_NAME#":babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].name+" "+babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].lastName})}let fr=e=>e,yr;var gr=babelHelpers.classPrivateFieldLooseKey("layout");var Er=babelHelpers.classPrivateFieldLooseKey("components");var wr=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneId");var Tr=babelHelpers.classPrivateFieldLooseKey("owner");var Or=babelHelpers.classPrivateFieldLooseKey("link");var Dr=babelHelpers.classPrivateFieldLooseKey("sharingUser");var Nr=babelHelpers.classPrivateFieldLooseKey("isFromCrm");var Cr=babelHelpers.classPrivateFieldLooseKey("hasContactData");var kr=babelHelpers.classPrivateFieldLooseKey("calendarSettings");var jr=babelHelpers.classPrivateFieldLooseKey("eventLinkHash");var Sr=babelHelpers.classPrivateFieldLooseKey("event");var Kr=babelHelpers.classPrivateFieldLooseKey("action");var Ar=babelHelpers.classPrivateFieldLooseKey("showBackCalendarButtons");var Ir=babelHelpers.classPrivateFieldLooseKey("bindEvents");class Mr{constructor(e){Object.defineProperty(this,Ir,{value:$r});Object.defineProperty(this,gr,{writable:true,value:void 0});Object.defineProperty(this,Er,{writable:true,value:void 0});Object.defineProperty(this,wr,{writable:true,value:void 0});Object.defineProperty(this,Tr,{writable:true,value:void 0});Object.defineProperty(this,Or,{writable:true,value:void 0});Object.defineProperty(this,Dr,{writable:true,value:void 0});Object.defineProperty(this,Nr,{writable:true,value:void 0});Object.defineProperty(this,Cr,{writable:true,value:void 0});Object.defineProperty(this,kr,{writable:true,value:void 0});Object.defineProperty(this,jr,{writable:true,value:void 0});Object.defineProperty(this,Sr,{writable:true,value:void 0});Object.defineProperty(this,Kr,{writable:true,value:void 0});Object.defineProperty(this,Ar,{writable:true,value:void 0});this.BLOCK_NAME_FORM="form";this.BLOCK_NAME_SLOT_LIST="slot-list";this.BLOCK_NAME_EMPTY_STATE="empty-state";this.BLOCK_NAME_ACCESS_DENIED="access-denied";this.BLOCK_NAME_EVENT="event";babelHelpers.classPrivateFieldLooseBase(this,wr)[wr]=e.selectedTimezoneId;babelHelpers.classPrivateFieldLooseBase(this,Tr)[Tr]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,Or)[Or]=e.link;babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr]=e.sharingUser;babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]=e.eventLinkHash;babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr]=e.event;babelHelpers.classPrivateFieldLooseBase(this,gr)[gr]={wrapper:null,empty:null,title:null,slots:null,slotSelector:null};babelHelpers.classPrivateFieldLooseBase(this,Er)[Er]={form:null,slotList:null,emptyState:null,event:null,accessDenied:null};babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr]=babelHelpers.classPrivateFieldLooseBase(this,Or)[Or].type==="crm_deal";babelHelpers.classPrivateFieldLooseBase(this,Cr)[Cr]=e.hasContactData;babelHelpers.classPrivateFieldLooseBase(this,kr)[kr]=e.calendarSettings;babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar]=e.showBackCalendarButtons;babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr]=e.action;babelHelpers.classPrivateFieldLooseBase(this,Ir)[Ir]()}openForm(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].form)==null?void 0:e.clearInputErrors();this.openBlock(this.BLOCK_NAME_FORM)}openSlotList(){this.openBlock(this.BLOCK_NAME_SLOT_LIST)}openEmptyState(){this.openBlock(this.BLOCK_NAME_EMPTY_STATE)}openAccessDenied(){this.openBlock(this.BLOCK_NAME_ACCESS_DENIED)}openEvent(){this.openBlock(this.BLOCK_NAME_EVENT)}openBlock(e){o.EventEmitter.emit("selectorTypeChange",e)}render(){if(!babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].form){babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].form=new Dl({isHiddenOnStart:true,owner:babelHelpers.classPrivateFieldLooseBase(this,Tr)[Tr],link:babelHelpers.classPrivateFieldLooseBase(this,Or)[Or],sharingUser:babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr],isFromCrm:babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr],hasContactData:babelHelpers.classPrivateFieldLooseBase(this,Cr)[Cr],isPhoneFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,kr)[kr].phoneFeatureEnabled,isMailFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,kr)[kr].mailFeatureEnabled})}if(!babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].emptyState){babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].emptyState=new Pt({isHiddenOnStart:true})}if(!babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].accessDenied){babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].accessDenied=new yt({isHiddenOnStart:true})}if(!babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].slotList){babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].slotList=new ai({isHiddenOnStart:false})}if(!babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].event){var e,s,a;let t="created";if(babelHelpers.classPrivateFieldLooseBase(this,Or)[Or].active===false||((e=babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr])==null?void 0:e.meetingStatus)==="N"||((s=babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr])==null?void 0:s.deleted)==="Y"){t="declined"}let i=false;if(((a=babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr])==null?void 0:a.meetingStatus)==="N"){i=true}babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].event=new lr({isHiddenOnStart:false,owner:babelHelpers.classPrivateFieldLooseBase(this,Tr)[Tr],event:babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr],eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,jr)[jr],state:t,eventId:babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].id,isView:l.Type.isString(babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]),canceledByManager:i,showBackCalendarButtons:babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar],action:babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr]})}return l.Tag.render(yr||(yr=fr`
			<div class="calendar-pub__slots">
				${0}
				${0}
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].slotList.render(),babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].form.render(),babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].emptyState.render(),babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].event.render(),babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].accessDenied.render())}}function $r(){o.EventEmitter.subscribe("confirmedSelectSlot",(e=>{const s=e.data;const a=s.value;babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].form.updateFormValue({from:a.from,to:a.to,timezone:babelHelpers.classPrivateFieldLooseBase(this,wr)[wr]});this.openForm()}));o.EventEmitter.subscribe("switchSlots",(e=>{var s;const a=(s=e.data.slots)!=null?s:[];if(a.length>0){o.EventEmitter.emit("updateSlotsList",e);this.openSlotList()}else{this.openEmptyState()}}));o.EventEmitter.subscribe("updateTimezone",(e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,wr)[wr]=s.timezone}));o.EventEmitter.subscribe("onSaveEvent",(e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].form.cleanDescription();babelHelpers.classPrivateFieldLooseBase(this,Er)[Er].event.updateValue(s);this.openEvent()}))}let Rr=e=>e,zr,xr,Ur,Gr;var Wr=babelHelpers.classPrivateFieldLooseKey("layout");var Vr=babelHelpers.classPrivateFieldLooseKey("owner");var Xr=babelHelpers.classPrivateFieldLooseKey("welcomePage");var Yr=babelHelpers.classPrivateFieldLooseKey("calendar");var qr=babelHelpers.classPrivateFieldLooseKey("slotsBlock");var Zr=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Qr=babelHelpers.classPrivateFieldLooseKey("renderFreeSlots");var Jr=babelHelpers.classPrivateFieldLooseKey("renderSlotsSelector");var eo=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");var so=babelHelpers.classPrivateFieldLooseKey("render");var ao=babelHelpers.classPrivateFieldLooseKey("init");class lo{constructor(e){Object.defineProperty(this,ao,{value:bo});Object.defineProperty(this,so,{value:_o});Object.defineProperty(this,eo,{value:oo});Object.defineProperty(this,Jr,{value:ro});Object.defineProperty(this,Qr,{value:io});Object.defineProperty(this,Zr,{value:to});Object.defineProperty(this,Wr,{writable:true,value:void 0});Object.defineProperty(this,Vr,{writable:true,value:void 0});Object.defineProperty(this,Xr,{writable:true,value:void 0});Object.defineProperty(this,Yr,{writable:true,value:void 0});Object.defineProperty(this,qr,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr]=e.owner?e.owner:null;this.target=l.Type.isDomNode(e.target)?e.target:null;babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr]={wrapper:null,animate:null};babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr]=null;babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr]=null;babelHelpers.classPrivateFieldLooseBase(this,qr)[qr]=null;babelHelpers.classPrivateFieldLooseBase(this,ao)[ao]();babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr]();this.showPageWelcome(e);if(e.link.type==="event"){if(e.parentLink&&e.parentLink.active===true){babelHelpers.classPrivateFieldLooseBase(this,Qr)[Qr](e);babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].openEvent()}else if(e.event){babelHelpers.classPrivateFieldLooseBase(this,Jr)[Jr](e);babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].hideButton();babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].setAccessDenied();babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].openEvent()}else{babelHelpers.classPrivateFieldLooseBase(this,Jr)[Jr](e);babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].hideButton();babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].openAccessDenied()}}else{if(e.link.active===true){babelHelpers.classPrivateFieldLooseBase(this,Qr)[Qr](e)}else{babelHelpers.classPrivateFieldLooseBase(this,Jr)[Jr](e);babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].hideButton();babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].openAccessDenied()}}}showPageWelcome(e){if(!e.owner){return}babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr]=new w({owner:e.owner,link:e.link,currentLang:e.currentLang});l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr].render(),babelHelpers.classPrivateFieldLooseBase(this,eo)[eo]())}showFreeSlots(){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,eo)[eo](),"--hide")}hideFreeSlots(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,eo)[eo](),"--hide")}}function to(){o.EventEmitter.subscribe("showSlotSelector",this.showFreeSlots.bind(this));o.EventEmitter.subscribe("hideSlotSelector",this.hideFreeSlots.bind(this))}function io(e){babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr]=new cs({owner:e.owner,accessibility:e.userAccessibility,timezoneList:e.timezoneList,calendarSettings:e.calendarSettings});let s=null;if(e.link.type==="event"){s=e.link.hash}babelHelpers.classPrivateFieldLooseBase(this,qr)[qr]=new Mr({selectedTimezoneId:babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].getSelectedTimezoneId(),owner:babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr],link:e.parentLink||e.link,sharingUser:e.sharingUser,hasContactData:e.hasContactData,calendarSettings:e.calendarSettings,event:e.event,showBackCalendarButtons:true,eventLinkHash:s,action:e.action});const a=l.Tag.render(zr||(zr=Rr`
			<div class="calendar-pub__block --plus">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].render());babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr].animate=l.Tag.render(xr||(xr=Rr`
			<div class="calendar-pub__block-animate">
				${0}
				<div class="calendar-pub__block">
					${0}
				</div>
			</div>
		`),a,babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].render());o.EventEmitter.subscribe("selectorTypeChange",(e=>{if(e.data==="form"||e.data==="event"){l.Dom.addClass(a,"--hidden")}else{l.Dom.removeClass(a,"--hidden")}}));l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr].animate,babelHelpers.classPrivateFieldLooseBase(this,eo)[eo]());if(e.link.type!=="event"){babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].selectFirstAvailableDay()}}function ro(e){let s=null;if(e.link.type==="event"){s=e.link.hash}babelHelpers.classPrivateFieldLooseBase(this,qr)[qr]=new Mr({selectedTimezoneId:null,owner:babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr],link:e.link,sharingUser:e.sharingUser,hasContactData:e.hasContactData,calendarSettings:e.calendarSettings,event:e.event,showBackCalendarButtons:false,action:e.action,eventLinkHash:s});babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr].animate=l.Tag.render(Ur||(Ur=Rr`
			<div class="calendar-pub__block-animate">
				<div class="calendar-pub__block">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].render());l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr].animate,babelHelpers.classPrivateFieldLooseBase(this,eo)[eo]())}function oo(){if(!babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr].wrapper=l.Tag.render(Gr||(Gr=Rr`
				<div class="calendar-pub__wrapper calendar-pub__state --hide"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr].wrapper}function _o(){if(!this.target){console.warn('BX.Calendar.Sharing: "target" is not defined');return}if(this.target.parentNode){l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,eo)[eo](),this.target.parentNode);l.Dom.remove(this.target)}}function bo(){babelHelpers.classPrivateFieldLooseBase(this,so)[so]()}e.PublicV2=lo;e.Event=lr})(this.BX.Calendar.Sharing=this.BX.Calendar.Sharing||{},BX,BX.Calendar,BX,BX.Main,BX.Main,BX.UI,BX.Event,BX);
//# sourceMappingURL=public-v2.bundle.map.js