this.BX=this.BX||{};this.BX.Calendar=this.BX.Calendar||{};(function(e,s,a,l,t,i,r,o,b){"use strict";let c=e=>e,n,_,d,v,p;var h=babelHelpers.classPrivateFieldLooseKey("layout");var P=babelHelpers.classPrivateFieldLooseKey("params");var L=babelHelpers.classPrivateFieldLooseKey("members");var u=babelHelpers.classPrivateFieldLooseKey("renderAvatarItems");var F=babelHelpers.classPrivateFieldLooseKey("renderMoreAvatar");var H=babelHelpers.classPrivateFieldLooseKey("bindShowOnHover");var B=babelHelpers.classPrivateFieldLooseKey("renderAvatar");var m=babelHelpers.classPrivateFieldLooseKey("hasAvatar");class f{constructor(e){Object.defineProperty(this,m,{value:O});Object.defineProperty(this,B,{value:E});Object.defineProperty(this,H,{value:T});Object.defineProperty(this,F,{value:g});Object.defineProperty(this,u,{value:y});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,h)[h]={};babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e;babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e.members}render(){if(!t.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,L)[L])){return""}babelHelpers.classPrivateFieldLooseBase(this,h)[h].wrap=t.Tag.render(n||(n=c`
			<div class="${0}">
				<div class="${0}">
					${0}
				</div>
				<div class="calendar-pub-line-avatar-container" style="--ui-icon-size: ${0}px">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,P)[P].className,babelHelpers.classPrivateFieldLooseBase(this,P)[P].textClassName,t.Loc.getMessage("CALENDAR_SHARING_MEETING_HAS_MORE_USERS"),babelHelpers.classPrivateFieldLooseBase(this,P)[P].avatarSize,babelHelpers.classPrivateFieldLooseBase(this,u)[u]());let e;const s=i.MenuManager.create({id:"calendar-pub-welcome-more-avatar-popup"+Date.now(),bindElement:babelHelpers.classPrivateFieldLooseBase(this,h)[h].avatarItems,className:"calendar-pub-users-popup",items:babelHelpers.classPrivateFieldLooseBase(this,L)[L].map((e=>({html:t.Tag.render(_||(_=c`
					<div class="calendar-pub-users-popup-avatar-container">
						${0}
						<div class="calendar-pub-users-popup-avatar-text">
							${0}
						</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,B)[B](e,"calendar-pub-users-popup-avatar"),t.Text.encode(`${e.name} ${e.lastName}`))}))),autoHide:false,maxHeight:500,maxWidth:300,offsetLeft:-2*babelHelpers.classPrivateFieldLooseBase(this,h)[h].avatarItems.offsetWidth,events:{onShow:()=>{const a=s.getPopupWindow().getPopupContainer().offsetWidth;s.getPopupWindow().setOffset({offsetLeft:babelHelpers.classPrivateFieldLooseBase(this,h)[h].avatarItems.offsetWidth/2-a/2});s.getPopupWindow().adjustPosition();document.addEventListener("scroll",e,true)},onClose:()=>{document.removeEventListener("scroll",e,true)}}});e=()=>s.getPopupWindow().adjustPosition();babelHelpers.classPrivateFieldLooseBase(this,H)[H](s);return babelHelpers.classPrivateFieldLooseBase(this,h)[h].wrap}}function y(){const e=4;const s=babelHelpers.classPrivateFieldLooseBase(this,L)[L].length>e;const a=s?e-1:e;const l="calendar-pub-line-avatar";babelHelpers.classPrivateFieldLooseBase(this,h)[h].avatarItems=t.Tag.render(d||(d=c`
			<div class="calendar-pub-line-avatars">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,L)[L].slice(0,a).map((e=>babelHelpers.classPrivateFieldLooseBase(this,B)[B](e,l))),s?babelHelpers.classPrivateFieldLooseBase(this,F)[F]():"");return babelHelpers.classPrivateFieldLooseBase(this,h)[h].avatarItems}function g(){return t.Tag.render(v||(v=c`
			<span class="ui-icon ui-icon-common-user calendar-pub-line-avatar calendar-pub-line-avatar-more-container">
				<div class="ui-icon-set --more calendar-pub-line-avatar-more"></div>
			</span>
		`))}function T(e){const s=e.bindElement;const a=e.getMenuContainer();let l=null;const i=()=>{setTimeout((()=>{if(!a.contains(l)&&!s.contains(l)){e.close()}}),100)};const r=()=>{setTimeout((()=>{if(s.contains(l)){e.show()}}),300)};t.Event.bind(document,"mouseover",(e=>{l=e.target}));t.Event.bind(s,"mouseenter",r);t.Event.bind(s,"mouseleave",i);t.Event.bind(a,"mouseleave",i)}function E(e,s=""){return t.Tag.render(p||(p=c`
			<span class="ui-icon ui-icon-common-user ${0}">
				<i style="${0}"></i>
			</span>
		`),s,babelHelpers.classPrivateFieldLooseBase(this,m)[m](e)?`background-image: url('${e.avatar}')`:"")}function O(e){return t.Type.isStringFilled(e.avatar)&&e.avatar!=="/bitrix/images/1.gif"}let D=e=>e,w,N,C,j,S,A;var K=babelHelpers.classPrivateFieldLooseKey("owner");var k=babelHelpers.classPrivateFieldLooseKey("link");var I=babelHelpers.classPrivateFieldLooseKey("currentLang");var M=babelHelpers.classPrivateFieldLooseKey("name");var $=babelHelpers.classPrivateFieldLooseKey("lastName");var R=babelHelpers.classPrivateFieldLooseKey("photo");var z=babelHelpers.classPrivateFieldLooseKey("layout");var x=babelHelpers.classPrivateFieldLooseKey("members");var U=babelHelpers.classPrivateFieldLooseKey("handleTimelineNotify");var G=babelHelpers.classPrivateFieldLooseKey("getNodeButton");var W=babelHelpers.classPrivateFieldLooseKey("getNodeLabel");var V=babelHelpers.classPrivateFieldLooseKey("getNodeInfo");var X=babelHelpers.classPrivateFieldLooseKey("renderAvatarsSection");class Y{constructor(e){Object.defineProperty(this,X,{value:ee});Object.defineProperty(this,V,{value:J});Object.defineProperty(this,W,{value:Q});Object.defineProperty(this,G,{value:q});Object.defineProperty(this,U,{value:Z});Object.defineProperty(this,K,{writable:true,value:void 0});Object.defineProperty(this,k,{writable:true,value:void 0});Object.defineProperty(this,I,{writable:true,value:void 0});Object.defineProperty(this,M,{writable:true,value:void 0});Object.defineProperty(this,$,{writable:true,value:void 0});Object.defineProperty(this,R,{writable:true,value:void 0});Object.defineProperty(this,z,{writable:true,value:void 0});Object.defineProperty(this,x,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,K)[K]=e.owner||null;babelHelpers.classPrivateFieldLooseBase(this,k)[k]=e.link||null;babelHelpers.classPrivateFieldLooseBase(this,I)[I]=e.currentLang||null;babelHelpers.classPrivateFieldLooseBase(this,M)[M]=babelHelpers.classPrivateFieldLooseBase(this,K)[K].name||null;babelHelpers.classPrivateFieldLooseBase(this,$)[$]=babelHelpers.classPrivateFieldLooseBase(this,K)[K].lastName||null;babelHelpers.classPrivateFieldLooseBase(this,R)[R]=babelHelpers.classPrivateFieldLooseBase(this,K)[K].photo||null;babelHelpers.classPrivateFieldLooseBase(this,z)[z]={wrapper:null,button:null,label:null};babelHelpers.classPrivateFieldLooseBase(this,x)[x]=e.members;if(babelHelpers.classPrivateFieldLooseBase(this,k)[k]&&babelHelpers.classPrivateFieldLooseBase(this,k)[k].type==="crm_deal"&&babelHelpers.classPrivateFieldLooseBase(this,k)[k].active===true&&babelHelpers.classPrivateFieldLooseBase(this,k)[k].lastStatus!=="viewed"&&babelHelpers.classPrivateFieldLooseBase(this,k)[k].lastStatus!=="notViewed"){babelHelpers.classPrivateFieldLooseBase(this,U)[U]("notViewed");babelHelpers.classPrivateFieldLooseBase(this,k)[k].lastStatus="notViewed"}}disableButton(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,z)[z].button,"--disabled")}enableButton(){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,z)[z].button,"--disabled")}hideButton(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,z)[z].button,"--hidden")}handleWelcomePageButtonClick(){if(t.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,z)[z].button,"--disabled")){return}if(babelHelpers.classPrivateFieldLooseBase(this,k)[k]&&babelHelpers.classPrivateFieldLooseBase(this,k)[k].type==="crm_deal"&&babelHelpers.classPrivateFieldLooseBase(this,k)[k].active===true&&babelHelpers.classPrivateFieldLooseBase(this,k)[k].lastStatus==="notViewed"){babelHelpers.classPrivateFieldLooseBase(this,U)[U]("viewed");babelHelpers.classPrivateFieldLooseBase(this,k)[k].lastStatus="viewed"}this.disableButton();b.EventEmitter.emit("showSlotSelector",this)}setAccessDenied(){babelHelpers.classPrivateFieldLooseBase(this,z)[z].info=babelHelpers.classPrivateFieldLooseBase(this,V)[V](true)}render(){return t.Tag.render(w||(w=D`
			<div class="calendar-pub__block --welcome">
				${0}
				<div class="calendar-pub__welcome">
					<div class="calendar-pub__welcome-user">
						<div class="calendar-pub__welcome-userpic ui-icon ui-icon-common-user">
							<i ${0}></i>
						</div>
						<div class="calendar-pub-ui__typography-m">
							${0} ${0} 
						</div>
					</div>
					<div class="calendar-pub__block-separator"></div>
					${0}
					<div class="calendar-pub__welcome-bottom">
						${0}
					</div>
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,W)[W](),babelHelpers.classPrivateFieldLooseBase(this,R)[R]?`style="background-image: url(${encodeURI(babelHelpers.classPrivateFieldLooseBase(this,R)[R])})"`:"",babelHelpers.classPrivateFieldLooseBase(this,M)[M]||"",babelHelpers.classPrivateFieldLooseBase(this,$)[$]||"",babelHelpers.classPrivateFieldLooseBase(this,V)[V](),babelHelpers.classPrivateFieldLooseBase(this,G)[G]())}}function Z(e){BX.ajax.runAction("calendar.api.sharingajax.handleTimelineNotify",{data:{linkHash:babelHelpers.classPrivateFieldLooseBase(this,k)[k].hash,entityId:babelHelpers.classPrivateFieldLooseBase(this,k)[k].entityId,entityType:babelHelpers.classPrivateFieldLooseBase(this,k)[k].type,notifyType:e}})}function q(){if(!babelHelpers.classPrivateFieldLooseBase(this,z)[z].button){babelHelpers.classPrivateFieldLooseBase(this,z)[z].button=t.Tag.render(N||(N=D`
				<div class="calendar-pub-ui__btn">
					<div class="calendar-pub-ui__btn-text">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SELECT_SLOT"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,z)[z].button,"click",(()=>{this.handleWelcomePageButtonClick()}));b.EventEmitter.subscribe("hideSlotSelector",this.enableButton.bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,z)[z].button}function Q(){if(!babelHelpers.classPrivateFieldLooseBase(this,z)[z].label){babelHelpers.classPrivateFieldLooseBase(this,z)[z].label=t.Tag.render(C||(C=D`
				<div class="calendar-pub__block-label"></div>
			`));if(babelHelpers.classPrivateFieldLooseBase(this,I)[I]==="ru"){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,z)[z].label,"--ru")}}return babelHelpers.classPrivateFieldLooseBase(this,z)[z].label}function J(e=false){if(!babelHelpers.classPrivateFieldLooseBase(this,z)[z].info){babelHelpers.classPrivateFieldLooseBase(this,z)[z].infoTitle=t.Tag.render(j||(j=D`
				<div class="calendar-pub-ui__typography-title calendar-pub__welcome-info_title"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,z)[z].infoSubTitle=t.Tag.render(S||(S=D`
				<div class="calendar-pub-ui__typography-s calendar-pub__welcome-info_subtitle"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,z)[z].info=t.Tag.render(A||(A=D`
				<div class="calendar-pub__welcome-info">
					${0}
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,z)[z].infoTitle,babelHelpers.classPrivateFieldLooseBase(this,z)[z].infoSubTitle,babelHelpers.classPrivateFieldLooseBase(this,X)[X](babelHelpers.classPrivateFieldLooseBase(this,x)[x]))}let s=t.Loc.getMessage("CALENDAR_SHARING_MY_FREE_SLOTS");let a=t.Loc.getMessage("CALENDAR_SHARING_YOU_CAN_CHOOSE_FREE_MEETING_TIME");if(e){s=t.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED");a=t.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED_INFO")}babelHelpers.classPrivateFieldLooseBase(this,z)[z].infoTitle.innerText=s;babelHelpers.classPrivateFieldLooseBase(this,z)[z].infoSubTitle.innerText=a;return babelHelpers.classPrivateFieldLooseBase(this,z)[z].info}function ee(e){return new f({className:"calendar-pub-welcome-avatar-section-container",textClassName:"calendar-pub-ui__typography-xs-uppercase",avatarSize:36,members:e}).render()}let se=e=>e,ae;var le=babelHelpers.classPrivateFieldLooseKey("layout");var te=babelHelpers.classPrivateFieldLooseKey("value");var ie=babelHelpers.classPrivateFieldLooseKey("notCurrentMonth");var re=babelHelpers.classPrivateFieldLooseKey("today");var oe=babelHelpers.classPrivateFieldLooseKey("selected");var be=babelHelpers.classPrivateFieldLooseKey("weekend");var ce=babelHelpers.classPrivateFieldLooseKey("slots");var ne=babelHelpers.classPrivateFieldLooseKey("enableBooking");var _e=babelHelpers.classPrivateFieldLooseKey("bindEvents");var de=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class ve{constructor(e){Object.defineProperty(this,de,{value:he});Object.defineProperty(this,_e,{value:pe});Object.defineProperty(this,le,{writable:true,value:void 0});Object.defineProperty(this,te,{writable:true,value:void 0});Object.defineProperty(this,ie,{writable:true,value:void 0});Object.defineProperty(this,re,{writable:true,value:void 0});Object.defineProperty(this,oe,{writable:true,value:void 0});Object.defineProperty(this,be,{writable:true,value:void 0});Object.defineProperty(this,ce,{writable:true,value:void 0});Object.defineProperty(this,ne,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,te)[te]=e.value||null;babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]=e.notCurrentMonth||null;babelHelpers.classPrivateFieldLooseBase(this,re)[re]=e.today||null;babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=e.slots||null;babelHelpers.classPrivateFieldLooseBase(this,le)[le]={wrapper:null};babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=e.selected||null;babelHelpers.classPrivateFieldLooseBase(this,be)[be]=e.weekend||null;babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]=e.enableBooking||null;if(babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]){this.select()}babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]()}isSelected(){return babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]}getDay(){return babelHelpers.classPrivateFieldLooseBase(this,te)[te]}isEnableBooking(){return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]}select(){this.highlight();b.EventEmitter.emit("switchSlots",{slots:babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]})}highlight(){babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=true;t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,de)[de](),"--selected");b.EventEmitter.emit("selectDate",this)}unSelect(){babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=null;t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,de)[de](),"--selected")}render(){return babelHelpers.classPrivateFieldLooseBase(this,de)[de]()}}function pe(){t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,de)[de](),"click",this.select.bind(this))}function he(){if(!babelHelpers.classPrivateFieldLooseBase(this,le)[le].wrapper){babelHelpers.classPrivateFieldLooseBase(this,le)[le].wrapper=t.Tag.render(ae||(ae=se`
				<div class="calendar-sharing__month-col --day">${0}</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,te)[te]);if(babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,le)[le].wrapper,"--not-current-month")}if(babelHelpers.classPrivateFieldLooseBase(this,be)[be]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,le)[le].wrapper,"--weekend")}if(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,le)[le].wrapper,"--enable-booking")}}return babelHelpers.classPrivateFieldLooseBase(this,le)[le].wrapper}let Pe=e=>e,Le,ue,Fe,He,Be,me,fe,ye,ge,Te,Ee,Oe,De,we,Ne,Ce;var je=babelHelpers.classPrivateFieldLooseKey("userIds");var Se=babelHelpers.classPrivateFieldLooseKey("accessibility");var Ae=babelHelpers.classPrivateFieldLooseKey("layout");var Ke=babelHelpers.classPrivateFieldLooseKey("currentMonth");var ke=babelHelpers.classPrivateFieldLooseKey("currentYear");var Ie=babelHelpers.classPrivateFieldLooseKey("nowTime");var Me=babelHelpers.classPrivateFieldLooseKey("months");var $e=babelHelpers.classPrivateFieldLooseKey("selectedDay");var Re=babelHelpers.classPrivateFieldLooseKey("monthsSlotsMap");var ze=babelHelpers.classPrivateFieldLooseKey("timezoneOffsetUtc");var xe=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneOffsetUtc");var Ue=babelHelpers.classPrivateFieldLooseKey("currentMonthIndex");var Ge=babelHelpers.classPrivateFieldLooseKey("currentDayNumber");var We=babelHelpers.classPrivateFieldLooseKey("timezoneList");var Ve=babelHelpers.classPrivateFieldLooseKey("calendarSettings");var Xe=babelHelpers.classPrivateFieldLooseKey("rule");var Ye=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneId");var Ze=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneNode");var qe=babelHelpers.classPrivateFieldLooseKey("config");var Qe=babelHelpers.classPrivateFieldLooseKey("loc");var Je=babelHelpers.classPrivateFieldLooseKey("timeZonePopup");var es=babelHelpers.classPrivateFieldLooseKey("bindEvents");var ss=babelHelpers.classPrivateFieldLooseKey("incrementTime");var as=babelHelpers.classPrivateFieldLooseKey("initConfig");var ls=babelHelpers.classPrivateFieldLooseKey("separate");var ts=babelHelpers.classPrivateFieldLooseKey("initCurrentMonthSlots");var is=babelHelpers.classPrivateFieldLooseKey("calculateDateTimeSlots");var rs=babelHelpers.classPrivateFieldLooseKey("doIntervalsIntersect");var os=babelHelpers.classPrivateFieldLooseKey("createMonth");var bs=babelHelpers.classPrivateFieldLooseKey("reCreateCurrentMonth");var cs=babelHelpers.classPrivateFieldLooseKey("createNextMonth");var ns=babelHelpers.classPrivateFieldLooseKey("getNextMonth");var _s=babelHelpers.classPrivateFieldLooseKey("getNextYear");var ds=babelHelpers.classPrivateFieldLooseKey("loadMonthAccessibility");var vs=babelHelpers.classPrivateFieldLooseKey("getMonthName");var ps=babelHelpers.classPrivateFieldLooseKey("getMonthDays");var hs=babelHelpers.classPrivateFieldLooseKey("getDayToSelect");var Ps=babelHelpers.classPrivateFieldLooseKey("isHoliday");var Ls=babelHelpers.classPrivateFieldLooseKey("isYearHoliday");var us=babelHelpers.classPrivateFieldLooseKey("getNodeTimeZone");var Fs=babelHelpers.classPrivateFieldLooseKey("getPopupTimezoneSelect");var Hs=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneSelect");var Bs=babelHelpers.classPrivateFieldLooseKey("updateTimezone");var ms=babelHelpers.classPrivateFieldLooseKey("getFormattedTimezone");var fs=babelHelpers.classPrivateFieldLooseKey("getNodeDaysOfWeek");var ys=babelHelpers.classPrivateFieldLooseKey("getNodeDay");var gs=babelHelpers.classPrivateFieldLooseKey("getNodeMonth");var Ts=babelHelpers.classPrivateFieldLooseKey("getNodeMonthWrapper");var Es=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneWrapper");var Os=babelHelpers.classPrivateFieldLooseKey("getNodeCurrentMonth");var Ds=babelHelpers.classPrivateFieldLooseKey("updateCalendar");var ws=babelHelpers.classPrivateFieldLooseKey("getNodePrevNav");var Ns=babelHelpers.classPrivateFieldLooseKey("getNodeNextNav");var Cs=babelHelpers.classPrivateFieldLooseKey("getNodeNavigation");var js=babelHelpers.classPrivateFieldLooseKey("handleNextMonthArrowClick");var Ss=babelHelpers.classPrivateFieldLooseKey("handlePreviousMonthArrowClick");var As=babelHelpers.classPrivateFieldLooseKey("updateMonth");var Ks=babelHelpers.classPrivateFieldLooseKey("getNodeBack");var ks=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class Is{constructor(e){Object.defineProperty(this,ks,{value:ma});Object.defineProperty(this,Ks,{value:Ba});Object.defineProperty(this,As,{value:Ha});Object.defineProperty(this,Ss,{value:Fa});Object.defineProperty(this,js,{value:ua});Object.defineProperty(this,Cs,{value:La});Object.defineProperty(this,Ns,{value:Pa});Object.defineProperty(this,ws,{value:ha});Object.defineProperty(this,Ds,{value:pa});Object.defineProperty(this,Os,{value:va});Object.defineProperty(this,Es,{value:da});Object.defineProperty(this,Ts,{value:_a});Object.defineProperty(this,gs,{value:na});Object.defineProperty(this,ys,{value:ca});Object.defineProperty(this,fs,{value:ba});Object.defineProperty(this,ms,{value:oa});Object.defineProperty(this,Bs,{value:ra});Object.defineProperty(this,Hs,{value:ia});Object.defineProperty(this,Fs,{value:ta});Object.defineProperty(this,us,{value:la});Object.defineProperty(this,Ls,{value:aa});Object.defineProperty(this,Ps,{value:sa});Object.defineProperty(this,hs,{value:ea});Object.defineProperty(this,ps,{value:Js});Object.defineProperty(this,vs,{value:Qs});Object.defineProperty(this,ds,{value:qs});Object.defineProperty(this,_s,{value:Zs});Object.defineProperty(this,ns,{value:Ys});Object.defineProperty(this,cs,{value:Xs});Object.defineProperty(this,bs,{value:Vs});Object.defineProperty(this,os,{value:Ws});Object.defineProperty(this,rs,{value:Gs});Object.defineProperty(this,is,{value:Us});Object.defineProperty(this,ts,{value:xs});Object.defineProperty(this,ls,{value:zs});Object.defineProperty(this,as,{value:Rs});Object.defineProperty(this,ss,{value:$s});Object.defineProperty(this,es,{value:Ms});Object.defineProperty(this,je,{writable:true,value:void 0});Object.defineProperty(this,Se,{writable:true,value:void 0});Object.defineProperty(this,Ae,{writable:true,value:void 0});Object.defineProperty(this,Ke,{writable:true,value:void 0});Object.defineProperty(this,ke,{writable:true,value:void 0});Object.defineProperty(this,Ie,{writable:true,value:void 0});Object.defineProperty(this,Me,{writable:true,value:void 0});Object.defineProperty(this,$e,{writable:true,value:void 0});Object.defineProperty(this,Re,{writable:true,value:void 0});Object.defineProperty(this,ze,{writable:true,value:void 0});Object.defineProperty(this,xe,{writable:true,value:void 0});Object.defineProperty(this,Ue,{writable:true,value:void 0});Object.defineProperty(this,Ge,{writable:true,value:void 0});Object.defineProperty(this,We,{writable:true,value:void 0});Object.defineProperty(this,Ve,{writable:true,value:void 0});Object.defineProperty(this,Xe,{writable:true,value:void 0});Object.defineProperty(this,Ye,{writable:true,value:void 0});Object.defineProperty(this,Ze,{writable:true,value:void 0});Object.defineProperty(this,qe,{writable:true,value:void 0});Object.defineProperty(this,Qe,{writable:true,value:void 0});Object.defineProperty(this,Je,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae]={wrapper:null,monthWrapper:null,timezoneWrapper:null,month:null,currentMonth:null,prevNav:null,nextNav:null,daysOfWeek:null,navigation:null,back:null};babelHelpers.classPrivateFieldLooseBase(this,je)[je]=e.userIds;babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]=e.accessibility;babelHelpers.classPrivateFieldLooseBase(this,We)[We]=e.timezoneList;babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve]=e.calendarSettings;babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]=e.rule;babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]=new Date;babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]=0;babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]=1;babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC";babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]=babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getMonth();babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]=babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getFullYear();babelHelpers.classPrivateFieldLooseBase(this,ze)[ze]=babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]=babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,Me)[Me]=[];babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]=[];babelHelpers.classPrivateFieldLooseBase(this,qe)[qe]={slotSize:babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe].slotSize,freeTime:{},stepSize:30,weekHolidays:[6,0],weekStart:1};babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]={weekdays:l.Util.getWeekdaysLoc()};babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]=null;babelHelpers.classPrivateFieldLooseBase(this,as)[as]();babelHelpers.classPrivateFieldLooseBase(this,ts)[ts]();babelHelpers.classPrivateFieldLooseBase(this,es)[es]();const s=babelHelpers.classPrivateFieldLooseBase(this,_s)[_s]();const a=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]();babelHelpers.classPrivateFieldLooseBase(this,ds)[ds](s,a,false);setInterval(babelHelpers.classPrivateFieldLooseBase(this,ss)[ss].bind(this),15e3)}async updateEventSlotsList(){const e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]];const s=e.year;const a=e.month+1;await babelHelpers.classPrivateFieldLooseBase(this,ds)[ds](s,a);babelHelpers.classPrivateFieldLooseBase(this,bs)[bs]()}selectFirstAvailableDay(){let e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]].days;if(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]===0){const s=babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getDate();e=e.filter((e=>e.getDay()>=s)).slice(0,14)}let s=e.find((e=>e.isEnableBooking()));if(s===undefined){s=e[0]}s.select()}selectMonthDay(){const e=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs]();babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]=e.day;e.select()}highlightMonthDay(){const e=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs]();babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]=e.day;e.highlight()}getSelectedTimezoneId(){return babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]}getTimezonePrefix(e){const s=e*1e3-babelHelpers.classPrivateFieldLooseBase(this,ze)[ze]*-6e4;const a=new Date(babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getTime()+s);return r.DateTimeFormat.format(l.Util.getTimeFormatShort(),a.getTime()/1e3)}render(){return babelHelpers.classPrivateFieldLooseBase(this,ks)[ks]()}}function Ms(){b.EventEmitter.subscribe("selectDate",(e=>{const s=e.data;if(babelHelpers.classPrivateFieldLooseBase(this,$e)[$e]!==s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,$e)[$e])==null?void 0:a.unSelect()}babelHelpers.classPrivateFieldLooseBase(this,$e)[$e]=s;babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]=babelHelpers.classPrivateFieldLooseBase(this,$e)[$e].getDay()}));b.EventEmitter.subscribe("onSaveEvent",(async e=>{if(e.data.state==="created"||e.data.state==="not-created"){await this.updateEventSlotsList();this.highlightMonthDay()}}));b.EventEmitter.subscribe("onDeleteEvent",(async()=>{await this.updateEventSlotsList()}));b.EventEmitter.subscribe("onCreateAnotherEventButtonClick",(()=>{this.selectFirstAvailableDay()}))}function $s(){babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]=new Date;const e=babelHelpers.classPrivateFieldLooseBase(this,us)[us]();t.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]());t.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]())}function Rs(){if(babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].weekHolidays){babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].weekHolidays=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].weekHolidays.map((e=>l.Util.getIndByWeekDay(e)))}if(babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].yearHolidays){babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].yearHolidays=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].yearHolidays}if(babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].weekStart){babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].weekStart=l.Util.getIndByWeekDay(babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].weekStart);babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe].weekdays.push(...babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe].weekdays.splice(0,babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].weekStart))}for(const a of babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe].ranges){for(const l of a.weekdays){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].freeTime)[l])!=null?s:e[l]=[];babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].freeTime[l].push({from:parseInt(a.from,10),to:parseInt(a.to,10)});const[t,i]=babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]((e=>babelHelpers.classPrivateFieldLooseBase(this,rs)[rs](e.from,e.to,parseInt(a.from,10),parseInt(a.to,10))),babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].freeTime[l]);if(t.length>0){const e=Math.min(...t.map((e=>e.from)));const s=Math.max(...t.map((e=>e.to)));babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].freeTime[l]=[...i,{from:e,to:s}]}}}const a=l.Util.getTimeZoneOffset(babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]);const t=parseInt(babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].serverOffset,10);const i=t+a;for(const e in babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].freeTime){babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].freeTime[e]=babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].freeTime[e].map((e=>({from:e.from-i,to:e.to-i})))}if(babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]==="UTC"||!babelHelpers.classPrivateFieldLooseBase(this,We)[We][babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]]){babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]="Africa/Dakar"}}function zs(e,s){return s.reduce((([s,a],l)=>e(l)?[[...s,l],a]:[s,[...a,l]]),[[],[]])}function xs(){babelHelpers.classPrivateFieldLooseBase(this,is)[is](babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getFullYear(),babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getMonth());const e=babelHelpers.classPrivateFieldLooseBase(this,os)[os](babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getFullYear(),babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getMonth());babelHelpers.classPrivateFieldLooseBase(this,Me)[Me].push(e)}function Us(e,s){const a=[];const l=new Date(e,s+1,0).getDate();const i=`${s+1}.${e}`;const r=babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getTime();const o=(babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]-babelHelpers.classPrivateFieldLooseBase(this,ze)[ze])*-60*1e3;for(let c=1;c<=l;c++){const l=new Date(e,s,c);if(babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls](l)){continue}const n=babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].freeTime[l.getDay()];if(t.Type.isUndefined(n)){continue}for(const l of n){const t=new Date(e,s,c,Math.floor(l.from/60),l.from%60);const n=new Date(e,s,c,Math.floor(l.to/60),l.to%60);const _=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se][i].filter((e=>{const s=!e.isFullDay;return babelHelpers.classPrivateFieldLooseBase(this,rs)[rs](BX.parseDate(e.from,s).getTime(),BX.parseDate(e.to,s).getTime(),t.getTime(),n.getTime())}));while(t.getTime()<n.getTime()){const e=t.getTime();const l=e+babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].slotSize*60*1e3;if(l>n.getTime()){break}const i=_.filter((s=>{const a=!s.isFullDay;return babelHelpers.classPrivateFieldLooseBase(this,rs)[rs](BX.parseDate(s.from,a).getTime(),BX.parseDate(s.to,a).getTime(),e,l)}));const c=i.length===0&&e>r;if(c){var b;const t=new Date(e+o);const i=new Date(t.getTime()+(l-e));const r=t.getDate();(b=a[r])!=null?b:a[r]=[];if(t.getMonth()===s){a[r].push({timeFrom:t,timeTo:i})}}t.setTime(t.getTime()+babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].stepSize*60*1e3)}}}babelHelpers.classPrivateFieldLooseBase(this,Re)[Re][i]=a}function Gs(e,s,a,l){const t=a<=e&&e<l;const i=a<s&&s<=l;const r=e<=a&&s>=l;return t||i||r}function Ws(e,s){return{year:e,month:s,currentTimezoneOffset:babelHelpers.classPrivateFieldLooseBase(this,xe)[xe],name:babelHelpers.classPrivateFieldLooseBase(this,vs)[vs](s),days:babelHelpers.classPrivateFieldLooseBase(this,ps)[ps](e,s)}}function Vs(){babelHelpers.classPrivateFieldLooseBase(this,As)[As](babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]);babelHelpers.classPrivateFieldLooseBase(this,Ds)[Ds]()}async function Xs(){this.nextMonthCreating=true;const e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]];const s=e.year;const a=e.month;const l=(a+1)%12;const t=s+Math.floor((a+1)/12);const i=l+1;await babelHelpers.classPrivateFieldLooseBase(this,ds)[ds](t,i);babelHelpers.classPrivateFieldLooseBase(this,is)[is](t,l);const r=babelHelpers.classPrivateFieldLooseBase(this,os)[os](t,l);babelHelpers.classPrivateFieldLooseBase(this,Me)[Me].push(r);this.nextMonthCreating=false}function Ys(){const e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]];const s=e.month;const a=(s+1)%12;return a+1}function Zs(){const e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]];const s=e.year;const a=e.month;return s+Math.floor((a+1)/12)}async function qs(e,s,a=true){const l=`${s}.${e}`;const t=new Date(e,s-1,1);const i=new Date(e,s,0,23,59);if(!babelHelpers.classPrivateFieldLooseBase(this,Se)[Se][l]){const e=await BX.ajax.runAction("calendar.api.sharingajax.getUsersAccessibility",{data:{userIds:babelHelpers.classPrivateFieldLooseBase(this,je)[je],timestampFrom:t.getTime(),timestampTo:i.getTime()}});babelHelpers.classPrivateFieldLooseBase(this,Se)[Se][l]=e.data}if(a===false){return}const r=s%12;const o=e+Math.floor(s/12);const b=r+1;babelHelpers.classPrivateFieldLooseBase(this,ds)[ds](o,b,false)}function Qs(e){const s=new Date(babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getFullYear(),e,1);return r.DateTimeFormat.format("f",s.getTime()/1e3)}function Js(e,s){const a=[];const l=new Date(e,s+1,0).getDate();const t=`${s+1}.${e}`;for(let r=1;r<=l;r++){var i;const l=new Date(e,s,r);const o=(i=babelHelpers.classPrivateFieldLooseBase(this,Re)[Re][t][l.getDate()])!=null?i:[];const b={value:r,slots:o,weekend:babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps](l),enableBooking:o.length>0};const c=new ve(b);a.push(c)}return a}function ea(){const e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]].days;let s=e.find((e=>e.getDay()===babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]));if(s===undefined){s=e[e.length-1]}return s}function sa(e){const s=`0${e.getMonth()+1}`.slice(-2);const a=`${e.getDate()}.${s}`;return babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].weekHolidays.includes(e.getDay())||babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].yearHolidays[a]!==undefined}function aa(e){const s=e.getDate()+"."+("0"+(e.getMonth()+1)).slice(-2);return babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].yearHolidays[s]!==undefined}function la(){babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze]=t.Tag.render(Le||(Le=Pe`
			<div class="calendar-sharing__timezone-value">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,ms)[ms](babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]));const e=t.Tag.render(ue||(ue=Pe`
			<div class="calendar-sharing__timezone">
				${0}
				<div class="calendar-sharing__timezone-area">
					<div class="calendar-sharing__timezone-title">${0}:</div>
					${0}
				</div>
			</div>
		`),t.Browser.isMobile()?babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]():"",t.Loc.getMessage("CALENDAR_SHARING_YOR_TIME"),babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze]);babelHelpers.classPrivateFieldLooseBase(this,Fs)[Fs]();if(!t.Browser.isMobile()){t.Event.bind(e,"click",(()=>{const s=babelHelpers.classPrivateFieldLooseBase(this,Fs)[Fs]().getPopupWindow();s.show();const a=s.getContentContainer();const l=a.querySelector(".menu-popup-item.--selected");const t=e.getBoundingClientRect().top+e.offsetHeight/4-a.getBoundingClientRect().top;a.scrollTop=l.offsetTop-t}))}return e}function ta(){var e,s;if((e=babelHelpers.classPrivateFieldLooseBase(this,Je)[Je])!=null&&e.getPopupWindow().isShown()){return babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]}(s=babelHelpers.classPrivateFieldLooseBase(this,Je)[Je])==null?void 0:s.destroy();const a=Object.keys(babelHelpers.classPrivateFieldLooseBase(this,We)[We]).map((e=>({text:babelHelpers.classPrivateFieldLooseBase(this,ms)[ms](e),className:e===babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]?"menu-popup-no-icon --selected":"menu-popup-no-icon",onclick:()=>{babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs](e);babelHelpers.classPrivateFieldLooseBase(this,Je)[Je].close()}})));babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]=i.MenuManager.create({id:"momomiomsiomx92984j",className:"calendar-sharing-timezone-select-popup",items:a,autoHide:true,maxHeight:window.innerHeight-150});return babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]}function ia(){const e=t.Tag.render(Fe||(Fe=Pe`
			<select class="calendar-sharing__timezone-select">
				${0}
			</select>
		`),Object.keys(babelHelpers.classPrivateFieldLooseBase(this,We)[We]).map((e=>t.Tag.render(He||(He=Pe`
					<option value="${0}" ${0}>
						${0}
					</option>
				`),e,e===babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]?"selected":"",babelHelpers.classPrivateFieldLooseBase(this,ms)[ms](e)))));t.Event.bind(e,"change",(()=>babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs](e.value)));return e}function ra(e){babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]=e;babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]=-(babelHelpers.classPrivateFieldLooseBase(this,We)[We][babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]].offset/60);b.EventEmitter.emit("updateTimezone",{timezone:e});babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze].innerHTML=babelHelpers.classPrivateFieldLooseBase(this,ms)[ms](babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]);babelHelpers.classPrivateFieldLooseBase(this,bs)[bs]();this.selectMonthDay()}function oa(e){return`${this.getTimezonePrefix(babelHelpers.classPrivateFieldLooseBase(this,We)[We][e].offset)} - ${e}`}function ba(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].daysOfWeek){const e=babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe].weekdays.map((e=>t.Tag.render(Be||(Be=Pe`
					<div class="calendar-sharing__month-col --day-of-week">${0}</div>
				`),e)));babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].daysOfWeek=t.Tag.render(me||(me=Pe`
				<div class="calendar-sharing__month-row">${0}</div>
			`),e)}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].daysOfWeek}function ca(e={}){var s;e.selected=((s=babelHelpers.classPrivateFieldLooseBase(this,$e)[$e])==null?void 0:s.getDay())===e.value&&e.currentMonth===true;const a=new ve(e);return a.render()}function na(){const e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]];const s=e.year;const a=e.month;const l=(new Date(s,a,7).getDay()-(babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].weekStart-1)+7)%7;const i=new Date(s,a+1,0).getDate();const r=a===0?new Date(s-1,11,0).getDate():new Date(s,a,0).getDate();const o=t.Tag.render(fe||(fe=Pe`<div class="calendar-sharing__month-row"></div>`));let b=r-l+1;for(let e=0;e<l;e++){t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,ys)[ys]({value:b,notCurrentMonth:true}),o);b++}for(let s=0;s<=i-1;s++){const a=e.days[s];t.Dom.append(a.render(),o)}let c=(new Date(s,a,i).getDay()-babelHelpers.classPrivateFieldLooseBase(this,qe)[qe].weekStart+7)%7;for(b=1;c<6;c++){t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,ys)[ys]({value:b,notCurrentMonth:true}),o);b++}const n=t.Tag.render(ye||(ye=Pe`
			<div class="calendar-sharing__month">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,fs)[fs](),o);const _={x:null};const d=e=>{_.x=e.changedTouches[0].clientX};t.Event.bind(n,"touchstart",(e=>{d(e)}));t.Event.bind(n,"touchend",(e=>{if(_.x<e.changedTouches[0].clientX-100){babelHelpers.classPrivateFieldLooseBase(this,Ss)[Ss]()}if(_.x>e.changedTouches[0].clientX+100){babelHelpers.classPrivateFieldLooseBase(this,js)[js]()}n.style.removeProperty("transform")}));t.Event.bind(n,"touchmove",(e=>{e.preventDefault()}));return n}function _a(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].monthWrapper){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].monthWrapper=t.Tag.render(ge||(ge=Pe`
				<div class="calendar-sharing__calendar-block --month">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]())}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].monthWrapper}function da(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].timezoneWrapper){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].timezoneWrapper=t.Tag.render(Te||(Te=Pe`
				<div class="calendar-sharing__calendar-block">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,us)[us]())}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].timezoneWrapper}function va(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].currentMonth){const e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]].name;const s=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]].year;babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].currentMonth=t.Tag.render(Ee||(Ee=Pe`
				<div class="calendar-sharing__calendar-title-day calendar-pub-ui__typography-title">${0}, ${0}</div>
			`),e,s);b.EventEmitter.subscribe(this,"updateCalendar",(()=>{const e=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]].name;const s=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]].year;babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].currentMonth.innerHTML=`${e}, ${s}`}))}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].currentMonth}function pa(e){t.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]());const s=babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]();if(t.Type.isString(e)){t.Dom.addClass(s,`--animate-${e}`);t.Event.bind(s,"animationend",(()=>{t.Dom.removeClass(s,`--animate-${e}`)}),{once:true})}t.Dom.append(s,babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]());b.EventEmitter.emit(this,"updateCalendar");if(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]===0){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].prevNav,"--disabled")}else{t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].prevNav,"--disabled")}}function ha(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].prevNav){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].prevNav=t.Tag.render(Oe||(Oe=Pe`
				<div class="calendar-sharing__calendar-nav_prev --disabled" title="${0}"></div>
			`),t.Loc.getMessage("CALENDAR_SHARING_NAV_PREV"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].prevNav,"click",babelHelpers.classPrivateFieldLooseBase(this,Ss)[Ss].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].prevNav}function Pa(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].nextNav){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].nextNav=t.Tag.render(De||(De=Pe`
				<div class="calendar-sharing__calendar-nav_next" title="${0}"></div>
			`),t.Loc.getMessage("CALENDAR_SHARING_NAV_NEXT"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].nextNav,"click",babelHelpers.classPrivateFieldLooseBase(this,js)[js].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].nextNav}function La(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].navigation){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].navigation=t.Tag.render(we||(we=Pe`
				<div class="calendar-sharing__calendar-nav">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ws)[ws](),babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns]())}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].navigation}async function ua(){if(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]===babelHelpers.classPrivateFieldLooseBase(this,Me)[Me].length-1){if(this.nextMonthCreating){return}await babelHelpers.classPrivateFieldLooseBase(this,cs)[cs]()}babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]+=1;babelHelpers.classPrivateFieldLooseBase(this,As)[As](babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]);b.EventEmitter.emit(this,"clickNextMonth");babelHelpers.classPrivateFieldLooseBase(this,Ds)[Ds]("next");this.selectMonthDay()}function Fa(){if(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]===0){return}babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]-=1;babelHelpers.classPrivateFieldLooseBase(this,As)[As](babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]);b.EventEmitter.emit(this,"clickPrevMonth");babelHelpers.classPrivateFieldLooseBase(this,Ds)[Ds]("prev");this.selectMonthDay()}function Ha(e){const s=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][e].year;const a=babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][e].month;babelHelpers.classPrivateFieldLooseBase(this,is)[is](s,a);babelHelpers.classPrivateFieldLooseBase(this,Me)[Me][babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]]=babelHelpers.classPrivateFieldLooseBase(this,os)[os](s,a)}function Ba(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].back){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].back=t.Tag.render(Ne||(Ne=Pe`
				<div class="calendar-sharing__calendar-back"></div>
			`));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].back,"click",(()=>{b.EventEmitter.emit("hideSlotSelector",this)}))}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].back}function ma(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].wrapper=t.Tag.render(Ce||(Ce=Pe`
				<div class="calendar-sharing__calendar">
					<div class="calendar-sharing__calendar-bar">
						${0}
						${0}
						${0}
					</div>
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Ks)[Ks](),babelHelpers.classPrivateFieldLooseBase(this,Os)[Os](),babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs](),babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts](),babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]())}return babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].wrapper}let fa=e=>e,ya,ga;var Ta=babelHelpers.classPrivateFieldLooseKey("wrapNode");var Ea=babelHelpers.classPrivateFieldLooseKey("isHiddenOnStart");var Oa=babelHelpers.classPrivateFieldLooseKey("getWrapNode");var Da=babelHelpers.classPrivateFieldLooseKey("bindEvents");var wa=babelHelpers.classPrivateFieldLooseKey("hide");var Na=babelHelpers.classPrivateFieldLooseKey("show");class Ca{constructor(e){Object.defineProperty(this,Na,{value:Ka});Object.defineProperty(this,wa,{value:Aa});Object.defineProperty(this,Da,{value:Sa});Object.defineProperty(this,Oa,{value:ja});Object.defineProperty(this,Ta,{writable:true,value:void 0});Object.defineProperty(this,Ea,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Ta)[Ta]=null;babelHelpers.classPrivateFieldLooseBase(this,Ea)[Ea]=e.isHiddenOnStart;babelHelpers.classPrivateFieldLooseBase(this,Da)[Da]()}getContent(){return t.Tag.render(ya||(ya=fa`
			<div></div>
		`))}getType(){return"base"}render(){t.Dom.append(this.getContent(),babelHelpers.classPrivateFieldLooseBase(this,Oa)[Oa]());return babelHelpers.classPrivateFieldLooseBase(this,Ta)[Ta]}}function ja(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ta)[Ta]){babelHelpers.classPrivateFieldLooseBase(this,Ta)[Ta]=t.Tag.render(ga||(ga=fa`<div class="calendar-pub__slots-wrap"></div>`));if(babelHelpers.classPrivateFieldLooseBase(this,Ea)[Ea]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ta)[Ta],"--hidden")}}return babelHelpers.classPrivateFieldLooseBase(this,Ta)[Ta]}function Sa(){b.EventEmitter.subscribe("selectorTypeChange",(e=>{if(e.data===this.getType()){babelHelpers.classPrivateFieldLooseBase(this,Na)[Na]()}else{babelHelpers.classPrivateFieldLooseBase(this,wa)[wa]()}}))}function Aa(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ta)[Ta],"--hidden")}function Ka(){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ta)[Ta],"--hidden")}let ka=e=>e,Ia,Ma,$a,Ra,za,xa,Ua,Ga;var Wa=babelHelpers.classPrivateFieldLooseKey("layout");var Va=babelHelpers.classPrivateFieldLooseKey("value");var Xa=babelHelpers.classPrivateFieldLooseKey("members");var Ya=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageMonth");var Za=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageDay");var qa=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageTimeFrom");var Qa=babelHelpers.classPrivateFieldLooseKey("getNodeDayInfo");var Ja=babelHelpers.classPrivateFieldLooseKey("getNodeTimeInterval");var el=babelHelpers.classPrivateFieldLooseKey("getNodeTimezone");var sl=babelHelpers.classPrivateFieldLooseKey("renderAvatarsSection");class al{constructor(){Object.defineProperty(this,sl,{value:cl});Object.defineProperty(this,el,{value:bl});Object.defineProperty(this,Ja,{value:ol});Object.defineProperty(this,Qa,{value:rl});Object.defineProperty(this,qa,{value:il});Object.defineProperty(this,Za,{value:tl});Object.defineProperty(this,Ya,{value:ll});Object.defineProperty(this,Wa,{writable:true,value:void 0});Object.defineProperty(this,Va,{writable:true,value:void 0});Object.defineProperty(this,Xa,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]={calendarPage:{month:null,day:null,timeFrom:null},dayInfo:null,timeInterval:null,timezone:null,avatarsSection:null};babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]={from:null,to:null,timezone:null,isFullDay:false}}updateValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].timezone=e.timezone}if(t.Type.isBoolean(e.isFullDay)){babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].isFullDay=e.isFullDay}if(e.members){babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa]=e.members}this.updateLayout()}updateLayout(){const e=babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].from.getTime()/1e3;const s=babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].to.getTime()/1e3;const a=r.DateTimeFormat.format("j F Y",e)!==r.DateTimeFormat.format("j F Y",s);const i=babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].isFullDay;const o=r.DateTimeFormat.getFormat("DAY_OF_WEEK_MONTH_FORMAT");const b=r.DateTimeFormat.getFormat("SHORT_TIME_FORMAT");if(i){babelHelpers.classPrivateFieldLooseBase(this,qa)[qa]().innerText=t.Loc.getMessage("CALENDAR_SHARING_WIDGET_DATE_FULL_DAY")}else{babelHelpers.classPrivateFieldLooseBase(this,qa)[qa]().innerText=r.DateTimeFormat.format(b,e)}babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya]().innerText=r.DateTimeFormat.format("f",e);babelHelpers.classPrivateFieldLooseBase(this,Za)[Za]().innerText=r.DateTimeFormat.format("d",e);if(i){babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa]().innerText=r.DateTimeFormat.format(o,e);babelHelpers.classPrivateFieldLooseBase(this,Ja)[Ja]().innerText=t.Loc.getMessage("CALENDAR_SHARING_WIDGET_DATE_FULL_DAY")}else if(a){babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa]().innerText=t.Loc.getMessage("CALENDAR_SHARING_WIDGET_DATE_EVENT_START",{"#DATE#":l.Util.formatDayMonthShortTime(e)});babelHelpers.classPrivateFieldLooseBase(this,Ja)[Ja]().innerText=t.Loc.getMessage("CALENDAR_SHARING_WIDGET_DATE_EVENT_END",{"#DATE#":l.Util.formatDayMonthShortTime(s)})}else{babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa]().innerText=r.DateTimeFormat.format(o,e);babelHelpers.classPrivateFieldLooseBase(this,Ja)[Ja]().innerText=l.Util.formatTimeInterval(babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].from,babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].to)}if(i){babelHelpers.classPrivateFieldLooseBase(this,el)[el]().innerText="no timezone";babelHelpers.classPrivateFieldLooseBase(this,el)[el]().setAttribute("title","");t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,el)[el](),"--hidden")}else{babelHelpers.classPrivateFieldLooseBase(this,el)[el]().innerText=l.Util.getFormattedTimezone(babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].timezone);babelHelpers.classPrivateFieldLooseBase(this,el)[el]().setAttribute("title",l.Util.getFormattedTimezone(babelHelpers.classPrivateFieldLooseBase(this,Va)[Va].timezone));t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,el)[el](),"--hidden")}babelHelpers.classPrivateFieldLooseBase(this,sl)[sl]()}render(){return t.Tag.render(Ia||(Ia=ka`
			<div class="calendar-pub__form-date">
				<div class="calendar-pub__form-date-day">
					${0}
					<div class="calendar-pub__form-date-content">
						${0}
						${0}
					</div>
				</div>
				<div class="calendar-pub__form-date-info">
					${0}
					${0}
					${0}
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya](),babelHelpers.classPrivateFieldLooseBase(this,Za)[Za](),babelHelpers.classPrivateFieldLooseBase(this,qa)[qa](),babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa](),babelHelpers.classPrivateFieldLooseBase(this,Ja)[Ja](),babelHelpers.classPrivateFieldLooseBase(this,el)[el](),babelHelpers.classPrivateFieldLooseBase(this,sl)[sl]())}}function ll(){if(!babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.month){babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.month=t.Tag.render(Ma||(Ma=ka`
				<div class="calendar-pub__form-date-day_month"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.month}function tl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.day){babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.day=t.Tag.render($a||($a=ka`
				<div class="calendar-pub__form-date-day_num"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.day}function il(){if(!babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.timeFrom){babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.timeFrom=t.Tag.render(Ra||(Ra=ka`
				<div class="calendar-pub__form-date-day_time">13:00</div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].calendarPage.timeFrom}function rl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].dayInfo){babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].dayInfo=t.Tag.render(za||(za=ka`
				<div class="calendar-pub__form-date-info_day"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].dayInfo}function ol(){if(!babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].timeInterval){babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].timeInterval=t.Tag.render(xa||(xa=ka`
				<div class="calendar-pub__form-date-info_time"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].timeInterval}function bl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].timezone){babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].timezone=t.Tag.render(Ua||(Ua=ka`
				<div class="calendar-pub__form-date-info_time-zone"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].timezone}function cl(){const e=new f({className:"calendar-pub__form-date-members",textClassName:"calendar-pub-ui__typography-xs",avatarSize:30,members:babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa]}).render();if(!babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].avatarsSection){babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].avatarsSection=t.Tag.render(Ga||(Ga=ka`
				<div>${0}</div>
			`),e)}else{babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].avatarsSection.innerHTML="";babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].avatarsSection.append(e)}return babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa].avatarsSection}let nl=e=>e,_l,dl,vl,pl,hl,Pl,Ll,ul;var Fl=babelHelpers.classPrivateFieldLooseKey("layout");var Hl=babelHelpers.classPrivateFieldLooseKey("value");var Bl=babelHelpers.classPrivateFieldLooseKey("widgetDate");var ml=babelHelpers.classPrivateFieldLooseKey("owner");var fl=babelHelpers.classPrivateFieldLooseKey("link");var yl=babelHelpers.classPrivateFieldLooseKey("sharingUser");var gl=babelHelpers.classPrivateFieldLooseKey("phoneDb");var Tl=babelHelpers.classPrivateFieldLooseKey("isFromCrm");var El=babelHelpers.classPrivateFieldLooseKey("hasContactData");var Ol=babelHelpers.classPrivateFieldLooseKey("isPhoneFeatureEnabled");var Dl=babelHelpers.classPrivateFieldLooseKey("isMailFeatureEnabled");var wl=babelHelpers.classPrivateFieldLooseKey("inputData");var Nl=babelHelpers.classPrivateFieldLooseKey("inputErrors");var Cl=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");var jl=babelHelpers.classPrivateFieldLooseKey("getEventName");var Sl=babelHelpers.classPrivateFieldLooseKey("getNodeButtonSend");var Al=babelHelpers.classPrivateFieldLooseKey("handleSaveButtonClick");var Kl=babelHelpers.classPrivateFieldLooseKey("saveEvent");var kl=babelHelpers.classPrivateFieldLooseKey("parseDate");var Il=babelHelpers.classPrivateFieldLooseKey("validateData");var Ml=babelHelpers.classPrivateFieldLooseKey("validatePhone");var $l=babelHelpers.classPrivateFieldLooseKey("validateEmail");var Rl=babelHelpers.classPrivateFieldLooseKey("clearContactDataError");var zl=babelHelpers.classPrivateFieldLooseKey("clearContactNameError");var xl=babelHelpers.classPrivateFieldLooseKey("showFullContactPlaceholder");var Ul=babelHelpers.classPrivateFieldLooseKey("isMailContactOnly");var Gl=babelHelpers.classPrivateFieldLooseKey("isPhoneContactOnly");var Wl=babelHelpers.classPrivateFieldLooseKey("isCrmAndHasContact");var Vl=babelHelpers.classPrivateFieldLooseKey("getNodeWidgetDate");var Xl=babelHelpers.classPrivateFieldLooseKey("getNodeFormArea");var Yl=babelHelpers.classPrivateFieldLooseKey("getContactDataPlaceholder");var Zl=babelHelpers.classPrivateFieldLooseKey("getNodeInputName");var ql=babelHelpers.classPrivateFieldLooseKey("getNodeInputContact");var Ql=babelHelpers.classPrivateFieldLooseKey("getNodeInputDescription");var Jl=babelHelpers.classPrivateFieldLooseKey("getNodeInputError");var et=babelHelpers.classPrivateFieldLooseKey("renderInputErrors");var st=babelHelpers.classPrivateFieldLooseKey("getNodeBack");var at=babelHelpers.classPrivateFieldLooseKey("onPhoneInput");var lt=babelHelpers.classPrivateFieldLooseKey("getTextBeforeCursor");var tt=babelHelpers.classPrivateFieldLooseKey("setCursorToFormattedPosition");var it=babelHelpers.classPrivateFieldLooseKey("getTextEscapedForRegex");var rt=babelHelpers.classPrivateFieldLooseKey("onPhoneInputKeyDown");var ot=babelHelpers.classPrivateFieldLooseKey("isPhoneTypeInput");var bt=babelHelpers.classPrivateFieldLooseKey("isDigit");var ct=babelHelpers.classPrivateFieldLooseKey("isControlKey");var nt=babelHelpers.classPrivateFieldLooseKey("formatPhone");var _t=babelHelpers.classPrivateFieldLooseKey("findMask");class dt extends Ca{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,_t,{value:Wt});Object.defineProperty(this,nt,{value:Gt});Object.defineProperty(this,ct,{value:Ut});Object.defineProperty(this,bt,{value:xt});Object.defineProperty(this,ot,{value:zt});Object.defineProperty(this,rt,{value:Rt});Object.defineProperty(this,it,{value:$t});Object.defineProperty(this,tt,{value:Mt});Object.defineProperty(this,lt,{value:It});Object.defineProperty(this,at,{value:kt});Object.defineProperty(this,st,{value:Kt});Object.defineProperty(this,et,{value:At});Object.defineProperty(this,Jl,{value:St});Object.defineProperty(this,Ql,{value:jt});Object.defineProperty(this,ql,{value:Ct});Object.defineProperty(this,Zl,{value:Nt});Object.defineProperty(this,Yl,{value:wt});Object.defineProperty(this,Xl,{value:Dt});Object.defineProperty(this,Vl,{value:Ot});Object.defineProperty(this,Wl,{value:Et});Object.defineProperty(this,Gl,{value:Tt});Object.defineProperty(this,Ul,{value:gt});Object.defineProperty(this,xl,{value:yt});Object.defineProperty(this,zl,{value:ft});Object.defineProperty(this,Rl,{value:mt});Object.defineProperty(this,$l,{value:Bt});Object.defineProperty(this,Ml,{value:Ht});Object.defineProperty(this,Il,{value:Ft});Object.defineProperty(this,kl,{value:ut});Object.defineProperty(this,Kl,{value:Lt});Object.defineProperty(this,Al,{value:Pt});Object.defineProperty(this,Sl,{value:ht});Object.defineProperty(this,jl,{value:pt});Object.defineProperty(this,Cl,{value:vt});Object.defineProperty(this,Fl,{writable:true,value:void 0});Object.defineProperty(this,Hl,{writable:true,value:void 0});Object.defineProperty(this,Bl,{writable:true,value:void 0});Object.defineProperty(this,ml,{writable:true,value:void 0});Object.defineProperty(this,fl,{writable:true,value:void 0});Object.defineProperty(this,yl,{writable:true,value:void 0});Object.defineProperty(this,gl,{writable:true,value:void 0});Object.defineProperty(this,Tl,{writable:true,value:void 0});Object.defineProperty(this,El,{writable:true,value:void 0});Object.defineProperty(this,Ol,{writable:true,value:void 0});Object.defineProperty(this,Dl,{writable:true,value:void 0});Object.defineProperty(this,wl,{writable:true,value:void 0});Object.defineProperty(this,Nl,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ml)[ml]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,fl)[fl]=e.link;babelHelpers.classPrivateFieldLooseBase(this,Bl)[Bl]=new al;babelHelpers.classPrivateFieldLooseBase(this,yl)[yl]=e.sharingUser;babelHelpers.classPrivateFieldLooseBase(this,Tl)[Tl]=e.isFromCrm;babelHelpers.classPrivateFieldLooseBase(this,El)[El]=e.hasContactData;babelHelpers.classPrivateFieldLooseBase(this,Ol)[Ol]=e.isPhoneFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,Dl)[Dl]=e.isMailFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl]={wrapper:null,buttonSend:null,widgetDate:null,formArea:null,back:null,calendarPage:{month:null,day:null,timeFrom:null},dayInfo:null,timeInterval:null,timezone:null,inputs:{name:null,contact:null,description:null}};babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl]={from:null,to:null,timezone:null,isFullDay:false,members:babelHelpers.classPrivateFieldLooseBase(this,fl)[fl].members};babelHelpers.classPrivateFieldLooseBase(this,wl)[wl]={authorName:"",contactData:"",description:""};babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl]={authorNameEmpty:false,contactDataEmpty:false,contactDataIncorrect:false};babelHelpers.classPrivateFieldLooseBase(this,gl)[gl]=null}cleanDescription(){babelHelpers.classPrivateFieldLooseBase(this,Ql)[Ql]().value=null;babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].description=""}getType(){return"form"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Cl)[Cl]()}updateFormValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].timezone=e.timezone}if(t.Type.isBoolean(e.isFullDay)){babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].isFullDay=e.isFullDay}this.updateFormLayout()}updateFormLayout(){babelHelpers.classPrivateFieldLooseBase(this,Bl)[Bl].updateValue(babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl])}clearInputErrors(){babelHelpers.classPrivateFieldLooseBase(this,zl)[zl]();babelHelpers.classPrivateFieldLooseBase(this,Rl)[Rl]()}}function vt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].wrapper=t.Tag.render(_l||(_l=nl`
				<div class="calendar-pub__form">
					<div class="calendar-sharing__calendar-bar">
						${0}
						<div class="calendar-sharing__calendar-title-day calendar-pub-ui__typography-title">
							${0}
						</div>
					</div>
					<div class="calendar-sharing__calendar-block">
						${0}
					</div>
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,st)[st](),babelHelpers.classPrivateFieldLooseBase(this,jl)[jl](),babelHelpers.classPrivateFieldLooseBase(this,Vl)[Vl](),babelHelpers.classPrivateFieldLooseBase(this,Xl)[Xl]())}return babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].wrapper}function pt(){return t.Loc.getMessage("CALENDAR_SHARING_EVENT_NAME",{"#OWNER_NAME#":`${babelHelpers.classPrivateFieldLooseBase(this,ml)[ml].name} ${babelHelpers.classPrivateFieldLooseBase(this,ml)[ml].lastName}`})}function ht(){if(!babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].buttonSend){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].buttonSend=t.Tag.render(dl||(dl=nl`
				<div class="calendar-pub-ui__btn">
					<div class="calendar-pub-ui__btn-text">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_CREATE_MEETING"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].buttonSend,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,Al)[Al]()))}return babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].buttonSend}async function Pt(){if(t.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].buttonSend,"--wait")){return}t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].buttonSend,"--wait");this.clearInputErrors();if(!babelHelpers.classPrivateFieldLooseBase(this,Il)[Il]()){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].buttonSend,"--wait");return}const e=await babelHelpers.classPrivateFieldLooseBase(this,Kl)[Kl]();if(e){b.EventEmitter.emit("selectorTypeChange","event",{eventName:babelHelpers.classPrivateFieldLooseBase(this,jl)[jl](),from:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].from,to:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].timezone})}t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].buttonSend,"--wait")}async function Lt(){var e,s,a,l;let t=null;try{if(babelHelpers.classPrivateFieldLooseBase(this,Tl)[Tl]){t=await BX.ajax.runAction("calendar.api.sharingajax.saveCrmEvent",{data:{ownerCreated:babelHelpers.classPrivateFieldLooseBase(this,yl)[yl].ownerCreated,ownerId:babelHelpers.classPrivateFieldLooseBase(this,ml)[ml].id,dateFrom:babelHelpers.classPrivateFieldLooseBase(this,kl)[kl](babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].from),dateTo:babelHelpers.classPrivateFieldLooseBase(this,kl)[kl](babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].to),userName:babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].authorName,userContact:babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData,timezone:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].timezone,crmDealLinkHash:babelHelpers.classPrivateFieldLooseBase(this,fl)[fl].hash,description:babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].description}})}else{t=await BX.ajax.runAction("calendar.api.sharingajax.saveEvent",{data:{ownerCreated:babelHelpers.classPrivateFieldLooseBase(this,yl)[yl].ownerCreated,ownerId:babelHelpers.classPrivateFieldLooseBase(this,ml)[ml].id,userName:babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].authorName,userContact:babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData,dateFrom:babelHelpers.classPrivateFieldLooseBase(this,kl)[kl](babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].from),dateTo:babelHelpers.classPrivateFieldLooseBase(this,kl)[kl](babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].to),timezone:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].timezone,parentLinkHash:babelHelpers.classPrivateFieldLooseBase(this,fl)[fl].hash,description:babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].description}})}}catch(e){t=e}if(t.errors.length===0){b.EventEmitter.emit("onSaveEvent",{eventName:babelHelpers.classPrivateFieldLooseBase(this,jl)[jl](),from:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].from,to:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].timezone,eventId:t.data.eventId,eventLinkId:t.data.eventLinkId,eventLinkHash:t.data.eventLinkHash,eventLinkShortUrl:t.data.eventLinkShortUrl,userName:babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].authorName,state:"created",isView:false});return true}if((e=t)!=null&&(s=e.data)!=null&&s.contactDataError||(a=t)!=null&&(l=a.data)!=null&&l.isEmptyContactName){babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataIncorrect=t.data.contactDataError===true;babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].authorNameEmpty=t.data.isEmptyContactName===true;babelHelpers.classPrivateFieldLooseBase(this,et)[et]();return false}b.EventEmitter.emit("onSaveEvent",{eventName:babelHelpers.classPrivateFieldLooseBase(this,jl)[jl](),from:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].from,to:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl].timezone,state:"not-created",isView:false});return false}function ut(e){const s=r.DateTimeFormat.format(l.Util.getDateFormat(),e.getTime()/1e3);const a=r.DateTimeFormat.format(l.Util.getTimeFormat(),e.getTime()/1e3);return`${s} ${a}`}function Ft(){if(babelHelpers.classPrivateFieldLooseBase(this,Wl)[Wl]()){return true}if(babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].authorName.length===0){babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].authorNameEmpty=true}if(babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData.length===0){babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataEmpty=true}if(!babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataEmpty){babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataIncorrect=!babelHelpers.classPrivateFieldLooseBase(this,Ml)[Ml]()&&!babelHelpers.classPrivateFieldLooseBase(this,$l)[$l]()}babelHelpers.classPrivateFieldLooseBase(this,et)[et]();return!babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].authorNameEmpty&&!babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataEmpty&&!babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataIncorrect}function Ht(){if(babelHelpers.classPrivateFieldLooseBase(this,Ul)[Ul]()){return false}const e=babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData.replace(/[()\s\-]+/g,"");const s=e.match(/(^\+?\d{4,25}$)/i);return(s==null?void 0:s[0])===e}function Bt(){if(babelHelpers.classPrivateFieldLooseBase(this,Gl)[Gl]()){return false}const e=babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData.match(/(^[^@]+@.+$)/i);return(e==null?void 0:e[0])===babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData}function mt(){babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataEmpty=false;babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataIncorrect=false;babelHelpers.classPrivateFieldLooseBase(this,et)[et]()}function ft(){babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].authorNameEmpty=false;babelHelpers.classPrivateFieldLooseBase(this,et)[et]()}function yt(){return!babelHelpers.classPrivateFieldLooseBase(this,Ul)[Ul]()&&!babelHelpers.classPrivateFieldLooseBase(this,Gl)[Gl]()}function gt(){return!babelHelpers.classPrivateFieldLooseBase(this,Ol)[Ol]&&babelHelpers.classPrivateFieldLooseBase(this,Dl)[Dl]}function Tt(){return babelHelpers.classPrivateFieldLooseBase(this,Ol)[Ol]&&!babelHelpers.classPrivateFieldLooseBase(this,Dl)[Dl]}function Et(){return babelHelpers.classPrivateFieldLooseBase(this,Tl)[Tl]&&babelHelpers.classPrivateFieldLooseBase(this,El)[El]}function Ot(){if(!babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].widgetDate){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].widgetDate=babelHelpers.classPrivateFieldLooseBase(this,Bl)[Bl].render()}return babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].widgetDate}function Dt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].formArea){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].nameInputError=babelHelpers.classPrivateFieldLooseBase(this,Jl)[Jl]();babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].contactInputError=babelHelpers.classPrivateFieldLooseBase(this,Jl)[Jl]();babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].formArea=t.Tag.render(vl||(vl=nl`
				<div class="calendar-sharing__calendar-block --form">
					<div class="calendar-sharing__form-area">
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}<span>*</span></div>
							${0}
						</div>
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}<span>*</span></div>
							${0}
						</div>
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}</div>
						</div>
					</div>
					<div class="calendar-pub__welcome-bottom">
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Zl)[Zl](),t.Loc.getMessage("CALENDAR_SHARING_FORM_INPUT_NAME"),babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].nameInputError,babelHelpers.classPrivateFieldLooseBase(this,ql)[ql](),babelHelpers.classPrivateFieldLooseBase(this,Yl)[Yl](),babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].contactInputError,babelHelpers.classPrivateFieldLooseBase(this,Ql)[Ql](),t.Loc.getMessage("CALENDAR_SHARING_FORM_INPUT_INFO"),babelHelpers.classPrivateFieldLooseBase(this,Sl)[Sl]())}return babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].formArea}function wt(){let e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_PHONE_FEATURE_ENABLED";if(babelHelpers.classPrivateFieldLooseBase(this,Ul)[Ul]()){e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_PHONE_FEATURE_DISABLED"}if(babelHelpers.classPrivateFieldLooseBase(this,Gl)[Gl]()){e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_MAIL_FEATURE_DISABLED"}return t.Loc.getMessage(e)}function Nt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name){var e;babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name=t.Tag.render(pl||(pl=nl`
				<input type="text" placeholder=" " class="calendar-sharing__form-input-area">
			`));if(babelHelpers.classPrivateFieldLooseBase(this,El)[El]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name,"--hidden")}else if((e=babelHelpers.classPrivateFieldLooseBase(this,yl)[yl])!=null&&e.userName){var s;babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name.value=(s=babelHelpers.classPrivateFieldLooseBase(this,yl)[yl])==null?void 0:s.userName}babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].authorName=babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name.value;t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].authorName=babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name.value}));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name,"focus",babelHelpers.classPrivateFieldLooseBase(this,zl)[zl].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name}function Ct(){if(!babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact=t.Tag.render(hl||(hl=nl`
				<input type="text" placeholder=" " class="calendar-sharing__form-input-area">
			`));if(babelHelpers.classPrivateFieldLooseBase(this,Ul)[Ul]()){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.inputMode="email"}if(babelHelpers.classPrivateFieldLooseBase(this,Gl)[Gl]()){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.inputMode="tel"}if(babelHelpers.classPrivateFieldLooseBase(this,El)[El]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact,"--hidden")}else if(babelHelpers.classPrivateFieldLooseBase(this,yl)[yl]){if(babelHelpers.classPrivateFieldLooseBase(this,Dl)[Dl]&&babelHelpers.classPrivateFieldLooseBase(this,yl)[yl].personalMailbox){var e;babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.value=(e=babelHelpers.classPrivateFieldLooseBase(this,yl)[yl])==null?void 0:e.personalMailbox}else if(babelHelpers.classPrivateFieldLooseBase(this,Ol)[Ol]&&babelHelpers.classPrivateFieldLooseBase(this,yl)[yl].personalPhone){var s;babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.value=(s=babelHelpers.classPrivateFieldLooseBase(this,yl)[yl])==null?void 0:s.personalPhone}}babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData=babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.value;t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact,"input",(e=>{babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData=babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.value;babelHelpers.classPrivateFieldLooseBase(this,at)[at](e)}));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact,"keydown",babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].bind(this));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact,"focus",babelHelpers.classPrivateFieldLooseBase(this,Rl)[Rl].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact}function jt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.description){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.description=t.Tag.render(Pl||(Pl=nl`
				<textarea type="text" placeholder=" " class="calendar-sharing__form-input-area --textarea"></textarea>
			`));babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].description=babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.description.value;t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.description,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].description=babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.description.value}))}return babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.description}function St(){return t.Tag.render(Ll||(Ll=nl`
			<span class="calendar-sharing__form-input-error"></span>
		`))}function At(){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name.parentNode,"--error");t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.parentNode,"--error");if(babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].authorNameEmpty){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.name.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].nameInputError.innerText=t.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_REQUIRED")}if(babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataEmpty){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].contactInputError.innerText=t.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_REQUIRED")}if(babelHelpers.classPrivateFieldLooseBase(this,Nl)[Nl].contactDataIncorrect){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].contactInputError.innerText=t.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_INCORRECT")}}function Kt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].back){babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].back=t.Tag.render(ul||(ul=nl`
				<div class="calendar-sharing__calendar-back"></div>
			`));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].back,"click",(()=>{b.EventEmitter.emit("selectorTypeChange","slot-list")}))}return babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].back}function kt(){babelHelpers.classPrivateFieldLooseBase(this,Rl)[Rl]();if(!babelHelpers.classPrivateFieldLooseBase(this,ot)[ot]()){return}const e=babelHelpers.classPrivateFieldLooseBase(this,lt)[lt](babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact);babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData=babelHelpers.classPrivateFieldLooseBase(this,nt)[nt](babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData);babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact.value=babelHelpers.classPrivateFieldLooseBase(this,wl)[wl].contactData;babelHelpers.classPrivateFieldLooseBase(this,tt)[tt](babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl].inputs.contact,e)}function It(e){const s=e.selectionStart;return e.value.slice(0,s)}function Mt(e,s){const a=babelHelpers.classPrivateFieldLooseBase(this,it)[it](s.slice(0,-1));const l=babelHelpers.classPrivateFieldLooseBase(this,it)[it](s.slice(-1));const t=e.value.match(`${a}.*?${l}`);if(!t){return}const i=t[0];const r=e.value.indexOf(i)+i.length;e.setSelectionRange(r,r)}function $t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rt(e){if(!babelHelpers.classPrivateFieldLooseBase(this,ot)[ot]()){return}if(!babelHelpers.classPrivateFieldLooseBase(this,bt)[bt](e.key)&&!babelHelpers.classPrivateFieldLooseBase(this,ct)[ct](e.key)&&!l.Util.isAnyModifierKeyPressed(e)){e.preventDefault()}}function zt(){return babelHelpers.classPrivateFieldLooseBase(this,Gl)[Gl]()||babelHelpers.classPrivateFieldLooseBase(this,xl)[xl]()&&this.contactData.slice(0,1)==="+"}function xt(e){return/^\d+$/.test(e)}function Ut(e){return["Esc","Delete","Backspace","Tab"].indexOf(e)>=0||e.includes("Arrow")}function Gt(e){var s;(s=e)!=null?s:e="";const a=e.indexOf("+")===0;e=e.replace(/\D/g,"");if(!a&&e.substr(0,1)==="8"){e=`7${e.substr(1)}`}if(!babelHelpers.classPrivateFieldLooseBase(this,gl)[gl]){babelHelpers.classPrivateFieldLooseBase(this,gl)[gl]="247,ac,___-____|376,ad,___-___-___|971,ae,___-_-___-____|93,af,__-__-___-____|1268,ag,_ (___) ___-____|1264,ai,_ (___) ___-____|355,al,___ (___) ___-___|374,am,___-__-___-___|599,bq,___-___-____|244,ao,___ (___) ___-___|6721,aq,___-___-___|54,ar,__ (___) ___-____|1684,as,_ (___) ___-____|43,at,__ (___) ___-____|61,au,__-_-____-____|297,aw,___-___-____|994,az,___ (__) ___-__-__|387,ba,___-__-____|1246,bb,_ (___) ___-____|880,bd,___-__-___-___|32,be,__ (___) ___-___|226,bf,___-__-__-____|359,bg,___ (___) ___-___|973,bh,___-____-____|257,bi,___-__-__-____|229,bj,___-__-__-____|1441,bm,_ (___) ___-____|673,bn,___-___-____|591,bo,___-_-___-____|55,br,__-(__)-____-____|1242,bs,_ (___) ___-____|975,bt,___-_-___-___|267,bw,___-__-___-___|375,by,___ (__) ___-__-__|501,bz,___-___-____|243,cd,___ (___) ___-___|236,cf,___-__-__-____|242,cg,___-__-___-____|41,ch,__-__-___-____|225,ci,___-__-___-___|682,ck,___-__-___|56,cl,__-_-____-____|237,cm,___-____-____|86,cn,__ (___) ____-___|57,co,__ (___) ___-____|506,cr,___-____-____|53,cu,__-_-___-____|238,cv,___ (___) __-__|357,cy,___-__-___-___|420,cz,___ (___) ___-___|49,de,__-___-___|253,dj,___-__-__-__-__|45,dk,__-__-__-__-__|1767,dm,_ (___) ___-____|1809,do,_ (___) ___-____|,do,_ (___) ___-____|213,dz,___-__-___-____|593,ec,___-_-___-____|372,ee,___-___-____|20,eg,__ (___) ___-____|291,er,___-_-___-___|34,es,__ (___) ___-___|251,et,___-__-___-____|358,fi,___ (___) ___-__-__|679,fj,___-__-_____|500,fk,___-_____|691,fm,___-___-____|298,fo,___-___-___|262,fr,___-_____-____|33,fr,__ (___) ___-___|508,fr,___-__-____|590,fr,___ (___) ___-___|241,ga,___-_-__-__-__|1473,gd,_ (___) ___-____|995,ge,___ (___) ___-___|594,gf,___-_____-____|233,gh,___ (___) ___-___|350,gi,___-___-_____|299,gl,___-__-__-__|220,gm,___ (___) __-__|224,gn,___-__-___-___|240,gq,___-__-___-____|30,gr,__ (___) ___-____|502,gt,___-_-___-____|1671,gu,_ (___) ___-____|245,gw,___-_-______|592,gy,___-___-____|852,hk,___-____-____|504,hn,___-____-____|385,hr,___-__-___-___|509,ht,___-__-__-____|36,hu,__ (___) ___-___|62,id,__-__-___-__|353,ie,___ (___) ___-___|972,il,___-_-___-____|91,in,__ (____) ___-___|246,io,___-___-____|964,iq,___ (___) ___-____|98,ir,__ (___) ___-____|354,is,___-___-____|39,it,__ (___) ____-___|1876,jm,_ (___) ___-____|962,jo,___-_-____-____|81,jp,__ (___) ___-___|254,ke,___-___-______|996,kg,___ (___) ___-___|855,kh,___ (__) ___-___|686,ki,___-__-___|269,km,___-__-_____|1869,kn,_ (___) ___-____|850,kp,___-___-___|82,kr,__-__-___-____|965,kw,___-____-____|1345,ky,_ (___) ___-____|77,kz,_ (___) ___-__-__|856,la,___-__-___-___|961,lb,___-_-___-___|1758,lc,_ (___) ___-____|423,li,___ (___) ___-____|94,lk,__-__-___-____|231,lr,___-__-___-___|266,ls,___-_-___-____|370,lt,___ (___) __-___|352,lu,___ (___) ___-___|371,lv,___-__-___-___|218,ly,___-__-___-___|212,ma,___-__-____-___|377,mc,___-__-___-___|373,md,___-____-____|382,me,___-__-___-___|261,mg,___-__-__-_____|692,mh,___-___-____|389,mk,___-__-___-___|223,ml,___-__-__-____|95,mm,__-___-___|976,mn,___-__-__-____|853,mo,___-____-____|1670,mp,_ (___) ___-____|596,mq,___ (___) __-__-__|222,mr,___ (__) __-____|1664,ms,_ (___) ___-____|356,mt,___-____-____|230,mu,___-___-____|960,mv,___-___-____|265,mw,___-_-____-____|52,mx,__-__-__-____|60,my,__-_-___-___|258,mz,___-__-___-___|264,na,___-__-___-____|687,nc,___-__-____|227,ne,___-__-__-____|6723,nf,___-___-___|234,ng,___-__-___-__|505,ni,___-____-____|31,nl,__-__-___-____|47,no,__ (___) __-___|977,np,___-__-___-___|674,nr,___-___-____|683,nu,___-____|64,nz,__-__-___-___|968,om,___-__-___-___|507,pa,___-___-____|51,pe,__ (___) ___-___|689,pf,___-__-__-__|675,pg,___ (___) __-___|63,ph,__ (___) ___-____|92,pk,__ (___) ___-____|48,pl,__ (___) ___-___|970,ps,___-__-___-____|351,pt,___-__-___-____|680,pw,___-___-____|595,py,___ (___) ___-___|974,qa,___-____-____|40,ro,__-__-___-____|381,rs,___-__-___-____|7,ru,_ (___) ___-__-__|250,rw,___ (___) ___-___|966,sa,___-_-___-____|677,sb,___-_____|248,sc,___-_-___-___|249,sd,___-__-___-____|46,se,__-__-___-____|65,sg,__-____-____|386,si,___-__-___-___|421,sk,___ (___) ___-___|232,sl,___-__-______|378,sm,___-____-______|221,sn,___-__-___-____|252,so,___-_-___-___|597,sr,___-___-___|211,ss,___-__-___-____|239,st,___-__-_____|503,sv,___-__-__-____|1721,sx,_ (___) ___-____|963,sy,___-__-____-___|268,sz,___ (__) __-____|1649,tc,_ (___) ___-____|235,td,___-__-__-__-__|228,tg,___-__-___-___|66,th,__-__-___-___|992,tj,___-__-___-____|690,tk,___-____|670,tl,___-___-____|993,tm,___-_-___-____|216,tn,___-__-___-___|676,to,___-_____|90,tr,__ (___) ___-____|1868,tt,_ (___) ___-____|688,tv,___-_____|886,tw,___-____-____|255,tz,___-__-___-____|380,ua,___ (__) ___-__-__|256,ug,___ (___) ___-___|44,gb,__-__-____-____|598,uy,___-_-___-__-__|998,uz,___-__-___-____|396698,va,__-_-___-_____|1784,vc,_ (___) ___-____|58,ve,__ (___) ___-____|1284,vg,_ (___) ___-____|1340,vi,_ (___) ___-____|84,vn,__-__-____-___|678,vu,___-_____|681,wf,___-__-____|685,ws,___-__-____|967,ye,___-_-___-___|27,za,__-__-___-____|260,zm,___ (__) ___-____|263,zw,___-_-______|1,us,_ (___) ___-____|".split("|").map((e=>{e=e.split(",");return{code:e[0],id:e[1],mask:e[2]}}))}if(e.length>0){let s=babelHelpers.classPrivateFieldLooseBase(this,_t)[_t](e);s+=`${s.indexOf("-")>=0?"-":" "}__`.repeat(10);for(let a=0;a<e.length;a++){s=s.replace("_",e.slice(a,a+1))}e=s.replace(/\D+$/,"").replace(/_/g,"0")}if(a||e.length>0){e=`+${e}`}return e}function Wt(e){const s=babelHelpers.classPrivateFieldLooseBase(this,gl)[gl].filter((s=>e.indexOf(s.code)===0)).sort(((e,s)=>s.code.length-e.code.length))[0];return s?s.mask:"_ ___ __ __ __"}let Vt=e=>e,Xt;var Yt=babelHelpers.classPrivateFieldLooseKey("layout");var Zt=babelHelpers.classPrivateFieldLooseKey("bindEvents");var qt=babelHelpers.classPrivateFieldLooseKey("getNodeEmptyState");class Qt extends Ca{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,qt,{value:ei});Object.defineProperty(this,Zt,{value:Jt});Object.defineProperty(this,Yt,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt]={content:null};babelHelpers.classPrivateFieldLooseBase(this,Zt)[Zt]()}getType(){return"empty-state"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,qt)[qt]()}}function Jt(){}function ei(){if(!babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].content){babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].content=t.Tag.render(Xt||(Xt=Vt`
				<div class="calendar-pub__slots-empty">
					<div class="calendar-pub__slots-empty_title">${0}</div>
					<div class="calendar-pub__slots-empty_info">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_EMPTY"),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_EMPTY_INFO"))}return babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].content}let si=e=>e,ai;var li=babelHelpers.classPrivateFieldLooseKey("layout");var ti=babelHelpers.classPrivateFieldLooseKey("bindEvents");var ii=babelHelpers.classPrivateFieldLooseKey("getNodeEmptyState");class ri extends Ca{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,ii,{value:bi});Object.defineProperty(this,ti,{value:oi});Object.defineProperty(this,li,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,li)[li]={content:null};babelHelpers.classPrivateFieldLooseBase(this,ti)[ti]()}getType(){return"access-denied"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,ii)[ii]()}}function oi(){}function bi(){if(!babelHelpers.classPrivateFieldLooseBase(this,li)[li].content){babelHelpers.classPrivateFieldLooseBase(this,li)[li].content=t.Tag.render(ai||(ai=si`
				<div class="calendar-pub__slots-empty --icon-cross">
					<div class="calendar-pub__slots-empty_title">${0}</div>
					<div class="calendar-pub__slots-empty_info">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED"),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED_INFO"))}return babelHelpers.classPrivateFieldLooseBase(this,li)[li].content}let ci=e=>e,ni,_i,di;var vi=babelHelpers.classPrivateFieldLooseKey("layout");var pi=babelHelpers.classPrivateFieldLooseKey("selected");var hi=babelHelpers.classPrivateFieldLooseKey("value");var Pi=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Li=babelHelpers.classPrivateFieldLooseKey("getNodeSelect");var ui=babelHelpers.classPrivateFieldLooseKey("getNodeValue");var Fi=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class Hi{constructor(e){Object.defineProperty(this,Fi,{value:yi});Object.defineProperty(this,ui,{value:fi});Object.defineProperty(this,Li,{value:mi});Object.defineProperty(this,Pi,{value:Bi});Object.defineProperty(this,vi,{writable:true,value:void 0});Object.defineProperty(this,pi,{writable:true,value:void 0});Object.defineProperty(this,hi,{writable:true,value:void 0});this.BUTTON_MAX_WIDTH=123;babelHelpers.classPrivateFieldLooseBase(this,pi)[pi]=null;babelHelpers.classPrivateFieldLooseBase(this,vi)[vi]={wrapper:null,value:null,select:null};babelHelpers.classPrivateFieldLooseBase(this,hi)[hi]=e.value;babelHelpers.classPrivateFieldLooseBase(this,Pi)[Pi]()}isSelected(){return babelHelpers.classPrivateFieldLooseBase(this,pi)[pi]}select(){babelHelpers.classPrivateFieldLooseBase(this,pi)[pi]=true;t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Fi)[Fi](),"--selected");b.EventEmitter.emit("selectSlot",this)}unSelect(){babelHelpers.classPrivateFieldLooseBase(this,pi)[pi]=null;t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Fi)[Fi](),"--selected")}showForm(){b.EventEmitter.emit("confirmedSelectSlot",{value:babelHelpers.classPrivateFieldLooseBase(this,hi)[hi]})}render(){return babelHelpers.classPrivateFieldLooseBase(this,Fi)[Fi]()}}function Bi(){t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Fi)[Fi](),"click",this.select.bind(this));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Li)[Li](),"click",this.showForm.bind(this))}function mi(){if(!babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].select){babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].select=t.Tag.render(ni||(ni=ci`
				<div class="calendar-sharing__slot-select">${0}</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SELECT_SLOT"));document.body.append(babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].select);if(babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].select.offsetWidth>this.BUTTON_MAX_WIDTH){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].select,"--compact")}babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].select.remove()}return babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].select}function fi(){if(!babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].value){let e=l.Util.formatTimeInterval(babelHelpers.classPrivateFieldLooseBase(this,hi)[hi].from,babelHelpers.classPrivateFieldLooseBase(this,hi)[hi].to);e=e.replace(/(am|pm)/g,'<span class="calendar-sharing-am-pm">$1</span>');babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].value=t.Tag.render(_i||(_i=ci`
				<div class="calendar-sharing__slot-value">${0}</div>
			`),e)}return babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].value}function yi(){if(!babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].wrapper){babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].wrapper=t.Tag.render(di||(di=ci`
				<div class="calendar-sharing__slot-item">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ui)[ui](),babelHelpers.classPrivateFieldLooseBase(this,Li)[Li]())}return babelHelpers.classPrivateFieldLooseBase(this,vi)[vi].wrapper}let gi=e=>e,Ti,Ei,Oi,Di,wi,Ni,Ci;var ji=babelHelpers.classPrivateFieldLooseKey("layout");var Si=babelHelpers.classPrivateFieldLooseKey("slots");var Ai=babelHelpers.classPrivateFieldLooseKey("selectedSlot");var Ki=babelHelpers.classPrivateFieldLooseKey("timezoneNoticeWasUnderstood");var ki=babelHelpers.classPrivateFieldLooseKey("ownerTimezoneOffsetUtc");var Ii=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneOffsetUtc");var Mi=babelHelpers.classPrivateFieldLooseKey("bindEvents");var $i=babelHelpers.classPrivateFieldLooseKey("getNodeSlotList");var Ri=babelHelpers.classPrivateFieldLooseKey("getNodeTitle");var zi=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneNotice");var xi=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneNoticeText");var Ui=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneNoticeButton");var Gi=babelHelpers.classPrivateFieldLooseKey("shouldShowTimezoneNotice");var Wi=babelHelpers.classPrivateFieldLooseKey("showTimezoneNotice");var Vi=babelHelpers.classPrivateFieldLooseKey("getTimezoneNoticeText");var Xi=babelHelpers.classPrivateFieldLooseKey("hideTimezoneNotice");var Yi=babelHelpers.classPrivateFieldLooseKey("getNodeList");var Zi=babelHelpers.classPrivateFieldLooseKey("getNodeListItems");class qi extends Ca{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,Zi,{value:cr});Object.defineProperty(this,Yi,{value:br});Object.defineProperty(this,Xi,{value:or});Object.defineProperty(this,Vi,{value:rr});Object.defineProperty(this,Wi,{value:ir});Object.defineProperty(this,Gi,{value:tr});Object.defineProperty(this,Ui,{value:lr});Object.defineProperty(this,xi,{value:ar});Object.defineProperty(this,zi,{value:sr});Object.defineProperty(this,Ri,{value:er});Object.defineProperty(this,$i,{value:Ji});Object.defineProperty(this,Mi,{value:Qi});Object.defineProperty(this,ji,{writable:true,value:void 0});Object.defineProperty(this,Si,{writable:true,value:void 0});Object.defineProperty(this,Ai,{writable:true,value:void 0});Object.defineProperty(this,Ki,{writable:true,value:void 0});Object.defineProperty(this,ki,{writable:true,value:void 0});Object.defineProperty(this,Ii,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ji)[ji]={title:null,list:null,timezoneNotice:null,timezoneNoticeOffset:null};babelHelpers.classPrivateFieldLooseBase(this,Si)[Si]=[];babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]=false;babelHelpers.classPrivateFieldLooseBase(this,ki)[ki]=-e.ownerOffset;babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii]=(new Date).getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,Mi)[Mi]()}getType(){return"slot-list"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,$i)[$i]()}updateSlotsList(){t.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi]());const e=babelHelpers.classPrivateFieldLooseBase(this,Zi)[Zi]();t.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi]());t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](),"--shadow-top");t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](),"--shadow-bottom")}}function Qi(){b.EventEmitter.subscribe("updateSlotsList",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Si)[Si]=e.data.slots;this.updateSlotsList()}));b.EventEmitter.subscribe("selectSlot",(e=>{const s=e.data;if(babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai]!==s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai])==null?void 0:a.unSelect()}babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai]=s}));b.EventEmitter.subscribe("updateTimezone",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii]=l.Util.getTimeZoneOffset(e.getData().timezone);babelHelpers.classPrivateFieldLooseBase(this,Xi)[Xi]();if(babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi]()){babelHelpers.classPrivateFieldLooseBase(this,Wi)[Wi]()}}))}function Ji(){if(!babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].slotSelector){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].slotSelector=t.Tag.render(Ti||(Ti=gi`
				<div class="calendar-pub__slot-list-wrap">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Ri)[Ri](),babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi]());if(babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi]()){babelHelpers.classPrivateFieldLooseBase(this,Wi)[Wi]()}}return babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].slotSelector}function er(){if(!babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].title){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].title=t.Tag.render(Ei||(Ei=gi`
				<div class="calendar-sharing__calendar-bar">
					<div class="calendar-pub-ui__typography-m">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_FREE"))}return babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].title}function sr(){if(!babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNotice){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNotice=t.Tag.render(Oi||(Oi=gi`
				<div class="calendar-pub-timezone-notice calendar-pub-ui__typography-s">
					${0}
					<div class="calendar-pub-timezone-notice-offset">
						${0}
					</div>
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,xi)[xi](),t.Loc.getMessage("CALENDAR_SHARING_TIMEZONE_NOTICE_OFFSET"),babelHelpers.classPrivateFieldLooseBase(this,Ui)[Ui]());babelHelpers.classPrivateFieldLooseBase(this,Xi)[Xi]()}return babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNotice}function ar(){if(!babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNoticeText){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNoticeText=t.Tag.render(Di||(Di=gi`
				<div>
					${0}
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_TIMEZONE_NOTICE"))}return babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNoticeText}function lr(){const e=t.Tag.render(wi||(wi=gi`
			<div class="calendar-pub-ui__btn --m">
				<div class="calendar-pub-ui__btn-text">
					${0}
				</div>
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_UNDERSTAND"));t.Event.bind(e,"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Xi)[Xi]();babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]=true}));return e}function tr(){const e=Math.abs(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki]-babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii])>=180;return!babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]&&e}function ir(){const e=babelHelpers.classPrivateFieldLooseBase(this,ki)[ki]-babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii];babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNoticeText.innerText=babelHelpers.classPrivateFieldLooseBase(this,Vi)[Vi](e);t.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNotice,"display","")}function rr(e){const s=e<0?"+":"-";return t.Loc.getMessage("CALENDAR_SHARING_TIMEZONE_NOTICE",{"#OFFSET#":`${s}${l.Util.formatDuration(Math.abs(e))}`})}function or(){t.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezoneNotice,"display","none")}function br(){if(!babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].slots){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].slots=t.Tag.render(Ni||(Ni=gi`
				<div class="calendar-sharing__calendar-block --overflow-hidden --shadow">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Zi)[Zi]())}return babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].slots}function cr(){const e=babelHelpers.classPrivateFieldLooseBase(this,Si)[Si].map((e=>new Hi({value:{from:e.timeFrom,to:e.timeTo}})));const s=t.Tag.render(Ci||(Ci=gi`
			<div class="calendar-sharing__slots">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,zi)[zi](),e.map((e=>e.render())));t.Event.bind(s,"scroll",(()=>{if(s.scrollTop>0){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](),"--shadow-top")}else{t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](),"--shadow-top")}if(s.scrollHeight>s.offsetHeight&&Math.ceil(s.offsetHeight+s.scrollTop)<s.scrollHeight){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](),"--shadow-bottom")}else{t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](),"--shadow-bottom")}}));setTimeout((()=>{if(s.scrollHeight>s.offsetHeight){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](),"--shadow-bottom")}}));return s}let nr=e=>e,_r,dr,vr,pr,hr,Pr,Lr,ur,Fr,Hr,Br,mr,fr,yr,gr,Tr,Er,Or;var Dr=babelHelpers.classPrivateFieldLooseKey("event");var wr=babelHelpers.classPrivateFieldLooseKey("owner");var Nr=babelHelpers.classPrivateFieldLooseKey("currentTimezone");var Cr=babelHelpers.classPrivateFieldLooseKey("icsFile");var jr=babelHelpers.classPrivateFieldLooseKey("widgetDate");var Sr=babelHelpers.classPrivateFieldLooseKey("layout");var Ar=babelHelpers.classPrivateFieldLooseKey("value");var Kr=babelHelpers.classPrivateFieldLooseKey("state");var kr=babelHelpers.classPrivateFieldLooseKey("inDeletedSlider");var Ir=babelHelpers.classPrivateFieldLooseKey("isView");var Mr=babelHelpers.classPrivateFieldLooseKey("showBackCalendarButtons");var $r=babelHelpers.classPrivateFieldLooseKey("getWidgetDate");var Rr=babelHelpers.classPrivateFieldLooseKey("initEventData");var zr=babelHelpers.classPrivateFieldLooseKey("updateState");var xr=babelHelpers.classPrivateFieldLooseKey("getNodeIcon");var Ur=babelHelpers.classPrivateFieldLooseKey("getNodeBackWrapper");var Gr=babelHelpers.classPrivateFieldLooseKey("createIconByState");var Wr=babelHelpers.classPrivateFieldLooseKey("getIconClassByState");var Vr=babelHelpers.classPrivateFieldLooseKey("getEventNameNode");var Xr=babelHelpers.classPrivateFieldLooseKey("getStateTitleNode");var Yr=babelHelpers.classPrivateFieldLooseKey("getStateTitleTextByState");var Zr=babelHelpers.classPrivateFieldLooseKey("getAdditionalBlockNode");var qr=babelHelpers.classPrivateFieldLooseKey("createAdditionalBlockContentByState");var Qr=babelHelpers.classPrivateFieldLooseKey("getBottomButtonNode");var Jr=babelHelpers.classPrivateFieldLooseKey("createBottomButtonByState");var eo=babelHelpers.classPrivateFieldLooseKey("onIcsButtonClick");var so=babelHelpers.classPrivateFieldLooseKey("onVideoconferenceButtonClick");var ao=babelHelpers.classPrivateFieldLooseKey("onReturnButtonClick");var lo=babelHelpers.classPrivateFieldLooseKey("getNodeWidgetDate");var to=babelHelpers.classPrivateFieldLooseKey("getEventName");class io extends Ca{constructor(e){var s;super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,to,{value:go});Object.defineProperty(this,lo,{value:yo});Object.defineProperty(this,ao,{value:fo});Object.defineProperty(this,so,{value:mo});Object.defineProperty(this,eo,{value:Bo});Object.defineProperty(this,Jr,{value:Ho});Object.defineProperty(this,Qr,{value:Fo});Object.defineProperty(this,qr,{value:uo});Object.defineProperty(this,Zr,{value:Lo});Object.defineProperty(this,Yr,{value:Po});Object.defineProperty(this,Xr,{value:ho});Object.defineProperty(this,Vr,{value:po});Object.defineProperty(this,Wr,{value:vo});Object.defineProperty(this,Gr,{value:_o});Object.defineProperty(this,Ur,{value:no});Object.defineProperty(this,xr,{value:co});Object.defineProperty(this,zr,{value:bo});Object.defineProperty(this,Rr,{value:oo});Object.defineProperty(this,$r,{value:ro});Object.defineProperty(this,Dr,{writable:true,value:void 0});Object.defineProperty(this,wr,{writable:true,value:void 0});Object.defineProperty(this,Nr,{writable:true,value:void 0});Object.defineProperty(this,Cr,{writable:true,value:void 0});Object.defineProperty(this,jr,{writable:true,value:void 0});Object.defineProperty(this,Sr,{writable:true,value:void 0});Object.defineProperty(this,Ar,{writable:true,value:void 0});Object.defineProperty(this,Kr,{writable:true,value:void 0});Object.defineProperty(this,kr,{writable:true,value:void 0});Object.defineProperty(this,Ir,{writable:true,value:void 0});Object.defineProperty(this,Mr,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr]=e.state;babelHelpers.classPrivateFieldLooseBase(this,Ir)[Ir]=e.isView;babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr]=e.event;babelHelpers.classPrivateFieldLooseBase(this,wr)[wr]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr]=(s=e.timezone)!=null?s:Intl.DateTimeFormat().resolvedOptions().timeZone;babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]=babelHelpers.classPrivateFieldLooseBase(this,$r)[$r]();babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr]={back:null,widgetDate:null,eventName:null,icon:null,stateTitle:null,additionalBlock:null,bottomButton:null};babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar]={from:null,to:null,timezone:null,isFullDay:false,canceledTimestamp:null,canceledUserName:null,eventName:null,canceledByManager:e.canceledByManager,eventLinkHash:e.eventLinkHash,eventId:e.eventId,members:e.members};babelHelpers.classPrivateFieldLooseBase(this,Cr)[Cr]=null;babelHelpers.classPrivateFieldLooseBase(this,kr)[kr]=e.inDeletedSlider===true;babelHelpers.classPrivateFieldLooseBase(this,Mr)[Mr]=e.showBackCalendarButtons;if(babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr]){babelHelpers.classPrivateFieldLooseBase(this,Rr)[Rr]()}if(e.action==="cancel"){setTimeout(this.showCancelEventPopup.bind(this),0)}if(e.action==="ics"){this.downloadIcsFile()}if(e.action==="videoconference"){this.startVideoconference()}}getType(){return"event"}updateValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].timezone=e.timezone}if(t.Type.isBoolean(e.isFullDay)){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].isFullDay=e.isFullDay}if(e.eventLinkHash){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventLinkHash=e.eventLinkHash}if(e.eventName){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventName=e.eventName}if(e.state){babelHelpers.classPrivateFieldLooseBase(this,zr)[zr](e.state)}if(e.isView){babelHelpers.classPrivateFieldLooseBase(this,Ir)[Ir]=false}if(e.eventId){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventId=e.eventId}if(e.userName){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledUserName=e.userName}if(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledByManager===true){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledByManager=false}this.updateFormLayout()}updateFormLayout(){babelHelpers.classPrivateFieldLooseBase(this,$r)[$r]().updateValue(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar]);babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr]().innerText=babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventName}getContent(){return t.Tag.render(_r||(_r=nr`
			<div class="calendar-sharing__form-result">
				${0}
				<div class="calendar-sharing__calendar-block --form --center">
					${0}
					${0}
					${0}
				</div>

				<div class="calendar-sharing__calendar-block --form --center">
					${0}
				</div>

				<div class="calendar-sharing__calendar-block --form --center">
					${0}
				</div>

				<div class="calendar-sharing__calendar-block --top-auto">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Ur)[Ur](),babelHelpers.classPrivateFieldLooseBase(this,xr)[xr](),babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr](),babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr](),babelHelpers.classPrivateFieldLooseBase(this,lo)[lo](),babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr](),babelHelpers.classPrivateFieldLooseBase(this,Qr)[Qr]())}getPopup(){if(!this.popup){const e=t.Tag.render(dr||(dr=nr`
				<div>
					<div class="calendar-pub__cookies-title">${0}</div>
					<div class="calendar-pub__cookies-info">${0}</div>
					<div class="calendar-pub__cookies-buttons ${0}">
						<div onclick="${0}" class="calendar-pub-ui__btn --inline --m --light-border">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
						<div onclick="${0}" class="calendar-pub-ui__btn --inline --m --secondary">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
					</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_POPUP_MEETING_CANCELED"),t.Loc.getMessage("CALENDAR_SHARING_POPUP_MEETING_CANCELED_INFO"),t.Browser.isMobile()?"--center":"--flex-end",this.closeCancelEventPopup.bind(this),t.Loc.getMessage("CALENDAR_SHARING_POPUP_LEAVE"),this.handleDeleteButtonClick.bind(this),t.Loc.getMessage("CALENDAR_SHARING_POPUP_CANCEL"));if(t.Browser.isMobile()){this.popup=new o.BottomSheet({className:"calendar-pub__state",content:e,padding:"20px 25px"})}else{this.popup=new i.Popup({className:"calendar-pub__popup",contentBackground:"transparent",width:380,animation:"fading-slide",content:e,overlay:true})}}return this.popup}showCancelEventPopup(){this.getPopup().show()}closeCancelEventPopup(){this.getPopup().close()}async handleDeleteButtonClick(){this.closeCancelEventPopup();const e=await this.deleteEvent();if(e){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledTimestamp=Date.now()/1e3;babelHelpers.classPrivateFieldLooseBase(this,zr)[zr]("declined");b.EventEmitter.emit("onDeleteEvent")}}async deleteEvent(){let e=null;try{e=await BX.ajax.runAction("calendar.api.sharingajax.deleteEvent",{data:{eventId:babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventId,eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventLinkHash}})}catch(s){e=s}return e.errors.length===0}async startVideoconference(){var e,s;let a=null;try{a=await BX.ajax.runAction("calendar.api.sharingajax.getConferenceLink",{data:{eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventLinkHash}})}catch(e){console.error(e)}const l=(e=a)==null?void 0:(s=e.data)==null?void 0:s.conferenceLink;if(l){window.location.href=l}}async downloadIcsFile(){if(!babelHelpers.classPrivateFieldLooseBase(this,Cr)[Cr]){const e=await BX.ajax.runAction("calendar.api.sharingajax.getIcsFileContent",{data:{eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventLinkHash}});this.icsFile=e.data}l.Util.downloadIcsFile(this.icsFile,"event")}}function ro(){if(!babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]){babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]=new al}return babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]}function oo(){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].from=l.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr].timestampFromUTC,10)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr]);babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].to=l.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr].timestampToUTC,10)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr]);babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].timezone=babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr];babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].isFullDay=babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr].isFullDay;babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventName=babelHelpers.classPrivateFieldLooseBase(this,to)[to]();babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledTimestamp=babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr].canceledTimestamp;babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledUserName=babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr].externalUserName;this.updateFormLayout()}function bo(e){babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr]=e;t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,xr)[xr](),["--accept","--decline"]);t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,xr)[xr](),babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr](e));babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr]().innerText=babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr](e);let s=babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr]();let a=babelHelpers.classPrivateFieldLooseBase(this,qr)[qr](e);babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].additionalBlock=a;t.Dom.replace(s,a);s=babelHelpers.classPrivateFieldLooseBase(this,Qr)[Qr]();a=babelHelpers.classPrivateFieldLooseBase(this,Jr)[Jr](e);babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].bottomButton=a;t.Dom.replace(s,a)}function co(){if(!babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].icon){babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].icon=babelHelpers.classPrivateFieldLooseBase(this,Gr)[Gr](babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr])}return babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].icon}function no(){if(!babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].back){if(babelHelpers.classPrivateFieldLooseBase(this,Mr)[Mr]){babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].back=t.Tag.render(vr||(vr=nr`
					<div class="calendar-sharing__calendar-bar --arrow">
						<div class="calendar-sharing__calendar-back" onclick="${0}"></div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,ao)[ao].bind(this))}else{babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].back=t.Tag.render(pr||(pr=nr`<div class="calendar-sharing__calendar-bar --no-margin"></div>`))}}return babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].back}function _o(e){const s=t.Tag.render(hr||(hr=nr`
			<div class="calendar-sharing__form-result_icon"></div>
		`));t.Dom.addClass(s,babelHelpers.classPrivateFieldLooseBase(this,Wr)[Wr](e));return s}function vo(e){let s="";switch(e){case"created":s="--accept";break;case"not-created":s="--decline";break;case"declined":s="--decline";break;default:break}return s}function po(){if(!babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].eventName){babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].eventName=t.Tag.render(Pr||(Pr=nr`
				<div class="calendar-pub-ui__typography-title --center --line-height-normal">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].eventName)}return babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].eventName}function ho(){if(!babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].stateTitle){babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].stateTitle=t.Tag.render(Lr||(Lr=nr`
				<div class="calendar-pub-ui__typography-s --center"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].stateTitle.innerText=babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr](babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr])}return babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].stateTitle}function Po(e){let s="";switch(e){case"created":if(!babelHelpers.classPrivateFieldLooseBase(this,Ir)[Ir]){s=t.Loc.getMessage("CALENDAR_SHARING_MEETING_CREATED")}break;case"not-created":s=t.Loc.getMessage("CALENDAR_SHARING_MEETING_NOT_CREATED");break;case"declined":s=t.Loc.getMessage("CALENDAR_SHARING_MEETING_CANCELED");break;default:break}return s}function Lo(){if(!babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].additionalBlock){babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].additionalBlock=babelHelpers.classPrivateFieldLooseBase(this,qr)[qr](babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr])}return babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].additionalBlock}function uo(e){let s="";if(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr]){const e=l.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledTimestamp,10)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr]);if(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledTimestamp&&babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledUserName&&e){s=t.Tag.render(ur||(ur=nr`
					<div class="calendar-pub__form-status">
						<div class="calendar-pub__form-status_text">
							${0}: <a href="/company/personal/user/${0}/" target="_blank" class="calendar-sharing-deletedviewform_open-profile">${0}</a>
							<br>
							${0}
						</div>
					</div>
				`),t.Loc.getMessage("CALENDAR_SHARING_WHO_CANCELED"),babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].id,t.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledUserName),r.DateTimeFormat.format(`j F ${l.Util.getTimeFormatShort()}`,e.getTime()/1e3))}else{s=t.Tag.render(Fr||(Fr=nr`
					<div></div>
				`))}return s}switch(e){case"created":s=t.Tag.render(Hr||(Hr=nr`
					<div onclick="${0}" class="calendar-pub__form-status --decline">
						<div class="calendar-pub__form-status_text">
							${0}
						</div>
					</div>
				`),this.showCancelEventPopup.bind(this),t.Loc.getMessage("CALENDAR_SHARING_DECLINE_MEETING"));break;case"not-created":s=t.Tag.render(Br||(Br=nr`
					<div></div>
				`));break;case"declined":const e=l.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledTimestamp,10)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr]);if(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledByManager){babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledUserName=`${babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].name} ${babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].lastName}`}if(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledTimestamp&&babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledUserName&&e){s=t.Tag.render(mr||(mr=nr`
						<div class="calendar-pub__form-status">
							<div class="calendar-pub__form-status_text">
								${0}: ${0}<br> ${0}
							</div>
						</div>
					`),t.Loc.getMessage("CALENDAR_SHARING_WHO_CANCELED"),t.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar].canceledUserName),r.DateTimeFormat.format(`j F ${l.Util.getTimeFormatShort()}`,e.getTime()/1e3))}else{s=t.Tag.render(fr||(fr=nr`
						<div></div>
					`))}break;default:break}return s}function Fo(){if(!babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].bottomButton){babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].bottomButton=babelHelpers.classPrivateFieldLooseBase(this,Jr)[Jr](babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr])}return babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].bottomButton}function Ho(e){if(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr]){return""}let s="";switch(e){case"created":babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].videoconferenceButton=t.Tag.render(yr||(yr=nr`
					<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m calendar-pub-action-btn">
						<div class="calendar-pub-ui__btn-text">${0}</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,so)[so].bind(this),t.Loc.getMessage("CALENDAR_SHARING_OPEN_VIDEOCONFERENCE"));babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].icsButton=t.Tag.render(gr||(gr=nr`
					<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m calendar-pub-action-btn">
						<div class="calendar-pub-ui__btn-text">${0}</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,eo)[eo].bind(this),t.Loc.getMessage("CALENDAR_SHARING_ADD_TO_CALENDAR"));s=t.Tag.render(Tr||(Tr=nr`
					<div>
						${0}
						${0}
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].videoconferenceButton,babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].icsButton);break;case"not-created":case"declined":if(babelHelpers.classPrivateFieldLooseBase(this,Mr)[Mr]){s=t.Tag.render(Er||(Er=nr`
						<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
					`),babelHelpers.classPrivateFieldLooseBase(this,ao)[ao].bind(this),t.Loc.getMessage("CALENDAR_SHARING_RETURN_TO_SLOT_LIST"))}else{s=t.Tag.render(Or||(Or=nr`<div></div>`))}break;default:break}return s}async function Bo(){await this.downloadIcsFile()}async function mo(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].videoconferenceButton,"--wait");await this.startVideoconference();t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].videoconferenceButton,"--wait")}function fo(){b.EventEmitter.emit("onCreateAnotherEventButtonClick")}function yo(){if(!babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].widgetDate){babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].widgetDate=babelHelpers.classPrivateFieldLooseBase(this,jr)[jr].render()}return babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr].widgetDate}function go(){return t.Loc.getMessage("CALENDAR_SHARING_EVENT_NAME",{"#OWNER_NAME#":`${babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].name} ${babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].lastName}`})}let To=e=>e,Eo;var Oo=babelHelpers.classPrivateFieldLooseKey("layout");var Do=babelHelpers.classPrivateFieldLooseKey("components");var wo=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneId");var No=babelHelpers.classPrivateFieldLooseKey("owner");var Co=babelHelpers.classPrivateFieldLooseKey("link");var jo=babelHelpers.classPrivateFieldLooseKey("sharingUser");var So=babelHelpers.classPrivateFieldLooseKey("isFromCrm");var Ao=babelHelpers.classPrivateFieldLooseKey("hasContactData");var Ko=babelHelpers.classPrivateFieldLooseKey("calendarSettings");var ko=babelHelpers.classPrivateFieldLooseKey("eventLinkHash");var Io=babelHelpers.classPrivateFieldLooseKey("event");var Mo=babelHelpers.classPrivateFieldLooseKey("members");var $o=babelHelpers.classPrivateFieldLooseKey("action");var Ro=babelHelpers.classPrivateFieldLooseKey("showBackCalendarButtons");var zo=babelHelpers.classPrivateFieldLooseKey("bindEvents");class xo{constructor(e){Object.defineProperty(this,zo,{value:Uo});Object.defineProperty(this,Oo,{writable:true,value:void 0});Object.defineProperty(this,Do,{writable:true,value:void 0});Object.defineProperty(this,wo,{writable:true,value:void 0});Object.defineProperty(this,No,{writable:true,value:void 0});Object.defineProperty(this,Co,{writable:true,value:void 0});Object.defineProperty(this,jo,{writable:true,value:void 0});Object.defineProperty(this,So,{writable:true,value:void 0});Object.defineProperty(this,Ao,{writable:true,value:void 0});Object.defineProperty(this,Ko,{writable:true,value:void 0});Object.defineProperty(this,ko,{writable:true,value:void 0});Object.defineProperty(this,Io,{writable:true,value:void 0});Object.defineProperty(this,Mo,{writable:true,value:void 0});Object.defineProperty(this,$o,{writable:true,value:void 0});Object.defineProperty(this,Ro,{writable:true,value:void 0});this.BLOCK_NAME_FORM="form";this.BLOCK_NAME_SLOT_LIST="slot-list";this.BLOCK_NAME_EMPTY_STATE="empty-state";this.BLOCK_NAME_ACCESS_DENIED="access-denied";this.BLOCK_NAME_EVENT="event";babelHelpers.classPrivateFieldLooseBase(this,wo)[wo]=e.selectedTimezoneId;babelHelpers.classPrivateFieldLooseBase(this,No)[No]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,Co)[Co]=e.link;babelHelpers.classPrivateFieldLooseBase(this,jo)[jo]=e.sharingUser;babelHelpers.classPrivateFieldLooseBase(this,ko)[ko]=e.eventLinkHash;babelHelpers.classPrivateFieldLooseBase(this,Io)[Io]=e.event;babelHelpers.classPrivateFieldLooseBase(this,Mo)[Mo]=e.members;babelHelpers.classPrivateFieldLooseBase(this,Oo)[Oo]={wrapper:null,empty:null,title:null,slots:null,slotSelector:null};babelHelpers.classPrivateFieldLooseBase(this,Do)[Do]={form:null,slotList:null,emptyState:null,event:null,accessDenied:null};babelHelpers.classPrivateFieldLooseBase(this,So)[So]=babelHelpers.classPrivateFieldLooseBase(this,Co)[Co].type==="crm_deal";babelHelpers.classPrivateFieldLooseBase(this,Ao)[Ao]=e.hasContactData;babelHelpers.classPrivateFieldLooseBase(this,Ko)[Ko]=e.calendarSettings;babelHelpers.classPrivateFieldLooseBase(this,Ro)[Ro]=e.showBackCalendarButtons;babelHelpers.classPrivateFieldLooseBase(this,$o)[$o]=e.action;babelHelpers.classPrivateFieldLooseBase(this,zo)[zo]()}openForm(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].form)==null?void 0:e.clearInputErrors();this.openBlock(this.BLOCK_NAME_FORM)}openSlotList(){this.openBlock(this.BLOCK_NAME_SLOT_LIST)}openEmptyState(){this.openBlock(this.BLOCK_NAME_EMPTY_STATE)}openAccessDenied(){this.openBlock(this.BLOCK_NAME_ACCESS_DENIED)}openEvent(){this.openBlock(this.BLOCK_NAME_EVENT)}openBlock(e){b.EventEmitter.emit("selectorTypeChange",e)}render(){if(!babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].form){babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].form=new dt({isHiddenOnStart:true,owner:babelHelpers.classPrivateFieldLooseBase(this,No)[No],link:babelHelpers.classPrivateFieldLooseBase(this,Co)[Co],sharingUser:babelHelpers.classPrivateFieldLooseBase(this,jo)[jo],isFromCrm:babelHelpers.classPrivateFieldLooseBase(this,So)[So],hasContactData:babelHelpers.classPrivateFieldLooseBase(this,Ao)[Ao],isPhoneFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,Ko)[Ko].phoneFeatureEnabled,isMailFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,Ko)[Ko].mailFeatureEnabled})}if(!babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].emptyState){babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].emptyState=new Qt({isHiddenOnStart:true})}if(!babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].accessDenied){babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].accessDenied=new ri({isHiddenOnStart:true})}if(!babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].slotList){babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].slotList=new qi({isHiddenOnStart:false,ownerOffset:parseInt(babelHelpers.classPrivateFieldLooseBase(this,Ko)[Ko].serverOffset,10)})}if(!babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].event){var e,s,a;let l="created";if(babelHelpers.classPrivateFieldLooseBase(this,Co)[Co].active===false||((e=babelHelpers.classPrivateFieldLooseBase(this,Io)[Io])==null?void 0:e.meetingStatus)==="N"||((s=babelHelpers.classPrivateFieldLooseBase(this,Io)[Io])==null?void 0:s.deleted)==="Y"){l="declined"}let i=false;if(((a=babelHelpers.classPrivateFieldLooseBase(this,Io)[Io])==null?void 0:a.meetingStatus)==="N"){i=true}babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].event=new io({isHiddenOnStart:false,owner:babelHelpers.classPrivateFieldLooseBase(this,No)[No],event:babelHelpers.classPrivateFieldLooseBase(this,Io)[Io],eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,ko)[ko],state:l,eventId:babelHelpers.classPrivateFieldLooseBase(this,Io)[Io].id,isView:t.Type.isString(babelHelpers.classPrivateFieldLooseBase(this,ko)[ko]),canceledByManager:i,showBackCalendarButtons:babelHelpers.classPrivateFieldLooseBase(this,Ro)[Ro],action:babelHelpers.classPrivateFieldLooseBase(this,$o)[$o],members:babelHelpers.classPrivateFieldLooseBase(this,Mo)[Mo]})}return t.Tag.render(Eo||(Eo=To`
			<div class="calendar-pub__slots">
				${0}
				${0}
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].slotList.render(),babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].form.render(),babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].emptyState.render(),babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].event.render(),babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].accessDenied.render())}}function Uo(){b.EventEmitter.subscribe("confirmedSelectSlot",(e=>{const s=e.data;const a=s.value;babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].form.updateFormValue({from:a.from,to:a.to,timezone:babelHelpers.classPrivateFieldLooseBase(this,wo)[wo]});this.openForm()}));b.EventEmitter.subscribe("switchSlots",(e=>{var s;const a=(s=e.data.slots)!=null?s:[];if(a.length>0){b.EventEmitter.emit("updateSlotsList",e);this.openSlotList()}else{this.openEmptyState()}}));b.EventEmitter.subscribe("updateTimezone",(e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,wo)[wo]=s.timezone}));b.EventEmitter.subscribe("onSaveEvent",(e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].form.cleanDescription();babelHelpers.classPrivateFieldLooseBase(this,Do)[Do].event.updateValue(s);this.openEvent()}))}let Go=e=>e,Wo,Vo,Xo,Yo;var Zo=babelHelpers.classPrivateFieldLooseKey("layout");var qo=babelHelpers.classPrivateFieldLooseKey("owner");var Qo=babelHelpers.classPrivateFieldLooseKey("welcomePage");var Jo=babelHelpers.classPrivateFieldLooseKey("calendar");var eb=babelHelpers.classPrivateFieldLooseKey("slotsBlock");var sb=babelHelpers.classPrivateFieldLooseKey("linkMembers");var ab=babelHelpers.classPrivateFieldLooseKey("eventMembers");var lb=babelHelpers.classPrivateFieldLooseKey("bindEvents");var tb=babelHelpers.classPrivateFieldLooseKey("renderFreeSlots");var ib=babelHelpers.classPrivateFieldLooseKey("renderSlotsSelector");var rb=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");var ob=babelHelpers.classPrivateFieldLooseKey("render");var bb=babelHelpers.classPrivateFieldLooseKey("init");class cb{constructor(e){var s;Object.defineProperty(this,bb,{value:hb});Object.defineProperty(this,ob,{value:pb});Object.defineProperty(this,rb,{value:vb});Object.defineProperty(this,ib,{value:db});Object.defineProperty(this,tb,{value:_b});Object.defineProperty(this,lb,{value:nb});Object.defineProperty(this,Zo,{writable:true,value:void 0});Object.defineProperty(this,qo,{writable:true,value:void 0});Object.defineProperty(this,Qo,{writable:true,value:void 0});Object.defineProperty(this,Jo,{writable:true,value:void 0});Object.defineProperty(this,eb,{writable:true,value:void 0});Object.defineProperty(this,sb,{writable:true,value:void 0});Object.defineProperty(this,ab,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,qo)[qo]=e.owner||null;this.target=t.Type.isDomNode(e.target)?e.target:null;babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo]={wrapper:null,animate:null};babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo]=null;babelHelpers.classPrivateFieldLooseBase(this,Jo)[Jo]=null;babelHelpers.classPrivateFieldLooseBase(this,eb)[eb]=null;babelHelpers.classPrivateFieldLooseBase(this,sb)[sb]=(e.parentLink||e.link).members;babelHelpers.classPrivateFieldLooseBase(this,ab)[ab]=(s=e.link.members)!=null?s:e.event.members;babelHelpers.classPrivateFieldLooseBase(this,bb)[bb]();babelHelpers.classPrivateFieldLooseBase(this,lb)[lb]();this.showPageWelcome(e);if(e.link.type==="event"){if(e.parentLink&&e.parentLink.active===true){babelHelpers.classPrivateFieldLooseBase(this,tb)[tb](e);babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,eb)[eb].openEvent()}else if(e.event){babelHelpers.classPrivateFieldLooseBase(this,ib)[ib](e);babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].hideButton();babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].setAccessDenied();babelHelpers.classPrivateFieldLooseBase(this,eb)[eb].openEvent()}else{babelHelpers.classPrivateFieldLooseBase(this,ib)[ib](e);babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].hideButton();babelHelpers.classPrivateFieldLooseBase(this,eb)[eb].openAccessDenied()}}else if(e.link.active===true){babelHelpers.classPrivateFieldLooseBase(this,tb)[tb](e)}else{babelHelpers.classPrivateFieldLooseBase(this,ib)[ib](e);babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].hideButton();babelHelpers.classPrivateFieldLooseBase(this,eb)[eb].openAccessDenied()}}showPageWelcome(e){if(!e.owner){return}babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo]=new Y({owner:e.owner,link:e.link,currentLang:e.currentLang,members:babelHelpers.classPrivateFieldLooseBase(this,sb)[sb]});t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo].render(),babelHelpers.classPrivateFieldLooseBase(this,rb)[rb]())}showFreeSlots(){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,rb)[rb](),"--hide")}hideFreeSlots(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,rb)[rb](),"--hide")}}function nb(){b.EventEmitter.subscribe("showSlotSelector",this.showFreeSlots.bind(this));b.EventEmitter.subscribe("hideSlotSelector",this.hideFreeSlots.bind(this))}function _b(e){babelHelpers.classPrivateFieldLooseBase(this,Jo)[Jo]=new Is({userIds:e.link.userIds,accessibility:e.userAccessibility,timezoneList:e.timezoneList,calendarSettings:e.calendarSettings,rule:e.link.rule});let s=null;if(e.link.type==="event"){s=e.link.hash}babelHelpers.classPrivateFieldLooseBase(this,eb)[eb]=new xo({selectedTimezoneId:babelHelpers.classPrivateFieldLooseBase(this,Jo)[Jo].getSelectedTimezoneId(),owner:babelHelpers.classPrivateFieldLooseBase(this,qo)[qo],link:e.parentLink||e.link,members:babelHelpers.classPrivateFieldLooseBase(this,ab)[ab],sharingUser:e.sharingUser,hasContactData:e.hasContactData,calendarSettings:e.calendarSettings,event:e.event,showBackCalendarButtons:true,eventLinkHash:s,action:e.action});const a=t.Tag.render(Wo||(Wo=Go`
			<div class="calendar-pub__block --plus">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Jo)[Jo].render());babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo].animate=t.Tag.render(Vo||(Vo=Go`
			<div class="calendar-pub__block-animate">
				${0}
				<div class="calendar-pub__block">
					${0}
				</div>
			</div>
		`),a,babelHelpers.classPrivateFieldLooseBase(this,eb)[eb].render());b.EventEmitter.subscribe("selectorTypeChange",(e=>{if(e.data==="form"||e.data==="event"){t.Dom.addClass(a,"--hidden")}else{t.Dom.removeClass(a,"--hidden")}}));t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo].animate,babelHelpers.classPrivateFieldLooseBase(this,rb)[rb]());if(e.link.type!=="event"){babelHelpers.classPrivateFieldLooseBase(this,Jo)[Jo].selectFirstAvailableDay()}}function db(e){let s=null;if(e.link.type==="event"){s=e.link.hash}babelHelpers.classPrivateFieldLooseBase(this,eb)[eb]=new xo({selectedTimezoneId:null,owner:babelHelpers.classPrivateFieldLooseBase(this,qo)[qo],link:e.link,sharingUser:e.sharingUser,hasContactData:e.hasContactData,calendarSettings:e.calendarSettings,event:e.event,showBackCalendarButtons:false,action:e.action,eventLinkHash:s});babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo].animate=t.Tag.render(Xo||(Xo=Go`
			<div class="calendar-pub__block-animate">
				<div class="calendar-pub__block">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,eb)[eb].render());t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo].animate,babelHelpers.classPrivateFieldLooseBase(this,rb)[rb]())}function vb(){if(!babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo].wrapper=t.Tag.render(Yo||(Yo=Go`
				<div class="calendar-pub__wrapper calendar-pub__state --hide"></div>
			`));if(t.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,sb)[sb])||t.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,ab)[ab])){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo].wrapper,"--large")}}return babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo].wrapper}function pb(){if(!this.target){console.warn('BX.Calendar.Sharing: "target" is not defined');return}if(this.target.parentNode){t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,rb)[rb](),this.target.parentNode);t.Dom.remove(this.target)}}function hb(){babelHelpers.classPrivateFieldLooseBase(this,ob)[ob]()}e.PublicV2=cb;e.Event=io;e.WidgetDate=al})(this.BX.Calendar.Sharing=this.BX.Calendar.Sharing||{},BX,BX,BX.Calendar,BX,BX.Main,BX.Main,BX.UI,BX.Event);
//# sourceMappingURL=public-v2.bundle.map.js