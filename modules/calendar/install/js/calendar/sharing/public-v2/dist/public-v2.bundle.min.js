this.BX=this.BX||{};this.BX.Calendar=this.BX.Calendar||{};(function(e,s,a,l,t,i,r,o,_){"use strict";let b=e=>e,c,d,n,v,p,h;var P=babelHelpers.classPrivateFieldLooseKey("owner");var L=babelHelpers.classPrivateFieldLooseKey("link");var u=babelHelpers.classPrivateFieldLooseKey("currentLang");var H=babelHelpers.classPrivateFieldLooseKey("name");var F=babelHelpers.classPrivateFieldLooseKey("lastName");var B=babelHelpers.classPrivateFieldLooseKey("photo");var m=babelHelpers.classPrivateFieldLooseKey("layout");var f=babelHelpers.classPrivateFieldLooseKey("handleTimelineNotify");var y=babelHelpers.classPrivateFieldLooseKey("getNodeButton");var g=babelHelpers.classPrivateFieldLooseKey("getNodeLabel");var E=babelHelpers.classPrivateFieldLooseKey("getNodeInfo");class w{constructor(e){Object.defineProperty(this,E,{value:N});Object.defineProperty(this,g,{value:D});Object.defineProperty(this,y,{value:O});Object.defineProperty(this,f,{value:T});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,B,{writable:true,value:void 0});Object.defineProperty(this,m,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e.owner||null;babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e.link||null;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=e.currentLang||null;babelHelpers.classPrivateFieldLooseBase(this,H)[H]=babelHelpers.classPrivateFieldLooseBase(this,P)[P].name||null;babelHelpers.classPrivateFieldLooseBase(this,F)[F]=babelHelpers.classPrivateFieldLooseBase(this,P)[P].lastName||null;babelHelpers.classPrivateFieldLooseBase(this,B)[B]=babelHelpers.classPrivateFieldLooseBase(this,P)[P].photo||null;babelHelpers.classPrivateFieldLooseBase(this,m)[m]={wrapper:null,button:null,label:null};if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].type==="crm_deal"&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].active===true&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus!=="viewed"&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus!=="notViewed"){babelHelpers.classPrivateFieldLooseBase(this,f)[f]("notViewed");babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus="notViewed"}}disableButton(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"--disabled")}enableButton(){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"--disabled")}hideButton(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"--hidden")}handleWelcomePageButtonClick(){if(l.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"--disabled")){return}if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].type==="crm_deal"&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].active===true&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus==="notViewed"){babelHelpers.classPrivateFieldLooseBase(this,f)[f]("viewed");babelHelpers.classPrivateFieldLooseBase(this,L)[L].lastStatus="viewed"}this.disableButton();o.EventEmitter.emit("showSlotSelector",this)}setAccessDenied(){babelHelpers.classPrivateFieldLooseBase(this,m)[m].info=babelHelpers.classPrivateFieldLooseBase(this,E)[E](true)}render(){return l.Tag.render(c||(c=b`
			<div class="calendar-pub__block --welcome">
				${0}
				<div class="calendar-pub__welcome">
					<div class="calendar-pub__welcome-user">
						<div class="calendar-pub__welcome-userpic ui-icon ui-icon-common-user">
							<i ${0}></i>
						</div>
						<div class="calendar-pub-ui__typography-m">
							${0} ${0} 
						</div>
					</div>
					<div class="calendar-pub__block-separator"></div>
					${0}
					<div class="calendar-pub__welcome-bottom">
						${0}
					</div>
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,g)[g](),babelHelpers.classPrivateFieldLooseBase(this,B)[B]?`style="background-image: url(${babelHelpers.classPrivateFieldLooseBase(this,B)[B]})"`:"",babelHelpers.classPrivateFieldLooseBase(this,H)[H]?babelHelpers.classPrivateFieldLooseBase(this,H)[H]:"",babelHelpers.classPrivateFieldLooseBase(this,F)[F]?babelHelpers.classPrivateFieldLooseBase(this,F)[F]:"",babelHelpers.classPrivateFieldLooseBase(this,E)[E](),babelHelpers.classPrivateFieldLooseBase(this,y)[y]())}}function T(e){BX.ajax.runAction("calendar.api.sharingajax.handleTimelineNotify",{data:{linkHash:babelHelpers.classPrivateFieldLooseBase(this,L)[L].hash,entityId:babelHelpers.classPrivateFieldLooseBase(this,L)[L].entityId,entityType:babelHelpers.classPrivateFieldLooseBase(this,L)[L].type,notifyType:e}})}function O(){if(!babelHelpers.classPrivateFieldLooseBase(this,m)[m].button){babelHelpers.classPrivateFieldLooseBase(this,m)[m].button=l.Tag.render(d||(d=b`
				<div class="calendar-pub-ui__btn">
					<div class="calendar-pub-ui__btn-text">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SELECT_SLOT"));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,m)[m].button,"click",(()=>{this.handleWelcomePageButtonClick()}));o.EventEmitter.subscribe("hideSlotSelector",this.enableButton.bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,m)[m].button}function D(){if(!babelHelpers.classPrivateFieldLooseBase(this,m)[m].label){babelHelpers.classPrivateFieldLooseBase(this,m)[m].label=l.Tag.render(n||(n=b`
				<div class="calendar-pub__block-label"></div>
			`));if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]==="ru"){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,m)[m].label,"--ru")}}return babelHelpers.classPrivateFieldLooseBase(this,m)[m].label}function N(e=false){if(!babelHelpers.classPrivateFieldLooseBase(this,m)[m].info){babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoTitle=l.Tag.render(v||(v=b`
				<div class="calendar-pub-ui__typography-title calendar-pub__welcome-info_title"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoSubTitle=l.Tag.render(p||(p=b`
				<div class="calendar-pub-ui__typography-s"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,m)[m].info=l.Tag.render(h||(h=b`
				<div class="calendar-pub__welcome-info">
					<div class="calendar-pub-ui__typography-title calendar-pub__welcome-info_title">${0}</div>
					<div class="calendar-pub-ui__typography-s">${0}</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoTitle,babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoSubTitle)}let s=l.Loc.getMessage("CALENDAR_SHARING_MY_FREE_SLOTS");let a=l.Loc.getMessage("CALENDAR_SHARING_YOU_CAN_CHOOSE_FREE_MEETING_TIME");if(e){s=l.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED");a=l.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED_INFO")}babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoTitle.innerText=s;babelHelpers.classPrivateFieldLooseBase(this,m)[m].infoSubTitle.innerText=a;return babelHelpers.classPrivateFieldLooseBase(this,m)[m].info}let C=e=>e,k;var j=babelHelpers.classPrivateFieldLooseKey("layout");var S=babelHelpers.classPrivateFieldLooseKey("value");var K=babelHelpers.classPrivateFieldLooseKey("notCurrentMonth");var A=babelHelpers.classPrivateFieldLooseKey("today");var I=babelHelpers.classPrivateFieldLooseKey("selected");var M=babelHelpers.classPrivateFieldLooseKey("weekend");var $=babelHelpers.classPrivateFieldLooseKey("slots");var R=babelHelpers.classPrivateFieldLooseKey("enableBooking");var z=babelHelpers.classPrivateFieldLooseKey("bindEvents");var x=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class U{constructor(e){Object.defineProperty(this,x,{value:W});Object.defineProperty(this,z,{value:G});Object.defineProperty(this,j,{writable:true,value:void 0});Object.defineProperty(this,S,{writable:true,value:void 0});Object.defineProperty(this,K,{writable:true,value:void 0});Object.defineProperty(this,A,{writable:true,value:void 0});Object.defineProperty(this,I,{writable:true,value:void 0});Object.defineProperty(this,M,{writable:true,value:void 0});Object.defineProperty(this,$,{writable:true,value:void 0});Object.defineProperty(this,R,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,S)[S]=e.value?e.value:null;babelHelpers.classPrivateFieldLooseBase(this,K)[K]=e.notCurrentMonth?e.notCurrentMonth:null;babelHelpers.classPrivateFieldLooseBase(this,A)[A]=e.today?e.today:null;babelHelpers.classPrivateFieldLooseBase(this,$)[$]=e.slots||null;babelHelpers.classPrivateFieldLooseBase(this,j)[j]={wrapper:null};babelHelpers.classPrivateFieldLooseBase(this,I)[I]=e.selected?e.selected:null;babelHelpers.classPrivateFieldLooseBase(this,M)[M]=e.weekend?e.weekend:null;babelHelpers.classPrivateFieldLooseBase(this,R)[R]=e.enableBooking?e.enableBooking:null;if(babelHelpers.classPrivateFieldLooseBase(this,I)[I]){this.select()}babelHelpers.classPrivateFieldLooseBase(this,z)[z]()}isSelected(){return babelHelpers.classPrivateFieldLooseBase(this,I)[I]}getDay(){return babelHelpers.classPrivateFieldLooseBase(this,S)[S]}isEnableBooking(){return babelHelpers.classPrivateFieldLooseBase(this,R)[R]}select(){this.highlight();o.EventEmitter.emit("switchSlots",{slots:babelHelpers.classPrivateFieldLooseBase(this,$)[$]})}highlight(){babelHelpers.classPrivateFieldLooseBase(this,I)[I]=true;l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,x)[x](),"--selected");o.EventEmitter.emit("selectDate",this)}unSelect(){babelHelpers.classPrivateFieldLooseBase(this,I)[I]=null;l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,x)[x](),"--selected")}render(){return babelHelpers.classPrivateFieldLooseBase(this,x)[x]()}}function G(){l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,x)[x](),"click",this.select.bind(this))}function W(){if(!babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper){babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper=l.Tag.render(k||(k=C`
				<div class="calendar-sharing__month-col --day">${0}</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,S)[S]);if(babelHelpers.classPrivateFieldLooseBase(this,K)[K]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper,"--not-current-month")}if(babelHelpers.classPrivateFieldLooseBase(this,M)[M]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper,"--weekend")}if(babelHelpers.classPrivateFieldLooseBase(this,R)[R]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper,"--enable-booking")}}return babelHelpers.classPrivateFieldLooseBase(this,j)[j].wrapper}let V=e=>e,X,Y,q,Z,Q,J,ee,se,ae,le,te,ie,re,oe,_e,be;var ce=babelHelpers.classPrivateFieldLooseKey("owner");var de=babelHelpers.classPrivateFieldLooseKey("accessibility");var ne=babelHelpers.classPrivateFieldLooseKey("layout");var ve=babelHelpers.classPrivateFieldLooseKey("currentMonth");var pe=babelHelpers.classPrivateFieldLooseKey("currentYear");var he=babelHelpers.classPrivateFieldLooseKey("nowTime");var Pe=babelHelpers.classPrivateFieldLooseKey("months");var Le=babelHelpers.classPrivateFieldLooseKey("selectedDay");var ue=babelHelpers.classPrivateFieldLooseKey("monthSlots");var He=babelHelpers.classPrivateFieldLooseKey("monthsSlotsMap");var Fe=babelHelpers.classPrivateFieldLooseKey("timezoneOffsetUtc");var Be=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneOffsetUtc");var me=babelHelpers.classPrivateFieldLooseKey("currentMonthIndex");var fe=babelHelpers.classPrivateFieldLooseKey("currentDayNumber");var ye=babelHelpers.classPrivateFieldLooseKey("timezoneList");var ge=babelHelpers.classPrivateFieldLooseKey("calendarSettings");var Ee=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneId");var we=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneNode");var Te=babelHelpers.classPrivateFieldLooseKey("config");var Oe=babelHelpers.classPrivateFieldLooseKey("loc");var De=babelHelpers.classPrivateFieldLooseKey("timeZonePopup");var Ne=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Ce=babelHelpers.classPrivateFieldLooseKey("incrementTime");var ke=babelHelpers.classPrivateFieldLooseKey("setConfig");var je=babelHelpers.classPrivateFieldLooseKey("initCurrentMonthSlots");var Se=babelHelpers.classPrivateFieldLooseKey("calculateDateTimeSlots");var Ke=babelHelpers.classPrivateFieldLooseKey("getDateTimeSlotsMap");var Ae=babelHelpers.classPrivateFieldLooseKey("createMonth");var Ie=babelHelpers.classPrivateFieldLooseKey("reCreateCurrentMonth");var Me=babelHelpers.classPrivateFieldLooseKey("createNextMonth");var $e=babelHelpers.classPrivateFieldLooseKey("loadMonthAccessibility");var Re=babelHelpers.classPrivateFieldLooseKey("getMonthName");var ze=babelHelpers.classPrivateFieldLooseKey("getMonthDays");var xe=babelHelpers.classPrivateFieldLooseKey("getDayToSelect");var Ue=babelHelpers.classPrivateFieldLooseKey("isHoliday");var Ge=babelHelpers.classPrivateFieldLooseKey("doIntervalsIntersect");var We=babelHelpers.classPrivateFieldLooseKey("getNodeTimeZone");var Ve=babelHelpers.classPrivateFieldLooseKey("getPopupTimezoneSelect");var Xe=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneSelect");var Ye=babelHelpers.classPrivateFieldLooseKey("updateTimezone");var qe=babelHelpers.classPrivateFieldLooseKey("getFormattedTimezone");var Ze=babelHelpers.classPrivateFieldLooseKey("getNodeDaysOfWeek");var Qe=babelHelpers.classPrivateFieldLooseKey("getNodeDay");var Je=babelHelpers.classPrivateFieldLooseKey("getNodeMonth");var es=babelHelpers.classPrivateFieldLooseKey("getNodeMonthWrapper");var ss=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneWrapper");var as=babelHelpers.classPrivateFieldLooseKey("getNodeCurrentMonth");var ls=babelHelpers.classPrivateFieldLooseKey("updateCalendar");var ts=babelHelpers.classPrivateFieldLooseKey("getNodePrevNav");var is=babelHelpers.classPrivateFieldLooseKey("getNodeNextNav");var rs=babelHelpers.classPrivateFieldLooseKey("getNodeNavigation");var os=babelHelpers.classPrivateFieldLooseKey("handleNextMonthArrowClick");var _s=babelHelpers.classPrivateFieldLooseKey("handlePreviousMonthArrowClick");var bs=babelHelpers.classPrivateFieldLooseKey("getNodeBack");var cs=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class ds{constructor(e){Object.defineProperty(this,cs,{value:Gs});Object.defineProperty(this,bs,{value:Us});Object.defineProperty(this,_s,{value:xs});Object.defineProperty(this,os,{value:zs});Object.defineProperty(this,rs,{value:Rs});Object.defineProperty(this,is,{value:$s});Object.defineProperty(this,ts,{value:Ms});Object.defineProperty(this,ls,{value:Is});Object.defineProperty(this,as,{value:As});Object.defineProperty(this,ss,{value:Ks});Object.defineProperty(this,es,{value:Ss});Object.defineProperty(this,Je,{value:js});Object.defineProperty(this,Qe,{value:ks});Object.defineProperty(this,Ze,{value:Cs});Object.defineProperty(this,qe,{value:Ns});Object.defineProperty(this,Ye,{value:Ds});Object.defineProperty(this,Xe,{value:Os});Object.defineProperty(this,Ve,{value:Ts});Object.defineProperty(this,We,{value:ws});Object.defineProperty(this,Ge,{value:Es});Object.defineProperty(this,Ue,{value:gs});Object.defineProperty(this,xe,{value:ys});Object.defineProperty(this,ze,{value:fs});Object.defineProperty(this,Re,{value:ms});Object.defineProperty(this,$e,{value:Bs});Object.defineProperty(this,Me,{value:Fs});Object.defineProperty(this,Ie,{value:Hs});Object.defineProperty(this,Ae,{value:us});Object.defineProperty(this,Ke,{value:Ls});Object.defineProperty(this,Se,{value:Ps});Object.defineProperty(this,je,{value:hs});Object.defineProperty(this,ke,{value:ps});Object.defineProperty(this,Ce,{value:vs});Object.defineProperty(this,Ne,{value:ns});Object.defineProperty(this,ce,{writable:true,value:void 0});Object.defineProperty(this,de,{writable:true,value:void 0});Object.defineProperty(this,ne,{writable:true,value:void 0});Object.defineProperty(this,ve,{writable:true,value:void 0});Object.defineProperty(this,pe,{writable:true,value:void 0});Object.defineProperty(this,he,{writable:true,value:void 0});Object.defineProperty(this,Pe,{writable:true,value:void 0});Object.defineProperty(this,Le,{writable:true,value:void 0});Object.defineProperty(this,ue,{writable:true,value:void 0});Object.defineProperty(this,He,{writable:true,value:void 0});Object.defineProperty(this,Fe,{writable:true,value:void 0});Object.defineProperty(this,Be,{writable:true,value:void 0});Object.defineProperty(this,me,{writable:true,value:void 0});Object.defineProperty(this,fe,{writable:true,value:void 0});Object.defineProperty(this,ye,{writable:true,value:void 0});Object.defineProperty(this,ge,{writable:true,value:void 0});Object.defineProperty(this,Ee,{writable:true,value:void 0});Object.defineProperty(this,we,{writable:true,value:void 0});Object.defineProperty(this,Te,{writable:true,value:void 0});Object.defineProperty(this,Oe,{writable:true,value:void 0});Object.defineProperty(this,De,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]={wrapper:null,monthWrapper:null,timezoneWrapper:null,month:null,currentMonth:null,prevNav:null,nextNav:null,daysOfWeek:null,navigation:null,back:null};babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,de)[de]=e.accessibility;babelHelpers.classPrivateFieldLooseBase(this,ye)[ye]=e.timezoneList;babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=e.calendarSettings;babelHelpers.classPrivateFieldLooseBase(this,he)[he]=new Date;babelHelpers.classPrivateFieldLooseBase(this,me)[me]=0;babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]=1;babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC";babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getMonth();babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear();babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]=[];babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]=[];babelHelpers.classPrivateFieldLooseBase(this,He)[He]=[];babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]={eventDurability:36e5,stepSize:36e5,weekHolidays:[6,0],weekStart:1};babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]={weekdays:a.Util.getWeekdaysLoc()};babelHelpers.classPrivateFieldLooseBase(this,De)[De]=null;babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]();babelHelpers.classPrivateFieldLooseBase(this,je)[je]();babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne]();setInterval(babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce].bind(this),15e3)}async updateEventSlotsList(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]];const s=e.year;const a=e.month+1;const l=a+"."+s;babelHelpers.classPrivateFieldLooseBase(this,de)[de][l]=await babelHelpers.classPrivateFieldLooseBase(this,$e)[$e](s,a);babelHelpers.classPrivateFieldLooseBase(this,ue)[ue][babelHelpers.classPrivateFieldLooseBase(this,me)[me]]=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](s,a-1);babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]()}selectFirstAvailableDay(){let e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]].days;if(babelHelpers.classPrivateFieldLooseBase(this,me)[me]===0){const s=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getDate();e=e.filter((e=>e.getDay()>=s)).slice(0,14)}let s=e.find((e=>e.isEnableBooking()));if(s===undefined){s=e[0]}s.select()}selectMonthDay(){const e=babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]();babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]=e.day;e.select()}highlightMonthDay(){const e=babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]();babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]=e.day;e.highlight()}getSelectedTimezoneId(){return babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]}getTimezonePrefix(e){const s=e*1e3-babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]*-6e4;const l=new Date(babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTime()+s);return i.DateTimeFormat.format(a.Util.getTimeFormatShort(),l.getTime()/1e3)}render(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs]()}}function ns(){o.EventEmitter.subscribe("selectDate",(e=>{const s=e.data;if(babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]!==s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,Le)[Le])==null?void 0:a.unSelect()}babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]=s;babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]=babelHelpers.classPrivateFieldLooseBase(this,Le)[Le].getDay()}));o.EventEmitter.subscribe("onSaveEvent",(async e=>{if(e.data.state==="created"||e.data.state==="not-created"){await this.updateEventSlotsList();this.highlightMonthDay()}}));o.EventEmitter.subscribe("onDeleteEvent",(async()=>{await this.updateEventSlotsList()}));o.EventEmitter.subscribe("onCreateAnotherEventButtonClick",(()=>{this.selectFirstAvailableDay()}))}function vs(){babelHelpers.classPrivateFieldLooseBase(this,he)[he]=new Date;const e=babelHelpers.classPrivateFieldLooseBase(this,We)[We]();l.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]());l.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]())}function ps(){if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].weekHolidays){babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekHolidays=babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].weekHolidays.map((e=>a.Util.getIndByWeekDay(e)))}if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].yearHolidays){babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].yearHolidays=babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].yearHolidays}if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].weekStart){babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekStart=a.Util.getIndByWeekDay(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].weekStart);babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].weekdays.push(...babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].weekdays.splice(0,babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekStart))}const e=a.Util.getTimeZoneOffset(babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee])/60;if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].workTimeStart){const s=parseFloat(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].workTimeStart)-e;babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].workTimeStartHours=s-s%1;babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].workTimeStartMinutes=s%1*60}if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].workTimeEnd){const s=parseFloat(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].workTimeEnd)-e;babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].workTimeEndHours=s-s%1;babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].workTimeEndMinutes=s%1*60}if(babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]==="UTC"||!babelHelpers.classPrivateFieldLooseBase(this,ye)[ye][babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]]){babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]="Africa/Dakar"}}function hs(){const e=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear(),babelHelpers.classPrivateFieldLooseBase(this,he)[he].getMonth());babelHelpers.classPrivateFieldLooseBase(this,ue)[ue].push(e);const s=babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke](e);const a=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getMonth()+1+"."+babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear();babelHelpers.classPrivateFieldLooseBase(this,He)[He][a]=s;const l=babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae](babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear(),babelHelpers.classPrivateFieldLooseBase(this,he)[he].getMonth());babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe].push(l)}function Ps(e,s){const l=[];const t=new Date(e,s+1,0).getDate();const i=s+1+"."+e;const r=babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTime();const o=(a.Util.getTimeZoneOffset(babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee])-babelHelpers.classPrivateFieldLooseBase(this,he)[he].getTimezoneOffset())*6e4;const _=a.Util.getTimezoneDateFromTimestampUTC(r,babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee])-r;for(let a=1;a<=t;a++){const t=new Date(e,s,a);const b=new Date(e,s,a,babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].workTimeStartHours,babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].workTimeStartMinutes);const c=new Date(e,s,a,babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].workTimeEndHours,babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].workTimeEndMinutes);const d=babelHelpers.classPrivateFieldLooseBase(this,de)[de][i].filter((e=>babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge](parseInt(e.timestampFromUTC)*1e3,parseInt(e.timestampToUTC)*1e3,b.getTime(),c.getTime())));while(b.getTime()<c.getTime()){const e=b.getTime();const s=e+babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].eventDurability;if(s>c.getTime()){break}const a=d.filter((a=>babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge](parseInt(a.timestampFromUTC)*1e3,parseInt(a.timestampToUTC)*1e3,e,s)));const i=a.length===0&&!babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue](t)&&e>r;const n=new Date(e+o+_);const v=new Date(n.getTime()+(s-e));if(i){l.push({timeFrom:n,timeTo:v})}b.setTime(b.getTime()+babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].stepSize)}}return l}function Ls(e){const s=[];e.forEach((e=>{const a=(babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]-babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe])*-60*1e3;const l={timeFrom:new Date(e.timeFrom.getTime()+a),timeTo:new Date(e.timeTo.getTime()+a)};const t=l.timeFrom.getDate();if(s[t]===undefined){s[t]=[]}if(e.timeFrom.getMonth()===l.timeFrom.getMonth()){s[t].push(l)}}));return s}function us(e,s){return{year:e,month:s,currentTimezoneOffset:babelHelpers.classPrivateFieldLooseBase(this,Be)[Be],name:babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](s),days:babelHelpers.classPrivateFieldLooseBase(this,ze)[ze](e,s)}}function Hs(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]].year;const s=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]].month;const a=babelHelpers.classPrivateFieldLooseBase(this,ue)[ue][babelHelpers.classPrivateFieldLooseBase(this,me)[me]];const l=s+1+"."+e;babelHelpers.classPrivateFieldLooseBase(this,He)[He][l]=babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke](a);babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]]=babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae](e,s);babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]()}async function Fs(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]];const s=e.year;const a=e.month;const l=(a+1)%12;const t=s+Math.floor((a+1)/12);const i=l+1;const r=i+"."+t;babelHelpers.classPrivateFieldLooseBase(this,de)[de][r]=await babelHelpers.classPrivateFieldLooseBase(this,$e)[$e](t,i);const o=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](t,l);babelHelpers.classPrivateFieldLooseBase(this,ue)[ue].push(o);babelHelpers.classPrivateFieldLooseBase(this,He)[He][r]=babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke](o);const _=babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae](t,l);babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe].push(_)}async function Bs(e,s){const a=new Date(e,s-1,1);const l=new Date(e,s,0,23,59);const t=await BX.ajax.runAction("calendar.api.sharingajax.getUserAccessibility",{data:{userId:babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].id,timestampFrom:a.getTime(),timestampTo:l.getTime()}});return t.data}function ms(e){const s=new Date(babelHelpers.classPrivateFieldLooseBase(this,he)[he].getFullYear(),e,1);return i.DateTimeFormat.format("f",s.getTime()/1e3)}function fs(e,s){const a=[];const l=new Date(e,s+1,0).getDate();const t=s+1+"."+e;for(let r=1;r<=l;r++){var i;const l=new Date(e,s,r);const o=(i=babelHelpers.classPrivateFieldLooseBase(this,He)[He][t][l.getDate()])!=null?i:[];const _={value:r,slots:o,weekend:babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue](l),enableBooking:o.length>0};const b=new U(_);a.push(b)}return a}function ys(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]].days;let s=e.find((e=>e.getDay()===babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]));if(s===undefined){s=e[e.length-1]}return s}function gs(e){const s=e.getDate()+"."+("0"+(e.getMonth()+1)).slice(-2);return babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekHolidays.includes(e.getDay())||babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].yearHolidays[s]!==undefined}function Es(e,s,a,l){const t=a<=e&&e<l;const i=a<s&&s<=l;const r=e<=a&&s>=l;return t||i||r}function ws(){babelHelpers.classPrivateFieldLooseBase(this,we)[we]=l.Tag.render(X||(X=V`
			<div class="calendar-sharing__timezone-value">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,qe)[qe](babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]));const e=l.Tag.render(Y||(Y=V`
			<div class="calendar-sharing__timezone">
				${0}
				<div class="calendar-sharing__timezone-area">
					<div class="calendar-sharing__timezone-title">${0}:</div>
					${0}
				</div>
			</div>
		`),l.Browser.isMobile()?babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]():"",l.Loc.getMessage("CALENDAR_SHARING_YOR_TIME"),babelHelpers.classPrivateFieldLooseBase(this,we)[we]);babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve]();if(!l.Browser.isMobile()){e.addEventListener("click",(()=>{const s=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve]().getPopupWindow();s.show();const a=s.getContentContainer();const l=a.querySelector(".menu-popup-item.--selected");const t=e.getBoundingClientRect().top+e.offsetHeight/4-a.getBoundingClientRect().top;a.scrollTop=l.offsetTop-t}))}return e}function Ts(){var e,s;if((e=babelHelpers.classPrivateFieldLooseBase(this,De)[De])!=null&&e.getPopupWindow().isShown()){return babelHelpers.classPrivateFieldLooseBase(this,De)[De]}(s=babelHelpers.classPrivateFieldLooseBase(this,De)[De])==null?void 0:s.destroy();const a=Object.keys(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye]).map((e=>({text:babelHelpers.classPrivateFieldLooseBase(this,qe)[qe](e),className:e===babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]?"menu-popup-no-icon --selected":"menu-popup-no-icon",onclick:()=>{babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye](e);babelHelpers.classPrivateFieldLooseBase(this,De)[De].close()}})));babelHelpers.classPrivateFieldLooseBase(this,De)[De]=t.MenuManager.create({id:"momomiomsiomx92984j",className:"calendar-sharing-timezone-select-popup",items:a,autoHide:true,maxHeight:window.innerHeight-150});return babelHelpers.classPrivateFieldLooseBase(this,De)[De]}function Os(){const e=l.Tag.render(q||(q=V`
			<select class="calendar-sharing__timezone-select">
				${0}
			</select>
		`),Object.keys(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye]).map((e=>l.Tag.render(Z||(Z=V`
					<option value="${0}" ${0}>
						${0}
					</option>
				`),e,e===babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]?"selected":"",babelHelpers.classPrivateFieldLooseBase(this,qe)[qe](e)))));e.addEventListener("change",(()=>babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye](e.value)));return e}function Ds(e){babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]=e;babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]=-(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye][babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]].offset/60);o.EventEmitter.emit("updateTimezone",{timezone:e});babelHelpers.classPrivateFieldLooseBase(this,we)[we].innerHTML=babelHelpers.classPrivateFieldLooseBase(this,qe)[qe](babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]);babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]();this.selectMonthDay()}function Ns(e){return`${this.getTimezonePrefix(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye][e].offset)} - ${e}`}function Cs(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].daysOfWeek){const e=babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].weekdays.map((e=>l.Tag.render(Q||(Q=V`
					<div class="calendar-sharing__month-col --day-of-week">${0}</div>
				`),e)));babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].daysOfWeek=l.Tag.render(J||(J=V`
				<div class="calendar-sharing__month-row">${0}</div>
			`),e)}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].daysOfWeek}function ks(e={}){var s;e.selected=((s=babelHelpers.classPrivateFieldLooseBase(this,Le)[Le])==null?void 0:s.getDay())===e.value&&e.currentMonth===true;const a=new U(e);return a.render()}function js(){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]];const s=e.year;const a=e.month;const t=(new Date(s,a,7).getDay()-(babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekStart-1)+7)%7;const i=new Date(s,a+1,0).getDate();const r=a===0?new Date(s-1,11,0).getDate():new Date(s,a,0).getDate();const o=l.Tag.render(ee||(ee=V`<div class="calendar-sharing__month-row"></div>`));let _=r-t+1;for(let e=0;e<t;e++){l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]({value:_,notCurrentMonth:true}),o);_++}for(let s=0;s<=i-1;s++){const a=e.days[s];l.Dom.append(a.render(),o)}let b=(new Date(s,a,i).getDay()-babelHelpers.classPrivateFieldLooseBase(this,Te)[Te].weekStart+7)%7;for(_=1;b<6;b++){l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]({value:_,notCurrentMonth:true}),o);_++}const c=l.Tag.render(se||(se=V`
			<div class="calendar-sharing__month">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze](),o);let d={x:null};let n=e=>{d.x=e.changedTouches[0].clientX};c.addEventListener("touchstart",(e=>{n(e)}));c.addEventListener("touchend",(e=>{if(d.x<e.changedTouches[0].clientX-100){babelHelpers.classPrivateFieldLooseBase(this,_s)[_s]()}if(d.x>e.changedTouches[0].clientX+100){babelHelpers.classPrivateFieldLooseBase(this,os)[os]()}c.style.removeProperty("transform")}));c.addEventListener("touchmove",(e=>{e.preventDefault()}));return c}function Ss(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].monthWrapper){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].monthWrapper=l.Tag.render(ae||(ae=V`
				<div class="calendar-sharing__calendar-block --month">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]())}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].monthWrapper}function Ks(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].timezoneWrapper){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].timezoneWrapper=l.Tag.render(le||(le=V`
				<div class="calendar-sharing__calendar-block">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,We)[We]())}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].timezoneWrapper}function As(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].currentMonth){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]].name;const s=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]].year;babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].currentMonth=l.Tag.render(te||(te=V`
				<div class="calendar-sharing__calendar-title-day calendar-pub-ui__typography-title">${0}, ${0}</div>
			`),e,s);o.EventEmitter.subscribe(this,"updateCalendar",(()=>{const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]].name;const s=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe][babelHelpers.classPrivateFieldLooseBase(this,me)[me]].year;babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].currentMonth.innerHTML=`${e}, ${s}`}))}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].currentMonth}function Is(e){l.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,es)[es]());const s=babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]();if(l.Type.isString(e)){l.Dom.addClass(s,`--animate-${e}`);s.addEventListener("animationend",(()=>{l.Dom.removeClass(s,`--animate-${e}`)}),{once:true})}l.Dom.append(s,babelHelpers.classPrivateFieldLooseBase(this,es)[es]());o.EventEmitter.emit(this,"updateCalendar");if(babelHelpers.classPrivateFieldLooseBase(this,me)[me]===0){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav,"--disabled")}else{l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav,"--disabled")}}function Ms(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav=l.Tag.render(ie||(ie=V`
				<div class="calendar-sharing__calendar-nav_prev --disabled" title="${0}"></div>
			`),l.Loc.getMessage("CALENDAR_SHARING_NAV_PREV"));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav,"click",babelHelpers.classPrivateFieldLooseBase(this,_s)[_s].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].prevNav}function $s(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].nextNav){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].nextNav=l.Tag.render(re||(re=V`
				<div class="calendar-sharing__calendar-nav_next" title="${0}"></div>
			`),l.Loc.getMessage("CALENDAR_SHARING_NAV_NEXT"));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].nextNav,"click",babelHelpers.classPrivateFieldLooseBase(this,os)[os].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].nextNav}function Rs(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].navigation){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].navigation=l.Tag.render(oe||(oe=V`
				<div class="calendar-sharing__calendar-nav">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ts)[ts](),babelHelpers.classPrivateFieldLooseBase(this,is)[is]())}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].navigation}async function zs(){if(babelHelpers.classPrivateFieldLooseBase(this,me)[me]===babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe].length-1){await babelHelpers.classPrivateFieldLooseBase(this,Me)[Me]()}babelHelpers.classPrivateFieldLooseBase(this,me)[me]+=1;o.EventEmitter.emit(this,"clickNextMonth");babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]("next");this.selectMonthDay()}function xs(){if(babelHelpers.classPrivateFieldLooseBase(this,me)[me]===0){return}babelHelpers.classPrivateFieldLooseBase(this,me)[me]-=1;o.EventEmitter.emit(this,"clickPrevMonth");babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]("prev");this.selectMonthDay()}function Us(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].back){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].back=l.Tag.render(_e||(_e=V`
				<div class="calendar-sharing__calendar-back"></div>
			`));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].back,"click",(()=>{o.EventEmitter.emit("hideSlotSelector",this)}))}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].back}function Gs(){if(!babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].wrapper){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].wrapper=l.Tag.render(be||(be=V`
				<div class="calendar-sharing__calendar">
					<div class="calendar-sharing__calendar-bar">
						${0}
						${0}
						${0}
					</div>
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,bs)[bs](),babelHelpers.classPrivateFieldLooseBase(this,as)[as](),babelHelpers.classPrivateFieldLooseBase(this,rs)[rs](),babelHelpers.classPrivateFieldLooseBase(this,es)[es](),babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]())}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].wrapper}let Ws=e=>e,Vs,Xs;var Ys=babelHelpers.classPrivateFieldLooseKey("wrapNode");var qs=babelHelpers.classPrivateFieldLooseKey("isHiddenOnStart");var Zs=babelHelpers.classPrivateFieldLooseKey("getWrapNode");var Qs=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Js=babelHelpers.classPrivateFieldLooseKey("hide");var ea=babelHelpers.classPrivateFieldLooseKey("show");class sa{constructor(e){Object.defineProperty(this,ea,{value:ia});Object.defineProperty(this,Js,{value:ta});Object.defineProperty(this,Qs,{value:la});Object.defineProperty(this,Zs,{value:aa});Object.defineProperty(this,Ys,{writable:true,value:void 0});Object.defineProperty(this,qs,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys]=null;babelHelpers.classPrivateFieldLooseBase(this,qs)[qs]=e.isHiddenOnStart;babelHelpers.classPrivateFieldLooseBase(this,Qs)[Qs]()}getContent(){return l.Tag.render(Vs||(Vs=Ws`
			<div></div>
		`))}getType(){return"base"}render(){l.Dom.append(this.getContent(),babelHelpers.classPrivateFieldLooseBase(this,Zs)[Zs]());return babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys]}}function aa(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys]){babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys]=l.Tag.render(Xs||(Xs=Ws`<div class="calendar-pub__slots-wrap"></div>`));if(babelHelpers.classPrivateFieldLooseBase(this,qs)[qs]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys],"--hidden")}}return babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys]}function la(){o.EventEmitter.subscribe("selectorTypeChange",(e=>{if(e.data!==this.getType()){babelHelpers.classPrivateFieldLooseBase(this,Js)[Js]()}else{babelHelpers.classPrivateFieldLooseBase(this,ea)[ea]()}}))}function ta(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys],"--hidden")}function ia(){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ys)[Ys],"--hidden")}let ra=e=>e,oa,_a,ba,ca,da,na,va;var pa=babelHelpers.classPrivateFieldLooseKey("layout");var ha=babelHelpers.classPrivateFieldLooseKey("value");var Pa=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageMonth");var La=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageDay");var ua=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageTimeFrom");var Ha=babelHelpers.classPrivateFieldLooseKey("getNodeDayInfo");var Fa=babelHelpers.classPrivateFieldLooseKey("getNodeTimeInterval");var Ba=babelHelpers.classPrivateFieldLooseKey("getNodeTimezone");class ma{constructor(){Object.defineProperty(this,Ba,{value:Ta});Object.defineProperty(this,Fa,{value:wa});Object.defineProperty(this,Ha,{value:Ea});Object.defineProperty(this,ua,{value:ga});Object.defineProperty(this,La,{value:ya});Object.defineProperty(this,Pa,{value:fa});Object.defineProperty(this,pa,{writable:true,value:void 0});Object.defineProperty(this,ha,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,pa)[pa]={calendarPage:{month:null,day:null,timeFrom:null},dayInfo:null,timeInterval:null,timezone:null};babelHelpers.classPrivateFieldLooseBase(this,ha)[ha]={from:null,to:null,timezone:null}}updateValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,ha)[ha].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,ha)[ha].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,ha)[ha].timezone=e.timezone}this.updateLayout()}updateLayout(){const e=babelHelpers.classPrivateFieldLooseBase(this,ha)[ha].from.getTime()/1e3;babelHelpers.classPrivateFieldLooseBase(this,ua)[ua]().innerText=i.DateTimeFormat.format(a.Util.getTimeFormatShort(),e);babelHelpers.classPrivateFieldLooseBase(this,Pa)[Pa]().innerText=i.DateTimeFormat.format("f",e);babelHelpers.classPrivateFieldLooseBase(this,La)[La]().innerText=i.DateTimeFormat.format("d",e);babelHelpers.classPrivateFieldLooseBase(this,Ha)[Ha]().innerText=i.DateTimeFormat.format(a.Util.getDayOfWeekMonthFormat(),e);babelHelpers.classPrivateFieldLooseBase(this,Fa)[Fa]().innerText=a.Util.formatTimeInterval(babelHelpers.classPrivateFieldLooseBase(this,ha)[ha].from,babelHelpers.classPrivateFieldLooseBase(this,ha)[ha].to);babelHelpers.classPrivateFieldLooseBase(this,Ba)[Ba]().innerText=a.Util.getFormattedTimezone(babelHelpers.classPrivateFieldLooseBase(this,ha)[ha].timezone);babelHelpers.classPrivateFieldLooseBase(this,Ba)[Ba]().setAttribute("title",a.Util.getFormattedTimezone(babelHelpers.classPrivateFieldLooseBase(this,ha)[ha].timezone))}render(){return l.Tag.render(oa||(oa=ra`
				<div class="calendar-pub__form-date">
					<div class="calendar-pub__form-date-day">
						${0}
						<div class="calendar-pub__form-date-content">
							${0}
							${0}
						</div>
					</div>
					<div class="calendar-pub__form-date-info">
						${0}
						${0}
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Pa)[Pa](),babelHelpers.classPrivateFieldLooseBase(this,La)[La](),babelHelpers.classPrivateFieldLooseBase(this,ua)[ua](),babelHelpers.classPrivateFieldLooseBase(this,Ha)[Ha](),babelHelpers.classPrivateFieldLooseBase(this,Fa)[Fa](),babelHelpers.classPrivateFieldLooseBase(this,Ba)[Ba]())}}function fa(){if(!babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.month){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.month=l.Tag.render(_a||(_a=ra`
				<div class="calendar-pub__form-date-day_month"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.month}function ya(){if(!babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.day){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.day=l.Tag.render(ba||(ba=ra`
				<div class="calendar-pub__form-date-day_num"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.day}function ga(){if(!babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.timeFrom){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.timeFrom=l.Tag.render(ca||(ca=ra`
				<div class="calendar-pub__form-date-day_time">13:00</div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].calendarPage.timeFrom}function Ea(){if(!babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].dayInfo){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].dayInfo=l.Tag.render(da||(da=ra`
				<div class="calendar-pub__form-date-info_day"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].dayInfo}function wa(){if(!babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timeInterval){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timeInterval=l.Tag.render(na||(na=ra`
				<div class="calendar-pub__form-date-info_time"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timeInterval}function Ta(){if(!babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timezone){babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timezone=l.Tag.render(va||(va=ra`
				<div class="calendar-pub__form-date-info_time-zone"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,pa)[pa].timezone}let Oa=e=>e,Da,Na,Ca,ka,ja,Sa,Ka,Aa;var Ia=babelHelpers.classPrivateFieldLooseKey("layout");var Ma=babelHelpers.classPrivateFieldLooseKey("value");var $a=babelHelpers.classPrivateFieldLooseKey("widgetDate");var Ra=babelHelpers.classPrivateFieldLooseKey("owner");var za=babelHelpers.classPrivateFieldLooseKey("link");var xa=babelHelpers.classPrivateFieldLooseKey("sharingUser");var Ua=babelHelpers.classPrivateFieldLooseKey("phoneDb");var Ga=babelHelpers.classPrivateFieldLooseKey("isFromCrm");var Wa=babelHelpers.classPrivateFieldLooseKey("hasContactData");var Va=babelHelpers.classPrivateFieldLooseKey("isPhoneFeatureEnabled");var Xa=babelHelpers.classPrivateFieldLooseKey("isMailFeatureEnabled");var Ya=babelHelpers.classPrivateFieldLooseKey("inputData");var qa=babelHelpers.classPrivateFieldLooseKey("inputErrors");var Za=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");var Qa=babelHelpers.classPrivateFieldLooseKey("getEventName");var Ja=babelHelpers.classPrivateFieldLooseKey("getNodeButtonSend");var el=babelHelpers.classPrivateFieldLooseKey("handleSaveButtonClick");var sl=babelHelpers.classPrivateFieldLooseKey("saveEvent");var al=babelHelpers.classPrivateFieldLooseKey("parseDate");var ll=babelHelpers.classPrivateFieldLooseKey("validateData");var tl=babelHelpers.classPrivateFieldLooseKey("validatePhone");var il=babelHelpers.classPrivateFieldLooseKey("validateEmail");var rl=babelHelpers.classPrivateFieldLooseKey("clearContactDataError");var ol=babelHelpers.classPrivateFieldLooseKey("clearContactNameError");var _l=babelHelpers.classPrivateFieldLooseKey("showFullContactPlaceholder");var bl=babelHelpers.classPrivateFieldLooseKey("isMailContactOnly");var cl=babelHelpers.classPrivateFieldLooseKey("isPhoneContactOnly");var dl=babelHelpers.classPrivateFieldLooseKey("isCrmAndHasContact");var nl=babelHelpers.classPrivateFieldLooseKey("getNodeWidgetDate");var vl=babelHelpers.classPrivateFieldLooseKey("getNodeFormArea");var pl=babelHelpers.classPrivateFieldLooseKey("getContactDataPlaceholder");var hl=babelHelpers.classPrivateFieldLooseKey("getNodeInputName");var Pl=babelHelpers.classPrivateFieldLooseKey("getNodeInputContact");var Ll=babelHelpers.classPrivateFieldLooseKey("getNodeInputDescription");var ul=babelHelpers.classPrivateFieldLooseKey("getNodeInputError");var Hl=babelHelpers.classPrivateFieldLooseKey("renderInputErrors");var Fl=babelHelpers.classPrivateFieldLooseKey("getNodeBack");var Bl=babelHelpers.classPrivateFieldLooseKey("onPhoneInput");var ml=babelHelpers.classPrivateFieldLooseKey("getTextBeforeCursor");var fl=babelHelpers.classPrivateFieldLooseKey("setCursorToFormattedPosition");var yl=babelHelpers.classPrivateFieldLooseKey("getTextEscapedForRegex");var gl=babelHelpers.classPrivateFieldLooseKey("onPhoneInputKeyDown");var El=babelHelpers.classPrivateFieldLooseKey("isPhoneTypeInput");var wl=babelHelpers.classPrivateFieldLooseKey("isDigit");var Tl=babelHelpers.classPrivateFieldLooseKey("isControlKey");var Ol=babelHelpers.classPrivateFieldLooseKey("formatPhone");var Dl=babelHelpers.classPrivateFieldLooseKey("findMask");class Nl extends sa{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,Dl,{value:dt});Object.defineProperty(this,Ol,{value:ct});Object.defineProperty(this,Tl,{value:bt});Object.defineProperty(this,wl,{value:_t});Object.defineProperty(this,El,{value:ot});Object.defineProperty(this,gl,{value:rt});Object.defineProperty(this,yl,{value:it});Object.defineProperty(this,fl,{value:tt});Object.defineProperty(this,ml,{value:lt});Object.defineProperty(this,Bl,{value:at});Object.defineProperty(this,Fl,{value:st});Object.defineProperty(this,Hl,{value:et});Object.defineProperty(this,ul,{value:Jl});Object.defineProperty(this,Ll,{value:Ql});Object.defineProperty(this,Pl,{value:Zl});Object.defineProperty(this,hl,{value:ql});Object.defineProperty(this,pl,{value:Yl});Object.defineProperty(this,vl,{value:Xl});Object.defineProperty(this,nl,{value:Vl});Object.defineProperty(this,dl,{value:Wl});Object.defineProperty(this,cl,{value:Gl});Object.defineProperty(this,bl,{value:Ul});Object.defineProperty(this,_l,{value:xl});Object.defineProperty(this,ol,{value:zl});Object.defineProperty(this,rl,{value:Rl});Object.defineProperty(this,il,{value:$l});Object.defineProperty(this,tl,{value:Ml});Object.defineProperty(this,ll,{value:Il});Object.defineProperty(this,al,{value:Al});Object.defineProperty(this,sl,{value:Kl});Object.defineProperty(this,el,{value:Sl});Object.defineProperty(this,Ja,{value:jl});Object.defineProperty(this,Qa,{value:kl});Object.defineProperty(this,Za,{value:Cl});Object.defineProperty(this,Ia,{writable:true,value:void 0});Object.defineProperty(this,Ma,{writable:true,value:void 0});Object.defineProperty(this,$a,{writable:true,value:void 0});Object.defineProperty(this,Ra,{writable:true,value:void 0});Object.defineProperty(this,za,{writable:true,value:void 0});Object.defineProperty(this,xa,{writable:true,value:void 0});Object.defineProperty(this,Ua,{writable:true,value:void 0});Object.defineProperty(this,Ga,{writable:true,value:void 0});Object.defineProperty(this,Wa,{writable:true,value:void 0});Object.defineProperty(this,Va,{writable:true,value:void 0});Object.defineProperty(this,Xa,{writable:true,value:void 0});Object.defineProperty(this,Ya,{writable:true,value:void 0});Object.defineProperty(this,qa,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Ra)[Ra]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,za)[za]=e.link;babelHelpers.classPrivateFieldLooseBase(this,$a)[$a]=new ma;babelHelpers.classPrivateFieldLooseBase(this,xa)[xa]=e.sharingUser;babelHelpers.classPrivateFieldLooseBase(this,Ga)[Ga]=e.isFromCrm;babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]=e.hasContactData;babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]=e.isPhoneFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa]=e.isMailFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia]={wrapper:null,buttonSend:null,widgetDate:null,formArea:null,back:null,calendarPage:{month:null,day:null,timeFrom:null},dayInfo:null,timeInterval:null,timezone:null,inputs:{name:null,contact:null,description:null}};babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma]={from:null,to:null,timezone:null};babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya]={authorName:"",contactData:"",description:""};babelHelpers.classPrivateFieldLooseBase(this,qa)[qa]={authorNameEmpty:false,contactDataEmpty:false,contactDataIncorrect:false};babelHelpers.classPrivateFieldLooseBase(this,Ua)[Ua]=null}cleanDescription(){babelHelpers.classPrivateFieldLooseBase(this,Ll)[Ll]().value=null;babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].description=""}getType(){return"form"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Za)[Za]()}updateFormValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].timezone=e.timezone}this.updateFormLayout()}updateFormLayout(){babelHelpers.classPrivateFieldLooseBase(this,$a)[$a].updateValue(babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma])}clearInputErrors(){babelHelpers.classPrivateFieldLooseBase(this,ol)[ol]();babelHelpers.classPrivateFieldLooseBase(this,rl)[rl]()}}function Cl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].wrapper=l.Tag.render(Da||(Da=Oa`
				<div class="calendar-pub__form">
					<div class="calendar-sharing__calendar-bar">
						${0}
						<div class="calendar-sharing__calendar-title-day calendar-pub-ui__typography-title">
							${0}
						</div>
					</div>
					<div class="calendar-sharing__calendar-block">
						${0}
					</div>
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl](),babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa](),babelHelpers.classPrivateFieldLooseBase(this,nl)[nl](),babelHelpers.classPrivateFieldLooseBase(this,vl)[vl]())}return babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].wrapper}function kl(){return l.Loc.getMessage("CALENDAR_SHARING_EVENT_NAME",{"#OWNER_NAME#":babelHelpers.classPrivateFieldLooseBase(this,Ra)[Ra].name+" "+babelHelpers.classPrivateFieldLooseBase(this,Ra)[Ra].lastName})}function jl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].buttonSend){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].buttonSend=l.Tag.render(Na||(Na=Oa`
				<div class="calendar-pub-ui__btn">
					<div class="calendar-pub-ui__btn-text">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_CREATE_MEETING"));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].buttonSend,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,el)[el]()))}return babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].buttonSend}async function Sl(){if(l.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].buttonSend,"--wait")){return}l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].buttonSend,"--wait");this.clearInputErrors();if(!babelHelpers.classPrivateFieldLooseBase(this,ll)[ll]()){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].buttonSend,"--wait");return}const e=await babelHelpers.classPrivateFieldLooseBase(this,sl)[sl]();if(e){o.EventEmitter.emit("selectorTypeChange","event",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa](),from:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].from,to:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].timezone})}l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].buttonSend,"--wait")}async function Kl(){var e,s,a,l;let t=null;try{if(babelHelpers.classPrivateFieldLooseBase(this,Ga)[Ga]){t=await BX.ajax.runAction("calendar.api.sharingajax.saveCrmEvent",{data:{ownerCreated:babelHelpers.classPrivateFieldLooseBase(this,xa)[xa].ownerCreated,ownerId:babelHelpers.classPrivateFieldLooseBase(this,Ra)[Ra].id,dateFrom:babelHelpers.classPrivateFieldLooseBase(this,al)[al](babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].from),dateTo:babelHelpers.classPrivateFieldLooseBase(this,al)[al](babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].to),userName:babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorName,userContact:babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData,timezone:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].timezone,crmDealLinkHash:babelHelpers.classPrivateFieldLooseBase(this,za)[za].hash,description:babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].description}})}else{t=await BX.ajax.runAction("calendar.api.sharingajax.saveEvent",{data:{ownerCreated:babelHelpers.classPrivateFieldLooseBase(this,xa)[xa].ownerCreated,ownerId:babelHelpers.classPrivateFieldLooseBase(this,Ra)[Ra].id,userName:babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorName,userContact:babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData,dateFrom:babelHelpers.classPrivateFieldLooseBase(this,al)[al](babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].from),dateTo:babelHelpers.classPrivateFieldLooseBase(this,al)[al](babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].to),timezone:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].timezone,parentLinkHash:babelHelpers.classPrivateFieldLooseBase(this,za)[za].hash,description:babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].description}})}}catch(e){t=e}if(t.errors.length===0){o.EventEmitter.emit("onSaveEvent",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa](),from:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].from,to:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].timezone,eventId:t.data.eventId,eventLinkId:t.data.eventLinkId,eventLinkHash:t.data.eventLinkHash,eventLinkShortUrl:t.data.eventLinkShortUrl,userName:babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorName,state:"created",isView:false});return true}if((e=t)!=null&&(s=e.data)!=null&&s.contactDataError||(a=t)!=null&&(l=a.data)!=null&&l.isEmptyContactName){babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataIncorrect=t.data.contactDataError===true;babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].authorNameEmpty=t.data.isEmptyContactName===true;babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl]();return false}o.EventEmitter.emit("onSaveEvent",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Qa)[Qa](),from:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].from,to:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma].timezone,state:"not-created",isView:false});return false}function Al(e){const s=i.DateTimeFormat.format(a.Util.getDateFormat(),e.getTime()/1e3);const l=i.DateTimeFormat.format(a.Util.getTimeFormat(),e.getTime()/1e3);return s+" "+l}function Il(){if(babelHelpers.classPrivateFieldLooseBase(this,dl)[dl]()){return true}if(babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorName.length===0){babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].authorNameEmpty=true}if(babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData.length===0){babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataEmpty=true}if(!babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataEmpty){babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataIncorrect=!babelHelpers.classPrivateFieldLooseBase(this,tl)[tl]()&&!babelHelpers.classPrivateFieldLooseBase(this,il)[il]()}babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl]();return!babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].authorNameEmpty&&!babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataEmpty&&!babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataIncorrect}function Ml(){if(babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()){return false}const e=babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData.replace(/[()\s\-]+/g,"");const s=e.match(/(^\+?\d{4,25}$)/i);return(s==null?void 0:s[0])===e}function $l(){if(babelHelpers.classPrivateFieldLooseBase(this,cl)[cl]()){return false}const e=babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData.match(/(^[^@]+@.+$)/i);return(e==null?void 0:e[0])===babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData}function Rl(){babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataEmpty=false;babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataIncorrect=false;babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl]()}function zl(){babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].authorNameEmpty=false;babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl]()}function xl(){return!babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()&&!babelHelpers.classPrivateFieldLooseBase(this,cl)[cl]()}function Ul(){return!babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]&&babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa]}function Gl(){return babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]&&!babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa]}function Wl(){return babelHelpers.classPrivateFieldLooseBase(this,Ga)[Ga]&&babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]}function Vl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].widgetDate){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].widgetDate=babelHelpers.classPrivateFieldLooseBase(this,$a)[$a].render()}return babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].widgetDate}function Xl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].formArea){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].nameInputError=babelHelpers.classPrivateFieldLooseBase(this,ul)[ul]();babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].contactInputError=babelHelpers.classPrivateFieldLooseBase(this,ul)[ul]();babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].formArea=l.Tag.render(Ca||(Ca=Oa`
				<div class="calendar-sharing__calendar-block --form">
					<div class="calendar-sharing__form-area">
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}<span>*</span></div>
							${0}
						</div>
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}<span>*</span></div>
							${0}
						</div>
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}</div>
						</div>
					</div>
					<div class="calendar-pub__welcome-bottom">
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,hl)[hl](),l.Loc.getMessage("CALENDAR_SHARING_FORM_INPUT_NAME"),babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].nameInputError,babelHelpers.classPrivateFieldLooseBase(this,Pl)[Pl](),babelHelpers.classPrivateFieldLooseBase(this,pl)[pl](),babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].contactInputError,babelHelpers.classPrivateFieldLooseBase(this,Ll)[Ll](),l.Loc.getMessage("CALENDAR_SHARING_FORM_INPUT_INFO"),babelHelpers.classPrivateFieldLooseBase(this,Ja)[Ja]())}return babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].formArea}function Yl(){let e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_PHONE_FEATURE_ENABLED";if(babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()){e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_PHONE_FEATURE_DISABLED"}if(babelHelpers.classPrivateFieldLooseBase(this,cl)[cl]()){e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_MAIL_FEATURE_DISABLED"}return l.Loc.getMessage(e)}function ql(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name){var e;babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name=l.Tag.render(ka||(ka=Oa`
				<input type="text" placeholder=" " class="calendar-sharing__form-input-area">
			`));if(babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name,"--hidden")}else if((e=babelHelpers.classPrivateFieldLooseBase(this,xa)[xa])!=null&&e.userName){var s;babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name.value=(s=babelHelpers.classPrivateFieldLooseBase(this,xa)[xa])==null?void 0:s.userName}babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorName=babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name.value;l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].authorName=babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name.value}));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name,"focus",babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name}function Zl(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact=l.Tag.render(ja||(ja=Oa`
				<input type="text" placeholder=" " class="calendar-sharing__form-input-area">
			`));if(babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]()){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.inputMode="email"}if(babelHelpers.classPrivateFieldLooseBase(this,cl)[cl]()){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.inputMode="tel"}if(babelHelpers.classPrivateFieldLooseBase(this,Wa)[Wa]){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact,"--hidden")}else if(babelHelpers.classPrivateFieldLooseBase(this,xa)[xa]){if(babelHelpers.classPrivateFieldLooseBase(this,Xa)[Xa]&&babelHelpers.classPrivateFieldLooseBase(this,xa)[xa].personalMailbox){var e;babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.value=(e=babelHelpers.classPrivateFieldLooseBase(this,xa)[xa])==null?void 0:e.personalMailbox}else if(babelHelpers.classPrivateFieldLooseBase(this,Va)[Va]&&babelHelpers.classPrivateFieldLooseBase(this,xa)[xa].personalPhone){var s;babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.value=(s=babelHelpers.classPrivateFieldLooseBase(this,xa)[xa])==null?void 0:s.personalPhone}}babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData=babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.value;l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact,"input",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData=babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.value;babelHelpers.classPrivateFieldLooseBase(this,Bl)[Bl](e)}));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact,"keydown",babelHelpers.classPrivateFieldLooseBase(this,gl)[gl].bind(this));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact,"focus",babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact}function Ql(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.description){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.description=l.Tag.render(Sa||(Sa=Oa`
				<textarea type="text" placeholder=" " class="calendar-sharing__form-input-area --textarea"></textarea>
			`));babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].description=babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.description.value;l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.description,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].description=babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.description.value}))}return babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.description}function Jl(){return l.Tag.render(Ka||(Ka=Oa`
			<span class="calendar-sharing__form-input-error"></span>
		`))}function et(){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name.parentNode,"--error");l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.parentNode,"--error");if(babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].authorNameEmpty){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.name.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].nameInputError.innerText=l.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_REQUIRED")}if(babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataEmpty){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].contactInputError.innerText=l.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_REQUIRED")}if(babelHelpers.classPrivateFieldLooseBase(this,qa)[qa].contactDataIncorrect){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].contactInputError.innerText=l.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_INCORRECT")}}function st(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].back){babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].back=l.Tag.render(Aa||(Aa=Oa`
				<div class="calendar-sharing__calendar-back"></div>
			`));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].back,"click",(()=>{o.EventEmitter.emit("selectorTypeChange","slot-list")}))}return babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].back}function at(){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl]();if(!babelHelpers.classPrivateFieldLooseBase(this,El)[El]()){return}const e=babelHelpers.classPrivateFieldLooseBase(this,ml)[ml](babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact);babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData=babelHelpers.classPrivateFieldLooseBase(this,Ol)[Ol](babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData);babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact.value=babelHelpers.classPrivateFieldLooseBase(this,Ya)[Ya].contactData;babelHelpers.classPrivateFieldLooseBase(this,fl)[fl](babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia].inputs.contact,e)}function lt(e){const s=e.selectionStart;return e.value.slice(0,s)}function tt(e,s){const a=babelHelpers.classPrivateFieldLooseBase(this,yl)[yl](s.slice(0,-1));const l=babelHelpers.classPrivateFieldLooseBase(this,yl)[yl](s.slice(-1));const t=e.value.match(`${a}.*?${l}`);if(!t){return}const i=t[0];const r=e.value.indexOf(i)+i.length;e.setSelectionRange(r,r)}function it(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rt(e){if(!babelHelpers.classPrivateFieldLooseBase(this,El)[El]()){return}if(!babelHelpers.classPrivateFieldLooseBase(this,wl)[wl](e.key)&&!babelHelpers.classPrivateFieldLooseBase(this,Tl)[Tl](e.key)&&!a.Util.isAnyModifierKeyPressed(e)){e.preventDefault()}}function ot(){return babelHelpers.classPrivateFieldLooseBase(this,cl)[cl]()||babelHelpers.classPrivateFieldLooseBase(this,_l)[_l]()&&this.contactData.slice(0,1)==="+"}function _t(e){return/^\d+$/.test(e)}function bt(e){return["Esc","Delete","Backspace","Tab"].indexOf(e)>=0||e.includes("Arrow")}function ct(e){var s;(s=e)!=null?s:e="";let a=e.indexOf("+")===0;e=e.replace(/\D/g,"");if(!a&&e.substr(0,1)==="8"){e="7"+e.substr(1)}if(!babelHelpers.classPrivateFieldLooseBase(this,Ua)[Ua]){babelHelpers.classPrivateFieldLooseBase(this,Ua)[Ua]="247,ac,___-____|376,ad,___-___-___|971,ae,___-_-___-____|93,af,__-__-___-____|1268,ag,_ (___) ___-____|1264,ai,_ (___) ___-____|355,al,___ (___) ___-___|374,am,___-__-___-___|599,bq,___-___-____|244,ao,___ (___) ___-___|6721,aq,___-___-___|54,ar,__ (___) ___-____|1684,as,_ (___) ___-____|43,at,__ (___) ___-____|61,au,__-_-____-____|297,aw,___-___-____|994,az,___ (__) ___-__-__|387,ba,___-__-____|1246,bb,_ (___) ___-____|880,bd,___-__-___-___|32,be,__ (___) ___-___|226,bf,___-__-__-____|359,bg,___ (___) ___-___|973,bh,___-____-____|257,bi,___-__-__-____|229,bj,___-__-__-____|1441,bm,_ (___) ___-____|673,bn,___-___-____|591,bo,___-_-___-____|55,br,__-(__)-____-____|1242,bs,_ (___) ___-____|975,bt,___-_-___-___|267,bw,___-__-___-___|375,by,___ (__) ___-__-__|501,bz,___-___-____|243,cd,___ (___) ___-___|236,cf,___-__-__-____|242,cg,___-__-___-____|41,ch,__-__-___-____|225,ci,___-__-___-___|682,ck,___-__-___|56,cl,__-_-____-____|237,cm,___-____-____|86,cn,__ (___) ____-___|57,co,__ (___) ___-____|506,cr,___-____-____|53,cu,__-_-___-____|238,cv,___ (___) __-__|357,cy,___-__-___-___|420,cz,___ (___) ___-___|49,de,__-___-___|253,dj,___-__-__-__-__|45,dk,__-__-__-__-__|1767,dm,_ (___) ___-____|1809,do,_ (___) ___-____|,do,_ (___) ___-____|213,dz,___-__-___-____|593,ec,___-_-___-____|372,ee,___-___-____|20,eg,__ (___) ___-____|291,er,___-_-___-___|34,es,__ (___) ___-___|251,et,___-__-___-____|358,fi,___ (___) ___-__-__|679,fj,___-__-_____|500,fk,___-_____|691,fm,___-___-____|298,fo,___-___-___|262,fr,___-_____-____|33,fr,__ (___) ___-___|508,fr,___-__-____|590,fr,___ (___) ___-___|241,ga,___-_-__-__-__|1473,gd,_ (___) ___-____|995,ge,___ (___) ___-___|594,gf,___-_____-____|233,gh,___ (___) ___-___|350,gi,___-___-_____|299,gl,___-__-__-__|220,gm,___ (___) __-__|224,gn,___-__-___-___|240,gq,___-__-___-____|30,gr,__ (___) ___-____|502,gt,___-_-___-____|1671,gu,_ (___) ___-____|245,gw,___-_-______|592,gy,___-___-____|852,hk,___-____-____|504,hn,___-____-____|385,hr,___-__-___-___|509,ht,___-__-__-____|36,hu,__ (___) ___-___|62,id,__-__-___-__|353,ie,___ (___) ___-___|972,il,___-_-___-____|91,in,__ (____) ___-___|246,io,___-___-____|964,iq,___ (___) ___-____|98,ir,__ (___) ___-____|354,is,___-___-____|39,it,__ (___) ____-___|1876,jm,_ (___) ___-____|962,jo,___-_-____-____|81,jp,__ (___) ___-___|254,ke,___-___-______|996,kg,___ (___) ___-___|855,kh,___ (__) ___-___|686,ki,___-__-___|269,km,___-__-_____|1869,kn,_ (___) ___-____|850,kp,___-___-___|82,kr,__-__-___-____|965,kw,___-____-____|1345,ky,_ (___) ___-____|77,kz,_ (___) ___-__-__|856,la,___-__-___-___|961,lb,___-_-___-___|1758,lc,_ (___) ___-____|423,li,___ (___) ___-____|94,lk,__-__-___-____|231,lr,___-__-___-___|266,ls,___-_-___-____|370,lt,___ (___) __-___|352,lu,___ (___) ___-___|371,lv,___-__-___-___|218,ly,___-__-___-___|212,ma,___-__-____-___|377,mc,___-__-___-___|373,md,___-____-____|382,me,___-__-___-___|261,mg,___-__-__-_____|692,mh,___-___-____|389,mk,___-__-___-___|223,ml,___-__-__-____|95,mm,__-___-___|976,mn,___-__-__-____|853,mo,___-____-____|1670,mp,_ (___) ___-____|596,mq,___ (___) __-__-__|222,mr,___ (__) __-____|1664,ms,_ (___) ___-____|356,mt,___-____-____|230,mu,___-___-____|960,mv,___-___-____|265,mw,___-_-____-____|52,mx,__-__-__-____|60,my,__-_-___-___|258,mz,___-__-___-___|264,na,___-__-___-____|687,nc,___-__-____|227,ne,___-__-__-____|6723,nf,___-___-___|234,ng,___-__-___-__|505,ni,___-____-____|31,nl,__-__-___-____|47,no,__ (___) __-___|977,np,___-__-___-___|674,nr,___-___-____|683,nu,___-____|64,nz,__-__-___-___|968,om,___-__-___-___|507,pa,___-___-____|51,pe,__ (___) ___-___|689,pf,___-__-__-__|675,pg,___ (___) __-___|63,ph,__ (___) ___-____|92,pk,__ (___) ___-____|48,pl,__ (___) ___-___|970,ps,___-__-___-____|351,pt,___-__-___-____|680,pw,___-___-____|595,py,___ (___) ___-___|974,qa,___-____-____|40,ro,__-__-___-____|381,rs,___-__-___-____|7,ru,_ (___) ___-__-__|250,rw,___ (___) ___-___|966,sa,___-_-___-____|677,sb,___-_____|248,sc,___-_-___-___|249,sd,___-__-___-____|46,se,__-__-___-____|65,sg,__-____-____|386,si,___-__-___-___|421,sk,___ (___) ___-___|232,sl,___-__-______|378,sm,___-____-______|221,sn,___-__-___-____|252,so,___-_-___-___|597,sr,___-___-___|211,ss,___-__-___-____|239,st,___-__-_____|503,sv,___-__-__-____|1721,sx,_ (___) ___-____|963,sy,___-__-____-___|268,sz,___ (__) __-____|1649,tc,_ (___) ___-____|235,td,___-__-__-__-__|228,tg,___-__-___-___|66,th,__-__-___-___|992,tj,___-__-___-____|690,tk,___-____|670,tl,___-___-____|993,tm,___-_-___-____|216,tn,___-__-___-___|676,to,___-_____|90,tr,__ (___) ___-____|1868,tt,_ (___) ___-____|688,tv,___-_____|886,tw,___-____-____|255,tz,___-__-___-____|380,ua,___ (__) ___-__-__|256,ug,___ (___) ___-___|44,gb,__-__-____-____|598,uy,___-_-___-__-__|998,uz,___-__-___-____|396698,va,__-_-___-_____|1784,vc,_ (___) ___-____|58,ve,__ (___) ___-____|1284,vg,_ (___) ___-____|1340,vi,_ (___) ___-____|84,vn,__-__-____-___|678,vu,___-_____|681,wf,___-__-____|685,ws,___-__-____|967,ye,___-_-___-___|27,za,__-__-___-____|260,zm,___ (__) ___-____|263,zw,___-_-______|1,us,_ (___) ___-____|".split("|").map((e=>{e=e.split(",");return{code:e[0],id:e[1],mask:e[2]}}))}if(e.length>0){let s=babelHelpers.classPrivateFieldLooseBase(this,Dl)[Dl](e);s+=((s.indexOf("-")>=0?"-":" ")+"__").repeat(10);for(let a=0;a<e.length;a++){s=s.replace("_",e.slice(a,a+1))}e=s.replace(/\D+$/,"").replace(/_/g,"0")}if(a||e.length>0){e="+"+e}return e}function dt(e){let s=babelHelpers.classPrivateFieldLooseBase(this,Ua)[Ua].filter((s=>e.indexOf(s.code)===0)).sort(((e,s)=>s.code.length-e.code.length))[0];return s?s.mask:"_ ___ __ __ __"}let nt=e=>e,vt;var pt=babelHelpers.classPrivateFieldLooseKey("layout");var ht=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Pt=babelHelpers.classPrivateFieldLooseKey("getNodeEmptyState");class Lt extends sa{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,Pt,{value:Ht});Object.defineProperty(this,ht,{value:ut});Object.defineProperty(this,pt,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]={content:null};babelHelpers.classPrivateFieldLooseBase(this,ht)[ht]()}getType(){return"empty-state"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt]()}}function ut(){}function Ht(){if(!babelHelpers.classPrivateFieldLooseBase(this,pt)[pt].content){babelHelpers.classPrivateFieldLooseBase(this,pt)[pt].content=l.Tag.render(vt||(vt=nt`
				<div class="calendar-pub__slots-empty">
					<div class="calendar-pub__slots-empty_title">${0}</div>
					<div class="calendar-pub__slots-empty_info">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_EMPTY"),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_EMPTY_INFO"))}return babelHelpers.classPrivateFieldLooseBase(this,pt)[pt].content}let Ft=e=>e,Bt;var mt=babelHelpers.classPrivateFieldLooseKey("layout");var ft=babelHelpers.classPrivateFieldLooseKey("bindEvents");var yt=babelHelpers.classPrivateFieldLooseKey("getNodeEmptyState");class gt extends sa{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,yt,{value:wt});Object.defineProperty(this,ft,{value:Et});Object.defineProperty(this,mt,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,mt)[mt]={content:null};babelHelpers.classPrivateFieldLooseBase(this,ft)[ft]()}getType(){return"access-denied"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,yt)[yt]()}}function Et(){}function wt(){if(!babelHelpers.classPrivateFieldLooseBase(this,mt)[mt].content){babelHelpers.classPrivateFieldLooseBase(this,mt)[mt].content=l.Tag.render(Bt||(Bt=Ft`
				<div class="calendar-pub__slots-empty --icon-cross">
					<div class="calendar-pub__slots-empty_title">${0}</div>
					<div class="calendar-pub__slots-empty_info">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED"),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED_INFO"))}return babelHelpers.classPrivateFieldLooseBase(this,mt)[mt].content}let Tt=e=>e,Ot,Dt,Nt;var Ct=babelHelpers.classPrivateFieldLooseKey("layout");var kt=babelHelpers.classPrivateFieldLooseKey("selected");var jt=babelHelpers.classPrivateFieldLooseKey("value");var St=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Kt=babelHelpers.classPrivateFieldLooseKey("getNodeSelect");var At=babelHelpers.classPrivateFieldLooseKey("getNodeValue");var It=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class Mt{constructor(e){Object.defineProperty(this,It,{value:xt});Object.defineProperty(this,At,{value:zt});Object.defineProperty(this,Kt,{value:Rt});Object.defineProperty(this,St,{value:$t});Object.defineProperty(this,Ct,{writable:true,value:void 0});Object.defineProperty(this,kt,{writable:true,value:void 0});Object.defineProperty(this,jt,{writable:true,value:void 0});this.BUTTON_MAX_WIDTH=123;babelHelpers.classPrivateFieldLooseBase(this,kt)[kt]=null;babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct]={wrapper:null,value:null,select:null};babelHelpers.classPrivateFieldLooseBase(this,jt)[jt]=e.value;babelHelpers.classPrivateFieldLooseBase(this,St)[St]()}isSelected(){return babelHelpers.classPrivateFieldLooseBase(this,kt)[kt]}select(){babelHelpers.classPrivateFieldLooseBase(this,kt)[kt]=true;l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,It)[It](),"--selected");o.EventEmitter.emit("selectSlot",this)}unSelect(){babelHelpers.classPrivateFieldLooseBase(this,kt)[kt]=null;l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,It)[It](),"--selected")}showForm(){o.EventEmitter.emit("confirmedSelectSlot",{value:babelHelpers.classPrivateFieldLooseBase(this,jt)[jt]})}render(){return babelHelpers.classPrivateFieldLooseBase(this,It)[It]()}}function $t(){l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,It)[It](),"click",this.select.bind(this));l.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,Kt)[Kt](),"click",this.showForm.bind(this))}function Rt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].select){babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].select=l.Tag.render(Ot||(Ot=Tt`
				<div class="calendar-sharing__slot-select">${0}</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SELECT_SLOT"));document.body.append(babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].select);if(babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].select.offsetWidth>this.BUTTON_MAX_WIDTH){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].select,"--compact")}babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].select.remove()}return babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].select}function zt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].value){let e=a.Util.formatTimeInterval(babelHelpers.classPrivateFieldLooseBase(this,jt)[jt].from,babelHelpers.classPrivateFieldLooseBase(this,jt)[jt].to);e=e.replace(/(am|pm)/g,`<span class="calendar-sharing-am-pm">$1</span>`);babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].value=l.Tag.render(Dt||(Dt=Tt`
				<div class="calendar-sharing__slot-value">${0}</div>
			`),e)}return babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].value}function xt(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].wrapper=l.Tag.render(Nt||(Nt=Tt`
				<div class="calendar-sharing__slot-item">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,At)[At](),babelHelpers.classPrivateFieldLooseBase(this,Kt)[Kt]())}return babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct].wrapper}let Ut=e=>e,Gt,Wt,Vt,Xt;var Yt=babelHelpers.classPrivateFieldLooseKey("layout");var qt=babelHelpers.classPrivateFieldLooseKey("slots");var Zt=babelHelpers.classPrivateFieldLooseKey("selectedSlot");var Qt=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Jt=babelHelpers.classPrivateFieldLooseKey("getNodeSlotList");var ei=babelHelpers.classPrivateFieldLooseKey("getNodeTitle");var si=babelHelpers.classPrivateFieldLooseKey("getNodeList");var ai=babelHelpers.classPrivateFieldLooseKey("getNodeListItems");class li extends sa{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,ai,{value:_i});Object.defineProperty(this,si,{value:oi});Object.defineProperty(this,ei,{value:ri});Object.defineProperty(this,Jt,{value:ii});Object.defineProperty(this,Qt,{value:ti});Object.defineProperty(this,Yt,{writable:true,value:void 0});Object.defineProperty(this,qt,{writable:true,value:void 0});Object.defineProperty(this,Zt,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt]={title:null,list:null};babelHelpers.classPrivateFieldLooseBase(this,qt)[qt]=[];babelHelpers.classPrivateFieldLooseBase(this,Qt)[Qt]()}getType(){return"slot-list"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Jt)[Jt]()}updateSlotsList(){l.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,si)[si]());const e=babelHelpers.classPrivateFieldLooseBase(this,ai)[ai]();l.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,si)[si]());l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,si)[si](),"--shadow-top");l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,si)[si](),"--shadow-bottom")}}function ti(){o.EventEmitter.subscribe("updateSlotsList",(e=>{babelHelpers.classPrivateFieldLooseBase(this,qt)[qt]=e.data.slots;this.updateSlotsList()}));o.EventEmitter.subscribe("selectSlot",(e=>{const s=e.data;if(babelHelpers.classPrivateFieldLooseBase(this,Zt)[Zt]!==s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,Zt)[Zt])==null?void 0:a.unSelect()}babelHelpers.classPrivateFieldLooseBase(this,Zt)[Zt]=s}))}function ii(){if(!babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].slotSelector){babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].slotSelector=l.Tag.render(Gt||(Gt=Ut`
				<div class="calendar-pub__slot-list-wrap">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ei)[ei](),babelHelpers.classPrivateFieldLooseBase(this,si)[si]())}return babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].slotSelector}function ri(){if(!babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].title){babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].title=l.Tag.render(Wt||(Wt=Ut`
				<div class="calendar-sharing__calendar-bar">
					<div class="calendar-pub-ui__typography-m">${0}</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_SLOTS_FREE"))}return babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].title}function oi(){if(!babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].slots){babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].slots=l.Tag.render(Vt||(Vt=Ut`
				<div class="calendar-sharing__calendar-block --overflow-hidden --shadow">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ai)[ai]())}return babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt].slots}function _i(){const e=babelHelpers.classPrivateFieldLooseBase(this,qt)[qt].map((e=>new Mt({value:{from:e.timeFrom,to:e.timeTo}})));const s=l.Tag.render(Xt||(Xt=Ut`
			<div class="calendar-sharing__slots">
				${0}
			</div>
		`),e.map((e=>e.render())));s.addEventListener("scroll",(()=>{if(s.scrollTop>0){babelHelpers.classPrivateFieldLooseBase(this,si)[si]().classList.add("--shadow-top")}else{babelHelpers.classPrivateFieldLooseBase(this,si)[si]().classList.remove("--shadow-top")}if(s.scrollHeight>s.offsetHeight&&Math.ceil(s.offsetHeight+s.scrollTop)<s.scrollHeight){babelHelpers.classPrivateFieldLooseBase(this,si)[si]().classList.add("--shadow-bottom")}else{babelHelpers.classPrivateFieldLooseBase(this,si)[si]().classList.remove("--shadow-bottom")}}));setTimeout((()=>{if(s.scrollHeight>s.offsetHeight){babelHelpers.classPrivateFieldLooseBase(this,si)[si]().classList.add("--shadow-bottom")}}));return s}let bi=e=>e,ci,di,ni,vi,pi,hi,Pi,Li,ui,Hi,Fi,Bi,mi,fi,yi,gi,Ei,wi;var Ti=babelHelpers.classPrivateFieldLooseKey("event");var Oi=babelHelpers.classPrivateFieldLooseKey("owner");var Di=babelHelpers.classPrivateFieldLooseKey("currentTimezone");var Ni=babelHelpers.classPrivateFieldLooseKey("icsFile");var Ci=babelHelpers.classPrivateFieldLooseKey("widgetDate");var ki=babelHelpers.classPrivateFieldLooseKey("layout");var ji=babelHelpers.classPrivateFieldLooseKey("value");var Si=babelHelpers.classPrivateFieldLooseKey("state");var Ki=babelHelpers.classPrivateFieldLooseKey("inDeletedSlider");var Ai=babelHelpers.classPrivateFieldLooseKey("isView");var Ii=babelHelpers.classPrivateFieldLooseKey("showBackCalendarButtons");var Mi=babelHelpers.classPrivateFieldLooseKey("getWidgetDate");var $i=babelHelpers.classPrivateFieldLooseKey("initEventData");var Ri=babelHelpers.classPrivateFieldLooseKey("updateState");var zi=babelHelpers.classPrivateFieldLooseKey("getNodeIcon");var xi=babelHelpers.classPrivateFieldLooseKey("getNodeBackWrapper");var Ui=babelHelpers.classPrivateFieldLooseKey("createIconByState");var Gi=babelHelpers.classPrivateFieldLooseKey("getIconClassByState");var Wi=babelHelpers.classPrivateFieldLooseKey("getEventNameNode");var Vi=babelHelpers.classPrivateFieldLooseKey("getStateTitleNode");var Xi=babelHelpers.classPrivateFieldLooseKey("getStateTitleTextByState");var Yi=babelHelpers.classPrivateFieldLooseKey("getAdditionalBlockNode");var qi=babelHelpers.classPrivateFieldLooseKey("createAdditionalBlockContentByState");var Zi=babelHelpers.classPrivateFieldLooseKey("getBottomButtonNode");var Qi=babelHelpers.classPrivateFieldLooseKey("createBottomButtonByState");var Ji=babelHelpers.classPrivateFieldLooseKey("onIcsButtonClick");var er=babelHelpers.classPrivateFieldLooseKey("onVideoconferenceButtonClick");var sr=babelHelpers.classPrivateFieldLooseKey("onReturnButtonClick");var ar=babelHelpers.classPrivateFieldLooseKey("getNodeWidgetDate");var lr=babelHelpers.classPrivateFieldLooseKey("getEventName");class tr extends sa{constructor(e){var s;super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,lr,{value:fr});Object.defineProperty(this,ar,{value:mr});Object.defineProperty(this,sr,{value:Br});Object.defineProperty(this,er,{value:Fr});Object.defineProperty(this,Ji,{value:Hr});Object.defineProperty(this,Qi,{value:ur});Object.defineProperty(this,Zi,{value:Lr});Object.defineProperty(this,qi,{value:Pr});Object.defineProperty(this,Yi,{value:hr});Object.defineProperty(this,Xi,{value:pr});Object.defineProperty(this,Vi,{value:vr});Object.defineProperty(this,Wi,{value:nr});Object.defineProperty(this,Gi,{value:dr});Object.defineProperty(this,Ui,{value:cr});Object.defineProperty(this,xi,{value:br});Object.defineProperty(this,zi,{value:_r});Object.defineProperty(this,Ri,{value:or});Object.defineProperty(this,$i,{value:rr});Object.defineProperty(this,Mi,{value:ir});Object.defineProperty(this,Ti,{writable:true,value:void 0});Object.defineProperty(this,Oi,{writable:true,value:void 0});Object.defineProperty(this,Di,{writable:true,value:void 0});Object.defineProperty(this,Ni,{writable:true,value:void 0});Object.defineProperty(this,Ci,{writable:true,value:void 0});Object.defineProperty(this,ki,{writable:true,value:void 0});Object.defineProperty(this,ji,{writable:true,value:void 0});Object.defineProperty(this,Si,{writable:true,value:void 0});Object.defineProperty(this,Ki,{writable:true,value:void 0});Object.defineProperty(this,Ai,{writable:true,value:void 0});Object.defineProperty(this,Ii,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Si)[Si]=e.state;babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai]=e.isView;babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti]=e.event;babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,Di)[Di]=(s=e.timezone)!=null?s:Intl.DateTimeFormat().resolvedOptions().timeZone;babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci]=babelHelpers.classPrivateFieldLooseBase(this,Mi)[Mi]();babelHelpers.classPrivateFieldLooseBase(this,ki)[ki]={back:null,widgetDate:null,eventName:null,icon:null,stateTitle:null,additionalBlock:null,bottomButton:null};babelHelpers.classPrivateFieldLooseBase(this,ji)[ji]={from:null,to:null,timezone:null,canceledTimestamp:null,canceledUserName:null,eventName:null,canceledByManager:e.canceledByManager,eventLinkHash:e.eventLinkHash,eventId:e.eventId};babelHelpers.classPrivateFieldLooseBase(this,Ni)[Ni]=null;babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]=e.inDeletedSlider===true;babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii]=e.showBackCalendarButtons;if(babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti]){babelHelpers.classPrivateFieldLooseBase(this,$i)[$i]()}if(e.action==="cancel"){setTimeout(this.showCancelEventPopup.bind(this),0)}if(e.action==="ics"){this.downloadIcsFile()}if(e.action==="videoconference"){this.startVideoconference()}}getType(){return"event"}updateValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezone=e.timezone}if(e.eventLinkHash){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventLinkHash=e.eventLinkHash}if(e.eventName){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventName=e.eventName}if(e.state){babelHelpers.classPrivateFieldLooseBase(this,Ri)[Ri](e.state)}if(e.isView){babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai]=false}if(e.eventId){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventId=e.eventId}if(e.userName){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledUserName=e.userName}if(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledByManager===true){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledByManager=false}this.updateFormLayout()}updateFormLayout(){babelHelpers.classPrivateFieldLooseBase(this,Mi)[Mi]().updateValue(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji]);babelHelpers.classPrivateFieldLooseBase(this,Wi)[Wi]().innerText=babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventName}getContent(){return l.Tag.render(ci||(ci=bi`
			<div class="calendar-sharing__form-result">
				${0}
				<div class="calendar-sharing__calendar-block --form --center">
					${0}
					${0}
					${0}
				</div>
				
				<div class="calendar-sharing__calendar-block --form --center">
					${0}
				</div>
				
				<div class="calendar-sharing__calendar-block --form --center">
					${0}
				</div>
				
				<div class="calendar-sharing__calendar-block --top-auto">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,xi)[xi](),babelHelpers.classPrivateFieldLooseBase(this,zi)[zi](),babelHelpers.classPrivateFieldLooseBase(this,Wi)[Wi](),babelHelpers.classPrivateFieldLooseBase(this,Vi)[Vi](),babelHelpers.classPrivateFieldLooseBase(this,ar)[ar](),babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi](),babelHelpers.classPrivateFieldLooseBase(this,Zi)[Zi]())}getPopup(){if(!this.popup){const e=l.Tag.render(di||(di=bi`
				<div>
					<div class="calendar-pub__cookies-title">${0}</div>
					<div class="calendar-pub__cookies-info">${0}</div>
					<div class="calendar-pub__cookies-buttons ${0}">
						<div onclick="${0}" class="calendar-pub-ui__btn --inline --m --light-border">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
						<div onclick="${0}" class="calendar-pub-ui__btn --inline --m --secondary">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
					</div>
				</div>
			`),l.Loc.getMessage("CALENDAR_SHARING_POPUP_MEETING_CANCELED"),l.Loc.getMessage("CALENDAR_SHARING_POPUP_MEETING_CANCELED_INFO"),l.Browser.isMobile()?"--center":"--flex-end",this.closeCancelEventPopup.bind(this),l.Loc.getMessage("CALENDAR_SHARING_POPUP_LEAVE"),this.handleDeleteButtonClick.bind(this),l.Loc.getMessage("CALENDAR_SHARING_POPUP_CANCEL"));if(l.Browser.isMobile()){this.popup=new r.BottomSheet({className:"calendar-pub__state",content:e,padding:"20px 25px"})}else{this.popup=new t.Popup({className:"calendar-pub__popup",contentBackground:"transparent",width:380,animation:"fading-slide",content:e,overlay:true})}}return this.popup}showCancelEventPopup(){this.getPopup().show()}closeCancelEventPopup(){this.getPopup().close()}async handleDeleteButtonClick(){this.closeCancelEventPopup();const e=await this.deleteEvent();if(e){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledTimestamp=(new Date).getTime()/1e3;babelHelpers.classPrivateFieldLooseBase(this,Ri)[Ri]("declined");o.EventEmitter.emit("onDeleteEvent")}}async deleteEvent(){let e=null;try{e=await BX.ajax.runAction("calendar.api.sharingajax.deleteEvent",{data:{eventId:babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventId,eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventLinkHash}})}catch(s){e=s}return e.errors.length===0}async startVideoconference(){var e,s;let a=null;try{a=await BX.ajax.runAction("calendar.api.sharingajax.getConferenceLink",{data:{eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventLinkHash}})}catch(e){console.error(e)}const l=(e=a)==null?void 0:(s=e.data)==null?void 0:s.conferenceLink;if(l){window.location.href=l}}async downloadIcsFile(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ni)[Ni]){const e=await BX.ajax.runAction("calendar.api.sharingajax.getIcsFileContent",{data:{eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventLinkHash}});this.icsFile=e.data}a.Util.downloadIcsFile(this.icsFile,"event")}}function ir(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci]){babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci]=new ma}return babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci]}function rr(){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].from=a.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].timestampFromUTC)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Di)[Di]);babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].to=a.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].timestampToUTC)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Di)[Di]);babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].timezone=babelHelpers.classPrivateFieldLooseBase(this,Di)[Di];babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventName=babelHelpers.classPrivateFieldLooseBase(this,lr)[lr]();babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledTimestamp=babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].canceledTimestamp;babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledUserName=babelHelpers.classPrivateFieldLooseBase(this,Ti)[Ti].externalUserName;this.updateFormLayout()}function or(e){babelHelpers.classPrivateFieldLooseBase(this,Si)[Si]=e;l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,zi)[zi](),["--accept","--decline"]);l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,zi)[zi](),babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi](e));babelHelpers.classPrivateFieldLooseBase(this,Vi)[Vi]().innerText=babelHelpers.classPrivateFieldLooseBase(this,Xi)[Xi](e);let s=babelHelpers.classPrivateFieldLooseBase(this,Yi)[Yi]();let a=babelHelpers.classPrivateFieldLooseBase(this,qi)[qi](e);babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].additionalBlock=a;l.Dom.replace(s,a);s=babelHelpers.classPrivateFieldLooseBase(this,Zi)[Zi]();a=babelHelpers.classPrivateFieldLooseBase(this,Qi)[Qi](e);babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].bottomButton=a;l.Dom.replace(s,a)}function _r(){if(!babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].icon){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].icon=babelHelpers.classPrivateFieldLooseBase(this,Ui)[Ui](babelHelpers.classPrivateFieldLooseBase(this,Si)[Si])}return babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].icon}function br(){if(!babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].back){if(babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii]){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].back=l.Tag.render(ni||(ni=bi`
					<div class="calendar-sharing__calendar-bar --arrow">
						<div class="calendar-sharing__calendar-back" onclick="${0}"></div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].bind(this))}else{babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].back=l.Tag.render(vi||(vi=bi`<div class="calendar-sharing__calendar-bar --no-margin"></div>`))}}return babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].back}function cr(e){let s=l.Tag.render(pi||(pi=bi`
			<div class="calendar-sharing__form-result_icon"></div>
		`));l.Dom.addClass(s,babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi](e));return s}function dr(e){let s="";switch(e){case"created":s="--accept";break;case"not-created":s="--decline";break;case"declined":s="--decline";break}return s}function nr(){if(!babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventName){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventName=l.Tag.render(hi||(hi=bi`
				<div class="calendar-pub-ui__typography-title --center --line-height-normal">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].eventName)}return babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].eventName}function vr(){if(!babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].stateTitle){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].stateTitle=l.Tag.render(Pi||(Pi=bi`
				<div class="calendar-pub-ui__typography-s --center"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].stateTitle.innerText=babelHelpers.classPrivateFieldLooseBase(this,Xi)[Xi](babelHelpers.classPrivateFieldLooseBase(this,Si)[Si])}return babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].stateTitle}function pr(e){let s="";switch(e){case"created":if(!babelHelpers.classPrivateFieldLooseBase(this,Ai)[Ai]){s=l.Loc.getMessage("CALENDAR_SHARING_MEETING_CREATED")}break;case"not-created":s=l.Loc.getMessage("CALENDAR_SHARING_MEETING_NOT_CREATED");break;case"declined":s=l.Loc.getMessage("CALENDAR_SHARING_MEETING_CANCELED");break}return s}function hr(){if(!babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].additionalBlock){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].additionalBlock=babelHelpers.classPrivateFieldLooseBase(this,qi)[qi](babelHelpers.classPrivateFieldLooseBase(this,Si)[Si])}return babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].additionalBlock}function Pr(e){let s="";if(babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]){const e=a.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledTimestamp)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Di)[Di]);if(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledTimestamp&&babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledUserName&&e){s=l.Tag.render(Li||(Li=bi`
						<div class="calendar-pub__form-status">
							<div class="calendar-pub__form-status_text">
								${0}: <a href="/company/personal/user/${0}/" target="_blank" class="calendar-sharing-deletedviewform_open-profile">${0}</a>
								<br>
								${0}
							</div>
						</div>
					`),l.Loc.getMessage("CALENDAR_SHARING_WHO_CANCELED"),babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi].id,l.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledUserName),i.DateTimeFormat.format("j F "+a.Util.getTimeFormatShort(),e.getTime()/1e3))}else{s=l.Tag.render(ui||(ui=bi`
						<div></div>
					`))}return s}switch(e){case"created":s=l.Tag.render(Hi||(Hi=bi`
					<div onclick="${0}" class="calendar-pub__form-status --decline">
						<div class="calendar-pub__form-status_text">
							${0}
						</div>
					</div>
				`),this.showCancelEventPopup.bind(this),l.Loc.getMessage("CALENDAR_SHARING_DECLINE_MEETING"));break;case"not-created":s=l.Tag.render(Fi||(Fi=bi`
					<div></div>
				`));break;case"declined":const e=a.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledTimestamp)*1e3,babelHelpers.classPrivateFieldLooseBase(this,Di)[Di]);if(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledByManager){babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledUserName=babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi].name+" "+babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi].lastName}if(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledTimestamp&&babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledUserName&&e){s=l.Tag.render(Bi||(Bi=bi`
						<div class="calendar-pub__form-status">
							<div class="calendar-pub__form-status_text">
								${0}: ${0}<br> ${0}
							</div>
						</div>
					`),l.Loc.getMessage("CALENDAR_SHARING_WHO_CANCELED"),l.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,ji)[ji].canceledUserName),i.DateTimeFormat.format("j F "+a.Util.getTimeFormatShort(),e.getTime()/1e3))}else{s=l.Tag.render(mi||(mi=bi`
						<div></div>
					`))}break}return s}function Lr(){if(!babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].bottomButton){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].bottomButton=babelHelpers.classPrivateFieldLooseBase(this,Qi)[Qi](babelHelpers.classPrivateFieldLooseBase(this,Si)[Si])}return babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].bottomButton}function ur(e){if(babelHelpers.classPrivateFieldLooseBase(this,Ki)[Ki]){return""}let s="";switch(e){case"created":babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].videoconferenceButton=l.Tag.render(fi||(fi=bi`
					<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m calendar-pub-action-btn">
						<div class="calendar-pub-ui__btn-text">${0}</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,er)[er].bind(this),l.Loc.getMessage("CALENDAR_SHARING_OPEN_VIDEOCONFERENCE"));babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].icsButton=l.Tag.render(yi||(yi=bi`
					<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m calendar-pub-action-btn">
						<div class="calendar-pub-ui__btn-text">${0}</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,Ji)[Ji].bind(this),l.Loc.getMessage("CALENDAR_SHARING_ADD_TO_CALENDAR"));s=l.Tag.render(gi||(gi=bi`
					<div>
						${0}
						${0}
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].videoconferenceButton,babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].icsButton);break;case"not-created":case"declined":if(babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii]){s=l.Tag.render(Ei||(Ei=bi`
						<div onclick="${0}" class="calendar-pub-ui__btn --light-border --m">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
					`),babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].bind(this),l.Loc.getMessage("CALENDAR_SHARING_RETURN_TO_SLOT_LIST"))}else{s=l.Tag.render(wi||(wi=bi`<div></div>`))}break}return s}async function Hr(){await this.downloadIcsFile()}async function Fr(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].videoconferenceButton,"--wait");await this.startVideoconference();l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].videoconferenceButton,"--wait")}function Br(){o.EventEmitter.emit("onCreateAnotherEventButtonClick")}function mr(){if(!babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].widgetDate){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].widgetDate=babelHelpers.classPrivateFieldLooseBase(this,Ci)[Ci].render()}return babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].widgetDate}function fr(){return l.Loc.getMessage("CALENDAR_SHARING_EVENT_NAME",{"#OWNER_NAME#":babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi].name+" "+babelHelpers.classPrivateFieldLooseBase(this,Oi)[Oi].lastName})}let yr=e=>e,gr;var Er=babelHelpers.classPrivateFieldLooseKey("layout");var wr=babelHelpers.classPrivateFieldLooseKey("components");var Tr=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneId");var Or=babelHelpers.classPrivateFieldLooseKey("owner");var Dr=babelHelpers.classPrivateFieldLooseKey("link");var Nr=babelHelpers.classPrivateFieldLooseKey("sharingUser");var Cr=babelHelpers.classPrivateFieldLooseKey("isFromCrm");var kr=babelHelpers.classPrivateFieldLooseKey("hasContactData");var jr=babelHelpers.classPrivateFieldLooseKey("calendarSettings");var Sr=babelHelpers.classPrivateFieldLooseKey("eventLinkHash");var Kr=babelHelpers.classPrivateFieldLooseKey("event");var Ar=babelHelpers.classPrivateFieldLooseKey("action");var Ir=babelHelpers.classPrivateFieldLooseKey("showBackCalendarButtons");var Mr=babelHelpers.classPrivateFieldLooseKey("bindEvents");class $r{constructor(e){Object.defineProperty(this,Mr,{value:Rr});Object.defineProperty(this,Er,{writable:true,value:void 0});Object.defineProperty(this,wr,{writable:true,value:void 0});Object.defineProperty(this,Tr,{writable:true,value:void 0});Object.defineProperty(this,Or,{writable:true,value:void 0});Object.defineProperty(this,Dr,{writable:true,value:void 0});Object.defineProperty(this,Nr,{writable:true,value:void 0});Object.defineProperty(this,Cr,{writable:true,value:void 0});Object.defineProperty(this,kr,{writable:true,value:void 0});Object.defineProperty(this,jr,{writable:true,value:void 0});Object.defineProperty(this,Sr,{writable:true,value:void 0});Object.defineProperty(this,Kr,{writable:true,value:void 0});Object.defineProperty(this,Ar,{writable:true,value:void 0});Object.defineProperty(this,Ir,{writable:true,value:void 0});this.BLOCK_NAME_FORM="form";this.BLOCK_NAME_SLOT_LIST="slot-list";this.BLOCK_NAME_EMPTY_STATE="empty-state";this.BLOCK_NAME_ACCESS_DENIED="access-denied";this.BLOCK_NAME_EVENT="event";babelHelpers.classPrivateFieldLooseBase(this,Tr)[Tr]=e.selectedTimezoneId;babelHelpers.classPrivateFieldLooseBase(this,Or)[Or]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr]=e.link;babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr]=e.sharingUser;babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr]=e.eventLinkHash;babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr]=e.event;babelHelpers.classPrivateFieldLooseBase(this,Er)[Er]={wrapper:null,empty:null,title:null,slots:null,slotSelector:null};babelHelpers.classPrivateFieldLooseBase(this,wr)[wr]={form:null,slotList:null,emptyState:null,event:null,accessDenied:null};babelHelpers.classPrivateFieldLooseBase(this,Cr)[Cr]=babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr].type==="crm_deal";babelHelpers.classPrivateFieldLooseBase(this,kr)[kr]=e.hasContactData;babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]=e.calendarSettings;babelHelpers.classPrivateFieldLooseBase(this,Ir)[Ir]=e.showBackCalendarButtons;babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar]=e.action;babelHelpers.classPrivateFieldLooseBase(this,Mr)[Mr]()}openForm(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].form)==null?void 0:e.clearInputErrors();this.openBlock(this.BLOCK_NAME_FORM)}openSlotList(){this.openBlock(this.BLOCK_NAME_SLOT_LIST)}openEmptyState(){this.openBlock(this.BLOCK_NAME_EMPTY_STATE)}openAccessDenied(){this.openBlock(this.BLOCK_NAME_ACCESS_DENIED)}openEvent(){this.openBlock(this.BLOCK_NAME_EVENT)}openBlock(e){o.EventEmitter.emit("selectorTypeChange",e)}render(){if(!babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].form){babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].form=new Nl({isHiddenOnStart:true,owner:babelHelpers.classPrivateFieldLooseBase(this,Or)[Or],link:babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr],sharingUser:babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr],isFromCrm:babelHelpers.classPrivateFieldLooseBase(this,Cr)[Cr],hasContactData:babelHelpers.classPrivateFieldLooseBase(this,kr)[kr],isPhoneFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,jr)[jr].phoneFeatureEnabled,isMailFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,jr)[jr].mailFeatureEnabled})}if(!babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].emptyState){babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].emptyState=new Lt({isHiddenOnStart:true})}if(!babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].accessDenied){babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].accessDenied=new gt({isHiddenOnStart:true})}if(!babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].slotList){babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].slotList=new li({isHiddenOnStart:false})}if(!babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].event){var e,s,a;let t="created";if(babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr].active===false||((e=babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr])==null?void 0:e.meetingStatus)==="N"||((s=babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr])==null?void 0:s.deleted)==="Y"){t="declined"}let i=false;if(((a=babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr])==null?void 0:a.meetingStatus)==="N"){i=true}babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].event=new tr({isHiddenOnStart:false,owner:babelHelpers.classPrivateFieldLooseBase(this,Or)[Or],event:babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr],eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr],state:t,eventId:babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr].id,isView:l.Type.isString(babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr]),canceledByManager:i,showBackCalendarButtons:babelHelpers.classPrivateFieldLooseBase(this,Ir)[Ir],action:babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar]})}return l.Tag.render(gr||(gr=yr`
			<div class="calendar-pub__slots">
				${0}
				${0}
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].slotList.render(),babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].form.render(),babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].emptyState.render(),babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].event.render(),babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].accessDenied.render())}}function Rr(){o.EventEmitter.subscribe("confirmedSelectSlot",(e=>{const s=e.data;const a=s.value;babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].form.updateFormValue({from:a.from,to:a.to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Tr)[Tr]});this.openForm()}));o.EventEmitter.subscribe("switchSlots",(e=>{var s;const a=(s=e.data.slots)!=null?s:[];if(a.length>0){o.EventEmitter.emit("updateSlotsList",e);this.openSlotList()}else{this.openEmptyState()}}));o.EventEmitter.subscribe("updateTimezone",(e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,Tr)[Tr]=s.timezone}));o.EventEmitter.subscribe("onSaveEvent",(e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].form.cleanDescription();babelHelpers.classPrivateFieldLooseBase(this,wr)[wr].event.updateValue(s);this.openEvent()}))}let zr=e=>e,xr,Ur,Gr,Wr;var Vr=babelHelpers.classPrivateFieldLooseKey("layout");var Xr=babelHelpers.classPrivateFieldLooseKey("owner");var Yr=babelHelpers.classPrivateFieldLooseKey("welcomePage");var qr=babelHelpers.classPrivateFieldLooseKey("calendar");var Zr=babelHelpers.classPrivateFieldLooseKey("slotsBlock");var Qr=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Jr=babelHelpers.classPrivateFieldLooseKey("renderFreeSlots");var eo=babelHelpers.classPrivateFieldLooseKey("renderSlotsSelector");var so=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");var ao=babelHelpers.classPrivateFieldLooseKey("render");var lo=babelHelpers.classPrivateFieldLooseKey("init");class to{constructor(e){Object.defineProperty(this,lo,{value:co});Object.defineProperty(this,ao,{value:bo});Object.defineProperty(this,so,{value:_o});Object.defineProperty(this,eo,{value:oo});Object.defineProperty(this,Jr,{value:ro});Object.defineProperty(this,Qr,{value:io});Object.defineProperty(this,Vr,{writable:true,value:void 0});Object.defineProperty(this,Xr,{writable:true,value:void 0});Object.defineProperty(this,Yr,{writable:true,value:void 0});Object.defineProperty(this,qr,{writable:true,value:void 0});Object.defineProperty(this,Zr,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr]=e.owner?e.owner:null;this.target=l.Type.isDomNode(e.target)?e.target:null;babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr]={wrapper:null,animate:null};babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr]=null;babelHelpers.classPrivateFieldLooseBase(this,qr)[qr]=null;babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr]=null;babelHelpers.classPrivateFieldLooseBase(this,lo)[lo]();babelHelpers.classPrivateFieldLooseBase(this,Qr)[Qr]();this.showPageWelcome(e);if(e.link.type==="event"){if(e.parentLink&&e.parentLink.active===true){babelHelpers.classPrivateFieldLooseBase(this,Jr)[Jr](e);babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr].openEvent()}else if(e.event){babelHelpers.classPrivateFieldLooseBase(this,eo)[eo](e);babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].hideButton();babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].setAccessDenied();babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr].openEvent()}else{babelHelpers.classPrivateFieldLooseBase(this,eo)[eo](e);babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].hideButton();babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr].openAccessDenied()}}else{if(e.link.active===true){babelHelpers.classPrivateFieldLooseBase(this,Jr)[Jr](e)}else{babelHelpers.classPrivateFieldLooseBase(this,eo)[eo](e);babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].hideButton();babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr].openAccessDenied()}}}showPageWelcome(e){if(!e.owner){return}babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr]=new w({owner:e.owner,link:e.link,currentLang:e.currentLang});l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Yr)[Yr].render(),babelHelpers.classPrivateFieldLooseBase(this,so)[so]())}showFreeSlots(){l.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,so)[so](),"--hide")}hideFreeSlots(){l.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,so)[so](),"--hide")}}function io(){o.EventEmitter.subscribe("showSlotSelector",this.showFreeSlots.bind(this));o.EventEmitter.subscribe("hideSlotSelector",this.hideFreeSlots.bind(this))}function ro(e){babelHelpers.classPrivateFieldLooseBase(this,qr)[qr]=new ds({owner:e.owner,accessibility:e.userAccessibility,timezoneList:e.timezoneList,calendarSettings:e.calendarSettings});let s=null;if(e.link.type==="event"){s=e.link.hash}babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr]=new $r({selectedTimezoneId:babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].getSelectedTimezoneId(),owner:babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr],link:e.parentLink||e.link,sharingUser:e.sharingUser,hasContactData:e.hasContactData,calendarSettings:e.calendarSettings,event:e.event,showBackCalendarButtons:true,eventLinkHash:s,action:e.action});const a=l.Tag.render(xr||(xr=zr`
			<div class="calendar-pub__block --plus">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].render());babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr].animate=l.Tag.render(Ur||(Ur=zr`
			<div class="calendar-pub__block-animate">
				${0}
				<div class="calendar-pub__block">
					${0}
				</div>
			</div>
		`),a,babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr].render());o.EventEmitter.subscribe("selectorTypeChange",(e=>{if(e.data==="form"||e.data==="event"){l.Dom.addClass(a,"--hidden")}else{l.Dom.removeClass(a,"--hidden")}}));l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr].animate,babelHelpers.classPrivateFieldLooseBase(this,so)[so]());if(e.link.type!=="event"){babelHelpers.classPrivateFieldLooseBase(this,qr)[qr].selectFirstAvailableDay()}}function oo(e){let s=null;if(e.link.type==="event"){s=e.link.hash}babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr]=new $r({selectedTimezoneId:null,owner:babelHelpers.classPrivateFieldLooseBase(this,Xr)[Xr],link:e.link,sharingUser:e.sharingUser,hasContactData:e.hasContactData,calendarSettings:e.calendarSettings,event:e.event,showBackCalendarButtons:false,action:e.action,eventLinkHash:s});babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr].animate=l.Tag.render(Gr||(Gr=zr`
			<div class="calendar-pub__block-animate">
				<div class="calendar-pub__block">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Zr)[Zr].render());l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr].animate,babelHelpers.classPrivateFieldLooseBase(this,so)[so]())}function _o(){if(!babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr].wrapper=l.Tag.render(Wr||(Wr=zr`
				<div class="calendar-pub__wrapper calendar-pub__state --hide"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,Vr)[Vr].wrapper}function bo(){if(!this.target){console.warn('BX.Calendar.Sharing: "target" is not defined');return}if(this.target.parentNode){l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,so)[so](),this.target.parentNode);l.Dom.remove(this.target)}}function co(){babelHelpers.classPrivateFieldLooseBase(this,ao)[ao]()}e.PublicV2=to;e.Event=tr})(this.BX.Calendar.Sharing=this.BX.Calendar.Sharing||{},BX,BX.Calendar,BX,BX.Main,BX.Main,BX.UI,BX.Event,BX);
//# sourceMappingURL=public-v2.bundle.map.js