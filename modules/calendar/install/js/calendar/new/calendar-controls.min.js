(function(e){function t(e){this.id=e.id||"bx-select-input-"+Math.round(Math.random()*1e6);this.values=e.values||false;this.input=e.input;this.defaultValue=e.defaultValue||"";this.openTitle=e.openTitle||"";this.className=e.className||"";this.currentValue=e.value;this.currentValueIndex=e.valueIndex;this.onChangeCallback=e.onChangeCallback||null;this.zIndex=e.zIndex||1200;this.disabled=e.disabled;if(this.onChangeCallback){BX.bind(this.input,"change",this.onChangeCallback);BX.bind(this.input,"keyup",this.onChangeCallback)}if(this.currentValueIndex!==undefined&&this.values[this.currentValueIndex]){this.input.value=this.values[this.currentValueIndex].label}this.curInd=false;if(this.values){BX.bind(this.input,"click",BX.proxy(this.onClick,this));BX.bind(this.input,"focus",BX.proxy(this.onFocus,this));BX.bind(this.input,"blur",BX.proxy(this.onBlur,this));BX.bind(this.input,"keyup",BX.proxy(this.onKeyup,this))}}t.prototype={showPopup:function(){if(this.shown||this.disabled)return;var e=0,t=0,i=[],s,n=this;for(s=0;s<this.values.length;s++){if(this.values[s].delimiter){i.push(this.values[s])}else{if(this.currentValue&&this.values[s]&&this.values[s].value==this.currentValue.value){e=t}i.push({id:this.values[s].value,text:this.values[s].label,onclick:this.values[s].callback||function(e,t){return function(){n.input.value=t;n.popupMenu.close();n.onChange()}}(this.values[s].value,this.values[s].labelRaw||this.values[s].label)});t++}}this.popupMenu=BX.PopupMenu.create(this.id,this.input,i,{closeByEsc:true,autoHide:true,zIndex:this.zIndex,offsetTop:0,offsetLeft:0});this.popupMenu.popupWindow.setWidth(this.input.offsetWidth-2);var o=this.popupMenu.layout.menuContainer;BX.addClass(this.popupMenu.layout.menuContainer,"calendar-select-popup");this.popupMenu.show();var r=this.popupMenu.menuItems[e];if(r&&r.layout){o.scrollTop=r.layout.item.offsetTop-r.layout.item.offsetHeight}BX.addCustomEvent(this.popupMenu.popupWindow,"onPopupClose",(function(){BX.PopupMenu.destroy(n.id);n.shown=false;n.popupMenu=null}));this.input.select();this.shown=true},closePopup:function(){BX.PopupMenu.destroy(this.id);this.popupMenu=null;this.shown=false},onFocus:function(){setTimeout(BX.delegate((function(){if(!this.shown){this.showPopup()}}),this),200)},onClick:function(){if(this.shown){this.closePopup()}else{this.showPopup()}},onBlur:function(){setTimeout(BX.delegate(this.closePopup,this),200)},onKeyup:function(){setTimeout(BX.delegate(this.closePopup,this),50)},onChange:function(){var e=this.input.value;BX.onCustomEvent(this,"onSelectInputChanged",[this,e]);if(BX.type.isFunction(this.onChangeCallback)){this.onChangeCallback({value:e})}},destroy:function(){if(this.onChangeCallback){BX.unbind(this.input,"change",this.onChangeCallback);BX.unbind(this.input,"keyup",this.onChangeCallback)}BX.unbind(this.input,"click",BX.proxy(this.onClick,this));BX.unbind(this.input,"focus",BX.proxy(this.onFocus,this));BX.unbind(this.input,"blur",BX.proxy(this.onBlur,this));BX.unbind(this.input,"keyup",BX.proxy(this.onKeyup,this));if(this.popupMenu)this.popupMenu.close();BX.PopupMenu.destroy(this.id);this.popupMenu=null;this.shown=false}};function i(e,t){this.calendar=e;this.outerWrap=t.wrap;this.created=false}i.prototype={show:function(){if(!this.created){this.smallCalendar=new BX.JCCalendar;this.smallCalendar.month_popup_classname="calendar-navi-month-popup";this.smallCalendar.year_popup_classname="calendar-navi-year-popup";this.smallCalendar.Show({node:this.outerWrap,callback_after:BX.proxy(this.changeDate,this),bTime:false});this.outerWrap.appendChild(this.smallCalendar.DIV);this.smallCalendar.popup.close();this.created=true;this.paintTodayElement();BX.addCustomEvent(this.calendar,"changeViewRange",BX.proxy(this.setDate,this))}this.outerWrap.style.display=""},hide:function(){this.outerWrap.style.display="none"},changeDate:function(e){if(e&&this.calendar.getView()){this.calendar.getView().adjustViewRangeToDate(e)}},paintTodayElement:function(){var e=new Date;e.setHours(0,0,0,0);var t=parseInt(e.getTimezoneOffset());var i=e.getTime();if(t!==0){i-=t*60*1e3}var s=document.querySelector('[data-date="'+i+'"]');if(BX.Type.isDomNode(s)){BX.Dom.addClass(s,"bx-calendar-today-date")}},setDate:function(e){if(e&&this.smallCalendar.value&&this.calendar.util.getDayCode(this.smallCalendar.value)!=this.calendar.util.getDayCode(e)){e.setHours(12,0);this.smallCalendar.SetValue(e)}}};function s(e){this.calendar=e;this.undoList=[];this.redoList=[];this.eventDragAndDrop=new BX.Calendar.Ui.Tools.EventDragAndDrop(this.getDateByPos.bind(this),this.getPosByDate.bind(this),this.getEvents.bind(this));this.resizeDragAndDrop=new BX.Calendar.Ui.Tools.ResizeDragAndDrop(this.getDateByPos.bind(this),this.getPosByDate.bind(this))}s.prototype={getPosByDate(e){const t={h:e.getHours(),m:e.getMinutes()};return this.offset+this.calendar.getView().getPosByTime(t)},getDateByPos(e){const t=this.calendar.getView().getTimeByPos(e-this.offset,5);const i=new Date(this.currentState.entry.from.getTime());i.setHours(t.h,t.m,0,0);return i},getEvents(){return this.calendar.getView().getEvents(this.currentState.day)},undo(){this.manageHistory(this.undoList,this.redoList)},redo(){this.manageHistory(this.redoList,this.undoList)},manageHistory(e,t){if(e.length===0){return}t.push(this.getEntryState(this.currentState.entry));this.currentState.entry=e.pop();this.saveEntry({from:this.currentState.entry.from,to:this.currentState.entry.to})},getEntryState:function(e){const t={uid:e.uid,from:new Date(e.from.getTime()),to:new Date(e.to.getTime()),data:{DT_LENGTH:e.data.DT_LENGTH},startDayCode:new Date(e.from.getTime()),endDayCode:new Date(e.to.getTime())};if(e.id!==e.uid){const i=e.uid.split("|")[0];const s=e.uid.split("|")[1];t.data.RELATIONS={COMMENT_XML_ID:"EVENT_"+i+"_"+s}}return t},reset:function(){jsDD.Reset()},registerDay:function(e){const t=e.node;const i=e.date;jsDD.registerDest(t);t.onbxdestdragfinish=()=>{BX.removeClass(t,"calendar-grid-drag-select")};t.onbxdestdraghover=()=>{if(!this.currentState||!this.draggedNode){return}this.currentState.entry.from.setFullYear(i.getFullYear(),i.getMonth(),i.getDate());this.currentState.entry.to.setFullYear(i.getFullYear(),i.getMonth(),i.getDate());BX.addClass(t,"calendar-grid-drag-select")};t.onbxdestdraghout=()=>{BX.removeClass(t,"calendar-grid-drag-select")}},registerTimelineDay:function(e){const t=e.node;const i=e.date;jsDD.registerDest(t);t.onbxdestdraghover=BX.delegate((function(){if(this.draggedNode){const e=BX.pos(t).left;if(Math.abs(e-parseInt(this.draggedNode.style.left))>30){if(this.currentState.day){this.currentState.day=this.calendar.getView().getDayByCode(t.getAttribute("data-bx-calendar-timeline-day"));this.currentState.entry.from.setFullYear(i.getFullYear(),i.getMonth(),i.getDate());this.currentState.entry.to.setFullYear(i.getFullYear(),i.getMonth(),i.getDate());this.currentState.dayNode=t}this.draggedNode.style.left=BX.pos(t).left+2+"px"}BX.addClass(t,"calendar-timeline-drag-select")}}),this);t.onbxdestdraghout=BX.delegate((function(){if(this.draggedNode){BX.removeClass(t,"calendar-timeline-drag-select")}}),this)},registerEntry:function(e,t){var i=false;if(this.calendar.isExternalMode()){i=t.entry&&t.entry.data&&t.entry.data.ALLOW_DRAGDROP}else{i=this.calendar.entryController.canDo(t.entry,"edit")&&!t.entry.isLocation()}jsDD.registerObject(e);e.onbxdragstart=BX.delegate((function(){if(!i){this.draggedNode=false;BX.addClass(e,"calendar-entry-shake-mode");if(this.denyDragTimeout)clearTimeout(this.denyDragTimeout);this.denyDragTimeout=setTimeout((function(){BX.removeClass(e,"calendar-entry-shake-mode")}),1e3);return}this.currentState=t;this.draggedNode=document.body.appendChild(e.cloneNode(true));e.style.opacity="0.3";BX.addClass(this.draggedNode,"calendar-entry-drag-mode");BX.removeClass(this.draggedNode,"calendar-event-line-start-yesterday");BX.removeClass(this.draggedNode,"calendar-event-line-finish-tomorrow");BX.removeClass(this.draggedNode,"calendar-event-block-wrap-past");this.calendar.getView().setDraggedEntry(this.currentState.entry);if(this.calendar.currentViewName==="week"||this.calendar.currentViewName==="day"){this.draggedNode.style.left=BX.pos(e).left+"px";this.draggedNode.style.width=this.calendar.getView().getDayWidth()-5+"px";this.offset=BX.pos(this.calendar.getView().timeLinesCont).top;this.currentState.bottomBasePos=BX.pos(this.calendar.getView().bottomOffHours).bottom-2}else{this.draggedNode.style.width=this.calendar.getView().getDayWidth()+"px"}var s=this.currentState.entry,n=s.getLengthInDays(),o=this.draggedNode.querySelector(".calendar-event-line-inner-container"),r=this.draggedNode.querySelector(".calendar-event-line-inner");if(this.calendar.getView().getDayByCode){this.currentState.day=this.calendar.getView().getDayByCode(this.calendar.util.getDayCode(s.from))}if(n>1){var a=this.draggedNode.querySelector(".calendar-event-line-text");if(a){a.innerHTML='<span class="calendar-event-line-days-count">('+BX.message("EC_DAY_LENGTH").replace("#COUNT#",n)+")</span> "+a.innerHTML}}if(o){if(s.isFullDay()){o.style.backgroundColor=this.calendar.util.hexToRgba(s.color,.7);o.style.borderColor=this.calendar.util.hexToRgba(s.color,.7)}else{if(s.isLongWithTime()){o.style.borderColor=this.calendar.util.hexToRgba(s.color,.7)}}}if(r){r.style.maxWidth=""}if(this.calendar.getView().allEventsPopup){this.calendar.getView().allEventsPopup.close()}this.undoList.push(this.getEntryState(s));this.isDragging=true;if(this.calendar.currentViewName==="week"||this.calendar.currentViewName==="day"){this.eventDragAndDrop.onDragStart(s.to.getTime()-s.from.getTime())}}),this);if(!i){return}e.onbxdrag=BX.delegate((function(e,t){if(!this.draggedNode){return}t-=7;t=this.getPositionAfterScroll(e,t);this.dragEntry(e,t)}),this);e.onbxdragstop=()=>{this.redoList=[];if(this.calendar.currentViewName==="week"||this.calendar.currentViewName==="day"){this.saveEntry({from:this.eventDragAndDrop.getFinalFrom(),to:this.eventDragAndDrop.getFinalTo()});this.stopWindowScroll();this.stopContainerScroll()}else{if(!this.currentState){return}this.saveEntry({from:this.currentState.entry.from,to:this.currentState.entry.to})}};if(t.part.params.resizerNodeTop){this.registerResizer(t.part.params.resizerNodeTop,t,true)}if(t.part.params.resizerNodeBottom){this.registerResizer(t.part.params.resizerNodeBottom,t,false)}},getPositionAfterScroll(e,t){t=this.getPositionAfterBottomScroll(e,t);t=this.getPositionAfterTopScroll(e,t);if(this.doesViewportContainDraggedNode(t)){this.stopWindowScroll()}if(this.doesContainerContainDraggedNode(t)){this.stopContainerScroll()}return t},getPositionAfterTopScroll(t,i){const s=this.calendar.getView().gridWrap;const n=BX.pos(s).top;const o=e.scrollY;if(i<o&&o>n){this.scrollSpeed=this.getSpeed(i,o);i=o;this.setWindowTopScrollInterval(t,i)}if(i<=n){this.scrollSpeed=this.getSpeed(i,n);i=n;if(i<n&&o>n){i=o}this.setContainerTopScrollInterval(t,i)}return i},getPositionAfterBottomScroll(t,i){const s=this.calendar.getView().gridWrap;const n=BX.pos(s).bottom-this.draggedNode.offsetHeight;const o=e.innerHeight+e.scrollY-this.draggedNode.offsetHeight;if(i>o&&o<n){this.scrollSpeed=this.getSpeed(i,o);i=o;this.setWindowBottomScrollInterval(t,i)}if(i>=n){this.scrollSpeed=this.getSpeed(i,n);i=n;if(i>o&&o<n){i=o}this.setContainerBottomScrollInterval(t,i)}return i},getSpeed(e,t){return Math.floor(Math.log(1+Math.abs(e-t)))+1},setWindowTopScrollInterval(e,t){this.setWindowScrollInterval(e,t,this.setContainerTopScrollInterval.bind(this),-1)},setWindowBottomScrollInterval(e,t){this.setWindowScrollInterval(e,t,this.setContainerBottomScrollInterval.bind(this),1)},setWindowScrollInterval(e,t,i,s){if(!this.windowScrollInterval){this.windowScrollInterval=setInterval((()=>{t+=this.scrollSpeed*s;document.documentElement.scrollTop+=this.scrollSpeed*s;this.dragEntry(e,t);if(!this.doesContainerContainDraggedNode(t)){this.stopWindowScroll(t);i(e,t)}}),13)}},setContainerTopScrollInterval(e,t){this.setContainerScrollInterval(e,t,this.getScrollTop,-1)},setContainerBottomScrollInterval(e,t){this.setContainerScrollInterval(e,t,this.getScrollBottom,1)},getScrollTop(e){return e.scrollTop},getScrollBottom(e){return parseInt(e.scrollHeight-e.clientHeight-e.scrollTop)},setContainerScrollInterval(e,t,i,s){if(!this.containerScrollInterval){const n=this.calendar.getView().gridWrap;this.containerScrollInterval=setInterval((()=>{this.scrollSpeed=Math.min(this.scrollSpeed,i(n));this.offset-=this.scrollSpeed*s;n.scrollTop+=this.scrollSpeed*s;this.dragEntry(e,t);if(i(n)===0){this.stopContainerScroll()}}),13)}},doesViewportContainDraggedNode(t){const i=e.scrollY;const s=e.innerHeight+e.scrollY-this.draggedNode.offsetHeight;return t>i&&t<s},doesContainerContainDraggedNode(e){const t=this.calendar.getView().gridWrap;const i=BX.pos(t).top;const s=BX.pos(t).bottom-this.draggedNode.offsetHeight;return e>i&&e<s},stopWindowScroll(){clearInterval(this.windowScrollInterval);this.windowScrollInterval=false},stopContainerScroll(){clearInterval(this.containerScrollInterval);this.containerScrollInterval=false},dragEntry(e,t){if(this.calendar.currentViewName==="week"||this.calendar.currentViewName==="day"){this.dragWeekDayEntry(t)}else{this.dragMonthEntry(e,t)}},dragWeekDayEntry:function(e){const t=this.calendar.getView();const i=this.currentState.entry;const s=this.draggedNode.offsetHeight;let n=e;if(n<this.offset){n=this.offset;this.shake(this.draggedNode)}if(n+s>this.currentState.bottomBasePos){n=this.currentState.bottomBasePos-s;this.shake(this.draggedNode)}let o=t.getTimeByPos(n-this.offset,5);this.setStartTime(i,o);const r=this.eventDragAndDrop.getDragBoundary(n);if(r.wasMagnetized){this.draggedNode.style.transition="left .2s, top .05s, height .1s"}else{this.draggedNode.style.transition="left .2s, height .1s"}if(parseInt(this.draggedNode.style.height)!==r.size){setTimeout((()=>t.setCompactness(this.draggedNode)),100)}t.setCompactness(this.draggedNode);this.setBoundaryTimeToTimeNode(r,this.draggedNode);this.draggedNode.style.top=r.position+"px";this.draggedNode.style.height=r.size+"px"},dragMonthEntry:function(e,t){this.draggedNode.style.top=t-3+"px";this.draggedNode.style.left=e-20+"px"},setStartTime:function(e,t){e.from.setHours(t.h,t.m);e.to=new Date(e.from.getTime()+(e.data.DT_LENGTH-(e.fullDay?1:0))*1e3);if(this.calendar.util.getDayCode(e.from)!==this.calendar.util.getDayCode(e.to)&&e.to.getHours()===0&&e.to.getMinutes()===0){e.to=new Date(e.to.getTime()-1e3)}},shake:function(e){BX.addClass(e,"calendar-entry-shake-mode");if(this.shakeTimeout){clearTimeout(this.shakeTimeout)}this.shakeTimeout=setTimeout((()=>{BX.removeClass(e,"calendar-entry-shake-mode")}),400)},registerResizer:function(t,i,s=false){t.setAttribute("data-bx-entry-resizer","Y");t.onbxdragstart=t=>{t=t||e.event;let n=i.entry;if(i.part.params.wrapNode.offsetHeight===0){n=this.getRealEntry(n)}this.currentState={entry:n,startY:t.clientY+BX.GetWindowSize().scrollTop};this.resizedNode=n.parts[0].params.wrapNode;this.undoList.push(this.getEntryState(n));this.calendar.getView().setResizedEntry(this.currentState.entry);this.offset=0;const o=parseInt(e.getComputedStyle(this.resizedNode).getPropertyValue("min-height"));this.resizeDragAndDrop.onDragStart(n,o,s);this.isDragging=true};jsDD.registerObject(t);t.onbxdrag=(e,t)=>{if(this.currentState&&this.calendar.util.type!=="location"){this.resizeWeekDayEntry(t-this.currentState.startY)}};t.onbxdragstop=()=>{this.redoList=[];this.currentState.entry.from=this.resizeDragAndDrop.getFinalFrom();this.currentState.entry.to=this.resizeDragAndDrop.getFinalTo();this.saveEntry({from:this.resizeDragAndDrop.getFinalFrom(),to:this.resizeDragAndDrop.getFinalTo()})}},resizeWeekDayEntry:function(e){document.body.style.cursor="ns-resize";const t=this.resizeDragAndDrop.getDragBoundary(e);this.setBoundaryTimeToTimeNode(t,this.resizedNode);this.resizedNode.style.height=t.size+"px";this.resizedNode.style.top=t.position+"px";this.calendar.getView().setCompactness(this.resizedNode)},saveEntry:function(e){if(!this.currentState){return}const t=this.getRealEntry(this.currentState.entry);this.setTimeIntervalToEntry(t,e);this.calendar.getView().setDraggedEntry(null);if(this.calendar.getView().setResizedEntry){this.calendar.getView().setResizedEntry(null)}this.calendar.getView().displayEntries({reloadEntries:false});this.calendar.entryController.moveEventToNewDate(t,t.from,t.to);if(this.currentState.dayNode){BX.removeClass(this.currentState.dayNode,"calendar-timeline-drag-select")}setTimeout((()=>this.isDragging=false),10);BX.remove(this.draggedNode);this.showEntryDraggedNotification()},setTimeIntervalToEntry:function(e,t){if(t){e.from=new Date(t.from.getTime());e.to=new Date(t.to.getTime());e.data.DT_LENGTH=(t.to.getTime()-t.from.getTime())/1e3;e.startDayCode=t.from;e.endDayCode=t.to}},getRealEntry:function(e){if(this.calendar.getView().getRealEntry){return this.calendar.getView().getRealEntry(e)}for(const t of this.calendar.getView().entries){if(t.uid===e.uid){return t}}return null},showEntryDraggedNotification:function(){if(this.redoList.length>0){return}BX.Calendar.Util.showNotification(BX.Loc.getMessage("CALENDAR_SAVE_EVENT_NOTIFICATION"),[{title:BX.Loc.getMessage("CALENDAR_EVENT_DO_CANCEL"),events:{click:(e,t)=>{this.undo();t.close()}}}])},setBoundaryTimeToTimeNode(e,t){const i=t.querySelector(".calendar-event-block-time");if(i){i.innerHTML=this.formatTimePeriod(e.from,e.to)}},formatTimePeriod(e,t){return this.calendar.util.formatTime(e)+" &ndash; "+this.calendar.util.formatTime(t)}};function n(e){this.id=e.id||"section-select-"+Math.round(Math.random()*1e6);this.sectionList=e.sectionList;this.sectionGroupList=e.sectionGroupList;this.selectCallback=e.selectCallback;this.openPopupCallback=e.openPopupCallback;this.closePopupCallback=e.closePopupCallback;this.getCurrentSection=e.getCurrentSection;this.zIndex=e.zIndex||1200;this.mode=e.mode;this.DOM={outerWrap:e.outerWrap};this.init()}n.prototype={init:function(){this.DOM.select=this.DOM.outerWrap.appendChild(BX.create("DIV",{props:{className:"calendar-field calendar-field-select"+(this.mode==="compact"?" calendar-field-tiny":"")},events:{click:BX.delegate(this.openPopup,this)}}));this.DOM.innerValue=this.DOM.select.appendChild(BX.create("DIV",{props:{className:"calendar-field-select-icon"},style:{backgroundColor:this.getCurrentColor()}}));if(this.mode==="full"){this.DOM.selectInnerText=this.DOM.select.appendChild(BX.create("SPAN",{text:this.getCurrentTitle()}))}},openPopup:function(){if(this.sectionMenu&&this.sectionMenu.popupWindow&&this.sectionMenu.popupWindow.isShown()){return this.sectionMenu.close()}var e,t=[],i;if(BX.type.isArray(this.sectionGroupList)){this.sectionGroupList.forEach((function(e){var i=[],s;if(e.belongsToView){i=this.sectionList.filter((function(e){return e.belongsToView()}))}else if(e.type==="user"){i=this.sectionList.filter((function(t){return t.type==="user"&&t.ownerId===e.ownerId}))}else if(e.type==="company"){i=this.sectionList.filter((function(t){return t.type==="company_calendar"||t.type==="calendar_company"||t.type===e.type}))}else{i=this.sectionList.filter((function(t){return t.type===e.type}))}if(i.length>0){t.push(new BX.Main.Popup.MenuItem({text:e.title,delimiter:true}));for(s=0;s<i.length;s++){t.push(this.getMenuItem(i[s]))}}}),this)}else{for(e=0;e<this.sectionList.length;e++){t.push(this.getMenuItem(this.sectionList[e]))}}this.sectionMenu=BX.PopupMenu.create(this.id,this.DOM.select,t,{closeByEsc:true,autoHide:true,zIndex:this.zIndex,offsetTop:0,offsetLeft:this.mode==="compact"?40:0,angle:this.mode==="compact"});this.sectionMenu.popupWindow.contentContainer.style.overflow="auto";this.sectionMenu.popupWindow.contentContainer.style.maxHeight="400px";if(this.mode==="full"){this.sectionMenu.popupWindow.setWidth(this.DOM.select.offsetWidth-2);this.sectionMenu.popupWindow.contentContainer.style.overflowX="hidden"}this.sectionMenu.show();for(e=0;e<this.sectionMenu.menuItems.length;e++){if(this.sectionMenu.menuItems[e].layout.item){i=this.sectionMenu.menuItems[e].layout.item.querySelector(".menu-popup-item-icon");if(i){i.style.backgroundColor=this.sectionMenu.menuItems[e].color}}}BX.addClass(this.DOM.select,"active");if(BX.type.isFunction(this.openPopupCallback)){this.openPopupCallback(this)}BX.addCustomEvent(this.sectionMenu.popupWindow,"onPopupClose",BX.delegate((function(){if(BX.type.isFunction(this.openPopupCallback)){this.closePopupCallback()}BX.removeClass(this.DOM.select,"active");BX.PopupMenu.destroy(this.id);this.sectionMenu=null}),this))},getCurrentColor:function(){return(this.getCurrentSection()||{}).color||false},getCurrentTitle:function(){return(this.getCurrentSection()||{}).name||""},getPopup:function(){return this.sectionMenu},getMenuItem:function(e){var t=this;return{text:BX.util.htmlspecialchars(e.name),color:e.color,className:"calendar-add-popup-section-menu-item",onclick:function(e){return function(){t.DOM.innerValue.style.backgroundColor=e.color;if(t.DOM.selectInnerText){t.DOM.selectInnerText.innerHTML=BX.util.htmlspecialchars(e.name)}if(BX.type.isFunction(t.selectCallback)){t.selectCallback(e)}t.sectionMenu.close()}}(e)}}};if(e.BXEventCalendar){e.BXEventCalendar.SelectInput=t;e.BXEventCalendar.NavigationCalendar=i;e.BXEventCalendar.DragDrop=s;e.BXEventCalendar.SectionSelector=n}else{BX.addCustomEvent(e,"onBXEventCalendarInit",(function(){e.BXEventCalendar.SelectInput=t;e.BXEventCalendar.NavigationCalendar=i;e.BXEventCalendar.DragDrop=s;e.BXEventCalendar.SectionSelector=n}))}})(window);
//# sourceMappingURL=calendar-controls.map.js