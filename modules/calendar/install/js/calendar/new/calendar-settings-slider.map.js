{"version":3,"sources":["calendar-settings-slider.js"],"names":["window","SettingsSlider","params","this","calendar","id","uid","Math","round","random","zIndex","sliderId","inPersonal","util","userIsOwner","showGeneralSettings","config","perm","access","settings","SLIDER_WIDTH","SLIDER_DURATION","prototype","show","BX","SidePanel","Instance","open","contentCallback","delegate","create","width","animationDuration","events","onClose","proxy","hide","onCloseComplete","destroy","disableKeyHandler","close","event","getSliderPage","getUrl","denyClose","denyAction","removeCustomEvent","enableKeyHandler","promise","Promise","ajax","get","getActionUrl","action","is_personal","show_general_settings","unique_id","sessid","bitrix_sessid","bx_event_calendar_request","reqId","html","fulfill","trim","initControls","bind","save","DOM","denyBusyInvitation","showWeekNumbers","sectionSelect","crmSelect","showDeclined","showTasks","showCompletedTasks","timezoneSelect","workTimeStart","workTimeEnd","weekHolidays","yearHolidays","yearWorkdays","typeAccess","TYPE_ACCESS","accessWrap","initAccessController","code","hasOwnProperty","insertAccessRow","getAccessName","manageCalDav","syncSlider","showCalDavSyncDialog","options","length","sections","sectionController","getSectionList","meetSection","getUserOption","crmSection","i","section","selected","belongToOwner","add","Option","name","checked","showWeekNumber","value","work_time_start","work_time_end","in_array","week_holidays","year_holidays","year_workdays","userSettings","userTimezoneName","data","user_settings","user_timezone_name","push","type_access","request","type","handler","response","reload","accessControls","accessTasks","getTypeAccessTasks","accessLink","hasClass","removeClass","addClass","Access","Init","accessWrapInner","appendChild","props","className","accessTable","accessButtonWrap","accessButton","message","ShowForm","callback","provider","GetProviderName","popup","popupContainer","style","e","target","findTargetNode","srcElement","outerWrap","getAttribute","showAccessSelectorPopup","node","removeIcon","setValueCallback","valueNode","innerHTML","htmlspecialchars","title","cleanNode","rowNode","undefined","getDefaultTypeAccessTask","adjust","insertRow","titleNode","insertCell","valueCell","attrs","data-bx-calendar-access-selector","selectNode","text","data-bx-calendar-access-remove","accessPopupMenu","popupWindow","isShown","menuId","taskId","_this","menuItems","onclick","PopupMenu","closeByEsc","autoHide","offsetTop","offsetLeft","angle","addCustomEvent","BXEventCalendar"],"mappings":"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","file":"calendar-settings-slider.map.js"}