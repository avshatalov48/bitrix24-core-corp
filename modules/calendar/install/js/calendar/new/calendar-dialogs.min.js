(function(e){function t(e){this.calendar=e;this.id=this.calendar.id+"_confirm_edit";this.zIndex=3200}t.prototype={show:function(e){var t=BX.create("DIV");this.dialog=new BX.PopupWindow(this.id,null,{overlay:{opacity:10},autoHide:true,closeByEsc:true,zIndex:this.zIndex,offsetLeft:0,offsetTop:0,draggable:true,bindOnResize:false,titleBar:BX.message("EC_EDIT_REC_EVENT"),closeIcon:{right:"12px",top:"10px"},className:"bxc-popup-window",buttons:[new BX.PopupWindowButtonLink({text:BX.message("EC_SEC_SLIDER_CANCEL"),className:"popup-window-button-link-cancel",events:{click:BX.proxy(this.close,this)}})],content:t,events:{}});t.appendChild(new BX.PopupWindowButton({text:BX.message("EC_REC_EV_ONLY_THIS_EVENT"),events:{click:BX.delegate(function(){if(e.callback&&typeof e.callback=="function"){e.params.recurentEventEditMode="this";e.params.confirmed=true;e.callback(e.params)}this.close()},this)}}).buttonNode);t.appendChild(new BX.PopupWindowButton({text:BX.message("EC_REC_EV_NEXT"),events:{click:BX.delegate(function(){if(e.callback&&typeof e.callback=="function"){e.params.recurentEventEditMode="next";e.params.confirmed=true;e.callback(e.params)}this.close()},this)}}).buttonNode);t.appendChild(new BX.PopupWindowButton({text:BX.message("EC_REC_EV_ALL"),events:{click:BX.delegate(function(){if(e.callback&&typeof e.callback=="function"){e.params.recurentEventEditMode="all";e.params.confirmed=true;e.callback(e.params)}this.close()},this)}}).buttonNode);this.dialog.show()},close:function(){if(this.dialog){this.dialog.close()}}};function n(e){this.calendar=e;this.id=this.calendar.id+"_confirm_decline";this.zIndex=3200}n.prototype={show:function(e){var t=BX.create("DIV");this.dialog=new BX.PopupWindow(this.id,null,{overlay:{opacity:10},autoHide:true,closeByEsc:true,zIndex:this.zIndex,offsetLeft:0,offsetTop:0,draggable:true,bindOnResize:false,titleBar:BX.message("EC_DECLINE_REC_EVENT"),closeIcon:{right:"12px",top:"10px"},className:"bxc-popup-window",buttons:[new BX.PopupWindowButtonLink({text:BX.message("EC_SEC_SLIDER_CANCEL"),className:"popup-window-button-link-cancel",events:{click:BX.proxy(this.close,this)}})],content:t,events:{}});t.appendChild(new BX.PopupWindowButton({text:BX.message("EC_DECLINE_ONLY_THIS"),events:{click:BX.delegate(function(){this.calendar.entryController.setMeetingStatus(e,"N",{confirmed:true,recursionMode:"this"});this.close()},this)}}).buttonNode);t.appendChild(new BX.PopupWindowButton({text:BX.message("EC_DECLINE_NEXT"),events:{click:BX.delegate(function(){this.calendar.entryController.setMeetingStatus(e,"N",{confirmed:true,recursionMode:"next"});this.close()},this)}}).buttonNode);t.appendChild(new BX.PopupWindowButton({text:BX.message("EC_DECLINE_ALL"),events:{click:BX.delegate(function(){this.calendar.entryController.setMeetingStatus(e,"N",{confirmed:true,recursionMode:"all"});this.close()},this)}}).buttonNode);this.dialog.show()},close:function(){if(this.dialog){this.dialog.close()}}};function s(e){this.calendar=e;this.id=this.calendar.id+"_busy_users";this.zIndex=3200;this.plural=false}s.prototype={show:function(e){this.plural=e.users.length>1;var t,n=[];for(t=0;t<e.users.length;t++){n.push(e.users[t].name)}n=n.join(", ");var s=BX.create("DIV",{props:{className:"calendar-busy-users-content-wrap"},html:'<div class="calendar-busy-users-content">'+BX.util.htmlspecialchars(this.plural?BX.message("EC_BUSY_USERS_PLURAL").replace("#USER_LIST#",n):BX.message("EC_BUSY_USERS_SINGLE").replace("#USER_NAME#",e.users[0].name))+"</div>"});this.dialog=new BX.PopupWindow(this.id,null,{overlay:{opacity:10},autoHide:true,closeByEsc:true,zIndex:this.zIndex,offsetLeft:0,offsetTop:0,draggable:true,bindOnResize:false,titleBar:BX.message("EC_BUSY_USERS_TITLE"),closeIcon:{right:"12px",top:"10px"},className:"bxc-popup-window",buttons:[new BX.PopupWindowButtonLink({text:BX.message("EC_BUSY_USERS_CLOSE"),className:"popup-window-button-link-cancel",events:{click:BX.delegate(function(){if(this.calendar.editSlider)this.calendar.editSlider.close();this.close()},this)}})],content:s,events:{}});s.appendChild(new BX.PopupWindowButton({text:BX.message("EC_BUSY_USERS_BACK2EDIT"),events:{click:BX.delegate(function(){this.close()},this)}}).buttonNode);s.appendChild(new BX.PopupWindowButton({text:this.plural?BX.message("EC_BUSY_USERS_EXCLUDE_PLURAL"):BX.message("EC_BUSY_USERS_EXCLUDE_SINGLE"),events:{click:BX.delegate(function(){if(BX.type.isFunction(e.saveCallback)){e.saveCallback()}this.close()},this)}}).buttonNode);this.dialog.show()},close:function(){if(this.dialog){this.dialog.close()}}};if(e.BXEventCalendar){e.BXEventCalendar.ConfirmEditDialog=t;e.BXEventCalendar.ConfirmDeclineDialog=n;e.BXEventCalendar.BusyUsersDialog=s}else{BX.addCustomEvent(e,"onBXEventCalendarInit",function(){e.BXEventCalendar.ConfirmEditDialog=t;e.BXEventCalendar.ConfirmDeclineDialog=n;e.BXEventCalendar.BusyUsersDialog=s})}})(window);
//# sourceMappingURL=calendar-dialogs.map.js