{"version":3,"file":"syncinterface.bundle.js","sources":["../src/syncpanelitem.js","../src/controls/connectioncontrols.js","../src/controls/mobilesyncbanner.js","../src/controls/statusblock.js","../src/itemstemplate/interfacetemplate.js","../src/itemstemplate/caldavinterfacetemplate.js","../src/itemstemplate/caldavtemplate.js","../src/itemstemplate/exchangetemplate.js","../src/itemstemplate/googletemplate.js","../src/itemstemplate/mactemplate.js","../src/itemstemplate/outlooktemplate.js","../src/itemstemplate/yandextemplate.js","../src/itemstemplate/mobileinterfacetemplate.js","../src/itemstemplate/androidtemplate.js","../src/itemstemplate/iphonetemplate.js","../src/syncpanel.js","../src/gridunit.js","../src/controls/icalsyncpopup.js"],"sourcesContent":["// @flow\n'use strict';\n\nimport 'ui.tilegrid';\nimport 'ui.forms';\nimport {Reflection, Type} from \"main.core\";\n\nexport default class SyncPanelItem extends BX.TileGrid.Item\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.options = options;\n\t}\n\n\tgetContent()\n\t{\n\t\tif (this.options.className)\n\t\t{\n\t\t\tconst itemClass = Reflection.getClass(this.options.className);\n\n\t\t\tif (Type.isFunction(itemClass))\n\t\t\t{\n\t\t\t\tconst item = new itemClass(this.options);\n\t\t\t\treturn item.getInnerContent();\n\t\t\t}\n\n\t\t\treturn '';\n\t\t}\n\t}\n}\n","// @flow\n'use strict';\n\nimport {Loc, Tag} from \"main.core\";\n\nexport default class ConnectionControls\n{\n\tuserName = null;\n\tserver = null;\n\tconnectionName = null;\n\n\tconstructor(options = null)\n\t{\n\t\tthis.addButtonText = Loc.getMessage('CAL_UPPER_CONNECT');\n\t\tthis.removeButtonText = Loc.getMessage('CAL_UPPER_DISCONNECT');\n\t\tthis.saveButtonText = Loc.getMessage('CAL_UPPER_SAVE');\n\n\t\tif (options !== null)\n\t\t{\n\t\t\tthis.userName = BX.util.htmlspecialchars(options.userName);\n\t\t\tthis.server = BX.util.htmlspecialchars(options.server);\n\t\t\tthis.connectionName = BX.util.htmlspecialchars(options.connectionName);\n\t\t}\n\t}\n\n\tgetWrapper()\n\t{\n\t\treturn Tag.render `\n\t\t\t<div class=\"calendar-sync-slider-section calendar-sync-slider-section-form\"></div>\n\t\t`;\n\t}\n\n\tgetForm()\n\t{\n\t\treturn Tag.render`\n\t\t\t<form class=\"calendar-sync-slider-form\" action=\"\">\n\t\t\t\t<div class=\"calendar-sync-slider-field\">\n\t\t\t\t\t<div class=\"ui-ctl ui-ctl-w100 ui-ctl-textbox\">\n\t\t\t\t\t\t<input type=\"text\" class=\"ui-ctl-element\" placeholder=\\\"${Loc.getMessage('CAL_TEXT_NAME')}\\\" name=\"name\" value=\"${this.connectionName || ''}\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-field\">\n\t\t\t\t\t<div class=\"ui-ctl ui-ctl-w100 ui-ctl-textbox\">\n\t\t\t\t\t\t<input type=\"text\" class=\"ui-ctl-element\" placeholder=\\\"${Loc.getMessage('CAL_TEXT_SERVER_ADDRESS')}\\\" name=\"server\" value=\"${this.server || ''}\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-field\">\n\t\t\t\t\t<div class=\"ui-ctl ui-ctl-w100 ui-ctl-textbox\">\n\t\t\t\t\t\t<input type=\"text\" class=\"ui-ctl-element\" placeholder=\\\"${Loc.getMessage('CAL_TEXT_USER_NAME')}\\\" name=\"user_name\" value=\"${this.userName || ''}\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-field\">\n\t\t\t\t\t<div class=\"ui-ctl ui-ctl-w100 ui-ctl-textbox\">\n\t\t\t\t\t\t<input type=\"password\" class=\"ui-ctl-element\" name=\"password\" placeholder=\\\"${Loc.getMessage('CAL_TEXT_PASSWORD')}\\\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t`;\n\t}\n\n\tgetAddButton()\n\t{\n\t\treturn Tag.render `\n\t\t\t<button id=\"connect-button\" class=\"ui-btn ui-btn-light-border\">${this.addButtonText}</button>\n\t\t`;\n\t}\n\n\tgetDisconnectButton()\n\t{\n\t\treturn Tag.render`\n\t\t\t<button id=\"disconnect-button\" class=\"calendar-sync-slider-btn ui-btn ui-btn-light-border\">${this.removeButtonText}</button>\n\t\t`;\n\t}\n\n\tgetSaveButton()\n\t{\n\t\treturn Tag.render`\n\t\t\t<button id=\"edit-connect-button\" class=\"calendar-sync-slider-btn ui-btn ui-btn-light-border\">${this.saveButtonText}</button>\n\t\t`;\n\t}\n\n\tgetButtonWrapper()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-slider-form-btn\"></div>\n\t\t`;\n\t}\n}","// @flow\n'use strict';\nimport {Type, Tag, Loc, Runtime, Dom} from 'main.core';\nimport {Util} from \"calendar.util\";\nimport {Popup} from 'main.popup';\n\nexport default class MobileSyncBanner\n{\n\tzIndex = 3100;\n\tDOM = {};\n\tQRCODE_SIZE = 186;\n\tQRCODE_COLOR_LIGHT = '#ffffff';\n\tQRCODE_COLOR_DARK = '#000000';\n\tQRCODE_WRAP_CLASS = 'calendar-sync-slider-qr-container';\n\tQRC = null;\n\n\tconstructor(options = {})\n\t{\n\t\tthis.type = options.type;\n\t\tthis.helpDeskCode = options.helpDeskCode || '11828176';\n\t}\n\n\tshow()\n\t{\n\t}\n\n\tshowInPopup()\n\t{\n\t\tthis.popup = new Popup({\n\t\t\tclassName: 'calendar-sync-qr-popup',\n\t\t\tdraggable: true,\n\t\t\tcontent: this.getContainer(),\n\t\t\twidth: 580,\n\t\t\tzIndexAbsolute: this.zIndex,\n\t\t\tcacheable: false,\n\t\t\tcloseByEsc: true,\n\t\t\tcloseIcon: true,\n\t\t});\n\t\tthis.popup.show();\n\n\t\tthis.initQrCode().then(this.drawQRCode.bind(this));\n\t}\n\n\tclose()\n\t{\n\t\tthis.popup.close();\n\t}\n\n\tgetContainer()\n\t{\n\t\tthis.DOM.container = Tag.render `\n\t\t\t${this.getSliderContentInfoBlock}\n\t\t\t<div class=\"calendar-sync-qr-popup-content\">\n\t\t\t\t<div class=\"calendar-sync-qr-popup-title\">\n\t\t\t\t\t${this.getTitle()}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-content\">\n\t\t\t\t\t<img class=\"calendar-sync-slider-phone-img\" src=\"/bitrix/images/calendar/sync/qr-background.svg\" alt=\"\">\n\t\t\t\t\t<div class=\"calendar-sync-slider-qr\">\n\t\t\t\t\t\t<div class=\"${this.QRCODE_WRAP_CLASS}\">${Util.getLoader(this.QRCODE_SIZE)}</div>\n\t\t\t\t\t\t<span class=\"calendar-sync-slider-logo\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"calendar-sync-slider-instruction\">\n\t\t\t\t\t\t<!--<div class=\"calendar-sync-slider-instruction-subtitle\"></div>-->\n\t\t\t\t\t\t<div class=\"calendar-sync-slider-instruction-title\">${Loc.getMessage('SYNC_MOBILE_NOTICE_HOW_TO')} ${this.type !== 'iphone' ? Tag.render `<span class=\"calendar-notice-mobile-banner\" data-hint=\"${Loc.getMessage('CAL_ANDROID_QR_CODE_HINT')}\" data-hint-no-icon=\"Y\"></span>` : ''}</div>\n\t\t\t\t\t\t<div class=\"calendar-sync-slider-instruction-notice\">${Loc.getMessage('SYNC_MOBILE_NOTICE')}</div>\n\t\t\t\t\t\t<a href=\"javascript:void(0);\" \n\t\t\t\t\t\t\t\tonclick=\"BX.Helper.show('redirect=detail&code=' + ${this.getHelpdeskCode()},{zIndex:3100,}); event.preventDefault();\" \n\t\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-success ui-btn-round\">\n\t\t\t\t\t\t\t${Loc.getMessage('SYNC_MOBILE_ABOUT_BTN')}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tUtil.initHintNode(this.DOM.container.querySelector('.calendar-notice-mobile-banner'));\n\n\t\treturn this.DOM.container;\n\t}\n\n\tgetInnerContainer()\n\t{\n\t\treturn this.DOM.container.querySelector('.' + this.QRCODE_WRAP_CLASS);\n\t}\n\n\tinitQrCode()\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tRuntime.loadExtension(['main.qrcode']).then((exports) => {\n\t\t\t\tif (exports && exports.QRCode)\n\t\t\t\t{\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tdrawQRCode(wrap)\n\t{\n\t\tif (!Type.isDomNode(wrap))\n\t\t{\n\t\t\twrap = this.getInnerContainer();\n\t\t}\n\n\t\tthis.getMobileSyncUrl().then((link) => {\n\t\t\tDom.clean(wrap);\n\t\t\tthis.QRC = new QRCode(wrap, {\n\t\t\t\ttext: link,\n\t\t\t\twidth: this.getSize(),\n\t\t\t\theight: this.getSize(),\n\t\t\t\tcolorDark : this.QRCODE_COLOR_DARK,\n\t\t\t\tcolorLight : this.QRCODE_COLOR_LIGHT,\n\t\t\t\tcorrectLevel : QRCode.CorrectLevel.H\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitle()\n\t{\n\t\treturn Loc.getMessage('SYNC_BANNER_MOBILE_TITLE');\n\t}\n\n\tgetMobileSyncUrl()\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tBX.ajax.runAction('calendar.api.calendarajax.getAuthLink', {\n\t\t\t\tdata: {\n\t\t\t\t\ttype: this.type ? 'slider' : 'banner',\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\tresolve(response.data.link);\n\t\t\t\t},\n\t\t\t\treject\n\t\t\t);\n\t\t});\n\t}\n\n\tgetSize()\n\t{\n\t\treturn this.QRCODE_SIZE;\n\t}\n\n\tgetDetailHelpUrl()\n\t{\n\t\treturn 'https://helpdesk.bitrix24.ru/open/' + this.getHelpdeskCode();\n\t}\n\n\tgetHelpdeskCode()\n\t{\n\t\treturn this.helpDeskCode;\n\t}\n}\n","// @flow\n'use strict';\n\nimport {Loc, Tag} from \"main.core\";\nimport {SyncStatusPopup} from \"calendar.sync.manager\";\n\nexport default class StatusBlock\n{\n\tconstructor(options)\n\t{\n\t\tthis.status = options.status;\n\t\tthis.connections = options.connections;\n\t\tthis.withStatusLabel = options.withStatusLabel;\n\t\tthis.popupWithUpdateButton = options.popupWithUpdateButton;\n\t\tthis.popupId = options.popupId;\n\t}\n\n\tstatic createInstance(options)\n\t{\n\t\treturn new this(options);\n\t}\n\n\tsetStatus(status)\n\t{\n\t\tthis.status = status;\n\n\t\treturn this;\n\t}\n\n\tsetConnections(connections)\n\t{\n\t\tthis.connections = connections;\n\n\t\treturn this;\n\t}\n\n\tgetContent()\n\t{\n\t\tlet statusInfoBlock;\n\t\tif (this.status === 'success')\n\t\t{\n\t\t\tstatusInfoBlock = Tag.render `\n\t\t\t\t<div id=\"status-info-block\" class=\"ui-alert ui-alert-success calendar-sync-status-info\">\n\t\t\t\t\t<span class=\"ui-alert-message\">${Loc.getMessage('SYNC_STATUS_SUCCESS')}</span>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\t\telse if (this.status === 'failed')\n\t\t{\n\t\t\tstatusInfoBlock = Tag.render `\n\t\t\t\t<div id=\"status-info-block\" class=\"ui-alert ui-alert-danger calendar-sync-status-info\">\n\t\t\t\t\t<span class=\"ui-alert-message\">${Loc.getMessage('SYNC_STATUS_ALERT')}</span>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstatusInfoBlock = Tag.render `\n\t\t\t\t<div id=\"status-info-block\" class=\"ui-alert ui-alert-primary calendar-sync-status-info\">\n\t\t\t\t\t<span class=\"ui-alert-message\">${Loc.getMessage('SYNC_STATUS_NOT_CONNECTED')}</span>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\tstatusInfoBlock.addEventListener('mouseenter', () => {\n\t\t\tthis.handlerMouseEnter(statusInfoBlock);\n\t\t});\n\n\t\tstatusInfoBlock.addEventListener('mouseleave', () => {\n\t\t\tthis.handlerMouseLeave();\n\t\t});\n\n\t\tthis.statusBlock = Tag.render `\n\t\t\t<div class=\"calendar-sync-status-block\" id=\"calendar-sync-status-block\">\n\t\t\t\t${this.getStatusTextLabel()}\n\t\t\t\t${statusInfoBlock}\n\t\t\t</div>\n\t\t`;\n\n\t\treturn this.statusBlock;\n\t}\n\n\tgetStatusTextLabel()\n\t{\n\t\treturn this.withStatusLabel\n\t\t\t? Tag.render`\n\t\t\t\t<div class=\"calendar-sync-status-subtitle\">\n\t\t\t\t\t<span data-hint=\"\"></span>\n\t\t\t\t\t<span class=\"calendar-sync-status-text\">${Loc.getMessage('LABEL_STATUS_INFO')}:</span>\n\t\t\t\t</div>`\n\t\t\t: ''\n\t\t;\n\t}\n\n\thandlerMouseEnter(statusBlock)\n\t{\n\t\tclearTimeout(this.statusBlockEnterTimeout);\n\t\tthis.buttonEnterTimeout = setTimeout(() =>\n\t\t\t{\n\t\t\t\tthis.statusBlockEnterTimeout = null;\n\t\t\t\tthis.showPopup(statusBlock);\n\t\t\t}, 500\n\t\t);\n\t}\n\n\thandlerMouseLeave()\n\t{\n\t\tif (this.statusBlockEnterTimeout !== null)\n\t\t{\n\t\t\tclearTimeout(this.statusBlockEnterTimeout);\n\t\t\tthis.statusBlockEnterTimeout = null;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.statusBlockLeaveTimeout = setTimeout(() =>\n\t\t\t{\n\t\t\t\tthis.hidePopup();\n\t\t\t}, 500\n\t\t);\n\t}\n\n\tshowPopup(node)\n\t{\n\t\tif(this.status !== 'not_connected')\n\t\t{\n\t\t\tthis.popup = this.getPopup(node);\n\t\t\tthis.popup.show();\n\n\t\t\tthis.addPopupHandlers();\n\t\t}\n\t}\n\n\thidePopup()\n\t{\n\t\tif (this.popup)\n\t\t{\n\t\t\tthis.popup.hide();\n\t\t}\n\t}\n\n\taddPopupHandlers()\n\t{\n\t\tthis.popup.getPopup().getPopupContainer().addEventListener('mouseenter', () =>\n\t\t{\n\t\t\tclearTimeout(this.statusBlockEnterTimeout);\n\t\t\tclearTimeout(this.statusBlockLeaveTimeout);\n\t\t});\n\n\t\tthis.popup.getPopup().getPopupContainer().addEventListener('mouseleave', () =>\n\t\t{\n\t\t\tthis.hidePopup();\n\t\t});\n\t}\n\n\tgetPopup(node)\n\t{\n\t\treturn SyncStatusPopup.createInstance({\n\t\t\tconnections: this.connections,\n\t\t\twithUpdateButton: this.popupWithUpdateButton,\n\t\t\tnode: node,\n\t\t\tid: this.popupId,\n\t\t});\n\t}\n\n\trefresh(status, connections)\n\t{\n\t\tthis.status = status;\n\t\tthis.connections = connections;\n\n\t\treturn this;\n\t}\n}","// @flow\n'use strict';\n\nimport {ajax, Loc, Tag, Dom} from \"main.core\";\nimport StatusBlock from \"../controls/statusblock\"\nimport {EventEmitter} from \"main.core.events\";\n\nexport class InterfaceTemplate extends EventEmitter\n{\n\tstatic SLIDER_WIDTH = 606;\n\tsliderWidth = 840;\n\tstatic SLIDER_PREFIX = 'calendar:connection-sync-';\n\n\tconstructor(options)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Calendar.Sync.Interface.InterfaceTemplate');\n\n\t\tthis.title = options.title;\n\t\tthis.helpdeskCode = options.helpDeskCode;\n\t\tthis.titleInfoHeader = options.titleInfoHeader;\n\t\tthis.descriptionInfoHeader = options.descriptionInfoHeader;\n\t\tthis.titleActiveHeader = options.titleActiveHeader;\n\t\tthis.descriptionActiveHeader = options.descriptionActiveHeader;\n\t\tthis.sliderIconClass = options.sliderIconClass;\n\t\tthis.iconPath = options.iconPath;\n\t\tthis.color = options.color;\n\t\tthis.provider = options.provider;\n\t\tthis.connection = options.connection;\n\t\tthis.popupWithUpdateButton = options.popupWithUpdateButton;\n\t}\n\n\tstatic createInstance(provider, connection = null)\n\t{\n\t\treturn new this(provider, connection);\n\t}\n\n\tgetInfoConnectionContent()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-wrap calendar-sync-wrap-detail\">\n\t\t\t\t${this.getContentInfoHeader()}\n\t\t\t\t${this.getContentInfoBody()}\n\t\t\t</div>\n\t\t`\n\t}\n\n\tgetActiveConnectionContent()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-wrap calendar-sync-wrap-detail\">\n\t\t\t\t${this.getContentActiveHeader()}\n\t\t\t\t${this.getContentActiveBody()}\n\t\t\t</div>\n\t\t`\n\t}\n\n\tgetContentInfoHeader()\n\t{\n\t\tthis.statusBlock = StatusBlock.createInstance({\n\t\t\tstatus: \"not_connected\",\n\t\t\tconnections: [this.connection],\n\t\t\twithStatusLabel: false,\n\t\t\tpopupWithUpdateButton: this.popupWithUpdateButton,\n\t\t\tpopupId: 'calendar-interfaceTemplate-status',\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-header\">\n\t\t\t\t<span class=\"calendar-sync-header-text\">${this.getHeaderTitle()}</span>\n\t\t\t\t${this.statusBlock.getContent()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetContentInfoBody()\n\t{\n\t\treturn Tag.render`\n\t\t\t${this.getContentInfoBodyHeader()}\n\t\t`;\n\t}\n\n\tgetContentActiveHeader()\n\t{\n\t\tthis.statusBlock = StatusBlock.createInstance({\n\t\t\tstatus: this.connection.getStatus(),\n\t\t\tconnections: [this.connection],\n\t\t\twithStatusLabel: false,\n\t\t\tpopupWithUpdateButton: this.popupWithUpdateButton,\n\t\t\tpopupId: 'calendar-interfaceTemplate-status',\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-header\">\n\t\t\t\t<span class=\"calendar-sync-header-text\">${this.getHeaderTitle()}</span>\n\t\t\t\t${this.statusBlock.getContent()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetContentActiveBody()\n\t{\n\t\treturn Tag.render`\n\t\t\t${this.getContentActiveBodyHeader()}\n\t\t`;\n\t}\n\n\tshowHelp()\n\t{\n\t\tif (BX.Helper)\n\t\t{\n\t\t\tBX.Helper.show(\"redirect=detail&code=\" + this.helpdeskCode);\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\tgetHelpdeskLink()\n\t{\n\t\treturn 'https://helpdesk.bitrix24.ru/open/' + this.helpdeskCode;\n\t}\n\n\tgetHeaderTitle()\n\t{\n\t\treturn this.title;\n\t}\n\n\tgetContentInfoBodyHeader()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-slider-section\">\n\t\t\t\t<div class=\"calendar-sync-slider-header-icon ${this.sliderIconClass}\"></div>\n\t\t\t\t<div class=\"calendar-sync-slider-header\">\n\t\t\t\t<div class=\"calendar-sync-slider-title\">\n\t\t\t\t\t${this.titleInfoHeader}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-info\">\n\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">\n\t\t\t\t\t\t${this.descriptionInfoHeader}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-info\">\n\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">\n\t\t\t\t\t\t<a class=\"calendar-sync-slider-info-link\" href=\"javascript:void(0);\" onclick=\"${this.showHelp.bind(this)}\">\n\t\t\t\t\t\t\t${Loc.getMessage('CAL_TEXT_ABOUT_WORK_SYNC')}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetContentActiveBodyHeader()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-slider-section\">\n\t\t\t\t<div class=\"calendar-sync-slider-header-icon ${this.sliderIconClass}\"></div>\n\t\t\t\t<div class=\"calendar-sync-slider-header\">\n\t\t\t\t<div class=\"calendar-sync-slider-title\">\n\t\t\t\t\t${this.titleActiveHeader}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-info\">\n\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">\n\t\t\t\t\t\t${this.descriptionActiveHeader}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-info\">\n\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">\n\t\t\t\t\t\t<a class=\"calendar-sync-slider-info-link\" href=\"javascript:void(0);\" onclick=\"${this.showHelp.bind(this)}\">\n\t\t\t\t\t\t\t${Loc.getMessage('CAL_TEXT_ABOUT_WORK_SYNC')}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tsetProvider(provider)\n\t{\n\t\tthis.provider = provider;\n\t}\n\n\tsendRequestRemoveConnection(id)\n\t{\n\t\tBX.ajax.runAction('calendar.api.calendarajax.removeConnection', {\n\t\t\tdata: {\n\t\t\t\tconnectionId: id,\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tBX.reload();\n\t\t});\n\t}\n\n\trunUpdateInfo()\n\t{\n\t\tajax.runAction('calendar.api.calendarajax.setSectionStatus', {\n\t\t\tdata: {\n\t\t\t\tsectionStatus: this.sectionStatusObject,\n\t\t\t},\n\t\t}).then(response => {\n\t\t\tthis.emit('reDrawCalendarGrid', {});\n\t\t})\n\t}\n\n\trefresh(connection)\n\t{\n\t\tthis.connection = connection;\n\t\tthis.statusBlock\n\t\t\t.setStatus(this.connection.getStatus())\n\t\t\t.setConnections([this.connection]);\n\t\tDom.replace(document.getElementById('status-info-block'), this.statusBlock.getContent());\n\t}\n}","// @flow\n'use strict';\n\nimport {InterfaceTemplate} from './interfacetemplate';\nimport {Dom, Loc, Tag} from \"main.core\";\nimport ConnectionControls from \"../controls/connectioncontrols\";\nimport StatusBlock from \"../controls/statusblock\";\n\n\nexport class CaldavInterfaceTemplate extends InterfaceTemplate\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t}\n\n\tgetContentInfoBody()\n\t{\n\t\tconst formObject = new ConnectionControls();\n\t\tconst formBlock = formObject.getWrapper();\n\t\tconst form = formObject.getForm();\n\t\tconst button = formObject.getAddButton();\n\t\tconst buttonWrapper = formObject.getButtonWrapper();\n\t\tconst bodyHeader = this.getContentInfoBodyHeader();\n\n\t\tbutton.addEventListener('click', (event) => {\n\t\t\tBX.ajax.runAction('calendar.api.calendarajax.analytical', {\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tclick_to_connection_button: 'Y',\n\t\t\t\t\tconnection_type: this.provider.getType(),\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tDom.addClass(button, ['ui-btn-clock', 'ui-btn-disabled']);\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendRequestAddConnection(form);\n\t\t});\n\n\t\tDom.append(button, buttonWrapper);\n\t\tDom.append(buttonWrapper, form);\n\t\tDom.append(form, formBlock);\n\n\t\treturn Tag.render`\n\t\t\t${bodyHeader}\n\t\t\t${formBlock}\n\t\t`;\n\t}\n\n\tgetContentActiveBody()\n\t{\n\t\tconst formObject = new ConnectionControls({\n\t\t\tserver: this.connection.addParams.server,\n\t\t\tuserName: this.connection.addParams.userName,\n\t\t\tconnectionName: this.connection.connectionName,\n\t\t});\n\t\tconst formBlock = formObject.getWrapper();\n\t\tconst form = formObject.getForm();\n\t\tconst button = formObject.getDisconnectButton();\n\t\tconst buttonWrapper = formObject.getButtonWrapper();\n\t\tconst bodyHeader = this.getContentActiveBodyHeader();\n\n\t\tbutton.addEventListener('click', (event) => {\n\t\t\tDom.addClass(button, ['ui-btn-clock', 'ui-btn-disabled']);\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendRequestRemoveConnection(this.connection.getId());\n\t\t});\n\n\t\tDom.append(button, buttonWrapper);\n\t\tDom.append(buttonWrapper, form);\n\t\tDom.append(form, formBlock);\n\n\t\treturn Tag.render`\n\t\t\t${bodyHeader}\n\t\t\t${formBlock}\n\t\t`;\n\t}\n\n\tsendRequestEditConnection(form, options)\n\t{\n\t\tBX.ajax.runAction('calendar.api.calendarajax.editConnection', {\n\t\t\tdata: {\n\t\t\t\tform: new FormData(form),\n\t\t\t\tconnectionId: options.connectionId,\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tBX.reload();\n\t\t});\n\t}\n\n\tsendRequestAddConnection(form)\n\t{\n\t\tconst fd = new FormData(form);\n\t\tBX.ajax.runAction('calendar.api.calendarajax.addConnection', {\n\t\t\tdata: {\n\t\t\t\tname: fd.get('name'),\n\t\t\t\tserver: fd.get('server'),\n\t\t\t\tuserName: fd.get('user_name'),\n\t\t\t\tpass: fd.get('password'),\n\t\t\t}\n\t\t}).then((response) => {\n\t\t\tBX.reload();\n\t\t}, response => {\n\t\t\tconst button = form.querySelector('#connect-button');\n\t\t\tthis.showAlertPopup(response.errors[0], button);\n\t\t});\n\t}\n\n\tshowAlertPopup(alert, button)\n\t{\n\t\tlet message = '';\n\t\tif (alert.code === 'incorrect_parameters')\n\t\t{\n\t\t\tmessage = Loc.getMessage('CAL_TEXT_ALERT_INCORRECT_PARAMETERS');\n\t\t}\n\t\telse if (alert.code === 'tech_problem')\n\t\t{\n\t\t\tmessage = Loc.getMessage('CAL_TEXT_ALERT_TECH_PROBLEM');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmessage = Loc.getMessage('CAL_TEXT_ALERT_DEFAULT');\n\t\t}\n\n\t\tconst messageBox = new BX.UI.Dialogs.MessageBox({\n\t\t\tmessage: message,\n\t\t\ttitle: alert.message,\n\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK,\n\t\t\tokCaption: Loc.getMessage('CAL_TEXT_BUTTON_RETURN_TO_SETTINGS'),\n\t\t\tminWidth: 358,\n\t\t\tmediumButtonSize: false,\n\t\t\tpopupOptions: {\n\t\t\t\tzIndex: 3021,\n\t\t\t\theight: 166,\n\t\t\t\twidth: 358,\n\t\t\t\tclassName: 'calendar-alert-popup-connection'\n\t\t\t},\n\t\t\tonOk: () => {\n\t\t\t\tDom.removeClass(button, ['ui-btn-clock', 'ui-btn-disabled']);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\tmessageBox.show();\n\t}\n}","// @flow\n'use strict';\n\nimport {Loc} from \"main.core\";\nimport {CaldavInterfaceTemplate} from \"./caldavinterfacetemplate\";\n\nexport default class CaldavTemplate extends CaldavInterfaceTemplate\n{\n\tconstructor(provider, connection = null)\n\t{\n\t\tsuper({\n\t\t\ttitle: Loc.getMessage(\"CALENDAR_TITLE_CALDAV\"),\n\t\t\thelpDeskCode: '5697365',\n\t\t\ttitleInfoHeader: Loc.getMessage('CAL_CONNECT_CALDAV_CALENDAR'),\n\t\t\tdescriptionInfoHeader: Loc.getMessage('CAL_CALDAV_CONNECT_DESCRIPTION'),\n\t\t\ttitleActiveHeader: Loc.getMessage('CAL_CALDAV_CALENDAR_IS_CONNECT'),\n\t\t\tdescriptionActiveHeader: Loc.getMessage('CAL_CALDAV_SELECTED_DESCRIPTION'),\n\t\t\tsliderIconClass: 'calendar-sync-slider-header-icon-caldav',\n\t\t\ticonPath: '/bitrix/images/calendar/sync/caldav.svg',\n\t\t\tcolor: '#1eae43',\n\t\t\tprovider: provider,\n\t\t\tconnection: connection,\n\t\t\tpopupWithUpdateButton: true,\n\t\t});\n\t}\n}","// @flow\n'use strict';\n\nimport {Loc} from \"main.core\";\nimport {InterfaceTemplate} from \"./interfacetemplate\";\n\nexport default class ExchangeTemplate extends InterfaceTemplate\n{\n\tconstructor(provider, connection = null)\n\t{\n\t\tsuper({\n\t\t\ttitle: Loc.getMessage(\"CALENDAR_TITLE_EXCHANGE\"),\n\t\t\thelpDeskCode: '11864622',\n\t\t\ttitleInfoHeader: Loc.getMessage('CAL_CONNECT_EXCHANGE_CALENDAR_TITLE'),\n\t\t\tdescriptionInfoHeader: Loc.getMessage('CAL_EXCHANGE_CONNECT_DESCRIPTION'),\n\t\t\ttitleActiveHeader: Loc.getMessage('CAL_SYNC_CONNECTED_EXCHANGE_TITLE'),\n\t\t\tdescriptionActiveHeader: Loc.getMessage('CAL_EXCHANGE_SELECTED_DESCRIPTION'),\n\t\t\tsliderIconClass: 'calendar-sync-slider-header-icon-office',\n\t\t\ticonPath: '/bitrix/images/calendar/sync/exchange.svg',\n\t\t\tcolor: '#54d0df',\n\t\t\tprovider: provider,\n\t\t\tconnection: connection,\n\t\t\tpopupWithUpdateButton: true,\n\t\t});\n\t}\n}","// @flow\n'use strict';\n\nimport {ajax, Dom, Loc, Tag} from \"main.core\";\nimport {InterfaceTemplate} from \"./interfacetemplate\";\nimport ConnectionControls from \"../controls/connectioncontrols\";\nimport {Popup} from \"main.popup\";\nimport { MessageBox } from 'ui.dialogs.messagebox';\n\nexport default class GoogleTemplate extends InterfaceTemplate\n{\n\tconstructor(provider, connection = null)\n\t{\n\t\tsuper({\n\t\t\ttitle: Loc.getMessage(\"CALENDAR_TITLE_GOOGLE\"),\n\t\t\thelpDeskCode: '6030429',\n\t\t\ttitleInfoHeader: Loc.getMessage('CAL_CONNECT_GOOGLE_CALENDAR'),\n\t\t\tdescriptionInfoHeader: Loc.getMessage('CAL_GOOGLE_CONNECT_DESCRIPTION'),\n\t\t\ttitleActiveHeader: Loc.getMessage('CAL_GOOGLE_CALENDAR_IS_CONNECT'),\n\t\t\tdescriptionActiveHeader: Loc.getMessage('CAL_GOOGLE_SELECTED_DESCRIPTION'),\n\t\t\tsliderIconClass: 'calendar-sync-slider-header-icon-google',\n\t\t\ticonPath: '/bitrix/images/calendar/sync/google.svg',\n\t\t\tcolor: '#387ced',\n\t\t\tprovider: provider,\n\t\t\tconnection: connection,\n\t\t\tpopupWithUpdateButton: true,\n\t\t});\n\n\t\tthis.sectionStatusObject = {};\n\t}\n\n\tcreateConnection()\n\t{\n\t\tBX.ajax.runAction('calendar.api.calendarajax.analytical', {\n\t\t\tanalyticsLabel: {\n\t\t\t\tclick_to_connection_button: 'Y',\n\t\t\t\tconnection_type: 'google',\n\t\t\t}\n\t\t});\n\n\t\tBX.util.popup(this.provider.getSyncLink(), 500, 600);\n\t}\n\n\tgetContentInfoBody()\n\t{\n\t\tconst formObject = new ConnectionControls();\n\t\tconst button = formObject.getAddButton();\n\t\tconst buttonWrapper = formObject.getButtonWrapper();\n\t\tconst bodyHeader = this.getContentInfoBodyHeader();\n\t\tconst content = bodyHeader.querySelector('.calendar-sync-slider-header');\n\n\t\tif (this.provider.hasSetSyncCaldavSettings())\n\t\t{\n\t\t\tbutton.addEventListener('click', () =>\n\t\t\t{\n\t\t\t\tthis.createConnection();\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbutton.addEventListener('click', () =>\n\t\t\t{\n\t\t\t\tthis.showAlertPopup();\n\t\t\t});\n\t\t}\n\n\n\t\tDom.append(button, buttonWrapper);\n\t\tDom.append(buttonWrapper, content);\n\n\t\treturn Tag.render`\n\t\t\t${bodyHeader}\n\t\t`;\n\t}\n\n\tgetContentActiveBody(): *\n\t{\n\t\treturn Tag.render`\n\t\t\t${this.getContentActiveBodyHeader()}\n\t\t\t${this.getContentActiveBodySectionsManager()}\n\t\t`;\n\t}\n\n\tgetContentActiveBodyHeader()\n\t{\n\t\tconst formObject = new ConnectionControls();\n\t\tconst disconnectButton = formObject.getDisconnectButton();\n\t\tdisconnectButton.addEventListener('click', (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendRequestRemoveConnection(this.connection.getId())\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-slider-section\">\n\t\t\t\t<div class=\"calendar-sync-slider-header-icon calendar-sync-slider-header-icon-google\"></div>\n\t\t\t\t<div class=\"calendar-sync-slider-header\">\n\t\t\t\t\t<div class=\"calendar-sync-slider-title\">${Loc.getMessage('CAL_GOOGLE_CALENDAR_IS_CONNECT')}</div>\n\t\t\t\t\t<span class=\"calendar-sync-slider-account\">\n\t\t\t\t\t\t<span class=\"calendar-sync-slider-account-avatar\"></span>\n\t\t\t\t\t\t<span class=\"calendar-sync-slider-account-email\">\n\t\t\t\t\t\t\t${BX.util.htmlspecialchars(this.connection.getConnectionName())}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div class=\"calendar-sync-slider-info\">\n\t\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">\n\t\t\t\t\t\t\t<a class=\"calendar-sync-slider-info-link\" href=\"javascript:void(0);\" onclick=\"${this.showHelp.bind(this)}\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('CAL_TEXT_ABOUT_WORK_SYNC')}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t${disconnectButton}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`;\n\t}\n\n\tgetContentActiveBodySectionsManager()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-slider-section calendar-sync-slider-section-col\">\n\t\t\t\t<div class=\"calendar-sync-slider-header\">\n\t\t\t\t\t<div class=\"calendar-sync-slider-subtitle\">${Loc.getMessage('CAL_AVAILABLE_CALENDAR')}</div>\n\t\t\t\t</div>\n\t\t\t\t<ul class=\"calendar-sync-slider-list\">\n\t\t\t\t\t${this.getContentActiveBodySections(this.connection.getId())}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetContentActiveBodySections(connectionId)\n\t{\n\t\tconst sectionList = [];\n\t\tthis.provider.getConnection().getSections().forEach(section => {\n\t\t\tsectionList.push(Tag.render`\n\t\t\t\t<li class=\"calendar-sync-slider-item\">\n\t\t\t\t\t<label class=\"ui-ctl ui-ctl-checkbox ui-ctl-xs\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"ui-ctl-element\" value=\"${BX.util.htmlspecialchars(section['ID'])}\" onclick=\"${this.onClickCheckSection.bind(this)}\" ${section['ACTIVE'] === 'Y' ? 'checked' : ''}>\n\t\t\t\t\t\t<div class=\"ui-ctl-label-text\">${BX.util.htmlspecialchars(section['NAME'])}</div>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t`);\n\t\t});\n\n\t\treturn sectionList;\n\t}\n\n\tonClickCheckSection(event)\n\t{\n\t\tthis.sectionStatusObject[event.target.value] = event.target.checked;\n\n\t\tthis.runUpdateInfo();\n\t}\n\n\tshowAlertPopup()\n\t{\n\t\tconst messageBox = new MessageBox({\n\t\t\tclassName: this.id,\n\t\t\tmessage: Loc.getMessage('GOOGLE_IS_NOT_CALDAV_SETTINGS_WARNING_MESSAGE'),\n\t\t\twidth: 500,\n\t\t\toffsetLeft: 60,\n\t\t\toffsetTop: 5,\n\t\t\tpadding: 7,\n\t\t\tonOk: () => {\n\t\t\t\tmessageBox.close();\n\t\t\t},\n\t\t\tokCaption: 'OK',\n\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK,\n\t\t\tpopupOptions: {\n\t\t\t\tzIndexAbsolute: 4020,\n\t\t\t\tautoHide: true,\n\t\t\t},\n\t\t});\n\t\tmessageBox.show();\n\t}\n}\n","// @flow\n'use strict';\n\nimport {Loc, Tag} from \"main.core\";\nimport {InterfaceTemplate} from \"./interfacetemplate\";\n\nexport default class MacTemplate extends InterfaceTemplate\n{\n\tconstructor(provider, connection = null)\n\t{\n\t\tsuper({\n\t\t\ttitle: Loc.getMessage(\"CALENDAR_TITLE_MAC\"),\n\t\t\thelpDeskCode: '5684075',\n\t\t\ttitleInfoHeader: Loc.getMessage('CAL_CONNECT_MAC_CALENDAR_TITLE'),\n\t\t\tdescriptionInfoHeader: Loc.getMessage('CAL_MAC_CONNECT_DESCRIPTION'),\n\t\t\ttitleActiveHeader: Loc.getMessage('CAL_MAC_CALENDAR_IS_CONNECT_TITLE'),\n\t\t\tdescriptionActiveHeader: Loc.getMessage('CAL_MAC_SELECTED_DESCRIPTION'),\n\t\t\tsliderIconClass: 'calendar-sync-slider-header-icon-mac',\n\t\t\ticonPath: '/bitrix/images/calendar/sync/mac.svg',\n\t\t\tcolor: '#ff5752',\n\t\t\tprovider: provider,\n\t\t\tconnection: connection,\n\t\t\tpopupWithUpdateButton: false,\n\t\t});\n\t}\n\n\tgetPortalAddress()\n\t{\n\t\treturn this.portalAddress;\n\t}\n\n\tgetContentInfoBody()\n\t{\n\t\treturn Tag.render `\n\t\t\t${this.getContentInfoBodyHeader()}\n\t\t\t${this.getContentBodyConnect()}\n\t\t`;\n\t}\n\n\tgetContentActiveBody()\n\t{\n\t\treturn Tag.render`\n\t\t\t${this.getContentActiveBodyHeader()}\n\t\t\t${this.getContentBodyConnect()}\n\t\t`;\n\t}\n\n\tgetContentBodyConnect()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-slider-section calendar-sync-slider-section-col\">\n\t\t\t\t<div class=\"calendar-sync-slider-header calendar-sync-slider-header-divide\">\n\t\t\t\t\t<div class=\"calendar-sync-slider-subtitle\">${Loc.getMessage('CAL_MAC_INSTRUCTION_HEADER')}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-info\">\n\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_DESCRIPTION')}:</span>\n\t\t\t\t\t<ol class=\"calendar-sync-slider-info-list\">\n\t\t\t\t\t\t<li class=\"calendar-sync-slider-info-item\">\n\t\t\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_POINT_FIRST')}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"calendar-sync-slider-info-item\">\n\t\t\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_POINT_SECOND')}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"calendar-sync-slider-info-item\">\n\t\t\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_POINT_THIRD')}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"calendar-sync-slider-info-item\">\n\t\t\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_POINT_FOURTH')}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"calendar-sync-slider-info-item\">\n\t\t\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_POINT_FIFTH').replace(/#PORTAL_ADDRESS#/gi, this.provider.getPortalAddress())}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"calendar-sync-slider-info-item\">\n\t\t\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_POINT_SIXTH')}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"calendar-sync-slider-info-item\">\n\t\t\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_POINT_SEVENTH')}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ol>\n\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_MAC_INSTRUCTION_CONCLUSION')}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}\n","// @flow\n'use strict';\n\nimport {Loc} from \"main.core\";\nimport {InterfaceTemplate} from \"./interfacetemplate\";\n\nexport default class OutlookTemplate extends InterfaceTemplate\n{\n\tconstructor(provider, connection = null)\n\t{\n\t\tsuper({\n\t\t\ttitle: Loc.getMessage(\"CALENDAR_TITLE_MAC\"),\n\t\t\thelpDeskCode: '5684075',\n\t\t\ttitleInfoHeader: Loc.getMessage('CAL_CONNECT_MAC_CALENDAR_TITLE'),\n\t\t\tdescriptionInfoHeader: Loc.getMessage('CAL_MAC_CONNECT_DESCRIPTION'),\n\t\t\ttitleActiveHeader: Loc.getMessage('CAL_MAC_CALENDAR_IS_CONNECT_TITLE'),\n\t\t\tdescriptionActiveHeader: Loc.getMessage('CAL_MAC_SELECTED_DESCRIPTION'),\n\t\t\tsliderIconClass: 'calendar-sync-slider-header-icon-mac',\n\t\t\ticonPath: '/bitrix/images/calendar/sync/mac.svg',\n\t\t\tcolor: '#ff5752',\n\t\t\tprovider: provider,\n\t\t\tconnection: connection,\n\t\t\tpopupWithUpdateButton: false,\n\t\t});\n\t}\n}","// @flow\n'use strict';\n\nimport {Loc} from \"main.core\";\nimport {CaldavInterfaceTemplate} from \"./caldavinterfacetemplate\";\n\nexport default class YandexTemplate extends CaldavInterfaceTemplate\n{\n\tconstructor(provider, connection = null)\n\t{\n\t\tsuper({\n\t\t\ttitle: Loc.getMessage(\"CALENDAR_TITLE_YANDEX\"),\n\t\t\thelpDeskCode: '10930170',\n\t\t\ttitleInfoHeader: Loc.getMessage('CAL_CONNECT_YANDEX_CALENDAR'),\n\t\t\tdescriptionInfoHeader: Loc.getMessage('CAL_YANDEX_CONNECT_DESCRIPTION'),\n\t\t\ttitleActiveHeader: Loc.getMessage('CAL_YANDEX_CALENDAR_IS_CONNECT'),\n\t\t\tdescriptionActiveHeader: Loc.getMessage('CAL_YANDEX_SELECTED_DESCRIPTION'),\n\t\t\tsliderIconClass: 'calendar-sync-slider-header-icon-yandex',\n\t\t\ticonPath: '/bitrix/images/calendar/sync/yandex.svg',\n\t\t\tcolor: '#f9c500',\n\t\t\tprovider: provider,\n\t\t\tconnection: connection,\n\t\t\tpopupWithUpdateButton: true,\n\t\t});\n\t}\n}","// @flow\n'use strict';\n\nimport {Loc, Tag, Type} from \"main.core\";\nimport {InterfaceTemplate} from \"./interfacetemplate\";\nimport MobileSyncBanner from \"../controls/mobilesyncbanner\";\nimport {Util} from \"calendar.util\";\n\nexport default class MobileInterfaceTemplate extends InterfaceTemplate\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.banner = new MobileSyncBanner({\n\t\t\ttype: this.provider.getType(),\n\t\t\thelpDeskCode: options.helpDeskCode,\n\t\t});\n\n\t\tif (this.status)\n\t\t{\n\t\t\tthis.syncDate = Type.isDate(this.data.syncDate) ? this.data.syncDate : Util.parseDate(this.data.syncDate);\n\t\t}\n\t}\n\n\tgetContentInfoBody()\n\t{\n\t\treturn Tag.render `\n\t\t\t${this.getContentInfoBodyHeader()}\n\t\t\t<div class=\"calendar-sync-slider-section calendar-sync-slider-section-banner\">\n\t\t\t\t${this.getContentBodyConnect()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetContentActiveBody()\n\t{\n\t\treturn Tag.render`\n\t\t\t${this.getContentActiveBodyHeader()}\n\t\t\t<div class=\"calendar-sync-slider-section calendar-sync-slider-section-banner\">\n\t\t\t\t${this.getContentBodyConnect()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetContentActiveBodyHeader()\n\t{\n\t\treturn Tag.render `\n\t\t\t<div class=\"calendar-sync-slider-section\">\n\t\t\t\t<div class=\"calendar-sync-slider-header-icon ${this.sliderIconClass}\"></div>\n\t\t\t\t<div class=\"calendar-sync-slider-header\">\n\t\t\t\t<div class=\"calendar-sync-slider-title\">${this.titleActiveHeader}</div>\n\t\t\t\t<div class=\"calendar-sync-slider-info\">\n\t\t\t\t\t<span class=\"calendar-sync-slider-info-text\">${Loc.getMessage('CAL_SYNC_LAST_SYNC_DATE')}</span>\n\t\t\t\t\t<span class=\"calendar-sync-slider-info-time\">${Util.formatDateUsable(this.connection.getSyncTimestamp()) + ' ' + BX.date.format(Util.getTimeFormatShort(), this.connection.getSyncTimestamp())}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"calendar-sync-slider-desc\">${Loc.getMessage('CAL_SYNC_DISABLE')}</div>\n\t\t\t\t\t<a class=\"calendar-sync-slider-link\" href=\"javascript:void(0);\" onclick=\"${this.showHelp.bind(this)}\">${Loc.getMessage('CAL_TEXT_ABOUT_WORK_SYNC')}</a>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t}\n\n\tgetContentBodyConnect()\n\t{\n\t\tthis.banner.initQrCode().then(this.banner.drawQRCode.bind(this.banner));\n\t\treturn this.banner.getContainer();\n\t}\n}","// @flow\n'use strict';\n\nimport {Loc} from \"main.core\";\nimport MobileInterfaceTemplate from \"./mobileinterfacetemplate\";\n\nexport default class AndroidTemplate extends MobileInterfaceTemplate\n{\n\tconstructor(provider, connection = null)\n\t{\n\t\tsuper({\n\t\t\ttitle: Loc.getMessage(\"CALENDAR_TITLE_ANDROID\"),\n\t\t\thelpDeskCode: '5686179',\n\t\t\ttitleInfoHeader: Loc.getMessage('CAL_CONNECT_ANDROID_CALENDAR_TITLE'),\n\t\t\tdescriptionInfoHeader: Loc.getMessage('CAL_ANDROID_CONNECT_DESCRIPTION'),\n\t\t\ttitleActiveHeader: Loc.getMessage('CAL_SYNC_CONNECTED_ANDROID_TITLE'),\n\t\t\tdescriptionActiveHeader: Loc.getMessage('CAL_ANDROID_SELECTED_DESCRIPTION'),\n\t\t\tsliderIconClass: 'calendar-sync-slider-header-icon-android',\n\t\t\ticonPath: '/bitrix/images/calendar/sync/android.svg',\n\t\t\tcolor: '#9ece03',\n\t\t\tprovider: provider,\n\t\t\tconnection: connection,\n\t\t\tpopupWithUpdateButton: false,\n\t\t});\n\t}\n}","// @flow\n'use strict';\n\nimport {Loc} from \"main.core\";\nimport MobileInterfaceTemplate from \"./mobileinterfacetemplate\";\n\nexport default class IphoneTemplate extends MobileInterfaceTemplate\n{\n\tconstructor(provider, connection = null)\n\t{\n\t\tsuper({\n\t\t\ttitle: Loc.getMessage(\"CALENDAR_TITLE_IPHONE\"),\n\t\t\thelpDeskCode: '5686207',\n\t\t\ttitleInfoHeader: Loc.getMessage('CAL_CONNECT_IPHONE_CALENDAR_TITLE'),\n\t\t\tdescriptionInfoHeader: Loc.getMessage('CAL_IPHONE_CONNECT_DESCRIPTION'),\n\t\t\ttitleActiveHeader: Loc.getMessage('CAL_SYNC_CONNECTED_IPHONE_TITLE'),\n\t\t\tdescriptionActiveHeader: Loc.getMessage('CAL_IPHONE_SELECTED_DESCRIPTION'),\n\t\t\tsliderIconClass: 'calendar-sync-slider-header-icon-iphone',\n\t\t\ticonPath: '/bitrix/images/calendar/sync/iphone.svg',\n\t\t\tcolor: '#2fc6f6',\n\t\t\tprovider: provider,\n\t\t\tconnection: connection,\n\t\t\tpopupWithUpdateButton: false,\n\t\t});\n\t}\n}","// @flow\n'use strict';\n\nimport {Dom, Loc, Tag, Cache} from \"main.core\";\nimport StatusBlock from \"./controls/statusblock\";\nimport {ConnectionItem} from \"calendar.sync.manager\";\n\nexport default class SyncPanel\n{\n\tMAIN_SYNC_SLIDER_NAME = 'calendar:sync-slider';\n\tSLIDER_WIDTH = 684;\n\tLOADER_NAME = \"calendar:loader\";\n\n\tcache = new Cache.MemoryCache();\n\n\tconstructor(options)\n\t{\n\t\tthis.status = options.status;\n\t\tthis.connectionsProviders = options.connectionsProviders;\n\t\tthis.userId = options.userId;\n\n\t\tthis.statusBlockEnterTimeout = null;\n\t\tthis.statusBlockLeaveTimeout = null;\n\n\t}\n\n\topenSlider()\n\t{\n\t\tBX.SidePanel.Instance.open(this.MAIN_SYNC_SLIDER_NAME, {\n\t\t\tcontentCallback: (slider) => {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tresolve(this.getContent());\n\t\t\t\t});\n\t\t\t},\n\t\t\tallowChangeHistory:false,\n\t\t\tevents: {\n\t\t\t\tonLoad: () => {\n\t\t\t\t\tthis.setGridContent();\n\t\t\t\t},\n\t\t\t\t// onMessage: (event) => {\n\t\t\t\t// \tif (event.getEventId() === 'refreshSliderGrid')\n\t\t\t\t// \t{\n\t\t\t\t// \t\tthis.refreshData();\n\t\t\t\t// \t}\n\t\t\t\t// },\n\t\t\t\t// onClose: (event) => {\n\t\t\t\t// \tBX.SidePanel.Instance.postMessageTop(window.top.BX.SidePanel.Instance.getTopSlider(), \"refreshCalendarGrid\", {});\n\t\t\t\t// },\n\t\t\t},\n\t\t\tcacheable: false,\n\t\t\twidth: this.SLIDER_WIDTH,\n\t\t\tloader: this.LOADER_NAME,\n\t\t});\n\t}\n\n\tgetContent()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-wrap\">\n\t\t\t\t${this.getHeader()}\n\t\t\t\t${this.getMobileHeader()}\n\t\t\t\t${this.getMobileContentWrapper()}\n\t\t\t\t${this.getWebHeader()}\n\t\t\t\t${this.getWebContentWrapper()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetHeader()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-sync-header\">\n\t\t\t\t${this.getMainHeader()}\n\t\t\t\t${this.getStatusBlockContent(this.getConnections())}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetMainHeader()\n\t{\n\t\treturn this.cache.remember('calendar-syncPanel-mainHeader', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<span class=\"calendar-sync-header-text\">${Loc.getMessage('SYNC_CALENDAR_HEADER')}</span>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetMobileContentWrapper()\n\t{\n\t\treturn this.cache.remember('calendar-syncPanel-mobileContentWrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t<div id=\"calendar-sync-mobile\" class=\"calendar-sync-mobile\"></div>\n\t\t`;\n\t\t});\n\n\t}\n\n\tgetWebContentWrapper()\n\t{\n\t\treturn this.cache.remember('calendar-syncPanel-webContentWrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div id=\"calendar-sync-web\" class=\"calendar-sync-web\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetMobileHeader()\n\t{\n\t\treturn this.cache.remember('calendar-syncPanel-mobileHeader', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"calendar-sync-title\">${Loc.getMessage('SYNC_MOBILE_HEADER')}</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetWebHeader()\n\t{\n\t\treturn this.cache.remember('calendar-syncPanel-webHeader', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"calendar-sync-title\">${Loc.getMessage('SYNC_WEB_HEADER')}</div>\n\t\t`;\n\t\t});\n\t}\n\n\tgetStatusBlockContent(connections)\n\t{\n\t\tthis.statusBlock = StatusBlock.createInstance({\n\t\t\tstatus: this.status,\n\t\t\tconnections: connections,\n\t\t\twithStatusLabel: true,\n\t\t\tpopupWithUpdateButton: true,\n\t\t\tpopupId: 'calendar-syncPanel-status',\n\t\t});\n\n\t\tthis.statusBlockContent =  this.statusBlock.getContent()\n\t\treturn this.statusBlockContent;\n\t}\n\n\tgetConnections()\n\t{\n\t\tconst connections = [];\n\t\tconst items = Object.values(this.connectionsProviders);\n\t\titems.forEach(item =>\n\t\t{\n\t\t\tconst itemConnections = item.getConnections();\n\t\t\tif (itemConnections.length > 0)\n\t\t\t{\n\t\t\t\titemConnections.forEach(connection => {\n\n\t\t\t\t\tif (ConnectionItem.isConnectionItem(connection) && connection.getConnectStatus() === true)\n\t\t\t\t\t{\n\t\t\t\t\t\tconnections.push(connection);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\n\t\treturn connections;\n\t}\n\n\tsetGridContent()\n\t{\n\t\tconst items = Object.values(this.connectionsProviders);\n\t\tconst mobileItems = items.filter(item => {\n\t\t\treturn item.getViewClassification() === 'mobile';\n\t\t});\n\t\tconst webItems = items.filter(item => {\n\t\t\treturn item.getViewClassification() === 'web';\n\t\t});\n\n\t\tthis.showWebGridContent(webItems);\n\t\tthis.showMobileGridContent(mobileItems);\n\t}\n\n\tshowWebGridContent(items)\n\t{\n\t\tconst wrapper = this.getWebContentWrapper();\n\t\tDom.clean(wrapper);\n\t\tconst grid = new BX.TileGrid.Grid({\n\t\t\tid: 'calendar_sync',\n\t\t\titems: items,\n\t\t\tcontainer: wrapper,\n\t\t\tsizeRatio: \"55%\",\n\t\t\titemMinWidth: 180,\n\t\t\ttileMargin: 7,\n\t\t\titemType: 'BX.Calendar.Sync.Interface.GridUnit',\n\t\t\tuserId: this.userId,\n\t\t});\n\n\t\tgrid.draw();\n\t}\n\n\tshowMobileGridContent(items)\n\t{\n\t\tconst wrapper = this.getMobileContentWrapper();\n\t\tDom.clean(wrapper);\n\t\tconst grid = new BX.TileGrid.Grid({\n\t\t\tid: 'calendar_sync',\n\t\t\titems:  items,\n\t\t\tcontainer: wrapper,\n\t\t\tsizeRatio:  \"55%\",\n\t\t\titemMinWidth:  180,\n\t\t\ttileMargin:  7,\n\t\t\titemType: 'BX.Calendar.Sync.Interface.GridUnit',\n\t\t});\n\n\t\tgrid.draw();\n\t}\n\n\trefresh(status, connectionsProviders)\n\t{\n\t\tthis.status = status;\n\t\tthis.connectionsProviders = connectionsProviders;\n\t\tthis.blockStatusContent = this.statusBlock.refresh(status, this.getConnections()).getContent();\n\t\tDom.replace(document.querySelector('#calendar-sync-status-block'), this.blockStatusContent);\n\t\tthis.setGridContent();\n\t}\n}","// @flow\n'use strict';\n\nimport 'ui.tilegrid';\nimport 'ui.forms';\nimport {Tag} from \"main.core\";\n\nexport default class GridUnit extends BX.TileGrid.Item\n{\n\tconstructor(item)\n\t{\n\t\tsuper({\n\t\t\tid: item.type,\n\t\t});\n\t\tthis.item = item;\n\t}\n\n\tgetContent()\n\t{\n\t\tthis.gridUnit = Tag.render`<div class=\"calendar-sync-item ${this.getAdditionalContentClass()}\" style=\"${this.getContentStyles()}\">\n\t\t\t<div class=\"calendar-item-content\">\n\t\t\t\t${this.getImage()}\n\t\t\t\t${this.getTitle()}\n\t\t\t\t${(this.isActive() ? this.getStatus() : '')}\n\t\t\t</div>\n\t\t</div>`;\n\n\t\tthis.gridUnit.addEventListener('click', this.onClick.bind(this));\n\n\t\treturn this.gridUnit;\n\t}\n\n\tgetTitle()\n\t{\n\t\tif (!this.layout.title)\n\t\t{\n\t\t\tthis.layout.title = Tag.render `\n\t\t\t\t<div class=\"calendar-sync-item-title\">${BX.util.htmlspecialchars(this.item.getGridTitle())}</div>`;\n\t\t}\n\n\t\treturn this.layout.title;\n\t}\n\n\tgetImage()\n\t{\n\t\treturn Tag.render `\n\t\t\t<div class=\"calendar-sync-item-image\">\n\t\t\t\t<div class=\"calendar-sync-item-image-item\" style=\"background-image: ${'url(' + this.item.getGridIcon() + ')'}\"></div>\n\t\t\t</div>`;\n\t}\n\n\tgetStatus()\n\t{\n\t\tif (this.isActive())\n\t\t{\n\t\t\treturn Tag.render `\n\t\t\t\t<div class=\"calendar-sync-item-status\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\tisActive()\n\t{\n\t\treturn this.item.getConnectStatus();\n\t}\n\n\tgetAdditionalContentClass()\n\t{\n\t\tif (this.isActive())\n\t\t{\n\t\t\tif (this.item.getSyncStatus())\n\t\t\t{\n\t\t\t\treturn 'calendar-sync-item-selected';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 'calendar-sync-item-failed';\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t}\n\n\tgetContentStyles()\n\t{\n\t\tif (this.isActive())\n\t\t{\n\t\t\treturn 'background-color:' + this.item.getGridColor() + ';';\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t}\n\n\tonClick()\n\t{\n\t\tBX.ajax.runAction('calendar.api.calendarajax.analytical', {\n\t\t\tanalyticsLabel: {\n\t\t\t\topen_connection_slider: 'Y',\n\t\t\t\tsync_connection_type: this.item.getType(),\n\t\t\t\tsync_connection_status: this.item.getSyncStatus() ? 'Y' : 'N',\n\t\t\t}\n\t\t});\n\n\t\tif (this.item.hasMenu())\n\t\t{\n\t\t\tthis.item.showMenu(this.gridUnit);\n\t\t}\n\t\telse if (this.item.getConnectStatus())\n\t\t{\n\t\t\tthis.item.openActiveConnectionSlider(this.item.getConnection());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.item.openInfoConnectionSlider();\n\t\t}\n\t}\n}","// @flow\n'use strict';\n\n\nimport {Popup} from 'main.popup';\nimport {Loc, Tag} from \"main.core\";\nimport \"../css/icalpopup.css\"\n\nexport default class IcalSyncPopup\n{\n\tLINK_LENGTH = 112;\n\n\tconstructor(options)\n\t{\n\t\tthis.link = this.getIcalLink(options);\n\t}\n\n\tstatic createInstance(options)\n\t{\n\t\treturn new this(options);\n\t}\n\n\tshow()\n\t{\n\t\tthis.createPopup().show();\n\t\tthis.startSync();\n\t}\n\n\tstartSync()\n\t{\n\t\tBX.ajax.get(this.link + '&check=Y', \"\", (result) =>\n\t\t{\n\t\t\tsetTimeout(() =>\n\t\t\t{\n\t\t\t\tif (!result || result.length <= 0 || result.toUpperCase().indexOf('BEGIN:VCALENDAR') === -1)\n\t\t\t\t{\n\t\t\t\t\tthis.showPopupWithSyncDataError();\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t}\n\n\tgetContent()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"calendar-ical-popup-wrapper\">\n\t\t\t\t<h3>${Loc.getMessage('EC_JS_EXPORT_TILE')}</h3>\n\t\t\t\t<div class=\"calendar-ical-popup-label-text\"><span>${Loc.getMessage('EC_EXP_TEXT')}</span></div>\n\t\t\t\t${this.getLinkBlock()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tcreatePopup()\n\t{\n\t\treturn this.popup = new Popup({\n\t\t\twidth: 400,\n\t\t\tzIndexOptions: 4000,\n\t\t\tautoHide: false,\n\t\t\tcloseByEsc: true,\n\t\t\tdraggable: true,\n\t\t\t// titleBar: Loc.getMessage('EC_JS_EXPORT_TILE'),\n\t\t\tcloseIcon: {right: \"12px\", top: \"10px\"},\n\t\t\tclassName: \"bxc-popup-window\",\n\t\t\tcontent: this.getContent(),\n\t\t\tbuttons: [\n\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\ttext : Loc.getMessage('EC_JS_ICAL_COPY_ICAL_SYNC_LINK'),\n\t\t\t\t\tcolor: BX.UI.Button.Color.PRIMARY,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tthis.copyLink(event);\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\ttext : Loc.getMessage('EC_SEC_SLIDER_CLOSE'),\n\t\t\t\t\tcolor: BX.UI.Button.Color.LINK,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tthis.popup.close();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t}\n\n\tgetIcalLink(options)\n\t{\n\t\treturn options.calendarPath\n\t\t\t+ ((options.calendarPath.indexOf('?') >= 0) ? '&' : '?')\n\t\t\t+ 'action=export'\n\t\t\t+ options.sectionLink;\n\t}\n\n\tgetLinkBlock()\n\t{\n\t\treturn Tag.render`\n\t\t\t\t<div class=\"calendar-ical-popup-link-block\">\n\t\t\t\t\t<a class=\"ui-link ui-link-primary \" target=\"_blank\" href=\"${BX.util.htmlspecialchars(this.link)}\">\n\t\t\t\t\t\t${BX.util.htmlspecialchars(this.getShortenLink(this.link))}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`;\n\t}\n\n\tstatic checkPathes(options)\n\t{\n\t\treturn (!!options.sectionLink || !!options.calendarPath)\n\t}\n\n\tstatic showPopupWithPathesError()\n\t{\n\t\tBX.UI.Dialogs.MessageBox.alert(Loc.getMessage('EC_JS_ICAL_ERROR_WITH_PATHES'));\n\t}\n\n\tshowPopupWithSyncDataError()\n\t{\n\t\tBX.UI.Dialogs.MessageBox.alert(Loc.getMessage('EC_EDEV_EXP_WARN'));\n\t}\n\n\tcopyLink(event)\n\t{\n\t\twindow.BX.clipboard.copy(this.link);\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t}\n\n\tgetShortenLink(link)\n\t{\n\t\treturn link.length < this.LINK_LENGTH ? link : link.substr(0, 105) + '...' + link.slice(-7);\n\t}\n}\n"],"names":["SyncPanelItem","options","className","itemClass","Reflection","getClass","Type","isFunction","item","getInnerContent","BX","TileGrid","Item","ConnectionControls","addButtonText","Loc","getMessage","removeButtonText","saveButtonText","userName","util","htmlspecialchars","server","connectionName","Tag","render","MobileSyncBanner","type","helpDeskCode","popup","Popup","draggable","content","getContainer","width","zIndexAbsolute","zIndex","cacheable","closeByEsc","closeIcon","show","initQrCode","then","drawQRCode","bind","close","DOM","container","getSliderContentInfoBlock","getTitle","QRCODE_WRAP_CLASS","Util","getLoader","QRCODE_SIZE","getHelpdeskCode","initHintNode","querySelector","Promise","resolve","Runtime","loadExtension","exports","QRCode","wrap","isDomNode","getInnerContainer","getMobileSyncUrl","link","Dom","clean","QRC","text","getSize","height","colorDark","QRCODE_COLOR_DARK","colorLight","QRCODE_COLOR_LIGHT","correctLevel","CorrectLevel","H","reject","ajax","runAction","data","response","StatusBlock","status","connections","withStatusLabel","popupWithUpdateButton","popupId","statusInfoBlock","addEventListener","handlerMouseEnter","handlerMouseLeave","statusBlock","getStatusTextLabel","clearTimeout","statusBlockEnterTimeout","buttonEnterTimeout","setTimeout","showPopup","statusBlockLeaveTimeout","hidePopup","node","getPopup","addPopupHandlers","hide","getPopupContainer","SyncStatusPopup","createInstance","withUpdateButton","id","InterfaceTemplate","setEventNamespace","title","helpdeskCode","titleInfoHeader","descriptionInfoHeader","titleActiveHeader","descriptionActiveHeader","sliderIconClass","iconPath","color","provider","connection","getContentInfoHeader","getContentInfoBody","getContentActiveHeader","getContentActiveBody","getHeaderTitle","getContent","getContentInfoBodyHeader","getStatus","getContentActiveBodyHeader","Helper","event","preventDefault","showHelp","connectionId","reload","sectionStatus","sectionStatusObject","emit","setStatus","setConnections","replace","document","getElementById","EventEmitter","CaldavInterfaceTemplate","formObject","formBlock","getWrapper","form","getForm","button","getAddButton","buttonWrapper","getButtonWrapper","bodyHeader","analyticsLabel","click_to_connection_button","connection_type","getType","addClass","sendRequestAddConnection","append","addParams","getDisconnectButton","sendRequestRemoveConnection","getId","FormData","fd","name","get","pass","showAlertPopup","errors","alert","message","code","messageBox","UI","Dialogs","MessageBox","buttons","MessageBoxButtons","OK","okCaption","minWidth","mediumButtonSize","popupOptions","onOk","removeClass","CaldavTemplate","ExchangeTemplate","GoogleTemplate","getSyncLink","hasSetSyncCaldavSettings","createConnection","getContentActiveBodySectionsManager","disconnectButton","getConnectionName","getContentActiveBodySections","sectionList","getConnection","getSections","forEach","section","push","onClickCheckSection","target","value","checked","runUpdateInfo","offsetLeft","offsetTop","padding","autoHide","MacTemplate","portalAddress","getContentBodyConnect","getPortalAddress","OutlookTemplate","YandexTemplate","MobileInterfaceTemplate","banner","syncDate","isDate","parseDate","formatDateUsable","getSyncTimestamp","date","format","getTimeFormatShort","AndroidTemplate","IphoneTemplate","SyncPanel","Cache","MemoryCache","connectionsProviders","userId","SidePanel","Instance","open","MAIN_SYNC_SLIDER_NAME","contentCallback","slider","allowChangeHistory","events","onLoad","setGridContent","SLIDER_WIDTH","loader","LOADER_NAME","getHeader","getMobileHeader","getMobileContentWrapper","getWebHeader","getWebContentWrapper","getMainHeader","getStatusBlockContent","getConnections","cache","remember","statusBlockContent","items","Object","values","itemConnections","length","ConnectionItem","isConnectionItem","getConnectStatus","mobileItems","filter","getViewClassification","webItems","showWebGridContent","showMobileGridContent","wrapper","grid","Grid","sizeRatio","itemMinWidth","tileMargin","itemType","draw","blockStatusContent","refresh","GridUnit","gridUnit","getAdditionalContentClass","getContentStyles","getImage","isActive","onClick","layout","getGridTitle","getGridIcon","getSyncStatus","getGridColor","open_connection_slider","sync_connection_type","sync_connection_status","hasMenu","showMenu","openActiveConnectionSlider","openInfoConnectionSlider","IcalSyncPopup","getIcalLink","createPopup","startSync","result","toUpperCase","indexOf","showPopupWithSyncDataError","getLinkBlock","zIndexOptions","right","top","Button","Color","PRIMARY","onclick","copyLink","LINK","calendarPath","sectionLink","getShortenLink","window","clipboard","copy","stopPropagation","LINK_LENGTH","substr","slice"],"mappings":"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"}