{"version":3,"file":"eventviewform.bundle.js","sources":["../src/eventviewform.js"],"sourcesContent":["\"use strict\";\n\nimport {Util} from \"calendar.util\";\nimport {Type, Event, Loc, Tag, Dom} from 'main.core';\nimport {Entry, EntryManager} from \"calendar.entry\";\nimport {MeetingStatusControl, Reminder} from \"calendar.controls\";\nimport {BaseEvent} from 'main.core.events';\n\nexport class EventViewForm {\n\tpermissions = {};\n\tname = 'eventviewform';\n\tuid = null;\n\tDOM = {};\n\n\tconstructor(options = {})\n\t{\n\t\tthis.type = options.type || 'user';\n\t\tthis.ownerId = options.ownerId || 0;\n\t\tthis.userId = options.userId || 0;\n\t\tthis.sliderId = \"calendar:view-entry-slider\";\n\t\tthis.zIndex = 3100;\n\t\tthis.entryId = options.entryId || null;\n\t\tthis.entryDateFrom = options.entryDateFrom || null;\n\t\tthis.timezoneOffset = options.timezoneOffset || null;\n\t\tthis.BX = Util.getBX();\n\n\t\tthis.sliderOnClose = this.hide.bind(this);\n\t\tthis.sliderOnLoad = this.onLoadSlider.bind(this);\n\t}\n\n\tinitInSlider(slider, promiseResolve)\n\t{\n\t\tthis.BX.addCustomEvent(slider, \"SidePanel.Slider:onLoad\", this.sliderOnLoad);\n\t\tthis.BX.addCustomEvent(slider, \"SidePanel.Slider:onClose\", this.sliderOnClose);\n\t\tthis.BX.addCustomEvent(slider, \"SidePanel.Slider:onCloseComplete\", this.BX.proxy(this.destroy, this));\n\n\t\t//this.BX.removeCustomEvent(slider, \"SidePanel.Slider:onBeforeCloseComplete\", this.destroy.bind(this));\n\n\t\tthis.createContent(slider).then(function(html)\n\t\t\t{\n\t\t\t\tif (Type.isFunction(promiseResolve))\n\t\t\t\t{\n\t\t\t\t\tpromiseResolve(html);\n\t\t\t\t}\n\t\t\t}.bind(this)\n\t\t);\n\n\t\tthis.opened = true;\n\t}\n\n\tshow(params = {})\n\t{\n\t\tif (params.entryId)\n\t\t{\n\t\t\tthis.entryId = params.entryId;\n\t\t}\n\n\t\tthis.BX.SidePanel.Instance.open(this.sliderId, {\n\t\t\tcontentCallback: this.createContent.bind(this),\n\t\t\tlabel: {\n\t\t\t\ttext: Loc.getMessage('CALENDAR_EVENT'),\n\t\t\t\tbgColor: \"#55D0E0\"\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonClose: this.sliderOnClose,\n\t\t\t\tonCloseComplete: this.destroy.bind(this),\n\t\t\t\tonLoad: this.sliderOnLoad\n\t\t\t}\n\t\t});\n\t\tthis.opened = true;\n\t}\n\n\tisOpened()\n\t{\n\t\treturn this.opened;\n\t}\n\n\thide(event)\n\t{\n\t\tif (event && event.getSliderPage && event.getSliderPage().getUrl() === this.sliderId)\n\t\t{\n\t\t\tthis.BX.removeCustomEvent(\"SidePanel.Slider::onClose\", this.sliderOnClose);\n\t\t}\n\t}\n\n\tdestroy(event)\n\t{\n\t\tthis.BX.removeCustomEvent(\"SidePanel.Slider:onCloseComplete\", this.BX.proxy(this.destroy, this));\n\t\tEvent.unbind(document, \"click\", Util.applyHacksForPopupzIndex);\n\t\tthis.BX.SidePanel.Instance.destroy(this.sliderId);\n\t\tUtil.closeAllPopups();\n\t\tthis.opened = false;\n\t}\n\n\tonLoadSlider(event)\n\t{\n\t\tlet slider = event.getSlider();\n\t\tthis.DOM.content = slider.layout.content;\n\n\t\t// Used to execute javasctipt and attach CSS from ajax responce\n\t\tthis.BX.html(slider.layout.content, slider.getData().get(\"sliderContent\"));\n\t\tthis.initControls(this.uid);\n\t}\n\n\tcreateContent(slider)\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.BX.ajax.runAction('calendar.api.calendarajax.getViewEventSlider', {\n\t\t\t\tdata: {\n\t\t\t\t\tentryId: this.entryId,\n\t\t\t\t\tdateFrom: Util.formatDate(this.entryDateFrom),\n\t\t\t\t\ttimezoneOffset: this.timezoneOffset\n\t\t\t\t}\n\t\t\t}).then((response) => {\n\t\t\t\t\tlet html = '';\n\t\t\t\t\tif ((Type.isFunction(slider.isOpen) && slider.isOpen()) || slider.isOpen === true)\n\t\t\t\t\t{\n\t\t\t\t\t\thtml = this.BX.util.trim(response.data.html);\n\t\t\t\t\t\tslider.getData().set(\"sliderContent\", html);\n\t\t\t\t\t\tlet params = response.data.additionalParams;\n\n\t\t\t\t\t\tthis.userId = params.userId;\n\t\t\t\t\t\tthis.uid = params.uniqueId;\n\t\t\t\t\t\tthis.entryUrl = params.entryUrl;\n\t\t\t\t\t\tthis.handleEntryData(params.entry, params.userIndex, params.section);\n\t\t\t\t\t}\n\t\t\t\t\tresolve(html);\n\t\t\t\t},\n\t\t\t\t(response) => {\n\t\t\t\t\tthis.displayError(response.errors);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tinitControls(uid)\n\t{\n\t\tthis.DOM.title = this.DOM.content.querySelector(`#${uid}_title`);\n\t\tthis.DOM.formWrap = this.DOM.content.querySelector(`#${uid}_form_wrap`);\n\t\tthis.DOM.form = this.DOM.content.querySelector(`#${uid}_form`);\n\t\tthis.DOM.buttonSet = this.DOM.content.querySelector(`#${uid}_buttonset`);\n\t\tthis.DOM.editButton = this.DOM.content.querySelector(`#${uid}_but_edit`);\n\t\tthis.DOM.delButton = this.DOM.content.querySelector(`#${uid}_but_del`);\n\t\tthis.DOM.sidebarInner = this.DOM.content.querySelector(`#${uid}_sidebar_inner`);\n\t\tthis.DOM.chatLink = this.DOM.content.querySelector(`#${uid}_but_chat`);\n\n\t\tif (this.DOM.chatLink)\n\t\t{\n\t\t\tEvent.bind(this.DOM.chatLink, 'click', () => {\n\t\t\t\tEntryManager.openChatForEntry({\n\t\t\t\t\tentryId: this.entry.parentId,\n\t\t\t\t\tentry: this.entry\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tif (this.DOM.buttonSet)\n\t\t{\n\t\t\tthis.initPlannerControl(uid);\n\t\t\tthis.initUserListControl(uid);\n\t\t}\n\n\t\tif (this.DOM.content.querySelector(`#${uid}_time_inner_wrap`).offsetHeight > 50)\n\t\t{\n\t\t\tthis.BX.addClass(this.DOM.content.querySelector(`#${uid}_time_wrap`), 'calendar-slider-sidebar-head-long-time');\n\t\t}\n\n\t\tif (this.canDo(this.entry, 'edit') && this.DOM.editButton)\n\t\t{\n\t\t\tEvent.bind(this.DOM.editButton, 'click', () => {\n\t\t\t\tthis.BX.SidePanel.Instance.close(false, function ()\n\t\t\t\t{\n\t\t\t\t\tEntryManager.openEditSlider({\n\t\t\t\t\t\tentry: this.entry,\n\t\t\t\t\t\ttype: this.type,\n\t\t\t\t\t\townerId: this.ownerId,\n\t\t\t\t\t\tuserId: this.userId\n\t\t\t\t\t});\n\t\t\t\t}.bind(this));\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.BX.remove(this.DOM.editButton);\n\t\t}\n\n\t\tif (this.DOM.sidebarInner)\n\t\t{\n\t\t\t// Reminder\n\t\t\tthis.DOM.reminderWrap = this.DOM.sidebarInner.querySelector('.calendar-slider-sidebar-remind-wrap');\n\t\t\tif (Type.isDomNode(this.DOM.reminderWrap))\n\t\t\t{\n\t\t\t\tlet viewMode = !this.canDo(this.entry, 'edit')\n\t\t\t\t\t&& this.entry.getCurrentStatus() === false;\n\n\t\t\t\tthis.reminderControl = new Reminder({\n\t\t\t\t\twrap: this.DOM.reminderWrap,\n\t\t\t\t\tzIndex: this.zIndex,\n\t\t\t\t\tviewMode: viewMode\n\t\t\t\t});\n\t\t\t\tthis.reminderControl.setValue(this.entry.getReminders());\n\n\t\t\t\tif (!viewMode)\n\t\t\t\t{\n\t\t\t\t\tthis.reminderControl.subscribe('onChange', function (event) {\n\t\t\t\t\t\tif (event instanceof BaseEvent)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.reminderValues = event.getData().values;\n\t\t\t\t\t\t\tthis.BX.ajax.runAction('calendar.api.calendarajax.updateReminders', {\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tentryId: this.entry.id,\n\t\t\t\t\t\t\t\t\tuserId: this.userId,\n\t\t\t\t\t\t\t\t\treminders: this.reminderValues\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet items = this.DOM.sidebarInner.querySelectorAll('.calendar-slider-sidebar-border-bottom');\n\t\t\tif (items.length >= 2)\n\t\t\t{\n\t\t\t\tthis.BX.removeClass(items[items.length - 1], 'calendar-slider-sidebar-border-bottom');\n\t\t\t}\n\t\t}\n\t\t//this.DOM.reminderInputsWrap = this.DOM.reminderWrap.appendChild(Tag.render`<span></span>`);\n\t\tif (this.canDo(this.entry, 'delete'))\n\t\t{\n\t\t\tEvent.bind(this.DOM.delButton, 'click', ()=>{\n\t\t\t\tEntryManager.deleteEntry(this.entry);\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.BX.remove(this.DOM.delButton);\n\t\t}\n\n\t\tthis.BX.viewElementBind(\n\t\t\tuid + '_' + this.entry.id + '_files_wrap',\n\t\t\t{\n\t\t\t\tshowTitle: true\n\t\t\t},\n\t\t\tfunction(node)\n\t\t\t{\n\t\t\t\treturn Type.isElementNode(node) && (node.getAttribute('data-bx-viewer') || node.getAttribute('data-bx-image'));\n\t\t\t}\n\t\t);\n\n\t\tif (this.entry && this.entry.isMeeting())\n\t\t{\n\t\t\tthis.initAcceptMeetingControl(uid);\n\n\t\t\tconst attendees = this.entry.getAttendees();\n\t\t\tif (Type.isArray(attendees))\n\t\t\t{\n\t\t\t\tif (window.location.host === 'cp.bitrix.ru'\n\t\t\t\t\t&& this.DOM.chatLink\n\t\t\t\t\t&& attendees.length > 1\n\t\t\t\t\t&& attendees.find((user)=>{return user.STATUS !== 'N' && parseInt(user.ID) === parseInt(this.userId);})\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tthis.DOM.chatLink.style.display = '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.DOM.sidebarInner)\n\t\t{\n\t\t\tlet items = this.DOM.sidebarInner.querySelectorAll('.calendar-slider-sidebar-border-bottom');\n\t\t\tif (items.length >= 2)\n\t\t\t{\n\t\t\t\tthis.BX.removeClass(items[items.length - 1], 'calendar-slider-sidebar-border-bottom');\n\t\t\t}\n\t\t}\n\n\t\tthis.DOM.copyButton = this.DOM.content.querySelector(`#${uid}_copy_url_btn`);\n\t\tif (this.DOM.copyButton)\n\t\t{\n\t\t\tEvent.bind(this.DOM.copyButton, 'click', this.copyEventUrl.bind(this));\n\t\t}\n\n\t\tEvent.unbind(document, \"click\", Util.applyHacksForPopupzIndex);\n\t\tEvent.bind(document, \"click\", Util.applyHacksForPopupzIndex);\n\t}\n\n\thandleEntryData(entryData, userIndex, sectionData)\n\t{\n\t\tthis.entry = new Entry({data: entryData, userIndex: userIndex});\n\n\t\tif (Type.isPlainObject(sectionData))\n\t\t{\n\t\t\tthis.permissions = sectionData.PERM;\n\t\t}\n\t}\n\n\tinitPlannerControl(uid)\n\t{\n\t\tthis.plannerId = uid + '_view_slider_planner';\n\t\tthis.DOM.plannerWrap = this.DOM.content.querySelector(`#${uid}_view_planner_wrap`);\n\n\t\tsetTimeout(function()\n\t\t{\n\t\t\tif (this.DOM.plannerWrap)\n\t\t\t{\n\t\t\t\tthis.BX.removeClass(this.DOM.plannerWrap, 'hidden');\n\t\t\t}\n\t\t}.bind(this), 500);\n\n\t\tsetTimeout(()=>{\n\t\t\tif (this.DOM.plannerWrap && this.DOM.plannerWrap.offsetWidth)\n\t\t\t{\n\t\t\t\tthis.BX.onCustomEvent('OnCalendarPlannerDoResize', [\n\t\t\t\t\t{\n\t\t\t\t\t\tplannerId: this.plannerId,\n\t\t\t\t\t\ttimeoutCheck: true,\n\t\t\t\t\t\twidth: this.DOM.plannerWrap.offsetWidth\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t}\n\t\t}, 200);\n\n\t\tEvent.bind(window, 'resize', ()=>{\n\t\t\tif (this.DOM.plannerWrap && this.DOM.plannerWrap.offsetWidth)\n\t\t\t{\n\t\t\t\tthis.BX.onCustomEvent('OnCalendarPlannerDoResize', [\n\t\t\t\t\t{\n\t\t\t\t\t\tplannerId: this.plannerId,\n\t\t\t\t\t\ttimeoutCheck: true,\n\t\t\t\t\t\twidth: this.DOM.plannerWrap.offsetWidth\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t}\n\t\t});\n\t}\n\n\tinitUserListControl(uid)\n\t{\n\t\tlet userList = {y : [], i: [], q: [], n: []};\n\n\t\tif (this.entry.isMeeting())\n\t\t{\n\t\t\tthis.entry.getAttendees().forEach(function(user)\n\t\t\t{\n\t\t\t\tif (user.STATUS === 'H')\n\t\t\t\t{\n\t\t\t\t\tuserList.y.push(user);\n\t\t\t\t}\n\t\t\t\telse if (userList[user.STATUS.toLowerCase()])\n\t\t\t\t{\n\t\t\t\t\tuserList[user.STATUS.toLowerCase()].push(user);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t}\n\n\t\tthis.DOM.attendeesListY = this.DOM.content.querySelector(`#${uid}_attendees_y`);\n\t\tthis.DOM.attendeesListN = this.DOM.content.querySelector(`#${uid}_attendees_n`);\n\t\tthis.DOM.attendeesListQ = this.DOM.content.querySelector(`#${uid}_attendees_q`);\n\t\tthis.DOM.attendeesListI = this.DOM.content.querySelector(`#${uid}_attendees_i`);\n\n\t\tEvent.bind(this.DOM.attendeesListY, 'click', ()=>{this.showUserListPopup(this.DOM.attendeesListY, userList.y);});\n\t\tEvent.bind(this.DOM.attendeesListN, 'click', ()=>{this.showUserListPopup(this.DOM.attendeesListN, userList.n);});\n\t\tEvent.bind(this.DOM.attendeesListQ, 'click', ()=>{this.showUserListPopup(this.DOM.attendeesListQ, userList.q);});\n\t\tEvent.bind(this.DOM.attendeesListI, 'click', ()=>{this.showUserListPopup(this.DOM.attendeesListI, userList.i);});\n\t}\n\n\tshowUserListPopup(node, userList)\n\t{\n\t\tif (this.userListPopup)\n\t\t{\n\t\t\tthis.userListPopup.close();\n\t\t}\n\n\t\tif (userList && userList.length)\n\t\t{\n\t\t\tthis.DOM.userListPopupWrap = this.BX.create('DIV', {props: {className: 'calendar-user-list-popup-block'}});\n\t\t\tuserList.forEach(function (user)\n\t\t\t{\n\t\t\t\tlet userWrap = this.DOM.userListPopupWrap.appendChild(this.BX.create('DIV', {props: {className: 'calendar-slider-sidebar-user-container calendar-slider-sidebar-user-card'}}));\n\n\t\t\t\tuserWrap.appendChild(this.BX.create('DIV', {props: {className: 'calendar-slider-sidebar-user-block-avatar'}}))\n\t\t\t\t\t.appendChild(this.BX.create('DIV', {props: {className: 'calendar-slider-sidebar-user-block-item'}}))\n\t\t\t\t\t.appendChild(this.BX.create('IMG', {props: {width: 34, height: 34, src: user.AVATAR}}));\n\n\t\t\t\tuserWrap.appendChild(this.BX.create(\"DIV\", {props: {className: 'calendar-slider-sidebar-user-info'}}))\n\t\t\t\t\t.appendChild(this.BX.create(\"A\", {\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\thref: user.URL ? user.URL : '#', className: 'calendar-slider-sidebar-user-info-name'\n\t\t\t\t\t\t}, text: user.DISPLAY_NAME\n\t\t\t\t\t}));\n\t\t\t}, this);\n\n\t\t\tthis.userListPopup = this.BX.PopupWindowManager.create(\"user-list-popup-\" + Math.random(), node, {\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\toffsetTop: 0,\n\t\t\t\toffsetLeft: 0,\n\t\t\t\tresizable: false,\n\t\t\t\tlightShadow: true,\n\t\t\t\tcontent: this.DOM.userListPopupWrap,\n\t\t\t\tclassName: 'calendar-user-list-popup',\n\t\t\t\tzIndex: 4000\n\t\t\t});\n\n\t\t\tthis.userListPopup.setAngle({offset: 36});\n\t\t\tthis.userListPopup.show();\n\t\t\tthis.BX.addCustomEvent(this.userListPopup, 'onPopupClose', ()=>{this.userListPopup.destroy();});\n\t\t}\n\t}\n\n\tinitAcceptMeetingControl(uid)\n\t{\n\t\tthis.DOM.statusButtonset = this.DOM.content.querySelector(`#${uid}_status_buttonset`);\n\t\tthis.DOM.statusButtonset.style.marginRight = '12px';\n\n\t\tif (this.entry.getCurrentStatus() === 'H' || this.entry.getCurrentStatus() === false)\n\t\t{\n\t\t\tDom.remove(this.DOM.statusButtonset);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.statusControl = new MeetingStatusControl(\n\t\t\t{\n\t\t\t\twrap: this.DOM.statusButtonset,\n\t\t\t\tcurrentStatus: this.DOM.content.querySelector(`#${uid}_current_status`).value || this.entry.getCurrentStatus()\n\t\t\t});\n\n\t\t\tthis.statusControl.subscribe('onSetStatus', function(event)\n\t\t\t\t{\n\t\t\t\t\tif (event instanceof BaseEvent)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst result = EntryManager.setMeetingStatus(this.entry, event.getData().status);\n\t\t\t\t\t\tif (!result)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.statusControl.setStatus(this.entry.getCurrentStatus(), false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t}\n\t}\n\n\tcopyEventUrl()\n\t{\n\t\tif(!this.entryUrl || !this.BX.clipboard.copy(this.entryUrl))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.timeoutIds = this.timeoutIds || [];\n\t\tlet popup = new this.BX.PopupWindow(\n\t\t\t'calendar_clipboard_copy',\n\t\t\tthis.DOM.copyButton,\n\t\t\t{\n\t\t\t\tcontent: Loc.getMessage('CALENDAR_TIP_TEMPLATE_LINK_COPIED'),\n\t\t\t\tdarkMode: true,\n\t\t\t\tautoHide: true,\n\t\t\t\tzIndex: 1000,\n\t\t\t\tangle: true,\n\t\t\t\toffsetLeft: 20,\n\t\t\t\tcachable: false\n\t\t\t}\n\t\t);\n\t\tpopup.show();\n\n\t\tlet timeoutId;\n\t\twhile(timeoutId = this.timeoutIds.pop())\n\t\t{\n\t\t\tclearTimeout(timeoutId);\n\t\t}\n\t\tthis.timeoutIds.push(setTimeout(function(){popup.close();}, 1500));\n\t}\n\n\tdisplayError(errors = [])\n\t{\n\t\t//errors\n\t}\n\n\tcanDo(entry, action)\n\t{\n\t\tif ((action === 'edit' || action === 'delete'))\n\t\t{\n\t\t\t// if ((entry.isMeeting() && entry.id !== entry.parentId)\n\t\t\t// \t|| entry.isResourcebooking())\n\t\t\t// {\n\t\t\t// \treturn false;\n\t\t\t// }\n\n\t\t\treturn this.permissions.edit;\n\t\t}\n\n\t\tif ((action === 'view'))\n\t\t{\n\t\t\treturn this.permissions.view_full;\n\t\t}\n\n\t\treturn false;\n\t}\n}"],"names":["EventViewForm","options","type","ownerId","userId","sliderId","zIndex","entryId","entryDateFrom","timezoneOffset","BX","Util","getBX","sliderOnClose","hide","bind","sliderOnLoad","onLoadSlider","slider","promiseResolve","addCustomEvent","proxy","destroy","createContent","then","html","Type","isFunction","opened","params","SidePanel","Instance","open","contentCallback","label","text","Loc","getMessage","bgColor","events","onClose","onCloseComplete","onLoad","event","getSliderPage","getUrl","removeCustomEvent","Event","unbind","document","applyHacksForPopupzIndex","closeAllPopups","getSlider","DOM","content","layout","getData","get","initControls","uid","Promise","resolve","ajax","runAction","data","dateFrom","formatDate","response","isOpen","util","trim","set","additionalParams","uniqueId","entryUrl","handleEntryData","entry","userIndex","section","displayError","errors","title","querySelector","formWrap","form","buttonSet","editButton","delButton","sidebarInner","chatLink","EntryManager","openChatForEntry","parentId","initPlannerControl","initUserListControl","offsetHeight","addClass","canDo","close","openEditSlider","remove","reminderWrap","isDomNode","viewMode","getCurrentStatus","reminderControl","Reminder","wrap","setValue","getReminders","subscribe","BaseEvent","reminderValues","values","id","reminders","items","querySelectorAll","length","removeClass","deleteEntry","viewElementBind","showTitle","node","isElementNode","getAttribute","isMeeting","initAcceptMeetingControl","attendees","getAttendees","isArray","window","location","host","find","user","STATUS","parseInt","ID","style","display","copyButton","copyEventUrl","entryData","sectionData","Entry","isPlainObject","permissions","PERM","plannerId","plannerWrap","setTimeout","offsetWidth","onCustomEvent","timeoutCheck","width","userList","y","i","q","n","forEach","push","toLowerCase","attendeesListY","attendeesListN","attendeesListQ","attendeesListI","showUserListPopup","userListPopup","userListPopupWrap","create","props","className","userWrap","appendChild","height","src","AVATAR","href","URL","DISPLAY_NAME","PopupWindowManager","Math","random","autoHide","closeByEsc","offsetTop","offsetLeft","resizable","lightShadow","setAngle","offset","show","statusButtonset","marginRight","Dom","statusControl","MeetingStatusControl","currentStatus","value","result","setMeetingStatus","status","setStatus","clipboard","copy","timeoutIds","popup","PopupWindow","darkMode","angle","cachable","timeoutId","pop","clearTimeout","action","edit","view_full"],"mappings":"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"}