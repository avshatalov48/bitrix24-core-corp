{"version":3,"sources":["roomsmanager.bundle.js"],"names":["this","BX","exports","main_core","calendar_util","calendar_sectionmanager","main_core_events","RoomsSection","CalendarSection","constructor","data","super","updateData","calendarContext","Util","getCalendarContext","type","CAL_TYPE","necessity","NECESSITY","capacity","parseInt","CAPACITY","ownerId","OWNER_ID","id","ID","location_id","LOCATION_ID","color","COLOR","name","NAME","categoryId","CATEGORY_ID","reserved","belongsToView","RoomsManager","SectionManager","config","locationAccess","locationContext","setRooms","rooms","setConfig","sortRooms","setSections","sections","sortSections","reloadRoomsFromDatabaseDebounce","Runtime","debounce","reloadRoomsFromDatabase","RELOAD_DELAY","EventEmitter","subscribeOnce","deleteRoomHandler","bind","roomsIndex","sort","a","b","toLowerCase","forEach","room","i","getId","params","roomData","push","length","getRooms","getRoom","createRoom","Promise","resolve","checkName","checkCapacity","ajax","runAction","access","then","response","roomList","sectionList","getBX","Event","emit","BaseEvent","roomsList","setLocationSelector","Calendar","displayError","errors","updateRoom","unsetHiddenRoom","deleteRoom","confirm","message","EventAlias","sectionId","reload","trim","isEmpty","Loc","getMessage","getRoomsInfo","allActive","superposed","active","hidden","isShown","calendarType","isSuperposed","getRoomName","show","handlePullRoomChanges","command","roomId","reloadDataDebounce","undefined","splice","sectionIndex","Controls","Location","setLocationList","getLocationAccess","setValues","static","param","Type","isArray"],"mappings":"AAAAA,KAAKC,GAAKD,KAAKC,IAAM,IACpB,SAAUC,EAAQC,EAAUC,EAAcC,EAAwBC,GAClE,aAEA,MAAMC,UAAqBF,EAAwBG,gBACjDC,YAAYC,GACVC,MAAMD,GACNV,KAAKY,WAAWF,GAChBV,KAAKa,gBAAkBT,EAAcU,KAAKC,qBAG5CH,WAAWF,GACTV,KAAKU,KAAOA,GAAQ,GACpBV,KAAKgB,KAAON,EAAKO,UAAY,GAC7BjB,KAAKkB,UAAYR,EAAKS,WAAa,IACnCnB,KAAKoB,SAAWC,SAASX,EAAKY,WAAa,EAC3CtB,KAAKuB,QAAUF,SAASX,EAAKc,WAAa,EAC1CxB,KAAKyB,GAAKJ,SAASX,EAAKgB,IACxB1B,KAAK2B,YAAcN,SAASX,EAAKkB,aACjC5B,KAAK6B,MAAQ7B,KAAKU,KAAKoB,MACvB9B,KAAK+B,KAAO/B,KAAKU,KAAKsB,KACtBhC,KAAKiC,WAAaZ,SAASrB,KAAKU,KAAKwB,aACrClC,KAAKmC,SAAWnC,KAAKU,KAAKyB,UAAY,MAGxCC,gBACE,OAAO,MAKX,MAAMC,UAAqBhC,EAAwBiC,eACjD7B,YAAYC,EAAM6B,GAChB5B,MAAMD,EAAM6B,GACZvC,KAAKwC,eAAiBD,EAAOC,gBAAkB,MAC/CxC,KAAKyC,gBAAkBF,EAAOE,iBAAmB,KACjDzC,KAAK0C,SAAShC,EAAKiC,OACnB3C,KAAK4C,UAAUL,GACfvC,KAAK6C,YACL7C,KAAK8C,YAAYpC,EAAKqC,UACtB/C,KAAKgD,eACLhD,KAAKiD,gCAAkC9C,EAAU+C,QAAQC,SAASnD,KAAKoD,wBAAyB/C,EAAwBiC,eAAee,aAAcrD,MACrJM,EAAiBgD,aAAaC,cAAc,2BAA4BvD,KAAKwD,kBAAkBC,KAAKzD,OAGtG6C,YACE7C,KAAK0D,WAAa,GAClB1D,KAAK2C,MAAQ3C,KAAK2C,MAAMgB,MAAK,CAACC,EAAGC,KAC/B,GAAID,EAAE7B,KAAK+B,cAAgBD,EAAE9B,KAAK+B,cAAe,CAC/C,OAAO,EAGT,GAAIF,EAAE7B,KAAK+B,cAAgBD,EAAE9B,KAAK+B,cAAe,CAC/C,OAAQ,EAGV,OAAO,KAET9D,KAAK2C,MAAMoB,SAAQ,CAACC,EAAMC,KACxBjE,KAAK0D,WAAWM,EAAKE,SAAWD,KAIpCvB,SAASyB,EAAS,IAChBnE,KAAK2C,MAAQ,GACb3C,KAAK0D,WAAa,GAClBS,EAAOJ,SAAQK,IACb,IAAIJ,EAAO,IAAIzD,EAAa6D,GAC5BpE,KAAK2C,MAAM0B,KAAKL,GAChBhE,KAAK0D,WAAWM,EAAKE,SAAWlE,KAAK2C,MAAM2B,OAAS,KAIxDC,WACE,OAAOvE,KAAK2C,MAGd6B,QAAQ/C,GACN,OAAOzB,KAAK2C,MAAM3C,KAAK0D,WAAWjC,IAGpCgD,WAAWN,GACT,OAAO,IAAIO,SAAQC,IACjBR,EAAOpC,KAAO/B,KAAK4E,UAAUT,EAAOpC,MACpCoC,EAAO/C,SAAWpB,KAAK6E,cAAcV,EAAO/C,UAC5C+C,EAAOjD,UAAYiD,EAAOjD,WAAaiD,EAAO/C,WAAa,EAAI,IAAM,IACrEnB,GAAG6E,KAAKC,UAAU,uCAAwC,CACxDrE,KAAM,CACJqB,KAAMoC,EAAOpC,KACbX,SAAU+C,EAAO/C,SACjBF,UAAWiD,EAAOjD,UAClBK,QAASvB,KAAKuB,QACdM,MAAOsC,EAAOtC,MACdmD,OAAQb,EAAOa,QAAU,KACzB/C,WAAYkC,EAAOlC,cAEpBgD,MAAKC,IACN,MAAMC,EAAWD,EAASxE,KAAKiC,OAAS,GACxC,MAAMyC,EAAcF,EAASxE,KAAKqC,UAAY,GAC9C/C,KAAK0C,SAASyC,GACdnF,KAAK6C,YACL7C,KAAK8C,YAAYsC,GACjBpF,KAAKgD,eACL5C,EAAcU,KAAKuE,QAAQC,MAAMhC,aAAaiC,KAAK,2BAA4B,IAAIpF,EAAUmF,MAAME,UAAU,CAC3G9E,KAAM,CACJ+E,UAAWN,MAGfnF,KAAK0F,oBAAoBP,GACzBR,EAAQO,EAASxE,SAChBwE,IACDjF,GAAG0F,SAAS7E,KAAK8E,aAAaV,EAASW,QACvClB,EAAQO,EAASxE,YAKvBoF,WAAW3B,GACT,OAAO,IAAIO,SAAQC,IACjBR,EAAOpC,KAAO/B,KAAK4E,UAAUT,EAAOpC,MACpCoC,EAAO/C,SAAWpB,KAAK6E,cAAcV,EAAO/C,UAC5C+C,EAAOjD,UAAYiD,EAAOjD,WAAaiD,EAAO/C,WAAa,EAAI,IAAM,IACrEnB,GAAG6E,KAAKC,UAAU,uCAAwC,CACxDrE,KAAM,CACJe,GAAI0C,EAAO1C,GACXE,YAAawC,EAAOxC,YACpBI,KAAMoC,EAAOpC,KACbX,SAAU+C,EAAO/C,SACjBF,UAAWiD,EAAOjD,UAClBW,MAAOsC,EAAOtC,MACdmD,OAAQb,EAAOa,QAAU,KACzB/C,WAAYkC,EAAOlC,cAEpBgD,MAAKC,IACN,MAAMC,EAAWD,EAASxE,KAAKiC,OAAS,GACxC,MAAMyC,EAAcF,EAASxE,KAAKqC,UAAY,GAC9C/C,KAAK0C,SAASyC,GACdnF,KAAK6C,YACL7C,KAAK8C,YAAYsC,GACjBpF,KAAKgD,eACLhD,KAAK+F,gBAAgB5B,EAAO1C,IAC5BrB,EAAcU,KAAKuE,QAAQC,MAAMhC,aAAaiC,KAAK,2BAA4B,IAAIpF,EAAUmF,MAAME,UAAU,CAC3G9E,KAAM,CACJ+E,UAAWN,MAGfnF,KAAK0F,oBAAoBP,GACzBR,EAAQO,EAASxE,SAChBwE,IACDjF,GAAG0F,SAAS7E,KAAK8E,aAAaV,EAASW,QACvClB,EAAQO,EAASxE,YAKvBsF,WAAWvE,EAAIE,GACb,GAAIsE,QAAQhG,GAAGiG,QAAQ,2BAA4B,CACjD,MAAMC,EAAa/F,EAAcU,KAAKuE,QAAQC,MAC9Ca,EAAW7C,aAAaiC,KAAK,6BAA8B,IAAIY,EAAWX,UAAU,CAClF9E,KAAM,CACJ0F,UAAW3E,MAGf,OAAO,IAAIiD,SAAQC,IACjB1E,GAAG6E,KAAKC,UAAU,uCAAwC,CACxDrE,KAAM,CACJe,GAAIA,EACJE,YAAaA,KAEdsD,MAAKC,IACN,MAAMC,EAAWD,EAASxE,KAAKiC,OAAS,GACxC,MAAMyC,EAAcF,EAASxE,KAAKqC,UAAY,GAE9C,IAAKoC,EAASb,OAAQ,CACpBrE,GAAGoG,SAGLrG,KAAK0C,SAASyC,GACdnF,KAAK6C,YACL7C,KAAK8C,YAAYsC,GACjBpF,KAAKgD,eACL5C,EAAcU,KAAKuE,QAAQC,MAAMhC,aAAaiC,KAAK,2BAA4B,IAAIpF,EAAUmF,MAAME,UAAU,CAC3G9E,KAAM,CACJe,GAAIA,MAGRzB,KAAK0F,oBAAoBP,GACzBR,EAAQO,EAASxE,SAChBwE,IACDjF,GAAG0F,SAAS7E,KAAK8E,aAAaV,EAASW,QACvClB,EAAQO,EAASxE,aAMzBkE,UAAU7C,GACR,UAAWA,IAAS,SAAU,CAC5BA,EAAOA,EAAKuE,OAEZ,GAAIjE,EAAakE,QAAQxE,GAAO,CAC9BA,EAAO5B,EAAUqG,IAAIC,WAAW,+BAE7B,CACL1E,EAAO5B,EAAUqG,IAAIC,WAAW,0BAGlC,OAAO1E,EAGT8C,cAAczD,GACZ,GAAIiB,EAAakE,QAAQnF,IAAaA,GAAY,GAAKA,GAAY,IAAO,CACxE,OAAO,EAGT,OAAOA,EAGTsF,eACE,MAAMC,EAAY,GAClB,MAAMC,EAAa,GACnB,MAAMC,EAAS,GACf,MAAMC,EAAS,GACf9G,KAAK2C,MAAMoB,SAAQC,IACjB,GAAIA,EAAK+C,WAAa/G,KAAKgH,eAAiB,YAAchD,EAAKhD,OAAS,WAAY,CAClF,GAAIgD,EAAKiD,eAAgB,CACvBL,EAAWvC,KAAKL,EAAKvC,QAChB,CACLoF,EAAOxC,KAAKL,EAAKvC,IAGnBkF,EAAUtC,KAAKL,EAAKvC,QACf,CACLqF,EAAOzC,KAAKL,EAAKvC,QAGrB,MAAO,CACLmF,WAAAA,EACAC,OAAAA,EACAC,OAAAA,EACAH,UAAAA,GAIJO,YAAYzF,GACV,GAAIY,EAAakE,QAAQ9E,GAAK,CAC5B,OAAO,KAGT,MAAMuC,EAAOhE,KAAKwE,QAAQ/C,GAC1B,OAAOuC,EAAKjC,KAGdgE,gBAAgBtE,GACd,GAAIA,EAAI,CACN,MAAMuC,EAAOhE,KAAKwE,QAAQ/C,GAE1B,GAAIuC,EAAKnD,kBAAoBmD,EAAK+C,UAAW,CAC3C/C,EAAKmD,SAKXC,sBAAsBjD,GACpB,GAAIA,EAAOkD,UAAY,cAAe,CACpC,MAAMC,EAASjG,SAAS8C,EAAOzC,GAAI,IAEnC,GAAI1B,KAAK0D,WAAW4D,GAAS,CAC3BtH,KAAKwD,kBAAkB8D,GACvBlH,EAAcU,KAAKuE,QAAQC,MAAMhC,aAAaiC,KAAK,gCAAiC,IAAIpF,EAAUmF,MAAME,UAAU,CAChH9E,KAAM,CACJ4G,OAAQA,UAGP,CACLtH,KAAKiD,wCAEF,GAAIkB,EAAOkD,UAAY,cAAe,CAC3CrH,KAAKoD,0BAA0B6B,KAAKjF,KAAKuH,sBACzCnH,EAAcU,KAAKuE,QAAQC,MAAMhC,aAAaiC,KAAK,iCACnDnF,EAAcU,KAAKuE,QAAQC,MAAMhC,aAAaiC,KAAK,8BAC9C,GAAIpB,EAAOkD,UAAY,cAAe,CAC3CrH,KAAKoD,0BAA0B6B,KAAKjF,KAAKuH,sBACzCnH,EAAcU,KAAKuE,QAAQC,MAAMhC,aAAaiC,KAAK,iCACnDnF,EAAcU,KAAKuE,QAAQC,MAAMhC,aAAaiC,KAAK,6BAC9C,CACLvF,KAAKoD,0BAA0B6B,KAAKjF,KAAKuH,uBAI7C/D,kBAAkB/B,GAChB,GAAIzB,KAAK0D,WAAWjC,KAAQ+F,UAAW,CACrCxH,KAAK2C,MAAM8E,OAAOzH,KAAK0D,WAAWjC,GAAK,GAEvC,IAAK,IAAIwC,EAAI,EAAGA,EAAIjE,KAAK2C,MAAM2B,OAAQL,IAAK,CAC1CjE,KAAK0D,WAAW1D,KAAK2C,MAAMsB,GAAGxC,IAAMwC,GAIxC,GAAIjE,KAAK0H,aAAajG,KAAQ+F,UAAW,CACvCxH,KAAK+C,SAAS0E,OAAOzH,KAAK0H,aAAajG,GAAK,GAE5C,IAAK,IAAIwC,EAAI,EAAGA,EAAIjE,KAAK+C,SAASuB,OAAQL,IAAK,CAC7CjE,KAAK0H,aAAa1H,KAAK+C,SAASkB,GAAGxC,IAAMwC,IAK/Cb,0BACE,OAAO,IAAIsB,SAAQC,IACjB1E,GAAG6E,KAAKC,UAAU,0CAA0CE,MAAKC,IAC/DlF,KAAK0C,SAASwC,EAASxE,KAAKiC,OAAS,IACrC3C,KAAK6C,YACL5C,GAAG0F,SAASgC,SAASC,SAASC,gBAAgB3C,EAASxE,KAAKiC,OAC5DgC,EAAQO,EAASxE,SAEnBwE,IACEP,EAAQO,EAASxE,YAKvBoH,oBACE,OAAO9H,KAAKwC,eAGdkD,oBAAoBP,GAClBlF,GAAG0F,SAASgC,SAASC,SAASC,gBAAgB1C,GAE9C,GAAInF,KAAKyC,kBAAoB,KAAM,CACjCzC,KAAKyC,gBAAgBsF,aAIzBC,eAAeC,GACb,GAAI9H,EAAU+H,KAAKC,QAAQF,GAAQ,CACjC,OAAQA,EAAM3D,OAGhB,OAAO2D,IAAU,MAAQA,IAAUT,WAAaS,IAAU,IAAMA,IAAU,IAAMA,IAAU,IAK9F/H,EAAQK,aAAeA,EACvBL,EAAQmC,aAAeA,GAxVxB,CA0VGrC,KAAKC,GAAG0F,SAAW3F,KAAKC,GAAG0F,UAAY,GAAI1F,GAAGA,GAAG0F,SAAS1F,GAAG0F,SAAS1F,GAAGqF","file":"roomsmanager.bundle.map.js"}