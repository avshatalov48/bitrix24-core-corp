{"version":3,"file":"medialib_admin.min.js","sources":["medialib_admin.js"],"names":["window","cnvConstr","cnvEdtr","BX","UploaderTemplateThumbnails","params","settings","this","id","dialogName","vars","filesCountForUpload","i","ii","hasOwnProperty","uploader","Uploader","getInstance","init","prototype","addClass","_onItemIsAdded","delegate","onItemIsAdded","_onFileIsAppended","onFileIsAppended","addCustomEvent","start","done","terminate","onChange","_onUploadStart","onUploadStart","_onUploadProgress","onUploadProgress","_onUploadDone","onUploadDone","_onUploadError","onUploadError","_onUploadRestore","onUploadRestore","_onFileHasPreview","onFileHasPreview","bind","submit","stop","userOptions","save","removeClass","fileFields","description","item","__progressBarWidth","ph","getPH","width","percent","progress","adjust","style","Math","max","ceil","file","queue","defer_proxy","deleteFile","innerHTML","errorThumb","replace","error","pIndex","itUploaded","length","filesCount","stream","data","itFailed","d","report","uploading","CID","reload","items","f","removeCustomEvent","img","CanvasEditor","remove","ext","hasChildNodes","join","clickFile","__onTurnCanvas","image","canvas","context","Canvas","drawImage","copy","height","rotate","applyFile","cnv","UploaderFileCnvConstr","getCanvas","props","push","unbindAll"],"mappings":"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"}