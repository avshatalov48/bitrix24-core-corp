{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import { Reflection, Type } from 'main.core';\nimport { Globals } from 'bizproc.globals';\n\nconst namespace = Reflection.namespace('BX.Disk.Component');\n\nclass BizprocEditComponent\n{\n\tsignedDocumentType: string;\n\n\tconstructor(options)\n\t{\n\t\tif (Type.isPlainObject(options)) {\n\t\t\tthis.signedDocumentType = String(options.signedDocumentType);\n\t\t}\n\t}\n\n\tshowGlobalVariables()\n\t{\n\t\tGlobals.Manager.Instance.showGlobals(Globals.Manager.Instance.mode.variable, String(this.signedDocumentType))\n\t\t\t.then((slider) => {\n\t\t\t\tthis.onAfterSliderClose(slider, window.arWorkflowGlobalVariables)\n\t\t\t})\n\t\t;\n\t}\n\n\tshowGlobalConstants()\n\t{\n\t\tGlobals.Manager.Instance.showGlobals(Globals.Manager.Instance.mode.constant, String(this.signedDocumentType))\n\t\t\t.then((slider) => {\n\t\t\t\tthis.onAfterSliderClose(slider, window.arWorkflowGlobalConstants)\n\t\t\t});\n\t}\n\n\tonAfterSliderClose(slider, target)\n\t{\n\t\tconst sliderInfo = slider.getData();\n\t\tif (sliderInfo.get('upsert'))\n\t\t{\n\t\t\tconst newGFields = sliderInfo.get('upsert');\n\t\t\tfor (const fieldId in newGFields)\n\t\t\t{\n\t\t\t\ttarget[fieldId] = newGFields[fieldId];\n\t\t\t}\n\t\t}\n\t\tif (sliderInfo.get('delete'))\n\t\t{\n\t\t\tconst deletedGFields = sliderInfo.get('delete');\n\t\t\tfor (const i in deletedGFields)\n\t\t\t{\n\t\t\t\tdelete target[deletedGFields[i]];\n\t\t\t}\n\t\t}\n\t}\n}\n\nnamespace.BizprocEditComponent = BizprocEditComponent;"],"names":["namespace","Reflection","BizprocEditComponent","options","Type","isPlainObject","signedDocumentType","String","Globals","Manager","Instance","showGlobals","mode","variable","then","slider","onAfterSliderClose","window","arWorkflowGlobalVariables","constant","arWorkflowGlobalConstants","target","sliderInfo","getData","get","newGFields","fieldId","deletedGFields","i"],"mappings":";;;CAGA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAX,CAAqB,mBAArB,CAAlB;;KAEME;CAIL,gCAAYC,OAAZ,EACA;CAAA;;CACC,QAAIC,cAAI,CAACC,aAAL,CAAmBF,OAAnB,CAAJ,EAAiC;CAChC,WAAKG,kBAAL,GAA0BC,MAAM,CAACJ,OAAO,CAACG,kBAAT,CAAhC;CACA;CACD;;;;2CAGD;CAAA;;CACCE,MAAAA,uBAAO,CAACC,OAAR,CAAgBC,QAAhB,CAAyBC,WAAzB,CAAqCH,uBAAO,CAACC,OAAR,CAAgBC,QAAhB,CAAyBE,IAAzB,CAA8BC,QAAnE,EAA6EN,MAAM,CAAC,KAAKD,kBAAN,CAAnF,EACEQ,IADF,CACO,UAACC,MAAD,EAAY;CACjB,QAAA,KAAI,CAACC,kBAAL,CAAwBD,MAAxB,EAAgCE,MAAM,CAACC,yBAAvC;CACA,OAHF;CAKA;;;2CAGD;CAAA;;CACCV,MAAAA,uBAAO,CAACC,OAAR,CAAgBC,QAAhB,CAAyBC,WAAzB,CAAqCH,uBAAO,CAACC,OAAR,CAAgBC,QAAhB,CAAyBE,IAAzB,CAA8BO,QAAnE,EAA6EZ,MAAM,CAAC,KAAKD,kBAAN,CAAnF,EACEQ,IADF,CACO,UAACC,MAAD,EAAY;CACjB,QAAA,MAAI,CAACC,kBAAL,CAAwBD,MAAxB,EAAgCE,MAAM,CAACG,yBAAvC;CACA,OAHF;CAIA;;;wCAEkBL,QAAQM,QAC3B;CACC,UAAMC,UAAU,GAAGP,MAAM,CAACQ,OAAP,EAAnB;;CACA,UAAID,UAAU,CAACE,GAAX,CAAe,QAAf,CAAJ,EACA;CACC,YAAMC,UAAU,GAAGH,UAAU,CAACE,GAAX,CAAe,QAAf,CAAnB;;CACA,aAAK,IAAME,OAAX,IAAsBD,UAAtB,EACA;CACCJ,UAAAA,MAAM,CAACK,OAAD,CAAN,GAAkBD,UAAU,CAACC,OAAD,CAA5B;CACA;CACD;;CACD,UAAIJ,UAAU,CAACE,GAAX,CAAe,QAAf,CAAJ,EACA;CACC,YAAMG,cAAc,GAAGL,UAAU,CAACE,GAAX,CAAe,QAAf,CAAvB;;CACA,aAAK,IAAMI,CAAX,IAAgBD,cAAhB,EACA;CACC,iBAAON,MAAM,CAACM,cAAc,CAACC,CAAD,CAAf,CAAb;CACA;CACD;CACD;;;;;CAGF5B,SAAS,CAACE,oBAAV,GAAiCA,oBAAjC;;;;"}