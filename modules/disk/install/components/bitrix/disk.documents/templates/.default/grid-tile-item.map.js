{"version":3,"sources":["grid-tile-item.js"],"names":["BX","namespace","Disk","TileGrid","Item","options","apply","this","arguments","isDraggable","isDroppable","dblClickDelay","title","name","isFolder","isFile","canAdd","isLocked","isSymlink","image","actions","link","attributes","item","container","action","titleWrapper","titleLink","titleInput","lock","symlink","imageBlock","picture","fileType","icons","actionsMenu","imageItemHandler","addCustomEvent","window","popupWindow","close","bind","prototype","__proto__","constructor","handleDblClick","fireEvent","handleEnter","onCustomEvent","getContent","create","attrs","className","children","getImage","getActionBlock","props","getLocked","getSymlink","getTitle","getIconsContainer","events","contextmenu","event","ctrlKey","showActionsMenu","gridTile","resetSelection","selectItem","preventDefault","throttle","appendImageItem","isVisibleOnFolderList","setAttribute","proxy","unbind","style","display","unlock","getTitleInput","href","id","text","dataset","mergeEx","objectId","type","value","stopPropagation","cancelRenaming","key","runRename","onRename","jsDD","Disable","addClass","focus","setSelectionRange","lastIndexOf","select","removeClass","blur","Enable","rename","newName","addEventListener","textContent","rebuildLinkAfterRename","substring","encodeURIComponent","forEach","destroyActionsMenu","oldTitle","Documents","Backend","renameAction","getId","then","response","data","object","catch","showModalWithStatusAction","afterRender","onload","show","hide","rect","layout","getBoundingClientRect","rectBody","document","body","itemHeight","offsetHeight","top","bottom","height","fileExtension","getFileExtension","width","html","markAsShared","classList","add","unmarkAsShared","remove","fileName","click","getEventTarget","getActions","destroy","getActionsMenu","target","length","PopupMenu","autoHide","offsetLeft","angle","popupContainer","findParent","preventCloseContextMenu","bindElement","pageY","left","pageX","pos","forceBindPosition","setBindElement","adjustPosition"],"mappings":"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","file":"grid-tile-item.map.js"}