BX.namespace("BX.Disk");BX.Disk.ExternalLinkListClass=function(){var t=function(t){this.gridId=t.gridId;this.grid=BX.Main.gridManager.getById(this.gridId);this.ajaxUrl="/bitrix/components/bitrix/disk.external.link.list/ajax.php";this.setEvents()};t.prototype.setEvents=function(){};t.prototype.removeRow=function(t){this.grid.instance.removeRow(t)};t.prototype.showExternalLink=function(t,e,n){BX.Disk.modalWindow({modalId:"bx-disk-external-link",title:BX.message("DISK_EXTERNAL_LINK_LIST_SHOW_LINK_WINDOW"),contentClassName:"tac",contentStyle:{},events:{onAfterPopupShow:function(){var t=BX("disk-get-external-link");BX.focus(t);t.setSelectionRange(0,t.value.length)},onPopupClose:function(){this.destroy()}},content:[BX.create("label",{props:{className:"bx-disk-popup-label",for:"disk-get-external-link"}}),BX.create("input",{style:{marginTop:"10px"},props:{id:"disk-get-external-link",className:"bx-viewer-inp",type:"text",value:n}})],buttons:[new BX.PopupWindowButton({text:BX.message("DISK_JS_BTN_CLOSE"),events:{click:function(){BX.PopupWindowManager.getCurrentPopup().close()}}})]})};t.prototype.disableExternalLink=function(t,e){BX.Disk.modalWindowLoader(BX.Disk.addToLinkParam(this.ajaxUrl,"action","disableExternalLink"),{id:"status-action",responseType:"json",postData:{externalId:t,objectId:e},afterSuccessLoad:BX.delegate(function(e){if(!e||e.status!="success"){BX.Disk.showModalWithStatusAction(e);return}this.removeRow(t);BX.Disk.showModalWithStatusAction(e)},this)})};return t}();