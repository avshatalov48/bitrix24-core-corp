{"version":3,"file":"disk.sharing-legacy-popup.bundle.js","sources":["../src/legacy-popup.js","../src/sharing-control-type.js"],"sourcesContent":["import {Text} from \"main.core\";\nimport {SaveButton} from \"ui.buttons\";\n\nexport default class LegacyPopup\n{\n\tuserBoxNode: HTMLElement = null;\n\tisChangedRights: boolean = false;\n\tstorageNewRights: Object = {};\n\toriginalRights: Object = {};\n\tdetachedRights: Object = {};\n\tmoduleTasks: Object = {};\n\n\tentityToNewShared: Object = {};\n\tloadedReadOnlyEntityToNewShared: Object = {};\n\tentityToNewSharedMaxTaskName: string = '';\n\tajaxUrl: string = '/bitrix/components/bitrix/disk.folder.list/ajax.php';\n\tdestFormName: string = 'folder-list-destFormName';\n\n\tconstructor()\n\t{\n\t}\n\n\tshowSharingDetailWithChangeRights(params)\n\t{\n\t\tthis.entityToNewShared = {};\n\t\tthis.loadedReadOnlyEntityToNewShared = {};\n\n\t\tparams = params || {};\n\t\tconst objectId = params.object.id;\n\n\t\tBX.Disk.modalWindowLoader(\n\t\t\tBX.Disk.addToLinkParam(this.ajaxUrl, 'action', 'showSharingDetailChangeRights'),\n\t\t\t{\n\t\t\t\tid: 'folder_list_sharing_detail_object_' + objectId,\n\t\t\t\tresponseType: 'json',\n\t\t\t\tpostData: {\n\t\t\t\t\tobjectId: objectId\n\t\t\t\t},\n\t\t\t\tafterSuccessLoad: (response) => {\n\t\t\t\t\tif (response.status !== 'success')\n\t\t\t\t\t{\n\t\t\t\t\t\tresponse.errors = response.errors || [{}];\n\t\t\t\t\t\tBX.Disk.showModalWithStatusAction({\n\t\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\t\tmessage: response.errors.pop().message\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tconst objectOwner = {\n\t\t\t\t\t\tname: response.owner.name,\n\t\t\t\t\t\tavatar: response.owner.avatar,\n\t\t\t\t\t\tlink: response.owner.link\n\t\t\t\t\t};\n\n\t\t\t\t\tBX.Disk.modalWindow({\n\t\t\t\t\t\tmodalId: 'bx-disk-detail-sharing-folder-change-right',\n\t\t\t\t\t\ttitle: BX.message('JS_DISK_SHARING_LEGACY_POPUP_TITLE_MODAL_3'),\n\t\t\t\t\t\tcontentClassName: '',\n\t\t\t\t\t\tcontentStyle: {},\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonAfterPopupShow: () => {\n\n\t\t\t\t\t\t\t\tBX.addCustomEvent('onChangeRightOfSharing', this.onChangeRightOfSharing.bind(this));\n\n\t\t\t\t\t\t\t\tfor (let i in response.members)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (!response.members.hasOwnProperty(i))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tthis.entityToNewShared[response.members[i].entityId] = {\n\t\t\t\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\t\t\t\tid: response.members[i].entityId,\n\t\t\t\t\t\t\t\t\t\t\tname: response.members[i].name,\n\t\t\t\t\t\t\t\t\t\t\tavatar: response.members[i].avatar\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ttype: response.members[i].type,\n\t\t\t\t\t\t\t\t\t\tright: response.members[i].right\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tBX.SocNetLogDestination.init({\n\t\t\t\t\t\t\t\t\tname: this.destFormName,\n\t\t\t\t\t\t\t\t\tsearchInput: BX('feed-add-post-destination-input'),\n\t\t\t\t\t\t\t\t\tbindMainPopup: {\n\t\t\t\t\t\t\t\t\t\t'node': BX('feed-add-post-destination-container'),\n\t\t\t\t\t\t\t\t\t\t'offsetTop': '5px',\n\t\t\t\t\t\t\t\t\t\t'offsetLeft': '15px'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbindSearchPopup: {\n\t\t\t\t\t\t\t\t\t\t'node': BX('feed-add-post-destination-container'),\n\t\t\t\t\t\t\t\t\t\t'offsetTop': '5px',\n\t\t\t\t\t\t\t\t\t\t'offsetLeft': '15px'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcallback: {\n\t\t\t\t\t\t\t\t\t\tselect: this.onSelectDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\tunSelect: this.onUnSelectDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\topenDialog: this.onOpenDialogDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\tcloseDialog: this.onCloseDialogDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\topenSearch: this.onOpenSearchDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\tcloseSearch: this.onCloseSearchDestination.bind(this)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\titems: response.destination.items,\n\t\t\t\t\t\t\t\t\titemsLast: response.destination.itemsLast,\n\t\t\t\t\t\t\t\t\titemsSelected: response.destination.itemsSelected\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tconst BXSocNetLogDestinationFormName = this.destFormName;\n\t\t\t\t\t\t\t\tBX.bind(BX('feed-add-post-destination-container'), 'click', function (e) {\n\t\t\t\t\t\t\t\t\tBX.SocNetLogDestination.openDialog(BXSocNetLogDestinationFormName);\n\t\t\t\t\t\t\t\t\tBX.PreventDefault(e);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tBX.bind(BX('feed-add-post-destination-input'), 'keyup', this.onKeyUpDestination.bind(this));\n\t\t\t\t\t\t\t\tBX.bind(BX('feed-add-post-destination-input'), 'keydown', this.onKeyDownDestination.bind(this));\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\t\t\tif (BX.SocNetLogDestination && BX.SocNetLogDestination.isOpenDialog())\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tBX.SocNetLogDestination.closeDialog()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tBX.removeCustomEvent('onChangeRightOfSharing', this.onChangeRightOfSharing.bind(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\tclassName: 'bx-disk-popup-content'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\tBX.create('table', {\n\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'bx-disk-popup-shared-people-list'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\tBX.create('thead', {\n\t\t\t\t\t\t\t\t\t\t\t\thtml: '<tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-head-col1\">' + BX.message('JS_DISK_SHARING_LEGACY_POPUP_LABEL_OWNER') + '</td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</tr>'\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tBX.create('tr', {\n\t\t\t\t\t\t\t\t\t\t\t\thtml: '<tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-col1\" style=\"border-bottom: none;\"><a class=\"bx-disk-filepage-used-people-link\" href=\"' + objectOwner.link + '\"><span class=\"bx-disk-filepage-used-people-avatar\" style=\"background-image: url(\\'' + encodeURI(objectOwner.avatar) + '\\');\"></span>' + Text.encode(objectOwner.name) + '</a></td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</tr>'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tBX.create('table', {\n\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\tid: 'bx-disk-popup-shared-people-list',\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'bx-disk-popup-shared-people-list'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\tBX.create('thead', {\n\t\t\t\t\t\t\t\t\t\t\t\thtml: '<tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-head-col1\">' + BX.message('JS_DISK_SHARING_LEGACY_POPUP_LABEL_NAME_RIGHTS_USER') + '</td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-head-col2\">' + BX.message('JS_DISK_SHARING_LEGACY_POPUP_LABEL_NAME_RIGHTS') + '</td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-head-col3\"></td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</tr>'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\tid: 'feed-add-post-destination-container',\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-post-destination-wrap'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\tBX.create('span', {\n\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-post-destination-item'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tBX.create('span', {\n\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'feed-add-post-destination-input-box',\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-destination-input-box'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\tBX.create('input', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'feed-add-post-destination-input',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-destination-inp'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tBX.create('a', {\n\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\thref: '#',\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'bx-destination-tag',\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-destination-link'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\ttext: BX.message('JS_DISK_SHARING_LEGACY_POPUP_LABEL_NAME_ADD_RIGHTS_USER'),\n\t\t\t\t\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclick: () => {}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\tnew SaveButton({\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: () => {\n\t\t\t\t\t\t\t\t\t\tBX.Disk.ajax({\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\t\turl: BX.Disk.addToLinkParam(this.ajaxUrl, 'action', 'changeSharingAndRights'),\n\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\tobjectId: objectId,\n\t\t\t\t\t\t\t\t\t\t\t\tentityToNewShared: this.entityToNewShared\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tonsuccess: (response) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!response)\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tresponse.message = BX.message('JS_DISK_SHARING_LEGACY_POPUP_OK_FILE_SHARE_MODIFIED').replace('#FILE#', params.object.name);\n\n\t\t\t\t\t\t\t\t\t\t\t\tBX.Disk.showModalWithStatusAction(response);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tBX.PopupWindowManager.getCurrentPopup().close();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew BX.UI.CloseButton({\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function () {\n\t\t\t\t\t\t\t\t\t\tBX.PopupWindowManager.getCurrentPopup().close();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tshowSharingDetailWithSharing(params)\n\t{\n\t\tthis.entityToNewShared = {};\n\t\tthis.loadedReadOnlyEntityToNewShared = {};\n\n\t\tparams = params || {};\n\t\tconst objectId = params.object.id;\n\n\t\tBX.Disk.modalWindowLoader(\n\t\t\tBX.Disk.addToLinkParam(this.ajaxUrl, 'action', 'showSharingDetailAppendSharing'),\n\t\t\t{\n\t\t\t\tid: 'folder_list_sharing_detail_object_' + objectId,\n\t\t\t\tresponseType: 'json',\n\t\t\t\tpostData: {\n\t\t\t\t\tobjectId: objectId\n\t\t\t\t},\n\t\t\t\tafterSuccessLoad: (response) => {\n\t\t\t\t\tif (response.status !== 'success')\n\t\t\t\t\t{\n\t\t\t\t\t\tresponse.errors = response.errors || [{}];\n\t\t\t\t\t\tBX.Disk.showModalWithStatusAction({\n\t\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\t\tmessage: response.errors.pop().message\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tconst objectOwner = {\n\t\t\t\t\t\tname: response.owner.name,\n\t\t\t\t\t\tavatar: response.owner.avatar,\n\t\t\t\t\t\tlink: response.owner.link\n\t\t\t\t\t};\n\t\t\t\t\tthis.entityToNewSharedMaxTaskName = response.owner.maxTaskName;\n\n\t\t\t\t\tBX.Disk.modalWindow({\n\t\t\t\t\t\tmodalId: 'bx-disk-detail-sharing-folder-change-right',\n\t\t\t\t\t\ttitle: BX.message('JS_DISK_SHARING_LEGACY_POPUP_TITLE_MODAL_3'),\n\t\t\t\t\t\tcontentClassName: '',\n\t\t\t\t\t\tcontentStyle: {},\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonAfterPopupShow: () => {\n\n\t\t\t\t\t\t\t\tBX.addCustomEvent('onChangeRightOfSharing', this.onChangeRightOfSharing.bind(this));\n\n\t\t\t\t\t\t\t\tfor (let i in response.members)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (!response.members.hasOwnProperty(i))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tthis.entityToNewShared[response.members[i].entityId] = {\n\t\t\t\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\t\t\t\tid: response.members[i].entityId,\n\t\t\t\t\t\t\t\t\t\t\tname: response.members[i].name,\n\t\t\t\t\t\t\t\t\t\t\tavatar: response.members[i].avatar\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ttype: response.members[i].type,\n\t\t\t\t\t\t\t\t\t\tright: response.members[i].right\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.loadedReadOnlyEntityToNewShared = BX.clone(this.entityToNewShared, true);\n\n\t\t\t\t\t\t\t\tBX.SocNetLogDestination.init({\n\t\t\t\t\t\t\t\t\tname : this.destFormName,\n\t\t\t\t\t\t\t\t\tsearchInput : BX('feed-add-post-destination-input'),\n\t\t\t\t\t\t\t\t\tbindMainPopup : { 'node' : BX('feed-add-post-destination-container'), 'offsetTop' : '5px', 'offsetLeft': '15px'},\n\t\t\t\t\t\t\t\t\tbindSearchPopup : { 'node' : BX('feed-add-post-destination-container'), 'offsetTop' : '5px', 'offsetLeft': '15px'},\n\t\t\t\t\t\t\t\t\tcallback : {\n\t\t\t\t\t\t\t\t\t\tselect: this.onSelectDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\tunSelect: this.onUnSelectDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\topenDialog: this.onOpenDialogDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\tcloseDialog: this.onCloseDialogDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\topenSearch: this.onOpenSearchDestination.bind(this),\n\t\t\t\t\t\t\t\t\t\tcloseSearch: this.onCloseSearchDestination.bind(this)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\titems: response.destination.items,\n\t\t\t\t\t\t\t\t\titemsLast: response.destination.itemsLast,\n\t\t\t\t\t\t\t\t\titemsSelected : response.destination.itemsSelected\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tconst BXSocNetLogDestinationFormName = this.destFormName;\n\t\t\t\t\t\t\t\tBX.bind(BX('feed-add-post-destination-container'), 'click', function(e){BX.SocNetLogDestination.openDialog(BXSocNetLogDestinationFormName);BX.PreventDefault(e); });\n\t\t\t\t\t\t\t\tBX.bind(BX('feed-add-post-destination-input'), 'keyup', this.onKeyUpDestination.bind(this));\n\t\t\t\t\t\t\t\tBX.bind(BX('feed-add-post-destination-input'), 'keydown', this.onKeyDownDestination.bind(this));\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\t\t\tif(BX.SocNetLogDestination && BX.SocNetLogDestination.isOpenDialog())\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tBX.SocNetLogDestination.closeDialog()\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tBX.removeCustomEvent('onChangeRightOfSharing', this.onChangeRightOfSharing.bind(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\tclassName: 'bx-disk-popup-content'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\tBX.create('table', {\n\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'bx-disk-popup-shared-people-list'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\tBX.create('thead', {\n\t\t\t\t\t\t\t\t\t\t\t\thtml: '<tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-head-col1\">' + BX.message('JS_DISK_SHARING_LEGACY_POPUP_LABEL_OWNER') + '</td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'</tr>'\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tBX.create('tr', {\n\t\t\t\t\t\t\t\t\t\t\t\thtml: '<tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-col1\" style=\"border-bottom: none;\"><a class=\"bx-disk-filepage-used-people-link\" href=\"' + objectOwner.link + '\"><span class=\"bx-disk-filepage-used-people-avatar\" style=\"background-image: url(\\'' + encodeURI(objectOwner.avatar) + '\\');\"></span>' + Text.encode(objectOwner.name) + '</a></td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'</tr>'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tBX.create('table', {\n\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\tid: 'bx-disk-popup-shared-people-list',\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'bx-disk-popup-shared-people-list'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\tBX.create('thead', {\n\t\t\t\t\t\t\t\t\t\t\t\thtml: '<tr>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-head-col1\">' + BX.message('JS_DISK_SHARING_LEGACY_POPUP_LABEL_NAME_RIGHTS_USER') + '</td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-head-col2\">' + BX.message('JS_DISK_SHARING_LEGACY_POPUP_LABEL_NAME_RIGHTS') + '</td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<td class=\"bx-disk-popup-shared-people-list-head-col3\"></td>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'</tr>'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\tid: 'feed-add-post-destination-container',\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-post-destination-wrap'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\tBX.create('span', {\n\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-post-destination-item'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tBX.create('span', {\n\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'feed-add-post-destination-input-box',\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-destination-input-box'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\tBX.create('input', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'feed-add-post-destination-input',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-destination-inp'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tBX.create('a', {\n\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\thref: '#',\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'bx-destination-tag',\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'feed-add-destination-link'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\ttext: BX.message('JS_DISK_SHARING_LEGACY_POPUP_LABEL_NAME_ADD_RIGHTS_USER'),\n\t\t\t\t\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclick: () => {}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\tnew SaveButton({\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: () => {\n\t\t\t\t\t\t\t\t\t\tBX.Disk.ajax({\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\t\turl: BX.Disk.addToLinkParam(this.ajaxUrl, 'action', 'appendSharing'),\n\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\tobjectId: objectId,\n\t\t\t\t\t\t\t\t\t\t\t\tentityToNewShared: this.entityToNewShared\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tonsuccess: (response) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!response)\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tBX.Disk.showModalWithStatusAction(response);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tBX.PopupWindowManager.getCurrentPopup().close();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew BX.UI.CloseButton({\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function () {\n\t\t\t\t\t\t\t\t\t\tBX.PopupWindowManager.getCurrentPopup().close();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tshowSharingDetailWithoutEdit(params)\n\t{\n\t\tparams = params || {};\n\n\t\tBX.Disk.showSharingDetailWithoutEdit({\n\t\t\tajaxUrl: '/bitrix/components/bitrix/disk.folder.list/ajax.php',\n\t\t\tobject: params.object,\n\t\t});\n\t}\n\n\tonSelectDestination(item, type, search)\n\t{\n\t\tthis.entityToNewShared[item.id] = this.entityToNewShared[item.id] || {};\n\t\tBX.Disk.appendNewShared({\n\t\t\tmaxTaskName: this.entityToNewSharedMaxTaskName,\n\t\t\treadOnly: !!this.loadedReadOnlyEntityToNewShared[item.id],\n\t\t\tdestFormName: this.destFormName,\n\t\t\titem: item,\n\t\t\ttype: type,\n\t\t\tright: this.entityToNewShared[item.id].right || 'disk_access_edit'\n\t\t});\n\n\t\tthis.entityToNewShared[item.id] = {\n\t\t\titem: item,\n\t\t\ttype: type,\n\t\t\tright: this.entityToNewShared[item.id].right || 'disk_access_edit'\n\t\t};\n\t};\n\n\tonUnSelectDestination(item, type, search)\n\t{\n\t\tconst entityId = item.id;\n\n\t\tif (!!this.loadedReadOnlyEntityToNewShared[entityId])\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tdelete this.entityToNewShared[entityId];\n\n\t\tlet child = BX.findChild(BX('bx-disk-popup-shared-people-list'), {attribute: {'data-dest-id': '' + entityId + ''}}, true);\n\t\tif (child)\n\t\t{\n\t\t\tBX.remove(child);\n\t\t}\n\t};\n\n\tonChangeRightOfSharing(entityId, taskName)\n\t{\n\t\tif (this.entityToNewShared[entityId])\n\t\t{\n\t\t\tthis.entityToNewShared[entityId].right = taskName;\n\t\t}\n\t};\n\n\tonOpenDialogDestination()\n\t{\n\t\tBX.style(BX('feed-add-post-destination-input-box'), 'display', 'inline-block');\n\t\tBX.style(BX('bx-destination-tag'), 'display', 'none');\n\t\tBX.focus(BX('feed-add-post-destination-input'));\n\t\tif (BX.SocNetLogDestination.popupWindow)\n\t\t{\n\t\t\tBX.SocNetLogDestination.popupWindow.adjustPosition({forceTop: true});\n\t\t}\n\t};\n\n\tonCloseDialogDestination()\n\t{\n\t\tlet input = BX('feed-add-post-destination-input');\n\t\tif (!BX.SocNetLogDestination.isOpenSearch() && input && input.value.length <= 0)\n\t\t{\n\t\t\tBX.style(BX('feed-add-post-destination-input-box'), 'display', 'none');\n\t\t\tBX.style(BX('bx-destination-tag'), 'display', 'inline-block');\n\t\t}\n\t};\n\n\tonOpenSearchDestination()\n\t{\n\t\tif (BX.SocNetLogDestination.popupSearchWindow)\n\t\t{\n\t\t\tBX.SocNetLogDestination.popupSearchWindow.adjustPosition({forceTop: true});\n\t\t}\n\t};\n\n\tonCloseSearchDestination()\n\t{\n\t\tlet input = BX('feed-add-post-destination-input');\n\t\tif (!BX.SocNetLogDestination.isOpenSearch() && input && input.value.length > 0)\n\t\t{\n\t\t\tBX.style(BX('feed-add-post-destination-input-box'), 'display', 'none');\n\t\t\tBX.style(BX('bx-destination-tag'), 'display', 'inline-block');\n\t\t\tBX('feed-add-post-destination-input').value = '';\n\t\t}\n\t};\n\n\tonKeyDownDestination(event)\n\t{\n\t\tlet BXSocNetLogDestinationFormName = this.destFormName;\n\t\tif (event.keyCode == 8 && BX('feed-add-post-destination-input').value.length <= 0)\n\t\t{\n\t\t\tBX.SocNetLogDestination.sendEvent = false;\n\t\t\tBX.SocNetLogDestination.deleteLastItem(BXSocNetLogDestinationFormName);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tonKeyUpDestination(event)\n\t{\n\t\tconst BXSocNetLogDestinationFormName = this.destFormName;\n\t\tif (event.keyCode == 16 || event.keyCode == 17 || event.keyCode == 18 || event.keyCode == 20 || event.keyCode == 244 || event.keyCode == 224 || event.keyCode == 91)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.keyCode == 13)\n\t\t{\n\t\t\tBX.SocNetLogDestination.selectFirstSearchItem(BXSocNetLogDestinationFormName);\n\t\t\treturn BX.PreventDefault(event);\n\t\t}\n\t\tif (event.keyCode == 27)\n\t\t{\n\t\t\tBX('feed-add-post-destination-input').value = '';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.SocNetLogDestination.search(BX('feed-add-post-destination-input').value, true, BXSocNetLogDestinationFormName);\n\t\t}\n\n\t\tif (BX.SocNetLogDestination.sendEvent && BX.SocNetLogDestination.isOpenDialog())\n\t\t{\n\t\t\tBX.SocNetLogDestination.closeDialog();\n\t\t}\n\n\t\tif (event.keyCode == 8)\n\t\t{\n\t\t\tBX.SocNetLogDestination.sendEvent = true;\n\t\t}\n\t\treturn BX.PreventDefault(event);\n\t};\n}","export default class SharingControlType\n{\n\tstatic WITHOUT_EDIT = 'without-edit';\n\tstatic WITH_CHANGE_RIGHTS = 'with-change-rights';\n\tstatic WITH_SHARING = 'with-sharing';\n}"],"names":["LegacyPopup","params","entityToNewShared","loadedReadOnlyEntityToNewShared","objectId","object","id","BX","Disk","modalWindowLoader","addToLinkParam","ajaxUrl","responseType","postData","afterSuccessLoad","response","status","errors","showModalWithStatusAction","message","pop","objectOwner","name","owner","avatar","link","modalWindow","modalId","title","contentClassName","contentStyle","events","onAfterPopupShow","addCustomEvent","onChangeRightOfSharing","bind","i","members","hasOwnProperty","entityId","item","type","right","SocNetLogDestination","init","destFormName","searchInput","bindMainPopup","bindSearchPopup","callback","select","onSelectDestination","unSelect","onUnSelectDestination","openDialog","onOpenDialogDestination","closeDialog","onCloseDialogDestination","openSearch","onOpenSearchDestination","closeSearch","onCloseSearchDestination","items","destination","itemsLast","itemsSelected","BXSocNetLogDestinationFormName","e","PreventDefault","onKeyUpDestination","onKeyDownDestination","onPopupClose","isOpenDialog","removeCustomEvent","content","create","props","className","children","html","encodeURI","Text","encode","style","background","value","href","text","click","buttons","SaveButton","ajax","method","dataType","url","data","onsuccess","replace","PopupWindowManager","getCurrentPopup","close","UI","CloseButton","entityToNewSharedMaxTaskName","maxTaskName","clone","showSharingDetailWithoutEdit","search","appendNewShared","readOnly","child","findChild","attribute","remove","taskName","focus","popupWindow","adjustPosition","forceTop","input","isOpenSearch","length","popupSearchWindow","event","keyCode","sendEvent","deleteLastItem","selectFirstSearchItem","SharingControlType"],"mappings":"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"}