(function(){"use strict";BX.namespace("BX.Disk.Model.ExternalLink");BX.Disk.Model.ExternalLink.Description=function(e){BX.Disk.Model.Item.apply(this,arguments);this.templateId=this.templateId||"external-link-setting-info"};BX.Disk.Model.ExternalLink.Description.prototype={__proto__:BX.Disk.Model.Item.prototype,constructor:BX.Disk.Model.ExternalLink.Description,getDefaultStateValues:function(){return{buildText:this.buildText.bind(this)}},bindEvents:function(){BX.addCustomEvent("Disk.ExternalLink.Settings:onSave",this.handleSavingExternalLinkSettings.bind(this))},handleSavingExternalLinkSettings:function(e){this.setState(e.state);this.render()},buildText:function(){var e=this.state;var _=[];var s=false;if(e.hasPassword){_.push(BX.message("DISK_JS_EL_DESCRIPTION_EXTERNAL_LINK_WITH_PASSWORD"))}if(e.hasDeathTime){_.push(BX.message("DISK_JS_EL_DESCRIPTION_EXTERNAL_LINK_WITH_DEATH_TIME"))}if(s&&e.hasDeathTime){var t=e.deathTimeTimestamp-Date.now()/1e3;var i=t/(24*3600);i=parseInt(i,10);var a=[];if(i>=1){a.push(BX.Disk.getNumericCase(i,BX.message("DISK_JS_EL_DESCRIPTION_DAY_NUMERAL_1"),BX.message("DISK_JS_EL_DESCRIPTION_DAY_NUMERAL_21"),BX.message("DISK_JS_EL_DESCRIPTION_DAY_NUMERAL_2_4"),BX.message("DISK_JS_EL_DESCRIPTION_DAY_NUMERAL_5_20")).replace("#COUNT#",i))}else{var E=parseInt(t/3600,10);if(E>0){a.push(BX.Disk.getNumericCase(E,BX.message("DISK_JS_EL_DESCRIPTION_HOUR_NUMERAL_1"),BX.message("DISK_JS_EL_DESCRIPTION_HOUR_NUMERAL_21"),BX.message("DISK_JS_EL_DESCRIPTION_HOUR_NUMERAL_2_4"),BX.message("DISK_JS_EL_DESCRIPTION_HOUR_NUMERAL_5_20")).replace("#COUNT#",E))}var I=parseInt((t-E*3600)/60,10);if(I){a.push(BX.Disk.getNumericCase(i,BX.message("DISK_JS_EL_DESCRIPTION_MINUTE_NUMERAL_1"),BX.message("DISK_JS_EL_DESCRIPTION_MINUTE_NUMERAL_21"),BX.message("DISK_JS_EL_DESCRIPTION_MINUTE_NUMERAL_2_4"),BX.message("DISK_JS_EL_DESCRIPTION_MINUTE_NUMERAL_5_20")).replace("#COUNT#",I))}}_.push(a.join(" "))}return _.join(", ")}}})();
//# sourceMappingURL=external-link-description.map.js