this.BX=this.BX||{};this.BX.Disk=this.BX.Disk||{};(function(e,t,o,i,s){"use strict";function n(e,t){a(e,t);t.add(e)}function r(e,t,o){a(e,t);t.set(e,o)}function a(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function l(e,t,o){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return o}var u=new WeakMap;var p=new WeakSet;var c=function(){function e(t){babelHelpers.classCallCheck(this,e);n(this,p);r(this,u,{writable:true,value:null});this.targetOptions=t.targetOptions?t.targetOptions:window;this.boardsUrl=t.boardsUrl;this.componentName=t.componentName}babelHelpers.createClass(e,[{key:"getWidth",value:function e(){return o.PromoVideoPopup.getWidth()}},{key:"getPopup",value:function e(){var n=this;var r=t.Loc.getMessage("LANGUAGE_ID");var a={ru:"/bitrix/js/disk/boards-promo-popup/video/ru/disk-promo-ru.webm",en:"/bitrix/js/disk/boards-promo-popup/video/en/disk-promo-en.webm"};if(babelHelpers.classPrivateFieldGet(this,u)===null){babelHelpers.classPrivateFieldSet(this,u,new o.PromoVideoPopup({videoSrc:r==="ru"?a.ru:a.en,videoContainerMinHeight:255,title:t.Loc.getMessage("DISK_PROMO_VIDEO_POPUP_TITLE"),text:t.Loc.getMessage("DISK_PROMO_VIDEO_POPUP_TEXT"),targetOptions:this.targetOptions,icon:s.Main.DEMONSTRATION_GRAPHICS,button:{text:t.Loc.getMessage("DISK_PROMO_VIDEO_POPUP_BUTTON"),color:i.Button.Color.SUCCESS,size:i.Button.Size.LARGE,position:o.PromoVideoPopupButtonPosition.RIGHT},offset:{top:50,left:50},useOverlay:true,autoHide:false}));babelHelpers.classPrivateFieldGet(this,u).subscribe(o.PromoVideoPopupEvents.ACCEPT,(function(){n.setCompleted().then((function(){window.location.href=n.boardsUrl}))}));babelHelpers.classPrivateFieldGet(this,u).subscribe(o.PromoVideoPopupEvents.HIDE,(function(){n.setViewed();document.body.style.overflowY="scroll"}))}return babelHelpers.classPrivateFieldGet(this,u)}},{key:"show",value:function e(){this.getPopup().show();document.body.style.overflowY="hidden"}},{key:"setViewed",value:function e(){l(this,p,d).call(this,"setViewed")}},{key:"setCompleted",value:function e(){return l(this,p,d).call(this,"setCompleted")}}]);return e}();function d(e){return t.ajax.runComponentAction(this.componentName,e,{mode:"class"})}e.DiskVideoPopup=c})(this.BX.Disk.BoardsPromoPopup=this.BX.Disk.BoardsPromoPopup||{},BX,BX.UI,BX.UI,BX.UI.IconSet);
//# sourceMappingURL=disk.boards-promo-popup.bundle.map.js