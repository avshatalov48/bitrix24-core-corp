BX.Disk.Queue=function(){var s=function(s){this.isProcessing=false;this.items=[];this.setEvents()};s.prototype.setEvents=function(){};s.prototype.process=function(){if(this.items.length<=0){return}if(this.isProcessing){return}this.isProcessing=true;var s=this.items.shift();s.run(BX.delegate(function(){this.isProcessing=false;this.process()},this))};s.prototype.push=function(s){if(BX.is_subclass_of(s,BX.Disk.QueueItem)){this.items.push(s)}return this};return s}();BX.Disk.QueueItem=function(){var s=function(s,t,i){this.object=s;this.runHandler=t;this.successFallback=null;this.subscribeOnFinish(i)};s.prototype.run=function(s){this.successFallback=s;return this.runHandler.call(this,this.object)};s.prototype.subscribeOnFinish=function(s){var t=s.call(this,this.object);if(BX.type.isString(t)){BX.addCustomEvent(t,BX.delegate(this.onFinishItem,this))}else if(BX.type.isArray(t)){BX.addCustomEvent(t[0],t[1],BX.delegate(this.onFinishItem,this))}};s.prototype.onFinishItem=function(){this.successFallback.call()};return s}();
//# sourceMappingURL=queue.map.js