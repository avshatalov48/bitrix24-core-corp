BX.namespace("BX.Disk.InformationPopups");BX.Disk.InformationPopups=function(){return{getContentWarningLockedDocument:function(e){return'<div class="disk-locked-document-popup">'+'<div class="disk-locked-document-popup-container">'+'<div class="disk-locked-document-popup-img-container">'+'<div class="disk-locked-document-popup-img"></div>'+"</div>"+'<div class="disk-locked-document-popup-content">'+'<h3 class="disk-locked-document-popup-content-title">'+BX.message("DISK_JS_INF_POPUPS_LOCKED_DOC_TITLE")+"</h3>"+'<div class="disk-locked-document-popup-content-info">'+'<span class="disk-locked-document-popup-content-text">'+BX.message("DISK_JS_INF_POPUPS_LOCKED_DOC_WAS_LOCKED_FORKED_COPY").replace("#LINK#",e.link)+"</span>"+"</div>"+'<a href="#" class="webform-button webform-button-create disk-locked-document-popup-content-button">'+BX.message("DISK_JS_INF_POPUPS_LOCKED_DOC_GO_TO_FILE")+"</a>"+"</div>"+"</div>"+"</div>"},getContentWarningLockedDocumentDesktop:function(e){return'<div class="disk-locked-document-popup">'+'<div class="disk-locked-document-popup-desktop-container">'+'<div class="disk-locked-document-popup-desktop-img-container">'+'<div class="disk-locked-document-popup-desktop-img"></div>'+"</div>"+'<div class="disk-locked-document-popup-desktop-content">'+'<h3 class="disk-locked-document-popup-desktop-content-title">'+BX.message("DISK_JS_INF_POPUPS_LOCKED_DOC_TITLE")+"</h3>"+'<div class="disk-locked-document-popup-desktop-content-info">'+'<span class="disk-locked-document-popup-desktop-content-text">'+BX.message("DISK_JS_INF_POPUPS_LOCKED_DOC_WAS_LOCKED_FORKED_COPY").replace("#LINK#",e.link)+"</span>"+"</div>"+"<span onclick=\"document.location='"+e.link+'\'" class="popup-window-button popup-window-button-accept disk-locked-document-popup-desktop-content-button">'+BX.message("DISK_JS_INF_POPUPS_LOCKED_DOC_GO_TO_FILE")+"</span>"+"</div>"+"</div>"+"</div>"},getContentConflictBetweenFiles:function(e,s){var o='<a class="disk-locked-document-popup-content-link js-disk-open-filefolder" data-href="'+s.path+'" href="#">'+s.name+"</a>";var t='<a class="disk-locked-document-popup-content-link js-disk-open-filefolder" data-href="'+e.path+'" href="#">'+e.name+"</a>";var n=BX.message("disk_bdisk_file_conflict_between_versions").replace("#FILE#",function(){return o}).replace("#FILE#",function(){return o}).replace("#FORKED_FILE#",t).replace("#A#",'<a href="'+BX.message("disk_bdisk_file_conflict_between_versions_helpdesk")+'" target="_blank">').replace("#A_END#","</a>");return'<div class="disk-locked-document-popup">'+'<div class="disk-locked-document-popup-desktop-container">'+'<div class="disk-locked-document-popup-desktop-img-container">'+'<div class="disk-locked-document-popup-desktop-img"></div>'+"</div>"+'<div class="disk-locked-document-popup-desktop-content">'+'<a href="#" class="bx-notifier-item-delete"></a>'+'<h3 class="disk-locked-document-popup-desktop-content-title">'+BX.message("disk_bdisk_file_conflict_between_versions_title")+"</h3>"+'<div class="disk-locked-document-popup-desktop-content-info">'+'<span class="disk-locked-document-popup-desktop-content-text">'+n+"</span>"+"</div>"+"</div>"+"</div>"+"</div>"},getContentSwitchOnBDisk:function(){var e=BX.message("DISK_JS_INF_POPUPS_SWITCH_ON_BDISK_DESCR").replace("#A#",'<a href="#" id="bx-open-bdisk-settings">').replace("#A_END#","</a>");return'<div class="disk-locked-document-popup">'+'<div class="disk-locked-document-popup-desktop-container">'+'<div class="disk-locked-document-popup-desktop-img-container">'+'<div class="disk-locked-document-popup-desktop-img"></div>'+"</div>"+'<div class="disk-locked-document-popup-desktop-content">'+'<a href="#" class="bx-notifier-item-delete"></a>'+'<h3 class="disk-locked-document-popup-desktop-content-title">'+BX.message("DISK_JS_INF_POPUPS_SWITCH_ON_BDISK_TITLE")+"</h3>"+'<div class="disk-locked-document-popup-desktop-content-info">'+'<span class="disk-locked-document-popup-desktop-content-text">'+e+"</span>"+"</div>"+"</div>"+"</div>"+"</div>"},getContentLockedByProgram:function(e,s){var o='<a class="disk-locked-document-popup-content-link js-disk-open-filefolder" data-href="'+e.path+'" href="#">'+e.name+"</a>";var t=BX.message("disk_bdisk_file_conflict_locked_by_app").replace("#FILE#",function(){return o}).replace("#FILE#",function(){return o}).replace("#PROGRAM#",function(){return s}).replace("#PROGRAM#",function(){return s}).replace("#A#",'<a href="'+BX.message("disk_bdisk_file_conflict_locked_by_app_helpdesk")+'" target="_blank">').replace("#A_END#","</a>");return'<div class="disk-locked-document-popup">'+'<div class="disk-locked-document-popup-desktop-container">'+'<div class="disk-locked-document-popup-desktop-img-container">'+'<div class="disk-locked-document-popup-desktop-img"></div>'+"</div>"+'<div class="disk-locked-document-popup-desktop-content">'+'<a href="#" class="bx-notifier-item-delete"></a>'+'<h3 class="disk-locked-document-popup-desktop-content-title">'+BX.message("disk_bdisk_file_conflict_locked_by_app_title")+"</h3>"+'<div class="disk-locked-document-popup-desktop-content-info">'+'<span class="disk-locked-document-popup-desktop-content-text">'+t+"</span>"+"</div>"+"</div>"+"</div>"+"</div>"},showWarningLockedDocument:function(e){new BX.PopupWindow("testy",null,{content:BX.create("div",{html:BX.Disk.InformationPopups.getContentWarningLockedDocument({link:e.link})}),autoHide:true,lightShadow:true,closeIcon:{right:"20px",top:"10px"},events:{onPopupClose:function(){this.destroy()}},buttons:[]}).show()},openWindowForSelectDocumentService:function(e){var s=e.viewInUf||false;var o=BX.Disk.getDocumentService();var t=function(e){if(e==="l"&&!BX.Disk.Document.Local.Instance.isEnabled()){this.getHelpDialogToUseLocalService().show();return}BX.Disk.saveDocumentService(e);BX.PopupWindowManager.getCurrentPopup().destroy()}.bind(this);var n=[new BX.PopupWindowButton({text:BX.message("DISK_JS_BTN_SAVE"),className:"popup-window-button-accept",events:{click:function(s){var o=BX.hasClass(BX("bx-disk-info-popup-btn-local"),"bx-disk-info-popup-btn-active")?"l":"gdrive";t(o);if(BX.type.isFunction(e.onSave)){e.onSave(o)}BX.PreventDefault(s);return false}}}),new BX.PopupWindowButton({text:BX.message("DISK_JS_BTN_CLOSE"),events:{click:function(e){BX.PopupWindowManager.getCurrentPopup().destroy();BX.PreventDefault(e);return false}}})];var i=s?"":"2";var p=BX.message("LANGUAGE_ID");var c="/bitrix/images/disk/disk_description"+i+"_en.png";if(p=="kz")p="ru";switch(p){case"ru":case"en":case"de":case"ua":case"br":case"la":case"sc":case"tc":c="/bitrix/images/disk/disk_description"+i+"_"+p+".png";break}var d='<div class="bx-disk-info-popup-cont-title">'+BX.message("DISK_JS_SERVICE_CHOICE_TITLE")+"</div>"+'<div class="bx-disk-info-popup-btn-wrap">'+'<span id="bx-disk-info-popup-btn-local" class="bx-disk-info-popup-btn bx-disk-info-popup-btn-local '+(!o||o=="l"?"bx-disk-info-popup-btn-active":"")+' ">'+'<span class="bx-disk-info-popup-btn-text">'+BX.message("DISK_JS_SERVICE_LOCAL_TITLE")+"</span>"+'<span class="bx-disk-info-popup-btn-descript">'+BX.message("DISK_JS_SERVICE_LOCAL_TEXT")+"</span>"+'<span class="bx-disk-info-popup-btn-check"></span>'+"</span>"+'<span id="bx-disk-info-popup-btn-cloud" class="bx-disk-info-popup-btn bx-disk-info-popup-btn-cloud '+(!!o&&o!="l"?"bx-disk-info-popup-btn-active":"")+' ">'+'<span class="bx-disk-info-popup-btn-text">'+BX.message("DISK_JS_SERVICE_CLOUD_TITLE")+"</span>"+'<span class="bx-disk-info-popup-btn-descript">'+BX.message("DISK_JS_SERVICE_CLOUD_TEXT")+"</span>"+'<span class="bx-disk-info-popup-btn-check"></span>'+"</span>"+"</div>"+'<div class="bx-disk-info-descript">'+(s?BX.message("DISK_JS_SERVICE_HELP_TEXT"):BX.message("DISK_JS_SERVICE_HELP_TEXT_2"))+'<img style="height: 182px;" class="bx-disk-info-descript-img" src="'+c+'" alt=""/>'+"</div>"+'<div style="margin-top: 10px">'+'<a href="/" id="bx-disk-info-popup-helpdesk" style="font-size: 14px">'+BX.message("DISK_JS_HELP_WITH_BDISK")+"</a>"+"</div>";var a=BX.getClass("BX.SidePanel.Instance")&&BX.SidePanel.Instance.isOpen()?BX.SidePanel.Instance.getTopSlider().getZindex():null;if(BX.getClass("BX.UI.Viewer.Instance")&&BX.UI.Viewer.Instance.getZindex()>a){a=BX.UI.Viewer.Instance.getZindex()}var l=BX.Disk.modalWindow({modalId:"bx-disk-select-doc-service",events:{onAfterPopupShow:function(){BX.bind(BX("bx-disk-info-popup-helpdesk"),"click",function(e){if(top.BX.Helper)top.BX.Helper.show("redirect=detail&code=8626407");e.preventDefault();l.destroy()});BX.bind(BX("bx-disk-info-popup-btn-cloud"),"click",function(){if(BX.hasClass(this,"bx-disk-info-popup-btn-active"))return;BX.toggleClass(this,"bx-disk-info-popup-btn-active");BX.toggleClass(BX("bx-disk-info-popup-btn-local"),"bx-disk-info-popup-btn-active")});BX.bind(BX("bx-disk-info-popup-btn-local"),"click",function(){if(BX.hasClass(this,"bx-disk-info-popup-btn-active"))return;BX.toggleClass(this,"bx-disk-info-popup-btn-active");BX.toggleClass(BX("bx-disk-info-popup-btn-cloud"),"bx-disk-info-popup-btn-active")})},onPopupClose:function(){this.destroy()}},zIndex:a||3e3,title:BX.message("DISK_JS_SERVICE_CHOICE_TITLE_SMALL"),content:[BX.create("div",{html:d})],buttons:n})},getHelpDialogToUseLocalService:function(){var e=BX.message("DISK_JS_INF_POPUPS_EDIT_IN_LOCAL_SERVICE");var s=BX.message("DISK_JS_INF_POPUPS_SERVICE_LOCAL_INSTALL_DESKTOP");var o=BX.create("div",{props:{className:"bx-viewer-confirm"},children:[BX.create("div",{props:{className:"bx-viewer-confirm-title"},text:e,children:[]}),BX.create("div",{props:{className:"bx-viewer-confirm-text-wrap"},children:[BX.create("span",{props:{className:"bx-viewer-confirm-text-alignment"}}),BX.create("span",{props:{className:"bx-viewer-confirm-text"},html:s})]})]});var t=BX.PopupWindowManager.create("helpDialogToUseLocalService",null,{content:o,buttons:[new BX.PopupWindowButton({text:BX.message("DISK_JS_BTN_DOWNLOAD"),className:"popup-window-button-accept",events:{click:function(){document.location.href=BX.browser.IsMac()?"http://dl.bitrix24.com/b24/bitrix24_desktop.dmg":"http://dl.bitrix24.com/b24/bitrix24_desktop.exe"}}}),new BX.PopupWindowButton({text:BX.message("DISK_JS_BTN_CANCEL"),events:{click:function(){t.close()}}})]});return t}}}();
//# sourceMappingURL=information_popups.map.js