{"version":3,"sources":["editprocess.js"],"names":["BX","namespace","Disk","Document","EditProcess","parameters","this","objectId","attachedObjectId","serviceCode","service","popupConfirm","onAfterSave","modalWindow","handlerOnSliderMessage","type","isFunction","prototype","start","hasPromoPopups","getClass","OnlyOfficePromo","PromoPopup","shouldBlockViewAndEdit","showCommonPromoForNonPaid","shouldShowEditPromo","showEditPromo","openSlider","shouldShowEndDemo","showEndOfDemo","buildModalWindow","loadServiceDescription","then","openEditConfirm","bind","getSliderQueryParameters","action","getSliderData","process","data","documentEditor","success","SidePanel","Instance","open","util","add_url_param","width","customLeftBoundary","cacheable","allowChangeHistory","onSliderMessage","addCustomEvent","event","eventData","getData","getEventId","object","removeCustomEvent","pseudoResponse","status","call","openModal","isActive","isShown","link","height","location","popup","window","addEventListener","origin","reason","setDataForCommit","closeEditConfirm","closeModal","close","e","getDataForCommit","dataForCommit","getService","promise","Promise","fulfill","ajax","runAction","response","documentService","buildLinkToCommit","uri","links","edit","uf","replace","remove_url_param","document_action","save","commit","console","log","UI","Viewer","showModalWithStatusAction","originalIsLocked","InformationPopups","showWarningLockedDocument","getUrlToShowObjectInGrid","forkedObject","id","fakePromise","idDoc","method","dataType","url","editSessionId","sessid","bitrix_sessid","buildLinkToDiscard","urlHelper","getUrlDiscardFile","discard","onsuccess","getConfirmMessages","title","message","name","text","saveButton","saveDialog","create","props","className","children","PopupWindowManager","content","overlay","buttons","PopupWindowCustomButton","events","click","actionModal","showActionModal","showLoaderIcon","autoHide","onbeforeunload","closeByEsc","onPopupClose","destroy","show","ajaxDocUrl","ajaxUfDocUrl","normalizeServiceName","toLowerCase","getUrlViewFile","addToLinkParam","getUrlCheckView","getUrlStartPublishBlank","getUrlCommitBlank","targetFolderId","getUrlRenameFile","getUrlCopyToMe","getUrlEditFile","getUrlCommitFile","getUrlDiscardBlankFile","value","length","indexOf"],"mappings":"CAAA,WAEC,aAKAA,GAAGC,UAAU,oBAObD,GAAGE,KAAKC,SAASC,YAAc,SAASC,GAEvCC,KAAKC,SAAWF,EAAWE,SAC3BD,KAAKE,iBAAmBH,EAAWG,iBACnCF,KAAKG,YAAcJ,EAAWI,YAC9BH,KAAKI,QAAU,KACfJ,KAAKK,aAAe,KACpBL,KAAKM,YAAc,KACnBN,KAAKO,YAAcR,EAAWQ,YAC9BP,KAAKQ,uBAAyB,KAE9B,GAAGd,GAAGe,KAAKC,WAAWX,EAAWO,aACjC,CACCN,KAAKM,YAAcP,EAAWO,cAIhCZ,GAAGE,KAAKC,SAASC,YAAYa,WAE5BC,MAAO,WAEN,IAAIC,EAAiBnB,GAAGoB,SAAS,sCACjC,GAAId,KAAKG,cAAgB,aACzB,CACC,GAAIU,EACJ,CACC,GAAInB,GAAGE,KAAKmB,gBAAgBC,WAAWC,yBACvC,CACCvB,GAAGE,KAAKmB,gBAAgBC,WAAWE,4BAEnC,OAED,GAAIxB,GAAGE,KAAKmB,gBAAgBC,WAAWG,sBACvC,CACCzB,GAAGE,KAAKmB,gBAAgBC,WAAWI,gBAEnC,QAIFpB,KAAKqB,aAEL,YAEI,GAAIR,GAAkBnB,GAAGE,KAAKmB,gBAAgBC,WAAWM,oBAC9D,CACC5B,GAAGE,KAAKmB,gBAAgBC,WAAWO,gBAEnC,OAGDvB,KAAKO,YAAcP,KAAKwB,mBAExBxB,KAAKyB,yBAAyBC,KAAK,SAAUtB,GAC5CJ,KAAK2B,mBACJC,KAAK5B,QAGR6B,yBAA0B,WAEzB,OACCC,OAAQ,oCACR3B,YAAaH,KAAKG,YAClBF,SAAUD,KAAKC,UAAY,EAC3BC,iBAAkBF,KAAKE,kBAAoB,IAI7C6B,cAAe,WAEd,OACCC,QAAS,SAIXX,WAAY,WAEX,IAAIY,EAAOjC,KAAK+B,gBAChBE,EAAKC,eAAiB,KAEtB,IAAIC,EAAUzC,GAAG0C,UAAUC,SAASC,KAAK5C,GAAG6C,KAAKC,cAAc,iCAAkCxC,KAAK6B,6BACrGY,MAAO,OACPC,mBAAoB,GACpBC,UAAW,MACXC,mBAAoB,MACpBX,KAAMA,IAGP,GAAIE,EACJ,CACCnC,KAAKQ,uBAAyBR,KAAK6C,gBAAgBjB,KAAK5B,MACxDN,GAAGoD,eAAe,6BAA8B9C,KAAKQ,0BAIvDqC,gBAAiB,SAASE,GAEzB,IAAIC,EAAYD,EAAME,UACtB,GAAIF,EAAMG,eAAiB,6BAA+BF,EAAUhB,UAAY,QAAUgB,EAAUhB,UAAY,UAChH,CACC,IAAImB,EAASH,EAAUG,OACvBzD,GAAG0D,kBAAkB,6BAA8BpD,KAAKQ,wBACxD,IAAI6C,GACHC,OAAQ,UACRH,OAAQA,GAETnD,KAAKM,YAAYiD,KAAKvD,KAAMqD,KAI9B7B,iBAAkB,WAEjB,OAAOxB,KAAKwD,UAAU9D,GAAG6C,KAAKC,cAAc,kCAC3CV,OAAQ,oCACR3B,YAAaH,KAAKG,YAClBF,SAAUD,KAAKC,UAAY,EAC3BC,iBAAkBF,KAAKE,kBAAoB,MAI7CuD,SAAU,WAET,OAAOzD,KAAKK,cAAgBL,KAAKK,aAAaqD,WAG/CF,UAAW,SAASG,EAAMlB,EAAOmB,GAEhCnB,EAAQA,GAAS,KACjBmB,EAASA,GAAU,IAEnB,GAAI5D,KAAKO,YACT,CACCP,KAAKO,YAAYsD,SAAWF,EAG7B,IAAIpD,EAAcP,KAAKO,aAAeb,GAAG6C,KAAKuB,MAAMH,EAAMlB,EAAOmB,GACjEG,OAAOC,iBAAiB,UAAW,SAAUjB,GAC5C,GAAIA,EAAMkB,QAAUF,OAAOF,SAASI,OACpC,CACC,OAGD,GAAGlB,EAAMd,KAAKiC,SAAW,0BACzB,CACClE,KAAKmE,iBAAiBpB,EAAMd,WAExB,GAAGc,EAAMd,KAAKiC,SAAW,gCAC9B,CACClE,KAAKoE,qBAGLxC,KAAK5B,MAAO,OAEd,OAAOO,GAGR8D,WAAY,WAEX,GAAIrE,KAAKO,YACT,CACC,IAECP,KAAKO,YAAY+D,QAElB,MAAOC,OAKTC,iBAAkB,WAEjB,OAAOxE,KAAKyE,eAGbN,iBAAkB,SAASlC,GAE1BjC,KAAKyE,cAAgBxC,GAGtByC,WAAY,WAEX,OAAO1E,KAAKI,SAGbqB,uBAAwB,WAEvB,IAAIkD,EAAU,IAAIjF,GAAGkF,QACrB,GAAI5E,KAAKI,QACT,CACCuE,EAAQE,QAAQ7E,KAAKI,SAErB,OAAOuE,EAGRjF,GAAGoF,KAAKC,UAAU,gCACjB9C,MACC9B,YAAaH,KAAKG,eAEjBuB,KAAK,SAAUsD,GACjBhF,KAAKI,QAAU4E,EAAS/C,KAAKgD,gBAE7BN,EAAQE,QAAQ7E,KAAKI,UACpBwB,KAAK5B,OAEP,OAAO2E,GAGRO,kBAAmB,WAElB,IAAIC,EAAMnF,KAAKC,SAAUD,KAAKI,QAAQgF,MAAMC,KAAOrF,KAAKI,QAAQgF,MAAME,GAAGD,KAEzEF,EAAMA,EAAII,QAAQ,UAAWvF,KAAKC,UAClCkF,EAAMA,EAAII,QAAQ,cAAevF,KAAKE,kBACtCiF,EAAMzF,GAAG6C,KAAKiD,iBAAiBL,EAAK,mBACpCA,EAAMzF,GAAG6C,KAAKC,cAAc2C,GAAMM,gBAAmB,WAErD,OAAON,GAGRO,KAAM,WAEL,OAAO1F,KAAK2F,SAASjE,KAAK,SAASsD,GAClCY,QAAQC,IAAI,SAAUb,GACtB,GAAIA,EAAS1B,SAAW,UACxB,CACC5D,GAAGoG,GAAGC,OAAO1D,SAASiC,QAEtB5E,GAAGE,KAAKoG,0BAA0BhB,GAClC,OAAOA,EAGR,GAAIA,EAASiB,iBACb,CACCvG,GAAGoG,GAAGC,OAAO1D,SAASiC,QAEtB5E,GAAGE,KAAKsG,kBAAkBC,2BAA2BxC,KAAMjE,GAAGE,KAAKwG,yBAAyBpB,EAASqB,aAAaC,UAGnH,CACCtG,KAAKM,YAAYiD,KAAKvD,KAAMgF,GAG7B,OAAOA,GACNpD,KAAK5B,QAGR2F,OAAQ,WAEPC,QAAQC,IAAI,UACZ,IAAIU,EAAc,IAAI7G,GAAGkF,QACzB,IAAI7E,EAAaC,KAAKwE,uBACtB,IAAIgC,EAAQzG,EAAWyG,OAASzG,EAAWuG,GAC3C,IAAKE,EACL,CACCZ,QAAQC,IAAI,qCACZU,EAAY1B,SAASvB,OAAQ,UAE7B,OAAOiD,EAGR,OAAO7G,GAAGoF,KAAKH,SACd8B,OAAQ,OACRC,SAAU,OACVC,IAAK3G,KAAKkF,oBACVjD,MACC0D,OAAQ,EACRiB,cAAe7G,EAAW6G,cAC1BN,GAAIE,EACJK,OAAQnH,GAAGoH,oBAKdC,mBAAoB,WAEnB,OAAO/G,KAAKgH,YAAYC,kBACvBjH,KAAKkF,sBAIPgC,QAAS,WAERtB,QAAQC,IAAI,WACZ,IAAIU,EAAc,IAAI7G,GAAGkF,QACzB,IAAI7E,EAAaC,KAAKwE,uBACtB,IAAIgC,EAAQzG,EAAWyG,OAASzG,EAAWuG,GAC3C,IAAKE,EACL,CACCZ,QAAQC,IAAI,qCACZU,EAAY1B,SAASvB,OAAQ,UAE7B,OAAOiD,EAGR7G,GAAGoF,MACF2B,OAAQ,OACRC,SAAU,OACVC,IAAK3G,KAAK+G,qBACV9E,MACCiF,QAAS,EACTN,cAAe7G,EAAW6G,cAC1BN,GAAIE,EACJK,OAAQnH,GAAGoH,iBAEZK,UAAW,SAASnC,GACnBY,QAAQC,IAAI,UAAWb,OAK1BZ,iBAAkB,WAEjBpE,KAAKK,cAAgBL,KAAKK,aAAaiE,SAGxC8C,mBAAoB,WAEnB,OACCC,MAAO3H,GAAG4H,QAAQ,8CAA8C/B,QAAQ,YAAavF,KAAKI,QAAQmH,MAClGC,KAAM9H,GAAG4H,QAAQ,+CAA+C/B,QAAQ,aAAc7F,GAAG4H,QAAQ,6BACjGG,WAAY/H,GAAG4H,QAAQ,sBAIzB3F,gBAAiB,WAEhB,IAAI+F,EAAahI,GAAGiI,OAAO,OAC1BC,OACCC,UAAW,iCAEZC,UACCpI,GAAGiI,OAAO,OACTC,OACCC,UAAW,uCAEZL,KAAMxH,KAAKoH,qBAAqBC,MAChCS,cAEDpI,GAAGiI,OAAO,OACTC,OACCC,UAAW,2CAEZC,UACCpI,GAAGiI,OAAO,QACTC,OACCC,UAAW,kDAGbnI,GAAGiI,OAAO,QACTC,OACCC,UAAW,sCAEZL,KAAMxH,KAAKoH,qBAAqBI,aAOpCxH,KAAKK,aAAeX,GAAGqI,mBAAmBJ,OAAO,wBAAyB,MACzEK,QAASN,EACVO,QAAS,KACTC,SACC,IAAIxI,GAAGyI,yBACNX,KAAOxH,KAAKoH,qBAAqBK,WACjCI,UAAY,wBACZO,QACCC,MAAO,WACN,IAAIC,EAAc5I,GAAGE,KAAK2I,iBACzBf,KAAM9H,GAAG4H,QAAQ,+CACjBkB,eAAgB,KAChBC,SAAU,QAGXzI,KAAKK,aAAaiE,QAClBtE,KAAKqE,aACLN,OAAO2E,eAAiB,KAExB1I,KAAK0F,OAAOhE,KAAK,WAChBkE,QAAQC,IAAI,qBACZyC,EAAYhE,WAEZ1C,KAAK5B,SAGT,IAAIN,GAAGyI,yBACNX,KAAM9H,GAAG4H,QAAQ,sBACjBO,UAAW,qBACXO,QACCC,MAAO,WACNrI,KAAKkH,UACLlH,KAAKK,aAAaiE,QAClBtE,KAAKqE,cACJzC,KAAK5B,UAITyI,SAAU,MACXE,WAAY,MACZP,QAAUQ,aAAe,WAAa5I,KAAK6I,cAE5C7I,KAAKK,aAAayI,QAGnB9B,UAAW,WAEV,IAAI7G,EAAcH,KAAKG,YAEvB,OACC4I,WAAY,kCACZC,aAAc,4BAEdC,qBAAsB,SAAS7I,GAE9B,OAAOA,EAAQ8I,eAEd,IAAK,IACL,IAAK,SACL,IAAK,SACJ9I,EAAU,SACV,MACD,IAAK,IACL,IAAK,WACL,IAAK,YACL,IAAK,WACJA,EAAU,WACV,MACD,IAAK,YACJA,EAAU,YACV,MACD,IAAK,WACJA,EAAU,WACV,MACD,IAAK,IACL,IAAK,QACJA,EAAU,IACV,MACD,QACCA,EAAU,SACV,MAEF,OAAOA,GAGR+I,eAAgB,SAASxC,GAExBA,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAW,WAC1CA,EAAM3G,KAAKoJ,eAAezC,EAAK,kBAAmB,QAClD,OAAOA,GAGR0C,gBAAiB,SAAS1C,GAEzBA,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAW,WAC1CA,EAAM3G,KAAKoJ,eAAezC,EAAK,kBAAmB,aAClD,OAAOA,GAGR2C,wBAAyB,SAAS3C,EAAKlG,GAEtCkG,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAWxG,GAC1CwG,EAAM3G,KAAKoJ,eAAezC,EAAK,OAAQlG,GACvC,OAAOkG,GAIR4C,kBAAmB,SAAS5C,EAAKlG,EAAM+I,GAEtC7C,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAWxG,GAC1CwG,EAAM3G,KAAKoJ,eAAezC,EAAK,kBAAmB,aAClDA,EAAM3G,KAAKoJ,eAAezC,EAAK,OAAQlG,GACvC,GAAG+I,EACH,CACC7C,EAAM3G,KAAKoJ,eAAezC,EAAK,iBAAkB6C,GAElD,OAAO7C,GAGR8C,iBAAkB,SAAS9C,GAE1BA,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAWxG,GAC1CwG,EAAM3G,KAAKoJ,eAAezC,EAAK,kBAAmB,UAClD,OAAOA,GAGR+C,eAAgB,SAAS/C,GAExBA,EAAM3G,KAAKoJ,eAAezC,EAAK,SAAU,YACzC,OAAOA,GAGRgD,eAAgB,SAAShD,EAAKvG,GAE7BuG,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAWxG,GAC1C,OAAOwG,GAGRiD,iBAAkB,SAASjD,GAE1BA,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAWxG,GAC1CwG,EAAM3G,KAAKoJ,eAAezC,EAAK,kBAAmB,UAClD,OAAOA,GAGRM,kBAAmB,SAASN,GAE3BA,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAWxG,GAC1CwG,EAAM3G,KAAKoJ,eAAezC,EAAK,kBAAmB,WAClD,OAAOA,GAGRkD,uBAAwB,SAASlD,GAEhCA,EAAM3G,KAAKoJ,eAAezC,EAAK,UAAWxG,GAC1CwG,EAAM3G,KAAKoJ,eAAezC,EAAK,kBAAmB,gBAClD,OAAOA,GAGRyC,eAAgB,SAASzF,EAAM4D,EAAMuC,GAEpC,IAAInG,EAAKoG,OACT,CACC,MAAO,IAAMxC,EAAO,IAAMuC,EAE3BnG,EAAOjE,GAAG6C,KAAKiD,iBAAiB7B,EAAM4D,GACtC,GAAG5D,EAAKqG,QAAQ,OAAS,EACzB,CACC,OAAOrG,EAAO,IAAM4D,EAAO,IAAMuC,EAElC,OAAOnG,EAAO,IAAM4D,EAAO,IAAMuC,OA/hBtC","file":"editprocess.map.js"}