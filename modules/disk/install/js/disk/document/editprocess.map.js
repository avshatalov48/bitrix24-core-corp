{"version":3,"file":"editprocess.map.js","names":["BX","namespace","Disk","Document","EditProcess","parameters","this","objectId","attachedObjectId","serviceCode","service","popupConfirm","onAfterSave","modalWindow","handlerOnSliderMessage","type","isFunction","prototype","start","hasPromoPopups","getClass","OnlyOfficePromo","PromoPopup","shouldBlockViewAndEdit","showCommonPromoForNonPaid","shouldShowEditPromo","showEditPromo","openSlider","shouldShowEndDemo","showEndOfDemo","buildModalWindow","loadServiceDescription","then","openEditConfirm","bind","getSliderQueryParameters","action","getSliderData","process","data","documentEditor","success","SidePanel","Instance","open","util","add_url_param","width","customLeftBoundary","cacheable","allowChangeHistory","onSliderMessage","addCustomEvent","event","eventData","getData","getEventId","object","removeCustomEvent","pseudoResponse","status","call","openModal","isActive","isShown","link","height","location","popup","window","addEventListener","origin","reason","setDataForCommit","closeEditConfirm","closeModal","close","e","getDataForCommit","dataForCommit","getService","promise","Promise","fulfill","ajax","runAction","response","documentService","buildLinkToCommit","uri","links","edit","uf","replace","remove_url_param","document_action","save","commit","UI","Viewer","showModalWithStatusAction","originalIsLocked","InformationPopups","showWarningLockedDocument","getUrlToShowObjectInGrid","forkedObject","id","fakePromise","idDoc","console","log","method","dataType","url","editSessionId","sessid","bitrix_sessid","buildLinkToDiscard","urlHelper","getUrlDiscardFile","discard","onsuccess","getConfirmMessages","title","message","name","text","saveButton","saveDialog","create","props","className","children","PopupWindowManager","content","overlay","buttons","PopupWindowCustomButton","events","click","actionModal","showActionModal","showLoaderIcon","autoHide","onbeforeunload","closeByEsc","onPopupClose","destroy","show","ajaxDocUrl","ajaxUfDocUrl","normalizeServiceName","toLowerCase","getUrlViewFile","addToLinkParam","getUrlCheckView","getUrlStartPublishBlank","getUrlCommitBlank","targetFolderId","getUrlRenameFile","getUrlCopyToMe","getUrlEditFile","getUrlCommitFile","getUrlDiscardBlankFile","value","length","indexOf"],"sources":["editprocess.js"],"mappings":"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"}