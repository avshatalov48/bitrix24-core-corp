this.BX=this.BX||{};this.BX.Disk=this.BX.Disk||{};(function(e,t,o,i){"use strict";var s,n;var _=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"userBoxNode",null)}babelHelpers.createClass(e,null,[{key:"shouldBlockViewAndEdit",value:function e(){if(!BX.Disk.isAvailableOnlyOffice()){return false}if(BX.message["disk_onlyoffice_can_view"]===undefined){return false}return BX.message["disk_onlyoffice_can_view"]==false}},{key:"shouldShowViewPromo",value:function e(){if(!BX.Disk.isAvailableOnlyOffice()){return false}if(BX.message["disk_onlyoffice_got_promo_about"]===undefined){return false}return BX.message["disk_onlyoffice_got_promo_about"]==false}},{key:"shouldShowEndDemo",value:function e(){if(!BX.Disk.isAvailableOnlyOffice()){return false}if(BX.message["disk_onlyoffice_demo_ended"]==false){return false}if(BX.message["disk_onlyoffice_got_end_demo"]===undefined){return false}return BX.message["disk_onlyoffice_got_end_demo"]==false}},{key:"shouldShowEditPromo",value:function e(){if(!BX.Disk.isAvailableOnlyOffice()){return false}if(BX.message["disk_onlyoffice_can_edit"]===undefined){return false}return BX.message["disk_onlyoffice_can_edit"]==false}},{key:"canEdit",value:function e(){if(!BX.Disk.isAvailableOnlyOffice()){return false}if(BX.message["disk_onlyoffice_can_edit"]===undefined){return false}return BX.message["disk_onlyoffice_can_edit"]==true}},{key:"registerView",value:function e(t){BX.userOptions.save("disk",t,"v",1);BX.userOptions.send(null);if(t==="got_promo_onlyoffice"){BX.message["disk_onlyoffice_got_promo_about"]=true}else if(t==="got_end_demo_onlyoffice"){BX.message["disk_onlyoffice_got_end_demo"]=true}}},{key:"showCommonPromoForNonPaid",value:function e(){if(this.shouldShowEndDemo()){this.showEndOfDemo()}else if(t.Reflection.getClass("BX.UI.InfoHelper")){BX.UI.InfoHelper.show("limit_office_no_document",{featureId:"disk_onlyoffice_edit"});o.EventEmitter.subscribeOnce("BX.UI.InfoHelper:onActivateTrialFeatureSuccess",function(){t.ajax.runAction("disk.api.onlyoffice.handleTrialFeatureActivation",{})})}}},{key:"showEditPromo",value:function e(){if(this.shouldShowEndDemo()){this.showEndOfDemo()}else if(t.Reflection.getClass("BX.UI.InfoHelper")){BX.UI.InfoHelper.show("limit_office_small_documents",{featureId:"disk_onlyoffice_edit"})}}},{key:"showViewPromo",value:function e(){var o=this;var n=this.canEdit()?t.Loc.getMessage("JS_DISK_ONLYOFFICE_PROMO_EDIT_POPUP_1"):t.Loc.getMessage("JS_DISK_ONLYOFFICE_PROMO_VIEW_POPUP_1");var _=t.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(["\n\t\t\t<div>\n\t\t\t\t<div>",'</div>\n\t\t\t\t<div style="padding-top: 15px;">','</div>\n\t\t\t\t<div style="padding-top: 15px;">',"</div>\n\t\t\t</div>\n\t\t"])),n,t.Loc.getMessage("JS_DISK_ONLYOFFICE_PROMO_VIEW_POPUP_2"),t.Loc.getMessage("JS_DISK_ONLYOFFICE_PROMO_VIEW_POPUP_3"));i.MessageBox.show({title:this.canEdit()?t.Loc.getMessage("JS_DISK_ONLYOFFICE_PROMO_EDIT_POPUP_TITLE"):t.Loc.getMessage("JS_DISK_ONLYOFFICE_PROMO_VIEW_POPUP_TITLE"),message:_,modal:true,buttons:i.MessageBoxButtons.OK,okCaption:t.Loc.getMessage("DISK_JS_BTN_CLOSE"),popupOptions:{events:{onPopupShow:function e(){o.registerView("got_promo_onlyoffice")}}}})}},{key:"showEndOfDemo",value:function e(){var o=this;var s=t.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(["\n\t\t\t<div>\n\t\t\t\t<div>","</div>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>","</li>\n\t\t\t\t\t<li>","</li>\n\t\t\t\t\t<li>","</li>\n\t\t\t\t</ul>\n\t\t\t\t<div>","</div>\n\t\t\t</div>\n\t\t"])),t.Loc.getMessage("JS_DISK_ONLYOFFICE_END_DEMO_POPUP_1"),t.Loc.getMessage("JS_DISK_ONLYOFFICE_END_DEMO_POPUP_LIST_1"),t.Loc.getMessage("JS_DISK_ONLYOFFICE_END_DEMO_POPUP_LIST_2"),t.Loc.getMessage("JS_DISK_ONLYOFFICE_END_DEMO_POPUP_LIST_3"),t.Loc.getMessage("JS_DISK_ONLYOFFICE_END_DEMO_POPUP_NOTICE"));i.MessageBox.show({title:t.Loc.getMessage("JS_DISK_ONLYOFFICE_END_DEMO_POPUP_TITLE"),message:s,modal:true,buttons:i.MessageBoxButtons.OK_CANCEL,okCaption:t.Loc.getMessage("JS_DISK_ONLYOFFICE_END_DEMO_POPUP_CONTINUE_WORK_WITH_DOCS"),onOk:function e(){o.showEditPromo();return true},cancelCaption:t.Loc.getMessage("JS_DISK_ONLYOFFICE_END_DEMO_POPUP_SETUP_WORK"),onCancel:function e(){BX.Disk.InformationPopups.openWindowForSelectDocumentService({});return true},popupOptions:{events:{onPopupShow:function e(){o.registerView("got_end_demo_onlyoffice");BX.message.disk_document_service=null;t.ajax.runAction("disk.api.onlyoffice.handleEndOfTrialFeature",{})}}}})}}]);return e}();e.PromoPopup=_})(this.BX.Disk.OnlyOfficePromo=this.BX.Disk.OnlyOfficePromo||{},BX,BX.Event,BX.UI.Dialogs);
//# sourceMappingURL=disk.onlyoffice-promo-popup.bundle.map.js