(function(){"use strict";BX.namespace("BX.Disk.Viewer");BX.Disk.Viewer.OnlyOfficeItem=function(e){e=e||{};BX.UI.Viewer.Item.apply(this,arguments);this.objectId=e.objectId;this.attachedObjectId=e.attachedObjectId;this.versionId=e.versionId};BX.Disk.Viewer.OnlyOfficeItem.prototype={__proto__:BX.UI.Viewer.Item.prototype,constructor:BX.UI.Viewer.Item,setController:function(e){BX.UI.Viewer.Item.prototype.setController.apply(this,arguments);this.controller.preload=0},setPropertiesByNode:function(e){BX.UI.Viewer.Item.prototype.setPropertiesByNode.apply(this,arguments);this.objectId=e.dataset.objectId;this.attachedObjectId=e.dataset.attachedObjectId;this.versionId=e.dataset.versionId},loadData:function(){this.controller.close();var e=BX.UI.Viewer.Instance.processPreload;var t=BX.UI.Viewer.Instance.updateControls;var n=BX.UI.Viewer.Instance.lockScroll;var i=BX.UI.Viewer.Instance.adjustViewerHeight;var r=BX.UI.Viewer.Instance.bindEvents;BX.UI.Viewer.Instance.processPreload=function(){};BX.UI.Viewer.Instance.updateControls=function(){};BX.UI.Viewer.Instance.lockScroll=function(){};BX.UI.Viewer.Instance.adjustViewerHeight=function(){};BX.UI.Viewer.Instance.bindEvents=function(){this.close();BX.UI.Viewer.Instance.processPreload=e;BX.UI.Viewer.Instance.updateControls=t;BX.UI.Viewer.Instance.lockScroll=n;BX.UI.Viewer.Instance.adjustViewerHeight=i;BX.UI.Viewer.Instance.bindEvents=r;setTimeout(function(){BX.UI.Viewer.Instance.close();BX.remove(BX.UI.Viewer.Instance.layout.container);BX.removeClass(BX.UI.Viewer.Instance.layout.container,"ui-viewer-hide");BX.unbindAll(BX.UI.Viewer.Instance.layout.container);BX.UI.Viewer.Instance.actionPanel.hidePanel();BX.UI.Viewer.Instance.unLockScroll();BX.UI.Viewer.Instance.unbindEvents();BX.UI.Viewer.Instance.disableReadingMode();if(BX.UI.Viewer.Instance.isBodyPaddingAdded){BX.UI.Viewer.Instance.removeBodyPadding()}window.dispatchEvent(new Event("resize"))},10)};BX.SidePanel.Instance.open(BX.util.add_url_param("/bitrix/services/main/ajax.php",this.getSliderQueryParameters()),{width:"100%",cacheable:false,customLeftBoundary:30,allowChangeHistory:false,data:{documentEditor:true}});return new BX.Promise},getSliderQueryParameters:function(){return{action:"disk.api.documentService.goToPreview",serviceCode:"onlyoffice",objectId:this.objectId||0,attachedObjectId:this.attachedObjectId||0,versionId:this.versionId||0}},render:function(){return document.createDocumentFragment()},getContentWidth:function(){return new BX.Promise}}})();
//# sourceMappingURL=onlyoffice-item.map.js