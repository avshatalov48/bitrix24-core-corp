this.BX=this.BX||{};this.BX.Disk=this.BX.Disk||{};(function(e){"use strict";var t=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);e=e||{};r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));r.objectId=e.objectId;r.attachedObjectId=e.attachedObjectId;r.versionId=e.versionId;r.openEditInsteadPreview=e.openEditInsteadPreview;return r}babelHelpers.createClass(t,[{key:"setController",value:function e(r){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"setController",this).call(this,r);this.controller.preload=0}},{key:"enableEditInsteadPreview",value:function e(){this.openEditInsteadPreview=true}},{key:"setPropertiesByNode",value:function e(r){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"setPropertiesByNode",this).call(this,r);this.objectId=r.dataset.objectId;this.attachedObjectId=r.dataset.attachedObjectId;this.versionId=r.dataset.versionId;this.openEditInsteadPreview=r.dataset.openEditInsteadPreview}},{key:"loadData",value:function e(){var t=BX.util.getRandomString(16);BX.Disk.sendTelemetryEvent({action:"start",uid:t});BX.SidePanel.Instance.open(BX.util.add_url_param("/bitrix/services/main/ajax.php",this.getSliderQueryParameters()),{width:"100%",cacheable:false,customLeftBoundary:30,allowChangeHistory:false,data:{documentEditor:true,uid:t}});return new BX.Promise}},{key:"getSliderQueryParameters",value:function e(){var t="disk.api.documentService.goToPreview";if(this.openEditInsteadPreview&&BX.Disk.getDocumentService()==="onlyoffice"){t="disk.api.documentService.goToEditOrPreview"}return{action:t,serviceCode:"onlyoffice",objectId:this.objectId||0,attachedObjectId:this.attachedObjectId||0,versionId:this.versionId||0}}}]);return t}(BX.UI.Viewer.Item);var r=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);e=e||{};r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));r.documentViewUrl=e.documentViewUrl;return r}babelHelpers.createClass(t,[{key:"setPropertiesByNode",value:function e(r){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"setPropertiesByNode",this).call(this,r);this.documentViewUrl=r.dataset.documentViewUrl}},{key:"getDocumentViewUrl",value:function e(){return this.documentViewUrl}},{key:"setController",value:function e(r){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"setController",this).call(this,r);this.controller.preload=0}},{key:"loadData",value:function e(){var t=BX.util.getRandomString(16);BX.Disk.sendTelemetryEvent({action:"start",uid:t});BX.SidePanel.Instance.open(this.getDocumentViewUrl(),{width:"100%",cacheable:false,customLeftBoundary:30,allowChangeHistory:false,data:{documentEditor:true,uid:t}});return new BX.Promise}}]);return t}(BX.UI.Viewer.Item);e.OnlyOfficeItem=t;e.OnlyofficeExternalLinkItem=r})(this.BX.Disk.Viewer=this.BX.Disk.Viewer||{});
//# sourceMappingURL=disk.onlyoffice-item.bundle.map.js