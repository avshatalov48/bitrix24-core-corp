this.BX=this.BX||{};(function(t,o,e,n){"use strict";var c;var a=function(){function t(){babelHelpers.classCallCheck(this,t);n.EventEmitter.subscribe("seo-client-auth-result",(function(t){if(t.reload){BX.Dom.addClass(document.getElementById("catalog-login-button"),"ui-btn-wait")}}));o.Event.bind(document.getElementById("catalog-logout-button"),"click",this.confirmLogout.bind(this))}babelHelpers.createClass(t,[{key:"confirmLogout",value:function t(){var n=this;var c=new e.Popup({content:this.getConfirmPopupHtml(),autoHide:true,cacheable:false,closeIcon:true,closeByEsc:true,overlay:{opacity:20},buttons:[new BX.UI.Button({text:o.Loc.getMessage("IMCONNECTOR_COMPONENT_FACEBOOK_OPENLINES_CATALOG_DISCONNECT"),color:BX.UI.Button.Color.DANGER,onclick:function t(){c.close();n.logout()}}),new BX.UI.Button({text:o.Loc.getMessage("IMCONNECTOR_COMPONENT_FACEBOOK_OPENLINES_CATALOG_CANCEL"),color:BX.UI.Button.Color.LINK,onclick:function t(){c.close()}})]});c.show()}},{key:"getConfirmPopupHtml",value:function t(){return o.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['<div class="imconnector-facebook-catalog-popup">\n\t\t\t<div class="imconnector-facebook-catalog-popup-text">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t</div>"])),o.Loc.getMessage("IMCONNECTOR_COMPONENT_FACEBOOK_OPENLINES_CATALOG_REMOVE"))}},{key:"logout",value:function t(){BX.ajax.runComponentAction("bitrix:imconnector.facebook","logout",{mode:"ajax"}).then((function(){document.location.href=new o.Uri(document.location.href).setQueryParams({MENU_TAB:"catalog"})}))}}]);return t}();o.Reflection.namespace("BX.ImConnector").FacebookCatalogConnector=a})(this.BX.ImConnector=this.BX.ImConnector||{},BX,BX.Main,BX.Event);
//# sourceMappingURL=index.map.js