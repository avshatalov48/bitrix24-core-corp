{"version":3,"file":"manager.bundle.js","sources":["../src/manager.js"],"sourcesContent":["import {Reflection, Type, Uri} from 'main.core';\n\nimport 'ui.design-tokens';\nimport 'ui.fonts.opensans';\nimport 'sidepanel';\n\n\nlet instance = null;\n\nclass Manager\n{\n\turlTemplates = {};\n\n\tstatic editors = {};\n\n\tstatic get Instance(): Manager\n\t{\n\t\tif (window.top !== window)\n\t\t{\n\t\t\treturn window.top.BX.Rpa.Manager.Instance;\n\t\t}\n\n\t\tif(instance === null)\n\t\t{\n\t\t\tinstance = new Manager();\n\t\t}\n\n\t\treturn instance;\n\t}\n\n\tsetUrlTemplates(urlTemplates: Object): Manager\n\t{\n\t\tif(Type.isPlainObject(urlTemplates))\n\t\t{\n\t\t\tthis.urlTemplates = urlTemplates;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tstatic addEditor(typeId: number, itemId: number, editor)\n\t{\n\t\tconst editorClass = Reflection.getClass('BX.UI.EntityEditor');\n\t\tif(!editorClass)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif(Type.isInteger(typeId) && Type.isInteger(itemId) && editor instanceof BX.UI.EntityEditor)\n\t\t{\n\t\t\tif(!Manager.editors[typeId])\n\t\t\t{\n\t\t\t\tManager.editors[typeId] = {};\n\t\t\t}\n\t\t\tManager.editors[typeId][itemId] = editor;\n\t\t}\n\t}\n\n\t/**\n\t * @param typeId\n\t * @param itemId\n\t * @returns {null|BX.UI.EntityEditor}\n\t */\n\tstatic getEditor(typeId: number, itemId: number): ?Object\n\t{\n\t\tif(Type.isInteger(typeId) && Type.isInteger(itemId) && Manager.editors[typeId] && Manager.editors[typeId][itemId])\n\t\t{\n\t\t\treturn Manager.editors[typeId][itemId];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tstatic openSlider(url, options): Promise<?BX.SidePanel.Slider>\n\t{\n\t\tif(!Type.isPlainObject(options))\n\t\t{\n\t\t\toptions = {};\n\t\t}\n\t\toptions = {...{cacheable: false, allowChangeHistory: true, events: {}}, ...options};\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(Type.isString(url) && url.length > 1)\n\t\t\t{\n\t\t\t\toptions.events.onClose = function(event)\n\t\t\t\t{\n\t\t\t\t\tresolve(event.getSlider());\n\t\t\t\t};\n\t\t\t\tBX.SidePanel.Instance.open(url, options);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\topenTasks(typeId: number, itemId: number): Promise<{isCompleted: boolean}>\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tManager.openSlider(\n\t\t\t\tthis.getTasksUrl(typeId, itemId).toString(),\n\t\t\t\t{width: 580, cacheable: false, allowChangeHistory: false}\n\t\t\t).then((slider) =>\n\t\t\t{\n\t\t\t\tlet isCompleted = false;\n\t\t\t\tlet item = null;\n\t\t\t\tif(slider.isLoaded())\n\t\t\t\t{\n\t\t\t\t\tisCompleted = slider.getData().get('isCompleted') || false;\n\t\t\t\t\titem = slider.getData().get('item') || null;\n\t\t\t\t}\n\n\t\t\t\tresolve({\n\t\t\t\t\tisCompleted,\n\t\t\t\t\titem,\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTasksUrl(typeId: number, itemId: number): ?Uri\n\t{\n\t\tconst template = this.urlTemplates['bitrix:rpa.task'];\n\t\tif(template)\n\t\t{\n\t\t\treturn new Uri(template.replace('#typeId#', typeId).replace('#elementId#', itemId));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\topenKanban(typeId: number): boolean\n\t{\n\t\tconst template = this.urlTemplates['bitrix:rpa.kanban'];\n\t\tif(template)\n\t\t{\n\t\t\tlocation.href = (new Uri(template.replace('#typeId#', typeId))).toString();\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\topenTypeDetail(typeId: number, options: ?{}): ?Promise<?BX.SidePanel.Slider>\n\t{\n\t\tif(!Type.isPlainObject(options))\n\t\t{\n\t\t\toptions = {};\n\t\t}\n\t\toptions.width = 702;\n\t\tconst template = this.urlTemplates['bitrix:rpa.type.detail'];\n\t\tif(template)\n\t\t{\n\t\t\treturn Manager.openSlider(template.replace('#id#', typeId), options);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetItemDetailUrl(typeId: number, itemId: number = 0): ?Uri\n\t{\n\t\tconst template = this.urlTemplates['bitrix:rpa.item.detail'];\n\t\tif(template)\n\t\t{\n\t\t\treturn new Uri(template.replace('#typeId#', typeId).replace('#id#', itemId));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\topenItemDetail(typeId: number, itemId: number = 0, options: ?{} = {}): ?Promise<?BX.SidePanel.Slider>\n\t{\n\t\tconst uri = this.getItemDetailUrl(typeId, itemId);\n\t\tif(uri)\n\t\t{\n\t\t\treturn Manager.openSlider(uri.toString(), options);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetStageListUrl(typeId: number): ?Uri\n\t{\n\t\tconst template = this.urlTemplates['bitrix:rpa.stage.list'];\n\t\tif(template)\n\t\t{\n\t\t\treturn new Uri(template.replace('#typeId#', typeId));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\topenStageList(typeId: number): ?Promise<?BX.SidePanel.Slider>\n\t{\n\t\tconst url = this.getStageListUrl(typeId);\n\t\tif(url)\n\t\t{\n\t\t\treturn Manager.openSlider(url.toString());\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetFieldsListUrl(typeId: number): ?Uri\n\t{\n\t\tconst template = this.urlTemplates['fieldsList'];\n\t\tif(template)\n\t\t{\n\t\t\treturn new Uri(template.replace('#typeId#', typeId));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\topenFieldsList(typeId: number): ?Promise<?BX.SidePanel.Slider>\n\t{\n\t\tconst url = this.getFieldsListUrl(typeId);\n\t\tif(url)\n\t\t{\n\t\t\treturn Manager.openSlider(url.toString());\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetFieldDetailUrl(typeId: number, fieldId: number): ?Uri\n\t{\n\t\tconst template = this.urlTemplates['fieldDetail'];\n\t\tif(template)\n\t\t{\n\t\t\treturn new Uri(template.replace('#typeId#', typeId).replace('#fieldId#', fieldId));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\topenFieldDetail(typeId: number, fieldId: number, options: {}): ?Promise<?BX.SidePanel.Slider>\n\t{\n\t\tconst url = this.getFieldDetailUrl(typeId, fieldId);\n\t\tif(url)\n\t\t{\n\t\t\treturn Manager.openSlider(url.toString(), options);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tstatic calculateTextColor(baseColor)\n\t{\n\t\tvar r, g, b;\n\t\tif ( baseColor.length > 7 )\n\t\t{\n\t\t\tvar hexComponent = baseColor.split(\"(\")[1].split(\")\")[0];\n\t\t\thexComponent = hexComponent.split(\",\");\n\t\t\tr = parseInt(hexComponent[0]);\n\t\t\tg = parseInt(hexComponent[1]);\n\t\t\tb = parseInt(hexComponent[2]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(/^#([A-Fa-f0-9]{3}){1,2}$/.test(baseColor))\n\t\t\t{\n\t\t\t\tvar c = baseColor.substring(1).split('');\n\t\t\t\tif(c.length === 3)\n\t\t\t\t{\n\t\t\t\t\tc= [c[0], c[0], c[1], c[1], c[2], c[2]];\n\t\t\t\t}\n\t\t\t\tc = '0x'+c.join('');\n\t\t\t\tr = ( c >> 16 ) & 255;\n\t\t\t\tg = ( c >> 8 ) & 255;\n\t\t\t\tb =  c & 255;\n\t\t\t}\n\t\t}\n\n\t\tvar y = 0.21 * r + 0.72 * g + 0.07 * b;\n\t\treturn ( y < 145 ) ? \"#fff\" : \"#333\";\n\t}\n\n\tcloseSettingsMenu(event, item)\n\t{\n\t\tif(item && Type.isFunction(item.getMenuWindow))\n\t\t{\n\t\t\tconst window = item.getMenuWindow();\n\t\t\tif(window)\n\t\t\t{\n\t\t\t\twindow.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tconst menu = this;\n\t\tif(menu && Type.isFunction(menu.close))\n\t\t{\n\t\t\tmenu.close();\n\t\t}\n\t}\n\n\tshowFeatureSlider(event, item)\n\t{\n\t\tManager.Instance.closeSettingsMenu(event, item);\n\t\tBX.UI.InfoHelper.show('limit_robotic_process_automation');\n\t}\n}\n\nexport {\n\tManager\n};"],"names":["instance","Manager","urlTemplates","Type","isPlainObject","typeId","itemId","Promise","resolve","openSlider","getTasksUrl","toString","width","cacheable","allowChangeHistory","then","slider","isCompleted","item","isLoaded","getData","get","template","Uri","replace","location","href","options","uri","getItemDetailUrl","url","getStageListUrl","getFieldsListUrl","fieldId","getFieldDetailUrl","event","isFunction","getMenuWindow","window","close","menu","Instance","closeSettingsMenu","BX","UI","InfoHelper","show","editor","editorClass","Reflection","getClass","isInteger","EntityEditor","editors","events","isString","length","onClose","getSlider","SidePanel","open","baseColor","r","g","b","hexComponent","split","parseInt","test","c","substring","join","y","top","Rpa"],"mappings":"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"}