{"version":3,"file":"fieldscontroller.bundle.js","sources":["../src/fieldscontroller.js"],"sourcesContent":["import {Text, Dom, Loc, Tag, Type, Event} from 'main.core';\nimport {Factory} from 'ui.userfieldfactory';\nimport {UserField} from 'ui.userfield';\nimport {Loader} from 'main.loader';\nimport {EventEmitter, BaseEvent} from 'main.core.events';\nimport {MenuManager, Menu} from 'main.popup';\n\nimport {Manager} from 'rpa.manager';\n\nimport 'ui.design-tokens';\nimport 'ui.switcher';\n\n/**\n * @memberof BX.Rpa\n * @mixes EventEmitter\n */\nexport class FieldsController\n{\n\tconstructor(params: {\n\t\tfields: ?Object,\n\t\thiddenFields: ?Object,\n\t\tfactory: ?Factory,\n\t\tfieldSubTitle: ?string,\n\t\terrorContainer: ?Element,\n\t\tsettings: ?{\n\t\t\tinputName: string,\n\t\t\tvalues: ?Object\n\t\t},\n\t\ttypeId: number,\n\t\tlanguageId: string,\n\t})\n\t{\n\t\tEventEmitter.makeObservable(this, 'BX.Rpa.FieldsController');\n\t\tthis.fields = new Map();\n\t\tthis.hiddenFields = new Map();\n\t\tthis.layout = {};\n\t\tthis.fieldSubTitle = Loc.getMessage('RPA_FIELDS_SELECTOR_FIELD_DEFAULT_SUBTITLE');\n\t\tthis.errorContainer = null;\n\t\tthis.progress = false;\n\t\tif(Type.isPlainObject(params))\n\t\t{\n\t\t\tif(params.factory instanceof Factory)\n\t\t\t{\n\t\t\t\tthis.factory = params.factory;\n\t\t\t}\n\t\t\tif(Type.isPlainObject(params.fields))\n\t\t\t{\n\t\t\t\tthis.setFields(params.fields);\n\t\t\t}\n\t\t\tif(Type.isPlainObject(params.hiddenFields))\n\t\t\t{\n\t\t\t\tthis.setHiddenFields(params.hiddenFields);\n\t\t\t}\n\t\t\tif(Type.isString(params.fieldSubTitle))\n\t\t\t{\n\t\t\t\tthis.fieldSubTitle = params.fieldSubTitle;\n\t\t\t}\n\t\t\tif(Type.isDomNode(params.errorContainer))\n\t\t\t{\n\t\t\t\tthis.errorContainer = params.errorContainer;\n\t\t\t}\n\t\t\tif(Type.isPlainObject(params.settings))\n\t\t\t{\n\t\t\t\tthis.settings = params.settings;\n\t\t\t\tif(!Type.isString(this.settings.inputName))\n\t\t\t\t{\n\t\t\t\t\tthis.settings.inputName = '';\n\t\t\t\t}\n\t\t\t\tif(!Type.isPlainObject(this.settings.values))\n\t\t\t\t{\n\t\t\t\t\tthis.settings.values = {};\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.typeId = Text.toInteger(params.typeId);\n\t\t\tthis.languageId = params.languageId || Loc.getMessage('LANGUAGE_ID');\n\t\t\tif(this.factory)\n\t\t\t{\n\t\t\t\tthis.factory.setCustomTypesUrl(Manager.Instance.getFieldDetailUrl(this.typeId, 0));\n\t\t\t\tthis.factory.subscribe('onCreateCustomUserField', (event: BaseEvent) =>\n\t\t\t\t{\n\t\t\t\t\tconst userField = event.getData().userField;\n\t\t\t\t\tthis.addField(userField)\n\t\t\t\t\t\t.renderFields();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFields(): Map\n\t{\n\t\treturn this.fields;\n\t}\n\n\tsetFields(fields: Object): this\n\t{\n\t\tObject.keys(fields).forEach((fieldName) =>\n\t\t{\n\t\t\tthis.addField(new UserField(fields[fieldName], {\n\t\t\t\tlanguageId: this.languageId,\n\t\t\t\tmoduleId: this.factory ? this.factory.moduleId : null,\n\t\t\t}));\n\t\t});\n\n\t\treturn this;\n\t}\n\n\taddField(userField: UserField): this\n\t{\n\t\tthis.fields.set(userField.getName(), userField);\n\n\t\treturn this;\n\t}\n\n\tremoveField(userField: UserField): this\n\t{\n\t\tthis.fields.delete(userField.getName());\n\n\t\treturn this;\n\t}\n\n\tsetHiddenFields(fields: Object): this\n\t{\n\t\tObject.keys(fields).forEach((fieldName) =>\n\t\t{\n\t\t\tthis.addHiddenField(new UserField(fields[fieldName], {\n\t\t\t\tlanguageId: this.languageId,\n\t\t\t\tmoduleId: this.factory ? this.factory.moduleId : null,\n\t\t\t}));\n\t\t});\n\n\t\treturn this;\n\t}\n\n\taddHiddenField(userField: UserField): this\n\t{\n\t\tthis.hiddenFields.set(userField.getName(), userField);\n\n\t\treturn this;\n\t}\n\n\tremoveHiddenField(userField: UserField): this\n\t{\n\t\tthis.hiddenFields.delete(userField.getName());\n\n\t\treturn this;\n\t}\n\n\trender(): Element\n\t{\n\t\tconst container = this.renderContainer();\n\n\t\tcontainer.appendChild(this.renderFields());\n\n\t\tif(this.factory)\n\t\t{\n\t\t\tthis.layout.configurator = Tag.render`<div></div>`;\n\t\t\tcontainer.appendChild(this.layout.configurator);\n\n\t\t\tcontainer.appendChild(this.renderFooter());\n\t\t}\n\n\t\treturn container;\n\t}\n\n\trenderContainer(): Element\n\t{\n\t\tthis.layout.container = Tag.render`<div class=\"rpa-fields-controller-container\"></div>`;\n\n\t\treturn this.getContainer();\n\t}\n\n\tgetContainer(): ?Element\n\t{\n\t\treturn this.layout.container;\n\t}\n\n\trenderFields(): Element\n\t{\n\t\tif(this.layout.fieldsContainer)\n\t\t{\n\t\t\tDom.clean(this.layout.fieldsContainer);\n\t\t\tif(this.settings)\n\t\t\t{\n\t\t\t\tthis.settings.values = this.getSettings();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.layout.fieldsContainer = Tag.render`<div class=\"rpa-fields-controller-fields\"></div>`;\n\t\t}\n\n\t\tArray.from(this.fields.values()).forEach((userField: UserField) =>\n\t\t{\n\t\t\tthis.layout.fieldsContainer.appendChild(this.renderField(userField));\n\t\t});\n\n\t\treturn this.layout.fieldsContainer;\n\t}\n\n\tgetFieldRow(userField: UserField): ?Element\n\t{\n\t\tif(!this.layout.fieldsContainer)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.layout.fieldsContainer.querySelector(`[data-role=\"field-row-${userField.getName()}\"]`);\n\t}\n\n\trenderField(userField: UserField): Element\n\t{\n\t\tconst row = Tag.render`<div class=\"rpa-fields-controller-field-row\" data-role=\"field-row-${userField.getName()}\"></div>`;\n\t\tconst container = Tag.render`<div class=\"rpa-fields-controller-field-container\"></div>`;\n\t\tif(this.fieldSubTitle)\n\t\t{\n\t\t\tcontainer.appendChild(Tag.render`<div class=\"rpa-fields-controller-field-subtitle\">${Text.encode(this.fieldSubTitle)}</div>`)\n\t\t}\n\t\tcontainer.appendChild(Tag.render`<div class=\"rpa-fields-controller-field-title\">${Text.encode(userField.getTitle())}</div>`);\n\n\t\tconst wrapper = Tag.render`<div class=\"rpa-fields-controller-field-wrapper\"></div>`;\n\t\twrapper.appendChild(container);\n\n\t\tif(this.settings)\n\t\t{\n\t\t\twrapper.appendChild(this.renderSwitcher(userField));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst fieldSettingsButton = Tag.render`<div class=\"rpa-fields-controller-field-wrapper-gear\"></div>`;\n\t\t\tthis.getSettingsMenu(fieldSettingsButton, userField).destroy();\n\t\t\tEvent.bind(fieldSettingsButton, 'click', () =>\n\t\t\t{\n\t\t\t\tthis.getSettingsMenu(fieldSettingsButton, userField).show();\n\t\t\t});\n\t\t\twrapper.appendChild(fieldSettingsButton);\n\t\t}\n\n\t\trow.appendChild(wrapper);\n\t\trow.appendChild(Tag.render`<div class=\"rpa-fields-controller-field-settings\"></div>`);\n\n\t\treturn row;\n\t}\n\n\tstatic getSwitcherId(inputName: string, fieldName: string): string\n\t{\n\t\treturn 'rpa-fields-controller-' + inputName + '-' + fieldName;\n\t}\n\n\trenderSwitcher(userField: UserField): Element\n\t{\n\t\tconst data = {\n\t\t\tid: FieldsController.getSwitcherId(this.settings.inputName, userField.getName()),\n\t\t\tchecked: (this.settings.values[userField.getName()] === true),\n\t\t\tinputName: this.settings.inputName + '[' + userField.getName() + ']',\n\t\t};\n\n\t\tconst switcher = Tag.render`<span data-switcher='${JSON.stringify(data)}' class=\"ui-switcher rpa-fields-controller-switcher\"></span>`;\n\n\t\tnew BX.UI.Switcher({node: switcher});\n\n\t\treturn switcher;\n\t}\n\n\trenderFooter(): Element\n\t{\n\t\tif(!this.layout.footer)\n\t\t{\n\t\t\tthis.layout.footer = Tag.render`<div class=\"rpa-fields-controller-footer\">\n\t\t\t\t${this.getSelectButton()}\n\t\t\t\t${this.getCreateButton()}\n\t\t\t</div>`;\n\t\t}\n\n\t\tthis.updateSelectButtonAppearance();\n\n\t\treturn this.layout.footer;\n\t}\n\n\tupdateSelectButtonAppearance(): this\n\t{\n\t\tif(this.hiddenFields.size <= 0)\n\t\t{\n\t\t\tthis.getSelectButton().style.display = 'none';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getSelectButton().style.display = 'inline-block';\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tgetCreateButton(): Element\n\t{\n\t\tif(!this.layout.createButton)\n\t\t{\n\t\t\tthis.layout.createButton = Tag.render`<div class=\"rpa-fields-controller-create-field-button\" onclick=\"${this.handleCreateButtonClick.bind(this)}\">${Loc.getMessage('RPA_FIELDS_SELECTOR_FILED_CREATE_BUTTON')}</div>`;\n\t\t}\n\n\t\treturn this.layout.createButton;\n\t}\n\n\thandleCreateButtonClick()\n\t{\n\t\tif(this.factory)\n\t\t{\n\t\t\tthis.factory.getMenu({\n\t\t\t\tbindElement: this.getCreateButton(),\n\t\t\t}).open(this.handleUserFieldTypeClick.bind(this))\n\t\t}\n\t}\n\n\tgetSelectButton(): Element\n\t{\n\t\tif(!this.layout.selectButton)\n\t\t{\n\t\t\tthis.layout.selectButton = Tag.render`<div class=\"rpa-fields-controller-select-field-button\" onclick=\"${this.handleSelectButtonClick.bind(this)}\">${Loc.getMessage('RPA_FIELDS_SELECTOR_FIELD_SELECT_BUTTON')}</div>`;\n\t\t}\n\n\t\treturn this.layout.selectButton;\n\t}\n\n\thandleSelectButtonClick()\n\t{\n\t\tthis.getSelectFieldsMenu().show();\n\t}\n\n\thandleUserFieldTypeClick(fieldType: string)\n\t{\n\t\tif(!this.factory)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst userField = this.factory.createUserField(fieldType);\n\t\tif(!userField)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.showFieldConfigurator(userField);\n\t}\n\n\tshowFieldConfigurator(userField: UserField)\n\t{\n\t\tif(userField.isSaved())\n\t\t{\n\t\t\tconst row = this.getFieldRow(userField);\n\t\t\tif(row)\n\t\t\t{\n\t\t\t\tconst settings = row.querySelector('.rpa-fields-controller-field-settings');\n\t\t\t\tif(settings)\n\t\t\t\t{\n\t\t\t\t\trow.classList.add('rpa-fields-controller-edit');\n\t\t\t\t\tDom.clean(settings);\n\t\t\t\t\tsettings.appendChild(\n\t\t\t\t\t\tthis.factory.getConfigurator({\n\t\t\t\t\t\t\tuserField,\n\t\t\t\t\t\t\tonSave: this.handleFieldSave.bind(this),\n\t\t\t\t\t\t\tonCancel: (() =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.hideFieldConfigurator(userField);\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}).render()\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.clean(this.layout.configurator);\n\t\t\tthis.layout.configurator.appendChild(\n\t\t\t\tthis.factory.getConfigurator({\n\t\t\t\t\tuserField,\n\t\t\t\t\tonSave: this.handleFieldSave.bind(this)\n\t\t\t\t}).render()\n\t\t\t);\n\t\t}\n\t}\n\n\thideFieldConfigurator(userField: UserField)\n\t{\n\t\tconst row = this.getFieldRow(userField);\n\t\tif(row)\n\t\t{\n\t\t\trow.classList.remove('rpa-fields-controller-edit');\n\t\t\tconst settings = row.querySelector('.rpa-fields-controller-field-settings');\n\t\t\tif(settings)\n\t\t\t{\n\t\t\t\tDom.clean(settings);\n\t\t\t}\n\t\t}\n\t}\n\n\thandleFieldSave(userField: UserField)\n\t{\n\t\tif(!this.factory)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(this.isProgress())\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.startProgress();\n\n\t\tuserField.save().then(() =>\n\t\t{\n\t\t\tthis.stopProgress().addField(userField).renderFields();\n\t\t\tDom.clean(this.layout.configurator);\n\t\t\tthis.emit('onFieldSave', {\n\t\t\t\tuserField,\n\t\t\t});\n\t\t}).catch((errors) =>\n\t\t{\n\t\t\tthis.stopProgress();\n\t\t\tthis.showError(errors);\n\t\t})\n\t}\n\n\tisProgress()\n\t{\n\t\treturn this.progress;\n\t}\n\n\tstartProgress(): this\n\t{\n\t\tthis.progress = true;\n\t\tif(!this.getLoader().isShown())\n\t\t{\n\t\t\tthis.getLoader().show(this.getContainer());\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tstopProgress(): this\n\t{\n\t\tthis.progress = false;\n\t\tthis.getLoader().hide();\n\n\t\treturn this;\n\t}\n\n\tgetLoader()\n\t{\n\t\tif(!this.loader)\n\t\t{\n\t\t\tthis.loader = new Loader({size: 150});\n\t\t}\n\n\t\treturn this.loader;\n\t}\n\n\tshowError(error, errorContainer: ?Element)\n\t{\n\t\tif(!errorContainer)\n\t\t{\n\t\t\terrorContainer = this.errorContainer;\n\t\t}\n\t\tlet message = '';\n\t\tif(Type.isArray(error))\n\t\t{\n\t\t\tmessage = error.join(\", \");\n\t\t}\n\t\telse if(Type.isString(error))\n\t\t{\n\t\t\tmessage = error;\n\t\t}\n\n\t\tif(message)\n\t\t{\n\t\t\tif(Type.isDomNode(errorContainer))\n\t\t\t{\n\t\t\t\terrorContainer.innerHTML = message;\n\t\t\t\terrorContainer.parentNode.style.display = 'block';\n\t\t\t\twindow.scrollTo(0, Dom.getPosition(errorContainer).top);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsole.error(message);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetSettings(): Object\n\t{\n\t\tconst settings = {};\n\n\t\tif(!this.settings)\n\t\t{\n\t\t\treturn settings;\n\t\t}\n\n\t\tArray.from(this.fields.values()).forEach((userField) =>\n\t\t{\n\t\t\tconst switcher = BX.UI.Switcher.getById(FieldsController.getSwitcherId(this.settings.inputName, userField.getName()));\n\t\t\tif(switcher)\n\t\t\t{\n\t\t\t\tsettings[userField.getName()] = switcher.isChecked();\n\t\t\t}\n\t\t});\n\n\t\treturn settings;\n\t}\n\n\tgetSelectFieldsMenuId(): string\n\t{\n\t\treturn 'rpa-fieldscontorller-select-field-menu';\n\t}\n\n\tgetSelectFieldsMenuItems(): Array\n\t{\n\t\tconst items = [];\n\n\t\tArray.from(this.hiddenFields.values()).forEach((userField: UserField) => {\n\t\t\titems.push({\n\t\t\t\ttext: Text.encode(userField.getTitle()),\n\t\t\t\tonclick: () =>\n\t\t\t\t{\n\t\t\t\t\tthis.handleHiddenUserFieldClick(userField);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tgetSelectFieldsMenu(): Menu\n\t{\n\t\tif(!this.getSelectButton())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\treturn MenuManager.create({\n\t\t\tid: this.getSelectFieldsMenuId(),\n\t\t\tbindElement: this.getSelectButton(),\n\t\t\titems: this.getSelectFieldsMenuItems(),\n\t\t\toffsetTop: 0,\n\t\t\toffsetLeft: 16,\n\t\t\tangle: {\n\t\t\t\tposition: \"top\",\n\t\t\t\toffset: 0,\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tthis.getSelectFieldsMenu().destroy();\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\n\thandleHiddenUserFieldClick(userField: UserField)\n\t{\n\t\tthis.addField(userField)\n\t\t\t.removeHiddenField(userField)\n\t\t\t.updateSelectButtonAppearance()\n\t\t\t.renderFields();\n\t\tthis.getSelectFieldsMenu().close();\n\t}\n\n\tgetSettingsMenu(button: Element, userField: UserField): Menu\n\t{\n\t\treturn MenuManager.create({\n\t\t\tid: 'rpa-fieldscontroller-field-settings-' + userField.getId(),\n\t\t\tbindElement: button,\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\ttext: Loc.getMessage('RPA_FIELDS_SELECTOR_CONFIGURATOR_ACTION_HIDE'),\n\t\t\t\t\tonclick: (event, item) => {\n\t\t\t\t\t\tthis.removeField(userField)\n\t\t\t\t\t\t\t.addHiddenField(userField)\n\t\t\t\t\t\t\t.updateSelectButtonAppearance()\n\t\t\t\t\t\t\t.renderFields();\n\n\t\t\t\t\t\tif(item && item.menuWindow)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.menuWindow.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: Loc.getMessage('RPA_FIELDS_SELECTOR_CONFIGURATOR_ACTION_EDIT'),\n\t\t\t\t\tonclick: (event, item) => {\n\t\t\t\t\t\tthis.showFieldConfigurator(userField);\n\n\t\t\t\t\t\tif(item && item.menuWindow)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.menuWindow.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: Loc.getMessage('RPA_FIELDS_SELECTOR_CONFIGURATOR_ACTION_ADJUST'),\n\t\t\t\t\tonclick: (event, item) => {\n\t\t\t\t\t\tManager.Instance.openFieldDetail(\n\t\t\t\t\t\t\tthis.typeId,\n\t\t\t\t\t\t\tuserField.getId(),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\twidth: 900,\n\t\t\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t).then((slider) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst userFieldData = slider.getData().get('userFieldData');\n\t\t\t\t\t\t\tif(userFieldData)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tuserField = UserField.unserialize(userFieldData);\n\t\t\t\t\t\t\t\tif(userField.isDeleted())\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.removeField(userField)\n\t\t\t\t\t\t\t\t\t\t.renderFields();\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.addField(userField);\n\t\t\t\t\t\t\t\t\tthis.renderFields();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(item && item.menuWindow)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.menuWindow.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n}"],"names":["FieldsController","params","EventEmitter","makeObservable","fields","Map","hiddenFields","layout","fieldSubTitle","Loc","getMessage","errorContainer","progress","Type","isPlainObject","factory","Factory","setFields","setHiddenFields","isString","isDomNode","settings","inputName","values","typeId","Text","toInteger","languageId","setCustomTypesUrl","Manager","Instance","getFieldDetailUrl","subscribe","event","userField","getData","addField","renderFields","Object","keys","forEach","fieldName","UserField","moduleId","set","getName","addHiddenField","container","renderContainer","appendChild","configurator","Tag","render","renderFooter","getContainer","fieldsContainer","Dom","clean","getSettings","Array","from","renderField","querySelector","row","encode","getTitle","wrapper","renderSwitcher","fieldSettingsButton","getSettingsMenu","destroy","Event","bind","show","data","id","getSwitcherId","checked","switcher","JSON","stringify","BX","UI","Switcher","node","footer","getSelectButton","getCreateButton","updateSelectButtonAppearance","size","style","display","createButton","handleCreateButtonClick","getMenu","bindElement","open","handleUserFieldTypeClick","selectButton","handleSelectButtonClick","getSelectFieldsMenu","fieldType","createUserField","showFieldConfigurator","isSaved","getFieldRow","classList","add","getConfigurator","onSave","handleFieldSave","onCancel","hideFieldConfigurator","remove","isProgress","startProgress","save","then","stopProgress","emit","errors","showError","getLoader","isShown","hide","loader","Loader","error","message","isArray","join","innerHTML","parentNode","window","scrollTo","getPosition","top","console","getById","isChecked","items","push","text","onclick","handleHiddenUserFieldClick","MenuManager","create","getSelectFieldsMenuId","getSelectFieldsMenuItems","offsetTop","offsetLeft","angle","position","offset","events","onPopupClose","removeHiddenField","close","button","getId","item","removeField","menuWindow","openFieldDetail","width","cacheable","slider","userFieldData","get","unserialize","isDeleted"],"mappings":"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"}