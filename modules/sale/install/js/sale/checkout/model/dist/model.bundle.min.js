this.BX=this.BX||{};this.BX.Sale=this.BX.Sale||{};this.BX.Sale.Checkout=this.BX.Sale.Checkout||{};(function(e,t,i,a,r){"use strict";var n=function(e){babelHelpers.inherits(t,e);function t(){babelHelpers.classCallCheck(this,t);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}babelHelpers.createClass(t,[{key:"getName",value:function e(){return"order"}},{key:"getState",value:function e(){return{order:t.getBaseItem(),errors:[]}}},{key:"validate",value:function e(t){var i={};if(a.Type.isObject(t.order)){i.order=this.validateOrder(t.order)}return i}},{key:"validateOrder",value:function e(t){var i={};if(a.Type.isNumber(t.id)||a.Type.isString(t.id)){i.id=parseInt(t.id)}if(a.Type.isNumber(t.id)||a.Type.isString(t.accountNumber)){i.accountNumber=t.accountNumber.toString()}if(a.Type.isString(t.hash)){i.hash=t.hash.toString()}if(a.Type.isString(t.payed)){i.payed=t.payed.toString()==="Y"?"Y":"N"}return i}},{key:"getActions",value:function e(){var t=this;return{set:function e(i,a){var r=i.commit;a=t.validate({order:a});r("set",a)}}}},{key:"getGetters",value:function e(){return{getOrder:function e(t){return t.order}}}},{key:"getMutations",value:function e(){return{set:function e(i,a){var r=t.getBaseItem();i.order=Object.assign(r,a.order)}}}}],[{key:"getBaseItem",value:function e(){return{id:0,payed:"N",accountNumber:null,hash:null}}}]);return t}(i.VuexBuilderModel);var s=function(e){babelHelpers.inherits(i,e);function i(){babelHelpers.classCallCheck(this,i);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).apply(this,arguments))}babelHelpers.createClass(i,[{key:"getName",value:function e(){return"basket"}},{key:"getState",value:function e(){return{basket:[],status:r.Loader.status.none,currency:null,discount:i.getDiscountItem(),total:i.getTotalItem(),errors:[]}}},{key:"getBaseItem",value:function e(){return{id:0,name:null,quantity:0,measureText:null,currency:null,module:null,productProviderClass:null,sum:0,price:0,baseSum:0,basePrice:0,discount:i.getDiscountItem(),props:[],product:this.getProductItem(),deleted:"N",status:r.Loader.status.none}}},{key:"getProductItem",value:function e(){return{id:0,picture:this.getVariable("product.noImage",null),detailPageUrl:"",availableQuantity:0,ratio:0}}},{key:"validate",value:function e(t){var i={};if(a.Type.isObject(t.basket)){i.basket=this.validateBasket(t.basket)}if(a.Type.isString(t.status)){i.status=t.status.toString()}if(a.Type.isString(t.currency)){i.currency=t.currency.toString()}if(a.Type.isObject(t.discount)){i.discount=this.validateTotalDiscount(t.discount)}if(a.Type.isObject(t.total)){i.total=this.validateTotal(t.total)}return i}},{key:"validateBasket",value:function e(t){var i=this;var n={};if(a.Type.isString(t.status)){var s=Object.values(r.Loader.status);var u=t.status.toString();n.status=s.includes(u)?u:r.Loader.status.none}if(a.Type.isString(t.deleted)){n.deleted=t.deleted.toString()==="Y"?"Y":"N"}if(a.Type.isNumber(t.id)||a.Type.isString(t.id)){n.id=parseInt(t.id)}if(a.Type.isString(t.name)){n.name=t.name.toString()}if(a.Type.isNumber(t.quantity)||a.Type.isString(t.quantity)){n.quantity=parseFloat(t.quantity)}if(a.Type.isString(t.measureText)){n.measureText=t.measureText.toString()}if(a.Type.isNumber(t.sum)||a.Type.isString(t.sum)){n.sum=parseFloat(t.sum)}if(a.Type.isNumber(t.price)||a.Type.isString(t.price)){n.price=parseFloat(t.price)}if(a.Type.isNumber(t.baseSum)||a.Type.isString(t.baseSum)){n.baseSum=parseFloat(t.baseSum)}if(a.Type.isNumber(t.basePrice)||a.Type.isString(t.basePrice)){n.basePrice=parseFloat(t.basePrice)}if(a.Type.isString(t.currency)){n.currency=t.currency.toString()}if(a.Type.isString(t.module)){n.module=t.module.toString()}if(a.Type.isString(t.productProviderClass)){n.productProviderClass=t.productProviderClass.toString()}if(a.Type.isObject(t.product)){n.product=this.validateProduct(t.product)}if(a.Type.isObject(t.props)){n.props=[];t.props.forEach(function(e){var t=i.validateProps(e);n.props.push(t)})}if(a.Type.isObject(t.discount)){n.discount=this.validateDiscount(t.discount)}return n}},{key:"validateDiscount",value:function e(t){var i={};if(a.Type.isNumber(t.sum)||a.Type.isString(t.sum)){i.sum=parseFloat(t.sum)}if(a.Type.isNumber(t.price)||a.Type.isString(t.price)){i.price=parseFloat(t.price)}return i}},{key:"validateTotalDiscount",value:function e(t){var i={};if(a.Type.isNumber(t.sum)||a.Type.isString(t.sum)){i.sum=parseFloat(t.sum)}return i}},{key:"validateTotal",value:function e(t){var i={};if(a.Type.isNumber(t.price)||a.Type.isString(t.price)){i.price=parseFloat(t.price)}if(a.Type.isNumber(t.basePrice)||a.Type.isString(t.basePrice)){i.basePrice=parseFloat(t.basePrice)}return i}},{key:"validateProduct",value:function e(t){var i={};try{for(var r in t){if(!t.hasOwnProperty(r)){continue}if(r==="id"){if(a.Type.isNumber(t.id)||a.Type.isString(t.id)){i[r]=t.id}}else if(r==="picture"){if(a.Type.isString(t.picture)&&t.picture.length>0){i[r]=t.picture.toString()}}else if(r==="detailPageUrl"){if(a.Type.isString(t.detailPageUrl)){i[r]=t.detailPageUrl.toString()}}else if(r==="availableQuantity"){if(a.Type.isNumber(t.availableQuantity)||a.Type.isString(t.availableQuantity)){i.availableQuantity=parseFloat(t.availableQuantity)}}else if(r==="ratio"){if(a.Type.isNumber(t.ratio)||a.Type.isString(t.ratio)){i.ratio=parseFloat(t.ratio)}}else{i[r]=t[r]}}}catch(e){}return i}},{key:"validateProps",value:function e(t){var i={};if(a.Type.isNumber(t.id)||a.Type.isString(t.id)){i.id=parseInt(t.id)}if(a.Type.isString(t.name)){i.name=t.name.toString()}if(a.Type.isString(t.code)){i.code=t.code.toString()}if(a.Type.isString(t.value)){i.value=t.value.toString()}if(a.Type.isNumber(t.sort)||a.Type.isString(t.sort)){i.sort=parseInt(t.sort)}return i}},{key:"getActions",value:function e(){var t=this;return{setTradingPlatformId:function e(i,a){var r=i.commit;a=t.validate(a);r("setTradingPlatformId",a)},setStatus:function e(i,a){var n=i.commit;a=t.validate(a);var s=[r.Loader.status.none,r.Loader.status.wait];a.status=s.includes(a.status)?a.status:r.Loader.status.none;n("setStatus",a)},addItem:function e(i,a){var r=i.commit;a.fields=t.validateBasket(a.fields);r("addItem",a)},changeItem:function e(i,a){var r=i.commit;a.fields=t.validateBasket(a.fields);r("updateItem",a)},removeItem:function e(t,i){var a=t.commit;a("deleteItem",i)},setFUserId:function e(i,a){var r=i.commit;a=t.validate(a);r("setFUserId",a)},setCurrency:function e(i,a){var r=i.commit;a=t.validate(a);r("setCurrency",a)},setDiscount:function e(i,a){var r=i.commit;a=t.validateDiscount(a);r("setDiscount",a)},setTotal:function e(i,a){var r=i.commit;a=t.validateTotal(a);r("setTotal",a)}}}},{key:"getGetters",value:function e(){var t=this;return{getStatus:function e(t){return t.status},get:function e(t){return function(e){if(!t.basket[e]||t.basket[e].length<=0){return[]}return t.basket[e]}},getBasket:function e(t){return t.basket},getBaseItem:function e(i){return t.getBaseItem()},getCurrency:function e(t){return t.currency},getDiscount:function e(t){return t.discount},getTotal:function e(t){return t.total}}}},{key:"getMutations",value:function e(){var n=this;return{setStatus:function e(t,i){var a={status:r.Loader.status.none};a=Object.assign(a,i);t.status=a.status},setCurrency:function e(t,i){var a={currency:null};a=Object.assign(a,i);t.currency=a.currency},setDiscount:function e(t,a){var r=i.getDiscountTotalItem();r=Object.assign(r,a);t.discount=Object.assign(r,a)},setTotal:function e(t,a){var r=i.getTotalItem();r=Object.assign(r,a);t.total=Object.assign(r,a)},addItem:function e(t,r){var s=n.getBaseItem();s=Object.assign(s,r.fields);if(a.Type.isObject(r.fields.product)){s.product=Object.assign(s.product,r.fields.product)}if(a.Type.isObject(s.props)){s.props.forEach(function(e,t){var a=i.getPropsItem();a=Object.assign(a,e);s.props[t]=a})}t.basket.push(s);t.basket.forEach(function(e,t){e.sort=t+1})},updateItem:function e(r,s){if(typeof r.basket[s.index]==="undefined"){t.Vue.set(r.basket,s.index,n.getBaseItem())}if(a.Type.isObject(s.fields.product)){s.fields.product=Object.assign(r.basket[s.index].product,s.fields.product)}if(a.Type.isObject(s.fields.props)){s.fields.props.forEach(function(e,t){var a=i.getPropsItem();a=Object.assign(a,e);s.fields.props[t]=a})}r.basket[s.index]=Object.assign(r.basket[s.index],s.fields)},deleteItem:function e(t,i){t.basket.splice(i.index,1)},clearBasket:function e(t){t.basket=[]},clearDiscount:function e(t){t.discount=i.getDiscountItem()},clearTotal:function e(t){t.total=i.getTotalItem()},setErrors:function e(t,i){t.errors=i},clearErrors:function e(t){t.errors=[]}}}}],[{key:"getPropsItem",value:function e(){return{code:"",id:0,value:"",sort:0,name:""}}},{key:"getDiscountItem",value:function e(){return{sum:0,price:0}}},{key:"getDiscountTotalItem",value:function e(){return{sum:0}}},{key:"getTotalItem",value:function e(){return{price:0,basePrice:0}}},{key:"isFloat",value:function e(t){return parseInt(t)!==parseFloat(t)}}]);return i}(i.VuexBuilderModel);var u=function(e){babelHelpers.inherits(i,e);function i(){babelHelpers.classCallCheck(this,i);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).apply(this,arguments))}babelHelpers.createClass(i,[{key:"getName",value:function e(){return"property"}},{key:"getState",value:function e(){return{property:[],errors:[]}}},{key:"validate",value:function e(t){var i={};if(a.Type.isNumber(t.id)||a.Type.isString(t.id)){i.id=parseInt(t.id)}if(a.Type.isString(t.name)){i.name=t.name.toString()}if(a.Type.isString(t.type)){var n=Object.values(r.Property.type);var s=t.type.toString();i.type=n.includes(s)?s:r.Property.type.undefined}if(a.Type.isString(t.value)){i.value=t.value.toString()}if(a.Type.isString(t.validated)){i.validated=t.validated.toString()}if(a.Type.isNumber(t.personTypeId)||a.Type.isString(t.personTypeId)){i.personTypeId=parseInt(t.personTypeId)}return i}},{key:"getActions",value:function e(){var t=this;return{addItem:function e(i,a){var r=i.commit;a.fields=t.validate(a.fields);r("addItem",a)},changeItem:function e(i,a){var r=i.commit;a.fields=t.validate(a.fields);r("updateItem",a)},removeItem:function e(t,i){var a=t.commit;a("deleteItem",i)}}}},{key:"getGetters",value:function e(){return{get:function e(t){return function(e){if(!t.property[e]||t.property[e].length<=0){return[]}return t.property[e]}},getProperty:function e(t){return t.property},getBaseItem:function e(t){return i.getBaseItem()},getErrors:function e(t){return t.errors}}}},{key:"getMutations",value:function e(){var a=this;return{addItem:function e(t,r){r=a.prepareFields(r);var n=i.getBaseItem();n=Object.assign(n,r);t.property.unshift(n);t.property.forEach(function(e,t){e.sort=t+1})},updateItem:function e(r,n){if(typeof r.property[n.index]==="undefined"){t.Vue.set(r.property,n.index,i.getBaseItem())}n=a.prepareFields(n);r.property[n.index]=Object.assign(r.property[n.index],n.fields)},deleteItem:function e(t,i){t.property.splice(i.index,1)},clearProperty:function e(t){t.property=[]},setErrors:function e(t,i){t.errors=i},clearErrors:function e(t){t.errors=[]}}}},{key:"prepareFields",value:function e(t){var i={};try{for(var a in t){if(!t.hasOwnProperty(a)){continue}if(a==="validated"){var n=Object.values(r.Property.validate);t.validated=n.includes(t.validated)?t.validated:r.Property.validate.unvalidated;i[a]=t.validated}else{i[a]=t[a]}}}catch(e){}return i}}],[{key:"getBaseItem",value:function e(){return{id:0,name:"",type:r.Property.type.undefined,value:"",validated:r.Property.validate.unvalidated}}}]);return i}(i.VuexBuilderModel);var o=function(e){babelHelpers.inherits(i,e);function i(){babelHelpers.classCallCheck(this,i);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).apply(this,arguments))}babelHelpers.createClass(i,[{key:"getName",value:function e(){return"pay-system"}},{key:"getState",value:function e(){return{paySystem:[],status:r.Loader.status.wait}}},{key:"validate",value:function e(t){var i={};if(a.Type.isObject(t.paySystem)){i.paySystem=this.validatePaySystem(t.paySystem)}if(a.Type.isString(t.status)){i.status=t.status.toString()}return i}},{key:"validatePaySystem",value:function e(t){var i={};if(a.Type.isNumber(t.id)||a.Type.isString(t.id)){i.id=parseInt(t.id)}if(a.Type.isString(t.name)){i.name=t.name.toString()}if(a.Type.isString(t.type)){var n=Object.values(r.PaySystem.type);var s=t.type.toString();i.type=n.includes(s)?s:r.PaySystem.type.undefined}return i}},{key:"getActions",value:function e(){var t=this;return{setStatus:function e(i,a){var n=i.commit;a=t.validate(a);var s=Object.values(r.Loader.status);a.status=s.includes(a.status)?a.status:r.Loader.status.none;n("setStatus",a)},addItem:function e(i,a){var r=i.commit;a.fields=t.validatePaySystem(a.fields);r("addItem",a)},changeItem:function e(i,a){var r=i.commit;a.fields=t.validatePaySystem(a.fields);r("updateItem",a)},removeItem:function e(t,i){var a=t.commit;a("deleteItem",i)}}}},{key:"getGetters",value:function e(){return{getStatus:function e(t){return t.status},getPaySystem:function e(t){return t.paySystem}}}},{key:"getMutations",value:function e(){return{setStatus:function e(t,i){var a={status:r.Loader.status.none};a=Object.assign(a,i);t.status=a.status},addItem:function e(t,a){var r=i.getBaseItem();r=Object.assign(r,a.fields);t.paySystem.push(r)},updateItem:function e(a,r){if(typeof a.paySystem[r.index]==="undefined"){t.Vue.set(a.paySystem,r.index,i.getBaseItem())}a.paySystem[r.index]=Object.assign(a.paySystem[r.index],r.fields)},deleteItem:function e(t,i){t.paySystem.splice(i.index,1)},clearPaySystem:function e(t){t.paySystem=[]}}}}],[{key:"getBaseItem",value:function e(){return{id:0,name:null,type:r.PaySystem.type.undefined}}}]);return i}(i.VuexBuilderModel);var l=function(e){babelHelpers.inherits(t,e);function t(){babelHelpers.classCallCheck(this,t);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}babelHelpers.createClass(t,[{key:"getName",value:function e(){return"application"}},{key:"getState",value:function e(){return{stage:r.Application.stage.undefined,status:r.Loader.status.none,path:{emptyCart:this.getVariable("path.emptyCart",null),mainPage:this.getVariable("path.mainPage",null),location:this.getVariable("path.location",null)},common:{siteId:this.getVariable("common.siteId",null),personTypeId:this.getVariable("common.personTypeId",0),tradingPlatformId:this.getVariable("common.tradingPlatformId",null)},option:{signedParameters:this.getVariable("option.signedParameters",null)},message:{buttonCheckoutTitle:this.getVariable("messages.buttonCheckoutTitle",null)},errors:[]}}},{key:"validate",value:function e(t){var i={};if(a.Type.isString(t.stage)){i.stage=t.stage.toString()}if(a.Type.isString(t.status)){i.status=t.status.toString()}if(a.Type.isObject(t.path)){i.path=this.validatePaths(t.path)}if(a.Type.isObject(t.common)){i.common=this.validateCommon(t.common)}if(a.Type.isObject(t.options)){i.options=this.validateOptions(t.options)}return i}},{key:"validateCommon",value:function e(t){var i={};if(a.Type.isString(t.siteId)){i.siteId=t.siteId.toString()}if(a.Type.isNumber(t.tradingPlatformId)||a.Type.isString(t.tradingPlatformId)){i.tradingPlatformId=parseInt(t.tradingPlatformId)}if(a.Type.isNumber(t.personTypeId)||a.Type.isString(t.personTypeId)){i.personTypeId=parseInt(t.personTypeId)}return i}},{key:"validatePaths",value:function e(t){var i={};if(a.Type.isString(t.productNoImage)){i.productNoImage=t.productNoImage.toString()}if(a.Type.isString(t.emptyCart)){i.emptyCart=t.emptyCart.toString()}if(a.Type.isString(t.mainPage)){i.mainPage=t.mainPage.toString()}if(a.Type.isString(t.location)){i.location=t.location.toString()}return i}},{key:"validateOptions",value:function e(t){var i={};if(a.Type.isString(t.signedParameters)){i.signedParameters=t.signedParameters.toString()}return i}},{key:"getActions",value:function e(){var t=this;return{setPathLocation:function e(i,a){var r=i.commit;a=t.validatePaths({location:a});r("setPathLocation",a.location)},setStatus:function e(i,a){var n=i.commit;a=t.validate(a);var s=[r.Loader.status.none,r.Loader.status.wait];a.status=s.includes(a.status)?a.status:r.Loader.status.none;n("setStatus",a)},setStage:function e(i,a){var n=i.commit;a=t.validate(a);var s=Object.values(r.Application.stage);a.stage=s.includes(a.stage)?a.stage:r.Application.stage.undefined;n("setStage",a)}}}},{key:"getGetters",value:function e(){return{getErrors:function e(t){return t.errors},getPath:function e(t){return t.path},getSignedParameters:function e(t){return t.option.signedParameters},getPathLocation:function e(t,i){return i.getPath.location},getPathMainPage:function e(t,i){return i.getPath.mainPage},getTradingPlatformId:function e(t){return t.common.tradingPlatformId},getTitleCheckoutButton:function e(t){return t.message.buttonCheckoutTitle},getSiteId:function e(t){return t.common.siteId},getPersonTypeId:function e(t){return t.common.personTypeId},getStatus:function e(t){return t.status},getStage:function e(t){return t.stage}}}},{key:"getMutations",value:function e(){return{setPathLocation:function e(t,i){t.path.location=i},setStatus:function e(t,i){var a={status:r.Loader.status.none};a=Object.assign(a,i);t.status=a.status},setStage:function e(t,i){var a={stage:r.Application.stage.undefined};a=Object.assign(a,i);t.stage=a.stage},setErrors:function e(t,i){t.errors=i},clearErrors:function e(t){t.errors=[]}}}}]);return t}(i.VuexBuilderModel);var c=function(e){babelHelpers.inherits(t,e);function t(){babelHelpers.classCallCheck(this,t);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}babelHelpers.createClass(t,[{key:"getName",value:function e(){return"consent"}},{key:"getState",value:function e(){return{status:r.Consent.status.init,consent:t.getBaseItem(),errors:[]}}},{key:"validate",value:function e(t){var i={};if(a.Type.isString(t.status)){i.status=t.status.toString()}if(a.Type.isObject(t.consent)){i.consent=this.validateConsent(t.consent)}return i}},{key:"validateConsent",value:function e(t){var i={};if(a.Type.isNumber(t.id)||a.Type.isString(t.id)){i.id=parseInt(t.id)}if(a.Type.isString(t.title)){i.title=t.title.toString()}if(a.Type.isString(t.isLoaded)){i.isLoaded=t.isLoaded.toString()}if(a.Type.isString(t.autoSave)){i.autoSave=t.autoSave.toString()}if(a.Type.isString(t.isChecked)){i.isChecked=t.isChecked.toString()}if(a.Type.isString(t.submitEventName)){i.submitEventName=t.submitEventName.toString()}if(a.Type.isArrayFilled(t.params)){i.params=this.validateParams(t.params)}return i}},{key:"validateParams",value:function e(t){var i=[];try{for(var r in t){if(!t.hasOwnProperty(r)){continue}if(a.Type.isNumber(t[r])||a.Type.isString(t[r])){i[r]=t[r]}}}catch(e){}return i}},{key:"getActions",value:function e(){var t=this;return{setStatus:function e(i,a){var n=i.commit;a=t.validate({status:a});var s=Object.values(r.Consent.status);a.status=s.includes(a.status)?a.status:r.Consent.status.init;n("setStatus",a)},set:function e(i,a){var r=i.commit;a=t.validate({consent:a});r("set",a)}}}},{key:"getGetters",value:function e(){return{getStatus:function e(t){return t.status},get:function e(t){return t.consent}}}},{key:"getMutations",value:function e(){return{setStatus:function e(t,i){t.status=i.status},set:function e(i,a){var r=t.getBaseItem();i.consent=Object.assign(r,a.consent)},setErrors:function e(t,i){t.errors=i},clearErrors:function e(t){t.errors=[]}}}}],[{key:"getBaseItem",value:function e(){return{id:0,title:"",isLoaded:"",autoSave:"",isChecked:"",submitEventName:"",params:[]}}}]);return t}(i.VuexBuilderModel);e.Order=n;e.Basket=s;e.Property=u;e.PaySystem=o;e.Application=l;e.Consent=c})(this.BX.Sale.Checkout.Model=this.BX.Sale.Checkout.Model||{},BX,BX,BX,BX.Sale.Checkout.Const);
//# sourceMappingURL=model.bundle.map.js