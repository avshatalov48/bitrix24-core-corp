{"version":3,"file":"total.bundle.js","sources":["../src/basket.js","../src/discount.js","../src/summary.js","../src/total.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-basket', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        basePriceFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.basePrice, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n      <tr class=\"checkout-basket-total-item checkout-basket-total-item-subtotal\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_ITEMS}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-price-block\">\r\n            <span class=\"checkout-basket-total-item-price\" v-html=\"basePriceFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-discount', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        discountSumFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.discount.sum, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n      <tr class=\"checkout-basket-total-item checkout-basket-total-item-discount\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_PROFIT}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-price-block\">\r\n            <span class=\"checkout-basket-total-item-price-discount\" v-html=\"'-' + discountSumFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-summary', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        priceFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.price, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n       <tr class=\"checkout-basket-total-item checkout-basket-total-item-total\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_SUMMARY}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-price-block\">\r\n            <span class=\"checkout-basket-total-item-price\" v-html=\"priceFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\nimport { EventType } from 'sale.checkout.const';\nimport { EventEmitter } from \"main.core.events\";\n\nimport './basket'\nimport './discount'\nimport './summary'\n\nBitrixVue.component('sale-checkout-view-total', {\n\tprops: ['total', 'showBackdrop'],\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_CLOSE'))\n\t\t},\n\t\thasDiscount()\n\t\t{\n\t\t\treturn this.total.discount.sum !== 0;\n\t\t},\n\t\tgetObjectClass()\n\t\t{\n\t\t\tconst classes = [\n\t\t\t\t'checkout-basket-total-container'\n\t\t\t];\n\t\t\t\n\t\t\tif(this.isBackdrop)\n\t\t\t{\n\t\t\t\tclasses.push('active');\n\t\t\t}\n\t\t\t\n\t\t\treturn classes;\n\t\t},\n\t\tisBackdrop()\n\t\t{\n\t\t\treturn this.showBackdrop === 'Y';\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tbackdropTotalClose()\n\t\t{\n\t\t\tEventEmitter.emit(EventType.basket.backdropTotalClose)\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n      <div :class=\"getObjectClass\">\n\t\t  <div class=\"checkout-basket-total-overlay\" @click=\"backdropTotalClose\"></div>\n          <div class=\"checkout-basket-total-backdrop-container\">\n            <div class=\"checkout-basket-total-backdrop-header justify-content-between align-items-center checkout-basket-mobile-only\">\n              <div class=\"checkout-basket-total-backdrop-header-separate\"></div>\n              <div class=\"checkout-basket-total-backdrop-swipe-btn-container\">\n                <div class=\"checkout-basket-total-backdrop-swipe-btn\"></div>\n              </div>\n              <div class=\"checkout-basket-total-backdrop-close-btn-container\" @click=\"backdropTotalClose\">\n\t\t\t\t<span class=\"checkout-basket-total-backdrop-close-btn\">\n\t\t\t\t\t<span class=\"checkout-basket-total-backdrop-close-btn-text\" >{{localize.CHECKOUT_VIEW_TOTAL_CLOSE}}</span>\n\t\t\t\t</span>\n              </div>\n            </div>\n\t\t\t  <div class=\"checkout-basket-total-inner\">\n\t\t\t\t\t<table class=\"checkout-basket-total-list\">\n\t\t\t\t\t\t<sale-checkout-view-total-basket :total=\"total\"/>\n\t\t\t\t\t\t<sale-checkout-view-total-discount :total=\"total\" v-if=\"hasDiscount\"/>\n\t\t\t\t\t\t<sale-checkout-view-total-summary :total=\"total\"/>\n\t\t\t\t\t</table>\n\t\t\t  </div>\n\t\t  </div>\n      </div>\n\t`\n});"],"names":["BitrixVue","component","props","computed","localize","Object","freeze","getFilteredPhrases","basePriceFormatted","CurrencyCore","currencyFormat","total","basePrice","currency","template","discountSumFormatted","discount","sum","priceFormatted","price","hasDiscount","getObjectClass","classes","isBackdrop","push","showBackdrop","methods","backdropTotalClose","EventEmitter","emit","EventType","basket"],"mappings":";;;;;;AAGAA,oBAAS,CAACC,SAAV,CAAoB,iCAApB,EAAuD;MACnDC,KAAK,EAAE,CAAC,OAAD,CAD4C;MAEnDC,QAAQ,EACR;QACIC,QADJ,sBAEI;UACI,OAAOC,MAAM,CAACC,MAAP,CACHN,gBAAS,CAACO,kBAAV,CAA6B,sBAA7B,CADG,CAAP;SAHR;QAMIC,kBANJ,gCAOI;UACI,OAAOC,kCAAY,CAACC,cAAb,CAA4B,KAAKC,KAAL,CAAWC,SAAvC,EAAkD,KAAKD,KAAL,CAAWE,QAA7D,EAAuE,IAAvE,CAAP;;OAX2C;;MAenDC,QAAQ;IAf2C,CAAvD;;ACAAd,oBAAS,CAACC,SAAV,CAAoB,mCAApB,EAAyD;MACrDC,KAAK,EAAE,CAAC,OAAD,CAD8C;MAErDC,QAAQ,EACR;QACIC,QADJ,sBAEI;UACI,OAAOC,MAAM,CAACC,MAAP,CACHN,gBAAS,CAACO,kBAAV,CAA6B,sBAA7B,CADG,CAAP;SAHR;QAMIQ,oBANJ,kCAOI;UACI,OAAON,kCAAY,CAACC,cAAb,CAA4B,KAAKC,KAAL,CAAWK,QAAX,CAAoBC,GAAhD,EAAqD,KAAKN,KAAL,CAAWE,QAAhE,EAA0E,IAA1E,CAAP;;OAX6C;;MAerDC,QAAQ;IAf6C,CAAzD;;ACAAd,oBAAS,CAACC,SAAV,CAAoB,kCAApB,EAAwD;MACpDC,KAAK,EAAE,CAAC,OAAD,CAD6C;MAEpDC,QAAQ,EACR;QACIC,QADJ,sBAEI;UACI,OAAOC,MAAM,CAACC,MAAP,CACHN,gBAAS,CAACO,kBAAV,CAA6B,sBAA7B,CADG,CAAP;SAHR;QAMIW,cANJ,4BAOI;UACI,OAAOT,kCAAY,CAACC,cAAb,CAA4B,KAAKC,KAAL,CAAWQ,KAAvC,EAA8C,KAAKR,KAAL,CAAWE,QAAzD,EAAmE,IAAnE,CAAP;;OAX4C;;MAepDC,QAAQ;IAf4C,CAAxD;;ACKAd,oBAAS,CAACC,SAAV,CAAoB,0BAApB,EAAgD;MAC/CC,KAAK,EAAE,CAAC,OAAD,EAAU,cAAV,CADwC;MAE/CC,QAAQ,EACR;QACCC,QADD,sBAEC;UACC,OAAOC,MAAM,CAACC,MAAP,CACNN,gBAAS,CAACO,kBAAV,CAA6B,2BAA7B,CADM,CAAP;SAHF;QAMCa,WAND,yBAOC;UACC,OAAO,KAAKT,KAAL,CAAWK,QAAX,CAAoBC,GAApB,KAA4B,CAAnC;SARF;QAUCI,cAVD,4BAWC;UACC,IAAMC,OAAO,GAAG,CACf,iCADe,CAAhB;;UAIA,IAAG,KAAKC,UAAR,EACA;YACCD,OAAO,CAACE,IAAR,CAAa,QAAb;;;UAGD,OAAOF,OAAP;SArBF;QAuBCC,UAvBD,wBAwBC;UACC,OAAO,KAAKE,YAAL,KAAsB,GAA7B;;OA5B6C;MA+B/CC,OAAO,EACP;QACCC,kBADD,gCAEC;UACCC,6BAAY,CAACC,IAAb,CAAkBC,6BAAS,CAACC,MAAV,CAAiBJ,kBAAnC;;OAnC6C;;MAuC/Cb,QAAQ;IAvCuC,CAAhD;;;;"}