{"version":3,"file":"total.bundle.js","sources":["../src/basket.js","../src/discount.js","../src/summary.js","../src/total.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-basket', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        basePriceFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.basePrice, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n      <tr class=\"checkout-basket-total-item checkout-basket-total-item-subtotal\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_ITEMS}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-price-block\">\r\n            <span class=\"checkout-basket-total-item-price\" v-html=\"basePriceFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-discount', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        discountSumFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.discount.sum, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n      <tr class=\"checkout-basket-total-item checkout-basket-total-item-discount\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_PROFIT}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-price-block\">\r\n            <span class=\"checkout-basket-total-item-price-discount\" v-html=\"'-' + discountSumFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-summary', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        priceFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.price, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n       <tr class=\"checkout-basket-total-item checkout-basket-total-item-total\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_SUMMARY}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-price-block\">\r\n            <span class=\"checkout-basket-total-item-price\" v-html=\"priceFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\nimport { EventType } from 'sale.checkout.const';\nimport { EventEmitter } from \"main.core.events\";\n\nimport './basket'\nimport './discount'\nimport './summary'\n\nBitrixVue.component('sale-checkout-view-total', {\n\tprops: ['total', 'showBackdrop'],\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_CLOSE'))\n\t\t},\n\t\thasDiscount()\n\t\t{\n\t\t\treturn this.total.discount.sum !== 0;\n\t\t},\n\t\tgetObjectClass()\n\t\t{\n\t\t\tconst classes = [\n\t\t\t\t'checkout-basket-total-container'\n\t\t\t];\n\t\t\t\n\t\t\tif(this.isBackdrop)\n\t\t\t{\n\t\t\t\tclasses.push('active');\n\t\t\t}\n\t\t\t\n\t\t\treturn classes;\n\t\t},\n\t\tisBackdrop()\n\t\t{\n\t\t\treturn this.showBackdrop === 'Y';\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tbackdropTotalClose()\n\t\t{\n\t\t\tEventEmitter.emit(EventType.basket.backdropTotalClose)\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n      <div :class=\"getObjectClass\">\n\t\t  <div class=\"checkout-basket-total-overlay\" @click=\"backdropTotalClose\"></div>\n          <div class=\"checkout-basket-total-backdrop-container\">\n            <div class=\"checkout-basket-total-backdrop-header justify-content-between align-items-center checkout-basket-mobile-only\">\n              <div class=\"checkout-basket-total-backdrop-header-separate\"></div>\n              <div class=\"checkout-basket-total-backdrop-swipe-btn-container\">\n                <div class=\"checkout-basket-total-backdrop-swipe-btn\"></div>\n              </div>\n              <div class=\"checkout-basket-total-backdrop-close-btn-container\" @click=\"backdropTotalClose\">\n\t\t\t\t<span class=\"checkout-basket-total-backdrop-close-btn\">\n\t\t\t\t\t<span class=\"checkout-basket-total-backdrop-close-btn-text\" >{{localize.CHECKOUT_VIEW_TOTAL_CLOSE}}</span>\n\t\t\t\t</span>\n              </div>\n            </div>\n\t\t\t  <div class=\"checkout-basket-total-inner\">\n\t\t\t\t\t<table class=\"checkout-basket-total-list\">\n\t\t\t\t\t\t<sale-checkout-view-total-basket :total=\"total\"/>\n\t\t\t\t\t\t<sale-checkout-view-total-discount :total=\"total\" v-if=\"hasDiscount\"/>\n\t\t\t\t\t\t<sale-checkout-view-total-summary :total=\"total\"/>\n\t\t\t\t\t</table>\n\t\t\t  </div>\n\t\t  </div>\n      </div>\n\t`\n});"],"names":["BitrixVue","component","props","computed","localize","Object","freeze","getFilteredPhrases","basePriceFormatted","CurrencyCore","currencyFormat","total","basePrice","currency","template","discountSumFormatted","discount","sum","priceFormatted","price","hasDiscount","getObjectClass","classes","isBackdrop","push","showBackdrop","methods","backdropTotalClose","EventEmitter","emit","EventType","basket"],"mappings":";;;;;;AAGAA,oBAAS,CAACC,SAAV,CAAoB,iCAApB,EAAuD;IACnDC,EAAAA,KAAK,EAAE,CAAC,OAAD,CAD4C;IAEnDC,EAAAA,QAAQ,EACR;IACIC,IAAAA,QADJ,sBAEI;IACI,aAAOC,MAAM,CAACC,MAAP,CACHN,gBAAS,CAACO,kBAAV,CAA6B,sBAA7B,CADG,CAAP;IAEH,KALL;IAMIC,IAAAA,kBANJ,gCAOI;IACI,aAAOC,kCAAY,CAACC,cAAb,CAA4B,KAAKC,KAAL,CAAWC,SAAvC,EAAkD,KAAKD,KAAL,CAAWE,QAA7D,EAAuE,IAAvE,CAAP;IACH;IATL,GAHmD;IAcnD;IACAC,EAAAA,QAAQ;IAf2C,CAAvD;;ACAAd,oBAAS,CAACC,SAAV,CAAoB,mCAApB,EAAyD;IACrDC,EAAAA,KAAK,EAAE,CAAC,OAAD,CAD8C;IAErDC,EAAAA,QAAQ,EACR;IACIC,IAAAA,QADJ,sBAEI;IACI,aAAOC,MAAM,CAACC,MAAP,CACHN,gBAAS,CAACO,kBAAV,CAA6B,sBAA7B,CADG,CAAP;IAEH,KALL;IAMIQ,IAAAA,oBANJ,kCAOI;IACI,aAAON,kCAAY,CAACC,cAAb,CAA4B,KAAKC,KAAL,CAAWK,QAAX,CAAoBC,GAAhD,EAAqD,KAAKN,KAAL,CAAWE,QAAhE,EAA0E,IAA1E,CAAP;IACH;IATL,GAHqD;IAcrD;IACAC,EAAAA,QAAQ;IAf6C,CAAzD;;ACAAd,oBAAS,CAACC,SAAV,CAAoB,kCAApB,EAAwD;IACpDC,EAAAA,KAAK,EAAE,CAAC,OAAD,CAD6C;IAEpDC,EAAAA,QAAQ,EACR;IACIC,IAAAA,QADJ,sBAEI;IACI,aAAOC,MAAM,CAACC,MAAP,CACHN,gBAAS,CAACO,kBAAV,CAA6B,sBAA7B,CADG,CAAP;IAEH,KALL;IAMIW,IAAAA,cANJ,4BAOI;IACI,aAAOT,kCAAY,CAACC,cAAb,CAA4B,KAAKC,KAAL,CAAWQ,KAAvC,EAA8C,KAAKR,KAAL,CAAWE,QAAzD,EAAmE,IAAnE,CAAP;IACH;IATL,GAHoD;IAcpD;IACAC,EAAAA,QAAQ;IAf4C,CAAxD;;ACKAd,oBAAS,CAACC,SAAV,CAAoB,0BAApB,EAAgD;IAC/CC,EAAAA,KAAK,EAAE,CAAC,OAAD,EAAU,cAAV,CADwC;IAE/CC,EAAAA,QAAQ,EACR;IACCC,IAAAA,QADD,sBAEC;IACC,aAAOC,MAAM,CAACC,MAAP,CACNN,gBAAS,CAACO,kBAAV,CAA6B,2BAA7B,CADM,CAAP;IAEA,KALF;IAMCa,IAAAA,WAND,yBAOC;IACC,aAAO,KAAKT,KAAL,CAAWK,QAAX,CAAoBC,GAApB,KAA4B,CAAnC;IACA,KATF;IAUCI,IAAAA,cAVD,4BAWC;IACC,UAAMC,OAAO,GAAG,CACf,iCADe,CAAhB;;IAIA,UAAG,KAAKC,UAAR,EACA;IACCD,QAAAA,OAAO,CAACE,IAAR,CAAa,QAAb;IACA;;IAED,aAAOF,OAAP;IACA,KAtBF;IAuBCC,IAAAA,UAvBD,wBAwBC;IACC,aAAO,KAAKE,YAAL,KAAsB,GAA7B;IACA;IA1BF,GAH+C;IA+B/CC,EAAAA,OAAO,EACP;IACCC,IAAAA,kBADD,gCAEC;IACCC,MAAAA,6BAAY,CAACC,IAAb,CAAkBC,6BAAS,CAACC,MAAV,CAAiBJ,kBAAnC;IACA;IAJF,GAhC+C;IAsC/C;IACAb,EAAAA,QAAQ;IAvCuC,CAAhD;;;;"}