this.BX=this.BX||{};this.BX.Sale=this.BX.Sale||{};this.BX.Sale.Checkout=this.BX.Sale.Checkout||{};this.BX.Sale.Checkout.View=this.BX.Sale.Checkout.View||{};this.BX.Sale.Checkout.View.Element=this.BX.Sale.Checkout.View.Element||{};(function(t,e,i,n,s,a,r){"use strict";i.BitrixVue.component("sale-checkout-view-element-input-product_item_quantity",{props:["item","index"],data:function t(){return{quantity:this.item.quantity}},methods:{validate:function t(){s.EventEmitter.emit(a.EventType.basket.inputChangeQuantityProduct,{index:this.index})},onKeyDown:function t(e){if(["Enter"].indexOf(e.key)>=0){this.$refs.container.blur()}}},computed:{checkedClassObject:function t(){return{"checkout-item-quantity-field":true}}},template:'\n      <input :class="checkedClassObject" \n\t\t\t type="text" \n\t\t\t inputmode="numeric" \n             @blur="validate"\n\t\t\t @keydown="onKeyDown"\n             v-model="item.quantity"\n             ref="container"\n\t  />\n\t'});i.BitrixVue.component("sale-checkout-view-element-input-property-phone",{props:["item","index"],methods:{validate:function t(){s.EventEmitter.emit(a.EventType.property.validate,{index:this.index})},onKeyDown:function t(i){var n=i.key;if(e.PhoneFilter.replace(n)!==""){return}if(["Esc","Delete","Backspace","Tab"].indexOf(i.key)>=0){return}if(i.ctrlKey||i.metaKey){return}i.preventDefault()},onInput:function t(){var i=e.PhoneFormatter.formatValue(this.value);if(this.value!==i){this.validate();this.value=i}}},computed:{checkedClassObject:function t(){return{"is-invalid":this.item.validated===a.Property.validate.failure,"is-valid":this.item.validated===a.Property.validate.successful}},value:{get:function t(){return this.item.value},set:function t(e){this.item.value=e}},isEmpty:function t(){return this.item.value===""},isRequired:function t(){return this.item.required==="Y"},isAsteriskShown:function t(){return this.isEmpty&&this.isRequired}},template:'\n\t\t<div class="form-wrap form-asterisk" :class="checkedClassObject">\n\t\t\t<input \n\t\t\t\tclass="form-control form-control-lg" \n\t\t\t\t:class="checkedClassObject"\n\t\t\t\t@blur="validate"\n\t\t\t\t@input="onInput"\n\t\t\t\t@keydown="onKeyDown"\n\t\t\t\tv-model="value"\n\t\t\t\tautocomplete="tel"\n\t\t\t\tinputmode="tel"\n\t\t\t\t:placeholder="item.name"\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tclass="asterisk-item"\n\t\t\t\tv-if="isAsteriskShown"\n\t\t\t>\n\t\t\t\t{{item.name}}\n\t\t\t</span>\n\t\t</div>\n\t'});i.BitrixVue.component("sale-checkout-view-element-input-property-text",{props:["item","index","autocomplete"],data:function t(){return{showAsterisk:this.showAsterisk}},methods:{validate:function t(){s.EventEmitter.emit(a.EventType.property.validate,{index:this.index})},onKeyUp:function t(e){if(["Esc","Tab"].indexOf(e.key)>=0){return}if(e.ctrlKey||e.metaKey){return}if(this.isKeyAndroidChrome(e.key)){this.hideAsteriskAndroid();return}this.validate()},isKeyAndroidChrome:function t(e){return e==="Unidentified"},hideAsteriskAndroid:function t(){var e=this.$el.getElementsByTagName("span")[0];e.style.display="none"}},computed:{checkedClassObject:function t(){return{"is-invalid":this.item.validated===a.Property.validate.failure,"is-valid":this.item.validated===a.Property.validate.successful}},isEmpty:function t(){return this.item.value===""},isRequired:function t(){return this.item.required==="Y"},isAsteriskShown:function t(){return this.isEmpty&&this.isRequired}},template:'\n\t\t<div class="form-wrap form-asterisk" :class="checkedClassObject">\n\t\t\t<input\n\t\t\t\tclass="form-control form-control-lg"\n\t\t\t\t:class="checkedClassObject"\n\t\t\t\t@blur="validate"\n\t\t\t\ttype="text"\n\t\t\t\t:placeholder="item.name"\n\t\t\t\t:autocomplete="autocomplete"\n\t\t\t\tv-model="item.value"\n\t\t\t\t@keyup="onKeyUp"\n\t\t\t/>\n\t\t\t<span \n\t\t\t\tclass="asterisk-item"\n\t\t\t\tv-if="isAsteriskShown"\n\t\t\t>\n\t\t\t\t{{item.name}}\n\t\t\t</span>\n\t\t</div>\n\t'});i.BitrixVue.component("sale-checkout-view-element-input-property-email",{props:["item","index","autocomplete"],methods:{validate:function t(){s.EventEmitter.emit(a.EventType.property.validate,{index:this.index})},onKeyUp:function t(e){if(["Esc","Tab"].indexOf(e.key)>=0){return}if(e.ctrlKey||e.metaKey){return}if(this.isKeyAndroidChrome(e.key)){this.hideAsteriskAndroid();return}this.validate()},isKeyAndroidChrome:function t(e){return e==="Unidentified"},hideAsteriskAndroid:function t(){var e=this.$el.getElementsByTagName("span")[0];e.style.display="none"}},computed:{checkedClassObject:function t(){return{"is-invalid":this.item.validated===a.Property.validate.failure,"is-valid":this.item.validated===a.Property.validate.successful}},isEmpty:function t(){return this.item.value===""},isRequired:function t(){return this.item.required==="Y"},isAsteriskShown:function t(){return this.isEmpty&&this.isRequired}},template:'\n\t\t<div class="form-wrap form-asterisk" :class="checkedClassObject">\n\t\t\t<input\n\t\t\t\tclass="form-control form-control-lg"\n\t\t\t\t:class="checkedClassObject"\n\t\t\t\t@blur="validate"\n\t\t\t\ttype="text"\n\t\t\t\tinputmode="email"\n\t\t\t\t:placeholder="item.name"\n\t\t\t\t:autocomplete="autocomplete"\n\t\t\t\tv-model="item.value"\n\t\t\t\t@keyup="onKeyUp"\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tclass="asterisk-item"\n\t\t\t\tv-if="isAsteriskShown"\n\t\t\t>\n\t\t\t\t{{item.name}}\n\t\t\t</span>\n\t\t</div>\n\t'});i.BitrixVue.component("sale-checkout-view-element-input-property-number",{props:["item","index"],methods:{validate:function t(){s.EventEmitter.emit(a.EventType.property.validate,{index:this.index})},onKeyDown:function t(e){if(!isNaN(Number(e.key))&&e.key!==" "){return}if(e.ctrlKey||e.metaKey||["Esc","Tab","Backspace","Delete","ArrowLeft","ArrowRight","."].indexOf(e.key)>=0){return}e.preventDefault()},onPaste:function t(e){e.preventDefault();var i=e.clipboardData.getData("Text");if(!isNaN(Number(i))){this.item.value=i.trim()}this.validate()}},computed:{checkedClassObject:function t(){return{"is-invalid":this.item.validated===a.Property.validate.failure,"is-valid":this.item.validated===a.Property.validate.successful}},isEmpty:function t(){return this.item.value===""},isRequired:function t(){return this.item.required==="Y"},isAsteriskShown:function t(){return this.isEmpty&&this.isRequired}},template:'\n\t\t<div class="form-wrap form-asterisk" :class="checkedClassObject">\n\t\t\t<input\n\t\t\t\tclass="form-control form-control-lg"\n\t\t\t\t:class="checkedClassObject"\n\t\t\t\t@blur="validate"\n\t\t\t\t@keydown="onKeyDown"\n\t\t\t\t@keyup="validate"\n\t\t\t\t@paste="onPaste"\n\t\t\t\ttype="text"\n\t\t\t\tinputmode="numeric"\n\t\t\t\t:placeholder="item.name"\n\t\t\t\tv-model="item.value"\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tclass="asterisk-item"\n\t\t\t\tv-if="isAsteriskShown"\n\t\t\t>\n\t\t\t\t{{item.name}}\n\t\t\t</span>\n\t\t</div>\n\t'});i.BitrixVue.component("sale-checkout-view-element-input-property-checkbox",{props:["item","index"],data:function t(){return{showValue:this.item.value==="Y"}},methods:{validate:function t(){s.EventEmitter.emit(a.EventType.property.validate,{index:this.index})}},computed:{checkedClassObject:function t(){return{"is-invalid":this.item.validated===a.Property.validate.failure,"is-valid":this.item.validated===a.Property.validate.successful}},switchValue:{get:function t(){this.showValue=this.item.value==="Y";return this.item.value==="Y"},set:function t(e){if(e){this.item.value="Y";this.showValue=true}else{this.item.value="N";this.showValue=false}this.validate()}},isAsteriskShown:function t(){return this.item.required==="Y"}},template:'\n\t\t<div class="form-wrap form-control form-control-lg border-0 pl-0 form-asterisk" :class="checkedClassObject">\n\t\t\t<input\n\t\t\t\t@blur="validate"\n\t\t\t\ttype="checkbox"\n\t\t\t\t:id="item.name"\n\t\t\t\t:value="showValue"\n\t\t\t\tv-model="switchValue"\n\t\t\t/>\n\t\t\t<label :for="item.name" class="ml-2">{{item.name}}</label>\n\t\t\t<div \n\t\t\t\tclass="asterisk-item"\n\t\t\t\tv-if="isAsteriskShown"\n\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\t'});i.BitrixVue.component("sale-checkout-view-element-input-property-date",{props:["item","index","autocomplete","isDateTime"],methods:{onClick:function t(){this.showCalendar();this.focusOnInput()},focusOnInput:function t(){var e=this.$el.children[0];e.focus()},showCalendar:function t(){var e=this;BX.calendar({node:this.item.name,field:this.item.name,bTime:this.isDateTime,bUseSecond:false,callback_after:function t(i){return e.handleDate(i)}})},handleDate:function t(e){var i=this.prepareDate(e);this.changeValue(i)},prepareDate:function t(e){if(this.isDateTime===true){return e.toLocaleString([],{day:"2-digit",month:"2-digit",year:"numeric",hour:"numeric",minute:"numeric"}).replace(",","")}else{return e.toLocaleDateString().replace(",","")}},blur:function t(){if(n.Type.isStringFilled(this.item.value)){this.changeValue(this.item.value)}},changeValue:function t(e){var t="";if(n.Type.isStringFilled(e)){t=this.validateDate(e)?this.prepareDate(BX.parseDate(e)):this.previousValue}this.setDate(t);this.validate()},validateDate:function t(e){var i=BX.parseDate(e);return i&&i.toLocaleDateString()!=="Invalid Date"},validate:function t(){s.EventEmitter.emit(a.EventType.property.validate,{index:this.index})},setDate:function t(e){this.item.value=e;this.previousValue=e}},computed:{checkedClassObject:function t(){return{"is-invalid":this.item.validated===a.Property.validate.failure,"is-valid":this.item.validated===a.Property.validate.successful}},isEmpty:function t(){return this.item.value===""},isRequired:function t(){return this.item.required==="Y"},isAsteriskShown:function t(){return this.isEmpty&&this.isRequired}},template:'\n\t\t<div class="form-wrap form-asterisk">\n\t\t\t<input\n\t\t\t\tclass="form-control form-control-lg"\n\t\t\t\t:class="checkedClassObject"\n\t\t\t\t@blur="blur"\n\t\t\t\ttype="text"\n\t\t\t\tinputmode="numeric"\n\t\t\t\t:name="item.name"\n\t\t\t\t@click="onClick"\n\t\t\t\t@drop="(e) => e.preventDefault()"\n\t\t\t\t@dragstart="(e) => e.preventDefault()"\n\t\t\t\t@paste="(e) => e.preventDefault()"\n\t\t\t\t:autocomplete="autocomplete"\n\t\t\t\t:placeholder="item.name"\n\t\t\t\tv-model="item.value"\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tclass="asterisk-item"\n\t\t\t\tv-if="isAsteriskShown"\n\t\t\t>\n\t\t\t\t{{item.name}}\n\t\t\t</span>\n\t\t</div>\n\t'});var l;i.BitrixVue.component("sale-checkout-view-element-input-property-enum",{props:["item","index","variants"],mounted:function t(){this.createDialog()},methods:{createDialog:function t(){this.popupMenu=new r.Dialog({targetNode:this.$el,dropdownMode:true,showAvatars:false,compactView:true,focusOnFirst:false,multiple:false,items:this.getMenuItems(),events:{"Item:onSelect":this.onSelect,"Item:onDeselect":this.onDeselect},footer:this.item.required==="Y"?"":this.getFooter()});n.Dom.style(this.popupMenu.getContainer(),"width","".concat(this.$el.clientWidth,"px"));n.Dom.style(this.popupMenu.getContainer(),"height","100%");window.addEventListener("resize",this.onResize.bind(this))},getMenuItems:function t(){var e=[];for(var i in this.variants){var n=this.variants[i];e.push({id:n.id,entityId:"item",tabs:"recents",title:n.name,selected:this.item.value===n.value,customData:{value:n.value}})}return e},deselectAll:function t(){this.item.value="";this.popupMenu.deselectAll();this.popupMenu.hide()},onSelect:function t(e){var i=e.getData().item.getDialog().getSelectedItems()[0];this.$el.value=i.getTitle();var n=Object.fromEntries(i.getCustomData());this.item.value=n.value;this.validate()},onDeselect:function t(){this.item.value="";this.popupMenu.hide();this.validate()},getFooter:function t(){return BX.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<span onclick="','" class="ui-selector-footer-link">\n\t\t\t\t\t',"\n\t\t\t\t\t</span>"])),this.deselectAll,this.localize.CHECKOUT_VIEW_PROPERTY_LIST_ENUM_RESET_CHOICE)},validate:function t(){s.EventEmitter.emit(a.EventType.property.validate,{index:this.index})},onKeyDown:function t(e){if(["Esc","Tab"].indexOf(e.key)>=0){return}e.preventDefault()},render:function t(){this.popupMenu.show()},onResize:function t(){n.Dom.style(this.popupMenu.getContainer(),"width","".concat(this.$el.clientWidth,"px"))}},computed:{localize:function t(){return Object.freeze(i.BitrixVue.getFilteredPhrases("CHECKOUT_VIEW_PROPERTY_LIST_"))},checkedClassObject:function t(){return{"is-invalid":this.item.validated===a.Property.validate.failure,"is-valid":this.item.validated===a.Property.validate.successful}},getObjectClass:function t(){var e={"form-control":true,"form-control-lg":true,"ui-ctl":true,"p-0":true,"border-0":this.item.validated===a.Property.validate.unvalidated};return Object.assign(e,this.checkedClassObject)},getSelectClass:function t(){return{"property-enum-desktop":true,"form-control":true,"form-control-lg":true,"ui-ctl-element":true,"bg-transparent":true,"border-0":this.item.validated!==a.Property.validate.unvalidated}},defaultValue:function t(){var e=this;if(this.item.value!==""){return this.variants.find((function(t){return t.value===e.item.value})).name}return""},isEmpty:function t(){return this.item.value===""},isRequired:function t(){return this.item.required==="Y"},isAsteriskShown:function t(){return this.isEmpty&&this.isRequired}},template:'\n\t\t<div\n            class="form-wrap form-asterisk"\n\t\t\t:class="getObjectClass"\n\t\t\t@blur="validate"\n\t\t>\n\t\t\t<div class="ui-ctl-after ui-ctl-icon-angle"></div>\n\t\t\t<input\n\t\t\t\treadonly\n\t\t\t\t@click="render"\n\t\t\t\t@keydown="onKeyDown"\n\t\t\t\t:class="getSelectClass"\n\t\t\t\t:placeholder="item.name"\n\t\t\t\t:value="defaultValue"\n\t\t\t>\n            <span\n\t\t\t\tclass="asterisk-item"\n\t\t\t\tv-if="isAsteriskShown"\n\t\t\t>\n\t\t\t\t{{item.name}}\n\t\t\t</span>\n\t\t</div>\n\t'})})(this.BX.Sale.Checkout.View.Element.Input=this.BX.Sale.Checkout.View.Element.Input||{},BX.Ui,BX,BX,BX.Event,BX.Sale.Checkout.Const,BX.UI.EntitySelector);
//# sourceMappingURL=registry.bundle.map.js