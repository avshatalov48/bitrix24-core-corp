{"version":3,"file":"registry.bundle.js","sources":["../src/product-item-quantity.js","../src/property-phone.js","../src/property-text.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\r\nimport { EventEmitter } from 'main.core.events'\r\n\r\nimport { EventType } from 'sale.checkout.const';\r\n\r\nBitrixVue.component('sale-checkout-view-element-input-product_item_quantity', {\r\n\tprops: ['item', 'index'],\r\n\tdata()\r\n\t{\r\n\t\treturn {\r\n\t\t\tquantity: this.item.quantity\r\n\t\t}\r\n\t},\r\n\tmethods:\r\n\t\t{\r\n\t\t\tvalidate()\r\n\t\t\t{\r\n\t\t\t\tEventEmitter.emit(EventType.basket.inputChangeQuantityProduct, {index: this.index});\r\n\t\t\t},\r\n\t\t\tonKeyDown(e)\r\n\t\t\t{\r\n\t\t\t\tif (['Enter'].indexOf(e.key) >= 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.$refs.container.blur();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\tcomputed:\r\n\t\t{\r\n\t\t\tcheckedClassObject()\r\n\t\t\t{\r\n\t\t\t\treturn {'checkout-item-quantity-field': true}\r\n\t\t\t}\r\n\t\t},\r\n\t// language=Vue\r\n\ttemplate: `\r\n      <input :class=\"checkedClassObject\" \r\n\t\t\t type=\"text\" \r\n\t\t\t inputmode=\"numeric\" \r\n             @blur=\"validate\"\r\n\t\t\t @keydown=\"onKeyDown\"\r\n             v-model=\"item.quantity\"\r\n             ref=\"container\"\r\n\t  />\r\n\t`\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport { EventEmitter } from 'main.core.events'\r\nimport { PhoneFilter as Filter, PhoneFormatter as Formatter} from \"ui.type\";\r\nimport { Property as Const, EventType } from 'sale.checkout.const';\r\n\r\nBitrixVue.component('sale-checkout-view-element-input-property-phone', {\r\n\tprops: ['item', 'index'],\r\n\tmethods:\r\n\t{\r\n\t\tvalidate()\r\n\t\t{\r\n\t\t\tEventEmitter.emit(EventType.property.validate, {index: this.index});\r\n\t\t},\r\n\t\tonKeyDown(e)\r\n\t\t{\r\n\t\t\tlet value = e.key;\r\n\t\t\t\r\n\t\t\tif (Filter.replace(value) !== '')\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (['Esc', 'Delete', 'Backspace', 'Tab'].indexOf(e.key) >= 0)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (e.ctrlKey || e.metaKey)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\t\tonInput()\r\n\t\t{\r\n\t\t\tlet value = Formatter.formatValue(this.value);\r\n\t\t\tif (this.value !== value)\r\n\t\t\t{\r\n\t\t\t\tthis.value = value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed:\r\n\t{\r\n\t\tcheckedClassObject()\r\n\t\t{\r\n\t\t\treturn this.item.validated === Const.validate.unvalidated ?\r\n\t\t\t\t{}\r\n\t\t\t\t:\r\n\t\t\t\t{\r\n\t\t\t\t\t'is-invalid': this.item.validated === Const.validate.failure,\r\n\t\t\t\t\t'is-valid': this.item.validated === Const.validate.successful\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\tget ()\r\n\t\t\t{\r\n\t\t\t\treturn this.item.value;\r\n\t\t\t},\r\n\t\t\tset (newValue)\r\n\t\t\t{\r\n\t\t\t\tthis.item.value = newValue;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t// language=Vue\r\n\ttemplate: `\r\n      <input class=\"form-control form-control-lg\" :class=\"checkedClassObject\"\r\n             @blur=\"validate\"\r\n             @input=\"onInput\"\r\n\t\t\t @keydown=\"onKeyDown\"\r\n             v-model=\"value\"\r\n             autocomplete=\"tel\"\r\n\t\t\t :placeholder=\"item.name\"\r\n      />\r\n\t`\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport { EventEmitter } from 'main.core.events'\r\nimport { Property as Const, EventType} from 'sale.checkout.const';\r\n\r\nBitrixVue.component('sale-checkout-view-element-input-property-text', {\r\n    props: ['item', 'index', 'autocomplete'],\r\n    methods:\r\n        {\r\n            validate()\r\n            {\r\n                EventEmitter.emit(EventType.property.validate, {index: this.index});\r\n            }\r\n        },\r\n    computed:\r\n        {\r\n            checkedClassObject()\r\n            {\r\n                return this.item.validated === Const.validate.unvalidated ?\r\n                    {}\r\n                    :\r\n                    {\r\n                        'is-invalid': this.item.validated === Const.validate.failure,\r\n                        'is-valid': this.item.validated === Const.validate.successful\r\n                    }\r\n            }\r\n        },\r\n    // language=Vue\r\n    template: `\r\n        <input class=\"form-control form-control-lg\" :class=\"checkedClassObject\"\r\n            @blur=\"validate\"\r\n            type=\"text\" \r\n            :placeholder=\"item.name\"\r\n            :autocomplete=\"autocomplete\"\r\n            v-model=\"item.value\"\r\n        />\r\n\t`\r\n});"],"names":["BitrixVue","component","props","data","quantity","item","methods","validate","EventEmitter","emit","EventType","basket","inputChangeQuantityProduct","index","onKeyDown","e","indexOf","key","$refs","container","blur","computed","checkedClassObject","template","property","value","Filter","replace","ctrlKey","metaKey","preventDefault","onInput","Formatter","formatValue","validated","Const","unvalidated","failure","successful","get","set","newValue"],"mappings":";;;;;;;;AAKAA,iBAAS,CAACC,SAAV,CAAoB,wDAApB,EAA8E;GAC7EC,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,CADsE;GAE7EC,IAF6E,kBAG7E;KACC,OAAO;OACNC,QAAQ,EAAE,KAAKC,IAAL,CAAUD;MADrB;IAJ4E;GAQ7EE,OAAO,EACN;KACCC,QADD,sBAEC;OACCC,6BAAY,CAACC,IAAb,CAAkBC,6BAAS,CAACC,MAAV,CAAiBC,0BAAnC,EAA+D;SAACC,KAAK,EAAE,KAAKA;QAA5E;MAHF;KAKCC,SALD,qBAKWC,CALX,EAMC;OACC,IAAI,CAAC,OAAD,EAAUC,OAAV,CAAkBD,CAAC,CAACE,GAApB,KAA4B,CAAhC,EACA;SACC,KAAKC,KAAL,CAAWC,SAAX,CAAqBC,IAArB;;;IAlByE;GAsB7EC,QAAQ,EACP;KACCC,kBADD,gCAEC;OACC,OAAO;SAAC,gCAAgC;QAAxC;;IA1B0E;;GA8B7EC,QAAQ;CA9BqE,CAA9E;;ACAAvB,iBAAS,CAACC,SAAV,CAAoB,iDAApB,EAAuE;GACtEC,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,CAD+D;GAEtEI,OAAO,EACP;KACCC,QADD,sBAEC;OACCC,6BAAY,CAACC,IAAb,CAAkBC,6BAAS,CAACc,QAAV,CAAmBjB,QAArC,EAA+C;SAACM,KAAK,EAAE,KAAKA;QAA5D;MAHF;KAKCC,SALD,qBAKWC,CALX,EAMC;OACC,IAAIU,KAAK,GAAGV,CAAC,CAACE,GAAd;;OAEA,IAAIS,mBAAM,CAACC,OAAP,CAAeF,KAAf,MAA0B,EAA9B,EACA;SACC;;;OAGD,IAAI,CAAC,KAAD,EAAQ,QAAR,EAAkB,WAAlB,EAA+B,KAA/B,EAAsCT,OAAtC,CAA8CD,CAAC,CAACE,GAAhD,KAAwD,CAA5D,EACA;SACC;;;OAED,IAAIF,CAAC,CAACa,OAAF,IAAab,CAAC,CAACc,OAAnB,EACA;SACC;;;OAGDd,CAAC,CAACe,cAAF;MAvBF;KAyBCC,OAzBD,qBA0BC;OACC,IAAIN,KAAK,GAAGO,sBAAS,CAACC,WAAV,CAAsB,KAAKR,KAA3B,CAAZ;;OACA,IAAI,KAAKA,KAAL,KAAeA,KAAnB,EACA;SACC,KAAKA,KAAL,GAAaA,KAAb;;;IAjCmE;GAqCtEJ,QAAQ,EACR;KACCC,kBADD,gCAEC;OACC,OAAO,KAAKjB,IAAL,CAAU6B,SAAV,KAAwBC,4BAAK,CAAC5B,QAAN,CAAe6B,WAAvC,GACN,EADM,GAGN;SACC,cAAc,KAAK/B,IAAL,CAAU6B,SAAV,KAAwBC,4BAAK,CAAC5B,QAAN,CAAe8B,OADtD;SAEC,YAAY,KAAKhC,IAAL,CAAU6B,SAAV,KAAwBC,4BAAK,CAAC5B,QAAN,CAAe+B;QALrD;MAHF;KAWCb,KAAK,EAAE;OACNc,GADM,iBAEN;SACC,OAAO,KAAKlC,IAAL,CAAUoB,KAAjB;QAHK;OAKNe,GALM,eAKDC,QALC,EAMN;SACC,KAAKpC,IAAL,CAAUoB,KAAV,GAAkBgB,QAAlB;;;IAxDmE;;GA6DtElB,QAAQ;CA7D8D,CAAvE;;ACDAvB,iBAAS,CAACC,SAAV,CAAoB,gDAApB,EAAsE;GAClEC,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,EAAkB,cAAlB,CAD2D;GAElEI,OAAO,EACH;KACIC,QADJ,sBAEI;OACIC,6BAAY,CAACC,IAAb,CAAkBC,6BAAS,CAACc,QAAV,CAAmBjB,QAArC,EAA+C;SAACM,KAAK,EAAE,KAAKA;QAA5D;;IANsD;GASlEQ,QAAQ,EACJ;KACIC,kBADJ,gCAEI;OACI,OAAO,KAAKjB,IAAL,CAAU6B,SAAV,KAAwBC,4BAAK,CAAC5B,QAAN,CAAe6B,WAAvC,GACH,EADG,GAGH;SACI,cAAc,KAAK/B,IAAL,CAAU6B,SAAV,KAAwBC,4BAAK,CAAC5B,QAAN,CAAe8B,OADzD;SAEI,YAAY,KAAKhC,IAAL,CAAU6B,SAAV,KAAwBC,4BAAK,CAAC5B,QAAN,CAAe+B;QAL3D;;IAbsD;;GAuBlEf,QAAQ;CAvB0D,CAAtE;;;;"}