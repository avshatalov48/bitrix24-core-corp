{"version":3,"file":"registry.bundle.js","sources":["../src/note-error.js","../src/list-edit.js","../src/list-view.js","../src/property.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\r\n\r\nBitrixVue.component('sale-checkout-view-property-note_error', {\r\n    props: ['message'],\r\n    template: `\r\n        <div class=\"invalid-feedback\">\r\n            {{message}}\r\n        </div>\r\n\t`\r\n});","import { BitrixVue } from 'ui.vue';\nimport { Property as Const } from 'sale.checkout.const';\n\nimport 'sale.checkout.view.element.input';\n\nimport './note-error'\n\nBitrixVue.component('sale-checkout-view-property-list_edit', {\n\tprops: ['items', 'errors', 'propertyVariants'],\n\tcomputed: {\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_PROPERTY_LIST_'))\n\t\t},\n\t},\n\tmethods: {\n\t\tgetErrorMessage(item)\n\t\t{\n\t\t\tlet error = this.errors.find(error => error.propertyId === item.id);\n\t\t\treturn typeof error !== 'undefined' ? error.message : null\n\t\t},\n\t\tisPhone(item)\n\t\t{\n\t\t\treturn item.type === Const.type.phone\n\t\t},\n\t\tisName(item)\n\t\t{\n\t\t\treturn item.type === Const.type.name\n\t\t},\n\t\tisEmail(item)\n\t\t{\n\t\t\treturn item.type === Const.type.email\n\t\t},\n\t\tisNumber(item)\n\t\t{\n\t\t\treturn item.type === Const.type.number\n\t\t},\n\t\tisCheckbox(item)\n\t\t{\n\t\t\treturn item.type === Const.type.checkbox\n\t\t},\n\t\tisDate(item)\n\t\t{\n\t\t\treturn item.type === Const.type.date\n\t\t},\n\t\tisDateTime(item)\n\t\t{\n\t\t\treturn item.type === Const.type.datetime\n\t\t},\n\t\tisEnum(item)\n\t\t{\n\t\t\treturn item.type === Const.type.enum\n\t\t},\n\t\tisFailure(item)\n\t\t{\n\t\t\treturn item.validated === Const.validate.failure\n\t\t},\n\t\tgetVariantsByPropertyId(propertyId)\n\t\t{\n\t\t\treturn this.propertyVariants.filter(variant => variant.propertyId === propertyId);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"checkout-basket-section checkout-basket-section-personal-form\">\n\t\t\t<h2 class=\"checkout-basket-title\">{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_CONTACTS}}</h2>\n\t\t\t<div class=\"form-group\" v-for=\"(item, index) in items\" :key=\"index\">\n\t\t\t\t<sale-checkout-view-element-input-property-text v-if=\"isName(item)\"\n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\" \n\t\t\t\t\tautocomplete=\"name\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-phone v-else-if=\"isPhone(item)\" \n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-email v-else-if=\"isEmail(item)\" \n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\" \n\t\t\t\t\tautocomplete=\"email\" \n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-checkbox v-else-if=\"isCheckbox(item)\" \n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\" \n\t\t\t\t\t:autocomplete=\"item.value\" \n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-number v-else-if=\"isNumber(item)\" \n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-date v-else-if=\"isDate(item) || isDateTime(item)\"\n\t\t\t\t\t:item=\"item\"\n\t\t\t\t\t:index=\"index\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t:isDateTime=\"isDateTime(item)\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-enum v-else-if=\"isEnum(item)\"\n\t\t\t\t\t:item=\"item\"\n\t\t\t\t\t:index=\"index\"\n\t\t\t\t\t:variants=\"getVariantsByPropertyId(item.id)\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-text v-else\n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\" \n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t/>\n\n\t\t\t\t<sale-checkout-view-property-note_error v-if=\"isFailure(item)\"\n\t\t\t\t\t:message=\"getErrorMessage(item)\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`\n});","import { BitrixVue } from 'ui.vue';\nimport { Type } from 'main.core';\nimport { Property as Const } from 'sale.checkout.const';\n\nBitrixVue.component('sale-checkout-view-property-list_view', {\n    props: ['items', 'number', 'propertyVariants'],\n\tcomputed:\n\t{\n\t\tlocalize() {\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_PROPERTY_LIST_VIEW_'))\n\t\t},\n\t\tgetTitle()\n\t\t{\n\t\t\tlet message = this.localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_ORDER_TITLE;\n\t\t\treturn message.replace('#ORDER_NUMBER#', this.number);\n\t\t},\n\t\tgetPropertiesShort()\n\t\t{\n\t\t\tconst properties = [];\n\n\t\t\tfor (let propertyId in this.items)\n\t\t\t{\n\t\t\t\tif (Type.isStringFilled(this.items[propertyId].value))\n\t\t\t\t{\n\t\t\t\t\tproperties.push(this.items[propertyId].value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn properties.join(', ');\n\t\t},\n\t},\n\tmethods: {\n\t\tresolveValue(item)\n\t\t{\n\t\t\tif (item.type === Const.type.checkbox)\n\t\t\t{\n\t\t\t\treturn item.value === 'Y'\n\t\t\t\t\t? this.localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_CHECKBOX_Y\n\t\t\t\t\t: this.localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_CHECKBOX_N\n\t\t\t}\n\t\t\telse if (item.type === Const.type.enum)\n\t\t\t{\n\t\t\t\treturn this.propertyVariants.find(variant => variant.value === item.value && variant.propertyId === item.id).name\n\t\t\t}\n\n\t\t\treturn item.value;\n\t\t}\n\t},\n    template: `\n\t\t<div class=\"checkout-basket-section\">\n\t\t<h2 class=\"checkout-basket-title\">{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_PROPERTIES}}</h2>\n\t\n\t\t\t\t\t\t<div class=\"checkout-item-personal-order-info\">\n\t\t\t\t\t\t\t<div class=\"checkout-item-personal-order-payment\">\n\t\t\t\t\t\t\t\t<div v-for=\"(item, index) in items\" :key=\"index\">{{item.name}}: <b>{{resolveValue(item)}}</b></div>\n<!--\t\t\t\t\t\t\t\t<div>{{getPropertiesShort}}</div>-->\n\t\t\t\t\t\t\t</div>\n<!--\t\t\t\t\t\t\t<div class=\"checkout-item-personal-order-shipping\">-->\n<!--\t\t\t\t\t\t\t\t<strong>{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_METHOD}}</strong>-->\n<!--\t\t\t\t\t\t\t\t<div>{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_METHOD_DESCRIPTION}}</div>-->\n<!--\t\t\t\t\t\t\t</div>-->\n\t\t\t\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t`\n});\n\n","import { BitrixVue } from 'ui.vue';\nimport { Application } from 'sale.checkout.const';\n\nimport 'sale.checkout.view.property';\n\nBitrixVue.component('sale-checkout-view-property', {\n    props: ['items', 'mode', 'order', 'propertyVariants', 'errors'],\n    computed:\n    {\n        getConstMode()\n        {\n            return Application.mode\n        }\n    },\n    template: `\n\t\t<div>\n\t\t    <template v-if=\"mode === getConstMode.edit\">\n\t\t         <sale-checkout-view-property-list_edit :items=\"items\" :errors=\"errors\" :propertyVariants=\"propertyVariants\"/>\n\t\t    </template>\n\t\t    <template v-else>\n\t\t        <sale-checkout-view-property-list_view :items=\"items\" :number=\"order.accountNumber\" :propertyVariants=\"propertyVariants\"/>\n            </template>\n        </div>\n\t`\n});"],"names":["BitrixVue","component","props","template","computed","localize","Object","freeze","getFilteredPhrases","methods","getErrorMessage","item","error","errors","find","propertyId","id","message","isPhone","type","Const","phone","isName","name","isEmail","email","isNumber","number","isCheckbox","checkbox","isDate","date","isDateTime","datetime","isEnum","isFailure","validated","validate","failure","getVariantsByPropertyId","propertyVariants","filter","variant","getTitle","CHECKOUT_VIEW_PROPERTY_LIST_VIEW_ORDER_TITLE","replace","getPropertiesShort","properties","items","Type","isStringFilled","value","push","join","resolveValue","CHECKOUT_VIEW_PROPERTY_LIST_VIEW_CHECKBOX_Y","CHECKOUT_VIEW_PROPERTY_LIST_VIEW_CHECKBOX_N","getConstMode","Application","mode"],"mappings":"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"}