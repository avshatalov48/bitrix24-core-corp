{"version":3,"file":"registry.bundle.js","sources":["../src/note-error.js","../src/list-edit.js","../src/list-view.js","../src/property.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\r\n\r\nBitrixVue.component('sale-checkout-view-property-note_error', {\r\n    props: ['message'],\r\n    template: `\r\n        <div class=\"invalid-feedback\">\r\n            {{message}}\r\n        </div>\r\n\t`\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport {Property as Const} from 'sale.checkout.const';\r\n\r\nimport 'sale.checkout.view.element.input';\r\n\r\nimport './note-error'\r\n\r\nBitrixVue.component('sale-checkout-view-property-list_edit', {\r\n\tprops: ['items', 'errors'],\r\n\tcomputed:\r\n\t{\r\n\t\tlocalize() {\r\n\t\t\treturn Object.freeze(\r\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_PROPERTY_LIST_'))\r\n\t\t}\r\n\t},\r\n\tmethods:\r\n\t{\r\n\t\tgetErrorMessage(item)\r\n\t\t{\r\n\t\t\tlet error = this.errors.find(error => error.propertyId === item.id);\r\n\t\t\treturn typeof error !== 'undefined' ? error.message:null\r\n\t\t},\r\n\t\tisPhone(item)\r\n\t\t{\r\n\t\t\treturn item.type === Const.type.phone\r\n\t\t},\r\n\t\tisName(item)\r\n\t\t{\r\n\t\t\treturn item.type === Const.type.name\r\n\t\t},\r\n\t\tisEmail(item)\r\n\t\t{\r\n\t\t\treturn item.type === Const.type.email\r\n\t\t},\r\n\t\tisFailure(item)\r\n\t\t{\r\n\t\t\treturn item.validated === Const.validate.failure\r\n\t\t}\r\n\t},\r\n\t// language=Vue\r\n\ttemplate: `\r\n\t\t<div class=\"checkout-basket-section checkout-basket-section-personal-form\">\r\n\t\t\t<h2 class=\"checkout-basket-title\">{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_CONTACTS}}</h2>\r\n\t\t\t\t<template v-for=\"(item, index) in items\">\r\n\t\t\t\t  <div class=\"form-group\" v-if=\"isName(item)\">\r\n\t\t\t\t\t<sale-checkout-view-element-input-property-text :item=\"item\" :index=\"index\" :autocomplete=\"'name'\"/>\r\n\t\t\t\t\t<sale-checkout-view-property-note_error v-if=\"isFailure(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:message=\"getErrorMessage(item)\"/>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-for=\"(item, index) in items\">\r\n\t\t\t\t  <div class=\"form-group\" v-if=\"isPhone(item)\">\r\n\t\t\t\t\t<sale-checkout-view-element-input-property-phone :item=\"item\" :index=\"index\"/>\r\n\t\t\t\t\t<sale-checkout-view-property-note_error v-if=\"isFailure(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:message=\"getErrorMessage(item)\"/>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-for=\"(item, index) in items\">\r\n\t\t\t\t  <div class=\"form-group\" v-if=\"isEmail(item)\">\r\n\t\t\t\t\t<sale-checkout-view-element-input-property-text :item=\"item\" :index=\"index\" :autocomplete=\"'email'\" />\r\n\t\t\t\t\t<sale-checkout-view-property-note_error v-if=\"isFailure(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:message=\"getErrorMessage(item)\"/>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</template>\r\n\t\r\n\t\t\t\t<template v-for=\"(item, index) in items\">\r\n\t\t\t\t  <div class=\"form-group\" v-if=\"isPhone(item) === false && isName(item) === false && isEmail(item) === false\">\r\n\t\t\t\t\t<sale-checkout-view-element-input-property-text :item=\"item\" :index=\"index\" :autocomplete=\"'off'\"/>\r\n\t\t\t\t\t<sale-checkout-view-property-note_error v-if=\"isFailure(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:message=\"getErrorMessage(item)\"/>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</template>\r\n\t\t</div>\r\n\t`\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport { Type } from 'main.core';\r\n\r\nBitrixVue.component('sale-checkout-view-property-list_view', {\r\n    props: ['items', 'number'],\r\n\tcomputed:\r\n\t{\r\n\t\tlocalize() {\r\n\t\t\treturn Object.freeze(\r\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_PROPERTY_LIST_VIEW_'))\r\n\t\t},\r\n\t\tgetTitle()\r\n\t\t{\r\n\t\t\tlet message = this.localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_ORDER_TITLE;\r\n\t\t\treturn message.replace('#ORDER_NUMBER#', this.number);\r\n\t\t},\r\n\t\tgetPropertiesShort()\r\n\t\t{\r\n\t\t\tconst properties = [];\r\n\t\t\t\r\n\t\t\tfor (let propertyId in this.items)\r\n\t\t\t{\r\n\t\t\t\tif (Type.isStringFilled(this.items[propertyId].value))\r\n\t\t\t\t{\r\n\t\t\t\t\tproperties.push(this.items[propertyId].value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn properties.join(', ');\r\n\t\t}\r\n\t},\r\n    template: `\r\n\t\t<div class=\"checkout-basket-section\">\r\n\t\t<h2 class=\"checkout-basket-title\">{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_CONTACTS}}</h2>\r\n\t\r\n\t\t\t\t\t\t<div class=\"checkout-item-personal-order-info\">\r\n\t\t\t\t\t\t\t<div class=\"checkout-item-personal-order-payment\">\r\n<!--\t\t\t\t\t\t\t\t<div v-for=\"(item, index) in items\" :key=\"index\">{{item.name}}: <b>{{item.value}}</b></div>-->\r\n\t\t\t\t\t\t\t\t<div>{{getPropertiesShort}}</div>\r\n\t\t\t\t\t\t\t</div>\r\n<!--\t\t\t\t\t\t\t<div class=\"checkout-item-personal-order-shipping\">-->\r\n<!--\t\t\t\t\t\t\t\t<strong>{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_METHOD}}</strong>-->\r\n<!--\t\t\t\t\t\t\t\t<div>{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_METHOD_DESCRIPTION}}</div>-->\r\n<!--\t\t\t\t\t\t\t</div>-->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t`\r\n});\r\n\r\n","import { BitrixVue } from 'ui.vue';\r\nimport { Application } from 'sale.checkout.const';\r\n\r\nimport 'sale.checkout.view.property';\r\n\r\nBitrixVue.component('sale-checkout-view-property', {\r\n    props: ['items', 'mode', 'order', 'errors'],\r\n    computed:\r\n    {\r\n        getConstMode()\r\n        {\r\n            return Application.mode\r\n        }\r\n    },\r\n    template: `\r\n\t\t<div>\r\n\t\t    <template v-if=\"mode === getConstMode.edit\">\r\n\t\t         <sale-checkout-view-property-list_edit :items=\"items\" :errors=\"errors\"/>\r\n\t\t    </template>\r\n\t\t    <template v-else>\r\n\t\t        <sale-checkout-view-property-list_view :items=\"items\" :number=\"order.accountNumber\"/>\r\n            </template>\r\n        </div>\r\n\t`\r\n});"],"names":["BitrixVue","component","props","template","computed","localize","Object","freeze","getFilteredPhrases","methods","getErrorMessage","item","error","errors","find","propertyId","id","message","isPhone","type","Const","phone","isName","name","isEmail","email","isFailure","validated","validate","failure","getTitle","CHECKOUT_VIEW_PROPERTY_LIST_VIEW_ORDER_TITLE","replace","number","getPropertiesShort","properties","items","Type","isStringFilled","value","push","join","getConstMode","Application","mode"],"mappings":"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"}