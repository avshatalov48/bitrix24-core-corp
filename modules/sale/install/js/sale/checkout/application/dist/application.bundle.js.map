{"version":3,"file":"application.bundle.js","sources":["../src/view.js","../src/application.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\nimport { EventEmitter } from \"main.core.events\";\nimport { Type } from 'main.core';\nimport { Application as ApplicationConst, Loader as LoaderConst, PaySystem as PaySystemConst, Property as PropertyConst,\n\t\t EventType } from 'sale.checkout.const';\n\nimport \"sale.checkout.view.total\";\nimport \"sale.checkout.view.product\";\nimport \"sale.checkout.view.property\";\nimport \"sale.checkout.view.user-consent\"\nimport \"sale.checkout.view.element.button\";\nimport \"sale.checkout.view.successful\";\nimport \"sale.checkout.view.empty-cart\";\nimport \"sale.checkout.view.payment\"\nimport \"sale.checkout.view.alert\"\n\nBitrixVue.component('sale-checkout-form', {\n\tdata()\n\t{\n\t\treturn {\n\t\t\tstage: ApplicationConst.stage,\n\t\t\tmode: ApplicationConst.mode,\n\t\t\tstatus: LoaderConst.status,\n\t\t\ttotalIsShow: 'N'\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tcheckoutButtonEnabled()\n\t\t{\n\t\t\tconst properties = [];\n\n\t\t\tlet list = this.$store.getters['property/getProperty'];\n\n\t\t\tfor (let listKey in list)\n\t\t\t{\n\t\t\t\tif (!Type.isStringFilled(list[listKey].value) && list[listKey].required === 'Y')\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (!Type.isStringFilled(list[listKey].value))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tlist[listKey].type === PropertyConst.type.checkbox\n\t\t\t\t\t&& list[listKey].required === 'Y'\n\t\t\t\t\t&& list[listKey].value !== 'Y'\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (list[listKey].type === PropertyConst.type.checkbox)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tproperties.push(list[listKey].value);\n\t\t\t}\n\n\t\t\treturn properties.length > 0\n\t\t},\n\t\thasPS()\n\t\t{\n\t\t\tconst result = [];\n\t\t\tlet list = this.$store.getters['pay-system/getPaySystem'];\n\t\t\tlist.forEach((fields) => {\n\t\t\t\tif(fields.type !== PaySystemConst.type.cash)\n\t\t\t\t{\n\t\t\t\t\tresult.push(fields)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn result.length > 0\n\t\t},\n\t\tneedCheckConsent()\n\t\t{\n\t\t\treturn this.getConsent.id > 0;\n\t\t},\n\t\tgetBasket()\n\t\t{\n\t\t\treturn this.$store.getters['basket/getBasket'];\n\t\t},\n\t\tgetBasketErrors()\n\t\t{\n\t\t\treturn this.$store.getters['basket/getErrors'];\n\t\t},\n\t\tgetOrder()\n\t\t{\n\t\t\treturn this.$store.getters['order/getOrder'];\n\t\t},\n\t\tgetProperty()\n\t\t{\n\t\t\treturn this.$store.getters['property/getProperty'];\n\t\t},\n\t\tgetVariant()\n\t\t{\n\t\t\treturn this.$store.getters['property-variant/getVariant'];\n\t\t},\n\t\tgetPropertyErrors()\n\t\t{\n\t\t\treturn this.$store.getters['property/getErrors'];\n\t\t},\n\t\tgetTotal()\n\t\t{\n\t\t\tconst total = this.$store.getters['basket/getTotal'];\n\t\t\treturn {\n\t\t\t\tprice: total.price,\n\t\t\t\tbasePrice: total.basePrice,\n\t\t\t\tdiscount: this.$store.getters['basket/getDiscount'],\n\t\t\t\tcurrency: this.$store.getters['basket/getCurrency']\n\t\t\t}\n\t\t},\n\t\tgetConsent()\n\t\t{\n\t\t\treturn this.$store.getters['consent/get'];\n\t\t},\n\t\tgetStage()\n\t\t{\n\t\t\treturn this.$store.getters['application/getStage'];\n\t\t},\n\t\tgetStatus()\n\t\t{\n\t\t\treturn this.$store.getters['application/getStatus'];\n\t\t},\n\t\tgetBasketConfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\tstatus: this.$store.getters['basket/getStatus']\n\t\t\t}\n\t\t},\n\t\tgetPaySystem()\n\t\t{\n\t\t\treturn this.$store.getters['pay-system/getPaySystem']\n\t\t},\n\t\tgetCheck()\n\t\t{\n\t\t\treturn this.$store.getters['check/getCheck']\n\t\t},\n\t\tgetPayment()\n\t\t{\n\t\t\treturn this.$store.getters['payment/getPayment']\n\t\t},\n\t\tgetPaymentConfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\tstatus: this.$store.getters['pay-system/getStatus'],\n\t\t\t\treturnUrl: this.$store.getters['application/getPathLocation'],\n\t\t\t\tmainPage: this.$store.getters['application/getPathMainPage'],\n\t\t\t}\n\t\t},\n\t\tgetSuccessfulConfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\tmainPage: this.$store.getters['application/getPathMainPage'],\n\t\t\t}\n\t\t},\n\t\tgetEmptyCartConfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\tpath: this.$store.getters['application/getPath'],\n\t\t\t}\n\t\t},\n\t\tgetTitleCheckoutButton()\n\t\t{\n\t\t\treturn {\n\t\t\t\ttitle: this.$store.getters['application/getTitleCheckoutButton'],\n\t\t\t}\n\t\t},\n\t\tgetErrors()\n\t\t{\n\t\t\treturn this.$store.getters['application/getErrors'];\n\t\t}\n\t},\n\tcreated()\n\t{\n\n\t\tEventEmitter.subscribe(EventType.basket.backdropTotalOpen, (event) => {\n\t\t\tthis.totalIsShow = 'Y';\n\t\t});\n\n\t\tEventEmitter.subscribe(EventType.basket.backdropTotalClose, (event) => {\n\t\t\tthis.totalIsShow = 'N';\n\t\t});\n\t},\n\tbeforeDestroy()\n\t{\n\t\tEventEmitter.unsubscribe(EventType.basket.backdropTotalOpen);\n\t\tEventEmitter.unsubscribe(EventType.basket.backdropTotalClose);\n\t},\n\t// language=Vue\n\ttemplate: `\n      <div class=\"checkout-container-wrapper\">\n\t\t  <div class=\"checkout-basket-container\">\n\t\t\t<template v-if=\"getStage === stage.edit\">\n\t\t\t  <sale-checkout-view-product :items=\"getBasket\" :total=\"getTotal\" :mode=\"mode.edit\" :errors=\"getBasketErrors\" :config=\"getBasketConfig\"/>\n\t\t\t  <sale-checkout-view-property :items=\"getProperty\" :mode=\"mode.edit\" :errors=\"getPropertyErrors\" :propertyVariants=\"getVariant\"/>\n\t\t\t  <sale-checkout-view-alert-list :errors=\"getErrors\"/>\n\t\t\t  <sale-checkout-view-user_consent :item=\"getConsent\" v-if=\"needCheckConsent\"/>\n\t\t\t  <template v-if=\"checkoutButtonEnabled\">\n\t\t\t\t<sale-checkout-view-element-button-checkout :title=\"getTitleCheckoutButton.title\" :wait=\"getStatus === status.wait\"/>\n\t\t\t  </template>\n\t\t\t  <template v-else>\n\t\t\t\t<sale-checkout-view-element-button-checkout_disabled :title=\"getTitleCheckoutButton.title\"/>\n\t\t\t  </template>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"getStage === stage.success\">\n\t\t\t  <template v-if=\"hasPS\">\n\t\t\t\t<sale-checkout-view-successful :items=\"getProperty\" :order=\"getOrder\" :config=\"getSuccessfulConfig\"/>\n\t\t\t  </template>\n\t\t\t  <template v-else>\n\t\t\t\t<sale-checkout-view-successful-without-ps :items=\"getProperty\" :order=\"getOrder\" :config=\"getSuccessfulConfig\"/>\n\t\t\t  </template>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"getStage === stage.payed\">\n              <sale-checkout-view-successful_ps_return :items=\"getProperty\" :order=\"getOrder\" :total=\"getTotal\" :config=\"getSuccessfulConfig\"/>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"getStage === stage.view\">\n\t\t\t  <sale-checkout-view-product :items=\"getBasket\" :total=\"getTotal\" :mode=\"mode.view\" :errors=\"getBasketErrors\" :config=\"getBasketConfig\"/>\n\t\t\t  <sale-checkout-view-property :items=\"getProperty\" :mode=\"mode.view\" :order=\"getOrder\" :propertyVariants=\"getVariant\"/>\n\t\t\t  <sale-checkout-view-product-summary :total=\"getTotal\" :mode=\"mode.view\"/>\n              <sale-checkout-view-payment :order=\"getOrder\" :payments=\"getPayment\" :paySystems=\"getPaySystem\" :check=\"getCheck\" :config=\"getPaymentConfig\"/>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"getStage === stage.empty\">\n\t\t\t  <sale-checkout-view-empty_cart :config=\"getEmptyCartConfig\"/>\n\t\t\t</template>\n\t\t  </div>\n\t\t  <template v-if=\"getStage === stage.view\">\n\t\t\t<sale-checkout-view-total :total=\"getTotal\" :showBackdrop=\"totalIsShow\"/>\n\t\t  </template>\n      </div>\n\t`\n});","import { BitrixVue } from 'ui.vue';\nimport { Url } from 'sale.checkout.lib';\nimport { Tag, Type } from 'main.core';\nimport { VuexBuilder } from 'ui.vue.vuex';\nimport { Application as Controller } from 'sale.checkout.controller'\nimport {\n\tOrder as OrderModel,\n\tCheck as CheckModel,\n\tBasket as BasketModel,\n\tPayment as PaymentModel,\n\tProperty as PropertyModel,\n\tVariant as VariantModel,\n\tApplication as ApplicationModel,\n\tConsent as ConsentModel,\n\tPaySystem as PaySystemModel } from 'sale.checkout.model'\n\nimport './view'\n\nexport class Application\n{\n\tconstructor(options= {} )\n\t{\n\t\tthis.wrapper = Tag.render`<div class=\"\"></div>`;\n\n\t\tthis.init()\n\t\t\t.then(() => this.prepareParams({options}))\n\t\t\t.then(() => {\n\t\t\t\tthis.initStore()\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tthis.setStore(result);\n\t\t\t\t\t\tthis.initController().then(() => {})\n\t\t\t\t\t\tthis.initTemplate().then(() => {})\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => Application.showError(error))\n\t\t\t});\n\t}\n\n\t/**\n\t * @private\n\t */\n\tinit()\n\t{\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprepareParams(params)\n\t{\n\t\tthis.options = params.options\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * @private\n\t */\n\tinitStore()\n\t{\n\t\tconst builder = new VuexBuilder();\n\n\t\tlet contextVariablesBasket =\n\t\t\t{\n\t\t\t\tproduct: this.options.product\n\t\t\t};\n\n\t\tlet contextVariablesApp =\n\t\t\t{\n\t\t\t\tpath: this.options.path,\n\t\t\t\tcommon: this.options.common,\n\t\t\t\toption: this.options.option,\n\t\t\t\tmessages: this.options.messages\n\t\t\t};\n\n\t\tcontextVariablesApp.path.location = Url.getCurrentUrl()\n\n\t\treturn builder\n\t\t\t.addModel(OrderModel.create())\n\t\t\t.addModel(BasketModel.create().setVariables(contextVariablesBasket))\n\t\t\t.addModel(PropertyModel.create())\n\t\t\t.addModel(VariantModel.create())\n\t\t\t.addModel(PaymentModel.create())\n\t\t\t.addModel(CheckModel.create())\n\t\t\t.addModel(PaySystemModel.create())\n\t\t\t.addModel(ApplicationModel.create().setVariables(contextVariablesApp))\n\t\t\t.addModel(ConsentModel.create())\n\t\t\t.build();\n\t}\n\n\t/**\n\t * @private\n\t */\n\tlayout()\n\t{\n\t\treturn this.wrapper;\n\t}\n\n\t/**\n\t * @private\n\t */\n\tinitController()\n\t{\n\t\tthis.controller = new Controller({\n\t\t\tstore: this.store\n\t\t});\n\n\t\treturn new Promise((resolve) => resolve());\n\t}\n\n\t/**\n\t * @private\n\t */\n\tinitTemplate()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tconst context = this;\n\n\t\t\tthis.templateEngine = BitrixVue.createApp({\n\t\t\t\tstore: this.store,\n\t\t\t\tdata: {\n\t\t\t\t\toptions: this.options\n\t\t\t\t},\n\t\t\t\tbeforeCreate()\n\t\t\t\t{\n\t\t\t\t\tthis.$bitrix.Application.set(context);\n\t\t\t\t},\n\t\t\t\tcreated()\n\t\t\t\t{\n\t\t\t\t\tlet data = {};\n\t\t\t\t\tif (context.options.basket.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = {\n\t\t\t\t\t\t\torder:  this.options.order,\n\t\t\t\t\t\t\tbasket:  this.options.basket,\n\t\t\t\t\t\t\tpaySystem:  this.options.paySystem,\n\t\t\t\t\t\t\tpayment:  this.options.payment,\n\t\t\t\t\t\t\tcheck:  this.options.check,\n\t\t\t\t\t\t\ttotal: this.options.total,\n\t\t\t\t\t\t\tcurrency: this.options.currency,\n\t\t\t\t\t\t\tdiscount: this.options.discount,\n\t\t\t\t\t\t\tproperty: this.options.property,\n\t\t\t\t\t\t\tvariant: this.options.variant,\n\t\t\t\t\t\t\tconsent: this.options.consent,\n\t\t\t\t\t\t\tconsentStatus: this.options.consentStatus\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdata.stage = this.options.stage;\n\n\t\t\t\t\tcontext.setModelData(data);\n\t\t\t\t},\n\t\t\t\tmounted()\n\t\t\t\t{\n\t\t\t\t\tresolve();\n\t\t\t\t},\n\t\t\t\ttemplate: `<sale-checkout-form/>`,\n\t\t\t})\n\t\t\t\t.mount(this.wrapper);\n\t\t});\n\t}\n\n\t/**\n\t * @private\n\t */\n\tsetStore(data)\n\t{\n\t\tthis.store = data.store;\n\t}\n\n\t/**\n\t * @private\n\t */\n\tsetModelData(data)\n\t{\n\t\t//region: application model\n\t\tif (Type.isString(data.stage))\n\t\t{\n\t\t\tthis.store.dispatch('application/setStage', {stage: data.stage});\n\t\t}\n\t\t//endregion\n\n\t\t//region: order model\n\t\tif (Type.isObject(data.order))\n\t\t{\n\t\t\tthis.store.dispatch('order/set', data.order);\n\t\t}\n\t\t//endregion\n\n\t\t//region: basket model\n\t\tif (Type.isObject(data.basket))\n\t\t{\n\t\t\tdata.basket.forEach((fields, index) => {\n\t\t\t\tthis.store.dispatch('basket/changeItem', {index, fields});\n\t\t\t});\n\t\t}\n\n\t\tif (Type.isString(data.currency))\n\t\t{\n\t\t\tthis.store.dispatch('basket/setCurrency', {currency: data.currency});\n\t\t}\n\n\t\tif (Type.isObject(data.discount))\n\t\t{\n\t\t\tthis.store.dispatch('basket/setDiscount', data.discount);\n\t\t}\n\n\t\tif (Type.isObject(data.total))\n\t\t{\n\t\t\tthis.store.dispatch('basket/setTotal', data.total);\n\t\t}\n\t\t//endregion\n\n\t\t//region: property model\n\t\tif (Type.isObject(data.property))\n\t\t{\n\t\t\tdata.property.forEach((fields, index) => {\n\t\t\t\tthis.store.dispatch('property/changeItem', {index, fields});\n\t\t\t});\n\t\t}\n\t\t//endregion\n\n\t\t//region: variant model\n\t\tif (Type.isObject(data.variant))\n\t\t{\n\t\t\tdata.variant.forEach((fields, index) => {\n\t\t\t\tthis.store.dispatch('property-variant/changeItem', {index, fields});\n\t\t\t});\n\t\t}\n\t\t//endregion\n\n\t\t//region: payment model\n\t\tif (Type.isObject(data.payment))\n\t\t{\n\t\t\tdata.payment.forEach((fields, index) => {\n\t\t\t\tthis.store.dispatch('payment/changeItem', {index, fields});\n\t\t\t});\n\t\t}\n\t\t//endregion\n\n\t\t// region: check model\n\t\tif (Type.isObject(data.check))\n\t\t{\n\t\t\tdata.check.forEach((fields, index) => {\n\t\t\t\tthis.store.dispatch('check/changeItem', {index, fields});\n\t\t\t});\n\t\t}\n\t\t//endregion\n\n\t\t// region: paySystem model\n\t\tif (Type.isObject(data.paySystem))\n\t\t{\n\t\t\tdata.paySystem.forEach((fields, index) => {\n\t\t\t\tthis.store.dispatch('pay-system/changeItem', {index, fields});\n\t\t\t});\n\t\t}\n\t\t//endregion\n\n\t\t//region: consent\n\t\tif (Type.isString(data.consentStatus))\n\t\t{\n\t\t\tthis.store.dispatch('consent/setStatus', data.consentStatus);\n\t\t}\n\n\t\tif (Type.isObject(data.consent))\n\t\t{\n\t\t\tthis.store.dispatch('consent/set', data.consent);\n\t\t}\n\t\t//endregion\n\n\t\t// region: errors\n\t\tif (Type.isObject(data.errors))\n\t\t{\n\t\t\tthis.store.commit('basket/setErrors', data.errors);\n\t\t}\n\t\t//endregion\n\t}\n\n\t/**\n\t * @private\n\t */\n\tstatic showError(error)\n\t{\n\t\tconsole.error(error);\n\t}\n}"],"names":["BitrixVue","component","data","stage","ApplicationConst","mode","status","LoaderConst","totalIsShow","computed","checkoutButtonEnabled","properties","list","$store","getters","listKey","Type","isStringFilled","value","required","type","PropertyConst","checkbox","push","length","hasPS","result","forEach","fields","PaySystemConst","cash","needCheckConsent","getConsent","id","getBasket","getBasketErrors","getOrder","getProperty","getVariant","getPropertyErrors","getTotal","total","price","basePrice","discount","currency","getStage","getStatus","getBasketConfig","getPaySystem","getCheck","getPayment","getPaymentConfig","returnUrl","mainPage","getSuccessfulConfig","getEmptyCartConfig","path","getTitleCheckoutButton","title","getErrors","created","EventEmitter","subscribe","EventType","basket","backdropTotalOpen","event","backdropTotalClose","beforeDestroy","unsubscribe","template","Application","options","wrapper","Tag","render","init","then","prepareParams","initStore","setStore","initController","initTemplate","error","showError","Promise","resolve","params","builder","VuexBuilder","contextVariablesBasket","product","contextVariablesApp","common","option","messages","location","Url","getCurrentUrl","addModel","OrderModel","create","BasketModel","setVariables","PropertyModel","VariantModel","PaymentModel","CheckModel","PaySystemModel","ApplicationModel","ConsentModel","build","controller","Controller","store","context","templateEngine","createApp","beforeCreate","$bitrix","set","order","paySystem","payment","check","property","variant","consent","consentStatus","setModelData","mounted","mount","isString","dispatch","isObject","index","errors","commit","console"],"mappings":"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"}