(function(e,t,a){"use strict";function l(e,t){s(e,t);t.add(e)}function r(e,t,a){s(e,t);t.set(e,a)}function s(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function i(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}function n(e,t,a){c(e,t);return a}function c(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}var u=t.Reflection.namespace("BX.Sale.Component");var b=new WeakMap;var o=new WeakMap;var v=new WeakMap;var p=new WeakMap;var h=new WeakMap;var d=new WeakMap;var w=new WeakMap;var f=new WeakMap;var k=new WeakMap;var P=new WeakMap;var H=new WeakSet;var F=new WeakSet;var _=function(){function e(a){babelHelpers.classCallCheck(this,e);l(this,F);l(this,H);r(this,b,{writable:true,value:true});r(this,o,{writable:true,value:"https://reg.robokassa.ru"});r(this,v,{writable:true,value:"https://reg.robokassa.ru/form_register_merch_bitrix.php"});r(this,p,{writable:true,value:null});r(this,h,{writable:true,value:null});r(this,d,{writable:true,value:""});r(this,w,{writable:true,value:""});r(this,f,{writable:true,value:""});r(this,k,{writable:true,value:""});r(this,P,{writable:true,value:""});if(t.Type.isPlainObject(a)){babelHelpers.classPrivateFieldSet(this,d,a.siteUrl);babelHelpers.classPrivateFieldSet(this,w,a.resultUrl);babelHelpers.classPrivateFieldSet(this,f,a.successUrl);babelHelpers.classPrivateFieldSet(this,k,a.failUrl);babelHelpers.classPrivateFieldSet(this,P,a.callbackUrl);babelHelpers.classPrivateFieldSet(this,h,BX(a.buttonId))}}babelHelpers.createClass(e,[{key:"run",value:function a(){var l=this;n(e,e,S).call(e);t.Event.ready((function(){window.addEventListener("message",(function(e){if(e.origin===babelHelpers.classPrivateFieldGet(l,o)&&e.data.rk_reg_ready===true&&babelHelpers.classPrivateFieldGet(l,p)){i(l,F,m).call(l,babelHelpers.classPrivateFieldGet(l,p))}}),false);if(babelHelpers.classPrivateFieldGet(l,h)){babelHelpers.classPrivateFieldGet(l,h).onclick=function(){return i(l,H,g).call(l)}}}))}}]);return e}();function g(){babelHelpers.classPrivateFieldSet(this,p,BX.util.popup(babelHelpers.classPrivateFieldGet(this,v),800,600));babelHelpers.classPrivateFieldGet(this,p).focus({preventScroll:true})}function m(e){var t={rk_reg:babelHelpers.classPrivateFieldGet(this,b),site_url:babelHelpers.classPrivateFieldGet(this,d),result_url:babelHelpers.classPrivateFieldGet(this,w),success_url:babelHelpers.classPrivateFieldGet(this,f),fail_url:babelHelpers.classPrivateFieldGet(this,k),callback_url:babelHelpers.classPrivateFieldGet(this,P)};e.postMessage(t,"*")}function S(){var e={compatMode:true};a.EventEmitter.subscribe("onPullEvent-sale",(function(e,t){if(e!=="on_add_paysystem_settings_robokassa"){return}a.EventEmitter.emit(window,"BX.Sale.PaySystem.Registration.Robokassa:onAddSettings",t)}),e)}u.RegistrationRobokassa=_})(this.window=this.window||{},BX,BX.Event);
//# sourceMappingURL=script.map.js