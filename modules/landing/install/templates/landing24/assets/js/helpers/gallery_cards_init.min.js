(function(){"use strict";BX.addCustomEvent("BX.Landing.Block:init",function(t){var i=t.block.querySelector(t.makeRelativeSelector(".js-gallery-cards"));if(i!==null){window["landingGalleresCards"+t.block.id]=new a(i,t.block);window["landingGalleresCards"+t.block.id].initImages()}});BX.addCustomEvent("BX.Landing.Block:Node:update",function(a){if(typeof window["landingGalleresCards"+a.block.id]!="undefined"){var t=a.block.querySelector(a.makeRelativeSelector(".js-gallery-cards"));if(t!==null&&t.contains(a.node)){window["landingGalleresCards"+a.block.id].reinitImage(a.node)}}});var a=function(a,t){this.block=t;this.gallery=a;this.uniqId=Math.random().toString(16).substr(2,8)};a.prototype={dataFancybox:"data-fancybox",dataFancyboxInitied:"data-fancybox-initied",dataFancyboxTitle:"data-caption",dataLinkClasses:"data-link-classes",carouselClonedClasses:"slick-cloned",addOuterLink:function(a){var t=a.getAttribute("src");if(t!=null){var i=BX.findParent(a);var e=BX.findChild(i,{},false,true);var e=Object.keys(e).map(function(a){return e[a]});var n=BX.data(a,this.dataLinkClasses.replace("data-",""))?" "+BX.data(a,this.dataLinkClasses.replace("data-","")):"";var d={attrs:{href:t,class:n},children:e};d.attrs[this.dataFancybox]=BX.data(a,this.dataFancybox.replace("data-",""))+"_"+this.uniqId;var s=a.getAttribute("alt");if(s!=null){d.attrs[this.dataFancyboxTitle]=s}var r={attrs:{}};r.attrs[this.dataFancybox]="";r.attrs[this.dataFancyboxInitied]="Y";BX.adjust(a,r);BX.adjust(i,{children:[BX.create("a",d)]})}},initImages:function(){var a=BX.findChild(this.gallery,{attribute:this.dataFancybox},true,true);a.forEach(BX.delegate(function(a){if(BX.findParent(a,{class:this.carouselClonedClasses})){return}if(!this.isImageInitied(a)){this.addOuterLink(a)}},this))},reinitImage:function(a){if(this.isImageInitied(a)){var t=a.getAttribute("src");if(t!=null){var i=BX.findParent(a,{tag:"a",attribute:[this.dataFancybox]});if(i!==null){var e={attrs:{href:t}};var n=a.getAttribute("alt");if(n!=null){e.attrs[this.dataFancyboxTitle]=n}BX.adjust(i,e)}}}},isImageInitied:function(a){return a.tagName=="IMG"&&BX.data(a,this.dataFancyboxInitied.replace("data-",""))=="Y"||a.tagName=="A"&&a.firstChild!=null&&this.isImageInitied(a.firstChild)}}})();
//# sourceMappingURL=gallery_cards_init.map.js