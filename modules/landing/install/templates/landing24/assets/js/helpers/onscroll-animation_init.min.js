(function(){"use strict";BX.namespace("BX.Landing.OnscrollAnimationHelper");if(BX.browser.IsMobile()){return}BX.Landing.OnscrollAnimationHelper.observer=new IntersectionObserver(s);BX.Landing.OnscrollAnimationHelper.animatedMap=new WeakMap;var n=BX.Landing.Utils.addClass;var i=BX.Landing.Utils.removeClass;var e=BX.Landing.Utils.style;var a=BX.Landing.Utils.isPlainObject;var t=BX.Landing.Utils.onAnimationEnd;var o=BX.Landing.Utils.slice;var r=BX.Landing.Utils.onCustomEvent;r("BX.Landing.Block:init",function(n){if(BX.hasClass(n.block,"landing-designer-block-mode")){return}var i=BX.Landing.OnscrollAnimationHelper.getBlockAnimatedElements(n.block);i.forEach(function(n){l(n);BX.Landing.OnscrollAnimationHelper.observer.observe(n)})});r("BX.Landing.UI.Panel.URLList:show",function(n){var i=BX.Landing.OnscrollAnimationHelper.getBlockAnimatedElements(n);i.forEach(function(n){l(n);BX.Landing.OnscrollAnimationHelper.observer.observe(n)})});r("BX.Landing.Block:updateStyle",function(n){if(a(n.data)&&a(n.data.affect)){var i=n.data.affect.some(function(n){return n==="animation-name"});if(i){var e=BX.Landing.OnscrollAnimationHelper.getBlockAnimatedElements(n.block);e.forEach(function(n){l(n);observer.observe(n)})}}});BX.Landing.OnscrollAnimationHelper.selector=".js-animation";BX.Landing.OnscrollAnimationHelper.getBlockAnimatedElements=function(n){return o(n.querySelectorAll(BX.Landing.OnscrollAnimationHelper.selector))};function l(n){void e(n,{"animation-duration":"1000ms",visibility:"hidden","animation-name":"none","animation-play-state":"paused"})}function s(n){n.forEach(function(n){if(n.isIntersecting){BX.Landing.OnscrollAnimationHelper.animateElement(n.target)}})}BX.Landing.OnscrollAnimationHelper.animateElement=function(n){if(!BX.Landing.OnscrollAnimationHelper.animatedMap.has(n)){return c(n).then(function(){BX.Landing.OnscrollAnimationHelper.animatedMap.set(n,true);void e(n,{"animation-name":"none"});i(n,"animated")})}return Promise.resolve()};function c(i){n(i,"animated");void e(i,{visibility:"","animation-name":"","animation-play-state":"running"});return t(i)}})();
//# sourceMappingURL=onscroll-animation_init.map.js