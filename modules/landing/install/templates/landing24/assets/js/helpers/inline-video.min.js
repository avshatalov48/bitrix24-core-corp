(function(){"use strict";BX.addCustomEvent(window,"BX.Landing.Block:init",(function(t){e([].slice.call(t.block.querySelectorAll("[data-source]")))}));BX.addCustomEvent("BX.Landing.Block:Node:update",(function(t){if(t.node&&t.node.hasAttribute("data-source")){e([].slice.call(t.block.querySelectorAll("[data-source]")))}}));function e(e){if(e.length){e.forEach((function(e){e=a(e);const s=e.dataset.source;const c=e.src||e.dataset.src;if(BX.Landing.Utils.Matchers.youtube.test(s)||BX.Landing.Utils.Matchers.youtube.test(c)){if(c.indexOf("autoplay=1")!==-1&&BX.Landing.getMode()!=="edit"){r(e,{autoplay:1,mute:1})}else if(e.tagName!=="IFRAME"){BX.bind(e,"click",i)}else{r(e)}}else if(BX.Landing.Utils.Matchers.vimeo.test(s)||BX.Landing.Utils.Matchers.vine.test(s)||BX.Landing.Utils.Matchers.facebookVideos.test(s)||BX.Landing.Utils.Matchers.vk.test(s)||BX.Landing.Utils.Matchers.rutube.test(e.dataset.source)){n(e)}else{t(e)}}))}}function t(e){e.classList.remove("g-video-preview");e.classList.add("g-video-preview-error");e.innerHTML='<div class="g-landing-alert-v2">'+'<div class="g-landing-alert-title">'+BX.message("LANDING_VIDEO_ALERT_WRONG_SOURCE")+"</div>"+'<div class="g-landing-alert-text">'+BX.message("LANDING_VIDEO_ALERT_WRONG_SOURCE_TEXT_2")+"</div>"+"</div>"}function a(e){if(e.tagName==="IFRAME"){var t=BX.create("div",{props:{className:e.className},style:{backgroundImage:"url("+e.dataset.preview+")"},dataset:{src:e.src||e.dataset.src,source:e.dataset.source}});BX.insertBefore(t,e);BX.remove(e);return t}BX.unbind(e,"click",i);e.classList.add("g-video-preview");e.classList.remove("g-video-preview-error");e.innerHTML="";return e}var s=[];function i(e){var t=e.target;r(t,{autoplay:1})}function r(e,t){if(typeof YT==="undefined"||typeof YT.Player==="undefined"){if(!s.includes(e)){s.push(e)}window.onYouTubeIframeAPIReady=function(){s.forEach((function(e){r(e,t)}))}}else{var a=n(e);var i=BX.Landing.MediaPlayer.Factory.create(a);if(typeof t!=="undefined"&&Object.keys(t).length){i.parameters=Object.assign(i.parameters,t)}}}function n(e){if(e.tagName==="IFRAME"){return e}const t=e.className;e.className="landing-node-player-preview";const a=BX.create("iframe",{props:{className:t},attrs:{src:BX.util.htmlspecialcharsback(e.dataset.src),frameborder:"0",allowfullscreen:"allowfullscreen",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"},dataset:{src:BX.util.htmlspecialcharsback(e.dataset.src),source:BX.util.htmlspecialcharsback(e.dataset.source)},events:{load:function(){BX.remove(e);s.hide()}}});const s=new BX.Loader({target:e});s.show();BX.insertBefore(a,e);return a}})();
//# sourceMappingURL=inline-video.map.js