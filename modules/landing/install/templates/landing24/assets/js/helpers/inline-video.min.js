(function(){"use strict";BX.addCustomEvent(window,"BX.Landing.Block:init",function(a){e([].slice.call(a.block.querySelectorAll("[data-source]")))});BX.addCustomEvent("BX.Landing.Block:Node:update",function(a){e([].slice.call(a.block.querySelectorAll("[data-source]")))});function e(e){if(e.length){e.forEach(function(e){var e=t(e);if(BX.Landing.Utils.Matchers.youtube.test(e.dataset.source)){var s=e.src?e.src:e.dataset.src;if(s.indexOf("autoplay=1")!==-1){i(e,{autoplay:1,mute:1})}else if(e.tagName!=="IFRAME"){BX.bind(e,"click",r)}else{i(e)}}else if(BX.Landing.Utils.Matchers.vimeo.test(e.dataset.source)||BX.Landing.Utils.Matchers.vine.test(e.dataset.source)||BX.Landing.Utils.Matchers.facebookVideos.test(e.dataset.source)){n(e)}else{a(e)}})}}function a(e){e.classList.remove("g-video-preview");e.classList.add("g-video-preview-error");e.innerHTML='<div class="g-landing-alert-v2">'+'<div class="g-landing-alert-title">'+BX.message("LANDING_VIDEO_ALERT_WRONG_SOURCE")+"</div>"+'<div class="g-landing-alert-text">'+BX.message("LANDING_VIDEO_ALERT_WRONG_SOURCE_TEXT")+"</div>"+"</div>"}function t(e){if(e.tagName==="IFRAME"){var a=BX.create("div",{props:{className:e.className},style:{backgroundImage:"url("+e.dataset.preview+")"},dataset:{src:e.dataset.src,source:e.dataset.source}});BX.insertBefore(a,e);BX.remove(e);return a}BX.unbind(e,"click",r);e.classList.add("g-video-preview");e.classList.remove("g-video-preview-error");e.innerHTML="";return e}var s=[];function r(e){var a=e.target;i(a,{autoplay:1})}function i(e,a){if(typeof YT==="undefined"||typeof YT.Player==="undefined"){if(!s.includes(e)){s.push(e)}window.onYouTubeIframeAPIReady=function(){s.forEach(function(e){i(e,a)})}}else{var t=n(e);var r=BX.Landing.MediaPlayer.Factory.create(t);if(typeof a!=="undefined"&&Object.keys(a).length){r.parameters=Object.assign(r.parameters,a)}}}function n(e){if(e.tagName==="IFRAME"){return e}var a=BX.create("iframe",{props:{className:e.className},attrs:{src:e.dataset.src,frameborder:"0",allowfullscreen:"allowfullscreen",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"},dataset:{src:e.dataset.src,source:e.dataset.source},events:{load:function(){BX.remove(e)}}});BX.insertBefore(a,e);return a}})();
//# sourceMappingURL=inline-video.map.js