(function(t){"use strict";t.HSCore.components.HSScrollNav={_baseConfig:{duration:400,easing:"linear",over:t(),activeItemClass:"active",afterShow:function(){},beforeShow:function(){}},_pageCollection:t(),init:function(e,n){var o=this;if(!e||!e.length)return t();e.each(function(e,a){var r=t(a),h=n&&t.isPlainObject(n)?t.extend(true,{},o._baseConfig,n,r.data()):t.extend(true,{},o._baseConfig,r.data());if(!r.data("HSScrollNav")){r.data("HSScrollNav",new i(r,h));o._pageCollection=o._pageCollection.add(r)}});t(window).on("scroll.HSScrollNav",function(){o._pageCollection.each(function(i,e){if(t.contains(document,e)){t(e).data("HSScrollNav").highlight()}})}).trigger("scroll.HSScrollNav");return e}};function i(i,e){this.element=i;this.config=e;this._items=t();this._makeItems();this._bindEvents()}i.prototype._makeItems=function(){var i=this;this.element.find('a[href*="#"]').filter(function(t,i){var e=i.getAttribute("href").split("#")[1];return!!document.getElementById(e)}).each(function(n,o){var a=t(o);if(!a.data("HSScrollNavSection")){a.data("HSScrollNavSection",new e(a,i.config));i._items=i._items.add(a)}})};i.prototype._bindEvents=function(){var i=this;this.element.on("click.HSScrollNav",'a[href*="#"]',function(e){var n=this;i._lockHightlight=true;if(i.current)i.current.unhighlight();n.blur();i.current=t(n).data("HSScrollNavSection");if(i.current){i.current.highlight();t(this).data("HSScrollNavSection").show(function(){i._lockHightlight=false});e.preventDefault()}})};i.prototype.highlight=function(){var i=this,e,n,o,a;if(!this._items.length||this._lockHightlight)return;a=t(window).scrollTop();if(a+t(window).height()===t(document).height()){this.current=this._items.last().data("HSScrollNavSection");this.unhighlight();this.current.highlight();this.current.changeHash();return}this._items.each(function(i,e){var n=t(e).data("HSScrollNavSection"),r=n.section;if(a>=n.offset){o=n}});if(o&&this.current!=o){this.unhighlight();o.highlight();if(this.current)o.changeHash();this.current=o}};i.prototype.unhighlight=function(){this._items.each(function(i,e){t(e).data("HSScrollNavSection").unhighlight()})};function e(i,e){var n=this;this.element=i;this.config=e;Object.defineProperty(this,"section",{value:t("#"+n.element.attr("href").split("#")[1])});Object.defineProperty(this,"offset",{get:function(){var i=t(".u-header, header");if(i.length>0){var e=i.outerHeight(),o=getComputedStyle(i.get(0)),a=o.position,r=n.section.offset().top,h=parseInt(o.top),c=parseInt(o.marginTop)}else{var e=0,a="fixed",r=n.section.offset().top,h=0,c=0}if(a=="fixed"&&h==0){r=r-e-c}if(n.config.over.length){r=r-n.config.over.outerHeight()}return r}})}e.prototype.show=function(i){var e=this;if(!this.section.length)return;e.config.beforeShow.call(e.section);this.changeHash();t("html, body").stop().animate({scrollTop:e.offset+3},{duration:e.config.duration,easing:e.config.easing,complete:function(){t("html, body").stop().animate({scrollTop:e.offset+3},{duration:e.config.duration,easing:e.config.easing,complete:function(){e.config.afterShow.call(e.section);if(t.isFunction(i))i()}})}})};e.prototype.changeHash=function(){this.section.attr("id","");window.location.hash="#"+this.element.attr("href").split("#")[1];this.section.attr("id",this.element.attr("href").split("#")[1])};e.prototype.highlight=function(){var t=this.element.parent("li");if(t.length)t.addClass(this.config.activeItemClass)};e.prototype.unhighlight=function(){var t=this.element.parent("li");if(t.length)t.removeClass(this.config.activeItemClass)}})(jQuery);
//# sourceMappingURL=hs.scroll-nav.map.js