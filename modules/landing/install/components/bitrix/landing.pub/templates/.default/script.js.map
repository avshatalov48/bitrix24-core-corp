{"version":3,"file":"script.js","sources":["src/js/landing.pub.disk.file.js","src/js/landing.pub.search.result.js","src/js/landing.pub.timestamp.js","src/js/landing.pub.top.panel.js","src/js/landing.pub.page.transition.js"],"sourcesContent":["\n\nexport class DiskFile\n{\n\t/**\n\t * Constructor.\n\t */\n\tconstructor()\n\t{\n\t\tdocument.addEventListener('click', this.onClick.bind(this));\n\t}\n\n\t/**\n\t * Click callback.\n\t *\n\t * @return {void}\n\t */\n\tonClick(event)\n\t{\n\t\tlet target = event.target;\n\n\t\tif (target.nodeName === 'A')\n\t\t{\n\t\t\tif (target.getAttribute('data-viewer-type'))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet href = target.getAttribute('href');\n\t\t\tif (href.indexOf('/bitrix/services/main/ajax.php?action=landing.api.diskFile.download') === 0)\n\t\t\t{\n\t\t\t\tBX.ajax.get(href.replace('landing.api.diskFile.download', 'landing.api.diskFile.view'), function(data)\n\t\t\t\t{\n\t\t\t\t\tif (typeof data === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!data.data)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tObject.keys(data.data).map(key => {\n\t\t\t\t\t\ttarget.setAttribute(key, data.data[key]);\n\t\t\t\t\t});\n\n\t\t\t\t\ttarget.click();\n\t\t\t\t});\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n}","\n\nexport class SearchResult\n{\n\t/**\n\t * Constructor.\n\t */\n\tconstructor()\n\t{\n\t\tthis.scrollToFirstBlock();\n\t}\n\n\t/**\n\t * Finds first highlight word and scroll to it.\n\t * @return {void}\n\t */\n\tscrollToFirstBlock()\n\t{\n\t\tvar result = document.querySelector('.landing-highlight');\n\t\tif (result)\n\t\t{\n\t\t\tvar parent = result.parentNode;\n\t\t\twhile (parent)\n\t\t\t{\n\t\t\t\tif (parent.classList.contains('block-wrapper'))\n\t\t\t\t{\n\t\t\t\t\twindow.scrollTo({\n\t\t\t\t\t\ttop: parent.offsetTop,\n\t\t\t\t\t\tbehavior: 'smooth'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparent = parent.parentNode;\n\t\t\t}\n\t\t}\n\t}\n}","\n\nexport class TimeStamp\n{\n\t/**\n\t * Constructor.\n\t */\n\tconstructor()\n\t{\n\t\tthis.removeTimestamp();\n\t}\n\n\t/**\n\t * Removes 'ts' param from query string.\n\t * @return {void}\n\t */\n\tremoveTimestamp()\n\t{\n\t\tlet uri = window.location.toString();\n\n\t\turi = uri.replace(/(ts=[\\d]+[&]*)/, '');\n\t\tif (uri.slice(-1) === '?' || uri.slice(-1) === '&')\n\t\t{\n\t\t\turi = uri.slice(0, -1);\n\t\t}\n\n\t\twindow.history.replaceState({}, document.title, uri);\n\t}\n}","import {Event, Cache, Dom, Loc, Type} from 'main.core';\nimport {SliderHacks} from 'landing.sliderhacks';\n\nconst onEditButtonClick = Symbol('onEditButtonClick');\nconst onBackButtonClick = Symbol('onBackButtonClick');\nconst onForwardButtonClick = Symbol('onForwardButtonClick');\nconst onCopyLinkButtonClick = Symbol('onCopyLinkButtonClick');\nconst onUniqueViewIconClick = Symbol('onUniqueViewIconClick');\n\nexport class TopPanel\n{\n\tstatic cache = new Cache.MemoryCache();\n\n\tconstructor(data)\n\t{\n\t\tthis.userData = data.userData;\n\n\t\tEvent.bind(TopPanel.getEditButton(), 'click', this[onEditButtonClick]);\n\t\tEvent.bind(TopPanel.getBackButton(), 'click', this[onBackButtonClick]);\n\t\tEvent.bind(TopPanel.getForwardButton(), 'click', this[onForwardButtonClick]);\n\t\tEvent.bind(TopPanel.getCopyLinkButton(), 'click', this[onCopyLinkButtonClick]);\n\t\tEvent.bind(TopPanel.getUniqueViewIcon(), 'click', this[onUniqueViewIconClick]);\n\n\t\tTopPanel.pushHistory(window.location.toString());\n\t\tTopPanel.checkNavButtonsActivity();\n\t\tTopPanel.checkHints();\n\t\tTopPanel.initUniqueViewPopup(this.userData);\n\t}\n\n\tstatic getLayout(): HTMLDivElement\n\t{\n\t\treturn TopPanel.cache.remember('layout', () => {\n\t\t\treturn document.querySelector('.landing-pub-top-panel');\n\t\t});\n\t}\n\n\tstatic getEditButton(): HTMLAnchorElement\n\t{\n\t\treturn TopPanel.cache.remember('editButton', () => {\n\t\t\treturn TopPanel.getLayout().querySelector('.landing-pub-top-panel-edit-button');\n\t\t});\n\t}\n\n\t[onEditButtonClick](event)\n\t{\n\t\tevent.preventDefault();\n\n\t\tconst href = Dom.attr(event.currentTarget, 'href');\n\t\tconst landingId = Dom.attr(event.currentTarget, 'data-landingId');\n\n\t\tif (Type.isString(href) && href !== '')\n\t\t{\n\t\t\tTopPanel.openSlider(href, landingId);\n\t\t}\n\t}\n\n\tstatic openSlider(url, landingId)\n\t{\n\t\tBX.SidePanel.Instance.open(url, {\n\t\t\tcacheable: false,\n\t\t\tcustomLeftBoundary: 60,\n\t\t\tallowChangeHistory: false,\n\t\t\tevents: {\n\t\t\t\tonClose() {\n\t\t\t\t\tvoid SliderHacks.reloadSlider(\n\t\t\t\t\t\twindow.location.toString().split('#')[0] + '#landingId' + landingId\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\n\t// HISTORY save\n\tstatic history = [];\n\tstatic historyState;\n\n\tstatic pushHistory(url)\n\t{\n\t\tif (!Type.isNumber(TopPanel.historyState))\n\t\t{\n\t\t\tTopPanel.historyState = -1; // will increase later\n\t\t}\n\n\t\tif (TopPanel.historyState < TopPanel.history.length - 1)\n\t\t{\n\t\t\tTopPanel.history.splice(TopPanel.historyState + 1);\n\t\t}\n\n\t\tTopPanel.history.push(url);\n\t\tTopPanel.historyState++;\n\t}\n\n\tstatic checkNavButtonsActivity()\n\t{\n\t\tDom.removeClass(TopPanel.getForwardButton(), 'ui-btn-disabled');\n\t\tDom.removeClass(TopPanel.getBackButton(), 'ui-btn-disabled');\n\n\t\tif (\n\t\t\t!Type.isArrayFilled(TopPanel.history)\n\t\t\t|| !Type.isNumber(TopPanel.historyState)\n\t\t\t|| TopPanel.history.length === 1\n\t\t)\n\t\t{\n\t\t\tDom.addClass(TopPanel.getForwardButton(), 'ui-btn-disabled');\n\t\t\tDom.addClass(TopPanel.getBackButton(), 'ui-btn-disabled');\n\t\t\treturn;\n\t\t}\n\n\t\tif (TopPanel.historyState === 0)\n\t\t{\n\t\t\tDom.addClass(TopPanel.getBackButton(), 'ui-btn-disabled');\n\t\t}\n\n\t\tif (TopPanel.historyState >= TopPanel.history.length - 1)\n\t\t{\n\t\t\tDom.addClass(TopPanel.getForwardButton(), 'ui-btn-disabled');\n\t\t}\n\t}\n\n\tstatic getBackButton(): HTMLAnchorElement\n\t{\n\t\treturn TopPanel.cache.remember('backButton', () => {\n\t\t\tconst layout = TopPanel.getLayout();\n\t\t\treturn layout ? layout.querySelector('.landing-pub-top-panel-back') : null;\n\t\t});\n\t}\n\n\tstatic getForwardButton(): HTMLAnchorElement\n\t{\n\t\treturn TopPanel.cache.remember('forwardButton', () => {\n\t\t\tconst layout = TopPanel.getLayout();\n\t\t\treturn layout ? layout.querySelector('.landing-pub-top-panel-forward') : null;\n\t\t});\n\t}\n\n\tstatic getCopyLinkButton(): HTMLAnchorElement\n\t{\n\t\treturn TopPanel.cache.remember('copyLinkButton', () => {\n\t\t\tconst layout = TopPanel.getLayout();\n\t\t\treturn layout ? layout.querySelector('.landing-page-link-btn') : null;\n\t\t});\n\t}\n\n\tstatic getUniqueViewIcon(): HTMLAnchorElement\n\t{\n\t\treturn TopPanel.cache.remember('uniqueViewIcon', () => {\n\t\t\tconst layout = TopPanel.getLayout();\n\t\t\treturn layout ? layout.querySelector('.landing-pub-top-panel-unique-view') : null;\n\t\t});\n\t}\n\n\tstatic checkHints()\n\t{\n\t\tconst linkPage = document.querySelector('.landing-pub-top-panel-chain-link-page');\n\t\tif (linkPage)\n\t\t{\n\t\t\tif (parseInt(window.getComputedStyle(linkPage).width) < 200)\n\t\t\t{\n\t\t\t\tDom.style(linkPage, 'pointer-events', 'none');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.UI.Hint.init(BX('landing-pub-top-panel-chain-link-page'));\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initUniqueViewPopup(userData)\n\t{\n\t\tconst setUserId = userData.id;\n\t\tconst setUserName = userData.name;\n\t\tconst avatar = userData.avatar;\n\n\t\tif (setUserId.length === setUserName.length){\n\t\t\tfor (let i = 0; i < setUserId.length; i++)\n\t\t\t{\n\t\t\t\tthis.createUserItem(setUserId[i], setUserName[i], avatar[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic createUserItem(id, name, avatar)\n\t{\n\t\tconst itemContainer = document.querySelector('.landing-pub-top-panel-unique-view-popup-item-container');\n\t\tconst userUrl = window.location.origin + '/company/personal/user/' + id + '/';\n\t\tconst userItem = BX.Dom.create({\n\t\t\ttag: 'div',\n\t\t\tprops: {\n\t\t\t\tclassList: 'landing-pub-top-panel-unique-view-popup-item',\n\t\t\t},\n\t\t});\n\t\tlet userItemAvatar;\n\t\tif (avatar && avatar !== '')\n\t\t{\n\t\t\tuserItemAvatar = BX.Dom.create({\n\t\t\t\ttag: 'div',\n\t\t\t\tprops: {\n\t\t\t\t\tclassList: 'landing-pub-top-panel-unique-view-popup-item-avatar',\n\t\t\t\t},\n\t\t\t});\n\t\t\tavatar = \"url('\" + avatar + \"')\";\n\t\t\tDom.style(userItemAvatar, 'background-image', avatar);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tuserItemAvatar = BX.Dom.create({\n\t\t\t\ttag: 'div',\n\t\t\t\tprops: {\n\t\t\t\t\tclassList: 'landing-pub-top-panel-unique-view-popup-item-avatar landing-pub-top-panel-unique-view-popup-item-avatar-empty',\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tconst userItemLink = BX.Dom.create({\n\t\t\ttag: 'a',\n\t\t\tprops: {\n\t\t\t\tclassList: 'landing-pub-top-panel-unique-view-popup-item-link',\n\t\t\t},\n\t\t\ttext: name,\n\t\t});\n\t\tDom.attr(userItemLink, 'href', userUrl);\n\t\tDom.attr(userItemLink, 'target', '_blank');\n\t\tDom.append(userItemAvatar, userItem);\n\t\tDom.append(userItemLink, userItem);\n\t\tDom.append(userItem, itemContainer);\n\t}\n\n\t[onCopyLinkButtonClick](event)\n\t{\n\t\tevent.preventDefault();\n\t\tconst link = BX.util.remove_url_param(window.location.href, [\"IFRAME\", \"IFRAME_TYPE\"]);\n\t\tconst node = event.target;\n\t\tnavigator.clipboard.writeText(link)\n\t\t\t.then(() => {\n\t\t\t\tthis.timeoutIds = this.timeoutIds || [];\n\t\t\t\tconst popupParams = {\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_TPL_PUB_COPIED_LINK'),\n\t\t\t\t\tdarkMode: true,\n\t\t\t\t\tautoHide: true,\n\t\t\t\t\tzIndex: 1000,\n\t\t\t\t\tangle: true,\n\t\t\t\t\toffsetLeft: 20,\n\t\t\t\t\tbindOptions: {\n\t\t\t\t\t\tposition: 'top'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst popup = new BX.PopupWindow(\n\t\t\t\t\t'landing_clipboard_copy',\n\t\t\t\t\tnode,\n\t\t\t\t\tpopupParams\n\t\t\t\t);\n\t\t\t\tpopup.show();\n\n\t\t\t\tlet timeoutId;\n\t\t\t\twhile(timeoutId = this.timeoutIds.pop()) clearTimeout(timeoutId);\n\t\t\t\ttimeoutId = setTimeout(function(){\n\t\t\t\t\tpopup.close();\n\t\t\t\t}, 2000);\n\t\t\t\tthis.timeoutIds.push(timeoutId);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}\n\n\t[onUniqueViewIconClick](event)\n\t{\n\t\tconst popup = document.querySelector('.landing-pub-top-panel-unique-view-popup');\n\t\tif (Dom.hasClass(popup, 'hide'))\n\t\t{\n\t\t\tDom.removeClass(popup, 'hide');\n\t\t\tsetTimeout(function(){\n\t\t\t\tDom.addClass(popup, 'hide');\n\t\t\t}, 2000);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(popup, 'hide');\n\t\t}\n\t}\n\n\t[onBackButtonClick](event)\n\t{\n\t\tevent.preventDefault();\n\t\tif (\n\t\t\tType.isArrayFilled(TopPanel.history)\n\t\t\t&& Type.isNumber(TopPanel.historyState)\n\t\t\t&& TopPanel.historyState > 0\n\t\t)\n\t\t{\n\t\t\tvoid SliderHacks.reloadSlider(TopPanel.history[--TopPanel.historyState]);\n\t\t\tTopPanel.checkNavButtonsActivity();\n\t\t}\n\t}\n\n\t[onForwardButtonClick](event)\n\t{\n\t\tevent.preventDefault();\n\n\t\tif (\n\t\t\tType.isArrayFilled(TopPanel.history)\n\t\t\t&& Type.isNumber(TopPanel.historyState)\n\t\t\t&& (TopPanel.historyState < TopPanel.history.length - 1)\n\t\t)\n\t\t{\n\t\t\tvoid SliderHacks.reloadSlider(TopPanel.history[++TopPanel.historyState]);\n\t\t\tTopPanel.checkNavButtonsActivity();\n\t\t}\n\t}\n}","\n\nexport class PageTransition\n{\n\t/**\n\t * Constructor.\n\t */\n\tconstructor()\n\t{\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\tconst url = new URL(window.location.href);\n\t\tif (url.searchParams.get('transition') === 'true')\n\t\t{\n\t\t\turl.searchParams.delete('transition');\n\t\t\twindow.history.replaceState({}, '', url.toString());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.removeClass(document.body, \"landing-page-transition\");\n\t\t}\n\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tBX.removeClass(document.body, \"landing-page-transition\");\n\t\t\t}, 300);\n\t\t});\n\t}\n}"],"names":["DiskFile","document","addEventListener","onClick","bind","event","target","nodeName","getAttribute","href","indexOf","BX","ajax","get","replace","data","JSON","parse","Object","keys","map","key","setAttribute","click","preventDefault","stopPropagation","SearchResult","scrollToFirstBlock","result","querySelector","parent","parentNode","classList","contains","window","scrollTo","top","offsetTop","behavior","TimeStamp","removeTimestamp","uri","location","toString","slice","history","replaceState","title","onEditButtonClick","Symbol","onBackButtonClick","onForwardButtonClick","onCopyLinkButtonClick","onUniqueViewIconClick","TopPanel","userData","Event","getEditButton","getBackButton","getForwardButton","getCopyLinkButton","getUniqueViewIcon","pushHistory","checkNavButtonsActivity","checkHints","initUniqueViewPopup","Dom","attr","currentTarget","landingId","Type","isString","openSlider","link","util","remove_url_param","node","navigator","clipboard","writeText","then","timeoutIds","popupParams","content","Loc","getMessage","darkMode","autoHide","zIndex","angle","offsetLeft","bindOptions","position","popup","PopupWindow","show","timeoutId","pop","clearTimeout","setTimeout","close","push","err","console","error","hasClass","removeClass","addClass","isArrayFilled","isNumber","historyState","SliderHacks","reloadSlider","length","cache","remember","getLayout","url","SidePanel","Instance","open","cacheable","customLeftBoundary","allowChangeHistory","events","onClose","split","splice","layout","linkPage","parseInt","getComputedStyle","width","style","UI","Hint","init","setUserId","id","setUserName","name","avatar","i","createUserItem","itemContainer","userUrl","origin","userItem","create","tag","props","userItemAvatar","userItemLink","text","append","Cache","MemoryCache","PageTransition","URL","searchParams","body"],"mappings":";;;;;KAEaA,QAAb;CAEC;CACD;CACA;CACC,sBACA;CAAA;CACCC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmC,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAnC;CACA;CAED;CACD;CACA;CACA;CACA;;;CAdA;CAAA;CAAA,4BAeSC,KAfT,EAgBC;CACC,UAAIC,MAAM,GAAGD,KAAK,CAACC,MAAnB;;CAEA,UAAIA,MAAM,CAACC,QAAP,KAAoB,GAAxB,EACA;CACC,YAAID,MAAM,CAACE,YAAP,CAAoB,kBAApB,CAAJ,EACA;CACC;CACA;;CAED,YAAIC,IAAI,GAAGH,MAAM,CAACE,YAAP,CAAoB,MAApB,CAAX;;CACA,YAAIC,IAAI,CAACC,OAAL,CAAa,qEAAb,MAAwF,CAA5F,EACA;CACCC,UAAAA,EAAE,CAACC,IAAH,CAAQC,GAAR,CAAYJ,IAAI,CAACK,OAAL,CAAa,+BAAb,EAA8C,2BAA9C,CAAZ,EAAwF,UAASC,IAAT,EACxF;CACC,gBAAI,OAAOA,IAAP,KAAgB,QAApB,EACA;CACCA,cAAAA,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWF,IAAX,CAAP;CACA;;CAED,gBAAI,CAACA,IAAI,CAACA,IAAV,EACA;CACC;CACA;;CAEDG,YAAAA,MAAM,CAACC,IAAP,CAAYJ,IAAI,CAACA,IAAjB,EAAuBK,GAAvB,CAA2B,UAAAC,GAAG,EAAI;CACjCf,cAAAA,MAAM,CAACgB,YAAP,CAAoBD,GAApB,EAAyBN,IAAI,CAACA,IAAL,CAAUM,GAAV,CAAzB;CACA,aAFD;CAIAf,YAAAA,MAAM,CAACiB,KAAP;CACA,WAjBD;CAmBAlB,UAAAA,KAAK,CAACmB,cAAN;CACAnB,UAAAA,KAAK,CAACoB,eAAN;CACA,iBAAO,KAAP;CACA;CACD;CACD;CArDF;CAAA;CAAA;;KCAaC,YAAb;CAEC;CACD;CACA;CACC,0BACA;CAAA;CACC,SAAKC,kBAAL;CACA;CAED;CACD;CACA;CACA;;;CAbA;CAAA;CAAA,yCAeC;CACC,UAAIC,MAAM,GAAG3B,QAAQ,CAAC4B,aAAT,CAAuB,oBAAvB,CAAb;;CACA,UAAID,MAAJ,EACA;CACC,YAAIE,MAAM,GAAGF,MAAM,CAACG,UAApB;;CACA,eAAOD,MAAP,EACA;CACC,cAAIA,MAAM,CAACE,SAAP,CAAiBC,QAAjB,CAA0B,eAA1B,CAAJ,EACA;CACCC,YAAAA,MAAM,CAACC,QAAP,CAAgB;CACfC,cAAAA,GAAG,EAAEN,MAAM,CAACO,SADG;CAEfC,cAAAA,QAAQ,EAAE;CAFK,aAAhB;CAIA;CACA;;CACDR,UAAAA,MAAM,GAAGA,MAAM,CAACC,UAAhB;CACA;CACD;CACD;CAjCF;CAAA;CAAA;;KCAaQ,SAAb;CAEC;CACD;CACA;CACC,uBACA;CAAA;CACC,SAAKC,eAAL;CACA;CAED;CACD;CACA;CACA;;;CAbA;CAAA;CAAA,sCAeC;CACC,UAAIC,GAAG,GAAGP,MAAM,CAACQ,QAAP,CAAgBC,QAAhB,EAAV;CAEAF,MAAAA,GAAG,GAAGA,GAAG,CAAC3B,OAAJ,CAAY,gBAAZ,EAA8B,EAA9B,CAAN;;CACA,UAAI2B,GAAG,CAACG,KAAJ,CAAU,CAAC,CAAX,MAAkB,GAAlB,IAAyBH,GAAG,CAACG,KAAJ,CAAU,CAAC,CAAX,MAAkB,GAA/C,EACA;CACCH,QAAAA,GAAG,GAAGA,GAAG,CAACG,KAAJ,CAAU,CAAV,EAAa,CAAC,CAAd,CAAN;CACA;;CAEDV,MAAAA,MAAM,CAACW,OAAP,CAAeC,YAAf,CAA4B,EAA5B,EAAgC7C,QAAQ,CAAC8C,KAAzC,EAAgDN,GAAhD;CACA;CAzBF;CAAA;CAAA;;CCCA,IAAMO,iBAAiB,GAAGC,MAAM,CAAC,mBAAD,CAAhC;CACA,IAAMC,iBAAiB,GAAGD,MAAM,CAAC,mBAAD,CAAhC;CACA,IAAME,oBAAoB,GAAGF,MAAM,CAAC,sBAAD,CAAnC;CACA,IAAMG,qBAAqB,GAAGH,MAAM,CAAC,uBAAD,CAApC;CACA,IAAMI,qBAAqB,GAAGJ,MAAM,CAAC,uBAAD,CAApC;AAEA,KAAaK,QAAb;CAIC,oBAAYvC,IAAZ,EACA;CAAA;CACC,SAAKwC,QAAL,GAAgBxC,IAAI,CAACwC,QAArB;CAEAC,IAAAA,eAAK,CAACpD,IAAN,CAAWkD,QAAQ,CAACG,aAAT,EAAX,EAAqC,OAArC,EAA8C,KAAKT,iBAAL,CAA9C;CACAQ,IAAAA,eAAK,CAACpD,IAAN,CAAWkD,QAAQ,CAACI,aAAT,EAAX,EAAqC,OAArC,EAA8C,KAAKR,iBAAL,CAA9C;CACAM,IAAAA,eAAK,CAACpD,IAAN,CAAWkD,QAAQ,CAACK,gBAAT,EAAX,EAAwC,OAAxC,EAAiD,KAAKR,oBAAL,CAAjD;CACAK,IAAAA,eAAK,CAACpD,IAAN,CAAWkD,QAAQ,CAACM,iBAAT,EAAX,EAAyC,OAAzC,EAAkD,KAAKR,qBAAL,CAAlD;CACAI,IAAAA,eAAK,CAACpD,IAAN,CAAWkD,QAAQ,CAACO,iBAAT,EAAX,EAAyC,OAAzC,EAAkD,KAAKR,qBAAL,CAAlD;CAEAC,IAAAA,QAAQ,CAACQ,WAAT,CAAqB5B,MAAM,CAACQ,QAAP,CAAgBC,QAAhB,EAArB;CACAW,IAAAA,QAAQ,CAACS,uBAAT;CACAT,IAAAA,QAAQ,CAACU,UAAT;CACAV,IAAAA,QAAQ,CAACW,mBAAT,CAA6B,KAAKV,QAAlC;CACA;;CAlBF;CAAA,SAkCEP,iBAlCF;CAAA,0BAkCqB3C,KAlCrB,EAmCC;CACCA,MAAAA,KAAK,CAACmB,cAAN;CAEA,UAAMf,IAAI,GAAGyD,aAAG,CAACC,IAAJ,CAAS9D,KAAK,CAAC+D,aAAf,EAA8B,MAA9B,CAAb;CACA,UAAMC,SAAS,GAAGH,aAAG,CAACC,IAAJ,CAAS9D,KAAK,CAAC+D,aAAf,EAA8B,gBAA9B,CAAlB;;CAEA,UAAIE,cAAI,CAACC,QAAL,CAAc9D,IAAd,KAAuBA,IAAI,KAAK,EAApC,EACA;CACC6C,QAAAA,QAAQ,CAACkB,UAAT,CAAoB/D,IAApB,EAA0B4D,SAA1B;CACA;CACD;CA7CF;CAAA,SAyNEjB,qBAzNF;CAAA,0BAyNyB/C,KAzNzB,EA0NC;CAAA;;CACCA,MAAAA,KAAK,CAACmB,cAAN;CACA,UAAMiD,IAAI,GAAG9D,EAAE,CAAC+D,IAAH,CAAQC,gBAAR,CAAyBzC,MAAM,CAACQ,QAAP,CAAgBjC,IAAzC,EAA+C,CAAC,QAAD,EAAW,aAAX,CAA/C,CAAb;CACA,UAAMmE,IAAI,GAAGvE,KAAK,CAACC,MAAnB;CACAuE,MAAAA,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8BN,IAA9B,EACEO,IADF,CACO,YAAM;CACX,QAAA,KAAI,CAACC,UAAL,GAAkB,KAAI,CAACA,UAAL,IAAmB,EAArC;CACA,YAAMC,WAAW,GAAG;CACnBC,UAAAA,OAAO,EAAEC,aAAG,CAACC,UAAJ,CAAe,6BAAf,CADU;CAEnBC,UAAAA,QAAQ,EAAE,IAFS;CAGnBC,UAAAA,QAAQ,EAAE,IAHS;CAInBC,UAAAA,MAAM,EAAE,IAJW;CAKnBC,UAAAA,KAAK,EAAE,IALY;CAMnBC,UAAAA,UAAU,EAAE,EANO;CAOnBC,UAAAA,WAAW,EAAE;CACZC,YAAAA,QAAQ,EAAE;CADE;CAPM,SAApB;CAWA,YAAMC,KAAK,GAAG,IAAIlF,EAAE,CAACmF,WAAP,CACb,wBADa,EAEblB,IAFa,EAGbM,WAHa,CAAd;CAKAW,QAAAA,KAAK,CAACE,IAAN;CAEA,YAAIC,SAAJ;;CACA,eAAMA,SAAS,GAAG,KAAI,CAACf,UAAL,CAAgBgB,GAAhB,EAAlB;CAAyCC,UAAAA,YAAY,CAACF,SAAD,CAAZ;CAAzC;;CACAA,QAAAA,SAAS,GAAGG,UAAU,CAAC,YAAU;CAChCN,UAAAA,KAAK,CAACO,KAAN;CACA,SAFqB,EAEnB,IAFmB,CAAtB;;CAGA,QAAA,KAAI,CAACnB,UAAL,CAAgBoB,IAAhB,CAAqBL,SAArB;CACA,OA3BF,WA4BQ,UAAAM,GAAG,EAAI;CACbC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;CACA,OA9BF;CA+BA;CA7PF;CAAA,SA+PEjD,qBA/PF;CAAA,0BA+PyBhD,KA/PzB,EAgQC;CACC,UAAMwF,KAAK,GAAG5F,QAAQ,CAAC4B,aAAT,CAAuB,0CAAvB,CAAd;;CACA,UAAIqC,aAAG,CAACuC,QAAJ,CAAaZ,KAAb,EAAoB,MAApB,CAAJ,EACA;CACC3B,QAAAA,aAAG,CAACwC,WAAJ,CAAgBb,KAAhB,EAAuB,MAAvB;CACAM,QAAAA,UAAU,CAAC,YAAU;CACpBjC,UAAAA,aAAG,CAACyC,QAAJ,CAAad,KAAb,EAAoB,MAApB;CACA,SAFS,EAEP,IAFO,CAAV;CAGA,OAND,MAQA;CACC3B,QAAAA,aAAG,CAACyC,QAAJ,CAAad,KAAb,EAAoB,MAApB;CACA;CACD;CA7QF;CAAA,SA+QE3C,iBA/QF;CAAA,0BA+QqB7C,KA/QrB,EAgRC;CACCA,MAAAA,KAAK,CAACmB,cAAN;;CACA,UACC8C,cAAI,CAACsC,aAAL,CAAmBtD,QAAQ,CAACT,OAA5B,KACGyB,cAAI,CAACuC,QAAL,CAAcvD,QAAQ,CAACwD,YAAvB,CADH,IAEGxD,QAAQ,CAACwD,YAAT,GAAwB,CAH5B,EAKA;CACC,aAAKC,+BAAW,CAACC,YAAZ,CAAyB1D,QAAQ,CAACT,OAAT,CAAiB,EAAES,QAAQ,CAACwD,YAA5B,CAAzB,CAAL;CACAxD,QAAAA,QAAQ,CAACS,uBAAT;CACA;CACD;CA3RF;CAAA,SA6REZ,oBA7RF;CAAA,0BA6RwB9C,KA7RxB,EA8RC;CACCA,MAAAA,KAAK,CAACmB,cAAN;;CAEA,UACC8C,cAAI,CAACsC,aAAL,CAAmBtD,QAAQ,CAACT,OAA5B,KACGyB,cAAI,CAACuC,QAAL,CAAcvD,QAAQ,CAACwD,YAAvB,CADH,IAEIxD,QAAQ,CAACwD,YAAT,GAAwBxD,QAAQ,CAACT,OAAT,CAAiBoE,MAAjB,GAA0B,CAHvD,EAKA;CACC,aAAKF,+BAAW,CAACC,YAAZ,CAAyB1D,QAAQ,CAACT,OAAT,CAAiB,EAAES,QAAQ,CAACwD,YAA5B,CAAzB,CAAL;CACAxD,QAAAA,QAAQ,CAACS,uBAAT;CACA;CACD;CA1SF;CAAA;CAAA,gCAqBC;CACC,aAAOT,QAAQ,CAAC4D,KAAT,CAAeC,QAAf,CAAwB,QAAxB,EAAkC,YAAM;CAC9C,eAAOlH,QAAQ,CAAC4B,aAAT,CAAuB,wBAAvB,CAAP;CACA,OAFM,CAAP;CAGA;CAzBF;CAAA;CAAA,oCA4BC;CACC,aAAOyB,QAAQ,CAAC4D,KAAT,CAAeC,QAAf,CAAwB,YAAxB,EAAsC,YAAM;CAClD,eAAO7D,QAAQ,CAAC8D,SAAT,GAAqBvF,aAArB,CAAmC,oCAAnC,CAAP;CACA,OAFM,CAAP;CAGA;CAhCF;CAAA;CAAA,+BA+CmBwF,GA/CnB,EA+CwBhD,SA/CxB,EAgDC;CACC1D,MAAAA,EAAE,CAAC2G,SAAH,CAAaC,QAAb,CAAsBC,IAAtB,CAA2BH,GAA3B,EAAgC;CAC/BI,QAAAA,SAAS,EAAE,KADoB;CAE/BC,QAAAA,kBAAkB,EAAE,EAFW;CAG/BC,QAAAA,kBAAkB,EAAE,KAHW;CAI/BC,QAAAA,MAAM,EAAE;CACPC,UAAAA,OADO,qBACG;CACT,iBAAKd,+BAAW,CAACC,YAAZ,CACJ9E,MAAM,CAACQ,QAAP,CAAgBC,QAAhB,GAA2BmF,KAA3B,CAAiC,GAAjC,EAAsC,CAAtC,IAA2C,YAA3C,GAA0DzD,SADtD,CAAL;CAGA;CALM;CAJuB,OAAhC;CAYA,KA7DF;;CAAA;CAAA;CAAA,gCAmEoBgD,GAnEpB,EAoEC;CACC,UAAI,CAAC/C,cAAI,CAACuC,QAAL,CAAcvD,QAAQ,CAACwD,YAAvB,CAAL,EACA;CACCxD,QAAAA,QAAQ,CAACwD,YAAT,GAAwB,CAAC,CAAzB,CADD;CAEC;;CAED,UAAIxD,QAAQ,CAACwD,YAAT,GAAwBxD,QAAQ,CAACT,OAAT,CAAiBoE,MAAjB,GAA0B,CAAtD,EACA;CACC3D,QAAAA,QAAQ,CAACT,OAAT,CAAiBkF,MAAjB,CAAwBzE,QAAQ,CAACwD,YAAT,GAAwB,CAAhD;CACA;;CAEDxD,MAAAA,QAAQ,CAACT,OAAT,CAAiBwD,IAAjB,CAAsBgB,GAAtB;CACA/D,MAAAA,QAAQ,CAACwD,YAAT;CACA;CAjFF;CAAA;CAAA,8CAoFC;CACC5C,MAAAA,aAAG,CAACwC,WAAJ,CAAgBpD,QAAQ,CAACK,gBAAT,EAAhB,EAA6C,iBAA7C;CACAO,MAAAA,aAAG,CAACwC,WAAJ,CAAgBpD,QAAQ,CAACI,aAAT,EAAhB,EAA0C,iBAA1C;;CAEA,UACC,CAACY,cAAI,CAACsC,aAAL,CAAmBtD,QAAQ,CAACT,OAA5B,CAAD,IACG,CAACyB,cAAI,CAACuC,QAAL,CAAcvD,QAAQ,CAACwD,YAAvB,CADJ,IAEGxD,QAAQ,CAACT,OAAT,CAAiBoE,MAAjB,KAA4B,CAHhC,EAKA;CACC/C,QAAAA,aAAG,CAACyC,QAAJ,CAAarD,QAAQ,CAACK,gBAAT,EAAb,EAA0C,iBAA1C;CACAO,QAAAA,aAAG,CAACyC,QAAJ,CAAarD,QAAQ,CAACI,aAAT,EAAb,EAAuC,iBAAvC;CACA;CACA;;CAED,UAAIJ,QAAQ,CAACwD,YAAT,KAA0B,CAA9B,EACA;CACC5C,QAAAA,aAAG,CAACyC,QAAJ,CAAarD,QAAQ,CAACI,aAAT,EAAb,EAAuC,iBAAvC;CACA;;CAED,UAAIJ,QAAQ,CAACwD,YAAT,IAAyBxD,QAAQ,CAACT,OAAT,CAAiBoE,MAAjB,GAA0B,CAAvD,EACA;CACC/C,QAAAA,aAAG,CAACyC,QAAJ,CAAarD,QAAQ,CAACK,gBAAT,EAAb,EAA0C,iBAA1C;CACA;CACD;CA5GF;CAAA;CAAA,oCA+GC;CACC,aAAOL,QAAQ,CAAC4D,KAAT,CAAeC,QAAf,CAAwB,YAAxB,EAAsC,YAAM;CAClD,YAAMa,MAAM,GAAG1E,QAAQ,CAAC8D,SAAT,EAAf;CACA,eAAOY,MAAM,GAAGA,MAAM,CAACnG,aAAP,CAAqB,6BAArB,CAAH,GAAyD,IAAtE;CACA,OAHM,CAAP;CAIA;CApHF;CAAA;CAAA,uCAuHC;CACC,aAAOyB,QAAQ,CAAC4D,KAAT,CAAeC,QAAf,CAAwB,eAAxB,EAAyC,YAAM;CACrD,YAAMa,MAAM,GAAG1E,QAAQ,CAAC8D,SAAT,EAAf;CACA,eAAOY,MAAM,GAAGA,MAAM,CAACnG,aAAP,CAAqB,gCAArB,CAAH,GAA4D,IAAzE;CACA,OAHM,CAAP;CAIA;CA5HF;CAAA;CAAA,wCA+HC;CACC,aAAOyB,QAAQ,CAAC4D,KAAT,CAAeC,QAAf,CAAwB,gBAAxB,EAA0C,YAAM;CACtD,YAAMa,MAAM,GAAG1E,QAAQ,CAAC8D,SAAT,EAAf;CACA,eAAOY,MAAM,GAAGA,MAAM,CAACnG,aAAP,CAAqB,wBAArB,CAAH,GAAoD,IAAjE;CACA,OAHM,CAAP;CAIA;CApIF;CAAA;CAAA,wCAuIC;CACC,aAAOyB,QAAQ,CAAC4D,KAAT,CAAeC,QAAf,CAAwB,gBAAxB,EAA0C,YAAM;CACtD,YAAMa,MAAM,GAAG1E,QAAQ,CAAC8D,SAAT,EAAf;CACA,eAAOY,MAAM,GAAGA,MAAM,CAACnG,aAAP,CAAqB,oCAArB,CAAH,GAAgE,IAA7E;CACA,OAHM,CAAP;CAIA;CA5IF;CAAA;CAAA,iCA+IC;CACC,UAAMoG,QAAQ,GAAGhI,QAAQ,CAAC4B,aAAT,CAAuB,wCAAvB,CAAjB;;CACA,UAAIoG,QAAJ,EACA;CACC,YAAIC,QAAQ,CAAChG,MAAM,CAACiG,gBAAP,CAAwBF,QAAxB,EAAkCG,KAAnC,CAAR,GAAoD,GAAxD,EACA;CACClE,UAAAA,aAAG,CAACmE,KAAJ,CAAUJ,QAAV,EAAoB,gBAApB,EAAsC,MAAtC;CACA,SAHD,MAKA;CACCtH,UAAAA,EAAE,CAAC2H,EAAH,CAAMC,IAAN,CAAWC,IAAX,CAAgB7H,EAAE,CAAC,uCAAD,CAAlB;CACA;CACD;CACD;CA5JF;CAAA;CAAA,wCA8J4B4C,QA9J5B,EA+JC;CACC,UAAMkF,SAAS,GAAGlF,QAAQ,CAACmF,EAA3B;CACA,UAAMC,WAAW,GAAGpF,QAAQ,CAACqF,IAA7B;CACA,UAAMC,MAAM,GAAGtF,QAAQ,CAACsF,MAAxB;;CAEA,UAAIJ,SAAS,CAACxB,MAAV,KAAqB0B,WAAW,CAAC1B,MAArC,EAA4C;CAC3C,aAAK,IAAI6B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,SAAS,CAACxB,MAA9B,EAAsC6B,CAAC,EAAvC,EACA;CACC,eAAKC,cAAL,CAAoBN,SAAS,CAACK,CAAD,CAA7B,EAAkCH,WAAW,CAACG,CAAD,CAA7C,EAAkDD,MAAM,CAACC,CAAD,CAAxD;CACA;CACD;CACD;CA1KF;CAAA;CAAA,mCA4KuBJ,EA5KvB,EA4K2BE,IA5K3B,EA4KiCC,MA5KjC,EA6KC;CACC,UAAMG,aAAa,GAAG/I,QAAQ,CAAC4B,aAAT,CAAuB,yDAAvB,CAAtB;CACA,UAAMoH,OAAO,GAAG/G,MAAM,CAACQ,QAAP,CAAgBwG,MAAhB,GAAyB,yBAAzB,GAAqDR,EAArD,GAA0D,GAA1E;CACA,UAAMS,QAAQ,GAAGxI,EAAE,CAACuD,GAAH,CAAOkF,MAAP,CAAc;CAC9BC,QAAAA,GAAG,EAAE,KADyB;CAE9BC,QAAAA,KAAK,EAAE;CACNtH,UAAAA,SAAS,EAAE;CADL;CAFuB,OAAd,CAAjB;CAMA,UAAIuH,cAAJ;;CACA,UAAIV,MAAM,IAAIA,MAAM,KAAK,EAAzB,EACA;CACCU,QAAAA,cAAc,GAAG5I,EAAE,CAACuD,GAAH,CAAOkF,MAAP,CAAc;CAC9BC,UAAAA,GAAG,EAAE,KADyB;CAE9BC,UAAAA,KAAK,EAAE;CACNtH,YAAAA,SAAS,EAAE;CADL;CAFuB,SAAd,CAAjB;CAMA6G,QAAAA,MAAM,GAAG,UAAUA,MAAV,GAAmB,IAA5B;CACA3E,QAAAA,aAAG,CAACmE,KAAJ,CAAUkB,cAAV,EAA0B,kBAA1B,EAA8CV,MAA9C;CACA,OAVD,MAYA;CACCU,QAAAA,cAAc,GAAG5I,EAAE,CAACuD,GAAH,CAAOkF,MAAP,CAAc;CAC9BC,UAAAA,GAAG,EAAE,KADyB;CAE9BC,UAAAA,KAAK,EAAE;CACNtH,YAAAA,SAAS,EAAE;CADL;CAFuB,SAAd,CAAjB;CAMA;;CACD,UAAMwH,YAAY,GAAG7I,EAAE,CAACuD,GAAH,CAAOkF,MAAP,CAAc;CAClCC,QAAAA,GAAG,EAAE,GAD6B;CAElCC,QAAAA,KAAK,EAAE;CACNtH,UAAAA,SAAS,EAAE;CADL,SAF2B;CAKlCyH,QAAAA,IAAI,EAAEb;CAL4B,OAAd,CAArB;CAOA1E,MAAAA,aAAG,CAACC,IAAJ,CAASqF,YAAT,EAAuB,MAAvB,EAA+BP,OAA/B;CACA/E,MAAAA,aAAG,CAACC,IAAJ,CAASqF,YAAT,EAAuB,QAAvB,EAAiC,QAAjC;CACAtF,MAAAA,aAAG,CAACwF,MAAJ,CAAWH,cAAX,EAA2BJ,QAA3B;CACAjF,MAAAA,aAAG,CAACwF,MAAJ,CAAWF,YAAX,EAAyBL,QAAzB;CACAjF,MAAAA,aAAG,CAACwF,MAAJ,CAAWP,QAAX,EAAqBH,aAArB;CACA;CAvNF;CAAA;CAAA;6BAAa1F,mBAEG,IAAIqG,eAAK,CAACC,WAAV;6BAFHtG,qBAgEK;;KCvELuG,cAAb;CAEC;CACD;CACA;CACC,4BACA;CAAA;CACC,SAAKrB,IAAL;CACA;;CARF;CAAA;CAAA,2BAWC;CACC,UAAMnB,GAAG,GAAG,IAAIyC,GAAJ,CAAQ5H,MAAM,CAACQ,QAAP,CAAgBjC,IAAxB,CAAZ;;CACA,UAAI4G,GAAG,CAAC0C,YAAJ,CAAiBlJ,GAAjB,CAAqB,YAArB,MAAuC,MAA3C,EACA;CACCwG,QAAAA,GAAG,CAAC0C,YAAJ,WAAwB,YAAxB;CACA7H,QAAAA,MAAM,CAACW,OAAP,CAAeC,YAAf,CAA4B,EAA5B,EAAgC,EAAhC,EAAoCuE,GAAG,CAAC1E,QAAJ,EAApC;CACA,OAJD,MAMA;CACChC,QAAAA,EAAE,CAAC+F,WAAH,CAAezG,QAAQ,CAAC+J,IAAxB,EAA8B,yBAA9B;CACA;;CACD/J,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAW;CACxDiG,QAAAA,UAAU,CAAC,YAAM;CAChBxF,UAAAA,EAAE,CAAC+F,WAAH,CAAezG,QAAQ,CAAC+J,IAAxB,EAA8B,yBAA9B;CACA,SAFS,EAEP,GAFO,CAAV;CAGA,OAJD;CAKA;CA3BF;CAAA;CAAA;;;;;;;;;;;;"}