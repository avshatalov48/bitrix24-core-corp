{"version":3,"file":"script.js","sources":["src/js/landing.site_domain.helper.js","src/js/landing.site_domain.input.js","src/js/landing.site_domain.private.js","src/js/landing.site_domain.bitrix24.js","src/js/landing.site_domain.free.js","src/landing.site_domain.js"],"sourcesContent":["import {Dom, Loc} from 'main.core';\n\nexport class Helper\n{\n\tstatic DEFAULT_LENGTH_LIMIT = 63;\n\n\t/**\n\t * Constructor.\n\t */\n\tconstructor(params)\n\t{\n\t\tthis.idDomainName = params.idDomainName;\n\t\tthis.idDomainMessage = params.idDomainMessage;\n\t\tthis.idDomainLoader = params.idDomainLoader;\n\t\tthis.idDomainLength = params.idDomainLength || null;\n\t\tthis.idDomainErrorAlert = params.idDomainErrorAlert;\n\n\t\tthis.classes = {\n\t\t\tdangerBorder: 'ui-ctl-danger',\n\t\t\tsuccessBorder: 'ui-ctl-success',\n\t\t\tdangerAlert: 'landing-domain-alert-danger',\n\t\t\tsuccessAlert: 'landing-domain-alert-success'\n\t\t};\n\n\t\tif (this.idDomainName)\n\t\t{\n\t\t\tthis.idDomainNameParent = this.idDomainName.parentNode;\n\t\t}\n\t}\n\t/**\n\t * Shows loader div near input.\n\t */\n\tshowLoader()\n\t{\n\t\tthis.clearMessage();\n\t\tthis.hideLength();\n\t\tDom.show(this.idDomainLoader);\n\t}\n\n\t/**\n\t * Hides loader div near input.\n\t */\n\thideLoader()\n\t{\n\t\tthis.showLength();\n\t\tDom.hide(this.idDomainLoader);\n\t}\n\n\t/**\n\t * Returns true if loader showed.\n\t * @return {boolean}\n\t */\n\tisLoaderShowed()\n\t{\n\t\treturn this.idDomainLoader && this.idDomainLoader.style.display !== 'none';\n\t}\n\n\tsetLength(length: number, limit: number = Helper.DEFAULT_LENGTH_LIMIT)\n\t{\n\t\tif (this.idDomainLength)\n\t\t{\n\t\t\tthis.idDomainLength.innerHTML = Loc.getMessage('LANDING_TPL_DOMAIN_LENGTH_LIMIT', {\n\t\t\t\t'#LENGTH#': length,\n\t\t\t\t'#LIMIT#': limit,\n\t\t\t});\n\t\t}\n\t\tDom.show(this.idDomainLength);\n\t}\n\n\thideLength()\n\t{\n\t\tif (this.idDomainLength)\n\t\t{\n\t\t\tDom.hide(this.idDomainLength);\n\t\t}\n\t}\n\n\tshowLength()\n\t{\n\t\tif (this.idDomainLength)\n\t\t{\n\t\t\tDom.show(this.idDomainLength);\n\t\t}\n\t}\n\n\t/**\n\t * Marks input with success class.\n\t * @param {string} successMessage Success message.\n\t */\n\tsetSuccess(successMessage)\n\t{\n\t\tif (this.idDomainErrorAlert)\n\t\t{\n\t\t\tDom.hide(this.idDomainErrorAlert);\n\t\t}\n\t\tthis.setMessage(successMessage);\n\t}\n\n\t/**\n\t * Sets error message on error occurred or hide message if errorMessage is empty.\n\t * @param {string} errorMessage Error message.\n\t */\n\tsetError(errorMessage)\n\t{\n\t\tthis.setMessage(errorMessage, true);\n\t}\n\n\t/**\n\t * Returns true if error message showed.\n\t * @return {boolean}\n\t */\n\tisErrorShowed()\n\t{\n\t\treturn this.idDomainMessage &&\n\t\t\tDom.hasClass(this.idDomainMessage, this.classes.dangerAlert) &&\n\t\t\tthis.idDomainMessage.style.display !== 'none';\n\t}\n\n\t/**\n\t * Sets success or fail message.\n\t * @param {string} message Error message.\n\t * @param {boolean} error Error message (false by default).\n\t */\n\tsetMessage(message: string, error: boolean)\n\t{\n\t\tif (!this.idDomainMessage)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\terror = !!error;\n\t\tthis.clearMessage();\n\t\tif (message)\n\t\t{\n\t\t\tif (this.idDomainNameParent)\n\t\t\t{\n\t\t\t\tDom.addClass(\n\t\t\t\t\tthis.idDomainNameParent,\n\t\t\t\t\terror\n\t\t\t\t\t\t? this.classes.dangerBorder\n\t\t\t\t\t\t: this.classes.successBorder\n\t\t\t\t);\n\t\t\t}\n\t\t\tDom.addClass(\n\t\t\t\tthis.idDomainMessage,\n\t\t\t\terror\n\t\t\t\t\t? this.classes.dangerAlert\n\t\t\t\t\t: this.classes.successAlert\n\t\t\t);\n\t\t\tDom.show(this.idDomainMessage);\n\t\t\tthis.idDomainMessage.innerHTML = message;\n\t\t}\n\t}\n\n\t/**\n\t * Clears message alert.\n\t */\n\tclearMessage()\n\t{\n\t\tif (!this.idDomainMessage)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.idDomainNameParent)\n\t\t{\n\t\t\tDom.removeClass(this.idDomainNameParent, this.classes.dangerBorder);\n\t\t\tDom.removeClass(this.idDomainNameParent, this.classes.successBorder);\n\t\t}\n\t\tDom.removeClass(this.idDomainMessage, this.classes.dangerAlert);\n\t\tDom.removeClass(this.idDomainMessage, this.classes.successAlert);\n\n\t\tthis.idDomainMessage.innerHTML = '';\n\t}\n}","import {Dom, Event, Runtime, Loc, Type} from 'main.core';\nimport {Helper} from './landing.site_domain.helper';\n\nexport class Input\n{\n\t/**\n\t * Constructor.\n\t */\n\tconstructor(params)\n\t{\n\t\tthis.domainId = params.domainId;\n\t\tthis.domainName = params.domainName;\n\t\tthis.domainPostfix = params.domainPostfix || '';\n\t\tthis.idDomainName = params.idDomainName;\n\t\tthis.idDomainINA = params.idDomainINA;\n\t\tthis.idDomainDnsInfo = params.idDomainDnsInfo;\n\t\tthis.idDomainSubmit = params.idDomainSubmit;\n\t\tthis.previousDomainName = null;\n\t\tthis.helper = new Helper(params);\n\t\tthis.tld = params.tld ? params.tld.toLowerCase() : 'tld';\n\n\t\tthis.classes = {\n\t\t\tsubmit: 'ui-btn-clock'\n\t\t};\n\n\t\tthis.keyupCallback = this.keyupCallback.bind(this);\n\t\tif (this.idDomainName)\n\t\t{\n\t\t\tEvent.bind(this.idDomainName, 'keyup', Runtime.debounce(this.keyupCallback, 900));\n\n\t\t\tconst initValue = Type.isString(this.idDomainName.value)\n\t\t\t\t? this.idDomainName.value.trim()\n\t\t\t\t: '';\n\t\t\tif (initValue.length === 0)\n\t\t\t{\n\t\t\t\tthis.helper.setLength(0);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.keyupCallback();\n\t\t\t}\n\t\t}\n\n\t\tif (this.idDomainSubmit)\n\t\t{\n\t\t\tEvent.bind(this.idDomainSubmit, 'click', event => {\n\t\t\t\tthis.checkSubmit(event);\n\t\t\t});\n\t\t}\n\n\t\tthis.fillDnsInstruction(this.domainName);\n\t}\n\n\t/**\n\t * Returns true if domain name is empty.\n\t * return {bool}\n\t */\n\tdomainNameIsEmpty()\n\t{\n\t\tthis.idDomainName.value =\n\t\t\tType.isString(this.idDomainName.value)\n\t\t\t\t? this.idDomainName.value.trim()\n\t\t\t\t: this.idDomainName.value\n\t\t;\n\t\treturn this.idDomainName.value === '';\n\t}\n\n\t/**\n\t * Makes some check before submit.\n\t */\n\tcheckSubmit(event)\n\t{\n\t\tif (Dom.hasClass(this.idDomainSubmit, this.classes.submit))\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\t\telse if (this.domainNameIsEmpty())\n\t\t{\n\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_EMPTY'));\n\t\t\tevent.preventDefault();\n\t\t}\n\t\telse if (this.helper.isErrorShowed())\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.idDomainSubmit, this.classes.submit);\n\t\t}\n\t}\n\n\t/**\n\t * Handler on keyup input.\n\t */\n\tkeyupCallback()\n\t{\n\t\tthis.idDomainName.value =\n\t\t\tType.isString(this.idDomainName.value)\n\t\t\t\t? this.idDomainName.value.trim()\n\t\t\t\t: this.idDomainName.value\n\t\t;\n\t\tif (this.idDomainName.value === '')\n\t\t{\n\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_EMPTY'));\n\t\t\tthis.helper.setLength(0);\n\t\t\treturn;\n\t\t}\n\n\t\tconst domainName = this.idDomainName.value;\n\n\t\tif (this.previousDomainName === domainName)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.previousDomainName = domainName;\n\t\tthis.helper.showLoader();\n\n\t\tBX.ajax({\n\t\t\turl: '/bitrix/tools/landing/ajax.php?action=Domain::check',\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tdata: {\n\t\t\t\t\tdomain: domainName + this.domainPostfix,\n\t\t\t\t\tfilter:\n\t\t\t\t\t\tthis.domainId\n\t\t\t\t\t\t\t? { '!ID': this.domainId }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t},\n\t\t\t\tsessid: Loc.getMessage('bitrix_sessid')\n\t\t\t},\n\t\t\tdataType: 'json',\n\t\t\tonsuccess: function (data)\n\t\t\t{\n\t\t\t\tthis.helper.hideLoader();\n\t\t\t\tif (data.type === 'success')\n\t\t\t\t{\n\t\t\t\t\tif (data.result.length && data.result.length.length && data.result.length.limit)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.helper.setLength(data.result.length.length, data.result.length.limit);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.helper.hideLength();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!data.result.available)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (data.result.errors)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (data.result.errors.wrongSymbols)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_WRONG_NAME'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (data.result.errors.wrongLength)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_WRONG_LENGTH'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (data.result.errors.wrongSymbolCombination)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_WRONG_SYMBOL_COMBINATIONS'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (data.result.errors.wrongDomainLevel)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_WRONG_DOMAIN_LEVEL'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.helper.setError(\n\t\t\t\t\t\t\t\t!!data.result.deleted\n\t\t\t\t\t\t\t\t\t? Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_EXIST_DELETED')\n\t\t\t\t\t\t\t\t\t: Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_EXIST')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (!data.result.domain)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.helper.setError(\n\t\t\t\t\t\t\tLoc.getMessage('LANDING_TPL_ERROR_DOMAIN_INCORRECT')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.fillDnsInstruction(data.result.domain);\n\t\t\t\t\t\tthis.helper.setSuccess(\n\t\t\t\t\t\t\tLoc.getMessage('LANDING_TPL_DOMAIN_AVAILABLE')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.result.dns && this.idDomainINA)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.idDomainINA.textContent = data.result.dns['INA'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.helper.setError('Error processing');\n\t\t\t\t}\n\t\t\t}.bind(this)\n\t\t});\n\t}\n\n\t/**\n\t * Sets new DNS instructions after domain name change.\n\t * @param {string} domainName Domain name.\n\t */\n\tfillDnsInstruction(domainName)\n\t{\n\t\tif (!this.idDomainDnsInfo)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (!domainName)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (!this.idDomainDnsInfo.rows[1])\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (!this.idDomainDnsInfo.rows[2])\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (\n\t\t\tthis.idDomainDnsInfo.rows[1].cells.length < 3 ||\n\t\t\tthis.idDomainDnsInfo.rows[2].cells.length < 3\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tvar cNameRecordRow = this.idDomainDnsInfo.rows[1];\n\t\tvar aRecordRow = this.idDomainDnsInfo.rows[2];\n\t\tvar domainParts = domainName.split('.');\n\t\tvar domainRe = /^(com|net|org|co|kiev|spb|kharkov|msk|in|app)\\.[a-z]{2}$/;\n\n\t\taRecordRow.style.display = 'none';\n\t\tcNameRecordRow.cells[0].textContent = domainName ? domainName : 'landing.mydomain';\n\n\t\tif (\n\t\t\t(domainParts.length === 2) ||\n\t\t\t(domainParts.length === 3 && domainParts[0] === 'www') ||\n\t\t\t(domainParts.length === 3 && (domainParts[1] + '.' + domainParts[2]).match(domainRe))\n\t\t)\n\t\t{\n\t\t\taRecordRow.style.display = 'table-row';\n\t\t\tif ((domainParts.length === 3 && domainParts[0] === 'www'))\n\t\t\t{\n\t\t\t\taRecordRow.cells[0].textContent = domainParts[1] + '.' + domainParts[2] + '.';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcNameRecordRow.cells[0].textContent = 'www.' + domainName + '.';\n\t\t\t\taRecordRow.cells[0].textContent = domainName + '.';\n\t\t\t}\n\t\t}\n\t}\n}","import {Input} from './landing.site_domain.input';\n\nexport class Private extends Input\n{\n\t/**\n\t * Constructor.\n\t */\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t}\n}","import {Input} from './landing.site_domain.input';\n\nexport class Bitrix24 extends Input\n{\n\t/**\n\t * Constructor.\n\t */\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t}\n}","import {Dom, Event, Runtime, Loc, Type} from 'main.core';\nimport {Helper} from './landing.site_domain.helper';\n\nexport class Free\n{\n\t/**\n\t * Constructor.\n\t */\n\tconstructor(params)\n\t{\n\t\tthis.idDomainSubmit = params.idDomainSubmit;\n\t\tthis.idDomainCheck = params.idDomainCheck;\n\t\tthis.idDomainName = params.idDomainName;\n\t\tthis.idDomainAnother = params.idDomainAnother;\n\t\tthis.idDomainAnotherMore = params.idDomainAnotherMore;\n\t\tthis.idDomainErrorAlert = params.idDomainErrorAlert;\n\t\tthis.saveBlocker = params.saveBlocker;\n\t\tthis.saveBlockerCallback = params.saveBlockerCallback;\n\t\tthis.promoCloseIcon = params.promoCloseIcon;\n\t\tthis.promoCloseLink = params.promoCloseLink;\n\t\tthis.promoBlock = params.promoBlock;\n\t\tthis.maxVisibleSuggested = parseInt(params.maxVisibleSuggested || 10);\n\t\tthis.tld = params.tld ? params.tld.toLowerCase() : 'tld';\n\t\tthis.helper = new Helper(params);\n\n\t\tthis.classes = {\n\t\t\tsubmit: 'ui-btn-clock'\n\t\t};\n\n\t\tif (this.promoCloseIcon && this.promoCloseLink) {\n\t\t\tEvent.bind(this.promoCloseIcon, 'click', this.closePromoBlock.bind(this));\n\t\t\tEvent.bind(this.promoCloseLink, 'click', this.closePromoBlock.bind(this));\n\t\t}\n\n\t\tif (this.idDomainAnotherMore) {\n\t\t\tEvent.bind(this.idDomainAnotherMore, 'click', this.showMoreDomains.bind(this));\n\t\t}\n\n\t\tif (this.idDomainSubmit)\n\t\t{\n\t\t\tEvent.bind(this.idDomainSubmit, 'click', function(event)\n\t\t\t{\n\t\t\t\tthis.checkSubmit(event);\n\t\t\t}.bind(this));\n\t\t}\n\n\t\tif (this.idDomainCheck && this.idDomainName)\n\t\t{\n\t\t\tEvent.bind(this.idDomainCheck, 'click', function(event)\n\t\t\t{\n\t\t\t\tthis.checkDomain(event);\n\t\t\t}.bind(this));\n\t\t}\n\n\t\tif (this.idDomainName)\n\t\t{\n\t\t\tEvent.bind(this.idDomainName, 'keyup', Runtime.debounce(function(event)\n\t\t\t{\n\t\t\t\tthis.keyupCallback(event);\n\t\t\t}.bind(this), 500, this));\n\t\t}\n\t}\n\n\t/**\n\t * Handler on keyup input.\n\t */\n\tkeyupCallback()\n\t{\n\t\tif (this.idDomainName.value === '')\n\t\t{\n\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_EMPTY'));\n\t\t\treturn;\n\t\t}\n\n\t\tthis.helper.setSuccess('');\n\t}\n\n\t/**\n\t * Closes promo banner.\n\t */\n\tclosePromoBlock()\n\t{\n\t\tthis.promoBlock.remove();\n\t}\n\n\t/**\n\t * Shows full block of suggesiotn domains.\n\t */\n\tshowMoreDomains()\n\t{\n\t\tthis.idDomainAnother.style.height = this.idDomainAnother.children[0].offsetHeight + 'px';\n\t\tthis.idDomainAnotherMore.classList.add('landing-domain-block-available-btn-hide');\n\t}\n\n\t/**\n\t * Makes some check before submit.\n\t */\n\tcheckSubmit(event)\n\t{\n\t\tif (Dom.hasClass(this.idDomainSubmit, this.classes.submit))\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.checkDomainName();\n\n\t\tif (this.helper.isErrorShowed())\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\t\telse if (this.saveBlocker && this.saveBlockerCallback)\n\t\t{\n\t\t\tthis.saveBlockerCallback();\n\t\t\tevent.preventDefault();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.idDomainSubmit, this.classes.submit);\n\t\t}\n\t}\n\n\t/**\n\t * Sets suggested domain to the main input.\n\t * @param {string} domainName Domain name.\n\t */\n\tselectSuggested(domainName)\n\t{\n\t\tthis.idDomainName.value = domainName;\n\t\tthis.helper.setSuccess(\n\t\t\tLoc.getMessage('LANDING_TPL_DOMAIN_AVAILABLE')\n\t\t);\n\t}\n\n\t/**\n\t * Fill suggested domain area.\n\t * @param {array} suggest Suggested domains.\n\t */\n\tfillSuggest(suggest)\n\t{\n\t\tif (!this.idDomainAnother)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.idDomainAnotherMore)\n\t\t{\n\t\t\tif (suggest.length > this.maxVisibleSuggested)\n\t\t\t{\n\t\t\t\tDom.show(this.idDomainAnotherMore);\n\t\t\t\tthis.idDomainAnotherMore.classList.remove('landing-domain-block-available-btn-hide');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tDom.hide(this.idDomainAnotherMore);\n\t\t\t}\n\t\t}\n\n\t\tif (suggest.length)\n\t\t{\n\t\t\tDom.show(this.idDomainAnother.parentNode);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.hide(this.idDomainAnother.parentNode);\n\t\t}\n\n\t\tvar children = [];\n\n\t\tfor (let i = 0, c = suggest.length; i < c; i++)\n\t\t{\n\t\t\tchildren.push(\n\t\t\t\tDom.create(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tclassName: 'landing-domain-block-available-item'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\tDom.create(\n\t\t\t\t\t\t\t\t'input',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\tclassName: ''\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\tname: 'domain-edit-suggest',\n\t\t\t\t\t\t\t\t\t\tid: 'domain-edit-suggest-' + i,\n\t\t\t\t\t\t\t\t\t\ttype: 'radio'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\t\tclick: i => {\n\t\t\t\t\t\t\t\t\t\t\tthis.selectSuggested(suggest[i]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tDom.create(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\tclassName: 'landing-domain-block-available-label'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\tfor: 'domain-edit-suggest-' + i\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttext: suggest[i]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tthis.idDomainAnother.innerHTML = '';\n\t\tthis.idDomainAnother.appendChild(Dom.create(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'landing-domain-block-available-list'\n\t\t\t\t},\n\t\t\t\tchildren: children\n\t\t\t}\n\t\t));\n\n\t\tif (this.idDomainAnotherMore.style.display === 'none')\n\t\t{\n\t\t\tthis.idDomainAnother.style.height = this.idDomainAnother.children[0].offsetHeight + 'px';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.idDomainAnother.style.height = 80 + 'px';\n\t\t}\n\t}\n\n\t/**\n\t * Checks that domain name is correct.\n\t */\n\tcheckDomainName()\n\t{\n\t\tthis.idDomainName.value =\n\t\t\tType.isString(this.idDomainName.value)\n\t\t\t\t? this.idDomainName.value.trim()\n\t\t\t\t: this.idDomainName.value\n\t\t;\n\t\tconst domainRe = RegExp('^[a-z0-9-]+\\.' + (this.tld) + '$');\n\n\t\tif (this.idDomainName.value === '')\n\t\t{\n\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_EMPTY'));\n\t\t}\n\t\telse if (!domainRe.test(this.idDomainName.value.toLowerCase()))\n\t\t{\n\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_CHECK'));\n\t\t}\n\t\telse if (\n\t\t\tthis.idDomainName.value.indexOf('--') !== -1 ||\n\t\t\tthis.idDomainName.value.indexOf('-.') !== -1 ||\n\t\t\tthis.idDomainName.value.indexOf('-') === 0\n\t\t)\n\t\t{\n\t\t\tthis.helper.setError(Loc.getMessage('LANDING_TPL_ERROR_DOMAIN_CHECK_DASH'));\n\t\t}\n\t}\n\n\t/**\n\t * Makes whois query for user pointed domain.\n\t */\n\tcheckDomain(event)\n\t{\n\t\tevent.preventDefault();\n\n\t\tif (this.helper.isLoaderShowed())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.checkDomainName();\n\t\tif (this.helper.isErrorShowed())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.helper.showLoader();\n\t\tthis.fillSuggest([]);\n\n\t\tBX.ajax({\n\t\t\turl: '/bitrix/tools/landing/ajax.php?action=Domain::whois',\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tdata: {\n\t\t\t\t\tdomainName: this.idDomainName.value,\n\t\t\t\t\ttld: this.tld\n\t\t\t\t},\n\t\t\t\tsessid: Loc.getMessage('bitrix_sessid')\n\t\t\t},\n\t\t\tdataType: 'json',\n\t\t\tonsuccess: function (data)\n\t\t\t{\n\t\t\t\tthis.helper.hideLoader();\n\t\t\t\tif (data.type === 'success')\n\t\t\t\t{\n\t\t\t\t\tconst result = data.result;\n\t\t\t\t\tif (!result.enable)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (result.suggest)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.fillSuggest(result.suggest);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.helper.setError(\n\t\t\t\t\t\t\tLoc.getMessage('LANDING_TPL_ERROR_DOMAIN_EXIST')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.helper.setSuccess(\n\t\t\t\t\t\t\tLoc.getMessage('LANDING_TPL_DOMAIN_AVAILABLE')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(this)\n\t\t});\n\t}\n}","// export Helper from './js/landing.site_domain.helper';\n// export Input from './js/landing.site_domain.input';\n// export Private from './js/landing.site_domain.private';\n// export Bitrix24 from './js/landing.site_domain.bitrix24';\n// export Free from './js/landing.site_domain.free';\n\n\nexport * from './js/landing.site_domain.helper';\nexport * from './js/landing.site_domain.input';\nexport * from './js/landing.site_domain.private';\nexport * from './js/landing.site_domain.bitrix24';\nexport * from './js/landing.site_domain.free';\n"],"names":["Helper","params","idDomainName","idDomainMessage","idDomainLoader","idDomainLength","idDomainErrorAlert","classes","dangerBorder","successBorder","dangerAlert","successAlert","idDomainNameParent","parentNode","clearMessage","hideLength","Dom","show","showLength","hide","style","display","length","limit","DEFAULT_LENGTH_LIMIT","innerHTML","Loc","getMessage","successMessage","setMessage","errorMessage","hasClass","message","error","addClass","removeClass","Input","domainId","domainName","domainPostfix","idDomainINA","idDomainDnsInfo","idDomainSubmit","previousDomainName","helper","tld","toLowerCase","submit","keyupCallback","bind","Event","Runtime","debounce","initValue","Type","isString","value","trim","setLength","event","checkSubmit","fillDnsInstruction","preventDefault","domainNameIsEmpty","setError","isErrorShowed","showLoader","BX","ajax","url","method","data","domain","filter","sessid","dataType","onsuccess","hideLoader","type","result","available","errors","wrongSymbols","wrongLength","wrongSymbolCombination","wrongDomainLevel","deleted","setSuccess","dns","textContent","rows","cells","cNameRecordRow","aRecordRow","domainParts","split","domainRe","match","Private","Bitrix24","Free","idDomainCheck","idDomainAnother","idDomainAnotherMore","saveBlocker","saveBlockerCallback","promoCloseIcon","promoCloseLink","promoBlock","maxVisibleSuggested","parseInt","closePromoBlock","showMoreDomains","checkDomain","remove","height","children","offsetHeight","classList","add","checkDomainName","suggest","i","c","push","create","props","className","attrs","name","id","events","click","selectSuggested","text","appendChild","RegExp","test","indexOf","isLoaderShowed","fillSuggest","enable"],"mappings":";;;;;KAEaA,MAAb;CAIC;CACD;CACA;CACC,kBAAYC,MAAZ,EACA;CAAA;CACC,SAAKC,YAAL,GAAoBD,MAAM,CAACC,YAA3B;CACA,SAAKC,eAAL,GAAuBF,MAAM,CAACE,eAA9B;CACA,SAAKC,cAAL,GAAsBH,MAAM,CAACG,cAA7B;CACA,SAAKC,cAAL,GAAsBJ,MAAM,CAACI,cAAP,IAAyB,IAA/C;CACA,SAAKC,kBAAL,GAA0BL,MAAM,CAACK,kBAAjC;CAEA,SAAKC,OAAL,GAAe;CACdC,MAAAA,YAAY,EAAE,eADA;CAEdC,MAAAA,aAAa,EAAE,gBAFD;CAGdC,MAAAA,WAAW,EAAE,6BAHC;CAIdC,MAAAA,YAAY,EAAE;CAJA,KAAf;;CAOA,QAAI,KAAKT,YAAT,EACA;CACC,WAAKU,kBAAL,GAA0B,KAAKV,YAAL,CAAkBW,UAA5C;CACA;CACD;CACD;CACD;CACA;;;CA7BA;CAAA;CAAA,iCA+BC;CACC,WAAKC,YAAL;CACA,WAAKC,UAAL;CACAC,MAAAA,aAAG,CAACC,IAAJ,CAAS,KAAKb,cAAd;CACA;CAED;CACD;CACA;;CAvCA;CAAA;CAAA,iCAyCC;CACC,WAAKc,UAAL;CACAF,MAAAA,aAAG,CAACG,IAAJ,CAAS,KAAKf,cAAd;CACA;CAED;CACD;CACA;CACA;;CAjDA;CAAA;CAAA,qCAmDC;CACC,aAAO,KAAKA,cAAL,IAAuB,KAAKA,cAAL,CAAoBgB,KAApB,CAA0BC,OAA1B,KAAsC,MAApE;CACA;CArDF;CAAA;CAAA,8BAuDWC,MAvDX,EAwDC;CAAA,UAD0BC,KAC1B,uEAD0CvB,MAAM,CAACwB,oBACjD;;CACC,UAAI,KAAKnB,cAAT,EACA;CACC,aAAKA,cAAL,CAAoBoB,SAApB,GAAgCC,aAAG,CAACC,UAAJ,CAAe,iCAAf,EAAkD;CACjF,sBAAYL,MADqE;CAEjF,qBAAWC;CAFsE,SAAlD,CAAhC;CAIA;;CACDP,MAAAA,aAAG,CAACC,IAAJ,CAAS,KAAKZ,cAAd;CACA;CAjEF;CAAA;CAAA,iCAoEC;CACC,UAAI,KAAKA,cAAT,EACA;CACCW,QAAAA,aAAG,CAACG,IAAJ,CAAS,KAAKd,cAAd;CACA;CACD;CAzEF;CAAA;CAAA,iCA4EC;CACC,UAAI,KAAKA,cAAT,EACA;CACCW,QAAAA,aAAG,CAACC,IAAJ,CAAS,KAAKZ,cAAd;CACA;CACD;CAED;CACD;CACA;CACA;;CAtFA;CAAA;CAAA,+BAuFYuB,cAvFZ,EAwFC;CACC,UAAI,KAAKtB,kBAAT,EACA;CACCU,QAAAA,aAAG,CAACG,IAAJ,CAAS,KAAKb,kBAAd;CACA;;CACD,WAAKuB,UAAL,CAAgBD,cAAhB;CACA;CAED;CACD;CACA;CACA;;CAnGA;CAAA;CAAA,6BAoGUE,YApGV,EAqGC;CACC,WAAKD,UAAL,CAAgBC,YAAhB,EAA8B,IAA9B;CACA;CAED;CACD;CACA;CACA;;CA5GA;CAAA;CAAA,oCA8GC;CACC,aAAO,KAAK3B,eAAL,IACNa,aAAG,CAACe,QAAJ,CAAa,KAAK5B,eAAlB,EAAmC,KAAKI,OAAL,CAAaG,WAAhD,CADM,IAEN,KAAKP,eAAL,CAAqBiB,KAArB,CAA2BC,OAA3B,KAAuC,MAFxC;CAGA;CAED;CACD;CACA;CACA;CACA;;CAxHA;CAAA;CAAA,+BAyHYW,OAzHZ,EAyH6BC,KAzH7B,EA0HC;CACC,UAAI,CAAC,KAAK9B,eAAV,EACA;CACC;CACA;;CACD8B,MAAAA,KAAK,GAAG,CAAC,CAACA,KAAV;CACA,WAAKnB,YAAL;;CACA,UAAIkB,OAAJ,EACA;CACC,YAAI,KAAKpB,kBAAT,EACA;CACCI,UAAAA,aAAG,CAACkB,QAAJ,CACC,KAAKtB,kBADN,EAECqB,KAAK,GACF,KAAK1B,OAAL,CAAaC,YADX,GAEF,KAAKD,OAAL,CAAaE,aAJjB;CAMA;;CACDO,QAAAA,aAAG,CAACkB,QAAJ,CACC,KAAK/B,eADN,EAEC8B,KAAK,GACF,KAAK1B,OAAL,CAAaG,WADX,GAEF,KAAKH,OAAL,CAAaI,YAJjB;CAMAK,QAAAA,aAAG,CAACC,IAAJ,CAAS,KAAKd,eAAd;CACA,aAAKA,eAAL,CAAqBsB,SAArB,GAAiCO,OAAjC;CACA;CACD;CAED;CACD;CACA;;CAzJA;CAAA;CAAA,mCA2JC;CACC,UAAI,CAAC,KAAK7B,eAAV,EACA;CACC;CACA;;CAED,UAAI,KAAKS,kBAAT,EACA;CACCI,QAAAA,aAAG,CAACmB,WAAJ,CAAgB,KAAKvB,kBAArB,EAAyC,KAAKL,OAAL,CAAaC,YAAtD;CACAQ,QAAAA,aAAG,CAACmB,WAAJ,CAAgB,KAAKvB,kBAArB,EAAyC,KAAKL,OAAL,CAAaE,aAAtD;CACA;;CACDO,MAAAA,aAAG,CAACmB,WAAJ,CAAgB,KAAKhC,eAArB,EAAsC,KAAKI,OAAL,CAAaG,WAAnD;CACAM,MAAAA,aAAG,CAACmB,WAAJ,CAAgB,KAAKhC,eAArB,EAAsC,KAAKI,OAAL,CAAaI,YAAnD;CAEA,WAAKR,eAAL,CAAqBsB,SAArB,GAAiC,EAAjC;CACA;CA1KF;CAAA;CAAA;6BAAazB,gCAEkB;;KCDlBoC,KAAb;CAEC;CACD;CACA;CACC,iBAAYnC,MAAZ,EACA;CAAA;;CAAA;CACC,SAAKoC,QAAL,GAAgBpC,MAAM,CAACoC,QAAvB;CACA,SAAKC,UAAL,GAAkBrC,MAAM,CAACqC,UAAzB;CACA,SAAKC,aAAL,GAAqBtC,MAAM,CAACsC,aAAP,IAAwB,EAA7C;CACA,SAAKrC,YAAL,GAAoBD,MAAM,CAACC,YAA3B;CACA,SAAKsC,WAAL,GAAmBvC,MAAM,CAACuC,WAA1B;CACA,SAAKC,eAAL,GAAuBxC,MAAM,CAACwC,eAA9B;CACA,SAAKC,cAAL,GAAsBzC,MAAM,CAACyC,cAA7B;CACA,SAAKC,kBAAL,GAA0B,IAA1B;CACA,SAAKC,MAAL,GAAc,IAAI5C,MAAJ,CAAWC,MAAX,CAAd;CACA,SAAK4C,GAAL,GAAW5C,MAAM,CAAC4C,GAAP,GAAa5C,MAAM,CAAC4C,GAAP,CAAWC,WAAX,EAAb,GAAwC,KAAnD;CAEA,SAAKvC,OAAL,GAAe;CACdwC,MAAAA,MAAM,EAAE;CADM,KAAf;CAIA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;;CACA,QAAI,KAAK/C,YAAT,EACA;CACCgD,MAAAA,eAAK,CAACD,IAAN,CAAW,KAAK/C,YAAhB,EAA8B,OAA9B,EAAuCiD,iBAAO,CAACC,QAAR,CAAiB,KAAKJ,aAAtB,EAAqC,GAArC,CAAvC;CAEA,UAAMK,SAAS,GAAGC,cAAI,CAACC,QAAL,CAAc,KAAKrD,YAAL,CAAkBsD,KAAhC,IACf,KAAKtD,YAAL,CAAkBsD,KAAlB,CAAwBC,IAAxB,EADe,GAEf,EAFH;;CAGA,UAAIJ,SAAS,CAAC/B,MAAV,KAAqB,CAAzB,EACA;CACC,aAAKsB,MAAL,CAAYc,SAAZ,CAAsB,CAAtB;CACA,OAHD,MAKA;CACC,aAAKV,aAAL;CACA;CACD;;CAED,QAAI,KAAKN,cAAT,EACA;CACCQ,MAAAA,eAAK,CAACD,IAAN,CAAW,KAAKP,cAAhB,EAAgC,OAAhC,EAAyC,UAAAiB,KAAK,EAAI;CACjD,QAAA,KAAI,CAACC,WAAL,CAAiBD,KAAjB;CACA,OAFD;CAGA;;CAED,SAAKE,kBAAL,CAAwB,KAAKvB,UAA7B;CACA;CAED;CACD;CACA;CACA;;;CArDA;CAAA;CAAA,wCAuDC;CACC,WAAKpC,YAAL,CAAkBsD,KAAlB,GACCF,cAAI,CAACC,QAAL,CAAc,KAAKrD,YAAL,CAAkBsD,KAAhC,IACG,KAAKtD,YAAL,CAAkBsD,KAAlB,CAAwBC,IAAxB,EADH,GAEG,KAAKvD,YAAL,CAAkBsD,KAHtB;CAKA,aAAO,KAAKtD,YAAL,CAAkBsD,KAAlB,KAA4B,EAAnC;CACA;CAED;CACD;CACA;;CAlEA;CAAA;CAAA,gCAmEaG,KAnEb,EAoEC;CACC,UAAI3C,aAAG,CAACe,QAAJ,CAAa,KAAKW,cAAlB,EAAkC,KAAKnC,OAAL,CAAawC,MAA/C,CAAJ,EACA;CACCY,QAAAA,KAAK,CAACG,cAAN;CACA,OAHD,MAIK,IAAI,KAAKC,iBAAL,EAAJ,EACL;CACC,aAAKnB,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,gCAAf,CAArB;CACAgC,QAAAA,KAAK,CAACG,cAAN;CACA,OAJI,MAKA,IAAI,KAAKlB,MAAL,CAAYqB,aAAZ,EAAJ,EACL;CACCN,QAAAA,KAAK,CAACG,cAAN;CACA,OAHI,MAKL;CACC9C,QAAAA,aAAG,CAACkB,QAAJ,CAAa,KAAKQ,cAAlB,EAAkC,KAAKnC,OAAL,CAAawC,MAA/C;CACA;CACD;CAED;CACD;CACA;;CA1FA;CAAA;CAAA,oCA4FC;CACC,WAAK7C,YAAL,CAAkBsD,KAAlB,GACCF,cAAI,CAACC,QAAL,CAAc,KAAKrD,YAAL,CAAkBsD,KAAhC,IACG,KAAKtD,YAAL,CAAkBsD,KAAlB,CAAwBC,IAAxB,EADH,GAEG,KAAKvD,YAAL,CAAkBsD,KAHtB;;CAKA,UAAI,KAAKtD,YAAL,CAAkBsD,KAAlB,KAA4B,EAAhC,EACA;CACC,aAAKZ,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,gCAAf,CAArB;CACA,aAAKiB,MAAL,CAAYc,SAAZ,CAAsB,CAAtB;CACA;CACA;;CAED,UAAMpB,UAAU,GAAG,KAAKpC,YAAL,CAAkBsD,KAArC;;CAEA,UAAI,KAAKb,kBAAL,KAA4BL,UAAhC,EACA;CACC;CACA;;CAED,WAAKK,kBAAL,GAA0BL,UAA1B;CACA,WAAKM,MAAL,CAAYsB,UAAZ;CAEAC,MAAAA,EAAE,CAACC,IAAH,CAAQ;CACPC,QAAAA,GAAG,EAAE,qDADE;CAEPC,QAAAA,MAAM,EAAE,MAFD;CAGPC,QAAAA,IAAI,EAAE;CACLA,UAAAA,IAAI,EAAE;CACLC,YAAAA,MAAM,EAAElC,UAAU,GAAG,KAAKC,aADrB;CAELkC,YAAAA,MAAM,EACL,KAAKpC,QAAL,GACG;CAAE,qBAAO,KAAKA;CAAd,aADH,GAEG;CALC,WADD;CAQLqC,UAAAA,MAAM,EAAEhD,aAAG,CAACC,UAAJ,CAAe,eAAf;CARH,SAHC;CAaPgD,QAAAA,QAAQ,EAAE,MAbH;CAcPC,QAAAA,SAAS,EAAE,UAAUL,IAAV,EACX;CACC,eAAK3B,MAAL,CAAYiC,UAAZ;;CACA,cAAIN,IAAI,CAACO,IAAL,KAAc,SAAlB,EACA;CACC,gBAAIP,IAAI,CAACQ,MAAL,CAAYzD,MAAZ,IAAsBiD,IAAI,CAACQ,MAAL,CAAYzD,MAAZ,CAAmBA,MAAzC,IAAmDiD,IAAI,CAACQ,MAAL,CAAYzD,MAAZ,CAAmBC,KAA1E,EACA;CACC,mBAAKqB,MAAL,CAAYc,SAAZ,CAAsBa,IAAI,CAACQ,MAAL,CAAYzD,MAAZ,CAAmBA,MAAzC,EAAiDiD,IAAI,CAACQ,MAAL,CAAYzD,MAAZ,CAAmBC,KAApE;CACA,aAHD,MAKA;CACC,mBAAKqB,MAAL,CAAY7B,UAAZ;CACA;;CAED,gBAAI,CAACwD,IAAI,CAACQ,MAAL,CAAYC,SAAjB,EACA;CACC,kBAAIT,IAAI,CAACQ,MAAL,CAAYE,MAAhB,EACA;CACC,oBAAIV,IAAI,CAACQ,MAAL,CAAYE,MAAZ,CAAmBC,YAAvB,EACA;CACC,uBAAKtC,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,qCAAf,CAArB;CACA,iBAHD,MAIK,IAAI4C,IAAI,CAACQ,MAAL,CAAYE,MAAZ,CAAmBE,WAAvB,EACL;CACC,uBAAKvC,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,uCAAf,CAArB;CACA,iBAHI,MAIA,IAAI4C,IAAI,CAACQ,MAAL,CAAYE,MAAZ,CAAmBG,sBAAvB,EACL;CACC,uBAAKxC,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,oDAAf,CAArB;CACA,iBAHI,MAIA,IAAI4C,IAAI,CAACQ,MAAL,CAAYE,MAAZ,CAAmBI,gBAAvB,EACL;CACC,uBAAKzC,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,6CAAf,CAArB;CACA;CACD,eAlBD,MAoBA;CACC,qBAAKiB,MAAL,CAAYoB,QAAZ,CACC,CAAC,CAACO,IAAI,CAACQ,MAAL,CAAYO,OAAd,GACG5D,aAAG,CAACC,UAAJ,CAAe,wCAAf,CADH,GAEGD,aAAG,CAACC,UAAJ,CAAe,gCAAf,CAHJ;CAKA;CACD,aA7BD,MA8BK,IAAI,CAAC4C,IAAI,CAACQ,MAAL,CAAYP,MAAjB,EACL;CACC,mBAAK5B,MAAL,CAAYoB,QAAZ,CACCtC,aAAG,CAACC,UAAJ,CAAe,oCAAf,CADD;CAGA,aALI,MAOL;CACC,mBAAKkC,kBAAL,CAAwBU,IAAI,CAACQ,MAAL,CAAYP,MAApC;CACA,mBAAK5B,MAAL,CAAY2C,UAAZ,CACC7D,aAAG,CAACC,UAAJ,CAAe,8BAAf,CADD;CAGA;;CAED,gBAAI4C,IAAI,CAACQ,MAAL,CAAYS,GAAZ,IAAmB,KAAKhD,WAA5B,EACA;CACC,mBAAKA,WAAL,CAAiBiD,WAAjB,GAA+BlB,IAAI,CAACQ,MAAL,CAAYS,GAAZ,CAAgB,KAAhB,CAA/B;CACA;CACD,WA3DD,MA6DA;CACC,iBAAK5C,MAAL,CAAYoB,QAAZ,CAAqB,kBAArB;CACA;CACD,SAnEU,CAmETf,IAnES,CAmEJ,IAnEI;CAdJ,OAAR;CAmFA;CAED;CACD;CACA;CACA;;CA3MA;CAAA;CAAA,uCA4MoBX,UA5MpB,EA6MC;CACC,UAAI,CAAC,KAAKG,eAAV,EACA;CACC;CACA;;CACD,UAAI,CAACH,UAAL,EACA;CACC;CACA;;CACD,UAAI,CAAC,KAAKG,eAAL,CAAqBiD,IAArB,CAA0B,CAA1B,CAAL,EACA;CACC;CACA;;CACD,UAAI,CAAC,KAAKjD,eAAL,CAAqBiD,IAArB,CAA0B,CAA1B,CAAL,EACA;CACC;CACA;;CACD,UACC,KAAKjD,eAAL,CAAqBiD,IAArB,CAA0B,CAA1B,EAA6BC,KAA7B,CAAmCrE,MAAnC,GAA4C,CAA5C,IACA,KAAKmB,eAAL,CAAqBiD,IAArB,CAA0B,CAA1B,EAA6BC,KAA7B,CAAmCrE,MAAnC,GAA4C,CAF7C,EAIA;CACC;CACA;;CAED,UAAIsE,cAAc,GAAG,KAAKnD,eAAL,CAAqBiD,IAArB,CAA0B,CAA1B,CAArB;CACA,UAAIG,UAAU,GAAG,KAAKpD,eAAL,CAAqBiD,IAArB,CAA0B,CAA1B,CAAjB;CACA,UAAII,WAAW,GAAGxD,UAAU,CAACyD,KAAX,CAAiB,GAAjB,CAAlB;CACA,UAAIC,QAAQ,GAAG,0DAAf;CAEAH,MAAAA,UAAU,CAACzE,KAAX,CAAiBC,OAAjB,GAA2B,MAA3B;CACAuE,MAAAA,cAAc,CAACD,KAAf,CAAqB,CAArB,EAAwBF,WAAxB,GAAsCnD,UAAU,GAAGA,UAAH,GAAgB,kBAAhE;;CAEA,UACEwD,WAAW,CAACxE,MAAZ,KAAuB,CAAxB,IACCwE,WAAW,CAACxE,MAAZ,KAAuB,CAAvB,IAA4BwE,WAAW,CAAC,CAAD,CAAX,KAAmB,KADhD,IAECA,WAAW,CAACxE,MAAZ,KAAuB,CAAvB,IAA4B,CAACwE,WAAW,CAAC,CAAD,CAAX,GAAiB,GAAjB,GAAuBA,WAAW,CAAC,CAAD,CAAnC,EAAwCG,KAAxC,CAA8CD,QAA9C,CAH9B,EAKA;CACCH,QAAAA,UAAU,CAACzE,KAAX,CAAiBC,OAAjB,GAA2B,WAA3B;;CACA,YAAKyE,WAAW,CAACxE,MAAZ,KAAuB,CAAvB,IAA4BwE,WAAW,CAAC,CAAD,CAAX,KAAmB,KAApD,EACA;CACCD,UAAAA,UAAU,CAACF,KAAX,CAAiB,CAAjB,EAAoBF,WAApB,GAAkCK,WAAW,CAAC,CAAD,CAAX,GAAiB,GAAjB,GAAuBA,WAAW,CAAC,CAAD,CAAlC,GAAwC,GAA1E;CACA,SAHD,MAKA;CACCF,UAAAA,cAAc,CAACD,KAAf,CAAqB,CAArB,EAAwBF,WAAxB,GAAsC,SAASnD,UAAT,GAAsB,GAA5D;CACAuD,UAAAA,UAAU,CAACF,KAAX,CAAiB,CAAjB,EAAoBF,WAApB,GAAkCnD,UAAU,GAAG,GAA/C;CACA;CACD;CACD;CA/PF;CAAA;CAAA;;KCDa4D,OAAb;CAAA;;CAEC;CACD;CACA;CACC,mBAAYjG,MAAZ,EACA;CAAA;CAAA,wGACOA,MADP;CAEC;;CARF;CAAA,EAA6BmC,KAA7B;;KCAa+D,QAAb;CAAA;;CAEC;CACD;CACA;CACC,oBAAYlG,MAAZ,EACA;CAAA;CAAA,yGACOA,MADP;CAEC;;CARF;CAAA,EAA8BmC,KAA9B;;KCCagE,IAAb;CAEC;CACD;CACA;CACC,gBAAYnG,MAAZ,EACA;CAAA;CACC,SAAKyC,cAAL,GAAsBzC,MAAM,CAACyC,cAA7B;CACA,SAAK2D,aAAL,GAAqBpG,MAAM,CAACoG,aAA5B;CACA,SAAKnG,YAAL,GAAoBD,MAAM,CAACC,YAA3B;CACA,SAAKoG,eAAL,GAAuBrG,MAAM,CAACqG,eAA9B;CACA,SAAKC,mBAAL,GAA2BtG,MAAM,CAACsG,mBAAlC;CACA,SAAKjG,kBAAL,GAA0BL,MAAM,CAACK,kBAAjC;CACA,SAAKkG,WAAL,GAAmBvG,MAAM,CAACuG,WAA1B;CACA,SAAKC,mBAAL,GAA2BxG,MAAM,CAACwG,mBAAlC;CACA,SAAKC,cAAL,GAAsBzG,MAAM,CAACyG,cAA7B;CACA,SAAKC,cAAL,GAAsB1G,MAAM,CAAC0G,cAA7B;CACA,SAAKC,UAAL,GAAkB3G,MAAM,CAAC2G,UAAzB;CACA,SAAKC,mBAAL,GAA2BC,QAAQ,CAAC7G,MAAM,CAAC4G,mBAAP,IAA8B,EAA/B,CAAnC;CACA,SAAKhE,GAAL,GAAW5C,MAAM,CAAC4C,GAAP,GAAa5C,MAAM,CAAC4C,GAAP,CAAWC,WAAX,EAAb,GAAwC,KAAnD;CACA,SAAKF,MAAL,GAAc,IAAI5C,MAAJ,CAAWC,MAAX,CAAd;CAEA,SAAKM,OAAL,GAAe;CACdwC,MAAAA,MAAM,EAAE;CADM,KAAf;;CAIA,QAAI,KAAK2D,cAAL,IAAuB,KAAKC,cAAhC,EAAgD;CAC/CzD,MAAAA,eAAK,CAACD,IAAN,CAAW,KAAKyD,cAAhB,EAAgC,OAAhC,EAAyC,KAAKK,eAAL,CAAqB9D,IAArB,CAA0B,IAA1B,CAAzC;CACAC,MAAAA,eAAK,CAACD,IAAN,CAAW,KAAK0D,cAAhB,EAAgC,OAAhC,EAAyC,KAAKI,eAAL,CAAqB9D,IAArB,CAA0B,IAA1B,CAAzC;CACA;;CAED,QAAI,KAAKsD,mBAAT,EAA8B;CAC7BrD,MAAAA,eAAK,CAACD,IAAN,CAAW,KAAKsD,mBAAhB,EAAqC,OAArC,EAA8C,KAAKS,eAAL,CAAqB/D,IAArB,CAA0B,IAA1B,CAA9C;CACA;;CAED,QAAI,KAAKP,cAAT,EACA;CACCQ,MAAAA,eAAK,CAACD,IAAN,CAAW,KAAKP,cAAhB,EAAgC,OAAhC,EAAyC,UAASiB,KAAT,EACzC;CACC,aAAKC,WAAL,CAAiBD,KAAjB;CACA,OAHwC,CAGvCV,IAHuC,CAGlC,IAHkC,CAAzC;CAIA;;CAED,QAAI,KAAKoD,aAAL,IAAsB,KAAKnG,YAA/B,EACA;CACCgD,MAAAA,eAAK,CAACD,IAAN,CAAW,KAAKoD,aAAhB,EAA+B,OAA/B,EAAwC,UAAS1C,KAAT,EACxC;CACC,aAAKsD,WAAL,CAAiBtD,KAAjB;CACA,OAHuC,CAGtCV,IAHsC,CAGjC,IAHiC,CAAxC;CAIA;;CAED,QAAI,KAAK/C,YAAT,EACA;CACCgD,MAAAA,eAAK,CAACD,IAAN,CAAW,KAAK/C,YAAhB,EAA8B,OAA9B,EAAuCiD,iBAAO,CAACC,QAAR,CAAiB,UAASO,KAAT,EACxD;CACC,aAAKX,aAAL,CAAmBW,KAAnB;CACA,OAHuD,CAGtDV,IAHsD,CAGjD,IAHiD,CAAjB,EAGzB,GAHyB,EAGpB,IAHoB,CAAvC;CAIA;CACD;CAED;CACD;CACA;;;CA9DA;CAAA;CAAA,oCAgEC;CACC,UAAI,KAAK/C,YAAL,CAAkBsD,KAAlB,KAA4B,EAAhC,EACA;CACC,aAAKZ,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,gCAAf,CAArB;CACA;CACA;;CAED,WAAKiB,MAAL,CAAY2C,UAAZ,CAAuB,EAAvB;CACA;CAED;CACD;CACA;;CA5EA;CAAA;CAAA,sCA8EC;CACC,WAAKqB,UAAL,CAAgBM,MAAhB;CACA;CAED;CACD;CACA;;CApFA;CAAA;CAAA,sCAsFC;CACC,WAAKZ,eAAL,CAAqBlF,KAArB,CAA2B+F,MAA3B,GAAoC,KAAKb,eAAL,CAAqBc,QAArB,CAA8B,CAA9B,EAAiCC,YAAjC,GAAgD,IAApF;CACA,WAAKd,mBAAL,CAAyBe,SAAzB,CAAmCC,GAAnC,CAAuC,yCAAvC;CACA;CAED;CACD;CACA;;CA7FA;CAAA;CAAA,gCA8Fa5D,KA9Fb,EA+FC;CACC,UAAI3C,aAAG,CAACe,QAAJ,CAAa,KAAKW,cAAlB,EAAkC,KAAKnC,OAAL,CAAawC,MAA/C,CAAJ,EACA;CACCY,QAAAA,KAAK,CAACG,cAAN;CACA;CACA;;CAED,WAAK0D,eAAL;;CAEA,UAAI,KAAK5E,MAAL,CAAYqB,aAAZ,EAAJ,EACA;CACCN,QAAAA,KAAK,CAACG,cAAN;CACA,OAHD,MAIK,IAAI,KAAK0C,WAAL,IAAoB,KAAKC,mBAA7B,EACL;CACC,aAAKA,mBAAL;CACA9C,QAAAA,KAAK,CAACG,cAAN;CACA,OAJI,MAML;CACC9C,QAAAA,aAAG,CAACkB,QAAJ,CAAa,KAAKQ,cAAlB,EAAkC,KAAKnC,OAAL,CAAawC,MAA/C;CACA;CACD;CAED;CACD;CACA;CACA;;CA1HA;CAAA;CAAA,oCA2HiBT,UA3HjB,EA4HC;CACC,WAAKpC,YAAL,CAAkBsD,KAAlB,GAA0BlB,UAA1B;CACA,WAAKM,MAAL,CAAY2C,UAAZ,CACC7D,aAAG,CAACC,UAAJ,CAAe,8BAAf,CADD;CAGA;CAED;CACD;CACA;CACA;;CAtIA;CAAA;CAAA,gCAuIa8F,OAvIb,EAwIC;CAAA;;CACC,UAAI,CAAC,KAAKnB,eAAV,EACA;CACC;CACA;;CAED,UAAI,KAAKC,mBAAT,EACA;CACC,YAAIkB,OAAO,CAACnG,MAAR,GAAiB,KAAKuF,mBAA1B,EACA;CACC7F,UAAAA,aAAG,CAACC,IAAJ,CAAS,KAAKsF,mBAAd;CACA,eAAKA,mBAAL,CAAyBe,SAAzB,CAAmCJ,MAAnC,CAA0C,yCAA1C;CACA,SAJD,MAMA;CACClG,UAAAA,aAAG,CAACG,IAAJ,CAAS,KAAKoF,mBAAd;CACA;CACD;;CAED,UAAIkB,OAAO,CAACnG,MAAZ,EACA;CACCN,QAAAA,aAAG,CAACC,IAAJ,CAAS,KAAKqF,eAAL,CAAqBzF,UAA9B;CACA,OAHD,MAKA;CACCG,QAAAA,aAAG,CAACG,IAAJ,CAAS,KAAKmF,eAAL,CAAqBzF,UAA9B;CACA;;CAED,UAAIuG,QAAQ,GAAG,EAAf;;CAEA,WAAK,IAAIM,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGF,OAAO,CAACnG,MAA5B,EAAoCoG,CAAC,GAAGC,CAAxC,EAA2CD,CAAC,EAA5C,EACA;CACCN,QAAAA,QAAQ,CAACQ,IAAT,CACC5G,aAAG,CAAC6G,MAAJ,CACC,KADD,EAEC;CACCC,UAAAA,KAAK,EAAE;CACNC,YAAAA,SAAS,EAAE;CADL,WADR;CAICX,UAAAA,QAAQ,EAAE,CACTpG,aAAG,CAAC6G,MAAJ,CACC,OADD,EAEC;CACCC,YAAAA,KAAK,EAAE;CACNC,cAAAA,SAAS,EAAE;CADL,aADR;CAICC,YAAAA,KAAK,EAAE;CACNC,cAAAA,IAAI,EAAE,qBADA;CAENC,cAAAA,EAAE,EAAE,yBAAyBR,CAFvB;CAGN5C,cAAAA,IAAI,EAAE;CAHA,aAJR;CASCqD,YAAAA,MAAM,EAAE;CACPC,cAAAA,KAAK,EAAE,eAAAV,CAAC,EAAI;CACX,gBAAA,KAAI,CAACW,eAAL,CAAqBZ,OAAO,CAACC,CAAD,CAA5B;CACA;CAHM;CATT,WAFD,CADS,EAmBT1G,aAAG,CAAC6G,MAAJ,CACC,OADD,EAEC;CACCC,YAAAA,KAAK,EAAE;CACNC,cAAAA,SAAS,EAAE;CADL,aADR;CAICC,YAAAA,KAAK,EAAE;CACN,qBAAK,yBAAyBN;CADxB,aAJR;CAOCY,YAAAA,IAAI,EAAEb,OAAO,CAACC,CAAD;CAPd,WAFD,CAnBS;CAJX,SAFD,CADD;CA0CA;;CAED,WAAKpB,eAAL,CAAqB7E,SAArB,GAAiC,EAAjC;CACA,WAAK6E,eAAL,CAAqBiC,WAArB,CAAiCvH,aAAG,CAAC6G,MAAJ,CAChC,KADgC,EAEhC;CACCC,QAAAA,KAAK,EAAE;CACNC,UAAAA,SAAS,EAAE;CADL,SADR;CAICX,QAAAA,QAAQ,EAAEA;CAJX,OAFgC,CAAjC;;CAUA,UAAI,KAAKb,mBAAL,CAAyBnF,KAAzB,CAA+BC,OAA/B,KAA2C,MAA/C,EACA;CACC,aAAKiF,eAAL,CAAqBlF,KAArB,CAA2B+F,MAA3B,GAAoC,KAAKb,eAAL,CAAqBc,QAArB,CAA8B,CAA9B,EAAiCC,YAAjC,GAAgD,IAApF;CACA,OAHD,MAKA;CACC,aAAKf,eAAL,CAAqBlF,KAArB,CAA2B+F,MAA3B,GAAoC,KAAK,IAAzC;CACA;CACD;CAED;CACD;CACA;;CA3OA;CAAA;CAAA,sCA6OC;CACC,WAAKjH,YAAL,CAAkBsD,KAAlB,GACCF,cAAI,CAACC,QAAL,CAAc,KAAKrD,YAAL,CAAkBsD,KAAhC,IACG,KAAKtD,YAAL,CAAkBsD,KAAlB,CAAwBC,IAAxB,EADH,GAEG,KAAKvD,YAAL,CAAkBsD,KAHtB;CAKA,UAAMwC,QAAQ,GAAGwC,MAAM,CAAC,kBAAmB,KAAK3F,GAAxB,GAA+B,GAAhC,CAAvB;;CAEA,UAAI,KAAK3C,YAAL,CAAkBsD,KAAlB,KAA4B,EAAhC,EACA;CACC,aAAKZ,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,gCAAf,CAArB;CACA,OAHD,MAIK,IAAI,CAACqE,QAAQ,CAACyC,IAAT,CAAc,KAAKvI,YAAL,CAAkBsD,KAAlB,CAAwBV,WAAxB,EAAd,CAAL,EACL;CACC,aAAKF,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,gCAAf,CAArB;CACA,OAHI,MAIA,IACJ,KAAKzB,YAAL,CAAkBsD,KAAlB,CAAwBkF,OAAxB,CAAgC,IAAhC,MAA0C,CAAC,CAA3C,IACA,KAAKxI,YAAL,CAAkBsD,KAAlB,CAAwBkF,OAAxB,CAAgC,IAAhC,MAA0C,CAAC,CAD3C,IAEA,KAAKxI,YAAL,CAAkBsD,KAAlB,CAAwBkF,OAAxB,CAAgC,GAAhC,MAAyC,CAHrC,EAKL;CACC,aAAK9F,MAAL,CAAYoB,QAAZ,CAAqBtC,aAAG,CAACC,UAAJ,CAAe,qCAAf,CAArB;CACA;CACD;CAED;CACD;CACA;;CAzQA;CAAA;CAAA,gCA0QagC,KA1Qb,EA2QC;CACCA,MAAAA,KAAK,CAACG,cAAN;;CAEA,UAAI,KAAKlB,MAAL,CAAY+F,cAAZ,EAAJ,EACA;CACC;CACA;;CAED,WAAKnB,eAAL;;CACA,UAAI,KAAK5E,MAAL,CAAYqB,aAAZ,EAAJ,EACA;CACC;CACA;;CAED,WAAKrB,MAAL,CAAYsB,UAAZ;CACA,WAAK0E,WAAL,CAAiB,EAAjB;CAEAzE,MAAAA,EAAE,CAACC,IAAH,CAAQ;CACPC,QAAAA,GAAG,EAAE,qDADE;CAEPC,QAAAA,MAAM,EAAE,MAFD;CAGPC,QAAAA,IAAI,EAAE;CACLA,UAAAA,IAAI,EAAE;CACLjC,YAAAA,UAAU,EAAE,KAAKpC,YAAL,CAAkBsD,KADzB;CAELX,YAAAA,GAAG,EAAE,KAAKA;CAFL,WADD;CAKL6B,UAAAA,MAAM,EAAEhD,aAAG,CAACC,UAAJ,CAAe,eAAf;CALH,SAHC;CAUPgD,QAAAA,QAAQ,EAAE,MAVH;CAWPC,QAAAA,SAAS,EAAE,UAAUL,IAAV,EACX;CACC,eAAK3B,MAAL,CAAYiC,UAAZ;;CACA,cAAIN,IAAI,CAACO,IAAL,KAAc,SAAlB,EACA;CACC,gBAAMC,MAAM,GAAGR,IAAI,CAACQ,MAApB;;CACA,gBAAI,CAACA,MAAM,CAAC8D,MAAZ,EACA;CACC,kBAAI9D,MAAM,CAAC0C,OAAX,EACA;CACC,qBAAKmB,WAAL,CAAiB7D,MAAM,CAAC0C,OAAxB;CACA;;CACD,mBAAK7E,MAAL,CAAYoB,QAAZ,CACCtC,aAAG,CAACC,UAAJ,CAAe,gCAAf,CADD;CAGA,aATD,MAWA;CACC,mBAAKiB,MAAL,CAAY2C,UAAZ,CACC7D,aAAG,CAACC,UAAJ,CAAe,8BAAf,CADD;CAGA;CACD;CACD,SAvBU,CAuBTsB,IAvBS,CAuBJ,IAvBI;CAXJ,OAAR;CAoCA;CAhUF;CAAA;CAAA;;CCHA;;;;;;;;;;;;"}