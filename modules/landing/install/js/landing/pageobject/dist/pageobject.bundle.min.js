this.BX=this.BX||{};(function(e,n){"use strict";var t=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"store",{})}babelHelpers.createClass(e,[{key:"top",value:function n(){var t=this;return new Promise(function(n,r){if(!t.store.topPanel){t.store.topPanel=e.getTopPanel()}if(t.store.topPanel){n(t.store.topPanel);return}r(new Error("Top panel unavailable"));console.warn("Top panel unavailable")})}},{key:"design",value:function e(){return Promise.resolve(BX.Landing.UI.Panel.StylePanel.getInstance())}},{key:"content",value:function e(){return Promise.resolve(BX.Landing.UI.Panel.ContentEdit.getInstance())}},{key:"inlineEditor",value:function e(){return Promise.resolve(BX.Landing.UI.Panel.EditorPanel.getInstance())}},{key:"view",value:function n(){var t=this;return new Promise(function(n,r){if(!t.store.view){var o=e.getRootWindow();t.store.view=o.document.querySelector(".landing-ui-view")}if(t.store.view){n(t.store.view);return}r(new Error("View iframe unavailable"));console.warn("View iframe unavailable")})}},{key:"blocks",value:function n(){return Promise.resolve(e.getRootWindow().BX.Landing.Block.storage)}}],[{key:"getInstance",value:function t(){if(n.Type.isNil(e.instance)){e.instance=new e}return e.instance}},{key:"getRootWindow",value:function e(){return this.cache.remember("rootWindow",function(){if(document.body.querySelector(".landing-ui-view")){return window}if(window.parent.document.body.querySelector(".landing-ui-view")){return window.parent}return window.top})}},{key:"getEditorWindow",value:function e(){var n=this;return this.cache.remember("editorWindow",function(){var e=n.getRootWindow();var t=e.document;var r=t.querySelector(".landing-ui-view");if(r&&r.contentWindow){return r.contentWindow}return null})}},{key:"getTopPanel",value:function e(){var n=this;return this.cache.remember("topPanel",function(){return n.getRootWindow().document.querySelector(".landing-ui-panel-top")})}},{key:"getBlocks",value:function e(){return this.getRootWindow().BX.Landing.Block.storage}}]);return e}();babelHelpers.defineProperty(t,"cache",new n.Cache.MemoryCache);babelHelpers.defineProperty(t,"instance",null);e.PageObject=t})(this.BX.Landing=this.BX.Landing||{},BX);
//# sourceMappingURL=pageobject.bundle.map.js