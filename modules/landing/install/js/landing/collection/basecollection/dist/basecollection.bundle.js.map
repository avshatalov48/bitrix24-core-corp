{"version":3,"file":"basecollection.bundle.js","sources":["../src/basecollection.js"],"sourcesContent":["import {Type} from 'main.core';\n\n/**\n * @memberOf BX.Landing.Collection\n */\nexport class BaseCollection extends Array\n{\n\tadd(value: any)\n\t{\n\t\tif (!this.includes(value))\n\t\t{\n\t\t\tthis.push(value);\n\t\t}\n\t}\n\n\tremove(value: any)\n\t{\n\t\tconst index = this.getIndex(value);\n\t\tif (index > -1)\n\t\t{\n\t\t\tthis.splice(index, 1);\n\t\t}\n\t}\n\n\tgetIndex(value: any): number\n\t{\n\t\treturn this.indexOf(value);\n\t}\n\n\t/**\n\t * @deprecated\n\t * @see this.includes()\n\t */\n\tcontains(value: any): boolean\n\t{\n\t\treturn this.includes(value);\n\t}\n\n\tisChanged(): boolean\n\t{\n\t\treturn this.some((item) => item.isChanged());\n\t}\n\n\tfetchValues(): {[key: string]: any}\n\t{\n\t\treturn this.reduce((acc, item) => {\n\t\t\tif (!item.selector.startsWith('-1'))\n\t\t\t{\n\t\t\t\tif (Type.isFunction(item.getAttrValue))\n\t\t\t\t{\n\t\t\t\t\tacc[item.selector] = item.getAttrValue();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tacc[item.selector] = item.getValue();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {});\n\t}\n\n\tfetchAdditionalValues(): {[key: string]: any}\n\t{\n\t\treturn this.reduce((acc, item) => {\n\t\t\tif (!item.selector.startsWith('-1') && item.getAdditionalValue)\n\t\t\t{\n\t\t\t\tconst values = item.getAdditionalValue();\n\t\t\t\tif (!Type.isNil(values))\n\t\t\t\t{\n\t\t\t\t\tacc[item.selector] = values;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {});\n\t}\n\n\tfetchChanges(): BaseCollection\n\t{\n\t\treturn this.filter((item) => {\n\t\t\treturn 'isChanged' in item && 'getValue' in item && item.isChanged();\n\t\t});\n\t}\n\n\tclear()\n\t{\n\t\tthis.splice(0, this.length);\n\t}\n\n\ttoArray(): Array<any>\n\t{\n\t\treturn [...this];\n\t}\n\n\tget(id: any): any\n\t{\n\t\treturn this.find((item) => `${item.id}` === `${id}`);\n\t}\n\n\tgetByLayout(layout: HTMLElement): any\n\t{\n\t\treturn this.find((item) => {\n\t\t\treturn Type.isObject(item) && item.layout === layout;\n\t\t});\n\t}\n}"],"names":["BaseCollection","value","includes","push","index","getIndex","splice","indexOf","some","item","isChanged","reduce","acc","selector","startsWith","Type","isFunction","getAttrValue","getValue","getAdditionalValue","values","isNil","filter","length","id","find","layout","isObject","Array"],"mappings":"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"}