{"version":3,"sources":["image-compressor.js"],"names":["global","factory","exports","module","define","amd","self","Compressor","this","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","_extends","assign","arguments","source","hasOwnProperty","call","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","createCommonjsModule","fn","canvasToBlob","window","CanvasPrototype","HTMLCanvasElement","hasBlobConstructor","Blob","Boolean","e","hasArrayBufferViewSupport","Uint8Array","size","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURIPattern","dataURLtoBlob","atob","ArrayBuffer","dataURI","matches","mediaType","isBase64","dataString","byteString","arrayBuffer","intArray","bb","match","Error","slice","decodeURIComponent","charCodeAt","type","append","getBlob","toBlob","mozGetAsFile","callback","quality","setTimeout","toDataURL","isBlob","input","toString","DEFAULTS","strict","checkOrientation","maxWidth","Infinity","maxHeight","minWidth","minHeight","width","undefined","height","mimeType","convertSize","beforeDraw","drew","success","error","IN_BROWSER","WINDOW","Array","toArray","from","REGEXP_IMAGE_TYPE","isImageType","test","imageTypeToExtension","extension","substr","fromCharCode","String","getStringFromCharCode","dataView","start","str","getUint8","btoa","arrayBufferToDataURL","chunks","chunkSize","uint8","push","subarray","join","resetAndGetOrientation","DataView","orientation","littleEndian","app1Start","ifdStart","byteLength","offset","exifIDCode","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_length","_offset","setUint16","parseOrientation","rotate","scaleX","scaleY","REGEXP_DECIMALS","normalizeDecimalNumber","times","Math","round","ArrayBuffer$1","FileReader","URL","webkitURL","REGEXP_EXTENSION","AnotherCompressor","file","options","image","Image","aborted","result","init","_this","fail","load","url","createObjectURL","reader","onload","_ref","data","onabort","onerror","onloadend","readAsArrayBuffer","readAsDataURL","_this2","draw","naturalWidth","naturalHeight","alt","name","src","_ref2","_this3","_ref2$rotate","_ref2$scaleX","_ref2$scaleY","canvas","document","createElement","context","getContext","aspectRatio","is90DegreesRotated","abs","max","_ref3","_ref4","_ref5","floor","min","destX","destY","destWidth","destHeight","_ref6","fillStyle","fillRect","save","translate","PI","scale","drawImage","restore","done","_ref7","revokeObjectURL","date","Date","lastModified","getTime","lastModifiedDate","replace","err","abort","complete","noConflict","setDefaults"],"mappings":"CAUC,SAAUA,EAAQC,UACXC,UAAY,iBAAmBC,SAAW,YAAcA,OAAOD,QAAUD,WACxEG,SAAW,YAAcA,OAAOC,IAAMD,OAAOH,IAClDD,EAASA,GAAUM,KAAMN,EAAOO,WAAaN,MAHjD,CAIEO,KAAM,WAAc,aAErB,SAASC,EAAgBC,EAAUC,GAClC,KAAMD,aAAoBC,GAAc,CACvC,MAAM,IAAIC,UAAU,sCAItB,SAASC,EAAkBC,EAAQC,GAClC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACtC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,YAAc,MACjDD,EAAWE,aAAe,KAC1B,GAAI,UAAWF,EAAYA,EAAWG,SAAW,KACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAIhD,SAASO,EAAad,EAAae,EAAYC,GAC9C,GAAID,EAAYb,EAAkBF,EAAYiB,UAAWF,GACzD,GAAIC,EAAad,EAAkBF,EAAagB,GAChD,OAAOhB,EAGR,SAASkB,EAAgBC,EAAKN,EAAKO,GAClC,GAAIP,KAAOM,EAAK,CACfR,OAAOC,eAAeO,EAAKN,GAC1BO,MAAOA,EACPZ,WAAY,KACZC,aAAc,KACdC,SAAU,WAEL,CACNS,EAAIN,GAAOO,EAGZ,OAAOD,EAGR,SAASE,IACRA,EAAWV,OAAOW,QAAU,SAAUnB,GACrC,IAAK,IAAIE,EAAI,EAAGA,EAAIkB,UAAUjB,OAAQD,IAAK,CAC1C,IAAImB,EAASD,UAAUlB,GAEvB,IAAK,IAAIQ,KAAOW,EAAQ,CACvB,GAAIb,OAAOM,UAAUQ,eAAeC,KAAKF,EAAQX,GAAM,CACtDV,EAAOU,GAAOW,EAAOX,KAKxB,OAAOV,GAGR,OAAOkB,EAASM,MAAM9B,KAAM0B,WAG7B,SAASK,EAAczB,GACtB,IAAK,IAAIE,EAAI,EAAGA,EAAIkB,UAAUjB,OAAQD,IAAK,CAC1C,IAAImB,EAASD,UAAUlB,IAAM,KAAOkB,UAAUlB,MAC9C,IAAIwB,EAAUlB,OAAOmB,KAAKN,GAE1B,UAAWb,OAAOoB,wBAA0B,WAAY,CACvDF,EAAUA,EAAQG,OAAOrB,OAAOoB,sBAAsBP,GAAQS,OAAO,SAAUC,GAC9E,OAAOvB,OAAOwB,yBAAyBX,EAAQU,GAAK1B,cAItDqB,EAAQO,QAAQ,SAAUvB,GACzBK,EAAgBf,EAAQU,EAAKW,EAAOX,MAItC,OAAOV,EAGR,SAASkC,EAAqBC,EAAI9C,GACjC,OAAOA,GAAWD,YAAe+C,EAAG9C,EAAQA,EAAOD,SAAUC,EAAOD,QAGrE,IAAIgD,EAAeF,EAAqB,SAAU7C,GACjD,UAAWgD,SAAW,YAAa,CAClC,QAGD,SAAWA,GAEV,IAAIC,EAAkBD,EAAOE,mBAAqBF,EAAOE,kBAAkBzB,UAE3E,IAAI0B,EAAqBH,EAAOI,MAAQ,WACvC,IACC,OAAOC,QAAQ,IAAID,MAClB,MAAOE,GACR,OAAO,OAJ+B,GAQxC,IAAIC,EAA4BJ,GAAsBH,EAAOQ,YAAc,WAC1E,IACC,OAAO,IAAIJ,MAAM,IAAII,WAAW,OAAOC,OAAS,IAC/C,MAAOH,GACR,OAAO,OAJkE,GAQ3E,IAAII,EAAcV,EAAOU,aAAeV,EAAOW,mBAAqBX,EAAOY,gBAAkBZ,EAAOa,cACpG,IAAIC,EAAiB,0CAErB,IAAIC,GAAiBZ,GAAsBO,IAAgBV,EAAOgB,MAAQhB,EAAOiB,aAAejB,EAAOQ,YAAc,SAAUU,GAC9H,IAAIC,EAASC,EAAWC,EAAUC,EAAYC,EAAYC,EAAaC,EAAU5D,EAAG6D,EAEpFP,EAAUD,EAAQS,MAAMb,GAExB,IAAKK,EAAS,CACb,MAAM,IAAIS,MAAM,oBAIjBR,EAAYD,EAAQ,GAAKA,EAAQ,GAAK,cAAgBA,EAAQ,IAAM,qBACpEE,IAAaF,EAAQ,GACrBG,EAAaJ,EAAQW,MAAMV,EAAQ,GAAGrD,QAEtC,GAAIuD,EAAU,CAEbE,EAAaP,KAAKM,OACZ,CAENC,EAAaO,mBAAmBR,GAIjCE,EAAc,IAAIP,YAAYM,EAAWzD,QACzC2D,EAAW,IAAIjB,WAAWgB,GAE1B,IAAK3D,EAAI,EAAGA,EAAI0D,EAAWzD,OAAQD,GAAK,EAAG,CAC1C4D,EAAS5D,GAAK0D,EAAWQ,WAAWlE,GAIrC,GAAIsC,EAAoB,CACvB,OAAO,IAAIC,MAAMG,EAA4BkB,EAAWD,IACvDQ,KAAMZ,IAIRM,EAAK,IAAIhB,EACTgB,EAAGO,OAAOT,GACV,OAAOE,EAAGQ,QAAQd,IAGnB,GAAIpB,EAAOE,oBAAsBD,EAAgBkC,OAAQ,CACxD,GAAIlC,EAAgBmC,aAAc,CACjCnC,EAAgBkC,OAAS,SAAUE,EAAUL,EAAMM,GAClD,IAAInF,EAAOE,KACXkF,WAAW,WACV,GAAID,GAAWrC,EAAgBuC,WAAazB,EAAe,CAC1DsB,EAAStB,EAAc5D,EAAKqF,UAAUR,EAAMM,SACtC,CACND,EAASlF,EAAKiF,aAAa,OAAQJ,aAIhC,GAAI/B,EAAgBuC,WAAazB,EAAe,CACtDd,EAAgBkC,OAAS,SAAUE,EAAUL,EAAMM,GAClD,IAAInF,EAAOE,KACXkF,WAAW,WACVF,EAAStB,EAAc5D,EAAKqF,UAAUR,EAAMM,SAMhD,GAAItF,EAAOD,QAAS,CACnBC,EAAOD,QAAUgE,MACX,CACNf,EAAOe,cAAgBA,IA1FzB,CA4FGf,UAGJ,IAAIyC,EAAS,SAASA,EAAOC,GAC5B,UAAWtC,OAAS,YAAa,CAChC,OAAO,MAGR,OAAOsC,aAAiBtC,MAAQjC,OAAOM,UAAUkE,SAASzD,KAAKwD,KAAW,iBAG3E,IAAIE,GAMHC,OAAQ,KAORC,iBAAkB,KAMlBC,SAAUC,SAMVC,UAAWD,SAMXE,SAAU,EAMVC,UAAW,EAOXC,MAAOC,UAOPC,OAAQD,UASRf,QAAS,GAOTiB,SAAU,OAOVC,YAAa,IAYbC,WAAY,KAYZC,KAAM,KAWNC,QAAS,KAWTC,MAAO,MAGR,IAAIC,SAAoB7D,SAAW,YACnC,IAAI8D,EAASD,EAAa7D,UAE1B,IAAI6B,EAAQkC,MAAMtF,UAAUoD,MAO5B,SAASmC,EAAQpF,GAChB,OAAOmF,MAAME,KAAOF,MAAME,KAAKrF,GAASiD,EAAM3C,KAAKN,GAEpD,IAAIsF,EAAoB,cAOxB,SAASC,EAAYvF,GACpB,OAAOsF,EAAkBE,KAAKxF,GAQ/B,SAASyF,EAAqBzF,GAC7B,IAAI0F,EAAYH,EAAYvF,GAASA,EAAM2F,OAAO,GAAK,GAEvD,GAAID,IAAc,OAAQ,CACzBA,EAAY,MAGb,MAAO,IAAI9E,OAAO8E,GAEnB,IAAIE,EAAeC,OAAOD,aAS1B,SAASE,EAAsBC,EAAUC,EAAO9G,GAC/C,IAAI+G,EAAM,GACV,IAAIhH,EACJC,GAAU8G,EAEV,IAAK/G,EAAI+G,EAAO/G,EAAIC,EAAQD,GAAK,EAAG,CACnCgH,GAAOL,EAAaG,EAASG,SAASjH,IAGvC,OAAOgH,EAER,IAAIE,EAAOjB,EAAOiB,KAQlB,SAASC,EAAqBxD,EAAa+B,GAC1C,IAAI0B,KACJ,IAAIC,EAAY,KAChB,IAAIC,EAAQ,IAAI3E,WAAWgB,GAE3B,MAAO2D,EAAMrH,OAAS,EAAG,CAGxBmH,EAAOG,KAAKZ,EAAarF,MAAM,KAAM6E,EAAQmB,EAAME,SAAS,EAAGH,MAC/DC,EAAQA,EAAME,SAASH,GAGxB,MAAO,QAAQ1F,OAAO+D,EAAU,YAAY/D,OAAOuF,EAAKE,EAAOK,KAAK,MAQrE,SAASC,EAAuB/D,GAC/B,IAAImD,EAAW,IAAIa,SAAShE,GAC5B,IAAIiE,EAEJ,IACC,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EAEJ,GAAIjB,EAASG,SAAS,KAAO,KAAQH,EAASG,SAAS,KAAO,IAAM,CACnE,IAAIhH,EAAS6G,EAASkB,WACtB,IAAIC,EAAS,EAEb,MAAOA,EAAS,EAAIhI,EAAQ,CAC3B,GAAI6G,EAASG,SAASgB,KAAY,KAAQnB,EAASG,SAASgB,EAAS,KAAO,IAAM,CACjFH,EAAYG,EACZ,MAGDA,GAAU,GAIZ,GAAIH,EAAW,CACd,IAAII,EAAaJ,EAAY,EAC7B,IAAIK,EAAaL,EAAY,GAE7B,GAAIjB,EAAsBC,EAAUoB,EAAY,KAAO,OAAQ,CAC9D,IAAIE,EAAatB,EAASuB,UAAUF,GACpCN,EAAeO,IAAe,MAE9B,GAAIP,GAAgBO,IAAe,MAEjC,CACD,GAAItB,EAASuB,UAAUF,EAAa,EAAGN,KAAkB,GAAQ,CAChE,IAAIS,EAAiBxB,EAASyB,UAAUJ,EAAa,EAAGN,GAExD,GAAIS,GAAkB,EAAY,CACjCP,EAAWI,EAAaG,MAO7B,GAAIP,EAAU,CACb,IAAIS,EAAU1B,EAASuB,UAAUN,EAAUF,GAE3C,IAAIY,EAEJ,IAAIzI,EAEJ,IAAKA,EAAI,EAAGA,EAAIwI,EAASxI,GAAK,EAAG,CAChCyI,EAAUV,EAAW/H,EAAI,GAAK,EAE9B,GAAI8G,EAASuB,UAAUI,EAASZ,KAAkB,IAEhD,CAEDY,GAAW,EAEXb,EAAcd,EAASuB,UAAUI,EAASZ,GAE1Cf,EAAS4B,UAAUD,EAAS,EAAGZ,GAC/B,SAIF,MAAOpF,GACRmF,EAAc,EAGf,OAAOA,EAQR,SAASe,EAAiBf,GACzB,IAAIgB,EAAS,EACb,IAAIC,EAAS,EACb,IAAIC,EAAS,EAEb,OAAQlB,GAEP,KAAK,EACJiB,GAAU,EACV,MAGD,KAAK,EACJD,GAAU,IACV,MAGD,KAAK,EACJE,GAAU,EACV,MAGD,KAAK,EACJF,EAAS,GACTE,GAAU,EACV,MAGD,KAAK,EACJF,EAAS,GACT,MAGD,KAAK,EACJA,EAAS,GACTC,GAAU,EACV,MAGD,KAAK,EACJD,GAAU,GACV,MAED,SAGD,OACCA,OAAQA,EACRC,OAAQA,EACRC,OAAQA,GAGV,IAAIC,EAAkB,uBAStB,SAASC,EAAuBjI,GAC/B,IAAIkI,EAAQ/H,UAAUjB,OAAS,GAAKiB,UAAU,KAAOsE,UAAYtE,UAAU,GAAK,KAChF,OAAO6H,EAAgBxC,KAAKxF,GAASmI,KAAKC,MAAMpI,EAAQkI,GAASA,EAAQlI,EAG1E,IAAIqI,EAAgBnD,EAAO7C,YAC1BiG,EAAapD,EAAOoD,WACrB,IAAIC,EAAMrD,EAAOqD,KAAOrD,EAAOsD,UAC/B,IAAIC,EAAmB,SACvB,IAAIC,EAAoBxD,EAAO1G,WAM/B,IAAIA,EAEH,WAMC,SAASA,EAAWmK,EAAMC,GACzBlK,EAAgBD,KAAMD,GAEtBC,KAAKkK,KAAOA,EACZlK,KAAKoK,MAAQ,IAAIC,MACjBrK,KAAKmK,QAAUpI,KAAkBwD,EAAU4E,GAC3CnK,KAAKsK,QAAU,MACftK,KAAKuK,OAAS,KACdvK,KAAKwK,OAGNvJ,EAAalB,IACZiB,IAAK,OACLO,MAAO,SAASiJ,IACf,IAAIC,EAAQzK,KAEZ,IAAIkK,EAAOlK,KAAKkK,KACfC,EAAUnK,KAAKmK,QAEhB,IAAK/E,EAAO8E,GAAO,CAClBlK,KAAK0K,KAAK,IAAInG,MAAM,sDACpB,OAGD,IAAI2B,EAAWgE,EAAKvF,KAEpB,IAAKmC,EAAYZ,GAAW,CAC3BlG,KAAK0K,KAAK,IAAInG,MAAM,6DACpB,OAGD,IAAKuF,IAAQD,EAAY,CACxB7J,KAAK0K,KAAK,IAAInG,MAAM,4DACpB,OAGD,IAAKqF,EAAe,CACnBO,EAAQ1E,iBAAmB,MAG5B,GAAIqE,IAAQK,EAAQ1E,iBAAkB,CACrCzF,KAAK2K,MACJC,IAAKd,EAAIe,gBAAgBX,SAEpB,CACN,IAAIY,EAAS,IAAIjB,EACjB,IAAIpE,EAAmB0E,EAAQ1E,kBAAoBS,IAAa,aAChElG,KAAK8K,OAASA,EAEdA,EAAOC,OAAS,SAAUC,GACzB,IAAI1K,EAAS0K,EAAK1K,OAClB,IAAIiK,EAASjK,EAAOiK,OACpB,IAAIU,KAEJ,GAAIxF,EAAkB,CAGrB,IAAI2C,EAAcF,EAAuBqC,GAEzC,GAAInC,EAAc,IAAM0B,EAAK,CAE5BmB,EAAKL,IAAMjD,EAAqB4C,EAAQrE,GAExC,GAAIkC,EAAc,EAAG,CACpB5G,EAASyJ,EAAM9B,EAAiBf,SAE3B,CACN6C,EAAKL,IAAMd,EAAIe,gBAAgBX,QAE1B,CACNe,EAAKL,IAAML,EAGZE,EAAME,KAAKM,IAGZH,EAAOI,QAAU,WAChBT,EAAMC,KAAK,IAAInG,MAAM,gDAGtBuG,EAAOK,QAAU,WAChBV,EAAMC,KAAK,IAAInG,MAAM,+CAGtBuG,EAAOM,UAAY,WAClBX,EAAMK,OAAS,MAGhB,GAAIrF,EAAkB,CACrBqF,EAAOO,kBAAkBnB,OACnB,CACNY,EAAOQ,cAAcpB,QAKxBlJ,IAAK,OACLO,MAAO,SAASoJ,EAAKM,GACpB,IAAIM,EAASvL,KAEb,IAAIkK,EAAOlK,KAAKkK,KACfE,EAAQpK,KAAKoK,MAEdA,EAAMW,OAAS,WACdQ,EAAOC,KAAKzJ,KAAkBkJ,GAC7BQ,aAAcrB,EAAMqB,aACpBC,cAAetB,EAAMsB,kBAIvBtB,EAAMc,QAAU,WACfK,EAAOb,KAAK,IAAInG,MAAM,gCAGvB6F,EAAMe,QAAU,WACfI,EAAOb,KAAK,IAAInG,MAAM,+BAGvB6F,EAAMuB,IAAMzB,EAAK0B,KACjBxB,EAAMyB,IAAMZ,EAAKL,OAGlB5J,IAAK,OACLO,MAAO,SAASiK,EAAKM,GACpB,IAAIC,EAAS/L,KAEb,IAAIyL,EAAeK,EAAML,aACxBC,EAAgBI,EAAMJ,cACtBM,EAAeF,EAAM1C,OACrBA,EAAS4C,SAAsB,EAAI,EAAIA,EACvCC,EAAeH,EAAMzC,OACrBA,EAAS4C,SAAsB,EAAI,EAAIA,EACvCC,EAAeJ,EAAMxC,OACrBA,EAAS4C,SAAsB,EAAI,EAAIA,EACxC,IAAIhC,EAAOlK,KAAKkK,KACfE,EAAQpK,KAAKoK,MACbD,EAAUnK,KAAKmK,QAChB,IAAIgC,EAASC,SAASC,cAAc,UACpC,IAAIC,EAAUH,EAAOI,WAAW,MAChC,IAAIC,EAAcf,EAAeC,EACjC,IAAIe,EAAqB/C,KAAKgD,IAAItD,GAAU,MAAQ,GACpD,IAAI1D,EAAWgE,KAAKiD,IAAIxC,EAAQzE,SAAU,IAAMC,SAChD,IAAIC,EAAY8D,KAAKiD,IAAIxC,EAAQvE,UAAW,IAAMD,SAClD,IAAIE,EAAW6D,KAAKiD,IAAIxC,EAAQtE,SAAU,IAAM,EAChD,IAAIC,EAAY4D,KAAKiD,IAAIxC,EAAQrE,UAAW,IAAM,EAClD,IAAIC,EAAQ2D,KAAKiD,IAAIxC,EAAQpE,MAAO,IAAM0F,EAC1C,IAAIxF,EAASyD,KAAKiD,IAAIxC,EAAQlE,OAAQ,IAAMyF,EAE5C,GAAIe,EAAoB,CACvB,IAAIG,GAAShH,EAAWF,GACxBA,EAAWkH,EAAM,GACjBhH,EAAYgH,EAAM,GAClB,IAAIC,GAAS/G,EAAWD,GACxBA,EAAWgH,EAAM,GACjB/G,EAAY+G,EAAM,GAClB,IAAIC,GAAS7G,EAAQF,GACrBA,EAAQ+G,EAAM,GACd7G,EAAS6G,EAAM,GAGhB,GAAIpH,EAAWC,UAAYC,EAAYD,SAAU,CAChD,GAAIC,EAAY4G,EAAc9G,EAAU,CACvCE,EAAYF,EAAW8G,MACjB,CACN9G,EAAWE,EAAY4G,QAElB,GAAI9G,EAAWC,SAAU,CAC/BC,EAAYF,EAAW8G,OACjB,GAAI5G,EAAYD,SAAU,CAChCD,EAAWE,EAAY4G,EAGxB,GAAI3G,EAAW,GAAKC,EAAY,EAAG,CAClC,GAAIA,EAAY0G,EAAc3G,EAAU,CACvCC,EAAYD,EAAW2G,MACjB,CACN3G,EAAWC,EAAY0G,QAElB,GAAI3G,EAAW,EAAG,CACxBC,EAAYD,EAAW2G,OACjB,GAAI1G,EAAY,EAAG,CACzBD,EAAWC,EAAY0G,EAGxB,GAAIvG,EAASuG,EAAczG,EAAO,CACjCE,EAASF,EAAQyG,MACX,CACNzG,EAAQE,EAASuG,EAGlBzG,EAAQ2D,KAAKqD,MAAMvD,EAAuBE,KAAKsD,IAAItD,KAAKiD,IAAI5G,EAAOF,GAAWH,KAC9EO,EAASyD,KAAKqD,MAAMvD,EAAuBE,KAAKsD,IAAItD,KAAKiD,IAAI1G,EAAQH,GAAYF,KACjF,IAAIqH,GAASlH,EAAQ,EACrB,IAAImH,GAASjH,EAAS,EACtB,IAAIkH,EAAYpH,EAChB,IAAIqH,EAAanH,EAEjB,GAAIwG,EAAoB,CACvB,IAAIY,GAASpH,EAAQF,GACrBA,EAAQsH,EAAM,GACdpH,EAASoH,EAAM,GAGhBlB,EAAOpG,MAAQA,EACfoG,EAAOlG,OAASA,EAEhB,IAAKa,EAAYqD,EAAQjE,UAAW,CACnCiE,EAAQjE,SAAWgE,EAAKvF,KAGzB,IAAI2I,EAAY,cAEhB,GAAIpD,EAAK9G,KAAO+G,EAAQhE,aAAegE,EAAQjE,WAAa,YAAa,CACxEoH,EAAY,OACZnD,EAAQjE,SAAW,aAIpBoG,EAAQgB,UAAYA,EACpBhB,EAAQiB,SAAS,EAAG,EAAGxH,EAAOE,GAE9B,GAAIkE,EAAQ/D,WAAY,CACvB+D,EAAQ/D,WAAWvE,KAAK7B,KAAMsM,EAASH,GAGxC,GAAInM,KAAKsK,QAAS,CACjB,OAGDgC,EAAQkB,OACRlB,EAAQmB,UAAU1H,EAAQ,EAAGE,EAAS,GACtCqG,EAAQlD,OAAOA,EAASM,KAAKgE,GAAK,KAClCpB,EAAQqB,MAAMtE,EAAQC,GACtBgD,EAAQsB,UAAUxD,EAAO6C,EAAOC,EAAOC,EAAWC,GAClDd,EAAQuB,UAER,GAAI1D,EAAQ9D,KAAM,CACjB8D,EAAQ9D,KAAKxE,KAAK7B,KAAMsM,EAASH,GAGlC,GAAInM,KAAKsK,QAAS,CACjB,OAGD,IAAIwD,EAAO,SAASA,EAAKvD,GACxB,IAAKwB,EAAOzB,QAAS,CACpByB,EAAO+B,MACNrC,aAAcA,EACdC,cAAeA,EACfnB,OAAQA,MAKX,GAAI4B,EAAOrH,OAAQ,CAClBqH,EAAOrH,OAAOgJ,EAAM3D,EAAQjE,SAAUiE,EAAQlF,aACxC,CACN6I,EAAKpL,EAAayJ,EAAOhH,UAAUgF,EAAQjE,SAAUiE,EAAQlF,eAI/DjE,IAAK,OACLO,MAAO,SAASuM,EAAKC,GACpB,IAAItC,EAAesC,EAAMtC,aACxBC,EAAgBqC,EAAMrC,cACtBnB,EAASwD,EAAMxD,OAChB,IAAIL,EAAOlK,KAAKkK,KACfE,EAAQpK,KAAKoK,MACbD,EAAUnK,KAAKmK,QAEhB,GAAIL,IAAQK,EAAQ1E,iBAAkB,CACrCqE,EAAIkE,gBAAgB5D,EAAMyB,KAG3B,GAAItB,EAAQ,CAEX,GAAIJ,EAAQ3E,QAAU+E,EAAOnH,KAAO8G,EAAK9G,MAAQ+G,EAAQjE,WAAagE,EAAKvF,QAAUwF,EAAQpE,MAAQ0F,GAAgBtB,EAAQlE,OAASyF,GAAiBvB,EAAQtE,SAAW4F,GAAgBtB,EAAQrE,UAAY4F,GAAgB,CAC7NnB,EAASL,MACH,CACN,IAAI+D,EAAO,IAAIC,KACf3D,EAAO4D,aAAeF,EAAKG,UAC3B7D,EAAO8D,iBAAmBJ,EAC1B1D,EAAOqB,KAAO1B,EAAK0B,KAEnB,GAAIrB,EAAOqB,MAAQrB,EAAO5F,OAASuF,EAAKvF,KAAM,CAC7C4F,EAAOqB,KAAOrB,EAAOqB,KAAK0C,QAAQtE,EAAkBhD,EAAqBuD,EAAO5F,aAG5E,CAEN4F,EAASL,EAGVlK,KAAKuK,OAASA,EAEd,GAAIJ,EAAQ7D,QAAS,CACpB6D,EAAQ7D,QAAQzE,KAAK7B,KAAMuK,OAI7BvJ,IAAK,OACLO,MAAO,SAASmJ,EAAK6D,GACpB,IAAIpE,EAAUnK,KAAKmK,QAEnB,GAAIA,EAAQ5D,MAAO,CAClB4D,EAAQ5D,MAAM1E,KAAK7B,KAAMuO,OACnB,CACN,MAAMA,MAIRvN,IAAK,QACLO,MAAO,SAASiN,IACf,IAAKxO,KAAKsK,QAAS,CAClBtK,KAAKsK,QAAU,KAEf,GAAItK,KAAK8K,OAAQ,CAChB9K,KAAK8K,OAAO0D,aACN,IAAKxO,KAAKoK,MAAMqE,SAAU,CAChCzO,KAAKoK,MAAMW,OAAS,KACpB/K,KAAKoK,MAAMc,cACL,CACNlL,KAAK0K,KAAK,IAAInG,MAAM,qDAUvBvD,IAAK,aACLO,MAAO,SAASmN,IACf/L,OAAO5C,WAAakK,EACpB,OAAOlK,KAQRiB,IAAK,cACLO,MAAO,SAASoN,EAAYxE,GAC3B3I,EAAS+D,EAAU4E,OAIrB,OAAOpK,EAnWR,GAsWD,OAAOA","file":"image-compressor.map.js"}