(function(){"use strict";BX.namespace("BX.Landing.MediaService");BX.Landing.MediaService.Youtube=function(e,i){BX.Landing.MediaService.BaseMediaService.apply(this,arguments);this.matcher=BX.Landing.Utils.Matchers.youtube;this.embedURL="//www.youtube.com/embed/$6";this.previewURL="//img.youtube.com/vi/$6/sddefault.jpg";this.loadEmbedInfo();this.idPlace=6;this.params={autoplay:0,controls:1,loop:0,mute:0,rel:0,start:0,html5:1}};BX.Landing.MediaService.Youtube.validate=function(e){return BX.Landing.Utils.Matchers.youtube.test(e)};BX.Landing.MediaService.Youtube.prototype={constructor:BX.Landing.MediaService.Youtube,__proto__:BX.Landing.MediaService.BaseMediaService.prototype,getSettingsForm:function(){if(!this.form){this.form=new BX.Landing.UI.Form.BaseForm;var e=this.getSettings();this.form.addField(new BX.Landing.UI.Field.Dropdown({title:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_AUTOPLAY"),description:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_AUTOPLAY_DESC_NEW"),selector:"autoplay",content:!this.isBgVideoMode?parseInt(e.autoplay):1,items:[{name:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_YES"),value:1},{name:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_NO"),value:0}],onChange:!this.isBgVideoMode?n:()=>{},disabled:this.isBgVideoMode}));function n(e){if(e===1){i.setValue(1);i.disable();if(!i.descriptionText){i.setDescription(BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_SOUND_ALERT"))}}else if(e===0){i.removeDescription();i.enable();i.setValue(0)}}var i=new BX.Landing.UI.Field.Dropdown({title:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_SOUND"),selector:"mute",content:!this.isBgVideoMode?parseInt(e.mute):1,items:[{name:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_YES"),value:0},{name:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_NO"),value:1}],disabled:this.isBgVideoMode});this.form.addField(i);this.form.addField(new BX.Landing.UI.Field.Dropdown({title:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_CONTROLS"),selector:"controls",content:!this.isBgVideoMode?parseInt(e.controls):0,items:[{name:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_YES"),value:1},{name:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_NO"),value:0}],disabled:this.isBgVideoMode}));this.form.addField(new BX.Landing.UI.Field.Dropdown({title:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_LOOP"),selector:"loop",content:!this.isBgVideoMode?parseInt(e.loop):1,items:[{name:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_YES"),value:1},{name:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_NO"),value:0}],disabled:this.isBgVideoMode}));var t=new BX.Landing.UI.Field.Unit({title:BX.Landing.Loc.getMessage("LANDING_CONTENT_URL_MEDIA_START"),selector:"start",unit:BX.Landing.Loc.getMessage("LANDING_CONTENT_MEDIA_SECONDS_SHORT"),content:parseInt(e.start),placeholder:"40"});this.form.addField(t);if(!this.isBgVideoMode){n(parseInt(e.autoplay))}}return this.form},loadEmbedInfo:function(){const e="https://www.youtube.com/oembed?format=json&url="+this.url;BX.ajax({url:e,method:"GET",dataType:"json",onsuccess:e=>{if(e.height&&e.width&&e.height>e.width){this.isVertical=true}if(e.thumbnail_url){this.previewURL=e.thumbnail_url}}})}}})();
//# sourceMappingURL=youtube_mediaservice.map.js