{"version":3,"file":"tableeditor.bundle.js","sources":["../src/tableeditor.js"],"sourcesContent":["import './css/style.css';\nimport { Draggable } from 'ui.draganddrop.draggable';\nimport { Event } from 'main.core';\n\nexport default class TableEditor\n{\n\tconstructor(node: HTMLElement)\n\t{\n\t\tthis.table = node.querySelector('.landing-table');\n\t\tif (!this.table)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.node = node;\n\t\tthis.tBody = this.node.getElementsByTagName('tbody')[0];\n\t\tthis.addTitles(this.node);\n\t\tthis.enableEditCells(this.table);\n\t\tthis.dragAndDropRows(this);\n\t\tthis.dragAndDropCols(this);\n\t\tthis.resizeColumn(this);\n\t\tthis.buildLines(this);\n\t\tthis.addRow(this);\n\t\tthis.addCol(this);\n\t\tthis.onUnselect(this);\n\t\tthis.unselect(this);\n\t\tthis.selectAll(this);\n\t\tthis.selectRow(this);\n\t\tthis.selectCol(this);\n\t\tthis.onCopyTable(this);\n\t\tthis.onDeleteElementTable(this);\n\t\tthis.onShowPopupMenu(this);\n\t}\n\n\taddTitles(tableNode)\n\t{\n\t\tif (!tableNode.hasAttribute('title-added'))\n\t\t{\n\t\t\ttableNode.title = '';\n\t\t\ttableNode.querySelector('.landing-table-th-select-all').title = BX.Landing.Utils.escapeText(\n\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_SELECT_TABLE\")\n\t\t\t);\n\t\t\ttableNode.querySelectorAll('.landing-table-div-col-dnd').forEach(function(element) {\n\t\t\t\telement.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_DND_COLS\")\n\t\t\t\t);\n\t\t\t})\n\t\t\ttableNode.querySelectorAll('.landing-table-col-resize').forEach(function(element) {\n\t\t\t\telement.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_RESIZE_COLS\")\n\t\t\t\t);\n\t\t\t})\n\t\t\ttableNode.querySelectorAll('.landing-table-col-add').forEach(function(element) {\n\t\t\t\telement.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_BUTTON_ADD_COL\")\n\t\t\t\t);\n\t\t\t})\n\t\t\ttableNode.querySelectorAll('.landing-table-row-dnd').forEach(function(element) {\n\t\t\t\telement.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_DND_ROWS\")\n\t\t\t\t);\n\t\t\t})\n\t\t\ttableNode.querySelectorAll('.landing-table-row-add').forEach(function(element) {\n\t\t\t\telement.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_BUTTON_ADD_ROW\")\n\t\t\t\t);\n\t\t\t})\n\t\t\ttableNode.querySelectorAll('.landing-table-td').forEach(function(element) {\n\t\t\t\telement.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_BUTTON_CHANGE_TEXT\")\n\t\t\t\t);\n\t\t\t})\n\t\t\ttableNode.setAttribute('title-added', 'true');\n\t\t}\n\t}\n\n\tunselect(tableEditor, isSelectAll = false)\n\t{\n\t\tif (tableEditor.table)\n\t\t{\n\t\t\tif (!isSelectAll)\n\t\t\t{\n\t\t\t\ttableEditor.table.classList.remove('table-selected-all');\n\t\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-th-select-all-selected');\n\t\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-cell-selected');\n\t\t\t}\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-row-selected');\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-th-selected');\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-th-selected-cell');\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-th-selected-top');\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-th-selected-x');\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-tr-selected-left');\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-tr-selected-y');\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-col-selected');\n\t\t\tthis.removeClasses(tableEditor.table, 'landing-table-tr-selected');\n\t\t\tthis.removeClasses(tableEditor.table, 'table-selected-all-right');\n\t\t\tthis.removeClasses(tableEditor.table, 'table-selected-all-bottom');\n\t\t}\n\t}\n\n\tonUnselect(tableEditor)\n\t{\n\t\tEvent.bind(tableEditor.table, 'click', () => {\n\t\t\tconst classList = ['landing-table-th-select-all', 'landing-table-row-dnd', 'landing-table-row-add'];\n\t\t\tlet isContains = [...event.target.classList].some(className => classList.includes(className));\n\t\t\tif (!isContains)\n\t\t\t{\n\t\t\t\tconst classListChild = ['landing-table-col-dnd'];\n\t\t\t\tisContains = [...event.target.parentElement.classList].some(className => classListChild.includes(className));\n\t\t\t\tif (!isContains)\n\t\t\t\t{\n\t\t\t\t\ttableEditor.unselect(tableEditor);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tselectAll(tableEditor)\n\t{\n\t\tconst thTech = tableEditor.table.querySelector('.landing-table-th-select-all');\n\t\tEvent.bind(thTech, 'click', () => {\n\t\t\tlet isSelectedTable = false;\n\t\t\tif (tableEditor.table.classList.contains('table-selected-all'))\n\t\t\t{\n\t\t\t\tisSelectedTable = true;\n\t\t\t}\n\t\t\ttableEditor.unselect(tableEditor, true);\n\t\t\tconst setRows = tableEditor.table.querySelectorAll('.landing-table-tr');\n\t\t\tlet count = 0;\n\t\t\tsetRows.forEach(function(row){\n\t\t\t\tconst setTh = row.childNodes;\n\t\t\t\tlet index = 0;\n\t\t\t\tlet lastThIndex = 0;\n\t\t\t\trow.childNodes.forEach(function(cell) {\n\t\t\t\t\tif (cell.nodeType === 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tlastThIndex = index;\n\t\t\t\t\t}\n\t\t\t\t\tindex++;\n\t\t\t\t})\n\t\t\t\tif (count > 0)\n\t\t\t\t{\n\t\t\t\t\tlet lastTh = setTh[lastThIndex];\n\t\t\t\t\tif (isSelectedTable)\n\t\t\t\t\t{\n\t\t\t\t\t\tlastTh.classList.remove('table-selected-all-right');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlastTh.classList.add('table-selected-all-right');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcount++;\n\t\t\t\tif (count === setRows.length)\n\t\t\t\t{\n\t\t\t\t\tsetTh.forEach(function(th) {\n\t\t\t\t\t\tif (th.nodeType === 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (isSelectedTable)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tth.classList.remove('table-selected-all-bottom');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tth.classList.add('table-selected-all-bottom');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\tthTech.classList.toggle('landing-table-th-select-all-selected');\n\t\t\ttableEditor.table.classList.toggle('table-selected-all');\n\t\t\ttableEditor.table.querySelectorAll('.landing-table-col-dnd').forEach(function(thDnd){\n\t\t\t\tthDnd.classList.toggle('landing-table-cell-selected');\n\t\t\t})\n\t\t\ttableEditor.table.querySelectorAll('.landing-table-row-dnd').forEach(function(trDnd){\n\t\t\t\ttrDnd.classList.toggle('landing-table-cell-selected');\n\t\t\t})\n\t\t});\n\t}\n\n\tselectRow(tableEditor, neededPosition = null)\n\t{\n\t\tlet setTrDnd = tableEditor.table.querySelectorAll('.landing-table-row-dnd');\n\t\tif (neededPosition !== null)\n\t\t{\n\t\t\tlet newSetTrDnd = [];\n\t\t\tnewSetTrDnd[0] = setTrDnd[neededPosition];\n\t\t\tsetTrDnd = newSetTrDnd;\n\t\t}\n\t\tsetTrDnd.forEach(function(trDnd){\n\t\t\tEvent.bind(trDnd, 'click', () => {\n\t\t\t\tif (!event.target.classList.contains('landing-table-row-add'))\n\t\t\t\t{\n\t\t\t\t\ttableEditor.unselect(tableEditor);\n\t\t\t\t\tlet setTh = trDnd.parentElement.childNodes;\n\t\t\t\t\tlet count = 0;\n\t\t\t\t\tsetTh.forEach(function(th){\n\t\t\t\t\t\tif (th.nodeType === 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (count === 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tth.classList.add('landing-table-tr-selected-left');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (count >= 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tth.classList.add('landing-table-tr-selected-y');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\ttrDnd.parentElement.classList.add('landing-table-row-selected');\n\t\t\t\t\ttableEditor.tBody.classList.add('landing-table-tr-selected');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tselectCol(tableEditor, neededPosition = null)\n\t{\n\t\tlet setThDnd = tableEditor.table.querySelectorAll('.landing-table-col-dnd');\n\t\tif (neededPosition !== null)\n\t\t{\n\t\t\tlet newSetTrDnd = [];\n\t\t\tnewSetTrDnd[0] = setThDnd[neededPosition];\n\t\t\tsetThDnd = newSetTrDnd;\n\t\t}\n\t\tsetThDnd.forEach(function(thDnd){\n\t\t\tEvent.bind(thDnd, 'click', () => {\n\t\t\t\tif (!event.target.classList.contains('landing-table-col-add')\n\t\t\t\t\t&& !event.target.classList.contains('landing-table-col-resize'))\n\t\t\t\t{\n\t\t\t\t\ttableEditor.unselect(tableEditor);\n\t\t\t\t\tconst cellIndex = thDnd.cellIndex;\n\t\t\t\t\tlet count = 0;\n\t\t\t\t\ttableEditor.tBody.childNodes.forEach(function(tr) {\n\t\t\t\t\t\tif (tr.nodeType === 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet countNode = 0;\n\t\t\t\t\t\t\tlet nodeCount = 0;\n\t\t\t\t\t\t\tlet needNodePosition = 0;\n\t\t\t\t\t\t\ttr.childNodes.forEach(function(trChild) {\n\t\t\t\t\t\t\t\tif (trChild.nodeType === 1)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (cellIndex === nodeCount)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tneedNodePosition = countNode;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tnodeCount++\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcountNode++;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tif (count === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttr.classList.add('landing-table-col-selected');\n\t\t\t\t\t\t\t\ttr.childNodes[needNodePosition].classList.add('landing-table-th-selected-cell');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (count === 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttr.childNodes[needNodePosition].classList.add('landing-table-th-selected-top');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (count >= 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttr.childNodes[needNodePosition].classList.add('landing-table-th-selected-x');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\ttr.childNodes[needNodePosition].classList.add('landing-table-th-selected');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t}\n\n\tbuildLines(tableEditor)\n\t{\n\t\tif (tableEditor.node)\n\t\t{\n\t\t\tconst width = tableEditor.node.querySelector('.landing-table').getBoundingClientRect().width;\n\t\t\tconst height = tableEditor.node.querySelector('.landing-table').getBoundingClientRect().height;\n\t\t\tconst offset = 5;\n\t\t\tconst linesX = document.querySelectorAll('.landing-table-row-add-line');\n\t\t\tlinesX.forEach(function(lineX) {\n\t\t\t\tlineX.style.width = width + offset + \"px\";\n\t\t\t});\n\t\t\tconst linesY = document.querySelectorAll('.landing-table-col-add-line');\n\t\t\tlinesY.forEach(function(lineY) {\n\t\t\t\tlineY.style.height = height + offset + \"px\";\n\t\t\t});\n\t\t}\n\t}\n\n\tgetButtonsAddRow(node)\n\t{\n\t\treturn node.querySelectorAll('.landing-table-row-add');\n\t}\n\n\taddRow(tableEditor, neededPosition = null)\n\t{\n\t\tlet buttons = tableEditor.getButtonsAddRow(tableEditor.node);\n\t\tif (neededPosition !== null)\n\t\t{\n\t\t\tlet button = buttons[neededPosition];\n\t\t\tbuttons = [];\n\t\t\tbuttons[0] = button;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbuttons = Array.prototype.slice.call(buttons,0);\n\t\t}\n\t\tbuttons = Array.prototype.slice.call(buttons,0);\n\t\tbuttons.forEach(function(button){\n\t\t\tEvent.bind(button, 'click', () => {\n\t\t\t\tconst selectedCell = tableEditor.table.querySelector('.landing-table-th-selected-cell');\n\t\t\t\tlet selectedCellPos = 0;\n\t\t\t\tlet nodeCount = 0;\n\t\t\t\tif (selectedCell)\n\t\t\t\t{\n\t\t\t\t\tselectedCell.parentNode.childNodes.forEach(function(node) {\n\t\t\t\t\t\tif (selectedCellPos === 0 && node === selectedCell)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tselectedCellPos = nodeCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (node.nodeType === 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnodeCount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tconst trDnd = document.createElement('th');\n\t\t\t\ttrDnd.classList.add('landing-table-th', 'landing-table-row-dnd');\n\t\t\t\tif (tableEditor.table.classList.contains('table-selected-all'))\n\t\t\t\t{\n\t\t\t\t\ttrDnd.classList.add('landing-table-cell-selected');\n\t\t\t\t}\n\t\t\t\tconst row = button.parentNode.parentNode;\n\t\t\t\tlet neededPosition = [...row.parentNode.children].indexOf(button.parentNode.parentNode)\n\t\t\t\tlet count = 0;\n\t\t\t\tlet lastElementPosition = 0;\n\t\t\t\ttableEditor.tBody.childNodes.forEach(function(element) {\n\t\t\t\t\tif (element.nodeType === 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tlastElementPosition = count;\n\t\t\t\t\t}\n\t\t\t\t\tcount++;\n\t\t\t\t})\n\t\t\t\tconst tr = tableEditor.tBody.childNodes[lastElementPosition];\n\t\t\t\tconst newTd = document.createElement('td');\n\t\t\t\tnewTd.classList.add('landing-table-th', 'landing-table-td');\n\t\t\t\tnewTd.style.width = '50px';\n\t\t\t\tconst table = tableEditor.node.querySelector('.landing-table');\n\t\t\t\tif (table.hasAttribute('bg-color'))\n\t\t\t\t{\n\t\t\t\t\tnewTd.style.backgroundColor = table.getAttribute('bg-color');\n\t\t\t\t}\n\t\t\t\tif (table.hasAttribute('text-color'))\n\t\t\t\t{\n\t\t\t\t\tnewTd.style.color = table.getAttribute('text-color');\n\t\t\t\t}\n\t\t\t\tconst newTr = document.createElement('tr');\n\t\t\t\tnewTr.classList.add('landing-table-tr');\n\t\t\t\ttrDnd.title = BX.Landing.Utils.escapeText(BX.Landing.Loc.getMessage(\"LANDING_TABLE_DND_ROWS\"));\n\t\t\t\ttrDnd.style.width = '16px';\n\t\t\t\tconst divAddRow = document.createElement('div');\n\t\t\t\tdivAddRow.classList.add('landing-table-row-add');\n\t\t\t\tdivAddRow.title = BX.Landing.Utils.escapeText(BX.Landing.Loc.getMessage(\"LANDING_TABLE_BUTTON_ADD_COL\"));\n\t\t\t\tconst divLineX = document.createElement('div');\n\t\t\t\tdivLineX.classList.add('landing-table-row-add-line');\n\t\t\t\tconst divRowDnd = document.createElement('div');\n\t\t\t\tdivRowDnd.classList.add('landing-table-div-row-dnd');\n\t\t\t\tdivAddRow.appendChild(divLineX);\n\t\t\t\ttrDnd.appendChild(divAddRow);\n\t\t\t\ttrDnd.appendChild(divRowDnd);\n\t\t\t\tif (tr)\n\t\t\t\t{\n\t\t\t\t\tconst count = tr.children.length;\n\t\t\t\t\tlet setTd = [];\n\t\t\t\t\tbutton.parentNode.parentNode.childNodes.forEach(function(item) {\n\t\t\t\t\t\tif (item.nodeType == 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsetTd.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tfor (let i = 0; i < count; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet newTdCloned = newTd.cloneNode(true);\n\t\t\t\t\t\tif (i === selectedCellPos)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewTdCloned.classList.add('landing-table-th-selected', 'landing-table-th-selected-x');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i === 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewTr.appendChild(trDnd);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewTdCloned.style.width = setTd[i].style.width;\n\t\t\t\t\t\t\tnewTdCloned.style.height = setTd[i].style.height;\n\t\t\t\t\t\t\tnewTr.appendChild(newTdCloned);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbutton.parentNode.parentNode.parentNode.insertBefore(newTr, button.parentNode.parentNode.nextSibling);\n\t\t\t\ttableEditor.buildLines(tableEditor);\n\t\t\t\ttableEditor.enableEditCells(tableEditor.node);\n\t\t\t\tBX.Landing.Block.Node.Text.currentNode.onChange(true);\n\t\t\t\ttableEditor.selectRow(tableEditor, neededPosition);\n\t\t\t\ttableEditor.addRow(tableEditor, neededPosition);\n\t\t\t\ttableEditor.unselect(tableEditor);\n\t\t\t\tBX.Landing.UI.Panel.EditorPanel.getInstance().hide();\n\t\t\t});\n\t\t})\n\t}\n\n\tgetButtonsAddCol(node)\n\t{\n\t\treturn node.querySelectorAll('.landing-table-col-add');\n\t}\n\n\taddCol(tableEditor, neededPosition = null)\n\t{\n\t\tlet buttons = tableEditor.getButtonsAddCol(tableEditor.node);\n\t\tif (neededPosition !== null)\n\t\t{\n\t\t\tconst button = buttons[neededPosition];\n\t\t\tbuttons = [];\n\t\t\tbuttons[0] = button;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbuttons = Array.prototype.slice.call(buttons,0);\n\t\t}\n\t\tbuttons.forEach(function(button){\n\t\t\tEvent.bind(button, 'click', () => {\n\t\t\t\tconst selectedRow = tableEditor.table.querySelector('.landing-table-row-selected');\n\t\t\t\tlet selectedRowPos = 0;\n\t\t\t\tlet countNode = 0;\n\t\t\t\tif (selectedRow)\n\t\t\t\t{\n\t\t\t\t\tselectedRow.parentNode.childNodes.forEach(function(node) {\n\t\t\t\t\t\tif (node === selectedRow && selectedRowPos === 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tselectedRowPos = countNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (node.nodeType === 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcountNode++;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tlet newThFirst;\n\t\t\t\tlet newThFirstCloned;\n\t\t\t\tnewThFirst = document.createElement('th');\n\t\t\t\tnewThFirst.classList.add('landing-table-th', 'landing-table-col-dnd');\n\t\t\t\tnewThFirst.style.width = '50px';\n\t\t\t\tif (tableEditor.table.classList.contains('table-selected-all'))\n\t\t\t\t{\n\t\t\t\t\tnewThFirst.classList.add('landing-table-cell-selected');\n\t\t\t\t}\n\t\t\t\tlet row = button.parentNode.parentNode;\n\t\t\t\tlet neededPosition = [...row.children].indexOf(button.parentNode)\n\t\t\t\tif (tableEditor.tBody.childNodes.length > 0)\n\t\t\t\t{\n\t\t\t\t\tlet count = 0;\n\t\t\t\t\ttableEditor.tBody.childNodes.forEach(function(element) {\n\t\t\t\t\t\tif (element.nodeType === 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewThFirstCloned = newThFirst.cloneNode(true);\n\t\t\t\t\t\t\tconst divColumnDnd = document.createElement('div');\n\t\t\t\t\t\t\tdivColumnDnd.classList.add('landing-table-div-col-dnd');\n\t\t\t\t\t\t\tdivColumnDnd.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_DND_COLS\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst divColumnResize = document.createElement('div');\n\t\t\t\t\t\t\tdivColumnResize.classList.add('landing-table-col-resize');\n\t\t\t\t\t\t\tdivColumnResize.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_RESIZE_COLS\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst divAddColHere = document.createElement('div');\n\t\t\t\t\t\t\tdivAddColHere.classList.add('landing-table-col-add');\n\t\t\t\t\t\t\tdivAddColHere.title = BX.Landing.Utils.escapeText(\n\t\t\t\t\t\t\t\tBX.Landing.Loc.getMessage(\"LANDING_TABLE_BUTTON_ADD_COL\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst divLineY = document.createElement('div');\n\t\t\t\t\t\t\tdivLineY.classList.add('landing-table-col-add-line');\n\t\t\t\t\t\t\tdivAddColHere.appendChild(divLineY);\n\t\t\t\t\t\t\tnewThFirstCloned.appendChild(divColumnDnd);\n\t\t\t\t\t\t\tnewThFirstCloned.appendChild(divColumnResize);\n\t\t\t\t\t\t\tnewThFirstCloned.appendChild(divAddColHere);\n\t\t\t\t\t\t\tconst newTd = document.createElement('td');\n\t\t\t\t\t\t\tnewTd.classList.add('landing-table-th', 'landing-table-td');\n\t\t\t\t\t\t\tnewTd.style.width = '50px';\n\t\t\t\t\t\t\tlet table = tableEditor.node.querySelector('.landing-table');\n\t\t\t\t\t\t\tif (table.hasAttribute('bg-color'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnewTd.style.backgroundColor = table.getAttribute('bg-color');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (table.hasAttribute('text-color'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnewTd.style.color = table.getAttribute('text-color');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (selectedRowPos > 0 && selectedRowPos === count)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnewTd.classList.add('landing-table-tr-selected-y');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet countChild = 0;\n\t\t\t\t\t\t\tlet countNodes = 0;\n\t\t\t\t\t\t\tlet newNeededPosition = 0;\n\t\t\t\t\t\t\telement.childNodes.forEach(function(node) {\n\t\t\t\t\t\t\t\tif (node.nodeType === 1)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (countNodes === neededPosition)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tnewNeededPosition = countChild;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcountNodes++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcountChild++;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tif (count === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\telement.childNodes[newNeededPosition].parentNode.insertBefore(\n\t\t\t\t\t\t\t\t\tnewThFirstCloned,\n\t\t\t\t\t\t\t\t\telement.childNodes[newNeededPosition].nextSibling\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\telement.childNodes[newNeededPosition].parentNode.insertBefore(\n\t\t\t\t\t\t\t\t\tnewTd,\n\t\t\t\t\t\t\t\t\telement.childNodes[newNeededPosition].nextSibling\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\ttableEditor.buildLines(tableEditor);\n\t\t\t\ttableEditor.enableEditCells(tableEditor.node);\n\t\t\t\tBX.Landing.Block.Node.Text.currentNode.onChange(true);\n\t\t\t\ttableEditor.selectCol(tableEditor, neededPosition);\n\t\t\t\ttableEditor.addCol(tableEditor, neededPosition);\n\t\t\t\ttableEditor.unselect(tableEditor);\n\t\t\t\tBX.Landing.UI.Panel.EditorPanel.getInstance().hide();\n\t\t\t});\n\t\t})\n\t}\n\n\tdragAndDropRows(tableEditor)\n\t{\n\t\tthis.draggableRows = new Draggable({\n\t\t\tcontainer: tableEditor.tBody,\n\t\t\tdraggable: '.landing-table-tr',\n\t\t\tdragElement: '.landing-table-row-dnd',\n\t\t\ttype: Draggable.HEADLESS,\n\t\t});\n\n\t\tlet rows = [];\n\t\tlet setRowPositionsY;\n\t\tlet setRowHeights;\n\t\tlet currentPositionRow;\n\t\tlet newPositionRow = 0;\n\t\tlet draggableRowOffsetY;\n\t\tlet tablePositionLeft;\n\t\tlet tablePositionTop;\n\t\tlet currentPositionRowX;\n\t\tlet currentPositionRowY;\n\t\tlet cloneRow;\n\t\tlet originalSource;\n\n\t\tthis.draggableRows\n\t\t\t.subscribe('start', (event) => {\n\t\t\t\toriginalSource = this.draggableRows.dragStartEvent.data.originalSource;\n\t\t\t\ttablePositionLeft = tableEditor.tBody.getBoundingClientRect().left;\n\t\t\t\ttablePositionTop = tableEditor.tBody.getBoundingClientRect().top;\n\t\t\t\tsetRowPositionsY = [];\n\t\t\t\tsetRowHeights = [];\n\t\t\t\tdraggableRowOffsetY = 0;\n\t\t\t\tcurrentPositionRow = event.getData().sourceIndex;\n\t\t\t\trows = tableEditor.tBody.querySelectorAll('.landing-table-tr');\n\t\t\t\trows.forEach(function(row) {\n\t\t\t\t\tsetRowPositionsY.push(row.getBoundingClientRect().y);\n\t\t\t\t\tsetRowHeights.push(row.getBoundingClientRect().height);\n\t\t\t\t});\n\t\t\t\tcurrentPositionRowX = rows[currentPositionRow].getBoundingClientRect().x;\n\t\t\t\tcurrentPositionRowY = rows[currentPositionRow].getBoundingClientRect().y;\n\t\t\t\tcloneRow = document.createElement('tr');\n\t\t\t\tcloneRow.classList.add('landing-table-tr-draggable');\n\t\t\t\trows[currentPositionRow].childNodes.forEach(function(node) {\n\t\t\t\t\tcloneRow.append(node.cloneNode(true));\n\t\t\t\t})\n\t\t\t\tif (rows[currentPositionRow].classList.contains('landing-table-row-selected'))\n\t\t\t\t{\n\t\t\t\t\tcloneRow.classList.add('landing-table-row-selected');\n\t\t\t\t}\n\t\t\t\tlet indexFirstNode;\n\t\t\t\tlet count = 0;\n\t\t\t\twhile (!indexFirstNode)\n\t\t\t\t{\n\t\t\t\t\tif (rows[currentPositionRow].childNodes[count].nodeType === 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tindexFirstNode = count;\n\t\t\t\t\t}\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tcloneRow.childNodes[indexFirstNode].style.borderRadius = getComputedStyle(rows[currentPositionRow].childNodes[indexFirstNode]).borderRadius;\n\t\t\t})\n\t\t\t.subscribe('move', (event) => {\n\t\t\t\tif (!originalSource.classList.contains('landing-table-row-add'))\n\t\t\t\t{\n\t\t\t\t\ttableEditor.tBody.classList.add(\"landing-table-draggable\");\n\t\t\t\t\trows[currentPositionRow].classList.add('landing-table-tr-taken');\n\t\t\t\t\tdraggableRowOffsetY = event.getData().offsetY;\n\t\t\t\t\ttableEditor.tBody.append(cloneRow);\n\t\t\t\t\tcloneRow.style.position = `absolute`;\n\t\t\t\t\tcloneRow.style.top = currentPositionRowY - tablePositionTop + draggableRowOffsetY - 0.5 + 'px';\n\t\t\t\t\tcloneRow.style.left = currentPositionRowX - tablePositionLeft - 0.5 + 'px';\n\t\t\t\t\tif (draggableRowOffsetY > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tcloneRow.style.transform = 'rotate(-1deg)';\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tcloneRow.style.transform = 'rotate(1deg)';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.subscribe('end', () => {\n\t\t\t\tcloneRow.remove();\n\t\t\t\trows[currentPositionRow].classList.remove('landing-table-tr-taken');\n\t\t\t\trows[currentPositionRow].style = '';\n\t\t\t\tconst newDraggableRowPositionY = currentPositionRowY + draggableRowOffsetY;\n\t\t\t\tconst newDraggableRowPositionBottomY = newDraggableRowPositionY + rows[currentPositionRow].getBoundingClientRect().height;\n\t\t\t\tif (draggableRowOffsetY < 0)\n\t\t\t\t{\n\t\t\t\t\tfor (let i = 0; i < setRowPositionsY.length; i++) {\n\t\t\t\t\t\tlet transitivePositionY = setRowPositionsY[i];\n\t\t\t\t\t\tif (i === currentPositionRow)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttransitivePositionY = setRowPositionsY[i] - (setRowHeights[i - 1] / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (newDraggableRowPositionY >= transitivePositionY)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewPositionRow = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (draggableRowOffsetY === 0)\n\t\t\t\t{\n\t\t\t\t\tnewPositionRow = currentPositionRow;\n\t\t\t\t}\n\t\t\t\tif (draggableRowOffsetY > 0)\n\t\t\t\t{\n\t\t\t\t\tfor (let i = 0; i < setRowPositionsY.length; i++) {\n\t\t\t\t\t\tlet transitivePositionY = setRowPositionsY[i] + (setRowHeights[i] / 2);\n\t\t\t\t\t\tif (i === currentPositionRow)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttransitivePositionY = setRowPositionsY[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (newDraggableRowPositionBottomY >= transitivePositionY)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewPositionRow = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//draggable row can only be in the 1 position, 0 position for technical row\n\t\t\t\tif (newPositionRow === 0)\n\t\t\t\t{\n\t\t\t\t\tnewPositionRow++;\n\t\t\t\t}\n\t\t\t\t//need to move\n\t\t\t\tif (currentPositionRow !== newPositionRow)\n\t\t\t\t{\n\t\t\t\t\tlet referenceNode = null;\n\t\t\t\t\tlet referenceNodeNext = null;\n\t\t\t\t\tif (rows[newPositionRow])\n\t\t\t\t\t{\n\t\t\t\t\t\treferenceNode = rows[newPositionRow];\n\t\t\t\t\t\treferenceNodeNext = referenceNode.nextSibling;\n\t\t\t\t\t\twhile(referenceNodeNext && referenceNodeNext.nodeType !== 1) {\n\t\t\t\t\t\t\treferenceNodeNext = referenceNodeNext.nextSibling;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (currentPositionRow > newPositionRow)\n\t\t\t\t\t{\n\t\t\t\t\t\ttableEditor.tBody.insertBefore(rows[currentPositionRow], referenceNode);\n\t\t\t\t\t}\n\t\t\t\t\tif (currentPositionRow < newPositionRow)\n\t\t\t\t\t{\n\t\t\t\t\t\ttableEditor.tBody.insertBefore(rows[currentPositionRow], referenceNodeNext);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttableEditor.tBody.classList.remove(\"landing-table-draggable\");\n\t\t\t\tBX.Landing.Block.Node.Text.currentNode.onChange(true);\n\t\t\t})\n\t}\n\n\tdragAndDropCols(tableEditor)\n\t{\n\t\tthis.draggableCols = new Draggable({\n\t\t\tcontainer: tableEditor.tBody,\n\t\t\tdraggable: '.landing-table-div-col-dnd',\n\t\t\ttype: Draggable.HEADLESS,\n\t\t});\n\n\t\tlet currentPositionCol;\n\t\tlet newPositionCol = 0;\n\t\tlet draggableColOffsetX;\n\t\tlet draggableColOffsetY;\n\t\tlet setColCells = [];\n\t\tlet setColPositionsX;\n\t\tlet setColWidths;\n\t\tlet setRows;\n\t\tlet tablePositionLeft;\n\t\tlet currentPositionColX;\n\t\tlet setColCellsStyles;\n\t\tlet draggableCol;\n\n\t\tthis.draggableCols\n\t\t\t.subscribe('start', (event) => {\n\t\t\t\ttablePositionLeft = tableEditor.tBody.getBoundingClientRect().left;\n\t\t\t\tsetColPositionsX = [];\n\t\t\t\tsetColWidths = [];\n\t\t\t\tsetColCellsStyles = [];\n\t\t\t\tdraggableColOffsetX = 0;\n\t\t\t\tdraggableColOffsetY = 0;\n\t\t\t\tcurrentPositionCol = event.getData().originalSource.parentNode.cellIndex;\n\t\t\t\tif (currentPositionCol)\n\t\t\t\t{\n\t\t\t\t\tsetColCells = [...tableEditor.tBody.querySelectorAll('.landing-table-tr')].map((row) => {\n\t\t\t\t\t\treturn row.children[currentPositionCol];\n\t\t\t\t\t});\n\t\t\t\t\tsetRows = tableEditor.tBody.querySelectorAll('.landing-table-tr');\n\t\t\t\t\tsetRows[0].childNodes.forEach(function(thOfFirstRow) {\n\t\t\t\t\t\tif (thOfFirstRow.nodeType === 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsetColPositionsX.push(thOfFirstRow.getBoundingClientRect().x);\n\t\t\t\t\t\t\tsetColWidths.push(thOfFirstRow.getBoundingClientRect().width);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tcurrentPositionColX = setColCells[0].getBoundingClientRect().x;\n\t\t\t\tdraggableCol = document.createElement('div');\n\t\t\t\tsetColCells.forEach(function(cell) {\n\t\t\t\t\tsetColCellsStyles.push(cell.getAttribute('style'));\n\t\t\t\t\tdraggableCol.append(cell.cloneNode(true));\n\t\t\t\t\tdraggableCol.lastChild.style.borderRadius = getComputedStyle(cell).borderRadius;\n\t\t\t\t\tdraggableCol.lastChild.style.height = cell.getBoundingClientRect().height + 'px';\n\t\t\t\t\tdraggableCol.lastChild.style.width = cell.getBoundingClientRect().width + 'px';\n\t\t\t\t})\n\t\t\t\tdraggableCol.hidden = true;\n\t\t\t\tdraggableCol.classList.add('landing-table-col-draggable');\n\t\t\t\ttableEditor.tBody.append(draggableCol);\n\t\t\t})\n\t\t\t.subscribe('move', (event) => {\n\t\t\t\ttableEditor.tBody.classList.add(\"landing-table-draggable\");\n\t\t\t\tsetColCells.forEach((cell) => {\n\t\t\t\t\tcell.classList.add('landing-table-col-taken');\n\t\t\t\t});\n\t\t\t\tdraggableColOffsetX = event.getData().offsetX;\n\t\t\t\tdraggableColOffsetY = event.getData().offsetY;\n\t\t\t\tdraggableCol.hidden = false;\n\t\t\t\tdraggableCol.style.position = `absolute`;\n\t\t\t\tdraggableCol.style.left = currentPositionColX - tablePositionLeft + draggableColOffsetX + 'px';\n\t\t\t\tdraggableCol.style.top = 0 + 'px';\n\t\t\t\tif (draggableColOffsetX < 0)\n\t\t\t\t{\n\t\t\t\t\tdraggableCol.style.transform = 'rotate(-1deg)';\n\t\t\t\t}\n\t\t\t\tif (draggableColOffsetX > 0)\n\t\t\t\t{\n\t\t\t\t\tdraggableCol.style.transform = 'rotate(1deg)';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.subscribe('end', () => {\n\t\t\t\tdraggableCol.remove();\n\t\t\t\tsetColCells.forEach((cell) => {\n\t\t\t\t\tcell.hidden = false;\n\t\t\t\t});\n\t\t\t\tif (currentPositionCol)\n\t\t\t\t{\n\t\t\t\t\tconst newDraggableColPositionX = setColPositionsX[currentPositionCol] + draggableColOffsetX;\n\t\t\t\t\tconst newDraggableColPositionRightX = setColPositionsX[currentPositionCol] + draggableColOffsetX + setColCells[0].getBoundingClientRect().width;\n\t\t\t\t\tlet i = 0;\n\t\t\t\t\tsetColCells.forEach((cell) => {\n\t\t\t\t\t\tcell.style = setColCellsStyles[i];\n\t\t\t\t\t\tcell.classList.remove('landing-table-col-taken');\n\t\t\t\t\t\ti++;\n\t\t\t\t\t});\n\t\t\t\t\tif (draggableColOffsetX < 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (let i = 0; i < setColPositionsX.length; i++) {\n\t\t\t\t\t\t\tlet transitivePositionX = setColPositionsX[i];\n\t\t\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttransitivePositionX = setColPositionsX[i] - (setColWidths[i - 1] / 2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (newDraggableColPositionX > transitivePositionX)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnewPositionCol = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (draggableColOffsetX === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewPositionCol = currentPositionCol;\n\t\t\t\t\t}\n\t\t\t\t\tif (draggableColOffsetX > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (let i = 0; i < setColPositionsX.length; i++) {\n\t\t\t\t\t\t\tlet transitivePositionX = setColPositionsX[i] + (setColWidths[i] / 2);\n\t\t\t\t\t\t\tif (i === currentPositionCol)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttransitivePositionX = setColPositionsX[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (newDraggableColPositionRightX > transitivePositionX)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnewPositionCol = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//draggable col can only be in the 1 position, 0 position for technical\n\t\t\t\t\tif (newPositionCol === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewPositionCol++;\n\t\t\t\t\t}\n\t\t\t\t\tif (currentPositionCol !== newPositionCol)\n\t\t\t\t\t{\n\t\t\t\t\t\tsetRows.forEach(function(row) {\n\t\t\t\t\t\t\tlet childCells = [];\n\t\t\t\t\t\t\trow.childNodes.forEach(function(th) {\n\t\t\t\t\t\t\t\tif (th.nodeType === 1)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tchildCells.push(th);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tlet referenceNode = null;\n\t\t\t\t\t\t\tlet referenceNodeNext = null;\n\t\t\t\t\t\t\tif (childCells[newPositionCol])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treferenceNode = childCells[newPositionCol];\n\t\t\t\t\t\t\t\treferenceNodeNext = referenceNode.nextSibling;\n\t\t\t\t\t\t\t\twhile(referenceNodeNext && referenceNodeNext.nodeType !== 1) {\n\t\t\t\t\t\t\t\t\treferenceNodeNext = referenceNodeNext.nextSibling;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (currentPositionCol > newPositionCol)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trow.insertBefore(childCells[currentPositionCol], referenceNode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (currentPositionCol < newPositionCol)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trow.insertBefore(childCells[currentPositionCol], referenceNodeNext);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\ttableEditor.tBody.classList.remove(\"landing-table-draggable\");\n\t\t\t\t\tBX.Landing.Block.Node.Text.currentNode.onChange(true);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tresizeColumn(tableEditor)\n\t{\n\t\tconst tbody = this.tBody;\n\t\tthis.resizeElement = new Draggable({\n\t\t\tcontainer: tbody,\n\t\t\tdraggable: '.landing-table-col-resize',\n\t\t\ttype: Draggable.HEADLESS,\n\t\t});\n\n\t\tlet thWidth;\n\t\tlet setTh;\n\n\t\tthis.resizeElement\n\t\t\t.subscribe('start', (event) => {\n\t\t\t\tsetTh = [];\n\t\t\t\tconst th = event.getData().draggable.parentNode;\n\t\t\t\tthWidth = th.getBoundingClientRect().width;\n\t\t\t\tconst currentPosition = th.cellIndex;\n\t\t\t\tconst setTr = tbody.querySelectorAll('.landing-table-tr');\n\t\t\t\tsetTr.forEach(function(tr) {\n\t\t\t\t\tsetTh.push(tr.children[currentPosition]);\n\t\t\t\t})\n\t\t\t})\n\t\t\t.subscribe('move', (event) => {\n\t\t\t\tconst offsetX = event.getData().offsetX;\n\t\t\t\tconst thNewWidth = thWidth + offsetX;\n\t\t\t\tsetTh.forEach(function(th) {\n\t\t\t\t\tBX.Dom.style(th, 'width', `${thNewWidth}px`);\n\t\t\t\t})\n\t\t\t})\n\t\t\t.subscribe('end', () => {\n\t\t\t\tconst tBodyWidth = tbody.getBoundingClientRect().width;\n\t\t\t\tconst tableContainerWidth = tbody.parentElement.parentElement.getBoundingClientRect().width;\n\t\t\t\tif (tableContainerWidth > tBodyWidth)\n\t\t\t\t{\n\t\t\t\t\ttbody.parentElement.parentElement.classList.add('landing-table-scroll-hidden');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttbody.parentElement.parentElement.classList.remove('landing-table-scroll-hidden');\n\t\t\t\t}\n\t\t\t\ttableEditor.buildLines(tableEditor);\n\t\t\t\tBX.Landing.Block.Node.Text.currentNode.onChange(true);\n\t\t\t})\n\t}\n\n\tenableEditCells(table)\n\t{\n\t\tconst thContentList = table.querySelectorAll('.landing-table-td');\n\t\tthContentList.forEach(function(td) {\n\t\t\ttd.setAttribute('contenteditable', 'true');\n\t\t})\n\t}\n\n\tremoveClasses(element, className)\n\t{\n\t\tconst setElements = element.querySelectorAll('.' + className)\n\t\tsetElements.forEach(function(element){\n\t\t\telement.classList.remove(className);\n\t\t})\n\t}\n\n\tonCopyTable(tableEditor)\n\t{\n\t\tBX.Event.EventEmitter.subscribe('BX.Landing.TableEditor:onCopyTable', ()=> {\n\t\t\ttableEditor.unselect(tableEditor);\n\t\t\tBX.Landing.UI.Panel.EditorPanel.getInstance().hide();\n\t\t});\n\t}\n\n\tonShowPopupMenu(tableEditor)\n\t{\n\t\tBX.Event.EventEmitter.subscribe('BX.Landing.PopupMenuWindow:onShow', ()=> {\n\t\t\ttableEditor.unselect(tableEditor);\n\t\t\tBX.Landing.UI.Panel.EditorPanel.getInstance().hide();\n\t\t});\n\t}\n\n\tonDeleteElementTable(tableEditor)\n\t{\n\t\tBX.Event.EventEmitter.subscribe('BX.Landing.TableEditor:onDeleteElementTable', ()=> {\n\t\t\ttableEditor.buildLines(tableEditor);\n\t\t});\n\t}\n}"],"names":["TableEditor","node","table","querySelector","tBody","getElementsByTagName","addTitles","enableEditCells","dragAndDropRows","dragAndDropCols","resizeColumn","buildLines","addRow","addCol","onUnselect","unselect","selectAll","selectRow","selectCol","onCopyTable","onDeleteElementTable","onShowPopupMenu","tableNode","hasAttribute","title","BX","Landing","Utils","escapeText","Loc","getMessage","querySelectorAll","forEach","element","setAttribute","tableEditor","isSelectAll","classList","remove","removeClasses","Event","bind","isContains","event","target","some","className","includes","classListChild","parentElement","thTech","isSelectedTable","contains","setRows","count","row","setTh","childNodes","index","lastThIndex","cell","nodeType","lastTh","add","length","th","toggle","thDnd","trDnd","neededPosition","setTrDnd","newSetTrDnd","setThDnd","cellIndex","tr","countNode","nodeCount","needNodePosition","trChild","width","getBoundingClientRect","height","offset","linesX","document","lineX","style","linesY","lineY","buttons","getButtonsAddRow","button","Array","prototype","slice","call","selectedCell","selectedCellPos","parentNode","createElement","children","indexOf","lastElementPosition","newTd","backgroundColor","getAttribute","color","newTr","divAddRow","divLineX","divRowDnd","appendChild","setTd","item","push","i","newTdCloned","cloneNode","insertBefore","nextSibling","Block","Node","Text","currentNode","onChange","UI","Panel","EditorPanel","getInstance","hide","getButtonsAddCol","selectedRow","selectedRowPos","newThFirst","newThFirstCloned","divColumnDnd","divColumnResize","divAddColHere","divLineY","countChild","countNodes","newNeededPosition","draggableRows","Draggable","container","draggable","dragElement","type","HEADLESS","rows","setRowPositionsY","setRowHeights","currentPositionRow","newPositionRow","draggableRowOffsetY","tablePositionLeft","tablePositionTop","currentPositionRowX","currentPositionRowY","cloneRow","originalSource","subscribe","dragStartEvent","data","left","top","getData","sourceIndex","y","x","append","indexFirstNode","borderRadius","getComputedStyle","offsetY","position","transform","newDraggableRowPositionY","newDraggableRowPositionBottomY","transitivePositionY","referenceNode","referenceNodeNext","draggableCols","currentPositionCol","newPositionCol","draggableColOffsetX","draggableColOffsetY","setColCells","setColPositionsX","setColWidths","currentPositionColX","setColCellsStyles","draggableCol","map","thOfFirstRow","lastChild","hidden","offsetX","newDraggableColPositionX","newDraggableColPositionRightX","transitivePositionX","childCells","tbody","resizeElement","thWidth","currentPosition","setTr","thNewWidth","Dom","tBodyWidth","tableContainerWidth","thContentList","td","setElements","EventEmitter"],"mappings":"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"}