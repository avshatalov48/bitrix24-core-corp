this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};(function(t,s,e){"use strict";const n=BX.Landing.Utils.encodeDataValue;const i=BX.Landing.Utils.decodeDataValue;const a=BX.Landing.Utils.data;const o=BX.Landing.Utils.attr;class l extends e.Img{constructor(t){super(t);this.type="icon"}getField(){if(this.field){this.field.content=this.getValue()}else{const t=this.getValue();if(t.url){t.url=i(t.url)}const s=!!this.node.closest("a");this.field=new BX.Landing.UI.Field.Icon({selector:this.selector,title:this.manifest.name,disableLink:s,content:t,dimensions:this.manifest.dimensions||{}})}return this.field}setValue(t,s=false,e=false){this.lastValue=this.lastValue||this.getValue();this.preventSave(s);return r(this.node,t).then((()=>{if(t.url){const s=this.preparePseudoUrl(t.url);if(s!==null){o(this.node,"data-pseudo-url",s)}}this.onChange(e);if(!e){BX.Landing.History.getInstance().push()}this.lastValue=this.getValue()}))}getValue(){return{type:"icon",src:"",id:-1,alt:"",classList:c(this.node.className),url:n(d(this))}}}BX.Landing.Node.Icon=l;function d(t){const s=a(t.node,"data-pseudo-url");return s||""}function c(t){return t.split(" ")}function r(t,e){return BX.Landing.UI.Panel.IconPanel.getLibraries().then((n=>{n.forEach((e=>{e.categories.forEach((e=>{e.items.forEach((e=>{const n=BX.Type.isObject(e)?e.options.join(" "):e;const i=n.split(" ");i.forEach((e=>{if(e){s.Dom.removeClass(t,e)}}))}))}))}));e.classList.forEach((e=>{s.Dom.addClass(t,e)}))}))}t.Icon=l})(this.BX.Landing.Node=this.BX.Landing.Node||{},BX,BX.Landing.Node);
//# sourceMappingURL=icon.bundle.map.js