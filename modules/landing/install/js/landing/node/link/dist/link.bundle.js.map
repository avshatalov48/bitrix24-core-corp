{"version":3,"file":"link.bundle.js","sources":["../src/link.js"],"sourcesContent":["import {Type} from 'main.core';\nimport {PanelLink} from 'landing.ui.panel.link';\n\nexport class Link extends Node\n{\n\tconstructor(options)\n\t{\n\t\tsuper();\n\n\t\tthis.trim = BX.Landing.Utils.trim;\n\t\tthis.isPlainObject = BX.Landing.Utils.isPlainObject;\n\t\tthis.isString = BX.Landing.Utils.isString;\n\t\tthis.textToPlaceholders = BX.Landing.Utils.textToPlaceholders;\n\t\tthis.create = BX.Landing.Utils.create;\n\t\tthis.escapeText = BX.Landing.Utils.escapeText;\n\t\tthis.decodeDataValue = BX.Landing.Utils.decodeDataValue;\n\n\t\tBX.Landing.Block.Node.apply(this, arguments);\n\t\tthis.type = \"link\";\n\n\t\tif (!this.isGrouped())\n\t\t{\n\t\t\tthis.node.addEventListener(\"click\", this.onClick.bind(this));\n\t\t}\n\n\t\tif (this.isAllowInlineEdit())\n\t\t{\n\t\t\tthis.node.setAttribute(\"title\", BX.Landing.Loc.getMessage(\"LANDING_TITLE_OF_LINK_NODE\"));\n\t\t}\n\t}\n\n\tonContentUpdate()\n\t{\n\t\tvar blockId = this.getBlock().id;\n\n\t\tclearTimeout(this.contentEditTimeout);\n\t\tthis.contentEditTimeout = setTimeout(function() {\n\t\t\tBX.Landing.History.getInstance().push(\n\t\t\t\tnew BX.Landing.History.Entry({\n\t\t\t\t\tblock: blockId,\n\t\t\t\t\tselector: this.selector,\n\t\t\t\t\tcommand: \"editLink\",\n\t\t\t\t\tundo: this.startValue,\n\t\t\t\t\tredo: this.getValue()\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis.startValue = null;\n\t\t}.bind(this), 400);\n\n\t\tthis.getField().setValue(this.getValue());\n\t}\n\n\tisMenuMode()\n\t{\n\t\treturn this.manifest.menuMode === true;\n\t}\n\n\t/**\n\t * Handles click event\n\t * @param {MouseEvent} event\n\t */\n\tonClick()\n\t{\n\t\tevent.preventDefault();\n\n\t\tif (!this.isMenuMode())\n\t\t{\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tif (this.isAllowInlineEdit())\n\t\t{\n\t\t\tBX.Landing.UI.Button.ColorAction.hideAll();\n\n\t\t\tif (!BX.Landing.UI.Panel.StylePanel.getInstance().isShown())\n\t\t\t{\n\t\t\t\tconst link = new PanelLink;\n\t\t\t\tlink.getInstance().show(this);\n\t\t\t\tBX.Landing.UI.Panel.Link.getInstance().show(this);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks that button is prevented\n\t * @return {boolean}\n\t */\n\tisPrevented()\n\t{\n\t\treturn this.getValue().target === \"_popup\";\n\t}\n\n\t/**\n\t * Sets node value\n\t * @param data\n\t * @param {?boolean} [preventSave = false]\n\t * @param {?boolean} [preventHistory = false]\n\t */\n\tsetValue(data, preventSave, preventHistory)\n\t{\n\t\tthis.startValue = this.startValue || this.getValue();\n\n\t\tthis.preventSave(preventSave);\n\n\t\tif (!this.containsImage() && this.isAllowInlineEdit())\n\t\t{\n\t\t\tvar field = this.getField(true).hrefInput;\n\n\t\t\tif (this.isString(data.text) && data.text.includes(\"{{name}}\"))\n\t\t\t{\n\t\t\t\tfield.getPlaceholderData(data.href)\n\t\t\t\t\t.then(function(placeholdersData) {\n\t\t\t\t\t\tthis.node.innerHTML = data.text.replace(\n\t\t\t\t\t\t\tnew RegExp(\"{{name}}\"),\n\t\t\t\t\t\t\t\"<span data-placeholder=\\\"name\\\">\"+placeholdersData.name+\"</span>\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!this.getField().containsHtml() && !this.manifest.skipContent)\n\t\t\t\t{\n\t\t\t\t\tthis.node.innerHTML = this.escapeText(data.text);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.node.setAttribute(\"href\", this.decodeDataValue(data.href));\n\t\tthis.node.setAttribute(\"target\", this.escapeText(data.target));\n\n\t\tif (\"attrs\" in data)\n\t\t{\n\t\t\tfor (var attr in data.attrs)\n\t\t\t{\n\t\t\t\tif (data.attrs.hasOwnProperty(attr))\n\t\t\t\t{\n\t\t\t\t\tthis.node.setAttribute(attr, data.attrs[attr]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.node.removeAttribute(\"data-url\");\n\t\t\tthis.node.removeAttribute(\"data-embed\");\n\t\t}\n\n\t\tthis.onChange();\n\n\t\tif (!preventHistory)\n\t\t{\n\t\t\tthis.onContentUpdate();\n\t\t}\n\t}\n\n\t/**\n\t * Checks that this node contains image node\n\t * @return {boolean}\n\t */\n\tcontainsImage()\n\t{\n\t\treturn !!this.node.firstElementChild && this.node.firstElementChild.tagName === \"IMG\";\n\t}\n\n\t/**\n\t * Gets node value\n\t * @return {{text: string, href: string|*, target: string|*}}\n\t */\n\tgetValue()\n\t{\n\t\tvar value = {\n\t\t\ttext: this.textToPlaceholders(this.trim(this.node.innerHTML)),\n\t\t\thref: this.trim(this.node.getAttribute(\"href\")),\n\t\t\ttarget: this.trim(this.node.getAttribute(\"target\") || \"_self\")\n\t\t};\n\n\t\tif (this.node.getAttribute(\"data-url\"))\n\t\t{\n\t\t\tvalue.attrs = {\n\t\t\t\t\"data-url\": this.trim(this.node.getAttribute(\"data-url\"))\n\t\t\t};\n\t\t}\n\n\t\tif (this.node.getAttribute(\"data-dynamic\"))\n\t\t{\n\t\t\tif (!this.isPlainObject(value.attrs))\n\t\t\t{\n\t\t\t\tvalue.attrs = {};\n\t\t\t}\n\n\t\t\tvalue.attrs[\"data-dynamic\"] = this.node.getAttribute(\"data-dynamic\");\n\t\t}\n\n\t\tif (this.manifest.skipContent)\n\t\t{\n\t\t\tvalue['skipContent'] = true;\n\t\t\tdelete value.text;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t/**\n\t * Gets field\n\t * @param {boolean} [preventAdjustValue = false]\n\t * @return {BX.Landing.UI.Field.BaseField}\n\t */\n\tgetField(preventAdjustValue)\n\t{\n\t\tvar value = this.getValue();\n\t\tvalue.text = this.textToPlaceholders(this.create(\"div\", {html: value.text}).innerHTML);\n\n\t\tif (!this.field)\n\t\t{\n\t\t\tvar allowedTypes = [\n\t\t\t\tBX.Landing.UI.Field.LinkUrl.TYPE_BLOCK,\n\t\t\t\tBX.Landing.UI.Field.LinkUrl.TYPE_PAGE,\n\t\t\t\tBX.Landing.UI.Field.LinkUrl.TYPE_CRM_FORM,\n\t\t\t\tBX.Landing.UI.Field.LinkUrl.TYPE_CRM_PHONE\n\t\t\t];\n\n\t\t\tif (BX.Landing.Main.getInstance().options.params.type === BX.Landing.Main.TYPE_STORE)\n\t\t\t{\n\t\t\t\tallowedTypes.push(BX.Landing.UI.Field.LinkUrl.TYPE_CATALOG);\n\t\t\t}\n\n\t\t\tif (BX.Landing.Main.getInstance().options.features.includes('diskFile'))\n\t\t\t{\n\t\t\t\tallowedTypes.push(BX.Landing.UI.Field.LinkUrl.TYPE_DISK_FILE);\n\t\t\t}\n\n\t\t\tthis.field = new BX.Landing.UI.Field.Link({\n\t\t\t\ttitle: this.manifest.name,\n\t\t\t\tselector: this.selector,\n\t\t\t\tskipContent: this.manifest.skipContent,\n\t\t\t\tcontent: value,\n\t\t\t\toptions: {\n\t\t\t\t\tsiteId: BX.Landing.Main.getInstance().options.site_id,\n\t\t\t\t\tlandingId: BX.Landing.Main.getInstance().id\n\t\t\t\t},\n\t\t\t\tallowedTypes: allowedTypes\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!preventAdjustValue)\n\t\t\t{\n\t\t\t\tthis.field.setValue(value);\n\t\t\t\tthis.field.content = value;\n\t\t\t\tthis.field.hrefInput.content = value.href;\n\t\t\t\tthis.field.hrefInput.makeDisplayedHrefValue();\n\t\t\t\tthis.field.hrefInput.setHrefTypeSwitcherValue(\n\t\t\t\t\tthis.field.hrefInput.getHrefStringType()\n\t\t\t\t);\n\t\t\t\tthis.field.hrefInput.removeHrefTypeFromHrefString();\n\t\t\t}\n\t\t}\n\n\t\treturn this.field;\n\t}\n}"],"names":["Link","Node","constructor","options","trim","BX","Landing","Utils","isPlainObject","isString","textToPlaceholders","create","escapeText","decodeDataValue","Block","apply","arguments","type","isGrouped","node","addEventListener","onClick","bind","isAllowInlineEdit","setAttribute","Loc","getMessage","onContentUpdate","blockId","getBlock","id","clearTimeout","contentEditTimeout","setTimeout","History","getInstance","push","Entry","block","selector","command","undo","startValue","redo","getValue","getField","setValue","isMenuMode","manifest","menuMode","event","preventDefault","stopPropagation","UI","Button","ColorAction","hideAll","Panel","StylePanel","isShown","link","PanelLink","show","isPrevented","target","data","preventSave","preventHistory","containsImage","field","hrefInput","text","includes","getPlaceholderData","href","then","placeholdersData","innerHTML","replace","RegExp","name","containsHtml","skipContent","attr","attrs","hasOwnProperty","removeAttribute","onChange","firstElementChild","tagName","value","getAttribute","preventAdjustValue","html","allowedTypes","Field","LinkUrl","TYPE_BLOCK","TYPE_PAGE","TYPE_CRM_FORM","TYPE_CRM_PHONE","Main","params","TYPE_STORE","TYPE_CATALOG","features","TYPE_DISK_FILE","title","content","siteId","site_id","landingId","makeDisplayedHrefValue","setHrefTypeSwitcherValue","getHrefStringType","removeHrefTypeFromHrefString"],"mappings":"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"}