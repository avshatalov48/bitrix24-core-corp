{"version":3,"sources":["img.js"],"names":["BX","namespace","attr","Landing","Utils","data","encodeDataValue","decodeDataValue","Block","Node","Img","options","apply","this","arguments","type","editPanel","lastValue","field","uploadParams","isGrouped","node","addEventListener","onClick","bind","isAllowInlineEdit","setAttribute","Loc","getMessage","isBackground","nodeName","isImage","isIcon","getBackgroundUrl","bg","style","getPropertyValue","res","match","replace","getBackgroundUrl2x","getFileId","fileId","parseInt","dataset","fileid","getFileId2x","fileid2x","getAlt","alt","getPseudoUrl","url","getImageSrc","src","getImageSrc2x","setImageValue","value","newNode","create","attrs","id","parentNode","insertBefore","remove","srcset","src2x","id2x","setBackgroundValue","push","oldStyleObj","oldStyle","Array","from","map","prop","join","setProperty","removeProperty","prototype","__proto__","constructor","event","manifest","allowInlineEdit","Main","getInstance","isControlsEnabled","Text","currentNode","isEditable","UI","Panel","StylePanel","isShown","preventDefault","stopPropagation","Button","FontAction","hideAll","ColorAction","Content","selector","title","className","appendFooterButton","BaseButton","text","save","hide","document","body","appendChild","layout","form","Form","BaseForm","name","addField","getField","clear","appendForm","show","EditorPanel","forms","fields","getValue","JSON","stringify","setValue","description","dimensions","width","maxWidth","minWidth","height","maxHeight","minHeight","disableLink","closest","Field","Image","content","create2xByDefault","disableAltField","requestAnimationFrame","adjustPreviewBackgroundSize","preventSave","preventHistory","decodeURIComponent","onChange","History","Entry","block","getBlock","command","undo","redo","href","target","enabled"],"mappings":"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","file":"img.map.js"}