{"version":3,"file":"separatorpanel.bundle.js","sources":["../src/images/solid.png","../src/images/header.png","../src/images/page.png","../src/separatorpanel.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/separatorpanel/dist/images/solid.png\"","export default \"/bitrix/js/landing/ui/panel/separatorpanel/dist/images/header.png\"","export default \"/bitrix/js/landing/ui/panel/separatorpanel/dist/images/page.png\"","import {Cache, Dom, Type} from 'main.core';\nimport {Content} from 'landing.ui.panel.content';\nimport {PageObject} from 'landing.pageobject';\nimport {Loc} from 'landing.loc';\n\nimport solidLinePreview from './images/solid.png';\nimport dashedLinePreview from './images/dashed.png';\nimport headerPreview from './images/header.png';\nimport pagePreview from './images/page.png';\nimport waveLinePreview from './images/wave.png';\n\nimport './css/style.css';\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class SeparatorPanel extends Content\n{\n\tstatic getInstance(): FormSettingsPanel\n\t{\n\t\tconst rootWindow = PageObject.getRootWindow();\n\t\tconst rootWindowPanel = rootWindow.BX.Landing.UI.Panel.SeparatorPanel;\n\t\tif (!rootWindowPanel.instance && !SeparatorPanel.instance)\n\t\t{\n\t\t\trootWindowPanel.instance = new SeparatorPanel();\n\t\t}\n\n\t\treturn (rootWindowPanel.instance || SeparatorPanel.instance);\n\t}\n\n\tadjustActionsPanels = false;\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.SeparatorPanel');\n\t\tthis.setLayoutClass('landing-ui-panel-separator');\n\t\tthis.setOverlayClass('landing-ui-panel-separator-overlay');\n\n\t\tthis.setTitle(Loc.getMessage('LANDING_SEPARATOR_PANEL_TITLE'));\n\n\t\tthis.cache = new Cache.MemoryCache();\n\t\tthis.renderTo(this.getViewContainer());\n\n\t\tthis.appendCard(\n\t\t\tnew BX.Landing.UI.Card.BlockPreviewCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SEPARATOR_SOLID_LINE'),\n\t\t\t\timage: solidLinePreview,\n\t\t\t\tcode: 'hr',\n\t\t\t\tonClick: this.onPreviewClick.bind(this),\n\t\t\t}),\n\t\t);\n\n\t\tthis.appendCard(\n\t\t\tnew BX.Landing.UI.Card.BlockPreviewCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SEPARATOR_HEADER'),\n\t\t\t\timage: headerPreview,\n\t\t\t\tcode: 'section',\n\t\t\t\tonClick: this.onPreviewClick.bind(this),\n\t\t\t}),\n\t\t);\n\n\t\tthis.appendCard(\n\t\t\tnew BX.Landing.UI.Card.BlockPreviewCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SEPARATOR_PAGE'),\n\t\t\t\timage: pagePreview,\n\t\t\t\tcode: 'page',\n\t\t\t\tonClick: this.onPreviewClick.bind(this),\n\t\t\t}),\n\t\t);\n\n\t\t[...this.content.children].forEach((item) => {\n\t\t\tDom.style(item, 'opacity', '1');\n\t\t});\n\t}\n\n\tgetViewContainer(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('viewContainer', () => {\n\t\t\tconst rootWindow = PageObject.getRootWindow();\n\t\t\treturn rootWindow.document.querySelector('.landing-ui-view-container');\n\t\t});\n\t}\n\n\tshow(options): Promise<{type: string}>\n\t{\n\t\tvoid super.show(options);\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.promiseResolver = resolve;\n\t\t});\n\t}\n\n\tonPreviewClick(card)\n\t{\n\t\tvoid this.hide();\n\n\t\tif (Type.isFunction(this.promiseResolver))\n\t\t{\n\t\t\tthis.promiseResolver({type: card.code, separatorTitle: card.title});\n\t\t}\n\t}\n}"],"names":["SeparatorPanel","rootWindow","PageObject","getRootWindow","rootWindowPanel","BX","Landing","UI","Panel","instance","setEventNamespace","setLayoutClass","setOverlayClass","setTitle","Loc","getMessage","cache","Cache","MemoryCache","renderTo","getViewContainer","appendCard","Card","BlockPreviewCard","title","image","solidLinePreview","code","onClick","onPreviewClick","bind","headerPreview","pagePreview","content","children","forEach","item","Dom","style","remember","document","querySelector","options","Promise","resolve","promiseResolver","card","hide","Type","isFunction","type","separatorTitle","Content"],"mappings":";;;;;;AAAA,wBAAe,kEAAf;;ACAA,qBAAe,mEAAf;;ACAA,mBAAe,iEAAf;;CCaA;;;;AAGA,KAAaA,cAAb;CAAA;CAAA;CAAA;CAAA,kCAGC;CACC,UAAMC,UAAU,GAAGC,6BAAU,CAACC,aAAX,EAAnB;CACA,UAAMC,eAAe,GAAGH,UAAU,CAACI,EAAX,CAAcC,OAAd,CAAsBC,EAAtB,CAAyBC,KAAzB,CAA+BR,cAAvD;;CACA,UAAI,CAACI,eAAe,CAACK,QAAjB,IAA6B,CAACT,cAAc,CAACS,QAAjD,EACA;CACCL,QAAAA,eAAe,CAACK,QAAhB,GAA2B,IAAIT,cAAJ,EAA3B;CACA;;CAED,aAAQI,eAAe,CAACK,QAAhB,IAA4BT,cAAc,CAACS,QAAnD;CACA;CAZF;;CAgBC,4BACA;CAAA;;CAAA;CACC;CADD,kGAHsB,KAGtB;;CAEC,UAAKC,iBAAL,CAAuB,oCAAvB;;CACA,UAAKC,cAAL,CAAoB,4BAApB;;CACA,UAAKC,eAAL,CAAqB,oCAArB;;CAEA,UAAKC,QAAL,CAAcC,eAAG,CAACC,UAAJ,CAAe,+BAAf,CAAd;;CAEA,UAAKC,KAAL,GAAa,IAAIC,eAAK,CAACC,WAAV,EAAb;;CACA,UAAKC,QAAL,CAAc,MAAKC,gBAAL,EAAd;;CAEA,UAAKC,UAAL,CACC,IAAIhB,EAAE,CAACC,OAAH,CAAWC,EAAX,CAAce,IAAd,CAAmBC,gBAAvB,CAAwC;CACvCC,MAAAA,KAAK,EAAEV,eAAG,CAACC,UAAJ,CAAe,8BAAf,CADgC;CAEvCU,MAAAA,KAAK,EAAEC,gBAFgC;CAGvCC,MAAAA,IAAI,EAAE,IAHiC;CAIvCC,MAAAA,OAAO,EAAE,MAAKC,cAAL,CAAoBC,IAApB;CAJ8B,KAAxC,CADD;;CASA,UAAKT,UAAL,CACC,IAAIhB,EAAE,CAACC,OAAH,CAAWC,EAAX,CAAce,IAAd,CAAmBC,gBAAvB,CAAwC;CACvCC,MAAAA,KAAK,EAAEV,eAAG,CAACC,UAAJ,CAAe,0BAAf,CADgC;CAEvCU,MAAAA,KAAK,EAAEM,aAFgC;CAGvCJ,MAAAA,IAAI,EAAE,SAHiC;CAIvCC,MAAAA,OAAO,EAAE,MAAKC,cAAL,CAAoBC,IAApB;CAJ8B,KAAxC,CADD;;CASA,UAAKT,UAAL,CACC,IAAIhB,EAAE,CAACC,OAAH,CAAWC,EAAX,CAAce,IAAd,CAAmBC,gBAAvB,CAAwC;CACvCC,MAAAA,KAAK,EAAEV,eAAG,CAACC,UAAJ,CAAe,wBAAf,CADgC;CAEvCU,MAAAA,KAAK,EAAEO,WAFgC;CAGvCL,MAAAA,IAAI,EAAE,MAHiC;CAIvCC,MAAAA,OAAO,EAAE,MAAKC,cAAL,CAAoBC,IAApB;CAJ8B,KAAxC,CADD;;CASA,mCAAI,MAAKG,OAAL,CAAaC,QAAjB,EAA2BC,OAA3B,CAAmC,UAACC,IAAD,EAAU;CAC5CC,MAAAA,aAAG,CAACC,KAAJ,CAAUF,IAAV,EAAgB,SAAhB,EAA2B,GAA3B;CACA,KAFD;CAtCD;CAyCC;;CA1DF;CAAA;CAAA,uCA6DC;CACC,aAAO,KAAKpB,KAAL,CAAWuB,QAAX,CAAoB,eAApB,EAAqC,YAAM;CACjD,YAAMtC,UAAU,GAAGC,6BAAU,CAACC,aAAX,EAAnB;CACA,eAAOF,UAAU,CAACuC,QAAX,CAAoBC,aAApB,CAAkC,4BAAlC,CAAP;CACA,OAHM,CAAP;CAIA;CAlEF;CAAA;CAAA,yBAoEMC,OApEN,EAqEC;CAAA;;CACC,4GAAgBA,OAAhB;CACA,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;CAC/B,QAAA,MAAI,CAACC,eAAL,GAAuBD,OAAvB;CACA,OAFM,CAAP;CAGA;CA1EF;CAAA;CAAA,mCA4EgBE,IA5EhB,EA6EC;CACC,WAAK,KAAKC,IAAL,EAAL;;CAEA,UAAIC,cAAI,CAACC,UAAL,CAAgB,KAAKJ,eAArB,CAAJ,EACA;CACC,aAAKA,eAAL,CAAqB;CAACK,UAAAA,IAAI,EAAEJ,IAAI,CAACnB,IAAZ;CAAkBwB,UAAAA,cAAc,EAAEL,IAAI,CAACtB;CAAvC,SAArB;CACA;CACD;CApFF;CAAA;CAAA,EAAoC4B,gCAApC;;;;;;;;"}