{"version":3,"file":"editor_panel.map.js","names":["BX","namespace","proxy","Landing","Utils","getSelectedElement","UI","Panel","EditorPanel","BaseButtonPanel","apply","this","arguments","layout","classList","add","position","currentElement","outOfFrame","onKeydown","bind","onTabDown","onScroll","instance","getInstance","init","scrollHandler","target","makeDraggable","editor","dragButton","Button","EditorAction","html","attrs","title","Loc","getMessage","onbxdrag","onDrag","onbxdragstop","onDragEnd","jsDD","registerObject","prependButton","offsetCalculates","offsetLeft","offsetTop","x","y","pos","current_node","Math","max","abs","left","top","closest","PageObject","getEditorWindow","scrollY","DOM","write","remove","style","registerBaseActions","addButton","onClick","adjustButtonsState","CreateLink","rights","Env","getOptions","includes","CreatePage","ColorAction","text","TextBackgroundAction","CreateTable","PasteTable","Main","AiText","onSelect","item","querySelector","innerHTML","data","replace","Block","Node","Text","currentNode","node","onChange","lastPosition","adjustAbsolutePosition","force","nodeRect","getBoundingClientRect","width","rect","height","windowScope","window","parent","bodyContent","contains","pageYOffset","isControlsExternal","bottom","innerHeight","innerWidth","hideButtonsPopups","appendToBody","document","body","appendChild","mouseTarget","onMousedown","event","preventClick","onMouseUp","preventDefault","stopPropagation","closePopup","button","popup","close","menu","buttons","forEach","additionalButtons","Tool","ColorPicker","hideAll","prototype","constructor","__proto__","show","element","isTable","hideButtons","showBaseButtons","length","hideBaseButtons","hideAllBaseButtons","setContextDocument","ownerDocument","insertAfter","prevSibling","isShown","onCustomEvent","contextDocument","addEventListener","setTimeout","call","adjustPosition","onShow","adjustButtonsContextDocument","contextWindow","passive","err","hide","removeEventListener","onHide","key","nodeName","shiftKey","code","execCommand","metaKey","range","getSelection","getRangeAt","br","create","deleteContents","insertNode","newRange","createRange","setStartAfter","collapse","sel","removeAllRanges","addRange","TAB_COUNT","isAllowedTab","parentNode","focusNode","tagName","countUlTag","parentsNodeArr","allowedTagName","indexOf","push","previousElement","previousSibling","nodeType","countBlockquote","firstChild","i","childNodes","nextSibling","getAction","value","get","requestAnimationFrame","format","getFormat","bold","italic","underline","strike","align","getComputedStyle","getPropertyValue","match","isFixed","dataset","id","hidden","copiedTable","isOutOfFrame"],"sources":["editor_panel.js"],"mappings":"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"}