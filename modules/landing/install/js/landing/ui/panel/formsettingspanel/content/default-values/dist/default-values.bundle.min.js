this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.Ui=this.BX.Landing.Ui||{};this.BX.Landing.Ui.Panel=this.BX.Landing.Ui.Panel||{};this.BX.Landing.Ui.Panel.Formsettingspanel=this.BX.Landing.Ui.Panel.Formsettingspanel||{};(function(e,t,a,n,i,s,r,l){"use strict";var o=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));r.setEventNamespace("BX.Landing.UI.Panel.FormSettingsPanel.DefaultValues");var o=new i.HeaderCard({title:s.Loc.getMessage("LANDING_FORM_SETTINGS_DEFAULT_VALUE_TITLE")});var d=new l.MessageCard({id:"defaultValueMessage",header:s.Loc.getMessage("LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_TITLE"),description:s.Loc.getMessage("LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_DESCRIPTION"),restoreState:true});var p=new a.FormSettingsForm({fields:[new n.DefaultValueField({selector:"presetFields",isLeadEnabled:r.options.isLeadEnabled,personalizationVariables:r.getPersonalizationVariables(),formOptions:babelHelpers.objectSpread({},r.options.formOptions),crmFields:babelHelpers.objectSpread({},r.options.crmFields),dictionary:babelHelpers.objectSpread({},r.options.dictionary),items:babelHelpers.toConsumableArray(r.options.formOptions.presetFields)})]});if(!d.isShown()){p.setOffsetTop(-36)}d.subscribe("onClose",function(){p.setOffsetTop(-36)});r.addItem(o);r.addItem(d);r.addItem(p);return r}babelHelpers.createClass(t,[{key:"getPersonalizationVariables",value:function e(){var t=this;return this.cache.remember("personalizationVariables",function(){var e=t.options.dictionary.properties;if(r.Type.isPlainObject(e)&&r.Type.isArrayFilled(e.list)){return e.list.map(function(e){return{name:e.name,value:e.id}})}return[]})}},{key:"getLayout",value:function e(){var a=babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"getLayout",this).call(this);r.Dom.addClass(a,"landing-ui-default-fields-values");return a}},{key:"onChange",value:function e(t){this.emit("onChange",babelHelpers.objectSpread({},t.getData(),{skipPrepare:true}))}}]);return t}(t.ContentWrapper);e.default=o})(this.BX.Landing.Ui.Panel.Formsettingspanel.Content=this.BX.Landing.Ui.Panel.Formsettingspanel.Content||{},BX.Landing.UI.Panel,BX.Landing.UI.Form,BX.Landing.UI.Field,BX.Landing.UI.Card,BX.Landing,BX,BX.Landing.UI.Card);
//# sourceMappingURL=default-values.bundle.map.js