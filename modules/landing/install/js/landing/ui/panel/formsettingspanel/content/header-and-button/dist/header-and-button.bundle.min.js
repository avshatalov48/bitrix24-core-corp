this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.Ui=this.BX.Landing.Ui||{};this.BX.Landing.Ui.Panel=this.BX.Landing.Ui.Panel||{};this.BX.Landing.Ui.Panel.Formsettingspanel=this.BX.Landing.Ui.Panel.Formsettingspanel||{};(function(e,t,n,i,a,s,r,o){"use strict";var l="/bitrix/js/landing/ui/panel/formsettingspanel/content/header-and-button/dist/images/header-and-buttons-message-icon.svg";var d=function(e){babelHelpers.inherits(o,e);function o(e){var d;babelHelpers.classCallCheck(this,o);d=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e));d.setEventNamespace("BX.Landing.UI.Panel.FormSettingsPanel.HeaderAndButtonContent");var c=new t.HeaderCard({title:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_TITLE")});var g=new i.MessageCard({id:"headerAndButtonMessage",icon:l,header:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_MESSAGE_HEADER"),description:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_MESSAGE_DESCRIPTION_2"),restoreState:true,more:function e(){var t=n.Reflection.getClass("top.BX.Helper");if(t){BX.Helper.show("redirect=detail&code=12802786")}}});var _=new a.FormSettingsForm({id:"headers",title:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_TITLE"),fields:[new r.VariablesField({selector:"title",title:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HEADER_FIELD_TITLE"),textOnly:true,content:d.options.formOptions.data.title,variables:d.getPersonalizationVariables()}),new r.VariablesField({selector:"desc",title:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_SUBHEADER_FIELD_TITLE"),textOnly:true,content:d.options.formOptions.data.desc,variables:d.getPersonalizationVariables()}),new BX.Landing.UI.Field.Checkbox({selector:"hideDesc",items:[{value:"hideDesc",name:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SUBHEADER_FIELD_TITLE")}],compact:true})]});var E=new a.FormSettingsForm({id:"buttons",title:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_TITLE"),fields:[new s.TextField({selector:"buttonCaption",title:n.Loc.getMessage("LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_SEND_BUTTON_TITLE"),textOnly:true,content:d.options.formOptions.data.buttonCaption})]});d.addItem(c);d.addItem(g);d.addItem(_);d.addItem(E);return d}babelHelpers.createClass(o,[{key:"getPersonalizationVariables",value:function e(){var t=this;return this.cache.remember("personalizationVariables",function(){return t.options.dictionary.personalization.list.map(function(e){return{name:e.name,value:e.id}})})}},{key:"valueReducer",value:function e(t){var n=Object.entries(t).reduce(function(e,t){var n=babelHelpers.slicedToArray(t,2),i=n[0],a=n[1];if(i==="hideDesc"){if(a.includes(i)){e.desc=""}delete e.hideDesc}if(i==="useSign"){e.useSign=a.includes("useSign")}return e},babelHelpers.objectSpread({},t));if(!this.items[2].getSwitch().getValue()){n.title="";n.desc=""}return n}},{key:"onChange",value:function e(t){this.emit("onChange",babelHelpers.objectSpread({},t.getData(),{skipPrepare:true}))}}]);return o}(o.ContentWrapper);e.default=d})(this.BX.Landing.Ui.Panel.Formsettingspanel.Content=this.BX.Landing.Ui.Panel.Formsettingspanel.Content||{},BX.Landing.UI.Card,BX,BX.Landing.UI.Card,BX.Landing.UI.Form,BX.Landing.UI.Field,BX.Landing.UI.Field,BX.Landing.UI.Panel);
//# sourceMappingURL=header-and-button.bundle.map.js