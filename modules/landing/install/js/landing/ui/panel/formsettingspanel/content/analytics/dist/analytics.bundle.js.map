{"version":3,"file":"analytics.bundle.js","sources":["../src/images/yandex.svg","../src/images/google.svg","../src/internal/table/content-table-cell.js","../src/internal/table/content-table-row.js","../src/internal/table/content-table.js","../src/analytics.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/formsettingspanel/content/analytics/dist/images/yandex.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/content/analytics/dist/images/google.svg\"","import {Tag, Text} from 'main.core';\n\nexport type ContentTableCellOptions = {\n\tcontent: string | HTMLElement,\n\thead: boolean,\n};\n\nexport class ContentTableCell\n{\n\tconstructor(options: ContentTableCellOptions = {})\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableCellElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-cell\">\n\t\t\t\t${Text.encode(this.options.content)}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport type {ContentTableCell} from './content-table-cell';\n\nexport type ContentTableRowOptions = {\n\tcolumns: Array<ContentTableCell>,\n\thead?: boolean,\n};\n\nexport class ContentTableRow\n{\n\tconstructor(options: ContentTableRowOptions)\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableRowElement\n\t{\n\t\tconst headClass = this.options.head ? ' landing-ui-content-table-row-head' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-row${headClass}\">\n\t\t\t\t${this.options.columns.map((cell) => cell.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import 'ui.design-tokens';\n\nimport {Tag} from 'main.core';\nimport {ContentTableCell} from './content-table-cell';\nimport {ContentTableRow} from './content-table-row';\nimport type {ContentTableCellOptions} from './content-table-cell';\nimport type {ContentTableRowOptions} from './content-table-row';\n\nimport './css/style.css';\n\ntype ContentTableOptions = {\n\ttitle: string,\n\tcolumns: Array<ContentTableCellOptions>,\n\trows: Array<ContentTableRowOptions>\n};\n\nexport class ContentTable\n{\n\tconstructor(options: ContentTableOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.headRow = new ContentTableRow({\n\t\t\tcolumns: this.options.columns.map((columnOptions) => {\n\t\t\t\treturn new ContentTableCell(columnOptions);\n\t\t\t}),\n\t\t\thead: true,\n\t\t});\n\t\tthis.rows = this.options.rows.map((rowOptions) => {\n\t\t\treturn new ContentTableRow({\n\t\t\t\tcolumns: rowOptions.columns.map((cellOptions) => {\n\t\t\t\t\treturn new ContentTableCell(cellOptions);\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitleLayout(): HTMLDivElement | string\n\t{\n\t\tif (Type.isStringFilled(this.options.title))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-content-table-title\">${this.options.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\trender(): HTMLTableElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-wrapper\">\n\t\t\t\t\n\t\t\t\t<div class=\"landing-ui-content-table\">\n\t\t\t\t\t${this.headRow.render()}\n\t\t\t\t\t${this.rows.map((row) => row.render())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {AccordionField} from 'landing.ui.field.accordionfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport yandexIcon from './images/yandex.svg';\nimport googleIcon from './images/google.svg';\nimport {ContentTable} from './internal/table/content-table';\n\nexport default class AnalyticsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TITLE'),\n\t\t});\n\n\t\tconst items = [];\n\t\tif (Loc.getMessage('LANGUAGE_ID') === 'ru')\n\t\t{\n\t\t\titems.push({\n\t\t\t\tid: 'yandex',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_YANDEX_METRIKA'),\n\t\t\t\ticon: yandexIcon,\n\t\t\t\tchecked: true,\n\t\t\t\tswitcher: false,\n\t\t\t\tcontent: this.getYandexTable(),\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tid: 'google',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_GOOGLE_ANALYTICS'),\n\t\t\ticon: googleIcon,\n\t\t\tchecked: true,\n\t\t\tswitcher: false,\n\t\t\tcontent: this.getGoogleTable(),\n\t\t});\n\n\t\tconst accordionField = new AccordionField({\n\t\t\tselector: 'analytics',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEMS_FIELD_TITLE'),\n\t\t\titems,\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'analyticsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_DESCRIPTION'),\n\t\t\tangle: false,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(accordionField);\n\t}\n\n\tgetYandexTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.formOptions.analytics.steps.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.event},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n\n\tgetGoogleTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.formOptions.analytics.steps.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.code},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n}"],"names":["ContentTableCell","options","Tag","render","Text","encode","content","ContentTableRow","headClass","head","columns","map","cell","ContentTable","headRow","columnOptions","rows","rowOptions","cellOptions","Type","isStringFilled","title","row","AnalyticsContent","setEventNamespace","header","HeaderCard","Loc","getMessage","items","push","id","icon","yandexIcon","checked","switcher","getYandexTable","googleIcon","getGoogleTable","accordionField","AccordionField","selector","message","MessageCard","description","angle","restoreState","addItem","table","formOptions","analytics","steps","name","event","code","ContentWrapper"],"mappings":";;;;;;;;AAAA,kBAAe,wFAAwF;;ACAvG,kBAAe,wFAAwF;;;;;ACAvG,KAOaA,gBAAgB;GAE5B,4BACA;KAAA,IADYC,OAAgC,uEAAG,EAAE;KAAA;KAEhD,IAAI,CAACA,OAAO,qBAAOA,OAAO,CAAC;;GAC3B;KAAA;KAAA,yBAGD;OACC,OAAOC,aAAG,CAACC,MAAM,yKAEbC,cAAI,CAACC,MAAM,CAAC,IAAI,CAACJ,OAAO,CAACK,OAAO,CAAC;;;GAGrC;CAAA;;;;;ACrBF,KAQaC,eAAe;GAE3B,yBAAYN,OAA+B,EAC3C;KAAA;KACC,IAAI,CAACA,OAAO,uBAAOA,OAAO,CAAC;;GAC3B;KAAA;KAAA,yBAGD;OACC,IAAMO,SAAS,GAAG,IAAI,CAACP,OAAO,CAACQ,IAAI,GAAG,oCAAoC,GAAG,EAAE;OAE/E,OAAOP,aAAG,CAACC,MAAM,gLAC0BK,SAAS,EAChD,IAAI,CAACP,OAAO,CAACS,OAAO,CAACC,GAAG,CAAC,UAACC,IAAI;SAAA,OAAKA,IAAI,CAACT,MAAM,EAAE;SAAC;;;GAGrD;CAAA;;;;;ACxBF,KAgBaU,YAAY;GAExB,sBAAYZ,OAA4B,EACxC;KAAA;KACC,IAAI,CAACA,OAAO,uBAAOA,OAAO,CAAC;KAC3B,IAAI,CAACa,OAAO,GAAG,IAAIP,eAAe,CAAC;OAClCG,OAAO,EAAE,IAAI,CAACT,OAAO,CAACS,OAAO,CAACC,GAAG,CAAC,UAACI,aAAa,EAAK;SACpD,OAAO,IAAIf,gBAAgB,CAACe,aAAa,CAAC;QAC1C,CAAC;OACFN,IAAI,EAAE;MACN,CAAC;KACF,IAAI,CAACO,IAAI,GAAG,IAAI,CAACf,OAAO,CAACe,IAAI,CAACL,GAAG,CAAC,UAACM,UAAU,EAAK;OACjD,OAAO,IAAIV,eAAe,CAAC;SAC1BG,OAAO,EAAEO,UAAU,CAACP,OAAO,CAACC,GAAG,CAAC,UAACO,WAAW,EAAK;WAChD,OAAO,IAAIlB,gBAAgB,CAACkB,WAAW,CAAC;UACxC;QACD,CAAC;MACF,CAAC;;GACF;KAAA;KAAA,iCAGD;OACC,IAAIC,IAAI,CAACC,cAAc,CAAC,IAAI,CAACnB,OAAO,CAACoB,KAAK,CAAC,EAC3C;SACC,OAAOnB,aAAG,CAACC,MAAM,gKAC8B,IAAI,CAACF,OAAO,CAACoB,KAAK;;OAIlE,OAAO,EAAE;;;KACT;KAAA,yBAGD;OACC,OAAOnB,aAAG,CAACC,MAAM,4QAIZ,IAAI,CAACW,OAAO,CAACX,MAAM,EAAE,EACrB,IAAI,CAACa,IAAI,CAACL,GAAG,CAAC,UAACW,GAAG;SAAA,OAAKA,GAAG,CAACnB,MAAM,EAAE;SAAC;;;GAIzC;CAAA;;KCjDmBoB,gBAAgB;GAAA;GAEpC,0BAAYtB,OAAO,EACnB;KAAA;KAAA;KACC,8GAAMA,OAAO;KACb,MAAKuB,iBAAiB,CAAC,yDAAyD,CAAC;KAEjF,IAAMC,MAAM,GAAG,IAAIC,qCAAU,CAAC;OAC7BL,KAAK,EAAEM,eAAG,CAACC,UAAU,CAAC,uCAAuC;MAC7D,CAAC;KAEF,IAAMC,KAAK,GAAG,EAAE;KAChB,IAAIF,eAAG,CAACC,UAAU,CAAC,aAAa,CAAC,KAAK,IAAI,EAC1C;OACCC,KAAK,CAACC,IAAI,CAAC;SACVC,EAAE,EAAE,QAAQ;SACZV,KAAK,EAAEM,eAAG,CAACC,UAAU,CAAC,qDAAqD,CAAC;SAC5EI,IAAI,EAAEC,UAAU;SAChBC,OAAO,EAAE,IAAI;SACbC,QAAQ,EAAE,KAAK;SACf7B,OAAO,EAAE,MAAK8B,cAAc;QAC5B,CAAC;;KAGHP,KAAK,CAACC,IAAI,CAAC;OACVC,EAAE,EAAE,QAAQ;OACZV,KAAK,EAAEM,eAAG,CAACC,UAAU,CAAC,uDAAuD,CAAC;OAC9EI,IAAI,EAAEK,UAAU;OAChBH,OAAO,EAAE,IAAI;OACbC,QAAQ,EAAE,KAAK;OACf7B,OAAO,EAAE,MAAKgC,cAAc;MAC5B,CAAC;KAEF,IAAMC,cAAc,GAAG,IAAIC,8CAAc,CAAC;OACzCC,QAAQ,EAAE,WAAW;OACrBpB,KAAK,EAAEM,eAAG,CAACC,UAAU,CAAC,mDAAmD,CAAC;OAC1EC,KAAK,EAALA;MACA,CAAC;KAEF,IAAMa,OAAO,GAAG,IAAIC,uCAAW,CAAC;OAC/BZ,EAAE,EAAE,kBAAkB;OACtBN,MAAM,EAAEE,eAAG,CAACC,UAAU,CAAC,+CAA+C,CAAC;OACvEgB,WAAW,EAAEjB,eAAG,CAACC,UAAU,CAAC,qDAAqD,CAAC;OAClFiB,KAAK,EAAE,KAAK;OACZC,YAAY,EAAE;MACd,CAAC;KAEF,MAAKC,OAAO,CAACtB,MAAM,CAAC;KACpB,MAAKsB,OAAO,CAACL,OAAO,CAAC;KACrB,MAAKK,OAAO,CAACR,cAAc,CAAC;KAAC;;GAC7B;KAAA;KAAA,iCAGD;OACC,IAAMS,KAAK,GAAG,IAAInC,YAAY,CAAC;SAC9BH,OAAO,EAAE,CACR;WACCqB,EAAE,EAAE,OAAO;WACXzB,OAAO,EAAEqB,eAAG,CAACC,UAAU,CAAC,yDAAyD;UACjF,EACD;WACCG,EAAE,EAAE,IAAI;WACRzB,OAAO,EAAEqB,eAAG,CAACC,UAAU,CAAC,uDAAuD;UAC/E,CACD;SACDZ,IAAI,EAAE,IAAI,CAACf,OAAO,CAACgD,WAAW,CAACC,SAAS,CAACC,KAAK,CAACxC,GAAG,CAAC,UAACW,GAAG,EAAK;WAC3D,OAAO;aACNZ,OAAO,EAAE,CACR;eAACJ,OAAO,EAAEgB,GAAG,CAAC8B;cAAK,EACnB;eAAC9C,OAAO,EAAEgB,GAAG,CAAC+B;cAAM;YAErB;UACD;QACD,CAAC;OAEF,OAAOL,KAAK,CAAC7C,MAAM,EAAE;;;KACrB;KAAA,iCAGD;OACC,IAAM6C,KAAK,GAAG,IAAInC,YAAY,CAAC;SAC9BH,OAAO,EAAE,CACR;WACCqB,EAAE,EAAE,OAAO;WACXzB,OAAO,EAAEqB,eAAG,CAACC,UAAU,CAAC,yDAAyD;UACjF,EACD;WACCG,EAAE,EAAE,IAAI;WACRzB,OAAO,EAAEqB,eAAG,CAACC,UAAU,CAAC,uDAAuD;UAC/E,CACD;SACDZ,IAAI,EAAE,IAAI,CAACf,OAAO,CAACgD,WAAW,CAACC,SAAS,CAACC,KAAK,CAACxC,GAAG,CAAC,UAACW,GAAG,EAAK;WAC3D,OAAO;aACNZ,OAAO,EAAE,CACR;eAACJ,OAAO,EAAEgB,GAAG,CAAC8B;cAAK,EACnB;eAAC9C,OAAO,EAAEgB,GAAG,CAACgC;cAAK;YAEpB;UACD;QACD,CAAC;OAEF,OAAON,KAAK,CAAC7C,MAAM,EAAE;;;GACrB;CAAA,EAtG4CoD,+CAAc;;;;;;;;"}