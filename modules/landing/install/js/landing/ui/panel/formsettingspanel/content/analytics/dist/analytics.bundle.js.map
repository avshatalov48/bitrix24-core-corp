{"version":3,"file":"analytics.bundle.js","sources":["../src/images/yandex.svg","../src/images/google.svg","../src/internal/table/content-table-cell.js","../src/internal/table/content-table-row.js","../src/internal/table/content-table.js","../src/analytics.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/formsettingspanel/content/analytics/dist/images/yandex.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/content/analytics/dist/images/google.svg\"","import {Tag, Text} from 'main.core';\n\nexport type ContentTableCellOptions = {\n\tcontent: string | HTMLElement,\n\thead: boolean,\n};\n\nexport class ContentTableCell\n{\n\tconstructor(options: ContentTableCellOptions = {})\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableCellElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-cell\">\n\t\t\t\t${Text.encode(this.options.content)}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport type {ContentTableCell} from './content-table-cell';\n\nexport type ContentTableRowOptions = {\n\tcolumns: Array<ContentTableCell>,\n\thead?: boolean,\n};\n\nexport class ContentTableRow\n{\n\tconstructor(options: ContentTableRowOptions)\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableRowElement\n\t{\n\t\tconst headClass = this.options.head ? ' landing-ui-content-table-row-head' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-row${headClass}\">\n\t\t\t\t${this.options.columns.map((cell) => cell.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import 'ui.design-tokens';\n\nimport {Tag} from 'main.core';\nimport {ContentTableCell} from './content-table-cell';\nimport {ContentTableRow} from './content-table-row';\nimport type {ContentTableCellOptions} from './content-table-cell';\nimport type {ContentTableRowOptions} from './content-table-row';\n\nimport './css/style.css';\n\ntype ContentTableOptions = {\n\ttitle: string,\n\tcolumns: Array<ContentTableCellOptions>,\n\trows: Array<ContentTableRowOptions>\n};\n\nexport class ContentTable\n{\n\tconstructor(options: ContentTableOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.headRow = new ContentTableRow({\n\t\t\tcolumns: this.options.columns.map((columnOptions) => {\n\t\t\t\treturn new ContentTableCell(columnOptions);\n\t\t\t}),\n\t\t\thead: true,\n\t\t});\n\t\tthis.rows = this.options.rows.map((rowOptions) => {\n\t\t\treturn new ContentTableRow({\n\t\t\t\tcolumns: rowOptions.columns.map((cellOptions) => {\n\t\t\t\t\treturn new ContentTableCell(cellOptions);\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitleLayout(): HTMLDivElement | string\n\t{\n\t\tif (Type.isStringFilled(this.options.title))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-content-table-title\">${this.options.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\trender(): HTMLTableElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-wrapper\">\n\t\t\t\t\n\t\t\t\t<div class=\"landing-ui-content-table\">\n\t\t\t\t\t${this.headRow.render()}\n\t\t\t\t\t${this.rows.map((row) => row.render())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {AccordionField} from 'landing.ui.field.accordionfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport yandexIcon from './images/yandex.svg';\nimport googleIcon from './images/google.svg';\nimport {ContentTable} from './internal/table/content-table';\n\nexport default class AnalyticsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TITLE'),\n\t\t});\n\n\t\tconst items = [];\n\t\tif (Loc.getMessage('LANGUAGE_ID') === 'ru')\n\t\t{\n\t\t\titems.push({\n\t\t\t\tid: 'yandex',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_YANDEX_METRIKA'),\n\t\t\t\ticon: yandexIcon,\n\t\t\t\tchecked: true,\n\t\t\t\tswitcher: false,\n\t\t\t\tcontent: this.getYandexTable(),\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tid: 'google',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_GOOGLE_ANALYTICS'),\n\t\t\ticon: googleIcon,\n\t\t\tchecked: true,\n\t\t\tswitcher: false,\n\t\t\tcontent: this.getGoogleTable(),\n\t\t});\n\n\t\tconst accordionField = new AccordionField({\n\t\t\tselector: 'analytics',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEMS_FIELD_TITLE'),\n\t\t\titems,\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'analyticsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_DESCRIPTION'),\n\t\t\tangle: false,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(accordionField);\n\t}\n\n\tgetYandexTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.formOptions.analytics.steps.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.event},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n\n\tgetGoogleTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.formOptions.analytics.steps.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.code},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n}"],"names":["ContentTableCell","options","Tag","render","Text","encode","content","ContentTableRow","headClass","head","columns","map","cell","ContentTable","headRow","columnOptions","rows","rowOptions","cellOptions","Type","isStringFilled","title","row","AnalyticsContent","setEventNamespace","header","HeaderCard","Loc","getMessage","items","push","id","icon","yandexIcon","checked","switcher","getYandexTable","googleIcon","getGoogleTable","accordionField","AccordionField","selector","message","MessageCard","description","angle","restoreState","addItem","table","formOptions","analytics","steps","name","event","code","ContentWrapper"],"mappings":";;;;;;;;AAAA,kBAAe,wFAAf;;ACAA,kBAAe,wFAAf;;;;;;;KCOaA,gBAAb;GAEC,4BACA;KAAA,IADYC,OACZ,uEAD+C,EAC/C;KAAA;KACC,KAAKA,OAAL,qBAAmBA,OAAnB;;;GAJF;KAAA;KAAA,yBAQC;OACC,OAAOC,aAAG,CAACC,MAAX,yKAEIC,cAAI,CAACC,MAAL,CAAY,KAAKJ,OAAL,CAAaK,OAAzB,CAFJ;;;GATF;CAAA;;;;;;;KCCaC,eAAb;GAEC,yBAAYN,OAAZ,EACA;KAAA;KACC,KAAKA,OAAL,uBAAmBA,OAAnB;;;GAJF;KAAA;KAAA,yBAQC;OACC,IAAMO,SAAS,GAAG,KAAKP,OAAL,CAAaQ,IAAb,GAAoB,oCAApB,GAA2D,EAA7E;OAEA,OAAOP,aAAG,CAACC,MAAX,gLAC2CK,SAD3C,EAEI,KAAKP,OAAL,CAAaS,OAAb,CAAqBC,GAArB,CAAyB,UAACC,IAAD;SAAA,OAAUA,IAAI,CAACT,MAAL,EAAV;QAAzB,CAFJ;;;GAXF;CAAA;;;;;;;KCQaU,YAAb;GAEC,sBAAYZ,OAAZ,EACA;KAAA;KACC,KAAKA,OAAL,uBAAmBA,OAAnB;KACA,KAAKa,OAAL,GAAe,IAAIP,eAAJ,CAAoB;OAClCG,OAAO,EAAE,KAAKT,OAAL,CAAaS,OAAb,CAAqBC,GAArB,CAAyB,UAACI,aAAD,EAAmB;SACpD,OAAO,IAAIf,gBAAJ,CAAqBe,aAArB,CAAP;QADQ,CADyB;OAIlCN,IAAI,EAAE;MAJQ,CAAf;KAMA,KAAKO,IAAL,GAAY,KAAKf,OAAL,CAAae,IAAb,CAAkBL,GAAlB,CAAsB,UAACM,UAAD,EAAgB;OACjD,OAAO,IAAIV,eAAJ,CAAoB;SAC1BG,OAAO,EAAEO,UAAU,CAACP,OAAX,CAAmBC,GAAnB,CAAuB,UAACO,WAAD,EAAiB;WAChD,OAAO,IAAIlB,gBAAJ,CAAqBkB,WAArB,CAAP;UADQ;QADH,CAAP;MADW,CAAZ;;;GAXF;KAAA;KAAA,iCAqBC;OACC,IAAIC,IAAI,CAACC,cAAL,CAAoB,KAAKnB,OAAL,CAAaoB,KAAjC,CAAJ,EACA;SACC,OAAOnB,aAAG,CAACC,MAAX,gKAC+C,KAAKF,OAAL,CAAaoB,KAD5D;;;OAKD,OAAO,EAAP;;;KA7BF;KAAA,yBAiCC;OACC,OAAOnB,aAAG,CAACC,MAAX,4QAIK,KAAKW,OAAL,CAAaX,MAAb,EAJL,EAKK,KAAKa,IAAL,CAAUL,GAAV,CAAc,UAACW,GAAD;SAAA,OAASA,GAAG,CAACnB,MAAJ,EAAT;QAAd,CALL;;;GAlCF;CAAA;;KCNqBoB;;;GAEpB,0BAAYtB,OAAZ,EACA;KAAA;;KAAA;KACC,8GAAMA,OAAN;;KACA,MAAKuB,iBAAL,CAAuB,yDAAvB;;KAEA,IAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;OAC7BL,KAAK,EAAEM,eAAG,CAACC,UAAJ,CAAe,uCAAf;MADO,CAAf;KAIA,IAAMC,KAAK,GAAG,EAAd;;KACA,IAAIF,eAAG,CAACC,UAAJ,CAAe,aAAf,MAAkC,IAAtC,EACA;OACCC,KAAK,CAACC,IAAN,CAAW;SACVC,EAAE,EAAE,QADM;SAEVV,KAAK,EAAEM,eAAG,CAACC,UAAJ,CAAe,qDAAf,CAFG;SAGVI,IAAI,EAAEC,UAHI;SAIVC,OAAO,EAAE,IAJC;SAKVC,QAAQ,EAAE,KALA;SAMV7B,OAAO,EAAE,MAAK8B,cAAL;QANV;;;KAUDP,KAAK,CAACC,IAAN,CAAW;OACVC,EAAE,EAAE,QADM;OAEVV,KAAK,EAAEM,eAAG,CAACC,UAAJ,CAAe,uDAAf,CAFG;OAGVI,IAAI,EAAEK,UAHI;OAIVH,OAAO,EAAE,IAJC;OAKVC,QAAQ,EAAE,KALA;OAMV7B,OAAO,EAAE,MAAKgC,cAAL;MANV;KASA,IAAMC,cAAc,GAAG,IAAIC,8CAAJ,CAAmB;OACzCC,QAAQ,EAAE,WAD+B;OAEzCpB,KAAK,EAAEM,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAFkC;OAGzCC,KAAK,EAALA;MAHsB,CAAvB;KAMA,IAAMa,OAAO,GAAG,IAAIC,uCAAJ,CAAgB;OAC/BZ,EAAE,EAAE,kBAD2B;OAE/BN,MAAM,EAAEE,eAAG,CAACC,UAAJ,CAAe,+CAAf,CAFuB;OAG/BgB,WAAW,EAAEjB,eAAG,CAACC,UAAJ,CAAe,qDAAf,CAHkB;OAI/BiB,KAAK,EAAE,KAJwB;OAK/BC,YAAY,EAAE;MALC,CAAhB;;KAQA,MAAKC,OAAL,CAAatB,MAAb;;KACA,MAAKsB,OAAL,CAAaL,OAAb;;KACA,MAAKK,OAAL,CAAaR,cAAb;;KA9CD;;;;;sCAkDA;OACC,IAAMS,KAAK,GAAG,IAAInC,YAAJ,CAAiB;SAC9BH,OAAO,EAAE,CACR;WACCqB,EAAE,EAAE,OADL;WAECzB,OAAO,EAAEqB,eAAG,CAACC,UAAJ,CAAe,yDAAf;UAHF,EAKR;WACCG,EAAE,EAAE,IADL;WAECzB,OAAO,EAAEqB,eAAG,CAACC,UAAJ,CAAe,uDAAf;UAPF,CADqB;SAW9BZ,IAAI,EAAE,KAAKf,OAAL,CAAagD,WAAb,CAAyBC,SAAzB,CAAmCC,KAAnC,CAAyCxC,GAAzC,CAA6C,UAACW,GAAD,EAAS;WAC3D,OAAO;aACNZ,OAAO,EAAE,CACR;eAACJ,OAAO,EAAEgB,GAAG,CAAC8B;cADN,EAER;eAAC9C,OAAO,EAAEgB,GAAG,CAAC+B;cAFN;YADV;UADK;QAXO,CAAd;OAqBA,OAAOL,KAAK,CAAC7C,MAAN,EAAP;;;;sCAID;OACC,IAAM6C,KAAK,GAAG,IAAInC,YAAJ,CAAiB;SAC9BH,OAAO,EAAE,CACR;WACCqB,EAAE,EAAE,OADL;WAECzB,OAAO,EAAEqB,eAAG,CAACC,UAAJ,CAAe,yDAAf;UAHF,EAKR;WACCG,EAAE,EAAE,IADL;WAECzB,OAAO,EAAEqB,eAAG,CAACC,UAAJ,CAAe,uDAAf;UAPF,CADqB;SAW9BZ,IAAI,EAAE,KAAKf,OAAL,CAAagD,WAAb,CAAyBC,SAAzB,CAAmCC,KAAnC,CAAyCxC,GAAzC,CAA6C,UAACW,GAAD,EAAS;WAC3D,OAAO;aACNZ,OAAO,EAAE,CACR;eAACJ,OAAO,EAAEgB,GAAG,CAAC8B;cADN,EAER;eAAC9C,OAAO,EAAEgB,GAAG,CAACgC;cAFN;YADV;UADK;QAXO,CAAd;OAqBA,OAAON,KAAK,CAAC7C,MAAN,EAAP;;;;GArG4CoD;;;;;;;;"}