{"version":3,"file":"analytics.bundle.js","sources":["../src/images/yandex.svg","../src/images/google.svg","../src/internal/table/content-table-cell.js","../src/internal/table/content-table-row.js","../src/internal/table/content-table.js","../src/analytics.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/formsettingspanel/content/analytics/dist/images/yandex.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/content/analytics/dist/images/google.svg\"","import {Tag, Text} from 'main.core';\n\nexport type ContentTableCellOptions = {\n\tcontent: string | HTMLElement,\n\thead: boolean,\n};\n\nexport class ContentTableCell\n{\n\tconstructor(options: ContentTableCellOptions = {})\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableCellElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-cell\">\n\t\t\t\t${Text.encode(this.options.content)}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport type {ContentTableCell} from './content-table-cell';\n\nexport type ContentTableRowOptions = {\n\tcolumns: Array<ContentTableCell>,\n\thead?: boolean,\n};\n\nexport class ContentTableRow\n{\n\tconstructor(options: ContentTableRowOptions)\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableRowElement\n\t{\n\t\tconst headClass = this.options.head ? ' landing-ui-content-table-row-head' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-row${headClass}\">\n\t\t\t\t${this.options.columns.map((cell) => cell.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport {ContentTableCell} from './content-table-cell';\nimport {ContentTableRow} from './content-table-row';\nimport type {ContentTableCellOptions} from './content-table-cell';\nimport type {ContentTableRowOptions} from './content-table-row';\n\nimport './css/style.css';\n\ntype ContentTableOptions = {\n\ttitle: string,\n\tcolumns: Array<ContentTableCellOptions>,\n\trows: Array<ContentTableRowOptions>\n};\n\nexport class ContentTable\n{\n\tconstructor(options: ContentTableOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.headRow = new ContentTableRow({\n\t\t\tcolumns: this.options.columns.map((columnOptions) => {\n\t\t\t\treturn new ContentTableCell(columnOptions);\n\t\t\t}),\n\t\t\thead: true,\n\t\t});\n\t\tthis.rows = this.options.rows.map((rowOptions) => {\n\t\t\treturn new ContentTableRow({\n\t\t\t\tcolumns: rowOptions.columns.map((cellOptions) => {\n\t\t\t\t\treturn new ContentTableCell(cellOptions);\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitleLayout(): HTMLDivElement | string\n\t{\n\t\tif (Type.isStringFilled(this.options.title))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-content-table-title\">${this.options.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\trender(): HTMLTableElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-wrapper\">\n\t\t\t\t\n\t\t\t\t<div class=\"landing-ui-content-table\">\n\t\t\t\t\t${this.headRow.render()}\n\t\t\t\t\t${this.rows.map((row) => row.render())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {AccordionField} from 'landing.ui.field.accordionfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport yandexIcon from './images/yandex.svg';\nimport googleIcon from './images/google.svg';\nimport {ContentTable} from './internal/table/content-table';\n\nexport default class AnalyticsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TITLE'),\n\t\t});\n\n\t\tconst items = [];\n\t\tif (Loc.getMessage('LANGUAGE_ID') === 'ru')\n\t\t{\n\t\t\titems.push({\n\t\t\t\tid: 'yandex',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_YANDEX_METRIKA'),\n\t\t\t\ticon: yandexIcon,\n\t\t\t\tchecked: true,\n\t\t\t\tswitcher: false,\n\t\t\t\tcontent: this.getYandexTable(),\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tid: 'google',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_GOOGLE_ANALYTICS'),\n\t\t\ticon: googleIcon,\n\t\t\tchecked: true,\n\t\t\tswitcher: false,\n\t\t\tcontent: this.getGoogleTable(),\n\t\t});\n\n\t\tconst accordionField = new AccordionField({\n\t\t\tselector: 'analytics',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEMS_FIELD_TITLE'),\n\t\t\titems,\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'analyticsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_DESCRIPTION'),\n\t\t\tangle: false,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(accordionField);\n\t}\n\n\tgetYandexTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.formOptions.analytics.steps.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.event},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n\n\tgetGoogleTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.formOptions.analytics.steps.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.code},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n}"],"names":["ContentTableCell","options","Tag","render","Text","encode","content","ContentTableRow","headClass","head","columns","map","cell","ContentTable","headRow","columnOptions","rows","rowOptions","cellOptions","Type","isStringFilled","title","row","AnalyticsContent","setEventNamespace","header","HeaderCard","Loc","getMessage","items","push","id","icon","yandexIcon","checked","switcher","getYandexTable","googleIcon","getGoogleTable","accordionField","AccordionField","selector","message","MessageCard","description","angle","restoreState","addItem","table","formOptions","analytics","steps","name","event","code","ContentWrapper"],"mappings":";;;;;;;;AAAA,kBAAe,wFAAf;;ACAA,kBAAe,wFAAf;;;KCOaA,gBAAb;CAEC,8BACA;CAAA,QADYC,OACZ,uEAD+C,EAC/C;CAAA;CACC,SAAKA,OAAL,iCAAmBA,OAAnB;CACA;;CALF;CAAA;CAAA,6BAQC;CACC,aAAOC,aAAG,CAACC,MAAX,yKAEIC,cAAI,CAACC,MAAL,CAAY,KAAKJ,OAAL,CAAaK,OAAzB,CAFJ;CAKA;CAdF;CAAA;CAAA;;;KCCaC,eAAb;CAEC,2BAAYN,OAAZ,EACA;CAAA;CACC,SAAKA,OAAL,iCAAmBA,OAAnB;CACA;;CALF;CAAA;CAAA,6BAQC;CACC,UAAMO,SAAS,GAAG,KAAKP,OAAL,CAAaQ,IAAb,GAAoB,oCAApB,GAA2D,EAA7E;CAEA,aAAOP,aAAG,CAACC,MAAX,gLAC2CK,SAD3C,EAEI,KAAKP,OAAL,CAAaS,OAAb,CAAqBC,GAArB,CAAyB,UAACC,IAAD;CAAA,eAAUA,IAAI,CAACT,MAAL,EAAV;CAAA,OAAzB,CAFJ;CAKA;CAhBF;CAAA;CAAA;;;KCMaU,YAAb;CAEC,wBAAYZ,OAAZ,EACA;CAAA;CACC,SAAKA,OAAL,iCAAmBA,OAAnB;CACA,SAAKa,OAAL,GAAe,IAAIP,eAAJ,CAAoB;CAClCG,MAAAA,OAAO,EAAE,KAAKT,OAAL,CAAaS,OAAb,CAAqBC,GAArB,CAAyB,UAACI,aAAD,EAAmB;CACpD,eAAO,IAAIf,gBAAJ,CAAqBe,aAArB,CAAP;CACA,OAFQ,CADyB;CAIlCN,MAAAA,IAAI,EAAE;CAJ4B,KAApB,CAAf;CAMA,SAAKO,IAAL,GAAY,KAAKf,OAAL,CAAae,IAAb,CAAkBL,GAAlB,CAAsB,UAACM,UAAD,EAAgB;CACjD,aAAO,IAAIV,eAAJ,CAAoB;CAC1BG,QAAAA,OAAO,EAAEO,UAAU,CAACP,OAAX,CAAmBC,GAAnB,CAAuB,UAACO,WAAD,EAAiB;CAChD,iBAAO,IAAIlB,gBAAJ,CAAqBkB,WAArB,CAAP;CACA,SAFQ;CADiB,OAApB,CAAP;CAKA,KANW,CAAZ;CAOA;;CAlBF;CAAA;CAAA,qCAqBC;CACC,UAAIC,IAAI,CAACC,cAAL,CAAoB,KAAKnB,OAAL,CAAaoB,KAAjC,CAAJ,EACA;CACC,eAAOnB,aAAG,CAACC,MAAX,gKAC+C,KAAKF,OAAL,CAAaoB,KAD5D;CAGA;;CAED,aAAO,EAAP;CACA;CA9BF;CAAA;CAAA,6BAiCC;CACC,aAAOnB,aAAG,CAACC,MAAX,4QAIK,KAAKW,OAAL,CAAaX,MAAb,EAJL,EAKK,KAAKa,IAAL,CAAUL,GAAV,CAAc,UAACW,GAAD;CAAA,eAASA,GAAG,CAACnB,MAAJ,EAAT;CAAA,OAAd,CALL;CASA;CA3CF;CAAA;CAAA;;KCJqBoB;;;CAEpB,4BAAYtB,OAAZ,EACA;CAAA;;CAAA;CACC,kHAAMA,OAAN;;CACA,UAAKuB,iBAAL,CAAuB,yDAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BL,MAAAA,KAAK,EAAEM,eAAG,CAACC,UAAJ,CAAe,uCAAf;CADsB,KAAf,CAAf;CAIA,QAAMC,KAAK,GAAG,EAAd;;CACA,QAAIF,eAAG,CAACC,UAAJ,CAAe,aAAf,MAAkC,IAAtC,EACA;CACCC,MAAAA,KAAK,CAACC,IAAN,CAAW;CACVC,QAAAA,EAAE,EAAE,QADM;CAEVV,QAAAA,KAAK,EAAEM,eAAG,CAACC,UAAJ,CAAe,qDAAf,CAFG;CAGVI,QAAAA,IAAI,EAAEC,UAHI;CAIVC,QAAAA,OAAO,EAAE,IAJC;CAKVC,QAAAA,QAAQ,EAAE,KALA;CAMV7B,QAAAA,OAAO,EAAE,MAAK8B,cAAL;CANC,OAAX;CAQA;;CAEDP,IAAAA,KAAK,CAACC,IAAN,CAAW;CACVC,MAAAA,EAAE,EAAE,QADM;CAEVV,MAAAA,KAAK,EAAEM,eAAG,CAACC,UAAJ,CAAe,uDAAf,CAFG;CAGVI,MAAAA,IAAI,EAAEK,UAHI;CAIVH,MAAAA,OAAO,EAAE,IAJC;CAKVC,MAAAA,QAAQ,EAAE,KALA;CAMV7B,MAAAA,OAAO,EAAE,MAAKgC,cAAL;CANC,KAAX;CASA,QAAMC,cAAc,GAAG,IAAIC,8CAAJ,CAAmB;CACzCC,MAAAA,QAAQ,EAAE,WAD+B;CAEzCpB,MAAAA,KAAK,EAAEM,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAFkC;CAGzCC,MAAAA,KAAK,EAALA;CAHyC,KAAnB,CAAvB;CAMA,QAAMa,OAAO,GAAG,IAAIC,uCAAJ,CAAgB;CAC/BZ,MAAAA,EAAE,EAAE,kBAD2B;CAE/BN,MAAAA,MAAM,EAAEE,eAAG,CAACC,UAAJ,CAAe,+CAAf,CAFuB;CAG/BgB,MAAAA,WAAW,EAAEjB,eAAG,CAACC,UAAJ,CAAe,qDAAf,CAHkB;CAI/BiB,MAAAA,KAAK,EAAE,KAJwB;CAK/BC,MAAAA,YAAY,EAAE;CALiB,KAAhB,CAAhB;;CAQA,UAAKC,OAAL,CAAatB,MAAb;;CACA,UAAKsB,OAAL,CAAaL,OAAb;;CACA,UAAKK,OAAL,CAAaR,cAAb;;CA9CD;CA+CC;;;;sCAGD;CACC,UAAMS,KAAK,GAAG,IAAInC,YAAJ,CAAiB;CAC9BH,QAAAA,OAAO,EAAE,CACR;CACCqB,UAAAA,EAAE,EAAE,OADL;CAECzB,UAAAA,OAAO,EAAEqB,eAAG,CAACC,UAAJ,CAAe,yDAAf;CAFV,SADQ,EAKR;CACCG,UAAAA,EAAE,EAAE,IADL;CAECzB,UAAAA,OAAO,EAAEqB,eAAG,CAACC,UAAJ,CAAe,uDAAf;CAFV,SALQ,CADqB;CAW9BZ,QAAAA,IAAI,EAAE,KAAKf,OAAL,CAAagD,WAAb,CAAyBC,SAAzB,CAAmCC,KAAnC,CAAyCxC,GAAzC,CAA6C,UAACW,GAAD,EAAS;CAC3D,iBAAO;CACNZ,YAAAA,OAAO,EAAE,CACR;CAACJ,cAAAA,OAAO,EAAEgB,GAAG,CAAC8B;CAAd,aADQ,EAER;CAAC9C,cAAAA,OAAO,EAAEgB,GAAG,CAAC+B;CAAd,aAFQ;CADH,WAAP;CAMA,SAPK;CAXwB,OAAjB,CAAd;CAqBA,aAAOL,KAAK,CAAC7C,MAAN,EAAP;CACA;;;sCAGD;CACC,UAAM6C,KAAK,GAAG,IAAInC,YAAJ,CAAiB;CAC9BH,QAAAA,OAAO,EAAE,CACR;CACCqB,UAAAA,EAAE,EAAE,OADL;CAECzB,UAAAA,OAAO,EAAEqB,eAAG,CAACC,UAAJ,CAAe,yDAAf;CAFV,SADQ,EAKR;CACCG,UAAAA,EAAE,EAAE,IADL;CAECzB,UAAAA,OAAO,EAAEqB,eAAG,CAACC,UAAJ,CAAe,uDAAf;CAFV,SALQ,CADqB;CAW9BZ,QAAAA,IAAI,EAAE,KAAKf,OAAL,CAAagD,WAAb,CAAyBC,SAAzB,CAAmCC,KAAnC,CAAyCxC,GAAzC,CAA6C,UAACW,GAAD,EAAS;CAC3D,iBAAO;CACNZ,YAAAA,OAAO,EAAE,CACR;CAACJ,cAAAA,OAAO,EAAEgB,GAAG,CAAC8B;CAAd,aADQ,EAER;CAAC9C,cAAAA,OAAO,EAAEgB,GAAG,CAACgC;CAAd,aAFQ;CADH,WAAP;CAMA,SAPK;CAXwB,OAAjB,CAAd;CAqBA,aAAON,KAAK,CAAC7C,MAAN,EAAP;CACA;;;GAtG4CoD;;;;;;;;"}