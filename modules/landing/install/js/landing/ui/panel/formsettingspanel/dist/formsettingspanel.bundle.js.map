{"version":3,"file":"formsettingspanel.bundle.js","sources":["../src/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg","../src/internal/content/header-and-buttons/header-and-buttons.js","../src/internal/content/agreements/images/message-icon.svg","../src/internal/content/agreements/agreements.js","../src/internal/content/spam-protection/spam-protection.js","../src/internal/content/analytics/images/yandex.svg","../src/internal/content/analytics/images/google.svg","../src/internal/content/analytics/internal/table/content-table-cell.js","../src/internal/content/analytics/internal/table/content-table-row.js","../src/internal/content/analytics/internal/table/content-table.js","../src/internal/content/analytics/analytics.js","../src/internal/content/fields/images/message-icon.svg","../src/internal/content/fields/fields.js","../src/internal/content/fields-rules/fields-rules.js","../src/internal/content/actions/internal/action-pages/action-pages.js","../src/internal/content/actions/images/type1.svg","../src/internal/content/actions/images/type2.svg","../src/internal/content/actions/actions.js","../src/internal/content/embed/internal/embedfield/embedfield.js","../src/internal/content/embed/internal/widgetfield/widgetfield.js","../src/internal/content/embed/internal/copylinkfield/copylinkfield.js","../src/internal/content/embed/internal/positionfield/positionfield.js","../src/internal/content/embed/images/type1.svg","../src/internal/content/embed/images/type2.svg","../src/internal/content/embed/images/type3.svg","../src/internal/content/embed/images/type4.svg","../src/internal/content/embed/images/type5.svg","../src/internal/content/embed/images/type6.svg","../src/internal/content/embed/embed.js","../src/internal/content/identify/images/icon.svg","../src/internal/content/identify/identify.js","../src/internal/content/crm/internal/orderfield/orderfield.js","../src/internal/content/crm/internal/stagefield/stagefield.js","../src/internal/content/crm/images/message-icon.svg","../src/internal/content/crm/crm.js","../src/internal/content/defaultvalues/defaultvalues.js","../src/internal/content/facebook/facebook.js","../src/internal/content/vk/vk.js","../src/internal/content/callback/callback.js","../src/internal/content/other/internal/userselectorfield/userselectorfield.js","../src/internal/content/other/other.js","../src/internal/sidebar-buttons.js","../src/internal/preset-categories.js","../src/images/icons/integration.svg","../src/images/icons/autoshow.svg","../src/images/icons/revertcall.svg","../src/images/icons/producttext.svg","../src/images/icons/productimage.svg","../src/images/icons/vk.svg","../src/images/icons/facebook.svg","../src/images/icons/crm.svg","../src/images/icons/service.svg","../src/internal/presets.js","../src/formsettingspanel.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport headerAndButtonsIcon from './images/header-and-buttons-message-icon.svg';\n\nexport default class HeaderAndButtonContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.HeaderAndButtonContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'headerAndButtonMessage',\n\t\t\ticon: headerAndButtonsIcon,\n\t\t\theader: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_DESCRIPTION'),\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst headersForm = new FormSettingsForm({\n\t\t\tid: 'headers',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_TITLE'),\n\t\t\ttoggleable: true,\n\t\t\tfields: [\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'title',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.title,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'desc',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.desc,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\tselector: 'hideDesc',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 'hideDesc',\n\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// {\n\t\t\t\t\t\t// \tvalue: 'hideSeparator',\n\t\t\t\t\t\t// \tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SEPARATOR_FIELD_TITLE'),\n\t\t\t\t\t\t// },\n\t\t\t\t\t],\n\t\t\t\t\tcompact: true,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tconst buttonsForm = new FormSettingsForm({\n\t\t\tid: 'buttons',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_TITLE'),\n\t\t\tfields: [\n\t\t\t\tnew TextField({\n\t\t\t\t\tselector: 'buttonCaption',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_SEND_BUTTON_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.buttonCaption,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(headersForm);\n\t\tthis.addItem(buttonsForm);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst value = Object.entries(sourceValue).reduce((acc, [key, value]) => {\n\t\t\tif (key === 'hideDesc')\n\t\t\t{\n\t\t\t\tif (value.includes(key))\n\t\t\t\t{\n\t\t\t\t\tacc.desc = '';\n\t\t\t\t}\n\n\t\t\t\tdelete acc.hideDesc;\n\t\t\t}\n\n\t\t\tif (key === 'useSign')\n\t\t\t{\n\t\t\t\tacc.useSign = value.includes('useSign');\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {...sourceValue});\n\n\t\tif (!this.items[2].getSwitch().getValue())\n\t\t{\n\t\t\tvalue.title = '';\n\t\t\tvalue.desc = '';\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/agreements/images/message-icon.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {AgreementsList} from 'landing.ui.field.agreementslist';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class AgreementsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_AGREEMENTS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'agreementsMessage',\n\t\t\theader: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst listForm = new FormSettingsForm({\n\t\t\tid: 'agreementsList',\n\t\t\tfields: [\n\t\t\t\tnew AgreementsList({\n\t\t\t\t\tselector: 'agreements',\n\t\t\t\t\tformOptions: this.options.formOptions,\n\t\t\t\t\tagreementsList: this.options.agreementsList,\n\t\t\t\t\tvalue: this.options.values.agreements,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(listForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\n\nimport './css/style.css';\n\nexport default class SpamProtection extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TITLE'),\n\t\t});\n\n\t\tconst captchaTypeForm = new FormSettingsForm({\n\t\t\tid: 'type',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tnew RadioButtonField({\n\t\t\t\t\tselector: 'use',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TABS_TITLE'),\n\t\t\t\t\tvalue: this.options.values.use ? 'hidden' : 'disabled',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'disabled',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_DISABLED'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-disabled',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'hidden',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_HIDDEN'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-hidden',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(captchaTypeForm);\n\t\tthis.addItem(this.getKeysCheckbox());\n\t\tthis.addItem(this.getKeysForm());\n\n\t\tconst hasKeys = this.options.values.key && this.options.values.secret;\n\n\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t{\n\t\t\tthis.hideKeysCheckbox();\n\t\t\tthis.hideKeysForm();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.showKeysCheckbox();\n\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\tif (hasKeys)\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t}\n\n\t\tcaptchaTypeForm.subscribe('onChange', () => {\n\t\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t\t{\n\t\t\t\tthis.hideKeysCheckbox();\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.showKeysCheckbox();\n\t\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\t\tif (hasKeys)\n\t\t\t\t{\n\t\t\t\t\tthis.showKeysForm();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.hideKeysForm();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.getKeysCheckbox().subscribe('onChange', () => {\n\t\t\tif (this.getKeysCheckbox().fields[0].getValue().includes('useCustomKeys'))\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKeysCheckbox()\n\t{\n\t\treturn this.cache.remember('keysCheckbox', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'customKeys',\n\t\t\t\tdescription: null,\n\t\t\t\tfields: [\n\t\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\t\tselector: 'useCustomKeys',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_SPAM_PROTECTION_CUSTOM_KEYS_CHECKBOX_LABEL'),\n\t\t\t\t\t\t\t\tvalue: 'useCustomKeys',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = false;\n\t}\n\n\thideKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = true;\n\t}\n\n\tgetKeysForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('keysForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'keys',\n\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_TITLE'),\n\t\t\t\thelp: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_TEXT'),\n\t\t\t\t\thref: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_HREF'),\n\t\t\t\t},\n\t\t\t\tfields: [\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'key',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.key,\n\t\t\t\t\t}),\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'secret',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_SECRET_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.secret,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = false;\n\t}\n\n\thideKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = true;\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst useCustomKeys = sourceValue.useCustomKeys.length > 0;\n\n\t\treturn {\n\t\t\trecaptcha: {\n\t\t\t\tuse: sourceValue.use === 'hidden',\n\t\t\t\tkey: useCustomKeys ? sourceValue.key : '',\n\t\t\t\tsecret: useCustomKeys ? sourceValue.secret : '',\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/yandex.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/google.svg\"","import {Tag} from 'main.core';\n\nexport type ContentTableCellOptions = {\n\tcontent: string | HTMLElement,\n\thead: boolean,\n};\n\nexport class ContentTableCell\n{\n\tconstructor(options: ContentTableCellOptions = {})\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableCellElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-cell\">\n\t\t\t\t${this.options.content}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport type {ContentTableCell} from './content-table-cell';\n\nexport type ContentTableRowOptions = {\n\tcolumns: Array<ContentTableCell>,\n\thead?: boolean,\n};\n\nexport class ContentTableRow\n{\n\tconstructor(options: ContentTableRowOptions)\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableRowElement\n\t{\n\t\tconst headClass = this.options.head ? ' landing-ui-content-table-row-head' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-row${headClass}\">\n\t\t\t\t${this.options.columns.map((cell) => cell.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport {ContentTableCell} from './content-table-cell';\nimport {ContentTableRow} from './content-table-row';\nimport type {ContentTableCellOptions} from './content-table-cell';\nimport type {ContentTableRowOptions} from './content-table-row';\n\nimport './css/style.css';\n\ntype ContentTableOptions = {\n\ttitle: string,\n\tcolumns: Array<ContentTableCellOptions>,\n\trows: Array<ContentTableRowOptions>\n};\n\nexport class ContentTable\n{\n\tconstructor(options: ContentTableOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.headRow = new ContentTableRow({\n\t\t\tcolumns: this.options.columns.map((columnOptions) => {\n\t\t\t\treturn new ContentTableCell(columnOptions);\n\t\t\t}),\n\t\t\thead: true,\n\t\t});\n\t\tthis.rows = this.options.rows.map((rowOptions) => {\n\t\t\treturn new ContentTableRow({\n\t\t\t\tcolumns: rowOptions.columns.map((cellOptions) => {\n\t\t\t\t\treturn new ContentTableCell(cellOptions);\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitleLayout(): HTMLDivElement | string\n\t{\n\t\tif (Type.isStringFilled(this.options.title))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-content-table-title\">${this.options.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\trender(): HTMLTableElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-wrapper\">\n\t\t\t\t\n\t\t\t\t<div class=\"landing-ui-content-table\">\n\t\t\t\t\t${this.headRow.render()}\n\t\t\t\t\t${this.rows.map((row) => row.render())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {AccordionField} from 'landing.ui.field.accordionfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport yandexIcon from './images/yandex.svg';\nimport googleIcon from './images/google.svg';\nimport {ContentTable} from './internal/table/content-table';\n\nexport default class AnalyticsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TITLE'),\n\t\t});\n\n\t\tconst items = [];\n\t\tif (Loc.getMessage('LANGUAGE_ID') === 'ru')\n\t\t{\n\t\t\titems.push({\n\t\t\t\tid: 'yandex',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_YANDEX_METRIKA'),\n\t\t\t\ticon: yandexIcon,\n\t\t\t\tchecked: true,\n\t\t\t\tswitcher: false,\n\t\t\t\tcontent: this.getYandexTable(),\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tid: 'google',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_GOOGLE_ANALYTICS'),\n\t\t\ticon: googleIcon,\n\t\t\tchecked: true,\n\t\t\tswitcher: false,\n\t\t\tcontent: this.getGoogleTable(),\n\t\t});\n\n\t\tconst accordionField = new AccordionField({\n\t\t\tselector: 'analytics',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEMS_FIELD_TITLE'),\n\t\t\titems,\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'analyticsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_DESCRIPTION'),\n\t\t\tangle: false,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(accordionField);\n\t}\n\n\tgetYandexTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.event},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n\n\tgetGoogleTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.code},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/fields/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {FieldsListField} from 'landing.ui.field.fieldslistfield';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class FieldsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'fieldsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew FieldsListField({\n\t\t\t\t\tselector: 'fields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'main.core';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {RuleField} from 'landing.ui.field.rulefield';\nimport {ActionPanel} from 'landing.ui.component.actionpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\n\nimport './css/style.css';\nimport {BaseEvent} from 'main.core.events';\n\nexport default class FieldsRulesContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsRulesContent');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!Object.keys(this.options.values).length > 0)\n\t\t{\n\t\t\tthis.addItem(this.getRuleTypeField());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(this.getRulesForm());\n\t\t\tthis.addItem(this.getActionPanel());\n\n\t\t\tconst values = this.options.values.reduce((acc, group) => {\n\t\t\t\tgroup.list.forEach((item) => {\n\t\t\t\t\tconst accEntry = acc.find((accItem) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\taccItem.condition.field === item.condition.target\n\t\t\t\t\t\t\t\t|| accItem.condition.field.id === item.condition.target\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t&& accItem.condition.value === item.condition.value\n\t\t\t\t\t\t\t&& accItem.condition.operator === item.condition.operation\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (accEntry)\n\t\t\t\t\t{\n\t\t\t\t\t\taccEntry.expression.push({\n\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\treturn field.id === item.action.target;\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\treturn field.name === item.condition.target;\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tvalue: item.condition.value,\n\t\t\t\t\t\t\t\toperator: item.condition.operation,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\texpression: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.name === item.action.target;\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn acc;\n\t\t\t}, []);\n\n\t\t\tthis.getRulesForm().addField(\n\t\t\t\tnew RuleField({\n\t\t\t\t\tfields: this.options.fields,\n\t\t\t\t\trules: values,\n\t\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tonFieldRemove(event: BaseEvent)\n\t{\n\t\tthis.getRulesForm().removeField(event.getTarget());\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(true);\n\t\tthis.addItem(header);\n\t\tthis.addItem(this.getRuleTypeField());\n\t}\n\n\tgetRulesForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('rulesForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tselector: 'dependencies',\n\t\t\t\tdescription: null,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetActionPanel(): ActionPanel\n\t{\n\t\treturn this.cache.remember('actionPanel', () => {\n\t\t\treturn new ActionPanel({\n\t\t\t\tleft: [\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttext: Loc.getMessage('LANDING_FIELDS_ADD_NEW_RULE_LINK_LABEL'),\n\t\t\t\t\t// \tonClick: this.onAddRuleClick.bind(this),\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('headerCard', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCreateRule()\n\t{\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(false);\n\t\tthis.addItem(header);\n\n\t\tconst ruleForm = this.getRulesForm();\n\n\t\truleForm.addField(\n\t\t\tnew RuleField({\n\t\t\t\tfields: this.options.fields,\n\t\t\t\trules: [],\n\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t}),\n\t\t);\n\n\t\tthis.addItem(ruleForm);\n\t\tthis.addItem(this.getActionPanel());\n\t}\n\n\tgetRuleTypeField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('ruleTypeField', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'rules-type',\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type1-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_1'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type2-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_2'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type3',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type3-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_3'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonAddRuleClick()\n\t{\n\t\tconst radioField = this.getRuleTypeField();\n\t\tthis.insertBefore(radioField, this.items[this.items.length - 1]);\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\treturn {\n\t\t\tdependencies: Object.values(value).map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\ttypeId: 0,\n\t\t\t\t\tlist: item.reduce((acc, listItems) => {\n\t\t\t\t\t\tlistItems.forEach((listItem) => {\n\t\t\t\t\t\t\tlistItem.expression.forEach((expItem) => {\n\t\t\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\ttarget: listItem.condition.field,\n\t\t\t\t\t\t\t\t\t\tevent: 'change',\n\t\t\t\t\t\t\t\t\t\tvalue: listItem.condition.value,\n\t\t\t\t\t\t\t\t\t\toperation: listItem.condition.operator,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t\t\t\ttarget: expItem.field,\n\t\t\t\t\t\t\t\t\t\ttype: expItem.action,\n\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []),\n\t\t\t\t};\n\t\t\t}),\n\t\t};\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Dom, Tag, Type, Event} from 'main.core';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {fetchEventsFromOptions} from 'landing.ui.component.internal';\n\nexport class ActionPagesField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.ActionPagesField');\n\t\tthis.subscribeFromOptions(fetchEventsFromOptions(options));\n\t\tthis.setLayoutClass('landing-ui-field-action-pages');\n\n\t\tDom.append(this.getSuccess(), this.input);\n\t\tDom.append(this.getFailure(), this.input);\n\n\t\tEvent.bind(document, 'click', this.onDocumentClick.bind(this));\n\t\tEvent.bind(window.top.document, 'click', this.onDocumentClick.bind(this));\n\t}\n\n\tstatic createPageBlock(\n\t\toptions: {\n\t\t\ttype: 'success' | 'failure',\n\t\t\ttitle: string,\n\t\t\ttext: string,\n\t\t\tonShowClick: (event: MouseEvent) => void,\n\t\t\tonEditClick: (event: MouseEvent) => void,\n\t\t},\n\t): HTMLDivElement\n\t{\n\t\tconst classPrefix = 'landing-ui-field-action-pages-page';\n\n\t\tconst onEditClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tconst inner = event.currentTarget.closest(`.${classPrefix}-inner`);\n\t\t\tconst textContainer = inner.querySelector(`.${classPrefix}-text`);\n\t\t\tDom.attr(textContainer, 'contenteditable', !textContainer.isContentEditable);\n\t\t\tif (Type.isFunction(options.onEditClick))\n\t\t\t{\n\t\t\t\toptions.onEditClick(event);\n\t\t\t}\n\t\t};\n\n\t\tconst onEditorClick = (event) => {\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tconst onViewClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (Type.isFunction(options.onShowClick))\n\t\t\t{\n\t\t\t\toptions.onShowClick(event);\n\t\t\t}\n\t\t};\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${classPrefix} ${classPrefix}-${options.type}\">\n\t\t\t\t<div class=\"${classPrefix}-title\">\n\t\t\t\t\t${options.title}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${classPrefix}-inner\">\n\t\t\t\t\t<div class=\"${classPrefix}-header\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-header-view\" onclick=\"${onViewClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_SHOW')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-icon\"></div>\n\t\t\t\t\t<div class=\"${classPrefix}-text\" onclick=\"${onEditorClick}\" oninput=\"${options.onInput}\">\n\t\t\t\t\t\t${options.text}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-footer\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-footer-edit\" onclick=\"${onEditClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_EDIT')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonDocumentClick()\n\t{\n\t\tconst successInput = this.getSuccess().querySelector('.landing-ui-field-action-pages-page-text');\n\t\tconst failureInput = this.getFailure().querySelector('.landing-ui-field-action-pages-page-text');\n\n\t\tDom.attr(successInput, 'contenteditable', null);\n\t\tDom.attr(failureInput, 'contenteditable', null);\n\t}\n\n\tgetSuccess(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('success', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'success',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_SUCCESS_PAGE_TITLE'),\n\t\t\t\ttext: this.options.successText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailure(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('failure', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'failure',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_FAILURE_PAGE_TITLE'),\n\t\t\t\ttext: this.options.failureText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowFailure');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSuccessText(): string\n\t{\n\t\treturn this.getSuccess()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetFailureText(): string\n\t{\n\t\treturn this.getFailure()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tsuccess: this.getSuccessText(),\n\t\t\tfailure: this.getFailureText(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type2.svg\"","import {Dom, Type} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ActionPagesField} from './internal/action-pages/action-pages';\n\nimport type1Icon from './images/type1.svg';\nimport type2Icon from './images/type2.svg';\n\nimport './css/style.css';\n\nexport default class ActionsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.ActionsContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-actions-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\n\t\tthis.getActionPages()\n\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t})\n\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\tthis.emit('onShowFailure');\n\t\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselectable: true,\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isStringFilled(this.options.values.success.url)\n\t\t\t\t\t\t&& Type.isStringFilled(this.options.values.failure.url)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 'type2';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn 'type1';\n\t\t\t\t})(),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_1'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type1',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_2'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type2',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCheckbox()\n\t{\n\t\treturn this.cache.remember('checkbox', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_ACTIONS_CHECKBOX_TITLE'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\t\t\tfield.setIcon(type1Icon);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetSuccessLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('successLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_SUCCESS_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.success.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailureLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('failureLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_FAILURE_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.failure.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('delayField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'redirectDelay',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_TITLE'),\n\t\t\t\tcontent: this.options.values.redirectDelay,\n\t\t\t\titems: Array.from({length: 11}, (item, index) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: `${index} ${Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_ITEM')}`,\n\t\t\t\t\t\tvalue: (index),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tonChange()\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetActionPages()\n\t{\n\t\treturn this.cache.remember('actionPages', () => {\n\t\t\treturn new ActionPagesField({\n\t\t\t\tsuccessText: this.options.values.success.text,\n\t\t\t\tfailureText: this.options.values.failure.text,\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(typeDropdown);\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1Icon);\n\t\t\tthis.addItem(this.getActionPages());\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2Icon);\n\t\t\tthis.addItem(this.getSuccessLinkField());\n\t\t\tthis.addItem(this.getFailureLinkField());\n\t\t\tthis.addItem(this.getDelayField());\n\t\t}\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst actionPagesValue = this.getActionPages().getValue();\n\n\t\treturn {\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: actionPagesValue.success,\n\t\t\t\t\turl: this.getSuccessLinkField().getValue(),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: actionPagesValue.failure,\n\t\t\t\t\turl: this.getFailureLinkField().getValue(),\n\t\t\t\t},\n\t\t\t\tredirectDelay: this.getDelayField().getValue(),\n\t\t\t},\n\t\t};\n\t}\n}","import {Dom, Tag, Event, Text} from 'main.core';\nimport {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {PageObject} from 'landing.pageobject';\nimport {Button} from 'ui.buttons';\n\nimport './css/style.css';\n\nexport class EmbedField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.EmbedField');\n\t\tthis.setLayoutClass('landing-ui-field-embed');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getHeader(), this.layout);\n\t\tDom.append(this.input, this.layout);\n\n\t\tEvent.bind(this.input, 'click', this.onInputClick.bind(this));\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_COPY_BUTTON_LABEL'),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_COPIED_BUTTON_LABEL'));\n\n\t\tDom.addClass(this.getHeader(), 'landing-ui-field-embed-header-copied');\n\t}\n\n\tonInputClick(event: MouseEvent)\n\t{\n\t\tevent.preventDefault();\n\t\tthis.selectCode();\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.input);\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-embed-header\">\n\t\t\t\t\t<div class=\"landing-ui-field-embed-header-button\">\n\t\t\t\t\t\t${this.getCopyButton().render()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tsetValue(value: * = '')\n\t{\n\t\tthis.input.innerHTML = Text.encode(value);\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\n\nexport default class WidgetField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Filed.WidgetField');\n\t\tthis.setLayoutClass('landing-ui-filed-widget');\n\n\t\tDom.append(this.getInputWrapper(), this.layout);\n\t}\n\n\tgetInputWrapper(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('inputWrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-filed-widget-wrapper\">\n\t\t\t\t\t${this.input}\n\t\t\t\t\t${this.getSettingsButton().render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetSettingsButton(): Button\n\t{\n\t\treturn this.cache.remember('settingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_BUTTON_LABEL'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\ticon: Button.Icon.SETTING,\n\t\t\t});\n\t\t});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\nimport {Link} from 'landing.ui.component.link';\nimport {PageObject} from 'landing.pageobject';\n\nimport './css/style.css';\n\ntype CopyLinkFieldOptions = {\n\tlink: string,\n};\n\nexport default class CopyLinkField extends BaseField\n{\n\tconstructor(options: CopyLinkFieldOptions)\n\t{\n\t\tsuper(options);\n\t\tthis.setLayoutClass('landing-ui-field-copy-link');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getLink(), this.layout);\n\t\tDom.append(this.getCopyButton().render(), this.layout);\n\t}\n\n\tgetLink()\n\t{\n\t\treturn this.cache.remember('link', () => {\n\t\t\tconst link = new Link({\n\t\t\t\ttext: this.options.link,\n\t\t\t\thref: this.options.link,\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-copy-link-preview\">\n\t\t\t\t\t${link.getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_PUB_COPY_LINK_BUTTON_LABEL'),\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.getLink());\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_PUB_COPIED_LINK_BUTTON_LABEL'));\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport class PositionField extends BaseField\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper(options);\n\n\t\tthis.horizontal = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'horizontal',\n\t\t\tvalue: options.value.horizontal,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_LEFT'), value: 'left'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_CENTER'), value: 'center'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_RIGHT'), value: 'right'},\n\t\t\t],\n\t\t});\n\n\t\tthis.vertical = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'vertical',\n\t\t\tvalue: options.value.vertical,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_TOP'), value: 'top'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_BOTTOM'), value: 'bottom'},\n\t\t\t],\n\t\t});\n\n\t\tthis.horizontal.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tthis.vertical.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tconst fieldsInner = this.getFieldsInner();\n\n\t\tDom.append(this.horizontal.getLayout(), fieldsInner);\n\t\tDom.append(this.vertical.getLayout(), fieldsInner);\n\n\t\tDom.replace(this.input, fieldsInner);\n\t}\n\n\tgetFieldsInner(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('fieldsInner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-position-fields-inner\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetValue(): {vertical: string, horizontal: string}\n\t{\n\t\treturn {\n\t\t\tvertical: this.vertical.getValue(),\n\t\t\thorizontal: this.horizontal.getValue(),\n\t\t};\n\t}\n\n\tsetValue(value: {vertical: string, horizontal: string})\n\t{\n\t\tthis.vertical.setValue(value.vertical);\n\t\tthis.horizontal.setValue(value.horizontal);\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type2.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type3.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type4.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type5.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type6.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\n\nimport {EmbedField} from './internal/embedfield/embedfield';\nimport WidgetField from './internal/widgetfield/widgetfield';\nimport CopyLinkField from './internal/copylinkfield/copylinkfield';\nimport {PositionField} from './internal/positionfield/positionfield';\n\nimport type1icon from './images/type1.svg';\nimport type2icon from './images/type2.svg';\nimport type3icon from './images/type3.svg';\nimport type4icon from './images/type4.svg';\nimport type5icon from './images/type5.svg';\nimport type6icon from './images/type6.svg';\n\nimport './css/style.css';\n\nexport default class EmbedContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.EmbedContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-embed-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TYPE_FIELD_TITLE'),\n\t\t\t\titems: [1, 3, 4, 2, 5, 6].map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: `type${item}`,\n\t\t\t\t\t\ttitle: Loc.getMessage(`LANDING_FORM_EMBED_TYPE_${item}`),\n\t\t\t\t\t\ticon: `landing-ui-form-embed-type${item}`,\n\t\t\t\t\t\tsoon: [2, 5, 6].includes(item),\n\t\t\t\t\t\tdisabled: [2, 5, 6].includes(item),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t\tselectable: false,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetType1Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type1Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type3Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type4Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType5Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type5Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType8Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type8Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetEmbedField(): EmbedField\n\t{\n\t\treturn this.cache.remember('embedField', () => {\n\t\t\treturn new EmbedField({\n\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_CLICK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_AUTO_SHOW_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLinkTextField()\n\t{\n\t\treturn this.cache.remember('linkTextField', () => {\n\t\t\treturn new VariablesField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_TEXT_SETTINGS_FIELD_TITLE'),\n\t\t\t\tvariables: [\n\t\t\t\t\t{name: 'Test', value: 'test'},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Checkbox(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('type4checkbox', () => {\n\t\t\tconst field = new BX.Landing.UI.Field.Radio({\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_PAGE_LOADED'),\n\t\t\t\t\t\tvalue: 'pageLoaded',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\thtml: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_TIME'),\n\t\t\t\t\t\tvalue: 'afterTime',\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_SCROLL_TO_ANCHOR'),\n\t\t\t\t\t// \tvalue: 'scrollToAnchor',\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (this.options.values.views.auto.delay > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn ['afterTime'];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ['pageLoaded'];\n\t\t\t\t})(),\n\t\t\t});\n\n\t\t\tDom.replace(\n\t\t\t\tfield.layout.querySelector('.delay_time'),\n\t\t\t\tthis.getDelayDropdown().getLayout(),\n\t\t\t);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetWidgetField(): WidgetField\n\t{\n\t\treturn this.cache.remember('widgetField', () => {\n\t\t\treturn new WidgetField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_TITLE'),\n\t\t\t\tplaceholder: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_PLACEHOLDER'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCopyLinkField(): CopyLinkField\n\t{\n\t\treturn this.cache.remember('copyLinkField', () => {\n\t\t\treturn new CopyLinkField({\n\t\t\t\tlink: 'https://bitrix24.io/pub/my/form/link',\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayDropdown(): BX.Landing.UI.Field.DropdownInline\n\t{\n\t\treturn this.cache.remember('delayDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.DropdownInline({\n\t\t\t\tselector: 'showDelay',\n\t\t\t\tcontent: this.options.values.views.auto.delay,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '5c',\n\t\t\t\t\t\tvalue: '5',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '10c',\n\t\t\t\t\t\tvalue: '10',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '15c',\n\t\t\t\t\t\tvalue: '15',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t\tskipInitialEvent: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3PositionField()\n\t{\n\t\treturn this.cache.remember('type3PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4PositionField()\n\t{\n\t\treturn this.cache.remember('type4PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type3ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.click.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type4ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.auto.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tif (/type[1-6]$/.test(data.item.id))\n\t\t{\n\t\t\tthis.clear();\n\t\t\tthis.addItem(this.getHeader());\n\t\t\tthis.addItem(typeDropdown);\n\t\t}\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tconst embedField = this.getEmbedField();\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1icon);\n\t\t\tthis.addItem(this.getType1Message());\n\n\t\t\tembedField.setValue(this.options.values.scripts.inline.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2icon);\n\t\t\t// this.addItem(this.getType2Header());\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type3')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type3icon);\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tconst positionField = this.getType3PositionField();\n\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t});\n\n\t\t\tthis.addItem(this.getType3Message());\n\t\t\tthis.addItem(this.getType3Header());\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType3ShowTypeField());\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type4')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type4icon);\n\t\t\tthis.addItem(this.getType4Message());\n\t\t\tthis.addItem(this.getType4Header());\n\t\t\tthis.addItem(this.getType4Checkbox());\n\n\t\t\tconst positionField = this.getType4PositionField();\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t});\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType4ShowTypeField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type5')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type5icon);\n\t\t\tthis.addItem(this.getType5Message());\n\t\t\tthis.addItem(this.getWidgetField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type6')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type6icon);\n\t\t\tthis.addItem(this.getCopyLinkField());\n\t\t}\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst type3positionValue = this.getType3PositionField().getValue();\n\t\tconst type4positionValue = this.getType4PositionField().getValue();\n\n\t\treturn {\n\t\t\tembedding: {\n\t\t\t\tviews: {\n\t\t\t\t\tauto: {\n\t\t\t\t\t\tdelay: (() => {\n\t\t\t\t\t\t\tif (this.getType4Checkbox().getValue().includes('pageLoaded'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn this.getDelayDropdown().getValue();\n\t\t\t\t\t\t})(),\n\t\t\t\t\t\tposition: type3positionValue.horizontal,\n\t\t\t\t\t\tvertical: type3positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType4ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t\tclick: {\n\t\t\t\t\t\tposition: type4positionValue.horizontal,\n\t\t\t\t\t\tvertical: type4positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType3ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/identify/images/icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport messageIcon from './images/icon.svg';\n\nexport default class Identify extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Identify');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_IDENTIFY_HEADER'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\theader: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\tangle: false,\n\t\t\tcloseable: false,\n\t\t\thideActions: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t}\n}","import {Dom, Tag} from 'main.core';\nimport {BaseField} from 'landing.ui.field.basefield';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\n\ntype OrderFieldOptions = {\n\ttitle: string,\n\tselector: string,\n};\n\nexport default class OrderField extends BaseField\n{\n\tconstructor(options: OrderFieldOptions)\n\t{\n\t\tsuper(options);\n\n\t\tDom.replace(this.input, this.getWrapper());\n\t}\n\n\tgetDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('dropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\titems: this.options.items,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetButton(): Button\n\t{\n\t\treturn this.cache.remember('button', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_SETTINGS_BUTTON_LABEL'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tsize: Button.Size.MEDIUM,\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.onButtonClick.bind(this),\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tonButtonClick()\n\t{\n\t\tconst companyId = this.getDropdown().getValue();\n\t\tconst url = `/crm/company/details/${companyId}/?init_mode=edit`;\n\t\twindow.open(url, '_blank');\n\t}\n\n\tgetWrapper(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('wrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-order-wrapper\">\n\t\t\t\t\t${this.getDropdown().getLayout()}\n\t\t\t\t\t${this.getButton().render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport default class StageField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tDom.replace(this.input, this.getInner());\n\t}\n\n\tgetInner()\n\t{\n\t\treturn this.cache.remember('inner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-stages\">\n\t\t\t\t\t${this.getCategoriesDropdown().getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCategoriesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('categoriesDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CATEGORIES_FIELD_TITLE'),\n\t\t\t\tcontent: this.options.value.category,\n\t\t\t\titems: this.options.categories.map((category) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: category.NAME,\n\t\t\t\t\t\tvalue: category.ID,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onCategoryChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCurrentCategory()\n\t{\n\t\tconst currentCategoryId = this.getCategoriesDropdown().getValue();\n\n\t\treturn this.options.categories.find((category) => {\n\t\t\treturn String(category.ID) === String(currentCategoryId);\n\t\t});\n\t}\n\n\tonCategoryChange()\n\t{\n\t\tconst oldStagesDropdown = this.getStagesDropdown();\n\t\tthis.cache.delete('stagesDropdown');\n\n\t\tif (oldStagesDropdown.popup)\n\t\t{\n\t\t\toldStagesDropdown.popup.destroy();\n\t\t}\n\n\t\tconst newStagesDropdown = this.getStagesDropdown();\n\t\tDom.replace(oldStagesDropdown.getLayout(), newStagesDropdown.getLayout());\n\t\tthis.emit('onChange');\n\t}\n\n\tgetStagesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('stagesDropdown', () => {\n\t\t\tconst stages = this.getCurrentCategory().STAGES;\n\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_STAGES_FIELD_TITLE'),\n\t\t\t\titems: stages.map((stage) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: stage.NAME,\n\t\t\t\t\t\tvalue: stage.ID,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tcategory: this.getCategoriesDropdown().getValue(),\n\t\t\tstage: this.getStagesDropdown().getValue(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/crm/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Text} from 'main.core';\nimport OrderField from './internal/orderfield/orderfield';\nimport StageField from './internal/stagefield/stagefield';\n\nimport messageIcon from './images/message-icon.svg';\n\nimport './css/style.css';\n\n\nexport default class CrmContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.CrmContent');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\t\tthis.addItem(this.getExpertSettingsForm());\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesField(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('duplicatesField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Radio({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_FIELD_TITLE'),\n\t\t\t\tselector: 'duplicateMode',\n\t\t\t\tvalue: [this.options.values.duplicateMode ? this.options.values.duplicateMode : 'ALLOW'],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_ALLOW'),\n\t\t\t\t\t\tvalue: 'ALLOW',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_REPLACE'),\n\t\t\t\t\t\tvalue: 'REPLACE',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_MERGE'),\n\t\t\t\t\t\tvalue: 'MERGE',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPaymentField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('paymentField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'payment',\n\t\t\t\tvalue: [this.options.values.payment],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_SHOW_PAYMENT'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetOrderSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('formSettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_HEADER'),\n\t\t\t\ttoggleable: true,\n\t\t\t\topened: Text.toNumber(this.options.values.scheme) > 4,\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPaymentField(),\n\t\t\t\t\tnew MessageCard({\n\t\t\t\t\t\tid: 'orderMessage',\n\t\t\t\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_HEADER'),\n\t\t\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_DESCRIPTION'),\n\t\t\t\t\t\tangle: false,\n\t\t\t\t\t\ticon: messageIcon,\n\t\t\t\t\t\trestoreState: true,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType1Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type1header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetExpertSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('expertSettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_EXPERT_MODE'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Link,\n\t\t\t\topened: false,\n\t\t\t\tfields: [\n\t\t\t\t\tnew HeaderCard({\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t}),\n\t\t\t\t\tthis.getDuplicatesField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypesField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typesField', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.onTypeChange(\n\t\t\t\t\tnew BaseEvent({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\tid: this.options.values.scheme,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tconst items = [\n\t\t\t\t{\n\t\t\t\t\tid: '2',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type2',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '3',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type3',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '4',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type4',\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tif (this.options.isLeadEnabled)\n\t\t\t{\n\t\t\t\titems.unshift({\n\t\t\t\t\tid: '1',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type1',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'scheme',\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (String(this.options.values.scheme) === '8')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '5')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '6')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '7')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 4;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.options.values.scheme;\n\t\t\t\t})(),\n\t\t\t\titems,\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\t\n\tgetStagesField()\n\t{\n\t\treturn this.cache.remember('stagesField', () => {\n\t\t\treturn new StageField({\n\t\t\t\tcategories: this.options.categories,\n\t\t\t\tvalue: {\n\t\t\t\t\tcategory: this.options.values.category,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesEnabledField()\n\t{\n\t\treturn this.cache.remember('duplicatesEnabledField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'duplicatesEnabled',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [this.options.values.duplicatesEnabled],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_DUPLICATES_ENABLED'),\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst {item} = event.getData();\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\n\t\tconst expertSettingsForm = this.getExpertSettingsForm();\n\t\texpertSettingsForm.clear();\n\n\t\tif (String(item.id) === '1' || String(item.id) === '8')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType1Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '2' || String(item.id) === '5')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType2Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '3' || String(item.id) === '6')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType3Header());\n\t\t\texpertSettingsForm.addField(this.getStagesField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesEnabledField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '4' || String(item.id) === '7')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType4Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (Text.toNumber(item.id) > 4 || this.getOrderSettingsForm().isOpened())\n\t\t{\n\t\t\tthis.getOrderSettingsForm().onSwitchChange(true);\n\t\t}\n\n\t\tthis.addItem(expertSettingsForm);\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst duplicateMode = this.getDuplicatesField().getValue()[0];\n\t\tconst reducedValue = {\n\t\t\tduplicateMode: duplicateMode === 'ALLOW' ? '' : duplicateMode,\n\t\t\tscheme: this.getTypesField().getValue(),\n\t\t\tdeal: {\n\t\t\t\tduplicatesEnabled: Text.toBoolean(this.getDuplicatesEnabledField().getValue()[0]),\n\t\t\t},\n\t\t\tpayment: {\n\t\t\t\tuse: this.getPaymentField().getValue().length > 0,\n\t\t\t},\n\t\t};\n\n\t\tif (this.getOrderSettingsForm().isOpened())\n\t\t{\n\t\t\tif (String(reducedValue.scheme) === '1')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '8';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '2')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '5';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '3')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '6';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '4')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '7';\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tString(reducedValue.scheme) === '3'\n\t\t\t|| String(reducedValue.scheme) === '6'\n\t\t)\n\t\t{\n\t\t\treducedValue.deal.category = this.getStagesField().getValue().category;\n\t\t}\n\n\t\treturn {\n\t\t\tdocument: reducedValue,\n\t\t};\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {DefaultValueField} from 'landing.ui.field.defaultvaluefield';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {Dom} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class DefaultValues extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.DefaultValues');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'defaultValueMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_DESCRIPTION'),\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew DefaultValueField({\n\t\t\t\t\tselector: 'presetFields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tpersonalizationVariables: this.options.personalizationVariables,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\tdictionary: {\n\t\t\t\t\t\t...this.options.dictionary,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\tconst layout = super.getLayout();\n\t\tDom.addClass(layout, 'landing-ui-default-fields-values');\n\n\t\treturn layout;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport {type FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\n\nexport default class FacebookContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FacebookContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\t});\n\n\t\tconst buttonCard = new BaseCard();\n\t\tconst button = new Button({\n\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\tonclick: () => {\n\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=facebook`,\n\t\t\t\t\t{\n\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t},\n\t\t});\n\n\t\tDom.style(buttonCard.getLayout(), {\n\t\t\tpadding: 0,\n\t\t\tmargin: 0,\n\t\t});\n\n\t\tDom.append(button.render(), buttonCard.getBody());\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(buttonCard);\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'facebook';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport type {FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\n\nexport default class VkContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.VkContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\t});\n\n\t\tconst buttonCard = new BaseCard();\n\t\tconst button = new Button({\n\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\tonclick: () => {\n\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=vkontakte`,\n\t\t\t\t\t{\n\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t},\n\t\t});\n\n\t\tDom.style(buttonCard.getLayout(), {\n\t\t\tpadding: 0,\n\t\t\tmargin: 0,\n\t\t});\n\n\t\tDom.append(button.render(), buttonCard.getBody());\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(buttonCard);\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'vkontakte';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Text} from 'main.core';\nimport {BaseEvent} from 'main.core.events';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class Callback extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Callback');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!this.isAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getWarningMessage());\n\t\t\tthis.getSettingsForm().disable();\n\t\t}\n\n\t\tthis.addItem(this.getSettingsForm());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetWarningMessage()\n\t{\n\t\treturn this.cache.remember('warningMessage', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_HEADER'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tisAvailable(): boolean\n\t{\n\t\treturn this.cache.remember('isAvailable', () => {\n\t\t\treturn this.options.dictionary.callback.from.length > 0;\n\t\t});\n\t}\n\n\tgetSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('settingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Switch,\n\t\t\t\topened: this.isAvailable() && Text.toBoolean(this.options.values.use),\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPhoneListField(),\n\t\t\t\t\tthis.getTextField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseCheckboxField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useCheckboxField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'use',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [Text.toBoolean(this.options.values.use)],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPhoneListField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('phoneListField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'from',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_PHONE_TITLE'),\n\t\t\t\tcontent: this.options.values.from,\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_DEFAULT_PHONE_NOT_SELECTED'), value: ''},\n\t\t\t\t\t...this.options.dictionary.callback.from.map((item) => {\n\t\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTextField()\n\t{\n\t\treturn this.cache.remember('textField', () => {\n\t\t\treturn new TextField({\n\t\t\t\tselector: 'text',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TEXT_TITLE'),\n\t\t\t\tcontent: this.options.values.text,\n\t\t\t\ttextOnly: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tcallback: {\n\t\t\t\t...value,\n\t\t\t\tuse: this.getSettingsForm().isOpened(),\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {TagSelector} from 'ui.entity-selector';\nimport {PageObject} from 'landing.pageobject';\nimport {Dom} from 'main.core';\n\nexport default class UserSelectorField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tDom.removeClass(this.input, 'landing-ui-field-input');\n\n\t\tthis.getTagSelector().renderTo(this.input);\n\t}\n\n\tgetTagSelector(): TagSelector\n\t{\n\t\treturn this.cache.remember('tagSelector', () => {\n\t\t\tconst root = PageObject.getRootWindow();\n\t\t\treturn new root.BX.UI.EntitySelector.TagSelector({\n\t\t\t\tid: 'user-selector',\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tid: 'user-selector',\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'user',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tactiveUsers: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tpreselectedItems: this.options.value,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t'Item:onSelect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'Item:onDeselect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue(): Array<number>\n\t{\n\t\treturn this.getTagSelector().getDialog().getSelectedItems().map((item) => {\n\t\t\treturn item.id;\n\t\t});\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {BaseEvent} from 'main.core.events';\nimport {Reflection, Type} from 'main.core';\nimport UserSelectorField from './internal/userselectorfield/userselectorfield';\n\nimport './css/style.css';\n\nexport default class Other extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE'),\n\t\t});\n\n\t\tconst otherForm = new FormSettingsForm({\n\t\t\tid: 'other',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tthis.getNameField(),\n\t\t\t\tthis.getUserSelectorField(),\n\t\t\t\tthis.getUseSignField(),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(otherForm);\n\t}\n\n\tcanRemoveCopyrights(): boolean\n\t{\n\t\treturn this.options.dictionary.sign.canRemove;\n\t}\n\n\tgetNameField(): TextField\n\t{\n\t\treturn this.cache.remember('nameField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE_NAME_TITLE'),\n\t\t\t\tselector: 'name',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.name,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseSignField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useSignField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'useSign',\n\t\t\t\tvalue: this.options.values.useSign ? ['useSign'] : [],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'useSign',\n\t\t\t\t\t\thtml: `${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_SHOW_SIGN')}${this.createCopyRight()}`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tcompact: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUserSelectorField()\n\t{\n\t\treturn this.cache.remember('userSelectorField', () => {\n\t\t\treturn new UserSelectorField({\n\t\t\t\tselector: 'users',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_USER'),\n\t\t\t\tvalue: this.options.values.users.reduce((acc, item) => {\n\t\t\t\t\tif (Type.isStringFilled(item) || Type.isNumber(item))\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push(['user', item]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []),\n\t\t\t});\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tcreateCopyRight(): string\n\t{\n\t\treturn `\n\t\t\t<span class=\"landing-ui-signin\">\n\t\t\t\t<span class=\"landing-ui-sign\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-in\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN_BY')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-24\">24</span>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tname: value.name,\n\t\t\tdata: {\n\t\t\t\tuseSign: value.useSign.includes('useSign'),\n\t\t\t},\n\t\t\tresponsible: {\n\t\t\t\tusers: value.users,\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tif (!this.canRemoveCopyrights())\n\t\t{\n\t\t\tconst checkbox = this.getUseSignField();\n\n\t\t\tif (!checkbox.getValue().includes('useSign'))\n\t\t\t{\n\t\t\t\tcheckbox.setValue(['useSign']);\n\t\t\t\tif (Type.isStringFilled(this.options.dictionary.restriction.helper))\n\t\t\t\t{\n\t\t\t\t\tconst evalGlobal = Reflection.getClass('BX.evalGlobal');\n\t\t\t\t\tif (Type.isFunction(evalGlobal))\n\t\t\t\t\t{\n\t\t\t\t\t\tevalGlobal(this.options.dictionary.restriction.helper);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Loc} from 'landing.loc';\nimport {SidebarButton} from 'landing.ui.button.sidebarbutton';\n\nconst sidebarButtons = [\n\tnew SidebarButton({\n\t\tid: 'fields',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FIELDS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'agreements',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_AGREEMENT'),\n\t\tchild: true,\n\t\timportant: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'crm',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ENTITY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'identify',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_CLIENT_IDENTIFY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'button_and_header',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_HEADER_AND_BUTTON'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'spam_protection',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_SPAM_PROTECTION'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'fields_rules',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_FIELDS_RULES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'actions',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ACTIONS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'default_values',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_VALUES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'analytics',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_ANALYTICS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'facebook',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'vk',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'callback',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CALLBACK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'embed',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_EMBED'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'more',\n\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_MORE_BUTTON_TEXT'),\n\t\tclassName: 'landing-ui-button-sidebar-more',\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'other',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_OTHER'),\n\t\tchild: true,\n\t}),\n];\n\nexport default sidebarButtons;","import {Loc} from 'landing.loc';\nimport {PresetCategory} from 'landing.ui.panel.basepresetpanel';\n\nconst presetCategories = [\n\tnew PresetCategory({\n\t\tid: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_PRODUCTS'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_SOCIAL'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM_AUTOMATION'),\n\t}),\n];\n\nexport default presetCategories;","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/integration.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/autoshow.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/revertcall.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/producttext.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/productimage.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/vk.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/facebook.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/crm.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/service.svg\"","import {Loc} from 'landing.loc';\nimport {Preset} from 'landing.ui.panel.basepresetpanel';\nimport siteIcon from '../images/icons/integration.svg';\nimport widgetAutoShowIcon from '../images/icons/autoshow.svg';\nimport callbackIcon from '../images/icons/revertcall.svg';\nimport productWithTextIcon from '../images/icons/producttext.svg';\nimport productWithImageIcon from '../images/icons/productimage.svg';\nimport vkIcon from '../images/icons/vk.svg';\nimport facebookIcon from '../images/icons/facebook.svg';\nimport crmFormIcon from '../images/icons/crm.svg';\nimport serviceIcon from '../images/icons/service.svg';\n\nconst presets = [\n\tnew Preset({\n\t\tid: 'contacts',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_DESCRIPTION'),\n\t\ticon: siteIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'contacts',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_LAST_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'feedback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_DESCRIPTION'),\n\t\ticon: widgetAutoShowIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'feedback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{name: 'LEAD_COMMENTS'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'callback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_DESCRIPTION'),\n\t\ticon: callbackIcon,\n\t\tdefaultSection: 'callback',\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'callback',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'callback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'expert',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT_DESCRIPTION'),\n\t\ticon: serviceIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'identify',\n\t\t\t'button_and_header',\n\t\t\t'spam_protection',\n\t\t\t'fields_rules',\n\t\t\t'actions',\n\t\t\t'default_values',\n\t\t\t'analytics',\n\t\t\t'facebook',\n\t\t\t'vk',\n\t\t\t'callback',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'expert',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'products_small',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_SMALL'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_SMALL_DESCRIPTION'),\n\t\ticon: productWithTextIcon,\n\t\titems: [\n\t\t\t'analytics',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\tnew Preset({\n\t\tid: 'products_big',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_BIG'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_BIG_DESCRIPTION'),\n\t\ticon: productWithImageIcon,\n\t\titems: [\n\t\t\t'identify',\n\t\t\t'button_and_header',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\n\tnew Preset({\n\t\tid: 'vk',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK_DESCRIPTION'),\n\t\ticon: vkIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\tnew Preset({\n\t\tid: 'facebook',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB_DESCRIPTION'),\n\t\ticon: facebookIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\n\tnew Preset({\n\t\tid: 'personalisation',\n\t\tcategory: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION_DESCRIPTION'),\n\t\ticon: crmFormIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n];\n\nexport default presets;","import {BasePresetPanel, Preset, ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {PageObject} from 'landing.pageobject';\nimport {Loc} from 'landing.loc';\nimport {Dom, Reflection, Runtime, Tag, Text, Type, Uri} from 'main.core';\nimport type {BaseEvent} from 'main.core.events';\nimport {Backend} from 'landing.backend';\nimport {Loader} from 'main.loader';\nimport {FormClient} from 'crm.form.client';\nimport {Button} from 'ui.buttons';\nimport {Env} from 'landing.env';\nimport {StylePanel} from 'landing.ui.panel.stylepanel';\nimport {MessageBox} from 'ui.dialogs.messagebox';\nimport type {FormDictionary, FormOptions} from 'crm.form.type';\n\nimport HeaderAndButtonContent from './internal/content/header-and-buttons/header-and-buttons';\nimport AgreementsContent from './internal/content/agreements/agreements';\nimport SpamProtection from './internal/content/spam-protection/spam-protection';\nimport AnalyticsContent from './internal/content/analytics/analytics';\nimport FieldsContent from './internal/content/fields/fields';\nimport FieldsRulesContent from './internal/content/fields-rules/fields-rules';\nimport ActionsContent from './internal/content/actions/actions';\nimport EmbedContent from './internal/content/embed/embed';\nimport Identify from './internal/content/identify/identify';\nimport CrmContent from './internal/content/crm/crm';\nimport DefaultValues from './internal/content/defaultvalues/defaultvalues';\nimport FacebookContent from './internal/content/facebook/facebook';\nimport VkContent from './internal/content/vk/vk';\nimport Callback from './internal/content/callback/callback';\nimport Other from './internal/content/other/other';\n\nimport sidebarButtons from './internal/sidebar-buttons';\nimport presetCategories from './internal/preset-categories';\nimport presets from './internal/presets';\n\nimport './css/style.css';\n\ntype CrmField = {\n\ttype: 'list' | 'string' | 'checkbox' | 'date' | 'text' | 'typed_string' | 'file',\n\tentity_field_name: string,\n\tentity_name: string,\n\tname: string,\n\tcaption: string,\n\tmultiple: boolean,\n\trequired: boolean,\n\thidden: boolean,\n\titems: Array<{ID: any, VALUE: any}>,\n};\n\ntype CrmFieldsList = {\n\t[categoryId: string]: {\n\t\tCAPTION: string,\n\t\tFIELDS: Array<CrmField>\n\t},\n};\n\ntype CrmCompany = {\n\tID: string,\n\tTITLE: string,\n};\n\ntype CrmCategory = {\n\n};\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class FormSettingsPanel extends BasePresetPanel\n{\n\tstatic getInstance(): FormSettingsPanel\n\t{\n\t\tconst rootWindow = PageObject.getRootWindow();\n\t\tconst rootWindowPanel = rootWindow.BX.Landing.UI.Panel.FormSettingsPanel;\n\t\tif (!rootWindowPanel.instance && !FormSettingsPanel.instance)\n\t\t{\n\t\t\trootWindowPanel.instance = new FormSettingsPanel();\n\t\t}\n\n\t\treturn (rootWindowPanel.instance || FormSettingsPanel.instance);\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel');\n\t\tthis.setTitle(Loc.getMessage('LANDING_FORM_SETTINGS_PANEL_TITLE'));\n\n\t\tthis.disableOverlay();\n\n\t\tconst preparedSidebarButtons = sidebarButtons.filter((button) => {\n\t\t\treturn this.isCrmFormPage() || button.id !== 'embed';\n\t\t});\n\n\t\tthis.setSidebarButtons(preparedSidebarButtons);\n\t\tthis.setCategories(presetCategories);\n\n\t\tconst filteredPresets = presets.filter((preset) => {\n\t\t\treturn (\n\t\t\t\tLoc.getMessage('LANGUAGE_ID') === 'ru'\n\t\t\t\t|| (\n\t\t\t\t\tLoc.getMessage('LANGUAGE_ID') !== 'ru'\n\t\t\t\t\t&& preset.options.id !== 'vk'\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\n\t\tthis.setPresets(filteredPresets);\n\n\t\tif (!this.isCrmFormPage())\n\t\t{\n\t\t\tDom.append(this.getBlockSettingsButton().render(), this.getRightHeaderControls());\n\t\t}\n\n\t\tthis.subscribe('onCancel', this.onCancelClick.bind(this));\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisCrmFormPage(): boolean\n\t{\n\t\treturn Env.getInstance().getOptions().specialType === 'crm_forms';\n\t}\n\n\tgetBlockSettingsButton()\n\t{\n\t\treturn this.cache.remember('blockSettingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_BLOCK_SETTINGS_BUTTON_TEXT'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: this.onBlockSettingsButtonClick.bind(this),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t});\n\t\t});\n\t}\n\n\tonBlockSettingsButtonClick()\n\t{\n\t\tif (this.getCurrentBlock())\n\t\t{\n\t\t\tthis.hide()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getCurrentBlock().showContentPanel();\n\t\t\t\t});\n\t\t}\n\t}\n\n\tgetLoader(): Loader\n\t{\n\t\treturn this.cache.remember('loader', () => {\n\t\t\treturn new Loader({\n\t\t\t\ttarget: this.body,\n\t\t\t});\n\t\t});\n\t}\n\n\tshowLoader()\n\t{\n\t\tvoid this.getLoader().show();\n\t\tDom.hide(this.sidebar);\n\t\tDom.hide(this.content);\n\t\tDom.hide(this.getPresetField().getLayout());\n\t}\n\n\thideLoader()\n\t{\n\t\tthis.getLoader().hide();\n\t\tDom.show(this.sidebar);\n\t\tDom.show(this.content);\n\t\tDom.show(this.getPresetField().getLayout());\n\t}\n\n\tload(): Promise<any>\n\t{\n\t\tconst crmData = Backend.getInstance()\n\t\t\t.batch('Form::getCrmFields', {\n\t\t\t\tcrmFields: {\n\t\t\t\t\taction: 'Form::getCrmFields',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCompanies: {\n\t\t\t\t\taction: 'Form::getCrmCompanies',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCategories: {\n\t\t\t\t\taction: 'Form::getCrmCategories',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tagreements: {\n\t\t\t\t\taction: 'Form::getAgreements',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setCrmFields(result.crmFields.result);\n\t\t\t\tthis.setCrmCompanies(result.crmCompanies.result);\n\t\t\t\tthis.setCrmCategories(result.crmCategories.result);\n\t\t\t\tthis.setAgreements(result.agreements.result);\n\t\t\t});\n\n\t\tconst formOptions = FormClient.getInstance()\n\t\t\t.getOptions(this.getCurrentFormId())\n\t\t\t.then((options) => {\n\t\t\t\tthis.setFormOptions(options);\n\t\t\t});\n\n\t\tconst formDictionary = FormClient.getInstance()\n\t\t\t.getDictionary()\n\t\t\t.then((dictionary) => {\n\t\t\t\tthis.setFormDictionary(dictionary);\n\t\t\t});\n\n\t\treturn Promise.all([\n\t\t\tcrmData,\n\t\t\tformOptions,\n\t\t\tformDictionary,\n\t\t]);\n\t}\n\n\tsetAgreements(agreements)\n\t{\n\t\tthis.cache.set('agreements', Runtime.orderBy(agreements, ['id'], ['asc']));\n\t}\n\n\tgetAgreements(): Array<{[key: string]: any}>\n\t{\n\t\treturn this.cache.get('agreements');\n\t}\n\n\tisLeadEnabled(): boolean\n\t{\n\t\treturn this.getFormDictionary().document.lead.enabled;\n\t}\n\n\tsetCurrentBlock(block: BX.Landing.Block)\n\t{\n\t\tthis.cache.set('currentBlock', block);\n\t}\n\n\tgetCurrentBlock(): ?BX.Landing.Block\n\t{\n\t\treturn this.cache.get('currentBlock');\n\t}\n\n\tshow(\n\t\toptions: {\n\t\t\tformId: number,\n\t\t\tinstanceId: number,\n\t\t\tstate?: 'presets',\n\t\t\tformOptions?: ?{[key: string]: any},\n\t\t} = {\n\t\t\tformOptions: {},\n\t\t},\n\t): Promise<any>\n\t{\n\t\tif (!this.layout.parentNode)\n\t\t{\n\t\t\tthis.enableToggleMode();\n\t\t}\n\n\t\tif (!this.isFormCreated())\n\t\t{\n\t\t\tthis.disableTransparentMode();\n\t\t}\n\n\t\tthis.setCurrentBlock(options.block);\n\t\tthis.setCurrentFormId(options.formId);\n\t\tthis.setCurrentFormInstanceId(options.instanceId);\n\n\t\tthis.showLoader();\n\n\t\tthis.load()\n\t\t\t.then(() => {\n\t\t\t\tthis.hideLoader();\n\n\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\tif (!this.isLeadEnabled())\n\t\t\t\t{\n\t\t\t\t\tconst presets = this.getPresets().map((preset: Preset) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tType.isPlainObject(preset.options.options)\n\t\t\t\t\t\t\t&& Type.isPlainObject(preset.options.options.data)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isArrayFilled(preset.options.options.data.fields))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.data.fields = preset.options.options.data.fields.map((field) => {\n\t\t\t\t\t\t\t\t\treturn {...field, name: field.name.replace(/^LEAD_/, 'CONTACT_')};\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (Type.isPlainObject(preset.options.options.document))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.document.scheme = 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn preset;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setPresets(presets);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isPlainObject(options.formOptions))\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = Runtime.merge(\n\t\t\t\t\t\tthis.getFormOptions(),\n\t\t\t\t\t\toptions.formOptions,\n\t\t\t\t\t);\n\t\t\t\t\tthis.setFormOptions(formOptions);\n\t\t\t\t}\n\n\t\t\t\tif (options.state === 'presets' && formOptions.templateId !== 'callback')\n\t\t\t\t{\n\t\t\t\t\tthis.onPresetFieldClick();\n\t\t\t\t\tthis.activatePreset(formOptions.templateId);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet preset = this.getPresets().find((item) => {\n\t\t\t\t\t\treturn item.options.id === formOptions.templateId;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!preset)\n\t\t\t\t\t{\n\t\t\t\t\t\tpreset = this.getPresets().find((item) => {\n\t\t\t\t\t\t\treturn item.options.id === 'expert';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isFormCreated() && formOptions.templateId !== 'callback')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setInitialFormOptions(\n\t\t\t\t\tRuntime.clone(this.getFormOptions()),\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (Type.isArrayFilled(error))\n\t\t\t\t{\n\t\t\t\t\tconst accessDeniedCode = 510;\n\t\t\t\t\tconst isAccessDenied = error.some((errorItem) => {\n\t\t\t\t\t\treturn String(errorItem.code) === String(accessDeniedCode);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isAccessDenied)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getLoader().hide();\n\t\t\t\t\t\tDom.show(this.sidebar);\n\t\t\t\t\t\tDom.show(this.content);\n\t\t\t\t\t\tDom.hide(this.footer);\n\t\t\t\t\t\tDom.append(this.getAccessError(), this.content);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\n\t\tvoid StylePanel.getInstance().hide();\n\n\t\treturn super.show(options);\n\t}\n\n\tgetAccessError(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('accessErrorMessage', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-access-error-message\">\n\t\t\t\t\t<div class=\"landing-ui-access-error-message-text\">\n\t\t\t\t\t\t${Loc.getMessage('LANDING_CRM_ACCESS_ERROR_MESSAGE')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisFormCreated(): boolean\n\t{\n\t\tconst uri = new Uri(window.location.origin);\n\t\treturn Text.toBoolean(uri.getQueryParam('formCreated'));\n\t}\n\n\tsetCurrentFormId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormId', Text.toNumber(formId));\n\t}\n\n\tgetCurrentFormId(): number\n\t{\n\t\treturn this.cache.get('currentFormId');\n\t}\n\n\tsetCurrentFormInstanceId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormInstanceId', formId);\n\t}\n\n\tgetCurrentFormInstanceId(): number\n\t{\n\t\treturn this.cache.get('currentFormInstanceId');\n\t}\n\n\tsetCrmFields(fields)\n\t{\n\t\tthis.cache.set('fields', fields);\n\t}\n\n\tgetCrmFields(): CrmFieldsList\n\t{\n\t\treturn this.cache.get('fields') || {};\n\t}\n\n\tsetCrmCompanies(companies: Array<CrmCompany>)\n\t{\n\t\tthis.cache.set('companies', companies);\n\t}\n\n\tgetCrmCompanies(): Array<CrmCompany>\n\t{\n\t\treturn this.cache.get('companies') || [];\n\t}\n\n\tsetCrmCategories(categories: Array<CrmCategory>)\n\t{\n\t\tthis.cache.set('crmCategories', categories);\n\t}\n\n\tgetCrmCategories(): Array<CrmCategory>\n\t{\n\t\treturn this.cache.get('crmCategories') || [];\n\t}\n\n\tsetFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('formOptions', options);\n\t}\n\n\tgetFormOptions(): FormOptions\n\t{\n\t\treturn Runtime.clone(this.cache.get('formOptions') || {});\n\t}\n\n\tsetFormDictionary(dictionary: FormDictionary)\n\t{\n\t\tthis.cache.set('formDictionary', dictionary);\n\t}\n\n\tgetFormDictionary(): FormDictionary\n\t{\n\t\treturn this.cache.get('formDictionary') || {};\n\t}\n\n\tsetInitialFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('initialFormOptions', Runtime.clone(options));\n\t}\n\n\tgetInitialFormOptions(): FormOptions\n\t{\n\t\treturn this.cache.get('initialFormOptions');\n\t}\n\n\t// eslint-disable-next-line\n\tgetCrmForm()\n\t{\n\t\tconst formApp = Reflection.getClass('b24form.App');\n\t\tif (formApp)\n\t\t{\n\t\t\tif (this.getCurrentFormInstanceId())\n\t\t\t{\n\t\t\t\treturn formApp.get(this.getCurrentFormInstanceId());\n\t\t\t}\n\n\t\t\treturn formApp.list()[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tconst eventData = event.getData();\n\t\tconst eventTargetValue = event.getTarget().getValue();\n\n\t\tPromise\n\t\t\t.resolve(eventTargetValue)\n\t\t\t.then((value) => {\n\t\t\t\tif (eventData.skipPrepare)\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isArrayFilled(formOptions.data.dependencies)\n\t\t\t\t\t\t&& Type.isArrayFilled(value.fields)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {dependencies} = formOptions.data;\n\t\t\t\t\t\tformOptions.data.dependencies = dependencies.reduce((acc, item) => {\n\t\t\t\t\t\t\tconst preparedItem = {...item};\n\t\t\t\t\t\t\tpreparedItem.list = preparedItem.list.filter((rule) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tvalue.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.condition.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t&& value.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.action.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (preparedItem.list.length > 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tacc.push(preparedItem);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, []);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'presetFields')\n\t\t\t\t\t\t|| Reflect.has(value, 'document')\n\t\t\t\t\t\t|| Reflect.has(value, 'result')\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst additionalValue = {};\n\t\t\t\t\t\tif (Reflect.has(value, 'document'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tadditionalValue.payment = value.document.payment;\n\t\t\t\t\t\t\tdelete value.document.payment;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t...additionalValue,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'embedding')\n\t\t\t\t\t\t|| Reflect.has(value, 'callback')\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\tReflect.has(value, 'name')\n\t\t\t\t\t\t\t&& Reflect.has(value, 'data')\n\t\t\t\t\t\t\t&& Reflect.has(value.data, 'useSign')\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn Runtime.merge(\n\t\t\t\t\t\t\tformOptions,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(value, 'recaptcha'))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {key, secret} = value.recaptcha;\n\t\t\t\t\t\tdelete value.recaptcha.key;\n\t\t\t\t\t\tdelete value.recaptcha.secret;\n\t\t\t\t\t\tconst captcha = {key, secret};\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\tcaptcha,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn FormClient.getInstance()\n\t\t\t\t\t.prepareOptions(this.getFormOptions(), value)\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (value.agreements)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data = Runtime.merge(result.data, value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (value.fields)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data.fields = result.data.fields.map((field, index) => {\n\t\t\t\t\t\t\t\treturn Runtime.merge(field, value.fields[index]);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setFormOptions(result);\n\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(result.data));\n\t\t\t});\n\t}\n\n\tstatic sanitize(value: any): any\n\t{\n\t\tif (Type.isStringFilled(value))\n\t\t{\n\t\t\treturn Text.decode(value)\n\t\t\t\t.replace(/<style[^>]*>.*<\\/style>/gm, '')\n\t\t\t\t.replace(/<script[^>]*>.*<\\/script>/gm, '')\n\t\t\t\t.replace(/<[^>]+>/gm, '');\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tgetPersonalizationVariables(): Array<{name: string, value: string}>\n\t{\n\t\treturn this.cache.remember('personalizationVariables', () => {\n\t\t\treturn this.getFormDictionary().personalization.list.map((item) => {\n\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t});\n\t\t});\n\t}\n\n\tgetContent(id: string): ContentWrapper\n\t{\n\t\tconst crmForm = this.getCrmForm();\n\t\tcrmForm.sent = false;\n\t\tcrmForm.error = false;\n\n\t\tif (id === 'button_and_header')\n\t\t{\n\t\t\treturn new HeaderAndButtonContent({\n\t\t\t\tpersonalizationVariables: this.getPersonalizationVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\ttitle: FormSettingsPanel.sanitize(crmForm.title),\n\t\t\t\t\tdesc: FormSettingsPanel.sanitize(crmForm.desc),\n\t\t\t\t\tbuttonCaption: crmForm.buttonCaption,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'spam_protection')\n\t\t{\n\t\t\treturn new SpamProtection({\n\t\t\t\tvalues: {\n\t\t\t\t\tkey: this.getFormOptions().captcha.key,\n\t\t\t\t\tsecret: this.getFormOptions().captcha.secret,\n\t\t\t\t\tuse: Text.toBoolean(this.getFormOptions().data.recaptcha.use),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'agreements')\n\t\t{\n\t\t\treturn new AgreementsContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tagreementsList: this.getAgreements(),\n\t\t\t\tvalues: {\n\t\t\t\t\tagreements: this.getFormOptions().data.agreements,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'analytics')\n\t\t{\n\t\t\treturn new AnalyticsContent({\n\t\t\t\tevents: this.getFormOptions().analytics.steps,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields')\n\t\t{\n\t\t\treturn new FieldsContent({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields_rules')\n\t\t{\n\t\t\treturn new FieldsRulesContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().data.dependencies,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'actions')\n\t\t{\n\t\t\tconst actionsContent = new ActionsContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().result,\n\t\t\t});\n\n\t\t\tactionsContent\n\t\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.success.text;\n\t\t\t\t\tcrmForm.sent = !crmForm.sent;\n\t\t\t\t\tcrmForm.error = false;\n\t\t\t\t})\n\t\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.failure.text;\n\t\t\t\t\tcrmForm.error = !crmForm.error;\n\t\t\t\t\tcrmForm.sent = false;\n\t\t\t\t});\n\n\t\t\treturn actionsContent;\n\t\t}\n\n\t\tif (id === 'embed')\n\t\t{\n\t\t\treturn new EmbedContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().embedding,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'identify')\n\t\t{\n\t\t\treturn new Identify({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'crm')\n\t\t{\n\t\t\treturn new CrmContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tcompanies: this.getCrmCompanies(),\n\t\t\t\tcategories: this.getCrmCategories(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tvalues: {\n\t\t\t\t\tscheme: this.getFormOptions().document.scheme,\n\t\t\t\t\tduplicatesEnabled: this.getFormOptions().document.deal.duplicatesEnabled || 'Y',\n\t\t\t\t\tcategory: this.getFormOptions().document.deal.category,\n\t\t\t\t\tpayment: this.getFormOptions().payment.use,\n\t\t\t\t\tduplicateMode: this.getFormOptions().document.duplicateMode,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'default_values')\n\t\t{\n\t\t\treturn new DefaultValues({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tpersonalizationVariables: this.getPersonalizationVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().presetFields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'facebook')\n\t\t{\n\t\t\treturn new FacebookContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'vk')\n\t\t{\n\t\t\treturn new VkContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'callback')\n\t\t{\n\t\t\treturn new Callback({\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: this.getFormOptions().callback,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'other')\n\t\t{\n\t\t\treturn new Other({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: {\n\t\t\t\t\tname: this.getFormOptions().name,\n\t\t\t\t\tuseSign: this.getFormOptions().data.useSign,\n\t\t\t\t\tusers: this.getFormOptions().responsible.users,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tapplyPreset(preset: Preset, skipOptions = false)\n\t{\n\t\tthis.getPresets().forEach((currentPreset) => {\n\t\t\tcurrentPreset.deactivate();\n\t\t});\n\n\t\tpreset.activate();\n\n\t\tif (Type.isPlainObject(preset.options.options) && !skipOptions)\n\t\t{\n\t\t\tthis.showLoader();\n\t\t\tconst clonedPresetOptions = {\n\t\t\t\tdata: {},\n\t\t\t\t...Runtime.clone(preset.options.options),\n\t\t\t};\n\n\t\t\tlet agreementsOptions = [];\n\n\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t{\n\t\t\t\tconst sourceAgreements = this.getAgreements();\n\t\t\t\tagreementsOptions = [...clonedPresetOptions.data.agreements];\n\n\t\t\t\tclonedPresetOptions.data.agreements = (\n\t\t\t\t\tclonedPresetOptions.data.agreements.map((item, index) => {\n\t\t\t\t\t\treturn sourceAgreements[index].id;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tFormClient.getInstance()\n\t\t\t\t.prepareOptions(this.getFormOptions(), clonedPresetOptions.data)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'fields'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.fields;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.agreements;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst preparedOptions = Runtime.merge({}, result, clonedPresetOptions);\n\n\t\t\t\t\tpreparedOptions.data.agreements = (\n\t\t\t\t\t\tpreparedOptions.data.agreements.map((agreement, index) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...agreement,\n\t\t\t\t\t\t\t\t...agreementsOptions[index],\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.setFormOptions(preparedOptions);\n\t\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(preparedOptions.data));\n\t\t\t\t\tsuper.applyPreset(preset);\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsuper.applyPreset(preset);\n\t\t}\n\t}\n\n\tgetFormNode(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('formNode', () => {\n\t\t\treturn this.getCurrentBlock().node.querySelector('[data-b24form-use-style]');\n\t\t});\n\t}\n\n\tuseBlockDesign(): boolean\n\t{\n\t\treturn this.cache.remember('useBlockDesign', () => {\n\t\t\treturn Text.toBoolean(Dom.attr(this.getFormNode(), 'data-b24form-use-style'));\n\t\t});\n\t}\n\n\tgetCurrentCrmEntityName(): string\n\t{\n\t\tconst {scheme} = this.getFormOptions().document;\n\t\tconst schemeItem = this.getFormDictionary().document.schemes.find((item) => {\n\t\t\treturn String(scheme) === String(item.id);\n\t\t});\n\n\t\treturn schemeItem.name;\n\t}\n\n\tgetNotSynchronizedFields(): Promise<any>\n\t{\n\t\treturn FormClient\n\t\t\t.getInstance()\n\t\t\t.checkFields(this.getFormOptions())\n\t\t\t.then((result) => {\n\t\t\t\treturn result;\n\t\t\t});\n\t}\n\n\tshowSynchronizationPopup(notSynchronizedFields: Array<string>): Promise<boolean>\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst onOk = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(true);\n\t\t\t};\n\n\t\t\tconst onCancel = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(false);\n\t\t\t};\n\n\t\t\tconst messageDescription = (() => {\n\t\t\t\tconst entityName = Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_ENTITY_TEMPLATE')\n\t\t\t\t\t.replace('{entityName}', this.getCurrentCrmEntityName());\n\n\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_DESCRIPTION')\n\t\t\t\t\t.replace('{entityName}', entityName);\n\t\t\t})();\n\n\t\t\tconst messageText = (() => {\n\t\t\t\tconst fields = [...notSynchronizedFields].map((field) => {\n\t\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_FIELD_TEMPLATE')\n\t\t\t\t\t\t.replace('{fieldName}', field);\n\t\t\t\t});\n\n\t\t\t\tif (notSynchronizedFields.length > 1)\n\t\t\t\t{\n\t\t\t\t\tconst lastField = fields.pop();\n\n\t\t\t\t\treturn Loc\n\t\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT')\n\t\t\t\t\t\t.replace('{fieldsList}', fields.join(', '))\n\t\t\t\t\t\t.replace('{lastField}', lastField);\n\t\t\t\t}\n\n\t\t\t\treturn Loc\n\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT_1')\n\t\t\t\t\t.replace('{field}', fields.join(', '));\n\t\t\t})();\n\n\t\t\twindow.top.BX.UI.Dialogs.MessageBox.confirm(\n\t\t\t\t`${messageDescription}<br><br>${messageText}`,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_TITLE'),\n\t\t\t\tonOk,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_OK_BUTTON_LABEL'),\n\t\t\t\tonCancel,\n\t\t\t);\n\t\t});\n\t}\n\n\tshowSynchronizationErrorPopup(errors: Array<string>)\n\t{\n\t\tconst message = errors.reduce((acc, item) => {\n\t\t\treturn `${acc}\\n\\n${item}`;\n\t\t}, '');\n\n\t\twindow.top.BX.UI.Dialogs.MessageBox.alert(message);\n\t}\n\n\tonSaveClick()\n\t{\n\t\tthis.getNotSynchronizedFields()\n\t\t\t.then((result) => {\n\t\t\t\tif (Type.isArrayFilled(result.sync.errors))\n\t\t\t\t{\n\t\t\t\t\tthis.showSynchronizationErrorPopup(result.sync.errors);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (Type.isArrayFilled(result.sync.fields))\n\t\t\t\t{\n\t\t\t\t\tconst fieldLabels = result.sync.fields.map((field) => {\n\t\t\t\t\t\treturn field.label;\n\t\t\t\t\t});\n\n\t\t\t\t\treturn this.showSynchronizationPopup(fieldLabels);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.then((isConfirmed) => {\n\t\t\t\tif (isConfirmed)\n\t\t\t\t{\n\t\t\t\t\tconst uri = new Uri(window.top.location.toString());\n\t\t\t\t\turi.removeQueryParam('formCreated');\n\t\t\t\t\twindow.top.history.replaceState(null, document.title, uri.toString());\n\n\t\t\t\t\tconst initialOptions = this.getInitialFormOptions();\n\t\t\t\t\tconst currentOptions = this.getFormOptions();\n\t\t\t\t\tconst options = (() => {\n\t\t\t\t\t\tif (!this.isCrmFormPage())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst clonedOptions = Runtime.clone(currentOptions);\n\t\t\t\t\t\t\tclonedOptions.data.design = Runtime.clone(initialOptions.data.design);\n\t\t\t\t\t\t\treturn clonedOptions;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn currentOptions;\n\t\t\t\t\t})();\n\n\t\t\t\t\tvoid this.hide();\n\t\t\t\t\tvoid FormClient.getInstance()\n\t\t\t\t\t\t.saveOptions(options)\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\tthis.setFormOptions(result);\n\t\t\t\t\t\t\tFormClient.getInstance().resetCache(result.id);\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (this.useBlockDesign() && this.isCrmFormPage())\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.disableUseBlockDesign();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tdisableUseBlockDesign()\n\t{\n\t\tDom.attr(this.getFormNode(), 'data-b24form-use-style', 'N');\n\t\tthis.cache.set('useBlockDesign', false);\n\n\t\tBackend\n\t\t\t.getInstance()\n\t\t\t.action(\n\t\t\t\t'Landing\\\\Block::updateNodes',\n\t\t\t\t{\n\t\t\t\t\tblock: this.getCurrentBlock().id,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'.bitrix24forms': {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t'data-b24form-use-style': 'N',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlid: this.getCurrentBlock().lid,\n\t\t\t\t\tsiteId: this.getCurrentBlock().siteId,\n\t\t\t\t},\n\t\t\t\t{code: this.getCurrentBlock().manifest.code},\n\t\t\t);\n\t}\n\n\tonCancelClick()\n\t{\n\t\tthis.getCrmForm().adjust(this.getInitialFormOptions().data);\n\t\tvoid this.hide();\n\t}\n}"],"names":["HeaderAndButtonContent","options","setEventNamespace","header","HeaderCard","title","Loc","getMessage","message","MessageCard","id","icon","headerAndButtonsIcon","description","restoreState","headersForm","FormSettingsForm","toggleable","fields","VariablesField","selector","textOnly","content","values","variables","personalizationVariables","desc","BX","Landing","UI","Field","Checkbox","items","value","name","compact","buttonsForm","TextField","buttonCaption","addItem","sourceValue","Object","entries","reduce","acc","key","includes","hideDesc","useSign","getSwitch","getValue","event","emit","getData","skipPrepare","ContentWrapper","AgreementsContent","messageIcon","listForm","AgreementsList","formOptions","agreementsList","agreements","isShown","Dom","style","getLayout","subscribe","SpamProtection","captchaTypeForm","RadioButtonField","use","getKeysCheckbox","getKeysForm","hasKeys","secret","hideKeysCheckbox","hideKeysForm","showKeysCheckbox","setValue","showKeysForm","cache","remember","hidden","help","text","href","useCustomKeys","length","recaptcha","ContentTableCell","Tag","render","ContentTableRow","headClass","head","columns","map","cell","ContentTable","headRow","columnOptions","rows","rowOptions","cellOptions","Type","isStringFilled","row","AnalyticsContent","push","yandexIcon","checked","switcher","getYandexTable","googleIcon","getGoogleTable","accordionField","AccordionField","angle","table","events","code","FieldsContent","fieldsForm","FieldsListField","isLeadEnabled","crmFields","setOffsetTop","FieldsRulesContent","getHeader","keys","getRuleTypeField","getRulesForm","getActionPanel","group","list","forEach","item","accEntry","find","accItem","condition","field","target","operator","operation","expression","action","type","addField","RuleField","rules","onRemove","onFieldRemove","bind","removeField","getTarget","clear","setBottomMargin","ActionPanel","left","ruleForm","button","onClick","onCreateRule","disabled","soon","radioField","insertBefore","dependencies","typeId","listItems","listItem","expItem","ActionPagesField","subscribeFromOptions","fetchEventsFromOptions","setLayoutClass","append","getSuccess","input","getFailure","Event","document","onDocumentClick","window","top","successInput","querySelector","failureInput","attr","createPageBlock","successText","onInput","onShowClick","failureText","innerText","success","getSuccessText","failure","getFailureText","classPrefix","onEditClick","preventDefault","stopPropagation","inner","currentTarget","closest","textContainer","isContentEditable","isFunction","onEditorClick","onViewClick","BaseField","ActionsContent","addClass","getTypeButtons","getActionPages","selectable","url","onChange","onTypeChange","PresetField","setTitle","setIcon","type1Icon","placeholder","Dropdown","redirectDelay","Array","from","index","data","typeDropdown","getTypeDropdown","setLinkText","replace","type2Icon","getSuccessLinkField","getFailureLinkField","getDelayField","actionPagesValue","result","EmbedField","clean","layout","onInputClick","Button","size","Size","SMALL","color","Color","PRIMARY","onclick","onCopyButtonClick","selectCode","rootWindow","PageObject","getRootWindow","execCommand","getSelection","removeAllRanges","getCopyButton","setColor","LINK","Icon","DONE","setText","selectAllChildren","innerHTML","Text","encode","WidgetField","getInputWrapper","getSettingsButton","LIGHT_BORDER","SETTING","CopyLinkField","getLink","link","Link","PositionField","horizontal","vertical","fieldsInner","getFieldsInner","EmbedContent","closeable","hideActions","level","Radio","html","views","auto","delay","getDelayDropdown","DropdownInline","skipInitialEvent","click","position","test","embedField","getEmbedField","type1icon","getType1Message","scripts","inline","type2icon","type3icon","positionField","getType3PositionField","getType3Message","getType3Header","getType3ShowTypeField","type4icon","getType4Message","getType4Header","getType4Checkbox","getType4PositionField","getType4ShowTypeField","type5icon","getType5Message","getWidgetField","type6icon","getCopyLinkField","type3positionValue","type4positionValue","embedding","Identify","OrderField","getWrapper","MEDIUM","onButtonClick","companyId","getDropdown","open","getButton","StageField","getInner","getCategoriesDropdown","category","categories","NAME","ID","onCategoryChange","currentCategoryId","String","oldStagesDropdown","getStagesDropdown","delete","popup","destroy","newStagesDropdown","stages","getCurrentCategory","STAGES","stage","CrmContent","getTypesField","getExpertSettingsForm","getOrderSettingsForm","duplicateMode","payment","opened","toNumber","scheme","getPaymentField","toggleableType","ToggleableType","getDuplicatesField","setTimeout","BaseEvent","unshift","duplicatesEnabled","expertSettingsForm","getType1Header","getType2Header","getStagesField","getDuplicatesEnabledField","isOpened","onSwitchChange","reducedValue","deal","toBoolean","DefaultValues","DefaultValueField","dictionary","FacebookContent","buttonCard","BaseCard","prepareButtonText","SidePanel","Instance","cacheable","onClose","client","FormClient","getInstance","resetCache","getOptions","then","padding","margin","getBody","enabled","integration","cases","some","providerCode","VkContent","Callback","isAvailable","getWarningMessage","getSettingsForm","disable","callback","Switch","getPhoneListField","getTextField","UserSelectorField","removeClass","getTagSelector","renderTo","root","EntitySelector","TagSelector","dialogOptions","entities","activeUsers","preselectedItems","getDialog","getSelectedItems","Other","otherForm","getNameField","getUserSelectorField","getUseSignField","sign","canRemove","createCopyRight","users","isNumber","responsible","canRemoveCopyrights","checkbox","restriction","helper","evalGlobal","Reflection","getClass","sidebarButtons","SidebarButton","child","important","className","presetCategories","PresetCategory","presets","Preset","siteIcon","templateId","captcha","widgetAutoShowIcon","callbackIcon","defaultSection","serviceIcon","productWithTextIcon","productWithImageIcon","vkIcon","facebookIcon","crmFormIcon","FormSettingsPanel","rootWindowPanel","Panel","instance","disableOverlay","preparedSidebarButtons","filter","isCrmFormPage","setSidebarButtons","setCategories","filteredPresets","preset","setPresets","getBlockSettingsButton","getRightHeaderControls","onCancelClick","Env","specialType","onBlockSettingsButtonClick","getCurrentBlock","hide","showContentPanel","Loader","body","getLoader","show","sidebar","getPresetField","crmData","Backend","batch","crmCompanies","crmCategories","setCrmFields","setCrmCompanies","setCrmCategories","setAgreements","getCurrentFormId","setFormOptions","formDictionary","getDictionary","setFormDictionary","Promise","all","set","Runtime","orderBy","get","getFormDictionary","lead","block","parentNode","enableToggleMode","isFormCreated","disableTransparentMode","setCurrentBlock","setCurrentFormId","formId","setCurrentFormInstanceId","instanceId","showLoader","load","hideLoader","getFormOptions","getPresets","isPlainObject","isArrayFilled","merge","state","onPresetFieldClick","activatePreset","applyPreset","setInitialFormOptions","clone","catch","error","accessDeniedCode","isAccessDenied","errorItem","footer","getAccessError","console","StylePanel","uri","Uri","location","origin","getQueryParam","companies","formApp","getCurrentFormInstanceId","eventData","eventTargetValue","resolve","preparedItem","rule","Reflect","has","additionalValue","prepareOptions","getCrmForm","adjust","personalization","crmForm","sent","getPersonalizationVariables","sanitize","getAgreements","analytics","steps","getCrmFields","actionsContent","stateText","getCrmCompanies","getCrmCategories","presetFields","skipOptions","currentPreset","deactivate","activate","clonedPresetOptions","agreementsOptions","sourceAgreements","preparedOptions","agreement","node","getFormNode","schemeItem","schemes","checkFields","notSynchronizedFields","onOk","messageBox","close","onCancel","messageDescription","entityName","getCurrentCrmEntityName","messageText","lastField","pop","join","Dialogs","MessageBox","confirm","errors","alert","getNotSynchronizedFields","sync","showSynchronizationErrorPopup","fieldLabels","label","showSynchronizationPopup","isConfirmed","toString","removeQueryParam","history","replaceState","initialOptions","getInitialFormOptions","currentOptions","clonedOptions","design","saveOptions","useBlockDesign","disableUseBlockDesign","attrs","lid","siteId","manifest","decode","BasePresetPanel"],"mappings":"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"}