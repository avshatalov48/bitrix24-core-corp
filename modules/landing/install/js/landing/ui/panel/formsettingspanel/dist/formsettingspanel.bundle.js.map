{"version":3,"file":"formsettingspanel.bundle.js","sources":["../src/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg","../src/internal/content/header-and-buttons/header-and-buttons.js","../src/internal/content/agreements/images/message-icon.svg","../src/internal/content/agreements/agreements.js","../src/internal/content/spam-protection/spam-protection.js","../src/internal/content/analytics/images/yandex.svg","../src/internal/content/analytics/images/google.svg","../src/internal/content/analytics/internal/table/content-table-cell.js","../src/internal/content/analytics/internal/table/content-table-row.js","../src/internal/content/analytics/internal/table/content-table.js","../src/internal/content/analytics/analytics.js","../src/internal/content/fields/images/message-icon.svg","../src/internal/content/fields/fields.js","../src/internal/content/fields-rules/fields-rules.js","../src/internal/content/actions/internal/action-pages/action-pages.js","../src/internal/content/actions/images/type1.svg","../src/internal/content/actions/images/type2.svg","../src/internal/content/actions/actions.js","../src/internal/content/embed/internal/embedfield/embedfield.js","../src/internal/content/embed/internal/widgetfield/widgetfield.js","../src/internal/content/embed/internal/copylinkfield/copylinkfield.js","../src/internal/content/embed/internal/positionfield/positionfield.js","../src/internal/content/embed/images/type1.svg","../src/internal/content/embed/images/type2.svg","../src/internal/content/embed/images/type3.svg","../src/internal/content/embed/images/type4.svg","../src/internal/content/embed/images/type5.svg","../src/internal/content/embed/images/type6.svg","../src/internal/content/embed/embed.js","../src/internal/content/identify/images/icon.svg","../src/internal/content/identify/identify.js","../src/internal/content/crm/internal/orderfield/orderfield.js","../src/internal/content/crm/internal/stagefield/stagefield.js","../src/internal/content/crm/images/message-icon.svg","../src/internal/content/crm/crm.js","../src/internal/content/defaultvalues/defaultvalues.js","../src/internal/content/facebook/facebook.js","../src/internal/content/vk/vk.js","../src/internal/content/callback/callback.js","../src/internal/content/other/internal/userselectorfield/userselectorfield.js","../src/internal/content/other/other.js","../src/internal/sidebar-buttons.js","../src/internal/preset-categories.js","../src/images/icons/integration.svg","../src/images/icons/autoshow.svg","../src/images/icons/revertcall.svg","../src/images/icons/producttext.svg","../src/images/icons/productimage.svg","../src/images/icons/vk.svg","../src/images/icons/facebook.svg","../src/images/icons/crm.svg","../src/images/icons/service.svg","../src/internal/presets.js","../src/formsettingspanel.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc, Reflection, Type} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport 'helper';\nimport headerAndButtonsIcon from './images/header-and-buttons-message-icon.svg';\n\nexport default class HeaderAndButtonContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.HeaderAndButtonContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'headerAndButtonMessage',\n\t\t\ticon: headerAndButtonsIcon,\n\t\t\theader: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_DESCRIPTION_2'),\n\t\t\trestoreState: true,\n\t\t\tmore: () => {\n\t\t\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\t\t\t\tif (helper)\n\t\t\t\t{\n\t\t\t\t\tBX.Helper.show('redirect=detail&code=12802786');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tconst headersForm = new FormSettingsForm({\n\t\t\tid: 'headers',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_TITLE'),\n\t\t\ttoggleable: true,\n\t\t\tfields: [\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'title',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.title,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'desc',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.desc,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\tselector: 'hideDesc',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 'hideDesc',\n\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// {\n\t\t\t\t\t\t// \tvalue: 'hideSeparator',\n\t\t\t\t\t\t// \tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SEPARATOR_FIELD_TITLE'),\n\t\t\t\t\t\t// },\n\t\t\t\t\t],\n\t\t\t\t\tcompact: true,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tconst buttonsForm = new FormSettingsForm({\n\t\t\tid: 'buttons',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_TITLE'),\n\t\t\tfields: [\n\t\t\t\tnew TextField({\n\t\t\t\t\tselector: 'buttonCaption',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_SEND_BUTTON_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.buttonCaption,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(headersForm);\n\t\tthis.addItem(buttonsForm);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst value = Object.entries(sourceValue).reduce((acc, [key, value]) => {\n\t\t\tif (key === 'hideDesc')\n\t\t\t{\n\t\t\t\tif (value.includes(key))\n\t\t\t\t{\n\t\t\t\t\tacc.desc = '';\n\t\t\t\t}\n\n\t\t\t\tdelete acc.hideDesc;\n\t\t\t}\n\n\t\t\tif (key === 'useSign')\n\t\t\t{\n\t\t\t\tacc.useSign = value.includes('useSign');\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {...sourceValue});\n\n\t\tif (!this.items[2].getSwitch().getValue())\n\t\t{\n\t\t\tvalue.title = '';\n\t\t\tvalue.desc = '';\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/agreements/images/message-icon.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {AgreementsList} from 'landing.ui.field.agreementslist';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class AgreementsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_AGREEMENTS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'agreementsMessage',\n\t\t\theader: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst listForm = new FormSettingsForm({\n\t\t\tid: 'agreementsList',\n\t\t\tfields: [\n\t\t\t\tnew AgreementsList({\n\t\t\t\t\tselector: 'agreements',\n\t\t\t\t\tformOptions: this.options.formOptions,\n\t\t\t\t\tagreementsList: this.options.agreementsList,\n\t\t\t\t\tvalue: this.options.values.agreements,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(listForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\n\nimport './css/style.css';\n\nexport default class SpamProtection extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TITLE'),\n\t\t});\n\n\t\tconst captchaTypeForm = new FormSettingsForm({\n\t\t\tid: 'type',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tnew RadioButtonField({\n\t\t\t\t\tselector: 'use',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TABS_TITLE'),\n\t\t\t\t\tvalue: this.options.values.use ? 'hidden' : 'disabled',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'disabled',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_DISABLED'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-disabled',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'hidden',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_HIDDEN'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-hidden',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(captchaTypeForm);\n\t\tthis.addItem(this.getKeysCheckbox());\n\t\tthis.addItem(this.getKeysForm());\n\n\t\tconst hasKeys = this.options.values.key && this.options.values.secret;\n\n\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t{\n\t\t\tthis.hideKeysCheckbox();\n\t\t\tthis.hideKeysForm();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.showKeysCheckbox();\n\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\tif (hasKeys)\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t}\n\n\t\tcaptchaTypeForm.subscribe('onChange', () => {\n\t\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t\t{\n\t\t\t\tthis.hideKeysCheckbox();\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.showKeysCheckbox();\n\t\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\t\tif (hasKeys)\n\t\t\t\t{\n\t\t\t\t\tthis.showKeysForm();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.hideKeysForm();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.getKeysCheckbox().subscribe('onChange', () => {\n\t\t\tif (this.getKeysCheckbox().fields[0].getValue().includes('useCustomKeys'))\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKeysCheckbox()\n\t{\n\t\treturn this.cache.remember('keysCheckbox', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'customKeys',\n\t\t\t\tdescription: null,\n\t\t\t\tfields: [\n\t\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\t\tselector: 'useCustomKeys',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_SPAM_PROTECTION_CUSTOM_KEYS_CHECKBOX_LABEL'),\n\t\t\t\t\t\t\t\tvalue: 'useCustomKeys',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = false;\n\t}\n\n\thideKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = true;\n\t}\n\n\tgetKeysForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('keysForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'keys',\n\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_TITLE'),\n\t\t\t\thelp: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_TEXT'),\n\t\t\t\t\thref: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_HREF'),\n\t\t\t\t},\n\t\t\t\tfields: [\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'key',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.key,\n\t\t\t\t\t}),\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'secret',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_SECRET_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.secret,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = false;\n\t}\n\n\thideKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = true;\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst useCustomKeys = sourceValue.useCustomKeys.length > 0;\n\n\t\treturn {\n\t\t\trecaptcha: {\n\t\t\t\tuse: sourceValue.use === 'hidden',\n\t\t\t\tkey: useCustomKeys ? sourceValue.key : '',\n\t\t\t\tsecret: useCustomKeys ? sourceValue.secret : '',\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/yandex.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/google.svg\"","import {Tag} from 'main.core';\n\nexport type ContentTableCellOptions = {\n\tcontent: string | HTMLElement,\n\thead: boolean,\n};\n\nexport class ContentTableCell\n{\n\tconstructor(options: ContentTableCellOptions = {})\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableCellElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-cell\">\n\t\t\t\t${this.options.content}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport type {ContentTableCell} from './content-table-cell';\n\nexport type ContentTableRowOptions = {\n\tcolumns: Array<ContentTableCell>,\n\thead?: boolean,\n};\n\nexport class ContentTableRow\n{\n\tconstructor(options: ContentTableRowOptions)\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableRowElement\n\t{\n\t\tconst headClass = this.options.head ? ' landing-ui-content-table-row-head' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-row${headClass}\">\n\t\t\t\t${this.options.columns.map((cell) => cell.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport {ContentTableCell} from './content-table-cell';\nimport {ContentTableRow} from './content-table-row';\nimport type {ContentTableCellOptions} from './content-table-cell';\nimport type {ContentTableRowOptions} from './content-table-row';\n\nimport './css/style.css';\n\ntype ContentTableOptions = {\n\ttitle: string,\n\tcolumns: Array<ContentTableCellOptions>,\n\trows: Array<ContentTableRowOptions>\n};\n\nexport class ContentTable\n{\n\tconstructor(options: ContentTableOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.headRow = new ContentTableRow({\n\t\t\tcolumns: this.options.columns.map((columnOptions) => {\n\t\t\t\treturn new ContentTableCell(columnOptions);\n\t\t\t}),\n\t\t\thead: true,\n\t\t});\n\t\tthis.rows = this.options.rows.map((rowOptions) => {\n\t\t\treturn new ContentTableRow({\n\t\t\t\tcolumns: rowOptions.columns.map((cellOptions) => {\n\t\t\t\t\treturn new ContentTableCell(cellOptions);\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitleLayout(): HTMLDivElement | string\n\t{\n\t\tif (Type.isStringFilled(this.options.title))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-content-table-title\">${this.options.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\trender(): HTMLTableElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-wrapper\">\n\t\t\t\t\n\t\t\t\t<div class=\"landing-ui-content-table\">\n\t\t\t\t\t${this.headRow.render()}\n\t\t\t\t\t${this.rows.map((row) => row.render())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {AccordionField} from 'landing.ui.field.accordionfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport yandexIcon from './images/yandex.svg';\nimport googleIcon from './images/google.svg';\nimport {ContentTable} from './internal/table/content-table';\n\nexport default class AnalyticsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TITLE'),\n\t\t});\n\n\t\tconst items = [];\n\t\tif (Loc.getMessage('LANGUAGE_ID') === 'ru')\n\t\t{\n\t\t\titems.push({\n\t\t\t\tid: 'yandex',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_YANDEX_METRIKA'),\n\t\t\t\ticon: yandexIcon,\n\t\t\t\tchecked: true,\n\t\t\t\tswitcher: false,\n\t\t\t\tcontent: this.getYandexTable(),\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tid: 'google',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_GOOGLE_ANALYTICS'),\n\t\t\ticon: googleIcon,\n\t\t\tchecked: true,\n\t\t\tswitcher: false,\n\t\t\tcontent: this.getGoogleTable(),\n\t\t});\n\n\t\tconst accordionField = new AccordionField({\n\t\t\tselector: 'analytics',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEMS_FIELD_TITLE'),\n\t\t\titems,\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'analyticsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_DESCRIPTION'),\n\t\t\tangle: false,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(accordionField);\n\t}\n\n\tgetYandexTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.event},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n\n\tgetGoogleTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.code},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/fields/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {FieldsListField} from 'landing.ui.field.fieldslistfield';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class FieldsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'fieldsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew FieldsListField({\n\t\t\t\t\tselector: 'fields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'main.core';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {RuleField} from 'landing.ui.field.rulefield';\nimport {ActionPanel} from 'landing.ui.component.actionpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\n\nimport './css/style.css';\nimport {BaseEvent} from 'main.core.events';\n\nexport default class FieldsRulesContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsRulesContent');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!Object.keys(this.options.values).length > 0)\n\t\t{\n\t\t\tthis.addItem(this.getRuleTypeField());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(this.getRulesForm());\n\t\t\tthis.addItem(this.getActionPanel());\n\n\t\t\tconst values = this.options.values.reduce((acc, group) => {\n\t\t\t\tgroup.list.forEach((item) => {\n\t\t\t\t\tconst accEntry = acc.find((accItem) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\taccItem.condition.field === item.condition.target\n\t\t\t\t\t\t\t\t|| accItem.condition.field.id === item.condition.target\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t&& accItem.condition.value === item.condition.value\n\t\t\t\t\t\t\t&& accItem.condition.operator === item.condition.operation\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (accEntry)\n\t\t\t\t\t{\n\t\t\t\t\t\taccEntry.expression.push({\n\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\treturn field.id === item.action.target;\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\treturn field.name === item.condition.target;\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tvalue: item.condition.value,\n\t\t\t\t\t\t\t\toperator: item.condition.operation,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\texpression: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.name === item.action.target;\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn acc;\n\t\t\t}, []);\n\n\t\t\tthis.getRulesForm().addField(\n\t\t\t\tnew RuleField({\n\t\t\t\t\tfields: this.options.fields,\n\t\t\t\t\trules: values,\n\t\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tonFieldRemove(event: BaseEvent)\n\t{\n\t\tthis.getRulesForm().removeField(event.getTarget());\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(true);\n\t\tthis.addItem(header);\n\t\tthis.addItem(this.getRuleTypeField());\n\t}\n\n\tgetRulesForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('rulesForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tselector: 'dependencies',\n\t\t\t\tdescription: null,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetActionPanel(): ActionPanel\n\t{\n\t\treturn this.cache.remember('actionPanel', () => {\n\t\t\treturn new ActionPanel({\n\t\t\t\tleft: [\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttext: Loc.getMessage('LANDING_FIELDS_ADD_NEW_RULE_LINK_LABEL'),\n\t\t\t\t\t// \tonClick: this.onAddRuleClick.bind(this),\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('headerCard', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCreateRule()\n\t{\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(false);\n\t\tthis.addItem(header);\n\n\t\tconst ruleForm = this.getRulesForm();\n\n\t\truleForm.addField(\n\t\t\tnew RuleField({\n\t\t\t\tfields: this.options.fields,\n\t\t\t\trules: [],\n\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t}),\n\t\t);\n\n\t\tthis.addItem(ruleForm);\n\t\tthis.addItem(this.getActionPanel());\n\t}\n\n\tgetRuleTypeField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('ruleTypeField', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'rules-type',\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type1-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_1'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type2-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_2'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type3',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type3-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_3'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonAddRuleClick()\n\t{\n\t\tconst radioField = this.getRuleTypeField();\n\t\tthis.insertBefore(radioField, this.items[this.items.length - 1]);\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\treturn {\n\t\t\tdependencies: Object.values(value).map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\ttypeId: 0,\n\t\t\t\t\tlist: item.reduce((acc, listItems) => {\n\t\t\t\t\t\tlistItems.forEach((listItem) => {\n\t\t\t\t\t\t\tlistItem.expression.forEach((expItem) => {\n\t\t\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\ttarget: listItem.condition.field,\n\t\t\t\t\t\t\t\t\t\tevent: 'change',\n\t\t\t\t\t\t\t\t\t\tvalue: listItem.condition.value,\n\t\t\t\t\t\t\t\t\t\toperation: listItem.condition.operator,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t\t\t\ttarget: expItem.field,\n\t\t\t\t\t\t\t\t\t\ttype: expItem.action,\n\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []),\n\t\t\t\t};\n\t\t\t}),\n\t\t};\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Dom, Tag, Type, Event} from 'main.core';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {fetchEventsFromOptions} from 'landing.ui.component.internal';\n\nexport class ActionPagesField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.ActionPagesField');\n\t\tthis.subscribeFromOptions(fetchEventsFromOptions(options));\n\t\tthis.setLayoutClass('landing-ui-field-action-pages');\n\n\t\tDom.append(this.getSuccess(), this.input);\n\t\tDom.append(this.getFailure(), this.input);\n\n\t\tEvent.bind(document, 'click', this.onDocumentClick.bind(this));\n\t\tEvent.bind(window.top.document, 'click', this.onDocumentClick.bind(this));\n\t}\n\n\tstatic createPageBlock(\n\t\toptions: {\n\t\t\ttype: 'success' | 'failure',\n\t\t\ttitle: string,\n\t\t\ttext: string,\n\t\t\tonShowClick: (event: MouseEvent) => void,\n\t\t\tonEditClick: (event: MouseEvent) => void,\n\t\t},\n\t): HTMLDivElement\n\t{\n\t\tconst classPrefix = 'landing-ui-field-action-pages-page';\n\n\t\tconst onEditClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tconst inner = event.currentTarget.closest(`.${classPrefix}-inner`);\n\t\t\tconst textContainer = inner.querySelector(`.${classPrefix}-text`);\n\t\t\tDom.attr(textContainer, 'contenteditable', !textContainer.isContentEditable);\n\t\t\tif (Type.isFunction(options.onEditClick))\n\t\t\t{\n\t\t\t\toptions.onEditClick(event);\n\t\t\t}\n\t\t};\n\n\t\tconst onEditorClick = (event) => {\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tconst onViewClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (Type.isFunction(options.onShowClick))\n\t\t\t{\n\t\t\t\toptions.onShowClick(event);\n\t\t\t}\n\t\t};\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${classPrefix} ${classPrefix}-${options.type}\">\n\t\t\t\t<div class=\"${classPrefix}-title\">\n\t\t\t\t\t${options.title}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${classPrefix}-inner\">\n\t\t\t\t\t<div class=\"${classPrefix}-header\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-header-view\" onclick=\"${onViewClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_SHOW')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-icon\"></div>\n\t\t\t\t\t<div class=\"${classPrefix}-text\" onclick=\"${onEditorClick}\" oninput=\"${options.onInput}\">\n\t\t\t\t\t\t${options.text}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-footer\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-footer-edit\" onclick=\"${onEditClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_EDIT')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonDocumentClick()\n\t{\n\t\tconst successInput = this.getSuccess().querySelector('.landing-ui-field-action-pages-page-text');\n\t\tconst failureInput = this.getFailure().querySelector('.landing-ui-field-action-pages-page-text');\n\n\t\tDom.attr(successInput, 'contenteditable', null);\n\t\tDom.attr(failureInput, 'contenteditable', null);\n\t}\n\n\tgetSuccess(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('success', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'success',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_SUCCESS_PAGE_TITLE'),\n\t\t\t\ttext: this.options.successText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailure(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('failure', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'failure',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_FAILURE_PAGE_TITLE'),\n\t\t\t\ttext: this.options.failureText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowFailure');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSuccessText(): string\n\t{\n\t\treturn this.getSuccess()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetFailureText(): string\n\t{\n\t\treturn this.getFailure()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tsuccess: this.getSuccessText(),\n\t\t\tfailure: this.getFailureText(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type2.svg\"","import {Dom, Text, Type} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ActionPagesField} from './internal/action-pages/action-pages';\n\nimport type1Icon from './images/type1.svg';\nimport type2Icon from './images/type2.svg';\n\nimport './css/style.css';\n\nexport default class ActionsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.ActionsContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-actions-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\n\t\tthis.getActionPages()\n\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t})\n\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\tthis.emit('onShowFailure');\n\t\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselectable: true,\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isStringFilled(this.options.values.success.url)\n\t\t\t\t\t\t&& Type.isStringFilled(this.options.values.failure.url)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 'type2';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn 'type1';\n\t\t\t\t})(),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_1'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type1',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_2'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type2',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCheckbox()\n\t{\n\t\treturn this.cache.remember('checkbox', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_ACTIONS_CHECKBOX_TITLE'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\t\t\tfield.setIcon(type1Icon);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetSuccessLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('successLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_SUCCESS_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.success.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailureLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('failureLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_FAILURE_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.failure.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('delayField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'redirectDelay',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_TITLE'),\n\t\t\t\tcontent: this.options.values.redirectDelay,\n\t\t\t\titems: Array.from({length: 11}, (item, index) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: `${index} ${Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_ITEM')}`,\n\t\t\t\t\t\tvalue: (index),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tonChange()\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetActionPages()\n\t{\n\t\treturn this.cache.remember('actionPages', () => {\n\t\t\treturn new ActionPagesField({\n\t\t\t\tsuccessText: this.options.values.success.text,\n\t\t\t\tfailureText: this.options.values.failure.text,\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(typeDropdown);\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1Icon);\n\t\t\tthis.addItem(this.getActionPages());\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2Icon);\n\t\t\tthis.addItem(this.getSuccessLinkField());\n\t\t\tthis.addItem(this.getFailureLinkField());\n\t\t\tthis.addItem(this.getDelayField());\n\t\t}\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst actionPagesValue = this.getActionPages().getValue();\n\n\t\treturn {\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: actionPagesValue.success,\n\t\t\t\t\turl: Text.decode(this.getSuccessLinkField().getValue()),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: actionPagesValue.failure,\n\t\t\t\t\turl: Text.decode(this.getFailureLinkField().getValue()),\n\t\t\t\t},\n\t\t\t\tredirectDelay: this.getDelayField().getValue(),\n\t\t\t},\n\t\t};\n\t}\n}","import {Dom, Tag, Event, Text} from 'main.core';\nimport {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {PageObject} from 'landing.pageobject';\nimport {Button} from 'ui.buttons';\n\nimport './css/style.css';\n\nexport class EmbedField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.EmbedField');\n\t\tthis.setLayoutClass('landing-ui-field-embed');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getHeader(), this.layout);\n\t\tDom.append(this.input, this.layout);\n\n\t\tEvent.bind(this.input, 'click', this.onInputClick.bind(this));\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_COPY_BUTTON_LABEL'),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_COPIED_BUTTON_LABEL'));\n\n\t\tDom.addClass(this.getHeader(), 'landing-ui-field-embed-header-copied');\n\t}\n\n\tonInputClick(event: MouseEvent)\n\t{\n\t\tevent.preventDefault();\n\t\tthis.selectCode();\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.input);\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-embed-header\">\n\t\t\t\t\t<div class=\"landing-ui-field-embed-header-button\">\n\t\t\t\t\t\t${this.getCopyButton().render()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tsetValue(value: * = '')\n\t{\n\t\tthis.input.innerHTML = Text.encode(value);\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\n\nexport default class WidgetField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Filed.WidgetField');\n\t\tthis.setLayoutClass('landing-ui-filed-widget');\n\n\t\tDom.append(this.getInputWrapper(), this.layout);\n\t}\n\n\tgetInputWrapper(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('inputWrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-filed-widget-wrapper\">\n\t\t\t\t\t${this.input}\n\t\t\t\t\t${this.getSettingsButton().render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetSettingsButton(): Button\n\t{\n\t\treturn this.cache.remember('settingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_BUTTON_LABEL'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\ticon: Button.Icon.SETTING,\n\t\t\t});\n\t\t});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\nimport {Link} from 'landing.ui.component.link';\nimport {PageObject} from 'landing.pageobject';\n\nimport './css/style.css';\n\ntype CopyLinkFieldOptions = {\n\tlink: string,\n};\n\nexport default class CopyLinkField extends BaseField\n{\n\tconstructor(options: CopyLinkFieldOptions)\n\t{\n\t\tsuper(options);\n\t\tthis.setLayoutClass('landing-ui-field-copy-link');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getLink(), this.layout);\n\t\tDom.append(this.getCopyButton().render(), this.layout);\n\t}\n\n\tgetLink()\n\t{\n\t\treturn this.cache.remember('link', () => {\n\t\t\tconst link = new Link({\n\t\t\t\ttext: this.options.link,\n\t\t\t\thref: this.options.link,\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-copy-link-preview\">\n\t\t\t\t\t${link.getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_PUB_COPY_LINK_BUTTON_LABEL'),\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.getLink());\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_PUB_COPIED_LINK_BUTTON_LABEL'));\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport class PositionField extends BaseField\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper(options);\n\n\t\tthis.horizontal = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'horizontal',\n\t\t\tcontent: options.value.horizontal,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_LEFT'), value: 'left'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_CENTER'), value: 'center'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_RIGHT'), value: 'right'},\n\t\t\t],\n\t\t});\n\n\t\tthis.vertical = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'vertical',\n\t\t\tcontent: options.value.vertical,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_TOP'), value: 'top'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_BOTTOM'), value: 'bottom'},\n\t\t\t],\n\t\t});\n\n\t\tthis.horizontal.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tthis.vertical.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tconst fieldsInner = this.getFieldsInner();\n\n\t\tDom.append(this.horizontal.getLayout(), fieldsInner);\n\t\tDom.append(this.vertical.getLayout(), fieldsInner);\n\n\t\tDom.replace(this.input, fieldsInner);\n\t}\n\n\tgetFieldsInner(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('fieldsInner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-position-fields-inner\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetValue(): {vertical: string, horizontal: string}\n\t{\n\t\treturn {\n\t\t\tvertical: this.vertical.getValue(),\n\t\t\thorizontal: this.horizontal.getValue(),\n\t\t};\n\t}\n\n\tsetValue(value: {vertical: string, horizontal: string})\n\t{\n\t\tthis.vertical.setValue(value.vertical);\n\t\tthis.horizontal.setValue(value.horizontal);\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type2.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type3.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type4.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type5.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type6.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\n\nimport {EmbedField} from './internal/embedfield/embedfield';\nimport WidgetField from './internal/widgetfield/widgetfield';\nimport CopyLinkField from './internal/copylinkfield/copylinkfield';\nimport {PositionField} from './internal/positionfield/positionfield';\n\nimport type1icon from './images/type1.svg';\nimport type2icon from './images/type2.svg';\nimport type3icon from './images/type3.svg';\nimport type4icon from './images/type4.svg';\nimport type5icon from './images/type5.svg';\nimport type6icon from './images/type6.svg';\n\nimport './css/style.css';\n\nexport default class EmbedContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.EmbedContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-embed-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TYPE_FIELD_TITLE'),\n\t\t\t\titems: [1, 3, 4, 2, 5, 6].map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: `type${item}`,\n\t\t\t\t\t\ttitle: Loc.getMessage(`LANDING_FORM_EMBED_TYPE_${item}`),\n\t\t\t\t\t\ticon: `landing-ui-form-embed-type${item}`,\n\t\t\t\t\t\tsoon: [2, 5, 6].includes(item),\n\t\t\t\t\t\tdisabled: [2, 5, 6].includes(item),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t\tselectable: false,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetType1Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type1Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type3Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type4Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType5Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type5Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType8Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type8Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetEmbedField(): EmbedField\n\t{\n\t\treturn this.cache.remember('embedField', () => {\n\t\t\treturn new EmbedField({\n\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_CLICK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_AUTO_SHOW_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLinkTextField()\n\t{\n\t\treturn this.cache.remember('linkTextField', () => {\n\t\t\treturn new VariablesField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_TEXT_SETTINGS_FIELD_TITLE'),\n\t\t\t\tvariables: [\n\t\t\t\t\t{name: 'Test', value: 'test'},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Checkbox(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('type4checkbox', () => {\n\t\t\tconst field = new BX.Landing.UI.Field.Radio({\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_PAGE_LOADED'),\n\t\t\t\t\t\tvalue: 'pageLoaded',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\thtml: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_TIME'),\n\t\t\t\t\t\tvalue: 'afterTime',\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_SCROLL_TO_ANCHOR'),\n\t\t\t\t\t// \tvalue: 'scrollToAnchor',\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (this.options.values.views.auto.delay > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn ['afterTime'];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ['pageLoaded'];\n\t\t\t\t})(),\n\t\t\t});\n\n\t\t\tDom.replace(\n\t\t\t\tfield.layout.querySelector('.delay_time'),\n\t\t\t\tthis.getDelayDropdown().getLayout(),\n\t\t\t);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetWidgetField(): WidgetField\n\t{\n\t\treturn this.cache.remember('widgetField', () => {\n\t\t\treturn new WidgetField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_TITLE'),\n\t\t\t\tplaceholder: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_PLACEHOLDER'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCopyLinkField(): CopyLinkField\n\t{\n\t\treturn this.cache.remember('copyLinkField', () => {\n\t\t\treturn new CopyLinkField({\n\t\t\t\tlink: 'https://bitrix24.io/pub/my/form/link',\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayDropdown(): BX.Landing.UI.Field.DropdownInline\n\t{\n\t\treturn this.cache.remember('delayDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.DropdownInline({\n\t\t\t\tselector: 'showDelay',\n\t\t\t\tcontent: this.options.values.views.auto.delay,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '5c',\n\t\t\t\t\t\tvalue: '5',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '10c',\n\t\t\t\t\t\tvalue: '10',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '15c',\n\t\t\t\t\t\tvalue: '15',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t\tskipInitialEvent: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3PositionField()\n\t{\n\t\treturn this.cache.remember('type3PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4PositionField()\n\t{\n\t\treturn this.cache.remember('type4PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type3ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.click.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type4ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.auto.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tif (/type[1-6]$/.test(data.item.id))\n\t\t{\n\t\t\tthis.clear();\n\t\t\tthis.addItem(this.getHeader());\n\t\t\tthis.addItem(typeDropdown);\n\t\t}\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tconst embedField = this.getEmbedField();\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1icon);\n\t\t\tthis.addItem(this.getType1Message());\n\n\t\t\tembedField.setValue(this.options.values.scripts.inline.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2icon);\n\t\t\t// this.addItem(this.getType2Header());\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type3')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type3icon);\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tconst positionField = this.getType3PositionField();\n\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t});\n\n\t\t\tthis.addItem(this.getType3Message());\n\t\t\tthis.addItem(this.getType3Header());\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType3ShowTypeField());\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type4')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type4icon);\n\t\t\tthis.addItem(this.getType4Message());\n\t\t\tthis.addItem(this.getType4Header());\n\t\t\tthis.addItem(this.getType4Checkbox());\n\n\t\t\tconst positionField = this.getType4PositionField();\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t});\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType4ShowTypeField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type5')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type5icon);\n\t\t\tthis.addItem(this.getType5Message());\n\t\t\tthis.addItem(this.getWidgetField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type6')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type6icon);\n\t\t\tthis.addItem(this.getCopyLinkField());\n\t\t}\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst type3positionValue = this.getType3PositionField().getValue();\n\t\tconst type4positionValue = this.getType4PositionField().getValue();\n\n\t\treturn {\n\t\t\tembedding: {\n\t\t\t\tviews: {\n\t\t\t\t\tauto: {\n\t\t\t\t\t\tdelay: (() => {\n\t\t\t\t\t\t\tif (this.getType4Checkbox().getValue().includes('pageLoaded'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn this.getDelayDropdown().getValue();\n\t\t\t\t\t\t})(),\n\t\t\t\t\t\tposition: type4positionValue.horizontal,\n\t\t\t\t\t\tvertical: type4positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType4ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t\tclick: {\n\t\t\t\t\t\tposition: type3positionValue.horizontal,\n\t\t\t\t\t\tvertical: type3positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType3ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/identify/images/icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Reflection} from 'main.core';\n\nimport messageIcon from './images/icon.svg';\n\nexport default class Identify extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Identify');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_IDENTIFY_HEADER'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\theader: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\tangle: false,\n\t\t\tcloseable: false,\n\t\t\tmore: () => {\n\t\t\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\t\t\t\tif (helper)\n\t\t\t\t{\n\t\t\t\t\tBX.Helper.show('redirect=detail&code=12802786');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t}\n}","import {Dom, Tag} from 'main.core';\nimport {BaseField} from 'landing.ui.field.basefield';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\n\ntype OrderFieldOptions = {\n\ttitle: string,\n\tselector: string,\n};\n\nexport default class OrderField extends BaseField\n{\n\tconstructor(options: OrderFieldOptions)\n\t{\n\t\tsuper(options);\n\n\t\tDom.replace(this.input, this.getWrapper());\n\t}\n\n\tgetDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('dropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\titems: this.options.items,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetButton(): Button\n\t{\n\t\treturn this.cache.remember('button', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_SETTINGS_BUTTON_LABEL'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tsize: Button.Size.MEDIUM,\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.onButtonClick.bind(this),\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tonButtonClick()\n\t{\n\t\tconst companyId = this.getDropdown().getValue();\n\t\tconst url = `/crm/company/details/${companyId}/?init_mode=edit`;\n\t\twindow.open(url, '_blank');\n\t}\n\n\tgetWrapper(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('wrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-order-wrapper\">\n\t\t\t\t\t${this.getDropdown().getLayout()}\n\t\t\t\t\t${this.getButton().render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport default class StageField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tDom.replace(this.input, this.getInner());\n\t}\n\n\tgetInner()\n\t{\n\t\treturn this.cache.remember('inner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-stages\">\n\t\t\t\t\t${this.getCategoriesDropdown().getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCategoriesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('categoriesDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CATEGORIES_FIELD_TITLE'),\n\t\t\t\tcontent: this.options.value.category,\n\t\t\t\titems: this.options.categories.map((category) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: category.NAME,\n\t\t\t\t\t\tvalue: category.ID,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onCategoryChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCurrentCategory()\n\t{\n\t\tconst currentCategoryId = this.getCategoriesDropdown().getValue();\n\n\t\treturn this.options.categories.find((category) => {\n\t\t\treturn String(category.ID) === String(currentCategoryId);\n\t\t});\n\t}\n\n\tonCategoryChange()\n\t{\n\t\tconst oldStagesDropdown = this.getStagesDropdown();\n\t\tthis.cache.delete('stagesDropdown');\n\n\t\tif (oldStagesDropdown.popup)\n\t\t{\n\t\t\toldStagesDropdown.popup.destroy();\n\t\t}\n\n\t\tconst newStagesDropdown = this.getStagesDropdown();\n\t\tDom.replace(oldStagesDropdown.getLayout(), newStagesDropdown.getLayout());\n\t\tthis.emit('onChange');\n\t}\n\n\tgetStagesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('stagesDropdown', () => {\n\t\t\tconst stages = this.getCurrentCategory().STAGES;\n\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_STAGES_FIELD_TITLE'),\n\t\t\t\titems: stages.map((stage) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: stage.NAME,\n\t\t\t\t\t\tvalue: stage.ID,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tcategory: this.getCategoriesDropdown().getValue(),\n\t\t\tstage: this.getStagesDropdown().getValue(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/crm/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Text} from 'main.core';\nimport OrderField from './internal/orderfield/orderfield';\nimport StageField from './internal/stagefield/stagefield';\n\nimport messageIcon from './images/message-icon.svg';\n\nimport './css/style.css';\n\n\nexport default class CrmContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.CrmContent');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\t\tthis.addItem(this.getExpertSettingsForm());\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesField(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('duplicatesField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Radio({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_FIELD_TITLE'),\n\t\t\t\tselector: 'duplicateMode',\n\t\t\t\tvalue: [this.options.values.duplicateMode ? this.options.values.duplicateMode : 'ALLOW'],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_ALLOW'),\n\t\t\t\t\t\tvalue: 'ALLOW',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_REPLACE'),\n\t\t\t\t\t\tvalue: 'REPLACE',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_MERGE'),\n\t\t\t\t\t\tvalue: 'MERGE',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPaymentField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('paymentField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'payment',\n\t\t\t\tvalue: [this.options.values.payment],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_SHOW_PAYMENT'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetOrderSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('formSettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_HEADER'),\n\t\t\t\ttoggleable: true,\n\t\t\t\topened: Text.toNumber(this.options.values.scheme) > 4,\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPaymentField(),\n\t\t\t\t\tnew MessageCard({\n\t\t\t\t\t\tid: 'orderMessage',\n\t\t\t\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_HEADER'),\n\t\t\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_DESCRIPTION'),\n\t\t\t\t\t\tangle: false,\n\t\t\t\t\t\ticon: messageIcon,\n\t\t\t\t\t\trestoreState: true,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType1Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type1header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetExpertSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('expertSettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_EXPERT_MODE'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Link,\n\t\t\t\topened: false,\n\t\t\t\tfields: [\n\t\t\t\t\tnew HeaderCard({\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t}),\n\t\t\t\t\tthis.getDuplicatesField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypesField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typesField', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.onTypeChange(\n\t\t\t\t\tnew BaseEvent({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\tid: this.options.values.scheme,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tconst items = [\n\t\t\t\t{\n\t\t\t\t\tid: '2',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type2',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '3',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type3',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '4',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type4',\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tif (this.options.isLeadEnabled)\n\t\t\t{\n\t\t\t\titems.unshift({\n\t\t\t\t\tid: '1',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type1',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'scheme',\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (String(this.options.values.scheme) === '8')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '5')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '6')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '7')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 4;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.options.values.scheme;\n\t\t\t\t})(),\n\t\t\t\titems,\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\t\n\tgetStagesField()\n\t{\n\t\treturn this.cache.remember('stagesField', () => {\n\t\t\treturn new StageField({\n\t\t\t\tcategories: this.options.categories,\n\t\t\t\tvalue: {\n\t\t\t\t\tcategory: this.options.values.category,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesEnabledField()\n\t{\n\t\treturn this.cache.remember('duplicatesEnabledField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'duplicatesEnabled',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [this.options.values.duplicatesEnabled],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_DUPLICATES_ENABLED'),\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst {item} = event.getData();\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\n\t\tconst expertSettingsForm = this.getExpertSettingsForm();\n\t\texpertSettingsForm.clear();\n\n\t\tif (String(item.id) === '1' || String(item.id) === '8')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType1Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '2' || String(item.id) === '5')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType2Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '3' || String(item.id) === '6')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType3Header());\n\t\t\texpertSettingsForm.addField(this.getStagesField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesEnabledField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '4' || String(item.id) === '7')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType4Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (Text.toNumber(item.id) > 4 || this.getOrderSettingsForm().isOpened())\n\t\t{\n\t\t\tthis.getOrderSettingsForm().onSwitchChange(true);\n\t\t}\n\n\t\tthis.addItem(expertSettingsForm);\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst duplicateMode = this.getDuplicatesField().getValue()[0];\n\t\tconst reducedValue = {\n\t\t\tduplicateMode: duplicateMode === 'ALLOW' ? '' : duplicateMode,\n\t\t\tscheme: this.getTypesField().getValue(),\n\t\t\tdeal: {\n\t\t\t\tduplicatesEnabled: Text.toBoolean(this.getDuplicatesEnabledField().getValue()[0]),\n\t\t\t},\n\t\t\tpayment: {\n\t\t\t\tuse: this.getPaymentField().getValue().length > 0,\n\t\t\t},\n\t\t};\n\n\t\tif (this.getOrderSettingsForm().isOpened())\n\t\t{\n\t\t\tif (String(reducedValue.scheme) === '1')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '8';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '2')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '5';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '3')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '6';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '4')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '7';\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tString(reducedValue.scheme) === '3'\n\t\t\t|| String(reducedValue.scheme) === '6'\n\t\t)\n\t\t{\n\t\t\treducedValue.deal.category = this.getStagesField().getValue().category;\n\t\t}\n\n\t\treturn {\n\t\t\tdocument: reducedValue,\n\t\t};\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {DefaultValueField} from 'landing.ui.field.defaultvaluefield';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {Dom} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class DefaultValues extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.DefaultValues');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'defaultValueMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_DESCRIPTION'),\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew DefaultValueField({\n\t\t\t\t\tselector: 'presetFields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tpersonalizationVariables: this.options.personalizationVariables,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\tdictionary: {\n\t\t\t\t\t\t...this.options.dictionary,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\tconst layout = super.getLayout();\n\t\tDom.addClass(layout, 'landing-ui-default-fields-values');\n\n\t\treturn layout;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport {type FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\n\nexport default class FacebookContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FacebookContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\t});\n\n\t\tconst buttonCard = new BaseCard();\n\t\tconst button = new Button({\n\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\tonclick: () => {\n\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=facebook`,\n\t\t\t\t\t{\n\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t},\n\t\t});\n\n\t\tDom.style(buttonCard.getLayout(), {\n\t\t\tpadding: 0,\n\t\t\tmargin: 0,\n\t\t});\n\n\t\tDom.append(button.render(), buttonCard.getBody());\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(buttonCard);\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'facebook';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport type {FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\n\nexport default class VkContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.VkContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\t});\n\n\t\tconst buttonCard = new BaseCard();\n\t\tconst button = new Button({\n\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\tonclick: () => {\n\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=vkontakte`,\n\t\t\t\t\t{\n\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t},\n\t\t});\n\n\t\tDom.style(buttonCard.getLayout(), {\n\t\t\tpadding: 0,\n\t\t\tmargin: 0,\n\t\t});\n\n\t\tDom.append(button.render(), buttonCard.getBody());\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(buttonCard);\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'vkontakte';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Text} from 'main.core';\nimport {BaseEvent} from 'main.core.events';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class Callback extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Callback');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!this.isAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getWarningMessage());\n\t\t\tthis.getSettingsForm().disable();\n\t\t}\n\n\t\tthis.addItem(this.getSettingsForm());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetWarningMessage()\n\t{\n\t\treturn this.cache.remember('warningMessage', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_HEADER'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tisAvailable(): boolean\n\t{\n\t\treturn this.cache.remember('isAvailable', () => {\n\t\t\treturn this.options.dictionary.callback.from.length > 0;\n\t\t});\n\t}\n\n\tgetSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('settingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Switch,\n\t\t\t\topened: this.isAvailable() && Text.toBoolean(this.options.values.use),\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPhoneListField(),\n\t\t\t\t\tthis.getTextField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseCheckboxField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useCheckboxField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'use',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [Text.toBoolean(this.options.values.use)],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPhoneListField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('phoneListField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'from',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_PHONE_TITLE'),\n\t\t\t\tcontent: this.options.values.from,\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_DEFAULT_PHONE_NOT_SELECTED'), value: ''},\n\t\t\t\t\t...this.options.dictionary.callback.from.map((item) => {\n\t\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTextField()\n\t{\n\t\treturn this.cache.remember('textField', () => {\n\t\t\treturn new TextField({\n\t\t\t\tselector: 'text',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TEXT_TITLE'),\n\t\t\t\tcontent: this.options.values.text,\n\t\t\t\ttextOnly: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tcallback: {\n\t\t\t\t...value,\n\t\t\t\tuse: this.getSettingsForm().isOpened(),\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {TagSelector} from 'ui.entity-selector';\nimport {PageObject} from 'landing.pageobject';\nimport {Dom} from 'main.core';\n\nexport default class UserSelectorField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tDom.removeClass(this.input, 'landing-ui-field-input');\n\n\t\tthis.getTagSelector().renderTo(this.input);\n\t}\n\n\tgetTagSelector(): TagSelector\n\t{\n\t\treturn this.cache.remember('tagSelector', () => {\n\t\t\tconst root = PageObject.getRootWindow();\n\t\t\treturn new root.BX.UI.EntitySelector.TagSelector({\n\t\t\t\tid: 'user-selector',\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tid: 'user-selector',\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'user',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tactiveUsers: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tpreselectedItems: this.options.value,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t'Item:onSelect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'Item:onDeselect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue(): Array<number>\n\t{\n\t\treturn this.getTagSelector().getDialog().getSelectedItems().map((item) => {\n\t\t\treturn item.id;\n\t\t});\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {BaseEvent} from 'main.core.events';\nimport {Reflection, Type} from 'main.core';\nimport UserSelectorField from './internal/userselectorfield/userselectorfield';\n\nimport './css/style.css';\n\nexport default class Other extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE'),\n\t\t});\n\n\t\tconst otherForm = new FormSettingsForm({\n\t\t\tid: 'other',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tthis.getNameField(),\n\t\t\t\tthis.getUserSelectorField(),\n\t\t\t\tthis.getLanguageField(),\n\t\t\t\tthis.getUseSignField(),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(otherForm);\n\t}\n\n\tcanRemoveCopyrights(): boolean\n\t{\n\t\treturn this.options.dictionary.sign.canRemove;\n\t}\n\n\tgetNameField(): TextField\n\t{\n\t\treturn this.cache.remember('nameField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE_NAME_TITLE'),\n\t\t\t\tselector: 'name',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.name,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseSignField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useSignField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'useSign',\n\t\t\t\tvalue: this.options.values.useSign ? ['useSign'] : [],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'useSign',\n\t\t\t\t\t\thtml: `${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_SHOW_SIGN')}${this.createCopyRight()}`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tcompact: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUserSelectorField()\n\t{\n\t\treturn this.cache.remember('userSelectorField', () => {\n\t\t\treturn new UserSelectorField({\n\t\t\t\tselector: 'users',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_USER'),\n\t\t\t\tvalue: this.options.values.users.reduce((acc, item) => {\n\t\t\t\t\tif (Type.isStringFilled(item) || Type.isNumber(item))\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push(['user', item]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLanguageField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('language', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'language',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_LANGUAGE'),\n\t\t\t\titems: this.options.dictionary.languages.map((item) => {\n\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t}),\n\t\t\t\tcontent: this.options.values.language,\n\t\t\t});\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tcreateCopyRight(): string\n\t{\n\t\treturn `\n\t\t\t<span class=\"landing-ui-signin\">\n\t\t\t\t<span class=\"landing-ui-sign\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-in\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN_BY')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-24\">24</span>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tname: value.name,\n\t\t\tdata: {\n\t\t\t\tlanguage: this.getLanguageField().getValue(),\n\t\t\t\tuseSign: value.useSign.includes('useSign'),\n\t\t\t},\n\t\t\tresponsible: {\n\t\t\t\tusers: value.users,\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tif (!this.canRemoveCopyrights())\n\t\t{\n\t\t\tconst checkbox = this.getUseSignField();\n\n\t\t\tif (!checkbox.getValue().includes('useSign'))\n\t\t\t{\n\t\t\t\tcheckbox.setValue(['useSign']);\n\t\t\t\tif (Type.isStringFilled(this.options.dictionary.restriction.helper))\n\t\t\t\t{\n\t\t\t\t\tconst evalGlobal = Reflection.getClass('BX.evalGlobal');\n\t\t\t\t\tif (Type.isFunction(evalGlobal))\n\t\t\t\t\t{\n\t\t\t\t\t\tevalGlobal(this.options.dictionary.restriction.helper);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Loc} from 'landing.loc';\nimport {SidebarButton} from 'landing.ui.button.sidebarbutton';\n\nconst sidebarButtons = [\n\tnew SidebarButton({\n\t\tid: 'fields',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FIELDS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'agreements',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_AGREEMENT'),\n\t\tchild: true,\n\t\timportant: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'crm',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ENTITY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'identify',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_CLIENT_IDENTIFY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'button_and_header',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_HEADER_AND_BUTTON'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'spam_protection',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_SPAM_PROTECTION'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'fields_rules',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_FIELDS_RULES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'actions',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ACTIONS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'default_values',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_VALUES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'analytics',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_ANALYTICS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'facebook',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'vk',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'callback',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CALLBACK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'embed',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_EMBED'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'more',\n\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_MORE_BUTTON_TEXT'),\n\t\tclassName: 'landing-ui-button-sidebar-more',\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'other',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_OTHER'),\n\t\tchild: true,\n\t}),\n];\n\nexport default sidebarButtons;","import {Loc} from 'landing.loc';\nimport {PresetCategory} from 'landing.ui.panel.basepresetpanel';\n\nconst presetCategories = [\n\tnew PresetCategory({\n\t\tid: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_PRODUCTS'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_SOCIAL'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM_AUTOMATION'),\n\t}),\n];\n\nexport default presetCategories;","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/integration.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/autoshow.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/revertcall.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/producttext.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/productimage.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/vk.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/facebook.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/crm.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/service.svg\"","import {Loc} from 'landing.loc';\nimport {Preset} from 'landing.ui.panel.basepresetpanel';\nimport siteIcon from '../images/icons/integration.svg';\nimport widgetAutoShowIcon from '../images/icons/autoshow.svg';\nimport callbackIcon from '../images/icons/revertcall.svg';\nimport productWithTextIcon from '../images/icons/producttext.svg';\nimport productWithImageIcon from '../images/icons/productimage.svg';\nimport vkIcon from '../images/icons/vk.svg';\nimport facebookIcon from '../images/icons/facebook.svg';\nimport crmFormIcon from '../images/icons/crm.svg';\nimport serviceIcon from '../images/icons/service.svg';\n\nconst presets = [\n\tnew Preset({\n\t\tid: 'contacts',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_DESCRIPTION'),\n\t\ticon: siteIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'contacts',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_LAST_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'feedback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_DESCRIPTION'),\n\t\ticon: widgetAutoShowIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'feedback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{name: 'LEAD_COMMENTS'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'callback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_DESCRIPTION'),\n\t\ticon: callbackIcon,\n\t\tdefaultSection: 'callback',\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'callback',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'callback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'expert',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT_DESCRIPTION'),\n\t\ticon: serviceIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'identify',\n\t\t\t'button_and_header',\n\t\t\t'spam_protection',\n\t\t\t'fields_rules',\n\t\t\t'actions',\n\t\t\t'default_values',\n\t\t\t'analytics',\n\t\t\t'facebook',\n\t\t\t'vk',\n\t\t\t'callback',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'expert',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'products_small',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_SMALL'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_SMALL_DESCRIPTION'),\n\t\ticon: productWithTextIcon,\n\t\titems: [\n\t\t\t'analytics',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\tnew Preset({\n\t\tid: 'products_big',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_BIG'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_BIG_DESCRIPTION'),\n\t\ticon: productWithImageIcon,\n\t\titems: [\n\t\t\t'identify',\n\t\t\t'button_and_header',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\n\tnew Preset({\n\t\tid: 'vk',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK_DESCRIPTION'),\n\t\ticon: vkIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\tnew Preset({\n\t\tid: 'facebook',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB_DESCRIPTION'),\n\t\ticon: facebookIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\n\tnew Preset({\n\t\tid: 'personalisation',\n\t\tcategory: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION_DESCRIPTION'),\n\t\ticon: crmFormIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n];\n\nexport default presets;","import {BasePresetPanel, Preset, ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {PageObject} from 'landing.pageobject';\nimport {Loc} from 'landing.loc';\nimport {Dom, Reflection, Runtime, Tag, Text, Type, Uri} from 'main.core';\nimport type {BaseEvent} from 'main.core.events';\nimport {Backend} from 'landing.backend';\nimport {Loader} from 'main.loader';\nimport {FormClient} from 'crm.form.client';\nimport {Button} from 'ui.buttons';\nimport {Env} from 'landing.env';\nimport {StylePanel} from 'landing.ui.panel.stylepanel';\nimport {MessageBox} from 'ui.dialogs.messagebox';\nimport type {FormDictionary, FormOptions} from 'crm.form.type';\n\nimport HeaderAndButtonContent from './internal/content/header-and-buttons/header-and-buttons';\nimport AgreementsContent from './internal/content/agreements/agreements';\nimport SpamProtection from './internal/content/spam-protection/spam-protection';\nimport AnalyticsContent from './internal/content/analytics/analytics';\nimport FieldsContent from './internal/content/fields/fields';\nimport FieldsRulesContent from './internal/content/fields-rules/fields-rules';\nimport ActionsContent from './internal/content/actions/actions';\nimport EmbedContent from './internal/content/embed/embed';\nimport Identify from './internal/content/identify/identify';\nimport CrmContent from './internal/content/crm/crm';\nimport DefaultValues from './internal/content/defaultvalues/defaultvalues';\nimport FacebookContent from './internal/content/facebook/facebook';\nimport VkContent from './internal/content/vk/vk';\nimport Callback from './internal/content/callback/callback';\nimport Other from './internal/content/other/other';\n\nimport sidebarButtons from './internal/sidebar-buttons';\nimport presetCategories from './internal/preset-categories';\nimport presets from './internal/presets';\n\nimport './css/style.css';\n\ntype CrmField = {\n\ttype: 'list' | 'string' | 'checkbox' | 'date' | 'text' | 'typed_string' | 'file',\n\tentity_field_name: string,\n\tentity_name: string,\n\tname: string,\n\tcaption: string,\n\tmultiple: boolean,\n\trequired: boolean,\n\thidden: boolean,\n\titems: Array<{ID: any, VALUE: any}>,\n};\n\ntype CrmFieldsList = {\n\t[categoryId: string]: {\n\t\tCAPTION: string,\n\t\tFIELDS: Array<CrmField>\n\t},\n};\n\ntype CrmCompany = {\n\tID: string,\n\tTITLE: string,\n};\n\ntype CrmCategory = {\n\n};\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class FormSettingsPanel extends BasePresetPanel\n{\n\tstatic getInstance(): FormSettingsPanel\n\t{\n\t\tconst rootWindow = PageObject.getRootWindow();\n\t\tconst rootWindowPanel = rootWindow.BX.Landing.UI.Panel.FormSettingsPanel;\n\t\tif (!rootWindowPanel.instance && !FormSettingsPanel.instance)\n\t\t{\n\t\t\trootWindowPanel.instance = new FormSettingsPanel();\n\t\t}\n\n\t\treturn (rootWindowPanel.instance || FormSettingsPanel.instance);\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel');\n\t\tthis.setTitle(Loc.getMessage('LANDING_FORM_SETTINGS_PANEL_TITLE'));\n\n\t\tthis.disableOverlay();\n\n\t\tconst preparedSidebarButtons = sidebarButtons.filter((button) => {\n\t\t\treturn this.isCrmFormPage() || button.id !== 'embed';\n\t\t});\n\n\t\tthis.setSidebarButtons(preparedSidebarButtons);\n\t\tthis.setCategories(presetCategories);\n\n\t\tconst filteredPresets = presets.filter((preset) => {\n\t\t\treturn (\n\t\t\t\tLoc.getMessage('LANGUAGE_ID') === 'ru'\n\t\t\t\t|| (\n\t\t\t\t\tLoc.getMessage('LANGUAGE_ID') !== 'ru'\n\t\t\t\t\t&& preset.options.id !== 'vk'\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\n\t\tthis.setPresets(filteredPresets);\n\n\t\tif (!this.isCrmFormPage())\n\t\t{\n\t\t\tDom.append(this.getBlockSettingsButton().render(), this.getRightHeaderControls());\n\t\t}\n\n\t\tthis.subscribe('onCancel', this.onCancelClick.bind(this));\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisCrmFormPage(): boolean\n\t{\n\t\treturn Env.getInstance().getOptions().specialType === 'crm_forms';\n\t}\n\n\tgetBlockSettingsButton()\n\t{\n\t\treturn this.cache.remember('blockSettingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_BLOCK_SETTINGS_BUTTON_TEXT'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: this.onBlockSettingsButtonClick.bind(this),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t});\n\t\t});\n\t}\n\n\tonBlockSettingsButtonClick()\n\t{\n\t\tif (this.getCurrentBlock())\n\t\t{\n\t\t\tthis.hide()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getCurrentBlock().showContentPanel();\n\t\t\t\t});\n\t\t}\n\t}\n\n\tgetLoader(): Loader\n\t{\n\t\treturn this.cache.remember('loader', () => {\n\t\t\treturn new Loader({\n\t\t\t\ttarget: this.body,\n\t\t\t});\n\t\t});\n\t}\n\n\tshowLoader()\n\t{\n\t\tvoid this.getLoader().show();\n\t\tDom.hide(this.sidebar);\n\t\tDom.hide(this.content);\n\t\tDom.hide(this.getPresetField().getLayout());\n\t}\n\n\thideLoader()\n\t{\n\t\tthis.getLoader().hide();\n\t\tDom.show(this.sidebar);\n\t\tDom.show(this.content);\n\t\tDom.show(this.getPresetField().getLayout());\n\t}\n\n\tload(): Promise<any>\n\t{\n\t\tconst crmData = Backend.getInstance()\n\t\t\t.batch('Form::getCrmFields', {\n\t\t\t\tcrmFields: {\n\t\t\t\t\taction: 'Form::getCrmFields',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCompanies: {\n\t\t\t\t\taction: 'Form::getCrmCompanies',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCategories: {\n\t\t\t\t\taction: 'Form::getCrmCategories',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tagreements: {\n\t\t\t\t\taction: 'Form::getAgreements',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setCrmFields(result.crmFields.result);\n\t\t\t\tthis.setCrmCompanies(result.crmCompanies.result);\n\t\t\t\tthis.setCrmCategories(result.crmCategories.result);\n\t\t\t\tthis.setAgreements(result.agreements.result);\n\t\t\t});\n\n\t\tconst formOptions = FormClient.getInstance()\n\t\t\t.getOptions(this.getCurrentFormId())\n\t\t\t.then((options) => {\n\t\t\t\tconst currentOptions = Runtime.clone(options);\n\t\t\t\tif (currentOptions.agreements.use !== true)\n\t\t\t\t{\n\t\t\t\t\tcurrentOptions.agreements.use = true;\n\t\t\t\t\tcurrentOptions.data.agreements = [];\n\t\t\t\t}\n\n\t\t\t\tthis.setFormOptions(currentOptions);\n\t\t\t});\n\n\t\tconst formDictionary = FormClient.getInstance()\n\t\t\t.getDictionary()\n\t\t\t.then((dictionary) => {\n\t\t\t\tthis.setFormDictionary(dictionary);\n\t\t\t});\n\n\t\treturn Promise.all([\n\t\t\tcrmData,\n\t\t\tformOptions,\n\t\t\tformDictionary,\n\t\t]);\n\t}\n\n\tsetAgreements(agreements)\n\t{\n\t\tthis.cache.set('agreements', Runtime.orderBy(agreements, ['id'], ['asc']));\n\t}\n\n\tgetAgreements(): Array<{[key: string]: any}>\n\t{\n\t\treturn this.cache.get('agreements');\n\t}\n\n\tisLeadEnabled(): boolean\n\t{\n\t\treturn this.getFormDictionary().document.lead.enabled;\n\t}\n\n\tsetCurrentBlock(block: BX.Landing.Block)\n\t{\n\t\tthis.cache.set('currentBlock', block);\n\t}\n\n\tgetCurrentBlock(): ?BX.Landing.Block\n\t{\n\t\treturn this.cache.get('currentBlock');\n\t}\n\n\tshow(\n\t\toptions: {\n\t\t\tformId: number,\n\t\t\tinstanceId: number,\n\t\t\tstate?: 'presets',\n\t\t\tformOptions?: ?{[key: string]: any},\n\t\t} = {\n\t\t\tformOptions: {},\n\t\t},\n\t): Promise<any>\n\t{\n\t\tif (!this.layout.parentNode)\n\t\t{\n\t\t\tthis.enableToggleMode();\n\t\t}\n\n\t\tif (!this.isFormCreated())\n\t\t{\n\t\t\tthis.disableTransparentMode();\n\t\t}\n\n\t\tthis.setCurrentBlock(options.block);\n\t\tthis.setCurrentFormId(options.formId);\n\t\tthis.setCurrentFormInstanceId(options.instanceId);\n\n\t\tthis.showLoader();\n\n\t\tthis.load()\n\t\t\t.then(() => {\n\t\t\t\tthis.hideLoader();\n\n\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\tif (!this.isLeadEnabled())\n\t\t\t\t{\n\t\t\t\t\tconst presets = this.getPresets().map((preset: Preset) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tType.isPlainObject(preset.options.options)\n\t\t\t\t\t\t\t&& Type.isPlainObject(preset.options.options.data)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isArrayFilled(preset.options.options.data.fields))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.data.fields = preset.options.options.data.fields.map((field) => {\n\t\t\t\t\t\t\t\t\treturn {...field, name: field.name.replace(/^LEAD_/, 'CONTACT_')};\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (Type.isPlainObject(preset.options.options.document))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.document.scheme = 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn preset;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setPresets(presets);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isPlainObject(options.formOptions))\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = Runtime.merge(\n\t\t\t\t\t\tthis.getFormOptions(),\n\t\t\t\t\t\toptions.formOptions,\n\t\t\t\t\t);\n\t\t\t\t\tthis.setFormOptions(formOptions);\n\t\t\t\t}\n\n\t\t\t\tif (options.state === 'presets' && formOptions.templateId !== 'callback')\n\t\t\t\t{\n\t\t\t\t\tthis.onPresetFieldClick();\n\t\t\t\t\tthis.activatePreset(formOptions.templateId);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet preset = this.getPresets().find((item) => {\n\t\t\t\t\t\treturn item.options.id === formOptions.templateId;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!preset)\n\t\t\t\t\t{\n\t\t\t\t\t\tpreset = this.getPresets().find((item) => {\n\t\t\t\t\t\t\treturn item.options.id === 'expert';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isFormCreated() && formOptions.templateId !== 'callback')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setInitialFormOptions(\n\t\t\t\t\tRuntime.clone(this.getFormOptions()),\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (Type.isArrayFilled(error))\n\t\t\t\t{\n\t\t\t\t\tconst accessDeniedCode = 510;\n\t\t\t\t\tconst isAccessDenied = error.some((errorItem) => {\n\t\t\t\t\t\treturn String(errorItem.code) === String(accessDeniedCode);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isAccessDenied)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getLoader().hide();\n\t\t\t\t\t\tDom.show(this.sidebar);\n\t\t\t\t\t\tDom.show(this.content);\n\t\t\t\t\t\tDom.hide(this.footer);\n\t\t\t\t\t\tDom.append(this.getAccessError(), this.content);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\n\t\tvoid StylePanel.getInstance().hide();\n\n\t\treturn super.show(options);\n\t}\n\n\tgetAccessError(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('accessErrorMessage', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-access-error-message\">\n\t\t\t\t\t<div class=\"landing-ui-access-error-message-text\">\n\t\t\t\t\t\t${Loc.getMessage('LANDING_CRM_ACCESS_ERROR_MESSAGE')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisFormCreated(): boolean\n\t{\n\t\tconst uri = new Uri(window.location.origin);\n\t\treturn Text.toBoolean(uri.getQueryParam('formCreated'));\n\t}\n\n\tsetCurrentFormId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormId', Text.toNumber(formId));\n\t}\n\n\tgetCurrentFormId(): number\n\t{\n\t\treturn this.cache.get('currentFormId');\n\t}\n\n\tsetCurrentFormInstanceId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormInstanceId', formId);\n\t}\n\n\tgetCurrentFormInstanceId(): number\n\t{\n\t\treturn this.cache.get('currentFormInstanceId');\n\t}\n\n\tsetCrmFields(fields)\n\t{\n\t\tthis.cache.set('fields', fields);\n\t}\n\n\tgetCrmFields(): CrmFieldsList\n\t{\n\t\treturn this.cache.get('fields') || {};\n\t}\n\n\tsetCrmCompanies(companies: Array<CrmCompany>)\n\t{\n\t\tthis.cache.set('companies', companies);\n\t}\n\n\tgetCrmCompanies(): Array<CrmCompany>\n\t{\n\t\treturn this.cache.get('companies') || [];\n\t}\n\n\tsetCrmCategories(categories: Array<CrmCategory>)\n\t{\n\t\tthis.cache.set('crmCategories', categories);\n\t}\n\n\tgetCrmCategories(): Array<CrmCategory>\n\t{\n\t\treturn this.cache.get('crmCategories') || [];\n\t}\n\n\tsetFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('formOptions', options);\n\t}\n\n\tgetFormOptions(): FormOptions\n\t{\n\t\treturn Runtime.clone(this.cache.get('formOptions') || {});\n\t}\n\n\tsetFormDictionary(dictionary: FormDictionary)\n\t{\n\t\tthis.cache.set('formDictionary', dictionary);\n\t}\n\n\tgetFormDictionary(): FormDictionary\n\t{\n\t\treturn this.cache.get('formDictionary') || {};\n\t}\n\n\tsetInitialFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('initialFormOptions', Runtime.clone(options));\n\t}\n\n\tgetInitialFormOptions(): FormOptions\n\t{\n\t\treturn this.cache.get('initialFormOptions');\n\t}\n\n\t// eslint-disable-next-line\n\tgetCrmForm()\n\t{\n\t\tconst formApp = Reflection.getClass('b24form.App');\n\t\tif (formApp)\n\t\t{\n\t\t\tif (this.getCurrentFormInstanceId())\n\t\t\t{\n\t\t\t\treturn formApp.get(this.getCurrentFormInstanceId());\n\t\t\t}\n\n\t\t\treturn formApp.list()[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tconst eventData = event.getData();\n\t\tconst eventTargetValue = event.getTarget().getValue();\n\n\t\tPromise\n\t\t\t.resolve(eventTargetValue)\n\t\t\t.then((value) => {\n\t\t\t\tif (eventData.skipPrepare)\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isArrayFilled(formOptions.data.dependencies)\n\t\t\t\t\t\t&& Type.isArrayFilled(value.fields)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {dependencies} = formOptions.data;\n\t\t\t\t\t\tformOptions.data.dependencies = dependencies.reduce((acc, item) => {\n\t\t\t\t\t\t\tconst preparedItem = {...item};\n\t\t\t\t\t\t\tpreparedItem.list = preparedItem.list.filter((rule) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tvalue.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.condition.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t&& value.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.action.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (preparedItem.list.length > 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tacc.push(preparedItem);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, []);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'presetFields')\n\t\t\t\t\t\t|| Reflect.has(value, 'document')\n\t\t\t\t\t\t|| Reflect.has(value, 'result')\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst additionalValue = {};\n\t\t\t\t\t\tif (Reflect.has(value, 'document'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tadditionalValue.payment = value.document.payment;\n\t\t\t\t\t\t\tdelete value.document.payment;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t...additionalValue,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'embedding')\n\t\t\t\t\t\t|| Reflect.has(value, 'callback')\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\tReflect.has(value, 'name')\n\t\t\t\t\t\t\t&& Reflect.has(value, 'data')\n\t\t\t\t\t\t\t&& Reflect.has(value.data, 'useSign')\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst mergedOptions = Runtime.merge(\n\t\t\t\t\t\t\tformOptions,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (Reflect.has(value, 'responsible'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmergedOptions.responsible.users = value.responsible.users;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn mergedOptions;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(value, 'recaptcha'))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {key, secret} = value.recaptcha;\n\t\t\t\t\t\tdelete value.recaptcha.key;\n\t\t\t\t\t\tdelete value.recaptcha.secret;\n\t\t\t\t\t\tconst captcha = {key, secret};\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\tcaptcha,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn FormClient.getInstance()\n\t\t\t\t\t.prepareOptions(this.getFormOptions(), value)\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (value.agreements)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data = Runtime.merge(result.data, value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (value.fields)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data.fields = result.data.fields.map((field, index) => {\n\t\t\t\t\t\t\t\treturn Runtime.merge(field, value.fields[index]);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setFormOptions(result);\n\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(result.data));\n\t\t\t});\n\t}\n\n\tstatic sanitize(value: any): any\n\t{\n\t\tif (Type.isStringFilled(value))\n\t\t{\n\t\t\treturn Text.decode(value)\n\t\t\t\t.replace(/<style[^>]*>.*<\\/style>/gm, '')\n\t\t\t\t.replace(/<script[^>]*>.*<\\/script>/gm, '')\n\t\t\t\t.replace(/<[^>]+>/gm, '');\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tgetPersonalizationVariables(): Array<{name: string, value: string}>\n\t{\n\t\treturn this.cache.remember('personalizationVariables', () => {\n\t\t\treturn this.getFormDictionary().personalization.list.map((item) => {\n\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t});\n\t\t});\n\t}\n\n\tgetContent(id: string): ContentWrapper\n\t{\n\t\tconst crmForm = this.getCrmForm();\n\t\tcrmForm.sent = false;\n\t\tcrmForm.error = false;\n\n\t\tif (id === 'button_and_header')\n\t\t{\n\t\t\treturn new HeaderAndButtonContent({\n\t\t\t\tpersonalizationVariables: this.getPersonalizationVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\ttitle: FormSettingsPanel.sanitize(this.getFormOptions().data.title),\n\t\t\t\t\tdesc: FormSettingsPanel.sanitize(this.getFormOptions().data.desc),\n\t\t\t\t\tbuttonCaption: this.getFormOptions().data.buttonCaption,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'spam_protection')\n\t\t{\n\t\t\treturn new SpamProtection({\n\t\t\t\tvalues: {\n\t\t\t\t\tkey: this.getFormOptions().captcha.key,\n\t\t\t\t\tsecret: this.getFormOptions().captcha.secret,\n\t\t\t\t\tuse: Text.toBoolean(this.getFormOptions().data.recaptcha.use),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'agreements')\n\t\t{\n\t\t\treturn new AgreementsContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tagreementsList: this.getAgreements(),\n\t\t\t\tvalues: {\n\t\t\t\t\tagreements: this.getFormOptions().data.agreements,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'analytics')\n\t\t{\n\t\t\treturn new AnalyticsContent({\n\t\t\t\tevents: this.getFormOptions().analytics.steps,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields')\n\t\t{\n\t\t\treturn new FieldsContent({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields_rules')\n\t\t{\n\t\t\treturn new FieldsRulesContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().data.dependencies,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'actions')\n\t\t{\n\t\t\tconst actionsContent = new ActionsContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().result,\n\t\t\t});\n\n\t\t\tactionsContent\n\t\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.success.text;\n\t\t\t\t\tcrmForm.sent = !crmForm.sent;\n\t\t\t\t\tcrmForm.error = false;\n\t\t\t\t})\n\t\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.failure.text;\n\t\t\t\t\tcrmForm.error = !crmForm.error;\n\t\t\t\t\tcrmForm.sent = false;\n\t\t\t\t});\n\n\t\t\treturn actionsContent;\n\t\t}\n\n\t\tif (id === 'embed')\n\t\t{\n\t\t\treturn new EmbedContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().embedding,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'identify')\n\t\t{\n\t\t\treturn new Identify({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'crm')\n\t\t{\n\t\t\treturn new CrmContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tcompanies: this.getCrmCompanies(),\n\t\t\t\tcategories: this.getCrmCategories(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tvalues: {\n\t\t\t\t\tscheme: this.getFormOptions().document.scheme,\n\t\t\t\t\tduplicatesEnabled: this.getFormOptions().document.deal.duplicatesEnabled || 'Y',\n\t\t\t\t\tcategory: this.getFormOptions().document.deal.category,\n\t\t\t\t\tpayment: this.getFormOptions().payment.use,\n\t\t\t\t\tduplicateMode: this.getFormOptions().document.duplicateMode,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'default_values')\n\t\t{\n\t\t\treturn new DefaultValues({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tpersonalizationVariables: this.getPersonalizationVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().presetFields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'facebook')\n\t\t{\n\t\t\treturn new FacebookContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'vk')\n\t\t{\n\t\t\treturn new VkContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'callback')\n\t\t{\n\t\t\treturn new Callback({\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: this.getFormOptions().callback,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'other')\n\t\t{\n\t\t\treturn new Other({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: {\n\t\t\t\t\tname: this.getFormOptions().name,\n\t\t\t\t\tuseSign: this.getFormOptions().data.useSign,\n\t\t\t\t\tusers: this.getFormOptions().responsible.users,\n\t\t\t\t\tlanguage: this.getFormOptions().data.language,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tapplyPreset(preset: Preset, skipOptions = false)\n\t{\n\t\tthis.getPresets().forEach((currentPreset) => {\n\t\t\tcurrentPreset.deactivate();\n\t\t});\n\n\t\tpreset.activate();\n\n\t\tif (Type.isPlainObject(preset.options.options) && !skipOptions)\n\t\t{\n\t\t\tthis.showLoader();\n\t\t\tconst clonedPresetOptions = {\n\t\t\t\tdata: {},\n\t\t\t\t...Runtime.clone(preset.options.options),\n\t\t\t};\n\n\t\t\tlet agreementsOptions = [];\n\n\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t{\n\t\t\t\tconst sourceAgreements = this.getAgreements();\n\t\t\t\tagreementsOptions = [...clonedPresetOptions.data.agreements];\n\n\t\t\t\tclonedPresetOptions.data.agreements = (\n\t\t\t\t\tclonedPresetOptions.data.agreements.map((item, index) => {\n\t\t\t\t\t\treturn sourceAgreements[index].id;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tFormClient.getInstance()\n\t\t\t\t.prepareOptions(this.getFormOptions(), clonedPresetOptions.data)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'fields'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.fields;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.agreements;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst preparedOptions = Runtime.merge({}, result, clonedPresetOptions);\n\n\t\t\t\t\tpreparedOptions.data.agreements = (\n\t\t\t\t\t\tpreparedOptions.data.agreements.map((agreement, index) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...agreement,\n\t\t\t\t\t\t\t\t...agreementsOptions[index],\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.setFormOptions(preparedOptions);\n\t\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(preparedOptions.data));\n\t\t\t\t\tsuper.applyPreset(preset);\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsuper.applyPreset(preset);\n\t\t}\n\t}\n\n\tgetFormNode(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('formNode', () => {\n\t\t\treturn this.getCurrentBlock().node.querySelector('[data-b24form-use-style]');\n\t\t});\n\t}\n\n\tuseBlockDesign(): boolean\n\t{\n\t\treturn this.cache.remember('useBlockDesign', () => {\n\t\t\treturn Text.toBoolean(Dom.attr(this.getFormNode(), 'data-b24form-use-style'));\n\t\t});\n\t}\n\n\tgetCurrentCrmEntityName(): string\n\t{\n\t\tconst {scheme} = this.getFormOptions().document;\n\t\tconst schemeItem = this.getFormDictionary().document.schemes.find((item) => {\n\t\t\treturn String(scheme) === String(item.id);\n\t\t});\n\n\t\treturn schemeItem.name;\n\t}\n\n\tgetNotSynchronizedFields(): Promise<any>\n\t{\n\t\treturn FormClient\n\t\t\t.getInstance()\n\t\t\t.checkFields(this.getFormOptions())\n\t\t\t.then((result) => {\n\t\t\t\treturn result;\n\t\t\t});\n\t}\n\n\tshowSynchronizationPopup(notSynchronizedFields: Array<string>): Promise<boolean>\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst onOk = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(true);\n\t\t\t};\n\n\t\t\tconst onCancel = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(false);\n\t\t\t};\n\n\t\t\tconst messageDescription = (() => {\n\t\t\t\tconst entityName = Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_ENTITY_TEMPLATE')\n\t\t\t\t\t.replace('{entityName}', this.getCurrentCrmEntityName());\n\n\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_DESCRIPTION')\n\t\t\t\t\t.replace('{entityName}', entityName);\n\t\t\t})();\n\n\t\t\tconst messageText = (() => {\n\t\t\t\tconst fields = [...notSynchronizedFields].map((field) => {\n\t\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_FIELD_TEMPLATE')\n\t\t\t\t\t\t.replace('{fieldName}', field);\n\t\t\t\t});\n\n\t\t\t\tif (notSynchronizedFields.length > 1)\n\t\t\t\t{\n\t\t\t\t\tconst lastField = fields.pop();\n\n\t\t\t\t\treturn Loc\n\t\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT')\n\t\t\t\t\t\t.replace('{fieldsList}', fields.join(', '))\n\t\t\t\t\t\t.replace('{lastField}', lastField);\n\t\t\t\t}\n\n\t\t\t\treturn Loc\n\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT_1')\n\t\t\t\t\t.replace('{field}', fields.join(', '));\n\t\t\t})();\n\n\t\t\twindow.top.BX.UI.Dialogs.MessageBox.confirm(\n\t\t\t\t`${messageDescription}<br><br>${messageText}`,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_TITLE'),\n\t\t\t\tonOk,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_OK_BUTTON_LABEL'),\n\t\t\t\tonCancel,\n\t\t\t);\n\t\t});\n\t}\n\n\tshowSynchronizationErrorPopup(errors: Array<string>)\n\t{\n\t\tconst message = errors.reduce((acc, item) => {\n\t\t\treturn `${acc}\\n\\n${item}`;\n\t\t}, '');\n\n\t\twindow.top.BX.UI.Dialogs.MessageBox.alert(message);\n\t}\n\n\tonSaveClick()\n\t{\n\t\tthis.getNotSynchronizedFields()\n\t\t\t.then((result) => {\n\t\t\t\tif (Type.isArrayFilled(result.sync.errors))\n\t\t\t\t{\n\t\t\t\t\tthis.showSynchronizationErrorPopup(result.sync.errors);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (Type.isArrayFilled(result.sync.fields))\n\t\t\t\t{\n\t\t\t\t\tconst fieldLabels = result.sync.fields.map((field) => {\n\t\t\t\t\t\treturn field.label;\n\t\t\t\t\t});\n\n\t\t\t\t\treturn this.showSynchronizationPopup(fieldLabels);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.then((isConfirmed) => {\n\t\t\t\tif (isConfirmed)\n\t\t\t\t{\n\t\t\t\t\tconst uri = new Uri(window.top.location.toString());\n\t\t\t\t\turi.removeQueryParam('formCreated');\n\t\t\t\t\twindow.top.history.replaceState(null, document.title, uri.toString());\n\n\t\t\t\t\tconst initialOptions = this.getInitialFormOptions();\n\t\t\t\t\tconst currentOptions = this.getFormOptions();\n\t\t\t\t\tconst options = (() => {\n\t\t\t\t\t\tif (!this.isCrmFormPage())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst clonedOptions = Runtime.clone(currentOptions);\n\t\t\t\t\t\t\tclonedOptions.data.design = Runtime.clone(initialOptions.data.design);\n\t\t\t\t\t\t\treturn clonedOptions;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn currentOptions;\n\t\t\t\t\t})();\n\n\t\t\t\t\tvoid this.hide();\n\t\t\t\t\tvoid FormClient.getInstance()\n\t\t\t\t\t\t.saveOptions(options)\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\tthis.setFormOptions(result);\n\t\t\t\t\t\t\tFormClient.getInstance().resetCache(result.id);\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (this.useBlockDesign() && this.isCrmFormPage())\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.disableUseBlockDesign();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tdisableUseBlockDesign()\n\t{\n\t\tDom.attr(this.getFormNode(), 'data-b24form-use-style', 'N');\n\t\tthis.cache.set('useBlockDesign', false);\n\n\t\tBackend\n\t\t\t.getInstance()\n\t\t\t.action(\n\t\t\t\t'Landing\\\\Block::updateNodes',\n\t\t\t\t{\n\t\t\t\t\tblock: this.getCurrentBlock().id,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'.bitrix24forms': {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t'data-b24form-use-style': 'N',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlid: this.getCurrentBlock().lid,\n\t\t\t\t\tsiteId: this.getCurrentBlock().siteId,\n\t\t\t\t},\n\t\t\t\t{code: this.getCurrentBlock().manifest.code},\n\t\t\t);\n\t}\n\n\tonCancelClick()\n\t{\n\t\tthis.getCrmForm().adjust(this.getInitialFormOptions().data);\n\t\tvoid this.hide();\n\t}\n}"],"names":["HeaderAndButtonContent","options","setEventNamespace","header","HeaderCard","title","Loc","getMessage","message","MessageCard","id","icon","headerAndButtonsIcon","description","restoreState","more","helper","Reflection","getClass","BX","Helper","show","headersForm","FormSettingsForm","toggleable","fields","VariablesField","selector","textOnly","content","values","variables","personalizationVariables","desc","Landing","UI","Field","Checkbox","items","value","name","compact","buttonsForm","TextField","buttonCaption","addItem","sourceValue","Object","entries","reduce","acc","key","includes","hideDesc","useSign","getSwitch","getValue","event","emit","getData","skipPrepare","ContentWrapper","AgreementsContent","messageIcon","listForm","AgreementsList","formOptions","agreementsList","agreements","isShown","Dom","style","getLayout","subscribe","SpamProtection","captchaTypeForm","RadioButtonField","use","getKeysCheckbox","getKeysForm","hasKeys","secret","hideKeysCheckbox","hideKeysForm","showKeysCheckbox","setValue","showKeysForm","cache","remember","hidden","help","text","href","useCustomKeys","length","recaptcha","ContentTableCell","Tag","render","ContentTableRow","headClass","head","columns","map","cell","ContentTable","headRow","columnOptions","rows","rowOptions","cellOptions","Type","isStringFilled","row","AnalyticsContent","push","yandexIcon","checked","switcher","getYandexTable","googleIcon","getGoogleTable","accordionField","AccordionField","angle","table","events","code","FieldsContent","fieldsForm","FieldsListField","isLeadEnabled","crmFields","setOffsetTop","FieldsRulesContent","getHeader","keys","getRuleTypeField","getRulesForm","getActionPanel","group","list","forEach","item","accEntry","find","accItem","condition","field","target","operator","operation","expression","action","type","addField","RuleField","rules","onRemove","onFieldRemove","bind","removeField","getTarget","clear","setBottomMargin","ActionPanel","left","ruleForm","button","onClick","onCreateRule","disabled","soon","radioField","insertBefore","dependencies","typeId","listItems","listItem","expItem","ActionPagesField","subscribeFromOptions","fetchEventsFromOptions","setLayoutClass","append","getSuccess","input","getFailure","Event","document","onDocumentClick","window","top","successInput","querySelector","failureInput","attr","createPageBlock","successText","onInput","onShowClick","failureText","innerText","success","getSuccessText","failure","getFailureText","classPrefix","onEditClick","preventDefault","stopPropagation","inner","currentTarget","closest","textContainer","isContentEditable","isFunction","onEditorClick","onViewClick","BaseField","ActionsContent","addClass","getTypeButtons","getActionPages","selectable","url","onChange","onTypeChange","PresetField","setTitle","setIcon","type1Icon","placeholder","Dropdown","redirectDelay","Array","from","index","data","typeDropdown","getTypeDropdown","setLinkText","replace","type2Icon","getSuccessLinkField","getFailureLinkField","getDelayField","actionPagesValue","result","Text","decode","EmbedField","clean","layout","onInputClick","Button","size","Size","SMALL","color","Color","PRIMARY","onclick","onCopyButtonClick","selectCode","rootWindow","PageObject","getRootWindow","execCommand","getSelection","removeAllRanges","getCopyButton","setColor","LINK","Icon","DONE","setText","selectAllChildren","innerHTML","encode","WidgetField","getInputWrapper","getSettingsButton","LIGHT_BORDER","SETTING","CopyLinkField","getLink","link","Link","PositionField","horizontal","vertical","fieldsInner","getFieldsInner","EmbedContent","closeable","hideActions","level","Radio","html","views","auto","delay","getDelayDropdown","DropdownInline","skipInitialEvent","click","position","test","embedField","getEmbedField","type1icon","getType1Message","scripts","inline","type2icon","type3icon","positionField","getType3PositionField","getType3Message","getType3Header","getType3ShowTypeField","type4icon","getType4Message","getType4Header","getType4Checkbox","getType4PositionField","getType4ShowTypeField","type5icon","getType5Message","getWidgetField","type6icon","getCopyLinkField","type3positionValue","type4positionValue","embedding","Identify","OrderField","getWrapper","MEDIUM","onButtonClick","companyId","getDropdown","open","getButton","StageField","getInner","getCategoriesDropdown","category","categories","NAME","ID","onCategoryChange","currentCategoryId","String","oldStagesDropdown","getStagesDropdown","delete","popup","destroy","newStagesDropdown","stages","getCurrentCategory","STAGES","stage","CrmContent","getTypesField","getExpertSettingsForm","getOrderSettingsForm","duplicateMode","payment","opened","toNumber","scheme","getPaymentField","toggleableType","ToggleableType","getDuplicatesField","setTimeout","BaseEvent","unshift","duplicatesEnabled","expertSettingsForm","getType1Header","getType2Header","getStagesField","getDuplicatesEnabledField","isOpened","onSwitchChange","reducedValue","deal","toBoolean","DefaultValues","DefaultValueField","dictionary","FacebookContent","buttonCard","BaseCard","prepareButtonText","SidePanel","Instance","cacheable","onClose","client","FormClient","getInstance","resetCache","getOptions","then","padding","margin","getBody","enabled","integration","cases","some","providerCode","VkContent","Callback","isAvailable","getWarningMessage","getSettingsForm","disable","callback","Switch","getPhoneListField","getTextField","UserSelectorField","removeClass","getTagSelector","renderTo","root","EntitySelector","TagSelector","dialogOptions","entities","activeUsers","preselectedItems","getDialog","getSelectedItems","Other","otherForm","getNameField","getUserSelectorField","getLanguageField","getUseSignField","sign","canRemove","createCopyRight","users","isNumber","languages","language","responsible","canRemoveCopyrights","checkbox","restriction","evalGlobal","sidebarButtons","SidebarButton","child","important","className","presetCategories","PresetCategory","presets","Preset","siteIcon","templateId","captcha","widgetAutoShowIcon","callbackIcon","defaultSection","serviceIcon","productWithTextIcon","productWithImageIcon","vkIcon","facebookIcon","crmFormIcon","FormSettingsPanel","rootWindowPanel","Panel","instance","disableOverlay","preparedSidebarButtons","filter","isCrmFormPage","setSidebarButtons","setCategories","filteredPresets","preset","setPresets","getBlockSettingsButton","getRightHeaderControls","onCancelClick","Env","specialType","onBlockSettingsButtonClick","getCurrentBlock","hide","showContentPanel","Loader","body","getLoader","sidebar","getPresetField","crmData","Backend","batch","crmCompanies","crmCategories","setCrmFields","setCrmCompanies","setCrmCategories","setAgreements","getCurrentFormId","currentOptions","Runtime","clone","setFormOptions","formDictionary","getDictionary","setFormDictionary","Promise","all","set","orderBy","get","getFormDictionary","lead","block","parentNode","enableToggleMode","isFormCreated","disableTransparentMode","setCurrentBlock","setCurrentFormId","formId","setCurrentFormInstanceId","instanceId","showLoader","load","hideLoader","getFormOptions","getPresets","isPlainObject","isArrayFilled","merge","state","onPresetFieldClick","activatePreset","applyPreset","setInitialFormOptions","catch","error","accessDeniedCode","isAccessDenied","errorItem","footer","getAccessError","console","StylePanel","uri","Uri","location","origin","getQueryParam","companies","formApp","getCurrentFormInstanceId","eventData","eventTargetValue","resolve","preparedItem","rule","Reflect","has","additionalValue","mergedOptions","prepareOptions","getCrmForm","adjust","personalization","crmForm","sent","getPersonalizationVariables","sanitize","getAgreements","analytics","steps","getCrmFields","actionsContent","stateText","getCrmCompanies","getCrmCategories","presetFields","skipOptions","currentPreset","deactivate","activate","clonedPresetOptions","agreementsOptions","sourceAgreements","preparedOptions","agreement","node","getFormNode","schemeItem","schemes","checkFields","notSynchronizedFields","onOk","messageBox","close","onCancel","messageDescription","entityName","getCurrentCrmEntityName","messageText","lastField","pop","join","Dialogs","MessageBox","confirm","errors","alert","getNotSynchronizedFields","sync","showSynchronizationErrorPopup","fieldLabels","label","showSynchronizationPopup","isConfirmed","toString","removeQueryParam","history","replaceState","initialOptions","getInitialFormOptions","clonedOptions","design","saveOptions","useBlockDesign","disableUseBlockDesign","attrs","lid","siteId","manifest","BasePresetPanel"],"mappings":"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"}