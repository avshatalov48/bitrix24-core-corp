{"version":3,"file":"formsettingspanel.bundle.js","sources":["../src/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg","../src/internal/content/header-and-buttons/header-and-buttons.js","../src/internal/content/agreements/images/message-icon.svg","../src/internal/content/agreements/agreements.js","../src/internal/content/spam-protection/spam-protection.js","../src/internal/content/analytics/images/yandex.svg","../src/internal/content/analytics/images/google.svg","../src/internal/content/analytics/internal/table/content-table-cell.js","../src/internal/content/analytics/internal/table/content-table-row.js","../src/internal/content/analytics/internal/table/content-table.js","../src/internal/content/analytics/analytics.js","../src/internal/content/fields/images/message-icon.svg","../src/internal/content/fields/fields.js","../src/internal/content/fields-rules/fields-rules.js","../src/internal/content/actions/internal/action-pages/action-pages.js","../src/internal/content/actions/images/type1.svg","../src/internal/content/actions/images/type2.svg","../src/internal/content/actions/actions.js","../src/internal/content/embed/internal/embedfield/embedfield.js","../src/internal/content/embed/internal/widgetfield/widgetfield.js","../src/internal/content/embed/internal/copylinkfield/copylinkfield.js","../src/internal/content/embed/internal/positionfield/positionfield.js","../src/internal/content/embed/images/type1.svg","../src/internal/content/embed/images/type2.svg","../src/internal/content/embed/images/type3.svg","../src/internal/content/embed/images/type4.svg","../src/internal/content/embed/images/type5.svg","../src/internal/content/embed/images/type6.svg","../src/internal/content/embed/embed.js","../src/internal/content/identify/images/icon.svg","../src/internal/content/identify/identify.js","../src/internal/content/crm/internal/stagefield/stagefield.js","../src/internal/content/crm/images/message-icon.svg","../src/internal/content/crm/crm.js","../src/internal/content/defaultvalues/defaultvalues.js","../src/internal/content/facebook/facebook.js","../src/internal/content/vk/vk.js","../src/internal/content/callback/callback.js","../src/internal/content/other/internal/userselectorfield/userselectorfield.js","../src/internal/content/other/other.js","../src/internal/sidebar-buttons.js","../src/internal/preset-categories.js","../src/images/icons/integration.svg","../src/images/icons/autoshow.svg","../src/images/icons/revertcall.svg","../src/images/icons/vk.svg","../src/images/icons/facebook.svg","../src/images/icons/crm.svg","../src/images/icons/service.svg","../src/images/icons/products1.svg","../src/images/icons/products2.svg","../src/images/icons/products3.svg","../src/images/icons/products4.svg","../src/internal/presets.js","../src/formsettingspanel.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc, Reflection, Type} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport 'helper';\nimport headerAndButtonsIcon from './images/header-and-buttons-message-icon.svg';\n\nexport default class HeaderAndButtonContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.HeaderAndButtonContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'headerAndButtonMessage',\n\t\t\ticon: headerAndButtonsIcon,\n\t\t\theader: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_DESCRIPTION_2'),\n\t\t\trestoreState: true,\n\t\t\tmore: () => {\n\t\t\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\t\t\t\tif (helper)\n\t\t\t\t{\n\t\t\t\t\tBX.Helper.show('redirect=detail&code=12802786');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tconst headersForm = new FormSettingsForm({\n\t\t\tid: 'headers',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_TITLE'),\n\t\t\ttoggleable: true,\n\t\t\tfields: [\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'title',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.title,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'desc',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.desc,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\tselector: 'hideDesc',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 'hideDesc',\n\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// {\n\t\t\t\t\t\t// \tvalue: 'hideSeparator',\n\t\t\t\t\t\t// \tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SEPARATOR_FIELD_TITLE'),\n\t\t\t\t\t\t// },\n\t\t\t\t\t],\n\t\t\t\t\tcompact: true,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tconst buttonsForm = new FormSettingsForm({\n\t\t\tid: 'buttons',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_TITLE'),\n\t\t\tfields: [\n\t\t\t\tnew TextField({\n\t\t\t\t\tselector: 'buttonCaption',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_SEND_BUTTON_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.buttonCaption,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(headersForm);\n\t\tthis.addItem(buttonsForm);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst value = Object.entries(sourceValue).reduce((acc, [key, value]) => {\n\t\t\tif (key === 'hideDesc')\n\t\t\t{\n\t\t\t\tif (value.includes(key))\n\t\t\t\t{\n\t\t\t\t\tacc.desc = '';\n\t\t\t\t}\n\n\t\t\t\tdelete acc.hideDesc;\n\t\t\t}\n\n\t\t\tif (key === 'useSign')\n\t\t\t{\n\t\t\t\tacc.useSign = value.includes('useSign');\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {...sourceValue});\n\n\t\tif (!this.items[2].getSwitch().getValue())\n\t\t{\n\t\t\tvalue.title = '';\n\t\t\tvalue.desc = '';\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/agreements/images/message-icon.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {AgreementsList} from 'landing.ui.field.agreementslist';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class AgreementsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_AGREEMENTS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'agreementsMessage',\n\t\t\theader: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst listForm = new FormSettingsForm({\n\t\t\tid: 'agreementsList',\n\t\t\tfields: [\n\t\t\t\tnew AgreementsList({\n\t\t\t\t\tselector: 'agreements',\n\t\t\t\t\tformOptions: this.options.formOptions,\n\t\t\t\t\tagreementsList: this.options.agreementsList,\n\t\t\t\t\tvalue: this.options.values.agreements,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(listForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\n\nimport './css/style.css';\n\nexport default class SpamProtection extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TITLE'),\n\t\t});\n\n\t\tconst captchaTypeForm = new FormSettingsForm({\n\t\t\tid: 'type',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tnew RadioButtonField({\n\t\t\t\t\tselector: 'use',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TABS_TITLE'),\n\t\t\t\t\tvalue: this.options.values.use ? 'hidden' : 'disabled',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'disabled',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_DISABLED'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-disabled',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'hidden',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_HIDDEN'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-hidden',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(captchaTypeForm);\n\t\tthis.addItem(this.getKeysCheckbox());\n\t\tthis.addItem(this.getKeysForm());\n\n\t\tconst hasKeys = this.options.values.key && this.options.values.secret;\n\n\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t{\n\t\t\tthis.hideKeysCheckbox();\n\t\t\tthis.hideKeysForm();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.showKeysCheckbox();\n\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\tif (hasKeys)\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t}\n\n\t\tcaptchaTypeForm.subscribe('onChange', () => {\n\t\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t\t{\n\t\t\t\tthis.hideKeysCheckbox();\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.showKeysCheckbox();\n\t\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\t\tif (hasKeys)\n\t\t\t\t{\n\t\t\t\t\tthis.showKeysForm();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.hideKeysForm();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.getKeysCheckbox().subscribe('onChange', () => {\n\t\t\tif (this.getKeysCheckbox().fields[0].getValue().includes('useCustomKeys'))\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKeysCheckbox()\n\t{\n\t\treturn this.cache.remember('keysCheckbox', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'customKeys',\n\t\t\t\tdescription: null,\n\t\t\t\tfields: [\n\t\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\t\tselector: 'useCustomKeys',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_SPAM_PROTECTION_CUSTOM_KEYS_CHECKBOX_LABEL'),\n\t\t\t\t\t\t\t\tvalue: 'useCustomKeys',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = false;\n\t}\n\n\thideKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = true;\n\t}\n\n\tgetKeysForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('keysForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'keys',\n\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_TITLE'),\n\t\t\t\thelp: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_TEXT'),\n\t\t\t\t\thref: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_HREF'),\n\t\t\t\t},\n\t\t\t\tfields: [\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'key',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.key,\n\t\t\t\t\t}),\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'secret',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_SECRET_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.secret,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = false;\n\t}\n\n\thideKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = true;\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst useCustomKeys = sourceValue.useCustomKeys.length > 0;\n\n\t\treturn {\n\t\t\trecaptcha: {\n\t\t\t\tuse: sourceValue.use === 'hidden',\n\t\t\t\tkey: useCustomKeys ? sourceValue.key : '',\n\t\t\t\tsecret: useCustomKeys ? sourceValue.secret : '',\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/yandex.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/google.svg\"","import {Tag} from 'main.core';\n\nexport type ContentTableCellOptions = {\n\tcontent: string | HTMLElement,\n\thead: boolean,\n};\n\nexport class ContentTableCell\n{\n\tconstructor(options: ContentTableCellOptions = {})\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableCellElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-cell\">\n\t\t\t\t${this.options.content}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport type {ContentTableCell} from './content-table-cell';\n\nexport type ContentTableRowOptions = {\n\tcolumns: Array<ContentTableCell>,\n\thead?: boolean,\n};\n\nexport class ContentTableRow\n{\n\tconstructor(options: ContentTableRowOptions)\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableRowElement\n\t{\n\t\tconst headClass = this.options.head ? ' landing-ui-content-table-row-head' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-row${headClass}\">\n\t\t\t\t${this.options.columns.map((cell) => cell.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport {ContentTableCell} from './content-table-cell';\nimport {ContentTableRow} from './content-table-row';\nimport type {ContentTableCellOptions} from './content-table-cell';\nimport type {ContentTableRowOptions} from './content-table-row';\n\nimport './css/style.css';\n\ntype ContentTableOptions = {\n\ttitle: string,\n\tcolumns: Array<ContentTableCellOptions>,\n\trows: Array<ContentTableRowOptions>\n};\n\nexport class ContentTable\n{\n\tconstructor(options: ContentTableOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.headRow = new ContentTableRow({\n\t\t\tcolumns: this.options.columns.map((columnOptions) => {\n\t\t\t\treturn new ContentTableCell(columnOptions);\n\t\t\t}),\n\t\t\thead: true,\n\t\t});\n\t\tthis.rows = this.options.rows.map((rowOptions) => {\n\t\t\treturn new ContentTableRow({\n\t\t\t\tcolumns: rowOptions.columns.map((cellOptions) => {\n\t\t\t\t\treturn new ContentTableCell(cellOptions);\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitleLayout(): HTMLDivElement | string\n\t{\n\t\tif (Type.isStringFilled(this.options.title))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-content-table-title\">${this.options.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\trender(): HTMLTableElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-wrapper\">\n\t\t\t\t\n\t\t\t\t<div class=\"landing-ui-content-table\">\n\t\t\t\t\t${this.headRow.render()}\n\t\t\t\t\t${this.rows.map((row) => row.render())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {AccordionField} from 'landing.ui.field.accordionfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport yandexIcon from './images/yandex.svg';\nimport googleIcon from './images/google.svg';\nimport {ContentTable} from './internal/table/content-table';\n\nexport default class AnalyticsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TITLE'),\n\t\t});\n\n\t\tconst items = [];\n\t\tif (Loc.getMessage('LANGUAGE_ID') === 'ru')\n\t\t{\n\t\t\titems.push({\n\t\t\t\tid: 'yandex',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_YANDEX_METRIKA'),\n\t\t\t\ticon: yandexIcon,\n\t\t\t\tchecked: true,\n\t\t\t\tswitcher: false,\n\t\t\t\tcontent: this.getYandexTable(),\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tid: 'google',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_GOOGLE_ANALYTICS'),\n\t\t\ticon: googleIcon,\n\t\t\tchecked: true,\n\t\t\tswitcher: false,\n\t\t\tcontent: this.getGoogleTable(),\n\t\t});\n\n\t\tconst accordionField = new AccordionField({\n\t\t\tselector: 'analytics',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEMS_FIELD_TITLE'),\n\t\t\titems,\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'analyticsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_DESCRIPTION'),\n\t\t\tangle: false,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(accordionField);\n\t}\n\n\tgetYandexTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.event},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n\n\tgetGoogleTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.code},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/fields/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {FieldsListField} from 'landing.ui.field.fieldslistfield';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class FieldsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'fieldsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew FieldsListField({\n\t\t\t\t\tselector: 'fields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tdictionary: this.options.dictionary,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc, Type} from 'main.core';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {RuleField} from 'landing.ui.field.rulefield';\nimport {ActionPanel} from 'landing.ui.component.actionpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\n\nimport './css/style.css';\nimport {BaseEvent} from 'main.core.events';\n\nexport default class FieldsRulesContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsRulesContent');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!Object.keys(this.options.values).length > 0)\n\t\t{\n\t\t\tthis.addItem(this.getRuleTypeField());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(this.getRulesForm());\n\t\t\tthis.addItem(this.getActionPanel());\n\n\t\t\tconst values = this.options.values.reduce((acc, group) => {\n\t\t\t\tgroup.list.forEach((item) => {\n\t\t\t\t\tconst accEntry = acc.find((accItem) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\taccItem.condition.field === item.condition.target\n\t\t\t\t\t\t\t\t|| accItem.condition.field.id === item.condition.target\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t&& accItem.condition.value === item.condition.value\n\t\t\t\t\t\t\t&& accItem.condition.operator === item.condition.operation\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (accEntry)\n\t\t\t\t\t{\n\t\t\t\t\t\taccEntry.expression.push({\n\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\treturn field.id === item.action.target;\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\treturn field.name === item.condition.target;\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tvalue: item.condition.value,\n\t\t\t\t\t\t\t\toperator: item.condition.operation,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\texpression: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.name === item.action.target;\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn acc;\n\t\t\t}, []);\n\n\t\t\tthis.getRulesForm().addField(\n\t\t\t\tnew RuleField({\n\t\t\t\t\tfields: this.getFormFields(),\n\t\t\t\t\trules: values,\n\t\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t\t\tdictionary: this.options.dictionary,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tgetFormFields()\n\t{\n\t\tconst disallowedTypes = (() => {\n\t\t\tif (\n\t\t\t\t!Type.isPlainObject(this.options.dictionary.deps.field)\n\t\t\t\t|| !Type.isArrayFilled(this.options.dictionary.deps.field.disallowed)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn this.options.dictionary.deps.field.disallowed;\n\t\t})();\n\n\t\treturn this.options.fields.filter((field) => {\n\t\t\treturn (\n\t\t\t\t!Type.isArrayFilled(disallowedTypes)\n\t\t\t\t|| (\n\t\t\t\t\t!disallowedTypes.includes(field.type)\n\t\t\t\t\t&& (\n\t\t\t\t\t\t!Type.isPlainObject(field.content)\n\t\t\t\t\t\t|| disallowedTypes.includes(field.content.type)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\t}\n\n\tonFieldRemove(event: BaseEvent)\n\t{\n\t\tthis.getRulesForm().removeField(event.getTarget());\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(true);\n\t\tthis.addItem(header);\n\t\tthis.addItem(this.getRuleTypeField());\n\t}\n\n\tgetRulesForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('rulesForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tselector: 'dependencies',\n\t\t\t\tdescription: null,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetActionPanel(): ActionPanel\n\t{\n\t\treturn this.cache.remember('actionPanel', () => {\n\t\t\treturn new ActionPanel({\n\t\t\t\tleft: [\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttext: Loc.getMessage('LANDING_FIELDS_ADD_NEW_RULE_LINK_LABEL'),\n\t\t\t\t\t// \tonClick: this.onAddRuleClick.bind(this),\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('headerCard', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCreateRule()\n\t{\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(false);\n\t\tthis.addItem(header);\n\n\t\tconst ruleForm = this.getRulesForm();\n\n\t\truleForm.addField(\n\t\t\tnew RuleField({\n\t\t\t\tfields: this.getFormFields(),\n\t\t\t\trules: [],\n\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t\tdictionary: this.options.dictionary,\n\t\t\t}),\n\t\t);\n\n\t\tthis.addItem(ruleForm);\n\t\tthis.addItem(this.getActionPanel());\n\t}\n\n\tgetRuleTypeField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('ruleTypeField', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'rules-type',\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type1-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_1'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type2-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_2'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type3',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type3-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_3'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonAddRuleClick()\n\t{\n\t\tconst radioField = this.getRuleTypeField();\n\t\tthis.insertBefore(radioField, this.items[this.items.length - 1]);\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\treturn {\n\t\t\tdependencies: Object.values(value).map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\ttypeId: 0,\n\t\t\t\t\tlist: item.reduce((acc, listItems) => {\n\t\t\t\t\t\tlistItems.forEach((listItem) => {\n\t\t\t\t\t\t\tlistItem.expression.forEach((expItem) => {\n\t\t\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\ttarget: listItem.condition.field,\n\t\t\t\t\t\t\t\t\t\tevent: 'change',\n\t\t\t\t\t\t\t\t\t\tvalue: listItem.condition.value,\n\t\t\t\t\t\t\t\t\t\toperation: listItem.condition.operator,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t\t\t\ttarget: expItem.field,\n\t\t\t\t\t\t\t\t\t\ttype: expItem.action,\n\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []),\n\t\t\t\t};\n\t\t\t}),\n\t\t};\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Dom, Tag, Type, Event, Text} from 'main.core';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {fetchEventsFromOptions} from 'landing.ui.component.internal';\n\nexport class ActionPagesField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.ActionPagesField');\n\t\tthis.subscribeFromOptions(fetchEventsFromOptions(options));\n\t\tthis.setLayoutClass('landing-ui-field-action-pages');\n\n\t\tDom.append(this.getSuccess(), this.input);\n\t\tDom.append(this.getFailure(), this.input);\n\n\t\tEvent.bind(document, 'click', this.onDocumentClick.bind(this));\n\t\tEvent.bind(window.top.document, 'click', this.onDocumentClick.bind(this));\n\t}\n\n\tstatic createPageBlock(\n\t\toptions: {\n\t\t\ttype: 'success' | 'failure',\n\t\t\ttitle: string,\n\t\t\ttext: string,\n\t\t\tonShowClick: (event: MouseEvent) => void,\n\t\t\tonEditClick: (event: MouseEvent) => void,\n\t\t},\n\t): HTMLDivElement\n\t{\n\t\tconst classPrefix = 'landing-ui-field-action-pages-page';\n\n\t\tconst onEditClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tconst inner = event.currentTarget.closest(`.${classPrefix}-inner`);\n\t\t\tconst textContainer = inner.querySelector(`.${classPrefix}-text`);\n\t\t\tDom.attr(textContainer, 'contenteditable', !textContainer.isContentEditable);\n\t\t\tif (Type.isFunction(options.onEditClick))\n\t\t\t{\n\t\t\t\toptions.onEditClick(event);\n\t\t\t}\n\t\t};\n\n\t\tconst onEditorClick = (event) => {\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tconst onViewClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (Type.isFunction(options.onShowClick))\n\t\t\t{\n\t\t\t\toptions.onShowClick(event);\n\t\t\t}\n\t\t};\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${classPrefix} ${classPrefix}-${options.type}\">\n\t\t\t\t<div class=\"${classPrefix}-title\">\n\t\t\t\t\t${options.title}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${classPrefix}-inner\">\n\t\t\t\t\t<div class=\"${classPrefix}-header\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-header-view\" onclick=\"${onViewClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_SHOW')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-icon\"></div>\n\t\t\t\t\t<div class=\"${classPrefix}-text\" onclick=\"${onEditorClick}\" oninput=\"${options.onInput}\">\n\t\t\t\t\t\t${Text.encode(options.text)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-footer\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-footer-edit\" onclick=\"${onEditClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_EDIT')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonDocumentClick()\n\t{\n\t\tconst successInput = this.getSuccess().querySelector('.landing-ui-field-action-pages-page-text');\n\t\tconst failureInput = this.getFailure().querySelector('.landing-ui-field-action-pages-page-text');\n\n\t\tDom.attr(successInput, 'contenteditable', null);\n\t\tDom.attr(failureInput, 'contenteditable', null);\n\t}\n\n\tgetSuccess(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('success', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'success',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_SUCCESS_PAGE_TITLE'),\n\t\t\t\ttext: this.options.successText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailure(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('failure', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'failure',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_FAILURE_PAGE_TITLE'),\n\t\t\t\ttext: this.options.failureText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowFailure');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSuccessText(): string\n\t{\n\t\treturn this.getSuccess()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetFailureText(): string\n\t{\n\t\treturn this.getFailure()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tsuccess: this.getSuccessText(),\n\t\t\tfailure: this.getFailureText(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type2.svg\"","import {Dom, Text, Type} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ActionPagesField} from './internal/action-pages/action-pages';\n\nimport type1Icon from './images/type1.svg';\nimport type2Icon from './images/type2.svg';\n\nimport './css/style.css';\n\nexport default class ActionsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.ActionsContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-actions-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\n\t\tthis.getActionPages()\n\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t})\n\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\tthis.emit('onShowFailure');\n\t\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselectable: true,\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isStringFilled(this.options.values.success.url)\n\t\t\t\t\t\t&& Type.isStringFilled(this.options.values.failure.url)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 'type2';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn 'type1';\n\t\t\t\t})(),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_1'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type1',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_2'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type2',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCheckbox()\n\t{\n\t\treturn this.cache.remember('checkbox', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_ACTIONS_CHECKBOX_TITLE'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\t\t\tfield.setIcon(type1Icon);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetSuccessLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('successLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_SUCCESS_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.success.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailureLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('failureLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_FAILURE_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.failure.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('delayField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'redirectDelay',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_TITLE'),\n\t\t\t\tcontent: this.options.values.redirectDelay,\n\t\t\t\titems: Array.from({length: 11}, (item, index) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: `${index} ${Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_ITEM')}`,\n\t\t\t\t\t\tvalue: (index),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tonChange()\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetActionPages()\n\t{\n\t\treturn this.cache.remember('actionPages', () => {\n\t\t\treturn new ActionPagesField({\n\t\t\t\tsuccessText: this.options.values.success.text,\n\t\t\t\tfailureText: this.options.values.failure.text,\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(typeDropdown);\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1Icon);\n\t\t\tthis.addItem(this.getActionPages());\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2Icon);\n\t\t\tthis.addItem(this.getSuccessLinkField());\n\t\t\tthis.addItem(this.getFailureLinkField());\n\t\t\tthis.addItem(this.getDelayField());\n\t\t}\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst actionPagesValue = this.getActionPages().getValue();\n\t\tconst useRedirect = this.getTypeButtons().getValue() === 'type2';\n\n\t\treturn {\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: actionPagesValue.success,\n\t\t\t\t\turl: useRedirect ? Text.decode(this.getSuccessLinkField().getValue()) : '',\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: actionPagesValue.failure,\n\t\t\t\t\turl: useRedirect ? Text.decode(this.getFailureLinkField().getValue()) : '',\n\t\t\t\t},\n\t\t\t\tredirectDelay: this.getDelayField().getValue(),\n\t\t\t},\n\t\t};\n\t}\n}","import {Dom, Tag, Event, Text} from 'main.core';\nimport {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {PageObject} from 'landing.pageobject';\nimport {Button} from 'ui.buttons';\n\nimport './css/style.css';\n\nexport class EmbedField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.EmbedField');\n\t\tthis.setLayoutClass('landing-ui-field-embed');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getHeader(), this.layout);\n\t\tDom.append(this.input, this.layout);\n\n\t\tEvent.bind(this.input, 'click', this.onInputClick.bind(this));\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_COPY_BUTTON_LABEL'),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_COPIED_BUTTON_LABEL'));\n\n\t\tDom.addClass(this.getHeader(), 'landing-ui-field-embed-header-copied');\n\t}\n\n\tonInputClick(event: MouseEvent)\n\t{\n\t\tevent.preventDefault();\n\t\tthis.selectCode();\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.input);\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-embed-header\">\n\t\t\t\t\t<div class=\"landing-ui-field-embed-header-button\">\n\t\t\t\t\t\t${this.getCopyButton().render()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tsetValue(value: * = '')\n\t{\n\t\tthis.input.innerHTML = Text.encode(value);\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\n\nexport default class WidgetField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Filed.WidgetField');\n\t\tthis.setLayoutClass('landing-ui-filed-widget');\n\n\t\tDom.append(this.getInputWrapper(), this.layout);\n\t}\n\n\tgetInputWrapper(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('inputWrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-filed-widget-wrapper\">\n\t\t\t\t\t${this.input}\n\t\t\t\t\t${this.getSettingsButton().render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetSettingsButton(): Button\n\t{\n\t\treturn this.cache.remember('settingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_BUTTON_LABEL'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\ticon: Button.Icon.SETTING,\n\t\t\t});\n\t\t});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\nimport {Link} from 'landing.ui.component.link';\nimport {PageObject} from 'landing.pageobject';\n\nimport './css/style.css';\n\ntype CopyLinkFieldOptions = {\n\tlink: string,\n};\n\nexport default class CopyLinkField extends BaseField\n{\n\tconstructor(options: CopyLinkFieldOptions)\n\t{\n\t\tsuper(options);\n\t\tthis.setLayoutClass('landing-ui-field-copy-link');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getLink(), this.layout);\n\t\tDom.append(this.getCopyButton().render(), this.layout);\n\t}\n\n\tgetLink()\n\t{\n\t\treturn this.cache.remember('link', () => {\n\t\t\tconst link = new Link({\n\t\t\t\ttext: this.options.link,\n\t\t\t\thref: this.options.link,\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-copy-link-preview\">\n\t\t\t\t\t${link.getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_PUB_COPY_LINK_BUTTON_LABEL'),\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.getLink());\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_PUB_COPIED_LINK_BUTTON_LABEL'));\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport class PositionField extends BaseField\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper(options);\n\n\t\tthis.horizontal = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'horizontal',\n\t\t\tcontent: options.value.horizontal,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_LEFT'), value: 'left'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_CENTER'), value: 'center'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_RIGHT'), value: 'right'},\n\t\t\t],\n\t\t});\n\n\t\tthis.vertical = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'vertical',\n\t\t\tcontent: options.value.vertical,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_TOP'), value: 'top'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_BOTTOM'), value: 'bottom'},\n\t\t\t],\n\t\t});\n\n\t\tthis.horizontal.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tthis.vertical.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tconst fieldsInner = this.getFieldsInner();\n\n\t\tDom.append(this.horizontal.getLayout(), fieldsInner);\n\t\tDom.append(this.vertical.getLayout(), fieldsInner);\n\n\t\tDom.replace(this.input, fieldsInner);\n\t}\n\n\tgetFieldsInner(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('fieldsInner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-position-fields-inner\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetValue(): {vertical: string, horizontal: string}\n\t{\n\t\treturn {\n\t\t\tvertical: this.vertical.getValue(),\n\t\t\thorizontal: this.horizontal.getValue(),\n\t\t};\n\t}\n\n\tsetValue(value: {vertical: string, horizontal: string})\n\t{\n\t\tthis.vertical.setValue(value.vertical);\n\t\tthis.horizontal.setValue(value.horizontal);\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type2.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type3.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type4.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type5.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type6.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\n\nimport {EmbedField} from './internal/embedfield/embedfield';\nimport WidgetField from './internal/widgetfield/widgetfield';\nimport CopyLinkField from './internal/copylinkfield/copylinkfield';\nimport {PositionField} from './internal/positionfield/positionfield';\n\nimport type1icon from './images/type1.svg';\nimport type2icon from './images/type2.svg';\nimport type3icon from './images/type3.svg';\nimport type4icon from './images/type4.svg';\nimport type5icon from './images/type5.svg';\nimport type6icon from './images/type6.svg';\n\nimport './css/style.css';\n\nexport default class EmbedContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.EmbedContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-embed-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TYPE_FIELD_TITLE'),\n\t\t\t\titems: [1, 3, 4, 2, 5, 6].map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: `type${item}`,\n\t\t\t\t\t\ttitle: Loc.getMessage(`LANDING_FORM_EMBED_TYPE_${item}`),\n\t\t\t\t\t\ticon: `landing-ui-form-embed-type${item}`,\n\t\t\t\t\t\tsoon: [2, 5, 6].includes(item),\n\t\t\t\t\t\tdisabled: [2, 5, 6].includes(item),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t\tselectable: false,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetType1Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type1Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type3Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type4Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType5Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type5Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType8Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type8Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetEmbedField(): EmbedField\n\t{\n\t\treturn this.cache.remember('embedField', () => {\n\t\t\treturn new EmbedField({\n\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_CLICK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_AUTO_SHOW_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLinkTextField()\n\t{\n\t\treturn this.cache.remember('linkTextField', () => {\n\t\t\treturn new VariablesField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_TEXT_SETTINGS_FIELD_TITLE'),\n\t\t\t\tvariables: [\n\t\t\t\t\t{name: 'Test', value: 'test'},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Checkbox(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('type4checkbox', () => {\n\t\t\tconst field = new BX.Landing.UI.Field.Radio({\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_PAGE_LOADED'),\n\t\t\t\t\t\tvalue: 'pageLoaded',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\thtml: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_TIME'),\n\t\t\t\t\t\tvalue: 'afterTime',\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_SCROLL_TO_ANCHOR'),\n\t\t\t\t\t// \tvalue: 'scrollToAnchor',\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (this.options.values.views.auto.delay > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn ['afterTime'];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ['pageLoaded'];\n\t\t\t\t})(),\n\t\t\t});\n\n\t\t\tDom.replace(\n\t\t\t\tfield.layout.querySelector('.delay_time'),\n\t\t\t\tthis.getDelayDropdown().getLayout(),\n\t\t\t);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetWidgetField(): WidgetField\n\t{\n\t\treturn this.cache.remember('widgetField', () => {\n\t\t\treturn new WidgetField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_TITLE'),\n\t\t\t\tplaceholder: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_PLACEHOLDER'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCopyLinkField(): CopyLinkField\n\t{\n\t\treturn this.cache.remember('copyLinkField', () => {\n\t\t\treturn new CopyLinkField({\n\t\t\t\tlink: 'https://bitrix24.io/pub/my/form/link',\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayDropdown(): BX.Landing.UI.Field.DropdownInline\n\t{\n\t\treturn this.cache.remember('delayDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.DropdownInline({\n\t\t\t\tselector: 'showDelay',\n\t\t\t\tcontent: this.options.values.views.auto.delay,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '5c',\n\t\t\t\t\t\tvalue: '5',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '10c',\n\t\t\t\t\t\tvalue: '10',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '15c',\n\t\t\t\t\t\tvalue: '15',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t\tskipInitialEvent: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3PositionField()\n\t{\n\t\treturn this.cache.remember('type3PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4PositionField()\n\t{\n\t\treturn this.cache.remember('type4PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type3ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.click.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type4ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.auto.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tif (/type[1-6]$/.test(data.item.id))\n\t\t{\n\t\t\tthis.clear();\n\t\t\tthis.addItem(this.getHeader());\n\t\t\tthis.addItem(typeDropdown);\n\t\t}\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tconst embedField = this.getEmbedField();\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1icon);\n\t\t\tthis.addItem(this.getType1Message());\n\n\t\t\tembedField.setValue(this.options.values.scripts.inline.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2icon);\n\t\t\t// this.addItem(this.getType2Header());\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type3')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type3icon);\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tconst positionField = this.getType3PositionField();\n\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t});\n\n\t\t\tthis.addItem(this.getType3Message());\n\t\t\tthis.addItem(this.getType3Header());\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType3ShowTypeField());\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type4')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type4icon);\n\t\t\tthis.addItem(this.getType4Message());\n\t\t\tthis.addItem(this.getType4Header());\n\t\t\tthis.addItem(this.getType4Checkbox());\n\n\t\t\tconst positionField = this.getType4PositionField();\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t});\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType4ShowTypeField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type5')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type5icon);\n\t\t\tthis.addItem(this.getType5Message());\n\t\t\tthis.addItem(this.getWidgetField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type6')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type6icon);\n\t\t\tthis.addItem(this.getCopyLinkField());\n\t\t}\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst type3positionValue = this.getType3PositionField().getValue();\n\t\tconst type4positionValue = this.getType4PositionField().getValue();\n\n\t\treturn {\n\t\t\tembedding: {\n\t\t\t\tviews: {\n\t\t\t\t\tauto: {\n\t\t\t\t\t\tdelay: (() => {\n\t\t\t\t\t\t\tif (this.getType4Checkbox().getValue().includes('pageLoaded'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn this.getDelayDropdown().getValue();\n\t\t\t\t\t\t})(),\n\t\t\t\t\t\tposition: type4positionValue.horizontal,\n\t\t\t\t\t\tvertical: type4positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType4ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t\tclick: {\n\t\t\t\t\t\tposition: type3positionValue.horizontal,\n\t\t\t\t\t\tvertical: type3positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType3ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/identify/images/icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Reflection} from 'main.core';\n\nimport messageIcon from './images/icon.svg';\n\nexport default class Identify extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Identify');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_IDENTIFY_HEADER'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\theader: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\tangle: false,\n\t\t\tcloseable: false,\n\t\t\tmore: () => {\n\t\t\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\t\t\t\tif (helper)\n\t\t\t\t{\n\t\t\t\t\tBX.Helper.show('redirect=detail&code=12802786');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport default class StageField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tDom.replace(this.input, this.getInner());\n\t}\n\n\tgetInner()\n\t{\n\t\treturn this.cache.remember('inner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-stages\">\n\t\t\t\t\t${this.getCategoriesDropdown().getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCategoriesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('categoriesDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: this.options.listTitle || Loc.getMessage('LANDING_FORM_SETTINGS_CATEGORIES_FIELD_TITLE'),\n\t\t\t\tcontent: this.options.value.category,\n\t\t\t\titems: this.options.categories.map((category) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: category.NAME || category.name,\n\t\t\t\t\t\tvalue: category.ID || category.id,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onCategoryChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCurrentCategory()\n\t{\n\t\tconst currentCategoryId = this.getCategoriesDropdown().getValue();\n\n\t\treturn this.options.categories.find((category) => {\n\t\t\treturn String(category.ID || category.id) === String(currentCategoryId);\n\t\t});\n\t}\n\n\tonCategoryChange()\n\t{\n\t\tconst oldStagesDropdown = this.getStagesDropdown();\n\t\tthis.cache.delete('stagesDropdown');\n\n\t\tif (oldStagesDropdown.popup)\n\t\t{\n\t\t\toldStagesDropdown.popup.destroy();\n\t\t}\n\n\t\tconst newStagesDropdown = this.getStagesDropdown();\n\t\tDom.replace(oldStagesDropdown.getLayout(), newStagesDropdown.getLayout());\n\t\tthis.emit('onChange');\n\t}\n\n\tgetStagesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('stagesDropdown', () => {\n\t\t\tconst stages = this.getCurrentCategory().STAGES || this.getCurrentCategory().stages;\n\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: this.options.listTitle || Loc.getMessage('LANDING_FORM_SETTINGS_STAGES_FIELD_TITLE'),\n\t\t\t\titems: stages.map((stage) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: stage.NAME || stage.name,\n\t\t\t\t\t\tvalue: stage.ID || stage.id,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tcategory: this.getCategoriesDropdown().getValue(),\n\t\t\tstage: this.getStagesDropdown().getValue(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/crm/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Text, Type} from 'main.core';\nimport StageField from './internal/stagefield/stagefield';\n\nimport messageIcon from './images/message-icon.svg';\n\nimport './css/style.css';\n\nexport default class CrmContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.CrmContent');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\t\tif (this.isDynamicAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getDynamicEntitySettingsForm());\n\t\t}\n\n\t\tthis.addItem(this.getExpertSettingsForm());\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tisDynamicAvailable(): boolean\n\t{\n\t\treturn Type.isArrayFilled(this.options.formDictionary.document.dynamic);\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesField(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('duplicatesField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Radio({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_FIELD_TITLE'),\n\t\t\t\tselector: 'duplicateMode',\n\t\t\t\tvalue: [this.options.values.duplicateMode ? this.options.values.duplicateMode : 'ALLOW'],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_ALLOW'),\n\t\t\t\t\t\tvalue: 'ALLOW',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_REPLACE'),\n\t\t\t\t\t\tvalue: 'REPLACE',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_MERGE'),\n\t\t\t\t\t\tvalue: 'MERGE',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPaymentField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('paymentField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'payment',\n\t\t\t\tvalue: [this.options.values.payment],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_SHOW_PAYMENT'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetOrderSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('formSettingsForm', () => {\n\t\t\tconst scheme = this.getSchemeById(this.options.values.scheme);\n\t\t\tconst isOpened = (() => {\n\t\t\t\tif (scheme && scheme.dynamic === true)\n\t\t\t\t{\n\t\t\t\t\treturn String(scheme.id).endsWith('1');\n\t\t\t\t}\n\n\t\t\t\treturn Text.toNumber(this.options.values.scheme) > 4\n\t\t\t})();\n\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_HEADER'),\n\t\t\t\ttoggleable: true,\n\t\t\t\topened: isOpened,\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPaymentField(),\n\t\t\t\t\tnew MessageCard({\n\t\t\t\t\t\tid: 'orderMessage',\n\t\t\t\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_HEADER'),\n\t\t\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_DESCRIPTION'),\n\t\t\t\t\t\tangle: false,\n\t\t\t\t\t\ticon: messageIcon,\n\t\t\t\t\t\trestoreState: true,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType1Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type1header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDynamicHeader(headerText: string): HeaderCard\n\t{\n\t\tconst header = this.cache.remember('dynamicHeader', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: '',\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\n\t\tif (Type.isString(headerText))\n\t\t{\n\t\t\theader.setTitle(headerText);\n\t\t}\n\n\t\treturn header;\n\t}\n\n\tgetDynamicEntitiesField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('dynamicEntitiesField', () => {\n\t\t\tconst currentScheme = this.getSchemeById(this.options.values.scheme);\n\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'dynamicScheme',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_SMART_ENTITY_LIST'),\n\t\t\t\titems: this.options.formDictionary.document.dynamic.map((scheme) => {\n\t\t\t\t\treturn {name: scheme.name, value: scheme.id};\n\t\t\t\t}),\n\t\t\t\tcontent: currentScheme.mainEntity,\n\t\t\t\tonChange: () => {\n\t\t\t\t\tthis.onTypeChange(\n\t\t\t\t\t\tnew BaseEvent({\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\t\tid: this.getSelectedSchemeId(),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDynamicEntitySettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('dynamicEntitySettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\topened: true,\n\t\t\t\thidden: true,\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getDynamicEntitiesField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetExpertSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('expertSettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_EXPERT_MODE'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Link,\n\t\t\t\topened: false,\n\t\t\t\tfields: [\n\t\t\t\t\tnew HeaderCard({\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t}),\n\t\t\t\t\tthis.getDuplicatesField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypesField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typesField', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.onTypeChange(\n\t\t\t\t\tnew BaseEvent({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\tid: this.options.values.scheme,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tconst items = [\n\t\t\t\t{\n\t\t\t\t\tid: '2',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type2',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '3',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type3',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '4',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type4',\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tif (this.isDynamicAvailable())\n\t\t\t{\n\t\t\t\titems.push({\n\t\t\t\t\tid: 'smart',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_5'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type5',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.options.isLeadEnabled)\n\t\t\t{\n\t\t\t\titems.unshift({\n\t\t\t\t\tid: '1',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type1',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'scheme',\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (String(this.options.values.scheme) === '8')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '5')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '6')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '7')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 4;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst scheme = this.getSchemeById(this.options.values.scheme);\n\t\t\t\t\tif (Type.isPlainObject(scheme) && scheme.dynamic === true)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 'smart';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.options.values.scheme;\n\t\t\t\t})(),\n\t\t\t\titems,\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\t\n\tgetStagesField()\n\t{\n\t\treturn this.cache.remember('stagesField', () => {\n\t\t\treturn new StageField({\n\t\t\t\tcategories: this.options.categories,\n\t\t\t\tvalue: {\n\t\t\t\t\tcategory: this.options.values.category,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDynamicCategoriesField(schemeId: string | number)\n\t{\n\t\treturn this.cache.remember(`dynamicCategories#${schemeId}`, () => {\n\t\t\tconst scheme = this.getDynamicSchemeById(schemeId);\n\t\t\treturn new StageField({\n\t\t\t\tlistTitle: Loc.getMessage('LANDING_FORM_SETTINGS_SMART_STAGES_FIELD_TITLE'),\n\t\t\t\tcategories: scheme.categories,\n\t\t\t\tvalue: {\n\t\t\t\t\tcategory: this.options.values.dynamicCategory,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesEnabledField()\n\t{\n\t\treturn this.cache.remember('duplicatesEnabledField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'duplicatesEnabled',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [this.options.values.duplicatesEnabled],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_DUPLICATES_ENABLED'),\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSchemeById(id: number)\n\t{\n\t\treturn this.options.formDictionary.document.schemes.find((scheme) => {\n\t\t\treturn (\n\t\t\t\t(String(scheme.id) === String(id))\n\t\t\t\t|| (id === 'smart' && scheme.dynamic)\n\t\t\t);\n\t\t});\n\t}\n\n\t getDynamicSchemeById(id: number)\n\t{\n\t\tconst {mainEntity} = this.getSchemeById(id);\n\t\treturn this.options.formDictionary.document.dynamic.find((scheme) => {\n\t\t\treturn String(scheme.id) === String(mainEntity);\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst {item} = event.getData();\n\t\tconst scheme = this.getSchemeById(item.id);\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\t\tif (this.isDynamicAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getDynamicEntitySettingsForm());\n\t\t\tthis.getDynamicEntitySettingsForm().hide();\n\t\t}\n\n\t\tconst expertSettingsForm = this.getExpertSettingsForm();\n\t\texpertSettingsForm.clear();\n\n\t\tif (String(item.id) === '1' || String(item.id) === '8')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType1Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '2' || String(item.id) === '5')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType2Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '3' || String(item.id) === '6')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType3Header());\n\t\t\texpertSettingsForm.addField(this.getStagesField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesEnabledField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '4' || String(item.id) === '7')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType4Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (\n\t\t\t(\n\t\t\t\tText.toNumber(item.id) > 4\n\t\t\t\t&& Type.isPlainObject(scheme)\n\t\t\t\t&& scheme.dynamic !== true\n\t\t\t)\n\t\t\t|| this.getOrderSettingsForm().isOpened()\n\t\t)\n\t\t{\n\t\t\tthis.getOrderSettingsForm().onSwitchChange(true);\n\t\t}\n\n\t\tif (\n\t\t\tType.isPlainObject(scheme)\n\t\t\t&& (String(item.id) === 'smart' || scheme.dynamic === true)\n\t\t\t&& this.isDynamicAvailable()\n\t\t)\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getDynamicHeader(scheme.name));\n\t\t\texpertSettingsForm.addField(this.getDynamicCategoriesField(scheme.id));\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\n\t\t\tif (String(scheme.id).endsWith('1'))\n\t\t\t{\n\t\t\t\tthis.getOrderSettingsForm().onSwitchChange(true);\n\t\t\t}\n\n\t\t\tthis.getDynamicEntitySettingsForm().show();\n\t\t}\n\n\t\tthis.addItem(expertSettingsForm);\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tgetSelectedSchemeId(): number\n\t{\n\t\tconst typeId = this.getTypesField().getValue();\n\t\tif (String(typeId) === 'smart')\n\t\t{\n\t\t\tconst entityId = this.getDynamicEntitiesField().getValue();\n\t\t\tif (this.getOrderSettingsForm().isOpened())\n\t\t\t{\n\t\t\t\treturn `${entityId}1`;\n\t\t\t}\n\n\t\t\treturn `${entityId}0`;\n\t\t}\n\n\t\treturn typeId;\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst duplicateMode = this.getDuplicatesField().getValue()[0];\n\t\tconst reducedValue = {\n\t\t\tduplicateMode: duplicateMode === 'ALLOW' ? '' : duplicateMode,\n\t\t\tscheme: this.getSelectedSchemeId(),\n\t\t\tdeal: {\n\t\t\t\tduplicatesEnabled: Text.toBoolean(this.getDuplicatesEnabledField().getValue()[0]),\n\t\t\t},\n\t\t\tpayment: {\n\t\t\t\tuse: this.getPaymentField().getValue().length > 0,\n\t\t\t},\n\t\t\tdynamic: {\n\t\t\t\tcategory: null,\n\t\t\t},\n\t\t};\n\n\t\tif (this.getOrderSettingsForm().isOpened())\n\t\t{\n\t\t\tif (String(reducedValue.scheme) === '1')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '8';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '2')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '5';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '3')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '6';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '4')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '7';\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tString(reducedValue.scheme) === '3'\n\t\t\t|| String(reducedValue.scheme) === '6'\n\t\t)\n\t\t{\n\t\t\treducedValue.deal.category = this.getStagesField().getValue().category;\n\t\t}\n\n\t\tconst scheme = this.getSchemeById(reducedValue.scheme);\n\t\tif (Type.isPlainObject(scheme) && scheme.dynamic)\n\t\t{\n\t\t\treducedValue.dynamic.category = this.getDynamicCategoriesField(scheme.id).getValue().category;\n\t\t}\n\n\t\treturn {\n\t\t\tdocument: reducedValue,\n\t\t};\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {DefaultValueField} from 'landing.ui.field.defaultvaluefield';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {Dom} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class DefaultValues extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.DefaultValues');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'defaultValueMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_DESCRIPTION'),\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew DefaultValueField({\n\t\t\t\t\tselector: 'presetFields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tpersonalizationVariables: this.options.personalizationVariables,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\tdictionary: {\n\t\t\t\t\t\t...this.options.dictionary,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\tconst layout = super.getLayout();\n\t\tDom.addClass(layout, 'landing-ui-default-fields-values');\n\n\t\treturn layout;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport {type FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class FacebookContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FacebookContent');\n\n\t\tthis.addItem(\n\t\t\tnew HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\t\t}),\n\t\t);\n\n\t\tif (this.options.formOptions.integration.canUse)\n\t\t{\n\t\t\tconst buttonCard = new BaseCard();\n\t\t\tconst button = new Button({\n\t\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=facebook`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tDom.style(buttonCard.getLayout(), {\n\t\t\t\tpadding: 0,\n\t\t\t\tmargin: 0,\n\t\t\t});\n\n\t\t\tDom.append(button.render(), buttonCard.getBody());\n\t\t\tthis.addItem(buttonCard);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(\n\t\t\t\tnew MessageCard({\n\t\t\t\t\theader: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_HEADER'),\n\t\t\t\t\tdescription: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_FB_TEXT'),\n\t\t\t\t\tangle: false,\n\t\t\t\t\tcloseable: false,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'facebook';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport type {FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class VkContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.VkContent');\n\n\t\tthis.addItem(\n\t\t\tnew HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\t\t}),\n\t\t);\n\n\t\tif (this.options.formOptions.integration.canUse)\n\t\t{\n\t\t\tconst buttonCard = new BaseCard();\n\t\t\tconst button = new Button({\n\t\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=vkontakte`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tDom.style(buttonCard.getLayout(), {\n\t\t\t\tpadding: 0,\n\t\t\t\tmargin: 0,\n\t\t\t});\n\n\t\t\tDom.append(button.render(), buttonCard.getBody());\n\t\t\tthis.addItem(buttonCard);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(\n\t\t\t\tnew MessageCard({\n\t\t\t\t\theader: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_HEADER'),\n\t\t\t\t\tdescription: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_VK_TEXT'),\n\t\t\t\t\tangle: false,\n\t\t\t\t\tcloseable: false,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'vkontakte';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Text} from 'main.core';\nimport {BaseEvent} from 'main.core.events';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class Callback extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Callback');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!this.isAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getWarningMessage());\n\t\t\tthis.getSettingsForm().disable();\n\t\t}\n\n\t\tthis.addItem(this.getSettingsForm());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetWarningMessage()\n\t{\n\t\treturn this.cache.remember('warningMessage', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_HEADER'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tisAvailable(): boolean\n\t{\n\t\treturn this.cache.remember('isAvailable', () => {\n\t\t\treturn this.options.dictionary.callback.from.length > 0;\n\t\t});\n\t}\n\n\tgetSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('settingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Switch,\n\t\t\t\topened: this.isAvailable() && Text.toBoolean(this.options.values.use),\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPhoneListField(),\n\t\t\t\t\tthis.getTextField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseCheckboxField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useCheckboxField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'use',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [Text.toBoolean(this.options.values.use)],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPhoneListField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('phoneListField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'from',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_PHONE_TITLE'),\n\t\t\t\tcontent: this.options.values.from,\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_DEFAULT_PHONE_NOT_SELECTED'), value: ''},\n\t\t\t\t\t...this.options.dictionary.callback.from.map((item) => {\n\t\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTextField()\n\t{\n\t\treturn this.cache.remember('textField', () => {\n\t\t\treturn new TextField({\n\t\t\t\tselector: 'text',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TEXT_TITLE'),\n\t\t\t\tcontent: this.options.values.text,\n\t\t\t\ttextOnly: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tcallback: {\n\t\t\t\t...value,\n\t\t\t\tuse: this.getSettingsForm().isOpened(),\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {TagSelector} from 'ui.entity-selector';\nimport {PageObject} from 'landing.pageobject';\nimport {Dom} from 'main.core';\n\nexport default class UserSelectorField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tDom.removeClass(this.input, 'landing-ui-field-input');\n\n\t\tthis.getTagSelector().renderTo(this.input);\n\t}\n\n\tgetTagSelector(): TagSelector\n\t{\n\t\treturn this.cache.remember('tagSelector', () => {\n\t\t\tconst root = PageObject.getRootWindow();\n\t\t\treturn new root.BX.UI.EntitySelector.TagSelector({\n\t\t\t\tid: 'user-selector',\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tid: 'user-selector',\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'user',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tactiveUsers: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tpreselectedItems: this.options.value,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t'Item:onSelect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'Item:onDeselect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue(): Array<number>\n\t{\n\t\treturn this.getTagSelector().getDialog().getSelectedItems().map((item) => {\n\t\t\treturn item.id;\n\t\t});\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {BaseEvent} from 'main.core.events';\nimport {Reflection, Type} from 'main.core';\nimport UserSelectorField from './internal/userselectorfield/userselectorfield';\n\nimport './css/style.css';\n\nexport default class Other extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE'),\n\t\t});\n\n\t\tconst otherForm = new FormSettingsForm({\n\t\t\tid: 'other',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tthis.getNameField(),\n\t\t\t\tthis.getUserSelectorField(),\n\t\t\t\tthis.getLanguageField(),\n\t\t\t\tthis.getUseSignField(),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(otherForm);\n\t}\n\n\tcanRemoveCopyrights(): boolean\n\t{\n\t\treturn this.options.dictionary.sign.canRemove;\n\t}\n\n\tgetNameField(): TextField\n\t{\n\t\treturn this.cache.remember('nameField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE_NAME_TITLE'),\n\t\t\t\tselector: 'name',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.name,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseSignField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useSignField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'useSign',\n\t\t\t\tvalue: this.options.values.useSign ? ['useSign'] : [],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'useSign',\n\t\t\t\t\t\thtml: `${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_SHOW_SIGN')}${this.createCopyRight()}`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tcompact: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUserSelectorField()\n\t{\n\t\treturn this.cache.remember('userSelectorField', () => {\n\t\t\treturn new UserSelectorField({\n\t\t\t\tselector: 'users',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_USER'),\n\t\t\t\tvalue: this.options.values.users.reduce((acc, item) => {\n\t\t\t\t\tif (Type.isStringFilled(item) || Type.isNumber(item))\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push(['user', item]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLanguageField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('language', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'language',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_LANGUAGE'),\n\t\t\t\titems: this.options.dictionary.languages.map((item) => {\n\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t}),\n\t\t\t\tcontent: this.options.values.language,\n\t\t\t});\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tcreateCopyRight(): string\n\t{\n\t\treturn `\n\t\t\t<span class=\"landing-ui-signin\">\n\t\t\t\t<span class=\"landing-ui-sign\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-in\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN_BY')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-24\">24</span>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tname: value.name,\n\t\t\tdata: {\n\t\t\t\tlanguage: this.getLanguageField().getValue(),\n\t\t\t\tuseSign: value.useSign.includes('useSign'),\n\t\t\t},\n\t\t\tresponsible: {\n\t\t\t\tusers: value.users,\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tif (!this.canRemoveCopyrights())\n\t\t{\n\t\t\tconst checkbox = this.getUseSignField();\n\n\t\t\tif (!checkbox.getValue().includes('useSign'))\n\t\t\t{\n\t\t\t\tcheckbox.setValue(['useSign']);\n\t\t\t\tif (Type.isStringFilled(this.options.dictionary.restriction.helper))\n\t\t\t\t{\n\t\t\t\t\tconst evalGlobal = Reflection.getClass('BX.evalGlobal');\n\t\t\t\t\tif (Type.isFunction(evalGlobal))\n\t\t\t\t\t{\n\t\t\t\t\t\tevalGlobal(this.options.dictionary.restriction.helper);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Loc} from 'landing.loc';\nimport {SidebarButton} from 'landing.ui.button.sidebarbutton';\n\nconst sidebarButtons = [\n\tnew SidebarButton({\n\t\tid: 'fields',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FIELDS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'agreements',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_AGREEMENT'),\n\t\tchild: true,\n\t\timportant: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'crm',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ENTITY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'identify',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_CLIENT_IDENTIFY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'button_and_header',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_HEADER_AND_BUTTON'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'spam_protection',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_SPAM_PROTECTION'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'fields_rules',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_FIELDS_RULES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'actions',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ACTIONS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'default_values',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_VALUES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'analytics',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_ANALYTICS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'facebook',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'vk',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'callback',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CALLBACK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'embed',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_EMBED'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'more',\n\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_MORE_BUTTON_TEXT'),\n\t\tclassName: 'landing-ui-button-sidebar-more',\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'other',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_OTHER'),\n\t\tchild: true,\n\t}),\n];\n\nexport default sidebarButtons;","import {Loc} from 'landing.loc';\nimport {PresetCategory} from 'landing.ui.panel.basepresetpanel';\n\nconst presetCategories = [\n\tnew PresetCategory({\n\t\tid: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_PRODUCTS_2'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_SOCIAL'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM_AUTOMATION'),\n\t}),\n];\n\nexport default presetCategories;","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/integration.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/autoshow.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/revertcall.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/vk.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/facebook.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/crm.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/service.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/products1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/products2.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/products3.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/products4.svg\"","import {Loc} from 'landing.loc';\nimport {Preset} from 'landing.ui.panel.basepresetpanel';\nimport siteIcon from '../images/icons/integration.svg';\nimport widgetAutoShowIcon from '../images/icons/autoshow.svg';\nimport callbackIcon from '../images/icons/revertcall.svg';\nimport vkIcon from '../images/icons/vk.svg';\nimport facebookIcon from '../images/icons/facebook.svg';\nimport crmFormIcon from '../images/icons/crm.svg';\nimport serviceIcon from '../images/icons/service.svg';\nimport product1Icon from '../images/icons/products1.svg';\nimport product2Icon from '../images/icons/products2.svg';\nimport product3Icon from '../images/icons/products3.svg';\nimport product4Icon from '../images/icons/products4.svg';\nimport smartIcon from '../images/icons/smart.svg';\n\nconst presets = [\n\tnew Preset({\n\t\tid: 'contacts',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_DESCRIPTION'),\n\t\ticon: siteIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'contacts',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_LAST_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'feedback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_DESCRIPTION'),\n\t\ticon: widgetAutoShowIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'feedback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{name: 'LEAD_COMMENTS'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'callback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_DESCRIPTION'),\n\t\ticon: callbackIcon,\n\t\tdefaultSection: 'callback',\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'callback',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'callback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'expert',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT_DESCRIPTION'),\n\t\ticon: serviceIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'identify',\n\t\t\t'button_and_header',\n\t\t\t'spam_protection',\n\t\t\t'fields_rules',\n\t\t\t'actions',\n\t\t\t'default_values',\n\t\t\t'analytics',\n\t\t\t'facebook',\n\t\t\t'vk',\n\t\t\t'callback',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'expert',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'products1',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_1'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_1_DESCRIPTION'),\n\t\ticon: product1Icon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'products1',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_1'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{type: 'product', bigPic: false},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'products2',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_2'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_2_DESCRIPTION'),\n\t\ticon: product2Icon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'products2',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_2'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{type: 'product', bigPic: false},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tdocument: {\n\t\t\t\tscheme: 8,\n\t\t\t},\n\t\t\tpayment: {use: true},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'products3',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_3'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_3_DESCRIPTION'),\n\t\ticon: product3Icon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'products3',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_3'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{type: 'product', bigPic: false},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'products4',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_4'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_4_DESCRIPTION'),\n\t\ticon: product4Icon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'products4',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_4'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{type: 'product', bigPic: true},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'vk',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK_DESCRIPTION'),\n\t\ticon: vkIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\tnew Preset({\n\t\tid: 'facebook',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB_DESCRIPTION'),\n\t\ticon: facebookIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\n\tnew Preset({\n\t\tid: 'personalisation',\n\t\tcategory: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION_DESCRIPTION'),\n\t\ticon: crmFormIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n];\n\nexport default presets;","import {BasePresetPanel, Preset, ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {PageObject} from 'landing.pageobject';\nimport {Loc} from 'landing.loc';\nimport {Dom, Reflection, Runtime, Tag, Text, Type, Uri} from 'main.core';\nimport type {BaseEvent} from 'main.core.events';\nimport {Backend} from 'landing.backend';\nimport {Loader} from 'main.loader';\nimport {FormClient} from 'crm.form.client';\nimport {Button} from 'ui.buttons';\nimport {Env} from 'landing.env';\nimport {StylePanel} from 'landing.ui.panel.stylepanel';\nimport {MessageBox} from 'ui.dialogs.messagebox';\nimport type {FormDictionary, FormOptions} from 'crm.form.type';\n\nimport HeaderAndButtonContent from './internal/content/header-and-buttons/header-and-buttons';\nimport AgreementsContent from './internal/content/agreements/agreements';\nimport SpamProtection from './internal/content/spam-protection/spam-protection';\nimport AnalyticsContent from './internal/content/analytics/analytics';\nimport FieldsContent from './internal/content/fields/fields';\nimport FieldsRulesContent from './internal/content/fields-rules/fields-rules';\nimport ActionsContent from './internal/content/actions/actions';\nimport EmbedContent from './internal/content/embed/embed';\nimport Identify from './internal/content/identify/identify';\nimport CrmContent from './internal/content/crm/crm';\nimport DefaultValues from './internal/content/defaultvalues/defaultvalues';\nimport FacebookContent from './internal/content/facebook/facebook';\nimport VkContent from './internal/content/vk/vk';\nimport Callback from './internal/content/callback/callback';\nimport Other from './internal/content/other/other';\n\nimport sidebarButtons from './internal/sidebar-buttons';\nimport presetCategories from './internal/preset-categories';\nimport presets from './internal/presets';\n\nimport './css/style.css';\n\ntype CrmField = {\n\ttype: 'list' | 'string' | 'checkbox' | 'date' | 'text' | 'typed_string' | 'file',\n\tentity_field_name: string,\n\tentity_name: string,\n\tname: string,\n\tcaption: string,\n\tmultiple: boolean,\n\trequired: boolean,\n\thidden: boolean,\n\titems: Array<{ID: any, VALUE: any}>,\n};\n\ntype CrmFieldsList = {\n\t[categoryId: string]: {\n\t\tCAPTION: string,\n\t\tFIELDS: Array<CrmField>\n\t},\n};\n\ntype CrmCompany = {\n\tID: string,\n\tTITLE: string,\n};\n\ntype CrmCategory = {\n\n};\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class FormSettingsPanel extends BasePresetPanel\n{\n\tstatic getInstance(): FormSettingsPanel\n\t{\n\t\tconst rootWindow = PageObject.getRootWindow();\n\t\tconst rootWindowPanel = rootWindow.BX.Landing.UI.Panel.FormSettingsPanel;\n\t\tif (!rootWindowPanel.instance && !FormSettingsPanel.instance)\n\t\t{\n\t\t\trootWindowPanel.instance = new FormSettingsPanel();\n\t\t}\n\n\t\treturn (rootWindowPanel.instance || FormSettingsPanel.instance);\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel');\n\t\tthis.setTitle(Loc.getMessage('LANDING_FORM_SETTINGS_PANEL_TITLE'));\n\n\t\tthis.disableOverlay();\n\n\t\tconst preparedSidebarButtons = sidebarButtons.filter((button) => {\n\t\t\treturn this.isCrmFormPage() || button.id !== 'embed';\n\t\t});\n\n\t\tthis.setSidebarButtons(preparedSidebarButtons);\n\t\tthis.setCategories(presetCategories);\n\n\t\tconst filteredPresets = presets.filter((preset) => {\n\t\t\treturn (\n\t\t\t\tLoc.getMessage('LANGUAGE_ID') === 'ru'\n\t\t\t\t|| (\n\t\t\t\t\tLoc.getMessage('LANGUAGE_ID') !== 'ru'\n\t\t\t\t\t&& preset.options.id !== 'vk'\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\n\t\tthis.setPresets(filteredPresets);\n\n\t\tif (!this.isCrmFormPage())\n\t\t{\n\t\t\tDom.append(this.getBlockSettingsButton().render(), this.getRightHeaderControls());\n\t\t}\n\n\t\tthis.subscribe('onCancel', this.onCancelClick.bind(this));\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisCrmFormPage(): boolean\n\t{\n\t\treturn Env.getInstance().getOptions().specialType === 'crm_forms';\n\t}\n\n\tgetBlockSettingsButton()\n\t{\n\t\treturn this.cache.remember('blockSettingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_BLOCK_SETTINGS_BUTTON_TEXT'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: this.onBlockSettingsButtonClick.bind(this),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t});\n\t\t});\n\t}\n\n\tonBlockSettingsButtonClick()\n\t{\n\t\tif (this.getCurrentBlock())\n\t\t{\n\t\t\tthis.hide()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getCurrentBlock().showContentPanel();\n\t\t\t\t});\n\t\t}\n\t}\n\n\tgetLoader(): Loader\n\t{\n\t\treturn this.cache.remember('loader', () => {\n\t\t\treturn new Loader({\n\t\t\t\ttarget: this.body,\n\t\t\t});\n\t\t});\n\t}\n\n\tshowLoader()\n\t{\n\t\tvoid this.getLoader().show();\n\t\tDom.hide(this.sidebar);\n\t\tDom.hide(this.content);\n\t\tDom.hide(this.getPresetField().getLayout());\n\t}\n\n\thideLoader()\n\t{\n\t\tthis.getLoader().hide();\n\t\tDom.show(this.sidebar);\n\t\tDom.show(this.content);\n\t\tDom.show(this.getPresetField().getLayout());\n\t}\n\n\tload(options = {}): Promise<any>\n\t{\n\t\tif (options.showWithOptions)\n\t\t{\n\t\t\tconst editorData = Env.getInstance().getOptions().formEditorData;\n\n\t\t\tthis.setCrmFields(editorData.crmFields);\n\t\t\tthis.setCrmCompanies(editorData.crmCompanies);\n\t\t\tthis.setCrmCategories(editorData.crmCategories);\n\t\t\tthis.setAgreements(editorData.agreements);\n\n\t\t\tconst currentOptions = Runtime.clone(editorData.formOptions);\n\t\t\tif (currentOptions.agreements.use !== true)\n\t\t\t{\n\t\t\t\tcurrentOptions.agreements.use = true;\n\t\t\t\tcurrentOptions.data.agreements = [];\n\t\t\t}\n\n\t\t\tthis.setFormOptions(currentOptions);\n\t\t\tthis.setFormDictionary(editorData.dictionary);\n\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst crmData = Backend.getInstance()\n\t\t\t.batch('Form::getCrmFields', {\n\t\t\t\tcrmFields: {\n\t\t\t\t\taction: 'Form::getCrmFields',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCompanies: {\n\t\t\t\t\taction: 'Form::getCrmCompanies',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCategories: {\n\t\t\t\t\taction: 'Form::getCrmCategories',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tagreements: {\n\t\t\t\t\taction: 'Form::getAgreements',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setCrmFields(result.crmFields.result);\n\t\t\t\tthis.setCrmCompanies(result.crmCompanies.result);\n\t\t\t\tthis.setCrmCategories(result.crmCategories.result);\n\t\t\t\tthis.setAgreements(result.agreements.result);\n\t\t\t});\n\n\t\tconst formOptions = FormClient.getInstance()\n\t\t\t.getOptions(this.getCurrentFormId())\n\t\t\t.then((options) => {\n\t\t\t\tconst currentOptions = Runtime.clone(options);\n\t\t\t\tif (currentOptions.agreements.use !== true)\n\t\t\t\t{\n\t\t\t\t\tcurrentOptions.agreements.use = true;\n\t\t\t\t\tcurrentOptions.data.agreements = [];\n\t\t\t\t}\n\n\t\t\t\tthis.setFormOptions(currentOptions);\n\t\t\t});\n\n\t\tconst formDictionary = FormClient.getInstance()\n\t\t\t.getDictionary()\n\t\t\t.then((dictionary) => {\n\t\t\t\tthis.setFormDictionary(dictionary);\n\t\t\t});\n\n\t\treturn Promise.all([\n\t\t\tcrmData,\n\t\t\tformOptions,\n\t\t\tformDictionary,\n\t\t]);\n\t}\n\n\tsetAgreements(agreements)\n\t{\n\t\tthis.cache.set('agreements', Runtime.orderBy(agreements, ['id'], ['asc']));\n\t}\n\n\tgetAgreements(): Array<{[key: string]: any}>\n\t{\n\t\treturn this.cache.get('agreements');\n\t}\n\n\tisLeadEnabled(): boolean\n\t{\n\t\treturn this.getFormDictionary().document.lead.enabled;\n\t}\n\n\tsetCurrentBlock(block: BX.Landing.Block)\n\t{\n\t\tthis.cache.set('currentBlock', block);\n\t}\n\n\tgetCurrentBlock(): ?BX.Landing.Block\n\t{\n\t\treturn this.cache.get('currentBlock');\n\t}\n\n\tshow(\n\t\toptions: {\n\t\t\tformId: number,\n\t\t\tinstanceId: number,\n\t\t\tstate?: 'presets',\n\t\t\tformOptions?: ?{[key: string]: any},\n\t\t\tshowWithOptions: true,\n\t\t} = {\n\t\t\tformOptions: {},\n\t\t},\n\t): Promise<any>\n\t{\n\t\tif (!this.layout.parentNode)\n\t\t{\n\t\t\tthis.enableToggleMode();\n\t\t}\n\n\t\tif (!this.isFormCreated())\n\t\t{\n\t\t\tthis.disableTransparentMode();\n\t\t}\n\n\t\tthis.setCurrentBlock(options.block);\n\t\tthis.setCurrentFormId(options.formId);\n\t\tthis.setCurrentFormInstanceId(options.instanceId);\n\n\t\tthis.showLoader();\n\n\t\tthis.load(options)\n\t\t\t.then(() => {\n\t\t\t\tthis.hideLoader();\n\n\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\tif (!this.isLeadEnabled())\n\t\t\t\t{\n\t\t\t\t\tconst presets = this.getPresets().map((preset: Preset) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tType.isPlainObject(preset.options.options)\n\t\t\t\t\t\t\t&& Type.isPlainObject(preset.options.options.data)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isArrayFilled(preset.options.options.data.fields))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.data.fields = preset.options.options.data.fields.map((field) => {\n\t\t\t\t\t\t\t\t\tconst preparedField = {...field};\n\t\t\t\t\t\t\t\t\tif (Type.isStringFilled(field.name))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tpreparedField.name = field.name.replace(/^LEAD_/, 'CONTACT_');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn preparedField;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (Type.isPlainObject(preset.options.options.document))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.document.scheme = 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn preset;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setPresets(presets);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isPlainObject(options.formOptions))\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = Runtime.merge(\n\t\t\t\t\t\tthis.getFormOptions(),\n\t\t\t\t\t\toptions.formOptions,\n\t\t\t\t\t);\n\t\t\t\t\tthis.setFormOptions(formOptions);\n\t\t\t\t}\n\n\t\t\t\tif (options.state === 'presets' && formOptions.templateId !== 'callback')\n\t\t\t\t{\n\t\t\t\t\tthis.onPresetFieldClick();\n\t\t\t\t\tthis.activatePreset(formOptions.templateId);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet preset = this.getPresets().find((item) => {\n\t\t\t\t\t\treturn item.options.id === formOptions.templateId;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!preset)\n\t\t\t\t\t{\n\t\t\t\t\t\tpreset = this.getPresets().find((item) => {\n\t\t\t\t\t\t\treturn item.options.id === 'expert';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isFormCreated() && formOptions.templateId !== 'callback')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setInitialFormOptions(\n\t\t\t\t\tRuntime.clone(this.getFormOptions()),\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (Type.isArrayFilled(error))\n\t\t\t\t{\n\t\t\t\t\tconst accessDeniedCode = 510;\n\t\t\t\t\tconst isAccessDenied = error.some((errorItem) => {\n\t\t\t\t\t\treturn String(errorItem.code) === String(accessDeniedCode);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isAccessDenied)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getLoader().hide();\n\t\t\t\t\t\tDom.show(this.sidebar);\n\t\t\t\t\t\tDom.show(this.content);\n\t\t\t\t\t\tDom.hide(this.footer);\n\t\t\t\t\t\tDom.append(this.getAccessError(), this.content);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\n\t\tvoid StylePanel.getInstance().hide();\n\n\t\treturn super.show(options);\n\t}\n\n\tgetAccessError(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('accessErrorMessage', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-access-error-message\">\n\t\t\t\t\t<div class=\"landing-ui-access-error-message-text\">\n\t\t\t\t\t\t${Loc.getMessage('LANDING_CRM_ACCESS_ERROR_MESSAGE')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisFormCreated(): boolean\n\t{\n\t\tconst uri = new Uri(window.location.origin);\n\t\treturn Text.toBoolean(uri.getQueryParam('formCreated'));\n\t}\n\n\tsetCurrentFormId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormId', Text.toNumber(formId));\n\t}\n\n\tgetCurrentFormId(): number\n\t{\n\t\treturn this.cache.get('currentFormId');\n\t}\n\n\tsetCurrentFormInstanceId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormInstanceId', formId);\n\t}\n\n\tgetCurrentFormInstanceId(): number\n\t{\n\t\treturn this.cache.get('currentFormInstanceId');\n\t}\n\n\tsetCrmFields(fields)\n\t{\n\t\tthis.cache.set('fields', fields);\n\t}\n\n\tgetCrmFields(): CrmFieldsList\n\t{\n\t\treturn this.cache.get('fields') || {};\n\t}\n\n\tsetCrmCompanies(companies: Array<CrmCompany>)\n\t{\n\t\tthis.cache.set('companies', companies);\n\t}\n\n\tgetCrmCompanies(): Array<CrmCompany>\n\t{\n\t\treturn this.cache.get('companies') || [];\n\t}\n\n\tsetCrmCategories(categories: Array<CrmCategory>)\n\t{\n\t\tthis.cache.set('crmCategories', categories);\n\t}\n\n\tgetCrmCategories(): Array<CrmCategory>\n\t{\n\t\treturn this.cache.get('crmCategories') || [];\n\t}\n\n\tsetFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('formOptions', options);\n\t}\n\n\tgetFormOptions(): FormOptions\n\t{\n\t\treturn Runtime.clone(this.cache.get('formOptions') || {});\n\t}\n\n\tsetFormDictionary(dictionary: FormDictionary)\n\t{\n\t\tthis.cache.set('formDictionary', dictionary);\n\t}\n\n\tgetFormDictionary(): FormDictionary\n\t{\n\t\treturn this.cache.get('formDictionary') || {};\n\t}\n\n\tsetInitialFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('initialFormOptions', Runtime.clone(options));\n\t}\n\n\tgetInitialFormOptions(): FormOptions\n\t{\n\t\treturn this.cache.get('initialFormOptions');\n\t}\n\n\t// eslint-disable-next-line\n\tgetCrmForm()\n\t{\n\t\tconst formApp = Reflection.getClass('b24form.App');\n\t\tif (formApp)\n\t\t{\n\t\t\tif (this.getCurrentFormInstanceId())\n\t\t\t{\n\t\t\t\treturn formApp.get(this.getCurrentFormInstanceId());\n\t\t\t}\n\n\t\t\treturn formApp.list()[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tconst eventData = event.getData();\n\t\tconst eventTargetValue = event.getTarget().getValue();\n\n\t\tPromise\n\t\t\t.resolve(eventTargetValue)\n\t\t\t.then((value) => {\n\t\t\t\tif (eventData.skipPrepare)\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isArrayFilled(formOptions.data.dependencies)\n\t\t\t\t\t\t&& Type.isArrayFilled(value.fields)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {dependencies} = formOptions.data;\n\t\t\t\t\t\tformOptions.data.dependencies = dependencies.reduce((acc, item) => {\n\t\t\t\t\t\t\tconst preparedItem = {...item};\n\t\t\t\t\t\t\tpreparedItem.list = preparedItem.list.filter((rule) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tvalue.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.condition.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t&& value.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.action.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (preparedItem.list.length > 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tacc.push(preparedItem);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, []);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'presetFields')\n\t\t\t\t\t\t|| Reflect.has(value, 'document')\n\t\t\t\t\t\t|| Reflect.has(value, 'result')\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst additionalValue = {};\n\t\t\t\t\t\tif (Reflect.has(value, 'document'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tadditionalValue.payment = value.document.payment;\n\t\t\t\t\t\t\tdelete value.document.payment;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t...additionalValue,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'embedding')\n\t\t\t\t\t\t|| Reflect.has(value, 'callback')\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\tReflect.has(value, 'name')\n\t\t\t\t\t\t\t&& Reflect.has(value, 'data')\n\t\t\t\t\t\t\t&& Reflect.has(value.data, 'useSign')\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst mergedOptions = Runtime.merge(\n\t\t\t\t\t\t\tformOptions,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (Reflect.has(value, 'responsible'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmergedOptions.responsible.users = value.responsible.users;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn mergedOptions;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(value, 'recaptcha'))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {key, secret} = value.recaptcha;\n\t\t\t\t\t\tdelete value.recaptcha.key;\n\t\t\t\t\t\tdelete value.recaptcha.secret;\n\t\t\t\t\t\tconst captcha = {key, secret};\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\tcaptcha,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn FormClient.getInstance()\n\t\t\t\t\t.prepareOptions(this.getFormOptions(), value)\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (value.agreements)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data = Runtime.merge(result.data, value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (value.fields)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data.fields = result.data.fields.map((field, index) => {\n\t\t\t\t\t\t\t\treturn Runtime.merge(field, value.fields[index]);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setFormOptions(result);\n\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(result.data));\n\t\t\t});\n\t}\n\n\tstatic sanitize(value: any): any\n\t{\n\t\tif (Type.isStringFilled(value))\n\t\t{\n\t\t\treturn Text.decode(value)\n\t\t\t\t.replace(/<style[^>]*>.*<\\/style>/gm, '')\n\t\t\t\t.replace(/<script[^>]*>.*<\\/script>/gm, '')\n\t\t\t\t.replace(/<[^>]+>/gm, '');\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tgetPersonalizationVariables(): Array<{name: string, value: string}>\n\t{\n\t\treturn this.cache.remember('personalizationVariables', () => {\n\t\t\treturn this.getFormDictionary().personalization.list.map((item) => {\n\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDefaultValuesVariables(): Array<{name: string, value: string}>\n\t{\n\t\treturn this.cache.remember('personalizationVariables', () => {\n\t\t\tconst {properties} = this.getFormDictionary();\n\t\t\tif (Type.isPlainObject(properties) && Type.isArrayFilled(properties.list))\n\t\t\t{\n\t\t\t\treturn properties.list.map((item) => {\n\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [];\n\t\t});\n\t}\n\n\tgetContent(id: string): ContentWrapper\n\t{\n\t\tconst crmForm = this.getCrmForm();\n\t\tif (crmForm)\n\t\t{\n\t\t\tcrmForm.sent = false;\n\t\t\tcrmForm.error = false;\n\t\t}\n\n\t\tif (id === 'button_and_header')\n\t\t{\n\t\t\treturn new HeaderAndButtonContent({\n\t\t\t\tpersonalizationVariables: this.getPersonalizationVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\ttitle: FormSettingsPanel.sanitize(this.getFormOptions().data.title),\n\t\t\t\t\tdesc: FormSettingsPanel.sanitize(this.getFormOptions().data.desc),\n\t\t\t\t\tbuttonCaption: this.getFormOptions().data.buttonCaption,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'spam_protection')\n\t\t{\n\t\t\treturn new SpamProtection({\n\t\t\t\tvalues: {\n\t\t\t\t\tkey: this.getFormOptions().captcha.key,\n\t\t\t\t\tsecret: this.getFormOptions().captcha.secret,\n\t\t\t\t\tuse: Text.toBoolean(this.getFormOptions().data.recaptcha.use),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'agreements')\n\t\t{\n\t\t\treturn new AgreementsContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tagreementsList: this.getAgreements(),\n\t\t\t\tvalues: {\n\t\t\t\t\tagreements: this.getFormOptions().data.agreements,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'analytics')\n\t\t{\n\t\t\treturn new AnalyticsContent({\n\t\t\t\tevents: this.getFormOptions().analytics.steps,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields')\n\t\t{\n\t\t\treturn new FieldsContent({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields_rules')\n\t\t{\n\t\t\treturn new FieldsRulesContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().data.dependencies,\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'actions')\n\t\t{\n\t\t\tconst actionsContent = new ActionsContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().result,\n\t\t\t});\n\n\t\t\tactionsContent\n\t\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.success.text;\n\t\t\t\t\tcrmForm.sent = !crmForm.sent;\n\t\t\t\t\tcrmForm.error = false;\n\t\t\t\t})\n\t\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.failure.text;\n\t\t\t\t\tcrmForm.error = !crmForm.error;\n\t\t\t\t\tcrmForm.sent = false;\n\t\t\t\t});\n\n\t\t\treturn actionsContent;\n\t\t}\n\n\t\tif (id === 'embed')\n\t\t{\n\t\t\treturn new EmbedContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().embedding,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'identify')\n\t\t{\n\t\t\treturn new Identify({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'crm')\n\t\t{\n\t\t\treturn new CrmContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tcompanies: this.getCrmCompanies(),\n\t\t\t\tcategories: this.getCrmCategories(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tformDictionary: this.getFormDictionary(),\n\t\t\t\tvalues: {\n\t\t\t\t\tscheme: this.getFormOptions().document.scheme,\n\t\t\t\t\tduplicatesEnabled: this.getFormOptions().document.deal.duplicatesEnabled || 'Y',\n\t\t\t\t\tcategory: this.getFormOptions().document.deal.category,\n\t\t\t\t\tdynamicCategory: this.getFormOptions().document.dynamic.category,\n\t\t\t\t\tpayment: this.getFormOptions().payment.use,\n\t\t\t\t\tduplicateMode: this.getFormOptions().document.duplicateMode,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'default_values')\n\t\t{\n\t\t\treturn new DefaultValues({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tpersonalizationVariables: this.getDefaultValuesVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().presetFields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'facebook')\n\t\t{\n\t\t\treturn new FacebookContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'vk')\n\t\t{\n\t\t\treturn new VkContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'callback')\n\t\t{\n\t\t\treturn new Callback({\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: this.getFormOptions().callback,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'other')\n\t\t{\n\t\t\treturn new Other({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: {\n\t\t\t\t\tname: this.getFormOptions().name,\n\t\t\t\t\tuseSign: this.getFormOptions().data.useSign,\n\t\t\t\t\tusers: this.getFormOptions().responsible.users,\n\t\t\t\t\tlanguage: this.getFormOptions().data.language,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tapplyPreset(preset: Preset, skipOptions = false)\n\t{\n\t\tthis.getPresets().forEach((currentPreset) => {\n\t\t\tcurrentPreset.deactivate();\n\t\t});\n\n\t\tpreset.activate();\n\n\t\tif (Type.isPlainObject(preset.options.options) && !skipOptions)\n\t\t{\n\t\t\tthis.showLoader();\n\t\t\tconst clonedPresetOptions = {\n\t\t\t\tdata: {},\n\t\t\t\t...Runtime.clone(preset.options.options),\n\t\t\t};\n\n\t\t\tlet agreementsOptions = [];\n\n\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t{\n\t\t\t\tconst sourceAgreements = this.getAgreements();\n\t\t\t\tagreementsOptions = [...clonedPresetOptions.data.agreements];\n\n\t\t\t\tclonedPresetOptions.data.agreements = (\n\t\t\t\t\tclonedPresetOptions.data.agreements.map((item, index) => {\n\t\t\t\t\t\treturn sourceAgreements[index].id;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tFormClient.getInstance()\n\t\t\t\t.prepareOptions(this.getFormOptions(), clonedPresetOptions.data)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'fields'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.fields;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.agreements;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst preparedOptions = Runtime.merge({}, result, clonedPresetOptions);\n\n\t\t\t\t\tpreparedOptions.data.agreements = (\n\t\t\t\t\t\tpreparedOptions.data.agreements.map((agreement, index) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...agreement,\n\t\t\t\t\t\t\t\t...agreementsOptions[index],\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.setFormOptions(preparedOptions);\n\t\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(preparedOptions.data));\n\t\t\t\t\tsuper.applyPreset(preset);\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsuper.applyPreset(preset);\n\t\t}\n\t}\n\n\tgetFormNode(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('formNode', () => {\n\t\t\treturn this.getCurrentBlock().node.querySelector('[data-b24form-use-style]');\n\t\t});\n\t}\n\n\tuseBlockDesign(): boolean\n\t{\n\t\treturn this.cache.remember('useBlockDesign', () => {\n\t\t\treturn Text.toBoolean(Dom.attr(this.getFormNode(), 'data-b24form-use-style'));\n\t\t});\n\t}\n\n\tgetCurrentCrmEntityName(): string\n\t{\n\t\tconst {scheme} = this.getFormOptions().document;\n\t\tconst schemeItem = this.getFormDictionary().document.schemes.find((item) => {\n\t\t\treturn String(scheme) === String(item.id);\n\t\t});\n\n\t\treturn schemeItem.name;\n\t}\n\n\tgetNotSynchronizedFields(): Promise<any>\n\t{\n\t\treturn FormClient\n\t\t\t.getInstance()\n\t\t\t.checkFields(this.getFormOptions())\n\t\t\t.then((result) => {\n\t\t\t\treturn result;\n\t\t\t});\n\t}\n\n\tshowSynchronizationPopup(notSynchronizedFields: Array<string>): Promise<boolean>\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst onOk = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(true);\n\t\t\t};\n\n\t\t\tconst onCancel = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(false);\n\t\t\t};\n\n\t\t\tconst messageDescription = (() => {\n\t\t\t\tconst entityName = Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_ENTITY_TEMPLATE')\n\t\t\t\t\t.replace('{entityName}', this.getCurrentCrmEntityName());\n\n\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_DESCRIPTION')\n\t\t\t\t\t.replace('{entityName}', entityName);\n\t\t\t})();\n\n\t\t\tconst messageText = (() => {\n\t\t\t\tconst fields = [...notSynchronizedFields].map((field) => {\n\t\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_FIELD_TEMPLATE')\n\t\t\t\t\t\t.replace('{fieldName}', field);\n\t\t\t\t});\n\n\t\t\t\tif (notSynchronizedFields.length > 1)\n\t\t\t\t{\n\t\t\t\t\tconst lastField = fields.pop();\n\n\t\t\t\t\treturn Loc\n\t\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT')\n\t\t\t\t\t\t.replace('{fieldsList}', fields.join(', '))\n\t\t\t\t\t\t.replace('{lastField}', lastField);\n\t\t\t\t}\n\n\t\t\t\treturn Loc\n\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT_1')\n\t\t\t\t\t.replace('{field}', fields.join(', '));\n\t\t\t})();\n\n\t\t\twindow.top.BX.UI.Dialogs.MessageBox.confirm(\n\t\t\t\t`${messageDescription}<br><br>${messageText}`,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_TITLE'),\n\t\t\t\tonOk,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_OK_BUTTON_LABEL'),\n\t\t\t\tonCancel,\n\t\t\t);\n\t\t});\n\t}\n\n\tshowSynchronizationErrorPopup(errors: Array<string>)\n\t{\n\t\tconst message = errors.reduce((acc, item) => {\n\t\t\treturn `${acc}\\n\\n${item}`;\n\t\t}, '');\n\n\t\twindow.top.BX.UI.Dialogs.MessageBox.alert(message);\n\t}\n\n\tonSaveClick()\n\t{\n\t\tDom.addClass(this.getSaveButton().layout, 'ui-btn-wait');\n\n\t\tthis.getNotSynchronizedFields()\n\t\t\t.then((result) => {\n\t\t\t\tif (Type.isPlainObject(result.sync))\n\t\t\t\t{\n\t\t\t\t\tif (Type.isArrayFilled(result.sync.errors))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.showSynchronizationErrorPopup(result.sync.errors);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Type.isArrayFilled(result.sync.fields))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst fieldLabels = result.sync.fields.map((field) => {\n\t\t\t\t\t\t\treturn field.label;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn this.showSynchronizationPopup(fieldLabels);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.then((isConfirmed) => {\n\t\t\t\tif (isConfirmed)\n\t\t\t\t{\n\t\t\t\t\tconst uri = new Uri(window.top.location.toString());\n\t\t\t\t\turi.removeQueryParam('formCreated');\n\t\t\t\t\twindow.top.history.replaceState(null, document.title, uri.toString());\n\n\t\t\t\t\tconst initialOptions = this.getInitialFormOptions();\n\t\t\t\t\tconst currentOptions = this.getFormOptions();\n\t\t\t\t\tconst options = (() => {\n\t\t\t\t\t\tif (!this.isCrmFormPage())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst clonedOptions = Runtime.clone(currentOptions);\n\t\t\t\t\t\t\tclonedOptions.data.design = Runtime.clone(initialOptions.data.design);\n\t\t\t\t\t\t\treturn clonedOptions;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn currentOptions;\n\t\t\t\t\t})();\n\n\t\t\t\t\tvoid FormClient.getInstance()\n\t\t\t\t\t\t.saveOptions(options)\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\tthis.setFormOptions(result);\n\t\t\t\t\t\t\tFormClient.getInstance().resetCache(result.id);\n\t\t\t\t\t\t\tDom.removeClass(this.getSaveButton().layout, 'ui-btn-wait');\n\t\t\t\t\t\t\tvoid this.hide();\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (this.useBlockDesign() && this.isCrmFormPage())\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.disableUseBlockDesign();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tDom.removeClass(this.getSaveButton().layout, 'ui-btn-wait');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tdisableUseBlockDesign()\n\t{\n\t\tDom.attr(this.getFormNode(), 'data-b24form-use-style', 'N');\n\t\tthis.cache.set('useBlockDesign', false);\n\n\t\tBackend\n\t\t\t.getInstance()\n\t\t\t.action(\n\t\t\t\t'Landing\\\\Block::updateNodes',\n\t\t\t\t{\n\t\t\t\t\tblock: this.getCurrentBlock().id,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'.bitrix24forms': {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t'data-b24form-use-style': 'N',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlid: this.getCurrentBlock().lid,\n\t\t\t\t\tsiteId: this.getCurrentBlock().siteId,\n\t\t\t\t},\n\t\t\t\t{code: this.getCurrentBlock().manifest.code},\n\t\t\t);\n\t}\n\n\tonCancelClick()\n\t{\n\t\tthis.getCrmForm().adjust(this.getInitialFormOptions().data);\n\t\tvoid this.hide();\n\t}\n}"],"names":["HeaderAndButtonContent","options","setEventNamespace","header","HeaderCard","title","Loc","getMessage","message","MessageCard","id","icon","headerAndButtonsIcon","description","restoreState","more","helper","Reflection","getClass","BX","Helper","show","headersForm","FormSettingsForm","toggleable","fields","VariablesField","selector","textOnly","content","values","variables","personalizationVariables","desc","Landing","UI","Field","Checkbox","items","value","name","compact","buttonsForm","TextField","buttonCaption","addItem","sourceValue","Object","entries","reduce","acc","key","includes","hideDesc","useSign","getSwitch","getValue","event","emit","getData","skipPrepare","ContentWrapper","AgreementsContent","messageIcon","listForm","AgreementsList","formOptions","agreementsList","agreements","isShown","Dom","style","getLayout","subscribe","SpamProtection","captchaTypeForm","RadioButtonField","use","getKeysCheckbox","getKeysForm","hasKeys","secret","hideKeysCheckbox","hideKeysForm","showKeysCheckbox","setValue","showKeysForm","cache","remember","hidden","help","text","href","useCustomKeys","length","recaptcha","ContentTableCell","Tag","render","ContentTableRow","headClass","head","columns","map","cell","ContentTable","headRow","columnOptions","rows","rowOptions","cellOptions","Type","isStringFilled","row","AnalyticsContent","push","yandexIcon","checked","switcher","getYandexTable","googleIcon","getGoogleTable","accordionField","AccordionField","angle","table","events","code","FieldsContent","fieldsForm","FieldsListField","isLeadEnabled","dictionary","crmFields","setOffsetTop","FieldsRulesContent","getHeader","keys","getRuleTypeField","getRulesForm","getActionPanel","group","list","forEach","item","accEntry","find","accItem","condition","field","target","operator","operation","expression","action","type","addField","RuleField","getFormFields","rules","onRemove","onFieldRemove","bind","disallowedTypes","isPlainObject","deps","isArrayFilled","disallowed","filter","removeField","getTarget","clear","setBottomMargin","ActionPanel","left","ruleForm","button","onClick","onCreateRule","disabled","soon","radioField","insertBefore","dependencies","typeId","listItems","listItem","expItem","ActionPagesField","subscribeFromOptions","fetchEventsFromOptions","setLayoutClass","append","getSuccess","input","getFailure","Event","document","onDocumentClick","window","top","successInput","querySelector","failureInput","attr","createPageBlock","successText","onInput","onShowClick","failureText","innerText","success","getSuccessText","failure","getFailureText","classPrefix","onEditClick","preventDefault","stopPropagation","inner","currentTarget","closest","textContainer","isContentEditable","isFunction","onEditorClick","onViewClick","Text","encode","BaseField","ActionsContent","addClass","getTypeButtons","getActionPages","selectable","url","onChange","onTypeChange","PresetField","setTitle","setIcon","type1Icon","placeholder","Dropdown","redirectDelay","Array","from","index","data","typeDropdown","getTypeDropdown","setLinkText","replace","type2Icon","getSuccessLinkField","getFailureLinkField","getDelayField","actionPagesValue","useRedirect","result","decode","EmbedField","clean","layout","onInputClick","Button","size","Size","SMALL","color","Color","PRIMARY","onclick","onCopyButtonClick","selectCode","rootWindow","PageObject","getRootWindow","execCommand","getSelection","removeAllRanges","getCopyButton","setColor","LINK","Icon","DONE","setText","selectAllChildren","innerHTML","WidgetField","getInputWrapper","getSettingsButton","LIGHT_BORDER","SETTING","CopyLinkField","getLink","link","Link","PositionField","horizontal","vertical","fieldsInner","getFieldsInner","EmbedContent","closeable","hideActions","level","Radio","html","views","auto","delay","getDelayDropdown","DropdownInline","skipInitialEvent","click","position","test","embedField","getEmbedField","type1icon","getType1Message","scripts","inline","type2icon","type3icon","positionField","getType3PositionField","getType3Message","getType3Header","getType3ShowTypeField","type4icon","getType4Message","getType4Header","getType4Checkbox","getType4PositionField","getType4ShowTypeField","type5icon","getType5Message","getWidgetField","type6icon","getCopyLinkField","type3positionValue","type4positionValue","embedding","Identify","StageField","getInner","getCategoriesDropdown","listTitle","category","categories","NAME","ID","onCategoryChange","currentCategoryId","String","oldStagesDropdown","getStagesDropdown","delete","popup","destroy","newStagesDropdown","stages","getCurrentCategory","STAGES","stage","CrmContent","getTypesField","isDynamicAvailable","getDynamicEntitySettingsForm","getExpertSettingsForm","getOrderSettingsForm","formDictionary","dynamic","duplicateMode","payment","scheme","getSchemeById","isOpened","endsWith","toNumber","opened","getPaymentField","headerText","isString","currentScheme","mainEntity","BaseEvent","getSelectedSchemeId","getDynamicEntitiesField","toggleableType","ToggleableType","getDuplicatesField","setTimeout","unshift","schemeId","getDynamicSchemeById","dynamicCategory","duplicatesEnabled","schemes","hide","expertSettingsForm","getType1Header","getType2Header","getStagesField","getDuplicatesEnabledField","onSwitchChange","getDynamicHeader","getDynamicCategoriesField","entityId","reducedValue","deal","toBoolean","DefaultValues","DefaultValueField","FacebookContent","integration","canUse","buttonCard","BaseCard","prepareButtonText","SidePanel","Instance","open","cacheable","onClose","client","FormClient","getInstance","resetCache","getOptions","then","padding","margin","getBody","enabled","cases","some","providerCode","VkContent","Callback","isAvailable","getWarningMessage","getSettingsForm","disable","callback","Switch","getPhoneListField","getTextField","UserSelectorField","removeClass","getTagSelector","renderTo","root","EntitySelector","TagSelector","dialogOptions","entities","activeUsers","preselectedItems","getDialog","getSelectedItems","Other","otherForm","getNameField","getUserSelectorField","getLanguageField","getUseSignField","sign","canRemove","createCopyRight","users","isNumber","languages","language","responsible","canRemoveCopyrights","checkbox","restriction","evalGlobal","sidebarButtons","SidebarButton","child","important","className","presetCategories","PresetCategory","presets","Preset","siteIcon","templateId","captcha","widgetAutoShowIcon","callbackIcon","defaultSection","serviceIcon","product1Icon","bigPic","product2Icon","product3Icon","product4Icon","vkIcon","facebookIcon","crmFormIcon","FormSettingsPanel","rootWindowPanel","Panel","instance","disableOverlay","preparedSidebarButtons","isCrmFormPage","setSidebarButtons","setCategories","filteredPresets","preset","setPresets","getBlockSettingsButton","getRightHeaderControls","onCancelClick","Env","specialType","onBlockSettingsButtonClick","getCurrentBlock","showContentPanel","Loader","body","getLoader","sidebar","getPresetField","showWithOptions","editorData","formEditorData","setCrmFields","setCrmCompanies","crmCompanies","setCrmCategories","crmCategories","setAgreements","currentOptions","Runtime","clone","setFormOptions","setFormDictionary","Promise","resolve","crmData","Backend","batch","getCurrentFormId","getDictionary","all","set","orderBy","get","getFormDictionary","lead","block","parentNode","enableToggleMode","isFormCreated","disableTransparentMode","setCurrentBlock","setCurrentFormId","formId","setCurrentFormInstanceId","instanceId","showLoader","load","hideLoader","getFormOptions","getPresets","preparedField","merge","state","onPresetFieldClick","activatePreset","applyPreset","setInitialFormOptions","catch","error","accessDeniedCode","isAccessDenied","errorItem","footer","getAccessError","console","StylePanel","uri","Uri","location","origin","getQueryParam","companies","formApp","getCurrentFormInstanceId","eventData","eventTargetValue","preparedItem","rule","Reflect","has","additionalValue","mergedOptions","prepareOptions","getCrmForm","adjust","personalization","properties","crmForm","sent","getPersonalizationVariables","sanitize","getAgreements","analytics","steps","getCrmFields","actionsContent","stateText","getCrmCompanies","getCrmCategories","getDefaultValuesVariables","presetFields","skipOptions","currentPreset","deactivate","activate","clonedPresetOptions","agreementsOptions","sourceAgreements","preparedOptions","agreement","node","getFormNode","schemeItem","checkFields","notSynchronizedFields","onOk","messageBox","close","onCancel","messageDescription","entityName","getCurrentCrmEntityName","messageText","lastField","pop","join","Dialogs","MessageBox","confirm","errors","alert","getSaveButton","getNotSynchronizedFields","sync","showSynchronizationErrorPopup","fieldLabels","label","showSynchronizationPopup","isConfirmed","toString","removeQueryParam","history","replaceState","initialOptions","getInitialFormOptions","clonedOptions","design","saveOptions","useBlockDesign","disableUseBlockDesign","attrs","lid","siteId","manifest","BasePresetPanel"],"mappings":"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"}