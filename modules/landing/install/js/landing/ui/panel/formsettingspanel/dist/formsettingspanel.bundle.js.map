{"version":3,"file":"formsettingspanel.bundle.js","sources":["../src/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg","../src/internal/content/header-and-buttons/header-and-buttons.js","../src/internal/content/agreements/images/message-icon.svg","../src/internal/content/agreements/agreements.js","../src/internal/content/spam-protection/spam-protection.js","../src/internal/content/analytics/images/yandex.svg","../src/internal/content/analytics/images/google.svg","../src/internal/content/analytics/internal/table/content-table-cell.js","../src/internal/content/analytics/internal/table/content-table-row.js","../src/internal/content/analytics/internal/table/content-table.js","../src/internal/content/analytics/analytics.js","../src/internal/content/fields/images/message-icon.svg","../src/internal/content/fields/fields.js","../src/internal/content/fields-rules/fields-rules.js","../src/internal/content/actions/internal/action-pages/action-pages.js","../src/internal/content/actions/images/type1.svg","../src/internal/content/actions/images/type2.svg","../src/internal/content/actions/actions.js","../src/internal/content/embed/internal/embedfield/embedfield.js","../src/internal/content/embed/internal/widgetfield/widgetfield.js","../src/internal/content/embed/internal/copylinkfield/copylinkfield.js","../src/internal/content/embed/internal/positionfield/positionfield.js","../src/internal/content/embed/images/type1.svg","../src/internal/content/embed/images/type2.svg","../src/internal/content/embed/images/type3.svg","../src/internal/content/embed/images/type4.svg","../src/internal/content/embed/images/type5.svg","../src/internal/content/embed/images/type6.svg","../src/internal/content/embed/embed.js","../src/internal/content/identify/images/icon.svg","../src/internal/content/identify/identify.js","../src/internal/content/crm/internal/stagefield/stagefield.js","../src/internal/content/crm/images/message-icon.svg","../src/internal/content/crm/crm.js","../src/internal/content/defaultvalues/defaultvalues.js","../src/internal/content/facebook/facebook.js","../src/internal/content/vk/vk.js","../src/internal/content/callback/callback.js","../src/internal/content/other/internal/userselectorfield/userselectorfield.js","../src/internal/content/other/other.js","../src/internal/sidebar-buttons.js","../src/internal/preset-categories.js","../src/images/icons/integration.svg","../src/images/icons/autoshow.svg","../src/images/icons/revertcall.svg","../src/images/icons/vk.svg","../src/images/icons/facebook.svg","../src/images/icons/crm.svg","../src/images/icons/service.svg","../src/images/icons/products1.svg","../src/images/icons/products2.svg","../src/images/icons/products3.svg","../src/images/icons/products4.svg","../src/internal/presets.js","../src/formsettingspanel.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc, Reflection, Type} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport 'helper';\nimport headerAndButtonsIcon from './images/header-and-buttons-message-icon.svg';\n\nexport default class HeaderAndButtonContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.HeaderAndButtonContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'headerAndButtonMessage',\n\t\t\ticon: headerAndButtonsIcon,\n\t\t\theader: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_DESCRIPTION_2'),\n\t\t\trestoreState: true,\n\t\t\tmore: () => {\n\t\t\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\t\t\t\tif (helper)\n\t\t\t\t{\n\t\t\t\t\tBX.Helper.show('redirect=detail&code=12802786');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tconst headersForm = new FormSettingsForm({\n\t\t\tid: 'headers',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_TITLE'),\n\t\t\tfields: [\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'title',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.title,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'desc',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.desc,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\tselector: 'hideDesc',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 'hideDesc',\n\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// {\n\t\t\t\t\t\t// \tvalue: 'hideSeparator',\n\t\t\t\t\t\t// \tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SEPARATOR_FIELD_TITLE'),\n\t\t\t\t\t\t// },\n\t\t\t\t\t],\n\t\t\t\t\tcompact: true,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tconst buttonsForm = new FormSettingsForm({\n\t\t\tid: 'buttons',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_TITLE'),\n\t\t\tfields: [\n\t\t\t\tnew TextField({\n\t\t\t\t\tselector: 'buttonCaption',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_SEND_BUTTON_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.buttonCaption,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(headersForm);\n\t\tthis.addItem(buttonsForm);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst value = Object.entries(sourceValue).reduce((acc, [key, value]) => {\n\t\t\tif (key === 'hideDesc')\n\t\t\t{\n\t\t\t\tif (value.includes(key))\n\t\t\t\t{\n\t\t\t\t\tacc.desc = '';\n\t\t\t\t}\n\n\t\t\t\tdelete acc.hideDesc;\n\t\t\t}\n\n\t\t\tif (key === 'useSign')\n\t\t\t{\n\t\t\t\tacc.useSign = value.includes('useSign');\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {...sourceValue});\n\n\t\tif (!this.items[2].getSwitch().getValue())\n\t\t{\n\t\t\tvalue.title = '';\n\t\t\tvalue.desc = '';\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/agreements/images/message-icon.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {AgreementsList} from 'landing.ui.field.agreementslist';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class AgreementsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_AGREEMENTS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'agreementsMessage',\n\t\t\theader: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst listForm = new FormSettingsForm({\n\t\t\tid: 'agreementsList',\n\t\t\tfields: [\n\t\t\t\tnew AgreementsList({\n\t\t\t\t\tselector: 'agreements',\n\t\t\t\t\tformOptions: this.options.formOptions,\n\t\t\t\t\tagreementsList: this.options.agreementsList,\n\t\t\t\t\tvalue: this.options.values.agreements,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(listForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {Type} from 'main.core';\n\nimport './css/style.css';\n\nexport default class SpamProtection extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TITLE'),\n\t\t});\n\n\t\tconst captchaTypeForm = new FormSettingsForm({\n\t\t\tid: 'type',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tnew RadioButtonField({\n\t\t\t\t\tselector: 'use',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TABS_TITLE'),\n\t\t\t\t\tvalue: this.options.values.use ? 'hidden' : 'disabled',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'disabled',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_DISABLED'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-disabled',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'hidden',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_HIDDEN'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-hidden',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(captchaTypeForm);\n\t\tif (this.hasDefaultRecaptchaKeys())\n\t\t{\n\t\t\tthis.addItem(this.getKeysCheckbox());\n\t\t}\n\t\tthis.addItem(this.getKeysForm());\n\n\t\tconst hasKeys = this.options.values.key && this.options.values.secret;\n\n\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t{\n\t\t\tif (this.hasDefaultRecaptchaKeys())\n\t\t\t{\n\t\t\t\tthis.hideKeysCheckbox();\n\t\t\t}\n\t\t\tthis.hideKeysForm();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.hasDefaultRecaptchaKeys())\n\t\t\t{\n\t\t\t\tthis.showKeysCheckbox();\n\t\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\t\tif (hasKeys)\n\t\t\t\t{\n\t\t\t\t\tthis.showKeysForm();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.hideKeysForm();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t}\n\n\t\tcaptchaTypeForm.subscribe('onChange', () => {\n\t\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t\t{\n\t\t\t\tif (this.hasDefaultRecaptchaKeys())\n\t\t\t\t{\n\t\t\t\t\tthis.hideKeysCheckbox();\n\t\t\t\t}\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.hasDefaultRecaptchaKeys())\n\t\t\t\t{\n\t\t\t\t\tthis.showKeysCheckbox();\n\t\t\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\t\t\tif (hasKeys)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.showKeysForm();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.hideKeysForm();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.showKeysForm();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.getKeysCheckbox().subscribe('onChange', () => {\n\t\t\tif (this.getKeysCheckbox().fields[0].getValue().includes('useCustomKeys'))\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKeysCheckbox()\n\t{\n\t\treturn this.cache.remember('keysCheckbox', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'customKeys',\n\t\t\t\tdescription: null,\n\t\t\t\tfields: [\n\t\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\t\tselector: 'useCustomKeys',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_SPAM_PROTECTION_CUSTOM_KEYS_CHECKBOX_LABEL'),\n\t\t\t\t\t\t\t\tvalue: 'useCustomKeys',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = false;\n\t}\n\n\thideKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = true;\n\t}\n\n\tgetKeysForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('keysForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'keys',\n\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_TITLE'),\n\t\t\t\thelp: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_TEXT'),\n\t\t\t\t\thref: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_HREF'),\n\t\t\t\t},\n\t\t\t\tfields: [\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'key',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.key,\n\t\t\t\t\t}),\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'secret',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_SECRET_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.secret,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = false;\n\t}\n\n\thideKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = true;\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst useCustomKeys = !this.hasDefaultRecaptchaKeys() || sourceValue.useCustomKeys.length > 0;\n\n\t\treturn {\n\t\t\trecaptcha: {\n\t\t\t\tuse: (\n\t\t\t\t\tsourceValue.use === 'hidden'\n\t\t\t\t\t&& Type.isStringFilled(sourceValue.key)\n\t\t\t\t\t&& Type.isStringFilled(sourceValue.secret)\n\t\t\t\t),\n\t\t\t\tkey: useCustomKeys ? sourceValue.key : '',\n\t\t\t\tsecret: useCustomKeys ? sourceValue.secret : '',\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\thasDefaultRecaptchaKeys(): boolean\n\t{\n\t\treturn this.options.dictionary.captcha.hasDefaults;\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/yandex.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/google.svg\"","import {Tag, Text} from 'main.core';\n\nexport type ContentTableCellOptions = {\n\tcontent: string | HTMLElement,\n\thead: boolean,\n};\n\nexport class ContentTableCell\n{\n\tconstructor(options: ContentTableCellOptions = {})\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableCellElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-cell\">\n\t\t\t\t${Text.encode(this.options.content)}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport type {ContentTableCell} from './content-table-cell';\n\nexport type ContentTableRowOptions = {\n\tcolumns: Array<ContentTableCell>,\n\thead?: boolean,\n};\n\nexport class ContentTableRow\n{\n\tconstructor(options: ContentTableRowOptions)\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableRowElement\n\t{\n\t\tconst headClass = this.options.head ? ' landing-ui-content-table-row-head' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-row${headClass}\">\n\t\t\t\t${this.options.columns.map((cell) => cell.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport {ContentTableCell} from './content-table-cell';\nimport {ContentTableRow} from './content-table-row';\nimport type {ContentTableCellOptions} from './content-table-cell';\nimport type {ContentTableRowOptions} from './content-table-row';\n\nimport './css/style.css';\n\ntype ContentTableOptions = {\n\ttitle: string,\n\tcolumns: Array<ContentTableCellOptions>,\n\trows: Array<ContentTableRowOptions>\n};\n\nexport class ContentTable\n{\n\tconstructor(options: ContentTableOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.headRow = new ContentTableRow({\n\t\t\tcolumns: this.options.columns.map((columnOptions) => {\n\t\t\t\treturn new ContentTableCell(columnOptions);\n\t\t\t}),\n\t\t\thead: true,\n\t\t});\n\t\tthis.rows = this.options.rows.map((rowOptions) => {\n\t\t\treturn new ContentTableRow({\n\t\t\t\tcolumns: rowOptions.columns.map((cellOptions) => {\n\t\t\t\t\treturn new ContentTableCell(cellOptions);\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitleLayout(): HTMLDivElement | string\n\t{\n\t\tif (Type.isStringFilled(this.options.title))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-content-table-title\">${this.options.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\trender(): HTMLTableElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-wrapper\">\n\t\t\t\t\n\t\t\t\t<div class=\"landing-ui-content-table\">\n\t\t\t\t\t${this.headRow.render()}\n\t\t\t\t\t${this.rows.map((row) => row.render())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {AccordionField} from 'landing.ui.field.accordionfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport yandexIcon from './images/yandex.svg';\nimport googleIcon from './images/google.svg';\nimport {ContentTable} from './internal/table/content-table';\n\nexport default class AnalyticsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TITLE'),\n\t\t});\n\n\t\tconst items = [];\n\t\tif (Loc.getMessage('LANGUAGE_ID') === 'ru')\n\t\t{\n\t\t\titems.push({\n\t\t\t\tid: 'yandex',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_YANDEX_METRIKA'),\n\t\t\t\ticon: yandexIcon,\n\t\t\t\tchecked: true,\n\t\t\t\tswitcher: false,\n\t\t\t\tcontent: this.getYandexTable(),\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tid: 'google',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_GOOGLE_ANALYTICS'),\n\t\t\ticon: googleIcon,\n\t\t\tchecked: true,\n\t\t\tswitcher: false,\n\t\t\tcontent: this.getGoogleTable(),\n\t\t});\n\n\t\tconst accordionField = new AccordionField({\n\t\t\tselector: 'analytics',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEMS_FIELD_TITLE'),\n\t\t\titems,\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'analyticsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_DESCRIPTION'),\n\t\t\tangle: false,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(accordionField);\n\t}\n\n\tgetYandexTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.event},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n\n\tgetGoogleTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.code},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/fields/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {FieldsListField} from 'landing.ui.field.fieldslistfield';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class FieldsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'fieldsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew FieldsListField({\n\t\t\t\t\tselector: 'fields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tdictionary: this.options.dictionary,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc, Type} from 'main.core';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {RuleField} from 'landing.ui.field.rulefield';\nimport {ActionPanel} from 'landing.ui.component.actionpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\n\nimport './css/style.css';\nimport {BaseEvent} from 'main.core.events';\n\nexport default class FieldsRulesContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsRulesContent');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!Object.keys(this.options.values).length > 0)\n\t\t{\n\t\t\tthis.addItem(this.getRuleTypeField());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(this.getRulesForm());\n\t\t\tthis.addItem(this.getActionPanel());\n\n\t\t\tconst values = this.options.values.reduce((acc, group) => {\n\t\t\t\tgroup.list.forEach((item) => {\n\t\t\t\t\tconst accEntry = acc.find((accItem) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\taccItem.condition.field === item.condition.target\n\t\t\t\t\t\t\t\t|| accItem.condition.field.id === item.condition.target\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t&& accItem.condition.value === item.condition.value\n\t\t\t\t\t\t\t&& accItem.condition.operator === item.condition.operation\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (accEntry)\n\t\t\t\t\t{\n\t\t\t\t\t\taccEntry.expression.push({\n\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\treturn field.id === item.action.target;\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\treturn field.name === item.condition.target;\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tvalue: item.condition.value,\n\t\t\t\t\t\t\t\toperator: item.condition.operation,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\texpression: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.name === item.action.target;\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn acc;\n\t\t\t}, []);\n\n\t\t\tthis.getRulesForm().addField(\n\t\t\t\tnew RuleField({\n\t\t\t\t\tfields: this.getFormFields(),\n\t\t\t\t\trules: values,\n\t\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t\t\tdictionary: this.options.dictionary,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tgetFormFields()\n\t{\n\t\tconst disallowedTypes = (() => {\n\t\t\tif (\n\t\t\t\t!Type.isPlainObject(this.options.dictionary.deps.field)\n\t\t\t\t|| !Type.isArrayFilled(this.options.dictionary.deps.field.disallowed)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn this.options.dictionary.deps.field.disallowed;\n\t\t})();\n\n\t\treturn this.options.fields.filter((field) => {\n\t\t\treturn (\n\t\t\t\t!Type.isArrayFilled(disallowedTypes)\n\t\t\t\t|| (\n\t\t\t\t\t!disallowedTypes.includes(field.type)\n\t\t\t\t\t&& (\n\t\t\t\t\t\t!Type.isPlainObject(field.content)\n\t\t\t\t\t\t|| disallowedTypes.includes(field.content.type)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\t}\n\n\tonFieldRemove(event: BaseEvent)\n\t{\n\t\tthis.getRulesForm().removeField(event.getTarget());\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(true);\n\t\tthis.addItem(header);\n\t\tthis.addItem(this.getRuleTypeField());\n\t}\n\n\tgetRulesForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('rulesForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tselector: 'dependencies',\n\t\t\t\tdescription: null,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetActionPanel(): ActionPanel\n\t{\n\t\treturn this.cache.remember('actionPanel', () => {\n\t\t\treturn new ActionPanel({\n\t\t\t\tleft: [\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttext: Loc.getMessage('LANDING_FIELDS_ADD_NEW_RULE_LINK_LABEL'),\n\t\t\t\t\t// \tonClick: this.onAddRuleClick.bind(this),\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('headerCard', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCreateRule()\n\t{\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(false);\n\t\tthis.addItem(header);\n\n\t\tconst ruleForm = this.getRulesForm();\n\n\t\truleForm.addField(\n\t\t\tnew RuleField({\n\t\t\t\tfields: this.getFormFields(),\n\t\t\t\trules: [],\n\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t\tdictionary: this.options.dictionary,\n\t\t\t}),\n\t\t);\n\n\t\tthis.addItem(ruleForm);\n\t\tthis.addItem(this.getActionPanel());\n\t}\n\n\tgetRuleTypeField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('ruleTypeField', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'rules-type',\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type1-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_1'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type2-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_2'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type3',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type3-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_3'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonAddRuleClick()\n\t{\n\t\tconst radioField = this.getRuleTypeField();\n\t\tthis.insertBefore(radioField, this.items[this.items.length - 1]);\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\treturn {\n\t\t\tdependencies: Object.values(value).map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\ttypeId: 0,\n\t\t\t\t\tlist: item.reduce((acc, listItems) => {\n\t\t\t\t\t\tlistItems.forEach((listItem) => {\n\t\t\t\t\t\t\tlistItem.expression.forEach((expItem) => {\n\t\t\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\ttarget: listItem.condition.field,\n\t\t\t\t\t\t\t\t\t\tevent: 'change',\n\t\t\t\t\t\t\t\t\t\tvalue: listItem.condition.value,\n\t\t\t\t\t\t\t\t\t\toperation: listItem.condition.operator,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t\t\t\ttarget: expItem.field,\n\t\t\t\t\t\t\t\t\t\ttype: expItem.action,\n\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []),\n\t\t\t\t};\n\t\t\t}),\n\t\t};\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Dom, Tag, Type, Event, Text} from 'main.core';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {fetchEventsFromOptions} from 'landing.ui.component.internal';\n\nexport class ActionPagesField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.ActionPagesField');\n\t\tthis.subscribeFromOptions(fetchEventsFromOptions(options));\n\t\tthis.setLayoutClass('landing-ui-field-action-pages');\n\n\t\tDom.append(this.getSuccess(), this.input);\n\t\tDom.append(this.getFailure(), this.input);\n\n\t\tEvent.bind(document, 'click', this.onDocumentClick.bind(this));\n\t\tEvent.bind(window.top.document, 'click', this.onDocumentClick.bind(this));\n\t}\n\n\tstatic createPageBlock(\n\t\toptions: {\n\t\t\ttype: 'success' | 'failure',\n\t\t\ttitle: string,\n\t\t\ttext: string,\n\t\t\tonShowClick: (event: MouseEvent) => void,\n\t\t\tonEditClick: (event: MouseEvent) => void,\n\t\t},\n\t): HTMLDivElement\n\t{\n\t\tconst classPrefix = 'landing-ui-field-action-pages-page';\n\n\t\tconst onEditClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tconst inner = event.currentTarget.closest(`.${classPrefix}-inner`);\n\t\t\tconst textContainer = inner.querySelector(`.${classPrefix}-text`);\n\t\t\tDom.attr(textContainer, 'contenteditable', !textContainer.isContentEditable);\n\t\t\tif (Type.isFunction(options.onEditClick))\n\t\t\t{\n\t\t\t\toptions.onEditClick(event);\n\t\t\t}\n\t\t};\n\n\t\tconst onEditorClick = (event) => {\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tconst onViewClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (Type.isFunction(options.onShowClick))\n\t\t\t{\n\t\t\t\toptions.onShowClick(event);\n\t\t\t}\n\t\t};\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${classPrefix} ${classPrefix}-${options.type}\">\n\t\t\t\t<div class=\"${classPrefix}-title\">\n\t\t\t\t\t${options.title}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${classPrefix}-inner\">\n\t\t\t\t\t<div class=\"${classPrefix}-header\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-header-view\" onclick=\"${onViewClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_SHOW')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-icon\"></div>\n\t\t\t\t\t<div class=\"${classPrefix}-text\" onclick=\"${onEditorClick}\" oninput=\"${options.onInput}\">\n\t\t\t\t\t\t${Text.encode(options.text)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-footer\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-footer-edit\" onclick=\"${onEditClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_EDIT')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonDocumentClick()\n\t{\n\t\tconst successInput = this.getSuccess().querySelector('.landing-ui-field-action-pages-page-text');\n\t\tconst failureInput = this.getFailure().querySelector('.landing-ui-field-action-pages-page-text');\n\n\t\tDom.attr(successInput, 'contenteditable', null);\n\t\tDom.attr(failureInput, 'contenteditable', null);\n\t}\n\n\tgetSuccess(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('success', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'success',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_SUCCESS_PAGE_TITLE'),\n\t\t\t\ttext: this.options.successText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailure(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('failure', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'failure',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_FAILURE_PAGE_TITLE'),\n\t\t\t\ttext: this.options.failureText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowFailure');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSuccessText(): string\n\t{\n\t\treturn this.getSuccess()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetFailureText(): string\n\t{\n\t\treturn this.getFailure()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tsuccess: this.getSuccessText(),\n\t\t\tfailure: this.getFailureText(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type2.svg\"","import {Dom, Text, Type} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ActionPagesField} from './internal/action-pages/action-pages';\n\nimport type1Icon from './images/type1.svg';\nimport type2Icon from './images/type2.svg';\n\nimport './css/style.css';\n\nexport default class ActionsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.ActionsContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-actions-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\n\t\tthis.getActionPages()\n\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t})\n\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\tthis.emit('onShowFailure');\n\t\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselectable: true,\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isStringFilled(this.options.values.success.url)\n\t\t\t\t\t\t&& Type.isStringFilled(this.options.values.failure.url)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 'type2';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn 'type1';\n\t\t\t\t})(),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_1'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type1',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_2'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type2',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCheckbox()\n\t{\n\t\treturn this.cache.remember('checkbox', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_ACTIONS_CHECKBOX_TITLE'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\t\t\tfield.setIcon(type1Icon);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetSuccessLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('successLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_SUCCESS_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.success.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailureLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('failureLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_FAILURE_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.failure.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('delayField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'redirectDelay',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_TITLE'),\n\t\t\t\tcontent: this.options.values.redirectDelay,\n\t\t\t\titems: Array.from({length: 11}, (item, index) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: `${index} ${Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_ITEM')}`,\n\t\t\t\t\t\tvalue: (index),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tonChange()\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetActionPages()\n\t{\n\t\treturn this.cache.remember('actionPages', () => {\n\t\t\treturn new ActionPagesField({\n\t\t\t\tsuccessText: this.options.values.success.text,\n\t\t\t\tfailureText: this.options.values.failure.text,\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(typeDropdown);\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1Icon);\n\t\t\tthis.addItem(this.getActionPages());\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2Icon);\n\t\t\tthis.addItem(this.getSuccessLinkField());\n\t\t\tthis.addItem(this.getFailureLinkField());\n\t\t\tthis.addItem(this.getDelayField());\n\t\t}\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst actionPagesValue = this.getActionPages().getValue();\n\t\tconst useRedirect = this.getTypeButtons().getValue() === 'type2';\n\n\t\treturn {\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: actionPagesValue.success,\n\t\t\t\t\turl: useRedirect ? Text.decode(this.getSuccessLinkField().getValue()) : '',\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: actionPagesValue.failure,\n\t\t\t\t\turl: useRedirect ? Text.decode(this.getFailureLinkField().getValue()) : '',\n\t\t\t\t},\n\t\t\t\tredirectDelay: this.getDelayField().getValue(),\n\t\t\t},\n\t\t};\n\t}\n}","import {Dom, Tag, Event, Text} from 'main.core';\nimport {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {PageObject} from 'landing.pageobject';\nimport {Button} from 'ui.buttons';\n\nimport './css/style.css';\n\nexport class EmbedField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.EmbedField');\n\t\tthis.setLayoutClass('landing-ui-field-embed');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getHeader(), this.layout);\n\t\tDom.append(this.input, this.layout);\n\n\t\tEvent.bind(this.input, 'click', this.onInputClick.bind(this));\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_COPY_BUTTON_LABEL'),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_COPIED_BUTTON_LABEL'));\n\n\t\tDom.addClass(this.getHeader(), 'landing-ui-field-embed-header-copied');\n\t}\n\n\tonInputClick(event: MouseEvent)\n\t{\n\t\tevent.preventDefault();\n\t\tthis.selectCode();\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.input);\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-embed-header\">\n\t\t\t\t\t<div class=\"landing-ui-field-embed-header-button\">\n\t\t\t\t\t\t${this.getCopyButton().render()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tsetValue(value: * = '')\n\t{\n\t\tthis.input.innerHTML = Text.encode(value);\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\n\nexport default class WidgetField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Filed.WidgetField');\n\t\tthis.setLayoutClass('landing-ui-filed-widget');\n\n\t\tDom.append(this.getInputWrapper(), this.layout);\n\t}\n\n\tgetInputWrapper(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('inputWrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-filed-widget-wrapper\">\n\t\t\t\t\t${this.input}\n\t\t\t\t\t${this.getSettingsButton().render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetSettingsButton(): Button\n\t{\n\t\treturn this.cache.remember('settingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_BUTTON_LABEL'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\ticon: Button.Icon.SETTING,\n\t\t\t});\n\t\t});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\nimport {Link} from 'landing.ui.component.link';\nimport {PageObject} from 'landing.pageobject';\n\nimport './css/style.css';\n\ntype CopyLinkFieldOptions = {\n\tlink: string,\n};\n\nexport default class CopyLinkField extends BaseField\n{\n\tconstructor(options: CopyLinkFieldOptions)\n\t{\n\t\tsuper(options);\n\t\tthis.setLayoutClass('landing-ui-field-copy-link');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getLink(), this.layout);\n\t\tDom.append(this.getCopyButton().render(), this.layout);\n\t}\n\n\tgetLink()\n\t{\n\t\treturn this.cache.remember('link', () => {\n\t\t\tconst link = new Link({\n\t\t\t\ttext: this.options.link,\n\t\t\t\thref: this.options.link,\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-copy-link-preview\">\n\t\t\t\t\t${link.getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_PUB_COPY_LINK_BUTTON_LABEL'),\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.getLink());\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_PUB_COPIED_LINK_BUTTON_LABEL'));\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport class PositionField extends BaseField\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper(options);\n\n\t\tthis.horizontal = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'horizontal',\n\t\t\tcontent: options.value.horizontal,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_LEFT'), value: 'left'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_CENTER'), value: 'center'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_RIGHT'), value: 'right'},\n\t\t\t],\n\t\t});\n\n\t\tthis.vertical = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'vertical',\n\t\t\tcontent: options.value.vertical,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_TOP'), value: 'top'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_BOTTOM'), value: 'bottom'},\n\t\t\t],\n\t\t});\n\n\t\tthis.horizontal.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tthis.vertical.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tconst fieldsInner = this.getFieldsInner();\n\n\t\tDom.append(this.horizontal.getLayout(), fieldsInner);\n\t\tDom.append(this.vertical.getLayout(), fieldsInner);\n\n\t\tDom.replace(this.input, fieldsInner);\n\t}\n\n\tgetFieldsInner(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('fieldsInner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-position-fields-inner\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetValue(): {vertical: string, horizontal: string}\n\t{\n\t\treturn {\n\t\t\tvertical: this.vertical.getValue(),\n\t\t\thorizontal: this.horizontal.getValue(),\n\t\t};\n\t}\n\n\tsetValue(value: {vertical: string, horizontal: string})\n\t{\n\t\tthis.vertical.setValue(value.vertical);\n\t\tthis.horizontal.setValue(value.horizontal);\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type2.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type3.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type4.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type5.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type6.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\n\nimport {EmbedField} from './internal/embedfield/embedfield';\nimport WidgetField from './internal/widgetfield/widgetfield';\nimport CopyLinkField from './internal/copylinkfield/copylinkfield';\nimport {PositionField} from './internal/positionfield/positionfield';\n\nimport type1icon from './images/type1.svg';\nimport type2icon from './images/type2.svg';\nimport type3icon from './images/type3.svg';\nimport type4icon from './images/type4.svg';\nimport type5icon from './images/type5.svg';\nimport type6icon from './images/type6.svg';\n\nimport './css/style.css';\n\nexport default class EmbedContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.EmbedContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-embed-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TYPE_FIELD_TITLE'),\n\t\t\t\titems: [1, 3, 4, 2, 5, 6].map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: `type${item}`,\n\t\t\t\t\t\ttitle: Loc.getMessage(`LANDING_FORM_EMBED_TYPE_${item}`),\n\t\t\t\t\t\ticon: `landing-ui-form-embed-type${item}`,\n\t\t\t\t\t\tsoon: [2, 5, 6].includes(item),\n\t\t\t\t\t\tdisabled: [2, 5, 6].includes(item),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t\tselectable: false,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetType1Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type1Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type3Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type4Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType5Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type5Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType8Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type8Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetEmbedField(): EmbedField\n\t{\n\t\treturn this.cache.remember('embedField', () => {\n\t\t\treturn new EmbedField({\n\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_CLICK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_AUTO_SHOW_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLinkTextField()\n\t{\n\t\treturn this.cache.remember('linkTextField', () => {\n\t\t\treturn new VariablesField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_TEXT_SETTINGS_FIELD_TITLE'),\n\t\t\t\tvariables: [\n\t\t\t\t\t{name: 'Test', value: 'test'},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Checkbox(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('type4checkbox', () => {\n\t\t\tconst field = new BX.Landing.UI.Field.Radio({\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_PAGE_LOADED'),\n\t\t\t\t\t\tvalue: 'pageLoaded',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\thtml: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_TIME'),\n\t\t\t\t\t\tvalue: 'afterTime',\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_SCROLL_TO_ANCHOR'),\n\t\t\t\t\t// \tvalue: 'scrollToAnchor',\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (this.options.values.views.auto.delay > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn ['afterTime'];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ['pageLoaded'];\n\t\t\t\t})(),\n\t\t\t});\n\n\t\t\tDom.replace(\n\t\t\t\tfield.layout.querySelector('.delay_time'),\n\t\t\t\tthis.getDelayDropdown().getLayout(),\n\t\t\t);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetWidgetField(): WidgetField\n\t{\n\t\treturn this.cache.remember('widgetField', () => {\n\t\t\treturn new WidgetField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_TITLE'),\n\t\t\t\tplaceholder: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_PLACEHOLDER'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCopyLinkField(): CopyLinkField\n\t{\n\t\treturn this.cache.remember('copyLinkField', () => {\n\t\t\treturn new CopyLinkField({\n\t\t\t\tlink: 'https://bitrix24.io/pub/my/form/link',\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayDropdown(): BX.Landing.UI.Field.DropdownInline\n\t{\n\t\treturn this.cache.remember('delayDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.DropdownInline({\n\t\t\t\tselector: 'showDelay',\n\t\t\t\tcontent: this.options.values.views.auto.delay,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '5c',\n\t\t\t\t\t\tvalue: '5',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '10c',\n\t\t\t\t\t\tvalue: '10',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '15c',\n\t\t\t\t\t\tvalue: '15',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t\tskipInitialEvent: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3PositionField()\n\t{\n\t\treturn this.cache.remember('type3PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4PositionField()\n\t{\n\t\treturn this.cache.remember('type4PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type3ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.click.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type4ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.auto.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tif (/type[1-6]$/.test(data.item.id))\n\t\t{\n\t\t\tthis.clear();\n\t\t\tthis.addItem(this.getHeader());\n\t\t\tthis.addItem(typeDropdown);\n\t\t}\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tconst embedField = this.getEmbedField();\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1icon);\n\t\t\tthis.addItem(this.getType1Message());\n\n\t\t\tembedField.setValue(this.options.values.scripts.inline.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2icon);\n\t\t\t// this.addItem(this.getType2Header());\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type3')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type3icon);\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tconst positionField = this.getType3PositionField();\n\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t});\n\n\t\t\tthis.addItem(this.getType3Message());\n\t\t\tthis.addItem(this.getType3Header());\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType3ShowTypeField());\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type4')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type4icon);\n\t\t\tthis.addItem(this.getType4Message());\n\t\t\tthis.addItem(this.getType4Header());\n\t\t\tthis.addItem(this.getType4Checkbox());\n\n\t\t\tconst positionField = this.getType4PositionField();\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t});\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType4ShowTypeField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type5')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type5icon);\n\t\t\tthis.addItem(this.getType5Message());\n\t\t\tthis.addItem(this.getWidgetField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type6')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type6icon);\n\t\t\tthis.addItem(this.getCopyLinkField());\n\t\t}\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst type3positionValue = this.getType3PositionField().getValue();\n\t\tconst type4positionValue = this.getType4PositionField().getValue();\n\n\t\treturn {\n\t\t\tembedding: {\n\t\t\t\tviews: {\n\t\t\t\t\tauto: {\n\t\t\t\t\t\tdelay: (() => {\n\t\t\t\t\t\t\tif (this.getType4Checkbox().getValue().includes('pageLoaded'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn this.getDelayDropdown().getValue();\n\t\t\t\t\t\t})(),\n\t\t\t\t\t\tposition: type4positionValue.horizontal,\n\t\t\t\t\t\tvertical: type4positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType4ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t\tclick: {\n\t\t\t\t\t\tposition: type3positionValue.horizontal,\n\t\t\t\t\t\tvertical: type3positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType3ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/identify/images/icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Reflection} from 'main.core';\n\nimport messageIcon from './images/icon.svg';\n\nexport default class Identify extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Identify');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_IDENTIFY_HEADER'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\theader: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\tangle: false,\n\t\t\tcloseable: false,\n\t\t\tmore: () => {\n\t\t\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\t\t\t\tif (helper)\n\t\t\t\t{\n\t\t\t\t\tBX.Helper.show('redirect=detail&code=12802786');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag, Type} from 'main.core';\n\nimport './css/style.css';\n\nconst fetchId = (item) => {\n\treturn !Type.isNil(item.ID) ? item.ID : item.id;\n};\n\nconst fetchName = (item) => {\n\treturn !Type.isNil(item.NAME) ? item.NAME : item.name;\n};\n\nexport default class StageField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tDom.replace(this.input, this.getInner());\n\t}\n\n\tgetInner()\n\t{\n\t\treturn this.cache.remember('inner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-stages\">\n\t\t\t\t\t${this.getCategoriesDropdown().getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCategoriesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('categoriesDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: this.options.listTitle || Loc.getMessage('LANDING_FORM_SETTINGS_CATEGORIES_FIELD_TITLE'),\n\t\t\t\tcontent: this.options.value.category,\n\t\t\t\titems: this.options.categories.map((category) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: fetchName(category),\n\t\t\t\t\t\tvalue: fetchId(category),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onCategoryChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCurrentCategory()\n\t{\n\t\tconst currentCategoryId = this.getCategoriesDropdown().getValue();\n\n\t\treturn this.options.categories.find((category) => {\n\t\t\treturn String(fetchId(category)) === String(currentCategoryId);\n\t\t});\n\t}\n\n\tonCategoryChange()\n\t{\n\t\tthis.emit('onChange');\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tcategory: this.getCategoriesDropdown().getValue(),\n\t\t\tstage: '',\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/crm/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Text, Type} from 'main.core';\nimport StageField from './internal/stagefield/stagefield';\n\nimport messageIcon from './images/message-icon.svg';\n\nimport './css/style.css';\n\nexport default class CrmContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.CrmContent');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\t\tif (this.isDynamicAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getDynamicEntitySettingsForm());\n\t\t}\n\n\t\tthis.addItem(this.getExpertSettingsForm());\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tisDynamicAvailable(): boolean\n\t{\n\t\treturn Type.isArrayFilled(this.options.formDictionary.document.dynamic);\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesField(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('duplicatesField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Radio({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_FIELD_TITLE'),\n\t\t\t\tselector: 'duplicateMode',\n\t\t\t\tvalue: [this.options.values.duplicateMode ? this.options.values.duplicateMode : 'ALLOW'],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_ALLOW'),\n\t\t\t\t\t\tvalue: 'ALLOW',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_REPLACE'),\n\t\t\t\t\t\tvalue: 'REPLACE',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_MERGE'),\n\t\t\t\t\t\tvalue: 'MERGE',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPaymentField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('paymentField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'payment',\n\t\t\t\tvalue: [this.options.values.payment],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_SHOW_PAYMENT'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetOrderSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('formSettingsForm', () => {\n\t\t\tconst scheme = this.getSchemeById(this.options.values.scheme);\n\t\t\tconst isOpened = (() => {\n\t\t\t\tif (scheme && scheme.dynamic === true)\n\t\t\t\t{\n\t\t\t\t\treturn String(scheme.id).endsWith('1');\n\t\t\t\t}\n\n\t\t\t\treturn Text.toNumber(this.options.values.scheme) > 4\n\t\t\t})();\n\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_HEADER'),\n\t\t\t\ttoggleable: true,\n\t\t\t\topened: isOpened,\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPaymentField(),\n\t\t\t\t\tnew MessageCard({\n\t\t\t\t\t\tid: 'orderMessage',\n\t\t\t\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_HEADER'),\n\t\t\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_DESCRIPTION'),\n\t\t\t\t\t\tangle: false,\n\t\t\t\t\t\ticon: messageIcon,\n\t\t\t\t\t\trestoreState: true,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType1Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type1header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDynamicHeader(headerText: string): HeaderCard\n\t{\n\t\tconst header = this.cache.remember('dynamicHeader', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: '',\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\n\t\tif (Type.isString(headerText))\n\t\t{\n\t\t\theader.setTitle(headerText);\n\t\t}\n\n\t\treturn header;\n\t}\n\n\tgetDynamicEntitiesField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('dynamicEntitiesField', () => {\n\t\t\tconst currentScheme = this.getSchemeById(this.options.values.scheme);\n\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'dynamicScheme',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_SMART_ENTITY_LIST'),\n\t\t\t\titems: this.options.formDictionary.document.dynamic.map((scheme) => {\n\t\t\t\t\treturn {name: scheme.name, value: scheme.id};\n\t\t\t\t}),\n\t\t\t\tcontent: currentScheme.mainEntity,\n\t\t\t\tonChange: () => {\n\t\t\t\t\tthis.onTypeChange(\n\t\t\t\t\t\tnew BaseEvent({\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\t\tid: this.getSelectedSchemeId(),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDynamicEntitySettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('dynamicEntitySettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\topened: true,\n\t\t\t\thidden: true,\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getDynamicEntitiesField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetExpertSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('expertSettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_EXPERT_MODE'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Link,\n\t\t\t\topened: false,\n\t\t\t\tfields: [\n\t\t\t\t\tnew HeaderCard({\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t}),\n\t\t\t\t\tthis.getDuplicatesField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypesField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typesField', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.onTypeChange(\n\t\t\t\t\tnew BaseEvent({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\tid: this.options.values.scheme,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tconst items = [\n\t\t\t\t{\n\t\t\t\t\tid: '2',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type2',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '3',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type3',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '4',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type4',\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tif (this.isDynamicAvailable())\n\t\t\t{\n\t\t\t\titems.push({\n\t\t\t\t\tid: 'smart',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_5'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type5',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.options.isLeadEnabled)\n\t\t\t{\n\t\t\t\titems.unshift({\n\t\t\t\t\tid: '1',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type1',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'scheme',\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (String(this.options.values.scheme) === '8')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '5')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '6')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '7')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 4;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst scheme = this.getSchemeById(this.options.values.scheme);\n\t\t\t\t\tif (Type.isPlainObject(scheme) && scheme.dynamic === true)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 'smart';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.options.values.scheme;\n\t\t\t\t})(),\n\t\t\t\titems,\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\t\n\tgetStagesField()\n\t{\n\t\treturn this.cache.remember('stagesField', () => {\n\t\t\treturn new StageField({\n\t\t\t\tcategories: this.options.categories,\n\t\t\t\tvalue: {\n\t\t\t\t\tcategory: this.options.values.category,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDynamicCategoriesField(schemeId: string | number)\n\t{\n\t\treturn this.cache.remember(`dynamicCategories#${schemeId}`, () => {\n\t\t\tconst scheme = this.getDynamicSchemeById(schemeId);\n\t\t\treturn new StageField({\n\t\t\t\tlistTitle: Loc.getMessage('LANDING_FORM_SETTINGS_SMART_STAGES_FIELD_TITLE'),\n\t\t\t\tcategories: scheme.categories,\n\t\t\t\tvalue: {\n\t\t\t\t\tcategory: this.options.values.dynamicCategory,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesEnabledField()\n\t{\n\t\treturn this.cache.remember('duplicatesEnabledField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'duplicatesEnabled',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [this.options.values.duplicatesEnabled],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_DUPLICATES_ENABLED'),\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSchemeById(id: number)\n\t{\n\t\treturn this.options.formDictionary.document.schemes.find((scheme) => {\n\t\t\treturn (\n\t\t\t\t(String(scheme.id) === String(id))\n\t\t\t\t|| (\n\t\t\t\t\tid === 'smart'\n\t\t\t\t\t&& scheme.dynamic\n\t\t\t\t\t&& String(scheme.id) === String(this.getSelectedSchemeId())\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\t}\n\n\t getDynamicSchemeById(id: number)\n\t{\n\t\tconst {mainEntity} = this.getSchemeById(id);\n\t\treturn this.options.formDictionary.document.dynamic.find((scheme) => {\n\t\t\treturn String(scheme.id) === String(mainEntity);\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst {item} = event.getData();\n\t\tconst scheme = this.getSchemeById(item.id);\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\t\tif (this.isDynamicAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getDynamicEntitySettingsForm());\n\t\t\tthis.getDynamicEntitySettingsForm().hide();\n\t\t}\n\n\t\tconst expertSettingsForm = this.getExpertSettingsForm();\n\t\texpertSettingsForm.clear();\n\n\t\tif (String(item.id) === '1' || String(item.id) === '8')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType1Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '2' || String(item.id) === '5')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType2Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '3' || String(item.id) === '6')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType3Header());\n\t\t\texpertSettingsForm.addField(this.getStagesField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesEnabledField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '4' || String(item.id) === '7')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType4Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (\n\t\t\t(\n\t\t\t\tText.toNumber(item.id) > 4\n\t\t\t\t&& Type.isPlainObject(scheme)\n\t\t\t\t&& scheme.dynamic !== true\n\t\t\t)\n\t\t\t|| this.getOrderSettingsForm().isOpened()\n\t\t)\n\t\t{\n\t\t\tthis.getOrderSettingsForm().onSwitchChange(true);\n\t\t}\n\n\t\tif (\n\t\t\tType.isPlainObject(scheme)\n\t\t\t&& (String(item.id) === 'smart' || scheme.dynamic === true)\n\t\t\t&& this.isDynamicAvailable()\n\t\t)\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getDynamicHeader(scheme.name));\n\t\t\texpertSettingsForm.addField(this.getDynamicCategoriesField(scheme.id));\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\n\t\t\tif (String(scheme.id).endsWith('1'))\n\t\t\t{\n\t\t\t\tthis.getOrderSettingsForm().onSwitchChange(true);\n\t\t\t}\n\n\t\t\tthis.getDynamicEntitySettingsForm().show();\n\t\t}\n\n\t\tthis.addItem(expertSettingsForm);\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tgetSelectedSchemeId(): number\n\t{\n\t\tconst typeId = this.getTypesField().getValue();\n\t\tif (String(typeId) === 'smart')\n\t\t{\n\t\t\tconst entityId = this.getDynamicEntitiesField().getValue();\n\t\t\tif (this.getOrderSettingsForm().isOpened())\n\t\t\t{\n\t\t\t\treturn `${entityId}1`;\n\t\t\t}\n\n\t\t\treturn `${entityId}0`;\n\t\t}\n\n\t\treturn typeId;\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst duplicateMode = this.getDuplicatesField().getValue()[0];\n\t\tconst reducedValue = {\n\t\t\tduplicateMode: duplicateMode === 'ALLOW' ? '' : duplicateMode,\n\t\t\tscheme: this.getSelectedSchemeId(),\n\t\t\tdeal: {\n\t\t\t\tduplicatesEnabled: Text.toBoolean(this.getDuplicatesEnabledField().getValue()[0]),\n\t\t\t},\n\t\t\tpayment: {\n\t\t\t\tuse: this.getPaymentField().getValue().length > 0,\n\t\t\t},\n\t\t\tdynamic: {\n\t\t\t\tcategory: null,\n\t\t\t},\n\t\t};\n\n\t\tif (this.getOrderSettingsForm().isOpened())\n\t\t{\n\t\t\tif (String(reducedValue.scheme) === '1')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '8';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '2')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '5';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '3')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '6';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '4')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '7';\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tString(reducedValue.scheme) === '3'\n\t\t\t|| String(reducedValue.scheme) === '6'\n\t\t)\n\t\t{\n\t\t\treducedValue.deal.category = this.getStagesField().getValue().category;\n\t\t}\n\n\t\tconst scheme = this.getSchemeById(reducedValue.scheme);\n\t\tif (Type.isPlainObject(scheme) && scheme.dynamic)\n\t\t{\n\t\t\treducedValue.dynamic.category = this.getDynamicCategoriesField(scheme.id).getValue().category;\n\t\t}\n\n\t\treturn {\n\t\t\tdocument: reducedValue,\n\t\t};\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {DefaultValueField} from 'landing.ui.field.defaultvaluefield';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {Dom} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class DefaultValues extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.DefaultValues');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'defaultValueMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_DESCRIPTION'),\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew DefaultValueField({\n\t\t\t\t\tselector: 'presetFields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tpersonalizationVariables: this.options.personalizationVariables,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\tdictionary: {\n\t\t\t\t\t\t...this.options.dictionary,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\tconst layout = super.getLayout();\n\t\tDom.addClass(layout, 'landing-ui-default-fields-values');\n\n\t\treturn layout;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport {type FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class FacebookContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FacebookContent');\n\n\t\tthis.addItem(\n\t\t\tnew HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\t\t}),\n\t\t);\n\n\t\tif (this.options.formOptions.integration.canUse)\n\t\t{\n\t\t\tconst buttonCard = new BaseCard();\n\t\t\tconst button = new Button({\n\t\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=facebook`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tDom.style(buttonCard.getLayout(), {\n\t\t\t\tpadding: 0,\n\t\t\t\tmargin: 0,\n\t\t\t});\n\n\t\t\tDom.append(button.render(), buttonCard.getBody());\n\t\t\tthis.addItem(buttonCard);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(\n\t\t\t\tnew MessageCard({\n\t\t\t\t\theader: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_HEADER'),\n\t\t\t\t\tdescription: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_FB_TEXT'),\n\t\t\t\t\tangle: false,\n\t\t\t\t\tcloseable: false,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'facebook';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport type {FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class VkContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.VkContent');\n\n\t\tthis.addItem(\n\t\t\tnew HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\t\t}),\n\t\t);\n\n\t\tif (this.options.formOptions.integration.canUse)\n\t\t{\n\t\t\tconst buttonCard = new BaseCard();\n\t\t\tconst button = new Button({\n\t\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=vkontakte`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tDom.style(buttonCard.getLayout(), {\n\t\t\t\tpadding: 0,\n\t\t\t\tmargin: 0,\n\t\t\t});\n\n\t\t\tDom.append(button.render(), buttonCard.getBody());\n\t\t\tthis.addItem(buttonCard);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(\n\t\t\t\tnew MessageCard({\n\t\t\t\t\theader: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_HEADER'),\n\t\t\t\t\tdescription: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_VK_TEXT'),\n\t\t\t\t\tangle: false,\n\t\t\t\t\tcloseable: false,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'vkontakte';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Text} from 'main.core';\nimport {BaseEvent} from 'main.core.events';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class Callback extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Callback');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!this.isAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getWarningMessage());\n\t\t\tthis.getSettingsForm().disable();\n\t\t}\n\n\t\tthis.addItem(this.getSettingsForm());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetWarningMessage()\n\t{\n\t\treturn this.cache.remember('warningMessage', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_HEADER'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tisAvailable(): boolean\n\t{\n\t\treturn this.cache.remember('isAvailable', () => {\n\t\t\treturn this.options.dictionary.callback.from.length > 0;\n\t\t});\n\t}\n\n\tgetSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('settingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Switch,\n\t\t\t\topened: this.isAvailable() && Text.toBoolean(this.options.values.use),\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPhoneListField(),\n\t\t\t\t\tthis.getTextField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseCheckboxField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useCheckboxField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'use',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [Text.toBoolean(this.options.values.use)],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPhoneListField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('phoneListField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'from',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_PHONE_TITLE'),\n\t\t\t\tcontent: this.options.values.from,\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_DEFAULT_PHONE_NOT_SELECTED'), value: ''},\n\t\t\t\t\t...this.options.dictionary.callback.from.map((item) => {\n\t\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTextField()\n\t{\n\t\treturn this.cache.remember('textField', () => {\n\t\t\treturn new TextField({\n\t\t\t\tselector: 'text',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TEXT_TITLE'),\n\t\t\t\tcontent: this.options.values.text,\n\t\t\t\ttextOnly: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tcallback: {\n\t\t\t\t...value,\n\t\t\t\tuse: this.getSettingsForm().isOpened(),\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {TagSelector} from 'ui.entity-selector';\nimport {PageObject} from 'landing.pageobject';\nimport {Dom} from 'main.core';\n\nexport default class UserSelectorField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tDom.removeClass(this.input, 'landing-ui-field-input');\n\n\t\tthis.getTagSelector().renderTo(this.input);\n\t}\n\n\tgetTagSelector(): TagSelector\n\t{\n\t\treturn this.cache.remember('tagSelector', () => {\n\t\t\tconst root = PageObject.getRootWindow();\n\t\t\treturn new root.BX.UI.EntitySelector.TagSelector({\n\t\t\t\tid: 'user-selector',\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tid: 'user-selector',\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'user',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tactiveUsers: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tpreselectedItems: this.options.value,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t'Item:onSelect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'Item:onDeselect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue(): Array<number>\n\t{\n\t\treturn this.getTagSelector().getDialog().getSelectedItems().map((item) => {\n\t\t\treturn item.id;\n\t\t});\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {BaseEvent} from 'main.core.events';\nimport {Reflection, Type} from 'main.core';\nimport UserSelectorField from './internal/userselectorfield/userselectorfield';\n\nimport './css/style.css';\n\nexport default class Other extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE'),\n\t\t});\n\n\t\tconst otherForm = new FormSettingsForm({\n\t\t\tid: 'other',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tthis.getNameField(),\n\t\t\t\tthis.getUserSelectorField(),\n\t\t\t\tthis.getCheckWorkTimeField(),\n\t\t\t\tthis.getLanguageField(),\n\t\t\t\tthis.getUseSignField(),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(otherForm);\n\t}\n\n\tcanRemoveCopyrights(): boolean\n\t{\n\t\treturn this.options.dictionary.sign.canRemove;\n\t}\n\n\tgetNameField(): TextField\n\t{\n\t\treturn this.cache.remember('nameField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE_NAME_TITLE'),\n\t\t\t\tselector: 'name',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.name,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseSignField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useSignField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'useSign',\n\t\t\t\tvalue: this.options.values.useSign ? ['useSign'] : [],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'useSign',\n\t\t\t\t\t\thtml: `${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_SHOW_SIGN')}${this.createCopyRight()}`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tcompact: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUserSelectorField()\n\t{\n\t\treturn this.cache.remember('userSelectorField', () => {\n\t\t\treturn new UserSelectorField({\n\t\t\t\tselector: 'users',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_USER'),\n\t\t\t\tvalue: this.options.values.users.reduce((acc, item) => {\n\t\t\t\t\tif (Type.isStringFilled(item) || Type.isNumber(item))\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push(['user', item]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCheckWorkTimeField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('checkWorkTimeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'checkWorkTime',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [this.options.values.checkWorkTime],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_OTHER_CHECK_WORK_TIME'), value: 'Y'},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLanguageField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('language', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'language',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_LANGUAGE'),\n\t\t\t\titems: this.options.dictionary.languages.map((item) => {\n\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t}),\n\t\t\t\tcontent: this.options.values.language,\n\t\t\t});\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tcreateCopyRight(): string\n\t{\n\t\treturn `\n\t\t\t<span class=\"landing-ui-signin\">\n\t\t\t\t<span class=\"landing-ui-sign\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-in\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN_BY')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-24\">24</span>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tname: value.name,\n\t\t\tdata: {\n\t\t\t\tlanguage: this.getLanguageField().getValue(),\n\t\t\t\tuseSign: value.useSign.includes('useSign'),\n\t\t\t},\n\t\t\tresponsible: {\n\t\t\t\tusers: value.users,\n\t\t\t\tcheckWorkTime: value.checkWorkTime[0] === 'Y' ? 'Y' : 'N',\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tif (!this.canRemoveCopyrights())\n\t\t{\n\t\t\tconst checkbox = this.getUseSignField();\n\n\t\t\tif (!checkbox.getValue().includes('useSign'))\n\t\t\t{\n\t\t\t\tcheckbox.setValue(['useSign']);\n\t\t\t\tif (Type.isStringFilled(this.options.dictionary.restriction.helper))\n\t\t\t\t{\n\t\t\t\t\tconst evalGlobal = Reflection.getClass('BX.evalGlobal');\n\t\t\t\t\tif (Type.isFunction(evalGlobal))\n\t\t\t\t\t{\n\t\t\t\t\t\tevalGlobal(this.options.dictionary.restriction.helper);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Loc} from 'landing.loc';\nimport {SidebarButton} from 'landing.ui.button.sidebarbutton';\n\nconst sidebarButtons = [\n\tnew SidebarButton({\n\t\tid: 'fields',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FIELDS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'agreements',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_AGREEMENT'),\n\t\tchild: true,\n\t\timportant: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'crm',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ENTITY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'identify',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_CLIENT_IDENTIFY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'button_and_header',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_HEADER_AND_BUTTON'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'spam_protection',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_SPAM_PROTECTION'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'fields_rules',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_FIELDS_RULES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'actions',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ACTIONS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'default_values',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_VALUES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'analytics',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_ANALYTICS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'facebook',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'vk',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'callback',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CALLBACK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'embed',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_EMBED'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'more',\n\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_MORE_BUTTON_TEXT'),\n\t\tclassName: 'landing-ui-button-sidebar-more',\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'other',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_OTHER'),\n\t\tchild: true,\n\t}),\n];\n\nexport default sidebarButtons;","import {Loc} from 'landing.loc';\nimport {PresetCategory} from 'landing.ui.panel.basepresetpanel';\n\nconst presetCategories = [\n\tnew PresetCategory({\n\t\tid: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_PRODUCTS_2'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_SOCIAL'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM_AUTOMATION'),\n\t}),\n];\n\nexport default presetCategories;","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/integration.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/autoshow.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/revertcall.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/vk.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/facebook.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/crm.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/service.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/products1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/products2.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/products3.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/products4.svg\"","import {Loc} from 'landing.loc';\nimport {Preset} from 'landing.ui.panel.basepresetpanel';\nimport siteIcon from '../images/icons/integration.svg';\nimport widgetAutoShowIcon from '../images/icons/autoshow.svg';\nimport callbackIcon from '../images/icons/revertcall.svg';\nimport vkIcon from '../images/icons/vk.svg';\nimport facebookIcon from '../images/icons/facebook.svg';\nimport crmFormIcon from '../images/icons/crm.svg';\nimport serviceIcon from '../images/icons/service.svg';\nimport product1Icon from '../images/icons/products1.svg';\nimport product2Icon from '../images/icons/products2.svg';\nimport product3Icon from '../images/icons/products3.svg';\nimport product4Icon from '../images/icons/products4.svg';\nimport smartIcon from '../images/icons/smart.svg';\n\nconst presets = [\n\tnew Preset({\n\t\tid: 'contacts',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_DESCRIPTION'),\n\t\ticon: siteIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'contacts',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_LAST_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'feedback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_DESCRIPTION'),\n\t\ticon: widgetAutoShowIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'feedback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{name: 'LEAD_COMMENTS'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'callback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_DESCRIPTION'),\n\t\ticon: callbackIcon,\n\t\tdefaultSection: 'callback',\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'callback',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'callback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'expert',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT_DESCRIPTION'),\n\t\ticon: serviceIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'identify',\n\t\t\t'button_and_header',\n\t\t\t'spam_protection',\n\t\t\t'fields_rules',\n\t\t\t'actions',\n\t\t\t'default_values',\n\t\t\t'analytics',\n\t\t\t'facebook',\n\t\t\t'vk',\n\t\t\t'callback',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'expert',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'products1',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_1'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_1_DESCRIPTION'),\n\t\ticon: product1Icon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'products1',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_1'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{type: 'product', bigPic: false},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'products2',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_2'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_2_DESCRIPTION'),\n\t\ticon: product2Icon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'products2',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_2'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{type: 'product', bigPic: false},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tdocument: {\n\t\t\t\tscheme: 8,\n\t\t\t},\n\t\t\tpayment: {use: true},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'products3',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_3'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_3_DESCRIPTION'),\n\t\ticon: product3Icon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'products3',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_3'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{type: 'product', bigPic: false},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'products4',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_4'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_4_DESCRIPTION'),\n\t\ticon: product4Icon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'products4',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCT_4'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{type: 'product', bigPic: true},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'vk',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK_DESCRIPTION'),\n\t\ticon: vkIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\tnew Preset({\n\t\tid: 'facebook',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB_DESCRIPTION'),\n\t\ticon: facebookIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\n\tnew Preset({\n\t\tid: 'personalisation',\n\t\tcategory: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION_DESCRIPTION'),\n\t\ticon: crmFormIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n];\n\nexport default presets;","import {BasePresetPanel, Preset, ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {PageObject} from 'landing.pageobject';\nimport {Loc} from 'landing.loc';\nimport {Dom, Reflection, Runtime, Tag, Text, Type, Uri} from 'main.core';\nimport type {BaseEvent} from 'main.core.events';\nimport {Backend} from 'landing.backend';\nimport {Loader} from 'main.loader';\nimport {FormClient} from 'crm.form.client';\nimport {Button} from 'ui.buttons';\nimport {Env} from 'landing.env';\nimport {StylePanel} from 'landing.ui.panel.stylepanel';\nimport {MessageBox} from 'ui.dialogs.messagebox';\nimport type {FormDictionary, FormOptions} from 'crm.form.type';\nimport {Alert, AlertColor} from 'ui.alerts';\n\nimport HeaderAndButtonContent from './internal/content/header-and-buttons/header-and-buttons';\nimport AgreementsContent from './internal/content/agreements/agreements';\nimport SpamProtection from './internal/content/spam-protection/spam-protection';\nimport AnalyticsContent from './internal/content/analytics/analytics';\nimport FieldsContent from './internal/content/fields/fields';\nimport FieldsRulesContent from './internal/content/fields-rules/fields-rules';\nimport ActionsContent from './internal/content/actions/actions';\nimport EmbedContent from './internal/content/embed/embed';\nimport Identify from './internal/content/identify/identify';\nimport CrmContent from './internal/content/crm/crm';\nimport DefaultValues from './internal/content/defaultvalues/defaultvalues';\nimport FacebookContent from './internal/content/facebook/facebook';\nimport VkContent from './internal/content/vk/vk';\nimport Callback from './internal/content/callback/callback';\nimport Other from './internal/content/other/other';\n\nimport sidebarButtons from './internal/sidebar-buttons';\nimport presetCategories from './internal/preset-categories';\nimport presets from './internal/presets';\n\nimport './css/style.css';\n\ntype CrmField = {\n\ttype: 'list' | 'string' | 'checkbox' | 'date' | 'text' | 'typed_string' | 'file',\n\tentity_field_name: string,\n\tentity_name: string,\n\tname: string,\n\tcaption: string,\n\tmultiple: boolean,\n\trequired: boolean,\n\thidden: boolean,\n\titems: Array<{ID: any, VALUE: any}>,\n};\n\ntype CrmFieldsList = {\n\t[categoryId: string]: {\n\t\tCAPTION: string,\n\t\tFIELDS: Array<CrmField>\n\t},\n};\n\ntype CrmCompany = {\n\tID: string,\n\tTITLE: string,\n};\n\ntype CrmCategory = {\n\n};\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class FormSettingsPanel extends BasePresetPanel\n{\n\tstatic getInstance(): FormSettingsPanel\n\t{\n\t\tconst rootWindow = PageObject.getRootWindow();\n\t\tconst rootWindowPanel = rootWindow.BX.Landing.UI.Panel.FormSettingsPanel;\n\t\tif (!rootWindowPanel.instance && !FormSettingsPanel.instance)\n\t\t{\n\t\t\trootWindowPanel.instance = new FormSettingsPanel();\n\t\t}\n\n\t\treturn (rootWindowPanel.instance || FormSettingsPanel.instance);\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel');\n\t\tthis.setTitle(Loc.getMessage('LANDING_FORM_SETTINGS_PANEL_TITLE'));\n\n\t\tthis.disableOverlay();\n\n\t\tconst preparedSidebarButtons = sidebarButtons.filter((button) => {\n\t\t\treturn this.isCrmFormPage() || button.id !== 'embed';\n\t\t});\n\n\t\tthis.setSidebarButtons(preparedSidebarButtons);\n\t\tthis.setCategories(presetCategories);\n\n\t\tconst filteredPresets = presets.filter((preset) => {\n\t\t\treturn (\n\t\t\t\tLoc.getMessage('LANGUAGE_ID') === 'ru'\n\t\t\t\t|| (\n\t\t\t\t\tLoc.getMessage('LANGUAGE_ID') !== 'ru'\n\t\t\t\t\t&& preset.options.id !== 'vk'\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\n\t\tthis.setPresets(filteredPresets);\n\n\t\tif (!this.isCrmFormPage())\n\t\t{\n\t\t\tDom.append(this.getBlockSettingsButton().render(), this.getRightHeaderControls());\n\t\t}\n\n\t\tthis.subscribe('onCancel', this.onCancelClick.bind(this));\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisCrmFormPage(): boolean\n\t{\n\t\treturn Env.getInstance().getOptions().specialType === 'crm_forms';\n\t}\n\n\tgetBlockSettingsButton()\n\t{\n\t\treturn this.cache.remember('blockSettingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_BLOCK_SETTINGS_BUTTON_TEXT'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: this.onBlockSettingsButtonClick.bind(this),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t});\n\t\t});\n\t}\n\n\tonBlockSettingsButtonClick()\n\t{\n\t\tif (this.getCurrentBlock())\n\t\t{\n\t\t\tthis.hide()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getCurrentBlock().showContentPanel();\n\t\t\t\t});\n\t\t}\n\t}\n\n\tgetLoader(): Loader\n\t{\n\t\treturn this.cache.remember('loader', () => {\n\t\t\treturn new Loader({\n\t\t\t\ttarget: this.body,\n\t\t\t});\n\t\t});\n\t}\n\n\tshowLoader()\n\t{\n\t\tvoid this.getLoader().show();\n\t\tDom.hide(this.sidebar);\n\t\tDom.hide(this.content);\n\t\tDom.hide(this.getPresetField().getLayout());\n\t}\n\n\thideLoader()\n\t{\n\t\tthis.getLoader().hide();\n\t\tDom.show(this.sidebar);\n\t\tDom.show(this.content);\n\t\tDom.show(this.getPresetField().getLayout());\n\t}\n\n\tload(options = {}): Promise<any>\n\t{\n\t\tif (options.showWithOptions)\n\t\t{\n\t\t\tconst editorData = Env.getInstance().getOptions().formEditorData;\n\n\t\t\tthis.setCrmFields(editorData.crmFields);\n\t\t\tthis.setCrmCompanies(editorData.crmCompanies);\n\t\t\tthis.setCrmCategories(editorData.crmCategories);\n\t\t\tthis.setAgreements(editorData.agreements);\n\n\t\t\tconst currentOptions = Runtime.clone(editorData.formOptions);\n\t\t\tif (currentOptions.agreements.use !== true)\n\t\t\t{\n\t\t\t\tcurrentOptions.agreements.use = true;\n\t\t\t\tcurrentOptions.data.agreements = [];\n\t\t\t}\n\n\t\t\tthis.setFormOptions(currentOptions);\n\t\t\tthis.setFormDictionary(editorData.dictionary);\n\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst crmData = Backend.getInstance()\n\t\t\t.batch('Form::getCrmFields', {\n\t\t\t\tcrmFields: {\n\t\t\t\t\taction: 'Form::getCrmFields',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCompanies: {\n\t\t\t\t\taction: 'Form::getCrmCompanies',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCategories: {\n\t\t\t\t\taction: 'Form::getCrmCategories',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tagreements: {\n\t\t\t\t\taction: 'Form::getAgreements',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setCrmFields(result.crmFields.result);\n\t\t\t\tthis.setCrmCompanies(result.crmCompanies.result);\n\t\t\t\tthis.setCrmCategories(result.crmCategories.result);\n\t\t\t\tthis.setAgreements(result.agreements.result);\n\t\t\t});\n\n\t\tconst formOptions = FormClient.getInstance()\n\t\t\t.getOptions(this.getCurrentFormId())\n\t\t\t.then((options) => {\n\t\t\t\tconst currentOptions = Runtime.clone(options);\n\t\t\t\tif (currentOptions.agreements.use !== true)\n\t\t\t\t{\n\t\t\t\t\tcurrentOptions.agreements.use = true;\n\t\t\t\t\tcurrentOptions.data.agreements = [];\n\t\t\t\t}\n\n\t\t\t\tthis.setFormOptions(currentOptions);\n\t\t\t});\n\n\t\tconst formDictionary = FormClient.getInstance()\n\t\t\t.getDictionary()\n\t\t\t.then((dictionary) => {\n\t\t\t\tthis.setFormDictionary(dictionary);\n\t\t\t});\n\n\t\treturn Promise.all([\n\t\t\tcrmData,\n\t\t\tformOptions,\n\t\t\tformDictionary,\n\t\t]);\n\t}\n\n\tsetAgreements(agreements)\n\t{\n\t\tthis.cache.set('agreements', Runtime.orderBy(agreements, ['id'], ['asc']));\n\t}\n\n\tgetAgreements(): Array<{[key: string]: any}>\n\t{\n\t\treturn this.cache.get('agreements');\n\t}\n\n\tisLeadEnabled(): boolean\n\t{\n\t\treturn this.getFormDictionary().document.lead.enabled;\n\t}\n\n\tsetCurrentBlock(block: BX.Landing.Block)\n\t{\n\t\tthis.cache.set('currentBlock', block);\n\t}\n\n\tgetCurrentBlock(): ?BX.Landing.Block\n\t{\n\t\treturn this.cache.get('currentBlock');\n\t}\n\n\tgetSaveOriginalFileNameAlert(): HTMLElement\n\t{\n\t\treturn this.cache.remember('saveOriginalFileNameAlert', () => {\n\t\t\tconst alert = new Alert({\n\t\t\t\ttext: Loc.getMessage('LANDING_CRM_FORM_MAIN_OPTION_WARNING'),\n\t\t\t\tcolor: AlertColor.WARNING,\n\t\t\t});\n\n\t\t\treturn alert.render();\n\t\t});\n\t}\n\n\tshow(\n\t\toptions: {\n\t\t\tformId: number,\n\t\t\tinstanceId: number,\n\t\t\tstate?: 'presets',\n\t\t\tformOptions?: ?{[key: string]: any},\n\t\t\tshowWithOptions: true,\n\t\t} = {\n\t\t\tformOptions: {},\n\t\t},\n\t): Promise<any>\n\t{\n\t\tif (!this.layout.parentNode)\n\t\t{\n\t\t\tthis.enableToggleMode();\n\t\t}\n\n\t\tif (!this.isFormCreated())\n\t\t{\n\t\t\tthis.disableTransparentMode();\n\t\t}\n\n\t\tconst {mainOptions} = Env.getInstance().getOptions();\n\t\tif (mainOptions.saveOriginalFileName === false)\n\t\t{\n\t\t\tthis.prependContent(\n\t\t\t\tthis.getSaveOriginalFileNameAlert(),\n\t\t\t);\n\n\t\t\tconst closeButtonTop = Text.toNumber(Dom.style(this.closeButton.getLayout(), 'top'));\n\t\t\tconst alertHeight = this.getSaveOriginalFileNameAlert().getBoundingClientRect().height;\n\n\t\t\tDom.style(this.closeButton.getLayout(), 'top', `${closeButtonTop + alertHeight}px`);\n\t\t}\n\n\t\tthis.setCurrentBlock(options.block);\n\t\tthis.setCurrentFormId(options.formId);\n\t\tthis.setCurrentFormInstanceId(options.instanceId);\n\n\t\tthis.showLoader();\n\n\t\tthis.load(options)\n\t\t\t.then(() => {\n\t\t\t\tthis.hideLoader();\n\n\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\tif (!this.isLeadEnabled())\n\t\t\t\t{\n\t\t\t\t\tconst presets = this.getPresets().map((preset: Preset) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tType.isPlainObject(preset.options.options)\n\t\t\t\t\t\t\t&& Type.isPlainObject(preset.options.options.data)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isArrayFilled(preset.options.options.data.fields))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.data.fields = preset.options.options.data.fields.map((field) => {\n\t\t\t\t\t\t\t\t\tconst preparedField = {...field};\n\t\t\t\t\t\t\t\t\tif (Type.isStringFilled(field.name))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tpreparedField.name = field.name.replace(/^LEAD_/, 'CONTACT_');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn preparedField;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (Type.isPlainObject(preset.options.options.document))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.document.scheme = 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn preset;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setPresets(presets);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isPlainObject(options.formOptions))\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = Runtime.merge(\n\t\t\t\t\t\tthis.getFormOptions(),\n\t\t\t\t\t\toptions.formOptions,\n\t\t\t\t\t);\n\t\t\t\t\tthis.setFormOptions(formOptions);\n\t\t\t\t}\n\n\t\t\t\tif (options.state === 'presets')\n\t\t\t\t{\n\t\t\t\t\tconst presetFromRequest = this.getPresetIdFromRequest();\n\t\t\t\t\tlet preset = false;\n\n\t\t\t\t\tif (presetFromRequest)\n\t\t\t\t\t{\n\t\t\t\t\t\tpreset = this.getPresets().find((item) => {\n\t\t\t\t\t\t\treturn item.options.id === presetFromRequest;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preset)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset);\n\t\t\t\t\t}\n\t\t\t\t\telse if (formOptions.templateId !== 'callback')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.onPresetFieldClick();\n\t\t\t\t\t\tthis.activatePreset(formOptions.templateId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet preset = this.getPresets().find((item) => {\n\t\t\t\t\t\treturn item.options.id === formOptions.templateId;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!preset)\n\t\t\t\t\t{\n\t\t\t\t\t\tpreset = this.getPresets().find((item) => {\n\t\t\t\t\t\t\treturn item.options.id === 'expert';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isFormCreated() && formOptions.templateId !== 'callback')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setInitialFormOptions(\n\t\t\t\t\tRuntime.clone(this.getFormOptions()),\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (Type.isArrayFilled(error))\n\t\t\t\t{\n\t\t\t\t\tconst accessDeniedCode = 510;\n\t\t\t\t\tconst isAccessDenied = error.some((errorItem) => {\n\t\t\t\t\t\treturn String(errorItem.code) === String(accessDeniedCode);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isAccessDenied)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getLoader().hide();\n\t\t\t\t\t\tDom.show(this.sidebar);\n\t\t\t\t\t\tDom.show(this.content);\n\t\t\t\t\t\tDom.hide(this.footer);\n\t\t\t\t\t\tDom.append(this.getAccessError(), this.content);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\n\t\tvoid StylePanel.getInstance().hide();\n\n\t\treturn super.show(options);\n\t}\n\n\tgetAccessError(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('accessErrorMessage', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-access-error-message\">\n\t\t\t\t\t<div class=\"landing-ui-access-error-message-text\">\n\t\t\t\t\t\t${Loc.getMessage('LANDING_CRM_ACCESS_ERROR_MESSAGE')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tgetPresetIdFromRequest(): ?string\n\t{\n\t\tconst uri = new Uri(window.top.location.href);\n\t\treturn uri.getQueryParam('preset');\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisFormCreated(): boolean\n\t{\n\t\tconst uri = new Uri(window.location.origin);\n\t\treturn Text.toBoolean(uri.getQueryParam('formCreated'));\n\t}\n\n\tsetCurrentFormId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormId', Text.toNumber(formId));\n\t}\n\n\tgetCurrentFormId(): number\n\t{\n\t\treturn this.cache.get('currentFormId');\n\t}\n\n\tsetCurrentFormInstanceId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormInstanceId', formId);\n\t}\n\n\tgetCurrentFormInstanceId(): number\n\t{\n\t\treturn this.cache.get('currentFormInstanceId');\n\t}\n\n\tsetCrmFields(fields)\n\t{\n\t\tthis.cache.set('fields', fields);\n\t}\n\n\tgetCrmFields(): CrmFieldsList\n\t{\n\t\treturn this.cache.get('fields') || {};\n\t}\n\n\tsetCrmCompanies(companies: Array<CrmCompany>)\n\t{\n\t\tthis.cache.set('companies', companies);\n\t}\n\n\tgetCrmCompanies(): Array<CrmCompany>\n\t{\n\t\treturn this.cache.get('companies') || [];\n\t}\n\n\tsetCrmCategories(categories: Array<CrmCategory>)\n\t{\n\t\tthis.cache.set('crmCategories', categories);\n\t}\n\n\tgetCrmCategories(): Array<CrmCategory>\n\t{\n\t\treturn this.cache.get('crmCategories') || [];\n\t}\n\n\tsetFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('formOptions', options);\n\t}\n\n\tgetFormOptions(): FormOptions\n\t{\n\t\treturn Runtime.clone(this.cache.get('formOptions') || {});\n\t}\n\n\tsetFormDictionary(dictionary: FormDictionary)\n\t{\n\t\tthis.cache.set('formDictionary', dictionary);\n\t}\n\n\tgetFormDictionary(): FormDictionary\n\t{\n\t\treturn this.cache.get('formDictionary') || {};\n\t}\n\n\tsetInitialFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('initialFormOptions', Runtime.clone(options));\n\t}\n\n\tgetInitialFormOptions(): FormOptions\n\t{\n\t\treturn this.cache.get('initialFormOptions');\n\t}\n\n\t// eslint-disable-next-line\n\tgetCrmForm()\n\t{\n\t\tconst formApp = Reflection.getClass('b24form.App');\n\t\tif (formApp)\n\t\t{\n\t\t\tif (this.getCurrentFormInstanceId())\n\t\t\t{\n\t\t\t\treturn formApp.get(this.getCurrentFormInstanceId());\n\t\t\t}\n\n\t\t\treturn formApp.list()[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tconst eventData = event.getData();\n\t\tconst eventTargetValue = event.getTarget().getValue();\n\n\t\tPromise\n\t\t\t.resolve(eventTargetValue)\n\t\t\t.then((value) => {\n\t\t\t\tif (eventData.skipPrepare)\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isArrayFilled(formOptions.data.dependencies)\n\t\t\t\t\t\t&& Type.isArrayFilled(value.fields)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {dependencies} = formOptions.data;\n\t\t\t\t\t\tformOptions.data.dependencies = dependencies.reduce((acc, item) => {\n\t\t\t\t\t\t\tconst preparedItem = {...item};\n\t\t\t\t\t\t\tpreparedItem.list = preparedItem.list.filter((rule) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tvalue.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.condition.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t&& value.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.action.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (preparedItem.list.length > 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tacc.push(preparedItem);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, []);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'presetFields')\n\t\t\t\t\t\t|| Reflect.has(value, 'document')\n\t\t\t\t\t\t|| Reflect.has(value, 'result')\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst additionalValue = {};\n\t\t\t\t\t\tif (Reflect.has(value, 'document'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tadditionalValue.payment = value.document.payment;\n\t\t\t\t\t\t\tdelete value.document.payment;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t...additionalValue,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'embedding')\n\t\t\t\t\t\t|| Reflect.has(value, 'callback')\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\tReflect.has(value, 'name')\n\t\t\t\t\t\t\t&& Reflect.has(value, 'data')\n\t\t\t\t\t\t\t&& Reflect.has(value.data, 'useSign')\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst mergedOptions = Runtime.merge(\n\t\t\t\t\t\t\tformOptions,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (Reflect.has(value, 'responsible'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmergedOptions.responsible.users = value.responsible.users;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn mergedOptions;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(value, 'recaptcha'))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {key, secret} = value.recaptcha;\n\t\t\t\t\t\tdelete value.recaptcha.key;\n\t\t\t\t\t\tdelete value.recaptcha.secret;\n\t\t\t\t\t\tconst captcha = {key, secret};\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\tcaptcha,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn FormClient.getInstance()\n\t\t\t\t\t.prepareOptions(this.getFormOptions(), value)\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (value.agreements)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data = Runtime.merge(result.data, value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (value.fields)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data.fields = result.data.fields.map((field, index) => {\n\t\t\t\t\t\t\t\treturn Runtime.merge(field, value.fields[index]);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setFormOptions(result);\n\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(result.data));\n\t\t\t});\n\t}\n\n\tstatic sanitize(value: any): any\n\t{\n\t\tif (Type.isStringFilled(value))\n\t\t{\n\t\t\treturn Text.decode(value)\n\t\t\t\t.replace(/<style[^>]*>.*<\\/style>/gm, '')\n\t\t\t\t.replace(/<script[^>]*>.*<\\/script>/gm, '')\n\t\t\t\t.replace(/<[^>]+>/gm, '');\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tgetPersonalizationVariables(): Array<{name: string, value: string}>\n\t{\n\t\treturn this.cache.remember('personalizationVariables', () => {\n\t\t\treturn this.getFormDictionary().personalization.list.map((item) => {\n\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDefaultValuesVariables(): Array<{name: string, value: string}>\n\t{\n\t\treturn this.cache.remember('personalizationVariables', () => {\n\t\t\tconst {properties} = this.getFormDictionary();\n\t\t\tif (Type.isPlainObject(properties) && Type.isArrayFilled(properties.list))\n\t\t\t{\n\t\t\t\treturn properties.list.map((item) => {\n\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [];\n\t\t});\n\t}\n\n\tgetContent(id: string): ContentWrapper\n\t{\n\t\tconst crmForm = this.getCrmForm();\n\t\tif (crmForm)\n\t\t{\n\t\t\tcrmForm.sent = false;\n\t\t\tcrmForm.error = false;\n\t\t}\n\n\t\tif (id === 'button_and_header')\n\t\t{\n\t\t\treturn new HeaderAndButtonContent({\n\t\t\t\tpersonalizationVariables: this.getPersonalizationVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\ttitle: FormSettingsPanel.sanitize(this.getFormOptions().data.title),\n\t\t\t\t\tdesc: FormSettingsPanel.sanitize(this.getFormOptions().data.desc),\n\t\t\t\t\tbuttonCaption: this.getFormOptions().data.buttonCaption,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'spam_protection')\n\t\t{\n\t\t\treturn new SpamProtection({\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: {\n\t\t\t\t\tkey: this.getFormOptions().captcha.key,\n\t\t\t\t\tsecret: this.getFormOptions().captcha.secret,\n\t\t\t\t\tuse: Text.toBoolean(this.getFormOptions().data.recaptcha.use),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'agreements')\n\t\t{\n\t\t\treturn new AgreementsContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tagreementsList: this.getAgreements(),\n\t\t\t\tvalues: {\n\t\t\t\t\tagreements: this.getFormOptions().data.agreements,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'analytics')\n\t\t{\n\t\t\treturn new AnalyticsContent({\n\t\t\t\tevents: this.getFormOptions().analytics.steps,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields')\n\t\t{\n\t\t\treturn new FieldsContent({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields_rules')\n\t\t{\n\t\t\treturn new FieldsRulesContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().data.dependencies,\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'actions')\n\t\t{\n\t\t\tconst actionsContent = new ActionsContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().result,\n\t\t\t});\n\n\t\t\tactionsContent\n\t\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.success.text;\n\t\t\t\t\tcrmForm.sent = !crmForm.sent;\n\t\t\t\t\tcrmForm.error = false;\n\t\t\t\t})\n\t\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.failure.text;\n\t\t\t\t\tcrmForm.error = !crmForm.error;\n\t\t\t\t\tcrmForm.sent = false;\n\t\t\t\t});\n\n\t\t\treturn actionsContent;\n\t\t}\n\n\t\tif (id === 'embed')\n\t\t{\n\t\t\treturn new EmbedContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().embedding,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'identify')\n\t\t{\n\t\t\treturn new Identify({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'crm')\n\t\t{\n\t\t\treturn new CrmContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tcompanies: this.getCrmCompanies(),\n\t\t\t\tcategories: this.getCrmCategories(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tformDictionary: this.getFormDictionary(),\n\t\t\t\tvalues: {\n\t\t\t\t\tscheme: this.getFormOptions().document.scheme,\n\t\t\t\t\tduplicatesEnabled: this.getFormOptions().document.deal.duplicatesEnabled || 'Y',\n\t\t\t\t\tcategory: this.getFormOptions().document.deal.category,\n\t\t\t\t\tdynamicCategory: this.getFormOptions().document.dynamic.category,\n\t\t\t\t\tpayment: this.getFormOptions().payment.use,\n\t\t\t\t\tduplicateMode: this.getFormOptions().document.duplicateMode,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'default_values')\n\t\t{\n\t\t\treturn new DefaultValues({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tpersonalizationVariables: this.getDefaultValuesVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().presetFields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'facebook')\n\t\t{\n\t\t\treturn new FacebookContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'vk')\n\t\t{\n\t\t\treturn new VkContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'callback')\n\t\t{\n\t\t\treturn new Callback({\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: this.getFormOptions().callback,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'other')\n\t\t{\n\t\t\treturn new Other({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: {\n\t\t\t\t\tname: this.getFormOptions().name,\n\t\t\t\t\tuseSign: this.getFormOptions().data.useSign,\n\t\t\t\t\tusers: this.getFormOptions().responsible.users,\n\t\t\t\t\tcheckWorkTime: this.getFormOptions().responsible.checkWorkTime,\n\t\t\t\t\tlanguage: this.getFormOptions().data.language,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tapplyPreset(preset: Preset, skipOptions = false)\n\t{\n\t\tthis.getPresets().forEach((currentPreset) => {\n\t\t\tcurrentPreset.deactivate();\n\t\t});\n\n\t\tpreset.activate();\n\n\t\tif (Type.isPlainObject(preset.options.options) && !skipOptions)\n\t\t{\n\t\t\tthis.showLoader();\n\t\t\tconst clonedPresetOptions = {\n\t\t\t\tdata: {},\n\t\t\t\t...Runtime.clone(preset.options.options),\n\t\t\t};\n\n\t\t\tlet agreementsOptions = [];\n\n\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t{\n\t\t\t\tconst sourceAgreements = this.getAgreements();\n\t\t\t\tagreementsOptions = [...clonedPresetOptions.data.agreements];\n\n\t\t\t\tclonedPresetOptions.data.agreements = (\n\t\t\t\t\tclonedPresetOptions.data.agreements.map((item, index) => {\n\t\t\t\t\t\treturn sourceAgreements[index].id;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tFormClient.getInstance()\n\t\t\t\t.prepareOptions(this.getFormOptions(), clonedPresetOptions.data)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'fields'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.fields;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.agreements;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst preparedOptions = Runtime.merge({}, result, clonedPresetOptions);\n\n\t\t\t\t\tpreparedOptions.data.agreements = (\n\t\t\t\t\t\tpreparedOptions.data.agreements.map((agreement, index) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...agreement,\n\t\t\t\t\t\t\t\t...agreementsOptions[index],\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.setFormOptions(preparedOptions);\n\t\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(preparedOptions.data));\n\t\t\t\t\tsuper.applyPreset(preset);\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsuper.applyPreset(preset);\n\t\t}\n\t}\n\n\tgetFormNode(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('formNode', () => {\n\t\t\treturn this.getCurrentBlock().node.querySelector('[data-b24form-use-style]');\n\t\t});\n\t}\n\n\tuseBlockDesign(): boolean\n\t{\n\t\treturn this.cache.remember('useBlockDesign', () => {\n\t\t\treturn Text.toBoolean(Dom.attr(this.getFormNode(), 'data-b24form-use-style'));\n\t\t});\n\t}\n\n\tgetCurrentCrmEntityName(): string\n\t{\n\t\tconst {scheme} = this.getFormOptions().document;\n\t\tconst schemeItem = this.getFormDictionary().document.schemes.find((item) => {\n\t\t\treturn String(scheme) === String(item.id);\n\t\t});\n\n\t\treturn schemeItem.name;\n\t}\n\n\tgetNotSynchronizedFields(): Promise<any>\n\t{\n\t\treturn FormClient\n\t\t\t.getInstance()\n\t\t\t.checkFields(this.getFormOptions())\n\t\t\t.then((result) => {\n\t\t\t\treturn result;\n\t\t\t});\n\t}\n\n\tshowSynchronizationPopup(notSynchronizedFields: Array<string>): Promise<boolean>\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst onOk = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(true);\n\t\t\t};\n\n\t\t\tconst onCancel = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(false);\n\t\t\t};\n\n\t\t\tconst messageDescription = (() => {\n\t\t\t\tconst entityName = Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_ENTITY_TEMPLATE')\n\t\t\t\t\t.replace('{entityName}', this.getCurrentCrmEntityName());\n\n\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_DESCRIPTION')\n\t\t\t\t\t.replace('{entityName}', entityName);\n\t\t\t})();\n\n\t\t\tconst messageText = (() => {\n\t\t\t\tconst fields = [...notSynchronizedFields].map((field) => {\n\t\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_FIELD_TEMPLATE')\n\t\t\t\t\t\t.replace('{fieldName}', field);\n\t\t\t\t});\n\n\t\t\t\tif (notSynchronizedFields.length > 1)\n\t\t\t\t{\n\t\t\t\t\tconst lastField = fields.pop();\n\n\t\t\t\t\treturn Loc\n\t\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT')\n\t\t\t\t\t\t.replace('{fieldsList}', fields.join(', '))\n\t\t\t\t\t\t.replace('{lastField}', lastField);\n\t\t\t\t}\n\n\t\t\t\treturn Loc\n\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT_1')\n\t\t\t\t\t.replace('{field}', fields.join(', '));\n\t\t\t})();\n\n\t\t\twindow.top.BX.UI.Dialogs.MessageBox.confirm(\n\t\t\t\t`${messageDescription}<br><br>${messageText}`,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_TITLE'),\n\t\t\t\tonOk,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_OK_BUTTON_LABEL'),\n\t\t\t\tonCancel,\n\t\t\t);\n\t\t});\n\t}\n\n\tshowSynchronizationErrorPopup(errors: Array<string>)\n\t{\n\t\tconst message = errors.reduce((acc, item) => {\n\t\t\treturn `${acc}\\n\\n${item}`;\n\t\t}, '');\n\n\t\twindow.top.BX.UI.Dialogs.MessageBox.alert(message);\n\t}\n\n\tonSaveClick()\n\t{\n\t\tDom.addClass(this.getSaveButton().layout, 'ui-btn-wait');\n\n\t\tthis.getNotSynchronizedFields()\n\t\t\t.then((result) => {\n\t\t\t\tif (Type.isPlainObject(result.sync))\n\t\t\t\t{\n\t\t\t\t\tif (Type.isArrayFilled(result.sync.errors))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.showSynchronizationErrorPopup(result.sync.errors);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Type.isArrayFilled(result.sync.fields))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst fieldLabels = result.sync.fields.map((field) => {\n\t\t\t\t\t\t\treturn field.label;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn this.showSynchronizationPopup(fieldLabels);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.then((isConfirmed) => {\n\t\t\t\tif (isConfirmed)\n\t\t\t\t{\n\t\t\t\t\tconst uri = new Uri(window.top.location.toString());\n\t\t\t\t\turi.removeQueryParam('formCreated');\n\t\t\t\t\twindow.top.history.replaceState(null, document.title, uri.toString());\n\n\t\t\t\t\tconst initialOptions = this.getInitialFormOptions();\n\t\t\t\t\tconst currentOptions = this.getFormOptions();\n\t\t\t\t\tconst options = (() => {\n\t\t\t\t\t\tif (!this.isCrmFormPage())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst clonedOptions = Runtime.clone(currentOptions);\n\t\t\t\t\t\t\tclonedOptions.data.design = Runtime.clone(initialOptions.data.design);\n\t\t\t\t\t\t\treturn clonedOptions;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn currentOptions;\n\t\t\t\t\t})();\n\n\t\t\t\t\tvoid FormClient.getInstance()\n\t\t\t\t\t\t.saveOptions(options)\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\tthis.setFormOptions(result);\n\t\t\t\t\t\t\tFormClient.getInstance().resetCache(result.id);\n\t\t\t\t\t\t\tDom.removeClass(this.getSaveButton().layout, 'ui-btn-wait');\n\t\t\t\t\t\t\tvoid this.hide();\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (this.useBlockDesign() && this.isCrmFormPage())\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.disableUseBlockDesign();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tDom.removeClass(this.getSaveButton().layout, 'ui-btn-wait');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tdisableUseBlockDesign()\n\t{\n\t\tDom.attr(this.getFormNode(), 'data-b24form-use-style', 'N');\n\t\tthis.cache.set('useBlockDesign', false);\n\n\t\tBackend\n\t\t\t.getInstance()\n\t\t\t.action(\n\t\t\t\t'Landing\\\\Block::updateNodes',\n\t\t\t\t{\n\t\t\t\t\tblock: this.getCurrentBlock().id,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'.bitrix24forms': {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t'data-b24form-use-style': 'N',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlid: this.getCurrentBlock().lid,\n\t\t\t\t\tsiteId: this.getCurrentBlock().siteId,\n\t\t\t\t},\n\t\t\t\t{code: this.getCurrentBlock().manifest.code},\n\t\t\t);\n\t}\n\n\tonCancelClick()\n\t{\n\t\tthis.getCrmForm().adjust(this.getInitialFormOptions().data);\n\t\tvoid this.hide();\n\t}\n}"],"names":["HeaderAndButtonContent","options","setEventNamespace","header","HeaderCard","title","Loc","getMessage","message","MessageCard","id","icon","headerAndButtonsIcon","description","restoreState","more","helper","Reflection","getClass","BX","Helper","show","headersForm","FormSettingsForm","fields","VariablesField","selector","textOnly","content","values","variables","personalizationVariables","desc","Landing","UI","Field","Checkbox","items","value","name","compact","buttonsForm","TextField","buttonCaption","addItem","sourceValue","Object","entries","reduce","acc","key","includes","hideDesc","useSign","getSwitch","getValue","event","emit","getData","skipPrepare","ContentWrapper","AgreementsContent","messageIcon","listForm","AgreementsList","formOptions","agreementsList","agreements","isShown","Dom","style","getLayout","subscribe","SpamProtection","captchaTypeForm","RadioButtonField","use","hasDefaultRecaptchaKeys","getKeysCheckbox","getKeysForm","hasKeys","secret","hideKeysCheckbox","hideKeysForm","showKeysCheckbox","setValue","showKeysForm","cache","remember","hidden","help","text","href","useCustomKeys","length","recaptcha","Type","isStringFilled","dictionary","captcha","hasDefaults","ContentTableCell","Tag","render","Text","encode","ContentTableRow","headClass","head","columns","map","cell","ContentTable","headRow","columnOptions","rows","rowOptions","cellOptions","row","AnalyticsContent","push","yandexIcon","checked","switcher","getYandexTable","googleIcon","getGoogleTable","accordionField","AccordionField","angle","table","events","code","FieldsContent","fieldsForm","FieldsListField","isLeadEnabled","crmFields","setOffsetTop","FieldsRulesContent","getHeader","keys","getRuleTypeField","getRulesForm","getActionPanel","group","list","forEach","item","accEntry","find","accItem","condition","field","target","operator","operation","expression","action","type","addField","RuleField","getFormFields","rules","onRemove","onFieldRemove","bind","disallowedTypes","isPlainObject","deps","isArrayFilled","disallowed","filter","removeField","getTarget","clear","setBottomMargin","ActionPanel","left","ruleForm","button","onClick","onCreateRule","disabled","soon","radioField","insertBefore","dependencies","typeId","listItems","listItem","expItem","ActionPagesField","subscribeFromOptions","fetchEventsFromOptions","setLayoutClass","append","getSuccess","input","getFailure","Event","document","onDocumentClick","window","top","successInput","querySelector","failureInput","attr","createPageBlock","successText","onInput","onShowClick","failureText","innerText","success","getSuccessText","failure","getFailureText","classPrefix","onEditClick","preventDefault","stopPropagation","inner","currentTarget","closest","textContainer","isContentEditable","isFunction","onEditorClick","onViewClick","BaseField","ActionsContent","addClass","getTypeButtons","getActionPages","selectable","url","onChange","onTypeChange","PresetField","setTitle","setIcon","type1Icon","placeholder","Dropdown","redirectDelay","Array","from","index","data","typeDropdown","getTypeDropdown","setLinkText","replace","type2Icon","getSuccessLinkField","getFailureLinkField","getDelayField","actionPagesValue","useRedirect","result","decode","EmbedField","clean","layout","onInputClick","Button","size","Size","SMALL","color","Color","PRIMARY","onclick","onCopyButtonClick","selectCode","rootWindow","PageObject","getRootWindow","execCommand","getSelection","removeAllRanges","getCopyButton","setColor","LINK","Icon","DONE","setText","selectAllChildren","innerHTML","WidgetField","getInputWrapper","getSettingsButton","LIGHT_BORDER","SETTING","CopyLinkField","getLink","link","Link","PositionField","horizontal","vertical","fieldsInner","getFieldsInner","EmbedContent","closeable","hideActions","level","Radio","html","views","auto","delay","getDelayDropdown","DropdownInline","skipInitialEvent","click","position","test","embedField","getEmbedField","type1icon","getType1Message","scripts","inline","type2icon","type3icon","positionField","getType3PositionField","getType3Message","getType3Header","getType3ShowTypeField","type4icon","getType4Message","getType4Header","getType4Checkbox","getType4PositionField","getType4ShowTypeField","type5icon","getType5Message","getWidgetField","type6icon","getCopyLinkField","type3positionValue","type4positionValue","embedding","Identify","fetchId","isNil","ID","fetchName","NAME","StageField","getInner","getCategoriesDropdown","listTitle","category","categories","onCategoryChange","currentCategoryId","String","stage","CrmContent","getTypesField","isDynamicAvailable","getDynamicEntitySettingsForm","getExpertSettingsForm","getOrderSettingsForm","formDictionary","dynamic","duplicateMode","payment","scheme","getSchemeById","isOpened","endsWith","toNumber","toggleable","opened","getPaymentField","headerText","isString","currentScheme","mainEntity","BaseEvent","getSelectedSchemeId","getDynamicEntitiesField","toggleableType","ToggleableType","getDuplicatesField","setTimeout","unshift","schemeId","getDynamicSchemeById","dynamicCategory","duplicatesEnabled","schemes","hide","expertSettingsForm","getType1Header","getType2Header","getStagesField","getDuplicatesEnabledField","onSwitchChange","getDynamicHeader","getDynamicCategoriesField","entityId","reducedValue","deal","toBoolean","DefaultValues","DefaultValueField","FacebookContent","integration","canUse","buttonCard","BaseCard","prepareButtonText","SidePanel","Instance","open","cacheable","onClose","client","FormClient","getInstance","resetCache","getOptions","then","padding","margin","getBody","enabled","cases","some","providerCode","VkContent","Callback","isAvailable","getWarningMessage","getSettingsForm","disable","callback","Switch","getPhoneListField","getTextField","UserSelectorField","removeClass","getTagSelector","renderTo","root","EntitySelector","TagSelector","dialogOptions","entities","activeUsers","preselectedItems","getDialog","getSelectedItems","Other","otherForm","getNameField","getUserSelectorField","getCheckWorkTimeField","getLanguageField","getUseSignField","sign","canRemove","createCopyRight","users","isNumber","checkWorkTime","languages","language","responsible","canRemoveCopyrights","checkbox","restriction","evalGlobal","sidebarButtons","SidebarButton","child","important","className","presetCategories","PresetCategory","presets","Preset","siteIcon","templateId","widgetAutoShowIcon","callbackIcon","defaultSection","serviceIcon","product1Icon","bigPic","product2Icon","product3Icon","product4Icon","vkIcon","facebookIcon","crmFormIcon","FormSettingsPanel","rootWindowPanel","Panel","instance","disableOverlay","preparedSidebarButtons","isCrmFormPage","setSidebarButtons","setCategories","filteredPresets","preset","setPresets","getBlockSettingsButton","getRightHeaderControls","onCancelClick","Env","specialType","onBlockSettingsButtonClick","getCurrentBlock","showContentPanel","Loader","body","getLoader","sidebar","getPresetField","showWithOptions","editorData","formEditorData","setCrmFields","setCrmCompanies","crmCompanies","setCrmCategories","crmCategories","setAgreements","currentOptions","Runtime","clone","setFormOptions","setFormDictionary","Promise","resolve","crmData","Backend","batch","getCurrentFormId","getDictionary","all","set","orderBy","get","getFormDictionary","lead","block","alert","Alert","AlertColor","WARNING","parentNode","enableToggleMode","isFormCreated","disableTransparentMode","mainOptions","saveOriginalFileName","prependContent","getSaveOriginalFileNameAlert","closeButtonTop","closeButton","alertHeight","getBoundingClientRect","height","setCurrentBlock","setCurrentFormId","formId","setCurrentFormInstanceId","instanceId","showLoader","load","hideLoader","getFormOptions","getPresets","preparedField","merge","state","presetFromRequest","getPresetIdFromRequest","applyPreset","onPresetFieldClick","activatePreset","setInitialFormOptions","catch","error","accessDeniedCode","isAccessDenied","errorItem","footer","getAccessError","console","StylePanel","uri","Uri","location","getQueryParam","origin","companies","formApp","getCurrentFormInstanceId","eventData","eventTargetValue","preparedItem","rule","Reflect","has","additionalValue","mergedOptions","prepareOptions","getCrmForm","adjust","personalization","properties","crmForm","sent","getPersonalizationVariables","sanitize","getAgreements","analytics","steps","getCrmFields","actionsContent","stateText","getCrmCompanies","getCrmCategories","getDefaultValuesVariables","presetFields","skipOptions","currentPreset","deactivate","activate","clonedPresetOptions","agreementsOptions","sourceAgreements","preparedOptions","agreement","node","getFormNode","schemeItem","checkFields","notSynchronizedFields","onOk","messageBox","close","onCancel","messageDescription","entityName","getCurrentCrmEntityName","messageText","lastField","pop","join","Dialogs","MessageBox","confirm","errors","getSaveButton","getNotSynchronizedFields","sync","showSynchronizationErrorPopup","fieldLabels","label","showSynchronizationPopup","isConfirmed","toString","removeQueryParam","history","replaceState","initialOptions","getInitialFormOptions","clonedOptions","design","saveOptions","useBlockDesign","disableUseBlockDesign","attrs","lid","siteId","manifest","BasePresetPanel"],"mappings":"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"}