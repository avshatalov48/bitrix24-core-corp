{"version":3,"file":"formsettingspanel.bundle.js","sources":["../src/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg","../src/internal/content/header-and-buttons/header-and-buttons.js","../src/internal/content/agreements/images/message-icon.svg","../src/internal/content/agreements/agreements.js","../src/internal/content/spam-protection/spam-protection.js","../src/internal/content/analytics/images/yandex.svg","../src/internal/content/analytics/images/google.svg","../src/internal/content/analytics/internal/table/content-table-cell.js","../src/internal/content/analytics/internal/table/content-table-row.js","../src/internal/content/analytics/internal/table/content-table.js","../src/internal/content/analytics/analytics.js","../src/internal/content/fields/images/message-icon.svg","../src/internal/content/fields/fields.js","../src/internal/content/fields-rules/fields-rules.js","../src/internal/content/actions/internal/action-pages/action-pages.js","../src/internal/content/actions/images/type1.svg","../src/internal/content/actions/images/type2.svg","../src/internal/content/actions/actions.js","../src/internal/content/embed/internal/embedfield/embedfield.js","../src/internal/content/embed/internal/widgetfield/widgetfield.js","../src/internal/content/embed/internal/copylinkfield/copylinkfield.js","../src/internal/content/embed/internal/positionfield/positionfield.js","../src/internal/content/embed/images/type1.svg","../src/internal/content/embed/images/type2.svg","../src/internal/content/embed/images/type3.svg","../src/internal/content/embed/images/type4.svg","../src/internal/content/embed/images/type5.svg","../src/internal/content/embed/images/type6.svg","../src/internal/content/embed/embed.js","../src/internal/content/identify/images/icon.svg","../src/internal/content/identify/identify.js","../src/internal/content/crm/internal/stagefield/stagefield.js","../src/internal/content/crm/images/message-icon.svg","../src/internal/content/crm/crm.js","../src/internal/content/defaultvalues/defaultvalues.js","../src/internal/content/facebook/facebook.js","../src/internal/content/vk/vk.js","../src/internal/content/callback/callback.js","../src/internal/content/other/internal/userselectorfield/userselectorfield.js","../src/internal/content/other/other.js","../src/internal/sidebar-buttons.js","../src/internal/preset-categories.js","../src/images/icons/integration.svg","../src/images/icons/autoshow.svg","../src/images/icons/revertcall.svg","../src/images/icons/producttext.svg","../src/images/icons/productimage.svg","../src/images/icons/vk.svg","../src/images/icons/facebook.svg","../src/images/icons/crm.svg","../src/images/icons/service.svg","../src/internal/presets.js","../src/formsettingspanel.js"],"sourcesContent":["export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/header-and-buttons/images/header-and-buttons-message-icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc, Reflection, Type} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport 'helper';\nimport headerAndButtonsIcon from './images/header-and-buttons-message-icon.svg';\n\nexport default class HeaderAndButtonContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.HeaderAndButtonContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'headerAndButtonMessage',\n\t\t\ticon: headerAndButtonsIcon,\n\t\t\theader: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_MESSAGE_DESCRIPTION_2'),\n\t\t\trestoreState: true,\n\t\t\tmore: () => {\n\t\t\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\t\t\t\tif (helper)\n\t\t\t\t{\n\t\t\t\t\tBX.Helper.show('redirect=detail&code=12802786');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tconst headersForm = new FormSettingsForm({\n\t\t\tid: 'headers',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_TITLE'),\n\t\t\ttoggleable: true,\n\t\t\tfields: [\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'title',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.title,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew VariablesField({\n\t\t\t\t\tselector: 'desc',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.desc,\n\t\t\t\t\tvariables: this.options.personalizationVariables,\n\t\t\t\t}),\n\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\tselector: 'hideDesc',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 'hideDesc',\n\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SUBHEADER_FIELD_TITLE'),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// {\n\t\t\t\t\t\t// \tvalue: 'hideSeparator',\n\t\t\t\t\t\t// \tname: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_HEADERS_FORM_HIDE_SEPARATOR_FIELD_TITLE'),\n\t\t\t\t\t\t// },\n\t\t\t\t\t],\n\t\t\t\t\tcompact: true,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tconst buttonsForm = new FormSettingsForm({\n\t\t\tid: 'buttons',\n\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_TITLE'),\n\t\t\tfields: [\n\t\t\t\tnew TextField({\n\t\t\t\t\tselector: 'buttonCaption',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_FORM_SEND_BUTTON_TITLE'),\n\t\t\t\t\ttextOnly: true,\n\t\t\t\t\tcontent: this.options.values.buttonCaption,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(headersForm);\n\t\tthis.addItem(buttonsForm);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst value = Object.entries(sourceValue).reduce((acc, [key, value]) => {\n\t\t\tif (key === 'hideDesc')\n\t\t\t{\n\t\t\t\tif (value.includes(key))\n\t\t\t\t{\n\t\t\t\t\tacc.desc = '';\n\t\t\t\t}\n\n\t\t\t\tdelete acc.hideDesc;\n\t\t\t}\n\n\t\t\tif (key === 'useSign')\n\t\t\t{\n\t\t\t\tacc.useSign = value.includes('useSign');\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {...sourceValue});\n\n\t\tif (!this.items[2].getSwitch().getValue())\n\t\t{\n\t\t\tvalue.title = '';\n\t\t\tvalue.desc = '';\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/agreements/images/message-icon.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {AgreementsList} from 'landing.ui.field.agreementslist';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class AgreementsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_AGREEMENTS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'agreementsMessage',\n\t\t\theader: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_AGREEMENTS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst listForm = new FormSettingsForm({\n\t\t\tid: 'agreementsList',\n\t\t\tfields: [\n\t\t\t\tnew AgreementsList({\n\t\t\t\t\tselector: 'agreements',\n\t\t\t\t\tformOptions: this.options.formOptions,\n\t\t\t\t\tagreementsList: this.options.agreementsList,\n\t\t\t\t\tvalue: this.options.values.agreements,\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tDom.style(header.getLayout(), 'margin-bottom', '0');\n\t\t\tDom.style(listForm.getLayout(), 'margin-top', '-19px');\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(listForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\n\nimport './css/style.css';\n\nexport default class SpamProtection extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TITLE'),\n\t\t});\n\n\t\tconst captchaTypeForm = new FormSettingsForm({\n\t\t\tid: 'type',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tnew RadioButtonField({\n\t\t\t\t\tselector: 'use',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TABS_TITLE'),\n\t\t\t\t\tvalue: this.options.values.use ? 'hidden' : 'disabled',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'disabled',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_DISABLED'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-disabled',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'hidden',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_TAB_HIDDEN'),\n\t\t\t\t\t\t\ticon: 'landing-ui-spam-protection-icon-hidden',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(captchaTypeForm);\n\t\tthis.addItem(this.getKeysCheckbox());\n\t\tthis.addItem(this.getKeysForm());\n\n\t\tconst hasKeys = this.options.values.key && this.options.values.secret;\n\n\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t{\n\t\t\tthis.hideKeysCheckbox();\n\t\t\tthis.hideKeysForm();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.showKeysCheckbox();\n\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\tif (hasKeys)\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t}\n\n\t\tcaptchaTypeForm.subscribe('onChange', () => {\n\t\t\tif (captchaTypeForm.fields[0].getValue() === 'disabled')\n\t\t\t{\n\t\t\t\tthis.hideKeysCheckbox();\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.showKeysCheckbox();\n\t\t\t\tthis.getKeysCheckbox().fields[0].setValue([hasKeys ? 'useCustomKeys' : '']);\n\t\t\t\tif (hasKeys)\n\t\t\t\t{\n\t\t\t\t\tthis.showKeysForm();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.hideKeysForm();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.getKeysCheckbox().subscribe('onChange', () => {\n\t\t\tif (this.getKeysCheckbox().fields[0].getValue().includes('useCustomKeys'))\n\t\t\t{\n\t\t\t\tthis.showKeysForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideKeysForm();\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKeysCheckbox()\n\t{\n\t\treturn this.cache.remember('keysCheckbox', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'customKeys',\n\t\t\t\tdescription: null,\n\t\t\t\tfields: [\n\t\t\t\t\tnew BX.Landing.UI.Field.Checkbox({\n\t\t\t\t\t\tselector: 'useCustomKeys',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: Loc.getMessage('LANDING_SPAM_PROTECTION_CUSTOM_KEYS_CHECKBOX_LABEL'),\n\t\t\t\t\t\t\t\tvalue: 'useCustomKeys',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = false;\n\t}\n\n\thideKeysCheckbox()\n\t{\n\t\tthis.getKeysCheckbox().getLayout().hidden = true;\n\t}\n\n\tgetKeysForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('keysForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tid: 'keys',\n\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_TITLE'),\n\t\t\t\thelp: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_TEXT'),\n\t\t\t\t\thref: Loc.getMessage('LANDING_SPAM_PROTECTION_KEYS_FORM_HELP_HREF'),\n\t\t\t\t},\n\t\t\t\tfields: [\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'key',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.key,\n\t\t\t\t\t}),\n\t\t\t\t\tnew TextField({\n\t\t\t\t\t\tselector: 'secret',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SPAM_PROTECTION_RECAPTCHA_SECRET_KEY_FIELD_TITLE'),\n\t\t\t\t\t\ttextOnly: true,\n\t\t\t\t\t\tcontent: this.options.values.secret,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tshowKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = false;\n\t}\n\n\thideKeysForm()\n\t{\n\t\tthis.getKeysForm().getLayout().hidden = true;\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(sourceValue: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst useCustomKeys = sourceValue.useCustomKeys.length > 0;\n\n\t\treturn {\n\t\t\trecaptcha: {\n\t\t\t\tuse: sourceValue.use === 'hidden',\n\t\t\t\tkey: useCustomKeys ? sourceValue.key : '',\n\t\t\t\tsecret: useCustomKeys ? sourceValue.secret : '',\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/yandex.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/analytics/images/google.svg\"","import {Tag} from 'main.core';\n\nexport type ContentTableCellOptions = {\n\tcontent: string | HTMLElement,\n\thead: boolean,\n};\n\nexport class ContentTableCell\n{\n\tconstructor(options: ContentTableCellOptions = {})\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableCellElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-cell\">\n\t\t\t\t${this.options.content}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport type {ContentTableCell} from './content-table-cell';\n\nexport type ContentTableRowOptions = {\n\tcolumns: Array<ContentTableCell>,\n\thead?: boolean,\n};\n\nexport class ContentTableRow\n{\n\tconstructor(options: ContentTableRowOptions)\n\t{\n\t\tthis.options = {...options};\n\t}\n\n\trender(): HTMLTableRowElement\n\t{\n\t\tconst headClass = this.options.head ? ' landing-ui-content-table-row-head' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-row${headClass}\">\n\t\t\t\t${this.options.columns.map((cell) => cell.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Tag} from 'main.core';\nimport {ContentTableCell} from './content-table-cell';\nimport {ContentTableRow} from './content-table-row';\nimport type {ContentTableCellOptions} from './content-table-cell';\nimport type {ContentTableRowOptions} from './content-table-row';\n\nimport './css/style.css';\n\ntype ContentTableOptions = {\n\ttitle: string,\n\tcolumns: Array<ContentTableCellOptions>,\n\trows: Array<ContentTableRowOptions>\n};\n\nexport class ContentTable\n{\n\tconstructor(options: ContentTableOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.headRow = new ContentTableRow({\n\t\t\tcolumns: this.options.columns.map((columnOptions) => {\n\t\t\t\treturn new ContentTableCell(columnOptions);\n\t\t\t}),\n\t\t\thead: true,\n\t\t});\n\t\tthis.rows = this.options.rows.map((rowOptions) => {\n\t\t\treturn new ContentTableRow({\n\t\t\t\tcolumns: rowOptions.columns.map((cellOptions) => {\n\t\t\t\t\treturn new ContentTableCell(cellOptions);\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTitleLayout(): HTMLDivElement | string\n\t{\n\t\tif (Type.isStringFilled(this.options.title))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-content-table-title\">${this.options.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\trender(): HTMLTableElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-content-table-wrapper\">\n\t\t\t\t\n\t\t\t\t<div class=\"landing-ui-content-table\">\n\t\t\t\t\t${this.headRow.render()}\n\t\t\t\t\t${this.rows.map((row) => row.render())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {AccordionField} from 'landing.ui.field.accordionfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nimport yandexIcon from './images/yandex.svg';\nimport googleIcon from './images/google.svg';\nimport {ContentTable} from './internal/table/content-table';\n\nexport default class AnalyticsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.AgreementsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TITLE'),\n\t\t});\n\n\t\tconst items = [];\n\t\tif (Loc.getMessage('LANGUAGE_ID') === 'ru')\n\t\t{\n\t\t\titems.push({\n\t\t\t\tid: 'yandex',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_YANDEX_METRIKA'),\n\t\t\t\ticon: yandexIcon,\n\t\t\t\tchecked: true,\n\t\t\t\tswitcher: false,\n\t\t\t\tcontent: this.getYandexTable(),\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tid: 'google',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEM_GOOGLE_ANALYTICS'),\n\t\t\ticon: googleIcon,\n\t\t\tchecked: true,\n\t\t\tswitcher: false,\n\t\t\tcontent: this.getGoogleTable(),\n\t\t});\n\n\t\tconst accordionField = new AccordionField({\n\t\t\tselector: 'analytics',\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_ITEMS_FIELD_TITLE'),\n\t\t\titems,\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'analyticsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_MESSAGE_DESCRIPTION'),\n\t\t\tangle: false,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(accordionField);\n\t}\n\n\tgetYandexTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.event},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n\n\tgetGoogleTable(): HTMLTableElement\n\t{\n\t\tconst table = new ContentTable({\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tid: 'title',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_NAME_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_FORM_SETTINGS_ANALYTICS_TABLE_ID_COLUMN_TITLE'),\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: this.options.events.map((row) => {\n\t\t\t\treturn {\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{content: row.name},\n\t\t\t\t\t\t{content: row.code},\n\t\t\t\t\t],\n\t\t\t\t};\n\t\t\t}),\n\t\t});\n\n\t\treturn table.render();\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/fields/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {FieldsListField} from 'landing.ui.field.fieldslistfield';\nimport messageIcon from './images/message-icon.svg';\n\nexport default class FieldsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsContent');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'fieldsMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_FIELDS_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew FieldsListField({\n\t\t\t\t\tselector: 'fields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc, Type} from 'main.core';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {RuleField} from 'landing.ui.field.rulefield';\nimport {ActionPanel} from 'landing.ui.component.actionpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\n\nimport './css/style.css';\nimport {BaseEvent} from 'main.core.events';\n\nexport default class FieldsRulesContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FieldsRulesContent');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!Object.keys(this.options.values).length > 0)\n\t\t{\n\t\t\tthis.addItem(this.getRuleTypeField());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(this.getRulesForm());\n\t\t\tthis.addItem(this.getActionPanel());\n\n\t\t\tconst values = this.options.values.reduce((acc, group) => {\n\t\t\t\tgroup.list.forEach((item) => {\n\t\t\t\t\tconst accEntry = acc.find((accItem) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\taccItem.condition.field === item.condition.target\n\t\t\t\t\t\t\t\t|| accItem.condition.field.id === item.condition.target\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t&& accItem.condition.value === item.condition.value\n\t\t\t\t\t\t\t&& accItem.condition.operator === item.condition.operation\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (accEntry)\n\t\t\t\t\t{\n\t\t\t\t\t\taccEntry.expression.push({\n\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\treturn field.id === item.action.target;\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\treturn field.name === item.condition.target;\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tvalue: item.condition.value,\n\t\t\t\t\t\t\t\toperator: item.condition.operation,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\texpression: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: this.options.fields.find((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.name === item.action.target;\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\taction: item.action.type,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn acc;\n\t\t\t}, []);\n\n\t\t\tthis.getRulesForm().addField(\n\t\t\t\tnew RuleField({\n\t\t\t\t\tfields: this.getFormFields(),\n\t\t\t\t\trules: values,\n\t\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t\t\tdictionary: this.options.dictionary,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tgetFormFields()\n\t{\n\t\tconst disallowedTypes = (() => {\n\t\t\tif (\n\t\t\t\t!Type.isPlainObject(this.options.dictionary.deps.field)\n\t\t\t\t|| !Type.isArrayFilled(this.options.dictionary.deps.field.disallowed)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn this.options.dictionary.deps.field.disallowed;\n\t\t})();\n\n\t\treturn this.options.fields.filter((field) => {\n\t\t\treturn (\n\t\t\t\t!Type.isArrayFilled(disallowedTypes)\n\t\t\t\t|| (\n\t\t\t\t\t!disallowedTypes.includes(field.type)\n\t\t\t\t\t&& (\n\t\t\t\t\t\t!Type.isPlainObject(field.content)\n\t\t\t\t\t\t|| disallowedTypes.includes(field.content.type)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\t}\n\n\tonFieldRemove(event: BaseEvent)\n\t{\n\t\tthis.getRulesForm().removeField(event.getTarget());\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(true);\n\t\tthis.addItem(header);\n\t\tthis.addItem(this.getRuleTypeField());\n\t}\n\n\tgetRulesForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('rulesForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\tselector: 'dependencies',\n\t\t\t\tdescription: null,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetActionPanel(): ActionPanel\n\t{\n\t\treturn this.cache.remember('actionPanel', () => {\n\t\t\treturn new ActionPanel({\n\t\t\t\tleft: [\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttext: Loc.getMessage('LANDING_FIELDS_ADD_NEW_RULE_LINK_LABEL'),\n\t\t\t\t\t// \tonClick: this.onAddRuleClick.bind(this),\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('headerCard', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCreateRule()\n\t{\n\t\tthis.clear();\n\n\t\tconst header = this.getHeader();\n\t\theader.setBottomMargin(false);\n\t\tthis.addItem(header);\n\n\t\tconst ruleForm = this.getRulesForm();\n\n\t\truleForm.addField(\n\t\t\tnew RuleField({\n\t\t\t\tfields: this.getFormFields(),\n\t\t\t\trules: [],\n\t\t\t\tonRemove: this.onFieldRemove.bind(this),\n\t\t\t\tdictionary: this.options.dictionary,\n\t\t\t}),\n\t\t);\n\n\t\tthis.addItem(ruleForm);\n\t\tthis.addItem(this.getActionPanel());\n\t}\n\n\tgetRuleTypeField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('ruleTypeField', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'rules-type',\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type1-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_1'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type2-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_2'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type3',\n\t\t\t\t\t\ticon: 'landing-ui-rules-type3-icon',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_3'),\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\ttext: Loc.getMessage('LANDING_FIELDS_RULES_TYPE_BUTTON'),\n\t\t\t\t\t\t\tonClick: this.onCreateRule.bind(this),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\tsoon: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonAddRuleClick()\n\t{\n\t\tconst radioField = this.getRuleTypeField();\n\t\tthis.insertBefore(radioField, this.items[this.items.length - 1]);\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\treturn {\n\t\t\tdependencies: Object.values(value).map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\ttypeId: 0,\n\t\t\t\t\tlist: item.reduce((acc, listItems) => {\n\t\t\t\t\t\tlistItems.forEach((listItem) => {\n\t\t\t\t\t\t\tlistItem.expression.forEach((expItem) => {\n\t\t\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\t\t\tcondition: {\n\t\t\t\t\t\t\t\t\t\ttarget: listItem.condition.field,\n\t\t\t\t\t\t\t\t\t\tevent: 'change',\n\t\t\t\t\t\t\t\t\t\tvalue: listItem.condition.value,\n\t\t\t\t\t\t\t\t\t\toperation: listItem.condition.operator,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t\t\t\ttarget: expItem.field,\n\t\t\t\t\t\t\t\t\t\ttype: expItem.action,\n\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []),\n\t\t\t\t};\n\t\t\t}),\n\t\t};\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Dom, Tag, Type, Event, Text} from 'main.core';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {fetchEventsFromOptions} from 'landing.ui.component.internal';\n\nexport class ActionPagesField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.ActionPagesField');\n\t\tthis.subscribeFromOptions(fetchEventsFromOptions(options));\n\t\tthis.setLayoutClass('landing-ui-field-action-pages');\n\n\t\tDom.append(this.getSuccess(), this.input);\n\t\tDom.append(this.getFailure(), this.input);\n\n\t\tEvent.bind(document, 'click', this.onDocumentClick.bind(this));\n\t\tEvent.bind(window.top.document, 'click', this.onDocumentClick.bind(this));\n\t}\n\n\tstatic createPageBlock(\n\t\toptions: {\n\t\t\ttype: 'success' | 'failure',\n\t\t\ttitle: string,\n\t\t\ttext: string,\n\t\t\tonShowClick: (event: MouseEvent) => void,\n\t\t\tonEditClick: (event: MouseEvent) => void,\n\t\t},\n\t): HTMLDivElement\n\t{\n\t\tconst classPrefix = 'landing-ui-field-action-pages-page';\n\n\t\tconst onEditClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tconst inner = event.currentTarget.closest(`.${classPrefix}-inner`);\n\t\t\tconst textContainer = inner.querySelector(`.${classPrefix}-text`);\n\t\t\tDom.attr(textContainer, 'contenteditable', !textContainer.isContentEditable);\n\t\t\tif (Type.isFunction(options.onEditClick))\n\t\t\t{\n\t\t\t\toptions.onEditClick(event);\n\t\t\t}\n\t\t};\n\n\t\tconst onEditorClick = (event) => {\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tconst onViewClick = (event: MouseEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (Type.isFunction(options.onShowClick))\n\t\t\t{\n\t\t\t\toptions.onShowClick(event);\n\t\t\t}\n\t\t};\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${classPrefix} ${classPrefix}-${options.type}\">\n\t\t\t\t<div class=\"${classPrefix}-title\">\n\t\t\t\t\t${options.title}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${classPrefix}-inner\">\n\t\t\t\t\t<div class=\"${classPrefix}-header\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-header-view\" onclick=\"${onViewClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_SHOW')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-icon\"></div>\n\t\t\t\t\t<div class=\"${classPrefix}-text\" onclick=\"${onEditorClick}\" oninput=\"${options.onInput}\">\n\t\t\t\t\t\t${Text.encode(options.text)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${classPrefix}-footer\">\n\t\t\t\t\t\t<span class=\"${classPrefix}-footer-edit\" onclick=\"${onEditClick}\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_PAGE_EDIT')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonDocumentClick()\n\t{\n\t\tconst successInput = this.getSuccess().querySelector('.landing-ui-field-action-pages-page-text');\n\t\tconst failureInput = this.getFailure().querySelector('.landing-ui-field-action-pages-page-text');\n\n\t\tDom.attr(successInput, 'contenteditable', null);\n\t\tDom.attr(failureInput, 'contenteditable', null);\n\t}\n\n\tgetSuccess(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('success', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'success',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_SUCCESS_PAGE_TITLE'),\n\t\t\t\ttext: this.options.successText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailure(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('failure', () => {\n\t\t\treturn ActionPagesField.createPageBlock({\n\t\t\t\ttype: 'failure',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_EDIT_FAILURE_PAGE_TITLE'),\n\t\t\t\ttext: this.options.failureText,\n\t\t\t\tonInput: () => {\n\t\t\t\t\tthis.emit('onChange');\n\t\t\t\t},\n\t\t\t\tonShowClick: () => {\n\t\t\t\t\tthis.emit('onShowFailure');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSuccessText(): string\n\t{\n\t\treturn this.getSuccess()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetFailureText(): string\n\t{\n\t\treturn this.getFailure()\n\t\t\t.querySelector('.landing-ui-field-action-pages-page-text')\n\t\t\t.innerText;\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tsuccess: this.getSuccessText(),\n\t\t\tfailure: this.getFailureText(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/actions/images/type2.svg\"","import {Dom, Text, Type} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ActionPagesField} from './internal/action-pages/action-pages';\n\nimport type1Icon from './images/type1.svg';\nimport type2Icon from './images/type2.svg';\n\nimport './css/style.css';\n\nexport default class ActionsContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.ActionsContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-actions-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\n\t\tthis.getActionPages()\n\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\tthis.emit('onShowSuccess');\n\t\t\t})\n\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\tthis.emit('onShowFailure');\n\t\t\t});\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselectable: true,\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isStringFilled(this.options.values.success.url)\n\t\t\t\t\t\t&& Type.isStringFilled(this.options.values.failure.url)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 'type2';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn 'type1';\n\t\t\t\t})(),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type1',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_1'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type1',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'type2',\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_2'),\n\t\t\t\t\t\ticon: 'landing-ui-form-actions-type2',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCheckbox()\n\t{\n\t\treturn this.cache.remember('checkbox', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_ACTIONS_CHECKBOX_TITLE'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\t\t\tfield.setIcon(type1Icon);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetSuccessLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('successLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_SUCCESS_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.success.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFailureLinkField(): BX.Landing.UI.Field.LinkURL\n\t{\n\t\treturn this.cache.remember('failureLinkField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_FAILURE_FIELD_TITLE'),\n\t\t\t\tplaceholder: 'http://',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.failure.url,\n\t\t\t\tonInput: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('delayField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'redirectDelay',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_TITLE'),\n\t\t\t\tcontent: this.options.values.redirectDelay,\n\t\t\t\titems: Array.from({length: 11}, (item, index) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: `${index} ${Loc.getMessage('LANDING_FORM_ACTIONS_DELAY_ITEM')}`,\n\t\t\t\t\t\tvalue: (index),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tonChange()\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetActionPages()\n\t{\n\t\treturn this.cache.remember('actionPages', () => {\n\t\t\treturn new ActionPagesField({\n\t\t\t\tsuccessText: this.options.values.success.text,\n\t\t\t\tfailureText: this.options.values.failure.text,\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(typeDropdown);\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1Icon);\n\t\t\tthis.addItem(this.getActionPages());\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2Icon);\n\t\t\tthis.addItem(this.getSuccessLinkField());\n\t\t\tthis.addItem(this.getFailureLinkField());\n\t\t\tthis.addItem(this.getDelayField());\n\t\t}\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst actionPagesValue = this.getActionPages().getValue();\n\t\tconst useRedirect = this.getTypeButtons().getValue() === 'type2';\n\n\t\treturn {\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: actionPagesValue.success,\n\t\t\t\t\turl: useRedirect ? Text.decode(this.getSuccessLinkField().getValue()) : '',\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: actionPagesValue.failure,\n\t\t\t\t\turl: useRedirect ? Text.decode(this.getFailureLinkField().getValue()) : '',\n\t\t\t\t},\n\t\t\t\tredirectDelay: this.getDelayField().getValue(),\n\t\t\t},\n\t\t};\n\t}\n}","import {Dom, Tag, Event, Text} from 'main.core';\nimport {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {PageObject} from 'landing.pageobject';\nimport {Button} from 'ui.buttons';\n\nimport './css/style.css';\n\nexport class EmbedField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.EmbedField');\n\t\tthis.setLayoutClass('landing-ui-field-embed');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getHeader(), this.layout);\n\t\tDom.append(this.input, this.layout);\n\n\t\tEvent.bind(this.input, 'click', this.onInputClick.bind(this));\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_COPY_BUTTON_LABEL'),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_COPIED_BUTTON_LABEL'));\n\n\t\tDom.addClass(this.getHeader(), 'landing-ui-field-embed-header-copied');\n\t}\n\n\tonInputClick(event: MouseEvent)\n\t{\n\t\tevent.preventDefault();\n\t\tthis.selectCode();\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.input);\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-embed-header\">\n\t\t\t\t\t<div class=\"landing-ui-field-embed-header-button\">\n\t\t\t\t\t\t${this.getCopyButton().render()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tsetValue(value: * = '')\n\t{\n\t\tthis.input.innerHTML = Text.encode(value);\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\n\nexport default class WidgetField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Filed.WidgetField');\n\t\tthis.setLayoutClass('landing-ui-filed-widget');\n\n\t\tDom.append(this.getInputWrapper(), this.layout);\n\t}\n\n\tgetInputWrapper(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('inputWrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-filed-widget-wrapper\">\n\t\t\t\t\t${this.input}\n\t\t\t\t\t${this.getSettingsButton().render()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetSettingsButton(): Button\n\t{\n\t\treturn this.cache.remember('settingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_BUTTON_LABEL'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\ticon: Button.Icon.SETTING,\n\t\t\t});\n\t\t});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Tag, Dom} from 'main.core';\nimport {Button} from 'ui.buttons';\nimport {Loc} from 'landing.loc';\nimport {Link} from 'landing.ui.component.link';\nimport {PageObject} from 'landing.pageobject';\n\nimport './css/style.css';\n\ntype CopyLinkFieldOptions = {\n\tlink: string,\n};\n\nexport default class CopyLinkField extends BaseField\n{\n\tconstructor(options: CopyLinkFieldOptions)\n\t{\n\t\tsuper(options);\n\t\tthis.setLayoutClass('landing-ui-field-copy-link');\n\n\t\tDom.clean(this.layout);\n\t\tDom.append(this.getLink(), this.layout);\n\t\tDom.append(this.getCopyButton().render(), this.layout);\n\t}\n\n\tgetLink()\n\t{\n\t\treturn this.cache.remember('link', () => {\n\t\t\tconst link = new Link({\n\t\t\t\ttext: this.options.link,\n\t\t\t\thref: this.options.link,\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-copy-link-preview\">\n\t\t\t\t\t${link.getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCopyButton(): Button\n\t{\n\t\treturn this.cache.remember('copyButton', () => {\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_EMBED_PUB_COPY_LINK_BUTTON_LABEL'),\n\t\t\t\tonclick: this.onCopyButtonClick.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tselectCode()\n\t{\n\t\tPageObject\n\t\t\t.getRootWindow()\n\t\t\t.getSelection()\n\t\t\t.selectAllChildren(this.getLink());\n\t}\n\n\tonCopyButtonClick()\n\t{\n\t\tthis.selectCode();\n\t\tconst rootWindow = PageObject.getRootWindow();\n\n\t\trootWindow.document.execCommand('copy');\n\t\trootWindow.getSelection().removeAllRanges();\n\n\t\tconst button = this.getCopyButton();\n\t\tbutton.setColor(Button.Color.LINK);\n\t\tbutton.setIcon(Button.Icon.DONE);\n\t\tbutton.setText(Loc.getMessage('LANDING_FORM_EMBED_PUB_COPIED_LINK_BUTTON_LABEL'));\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport class PositionField extends BaseField\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper(options);\n\n\t\tthis.horizontal = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'horizontal',\n\t\t\tcontent: options.value.horizontal,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_LEFT'), value: 'left'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_CENTER'), value: 'center'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_RIGHT'), value: 'right'},\n\t\t\t],\n\t\t});\n\n\t\tthis.vertical = new BX.Landing.UI.Field.Dropdown({\n\t\t\tselector: 'vertical',\n\t\t\tcontent: options.value.vertical,\n\t\t\titems: [\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_TOP'), value: 'top'},\n\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_POSITION_BOTTOM'), value: 'bottom'},\n\t\t\t],\n\t\t});\n\n\t\tthis.horizontal.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tthis.vertical.subscribe('onChange', () => {\n\t\t\tthis.emit('onChange');\n\t\t});\n\n\t\tconst fieldsInner = this.getFieldsInner();\n\n\t\tDom.append(this.horizontal.getLayout(), fieldsInner);\n\t\tDom.append(this.vertical.getLayout(), fieldsInner);\n\n\t\tDom.replace(this.input, fieldsInner);\n\t}\n\n\tgetFieldsInner(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('fieldsInner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-position-fields-inner\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetValue(): {vertical: string, horizontal: string}\n\t{\n\t\treturn {\n\t\t\tvertical: this.vertical.getValue(),\n\t\t\thorizontal: this.horizontal.getValue(),\n\t\t};\n\t}\n\n\tsetValue(value: {vertical: string, horizontal: string})\n\t{\n\t\tthis.vertical.setValue(value.vertical);\n\t\tthis.horizontal.setValue(value.horizontal);\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type1.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type2.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type3.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type4.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type5.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/embed/images/type6.svg\"","import {Dom} from 'main.core';\nimport {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {VariablesField} from 'landing.ui.field.variablesfield';\n\nimport {EmbedField} from './internal/embedfield/embedfield';\nimport WidgetField from './internal/widgetfield/widgetfield';\nimport CopyLinkField from './internal/copylinkfield/copylinkfield';\nimport {PositionField} from './internal/positionfield/positionfield';\n\nimport type1icon from './images/type1.svg';\nimport type2icon from './images/type2.svg';\nimport type3icon from './images/type3.svg';\nimport type4icon from './images/type4.svg';\nimport type5icon from './images/type5.svg';\nimport type6icon from './images/type6.svg';\n\nimport './css/style.css';\n\nexport default class EmbedContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.EmbedContent');\n\n\t\tDom.addClass(this.getLayout(), 'landing-ui-embed-content-wrapper');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypeButtons());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeButtons(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typeButtons', () => {\n\t\t\treturn new RadioButtonField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_TYPE_FIELD_TITLE'),\n\t\t\t\titems: [1, 3, 4, 2, 5, 6].map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: `type${item}`,\n\t\t\t\t\t\ttitle: Loc.getMessage(`LANDING_FORM_EMBED_TYPE_${item}`),\n\t\t\t\t\t\ticon: `landing-ui-form-embed-type${item}`,\n\t\t\t\t\t\tsoon: [2, 5, 6].includes(item),\n\t\t\t\t\t\tdisabled: [2, 5, 6].includes(item),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t\tselectable: false,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypeDropdown(): PresetField\n\t{\n\t\treturn this.cache.remember('typeDropdown', () => {\n\t\t\tconst field = new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tthis.addItem(this.getHeader());\n\t\t\t\t\t\tthis.addItem(this.getTypeButtons());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tfield.setTitle(Loc.getMessage('LANDING_FORM_ACTIONS_TYPE_DROPDOWN_TITLE'));\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetType1Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type1Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_1_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type3Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_3_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type4Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType5Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type5Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_4_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType8Message(): MessageCard\n\t{\n\t\treturn this.cache.remember('type8Message', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TITLE'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_TYPE_8_MESSAGE_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetEmbedField(): EmbedField\n\t{\n\t\treturn this.cache.remember('embedField', () => {\n\t\t\treturn new EmbedField({\n\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_CLICK_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_AUTO_SHOW_SETTINGS_HEADER'),\n\t\t\t\tlevel: 2,\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SETTINGS_DESCRIPTION'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLinkTextField()\n\t{\n\t\treturn this.cache.remember('linkTextField', () => {\n\t\t\treturn new VariablesField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_LINK_TEXT_SETTINGS_FIELD_TITLE'),\n\t\t\t\tvariables: [\n\t\t\t\t\t{name: 'Test', value: 'test'},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Checkbox(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('type4checkbox', () => {\n\t\t\tconst field = new BX.Landing.UI.Field.Radio({\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_PAGE_LOADED'),\n\t\t\t\t\t\tvalue: 'pageLoaded',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\thtml: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_TIME'),\n\t\t\t\t\t\tvalue: 'afterTime',\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tname: Loc.getMessage('LANDING_FORM_EMBED_SHOW_AFTER_SCROLL_TO_ANCHOR'),\n\t\t\t\t\t// \tvalue: 'scrollToAnchor',\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (this.options.values.views.auto.delay > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn ['afterTime'];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ['pageLoaded'];\n\t\t\t\t})(),\n\t\t\t});\n\n\t\t\tDom.replace(\n\t\t\t\tfield.layout.querySelector('.delay_time'),\n\t\t\t\tthis.getDelayDropdown().getLayout(),\n\t\t\t);\n\n\t\t\treturn field;\n\t\t});\n\t}\n\n\tgetWidgetField(): WidgetField\n\t{\n\t\treturn this.cache.remember('widgetField', () => {\n\t\t\treturn new WidgetField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_TITLE'),\n\t\t\t\tplaceholder: Loc.getMessage('LANDING_FORM_EMBED_WIDGET_FIELD_PLACEHOLDER'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCopyLinkField(): CopyLinkField\n\t{\n\t\treturn this.cache.remember('copyLinkField', () => {\n\t\t\treturn new CopyLinkField({\n\t\t\t\tlink: 'https://bitrix24.io/pub/my/form/link',\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDelayDropdown(): BX.Landing.UI.Field.DropdownInline\n\t{\n\t\treturn this.cache.remember('delayDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.DropdownInline({\n\t\t\t\tselector: 'showDelay',\n\t\t\t\tcontent: this.options.values.views.auto.delay,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '5c',\n\t\t\t\t\t\tvalue: '5',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '10c',\n\t\t\t\t\t\tvalue: '10',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '15c',\n\t\t\t\t\t\tvalue: '15',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tonChange: this.onChange.bind(this),\n\t\t\t\tskipInitialEvent: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3PositionField()\n\t{\n\t\treturn this.cache.remember('type3PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4PositionField()\n\t{\n\t\treturn this.cache.remember('type4PositionField', () => {\n\t\t\treturn new PositionField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_POSITION_FIELD_TITLE'),\n\t\t\t\tvalue: {\n\t\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type3ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.click.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4ShowTypeField()\n\t{\n\t\treturn this.cache.remember('type4ShowTypeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_EMBED_SHOW_TYPE'),\n\t\t\t\tselector: 'type',\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_POPUP'), value: 'popup'},\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_EMBED_SHOW_SLIDER'), value: 'panel'},\n\t\t\t\t],\n\t\t\t\tcontent: this.options.values.views.auto.type,\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst typeDropdown = this.getTypeDropdown();\n\n\t\tif (/type[1-6]$/.test(data.item.id))\n\t\t{\n\t\t\tthis.clear();\n\t\t\tthis.addItem(this.getHeader());\n\t\t\tthis.addItem(typeDropdown);\n\t\t}\n\n\t\ttypeDropdown.setLinkText(data.item.title.replace(/&nbsp;/, ' '));\n\n\t\tconst embedField = this.getEmbedField();\n\n\t\tif (data.item.id === 'type1')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type1icon);\n\t\t\tthis.addItem(this.getType1Message());\n\n\t\t\tembedField.setValue(this.options.values.scripts.inline.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type2')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type2icon);\n\t\t\t// this.addItem(this.getType2Header());\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type3')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type3icon);\n\t\t\t// this.addItem(this.getLinkTextField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.click.text);\n\t\t\tconst positionField = this.getType3PositionField();\n\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.click.vertical,\n\t\t\t\thorizontal: this.options.values.views.click.position,\n\t\t\t});\n\n\t\t\tthis.addItem(this.getType3Message());\n\t\t\tthis.addItem(this.getType3Header());\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType3ShowTypeField());\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type4')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type4icon);\n\t\t\tthis.addItem(this.getType4Message());\n\t\t\tthis.addItem(this.getType4Header());\n\t\t\tthis.addItem(this.getType4Checkbox());\n\n\t\t\tconst positionField = this.getType4PositionField();\n\t\t\tpositionField.setValue({\n\t\t\t\tvertical: this.options.values.views.auto.vertical,\n\t\t\t\thorizontal: this.options.values.views.auto.position,\n\t\t\t});\n\t\t\tthis.addItem(positionField);\n\t\t\tthis.addItem(this.getType4ShowTypeField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type5')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type5icon);\n\t\t\tthis.addItem(this.getType5Message());\n\t\t\tthis.addItem(this.getWidgetField());\n\n\t\t\tembedField.setValue(this.options.values.scripts.auto.text);\n\t\t\tthis.addItem(embedField);\n\t\t}\n\n\t\tif (data.item.id === 'type6')\n\t\t{\n\t\t\ttypeDropdown.setIcon(type6icon);\n\t\t\tthis.addItem(this.getCopyLinkField());\n\t\t}\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {skipPrepare: true});\n\t}\n\n\tgetValue(): {[p: string]: any}\n\t{\n\t\tconst type3positionValue = this.getType3PositionField().getValue();\n\t\tconst type4positionValue = this.getType4PositionField().getValue();\n\n\t\treturn {\n\t\t\tembedding: {\n\t\t\t\tviews: {\n\t\t\t\t\tauto: {\n\t\t\t\t\t\tdelay: (() => {\n\t\t\t\t\t\t\tif (this.getType4Checkbox().getValue().includes('pageLoaded'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn this.getDelayDropdown().getValue();\n\t\t\t\t\t\t})(),\n\t\t\t\t\t\tposition: type4positionValue.horizontal,\n\t\t\t\t\t\tvertical: type4positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType4ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t\tclick: {\n\t\t\t\t\t\tposition: type3positionValue.horizontal,\n\t\t\t\t\t\tvertical: type3positionValue.vertical,\n\t\t\t\t\t\ttype: this.getType3ShowTypeField().getValue(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/identify/images/icon.svg\"","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Reflection} from 'main.core';\n\nimport messageIcon from './images/icon.svg';\n\nexport default class Identify extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Identify');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_IDENTIFY_HEADER'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\theader: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_HEADER'),\n\t\t\tdescription: Loc.getMessage('LANDING_IDENTIFY_MESSAGE_DESCRIPTION'),\n\t\t\ticon: messageIcon,\n\t\t\tangle: false,\n\t\t\tcloseable: false,\n\t\t\tmore: () => {\n\t\t\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\t\t\t\tif (helper)\n\t\t\t\t{\n\t\t\t\t\tBX.Helper.show('redirect=detail&code=12802786');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {Loc} from 'landing.loc';\nimport {Dom, Tag} from 'main.core';\n\nimport './css/style.css';\n\nexport default class StageField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tDom.replace(this.input, this.getInner());\n\t}\n\n\tgetInner()\n\t{\n\t\treturn this.cache.remember('inner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-stages\">\n\t\t\t\t\t${this.getCategoriesDropdown().getLayout()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCategoriesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('categoriesDropdown', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CATEGORIES_FIELD_TITLE'),\n\t\t\t\tcontent: this.options.value.category,\n\t\t\t\titems: this.options.categories.map((category) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: category.NAME,\n\t\t\t\t\t\tvalue: category.ID,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t\tonChange: this.onCategoryChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCurrentCategory()\n\t{\n\t\tconst currentCategoryId = this.getCategoriesDropdown().getValue();\n\n\t\treturn this.options.categories.find((category) => {\n\t\t\treturn String(category.ID) === String(currentCategoryId);\n\t\t});\n\t}\n\n\tonCategoryChange()\n\t{\n\t\tconst oldStagesDropdown = this.getStagesDropdown();\n\t\tthis.cache.delete('stagesDropdown');\n\n\t\tif (oldStagesDropdown.popup)\n\t\t{\n\t\t\toldStagesDropdown.popup.destroy();\n\t\t}\n\n\t\tconst newStagesDropdown = this.getStagesDropdown();\n\t\tDom.replace(oldStagesDropdown.getLayout(), newStagesDropdown.getLayout());\n\t\tthis.emit('onChange');\n\t}\n\n\tgetStagesDropdown(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('stagesDropdown', () => {\n\t\t\tconst stages = this.getCurrentCategory().STAGES;\n\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_STAGES_FIELD_TITLE'),\n\t\t\t\titems: stages.map((stage) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: stage.NAME,\n\t\t\t\t\t\tvalue: stage.ID,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tcategory: this.getCategoriesDropdown().getValue(),\n\t\t\tstage: this.getStagesDropdown().getValue(),\n\t\t};\n\t}\n}","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/internal/content/crm/images/message-icon.svg\"","import {Loc} from 'landing.loc';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {RadioButtonField} from 'landing.ui.field.radiobuttonfield';\nimport {BaseEvent} from 'main.core.events';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {Text} from 'main.core';\nimport StageField from './internal/stagefield/stagefield';\n\nimport messageIcon from './images/message-icon.svg';\n\nimport './css/style.css';\n\n\nexport default class CrmContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.CrmContent');\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\t\tthis.addItem(this.getExpertSettingsForm());\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesField(): BX.Landing.UI.Field.Radio\n\t{\n\t\treturn this.cache.remember('duplicatesField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Radio({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_FIELD_TITLE'),\n\t\t\t\tselector: 'duplicateMode',\n\t\t\t\tvalue: [this.options.values.duplicateMode ? this.options.values.duplicateMode : 'ALLOW'],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_ALLOW'),\n\t\t\t\t\t\tvalue: 'ALLOW',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_REPLACE'),\n\t\t\t\t\t\tvalue: 'REPLACE',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_DUPLICATES_MERGE'),\n\t\t\t\t\t\tvalue: 'MERGE',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPaymentField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('paymentField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'payment',\n\t\t\t\tvalue: [this.options.values.payment],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_SHOW_PAYMENT'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetOrderSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('formSettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_HEADER'),\n\t\t\t\ttoggleable: true,\n\t\t\t\topened: Text.toNumber(this.options.values.scheme) > 4,\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPaymentField(),\n\t\t\t\t\tnew MessageCard({\n\t\t\t\t\t\tid: 'orderMessage',\n\t\t\t\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_HEADER'),\n\t\t\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_ORDER_MESSAGE_DESCRIPTION'),\n\t\t\t\t\t\tangle: false,\n\t\t\t\t\t\ticon: messageIcon,\n\t\t\t\t\t\trestoreState: true,\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType1Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type1header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType2Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type2header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType3Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type3header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetType4Header(): HeaderCard\n\t{\n\t\treturn this.cache.remember('type4header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4').replace('&nbsp;', ' '),\n\t\t\t\tlevel: 2,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetExpertSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('expertSettingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_EXPERT_MODE'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Link,\n\t\t\t\topened: false,\n\t\t\t\tfields: [\n\t\t\t\t\tnew HeaderCard({\n\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1').replace('&nbsp;', ' '),\n\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t}),\n\t\t\t\t\tthis.getDuplicatesField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTypesField(): RadioButtonField\n\t{\n\t\treturn this.cache.remember('typesField', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.onTypeChange(\n\t\t\t\t\tnew BaseEvent({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\titem: {\n\t\t\t\t\t\t\t\tid: this.options.values.scheme,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tconst items = [\n\t\t\t\t{\n\t\t\t\t\tid: '2',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_2'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type2',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '3',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_3'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type3',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '4',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_4'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type4',\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tif (this.options.isLeadEnabled)\n\t\t\t{\n\t\t\t\titems.unshift({\n\t\t\t\t\tid: '1',\n\t\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_TYPE_1'),\n\t\t\t\t\ticon: 'landing-ui-crm-entity-type1',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn new RadioButtonField({\n\t\t\t\tselector: 'scheme',\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tif (String(this.options.values.scheme) === '8')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '5')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '6')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (String(this.options.values.scheme) === '7')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn 4;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.options.values.scheme;\n\t\t\t\t})(),\n\t\t\t\titems,\n\t\t\t\tonChange: this.onTypeChange.bind(this),\n\t\t\t});\n\t\t});\n\t}\n\t\n\tgetStagesField()\n\t{\n\t\treturn this.cache.remember('stagesField', () => {\n\t\t\treturn new StageField({\n\t\t\t\tcategories: this.options.categories,\n\t\t\t\tvalue: {\n\t\t\t\t\tcategory: this.options.values.category,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDuplicatesEnabledField()\n\t{\n\t\treturn this.cache.remember('duplicatesEnabledField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'duplicatesEnabled',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [this.options.values.duplicatesEnabled],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_CRM_DUPLICATES_ENABLED'),\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonTypeChange(event: BaseEvent)\n\t{\n\t\tconst {item} = event.getData();\n\n\t\tthis.clear();\n\n\t\tthis.addItem(this.getHeader());\n\t\tthis.addItem(this.getTypesField());\n\n\t\tconst expertSettingsForm = this.getExpertSettingsForm();\n\t\texpertSettingsForm.clear();\n\n\t\tif (String(item.id) === '1' || String(item.id) === '8')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType1Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '2' || String(item.id) === '5')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType2Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '3' || String(item.id) === '6')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType3Header());\n\t\t\texpertSettingsForm.addField(this.getStagesField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesEnabledField());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (String(item.id) === '4' || String(item.id) === '7')\n\t\t{\n\t\t\texpertSettingsForm.addField(this.getType4Header());\n\t\t\texpertSettingsForm.addField(this.getDuplicatesField());\n\t\t}\n\n\t\tif (Text.toNumber(item.id) > 4 || this.getOrderSettingsForm().isOpened())\n\t\t{\n\t\t\tthis.getOrderSettingsForm().onSwitchChange(true);\n\t\t}\n\n\t\tthis.addItem(expertSettingsForm);\n\t\tthis.addItem(this.getOrderSettingsForm());\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n\n\tvalueReducer(value: {[p: string]: any}): {[p: string]: any}\n\t{\n\t\tconst duplicateMode = this.getDuplicatesField().getValue()[0];\n\t\tconst reducedValue = {\n\t\t\tduplicateMode: duplicateMode === 'ALLOW' ? '' : duplicateMode,\n\t\t\tscheme: this.getTypesField().getValue(),\n\t\t\tdeal: {\n\t\t\t\tduplicatesEnabled: Text.toBoolean(this.getDuplicatesEnabledField().getValue()[0]),\n\t\t\t},\n\t\t\tpayment: {\n\t\t\t\tuse: this.getPaymentField().getValue().length > 0,\n\t\t\t},\n\t\t};\n\n\t\tif (this.getOrderSettingsForm().isOpened())\n\t\t{\n\t\t\tif (String(reducedValue.scheme) === '1')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '8';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '2')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '5';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '3')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '6';\n\t\t\t}\n\n\t\t\tif (String(reducedValue.scheme) === '4')\n\t\t\t{\n\t\t\t\treducedValue.scheme = '7';\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tString(reducedValue.scheme) === '3'\n\t\t\t|| String(reducedValue.scheme) === '6'\n\t\t)\n\t\t{\n\t\t\treducedValue.deal.category = this.getStagesField().getValue().category;\n\t\t}\n\n\t\treturn {\n\t\t\tdocument: reducedValue,\n\t\t};\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {DefaultValueField} from 'landing.ui.field.defaultvaluefield';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\n\nimport './css/style.css';\nimport {Dom} from 'main.core';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class DefaultValues extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.DefaultValues');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_TITLE'),\n\t\t});\n\n\t\tconst message = new MessageCard({\n\t\t\tid: 'defaultValueMessage',\n\t\t\theader: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_TITLE'),\n\t\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_DEFAULT_VALUE_MESSAGE_DESCRIPTION'),\n\t\t\trestoreState: true,\n\t\t});\n\n\t\tconst fieldsForm = new FormSettingsForm({\n\t\t\tfields: [\n\t\t\t\tnew DefaultValueField({\n\t\t\t\t\tselector: 'presetFields',\n\t\t\t\t\tisLeadEnabled: this.options.isLeadEnabled,\n\t\t\t\t\tpersonalizationVariables: this.options.personalizationVariables,\n\t\t\t\t\tformOptions: {\n\t\t\t\t\t\t...this.options.formOptions,\n\t\t\t\t\t},\n\t\t\t\t\tcrmFields: {\n\t\t\t\t\t\t...this.options.crmFields,\n\t\t\t\t\t},\n\t\t\t\t\tdictionary: {\n\t\t\t\t\t\t...this.options.dictionary,\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...this.options.values.fields,\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\tif (!message.isShown())\n\t\t{\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t}\n\n\t\tmessage.subscribe('onClose', () => {\n\t\t\tfieldsForm.setOffsetTop(-36);\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(message);\n\t\tthis.addItem(fieldsForm);\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\tconst layout = super.getLayout();\n\t\tDom.addClass(layout, 'landing-ui-default-fields-values');\n\n\t\treturn layout;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport {type FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class FacebookContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.FacebookContent');\n\n\t\tthis.addItem(\n\t\t\tnew HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\t\t}),\n\t\t);\n\n\t\tif (this.options.formOptions.integration.canUse)\n\t\t{\n\t\t\tconst buttonCard = new BaseCard();\n\t\t\tconst button = new Button({\n\t\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=facebook`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tDom.style(buttonCard.getLayout(), {\n\t\t\t\tpadding: 0,\n\t\t\t\tmargin: 0,\n\t\t\t});\n\n\t\t\tDom.append(button.render(), buttonCard.getBody());\n\t\t\tthis.addItem(buttonCard);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(\n\t\t\t\tnew MessageCard({\n\t\t\t\t\theader: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_HEADER'),\n\t\t\t\t\tdescription: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_FB_TEXT'),\n\t\t\t\t\tangle: false,\n\t\t\t\t\tcloseable: false,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'facebook';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_FACEBOOK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {Button} from 'ui.buttons';\nimport {BaseCard} from 'landing.ui.card.basecard';\nimport {Dom} from 'main.core';\nimport type {FormOptions} from 'crm.form.type';\nimport {FormClient} from 'crm.form.client';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class VkContent extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.VkContent');\n\n\t\tthis.addItem(\n\t\t\tnew HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\t\t}),\n\t\t);\n\n\t\tif (this.options.formOptions.integration.canUse)\n\t\t{\n\t\t\tconst buttonCard = new BaseCard();\n\t\t\tconst button = new Button({\n\t\t\t\ttext: this.prepareButtonText(this.options.formOptions),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\t\t`/crm/webform/ads/${this.options.formOptions.id}/?type=vkontakte`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcacheable: false,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\tconst client = FormClient.getInstance();\n\t\t\t\t\t\t\t\t\tclient.resetCache(this.options.formOptions.id);\n\n\t\t\t\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t\t\t\t.getOptions(this.options.formOptions.id)\n\t\t\t\t\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\t\t\t\t\tbutton.setText(this.prepareButtonText(result));\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tDom.style(buttonCard.getLayout(), {\n\t\t\t\tpadding: 0,\n\t\t\t\tmargin: 0,\n\t\t\t});\n\n\t\t\tDom.append(button.render(), buttonCard.getBody());\n\t\t\tthis.addItem(buttonCard);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.addItem(\n\t\t\t\tnew MessageCard({\n\t\t\t\t\theader: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_HEADER'),\n\t\t\t\t\tdescription: Loc.getMessage('LANDING_CRM_FORM_INTEGRATION_SEO_NOT_INSTALLED_VK_TEXT'),\n\t\t\t\t\tangle: false,\n\t\t\t\t\tcloseable: false,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tprepareButtonText(formOptions: FormOptions)\n\t{\n\t\tconst enabled = formOptions.integration.cases.some((item) => {\n\t\t\treturn item.providerCode === 'vkontakte';\n\t\t});\n\n\t\tif (enabled)\n\t\t{\n\t\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON_ENABLED');\n\t\t}\n\n\t\treturn Loc.getMessage('LANDING_FORM_SETTINGS_VK_BUTTON');\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Text} from 'main.core';\nimport {BaseEvent} from 'main.core.events';\nimport {Loc} from 'landing.loc';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {MessageCard} from 'landing.ui.card.messagecard';\n\nexport default class Callback extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.Callback');\n\n\t\tthis.addItem(this.getHeader());\n\n\t\tif (!this.isAvailable())\n\t\t{\n\t\t\tthis.addItem(this.getWarningMessage());\n\t\t\tthis.getSettingsForm().disable();\n\t\t}\n\n\t\tthis.addItem(this.getSettingsForm());\n\t}\n\n\tgetHeader(): HeaderCard\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn new HeaderCard({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TITLE'),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetWarningMessage()\n\t{\n\t\treturn this.cache.remember('warningMessage', () => {\n\t\t\treturn new MessageCard({\n\t\t\t\theader: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_HEADER'),\n\t\t\t\tdescription: Loc.getMessage('LANDING_FORM_CALLBACK_WARNING_TEXT'),\n\t\t\t\tangle: false,\n\t\t\t\tcloseable: false,\n\t\t\t\thideActions: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tisAvailable(): boolean\n\t{\n\t\treturn this.cache.remember('isAvailable', () => {\n\t\t\treturn this.options.dictionary.callback.from.length > 0;\n\t\t});\n\t}\n\n\tgetSettingsForm(): FormSettingsForm\n\t{\n\t\treturn this.cache.remember('settingsForm', () => {\n\t\t\treturn new FormSettingsForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'),\n\t\t\t\ttoggleable: true,\n\t\t\t\ttoggleableType: FormSettingsForm.ToggleableType.Switch,\n\t\t\t\topened: this.isAvailable() && Text.toBoolean(this.options.values.use),\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getPhoneListField(),\n\t\t\t\t\tthis.getTextField(),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseCheckboxField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useCheckboxField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'use',\n\t\t\t\tcompact: true,\n\t\t\t\tvalue: [Text.toBoolean(this.options.values.use)],\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_USE_CHECKBOX_LABEL'), value: true},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPhoneListField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('phoneListField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'from',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_PHONE_TITLE'),\n\t\t\t\tcontent: this.options.values.from,\n\t\t\t\titems: [\n\t\t\t\t\t{name: Loc.getMessage('LANDING_FORM_DEFAULT_PHONE_NOT_SELECTED'), value: ''},\n\t\t\t\t\t...this.options.dictionary.callback.from.map((item) => {\n\t\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTextField()\n\t{\n\t\treturn this.cache.remember('textField', () => {\n\t\t\treturn new TextField({\n\t\t\t\tselector: 'text',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_CALLBACK_TEXT_TITLE'),\n\t\t\t\tcontent: this.options.values.text,\n\t\t\t\ttextOnly: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tcallback: {\n\t\t\t\t...value,\n\t\t\t\tuse: this.getSettingsForm().isOpened(),\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {BaseField} from 'landing.ui.field.basefield';\nimport {TagSelector} from 'ui.entity-selector';\nimport {PageObject} from 'landing.pageobject';\nimport {Dom} from 'main.core';\n\nexport default class UserSelectorField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tDom.removeClass(this.input, 'landing-ui-field-input');\n\n\t\tthis.getTagSelector().renderTo(this.input);\n\t}\n\n\tgetTagSelector(): TagSelector\n\t{\n\t\treturn this.cache.remember('tagSelector', () => {\n\t\t\tconst root = PageObject.getRootWindow();\n\t\t\treturn new root.BX.UI.EntitySelector.TagSelector({\n\t\t\t\tid: 'user-selector',\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tid: 'user-selector',\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'user',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tactiveUsers: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tpreselectedItems: this.options.value,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t'Item:onSelect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'Item:onDeselect': () => {\n\t\t\t\t\t\t\tthis.emit('onChange', {skipPrepare: true});\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetValue(): Array<number>\n\t{\n\t\treturn this.getTagSelector().getDialog().getSelectedItems().map((item) => {\n\t\t\treturn item.id;\n\t\t});\n\t}\n}","import {HeaderCard} from 'landing.ui.card.headercard';\nimport {Loc} from 'landing.loc';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {TextField} from 'landing.ui.field.textfield';\nimport {ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {BaseEvent} from 'main.core.events';\nimport {Reflection, Type} from 'main.core';\nimport UserSelectorField from './internal/userselectorfield/userselectorfield';\n\nimport './css/style.css';\n\nexport default class Other extends ContentWrapper\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.SpamProtection');\n\n\t\tconst header = new HeaderCard({\n\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE'),\n\t\t});\n\n\t\tconst otherForm = new FormSettingsForm({\n\t\t\tid: 'other',\n\t\t\tdescription: null,\n\t\t\tfields: [\n\t\t\t\tthis.getNameField(),\n\t\t\t\tthis.getUserSelectorField(),\n\t\t\t\tthis.getLanguageField(),\n\t\t\t\tthis.getUseSignField(),\n\t\t\t],\n\t\t});\n\n\t\tthis.addItem(header);\n\t\tthis.addItem(otherForm);\n\t}\n\n\tcanRemoveCopyrights(): boolean\n\t{\n\t\treturn this.options.dictionary.sign.canRemove;\n\t}\n\n\tgetNameField(): TextField\n\t{\n\t\treturn this.cache.remember('nameField', () => {\n\t\t\treturn new TextField({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_OTHER_TITLE_NAME_TITLE'),\n\t\t\t\tselector: 'name',\n\t\t\t\ttextOnly: true,\n\t\t\t\tcontent: this.options.values.name,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUseSignField(): BX.Landing.UI.Field.Checkbox\n\t{\n\t\treturn this.cache.remember('useSignField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'useSign',\n\t\t\t\tvalue: this.options.values.useSign ? ['useSign'] : [],\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'useSign',\n\t\t\t\t\t\thtml: `${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_SHOW_SIGN')}${this.createCopyRight()}`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tcompact: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetUserSelectorField()\n\t{\n\t\treturn this.cache.remember('userSelectorField', () => {\n\t\t\treturn new UserSelectorField({\n\t\t\t\tselector: 'users',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_USER'),\n\t\t\t\tvalue: this.options.values.users.reduce((acc, item) => {\n\t\t\t\t\tif (Type.isStringFilled(item) || Type.isNumber(item))\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push(['user', item]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []),\n\t\t\t});\n\t\t});\n\t}\n\n\tgetLanguageField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('language', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'language',\n\t\t\t\ttitle: Loc.getMessage('LANDING_CRM_FORM_LANGUAGE'),\n\t\t\t\titems: this.options.dictionary.languages.map((item) => {\n\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t}),\n\t\t\t\tcontent: this.options.values.language,\n\t\t\t});\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tcreateCopyRight(): string\n\t{\n\t\treturn `\n\t\t\t<span class=\"landing-ui-signin\">\n\t\t\t\t<span class=\"landing-ui-sign\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-in\">${Loc.getMessage('LANDING_HEADER_AND_BUTTONS_BUTTONS_SIGN_BY')}</span>\n\t\t\t\t<span class=\"landing-ui-sign-24\">24</span>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn {\n\t\t\tname: value.name,\n\t\t\tdata: {\n\t\t\t\tlanguage: this.getLanguageField().getValue(),\n\t\t\t\tuseSign: value.useSign.includes('useSign'),\n\t\t\t},\n\t\t\tresponsible: {\n\t\t\t\tusers: value.users,\n\t\t\t},\n\t\t};\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tif (!this.canRemoveCopyrights())\n\t\t{\n\t\t\tconst checkbox = this.getUseSignField();\n\n\t\t\tif (!checkbox.getValue().includes('useSign'))\n\t\t\t{\n\t\t\t\tcheckbox.setValue(['useSign']);\n\t\t\t\tif (Type.isStringFilled(this.options.dictionary.restriction.helper))\n\t\t\t\t{\n\t\t\t\t\tconst evalGlobal = Reflection.getClass('BX.evalGlobal');\n\t\t\t\t\tif (Type.isFunction(evalGlobal))\n\t\t\t\t\t{\n\t\t\t\t\t\tevalGlobal(this.options.dictionary.restriction.helper);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.emit('onChange', {...event.getData(), skipPrepare: true});\n\t}\n}","import {Loc} from 'landing.loc';\nimport {SidebarButton} from 'landing.ui.button.sidebarbutton';\n\nconst sidebarButtons = [\n\tnew SidebarButton({\n\t\tid: 'fields',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FIELDS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'agreements',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_AGREEMENT'),\n\t\tchild: true,\n\t\timportant: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'crm',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ENTITY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'identify',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_CLIENT_IDENTIFY'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'button_and_header',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_HEADER_AND_BUTTON'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'spam_protection',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_SPAM_PROTECTION'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'fields_rules',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_FIELDS_RULES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'actions',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_ACTIONS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'default_values',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_VALUES'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'analytics',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_DEFAULT_ANALYTICS'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'facebook',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_FACEBOOK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'vk',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_VK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'callback',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CALLBACK'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'embed',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_CRM_EMBED'),\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'more',\n\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_MORE_BUTTON_TEXT'),\n\t\tclassName: 'landing-ui-button-sidebar-more',\n\t\tchild: true,\n\t}),\n\tnew SidebarButton({\n\t\tid: 'other',\n\t\ttext: Loc.getMessage('LANDING_SIDEBAR_BUTTON_OTHER'),\n\t\tchild: true,\n\t}),\n];\n\nexport default sidebarButtons;","import {Loc} from 'landing.loc';\nimport {PresetCategory} from 'landing.ui.panel.basepresetpanel';\n\nconst presetCategories = [\n\tnew PresetCategory({\n\t\tid: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_PRODUCTS'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_SOCIAL'),\n\t}),\n\tnew PresetCategory({\n\t\tid: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CATEGORY_CRM_AUTOMATION'),\n\t}),\n];\n\nexport default presetCategories;","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/integration.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/autoshow.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/revertcall.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/producttext.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/productimage.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/vk.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/facebook.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/crm.svg\"","export default \"/bitrix/js/landing/ui/panel/formsettingspanel/dist/images/icons/service.svg\"","import {Loc} from 'landing.loc';\nimport {Preset} from 'landing.ui.panel.basepresetpanel';\nimport siteIcon from '../images/icons/integration.svg';\nimport widgetAutoShowIcon from '../images/icons/autoshow.svg';\nimport callbackIcon from '../images/icons/revertcall.svg';\nimport productWithTextIcon from '../images/icons/producttext.svg';\nimport productWithImageIcon from '../images/icons/productimage.svg';\nimport vkIcon from '../images/icons/vk.svg';\nimport facebookIcon from '../images/icons/facebook.svg';\nimport crmFormIcon from '../images/icons/crm.svg';\nimport serviceIcon from '../images/icons/service.svg';\n\nconst presets = [\n\tnew Preset({\n\t\tid: 'contacts',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_DESCRIPTION'),\n\t\ticon: siteIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'contacts',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_LAST_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CONTACTS_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'feedback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_DESCRIPTION'),\n\t\ticon: widgetAutoShowIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'feedback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_NAME'},\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t\t{name: 'LEAD_EMAIL'},\n\t\t\t\t\t{name: 'LEAD_COMMENTS'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\tnew Preset({\n\t\tid: 'callback',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_DESCRIPTION'),\n\t\ticon: callbackIcon,\n\t\tdefaultSection: 'callback',\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'embed',\n\t\t\t'callback',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'callback',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttitle: '',\n\t\t\t\tdesc: '',\n\t\t\t\tbuttonCaption: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_BUTTON'),\n\t\t\t\tfields: [\n\t\t\t\t\t{name: 'LEAD_PHONE'},\n\t\t\t\t],\n\t\t\t\tagreements: [{checked: true}],\n\t\t\t\tdependencies: [],\n\t\t\t\trecaptcha: {use: false},\n\t\t\t},\n\t\t\tcaptcha: {key: '', secret: ''},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_CALLBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t\tdocument: {\n\t\t\t\tscheme: 1,\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'expert',\n\t\tcategory: 'crm',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT_DESCRIPTION'),\n\t\ticon: serviceIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'agreements',\n\t\t\t'crm',\n\t\t\t'identify',\n\t\t\t'button_and_header',\n\t\t\t'spam_protection',\n\t\t\t'fields_rules',\n\t\t\t'actions',\n\t\t\t'default_values',\n\t\t\t'analytics',\n\t\t\t'facebook',\n\t\t\t'vk',\n\t\t\t'callback',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\toptions: {\n\t\t\ttemplateId: 'expert',\n\t\t\tname: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_EXPERT'),\n\t\t\tagreements: {\n\t\t\t\tuse: true,\n\t\t\t},\n\t\t\tresult: {\n\t\t\t\tsuccess: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_SUCCESS_TEXT'),\n\t\t\t\t},\n\t\t\t\tfailure: {\n\t\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FEEDBACK_FAILURE_TEXT'),\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}),\n\n\tnew Preset({\n\t\tid: 'products_small',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_SMALL'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_SMALL_DESCRIPTION'),\n\t\ticon: productWithTextIcon,\n\t\titems: [\n\t\t\t'analytics',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\tnew Preset({\n\t\tid: 'products_big',\n\t\tcategory: 'products',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_BIG'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PRODUCTS_BIG_DESCRIPTION'),\n\t\ticon: productWithImageIcon,\n\t\titems: [\n\t\t\t'identify',\n\t\t\t'button_and_header',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\n\tnew Preset({\n\t\tid: 'vk',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_VK_DESCRIPTION'),\n\t\ticon: vkIcon,\n\t\titems: [\n\t\t\t'fields',\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\tnew Preset({\n\t\tid: 'facebook',\n\t\tcategory: 'social',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_FB_DESCRIPTION'),\n\t\ticon: facebookIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n\n\tnew Preset({\n\t\tid: 'personalisation',\n\t\tcategory: 'crm_automation',\n\t\ttitle: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION'),\n\t\tdescription: Loc.getMessage('LANDING_FORM_SETTINGS_PRESET_PERSONALIZATION_DESCRIPTION'),\n\t\ticon: crmFormIcon,\n\t\titems: [\n\t\t\t'embed',\n\t\t\t'other',\n\t\t],\n\t\tdisabled: true,\n\t\tsoon: true,\n\t}),\n];\n\nexport default presets;","import {BasePresetPanel, Preset, ContentWrapper} from 'landing.ui.panel.basepresetpanel';\nimport {PageObject} from 'landing.pageobject';\nimport {Loc} from 'landing.loc';\nimport {Dom, Reflection, Runtime, Tag, Text, Type, Uri} from 'main.core';\nimport type {BaseEvent} from 'main.core.events';\nimport {Backend} from 'landing.backend';\nimport {Loader} from 'main.loader';\nimport {FormClient} from 'crm.form.client';\nimport {Button} from 'ui.buttons';\nimport {Env} from 'landing.env';\nimport {StylePanel} from 'landing.ui.panel.stylepanel';\nimport {MessageBox} from 'ui.dialogs.messagebox';\nimport type {FormDictionary, FormOptions} from 'crm.form.type';\n\nimport HeaderAndButtonContent from './internal/content/header-and-buttons/header-and-buttons';\nimport AgreementsContent from './internal/content/agreements/agreements';\nimport SpamProtection from './internal/content/spam-protection/spam-protection';\nimport AnalyticsContent from './internal/content/analytics/analytics';\nimport FieldsContent from './internal/content/fields/fields';\nimport FieldsRulesContent from './internal/content/fields-rules/fields-rules';\nimport ActionsContent from './internal/content/actions/actions';\nimport EmbedContent from './internal/content/embed/embed';\nimport Identify from './internal/content/identify/identify';\nimport CrmContent from './internal/content/crm/crm';\nimport DefaultValues from './internal/content/defaultvalues/defaultvalues';\nimport FacebookContent from './internal/content/facebook/facebook';\nimport VkContent from './internal/content/vk/vk';\nimport Callback from './internal/content/callback/callback';\nimport Other from './internal/content/other/other';\n\nimport sidebarButtons from './internal/sidebar-buttons';\nimport presetCategories from './internal/preset-categories';\nimport presets from './internal/presets';\n\nimport './css/style.css';\n\ntype CrmField = {\n\ttype: 'list' | 'string' | 'checkbox' | 'date' | 'text' | 'typed_string' | 'file',\n\tentity_field_name: string,\n\tentity_name: string,\n\tname: string,\n\tcaption: string,\n\tmultiple: boolean,\n\trequired: boolean,\n\thidden: boolean,\n\titems: Array<{ID: any, VALUE: any}>,\n};\n\ntype CrmFieldsList = {\n\t[categoryId: string]: {\n\t\tCAPTION: string,\n\t\tFIELDS: Array<CrmField>\n\t},\n};\n\ntype CrmCompany = {\n\tID: string,\n\tTITLE: string,\n};\n\ntype CrmCategory = {\n\n};\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class FormSettingsPanel extends BasePresetPanel\n{\n\tstatic getInstance(): FormSettingsPanel\n\t{\n\t\tconst rootWindow = PageObject.getRootWindow();\n\t\tconst rootWindowPanel = rootWindow.BX.Landing.UI.Panel.FormSettingsPanel;\n\t\tif (!rootWindowPanel.instance && !FormSettingsPanel.instance)\n\t\t{\n\t\t\trootWindowPanel.instance = new FormSettingsPanel();\n\t\t}\n\n\t\treturn (rootWindowPanel.instance || FormSettingsPanel.instance);\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel');\n\t\tthis.setTitle(Loc.getMessage('LANDING_FORM_SETTINGS_PANEL_TITLE'));\n\n\t\tthis.disableOverlay();\n\n\t\tconst preparedSidebarButtons = sidebarButtons.filter((button) => {\n\t\t\treturn this.isCrmFormPage() || button.id !== 'embed';\n\t\t});\n\n\t\tthis.setSidebarButtons(preparedSidebarButtons);\n\t\tthis.setCategories(presetCategories);\n\n\t\tconst filteredPresets = presets.filter((preset) => {\n\t\t\treturn (\n\t\t\t\tLoc.getMessage('LANGUAGE_ID') === 'ru'\n\t\t\t\t|| (\n\t\t\t\t\tLoc.getMessage('LANGUAGE_ID') !== 'ru'\n\t\t\t\t\t&& preset.options.id !== 'vk'\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\n\t\tthis.setPresets(filteredPresets);\n\n\t\tif (!this.isCrmFormPage())\n\t\t{\n\t\t\tDom.append(this.getBlockSettingsButton().render(), this.getRightHeaderControls());\n\t\t}\n\n\t\tthis.subscribe('onCancel', this.onCancelClick.bind(this));\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisCrmFormPage(): boolean\n\t{\n\t\treturn Env.getInstance().getOptions().specialType === 'crm_forms';\n\t}\n\n\tgetBlockSettingsButton()\n\t{\n\t\treturn this.cache.remember('blockSettingsButton', () => {\n\t\t\treturn new Button({\n\t\t\t\ttext: Loc.getMessage('LANDING_FORM_SETTINGS_BLOCK_SETTINGS_BUTTON_TEXT'),\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tonclick: this.onBlockSettingsButtonClick.bind(this),\n\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t});\n\t\t});\n\t}\n\n\tonBlockSettingsButtonClick()\n\t{\n\t\tif (this.getCurrentBlock())\n\t\t{\n\t\t\tthis.hide()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getCurrentBlock().showContentPanel();\n\t\t\t\t});\n\t\t}\n\t}\n\n\tgetLoader(): Loader\n\t{\n\t\treturn this.cache.remember('loader', () => {\n\t\t\treturn new Loader({\n\t\t\t\ttarget: this.body,\n\t\t\t});\n\t\t});\n\t}\n\n\tshowLoader()\n\t{\n\t\tvoid this.getLoader().show();\n\t\tDom.hide(this.sidebar);\n\t\tDom.hide(this.content);\n\t\tDom.hide(this.getPresetField().getLayout());\n\t}\n\n\thideLoader()\n\t{\n\t\tthis.getLoader().hide();\n\t\tDom.show(this.sidebar);\n\t\tDom.show(this.content);\n\t\tDom.show(this.getPresetField().getLayout());\n\t}\n\n\tload(options = {}): Promise<any>\n\t{\n\t\tif (options.showWithOptions)\n\t\t{\n\t\t\tconst editorData = Env.getInstance().getOptions().formEditorData;\n\n\t\t\tthis.setCrmFields(editorData.crmFields);\n\t\t\tthis.setCrmCompanies(editorData.crmCompanies);\n\t\t\tthis.setCrmCategories(editorData.crmCategories);\n\t\t\tthis.setAgreements(editorData.agreements);\n\n\t\t\tconst currentOptions = Runtime.clone(editorData.formOptions);\n\t\t\tif (currentOptions.agreements.use !== true)\n\t\t\t{\n\t\t\t\tcurrentOptions.agreements.use = true;\n\t\t\t\tcurrentOptions.data.agreements = [];\n\t\t\t}\n\n\t\t\tthis.setFormOptions(currentOptions);\n\t\t\tthis.setFormDictionary(editorData.dictionary);\n\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst crmData = Backend.getInstance()\n\t\t\t.batch('Form::getCrmFields', {\n\t\t\t\tcrmFields: {\n\t\t\t\t\taction: 'Form::getCrmFields',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCompanies: {\n\t\t\t\t\taction: 'Form::getCrmCompanies',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tcrmCategories: {\n\t\t\t\t\taction: 'Form::getCrmCategories',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t\tagreements: {\n\t\t\t\t\taction: 'Form::getAgreements',\n\t\t\t\t\tdata: null,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setCrmFields(result.crmFields.result);\n\t\t\t\tthis.setCrmCompanies(result.crmCompanies.result);\n\t\t\t\tthis.setCrmCategories(result.crmCategories.result);\n\t\t\t\tthis.setAgreements(result.agreements.result);\n\t\t\t});\n\n\t\tconst formOptions = FormClient.getInstance()\n\t\t\t.getOptions(this.getCurrentFormId())\n\t\t\t.then((options) => {\n\t\t\t\tconst currentOptions = Runtime.clone(options);\n\t\t\t\tif (currentOptions.agreements.use !== true)\n\t\t\t\t{\n\t\t\t\t\tcurrentOptions.agreements.use = true;\n\t\t\t\t\tcurrentOptions.data.agreements = [];\n\t\t\t\t}\n\n\t\t\t\tthis.setFormOptions(currentOptions);\n\t\t\t});\n\n\t\tconst formDictionary = FormClient.getInstance()\n\t\t\t.getDictionary()\n\t\t\t.then((dictionary) => {\n\t\t\t\tthis.setFormDictionary(dictionary);\n\t\t\t});\n\n\t\treturn Promise.all([\n\t\t\tcrmData,\n\t\t\tformOptions,\n\t\t\tformDictionary,\n\t\t]);\n\t}\n\n\tsetAgreements(agreements)\n\t{\n\t\tthis.cache.set('agreements', Runtime.orderBy(agreements, ['id'], ['asc']));\n\t}\n\n\tgetAgreements(): Array<{[key: string]: any}>\n\t{\n\t\treturn this.cache.get('agreements');\n\t}\n\n\tisLeadEnabled(): boolean\n\t{\n\t\treturn this.getFormDictionary().document.lead.enabled;\n\t}\n\n\tsetCurrentBlock(block: BX.Landing.Block)\n\t{\n\t\tthis.cache.set('currentBlock', block);\n\t}\n\n\tgetCurrentBlock(): ?BX.Landing.Block\n\t{\n\t\treturn this.cache.get('currentBlock');\n\t}\n\n\tshow(\n\t\toptions: {\n\t\t\tformId: number,\n\t\t\tinstanceId: number,\n\t\t\tstate?: 'presets',\n\t\t\tformOptions?: ?{[key: string]: any},\n\t\t\tshowWithOptions: true,\n\t\t} = {\n\t\t\tformOptions: {},\n\t\t},\n\t): Promise<any>\n\t{\n\t\tif (!this.layout.parentNode)\n\t\t{\n\t\t\tthis.enableToggleMode();\n\t\t}\n\n\t\tif (!this.isFormCreated())\n\t\t{\n\t\t\tthis.disableTransparentMode();\n\t\t}\n\n\t\tthis.setCurrentBlock(options.block);\n\t\tthis.setCurrentFormId(options.formId);\n\t\tthis.setCurrentFormInstanceId(options.instanceId);\n\n\t\tthis.showLoader();\n\n\t\tthis.load(options)\n\t\t\t.then(() => {\n\t\t\t\tthis.hideLoader();\n\n\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\tif (!this.isLeadEnabled())\n\t\t\t\t{\n\t\t\t\t\tconst presets = this.getPresets().map((preset: Preset) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tType.isPlainObject(preset.options.options)\n\t\t\t\t\t\t\t&& Type.isPlainObject(preset.options.options.data)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isArrayFilled(preset.options.options.data.fields))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.data.fields = preset.options.options.data.fields.map((field) => {\n\t\t\t\t\t\t\t\t\treturn {...field, name: field.name.replace(/^LEAD_/, 'CONTACT_')};\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (Type.isPlainObject(preset.options.options.document))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpreset.options.options.document.scheme = 3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn preset;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setPresets(presets);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isPlainObject(options.formOptions))\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = Runtime.merge(\n\t\t\t\t\t\tthis.getFormOptions(),\n\t\t\t\t\t\toptions.formOptions,\n\t\t\t\t\t);\n\t\t\t\t\tthis.setFormOptions(formOptions);\n\t\t\t\t}\n\n\t\t\t\tif (options.state === 'presets' && formOptions.templateId !== 'callback')\n\t\t\t\t{\n\t\t\t\t\tthis.onPresetFieldClick();\n\t\t\t\t\tthis.activatePreset(formOptions.templateId);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet preset = this.getPresets().find((item) => {\n\t\t\t\t\t\treturn item.options.id === formOptions.templateId;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!preset)\n\t\t\t\t\t{\n\t\t\t\t\t\tpreset = this.getPresets().find((item) => {\n\t\t\t\t\t\t\treturn item.options.id === 'expert';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isFormCreated() && formOptions.templateId !== 'callback')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.applyPreset(preset, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setInitialFormOptions(\n\t\t\t\t\tRuntime.clone(this.getFormOptions()),\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (Type.isArrayFilled(error))\n\t\t\t\t{\n\t\t\t\t\tconst accessDeniedCode = 510;\n\t\t\t\t\tconst isAccessDenied = error.some((errorItem) => {\n\t\t\t\t\t\treturn String(errorItem.code) === String(accessDeniedCode);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isAccessDenied)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getLoader().hide();\n\t\t\t\t\t\tDom.show(this.sidebar);\n\t\t\t\t\t\tDom.show(this.content);\n\t\t\t\t\t\tDom.hide(this.footer);\n\t\t\t\t\t\tDom.append(this.getAccessError(), this.content);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\n\t\tvoid StylePanel.getInstance().hide();\n\n\t\treturn super.show(options);\n\t}\n\n\tgetAccessError(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('accessErrorMessage', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-access-error-message\">\n\t\t\t\t\t<div class=\"landing-ui-access-error-message-text\">\n\t\t\t\t\t\t${Loc.getMessage('LANDING_CRM_ACCESS_ERROR_MESSAGE')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisFormCreated(): boolean\n\t{\n\t\tconst uri = new Uri(window.location.origin);\n\t\treturn Text.toBoolean(uri.getQueryParam('formCreated'));\n\t}\n\n\tsetCurrentFormId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormId', Text.toNumber(formId));\n\t}\n\n\tgetCurrentFormId(): number\n\t{\n\t\treturn this.cache.get('currentFormId');\n\t}\n\n\tsetCurrentFormInstanceId(formId: number)\n\t{\n\t\tthis.cache.set('currentFormInstanceId', formId);\n\t}\n\n\tgetCurrentFormInstanceId(): number\n\t{\n\t\treturn this.cache.get('currentFormInstanceId');\n\t}\n\n\tsetCrmFields(fields)\n\t{\n\t\tthis.cache.set('fields', fields);\n\t}\n\n\tgetCrmFields(): CrmFieldsList\n\t{\n\t\treturn this.cache.get('fields') || {};\n\t}\n\n\tsetCrmCompanies(companies: Array<CrmCompany>)\n\t{\n\t\tthis.cache.set('companies', companies);\n\t}\n\n\tgetCrmCompanies(): Array<CrmCompany>\n\t{\n\t\treturn this.cache.get('companies') || [];\n\t}\n\n\tsetCrmCategories(categories: Array<CrmCategory>)\n\t{\n\t\tthis.cache.set('crmCategories', categories);\n\t}\n\n\tgetCrmCategories(): Array<CrmCategory>\n\t{\n\t\treturn this.cache.get('crmCategories') || [];\n\t}\n\n\tsetFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('formOptions', options);\n\t}\n\n\tgetFormOptions(): FormOptions\n\t{\n\t\treturn Runtime.clone(this.cache.get('formOptions') || {});\n\t}\n\n\tsetFormDictionary(dictionary: FormDictionary)\n\t{\n\t\tthis.cache.set('formDictionary', dictionary);\n\t}\n\n\tgetFormDictionary(): FormDictionary\n\t{\n\t\treturn this.cache.get('formDictionary') || {};\n\t}\n\n\tsetInitialFormOptions(options: FormOptions)\n\t{\n\t\tthis.cache.set('initialFormOptions', Runtime.clone(options));\n\t}\n\n\tgetInitialFormOptions(): FormOptions\n\t{\n\t\treturn this.cache.get('initialFormOptions');\n\t}\n\n\t// eslint-disable-next-line\n\tgetCrmForm()\n\t{\n\t\tconst formApp = Reflection.getClass('b24form.App');\n\t\tif (formApp)\n\t\t{\n\t\t\tif (this.getCurrentFormInstanceId())\n\t\t\t{\n\t\t\t\treturn formApp.get(this.getCurrentFormInstanceId());\n\t\t\t}\n\n\t\t\treturn formApp.list()[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tconst eventData = event.getData();\n\t\tconst eventTargetValue = event.getTarget().getValue();\n\n\t\tPromise\n\t\t\t.resolve(eventTargetValue)\n\t\t\t.then((value) => {\n\t\t\t\tif (eventData.skipPrepare)\n\t\t\t\t{\n\t\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isArrayFilled(formOptions.data.dependencies)\n\t\t\t\t\t\t&& Type.isArrayFilled(value.fields)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {dependencies} = formOptions.data;\n\t\t\t\t\t\tformOptions.data.dependencies = dependencies.reduce((acc, item) => {\n\t\t\t\t\t\t\tconst preparedItem = {...item};\n\t\t\t\t\t\t\tpreparedItem.list = preparedItem.list.filter((rule) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tvalue.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.condition.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t&& value.fields.some((field) => {\n\t\t\t\t\t\t\t\t\t\treturn field.id === rule.action.target;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (preparedItem.list.length > 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tacc.push(preparedItem);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, []);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'presetFields')\n\t\t\t\t\t\t|| Reflect.has(value, 'document')\n\t\t\t\t\t\t|| Reflect.has(value, 'result')\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst additionalValue = {};\n\t\t\t\t\t\tif (Reflect.has(value, 'document'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tadditionalValue.payment = value.document.payment;\n\t\t\t\t\t\t\tdelete value.document.payment;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t...additionalValue,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tReflect.has(value, 'embedding')\n\t\t\t\t\t\t|| Reflect.has(value, 'callback')\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\tReflect.has(value, 'name')\n\t\t\t\t\t\t\t&& Reflect.has(value, 'data')\n\t\t\t\t\t\t\t&& Reflect.has(value.data, 'useSign')\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst mergedOptions = Runtime.merge(\n\t\t\t\t\t\t\tformOptions,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (Reflect.has(value, 'responsible'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmergedOptions.responsible.users = value.responsible.users;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn mergedOptions;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(value, 'recaptcha'))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {key, secret} = value.recaptcha;\n\t\t\t\t\t\tdelete value.recaptcha.key;\n\t\t\t\t\t\tdelete value.recaptcha.secret;\n\t\t\t\t\t\tconst captcha = {key, secret};\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\t\tcaptcha,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...formOptions,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...formOptions.data,\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn FormClient.getInstance()\n\t\t\t\t\t.prepareOptions(this.getFormOptions(), value)\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (value.agreements)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data = Runtime.merge(result.data, value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (value.fields)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data.fields = result.data.fields.map((field, index) => {\n\t\t\t\t\t\t\t\treturn Runtime.merge(field, value.fields[index]);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tthis.setFormOptions(result);\n\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(result.data));\n\t\t\t});\n\t}\n\n\tstatic sanitize(value: any): any\n\t{\n\t\tif (Type.isStringFilled(value))\n\t\t{\n\t\t\treturn Text.decode(value)\n\t\t\t\t.replace(/<style[^>]*>.*<\\/style>/gm, '')\n\t\t\t\t.replace(/<script[^>]*>.*<\\/script>/gm, '')\n\t\t\t\t.replace(/<[^>]+>/gm, '');\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tgetPersonalizationVariables(): Array<{name: string, value: string}>\n\t{\n\t\treturn this.cache.remember('personalizationVariables', () => {\n\t\t\treturn this.getFormDictionary().personalization.list.map((item) => {\n\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDefaultValuesVariables(): Array<{name: string, value: string}>\n\t{\n\t\treturn this.cache.remember('personalizationVariables', () => {\n\t\t\tconst {properties} = this.getFormDictionary();\n\t\t\tif (Type.isPlainObject(properties) && Type.isArrayFilled(properties.list))\n\t\t\t{\n\t\t\t\treturn properties.list.map((item) => {\n\t\t\t\t\treturn {name: item.name, value: item.id};\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [];\n\t\t});\n\t}\n\n\tgetContent(id: string): ContentWrapper\n\t{\n\t\tconst crmForm = this.getCrmForm();\n\t\tif (crmForm)\n\t\t{\n\t\t\tcrmForm.sent = false;\n\t\t\tcrmForm.error = false;\n\t\t}\n\n\t\tif (id === 'button_and_header')\n\t\t{\n\t\t\treturn new HeaderAndButtonContent({\n\t\t\t\tpersonalizationVariables: this.getPersonalizationVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\ttitle: FormSettingsPanel.sanitize(this.getFormOptions().data.title),\n\t\t\t\t\tdesc: FormSettingsPanel.sanitize(this.getFormOptions().data.desc),\n\t\t\t\t\tbuttonCaption: this.getFormOptions().data.buttonCaption,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'spam_protection')\n\t\t{\n\t\t\treturn new SpamProtection({\n\t\t\t\tvalues: {\n\t\t\t\t\tkey: this.getFormOptions().captcha.key,\n\t\t\t\t\tsecret: this.getFormOptions().captcha.secret,\n\t\t\t\t\tuse: Text.toBoolean(this.getFormOptions().data.recaptcha.use),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'agreements')\n\t\t{\n\t\t\treturn new AgreementsContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tagreementsList: this.getAgreements(),\n\t\t\t\tvalues: {\n\t\t\t\t\tagreements: this.getFormOptions().data.agreements,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'analytics')\n\t\t{\n\t\t\treturn new AnalyticsContent({\n\t\t\t\tevents: this.getFormOptions().analytics.steps,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields')\n\t\t{\n\t\t\treturn new FieldsContent({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'fields_rules')\n\t\t{\n\t\t\treturn new FieldsRulesContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().data.dependencies,\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'actions')\n\t\t{\n\t\t\tconst actionsContent = new ActionsContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().result,\n\t\t\t});\n\n\t\t\tactionsContent\n\t\t\t\t.subscribe('onShowSuccess', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.success.text;\n\t\t\t\t\tcrmForm.sent = !crmForm.sent;\n\t\t\t\t\tcrmForm.error = false;\n\t\t\t\t})\n\t\t\t\t.subscribe('onShowFailure', () => {\n\t\t\t\t\tcrmForm.stateText = this.getFormOptions().result.failure.text;\n\t\t\t\t\tcrmForm.error = !crmForm.error;\n\t\t\t\t\tcrmForm.sent = false;\n\t\t\t\t});\n\n\t\t\treturn actionsContent;\n\t\t}\n\n\t\tif (id === 'embed')\n\t\t{\n\t\t\treturn new EmbedContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: this.getFormOptions().embedding,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'identify')\n\t\t{\n\t\t\treturn new Identify({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tvalues: {},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'crm')\n\t\t{\n\t\t\treturn new CrmContent({\n\t\t\t\tfields: this.getFormOptions().data.fields,\n\t\t\t\tcompanies: this.getCrmCompanies(),\n\t\t\t\tcategories: this.getCrmCategories(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tvalues: {\n\t\t\t\t\tscheme: this.getFormOptions().document.scheme,\n\t\t\t\t\tduplicatesEnabled: this.getFormOptions().document.deal.duplicatesEnabled || 'Y',\n\t\t\t\t\tcategory: this.getFormOptions().document.deal.category,\n\t\t\t\t\tpayment: this.getFormOptions().payment.use,\n\t\t\t\t\tduplicateMode: this.getFormOptions().document.duplicateMode,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'default_values')\n\t\t{\n\t\t\treturn new DefaultValues({\n\t\t\t\tcrmFields: this.getCrmFields(),\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tisLeadEnabled: this.isLeadEnabled(),\n\t\t\t\tpersonalizationVariables: this.getDefaultValuesVariables(),\n\t\t\t\tvalues: {\n\t\t\t\t\tfields: this.getFormOptions().presetFields,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'facebook')\n\t\t{\n\t\t\treturn new FacebookContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'vk')\n\t\t{\n\t\t\treturn new VkContent({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'callback')\n\t\t{\n\t\t\treturn new Callback({\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: this.getFormOptions().callback,\n\t\t\t});\n\t\t}\n\n\t\tif (id === 'other')\n\t\t{\n\t\t\treturn new Other({\n\t\t\t\tformOptions: this.getFormOptions(),\n\t\t\t\tdictionary: this.getFormDictionary(),\n\t\t\t\tvalues: {\n\t\t\t\t\tname: this.getFormOptions().name,\n\t\t\t\t\tuseSign: this.getFormOptions().data.useSign,\n\t\t\t\t\tusers: this.getFormOptions().responsible.users,\n\t\t\t\t\tlanguage: this.getFormOptions().data.language,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tapplyPreset(preset: Preset, skipOptions = false)\n\t{\n\t\tthis.getPresets().forEach((currentPreset) => {\n\t\t\tcurrentPreset.deactivate();\n\t\t});\n\n\t\tpreset.activate();\n\n\t\tif (Type.isPlainObject(preset.options.options) && !skipOptions)\n\t\t{\n\t\t\tthis.showLoader();\n\t\t\tconst clonedPresetOptions = {\n\t\t\t\tdata: {},\n\t\t\t\t...Runtime.clone(preset.options.options),\n\t\t\t};\n\n\t\t\tlet agreementsOptions = [];\n\n\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t{\n\t\t\t\tconst sourceAgreements = this.getAgreements();\n\t\t\t\tagreementsOptions = [...clonedPresetOptions.data.agreements];\n\n\t\t\t\tclonedPresetOptions.data.agreements = (\n\t\t\t\t\tclonedPresetOptions.data.agreements.map((item, index) => {\n\t\t\t\t\t\treturn sourceAgreements[index].id;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tFormClient.getInstance()\n\t\t\t\t.prepareOptions(this.getFormOptions(), clonedPresetOptions.data)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'fields'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.fields;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Reflect.has(clonedPresetOptions.data, 'agreements'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete clonedPresetOptions.data.agreements;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst preparedOptions = Runtime.merge({}, result, clonedPresetOptions);\n\n\t\t\t\t\tpreparedOptions.data.agreements = (\n\t\t\t\t\t\tpreparedOptions.data.agreements.map((agreement, index) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...agreement,\n\t\t\t\t\t\t\t\t...agreementsOptions[index],\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.setFormOptions(preparedOptions);\n\t\t\t\t\tthis.getCrmForm().adjust(Runtime.clone(preparedOptions.data));\n\t\t\t\t\tsuper.applyPreset(preset);\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsuper.applyPreset(preset);\n\t\t}\n\t}\n\n\tgetFormNode(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('formNode', () => {\n\t\t\treturn this.getCurrentBlock().node.querySelector('[data-b24form-use-style]');\n\t\t});\n\t}\n\n\tuseBlockDesign(): boolean\n\t{\n\t\treturn this.cache.remember('useBlockDesign', () => {\n\t\t\treturn Text.toBoolean(Dom.attr(this.getFormNode(), 'data-b24form-use-style'));\n\t\t});\n\t}\n\n\tgetCurrentCrmEntityName(): string\n\t{\n\t\tconst {scheme} = this.getFormOptions().document;\n\t\tconst schemeItem = this.getFormDictionary().document.schemes.find((item) => {\n\t\t\treturn String(scheme) === String(item.id);\n\t\t});\n\n\t\treturn schemeItem.name;\n\t}\n\n\tgetNotSynchronizedFields(): Promise<any>\n\t{\n\t\treturn FormClient\n\t\t\t.getInstance()\n\t\t\t.checkFields(this.getFormOptions())\n\t\t\t.then((result) => {\n\t\t\t\treturn result;\n\t\t\t});\n\t}\n\n\tshowSynchronizationPopup(notSynchronizedFields: Array<string>): Promise<boolean>\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst onOk = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(true);\n\t\t\t};\n\n\t\t\tconst onCancel = (messageBox: MessageBox) => {\n\t\t\t\tmessageBox.close();\n\t\t\t\tresolve(false);\n\t\t\t};\n\n\t\t\tconst messageDescription = (() => {\n\t\t\t\tconst entityName = Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_ENTITY_TEMPLATE')\n\t\t\t\t\t.replace('{entityName}', this.getCurrentCrmEntityName());\n\n\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_DESCRIPTION')\n\t\t\t\t\t.replace('{entityName}', entityName);\n\t\t\t})();\n\n\t\t\tconst messageText = (() => {\n\t\t\t\tconst fields = [...notSynchronizedFields].map((field) => {\n\t\t\t\t\treturn Loc.getMessage('LANDING_SYNCHRONIZATION_POPUP_FIELD_TEMPLATE')\n\t\t\t\t\t\t.replace('{fieldName}', field);\n\t\t\t\t});\n\n\t\t\t\tif (notSynchronizedFields.length > 1)\n\t\t\t\t{\n\t\t\t\t\tconst lastField = fields.pop();\n\n\t\t\t\t\treturn Loc\n\t\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT')\n\t\t\t\t\t\t.replace('{fieldsList}', fields.join(', '))\n\t\t\t\t\t\t.replace('{lastField}', lastField);\n\t\t\t\t}\n\n\t\t\t\treturn Loc\n\t\t\t\t\t.getMessage('LANDING_SYNCHRONIZATION_POPUP_TEXT_1')\n\t\t\t\t\t.replace('{field}', fields.join(', '));\n\t\t\t})();\n\n\t\t\twindow.top.BX.UI.Dialogs.MessageBox.confirm(\n\t\t\t\t`${messageDescription}<br><br>${messageText}`,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_TITLE'),\n\t\t\t\tonOk,\n\t\t\t\tLoc.getMessage('LANDING_SYNCHRONIZATION_POPUP_OK_BUTTON_LABEL'),\n\t\t\t\tonCancel,\n\t\t\t);\n\t\t});\n\t}\n\n\tshowSynchronizationErrorPopup(errors: Array<string>)\n\t{\n\t\tconst message = errors.reduce((acc, item) => {\n\t\t\treturn `${acc}\\n\\n${item}`;\n\t\t}, '');\n\n\t\twindow.top.BX.UI.Dialogs.MessageBox.alert(message);\n\t}\n\n\tonSaveClick()\n\t{\n\t\tDom.addClass(this.getSaveButton().layout, 'ui-btn-wait');\n\n\t\tthis.getNotSynchronizedFields()\n\t\t\t.then((result) => {\n\t\t\t\tif (Type.isArrayFilled(result.sync.errors))\n\t\t\t\t{\n\t\t\t\t\tthis.showSynchronizationErrorPopup(result.sync.errors);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (Type.isArrayFilled(result.sync.fields))\n\t\t\t\t{\n\t\t\t\t\tconst fieldLabels = result.sync.fields.map((field) => {\n\t\t\t\t\t\treturn field.label;\n\t\t\t\t\t});\n\n\t\t\t\t\treturn this.showSynchronizationPopup(fieldLabels);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.then((isConfirmed) => {\n\t\t\t\tif (isConfirmed)\n\t\t\t\t{\n\t\t\t\t\tconst uri = new Uri(window.top.location.toString());\n\t\t\t\t\turi.removeQueryParam('formCreated');\n\t\t\t\t\twindow.top.history.replaceState(null, document.title, uri.toString());\n\n\t\t\t\t\tconst initialOptions = this.getInitialFormOptions();\n\t\t\t\t\tconst currentOptions = this.getFormOptions();\n\t\t\t\t\tconst options = (() => {\n\t\t\t\t\t\tif (!this.isCrmFormPage())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst clonedOptions = Runtime.clone(currentOptions);\n\t\t\t\t\t\t\tclonedOptions.data.design = Runtime.clone(initialOptions.data.design);\n\t\t\t\t\t\t\treturn clonedOptions;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn currentOptions;\n\t\t\t\t\t})();\n\n\t\t\t\t\tvoid FormClient.getInstance()\n\t\t\t\t\t\t.saveOptions(options)\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\tthis.setFormOptions(result);\n\t\t\t\t\t\t\tFormClient.getInstance().resetCache(result.id);\n\t\t\t\t\t\t\tDom.removeClass(this.getSaveButton().layout, 'ui-btn-wait');\n\t\t\t\t\t\t\tvoid this.hide();\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (this.useBlockDesign() && this.isCrmFormPage())\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.disableUseBlockDesign();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tdisableUseBlockDesign()\n\t{\n\t\tDom.attr(this.getFormNode(), 'data-b24form-use-style', 'N');\n\t\tthis.cache.set('useBlockDesign', false);\n\n\t\tBackend\n\t\t\t.getInstance()\n\t\t\t.action(\n\t\t\t\t'Landing\\\\Block::updateNodes',\n\t\t\t\t{\n\t\t\t\t\tblock: this.getCurrentBlock().id,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'.bitrix24forms': {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t'data-b24form-use-style': 'N',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlid: this.getCurrentBlock().lid,\n\t\t\t\t\tsiteId: this.getCurrentBlock().siteId,\n\t\t\t\t},\n\t\t\t\t{code: this.getCurrentBlock().manifest.code},\n\t\t\t);\n\t}\n\n\tonCancelClick()\n\t{\n\t\tthis.getCrmForm().adjust(this.getInitialFormOptions().data);\n\t\tvoid this.hide();\n\t}\n}"],"names":["HeaderAndButtonContent","options","setEventNamespace","header","HeaderCard","title","Loc","getMessage","message","MessageCard","id","icon","headerAndButtonsIcon","description","restoreState","more","helper","Reflection","getClass","BX","Helper","show","headersForm","FormSettingsForm","toggleable","fields","VariablesField","selector","textOnly","content","values","variables","personalizationVariables","desc","Landing","UI","Field","Checkbox","items","value","name","compact","buttonsForm","TextField","buttonCaption","addItem","sourceValue","Object","entries","reduce","acc","key","includes","hideDesc","useSign","getSwitch","getValue","event","emit","getData","skipPrepare","ContentWrapper","AgreementsContent","messageIcon","listForm","AgreementsList","formOptions","agreementsList","agreements","isShown","Dom","style","getLayout","subscribe","SpamProtection","captchaTypeForm","RadioButtonField","use","getKeysCheckbox","getKeysForm","hasKeys","secret","hideKeysCheckbox","hideKeysForm","showKeysCheckbox","setValue","showKeysForm","cache","remember","hidden","help","text","href","useCustomKeys","length","recaptcha","ContentTableCell","Tag","render","ContentTableRow","headClass","head","columns","map","cell","ContentTable","headRow","columnOptions","rows","rowOptions","cellOptions","Type","isStringFilled","row","AnalyticsContent","push","yandexIcon","checked","switcher","getYandexTable","googleIcon","getGoogleTable","accordionField","AccordionField","angle","table","events","code","FieldsContent","fieldsForm","FieldsListField","isLeadEnabled","crmFields","setOffsetTop","FieldsRulesContent","getHeader","keys","getRuleTypeField","getRulesForm","getActionPanel","group","list","forEach","item","accEntry","find","accItem","condition","field","target","operator","operation","expression","action","type","addField","RuleField","getFormFields","rules","onRemove","onFieldRemove","bind","dictionary","disallowedTypes","isPlainObject","deps","isArrayFilled","disallowed","filter","removeField","getTarget","clear","setBottomMargin","ActionPanel","left","ruleForm","button","onClick","onCreateRule","disabled","soon","radioField","insertBefore","dependencies","typeId","listItems","listItem","expItem","ActionPagesField","subscribeFromOptions","fetchEventsFromOptions","setLayoutClass","append","getSuccess","input","getFailure","Event","document","onDocumentClick","window","top","successInput","querySelector","failureInput","attr","createPageBlock","successText","onInput","onShowClick","failureText","innerText","success","getSuccessText","failure","getFailureText","classPrefix","onEditClick","preventDefault","stopPropagation","inner","currentTarget","closest","textContainer","isContentEditable","isFunction","onEditorClick","onViewClick","Text","encode","BaseField","ActionsContent","addClass","getTypeButtons","getActionPages","selectable","url","onChange","onTypeChange","PresetField","setTitle","setIcon","type1Icon","placeholder","Dropdown","redirectDelay","Array","from","index","data","typeDropdown","getTypeDropdown","setLinkText","replace","type2Icon","getSuccessLinkField","getFailureLinkField","getDelayField","actionPagesValue","useRedirect","result","decode","EmbedField","clean","layout","onInputClick","Button","size","Size","SMALL","color","Color","PRIMARY","onclick","onCopyButtonClick","selectCode","rootWindow","PageObject","getRootWindow","execCommand","getSelection","removeAllRanges","getCopyButton","setColor","LINK","Icon","DONE","setText","selectAllChildren","innerHTML","WidgetField","getInputWrapper","getSettingsButton","LIGHT_BORDER","SETTING","CopyLinkField","getLink","link","Link","PositionField","horizontal","vertical","fieldsInner","getFieldsInner","EmbedContent","closeable","hideActions","level","Radio","html","views","auto","delay","getDelayDropdown","DropdownInline","skipInitialEvent","click","position","test","embedField","getEmbedField","type1icon","getType1Message","scripts","inline","type2icon","type3icon","positionField","getType3PositionField","getType3Message","getType3Header","getType3ShowTypeField","type4icon","getType4Message","getType4Header","getType4Checkbox","getType4PositionField","getType4ShowTypeField","type5icon","getType5Message","getWidgetField","type6icon","getCopyLinkField","type3positionValue","type4positionValue","embedding","Identify","StageField","getInner","getCategoriesDropdown","category","categories","NAME","ID","onCategoryChange","currentCategoryId","String","oldStagesDropdown","getStagesDropdown","delete","popup","destroy","newStagesDropdown","stages","getCurrentCategory","STAGES","stage","CrmContent","getTypesField","getExpertSettingsForm","getOrderSettingsForm","duplicateMode","payment","opened","toNumber","scheme","getPaymentField","toggleableType","ToggleableType","getDuplicatesField","setTimeout","BaseEvent","unshift","duplicatesEnabled","expertSettingsForm","getType1Header","getType2Header","getStagesField","getDuplicatesEnabledField","isOpened","onSwitchChange","reducedValue","deal","toBoolean","DefaultValues","DefaultValueField","FacebookContent","integration","canUse","buttonCard","BaseCard","prepareButtonText","SidePanel","Instance","open","cacheable","onClose","client","FormClient","getInstance","resetCache","getOptions","then","padding","margin","getBody","enabled","cases","some","providerCode","VkContent","Callback","isAvailable","getWarningMessage","getSettingsForm","disable","callback","Switch","getPhoneListField","getTextField","UserSelectorField","removeClass","getTagSelector","renderTo","root","EntitySelector","TagSelector","dialogOptions","entities","activeUsers","preselectedItems","getDialog","getSelectedItems","Other","otherForm","getNameField","getUserSelectorField","getLanguageField","getUseSignField","sign","canRemove","createCopyRight","users","isNumber","languages","language","responsible","canRemoveCopyrights","checkbox","restriction","evalGlobal","sidebarButtons","SidebarButton","child","important","className","presetCategories","PresetCategory","presets","Preset","siteIcon","templateId","captcha","widgetAutoShowIcon","callbackIcon","defaultSection","serviceIcon","productWithTextIcon","productWithImageIcon","vkIcon","facebookIcon","crmFormIcon","FormSettingsPanel","rootWindowPanel","Panel","instance","disableOverlay","preparedSidebarButtons","isCrmFormPage","setSidebarButtons","setCategories","filteredPresets","preset","setPresets","getBlockSettingsButton","getRightHeaderControls","onCancelClick","Env","specialType","onBlockSettingsButtonClick","getCurrentBlock","hide","showContentPanel","Loader","body","getLoader","sidebar","getPresetField","showWithOptions","editorData","formEditorData","setCrmFields","setCrmCompanies","crmCompanies","setCrmCategories","crmCategories","setAgreements","currentOptions","Runtime","clone","setFormOptions","setFormDictionary","Promise","resolve","crmData","Backend","batch","getCurrentFormId","formDictionary","getDictionary","all","set","orderBy","get","getFormDictionary","lead","block","parentNode","enableToggleMode","isFormCreated","disableTransparentMode","setCurrentBlock","setCurrentFormId","formId","setCurrentFormInstanceId","instanceId","showLoader","load","hideLoader","getFormOptions","getPresets","merge","state","onPresetFieldClick","activatePreset","applyPreset","setInitialFormOptions","catch","error","accessDeniedCode","isAccessDenied","errorItem","footer","getAccessError","console","StylePanel","uri","Uri","location","origin","getQueryParam","companies","formApp","getCurrentFormInstanceId","eventData","eventTargetValue","preparedItem","rule","Reflect","has","additionalValue","mergedOptions","prepareOptions","getCrmForm","adjust","personalization","properties","crmForm","sent","getPersonalizationVariables","sanitize","getAgreements","analytics","steps","getCrmFields","actionsContent","stateText","getCrmCompanies","getCrmCategories","getDefaultValuesVariables","presetFields","skipOptions","currentPreset","deactivate","activate","clonedPresetOptions","agreementsOptions","sourceAgreements","preparedOptions","agreement","node","getFormNode","schemeItem","schemes","checkFields","notSynchronizedFields","onOk","messageBox","close","onCancel","messageDescription","entityName","getCurrentCrmEntityName","messageText","lastField","pop","join","Dialogs","MessageBox","confirm","errors","alert","getSaveButton","getNotSynchronizedFields","sync","showSynchronizationErrorPopup","fieldLabels","label","showSynchronizationPopup","isConfirmed","toString","removeQueryParam","history","replaceState","initialOptions","getInitialFormOptions","clonedOptions","design","saveOptions","useBlockDesign","disableUseBlockDesign","attrs","lid","siteId","manifest","BasePresetPanel"],"mappings":";;;;;;AAAA,4BAAe,mIAAf;;KCUqBA;;;CAEpB,kCAAYC,OAAZ,EACA;CAAA;;CAAA;CACC,wHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,8DAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BC,MAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,kCAAf;CADsB,KAAf,CAAf;CAIA,QAAMC,OAAO,GAAG,IAAIC,uCAAJ,CAAgB;CAC/BC,MAAAA,EAAE,EAAE,wBAD2B;CAE/BC,MAAAA,IAAI,EAAEC,oBAFyB;CAG/BT,MAAAA,MAAM,EAAEG,aAAG,CAACC,UAAJ,CAAe,2CAAf,CAHuB;CAI/BM,MAAAA,WAAW,EAAEP,aAAG,CAACC,UAAJ,CAAe,kDAAf,CAJkB;CAK/BO,MAAAA,YAAY,EAAE,IALiB;CAM/BC,MAAAA,IAAI,EAAE,gBAAM;CACX,YAAMC,SAAM,GAAGC,oBAAU,CAACC,QAAX,CAAoB,eAApB,CAAf;;CACA,YAAIF,SAAJ,EACA;CACCG,UAAAA,EAAE,CAACC,MAAH,CAAUC,IAAV,CAAe,+BAAf;CACA;CACD;CAZ8B,KAAhB,CAAhB;CAeA,QAAMC,WAAW,GAAG,IAAIC,iDAAJ,CAAqB;CACxCb,MAAAA,EAAE,EAAE,SADoC;CAExCL,MAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,+CAAf,CAFiC;CAGxCiB,MAAAA,UAAU,EAAE,IAH4B;CAIxCC,MAAAA,MAAM,EAAE,CACP,IAAIC,8CAAJ,CAAmB;CAClBC,QAAAA,QAAQ,EAAE,OADQ;CAElBtB,QAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,4DAAf,CAFW;CAGlBqB,QAAAA,QAAQ,EAAE,IAHQ;CAIlBC,QAAAA,OAAO,EAAE,MAAK5B,OAAL,CAAa6B,MAAb,CAAoBzB,KAJX;CAKlB0B,QAAAA,SAAS,EAAE,MAAK9B,OAAL,CAAa+B;CALN,OAAnB,CADO,EAQP,IAAIN,8CAAJ,CAAmB;CAClBC,QAAAA,QAAQ,EAAE,MADQ;CAElBtB,QAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,+DAAf,CAFW;CAGlBqB,QAAAA,QAAQ,EAAE,IAHQ;CAIlBC,QAAAA,OAAO,EAAE,MAAK5B,OAAL,CAAa6B,MAAb,CAAoBG,IAJX;CAKlBF,QAAAA,SAAS,EAAE,MAAK9B,OAAL,CAAa+B;CALN,OAAnB,CARO,EAeP,IAAIb,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoBC,QAAxB,CAAiC;CAChCV,QAAAA,QAAQ,EAAE,UADsB;CAEhCW,QAAAA,KAAK,EAAE,CACN;CACCC,UAAAA,KAAK,EAAE,UADR;CAECC,UAAAA,IAAI,EAAElC,aAAG,CAACC,UAAJ,CAAe,oEAAf;CAFP,SADM;CAMN;CACA;CACA;CARM,SAFyB;CAYhCkC,QAAAA,OAAO,EAAE;CAZuB,OAAjC,CAfO;CAJgC,KAArB,CAApB;CAoCA,QAAMC,WAAW,GAAG,IAAInB,iDAAJ,CAAqB;CACxCb,MAAAA,EAAE,EAAE,SADoC;CAExCL,MAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,+CAAf,CAFiC;CAGxCkB,MAAAA,MAAM,EAAE,CACP,IAAIkB,oCAAJ,CAAc;CACbhB,QAAAA,QAAQ,EAAE,eADG;CAEbtB,QAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,2DAAf,CAFM;CAGbqB,QAAAA,QAAQ,EAAE,IAHG;CAIbC,QAAAA,OAAO,EAAE,MAAK5B,OAAL,CAAa6B,MAAb,CAAoBc;CAJhB,OAAd,CADO;CAHgC,KAArB,CAApB;;CAaA,UAAKC,OAAL,CAAa1C,MAAb;;CACA,UAAK0C,OAAL,CAAarC,OAAb;;CACA,UAAKqC,OAAL,CAAavB,WAAb;;CACA,UAAKuB,OAAL,CAAaH,WAAb;;CA3ED;CA4EC;;;;;kCAGYI,aACb;CACC,UAAMP,KAAK,GAAGQ,MAAM,CAACC,OAAP,CAAeF,WAAf,EAA4BG,MAA5B,CAAmC,UAACC,GAAD,QAAuB;CAAA;CAAA,YAAhBC,GAAgB;CAAA,YAAXZ,KAAW;;CACvE,YAAIY,GAAG,KAAK,UAAZ,EACA;CACC,cAAIZ,KAAK,CAACa,QAAN,CAAeD,GAAf,CAAJ,EACA;CACCD,YAAAA,GAAG,CAACjB,IAAJ,GAAW,EAAX;CACA;;CAED,iBAAOiB,GAAG,CAACG,QAAX;CACA;;CAED,YAAIF,GAAG,KAAK,SAAZ,EACA;CACCD,UAAAA,GAAG,CAACI,OAAJ,GAAcf,KAAK,CAACa,QAAN,CAAe,SAAf,CAAd;CACA;;CAED,eAAOF,GAAP;CACA,OAjBa,gCAiBPJ,WAjBO,EAAd;;CAmBA,UAAI,CAAC,KAAKR,KAAL,CAAW,CAAX,EAAciB,SAAd,GAA0BC,QAA1B,EAAL,EACA;CACCjB,QAAAA,KAAK,CAAClC,KAAN,GAAc,EAAd;CACAkC,QAAAA,KAAK,CAACN,IAAN,GAAa,EAAb;CACA;;CAED,aAAOM,KAAP;CACA;;;8BAEQkB,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;GAnHkDC;;ACVpD,mBAAe,wGAAf;;KCSqBC;;;CAEpB,6BAAY7D,OAAZ,EACA;CAAA;;CAAA;CACC,mHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,yDAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,0BAAf;CADsB,KAAf,CAAf;CAIA,QAAMC,OAAO,GAAG,IAAIC,uCAAJ,CAAgB;CAC/BC,MAAAA,EAAE,EAAE,mBAD2B;CAE/BP,MAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,mCAAf,CAFuB;CAG/BM,MAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,wCAAf,CAHkB;CAI/BI,MAAAA,IAAI,EAAEoD,WAJyB;CAK/BjD,MAAAA,YAAY,EAAE;CALiB,KAAhB,CAAhB;CAQA,QAAMkD,QAAQ,GAAG,IAAIzC,iDAAJ,CAAqB;CACrCb,MAAAA,EAAE,EAAE,gBADiC;CAErCe,MAAAA,MAAM,EAAE,CACP,IAAIwC,8CAAJ,CAAmB;CAClBtC,QAAAA,QAAQ,EAAE,YADQ;CAElBuC,QAAAA,WAAW,EAAE,MAAKjE,OAAL,CAAaiE,WAFR;CAGlBC,QAAAA,cAAc,EAAE,MAAKlE,OAAL,CAAakE,cAHX;CAIlB5B,QAAAA,KAAK,EAAE,MAAKtC,OAAL,CAAa6B,MAAb,CAAoBsC;CAJT,OAAnB,CADO;CAF6B,KAArB,CAAjB;;CAYA,QAAI,CAAC5D,OAAO,CAAC6D,OAAR,EAAL,EACA;CACCC,MAAAA,aAAG,CAACC,KAAJ,CAAUpE,MAAM,CAACqE,SAAP,EAAV,EAA8B,eAA9B,EAA+C,GAA/C;CACAF,MAAAA,aAAG,CAACC,KAAJ,CAAUP,QAAQ,CAACQ,SAAT,EAAV,EAAgC,YAAhC,EAA8C,OAA9C;CACA;;CAEDhE,IAAAA,OAAO,CAACiE,SAAR,CAAkB,SAAlB,EAA6B,YAAM;CAClCH,MAAAA,aAAG,CAACC,KAAJ,CAAUpE,MAAM,CAACqE,SAAP,EAAV,EAA8B,eAA9B,EAA+C,GAA/C;CACAF,MAAAA,aAAG,CAACC,KAAJ,CAAUP,QAAQ,CAACQ,SAAT,EAAV,EAAgC,YAAhC,EAA8C,OAA9C;CACA,KAHD;;CAKA,UAAK3B,OAAL,CAAa1C,MAAb;;CACA,UAAK0C,OAAL,CAAarC,OAAb;;CACA,UAAKqC,OAAL,CAAamB,QAAb;;CAzCD;CA0CC;;;GA7C6CH;;KCA1Ba;;;CAEpB,0BAAYzE,OAAZ,EACA;CAAA;;CAAA;CACC,gHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,sDAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,+BAAf;CADsB,KAAf,CAAf;CAIA,QAAMoE,eAAe,GAAG,IAAIpD,iDAAJ,CAAqB;CAC5Cb,MAAAA,EAAE,EAAE,MADwC;CAE5CG,MAAAA,WAAW,EAAE,IAF+B;CAG5CY,MAAAA,MAAM,EAAE,CACP,IAAImD,kDAAJ,CAAqB;CACpBjD,QAAAA,QAAQ,EAAE,KADU;CAEpBtB,QAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,oCAAf,CAFa;CAGpBgC,QAAAA,KAAK,EAAE,MAAKtC,OAAL,CAAa6B,MAAb,CAAoB+C,GAApB,GAA0B,QAA1B,GAAqC,UAHxB;CAIpBvC,QAAAA,KAAK,EAAE,CACN;CACC5B,UAAAA,EAAE,EAAE,UADL;CAECL,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,sCAAf,CAFR;CAGCI,UAAAA,IAAI,EAAE;CAHP,SADM,EAMN;CACCD,UAAAA,EAAE,EAAE,QADL;CAECL,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,oCAAf,CAFR;CAGCI,UAAAA,IAAI,EAAE;CAHP,SANM;CAJa,OAArB,CADO;CAHoC,KAArB,CAAxB;;CAwBA,UAAKkC,OAAL,CAAa1C,MAAb;;CACA,UAAK0C,OAAL,CAAa8B,eAAb;;CACA,UAAK9B,OAAL,CAAa,MAAKiC,eAAL,EAAb;;CACA,UAAKjC,OAAL,CAAa,MAAKkC,WAAL,EAAb;;CAEA,QAAMC,OAAO,GAAG,MAAK/E,OAAL,CAAa6B,MAAb,CAAoBqB,GAApB,IAA2B,MAAKlD,OAAL,CAAa6B,MAAb,CAAoBmD,MAA/D;;CAEA,QAAIN,eAAe,CAAClD,MAAhB,CAAuB,CAAvB,EAA0B+B,QAA1B,OAAyC,UAA7C,EACA;CACC,YAAK0B,gBAAL;;CACA,YAAKC,YAAL;CACA,KAJD,MAMA;CACC,YAAKC,gBAAL;;CACA,YAAKN,eAAL,GAAuBrD,MAAvB,CAA8B,CAA9B,EAAiC4D,QAAjC,CAA0C,CAACL,OAAO,GAAG,eAAH,GAAqB,EAA7B,CAA1C;;CACA,UAAIA,OAAJ,EACA;CACC,cAAKM,YAAL;CACA,OAHD,MAKA;CACC,cAAKH,YAAL;CACA;CACD;;CAEDR,IAAAA,eAAe,CAACF,SAAhB,CAA0B,UAA1B,EAAsC,YAAM;CAC3C,UAAIE,eAAe,CAAClD,MAAhB,CAAuB,CAAvB,EAA0B+B,QAA1B,OAAyC,UAA7C,EACA;CACC,cAAK0B,gBAAL;;CACA,cAAKC,YAAL;CACA,OAJD,MAMA;CACC,cAAKC,gBAAL;;CACA,cAAKN,eAAL,GAAuBrD,MAAvB,CAA8B,CAA9B,EAAiC4D,QAAjC,CAA0C,CAACL,OAAO,GAAG,eAAH,GAAqB,EAA7B,CAA1C;;CACA,YAAIA,OAAJ,EACA;CACC,gBAAKM,YAAL;CACA,SAHD,MAKA;CACC,gBAAKH,YAAL;CACA;CACD;CACD,KAnBD;;CAqBA,UAAKL,eAAL,GAAuBL,SAAvB,CAAiC,UAAjC,EAA6C,YAAM;CAClD,UAAI,MAAKK,eAAL,GAAuBrD,MAAvB,CAA8B,CAA9B,EAAiC+B,QAAjC,GAA4CJ,QAA5C,CAAqD,eAArD,CAAJ,EACA;CACC,cAAKkC,YAAL;CACA,OAHD,MAKA;CACC,cAAKH,YAAL;CACA;CACD,KATD;;CA/ED;CAyFC;;;;uCAGD;CACC,aAAO,KAAKI,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAIjE,iDAAJ,CAAqB;CAC3Bb,UAAAA,EAAE,EAAE,YADuB;CAE3BG,UAAAA,WAAW,EAAE,IAFc;CAG3BY,UAAAA,MAAM,EAAE,CACP,IAAIN,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoBC,QAAxB,CAAiC;CAChCV,YAAAA,QAAQ,EAAE,eADsB;CAEhCW,YAAAA,KAAK,EAAE,CACN;CACCE,cAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,oDAAf,CADP;CAECgC,cAAAA,KAAK,EAAE;CAFR,aADM;CAFyB,WAAjC,CADO;CAHmB,SAArB,CAAP;CAeA,OAhBM,CAAP;CAiBA;;;wCAGD;CACC,WAAKuC,eAAL,GAAuBN,SAAvB,GAAmCiB,MAAnC,GAA4C,KAA5C;CACA;;;wCAGD;CACC,WAAKX,eAAL,GAAuBN,SAAvB,GAAmCiB,MAAnC,GAA4C,IAA5C;CACA;;;mCAGD;CAAA;;CACC,aAAO,KAAKF,KAAL,CAAWC,QAAX,CAAoB,UAApB,EAAgC,YAAM;CAC5C,eAAO,IAAIjE,iDAAJ,CAAqB;CAC3Bb,UAAAA,EAAE,EAAE,MADuB;CAE3BL,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,yCAAf,CAFoB;CAG3BmF,UAAAA,IAAI,EAAE;CACLC,YAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,6CAAf,CADD;CAELqF,YAAAA,IAAI,EAAEtF,eAAG,CAACC,UAAJ,CAAe,6CAAf;CAFD,WAHqB;CAO3BkB,UAAAA,MAAM,EAAE,CACP,IAAIkB,oCAAJ,CAAc;CACbhB,YAAAA,QAAQ,EAAE,KADG;CAEbtB,YAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAFM;CAGbqB,YAAAA,QAAQ,EAAE,IAHG;CAIbC,YAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBqB;CAJhB,WAAd,CADO,EAOP,IAAIR,oCAAJ,CAAc;CACbhB,YAAAA,QAAQ,EAAE,QADG;CAEbtB,YAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,0DAAf,CAFM;CAGbqB,YAAAA,QAAQ,EAAE,IAHG;CAIbC,YAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBmD;CAJhB,WAAd,CAPO;CAPmB,SAArB,CAAP;CAsBA,OAvBM,CAAP;CAwBA;;;oCAGD;CACC,WAAKF,WAAL,GAAmBP,SAAnB,GAA+BiB,MAA/B,GAAwC,KAAxC;CACA;;;oCAGD;CACC,WAAKV,WAAL,GAAmBP,SAAnB,GAA+BiB,MAA/B,GAAwC,IAAxC;CACA;;;;kCAGY3C,aACb;CACC,UAAM+C,aAAa,GAAG/C,WAAW,CAAC+C,aAAZ,CAA0BC,MAA1B,GAAmC,CAAzD;CAEA,aAAO;CACNC,QAAAA,SAAS,EAAE;CACVlB,UAAAA,GAAG,EAAE/B,WAAW,CAAC+B,GAAZ,KAAoB,QADf;CAEV1B,UAAAA,GAAG,EAAE0C,aAAa,GAAG/C,WAAW,CAACK,GAAf,GAAqB,EAF7B;CAGV8B,UAAAA,MAAM,EAAEY,aAAa,GAAG/C,WAAW,CAACmC,MAAf,GAAwB;CAHnC;CADL,OAAP;CAOA;;;8BAEQxB,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;GApL0CC;;ACT5C,kBAAe,iGAAf;;ACAA,kBAAe,iGAAf;;;;;;;;;;;KCOamC,gBAAb;CAEC,8BACA;CAAA,QADY/F,OACZ,uEAD+C,EAC/C;CAAA;CACC,SAAKA,OAAL,iCAAmBA,OAAnB;CACA;;CALF;CAAA;CAAA,6BAQC;CACC,aAAOgG,aAAG,CAACC,MAAX,oBAEI,KAAKjG,OAAL,CAAa4B,OAFjB;CAKA;CAdF;CAAA;CAAA;;;;;;;;;;;KCCasE,eAAb;CAEC,2BAAYlG,OAAZ,EACA;CAAA;CACC,SAAKA,OAAL,iCAAmBA,OAAnB;CACA;;CALF;CAAA;CAAA,6BAQC;CACC,UAAMmG,SAAS,GAAG,KAAKnG,OAAL,CAAaoG,IAAb,GAAoB,oCAApB,GAA2D,EAA7E;CAEA,aAAOJ,aAAG,CAACC,MAAX,sBAC2CE,SAD3C,EAEI,KAAKnG,OAAL,CAAaqG,OAAb,CAAqBC,GAArB,CAAyB,UAACC,IAAD;CAAA,eAAUA,IAAI,CAACN,MAAL,EAAV;CAAA,OAAzB,CAFJ;CAKA;CAhBF;CAAA;CAAA;;;;;;;;;;;;;;;;;;;;;KCMaO,YAAb;CAEC,wBAAYxG,OAAZ,EACA;CAAA;CACC,SAAKA,OAAL,iCAAmBA,OAAnB;CACA,SAAKyG,OAAL,GAAe,IAAIP,eAAJ,CAAoB;CAClCG,MAAAA,OAAO,EAAE,KAAKrG,OAAL,CAAaqG,OAAb,CAAqBC,GAArB,CAAyB,UAACI,aAAD,EAAmB;CACpD,eAAO,IAAIX,gBAAJ,CAAqBW,aAArB,CAAP;CACA,OAFQ,CADyB;CAIlCN,MAAAA,IAAI,EAAE;CAJ4B,KAApB,CAAf;CAMA,SAAKO,IAAL,GAAY,KAAK3G,OAAL,CAAa2G,IAAb,CAAkBL,GAAlB,CAAsB,UAACM,UAAD,EAAgB;CACjD,aAAO,IAAIV,eAAJ,CAAoB;CAC1BG,QAAAA,OAAO,EAAEO,UAAU,CAACP,OAAX,CAAmBC,GAAnB,CAAuB,UAACO,WAAD,EAAiB;CAChD,iBAAO,IAAId,gBAAJ,CAAqBc,WAArB,CAAP;CACA,SAFQ;CADiB,OAApB,CAAP;CAKA,KANW,CAAZ;CAOA;;CAlBF;CAAA;CAAA,qCAqBC;CACC,UAAIC,IAAI,CAACC,cAAL,CAAoB,KAAK/G,OAAL,CAAaI,KAAjC,CAAJ,EACA;CACC,eAAO4F,aAAG,CAACC,MAAX,sBAC+C,KAAKjG,OAAL,CAAaI,KAD5D;CAGA;;CAED,aAAO,EAAP;CACA;CA9BF;CAAA;CAAA,6BAiCC;CACC,aAAO4F,aAAG,CAACC,MAAX,qBAIK,KAAKQ,OAAL,CAAaR,MAAb,EAJL,EAKK,KAAKU,IAAL,CAAUL,GAAV,CAAc,UAACU,GAAD;CAAA,eAASA,GAAG,CAACf,MAAJ,EAAT;CAAA,OAAd,CALL;CASA;CA3CF;CAAA;CAAA;;KCJqBgB;;;CAEpB,4BAAYjH,OAAZ,EACA;CAAA;;CAAA;CACC,kHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,yDAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,uCAAf;CADsB,KAAf,CAAf;CAIA,QAAM+B,KAAK,GAAG,EAAd;;CACA,QAAIhC,eAAG,CAACC,UAAJ,CAAe,aAAf,MAAkC,IAAtC,EACA;CACC+B,MAAAA,KAAK,CAAC6E,IAAN,CAAW;CACVzG,QAAAA,EAAE,EAAE,QADM;CAEVL,QAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,qDAAf,CAFG;CAGVI,QAAAA,IAAI,EAAEyG,UAHI;CAIVC,QAAAA,OAAO,EAAE,IAJC;CAKVC,QAAAA,QAAQ,EAAE,KALA;CAMVzF,QAAAA,OAAO,EAAE,MAAK0F,cAAL;CANC,OAAX;CAQA;;CAEDjF,IAAAA,KAAK,CAAC6E,IAAN,CAAW;CACVzG,MAAAA,EAAE,EAAE,QADM;CAEVL,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,uDAAf,CAFG;CAGVI,MAAAA,IAAI,EAAE6G,UAHI;CAIVH,MAAAA,OAAO,EAAE,IAJC;CAKVC,MAAAA,QAAQ,EAAE,KALA;CAMVzF,MAAAA,OAAO,EAAE,MAAK4F,cAAL;CANC,KAAX;CASA,QAAMC,cAAc,GAAG,IAAIC,8CAAJ,CAAmB;CACzChG,MAAAA,QAAQ,EAAE,WAD+B;CAEzCtB,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAFkC;CAGzC+B,MAAAA,KAAK,EAALA;CAHyC,KAAnB,CAAvB;CAMA,QAAM9B,OAAO,GAAG,IAAIC,uCAAJ,CAAgB;CAC/BC,MAAAA,EAAE,EAAE,kBAD2B;CAE/BP,MAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,+CAAf,CAFuB;CAG/BM,MAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,qDAAf,CAHkB;CAI/BqH,MAAAA,KAAK,EAAE,KAJwB;CAK/B9G,MAAAA,YAAY,EAAE;CALiB,KAAhB,CAAhB;;CAQA,UAAK+B,OAAL,CAAa1C,MAAb;;CACA,UAAK0C,OAAL,CAAarC,OAAb;;CACA,UAAKqC,OAAL,CAAa6E,cAAb;;CA9CD;CA+CC;;;;sCAGD;CACC,UAAMG,KAAK,GAAG,IAAIpB,YAAJ,CAAiB;CAC9BH,QAAAA,OAAO,EAAE,CACR;CACC5F,UAAAA,EAAE,EAAE,OADL;CAECmB,UAAAA,OAAO,EAAEvB,eAAG,CAACC,UAAJ,CAAe,yDAAf;CAFV,SADQ,EAKR;CACCG,UAAAA,EAAE,EAAE,IADL;CAECmB,UAAAA,OAAO,EAAEvB,eAAG,CAACC,UAAJ,CAAe,uDAAf;CAFV,SALQ,CADqB;CAW9BqG,QAAAA,IAAI,EAAE,KAAK3G,OAAL,CAAa6H,MAAb,CAAoBvB,GAApB,CAAwB,UAACU,GAAD,EAAS;CACtC,iBAAO;CACNX,YAAAA,OAAO,EAAE,CACR;CAACzE,cAAAA,OAAO,EAAEoF,GAAG,CAACzE;CAAd,aADQ,EAER;CAACX,cAAAA,OAAO,EAAEoF,GAAG,CAACxD;CAAd,aAFQ;CADH,WAAP;CAMA,SAPK;CAXwB,OAAjB,CAAd;CAqBA,aAAOoE,KAAK,CAAC3B,MAAN,EAAP;CACA;;;sCAGD;CACC,UAAM2B,KAAK,GAAG,IAAIpB,YAAJ,CAAiB;CAC9BH,QAAAA,OAAO,EAAE,CACR;CACC5F,UAAAA,EAAE,EAAE,OADL;CAECmB,UAAAA,OAAO,EAAEvB,eAAG,CAACC,UAAJ,CAAe,yDAAf;CAFV,SADQ,EAKR;CACCG,UAAAA,EAAE,EAAE,IADL;CAECmB,UAAAA,OAAO,EAAEvB,eAAG,CAACC,UAAJ,CAAe,uDAAf;CAFV,SALQ,CADqB;CAW9BqG,QAAAA,IAAI,EAAE,KAAK3G,OAAL,CAAa6H,MAAb,CAAoBvB,GAApB,CAAwB,UAACU,GAAD,EAAS;CACtC,iBAAO;CACNX,YAAAA,OAAO,EAAE,CACR;CAACzE,cAAAA,OAAO,EAAEoF,GAAG,CAACzE;CAAd,aADQ,EAER;CAACX,cAAAA,OAAO,EAAEoF,GAAG,CAACc;CAAd,aAFQ;CADH,WAAP;CAMA,SAPK;CAXwB,OAAjB,CAAd;CAqBA,aAAOF,KAAK,CAAC3B,MAAN,EAAP;CACA;;;GAtG4CrC;;ACV9C,qBAAe,oGAAf;;KCQqBmE;;;CAEpB,yBAAY/H,OAAZ,EACA;CAAA;;CAAA;CACC,+GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,qDAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,oCAAf;CADsB,KAAf,CAAf;CAIA,QAAMC,OAAO,GAAG,IAAIC,uCAAJ,CAAgB;CAC/BC,MAAAA,EAAE,EAAE,eAD2B;CAE/BP,MAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,4CAAf,CAFuB;CAG/BM,MAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,kDAAf,CAHkB;CAI/BI,MAAAA,IAAI,EAAEoD,aAJyB;CAK/BjD,MAAAA,YAAY,EAAE;CALiB,KAAhB,CAAhB;CAQA,QAAMmH,UAAU,GAAG,IAAI1G,iDAAJ,CAAqB;CACvCE,MAAAA,MAAM,EAAE,CACP,IAAIyG,gDAAJ,CAAoB;CACnBvG,QAAAA,QAAQ,EAAE,QADS;CAEnBwG,QAAAA,aAAa,EAAE,MAAKlI,OAAL,CAAakI,aAFT;CAGnBjE,QAAAA,WAAW,gCACP,MAAKjE,OAAL,CAAaiE,WADN,CAHQ;CAMnBkE,QAAAA,SAAS,gCACL,MAAKnI,OAAL,CAAamI,SADR,CANU;CASnB9F,QAAAA,KAAK,iCACD,MAAKrC,OAAL,CAAa6B,MAAb,CAAoBL,MADnB;CATc,OAApB,CADO;CAD+B,KAArB,CAAnB;;CAkBA,QAAI,CAACjB,OAAO,CAAC6D,OAAR,EAAL,EACA;CACC4D,MAAAA,UAAU,CAACI,YAAX,CAAwB,CAAC,EAAzB;CACA;;CAED7H,IAAAA,OAAO,CAACiE,SAAR,CAAkB,SAAlB,EAA6B,YAAM;CAClCwD,MAAAA,UAAU,CAACI,YAAX,CAAwB,CAAC,EAAzB;CACA,KAFD;;CAIA,UAAKxF,OAAL,CAAa1C,MAAb;;CACA,UAAK0C,OAAL,CAAarC,OAAb;;CACA,UAAKqC,OAAL,CAAaoF,UAAb;;CA7CD;CA8CC;;;GAjDyCpE;;KCGtByE;;;CAEpB,8BAAYrI,OAAZ,EACA;CAAA;;CAAA;CACC,oHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,0DAAvB;;CAEA,UAAK2C,OAAL,CAAa,MAAK0F,SAAL,EAAb;;CAEA,QAAI,CAACxF,MAAM,CAACyF,IAAP,CAAY,MAAKvI,OAAL,CAAa6B,MAAzB,EAAiCgE,MAAlC,GAA2C,CAA/C,EACA;CACC,YAAKjD,OAAL,CAAa,MAAK4F,gBAAL,EAAb;CACA,KAHD,MAKA;CACC,YAAK5F,OAAL,CAAa,MAAK6F,YAAL,EAAb;;CACA,YAAK7F,OAAL,CAAa,MAAK8F,cAAL,EAAb;;CAEA,UAAM7G,MAAM,GAAG,MAAK7B,OAAL,CAAa6B,MAAb,CAAoBmB,MAApB,CAA2B,UAACC,GAAD,EAAM0F,KAAN,EAAgB;CACzDA,QAAAA,KAAK,CAACC,IAAN,CAAWC,OAAX,CAAmB,UAACC,IAAD,EAAU;CAC5B,cAAMC,QAAQ,GAAG9F,GAAG,CAAC+F,IAAJ,CAAS,UAACC,OAAD,EAAa;CACtC,mBACC,CACCA,OAAO,CAACC,SAAR,CAAkBC,KAAlB,KAA4BL,IAAI,CAACI,SAAL,CAAeE,MAA3C,IACGH,OAAO,CAACC,SAAR,CAAkBC,KAAlB,CAAwB1I,EAAxB,KAA+BqI,IAAI,CAACI,SAAL,CAAeE,MAFlD,KAIGH,OAAO,CAACC,SAAR,CAAkB5G,KAAlB,KAA4BwG,IAAI,CAACI,SAAL,CAAe5G,KAJ9C,IAKG2G,OAAO,CAACC,SAAR,CAAkBG,QAAlB,KAA+BP,IAAI,CAACI,SAAL,CAAeI,SANlD;CAQA,WATgB,CAAjB;;CAWA,cAAIP,QAAJ,EACA;CACCA,YAAAA,QAAQ,CAACQ,UAAT,CAAoBrC,IAApB,CAAyB;CACxBiC,cAAAA,KAAK,EAAE,MAAKnJ,OAAL,CAAawB,MAAb,CAAoBwH,IAApB,CAAyB,UAACG,KAAD,EAAW;CAC1C,uBAAOA,KAAK,CAAC1I,EAAN,KAAaqI,IAAI,CAACU,MAAL,CAAYJ,MAAhC;CACA,eAFM,CADiB;CAIxBI,cAAAA,MAAM,EAAEV,IAAI,CAACU,MAAL,CAAYC;CAJI,aAAzB;CAMA,WARD,MAUA;CACCxG,YAAAA,GAAG,CAACiE,IAAJ,CAAS;CACRgC,cAAAA,SAAS,EAAE;CACVC,gBAAAA,KAAK,EAAE,MAAKnJ,OAAL,CAAawB,MAAb,CAAoBwH,IAApB,CAAyB,UAACG,KAAD,EAAW;CAC1C,yBAAOA,KAAK,CAAC5G,IAAN,KAAeuG,IAAI,CAACI,SAAL,CAAeE,MAArC;CACA,iBAFM,CADG;CAIV9G,gBAAAA,KAAK,EAAEwG,IAAI,CAACI,SAAL,CAAe5G,KAJZ;CAKV+G,gBAAAA,QAAQ,EAAEP,IAAI,CAACI,SAAL,CAAeI;CALf,eADH;CAQRC,cAAAA,UAAU,EAAE,CACX;CACCJ,gBAAAA,KAAK,EAAE,MAAKnJ,OAAL,CAAawB,MAAb,CAAoBwH,IAApB,CAAyB,UAACG,KAAD,EAAW;CAC1C,yBAAOA,KAAK,CAAC5G,IAAN,KAAeuG,IAAI,CAACU,MAAL,CAAYJ,MAAlC;CACA,iBAFM,CADR;CAICI,gBAAAA,MAAM,EAAEV,IAAI,CAACU,MAAL,CAAYC;CAJrB,eADW;CARJ,aAAT;CAiBA;CACD,SAzCD;CA2CA,eAAOxG,GAAP;CACA,OA7Cc,EA6CZ,EA7CY,CAAf;;CA+CA,YAAKwF,YAAL,GAAoBiB,QAApB,CACC,IAAIC,oCAAJ,CAAc;CACbnI,QAAAA,MAAM,EAAE,MAAKoI,aAAL,EADK;CAEbC,QAAAA,KAAK,EAAEhI,MAFM;CAGbiI,QAAAA,QAAQ,EAAE,MAAKC,aAAL,CAAmBC,IAAnB,2CAHG;CAIbC,QAAAA,UAAU,EAAE,MAAKjK,OAAL,CAAaiK;CAJZ,OAAd,CADD;CAQA;;CAtEF;CAuEC;;;;qCAGD;CAAA;;CACC,UAAMC,eAAe,GAAI,YAAM;CAC9B,YACC,CAACpD,cAAI,CAACqD,aAAL,CAAmB,MAAI,CAACnK,OAAL,CAAaiK,UAAb,CAAwBG,IAAxB,CAA6BjB,KAAhD,CAAD,IACG,CAACrC,cAAI,CAACuD,aAAL,CAAmB,MAAI,CAACrK,OAAL,CAAaiK,UAAb,CAAwBG,IAAxB,CAA6BjB,KAA7B,CAAmCmB,UAAtD,CAFL,EAIA;CACC,iBAAO,IAAP;CACA;;CAED,eAAO,MAAI,CAACtK,OAAL,CAAaiK,UAAb,CAAwBG,IAAxB,CAA6BjB,KAA7B,CAAmCmB,UAA1C;CACA,OAVuB,EAAxB;;CAYA,aAAO,KAAKtK,OAAL,CAAawB,MAAb,CAAoB+I,MAApB,CAA2B,UAACpB,KAAD,EAAW;CAC5C,eACC,CAACrC,cAAI,CAACuD,aAAL,CAAmBH,eAAnB,CAAD,IAEC,CAACA,eAAe,CAAC/G,QAAhB,CAAyBgG,KAAK,CAACM,IAA/B,CAAD,KAEC,CAAC3C,cAAI,CAACqD,aAAL,CAAmBhB,KAAK,CAACvH,OAAzB,CAAD,IACGsI,eAAe,CAAC/G,QAAhB,CAAyBgG,KAAK,CAACvH,OAAN,CAAc6H,IAAvC,CAHJ,CAHF;CAUA,OAXM,CAAP;CAYA;;;mCAEajG,OACd;CACC,WAAKiF,YAAL,GAAoB+B,WAApB,CAAgChH,KAAK,CAACiH,SAAN,EAAhC;CACA,WAAKC,KAAL;CAEA,UAAMxK,MAAM,GAAG,KAAKoI,SAAL,EAAf;CACApI,MAAAA,MAAM,CAACyK,eAAP,CAAuB,IAAvB;CACA,WAAK/H,OAAL,CAAa1C,MAAb;CACA,WAAK0C,OAAL,CAAa,KAAK4F,gBAAL,EAAb;CACA;;;oCAGD;CACC,aAAO,KAAKlD,KAAL,CAAWC,QAAX,CAAoB,WAApB,EAAiC,YAAM;CAC7C,eAAO,IAAIjE,iDAAJ,CAAqB;CAC3BI,UAAAA,QAAQ,EAAE,cADiB;CAE3Bd,UAAAA,WAAW,EAAE;CAFc,SAArB,CAAP;CAIA,OALM,CAAP;CAMA;;;sCAGD;CACC,aAAO,KAAK0E,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIqF,4CAAJ,CAAgB;CACtBC,UAAAA,IAAI,EAAE;CAEL;CACA;CACA;CAJK;CADgB,SAAhB,CAAP;CAQA,OATM,CAAP;CAUA;;;iCAGD;CACC,aAAO,KAAKvF,KAAL,CAAWC,QAAX,CAAoB,YAApB,EAAkC,YAAM;CAC9C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,4BAAf;CADc,SAAf,CAAP;CAGA,OAJM,CAAP;CAKA;;;oCAGD;CACC,WAAKoK,KAAL;CAEA,UAAMxK,MAAM,GAAG,KAAKoI,SAAL,EAAf;CACApI,MAAAA,MAAM,CAACyK,eAAP,CAAuB,KAAvB;CACA,WAAK/H,OAAL,CAAa1C,MAAb;CAEA,UAAM4K,QAAQ,GAAG,KAAKrC,YAAL,EAAjB;CAEAqC,MAAAA,QAAQ,CAACpB,QAAT,CACC,IAAIC,oCAAJ,CAAc;CACbnI,QAAAA,MAAM,EAAE,KAAKoI,aAAL,EADK;CAEbC,QAAAA,KAAK,EAAE,EAFM;CAGbC,QAAAA,QAAQ,EAAE,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAHG;CAIbC,QAAAA,UAAU,EAAE,KAAKjK,OAAL,CAAaiK;CAJZ,OAAd,CADD;CASA,WAAKrH,OAAL,CAAakI,QAAb;CACA,WAAKlI,OAAL,CAAa,KAAK8F,cAAL,EAAb;CACA;;;wCAGD;CAAA;;CACC,aAAO,KAAKpD,KAAL,CAAWC,QAAX,CAAoB,eAApB,EAAqC,YAAM;CACjD,eAAO,IAAIZ,kDAAJ,CAAqB;CAC3BjD,UAAAA,QAAQ,EAAE,YADiB;CAE3BW,UAAAA,KAAK,EAAE,CACN;CACC5B,YAAAA,EAAE,EAAE,OADL;CAECC,YAAAA,IAAI,EAAE,6BAFP;CAGCN,YAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,6BAAf,CAHR;CAICyK,YAAAA,MAAM,EAAE;CACPrF,cAAAA,IAAI,EAAErF,aAAG,CAACC,UAAJ,CAAe,kCAAf,CADC;CAEP0K,cAAAA,OAAO,EAAE,MAAI,CAACC,YAAL,CAAkBjB,IAAlB,CAAuB,MAAvB;CAFF;CAJT,WADM,EAUN;CACCvJ,YAAAA,EAAE,EAAE,OADL;CAECC,YAAAA,IAAI,EAAE,6BAFP;CAGCN,YAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,6BAAf,CAHR;CAICyK,YAAAA,MAAM,EAAE;CACPrF,cAAAA,IAAI,EAAErF,aAAG,CAACC,UAAJ,CAAe,kCAAf,CADC;CAEP0K,cAAAA,OAAO,EAAE,MAAI,CAACC,YAAL,CAAkBjB,IAAlB,CAAuB,MAAvB;CAFF,aAJT;CAQCkB,YAAAA,QAAQ,EAAE,IARX;CASCC,YAAAA,IAAI,EAAE;CATP,WAVM,EAqBN;CACC1K,YAAAA,EAAE,EAAE,OADL;CAECC,YAAAA,IAAI,EAAE,6BAFP;CAGCN,YAAAA,KAAK,EAAEC,aAAG,CAACC,UAAJ,CAAe,6BAAf,CAHR;CAICyK,YAAAA,MAAM,EAAE;CACPrF,cAAAA,IAAI,EAAErF,aAAG,CAACC,UAAJ,CAAe,kCAAf,CADC;CAEP0K,cAAAA,OAAO,EAAE,MAAI,CAACC,YAAL,CAAkBjB,IAAlB,CAAuB,MAAvB;CAFF,aAJT;CAQCkB,YAAAA,QAAQ,EAAE,IARX;CASCC,YAAAA,IAAI,EAAE;CATP,WArBM;CAFoB,SAArB,CAAP;CAoCA,OArCM,CAAP;CAsCA;;;sCAGD;CACC,UAAMC,UAAU,GAAG,KAAK5C,gBAAL,EAAnB;CACA,WAAK6C,YAAL,CAAkBD,UAAlB,EAA8B,KAAK/I,KAAL,CAAW,KAAKA,KAAL,CAAWwD,MAAX,GAAoB,CAA/B,CAA9B;CACA;;;8BAEQrC,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;kCAEYrB,OACb;CACC,aAAO;CACNgJ,QAAAA,YAAY,EAAExI,MAAM,CAACjB,MAAP,CAAcS,KAAd,EAAqBgE,GAArB,CAAyB,UAACwC,IAAD,EAAU;CAChD,iBAAO;CACNyC,YAAAA,MAAM,EAAE,CADF;CAEN3C,YAAAA,IAAI,EAAEE,IAAI,CAAC9F,MAAL,CAAY,UAACC,GAAD,EAAMuI,SAAN,EAAoB;CACrCA,cAAAA,SAAS,CAAC3C,OAAV,CAAkB,UAAC4C,QAAD,EAAc;CAC/BA,gBAAAA,QAAQ,CAAClC,UAAT,CAAoBV,OAApB,CAA4B,UAAC6C,OAAD,EAAa;CACxCzI,kBAAAA,GAAG,CAACiE,IAAJ,CAAS;CACRgC,oBAAAA,SAAS,EAAE;CACVE,sBAAAA,MAAM,EAAEqC,QAAQ,CAACvC,SAAT,CAAmBC,KADjB;CAEV3F,sBAAAA,KAAK,EAAE,QAFG;CAGVlB,sBAAAA,KAAK,EAAEmJ,QAAQ,CAACvC,SAAT,CAAmB5G,KAHhB;CAIVgH,sBAAAA,SAAS,EAAEmC,QAAQ,CAACvC,SAAT,CAAmBG;CAJpB,qBADH;CAORG,oBAAAA,MAAM,EAAE;CACPJ,sBAAAA,MAAM,EAAEsC,OAAO,CAACvC,KADT;CAEPM,sBAAAA,IAAI,EAAEiC,OAAO,CAAClC,MAFP;CAGPlH,sBAAAA,KAAK,EAAE;CAHA;CAPA,mBAAT;CAaA,iBAdD;CAeA,eAhBD;CAkBA,qBAAOW,GAAP;CACA,aApBK,EAoBH,EApBG;CAFA,WAAP;CAwBA,SAzBa;CADR,OAAP;CA4BA;;;GA9P8CW;;;;;;;;;;;KCJnC+H,gBAAb;CAAA;;CAEC,4BAAY3L,OAAZ,EACA;CAAA;;CAAA;CACC,kHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,sCAAvB;;CACA,UAAK2L,oBAAL,CAA0BC,oDAAsB,CAAC7L,OAAD,CAAhD;;CACA,UAAK8L,cAAL,CAAoB,+BAApB;;CAEAzH,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAKC,UAAL,EAAX,EAA8B,MAAKC,KAAnC;CACA5H,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAKG,UAAL,EAAX,EAA8B,MAAKD,KAAnC;CAEAE,IAAAA,eAAK,CAACnC,IAAN,CAAWoC,QAAX,EAAqB,OAArB,EAA8B,MAAKC,eAAL,CAAqBrC,IAArB,2CAA9B;CACAmC,IAAAA,eAAK,CAACnC,IAAN,CAAWsC,MAAM,CAACC,GAAP,CAAWH,QAAtB,EAAgC,OAAhC,EAAyC,MAAKC,eAAL,CAAqBrC,IAArB,2CAAzC;CAVD;CAWC;;CAdF;CAAA;CAAA,sCA8EC;CACC,UAAMwC,YAAY,GAAG,KAAKR,UAAL,GAAkBS,aAAlB,CAAgC,0CAAhC,CAArB;CACA,UAAMC,YAAY,GAAG,KAAKR,UAAL,GAAkBO,aAAlB,CAAgC,0CAAhC,CAArB;CAEApI,MAAAA,aAAG,CAACsI,IAAJ,CAASH,YAAT,EAAuB,iBAAvB,EAA0C,IAA1C;CACAnI,MAAAA,aAAG,CAACsI,IAAJ,CAASD,YAAT,EAAuB,iBAAvB,EAA0C,IAA1C;CACA;CApFF;CAAA;CAAA,iCAuFC;CAAA;;CACC,aAAO,KAAKpH,KAAL,CAAWC,QAAX,CAAoB,SAApB,EAA+B,YAAM;CAC3C,eAAOoG,gBAAgB,CAACiB,eAAjB,CAAiC;CACvCnD,UAAAA,IAAI,EAAE,SADiC;CAEvCrJ,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAFgC;CAGvCoF,UAAAA,IAAI,EAAE,MAAI,CAAC1F,OAAL,CAAa6M,WAHoB;CAIvCC,UAAAA,OAAO,EAAE,mBAAM;CACd,YAAA,MAAI,CAACrJ,IAAL,CAAU,UAAV;CACA,WANsC;CAOvCsJ,UAAAA,WAAW,EAAE,uBAAM;CAClB,YAAA,MAAI,CAACtJ,IAAL,CAAU,eAAV;CACA;CATsC,SAAjC,CAAP;CAWA,OAZM,CAAP;CAaA;CArGF;CAAA;CAAA,iCAwGC;CAAA;;CACC,aAAO,KAAK6B,KAAL,CAAWC,QAAX,CAAoB,SAApB,EAA+B,YAAM;CAC3C,eAAOoG,gBAAgB,CAACiB,eAAjB,CAAiC;CACvCnD,UAAAA,IAAI,EAAE,SADiC;CAEvCrJ,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAFgC;CAGvCoF,UAAAA,IAAI,EAAE,MAAI,CAAC1F,OAAL,CAAagN,WAHoB;CAIvCF,UAAAA,OAAO,EAAE,mBAAM;CACd,YAAA,MAAI,CAACrJ,IAAL,CAAU,UAAV;CACA,WANsC;CAOvCsJ,UAAAA,WAAW,EAAE,uBAAM;CAClB,YAAA,MAAI,CAACtJ,IAAL,CAAU,eAAV;CACA;CATsC,SAAjC,CAAP;CAWA,OAZM,CAAP;CAaA;CAtHF;CAAA;CAAA,qCAyHC;CACC,aAAO,KAAKuI,UAAL,GACLS,aADK,CACS,0CADT,EAELQ,SAFF;CAGA;CA7HF;CAAA;CAAA,qCAgIC;CACC,aAAO,KAAKf,UAAL,GACLO,aADK,CACS,0CADT,EAELQ,SAFF;CAGA;CApIF;CAAA;CAAA,+BAuIC;CACC,aAAO;CACNC,QAAAA,OAAO,EAAE,KAAKC,cAAL,EADH;CAENC,QAAAA,OAAO,EAAE,KAAKC,cAAL;CAFH,OAAP;CAIA;CA5IF;CAAA;CAAA,oCAiBErN,OAjBF,EAyBC;CACC,UAAMsN,WAAW,GAAG,oCAApB;;CAEA,UAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC/J,KAAD,EAAuB;CAC1CA,QAAAA,KAAK,CAACgK,cAAN;CACAhK,QAAAA,KAAK,CAACiK,eAAN;CACA,YAAMC,KAAK,GAAGlK,KAAK,CAACmK,aAAN,CAAoBC,OAApB,YAAgCN,WAAhC,YAAd;CACA,YAAMO,aAAa,GAAGH,KAAK,CAACjB,aAAN,YAAwBa,WAAxB,WAAtB;CACAjJ,QAAAA,aAAG,CAACsI,IAAJ,CAASkB,aAAT,EAAwB,iBAAxB,EAA2C,CAACA,aAAa,CAACC,iBAA1D;;CACA,YAAIhH,cAAI,CAACiH,UAAL,CAAgB/N,OAAO,CAACuN,WAAxB,CAAJ,EACA;CACCvN,UAAAA,OAAO,CAACuN,WAAR,CAAoB/J,KAApB;CACA;CACD,OAVD;;CAYA,UAAMwK,aAAa,GAAG,SAAhBA,aAAgB,CAACxK,KAAD,EAAW;CAChCA,QAAAA,KAAK,CAACiK,eAAN;CACA,OAFD;;CAIA,UAAMQ,WAAW,GAAG,SAAdA,WAAc,CAACzK,KAAD,EAAuB;CAC1CA,QAAAA,KAAK,CAACgK,cAAN;;CACA,YAAI1G,cAAI,CAACiH,UAAL,CAAgB/N,OAAO,CAAC+M,WAAxB,CAAJ,EACA;CACC/M,UAAAA,OAAO,CAAC+M,WAAR,CAAoBvJ,KAApB;CACA;CACD,OAND;;CAQA,aAAOwC,aAAG,CAACC,MAAX,sBACeqH,WADf,EAC8BA,WAD9B,EAC6CtN,OAAO,CAACyJ,IADrD,EAEgB6D,WAFhB,EAGKtN,OAAO,CAACI,KAHb,EAKgBkN,WALhB,EAMiBA,WANjB,EAOmBA,WAPnB,EAOwDW,WAPxD,EAQO5N,eAAG,CAACC,UAAJ,CAAe,qCAAf,CARP,EAWiBgN,WAXjB,EAYiBA,WAZjB,EAY+CU,aAZ/C,EAY0EhO,OAAO,CAAC8M,OAZlF,EAaMoB,cAAI,CAACC,MAAL,CAAYnO,OAAO,CAAC0F,IAApB,CAbN,EAeiB4H,WAfjB,EAgBmBA,WAhBnB,EAgBwDC,WAhBxD,EAiBOlN,eAAG,CAACC,UAAJ,CAAe,qCAAf,CAjBP;CAuBA;CA3EF;CAAA;CAAA,EAAsC8N,oCAAtC;;ACPA,iBAAe,8FAAf;;ACAA,iBAAe,8FAAf;;KCeqBC;;;CAEpB,0BAAYrO,OAAZ,EACA;CAAA;;CAAA;CACC,gHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,sDAAvB;;CAEAoE,IAAAA,aAAG,CAACiK,QAAJ,CAAa,MAAK/J,SAAL,EAAb,EAA+B,oCAA/B;;CAEA,UAAK3B,OAAL,CAAa,MAAK0F,SAAL,EAAb;;CACA,UAAK1F,OAAL,CAAa,MAAK2L,cAAL,EAAb;;CAEA,UAAKC,cAAL,GACEhK,SADF,CACY,eADZ,EAC6B,YAAM;CACjC,YAAKf,IAAL,CAAU,eAAV;CACA,KAHF,EAIEe,SAJF,CAIY,eAJZ,EAI6B,YAAM;CACjC,YAAKf,IAAL,CAAU,eAAV;CACA,KANF;;CATD;CAgBC;;;;iCAGD;CACC,aAAO,KAAK6B,KAAL,CAAWC,QAAX,CAAoB,QAApB,EAA8B,YAAM;CAC1C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,4BAAf;CADc,SAAf,CAAP;CAGA,OAJM,CAAP;CAKA;;;sCAGD;CAAA;;CACC,aAAO,KAAKgF,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIZ,kDAAJ,CAAqB;CAC3B8J,UAAAA,UAAU,EAAE,IADe;CAE3BnM,UAAAA,KAAK,EAAG,YAAM;CACb,gBACCwE,cAAI,CAACC,cAAL,CAAoB,MAAI,CAAC/G,OAAL,CAAa6B,MAAb,CAAoBqL,OAApB,CAA4BwB,GAAhD,KACG5H,cAAI,CAACC,cAAL,CAAoB,MAAI,CAAC/G,OAAL,CAAa6B,MAAb,CAAoBuL,OAApB,CAA4BsB,GAAhD,CAFJ,EAIA;CACC,qBAAO,OAAP;CACA;;CAED,mBAAO,OAAP;CACA,WAVM,EAFoB;CAa3BrM,UAAAA,KAAK,EAAE,CACN;CACC5B,YAAAA,EAAE,EAAE,OADL;CAECL,YAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,6BAAf,CAFR;CAGCI,YAAAA,IAAI,EAAE;CAHP,WADM,EAMN;CACCD,YAAAA,EAAE,EAAE,OADL;CAECL,YAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,6BAAf,CAFR;CAGCI,YAAAA,IAAI,EAAE;CAHP,WANM,CAboB;CAyB3BiO,UAAAA,QAAQ,EAAE,MAAI,CAACC,YAAL,CAAkB5E,IAAlB,CAAuB,MAAvB;CAzBiB,SAArB,CAAP;CA2BA,OA5BM,CAAP;CA6BA;;;mCAGD;CACC,aAAO,KAAK1E,KAAL,CAAWC,QAAX,CAAoB,UAApB,EAAgC,YAAM;CAC5C,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoBC,QAAxB,CAAiC;CACvCC,UAAAA,KAAK,EAAE,CACN;CAACE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,qCAAf,CAAP;CAA8DgC,YAAAA,KAAK,EAAE;CAArE,WADM;CADgC,SAAjC,CAAP;CAKA,OANM,CAAP;CAOA;;;uCAGD;CAAA;;CACC,aAAO,KAAKgD,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,YAAM4D,KAAK,GAAG,IAAI0F,wCAAJ,CAAgB;CAC7BhH,UAAAA,MAAM,EAAE;CACPmD,YAAAA,OAAO,EAAE,mBAAM;CACd,cAAA,MAAI,CAACN,KAAL;;CACA,cAAA,MAAI,CAAC9H,OAAL,CAAa,MAAI,CAAC0F,SAAL,EAAb;;CACA,cAAA,MAAI,CAAC1F,OAAL,CAAa,MAAI,CAAC2L,cAAL,EAAb;CACA;CALM;CADqB,SAAhB,CAAd;CASApF,QAAAA,KAAK,CAAC2F,QAAN,CAAezO,eAAG,CAACC,UAAJ,CAAe,0CAAf,CAAf;CACA6I,QAAAA,KAAK,CAAC4F,OAAN,CAAcC,SAAd;CAEA,eAAO7F,KAAP;CACA,OAdM,CAAP;CAeA;;;2CAGD;CAAA;;CACC,aAAO,KAAK7D,KAAL,CAAWC,QAAX,CAAoB,kBAApB,EAAwC,YAAM;CACpD,eAAO,IAAI7C,oCAAJ,CAAc;CACpBtC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,0CAAf,CADa;CAEpB2O,UAAAA,WAAW,EAAE,SAFO;CAGpBtN,UAAAA,QAAQ,EAAE,IAHU;CAIpBC,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBqL,OAApB,CAA4BwB,GAJjB;CAKpB5B,UAAAA,OAAO,EAAE,MAAI,CAAC6B,QAAL,CAAc3E,IAAd,CAAmB,MAAnB;CALW,SAAd,CAAP;CAOA,OARM,CAAP;CASA;;;2CAGD;CAAA;;CACC,aAAO,KAAK1E,KAAL,CAAWC,QAAX,CAAoB,kBAApB,EAAwC,YAAM;CACpD,eAAO,IAAI7C,oCAAJ,CAAc;CACpBtC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,0CAAf,CADa;CAEpB2O,UAAAA,WAAW,EAAE,SAFO;CAGpBtN,UAAAA,QAAQ,EAAE,IAHU;CAIpBC,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBuL,OAApB,CAA4BsB,GAJjB;CAKpB5B,UAAAA,OAAO,EAAE,MAAI,CAAC6B,QAAL,CAAc3E,IAAd,CAAmB,MAAnB;CALW,SAAd,CAAP;CAOA,OARM,CAAP;CASA;;;qCAGD;CAAA;;CACC,aAAO,KAAK1E,KAAL,CAAWC,QAAX,CAAoB,YAApB,EAAkC,YAAM;CAC9C,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CACvCxN,UAAAA,QAAQ,EAAE,eAD6B;CAEvCtB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAFgC;CAGvCsB,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBsN,aAHU;CAIvC9M,UAAAA,KAAK,EAAE+M,KAAK,CAACC,IAAN,CAAW;CAACxJ,YAAAA,MAAM,EAAE;CAAT,WAAX,EAAyB,UAACiD,IAAD,EAAOwG,KAAP,EAAiB;CAChD,mBAAO;CACN/M,cAAAA,IAAI,YAAK+M,KAAL,cAAcjP,eAAG,CAACC,UAAJ,CAAe,iCAAf,CAAd,CADE;CAENgC,cAAAA,KAAK,EAAGgN;CAFF,aAAP;CAIA,WALM;CAJgC,SAAjC,CAAP;CAWA,OAZM,CAAP;CAaA;;;gCAGD;CACC,WAAK7L,IAAL,CAAU,UAAV,EAAsB;CAACE,QAAAA,WAAW,EAAE;CAAd,OAAtB;CACA;;;sCAGD;CAAA;;CACC,aAAO,KAAK2B,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIoG,gBAAJ,CAAqB;CAC3BkB,UAAAA,WAAW,EAAE,MAAI,CAAC7M,OAAL,CAAa6B,MAAb,CAAoBqL,OAApB,CAA4BxH,IADd;CAE3BsH,UAAAA,WAAW,EAAE,MAAI,CAAChN,OAAL,CAAa6B,MAAb,CAAoBuL,OAApB,CAA4B1H,IAFd;CAG3BiJ,UAAAA,QAAQ,EAAE,MAAI,CAACA,QAAL,CAAc3E,IAAd,CAAmB,MAAnB;CAHiB,SAArB,CAAP;CAKA,OANM,CAAP;CAOA;;;kCAEYxG,OACb;CACC,UAAM+L,IAAI,GAAG/L,KAAK,CAACE,OAAN,EAAb;CACA,UAAM8L,YAAY,GAAG,KAAKC,eAAL,EAArB;CAEA,WAAK/E,KAAL;CAEA,WAAK9H,OAAL,CAAa,KAAK0F,SAAL,EAAb;CACA,WAAK1F,OAAL,CAAa4M,YAAb;CAEAA,MAAAA,YAAY,CAACE,WAAb,CAAyBH,IAAI,CAACzG,IAAL,CAAU1I,KAAV,CAAgBuP,OAAhB,CAAwB,QAAxB,EAAkC,GAAlC,CAAzB;;CAEA,UAAIJ,IAAI,CAACzG,IAAL,CAAUrI,EAAV,KAAiB,OAArB,EACA;CACC+O,QAAAA,YAAY,CAACT,OAAb,CAAqBC,SAArB;CACA,aAAKpM,OAAL,CAAa,KAAK4L,cAAL,EAAb;CACA;;CAED,UAAIe,IAAI,CAACzG,IAAL,CAAUrI,EAAV,KAAiB,OAArB,EACA;CACC+O,QAAAA,YAAY,CAACT,OAAb,CAAqBa,SAArB;CACA,aAAKhN,OAAL,CAAa,KAAKiN,mBAAL,EAAb;CACA,aAAKjN,OAAL,CAAa,KAAKkN,mBAAL,EAAb;CACA,aAAKlN,OAAL,CAAa,KAAKmN,aAAL,EAAb;CACA;CACD;;;gCAGD;CACC,UAAMC,gBAAgB,GAAG,KAAKxB,cAAL,GAAsBjL,QAAtB,EAAzB;CACA,UAAM0M,WAAW,GAAG,KAAK1B,cAAL,GAAsBhL,QAAtB,OAAqC,OAAzD;CAEA,aAAO;CACN2M,QAAAA,MAAM,EAAE;CACPhD,UAAAA,OAAO,EAAE;CACRxH,YAAAA,IAAI,EAAEsK,gBAAgB,CAAC9C,OADf;CAERwB,YAAAA,GAAG,EAAEuB,WAAW,GAAG/B,cAAI,CAACiC,MAAL,CAAY,KAAKN,mBAAL,GAA2BtM,QAA3B,EAAZ,CAAH,GAAwD;CAFhE,WADF;CAKP6J,UAAAA,OAAO,EAAE;CACR1H,YAAAA,IAAI,EAAEsK,gBAAgB,CAAC5C,OADf;CAERsB,YAAAA,GAAG,EAAEuB,WAAW,GAAG/B,cAAI,CAACiC,MAAL,CAAY,KAAKL,mBAAL,GAA2BvM,QAA3B,EAAZ,CAAH,GAAwD;CAFhE,WALF;CASP4L,UAAAA,aAAa,EAAE,KAAKY,aAAL,GAAqBxM,QAArB;CATR;CADF,OAAP;CAaA;;;GArM0CK;;;;;;;;;;;KCP/BwM,UAAb;CAAA;;CAEC,sBAAYpQ,OAAZ,EACA;CAAA;;CAAA;CACC,4GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,gCAAvB;;CACA,UAAK6L,cAAL,CAAoB,wBAApB;;CAEAzH,IAAAA,aAAG,CAACgM,KAAJ,CAAU,MAAKC,MAAf;CACAjM,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAKzD,SAAL,EAAX,EAA6B,MAAKgI,MAAlC;CACAjM,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAKE,KAAhB,EAAuB,MAAKqE,MAA5B;CAEAnE,IAAAA,eAAK,CAACnC,IAAN,CAAW,MAAKiC,KAAhB,EAAuB,OAAvB,EAAgC,MAAKsE,YAAL,CAAkBvG,IAAlB,2CAAhC;CATD;CAUC;;CAbF;CAAA;CAAA,oCAgBC;CAAA;;CACC,aAAO,KAAK1E,KAAL,CAAWC,QAAX,CAAoB,YAApB,EAAkC,YAAM;CAC9C,eAAO,IAAIiL,iBAAJ,CAAW;CACjB9K,UAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,sCAAf,CADW;CAEjBmQ,UAAAA,IAAI,EAAED,iBAAM,CAACE,IAAP,CAAYC,KAFD;CAGjBC,UAAAA,KAAK,EAAEJ,iBAAM,CAACK,KAAP,CAAaC,OAHH;CAIjBC,UAAAA,OAAO,EAAE,MAAI,CAACC,iBAAL,CAAuBhH,IAAvB,CAA4B,MAA5B;CAJQ,SAAX,CAAP;CAMA,OAPM,CAAP;CAQA;CAzBF;CAAA;CAAA,wCA4BC;CACC,WAAKiH,UAAL;CACA,UAAMC,UAAU,GAAGC,6BAAU,CAACC,aAAX,EAAnB;CAEAF,MAAAA,UAAU,CAAC9E,QAAX,CAAoBiF,WAApB,CAAgC,MAAhC;CACAH,MAAAA,UAAU,CAACI,YAAX,GAA0BC,eAA1B;CAEA,UAAMxG,MAAM,GAAG,KAAKyG,aAAL,EAAf;CACAzG,MAAAA,MAAM,CAAC0G,QAAP,CAAgBjB,iBAAM,CAACK,KAAP,CAAaa,IAA7B;CACA3G,MAAAA,MAAM,CAACgE,OAAP,CAAeyB,iBAAM,CAACmB,IAAP,CAAYC,IAA3B;CACA7G,MAAAA,MAAM,CAAC8G,OAAP,CAAexR,eAAG,CAACC,UAAJ,CAAe,wCAAf,CAAf;CAEA+D,MAAAA,aAAG,CAACiK,QAAJ,CAAa,KAAKhG,SAAL,EAAb,EAA+B,sCAA/B;CACA;CAzCF;CAAA;CAAA,iCA2Cc9E,KA3Cd,EA4CC;CACCA,MAAAA,KAAK,CAACgK,cAAN;CACA,WAAKyD,UAAL;CACA;CA/CF;CAAA;CAAA,iCAkDC;CACCE,MAAAA,6BAAU,CACRC,aADF,GAEEE,YAFF,GAGEQ,iBAHF,CAGoB,KAAK7F,KAHzB;CAIA;CAvDF;CAAA;CAAA,gCA0DC;CAAA;;CACC,aAAO,KAAK3G,KAAL,CAAWC,QAAX,CAAoB,QAApB,EAA8B,YAAM;CAC1C,eAAOS,aAAG,CAACC,MAAX,sBAGK,MAAI,CAACuL,aAAL,GAAqBvL,MAArB,EAHL;CAOA,OARM,CAAP;CASA;CApEF;CAAA;CAAA,+BAuEC;CAAA,UADS3D,KACT,uEADoB,EACpB;CACC,WAAK2J,KAAL,CAAW8F,SAAX,GAAuB7D,cAAI,CAACC,MAAL,CAAY7L,KAAZ,CAAvB;CACA;CAzEF;CAAA;CAAA,EAAgC8L,oCAAhC;;;;;;;;;;;;KCDqB4D;;;CAEpB,uBAAYhS,OAAZ,EACA;CAAA;;CAAA;CACC,6GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,iCAAvB;;CACA,UAAK6L,cAAL,CAAoB,yBAApB;;CAEAzH,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAKkG,eAAL,EAAX,EAAmC,MAAK3B,MAAxC;CALD;CAMC;;;;uCAGD;CAAA;;CACC,aAAO,KAAKhL,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAOS,aAAG,CAACC,MAAX,sBAEI,MAAI,CAACgG,KAFT,EAGI,MAAI,CAACiG,iBAAL,GAAyBjM,MAAzB,EAHJ;CAMA,OAPM,CAAP;CAQA;;;yCAGD;CACC,aAAO,KAAKX,KAAL,CAAWC,QAAX,CAAoB,gBAApB,EAAsC,YAAM;CAClD,eAAO,IAAIiL,iBAAJ,CAAW;CACjB9K,UAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,wCAAf,CADW;CAEjBsQ,UAAAA,KAAK,EAAEJ,iBAAM,CAACK,KAAP,CAAasB,YAFH;CAGjBzR,UAAAA,IAAI,EAAE8P,iBAAM,CAACmB,IAAP,CAAYS;CAHD,SAAX,CAAP;CAKA,OANM,CAAP;CAOA;;;GAhCuChE;;;;;;;;;;;;KCMpBiE;;;CAEpB,yBAAYrS,OAAZ,EACA;CAAA;;CAAA;CACC,+GAAMA,OAAN;;CACA,UAAK8L,cAAL,CAAoB,4BAApB;;CAEAzH,IAAAA,aAAG,CAACgM,KAAJ,CAAU,MAAKC,MAAf;CACAjM,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAKuG,OAAL,EAAX,EAA2B,MAAKhC,MAAhC;CACAjM,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAKyF,aAAL,GAAqBvL,MAArB,EAAX,EAA0C,MAAKqK,MAA/C;CAND;CAOC;;;;+BAGD;CAAA;;CACC,aAAO,KAAKhL,KAAL,CAAWC,QAAX,CAAoB,MAApB,EAA4B,YAAM;CACxC,YAAMgN,IAAI,GAAG,IAAIC,8BAAJ,CAAS;CACrB9M,UAAAA,IAAI,EAAE,MAAI,CAAC1F,OAAL,CAAauS,IADE;CAErB5M,UAAAA,IAAI,EAAE,MAAI,CAAC3F,OAAL,CAAauS,IAFE;CAGrBnJ,UAAAA,MAAM,EAAE;CAHa,SAAT,CAAb;CAKA,eAAOpD,aAAG,CAACC,MAAX,sBAEIsM,IAAI,CAAChO,SAAL,EAFJ;CAKA,OAXM,CAAP;CAYA;;;qCAGD;CAAA;;CACC,aAAO,KAAKe,KAAL,CAAWC,QAAX,CAAoB,YAApB,EAAkC,YAAM;CAC9C,eAAO,IAAIiL,iBAAJ,CAAW;CACjBI,UAAAA,KAAK,EAAEJ,iBAAM,CAACK,KAAP,CAAaC,OADH;CAEjBL,UAAAA,IAAI,EAAED,iBAAM,CAACE,IAAP,CAAYC,KAFD;CAGjBjL,UAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,+CAAf,CAHW;CAIjByQ,UAAAA,OAAO,EAAE,MAAI,CAACC,iBAAL,CAAuBhH,IAAvB,CAA4B,MAA5B;CAJQ,SAAX,CAAP;CAMA,OAPM,CAAP;CAQA;;;kCAGD;CACCmH,MAAAA,6BAAU,CACRC,aADF,GAEEE,YAFF,GAGEQ,iBAHF,CAGoB,KAAKQ,OAAL,EAHpB;CAIA;;;yCAGD;CACC,WAAKrB,UAAL;CACA,UAAMC,UAAU,GAAGC,6BAAU,CAACC,aAAX,EAAnB;CAEAF,MAAAA,UAAU,CAAC9E,QAAX,CAAoBiF,WAApB,CAAgC,MAAhC;CACAH,MAAAA,UAAU,CAACI,YAAX,GAA0BC,eAA1B;CAEA,UAAMxG,MAAM,GAAG,KAAKyG,aAAL,EAAf;CACAzG,MAAAA,MAAM,CAAC0G,QAAP,CAAgBjB,iBAAM,CAACK,KAAP,CAAaa,IAA7B;CACA3G,MAAAA,MAAM,CAACgE,OAAP,CAAeyB,iBAAM,CAACmB,IAAP,CAAYC,IAA3B;CACA7G,MAAAA,MAAM,CAAC8G,OAAP,CAAexR,eAAG,CAACC,UAAJ,CAAe,iDAAf,CAAf;CACA;;;GA5DyC8N;;;;;;;;;;;KCP9BqE,aAAb;CAAA;;CAEC,2BACA;CAAA;;CAAA,QADYzS,OACZ,uEADsB,EACtB;CAAA;CACC,+GAAMA,OAAN;CAEA,UAAK0S,UAAL,GAAkB,IAAIxR,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CAClDxN,MAAAA,QAAQ,EAAE,YADwC;CAElDE,MAAAA,OAAO,EAAE5B,OAAO,CAACsC,KAAR,CAAcoQ,UAF2B;CAGlDrQ,MAAAA,KAAK,EAAE,CACN;CAACE,QAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAAP;CAA2DgC,QAAAA,KAAK,EAAE;CAAlE,OADM,EAEN;CAACC,QAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,oCAAf,CAAP;CAA6DgC,QAAAA,KAAK,EAAE;CAApE,OAFM,EAGN;CAACC,QAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,mCAAf,CAAP;CAA4DgC,QAAAA,KAAK,EAAE;CAAnE,OAHM;CAH2C,KAAjC,CAAlB;CAUA,UAAKqQ,QAAL,GAAgB,IAAIzR,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CAChDxN,MAAAA,QAAQ,EAAE,UADsC;CAEhDE,MAAAA,OAAO,EAAE5B,OAAO,CAACsC,KAAR,CAAcqQ,QAFyB;CAGhDtQ,MAAAA,KAAK,EAAE,CACN;CAACE,QAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,iCAAf,CAAP;CAA0DgC,QAAAA,KAAK,EAAE;CAAjE,OADM,EAEN;CAACC,QAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,oCAAf,CAAP;CAA6DgC,QAAAA,KAAK,EAAE;CAApE,OAFM;CAHyC,KAAjC,CAAhB;;CASA,UAAKoQ,UAAL,CAAgBlO,SAAhB,CAA0B,UAA1B,EAAsC,YAAM;CAC3C,YAAKf,IAAL,CAAU,UAAV;CACA,KAFD;;CAIA,UAAKkP,QAAL,CAAcnO,SAAd,CAAwB,UAAxB,EAAoC,YAAM;CACzC,YAAKf,IAAL,CAAU,UAAV;CACA,KAFD;;CAIA,QAAMmP,WAAW,GAAG,MAAKC,cAAL,EAApB;;CAEAxO,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAK2G,UAAL,CAAgBnO,SAAhB,EAAX,EAAwCqO,WAAxC;CACAvO,IAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAK4G,QAAL,CAAcpO,SAAd,EAAX,EAAsCqO,WAAtC;CAEAvO,IAAAA,aAAG,CAACsL,OAAJ,CAAY,MAAK1D,KAAjB,EAAwB2G,WAAxB;CAnCD;CAoCC;;CAvCF;CAAA;CAAA,qCA0CC;CACC,aAAO,KAAKtN,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAOS,aAAG,CAACC,MAAX;CAGA,OAJM,CAAP;CAKA;CAhDF;CAAA;CAAA,+BAmDC;CACC,aAAO;CACN0M,QAAAA,QAAQ,EAAE,KAAKA,QAAL,CAAcpP,QAAd,EADJ;CAENmP,QAAAA,UAAU,EAAE,KAAKA,UAAL,CAAgBnP,QAAhB;CAFN,OAAP;CAIA;CAxDF;CAAA;CAAA,6BA0DUjB,KA1DV,EA2DC;CACC,WAAKqQ,QAAL,CAAcvN,QAAd,CAAuB9C,KAAK,CAACqQ,QAA7B;CACA,WAAKD,UAAL,CAAgBtN,QAAhB,CAAyB9C,KAAK,CAACoQ,UAA/B;CACA;CA9DF;CAAA;CAAA,EAAmCtE,oCAAnC;;ACNA,iBAAe,4FAAf;;ACAA,iBAAe,4FAAf;;ACAA,iBAAe,4FAAf;;ACAA,iBAAe,4FAAf;;ACAA,iBAAe,4FAAf;;ACAA,iBAAe,4FAAf;;KCwBqB0E;;;CAEpB,wBAAY9S,OAAZ,EACA;CAAA;;CAAA;CACC,8GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,oDAAvB;;CAEAoE,IAAAA,aAAG,CAACiK,QAAJ,CAAa,MAAK/J,SAAL,EAAb,EAA+B,kCAA/B;;CAEA,UAAK3B,OAAL,CAAa,MAAK0F,SAAL,EAAb;;CACA,UAAK1F,OAAL,CAAa,MAAK2L,cAAL,EAAb;;CAPD;CAQC;;;;iCAGD;CACC,aAAO,KAAKjJ,KAAL,CAAWC,QAAX,CAAoB,QAApB,EAA8B,YAAM;CAC1C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,0BAAf;CADc,SAAf,CAAP;CAGA,OAJM,CAAP;CAKA;;;sCAGD;CAAA;;CACC,aAAO,KAAKgF,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIZ,kDAAJ,CAAqB;CAC3BvE,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,qCAAf,CADoB;CAE3B+B,UAAAA,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmBiE,GAAnB,CAAuB,UAACwC,IAAD,EAAU;CACvC,mBAAO;CACNrI,cAAAA,EAAE,gBAASqI,IAAT,CADI;CAEN1I,cAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,mCAA0CwI,IAA1C,EAFD;CAGNpI,cAAAA,IAAI,sCAA+BoI,IAA/B,CAHE;CAINqC,cAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAUhI,QAAV,CAAmB2F,IAAnB,CAJA;CAKNoC,cAAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU/H,QAAV,CAAmB2F,IAAnB;CALJ,aAAP;CAOA,WARM,CAFoB;CAW3B6F,UAAAA,QAAQ,EAAE,MAAI,CAACC,YAAL,CAAkB5E,IAAlB,CAAuB,MAAvB,CAXiB;CAY3ByE,UAAAA,UAAU,EAAE;CAZe,SAArB,CAAP;CAcA,OAfM,CAAP;CAgBA;;;uCAGD;CAAA;;CACC,aAAO,KAAKnJ,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,YAAM4D,KAAK,GAAG,IAAI0F,wCAAJ,CAAgB;CAC7BhH,UAAAA,MAAM,EAAE;CACPmD,YAAAA,OAAO,EAAE,mBAAM;CACd,cAAA,MAAI,CAACN,KAAL;;CACA,cAAA,MAAI,CAAC9H,OAAL,CAAa,MAAI,CAAC0F,SAAL,EAAb;;CACA,cAAA,MAAI,CAAC1F,OAAL,CAAa,MAAI,CAAC2L,cAAL,EAAb;CACA;CALM;CADqB,SAAhB,CAAd;CASApF,QAAAA,KAAK,CAAC2F,QAAN,CAAezO,eAAG,CAACC,UAAJ,CAAe,0CAAf,CAAf;CAEA,eAAO6I,KAAP;CACA,OAbM,CAAP;CAcA;;;uCAGD;CACC,aAAO,KAAK7D,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAI/E,uCAAJ,CAAgB;CACtBN,UAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,yCAAf,CADc;CAEtBM,UAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,wCAAf,CAFS;CAGtBqH,UAAAA,KAAK,EAAE,KAHe;CAItBoL,UAAAA,SAAS,EAAE,KAJW;CAKtBC,UAAAA,WAAW,EAAE;CALS,SAAhB,CAAP;CAOA,OARM,CAAP;CASA;;;uCAGD;CACC,aAAO,KAAK1N,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAI/E,uCAAJ,CAAgB;CACtBN,UAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,yCAAf,CADc;CAEtBM,UAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,wCAAf,CAFS;CAGtBqH,UAAAA,KAAK,EAAE,KAHe;CAItBoL,UAAAA,SAAS,EAAE,KAJW;CAKtBC,UAAAA,WAAW,EAAE;CALS,SAAhB,CAAP;CAOA,OARM,CAAP;CASA;;;uCAGD;CACC,aAAO,KAAK1N,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAI/E,uCAAJ,CAAgB;CACtBN,UAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,yCAAf,CADc;CAEtBM,UAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,wCAAf,CAFS;CAGtBqH,UAAAA,KAAK,EAAE,KAHe;CAItBoL,UAAAA,SAAS,EAAE,KAJW;CAKtBC,UAAAA,WAAW,EAAE;CALS,SAAhB,CAAP;CAOA,OARM,CAAP;CASA;;;uCAGD;CACC,aAAO,KAAK1N,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAI/E,uCAAJ,CAAgB;CACtBN,UAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,yCAAf,CADc;CAEtBM,UAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,wCAAf,CAFS;CAGtBqH,UAAAA,KAAK,EAAE,KAHe;CAItBoL,UAAAA,SAAS,EAAE,KAJW;CAKtBC,UAAAA,WAAW,EAAE;CALS,SAAhB,CAAP;CAOA,OARM,CAAP;CASA;;;uCAGD;CACC,aAAO,KAAK1N,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAI/E,uCAAJ,CAAgB;CACtBN,UAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,yCAAf,CADc;CAEtBM,UAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,wCAAf,CAFS;CAGtBqH,UAAAA,KAAK,EAAE,KAHe;CAItBoL,UAAAA,SAAS,EAAE,KAJW;CAKtBC,UAAAA,WAAW,EAAE;CALS,SAAhB,CAAP;CAOA,OARM,CAAP;CASA;;;qCAGD;CACC,aAAO,KAAK1N,KAAL,CAAWC,QAAX,CAAoB,YAApB,EAAkC,YAAM;CAC9C,eAAO,IAAI6K,UAAJ,CAAe,EAAf,CAAP;CAGA,OAJM,CAAP;CAKA;;;sCAGD;CACC,aAAO,KAAK9K,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,yCAAf,CADc;CAErB2S,UAAAA,KAAK,EAAE;CAFc,SAAf,CAAP;CAIA,OALM,CAAP;CAMA;;;sCAGD;CACC,aAAO,KAAK3N,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,0CAAf,CADc;CAErB2S,UAAAA,KAAK,EAAE,CAFc;CAGrBrS,UAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,8CAAf;CAHQ,SAAf,CAAP;CAKA,OANM,CAAP;CAOA;;;sCAGD;CACC,aAAO,KAAKgF,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CADc;CAErB2S,UAAAA,KAAK,EAAE,CAFc;CAGrBrS,UAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,8CAAf;CAHQ,SAAf,CAAP;CAKA,OANM,CAAP;CAOA;;;wCAGD;CACC,aAAO,KAAKgF,KAAL,CAAWC,QAAX,CAAoB,eAApB,EAAqC,YAAM;CACjD,eAAO,IAAI9D,8CAAJ,CAAmB;CACzBrB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,mDAAf,CADkB;CAEzBwB,UAAAA,SAAS,EAAE,CACV;CAACS,YAAAA,IAAI,EAAE,MAAP;CAAeD,YAAAA,KAAK,EAAE;CAAtB,WADU;CAFc,SAAnB,CAAP;CAMA,OAPM,CAAP;CAQA;;;wCAGD;CAAA;;CACC,aAAO,KAAKgD,KAAL,CAAWC,QAAX,CAAoB,eAApB,EAAqC,YAAM;CACjD,YAAM4D,KAAK,GAAG,IAAIjI,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+Q,KAAxB,CAA8B;CAC3C7Q,UAAAA,KAAK,EAAE,CACN;CACCE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,2CAAf,CADP;CAECgC,YAAAA,KAAK,EAAE;CAFR,WADM,EAKN;CACC6Q,YAAAA,IAAI,EAAE9S,eAAG,CAACC,UAAJ,CAAe,oCAAf,CADP;CAECgC,YAAAA,KAAK,EAAE;CAFR,WALM;CAUN;CACA;CACA;CAZM,WADoC;CAe3CA,UAAAA,KAAK,EAAG,YAAM;CACb,gBAAI,MAAI,CAACtC,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BC,IAA1B,CAA+BC,KAA/B,GAAuC,CAA3C,EACA;CACC,qBAAO,CAAC,WAAD,CAAP;CACA;;CAED,mBAAO,CAAC,YAAD,CAAP;CACA,WAPM;CAfoC,SAA9B,CAAd;CAyBAjP,QAAAA,aAAG,CAACsL,OAAJ,CACCxG,KAAK,CAACmH,MAAN,CAAa7D,aAAb,CAA2B,aAA3B,CADD,EAEC,MAAI,CAAC8G,gBAAL,GAAwBhP,SAAxB,EAFD;CAKA,eAAO4E,KAAP;CACA,OAhCM,CAAP;CAiCA;;;sCAGD;CACC,aAAO,KAAK7D,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIyM,WAAJ,CAAgB;CACtB5R,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,uCAAf,CADe;CAEtB2O,UAAAA,WAAW,EAAE5O,eAAG,CAACC,UAAJ,CAAe,6CAAf;CAFS,SAAhB,CAAP;CAIA,OALM,CAAP;CAMA;;;wCAGD;CACC,aAAO,KAAKgF,KAAL,CAAWC,QAAX,CAAoB,eAApB,EAAqC,YAAM;CACjD,eAAO,IAAI8M,aAAJ,CAAkB;CACxBE,UAAAA,IAAI,EAAE;CADkB,SAAlB,CAAP;CAGA,OAJM,CAAP;CAKA;;;wCAGD;CAAA;;CACC,aAAO,KAAKjN,KAAL,CAAWC,QAAX,CAAoB,eAApB,EAAqC,YAAM;CACjD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoBqR,cAAxB,CAAuC;CAC7C9R,UAAAA,QAAQ,EAAE,WADmC;CAE7CE,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BC,IAA1B,CAA+BC,KAFK;CAG7CjR,UAAAA,KAAK,EAAE,CACN;CACCE,YAAAA,IAAI,EAAE,IADP;CAECD,YAAAA,KAAK,EAAE;CAFR,WADM,EAKN;CACCC,YAAAA,IAAI,EAAE,KADP;CAECD,YAAAA,KAAK,EAAE;CAFR,WALM,EASN;CACCC,YAAAA,IAAI,EAAE,KADP;CAECD,YAAAA,KAAK,EAAE;CAFR,WATM,CAHsC;CAiB7CqM,UAAAA,QAAQ,EAAE,MAAI,CAACA,QAAL,CAAc3E,IAAd,CAAmB,MAAnB,CAjBmC;CAkB7CyJ,UAAAA,gBAAgB,EAAE;CAlB2B,SAAvC,CAAP;CAoBA,OArBM,CAAP;CAsBA;;;6CAGD;CAAA;;CACC,aAAO,KAAKnO,KAAL,CAAWC,QAAX,CAAoB,oBAApB,EAA0C,YAAM;CACtD,eAAO,IAAIkN,aAAJ,CAAkB;CACxBrS,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,yCAAf,CADiB;CAExBgC,UAAAA,KAAK,EAAE;CACNqQ,YAAAA,QAAQ,EAAE,MAAI,CAAC3S,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BM,KAA1B,CAAgCf,QADpC;CAEND,YAAAA,UAAU,EAAE,MAAI,CAAC1S,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BM,KAA1B,CAAgCC;CAFtC;CAFiB,SAAlB,CAAP;CAOA,OARM,CAAP;CASA;;;6CAGD;CAAA;;CACC,aAAO,KAAKrO,KAAL,CAAWC,QAAX,CAAoB,oBAApB,EAA0C,YAAM;CACtD,eAAO,IAAIkN,aAAJ,CAAkB;CACxBrS,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,yCAAf,CADiB;CAExBgC,UAAAA,KAAK,EAAE;CACNqQ,YAAAA,QAAQ,EAAE,MAAI,CAAC3S,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BC,IAA1B,CAA+BV,QADnC;CAEND,YAAAA,UAAU,EAAE,MAAI,CAAC1S,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BC,IAA1B,CAA+BM;CAFrC;CAFiB,SAAlB,CAAP;CAOA,OARM,CAAP;CASA;;;6CAGD;CAAA;;CACC,aAAO,KAAKrO,KAAL,CAAWC,QAAX,CAAoB,oBAApB,EAA0C,YAAM;CACtD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CACvC9O,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8BAAf,CADgC;CAEvCoB,UAAAA,QAAQ,EAAE,MAF6B;CAGvCW,UAAAA,KAAK,EAAE,CACN;CAACE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,+BAAf,CAAP;CAAwDgC,YAAAA,KAAK,EAAE;CAA/D,WADM,EAEN;CAACC,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,gCAAf,CAAP;CAAyDgC,YAAAA,KAAK,EAAE;CAAhE,WAFM,CAHgC;CAOvCV,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BM,KAA1B,CAAgCjK;CAPF,SAAjC,CAAP;CASA,OAVM,CAAP;CAWA;;;6CAGD;CAAA;;CACC,aAAO,KAAKnE,KAAL,CAAWC,QAAX,CAAoB,oBAApB,EAA0C,YAAM;CACtD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CACvC9O,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8BAAf,CADgC;CAEvCoB,UAAAA,QAAQ,EAAE,MAF6B;CAGvCW,UAAAA,KAAK,EAAE,CACN;CAACE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,+BAAf,CAAP;CAAwDgC,YAAAA,KAAK,EAAE;CAA/D,WADM,EAEN;CAACC,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,gCAAf,CAAP;CAAyDgC,YAAAA,KAAK,EAAE;CAAhE,WAFM,CAHgC;CAOvCV,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BC,IAA1B,CAA+B5J;CAPD,SAAjC,CAAP;CASA,OAVM,CAAP;CAWA;;;kCAEYjG,OACb;CACC,UAAM+L,IAAI,GAAG/L,KAAK,CAACE,OAAN,EAAb;CACA,UAAM8L,YAAY,GAAG,KAAKC,eAAL,EAArB;;CAEA,UAAI,aAAamE,IAAb,CAAkBrE,IAAI,CAACzG,IAAL,CAAUrI,EAA5B,CAAJ,EACA;CACC,aAAKiK,KAAL;CACA,aAAK9H,OAAL,CAAa,KAAK0F,SAAL,EAAb;CACA,aAAK1F,OAAL,CAAa4M,YAAb;CACA;;CAEDA,MAAAA,YAAY,CAACE,WAAb,CAAyBH,IAAI,CAACzG,IAAL,CAAU1I,KAAV,CAAgBuP,OAAhB,CAAwB,QAAxB,EAAkC,GAAlC,CAAzB;CAEA,UAAMkE,UAAU,GAAG,KAAKC,aAAL,EAAnB;;CAEA,UAAIvE,IAAI,CAACzG,IAAL,CAAUrI,EAAV,KAAiB,OAArB,EACA;CACC+O,QAAAA,YAAY,CAACT,OAAb,CAAqBgF,SAArB;CACA,aAAKnR,OAAL,CAAa,KAAKoR,eAAL,EAAb;CAEAH,QAAAA,UAAU,CAACzO,QAAX,CAAoB,KAAKpF,OAAL,CAAa6B,MAAb,CAAoBoS,OAApB,CAA4BC,MAA5B,CAAmCxO,IAAvD;CACA,aAAK9C,OAAL,CAAaiR,UAAb;CACA;;CAED,UAAItE,IAAI,CAACzG,IAAL,CAAUrI,EAAV,KAAiB,OAArB,EACA;CACC+O,QAAAA,YAAY,CAACT,OAAb,CAAqBoF,SAArB,EADD;CAGC;;CAEAN,QAAAA,UAAU,CAACzO,QAAX,CAAoB,KAAKpF,OAAL,CAAa6B,MAAb,CAAoBoS,OAApB,CAA4BP,KAA5B,CAAkChO,IAAtD;CACA,aAAK9C,OAAL,CAAaiR,UAAb;CACA;;CAED,UAAItE,IAAI,CAACzG,IAAL,CAAUrI,EAAV,KAAiB,OAArB,EACA;CACC+O,QAAAA,YAAY,CAACT,OAAb,CAAqBqF,SAArB,EADD;;CAICP,QAAAA,UAAU,CAACzO,QAAX,CAAoB,KAAKpF,OAAL,CAAa6B,MAAb,CAAoBoS,OAApB,CAA4BP,KAA5B,CAAkChO,IAAtD;CACA,YAAM2O,aAAa,GAAG,KAAKC,qBAAL,EAAtB;CAEAD,QAAAA,aAAa,CAACjP,QAAd,CAAuB;CACtBuN,UAAAA,QAAQ,EAAE,KAAK3S,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BM,KAA1B,CAAgCf,QADpB;CAEtBD,UAAAA,UAAU,EAAE,KAAK1S,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BM,KAA1B,CAAgCC;CAFtB,SAAvB;CAKA,aAAK/Q,OAAL,CAAa,KAAK2R,eAAL,EAAb;CACA,aAAK3R,OAAL,CAAa,KAAK4R,cAAL,EAAb;CACA,aAAK5R,OAAL,CAAayR,aAAb;CACA,aAAKzR,OAAL,CAAa,KAAK6R,qBAAL,EAAb;CACA,aAAK7R,OAAL,CAAaiR,UAAb;CACA;;CAED,UAAItE,IAAI,CAACzG,IAAL,CAAUrI,EAAV,KAAiB,OAArB,EACA;CACC+O,QAAAA,YAAY,CAACT,OAAb,CAAqB2F,SAArB;CACA,aAAK9R,OAAL,CAAa,KAAK+R,eAAL,EAAb;CACA,aAAK/R,OAAL,CAAa,KAAKgS,cAAL,EAAb;CACA,aAAKhS,OAAL,CAAa,KAAKiS,gBAAL,EAAb;;CAEA,YAAMR,cAAa,GAAG,KAAKS,qBAAL,EAAtB;;CACAT,QAAAA,cAAa,CAACjP,QAAd,CAAuB;CACtBuN,UAAAA,QAAQ,EAAE,KAAK3S,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BC,IAA1B,CAA+BV,QADnB;CAEtBD,UAAAA,UAAU,EAAE,KAAK1S,OAAL,CAAa6B,MAAb,CAAoBuR,KAApB,CAA0BC,IAA1B,CAA+BM;CAFrB,SAAvB;;CAIA,aAAK/Q,OAAL,CAAayR,cAAb;CACA,aAAKzR,OAAL,CAAa,KAAKmS,qBAAL,EAAb;CAEAlB,QAAAA,UAAU,CAACzO,QAAX,CAAoB,KAAKpF,OAAL,CAAa6B,MAAb,CAAoBoS,OAApB,CAA4BZ,IAA5B,CAAiC3N,IAArD;CACA,aAAK9C,OAAL,CAAaiR,UAAb;CACA;;CAED,UAAItE,IAAI,CAACzG,IAAL,CAAUrI,EAAV,KAAiB,OAArB,EACA;CACC+O,QAAAA,YAAY,CAACT,OAAb,CAAqBiG,SAArB;CACA,aAAKpS,OAAL,CAAa,KAAKqS,eAAL,EAAb;CACA,aAAKrS,OAAL,CAAa,KAAKsS,cAAL,EAAb;CAEArB,QAAAA,UAAU,CAACzO,QAAX,CAAoB,KAAKpF,OAAL,CAAa6B,MAAb,CAAoBoS,OAApB,CAA4BZ,IAA5B,CAAiC3N,IAArD;CACA,aAAK9C,OAAL,CAAaiR,UAAb;CACA;;CAED,UAAItE,IAAI,CAACzG,IAAL,CAAUrI,EAAV,KAAiB,OAArB,EACA;CACC+O,QAAAA,YAAY,CAACT,OAAb,CAAqBoG,SAArB;CACA,aAAKvS,OAAL,CAAa,KAAKwS,gBAAL,EAAb;CACA;CACD;;;8BAEQ5R,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,EAAsB;CAACE,QAAAA,WAAW,EAAE;CAAd,OAAtB;CACA;;;gCAGD;CAAA;;CACC,UAAM0R,kBAAkB,GAAG,KAAKf,qBAAL,GAA6B/Q,QAA7B,EAA3B;CACA,UAAM+R,kBAAkB,GAAG,KAAKR,qBAAL,GAA6BvR,QAA7B,EAA3B;CAEA,aAAO;CACNgS,QAAAA,SAAS,EAAE;CACVnC,UAAAA,KAAK,EAAE;CACNC,YAAAA,IAAI,EAAE;CACLC,cAAAA,KAAK,EAAG,YAAM;CACb,oBAAI,OAAI,CAACuB,gBAAL,GAAwBtR,QAAxB,GAAmCJ,QAAnC,CAA4C,YAA5C,CAAJ,EACA;CACC,yBAAO,CAAP;CACA;;CAED,uBAAO,OAAI,CAACoQ,gBAAL,GAAwBhQ,QAAxB,EAAP;CACA,eAPM,EADF;CASLoQ,cAAAA,QAAQ,EAAE2B,kBAAkB,CAAC5C,UATxB;CAULC,cAAAA,QAAQ,EAAE2C,kBAAkB,CAAC3C,QAVxB;CAWLlJ,cAAAA,IAAI,EAAE,KAAKsL,qBAAL,GAA6BxR,QAA7B;CAXD,aADA;CAcNmQ,YAAAA,KAAK,EAAE;CACNC,cAAAA,QAAQ,EAAE0B,kBAAkB,CAAC3C,UADvB;CAENC,cAAAA,QAAQ,EAAE0C,kBAAkB,CAAC1C,QAFvB;CAGNlJ,cAAAA,IAAI,EAAE,KAAKgL,qBAAL,GAA6BlR,QAA7B;CAHA;CAdD;CADG;CADL,OAAP;CAwBA;;;GAzbwCK;;ACxB1C,qBAAe,8FAAf;;KCQqB4R;;;CAEpB,oBAAYxV,OAAZ,EACA;CAAA;;CAAA;CACC,0GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,gDAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,yBAAf;CADsB,KAAf,CAAf;CAIA,QAAMC,OAAO,GAAG,IAAIC,uCAAJ,CAAgB;CAC/BN,MAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,iCAAf,CADuB;CAE/BM,MAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,sCAAf,CAFkB;CAG/BI,MAAAA,IAAI,EAAEoD,aAHyB;CAI/B6D,MAAAA,KAAK,EAAE,KAJwB;CAK/BoL,MAAAA,SAAS,EAAE,KALoB;CAM/BjS,MAAAA,IAAI,EAAE,gBAAM;CACX,YAAMC,SAAM,GAAGC,oBAAU,CAACC,QAAX,CAAoB,eAApB,CAAf;;CACA,YAAIF,SAAJ,EACA;CACCG,UAAAA,EAAE,CAACC,MAAH,CAAUC,IAAV,CAAe,+BAAf;CACA;CACD;CAZ8B,KAAhB,CAAhB;;CAeA,UAAKwB,OAAL,CAAa1C,MAAb;;CACA,UAAK0C,OAAL,CAAarC,OAAb;;CAxBD;CAyBC;;;GA5BoCqD;;;;;;;;;;;;KCFjB6R;;;CAEpB,sBAAYzV,OAAZ,EACA;CAAA;;CAAA;CACC,4GAAMA,OAAN;CACAqE,IAAAA,aAAG,CAACsL,OAAJ,CAAY,MAAK1D,KAAjB,EAAwB,MAAKyJ,QAAL,EAAxB;CAFD;CAGC;;;;gCAGD;CAAA;;CACC,aAAO,KAAKpQ,KAAL,CAAWC,QAAX,CAAoB,OAApB,EAA6B,YAAM;CACzC,eAAOS,aAAG,CAACC,MAAX,sBAEI,MAAI,CAAC0P,qBAAL,GAA6BpR,SAA7B,EAFJ;CAKA,OANM,CAAP;CAOA;;;6CAGD;CAAA;;CACC,aAAO,KAAKe,KAAL,CAAWC,QAAX,CAAoB,oBAApB,EAA0C,YAAM;CACtD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CACvC9O,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CADgC;CAEvCsB,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAasC,KAAb,CAAmBsT,QAFW;CAGvCvT,UAAAA,KAAK,EAAE,MAAI,CAACrC,OAAL,CAAa6V,UAAb,CAAwBvP,GAAxB,CAA4B,UAACsP,QAAD,EAAc;CAChD,mBAAO;CACNrT,cAAAA,IAAI,EAAEqT,QAAQ,CAACE,IADT;CAENxT,cAAAA,KAAK,EAAEsT,QAAQ,CAACG;CAFV,aAAP;CAIA,WALM,CAHgC;CASvCpH,UAAAA,QAAQ,EAAE,MAAI,CAACqH,gBAAL,CAAsBhM,IAAtB,CAA2B,MAA3B;CAT6B,SAAjC,CAAP;CAWA,OAZM,CAAP;CAaA;;;0CAGD;CACC,UAAMiM,iBAAiB,GAAG,KAAKN,qBAAL,GAA6BpS,QAA7B,EAA1B;CAEA,aAAO,KAAKvD,OAAL,CAAa6V,UAAb,CAAwB7M,IAAxB,CAA6B,UAAC4M,QAAD,EAAc;CACjD,eAAOM,MAAM,CAACN,QAAQ,CAACG,EAAV,CAAN,KAAwBG,MAAM,CAACD,iBAAD,CAArC;CACA,OAFM,CAAP;CAGA;;;wCAGD;CACC,UAAME,iBAAiB,GAAG,KAAKC,iBAAL,EAA1B;CACA,WAAK9Q,KAAL,CAAW+Q,MAAX,CAAkB,gBAAlB;;CAEA,UAAIF,iBAAiB,CAACG,KAAtB,EACA;CACCH,QAAAA,iBAAiB,CAACG,KAAlB,CAAwBC,OAAxB;CACA;;CAED,UAAMC,iBAAiB,GAAG,KAAKJ,iBAAL,EAA1B;CACA/R,MAAAA,aAAG,CAACsL,OAAJ,CAAYwG,iBAAiB,CAAC5R,SAAlB,EAAZ,EAA2CiS,iBAAiB,CAACjS,SAAlB,EAA3C;CACA,WAAKd,IAAL,CAAU,UAAV;CACA;;;yCAGD;CAAA;;CACC,aAAO,KAAK6B,KAAL,CAAWC,QAAX,CAAoB,gBAApB,EAAsC,YAAM;CAClD,YAAMkR,MAAM,GAAG,MAAI,CAACC,kBAAL,GAA0BC,MAAzC;;CAEA,eAAO,IAAIzV,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CACvC9O,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,0CAAf,CADgC;CAEvC+B,UAAAA,KAAK,EAAEoU,MAAM,CAACnQ,GAAP,CAAW,UAACsQ,KAAD,EAAW;CAC5B,mBAAO;CACNrU,cAAAA,IAAI,EAAEqU,KAAK,CAACd,IADN;CAENxT,cAAAA,KAAK,EAAEsU,KAAK,CAACb;CAFP,aAAP;CAIA,WALM;CAFgC,SAAjC,CAAP;CASA,OAZM,CAAP;CAaA;;;gCAGD;CACC,aAAO;CACNH,QAAAA,QAAQ,EAAE,KAAKD,qBAAL,GAA6BpS,QAA7B,EADJ;CAENqT,QAAAA,KAAK,EAAE,KAAKR,iBAAL,GAAyB7S,QAAzB;CAFD,OAAP;CAIA;;;GAnFsC6K;;ACNxC,qBAAe,iGAAf;;KCeqByI;;;CAEpB,sBAAY7W,OAAZ,EACA;CAAA;;CAAA;CACC,4GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,kDAAvB;;CAEA,UAAK2C,OAAL,CAAa,MAAK0F,SAAL,EAAb;;CACA,UAAK1F,OAAL,CAAa,MAAKkU,aAAL,EAAb;;CACA,UAAKlU,OAAL,CAAa,MAAKmU,qBAAL,EAAb;;CACA,UAAKnU,OAAL,CAAa,MAAKoU,oBAAL,EAAb;;CAPD;CAQC;;;;iCAGD;CACC,aAAO,KAAK1R,KAAL,CAAWC,QAAX,CAAoB,QAApB,EAA8B,YAAM;CAC1C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,iCAAf;CADc,SAAf,CAAP;CAGA,OAJM,CAAP;CAKA;;;0CAGD;CAAA;;CACC,aAAO,KAAKgF,KAAL,CAAWC,QAAX,CAAoB,iBAApB,EAAuC,YAAM;CACnD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+Q,KAAxB,CAA8B;CACpC9S,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAD6B;CAEpCoB,UAAAA,QAAQ,EAAE,eAF0B;CAGpCY,UAAAA,KAAK,EAAE,CAAC,MAAI,CAACtC,OAAL,CAAa6B,MAAb,CAAoBoV,aAApB,GAAoC,MAAI,CAACjX,OAAL,CAAa6B,MAAb,CAAoBoV,aAAxD,GAAwE,OAAzE,CAH6B;CAIpC5U,UAAAA,KAAK,EAAE,CACN;CACCE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,wCAAf,CADP;CAECgC,YAAAA,KAAK,EAAE;CAFR,WADM,EAKN;CACCC,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,0CAAf,CADP;CAECgC,YAAAA,KAAK,EAAE;CAFR,WALM,EASN;CACCC,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,wCAAf,CADP;CAECgC,YAAAA,KAAK,EAAE;CAFR,WATM;CAJ6B,SAA9B,CAAP;CAmBA,OApBM,CAAP;CAqBA;;;uCAGD;CAAA;;CACC,aAAO,KAAKgD,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoBC,QAAxB,CAAiC;CACvCV,UAAAA,QAAQ,EAAE,SAD6B;CAEvCY,UAAAA,KAAK,EAAE,CAAC,MAAI,CAACtC,OAAL,CAAa6B,MAAb,CAAoBqV,OAArB,CAFgC;CAGvC7U,UAAAA,KAAK,EAAE,CACN;CAACE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,0CAAf,CAAP;CAAmEgC,YAAAA,KAAK,EAAE;CAA1E,WADM;CAHgC,SAAjC,CAAP;CAOA,OARM,CAAP;CASA;;;4CAGD;CAAA;;CACC,aAAO,KAAKgD,KAAL,CAAWC,QAAX,CAAoB,kBAApB,EAAwC,YAAM;CACpD,eAAO,IAAIjE,iDAAJ,CAAqB;CAC3BlB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,oCAAf,CADoB;CAE3BiB,UAAAA,UAAU,EAAE,IAFe;CAG3B4V,UAAAA,MAAM,EAAEjJ,cAAI,CAACkJ,QAAL,CAAc,MAAI,CAACpX,OAAL,CAAa6B,MAAb,CAAoBwV,MAAlC,IAA4C,CAHzB;CAI3B7V,UAAAA,MAAM,EAAE,CACP,MAAI,CAAC8V,eAAL,EADO,EAEP,IAAI9W,uCAAJ,CAAgB;CACfC,YAAAA,EAAE,EAAE,cADW;CAEfP,YAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,4CAAf,CAFO;CAGfM,YAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,iDAAf,CAHE;CAIfqH,YAAAA,KAAK,EAAE,KAJQ;CAKfjH,YAAAA,IAAI,EAAEoD,aALS;CAMfjD,YAAAA,YAAY,EAAE;CANC,WAAhB,CAFO;CAJmB,SAArB,CAAP;CAgBA,OAjBM,CAAP;CAkBA;;;sCAGD;CACC,aAAO,KAAKyE,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,EAAmDqP,OAAnD,CAA2D,QAA3D,EAAqE,GAArE,CADc;CAErBsD,UAAAA,KAAK,EAAE;CAFc,SAAf,CAAP;CAIA,OALM,CAAP;CAMA;;;sCAGD;CACC,aAAO,KAAK3N,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,EAAmDqP,OAAnD,CAA2D,QAA3D,EAAqE,GAArE,CADc;CAErBsD,UAAAA,KAAK,EAAE;CAFc,SAAf,CAAP;CAIA,OALM,CAAP;CAMA;;;sCAGD;CACC,aAAO,KAAK3N,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,EAAmDqP,OAAnD,CAA2D,QAA3D,EAAqE,GAArE,CADc;CAErBsD,UAAAA,KAAK,EAAE;CAFc,SAAf,CAAP;CAIA,OALM,CAAP;CAMA;;;sCAGD;CACC,aAAO,KAAK3N,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,EAAmDqP,OAAnD,CAA2D,QAA3D,EAAqE,GAArE,CADc;CAErBsD,UAAAA,KAAK,EAAE;CAFc,SAAf,CAAP;CAIA,OALM,CAAP;CAMA;;;6CAGD;CAAA;;CACC,aAAO,KAAK3N,KAAL,CAAWC,QAAX,CAAoB,oBAApB,EAA0C,YAAM;CACtD,eAAO,IAAIjE,iDAAJ,CAAqB;CAC3BlB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,mCAAf,CADoB;CAE3BiB,UAAAA,UAAU,EAAE,IAFe;CAG3BgW,UAAAA,cAAc,EAAEjW,iDAAgB,CAACkW,cAAjB,CAAgChF,IAHrB;CAI3B2E,UAAAA,MAAM,EAAE,KAJmB;CAK3B3V,UAAAA,MAAM,EAAE,CACP,IAAIrB,qCAAJ,CAAe;CACdC,YAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,EAAmDqP,OAAnD,CAA2D,QAA3D,EAAqE,GAArE,CADO;CAEdsD,YAAAA,KAAK,EAAE;CAFO,WAAf,CADO,EAKP,MAAI,CAACwE,kBAAL,EALO;CALmB,SAArB,CAAP;CAaA,OAdM,CAAP;CAeA;;;qCAGD;CAAA;;CACC,aAAO,KAAKnS,KAAL,CAAWC,QAAX,CAAoB,YAApB,EAAkC,YAAM;CAC9CmS,QAAAA,UAAU,CAAC,YAAM;CAChB,UAAA,MAAI,CAAC9I,YAAL,CACC,IAAI+I,0BAAJ,CAAc;CACbpI,YAAAA,IAAI,EAAE;CACLzG,cAAAA,IAAI,EAAE;CACLrI,gBAAAA,EAAE,EAAE,MAAI,CAACT,OAAL,CAAa6B,MAAb,CAAoBwV;CADnB;CADD;CADO,WAAd,CADD;CASA,SAVS,CAAV;CAYA,YAAMhV,KAAK,GAAG,CACb;CACC5B,UAAAA,EAAE,EAAE,GADL;CAECL,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAFR;CAGCI,UAAAA,IAAI,EAAE;CAHP,SADa,EAMb;CACCD,UAAAA,EAAE,EAAE,GADL;CAECL,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAFR;CAGCI,UAAAA,IAAI,EAAE;CAHP,SANa,EAWb;CACCD,UAAAA,EAAE,EAAE,GADL;CAECL,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAFR;CAGCI,UAAAA,IAAI,EAAE;CAHP,SAXa,CAAd;;CAkBA,YAAI,MAAI,CAACV,OAAL,CAAakI,aAAjB,EACA;CACC7F,UAAAA,KAAK,CAACuV,OAAN,CAAc;CACbnX,YAAAA,EAAE,EAAE,GADS;CAEbL,YAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAFM;CAGbI,YAAAA,IAAI,EAAE;CAHO,WAAd;CAKA;;CAED,eAAO,IAAIiE,kDAAJ,CAAqB;CAC3BjD,UAAAA,QAAQ,EAAE,QADiB;CAE3BY,UAAAA,KAAK,EAAG,YAAM;CACb,gBAAI4T,MAAM,CAAC,MAAI,CAAClW,OAAL,CAAa6B,MAAb,CAAoBwV,MAArB,CAAN,KAAuC,GAA3C,EACA;CACC,qBAAO,CAAP;CACA;;CAED,gBAAInB,MAAM,CAAC,MAAI,CAAClW,OAAL,CAAa6B,MAAb,CAAoBwV,MAArB,CAAN,KAAuC,GAA3C,EACA;CACC,qBAAO,CAAP;CACA;;CAED,gBAAInB,MAAM,CAAC,MAAI,CAAClW,OAAL,CAAa6B,MAAb,CAAoBwV,MAArB,CAAN,KAAuC,GAA3C,EACA;CACC,qBAAO,CAAP;CACA;;CAED,gBAAInB,MAAM,CAAC,MAAI,CAAClW,OAAL,CAAa6B,MAAb,CAAoBwV,MAArB,CAAN,KAAuC,GAA3C,EACA;CACC,qBAAO,CAAP;CACA;;CAED,mBAAO,MAAI,CAACrX,OAAL,CAAa6B,MAAb,CAAoBwV,MAA3B;CACA,WAtBM,EAFoB;CAyB3BhV,UAAAA,KAAK,EAALA,KAzB2B;CA0B3BsM,UAAAA,QAAQ,EAAE,MAAI,CAACC,YAAL,CAAkB5E,IAAlB,CAAuB,MAAvB;CA1BiB,SAArB,CAAP;CA4BA,OApEM,CAAP;CAqEA;;;sCAGD;CAAA;;CACC,aAAO,KAAK1E,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,IAAIkQ,UAAJ,CAAe;CACrBI,UAAAA,UAAU,EAAE,MAAI,CAAC7V,OAAL,CAAa6V,UADJ;CAErBvT,UAAAA,KAAK,EAAE;CACNsT,YAAAA,QAAQ,EAAE,MAAI,CAAC5V,OAAL,CAAa6B,MAAb,CAAoB+T;CADxB;CAFc,SAAf,CAAP;CAMA,OAPM,CAAP;CAQA;;;iDAGD;CAAA;;CACC,aAAO,KAAKtQ,KAAL,CAAWC,QAAX,CAAoB,wBAApB,EAA8C,YAAM;CAC1D,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoBC,QAAxB,CAAiC;CACvCV,UAAAA,QAAQ,EAAE,mBAD6B;CAEvCc,UAAAA,OAAO,EAAE,IAF8B;CAGvCF,UAAAA,KAAK,EAAE,CAAC,MAAI,CAACtC,OAAL,CAAa6B,MAAb,CAAoBgW,iBAArB,CAHgC;CAIvCxV,UAAAA,KAAK,EAAE,CACN;CACCE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CADP;CAECgC,YAAAA,KAAK,EAAE;CAFR,WADM;CAJgC,SAAjC,CAAP;CAWA,OAZM,CAAP;CAaA;;;kCAEYkB,OACb;CAAA,2BACgBA,KAAK,CAACE,OAAN,EADhB;CAAA,UACQoF,IADR,kBACQA,IADR;;CAGC,WAAK4B,KAAL;CAEA,WAAK9H,OAAL,CAAa,KAAK0F,SAAL,EAAb;CACA,WAAK1F,OAAL,CAAa,KAAKkU,aAAL,EAAb;CAEA,UAAMgB,kBAAkB,GAAG,KAAKf,qBAAL,EAA3B;CACAe,MAAAA,kBAAkB,CAACpN,KAAnB;;CAEA,UAAIwL,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAN,KAAoB,GAApB,IAA2ByV,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAN,KAAoB,GAAnD,EACA;CACCqX,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAKqO,cAAL,EAA5B;CACAD,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAK+N,kBAAL,EAA5B;CACA;;CAED,UAAIvB,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAN,KAAoB,GAApB,IAA2ByV,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAN,KAAoB,GAAnD,EACA;CACCqX,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAKsO,cAAL,EAA5B;CACAF,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAK+N,kBAAL,EAA5B;CACA;;CAED,UAAIvB,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAN,KAAoB,GAApB,IAA2ByV,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAN,KAAoB,GAAnD,EACA;CACCqX,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAK8K,cAAL,EAA5B;CACAsD,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAKuO,cAAL,EAA5B;CACAH,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAKwO,yBAAL,EAA5B;CACAJ,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAK+N,kBAAL,EAA5B;CACA;;CAED,UAAIvB,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAN,KAAoB,GAApB,IAA2ByV,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAN,KAAoB,GAAnD,EACA;CACCqX,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAKkL,cAAL,EAA5B;CACAkD,QAAAA,kBAAkB,CAACpO,QAAnB,CAA4B,KAAK+N,kBAAL,EAA5B;CACA;;CAED,UAAIvJ,cAAI,CAACkJ,QAAL,CAActO,IAAI,CAACrI,EAAnB,IAAyB,CAAzB,IAA8B,KAAKuW,oBAAL,GAA4BmB,QAA5B,EAAlC,EACA;CACC,aAAKnB,oBAAL,GAA4BoB,cAA5B,CAA2C,IAA3C;CACA;;CAED,WAAKxV,OAAL,CAAakV,kBAAb;CACA,WAAKlV,OAAL,CAAa,KAAKoU,oBAAL,EAAb;CACA;;;8BAEQxT,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;kCAEYrB,OACb;CACC,UAAM2U,aAAa,GAAG,KAAKQ,kBAAL,GAA0BlU,QAA1B,GAAqC,CAArC,CAAtB;CACA,UAAM8U,YAAY,GAAG;CACpBpB,QAAAA,aAAa,EAAEA,aAAa,KAAK,OAAlB,GAA4B,EAA5B,GAAiCA,aAD5B;CAEpBI,QAAAA,MAAM,EAAE,KAAKP,aAAL,GAAqBvT,QAArB,EAFY;CAGpB+U,QAAAA,IAAI,EAAE;CACLT,UAAAA,iBAAiB,EAAE3J,cAAI,CAACqK,SAAL,CAAe,KAAKL,yBAAL,GAAiC3U,QAAjC,GAA4C,CAA5C,CAAf;CADd,SAHc;CAMpB2T,QAAAA,OAAO,EAAE;CACRtS,UAAAA,GAAG,EAAE,KAAK0S,eAAL,GAAuB/T,QAAvB,GAAkCsC,MAAlC,GAA2C;CADxC;CANW,OAArB;;CAWA,UAAI,KAAKmR,oBAAL,GAA4BmB,QAA5B,EAAJ,EACA;CACC,YAAIjC,MAAM,CAACmC,YAAY,CAAChB,MAAd,CAAN,KAAgC,GAApC,EACA;CACCgB,UAAAA,YAAY,CAAChB,MAAb,GAAsB,GAAtB;CACA;;CAED,YAAInB,MAAM,CAACmC,YAAY,CAAChB,MAAd,CAAN,KAAgC,GAApC,EACA;CACCgB,UAAAA,YAAY,CAAChB,MAAb,GAAsB,GAAtB;CACA;;CAED,YAAInB,MAAM,CAACmC,YAAY,CAAChB,MAAd,CAAN,KAAgC,GAApC,EACA;CACCgB,UAAAA,YAAY,CAAChB,MAAb,GAAsB,GAAtB;CACA;;CAED,YAAInB,MAAM,CAACmC,YAAY,CAAChB,MAAd,CAAN,KAAgC,GAApC,EACA;CACCgB,UAAAA,YAAY,CAAChB,MAAb,GAAsB,GAAtB;CACA;CACD;;CAED,UACCnB,MAAM,CAACmC,YAAY,CAAChB,MAAd,CAAN,KAAgC,GAAhC,IACGnB,MAAM,CAACmC,YAAY,CAAChB,MAAd,CAAN,KAAgC,GAFpC,EAIA;CACCgB,QAAAA,YAAY,CAACC,IAAb,CAAkB1C,QAAlB,GAA6B,KAAKqC,cAAL,GAAsB1U,QAAtB,GAAiCqS,QAA9D;CACA;;CAED,aAAO;CACNxJ,QAAAA,QAAQ,EAAEiM;CADJ,OAAP;CAGA;;;GAvVsCzU;;KCLnB4U;;;CAEpB,yBAAYxY,OAAZ,EACA;CAAA;;CAAA;CACC,+GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,qDAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,2CAAf;CADsB,KAAf,CAAf;CAIA,QAAMC,OAAO,GAAG,IAAIC,uCAAJ,CAAgB;CAC/BC,MAAAA,EAAE,EAAE,qBAD2B;CAE/BP,MAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAFuB;CAG/BM,MAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,yDAAf,CAHkB;CAI/BO,MAAAA,YAAY,EAAE;CAJiB,KAAhB,CAAhB;CAOA,QAAMmH,UAAU,GAAG,IAAI1G,iDAAJ,CAAqB;CACvCE,MAAAA,MAAM,EAAE,CACP,IAAIiX,oDAAJ,CAAsB;CACrB/W,QAAAA,QAAQ,EAAE,cADW;CAErBwG,QAAAA,aAAa,EAAE,MAAKlI,OAAL,CAAakI,aAFP;CAGrBnG,QAAAA,wBAAwB,EAAE,MAAK/B,OAAL,CAAa+B,wBAHlB;CAIrBkC,QAAAA,WAAW,gCACP,MAAKjE,OAAL,CAAaiE,WADN,CAJU;CAOrBkE,QAAAA,SAAS,gCACL,MAAKnI,OAAL,CAAamI,SADR,CAPY;CAUrB8B,QAAAA,UAAU,gCACN,MAAKjK,OAAL,CAAaiK,UADP,CAVW;CAarB5H,QAAAA,KAAK,iCACD,MAAKrC,OAAL,CAAa6B,MAAb,CAAoBL,MADnB;CAbgB,OAAtB,CADO;CAD+B,KAArB,CAAnB;;CAsBA,QAAI,CAACjB,OAAO,CAAC6D,OAAR,EAAL,EACA;CACC4D,MAAAA,UAAU,CAACI,YAAX,CAAwB,CAAC,EAAzB;CACA;;CAED7H,IAAAA,OAAO,CAACiE,SAAR,CAAkB,SAAlB,EAA6B,YAAM;CAClCwD,MAAAA,UAAU,CAACI,YAAX,CAAwB,CAAC,EAAzB;CACA,KAFD;;CAIA,UAAKxF,OAAL,CAAa1C,MAAb;;CACA,UAAK0C,OAAL,CAAarC,OAAb;;CACA,UAAKqC,OAAL,CAAaoF,UAAb;;CAhDD;CAiDC;;;;iCAGD;CACC,UAAMsI,MAAM,uGAAZ;CACAjM,MAAAA,aAAG,CAACiK,QAAJ,CAAagC,MAAb,EAAqB,kCAArB;CAEA,aAAOA,MAAP;CACA;;;8BAEQ9M,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;GAjEyCC;;KCAtB8U;;;CAEpB,2BAAY1Y,OAAZ,EACA;CAAA;;CAAA;CACC,iHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,uDAAvB;;CAEA,UAAK2C,OAAL,CACC,IAAIzC,qCAAJ,CAAe;CACdC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,iCAAf;CADO,KAAf,CADD;;CAMA,QAAI,MAAKN,OAAL,CAAaiE,WAAb,CAAyB0U,WAAzB,CAAqCC,MAAzC,EACA;CACC,UAAMC,UAAU,GAAG,IAAIC,iCAAJ,EAAnB;CACA,UAAM/N,MAAM,GAAG,IAAIyF,iBAAJ,CAAW;CACzB9K,QAAAA,IAAI,EAAE,MAAKqT,iBAAL,CAAuB,MAAK/Y,OAAL,CAAaiE,WAApC,CADmB;CAEzB2M,QAAAA,KAAK,EAAEJ,iBAAM,CAACK,KAAP,CAAasB,YAFK;CAGzBpB,QAAAA,OAAO,EAAE,mBAAM;CACd7P,UAAAA,EAAE,CAAC8X,SAAH,CAAaC,QAAb,CAAsBC,IAAtB,4BACqB,MAAKlZ,OAAL,CAAaiE,WAAb,CAAyBxD,EAD9C,sBAEC;CACC0Y,YAAAA,SAAS,EAAE,KADZ;CAECtR,YAAAA,MAAM,EAAE;CACPuR,cAAAA,OAAO,EAAE,mBAAM;CACd,oBAAMC,MAAM,GAAGC,0BAAU,CAACC,WAAX,EAAf;CACAF,gBAAAA,MAAM,CAACG,UAAP,CAAkB,MAAKxZ,OAAL,CAAaiE,WAAb,CAAyBxD,EAA3C;CAEA4Y,gBAAAA,MAAM,CACJI,UADF,CACa,MAAKzZ,OAAL,CAAaiE,WAAb,CAAyBxD,EADtC,EAEEiZ,IAFF,CAEO,UAACxJ,MAAD,EAAY;CACjBnF,kBAAAA,MAAM,CAAC8G,OAAP,CAAe,MAAKkH,iBAAL,CAAuB7I,MAAvB,CAAf;CACA,iBAJF;CAKA;CAVM;CAFT,WAFD;CAkBA;CAtBwB,OAAX,CAAf;CAyBA7L,MAAAA,aAAG,CAACC,KAAJ,CAAUuU,UAAU,CAACtU,SAAX,EAAV,EAAkC;CACjCoV,QAAAA,OAAO,EAAE,CADwB;CAEjCC,QAAAA,MAAM,EAAE;CAFyB,OAAlC;CAKAvV,MAAAA,aAAG,CAAC0H,MAAJ,CAAWhB,MAAM,CAAC9E,MAAP,EAAX,EAA4B4S,UAAU,CAACgB,OAAX,EAA5B;;CACA,YAAKjX,OAAL,CAAaiW,UAAb;CACA,KAnCD,MAqCA;CACC,YAAKjW,OAAL,CACC,IAAIpC,uCAAJ,CAAgB;CACfN,QAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,uDAAf,CADO;CAEfM,QAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,wDAAf,CAFE;CAGfqH,QAAAA,KAAK,EAAE,KAHQ;CAIfoL,QAAAA,SAAS,EAAE;CAJI,OAAhB,CADD;CAQA;;CAxDF;CAyDC;;;;uCAEiB9O,aAClB;CACC,UAAM6V,OAAO,GAAG7V,WAAW,CAAC0U,WAAZ,CAAwBoB,KAAxB,CAA8BC,IAA9B,CAAmC,UAAClR,IAAD,EAAU;CAC5D,eAAOA,IAAI,CAACmR,YAAL,KAAsB,UAA7B;CACA,OAFe,CAAhB;;CAIA,UAAIH,OAAJ,EACA;CACC,eAAOzZ,eAAG,CAACC,UAAJ,CAAe,+CAAf,CAAP;CACA;;CAED,aAAOD,eAAG,CAACC,UAAJ,CAAe,uCAAf,CAAP;CACA;;;8BAEQkD,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;GA/E2CC;;KCAxBsW;;;CAEpB,qBAAYla,OAAZ,EACA;CAAA;;CAAA;CACC,2GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,iDAAvB;;CAEA,UAAK2C,OAAL,CACC,IAAIzC,qCAAJ,CAAe;CACdC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,2BAAf;CADO,KAAf,CADD;;CAMA,QAAI,MAAKN,OAAL,CAAaiE,WAAb,CAAyB0U,WAAzB,CAAqCC,MAAzC,EACA;CACC,UAAMC,UAAU,GAAG,IAAIC,iCAAJ,EAAnB;CACA,UAAM/N,MAAM,GAAG,IAAIyF,iBAAJ,CAAW;CACzB9K,QAAAA,IAAI,EAAE,MAAKqT,iBAAL,CAAuB,MAAK/Y,OAAL,CAAaiE,WAApC,CADmB;CAEzB2M,QAAAA,KAAK,EAAEJ,iBAAM,CAACK,KAAP,CAAasB,YAFK;CAGzBpB,QAAAA,OAAO,EAAE,mBAAM;CACd7P,UAAAA,EAAE,CAAC8X,SAAH,CAAaC,QAAb,CAAsBC,IAAtB,4BACqB,MAAKlZ,OAAL,CAAaiE,WAAb,CAAyBxD,EAD9C,uBAEC;CACC0Y,YAAAA,SAAS,EAAE,KADZ;CAECtR,YAAAA,MAAM,EAAE;CACPuR,cAAAA,OAAO,EAAE,mBAAM;CACd,oBAAMC,MAAM,GAAGC,0BAAU,CAACC,WAAX,EAAf;CACAF,gBAAAA,MAAM,CAACG,UAAP,CAAkB,MAAKxZ,OAAL,CAAaiE,WAAb,CAAyBxD,EAA3C;CAEA4Y,gBAAAA,MAAM,CACJI,UADF,CACa,MAAKzZ,OAAL,CAAaiE,WAAb,CAAyBxD,EADtC,EAEEiZ,IAFF,CAEO,UAACxJ,MAAD,EAAY;CACjBnF,kBAAAA,MAAM,CAAC8G,OAAP,CAAe,MAAKkH,iBAAL,CAAuB7I,MAAvB,CAAf;CACA,iBAJF;CAKA;CAVM;CAFT,WAFD;CAkBA;CAtBwB,OAAX,CAAf;CAyBA7L,MAAAA,aAAG,CAACC,KAAJ,CAAUuU,UAAU,CAACtU,SAAX,EAAV,EAAkC;CACjCoV,QAAAA,OAAO,EAAE,CADwB;CAEjCC,QAAAA,MAAM,EAAE;CAFyB,OAAlC;CAKAvV,MAAAA,aAAG,CAAC0H,MAAJ,CAAWhB,MAAM,CAAC9E,MAAP,EAAX,EAA4B4S,UAAU,CAACgB,OAAX,EAA5B;;CACA,YAAKjX,OAAL,CAAaiW,UAAb;CACA,KAnCD,MAqCA;CACC,YAAKjW,OAAL,CACC,IAAIpC,uCAAJ,CAAgB;CACfN,QAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,uDAAf,CADO;CAEfM,QAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,wDAAf,CAFE;CAGfqH,QAAAA,KAAK,EAAE,KAHQ;CAIfoL,QAAAA,SAAS,EAAE;CAJI,OAAhB,CADD;CAQA;;CAxDF;CAyDC;;;;uCAEiB9O,aAClB;CACC,UAAM6V,OAAO,GAAG7V,WAAW,CAAC0U,WAAZ,CAAwBoB,KAAxB,CAA8BC,IAA9B,CAAmC,UAAClR,IAAD,EAAU;CAC5D,eAAOA,IAAI,CAACmR,YAAL,KAAsB,WAA7B;CACA,OAFe,CAAhB;;CAIA,UAAIH,OAAJ,EACA;CACC,eAAOzZ,eAAG,CAACC,UAAJ,CAAe,yCAAf,CAAP;CACA;;CAED,aAAOD,eAAG,CAACC,UAAJ,CAAe,iCAAf,CAAP;CACA;;;8BAEQkD,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;GA/EqCC;;KCDlBuW;;;CAEpB,oBAAYna,OAAZ,EACA;CAAA;;CAAA;CACC,0GAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,gDAAvB;;CAEA,UAAK2C,OAAL,CAAa,MAAK0F,SAAL,EAAb;;CAEA,QAAI,CAAC,MAAK8R,WAAL,EAAL,EACA;CACC,YAAKxX,OAAL,CAAa,MAAKyX,iBAAL,EAAb;;CACA,YAAKC,eAAL,GAAuBC,OAAvB;CACA;;CAED,UAAK3X,OAAL,CAAa,MAAK0X,eAAL,EAAb;;CAZD;CAaC;;;;iCAGD;CACC,aAAO,KAAKhV,KAAL,CAAWC,QAAX,CAAoB,QAApB,EAA8B,YAAM;CAC1C,eAAO,IAAIpF,qCAAJ,CAAe;CACrBC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,sCAAf;CADc,SAAf,CAAP;CAGA,OAJM,CAAP;CAKA;;;yCAGD;CACC,aAAO,KAAKgF,KAAL,CAAWC,QAAX,CAAoB,gBAApB,EAAsC,YAAM;CAClD,eAAO,IAAI/E,uCAAJ,CAAgB;CACtBN,UAAAA,MAAM,EAAEG,eAAG,CAACC,UAAJ,CAAe,sCAAf,CADc;CAEtBM,UAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,oCAAf,CAFS;CAGtBqH,UAAAA,KAAK,EAAE,KAHe;CAItBoL,UAAAA,SAAS,EAAE,KAJW;CAKtBC,UAAAA,WAAW,EAAE;CALS,SAAhB,CAAP;CAOA,OARM,CAAP;CASA;;;mCAGD;CAAA;;CACC,aAAO,KAAK1N,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,eAAO,MAAI,CAACvF,OAAL,CAAaiK,UAAb,CAAwBuQ,QAAxB,CAAiCnL,IAAjC,CAAsCxJ,MAAtC,GAA+C,CAAtD;CACA,OAFM,CAAP;CAGA;;;uCAGD;CAAA;;CACC,aAAO,KAAKP,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAIjE,iDAAJ,CAAqB;CAC3BlB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,mDAAf,CADoB;CAE3BiB,UAAAA,UAAU,EAAE,IAFe;CAG3BgW,UAAAA,cAAc,EAAEjW,iDAAgB,CAACkW,cAAjB,CAAgCiD,MAHrB;CAI3BtD,UAAAA,MAAM,EAAE,MAAI,CAACiD,WAAL,MAAsBlM,cAAI,CAACqK,SAAL,CAAe,MAAI,CAACvY,OAAL,CAAa6B,MAAb,CAAoB+C,GAAnC,CAJH;CAK3BpD,UAAAA,MAAM,EAAE,CACP,MAAI,CAACkZ,iBAAL,EADO,EAEP,MAAI,CAACC,YAAL,EAFO;CALmB,SAArB,CAAP;CAUA,OAXM,CAAP;CAYA;;;2CAGD;CAAA;;CACC,aAAO,KAAKrV,KAAL,CAAWC,QAAX,CAAoB,kBAApB,EAAwC,YAAM;CACpD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoBC,QAAxB,CAAiC;CACvCV,UAAAA,QAAQ,EAAE,KAD6B;CAEvCc,UAAAA,OAAO,EAAE,IAF8B;CAGvCF,UAAAA,KAAK,EAAE,CAAC4L,cAAI,CAACqK,SAAL,CAAe,MAAI,CAACvY,OAAL,CAAa6B,MAAb,CAAoB+C,GAAnC,CAAD,CAHgC;CAIvCvC,UAAAA,KAAK,EAAE,CACN;CAACE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAAP;CAA4EgC,YAAAA,KAAK,EAAE;CAAnF,WADM;CAJgC,SAAjC,CAAP;CAQA,OATM,CAAP;CAUA;;;yCAGD;CAAA;;CACC,aAAO,KAAKgD,KAAL,CAAWC,QAAX,CAAoB,gBAApB,EAAsC,YAAM;CAClD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CACvCxN,UAAAA,QAAQ,EAAE,MAD6B;CAEvCtB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,4CAAf,CAFgC;CAGvCsB,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBwN,IAHU;CAIvChN,UAAAA,KAAK,GACJ;CAACE,YAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,yCAAf,CAAP;CAAkEgC,YAAAA,KAAK,EAAE;CAAzE,WADI,wCAED,MAAI,CAACtC,OAAL,CAAaiK,UAAb,CAAwBuQ,QAAxB,CAAiCnL,IAAjC,CAAsC/I,GAAtC,CAA0C,UAACwC,IAAD,EAAU;CACtD,mBAAO;CAACvG,cAAAA,IAAI,EAAEuG,IAAI,CAACvG,IAAZ;CAAkBD,cAAAA,KAAK,EAAEwG,IAAI,CAACrI;CAA9B,aAAP;CACA,WAFE,CAFC;CAJkC,SAAjC,CAAP;CAWA,OAZM,CAAP;CAaA;;;oCAGD;CAAA;;CACC,aAAO,KAAK6E,KAAL,CAAWC,QAAX,CAAoB,WAApB,EAAiC,YAAM;CAC7C,eAAO,IAAI7C,oCAAJ,CAAc;CACpBhB,UAAAA,QAAQ,EAAE,MADU;CAEpBtB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,2CAAf,CAFa;CAGpBsB,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoB6D,IAHT;CAIpB/D,UAAAA,QAAQ,EAAE;CAJU,SAAd,CAAP;CAMA,OAPM,CAAP;CAQA;;;kCAEYW,OACb;CACC,aAAO;CACNkY,QAAAA,QAAQ,gCACJlY,KADI;CAEPsC,UAAAA,GAAG,EAAE,KAAK0V,eAAL,GAAuBnC,QAAvB;CAFE;CADF,OAAP;CAMA;;;8BAEQ3U,OACT;CACC,WAAKC,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;GAvHoCC;;KCJjBgX;;;CAEpB,6BAAY5a,OAAZ,EACA;CAAA;;CAAA;CACC,mHAAMA,OAAN;CAEAqE,IAAAA,aAAG,CAACwW,WAAJ,CAAgB,MAAK5O,KAArB,EAA4B,wBAA5B;;CAEA,UAAK6O,cAAL,GAAsBC,QAAtB,CAA+B,MAAK9O,KAApC;;CALD;CAMC;;;;sCAGD;CAAA;;CACC,aAAO,KAAK3G,KAAL,CAAWC,QAAX,CAAoB,aAApB,EAAmC,YAAM;CAC/C,YAAMyV,IAAI,GAAG7J,6BAAU,CAACC,aAAX,EAAb;CACA,eAAO,IAAI4J,IAAI,CAAC9Z,EAAL,CAAQgB,EAAR,CAAW+Y,cAAX,CAA0BC,WAA9B,CAA0C;CAChDza,UAAAA,EAAE,EAAE,eAD4C;CAEhD0a,UAAAA,aAAa,EAAE;CACd1a,YAAAA,EAAE,EAAE,eADU;CAEd2a,YAAAA,QAAQ,EAAE,CACT;CACC3a,cAAAA,EAAE,EAAE,MADL;CAECT,cAAAA,OAAO,EAAE;CACRqb,gBAAAA,WAAW,EAAE;CADL;CAFV,aADS,CAFI;CAUdC,YAAAA,gBAAgB,EAAE,MAAI,CAACtb,OAAL,CAAasC,KAVjB;CAWduF,YAAAA,MAAM,EAAE;CACP,+BAAiB,wBAAM;CACtB,gBAAA,MAAI,CAACpE,IAAL,CAAU,UAAV,EAAsB;CAACE,kBAAAA,WAAW,EAAE;CAAd,iBAAtB;CACA,eAHM;CAIP,iCAAmB,0BAAM;CACxB,gBAAA,MAAI,CAACF,IAAL,CAAU,UAAV,EAAsB;CAACE,kBAAAA,WAAW,EAAE;CAAd,iBAAtB;CACA;CANM;CAXM;CAFiC,SAA1C,CAAP;CAuBA,OAzBM,CAAP;CA0BA;;;gCAGD;CACC,aAAO,KAAKmX,cAAL,GAAsBS,SAAtB,GAAkCC,gBAAlC,GAAqDlV,GAArD,CAAyD,UAACwC,IAAD,EAAU;CACzE,eAAOA,IAAI,CAACrI,EAAZ;CACA,OAFM,CAAP;CAGA;;;GA9C6C2N;;KCM1BqN;;;CAEpB,iBAAYzb,OAAZ,EACA;CAAA;;CAAA;CACC,uGAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,sDAAvB;;CAEA,QAAMC,MAAM,GAAG,IAAIC,qCAAJ,CAAe;CAC7BC,MAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,0BAAf;CADsB,KAAf,CAAf;CAIA,QAAMob,SAAS,GAAG,IAAIpa,iDAAJ,CAAqB;CACtCb,MAAAA,EAAE,EAAE,OADkC;CAEtCG,MAAAA,WAAW,EAAE,IAFyB;CAGtCY,MAAAA,MAAM,EAAE,CACP,MAAKma,YAAL,EADO,EAEP,MAAKC,oBAAL,EAFO,EAGP,MAAKC,gBAAL,EAHO,EAIP,MAAKC,eAAL,EAJO;CAH8B,KAArB,CAAlB;;CAWA,UAAKlZ,OAAL,CAAa1C,MAAb;;CACA,UAAK0C,OAAL,CAAa8Y,SAAb;;CApBD;CAqBC;;;;2CAGD;CACC,aAAO,KAAK1b,OAAL,CAAaiK,UAAb,CAAwB8R,IAAxB,CAA6BC,SAApC;CACA;;;oCAGD;CAAA;;CACC,aAAO,KAAK1W,KAAL,CAAWC,QAAX,CAAoB,WAApB,EAAiC,YAAM;CAC7C,eAAO,IAAI7C,oCAAJ,CAAc;CACpBtC,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,qCAAf,CADa;CAEpBoB,UAAAA,QAAQ,EAAE,MAFU;CAGpBC,UAAAA,QAAQ,EAAE,IAHU;CAIpBC,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBU;CAJT,SAAd,CAAP;CAMA,OAPM,CAAP;CAQA;;;uCAGD;CAAA;;CACC,aAAO,KAAK+C,KAAL,CAAWC,QAAX,CAAoB,cAApB,EAAoC,YAAM;CAChD,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoBC,QAAxB,CAAiC;CACvCV,UAAAA,QAAQ,EAAE,SAD6B;CAEvCY,UAAAA,KAAK,EAAE,MAAI,CAACtC,OAAL,CAAa6B,MAAb,CAAoBwB,OAApB,GAA8B,CAAC,SAAD,CAA9B,GAA4C,EAFZ;CAGvChB,UAAAA,KAAK,EAAE,CACN;CACCC,YAAAA,KAAK,EAAE,SADR;CAEC6Q,YAAAA,IAAI,YAAK9S,eAAG,CAACC,UAAJ,CAAe,sCAAf,CAAL,SAA8D,MAAI,CAAC2b,eAAL,EAA9D;CAFL,WADM,CAHgC;CASvCzZ,UAAAA,OAAO,EAAE;CAT8B,SAAjC,CAAP;CAWA,OAZM,CAAP;CAaA;;;4CAGD;CAAA;;CACC,aAAO,KAAK8C,KAAL,CAAWC,QAAX,CAAoB,mBAApB,EAAyC,YAAM;CACrD,eAAO,IAAIqV,iBAAJ,CAAsB;CAC5BlZ,UAAAA,QAAQ,EAAE,OADkB;CAE5BtB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,uBAAf,CAFqB;CAG5BgC,UAAAA,KAAK,EAAE,MAAI,CAACtC,OAAL,CAAa6B,MAAb,CAAoBqa,KAApB,CAA0BlZ,MAA1B,CAAiC,UAACC,GAAD,EAAM6F,IAAN,EAAe;CACtD,gBAAIhC,cAAI,CAACC,cAAL,CAAoB+B,IAApB,KAA6BhC,cAAI,CAACqV,QAAL,CAAcrT,IAAd,CAAjC,EACA;CACC7F,cAAAA,GAAG,CAACiE,IAAJ,CAAS,CAAC,MAAD,EAAS4B,IAAT,CAAT;CACA;;CAED,mBAAO7F,GAAP;CACA,WAPM,EAOJ,EAPI;CAHqB,SAAtB,CAAP;CAYA,OAbM,CAAP;CAcA;;;wCAGD;CAAA;;CACC,aAAO,KAAKqC,KAAL,CAAWC,QAAX,CAAoB,UAApB,EAAgC,YAAM;CAC5C,eAAO,IAAIrE,EAAE,CAACe,OAAH,CAAWC,EAAX,CAAcC,KAAd,CAAoB+M,QAAxB,CAAiC;CACvCxN,UAAAA,QAAQ,EAAE,UAD6B;CAEvCtB,UAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,2BAAf,CAFgC;CAGvC+B,UAAAA,KAAK,EAAE,MAAI,CAACrC,OAAL,CAAaiK,UAAb,CAAwBmS,SAAxB,CAAkC9V,GAAlC,CAAsC,UAACwC,IAAD,EAAU;CACtD,mBAAO;CAACvG,cAAAA,IAAI,EAAEuG,IAAI,CAACvG,IAAZ;CAAkBD,cAAAA,KAAK,EAAEwG,IAAI,CAACrI;CAA9B,aAAP;CACA,WAFM,CAHgC;CAMvCmB,UAAAA,OAAO,EAAE,MAAI,CAAC5B,OAAL,CAAa6B,MAAb,CAAoBwa;CANU,SAAjC,CAAP;CAQA,OATM,CAAP;CAUA;;;;uCAID;CACC,2GAEkChc,eAAG,CAACC,UAAJ,CAAe,yCAAf,CAFlC,iEAGqCD,eAAG,CAACC,UAAJ,CAAe,4CAAf,CAHrC;CAOA;;;kCAEYgC,OACb;CACC,aAAO;CACNC,QAAAA,IAAI,EAAED,KAAK,CAACC,IADN;CAENgN,QAAAA,IAAI,EAAE;CACL8M,UAAAA,QAAQ,EAAE,KAAKR,gBAAL,GAAwBtY,QAAxB,EADL;CAELF,UAAAA,OAAO,EAAEf,KAAK,CAACe,OAAN,CAAcF,QAAd,CAAuB,SAAvB;CAFJ,SAFA;CAMNmZ,QAAAA,WAAW,EAAE;CACZJ,UAAAA,KAAK,EAAE5Z,KAAK,CAAC4Z;CADD;CANP,OAAP;CAUA;;;8BAEQ1Y,OACT;CACC,UAAI,CAAC,KAAK+Y,mBAAL,EAAL,EACA;CACC,YAAMC,QAAQ,GAAG,KAAKV,eAAL,EAAjB;;CAEA,YAAI,CAACU,QAAQ,CAACjZ,QAAT,GAAoBJ,QAApB,CAA6B,SAA7B,CAAL,EACA;CACCqZ,UAAAA,QAAQ,CAACpX,QAAT,CAAkB,CAAC,SAAD,CAAlB;;CACA,cAAI0B,cAAI,CAACC,cAAL,CAAoB,KAAK/G,OAAL,CAAaiK,UAAb,CAAwBwS,WAAxB,CAAoC1b,MAAxD,CAAJ,EACA;CACC,gBAAM2b,UAAU,GAAG1b,oBAAU,CAACC,QAAX,CAAoB,eAApB,CAAnB;;CACA,gBAAI6F,cAAI,CAACiH,UAAL,CAAgB2O,UAAhB,CAAJ,EACA;CACCA,cAAAA,UAAU,CAAC,KAAK1c,OAAL,CAAaiK,UAAb,CAAwBwS,WAAxB,CAAoC1b,MAArC,CAAV;CACA;CACD;CACD;CACD;;CAED,WAAK0C,IAAL,CAAU,UAAV,gCAA0BD,KAAK,CAACE,OAAN,EAA1B;CAA2CC,QAAAA,WAAW,EAAE;CAAxD;CACA;;;GA3IiCC;;CCRnC,IAAM+Y,cAAc,GAAG,CACtB,IAAIC,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,QADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,+BAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CADsB,EAMtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,YADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE,IAHU;CAIjBC,EAAAA,SAAS,EAAE;CAJM,CAAlB,CANsB,EAYtB,IAAIF,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,KADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,mCAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CAZsB,EAiBtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,UADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,4CAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CAjBsB,EAsBtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,mBADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CAtBsB,EA2BtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,iBADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,4CAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CA3BsB,EAgCtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,cADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,yCAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CAhCsB,EAqCtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,SADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oCAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CArCsB,EA0CtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,gBADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,2CAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CA1CsB,EA+CtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,WADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CA/CsB,EAoDtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,UADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,iCAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CApDsB,EAyDtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,IADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,2BAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CAzDsB,EA8DtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,UADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,iCAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CA9DsB,EAmEtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,OADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CAnEsB,EAwEtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,MADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,wCAAf,CAFW;CAGjByc,EAAAA,SAAS,EAAE,gCAHM;CAIjBF,EAAAA,KAAK,EAAE;CAJU,CAAlB,CAxEsB,EA8EtB,IAAID,6CAAJ,CAAkB;CACjBnc,EAAAA,EAAE,EAAE,OADa;CAEjBiF,EAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,8BAAf,CAFW;CAGjBuc,EAAAA,KAAK,EAAE;CAHU,CAAlB,CA9EsB,CAAvB;;CCAA,IAAMG,gBAAgB,GAAG,CACxB,IAAIC,+CAAJ,CAAmB;CAClBxc,EAAAA,EAAE,EAAE,KADc;CAElBL,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,2CAAf;CAFW,CAAnB,CADwB,EAKxB,IAAI2c,+CAAJ,CAAmB;CAClBxc,EAAAA,EAAE,EAAE,UADc;CAElBL,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,gDAAf;CAFW,CAAnB,CALwB,EASxB,IAAI2c,+CAAJ,CAAmB;CAClBxc,EAAAA,EAAE,EAAE,QADc;CAElBL,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8CAAf;CAFW,CAAnB,CATwB,EAaxB,IAAI2c,+CAAJ,CAAmB;CAClBxc,EAAAA,EAAE,EAAE,gBADc;CAElBL,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,sDAAf;CAFW,CAAnB,CAbwB,CAAzB;;ACHA,gBAAe,iFAAf;;ACAA,0BAAe,8EAAf;;ACAA,oBAAe,gFAAf;;ACAA,2BAAe,iFAAf;;ACAA,4BAAe,kFAAf;;ACAA,cAAe,wEAAf;;ACAA,oBAAe,8EAAf;;ACAA,mBAAe,yEAAf;;ACAA,mBAAe,6EAAf;;CCYA,IAAM4c,OAAO,GAAG,CACf,IAAIC,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,UADM;CAEVmV,EAAAA,QAAQ,EAAE,KAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,uCAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAJH;CAKVI,EAAAA,IAAI,EAAE0c,QALI;CAMV/a,EAAAA,KAAK,EAAE,CACN,QADM,EAEN,YAFM,EAGN,KAHM,EAIN,OAJM,EAKN,OALM,CANG;CAaVrC,EAAAA,OAAO,EAAE;CACRqd,IAAAA,UAAU,EAAE,UADJ;CAER9a,IAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,uCAAf,CAFE;CAGR6D,IAAAA,UAAU,EAAE;CACXS,MAAAA,GAAG,EAAE;CADM,KAHJ;CAMR2K,IAAAA,IAAI,EAAE;CACLnP,MAAAA,KAAK,EAAE,EADF;CAEL4B,MAAAA,IAAI,EAAE,EAFD;CAGLW,MAAAA,aAAa,EAAEtC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAHV;CAILkB,MAAAA,MAAM,EAAE,CACP;CAACe,QAAAA,IAAI,EAAE;CAAP,OADO,EAEP;CAACA,QAAAA,IAAI,EAAE;CAAP,OAFO,EAGP;CAACA,QAAAA,IAAI,EAAE;CAAP,OAHO,EAIP;CAACA,QAAAA,IAAI,EAAE;CAAP,OAJO,CAJH;CAUL4B,MAAAA,UAAU,EAAE,CAAC;CAACiD,QAAAA,OAAO,EAAE;CAAV,OAAD,CAVP;CAWLkE,MAAAA,YAAY,EAAE,EAXT;CAYLxF,MAAAA,SAAS,EAAE;CAAClB,QAAAA,GAAG,EAAE;CAAN;CAZN,KANE;CAoBR0Y,IAAAA,OAAO,EAAE;CAACpa,MAAAA,GAAG,EAAE,EAAN;CAAU8B,MAAAA,MAAM,EAAE;CAAlB,KApBD;CAqBRkL,IAAAA,MAAM,EAAE;CACPhD,MAAAA,OAAO,EAAE;CACRxH,QAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oDAAf;CADE,OADF;CAIP8M,MAAAA,OAAO,EAAE;CACR1H,QAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oDAAf;CADE;CAJF,KArBA;CA6BR8L,IAAAA,QAAQ,EAAE;CACTiL,MAAAA,MAAM,EAAE;CADC;CA7BF;CAbC,CAAX,CADe,EAgDf,IAAI8F,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,UADM;CAEVmV,EAAAA,QAAQ,EAAE,KAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,uCAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAJH;CAKVI,EAAAA,IAAI,EAAE6c,kBALI;CAMVlb,EAAAA,KAAK,EAAE,CACN,QADM,EAEN,YAFM,EAGN,KAHM,EAIN,OAJM,EAKN,OALM,CANG;CAaVrC,EAAAA,OAAO,EAAE;CACRqd,IAAAA,UAAU,EAAE,UADJ;CAER9a,IAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,uCAAf,CAFE;CAGR6D,IAAAA,UAAU,EAAE;CACXS,MAAAA,GAAG,EAAE;CADM,KAHJ;CAMR2K,IAAAA,IAAI,EAAE;CACLnP,MAAAA,KAAK,EAAE,EADF;CAEL4B,MAAAA,IAAI,EAAE,EAFD;CAGLW,MAAAA,aAAa,EAAEtC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAHV;CAILkB,MAAAA,MAAM,EAAE,CACP;CAACe,QAAAA,IAAI,EAAE;CAAP,OADO,EAEP;CAACA,QAAAA,IAAI,EAAE;CAAP,OAFO,EAGP;CAACA,QAAAA,IAAI,EAAE;CAAP,OAHO,EAIP;CAACA,QAAAA,IAAI,EAAE;CAAP,OAJO,CAJH;CAUL4B,MAAAA,UAAU,EAAE,CAAC;CAACiD,QAAAA,OAAO,EAAE;CAAV,OAAD,CAVP;CAWLkE,MAAAA,YAAY,EAAE,EAXT;CAYLxF,MAAAA,SAAS,EAAE;CAAClB,QAAAA,GAAG,EAAE;CAAN;CAZN,KANE;CAoBR0Y,IAAAA,OAAO,EAAE;CAACpa,MAAAA,GAAG,EAAE,EAAN;CAAU8B,MAAAA,MAAM,EAAE;CAAlB,KApBD;CAqBRkL,IAAAA,MAAM,EAAE;CACPhD,MAAAA,OAAO,EAAE;CACRxH,QAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oDAAf;CADE,OADF;CAIP8M,MAAAA,OAAO,EAAE;CACR1H,QAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oDAAf;CADE;CAJF,KArBA;CA6BR8L,IAAAA,QAAQ,EAAE;CACTiL,MAAAA,MAAM,EAAE;CADC;CA7BF;CAbC,CAAX,CAhDe,EA+Ff,IAAI8F,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,UADM;CAEVmV,EAAAA,QAAQ,EAAE,KAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,uCAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,mDAAf,CAJH;CAKVI,EAAAA,IAAI,EAAE8c,YALI;CAMVC,EAAAA,cAAc,EAAE,UANN;CAOVpb,EAAAA,KAAK,EAAE,CACN,QADM,EAEN,YAFM,EAGN,KAHM,EAIN,OAJM,EAKN,UALM,EAMN,OANM,CAPG;CAeVrC,EAAAA,OAAO,EAAE;CACRqd,IAAAA,UAAU,EAAE,UADJ;CAER9a,IAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,uCAAf,CAFE;CAGR6D,IAAAA,UAAU,EAAE;CACXS,MAAAA,GAAG,EAAE;CADM,KAHJ;CAMR2K,IAAAA,IAAI,EAAE;CACLnP,MAAAA,KAAK,EAAE,EADF;CAEL4B,MAAAA,IAAI,EAAE,EAFD;CAGLW,MAAAA,aAAa,EAAEtC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAHV;CAILkB,MAAAA,MAAM,EAAE,CACP;CAACe,QAAAA,IAAI,EAAE;CAAP,OADO,CAJH;CAOL4B,MAAAA,UAAU,EAAE,CAAC;CAACiD,QAAAA,OAAO,EAAE;CAAV,OAAD,CAPP;CAQLkE,MAAAA,YAAY,EAAE,EART;CASLxF,MAAAA,SAAS,EAAE;CAAClB,QAAAA,GAAG,EAAE;CAAN;CATN,KANE;CAiBR0Y,IAAAA,OAAO,EAAE;CAACpa,MAAAA,GAAG,EAAE,EAAN;CAAU8B,MAAAA,MAAM,EAAE;CAAlB,KAjBD;CAkBRkL,IAAAA,MAAM,EAAE;CACPhD,MAAAA,OAAO,EAAE;CACRxH,QAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oDAAf;CADE,OADF;CAIP8M,MAAAA,OAAO,EAAE;CACR1H,QAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oDAAf;CADE;CAJF,KAlBA;CA0BR8L,IAAAA,QAAQ,EAAE;CACTiL,MAAAA,MAAM,EAAE;CADC;CA1BF;CAfC,CAAX,CA/Fe,EA8If,IAAI8F,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,QADM;CAEVmV,EAAAA,QAAQ,EAAE,KAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,qCAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,iDAAf,CAJH;CAKVI,EAAAA,IAAI,EAAEgd,WALI;CAMVrb,EAAAA,KAAK,EAAE,CACN,QADM,EAEN,YAFM,EAGN,KAHM,EAIN,UAJM,EAKN,mBALM,EAMN,iBANM,EAON,cAPM,EAQN,SARM,EASN,gBATM,EAUN,WAVM,EAWN,UAXM,EAYN,IAZM,EAaN,UAbM,EAcN,OAdM,EAeN,OAfM,CANG;CAuBVrC,EAAAA,OAAO,EAAE;CACRqd,IAAAA,UAAU,EAAE,QADJ;CAER9a,IAAAA,IAAI,EAAElC,eAAG,CAACC,UAAJ,CAAe,qCAAf,CAFE;CAGR6D,IAAAA,UAAU,EAAE;CACXS,MAAAA,GAAG,EAAE;CADM,KAHJ;CAMRsL,IAAAA,MAAM,EAAE;CACPhD,MAAAA,OAAO,EAAE;CACRxH,QAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oDAAf;CADE,OADF;CAIP8M,MAAAA,OAAO,EAAE;CACR1H,QAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,oDAAf;CADE;CAJF;CANA;CAvBC,CAAX,CA9Ie,EAsLf,IAAI6c,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,gBADM;CAEVmV,EAAAA,QAAQ,EAAE,UAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,6CAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,yDAAf,CAJH;CAKVI,EAAAA,IAAI,EAAEid,mBALI;CAMVtb,EAAAA,KAAK,EAAE,CACN,WADM,EAEN,OAFM,EAGN,OAHM,CANG;CAWV6I,EAAAA,QAAQ,EAAE,IAXA;CAYVC,EAAAA,IAAI,EAAE;CAZI,CAAX,CAtLe,EAoMf,IAAIgS,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,cADM;CAEVmV,EAAAA,QAAQ,EAAE,UAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,2CAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,uDAAf,CAJH;CAKVI,EAAAA,IAAI,EAAEkd,oBALI;CAMVvb,EAAAA,KAAK,EAAE,CACN,UADM,EAEN,mBAFM,EAGN,OAHM,CANG;CAWV6I,EAAAA,QAAQ,EAAE,IAXA;CAYVC,EAAAA,IAAI,EAAE;CAZI,CAAX,CApMe,EAmNf,IAAIgS,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,IADM;CAEVmV,EAAAA,QAAQ,EAAE,QAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,iCAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,6CAAf,CAJH;CAKVI,EAAAA,IAAI,EAAEmd,MALI;CAMVxb,EAAAA,KAAK,EAAE,CACN,QADM,EAEN,OAFM,EAGN,OAHM,CANG;CAWV6I,EAAAA,QAAQ,EAAE,IAXA;CAYVC,EAAAA,IAAI,EAAE;CAZI,CAAX,CAnNe,EAiOf,IAAIgS,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,UADM;CAEVmV,EAAAA,QAAQ,EAAE,QAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,iCAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,6CAAf,CAJH;CAKVI,EAAAA,IAAI,EAAEod,YALI;CAMVzb,EAAAA,KAAK,EAAE,CACN,OADM,EAEN,OAFM,CANG;CAUV6I,EAAAA,QAAQ,EAAE,IAVA;CAWVC,EAAAA,IAAI,EAAE;CAXI,CAAX,CAjOe,EA+Of,IAAIgS,uCAAJ,CAAW;CACV1c,EAAAA,EAAE,EAAE,iBADM;CAEVmV,EAAAA,QAAQ,EAAE,gBAFA;CAGVxV,EAAAA,KAAK,EAAEC,eAAG,CAACC,UAAJ,CAAe,8CAAf,CAHG;CAIVM,EAAAA,WAAW,EAAEP,eAAG,CAACC,UAAJ,CAAe,0DAAf,CAJH;CAKVI,EAAAA,IAAI,EAAEqd,WALI;CAMV1b,EAAAA,KAAK,EAAE,CACN,OADM,EAEN,OAFM,CANG;CAUV6I,EAAAA,QAAQ,EAAE,IAVA;CAWVC,EAAAA,IAAI,EAAE;CAXI,CAAX,CA/Oe,CAAhB;;;;;;;;;;;;CCoDA;;;AAGA,KAAa6S,iBAAb;CAAA;CAAA;CAAA;CAAA,kCAGC;CACC,UAAM9M,UAAU,GAAGC,6BAAU,CAACC,aAAX,EAAnB;CACA,UAAM6M,eAAe,GAAG/M,UAAU,CAAChQ,EAAX,CAAce,OAAd,CAAsBC,EAAtB,CAAyBgc,KAAzB,CAA+BF,iBAAvD;;CACA,UAAI,CAACC,eAAe,CAACE,QAAjB,IAA6B,CAACH,iBAAiB,CAACG,QAApD,EACA;CACCF,QAAAA,eAAe,CAACE,QAAhB,GAA2B,IAAIH,iBAAJ,EAA3B;CACA;;CAED,aAAQC,eAAe,CAACE,QAAhB,IAA4BH,iBAAiB,CAACG,QAAtD;CACA;CAZF;;CAcC,+BACA;CAAA;;CAAA;CACC;;CACA,UAAKle,iBAAL,CAAuB,uCAAvB;;CACA,UAAK6O,QAAL,CAAczO,eAAG,CAACC,UAAJ,CAAe,mCAAf,CAAd;;CAEA,UAAK8d,cAAL;;CAEA,QAAMC,sBAAsB,GAAG1B,cAAc,CAACpS,MAAf,CAAsB,UAACQ,MAAD,EAAY;CAChE,aAAO,MAAKuT,aAAL,MAAwBvT,MAAM,CAACtK,EAAP,KAAc,OAA7C;CACA,KAF8B,CAA/B;;CAIA,UAAK8d,iBAAL,CAAuBF,sBAAvB;;CACA,UAAKG,aAAL,CAAmBxB,gBAAnB;;CAEA,QAAMyB,eAAe,GAAGvB,OAAO,CAAC3S,MAAR,CAAe,UAACmU,MAAD,EAAY;CAClD,aACCre,eAAG,CAACC,UAAJ,CAAe,aAAf,MAAkC,IAAlC,IAECD,eAAG,CAACC,UAAJ,CAAe,aAAf,MAAkC,IAAlC,IACGoe,MAAM,CAAC1e,OAAP,CAAeS,EAAf,KAAsB,IAJ3B;CAOA,KARuB,CAAxB;;CAUA,UAAKke,UAAL,CAAgBF,eAAhB;;CAEA,QAAI,CAAC,MAAKH,aAAL,EAAL,EACA;CACCja,MAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAK6S,sBAAL,GAA8B3Y,MAA9B,EAAX,EAAmD,MAAK4Y,sBAAL,EAAnD;CACA;;CAED,UAAKra,SAAL,CAAe,UAAf,EAA2B,MAAKsa,aAAL,CAAmB9U,IAAnB,2CAA3B;;CA/BD;CAgCC,GA/CF;;;CAAA;CAAA;CAAA,oCAmDC;CACC,aAAO+U,eAAG,CAACxF,WAAJ,GAAkBE,UAAlB,GAA+BuF,WAA/B,KAA+C,WAAtD;CACA;CArDF;CAAA;CAAA,6CAwDC;CAAA;;CACC,aAAO,KAAK1Z,KAAL,CAAWC,QAAX,CAAoB,qBAApB,EAA2C,YAAM;CACvD,eAAO,IAAIiL,iBAAJ,CAAW;CACjB9K,UAAAA,IAAI,EAAErF,eAAG,CAACC,UAAJ,CAAe,kDAAf,CADW;CAEjBsQ,UAAAA,KAAK,EAAEJ,iBAAM,CAACK,KAAP,CAAasB,YAFH;CAGjBpB,UAAAA,OAAO,EAAE,MAAI,CAACkO,0BAAL,CAAgCjV,IAAhC,CAAqC,MAArC,CAHQ;CAIjByG,UAAAA,IAAI,EAAED,iBAAM,CAACE,IAAP,CAAYC;CAJD,SAAX,CAAP;CAMA,OAPM,CAAP;CAQA;CAjEF;CAAA;CAAA,iDAoEC;CAAA;;CACC,UAAI,KAAKuO,eAAL,EAAJ,EACA;CACC,aAAKC,IAAL,GACEzF,IADF,CACO,YAAM;CACX,UAAA,MAAI,CAACwF,eAAL,GAAuBE,gBAAvB;CACA,SAHF;CAIA;CACD;CA5EF;CAAA;CAAA,gCA+EC;CAAA;;CACC,aAAO,KAAK9Z,KAAL,CAAWC,QAAX,CAAoB,QAApB,EAA8B,YAAM;CAC1C,eAAO,IAAI8Z,kBAAJ,CAAW;CACjBjW,UAAAA,MAAM,EAAE,MAAI,CAACkW;CADI,SAAX,CAAP;CAGA,OAJM,CAAP;CAKA;CArFF;CAAA;CAAA,iCAwFC;CACC,WAAK,KAAKC,SAAL,GAAiBne,IAAjB,EAAL;CACAiD,MAAAA,aAAG,CAAC8a,IAAJ,CAAS,KAAKK,OAAd;CACAnb,MAAAA,aAAG,CAAC8a,IAAJ,CAAS,KAAKvd,OAAd;CACAyC,MAAAA,aAAG,CAAC8a,IAAJ,CAAS,KAAKM,cAAL,GAAsBlb,SAAtB,EAAT;CACA;CA7FF;CAAA;CAAA,iCAgGC;CACC,WAAKgb,SAAL,GAAiBJ,IAAjB;CACA9a,MAAAA,aAAG,CAACjD,IAAJ,CAAS,KAAKoe,OAAd;CACAnb,MAAAA,aAAG,CAACjD,IAAJ,CAAS,KAAKQ,OAAd;CACAyC,MAAAA,aAAG,CAACjD,IAAJ,CAAS,KAAKqe,cAAL,GAAsBlb,SAAtB,EAAT;CACA;CArGF;CAAA;CAAA,2BAwGC;CAAA;;CAAA,UADKvE,OACL,uEADe,EACf;;CACC,UAAIA,OAAO,CAAC0f,eAAZ,EACA;CACC,YAAMC,UAAU,GAAGZ,eAAG,CAACxF,WAAJ,GAAkBE,UAAlB,GAA+BmG,cAAlD;CAEA,aAAKC,YAAL,CAAkBF,UAAU,CAACxX,SAA7B;CACA,aAAK2X,eAAL,CAAqBH,UAAU,CAACI,YAAhC;CACA,aAAKC,gBAAL,CAAsBL,UAAU,CAACM,aAAjC;CACA,aAAKC,aAAL,CAAmBP,UAAU,CAACxb,UAA9B;CAEA,YAAMgc,cAAc,GAAGC,iBAAO,CAACC,KAAR,CAAcV,UAAU,CAAC1b,WAAzB,CAAvB;;CACA,YAAIkc,cAAc,CAAChc,UAAf,CAA0BS,GAA1B,KAAkC,IAAtC,EACA;CACCub,UAAAA,cAAc,CAAChc,UAAf,CAA0BS,GAA1B,GAAgC,IAAhC;CACAub,UAAAA,cAAc,CAAC5Q,IAAf,CAAoBpL,UAApB,GAAiC,EAAjC;CACA;;CAED,aAAKmc,cAAL,CAAoBH,cAApB;CACA,aAAKI,iBAAL,CAAuBZ,UAAU,CAAC1V,UAAlC;CAEA,eAAOuW,OAAO,CAACC,OAAR,EAAP;CACA;;CAED,UAAMC,OAAO,GAAGC,uBAAO,CAACpH,WAAR,GACdqH,KADc,CACR,oBADQ,EACc;CAC5BzY,QAAAA,SAAS,EAAE;CACVqB,UAAAA,MAAM,EAAE,oBADE;CAEV+F,UAAAA,IAAI,EAAE;CAFI,SADiB;CAK5BwQ,QAAAA,YAAY,EAAE;CACbvW,UAAAA,MAAM,EAAE,uBADK;CAEb+F,UAAAA,IAAI,EAAE;CAFO,SALc;CAS5B0Q,QAAAA,aAAa,EAAE;CACdzW,UAAAA,MAAM,EAAE,wBADM;CAEd+F,UAAAA,IAAI,EAAE;CAFQ,SATa;CAa5BpL,QAAAA,UAAU,EAAE;CACXqF,UAAAA,MAAM,EAAE,qBADG;CAEX+F,UAAAA,IAAI,EAAE;CAFK;CAbgB,OADd,EAmBdmK,IAnBc,CAmBT,UAACxJ,MAAD,EAAY;CACjB,QAAA,MAAI,CAAC2P,YAAL,CAAkB3P,MAAM,CAAC/H,SAAP,CAAiB+H,MAAnC;;CACA,QAAA,MAAI,CAAC4P,eAAL,CAAqB5P,MAAM,CAAC6P,YAAP,CAAoB7P,MAAzC;;CACA,QAAA,MAAI,CAAC8P,gBAAL,CAAsB9P,MAAM,CAAC+P,aAAP,CAAqB/P,MAA3C;;CACA,QAAA,MAAI,CAACgQ,aAAL,CAAmBhQ,MAAM,CAAC/L,UAAP,CAAkB+L,MAArC;CACA,OAxBc,CAAhB;CA0BA,UAAMjM,WAAW,GAAGqV,0BAAU,CAACC,WAAX,GAClBE,UADkB,CACP,KAAKoH,gBAAL,EADO,EAElBnH,IAFkB,CAEb,UAAC1Z,OAAD,EAAa;CAClB,YAAMmgB,cAAc,GAAGC,iBAAO,CAACC,KAAR,CAAcrgB,OAAd,CAAvB;;CACA,YAAImgB,cAAc,CAAChc,UAAf,CAA0BS,GAA1B,KAAkC,IAAtC,EACA;CACCub,UAAAA,cAAc,CAAChc,UAAf,CAA0BS,GAA1B,GAAgC,IAAhC;CACAub,UAAAA,cAAc,CAAC5Q,IAAf,CAAoBpL,UAApB,GAAiC,EAAjC;CACA;;CAED,QAAA,MAAI,CAACmc,cAAL,CAAoBH,cAApB;CACA,OAXkB,CAApB;CAaA,UAAMW,cAAc,GAAGxH,0BAAU,CAACC,WAAX,GACrBwH,aADqB,GAErBrH,IAFqB,CAEhB,UAACzP,UAAD,EAAgB;CACrB,QAAA,MAAI,CAACsW,iBAAL,CAAuBtW,UAAvB;CACA,OAJqB,CAAvB;CAMA,aAAOuW,OAAO,CAACQ,GAAR,CAAY,CAClBN,OADkB,EAElBzc,WAFkB,EAGlB6c,cAHkB,CAAZ,CAAP;CAKA;CAjLF;CAAA;CAAA,kCAmLe3c,UAnLf,EAoLC;CACC,WAAKmB,KAAL,CAAW2b,GAAX,CAAe,YAAf,EAA6Bb,iBAAO,CAACc,OAAR,CAAgB/c,UAAhB,EAA4B,CAAC,IAAD,CAA5B,EAAoC,CAAC,KAAD,CAApC,CAA7B;CACA;CAtLF;CAAA;CAAA,oCAyLC;CACC,aAAO,KAAKmB,KAAL,CAAW6b,GAAX,CAAe,YAAf,CAAP;CACA;CA3LF;CAAA;CAAA,oCA8LC;CACC,aAAO,KAAKC,iBAAL,GAAyBhV,QAAzB,CAAkCiV,IAAlC,CAAuCvH,OAA9C;CACA;CAhMF;CAAA;CAAA,oCAkMiBwH,KAlMjB,EAmMC;CACC,WAAKhc,KAAL,CAAW2b,GAAX,CAAe,cAAf,EAA+BK,KAA/B;CACA;CArMF;CAAA;CAAA,sCAwMC;CACC,aAAO,KAAKhc,KAAL,CAAW6b,GAAX,CAAe,cAAf,CAAP;CACA;CA1MF;CAAA;CAAA,2BAuNC;CAAA;;CAAA,UAVCnhB,OAUD,uEAJK;CACHiE,QAAAA,WAAW,EAAE;CADV,OAIL;;CACC,UAAI,CAAC,KAAKqM,MAAL,CAAYiR,UAAjB,EACA;CACC,aAAKC,gBAAL;CACA;;CAED,UAAI,CAAC,KAAKC,aAAL,EAAL,EACA;CACC,aAAKC,sBAAL;CACA;;CAED,WAAKC,eAAL,CAAqB3hB,OAAO,CAACshB,KAA7B;CACA,WAAKM,gBAAL,CAAsB5hB,OAAO,CAAC6hB,MAA9B;CACA,WAAKC,wBAAL,CAA8B9hB,OAAO,CAAC+hB,UAAtC;CAEA,WAAKC,UAAL;CAEA,WAAKC,IAAL,CAAUjiB,OAAV,EACE0Z,IADF,CACO,YAAM;CACX,QAAA,MAAI,CAACwI,UAAL;;CAEA,YAAMje,WAAW,GAAG,MAAI,CAACke,cAAL,EAApB;;CAEA,YAAI,CAAC,MAAI,CAACja,aAAL,EAAL,EACA;CACC,cAAMgV,QAAO,GAAG,MAAI,CAACkF,UAAL,GAAkB9b,GAAlB,CAAsB,UAACoY,MAAD,EAAoB;CACzD,gBACC5X,cAAI,CAACqD,aAAL,CAAmBuU,MAAM,CAAC1e,OAAP,CAAeA,OAAlC,KACG8G,cAAI,CAACqD,aAAL,CAAmBuU,MAAM,CAAC1e,OAAP,CAAeA,OAAf,CAAuBuP,IAA1C,CAFJ,EAIA;CACC,kBAAIzI,cAAI,CAACuD,aAAL,CAAmBqU,MAAM,CAAC1e,OAAP,CAAeA,OAAf,CAAuBuP,IAAvB,CAA4B/N,MAA/C,CAAJ,EACA;CACCkd,gBAAAA,MAAM,CAAC1e,OAAP,CAAeA,OAAf,CAAuBuP,IAAvB,CAA4B/N,MAA5B,GAAqCkd,MAAM,CAAC1e,OAAP,CAAeA,OAAf,CAAuBuP,IAAvB,CAA4B/N,MAA5B,CAAmC8E,GAAnC,CAAuC,UAAC6C,KAAD,EAAW;CACtF,uDAAWA,KAAX;CAAkB5G,oBAAAA,IAAI,EAAE4G,KAAK,CAAC5G,IAAN,CAAWoN,OAAX,CAAmB,QAAnB,EAA6B,UAA7B;CAAxB;CACA,iBAFoC,CAArC;CAGA;;CAED,kBAAI7I,cAAI,CAACqD,aAAL,CAAmBuU,MAAM,CAAC1e,OAAP,CAAeA,OAAf,CAAuBoM,QAA1C,CAAJ,EACA;CACCsS,gBAAAA,MAAM,CAAC1e,OAAP,CAAeA,OAAf,CAAuBoM,QAAvB,CAAgCiL,MAAhC,GAAyC,CAAzC;CACA;CACD;;CAED,mBAAOqH,MAAP;CACA,WApBe,CAAhB;;CAsBA,UAAA,MAAI,CAACC,UAAL,CAAgBzB,QAAhB;CACA;;CAED,YAAIpW,cAAI,CAACqD,aAAL,CAAmBnK,OAAO,CAACiE,WAA3B,CAAJ,EACA;CACC,cAAMA,YAAW,GAAGmc,iBAAO,CAACiC,KAAR,CACnB,MAAI,CAACF,cAAL,EADmB,EAEnBniB,OAAO,CAACiE,WAFW,CAApB;;CAIA,UAAA,MAAI,CAACqc,cAAL,CAAoBrc,YAApB;CACA;;CAED,YAAIjE,OAAO,CAACsiB,KAAR,KAAkB,SAAlB,IAA+Bre,WAAW,CAACoZ,UAAZ,KAA2B,UAA9D,EACA;CACC,UAAA,MAAI,CAACkF,kBAAL;;CACA,UAAA,MAAI,CAACC,cAAL,CAAoBve,WAAW,CAACoZ,UAAhC;CACA,SAJD,MAMA;CACC,cAAIqB,MAAM,GAAG,MAAI,CAAC0D,UAAL,GAAkBpZ,IAAlB,CAAuB,UAACF,IAAD,EAAU;CAC7C,mBAAOA,IAAI,CAAC9I,OAAL,CAAaS,EAAb,KAAoBwD,WAAW,CAACoZ,UAAvC;CACA,WAFY,CAAb;;CAIA,cAAI,CAACqB,MAAL,EACA;CACCA,YAAAA,MAAM,GAAG,MAAI,CAAC0D,UAAL,GAAkBpZ,IAAlB,CAAuB,UAACF,IAAD,EAAU;CACzC,qBAAOA,IAAI,CAAC9I,OAAL,CAAaS,EAAb,KAAoB,QAA3B;CACA,aAFQ,CAAT;CAGA;;CAED,cAAI,MAAI,CAACghB,aAAL,MAAwBxd,WAAW,CAACoZ,UAAZ,KAA2B,UAAvD,EACA;CACC,YAAA,MAAI,CAACoF,WAAL,CAAiB/D,MAAjB;CACA,WAHD,MAKA;CACC,YAAA,MAAI,CAAC+D,WAAL,CAAiB/D,MAAjB,EAAyB,IAAzB;CACA;CACD;;CAED,QAAA,MAAI,CAACgE,qBAAL,CACCtC,iBAAO,CAACC,KAAR,CAAc,MAAI,CAAC8B,cAAL,EAAd,CADD;CAGA,OAzEF,EA0EEQ,KA1EF,CA0EQ,UAACC,KAAD,EAAW;CACjB,YAAI9b,cAAI,CAACuD,aAAL,CAAmBuY,KAAnB,CAAJ,EACA;CACC,cAAMC,gBAAgB,GAAG,GAAzB;CACA,cAAMC,cAAc,GAAGF,KAAK,CAAC5I,IAAN,CAAW,UAAC+I,SAAD,EAAe;CAChD,mBAAO7M,MAAM,CAAC6M,SAAS,CAACjb,IAAX,CAAN,KAA2BoO,MAAM,CAAC2M,gBAAD,CAAxC;CACA,WAFsB,CAAvB;;CAIA,cAAIC,cAAJ,EACA;CACC,YAAA,MAAI,CAACvD,SAAL,GAAiBJ,IAAjB;;CACA9a,YAAAA,aAAG,CAACjD,IAAJ,CAAS,MAAI,CAACoe,OAAd;CACAnb,YAAAA,aAAG,CAACjD,IAAJ,CAAS,MAAI,CAACQ,OAAd;CACAyC,YAAAA,aAAG,CAAC8a,IAAJ,CAAS,MAAI,CAAC6D,MAAd;CACA3e,YAAAA,aAAG,CAAC0H,MAAJ,CAAW,MAAI,CAACkX,cAAL,EAAX,EAAkC,MAAI,CAACrhB,OAAvC;CACA;CACD;;CAEDshB,QAAAA,OAAO,CAACN,KAAR,CAAcA,KAAd;CACA,OA7FF;CA+FA,WAAKO,sCAAU,CAAC5J,WAAX,GAAyB4F,IAAzB,EAAL;CAEA,iHAAkBnf,OAAlB;CACA;CA1UF;CAAA;CAAA,qCA6UC;CACC,aAAO,KAAKsF,KAAL,CAAWC,QAAX,CAAoB,oBAApB,EAA0C,YAAM;CACtD,eAAOS,aAAG,CAACC,MAAX,sBAGK5F,eAAG,CAACC,UAAJ,CAAe,kCAAf,CAHL;CAOA,OARM,CAAP;CASA,KAvVF;;CAAA;CAAA;CAAA,oCA2VC;CACC,UAAM8iB,GAAG,GAAG,IAAIC,aAAJ,CAAQ/W,MAAM,CAACgX,QAAP,CAAgBC,MAAxB,CAAZ;CACA,aAAOrV,cAAI,CAACqK,SAAL,CAAe6K,GAAG,CAACI,aAAJ,CAAkB,aAAlB,CAAf,CAAP;CACA;CA9VF;CAAA;CAAA,qCAgWkB3B,MAhWlB,EAiWC;CACC,WAAKvc,KAAL,CAAW2b,GAAX,CAAe,eAAf,EAAgC/S,cAAI,CAACkJ,QAAL,CAAcyK,MAAd,CAAhC;CACA;CAnWF;CAAA;CAAA,uCAsWC;CACC,aAAO,KAAKvc,KAAL,CAAW6b,GAAX,CAAe,eAAf,CAAP;CACA;CAxWF;CAAA;CAAA,6CA0W0BU,MA1W1B,EA2WC;CACC,WAAKvc,KAAL,CAAW2b,GAAX,CAAe,uBAAf,EAAwCY,MAAxC;CACA;CA7WF;CAAA;CAAA,+CAgXC;CACC,aAAO,KAAKvc,KAAL,CAAW6b,GAAX,CAAe,uBAAf,CAAP;CACA;CAlXF;CAAA;CAAA,iCAoXc3f,MApXd,EAqXC;CACC,WAAK8D,KAAL,CAAW2b,GAAX,CAAe,QAAf,EAAyBzf,MAAzB;CACA;CAvXF;CAAA;CAAA,mCA0XC;CACC,aAAO,KAAK8D,KAAL,CAAW6b,GAAX,CAAe,QAAf,KAA4B,EAAnC;CACA;CA5XF;CAAA;CAAA,oCA8XiBsC,SA9XjB,EA+XC;CACC,WAAKne,KAAL,CAAW2b,GAAX,CAAe,WAAf,EAA4BwC,SAA5B;CACA;CAjYF;CAAA;CAAA,sCAoYC;CACC,aAAO,KAAKne,KAAL,CAAW6b,GAAX,CAAe,WAAf,KAA+B,EAAtC;CACA;CAtYF;CAAA;CAAA,qCAwYkBtL,UAxYlB,EAyYC;CACC,WAAKvQ,KAAL,CAAW2b,GAAX,CAAe,eAAf,EAAgCpL,UAAhC;CACA;CA3YF;CAAA;CAAA,uCA8YC;CACC,aAAO,KAAKvQ,KAAL,CAAW6b,GAAX,CAAe,eAAf,KAAmC,EAA1C;CACA;CAhZF;CAAA;CAAA,mCAkZgBnhB,OAlZhB,EAmZC;CACC,WAAKsF,KAAL,CAAW2b,GAAX,CAAe,aAAf,EAA8BjhB,OAA9B;CACA;CArZF;CAAA;CAAA,qCAwZC;CACC,aAAOogB,iBAAO,CAACC,KAAR,CAAc,KAAK/a,KAAL,CAAW6b,GAAX,CAAe,aAAf,KAAiC,EAA/C,CAAP;CACA;CA1ZF;CAAA;CAAA,sCA4ZmBlX,UA5ZnB,EA6ZC;CACC,WAAK3E,KAAL,CAAW2b,GAAX,CAAe,gBAAf,EAAiChX,UAAjC;CACA;CA/ZF;CAAA;CAAA,wCAkaC;CACC,aAAO,KAAK3E,KAAL,CAAW6b,GAAX,CAAe,gBAAf,KAAoC,EAA3C;CACA;CApaF;CAAA;CAAA,0CAsauBnhB,OAtavB,EAuaC;CACC,WAAKsF,KAAL,CAAW2b,GAAX,CAAe,oBAAf,EAAqCb,iBAAO,CAACC,KAAR,CAAcrgB,OAAd,CAArC;CACA;CAzaF;CAAA;CAAA,4CA4aC;CACC,aAAO,KAAKsF,KAAL,CAAW6b,GAAX,CAAe,oBAAf,CAAP;CACA,KA9aF;;CAAA;CAAA;CAAA,iCAkbC;CACC,UAAMuC,OAAO,GAAG1iB,oBAAU,CAACC,QAAX,CAAoB,aAApB,CAAhB;;CACA,UAAIyiB,OAAJ,EACA;CACC,YAAI,KAAKC,wBAAL,EAAJ,EACA;CACC,iBAAOD,OAAO,CAACvC,GAAR,CAAY,KAAKwC,wBAAL,EAAZ,CAAP;CACA;;CAED,eAAOD,OAAO,CAAC9a,IAAR,GAAe,CAAf,CAAP;CACA;;CAED,aAAO,IAAP;CACA;CA/bF;CAAA;CAAA,6BAicUpF,KAjcV,EAkcC;CAAA;;CACC,UAAMogB,SAAS,GAAGpgB,KAAK,CAACE,OAAN,EAAlB;CACA,UAAMmgB,gBAAgB,GAAGrgB,KAAK,CAACiH,SAAN,GAAkBlH,QAAlB,EAAzB;CAEAid,MAAAA,OAAO,CACLC,OADF,CACUoD,gBADV,EAEEnK,IAFF,CAEO,UAACpX,KAAD,EAAW;CAChB,YAAIshB,SAAS,CAACjgB,WAAd,EACA;CACC,cAAMM,WAAW,GAAG,MAAI,CAACke,cAAL,EAApB;;CAEA,cACCrb,cAAI,CAACuD,aAAL,CAAmBpG,WAAW,CAACsL,IAAZ,CAAiBjE,YAApC,KACGxE,cAAI,CAACuD,aAAL,CAAmB/H,KAAK,CAACd,MAAzB,CAFJ,EAIA;CAAA,gBACQ8J,YADR,GACwBrH,WAAW,CAACsL,IADpC,CACQjE,YADR;CAECrH,YAAAA,WAAW,CAACsL,IAAZ,CAAiBjE,YAAjB,GAAgCA,YAAY,CAACtI,MAAb,CAAoB,UAACC,GAAD,EAAM6F,IAAN,EAAe;CAClE,kBAAMgb,YAAY,iCAAOhb,IAAP,CAAlB;CACAgb,cAAAA,YAAY,CAAClb,IAAb,GAAoBkb,YAAY,CAAClb,IAAb,CAAkB2B,MAAlB,CAAyB,UAACwZ,IAAD,EAAU;CACtD,uBACCzhB,KAAK,CAACd,MAAN,CAAawY,IAAb,CAAkB,UAAC7Q,KAAD,EAAW;CAC5B,yBAAOA,KAAK,CAAC1I,EAAN,KAAasjB,IAAI,CAAC7a,SAAL,CAAeE,MAAnC;CACA,iBAFD,KAGG9G,KAAK,CAACd,MAAN,CAAawY,IAAb,CAAkB,UAAC7Q,KAAD,EAAW;CAC/B,yBAAOA,KAAK,CAAC1I,EAAN,KAAasjB,IAAI,CAACva,MAAL,CAAYJ,MAAhC;CACA,iBAFE,CAJJ;CAQA,eATmB,CAApB;;CAWA,kBAAI0a,YAAY,CAAClb,IAAb,CAAkB/C,MAAlB,GAA2B,CAA/B,EACA;CACC5C,gBAAAA,GAAG,CAACiE,IAAJ,CAAS4c,YAAT;CACA;;CAED,qBAAO7gB,GAAP;CACA,aAnB+B,EAmB7B,EAnB6B,CAAhC;CAoBA;;CAED,cACC+gB,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,cAAnB,KACG0hB,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,UAAnB,CADH,IAEG0hB,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,QAAnB,CAHJ,EAKA;CACC,gBAAM4hB,eAAe,GAAG,EAAxB;;CACA,gBAAIF,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,UAAnB,CAAJ,EACA;CACC4hB,cAAAA,eAAe,CAAChN,OAAhB,GAA0B5U,KAAK,CAAC8J,QAAN,CAAe8K,OAAzC;CACA,qBAAO5U,KAAK,CAAC8J,QAAN,CAAe8K,OAAtB;CACA;;CAED,iDACIjT,WADJ,EAEI3B,KAFJ,EAGI4hB,eAHJ;CAKA;;CAED,cACCF,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,WAAnB,KACG0hB,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,UAAnB,CADH,IAGC0hB,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,MAAnB,KACG0hB,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,MAAnB,CADH,IAEG0hB,OAAO,CAACC,GAAR,CAAY3hB,KAAK,CAACiN,IAAlB,EAAwB,SAAxB,CANL,EASA;CACC,gBAAM4U,aAAa,GAAG/D,iBAAO,CAACiC,KAAR,CACrBpe,WADqB,EAErB3B,KAFqB,CAAtB;;CAKA,gBAAI0hB,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,aAAnB,CAAJ,EACA;CACC6hB,cAAAA,aAAa,CAAC7H,WAAd,CAA0BJ,KAA1B,GAAkC5Z,KAAK,CAACga,WAAN,CAAkBJ,KAApD;CACA;;CAED,mBAAOiI,aAAP;CACA;;CAED,cAAIH,OAAO,CAACC,GAAR,CAAY3hB,KAAZ,EAAmB,WAAnB,CAAJ,EACA;CAAA,mCACuBA,KAAK,CAACwD,SAD7B;CAAA,gBACQ5C,IADR,oBACQA,GADR;CAAA,gBACa8B,MADb,oBACaA,MADb;CAEC,mBAAO1C,KAAK,CAACwD,SAAN,CAAgB5C,GAAvB;CACA,mBAAOZ,KAAK,CAACwD,SAAN,CAAgBd,MAAvB;CACA,gBAAMsY,OAAO,GAAG;CAACpa,cAAAA,GAAG,EAAHA,IAAD;CAAM8B,cAAAA,MAAM,EAANA;CAAN,aAAhB;CAEA,iDACIf,WADJ;CAECqZ,cAAAA,OAAO,EAAPA,OAFD;CAGC/N,cAAAA,IAAI,gCACAtL,WAAW,CAACsL,IADZ,EAEAjN,KAFA;CAHL;CAQA;;CAED,+CACI2B,WADJ;CAECsL,YAAAA,IAAI,gCACAtL,WAAW,CAACsL,IADZ,EAEAjN,KAFA;CAFL;CAOA;;CAED,eAAOgX,0BAAU,CAACC,WAAX,GACL6K,cADK,CACU,MAAI,CAACjC,cAAL,EADV,EACiC7f,KADjC,EAELoX,IAFK,CAEA,UAACxJ,MAAD,EAAY;CACjB,cAAI5N,KAAK,CAAC6B,UAAV,EACA;CACC+L,YAAAA,MAAM,CAACX,IAAP,GAAc6Q,iBAAO,CAACiC,KAAR,CAAcnS,MAAM,CAACX,IAArB,EAA2BjN,KAA3B,CAAd;CACA;;CAED,cAAIA,KAAK,CAACd,MAAV,EACA;CACC0O,YAAAA,MAAM,CAACX,IAAP,CAAY/N,MAAZ,GAAqB0O,MAAM,CAACX,IAAP,CAAY/N,MAAZ,CAAmB8E,GAAnB,CAAuB,UAAC6C,KAAD,EAAQmG,KAAR,EAAkB;CAC7D,qBAAO8Q,iBAAO,CAACiC,KAAR,CAAclZ,KAAd,EAAqB7G,KAAK,CAACd,MAAN,CAAa8N,KAAb,CAArB,CAAP;CACA,aAFoB,CAArB;CAGA;;CAED,iBAAOY,MAAP;CACA,SAhBK,CAAP;CAiBA,OAzHF,EA0HEwJ,IA1HF,CA0HO,UAACxJ,MAAD,EAAY;CACjB,QAAA,MAAI,CAACoQ,cAAL,CAAoBpQ,MAApB;;CACA,QAAA,MAAI,CAACmU,UAAL,GAAkBC,MAAlB,CAAyBlE,iBAAO,CAACC,KAAR,CAAcnQ,MAAM,CAACX,IAArB,CAAzB;CACA,OA7HF;CA8HA;CApkBF;CAAA;CAAA,kDAolBC;CAAA;;CACC,aAAO,KAAKjK,KAAL,CAAWC,QAAX,CAAoB,0BAApB,EAAgD,YAAM;CAC5D,eAAO,MAAI,CAAC6b,iBAAL,GAAyBmD,eAAzB,CAAyC3b,IAAzC,CAA8CtC,GAA9C,CAAkD,UAACwC,IAAD,EAAU;CAClE,iBAAO;CAACvG,YAAAA,IAAI,EAAEuG,IAAI,CAACvG,IAAZ;CAAkBD,YAAAA,KAAK,EAAEwG,IAAI,CAACrI;CAA9B,WAAP;CACA,SAFM,CAAP;CAGA,OAJM,CAAP;CAKA;CA1lBF;CAAA;CAAA,gDA6lBC;CAAA;;CACC,aAAO,KAAK6E,KAAL,CAAWC,QAAX,CAAoB,0BAApB,EAAgD,YAAM;CAAA,oCACvC,MAAI,CAAC6b,iBAAL,EADuC;CAAA,YACrDoD,UADqD,yBACrDA,UADqD;;CAE5D,YAAI1d,cAAI,CAACqD,aAAL,CAAmBqa,UAAnB,KAAkC1d,cAAI,CAACuD,aAAL,CAAmBma,UAAU,CAAC5b,IAA9B,CAAtC,EACA;CACC,iBAAO4b,UAAU,CAAC5b,IAAX,CAAgBtC,GAAhB,CAAoB,UAACwC,IAAD,EAAU;CACpC,mBAAO;CAACvG,cAAAA,IAAI,EAAEuG,IAAI,CAACvG,IAAZ;CAAkBD,cAAAA,KAAK,EAAEwG,IAAI,CAACrI;CAA9B,aAAP;CACA,WAFM,CAAP;CAGA;;CAED,eAAO,EAAP;CACA,OAVM,CAAP;CAWA;CAzmBF;CAAA;CAAA,+BA2mBYA,EA3mBZ,EA4mBC;CAAA;;CACC,UAAMgkB,OAAO,GAAG,KAAKJ,UAAL,EAAhB;;CACA,UAAII,OAAJ,EACA;CACCA,QAAAA,OAAO,CAACC,IAAR,GAAe,KAAf;CACAD,QAAAA,OAAO,CAAC7B,KAAR,GAAgB,KAAhB;CACA;;CAED,UAAIniB,EAAE,KAAK,mBAAX,EACA;CACC,eAAO,IAAIV,sBAAJ,CAA2B;CACjCgC,UAAAA,wBAAwB,EAAE,KAAK4iB,2BAAL,EADO;CAEjC9iB,UAAAA,MAAM,EAAE;CACPzB,YAAAA,KAAK,EAAE4d,iBAAiB,CAAC4G,QAAlB,CAA2B,KAAKzC,cAAL,GAAsB5S,IAAtB,CAA2BnP,KAAtD,CADA;CAEP4B,YAAAA,IAAI,EAAEgc,iBAAiB,CAAC4G,QAAlB,CAA2B,KAAKzC,cAAL,GAAsB5S,IAAtB,CAA2BvN,IAAtD,CAFC;CAGPW,YAAAA,aAAa,EAAE,KAAKwf,cAAL,GAAsB5S,IAAtB,CAA2B5M;CAHnC;CAFyB,SAA3B,CAAP;CAQA;;CAED,UAAIlC,EAAE,KAAK,iBAAX,EACA;CACC,eAAO,IAAIgE,cAAJ,CAAmB;CACzB5C,UAAAA,MAAM,EAAE;CACPqB,YAAAA,GAAG,EAAE,KAAKif,cAAL,GAAsB7E,OAAtB,CAA8Bpa,GAD5B;CAEP8B,YAAAA,MAAM,EAAE,KAAKmd,cAAL,GAAsB7E,OAAtB,CAA8BtY,MAF/B;CAGPJ,YAAAA,GAAG,EAAEsJ,cAAI,CAACqK,SAAL,CAAe,KAAK4J,cAAL,GAAsB5S,IAAtB,CAA2BzJ,SAA3B,CAAqClB,GAApD;CAHE;CADiB,SAAnB,CAAP;CAOA;;CAED,UAAInE,EAAE,KAAK,YAAX,EACA;CACC,eAAO,IAAIoD,iBAAJ,CAAsB;CAC5BI,UAAAA,WAAW,EAAE,KAAKke,cAAL,EADe;CAE5Bje,UAAAA,cAAc,EAAE,KAAK2gB,aAAL,EAFY;CAG5BhjB,UAAAA,MAAM,EAAE;CACPsC,YAAAA,UAAU,EAAE,KAAKge,cAAL,GAAsB5S,IAAtB,CAA2BpL;CADhC;CAHoB,SAAtB,CAAP;CAOA;;CAED,UAAI1D,EAAE,KAAK,WAAX,EACA;CACC,eAAO,IAAIwG,gBAAJ,CAAqB;CAC3BY,UAAAA,MAAM,EAAE,KAAKsa,cAAL,GAAsB2C,SAAtB,CAAgCC,KADb;CAE3BljB,UAAAA,MAAM,EAAE;CAFmB,SAArB,CAAP;CAIA;;CAED,UAAIpB,EAAE,KAAK,QAAX,EACA;CACC,eAAO,IAAIsH,aAAJ,CAAkB;CACxBI,UAAAA,SAAS,EAAE,KAAK6c,YAAL,EADa;CAExB/gB,UAAAA,WAAW,EAAE,KAAKke,cAAL,EAFW;CAGxBja,UAAAA,aAAa,EAAE,KAAKA,aAAL,EAHS;CAIxBrG,UAAAA,MAAM,EAAE;CACPL,YAAAA,MAAM,EAAE,KAAK2gB,cAAL,GAAsB5S,IAAtB,CAA2B/N;CAD5B;CAJgB,SAAlB,CAAP;CAQA;;CAED,UAAIf,EAAE,KAAK,cAAX,EACA;CACC,eAAO,IAAI4H,kBAAJ,CAAuB;CAC7B7G,UAAAA,MAAM,EAAE,KAAK2gB,cAAL,GAAsB5S,IAAtB,CAA2B/N,MADN;CAE7BK,UAAAA,MAAM,EAAE,KAAKsgB,cAAL,GAAsB5S,IAAtB,CAA2BjE,YAFN;CAG7BrB,UAAAA,UAAU,EAAE,KAAKmX,iBAAL;CAHiB,SAAvB,CAAP;CAKA;;CAED,UAAI3gB,EAAE,KAAK,SAAX,EACA;CACC,YAAMwkB,cAAc,GAAG,IAAI5W,cAAJ,CAAmB;CACzC7M,UAAAA,MAAM,EAAE,KAAK2gB,cAAL,GAAsB5S,IAAtB,CAA2B/N,MADM;CAEzCK,UAAAA,MAAM,EAAE,KAAKsgB,cAAL,GAAsBjS;CAFW,SAAnB,CAAvB;CAKA+U,QAAAA,cAAc,CACZzgB,SADF,CACY,eADZ,EAC6B,YAAM;CACjCigB,UAAAA,OAAO,CAACS,SAAR,GAAoB,OAAI,CAAC/C,cAAL,GAAsBjS,MAAtB,CAA6BhD,OAA7B,CAAqCxH,IAAzD;CACA+e,UAAAA,OAAO,CAACC,IAAR,GAAe,CAACD,OAAO,CAACC,IAAxB;CACAD,UAAAA,OAAO,CAAC7B,KAAR,GAAgB,KAAhB;CACA,SALF,EAMEpe,SANF,CAMY,eANZ,EAM6B,YAAM;CACjCigB,UAAAA,OAAO,CAACS,SAAR,GAAoB,OAAI,CAAC/C,cAAL,GAAsBjS,MAAtB,CAA6B9C,OAA7B,CAAqC1H,IAAzD;CACA+e,UAAAA,OAAO,CAAC7B,KAAR,GAAgB,CAAC6B,OAAO,CAAC7B,KAAzB;CACA6B,UAAAA,OAAO,CAACC,IAAR,GAAe,KAAf;CACA,SAVF;CAYA,eAAOO,cAAP;CACA;;CAED,UAAIxkB,EAAE,KAAK,OAAX,EACA;CACC,eAAO,IAAIqS,YAAJ,CAAiB;CACvBtR,UAAAA,MAAM,EAAE,KAAK2gB,cAAL,GAAsB5S,IAAtB,CAA2B/N,MADZ;CAEvBK,UAAAA,MAAM,EAAE,KAAKsgB,cAAL,GAAsB5M;CAFP,SAAjB,CAAP;CAIA;;CAED,UAAI9U,EAAE,KAAK,UAAX,EACA;CACC,eAAO,IAAI+U,QAAJ,CAAa;CACnBhU,UAAAA,MAAM,EAAE,KAAK2gB,cAAL,GAAsB5S,IAAtB,CAA2B/N,MADhB;CAEnBK,UAAAA,MAAM,EAAE;CAFW,SAAb,CAAP;CAIA;;CAED,UAAIpB,EAAE,KAAK,KAAX,EACA;CACC,eAAO,IAAIoW,UAAJ,CAAe;CACrBrV,UAAAA,MAAM,EAAE,KAAK2gB,cAAL,GAAsB5S,IAAtB,CAA2B/N,MADd;CAErBiiB,UAAAA,SAAS,EAAE,KAAK0B,eAAL,EAFU;CAGrBtP,UAAAA,UAAU,EAAE,KAAKuP,gBAAL,EAHS;CAIrBld,UAAAA,aAAa,EAAE,KAAKA,aAAL,EAJM;CAKrBrG,UAAAA,MAAM,EAAE;CACPwV,YAAAA,MAAM,EAAE,KAAK8K,cAAL,GAAsB/V,QAAtB,CAA+BiL,MADhC;CAEPQ,YAAAA,iBAAiB,EAAE,KAAKsK,cAAL,GAAsB/V,QAAtB,CAA+BkM,IAA/B,CAAoCT,iBAApC,IAAyD,GAFrE;CAGPjC,YAAAA,QAAQ,EAAE,KAAKuM,cAAL,GAAsB/V,QAAtB,CAA+BkM,IAA/B,CAAoC1C,QAHvC;CAIPsB,YAAAA,OAAO,EAAE,KAAKiL,cAAL,GAAsBjL,OAAtB,CAA8BtS,GAJhC;CAKPqS,YAAAA,aAAa,EAAE,KAAKkL,cAAL,GAAsB/V,QAAtB,CAA+B6K;CALvC;CALa,SAAf,CAAP;CAaA;;CAED,UAAIxW,EAAE,KAAK,gBAAX,EACA;CACC,eAAO,IAAI+X,aAAJ,CAAkB;CACxBrQ,UAAAA,SAAS,EAAE,KAAK6c,YAAL,EADa;CAExB/gB,UAAAA,WAAW,EAAE,KAAKke,cAAL,EAFW;CAGxBlY,UAAAA,UAAU,EAAE,KAAKmX,iBAAL,EAHY;CAIxBlZ,UAAAA,aAAa,EAAE,KAAKA,aAAL,EAJS;CAKxBnG,UAAAA,wBAAwB,EAAE,KAAKsjB,yBAAL,EALF;CAMxBxjB,UAAAA,MAAM,EAAE;CACPL,YAAAA,MAAM,EAAE,KAAK2gB,cAAL,GAAsBmD;CADvB;CANgB,SAAlB,CAAP;CAUA;;CAED,UAAI7kB,EAAE,KAAK,UAAX,EACA;CACC,eAAO,IAAIiY,eAAJ,CAAoB;CAC1BzU,UAAAA,WAAW,EAAE,KAAKke,cAAL;CADa,SAApB,CAAP;CAGA;;CAED,UAAI1hB,EAAE,KAAK,IAAX,EACA;CACC,eAAO,IAAIyZ,SAAJ,CAAc;CACpBjW,UAAAA,WAAW,EAAE,KAAKke,cAAL;CADO,SAAd,CAAP;CAGA;;CAED,UAAI1hB,EAAE,KAAK,UAAX,EACA;CACC,eAAO,IAAI0Z,QAAJ,CAAa;CACnBlQ,UAAAA,UAAU,EAAE,KAAKmX,iBAAL,EADO;CAEnBvf,UAAAA,MAAM,EAAE,KAAKsgB,cAAL,GAAsB3H;CAFX,SAAb,CAAP;CAIA;;CAED,UAAI/Z,EAAE,KAAK,OAAX,EACA;CACC,eAAO,IAAIgb,KAAJ,CAAU;CAChBxX,UAAAA,WAAW,EAAE,KAAKke,cAAL,EADG;CAEhBlY,UAAAA,UAAU,EAAE,KAAKmX,iBAAL,EAFI;CAGhBvf,UAAAA,MAAM,EAAE;CACPU,YAAAA,IAAI,EAAE,KAAK4f,cAAL,GAAsB5f,IADrB;CAEPc,YAAAA,OAAO,EAAE,KAAK8e,cAAL,GAAsB5S,IAAtB,CAA2BlM,OAF7B;CAGP6Y,YAAAA,KAAK,EAAE,KAAKiG,cAAL,GAAsB7F,WAAtB,CAAkCJ,KAHlC;CAIPG,YAAAA,QAAQ,EAAE,KAAK8F,cAAL,GAAsB5S,IAAtB,CAA2B8M;CAJ9B;CAHQ,SAAV,CAAP;CAUA;;CAED,aAAO,IAAP;CACA;CA7xBF;CAAA;CAAA,gCA+xBaqC,MA/xBb,EAgyBC;CAAA;;CAAA,UAD4B6G,WAC5B,uEAD0C,KAC1C;CACC,WAAKnD,UAAL,GAAkBvZ,OAAlB,CAA0B,UAAC2c,aAAD,EAAmB;CAC5CA,QAAAA,aAAa,CAACC,UAAd;CACA,OAFD;CAIA/G,MAAAA,MAAM,CAACgH,QAAP;;CAEA,UAAI5e,cAAI,CAACqD,aAAL,CAAmBuU,MAAM,CAAC1e,OAAP,CAAeA,OAAlC,KAA8C,CAACulB,WAAnD,EACA;CACC,aAAKvD,UAAL;CACA,YAAM2D,mBAAmB;CACxBpW,UAAAA,IAAI,EAAE;CADkB,WAErB6Q,iBAAO,CAACC,KAAR,CAAc3B,MAAM,CAAC1e,OAAP,CAAeA,OAA7B,CAFqB,CAAzB;CAKA,YAAI4lB,iBAAiB,GAAG,EAAxB;;CAEA,YAAI5B,OAAO,CAACC,GAAR,CAAY0B,mBAAmB,CAACpW,IAAhC,EAAsC,YAAtC,CAAJ,EACA;CACC,cAAMsW,gBAAgB,GAAG,KAAKhB,aAAL,EAAzB;CACAe,UAAAA,iBAAiB,kCAAOD,mBAAmB,CAACpW,IAApB,CAAyBpL,UAAhC,CAAjB;CAEAwhB,UAAAA,mBAAmB,CAACpW,IAApB,CAAyBpL,UAAzB,GACCwhB,mBAAmB,CAACpW,IAApB,CAAyBpL,UAAzB,CAAoCmC,GAApC,CAAwC,UAACwC,IAAD,EAAOwG,KAAP,EAAiB;CACxD,mBAAOuW,gBAAgB,CAACvW,KAAD,CAAhB,CAAwB7O,EAA/B;CACA,WAFD,CADD;CAKA;;CAED6Y,QAAAA,0BAAU,CAACC,WAAX,GACE6K,cADF,CACiB,KAAKjC,cAAL,EADjB,EACwCwD,mBAAmB,CAACpW,IAD5D,EAEEmK,IAFF,CAEO,UAACxJ,MAAD,EAAY;CACjB,cAAI8T,OAAO,CAACC,GAAR,CAAY0B,mBAAmB,CAACpW,IAAhC,EAAsC,QAAtC,CAAJ,EACA;CACC,mBAAOoW,mBAAmB,CAACpW,IAApB,CAAyB/N,MAAhC;CACA;;CAED,cAAIwiB,OAAO,CAACC,GAAR,CAAY0B,mBAAmB,CAACpW,IAAhC,EAAsC,YAAtC,CAAJ,EACA;CACC,mBAAOoW,mBAAmB,CAACpW,IAApB,CAAyBpL,UAAhC;CACA;;CAED,cAAM2hB,eAAe,GAAG1F,iBAAO,CAACiC,KAAR,CAAc,EAAd,EAAkBnS,MAAlB,EAA0ByV,mBAA1B,CAAxB;CAEAG,UAAAA,eAAe,CAACvW,IAAhB,CAAqBpL,UAArB,GACC2hB,eAAe,CAACvW,IAAhB,CAAqBpL,UAArB,CAAgCmC,GAAhC,CAAoC,UAACyf,SAAD,EAAYzW,KAAZ,EAAsB;CACzD,iDACIyW,SADJ,EAEIH,iBAAiB,CAACtW,KAAD,CAFrB;CAIA,WALD,CADD;;CASA,UAAA,OAAI,CAACgR,cAAL,CAAoBwF,eAApB;;CACA,UAAA,OAAI,CAACzB,UAAL,GAAkBC,MAAlB,CAAyBlE,iBAAO,CAACC,KAAR,CAAcyF,eAAe,CAACvW,IAA9B,CAAzB;;CACA,2HAAkBmP,MAAlB;;CACA,UAAA,OAAI,CAACwD,UAAL;CACA,SA5BF;CA6BA,OAnDD,MAqDA;CACC,mHAAkBxD,MAAlB;CACA;CACD;CA/1BF;CAAA;CAAA,kCAk2BC;CAAA;;CACC,aAAO,KAAKpZ,KAAL,CAAWC,QAAX,CAAoB,UAApB,EAAgC,YAAM;CAC5C,eAAO,OAAI,CAAC2Z,eAAL,GAAuB8G,IAAvB,CAA4BvZ,aAA5B,CAA0C,0BAA1C,CAAP;CACA,OAFM,CAAP;CAGA;CAt2BF;CAAA;CAAA,qCAy2BC;CAAA;;CACC,aAAO,KAAKnH,KAAL,CAAWC,QAAX,CAAoB,gBAApB,EAAsC,YAAM;CAClD,eAAO2I,cAAI,CAACqK,SAAL,CAAelU,aAAG,CAACsI,IAAJ,CAAS,OAAI,CAACsZ,WAAL,EAAT,EAA6B,wBAA7B,CAAf,CAAP;CACA,OAFM,CAAP;CAGA;CA72BF;CAAA;CAAA,8CAg3BC;CAAA,UACQ5O,MADR,GACkB,KAAK8K,cAAL,GAAsB/V,QADxC,CACQiL,MADR;CAEC,UAAM6O,UAAU,GAAG,KAAK9E,iBAAL,GAAyBhV,QAAzB,CAAkC+Z,OAAlC,CAA0Cnd,IAA1C,CAA+C,UAACF,IAAD,EAAU;CAC3E,eAAOoN,MAAM,CAACmB,MAAD,CAAN,KAAmBnB,MAAM,CAACpN,IAAI,CAACrI,EAAN,CAAhC;CACA,OAFkB,CAAnB;CAIA,aAAOylB,UAAU,CAAC3jB,IAAlB;CACA;CAv3BF;CAAA;CAAA,+CA03BC;CACC,aAAO+W,0BAAU,CACfC,WADK,GAEL6M,WAFK,CAEO,KAAKjE,cAAL,EAFP,EAGLzI,IAHK,CAGA,UAACxJ,MAAD,EAAY;CACjB,eAAOA,MAAP;CACA,OALK,CAAP;CAMA;CAj4BF;CAAA;CAAA,6CAm4B0BmW,qBAn4B1B,EAo4BC;CAAA;;CACC,aAAO,IAAI7F,OAAJ,CAAY,UAACC,OAAD,EAAa;CAC/B,YAAM6F,IAAI,GAAG,SAAPA,IAAO,CAACC,UAAD,EAA4B;CACxCA,UAAAA,UAAU,CAACC,KAAX;CACA/F,UAAAA,OAAO,CAAC,IAAD,CAAP;CACA,SAHD;;CAKA,YAAMgG,QAAQ,GAAG,SAAXA,QAAW,CAACF,UAAD,EAA4B;CAC5CA,UAAAA,UAAU,CAACC,KAAX;CACA/F,UAAAA,OAAO,CAAC,KAAD,CAAP;CACA,SAHD;;CAKA,YAAMiG,kBAAkB,GAAI,YAAM;CACjC,cAAMC,UAAU,GAAGtmB,eAAG,CAACC,UAAJ,CAAe,+CAAf,EACjBqP,OADiB,CACT,cADS,EACO,OAAI,CAACiX,uBAAL,EADP,CAAnB;CAGA,iBAAOvmB,eAAG,CAACC,UAAJ,CAAe,2CAAf,EACLqP,OADK,CACG,cADH,EACmBgX,UADnB,CAAP;CAEA,SAN0B,EAA3B;;CAQA,YAAME,WAAW,GAAI,YAAM;CAC1B,cAAMrlB,MAAM,GAAG,+BAAI6kB,qBAAJ,EAA2B/f,GAA3B,CAA+B,UAAC6C,KAAD,EAAW;CACxD,mBAAO9I,eAAG,CAACC,UAAJ,CAAe,8CAAf,EACLqP,OADK,CACG,aADH,EACkBxG,KADlB,CAAP;CAEA,WAHc,CAAf;;CAKA,cAAIkd,qBAAqB,CAACxgB,MAAtB,GAA+B,CAAnC,EACA;CACC,gBAAMihB,SAAS,GAAGtlB,MAAM,CAACulB,GAAP,EAAlB;CAEA,mBAAO1mB,eAAG,CACRC,UADK,CACM,oCADN,EAELqP,OAFK,CAEG,cAFH,EAEmBnO,MAAM,CAACwlB,IAAP,CAAY,IAAZ,CAFnB,EAGLrX,OAHK,CAGG,aAHH,EAGkBmX,SAHlB,CAAP;CAIA;;CAED,iBAAOzmB,eAAG,CACRC,UADK,CACM,sCADN,EAELqP,OAFK,CAEG,SAFH,EAEcnO,MAAM,CAACwlB,IAAP,CAAY,IAAZ,CAFd,CAAP;CAGA,SAnBmB,EAApB;;CAqBA1a,QAAAA,MAAM,CAACC,GAAP,CAAWrL,EAAX,CAAcgB,EAAd,CAAiB+kB,OAAjB,CAAyBC,UAAzB,CAAoCC,OAApC,WACIT,kBADJ,qBACiCG,WADjC,GAECxmB,eAAG,CAACC,UAAJ,CAAe,qCAAf,CAFD,EAGCgmB,IAHD,EAICjmB,eAAG,CAACC,UAAJ,CAAe,+CAAf,CAJD,EAKCmmB,QALD;CAOA,OA/CM,CAAP;CAgDA;CAr7BF;CAAA;CAAA,kDAu7B+BW,MAv7B/B,EAw7BC;CACC,UAAM7mB,OAAO,GAAG6mB,MAAM,CAACpkB,MAAP,CAAc,UAACC,GAAD,EAAM6F,IAAN,EAAe;CAC5C,yBAAU7F,GAAV,iBAAoB6F,IAApB;CACA,OAFe,EAEb,EAFa,CAAhB;CAIAwD,MAAAA,MAAM,CAACC,GAAP,CAAWrL,EAAX,CAAcgB,EAAd,CAAiB+kB,OAAjB,CAAyBC,UAAzB,CAAoCG,KAApC,CAA0C9mB,OAA1C;CACA;CA97BF;CAAA;CAAA,kCAi8BC;CAAA;;CACC8D,MAAAA,aAAG,CAACiK,QAAJ,CAAa,KAAKgZ,aAAL,GAAqBhX,MAAlC,EAA0C,aAA1C;CAEA,WAAKiX,wBAAL,GACE7N,IADF,CACO,UAACxJ,MAAD,EAAY;CACjB,YAAIpJ,cAAI,CAACuD,aAAL,CAAmB6F,MAAM,CAACsX,IAAP,CAAYJ,MAA/B,CAAJ,EACA;CACC,UAAA,OAAI,CAACK,6BAAL,CAAmCvX,MAAM,CAACsX,IAAP,CAAYJ,MAA/C;;CACA,iBAAO,KAAP;CACA;;CAED,YAAItgB,cAAI,CAACuD,aAAL,CAAmB6F,MAAM,CAACsX,IAAP,CAAYhmB,MAA/B,CAAJ,EACA;CACC,cAAMkmB,WAAW,GAAGxX,MAAM,CAACsX,IAAP,CAAYhmB,MAAZ,CAAmB8E,GAAnB,CAAuB,UAAC6C,KAAD,EAAW;CACrD,mBAAOA,KAAK,CAACwe,KAAb;CACA,WAFmB,CAApB;CAIA,iBAAO,OAAI,CAACC,wBAAL,CAA8BF,WAA9B,CAAP;CACA;;CAED,eAAO,IAAP;CACA,OAlBF,EAmBEhO,IAnBF,CAmBO,UAACmO,WAAD,EAAiB;CACtB,YAAIA,WAAJ,EACA;CACC,cAAMzE,GAAG,GAAG,IAAIC,aAAJ,CAAQ/W,MAAM,CAACC,GAAP,CAAW+W,QAAX,CAAoBwE,QAApB,EAAR,CAAZ;CACA1E,UAAAA,GAAG,CAAC2E,gBAAJ,CAAqB,aAArB;CACAzb,UAAAA,MAAM,CAACC,GAAP,CAAWyb,OAAX,CAAmBC,YAAnB,CAAgC,IAAhC,EAAsC7b,QAAQ,CAAChM,KAA/C,EAAsDgjB,GAAG,CAAC0E,QAAJ,EAAtD;;CAEA,cAAMI,cAAc,GAAG,OAAI,CAACC,qBAAL,EAAvB;;CACA,cAAMhI,cAAc,GAAG,OAAI,CAACgC,cAAL,EAAvB;;CACA,cAAMniB,OAAO,GAAI,YAAM;CACtB,gBAAI,CAAC,OAAI,CAACse,aAAL,EAAL,EACA;CACC,kBAAM8J,aAAa,GAAGhI,iBAAO,CAACC,KAAR,CAAcF,cAAd,CAAtB;CACAiI,cAAAA,aAAa,CAAC7Y,IAAd,CAAmB8Y,MAAnB,GAA4BjI,iBAAO,CAACC,KAAR,CAAc6H,cAAc,CAAC3Y,IAAf,CAAoB8Y,MAAlC,CAA5B;CACA,qBAAOD,aAAP;CACA;;CAED,mBAAOjI,cAAP;CACA,WATe,EAAhB;;CAWA,eAAK7G,0BAAU,CAACC,WAAX,GACH+O,WADG,CACStoB,OADT,EAEH0Z,IAFG,CAEE,UAACxJ,MAAD,EAAY;CACjB,YAAA,OAAI,CAACoQ,cAAL,CAAoBpQ,MAApB;;CACAoJ,YAAAA,0BAAU,CAACC,WAAX,GAAyBC,UAAzB,CAAoCtJ,MAAM,CAACzP,EAA3C;CACA4D,YAAAA,aAAG,CAACwW,WAAJ,CAAgB,OAAI,CAACyM,aAAL,GAAqBhX,MAArC,EAA6C,aAA7C;CACA,iBAAK,OAAI,CAAC6O,IAAL,EAAL;CACA,WAPG,CAAL;;CASA,cAAI,OAAI,CAACoJ,cAAL,MAAyB,OAAI,CAACjK,aAAL,EAA7B,EACA;CACC,YAAA,OAAI,CAACkK,qBAAL;CACA;CACD;CACD,OArDF;CAsDA;CA1/BF;CAAA;CAAA,4CA6/BC;CACCnkB,MAAAA,aAAG,CAACsI,IAAJ,CAAS,KAAKsZ,WAAL,EAAT,EAA6B,wBAA7B,EAAuD,GAAvD;CACA,WAAK3gB,KAAL,CAAW2b,GAAX,CAAe,gBAAf,EAAiC,KAAjC;CAEAN,MAAAA,uBAAO,CACLpH,WADF,GAEE/P,MAFF,CAGE,6BAHF,EAIE;CACC8X,QAAAA,KAAK,EAAE,KAAKpC,eAAL,GAAuBze,EAD/B;CAEC8O,QAAAA,IAAI,EAAE;CACL,4BAAkB;CACjBkZ,YAAAA,KAAK,EAAE;CACN,wCAA0B;CADpB;CADU;CADb,SAFP;CASCC,QAAAA,GAAG,EAAE,KAAKxJ,eAAL,GAAuBwJ,GAT7B;CAUCC,QAAAA,MAAM,EAAE,KAAKzJ,eAAL,GAAuByJ;CAVhC,OAJF,EAgBE;CAAC7gB,QAAAA,IAAI,EAAE,KAAKoX,eAAL,GAAuB0J,QAAvB,CAAgC9gB;CAAvC,OAhBF;CAkBA;CAnhCF;CAAA;CAAA,oCAshCC;CACC,WAAKuc,UAAL,GAAkBC,MAAlB,CAAyB,KAAK6D,qBAAL,GAA6B5Y,IAAtD;CACA,WAAK,KAAK4P,IAAL,EAAL;CACA;CAzhCF;CAAA;CAAA,6BAskBiB7c,KAtkBjB,EAukBC;CACC,UAAIwE,cAAI,CAACC,cAAL,CAAoBzE,KAApB,CAAJ,EACA;CACC,eAAO4L,cAAI,CAACiC,MAAL,CAAY7N,KAAZ,EACLqN,OADK,CACG,2BADH,EACgC,EADhC,EAELA,OAFK,CAEG,6BAFH,EAEkC,EAFlC,EAGLA,OAHK,CAGG,WAHH,EAGgB,EAHhB,CAAP;CAIA;;CAED,aAAOrN,KAAP;CACA;CAjlBF;CAAA;CAAA,EAAuCumB,gDAAvC;;;;;;;;"}