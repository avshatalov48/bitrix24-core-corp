this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,t,n){"use strict";function i(e){var n=e.deltaX;var i=-1*e.deltaY;if(t.Type.isUndefined(n)||t.Type.isUndefined(i)){n=-1*e.wheelDeltaX/6;i=e.wheelDeltaY/6}if(e.deltaMode===1){n*=10;i*=10}if(Number.isNaN(n)&&Number.isNaN(i)){n=0;i=e.wheelDelta}return{x:n,y:i}}function a(e){var t=300;return Math.min(400/500*e,t)}function o(e,n){return new Promise(function(i){var o=0;var s=0;if(n){var l=20;var r=Math.max(parseInt(t.Dom.style(n,"margin-top")),l);var u=e.scrollTop;if(!(e instanceof HTMLIFrameElement)){o=n.offsetTop-(e.offsetTop||0)-r}else{u=e.contentWindow.scrollY;o=BX.pos(n).top-r-100}s=a(Math.abs(o-u));var d=Math.max(u,0);var c=Math.max(o,0);if(d!==c){new BX.easing({duration:s,start:{scrollTop:d},finish:{scrollTop:c},step:function t(n){if(!(e instanceof HTMLIFrameElement)){e.scrollTop=n.scrollTop}else{e.contentWindow.scrollTo(0,Math.max(n.scrollTop,0))}}}).animate();setTimeout(i,s)}else{i()}}else{i()}})}function s(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-panel-content-subtitle">',"</div>\n\t\t\t"]);s=function t(){return e};return e}function l(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-panel-content-element landing-ui-panel-content-footer"></div>\n\t\t']);l=function t(){return e};return e}function r(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-panel-content-body-content"></div>\n\t\t']);r=function t(){return e};return e}function u(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-panel-content-body-sidebar"></div>\n\t\t']);u=function t(){return e};return e}function d(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-panel-content-element landing-ui-panel-content-body"></div>\n\t\t']);d=function t(){return e};return e}function c(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-panel-content-title"></div>\n\t\t']);c=function t(){return e};return e}function h(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-panel-content-element landing-ui-panel-content-header"></div>\n\t\t']);h=function t(){return e};return e}function v(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-panel-content-overlay landing-ui-hide" data-is-shown="false" hidden></div>\n\t\t']);v=function t(){return e};return e}var f=function(e){babelHelpers.inherits(n,e);babelHelpers.createClass(n,null,[{key:"createOverlay",value:function e(){return t.Tag.render(v())}},{key:"createHeader",value:function e(){return t.Tag.render(h())}},{key:"createTitle",value:function e(){return t.Tag.render(c())}},{key:"createBody",value:function e(){return t.Tag.render(d())}},{key:"createSidebar",value:function e(){return t.Tag.render(u())}},{key:"createContent",value:function e(){return t.Tag.render(r())}},{key:"createFooter",value:function e(){return t.Tag.render(l())}},{key:"calculateTransitionDuration",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return a(t)}},{key:"scrollTo",value:function e(t,n){return o(t,n)}},{key:"getDeltaFromEvent",value:function e(t){return i(t)}}]);function n(e){var i;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};babelHelpers.classCallCheck(this,n);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this,e,a));t.Dom.addClass(i.layout,"landing-ui-panel-content");i.data=Object.freeze(a);i.overlay=n.createOverlay();i.header=n.createHeader();i.title=n.createTitle();i.body=n.createBody();i.footer=n.createFooter();i.sidebar=n.createSidebar();i.content=n.createContent();i.closeButton=new BX.Landing.UI.Button.BaseButton("close",{className:"landing-ui-panel-content-close",onClick:function e(){void i.hide();i.emit("onCancel")},attrs:{title:BX.Landing.Loc.getMessage("LANDING_TITLE_OF_SLIDER_CLOSE")}});i.forms=new BX.Landing.UI.Collection.FormCollection;i.buttons=new BX.Landing.UI.Collection.ButtonCollection;i.sidebarButtons=new BX.Landing.UI.Collection.ButtonCollection;i.wheelEventName=t.Type.isNil(window.onwheel)?window.onwheel:window.onmousewheel;i.onMouseWheel=i.onMouseWheel.bind(babelHelpers.assertThisInitialized(i));i.onMouseEnter=i.onMouseEnter.bind(babelHelpers.assertThisInitialized(i));i.onMouseLeave=i.onMouseLeave.bind(babelHelpers.assertThisInitialized(i));t.Dom.removeClass(i.layout,"landing-ui-hide");t.Dom.addClass(i.overlay,"landing-ui-hide");t.Dom.append(i.sidebar,i.body);t.Dom.append(i.content,i.body);t.Dom.append(i.header,i.layout);t.Dom.append(i.title,i.header);t.Dom.append(i.body,i.layout);t.Dom.append(i.footer,i.layout);t.Dom.append(i.closeButton.layout,i.layout);if(t.Type.isString(a.className)){t.Dom.addClass(i.layout,[a.className,"".concat(a.className,"-overlay")])}if(t.Type.isString(a.subTitle)&&a.subTitle!==""){i.subTitle=t.Tag.render(s(),a.subTitle);t.Dom.append(i.subTitle,i.header);t.Dom.addClass(i.layout,"landing-ui-panel-content-with-subtitle")}i.init();t.Event.bind(window.top,"keydown",i.onKeyDown.bind(babelHelpers.assertThisInitialized(i)));BX.Landing.PageObject.getInstance().view().then(function(e){void(!!e&&t.Event.bind(e.contentWindow,"keydown",i.onKeyDown.bind(babelHelpers.assertThisInitialized(i))))},console.warn);if(i.data.scrollAnimation){i.scrollObserver=new IntersectionObserver(i.onIntersecting.bind(babelHelpers.assertThisInitialized(i)))}return i}babelHelpers.createClass(n,[{key:"init",value:function e(){var n=this;t.Dom.append(this.overlay,document.body);t.Event.bind(this.overlay,"click",function(){n.emit("onCancel");void n.hide()});t.Event.bind(this.layout,"mouseenter",this.onMouseEnter);t.Event.bind(this.layout,"mouseleave",this.onMouseLeave);t.Event.bind(this.content,"mouseenter",this.onMouseEnter);t.Event.bind(this.content,"mouseleave",this.onMouseLeave);t.Event.bind(this.sidebar,"mouseenter",this.onMouseEnter);t.Event.bind(this.sidebar,"mouseleave",this.onMouseLeave);t.Event.bind(this.header,"mouseenter",this.onMouseEnter);t.Event.bind(this.header,"mouseleave",this.onMouseLeave);t.Event.bind(this.footer,"mouseenter",this.onMouseEnter);t.Event.bind(this.footer,"mouseleave",this.onMouseLeave);if("title"in this.data){this.setTitle(this.data.title)}if("footer"in this.data){if(t.Type.isArray(this.data.footer)){this.data.footer.forEach(function(e){if(e instanceof BX.Landing.UI.Button.BaseButton){n.appendFooterButton(e)}if(t.Type.isDomNode(e)){t.Dom.append(e,n.footer)}})}}}},{key:"onIntersecting",value:function e(n){n.forEach(function(e){if(e.isIntersecting){t.Dom.removeClass(e.target,"landing-ui-is-not-visible");t.Dom.addClass(e.target,"landing-ui-is-visible")}else{t.Dom.addClass(e.target,"landing-ui-is-not-visible");t.Dom.removeClass(e.target,"landing-ui-is-visible")}})}},{key:"onKeyDown",value:function e(t){if(t.keyCode===27){this.emit("onCancel");void this.hide()}}},{key:"onMouseEnter",value:function e(n){n.stopPropagation();t.Event.bind(this.layout,this.wheelEventName,this.onMouseWheel);t.Event.bind(this.layout,"touchmove",this.onMouseWheel);if(this.sidebar.contains(n.target)||this.content.contains(n.target)||this.header.contains(n.target)||this.footer.contains(n.target)||this.right&&this.right.contains(n.target)){this.scrollTarget=n.currentTarget}}},{key:"onMouseLeave",value:function e(t){t.stopPropagation();BX.unbind(this.layout,this.wheelEventName,this.onMouseWheel);BX.unbind(this.layout,"touchmove",this.onMouseWheel)}},{key:"onMouseWheel",value:function e(t){var i=this;t.preventDefault();t.stopPropagation();var a=n.getDeltaFromEvent(t);var o=this.scrollTarget.scrollTop;requestAnimationFrame(function(){i.scrollTarget.scrollTop=o-a.y})}},{key:"scrollTo",value:function e(t){void n.scrollTo(this.content,t)}},{key:"isShown",value:function e(){return this.state==="shown"}},{key:"show",value:function e(t){var n=this;if(!this.isShown()){void BX.Landing.Utils.Show(this.overlay);return BX.Landing.Utils.Show(this.layout).then(function(){n.state="shown"})}return Promise.resolve(true)}},{key:"hide",value:function e(){var t=this;if(this.isShown()){void BX.Landing.Utils.Hide(this.overlay);return BX.Landing.Utils.Hide(this.layout).then(function(){t.state="hidden"})}return Promise.resolve(true)}},{key:"appendForm",value:function e(n){this.forms.add(n);t.Dom.append(n.getNode(),this.content)}},{key:"appendCard",value:function e(n){if(this.data.scrollAnimation){t.Dom.addClass(n.layout,"landing-ui-is-not-visible");this.scrollObserver.observe(n.layout)}t.Dom.append(n.layout,this.content)}},{key:"clear",value:function e(){this.clearContent();this.clearSidebar();this.forms.clear()}},{key:"clearContent",value:function e(){t.Dom.clean(this.content)}},{key:"clearSidebar",value:function e(){t.Dom.clean(this.sidebar)}},{key:"setTitle",value:function e(t){this.title.innerHTML=t}},{key:"appendFooterButton",value:function e(n){this.buttons.add(n);t.Dom.append(n.layout,this.footer)}},{key:"appendSidebarButton",value:function e(n){this.sidebarButtons.add(n);t.Dom.append(n.layout,this.sidebar)}}]);return n}(n.BasePanel);e.Content=f})(this.BX.Landing.UI.Panel=this.BX.Landing.UI.Panel||{},BX,BX.Landing.UI.Panel);
//# sourceMappingURL=content.bundle.map.js