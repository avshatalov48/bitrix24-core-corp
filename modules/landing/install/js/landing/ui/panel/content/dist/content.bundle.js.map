{"version":3,"file":"content.bundle.js","sources":["../src/internal/get-delta-from-event.js","../src/internal/calculate-duration-transition.js","../src/internal/scroll-to.js","../src/content.js"],"sourcesContent":["import {Type} from 'main.core';\n\nexport default function getDeltaFromEvent(event)\n{\n\tlet {deltaX} = event;\n\tlet deltaY = -1 * event.deltaY;\n\n\tif (Type.isUndefined(deltaX) || Type.isUndefined(deltaY))\n\t{\n\t\tdeltaX = -1 * event.wheelDeltaX / 6;\n\t\tdeltaY = event.wheelDeltaY / 6;\n\t}\n\n\tif (event.deltaMode === 1)\n\t{\n\t\tdeltaX *= 10;\n\t\tdeltaY *= 10;\n\t}\n\n\t/** NaN checks */\n\tif (Number.isNaN(deltaX) && Number.isNaN(deltaY))\n\t{\n\t\tdeltaX = 0;\n\t\tdeltaY = event.wheelDelta;\n\t}\n\n\treturn {x: deltaX, y: deltaY};\n}","export default function calculateDurationTransition(diff)\n{\n\tconst defaultDuration = 300;\n\treturn Math.min((400 / 500) * diff, defaultDuration);\n}","import {Dom} from 'main.core';\nimport calculateDurationTransition from './calculate-duration-transition';\n\nexport default function scrollTo(container, element)\n{\n\treturn new Promise((resolve) => {\n\t\tlet elementTop = 0;\n\t\tlet duration = 0;\n\n\t\tif (element)\n\t\t{\n\t\t\tconst defaultMargin = 20;\n\t\t\tconst elementMarginTop = Math.max(parseInt(Dom.style(element, 'margin-top')), defaultMargin);\n\t\t\tlet containerScrollTop = container.scrollTop;\n\t\t\tif (!(container instanceof HTMLIFrameElement))\n\t\t\t{\n\t\t\t\telementTop = element.offsetTop - (container.offsetTop || 0) - elementMarginTop;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontainerScrollTop = container.contentWindow.scrollY;\n\t\t\t\telementTop = BX.pos(element).top - elementMarginTop - 100;\n\t\t\t}\n\n\t\t\tduration = calculateDurationTransition(\n\t\t\t\tMath.abs(elementTop - containerScrollTop)\n\t\t\t);\n\n\t\t\tconst start = Math.max(containerScrollTop, 0);\n\t\t\tconst finish = Math.max(elementTop, 0);\n\n\t\t\tif (start !== finish)\n\t\t\t{\n\t\t\t\t(new BX.easing({\n\t\t\t\t\tduration,\n\t\t\t\t\tstart: {scrollTop: start},\n\t\t\t\t\tfinish: {scrollTop: finish},\n\t\t\t\t\tstep(state) {\n\t\t\t\t\t\tif (!(container instanceof HTMLIFrameElement))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontainer.scrollTop = state.scrollTop;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontainer.contentWindow.scrollTo(0, Math.max(state.scrollTop, 0));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})).animate();\n\n\t\t\t\tsetTimeout(resolve, duration);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresolve();\n\t\t}\n\t});\n}","import {Type, Dom, Tag, Event} from 'main.core';\nimport {BasePanel} from 'landing.ui.panel.base';\nimport getDeltaFromEvent from './internal/get-delta-from-event';\nimport calculateDurationTransition from './internal/calculate-duration-transition';\nimport scrollTo from './internal/scroll-to';\nimport './css/style.css';\nimport 'landing.utils';\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class Content extends BasePanel\n{\n\tstatic createOverlay(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-overlay landing-ui-hide\" data-is-shown=\"false\" hidden></div>\n\t\t`;\n\t}\n\n\tstatic createHeader(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-element landing-ui-panel-content-header\"></div>\n\t\t`;\n\t}\n\n\tstatic createTitle(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-title\"></div>\n\t\t`;\n\t}\n\n\tstatic createBody(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-element landing-ui-panel-content-body\"></div>\n\t\t`;\n\t}\n\n\tstatic createSidebar(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-body-sidebar\"></div>\n\t\t`;\n\t}\n\n\tstatic createContent(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-body-content\"></div>\n\t\t`;\n\t}\n\n\tstatic createFooter(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-element landing-ui-panel-content-footer\"></div>\n\t\t`;\n\t}\n\n\tstatic calculateTransitionDuration(diff: number = 0): number\n\t{\n\t\treturn calculateDurationTransition(diff);\n\t}\n\n\tstatic scrollTo(container, element: HTMLElement): Promise\n\t{\n\t\treturn scrollTo(container, element);\n\t}\n\n\tstatic getDeltaFromEvent(event)\n\t{\n\t\treturn getDeltaFromEvent(event);\n\t}\n\n\tadjustActionsPanels: boolean = true;\n\n\tconstructor(id: string, data = {})\n\t{\n\t\tsuper(id, data);\n\n\t\tDom.addClass(this.layout, 'landing-ui-panel-content');\n\n\t\tthis.data = Object.freeze(data);\n\n\t\tthis.overlay = Content.createOverlay();\n\t\tthis.header = Content.createHeader();\n\t\tthis.title = Content.createTitle();\n\t\tthis.body = Content.createBody();\n\t\tthis.footer = Content.createFooter();\n\t\tthis.sidebar = Content.createSidebar();\n\t\tthis.content = Content.createContent();\n\t\tthis.closeButton = new BX.Landing.UI.Button.BaseButton('close', {\n\t\t\tclassName: 'landing-ui-panel-content-close',\n\t\t\tonClick: () => {\n\t\t\t\tvoid this.hide();\n\t\t\t\tthis.emit('onCancel');\n\t\t\t},\n\t\t\tattrs: {\n\t\t\t\ttitle: BX.Landing.Loc.getMessage('LANDING_TITLE_OF_SLIDER_CLOSE'),\n\t\t\t},\n\t\t});\n\n\t\tthis.forms = new BX.Landing.UI.Collection.FormCollection();\n\t\tthis.buttons = new BX.Landing.UI.Collection.ButtonCollection();\n\t\tthis.sidebarButtons = new BX.Landing.UI.Collection.ButtonCollection();\n\t\tthis.wheelEventName = Type.isNil(window.onwheel) ? window.onwheel : window.onmousewheel;\n\t\tthis.onMouseWheel = this.onMouseWheel.bind(this);\n\t\tthis.onMouseEnter = this.onMouseEnter.bind(this);\n\t\tthis.onMouseLeave = this.onMouseLeave.bind(this);\n\n\t\tDom.removeClass(this.layout, 'landing-ui-hide');\n\t\tDom.addClass(this.overlay, 'landing-ui-hide');\n\n\t\tDom.append(this.sidebar, this.body);\n\t\tDom.append(this.content, this.body);\n\t\tDom.append(this.header, this.layout);\n\t\tDom.append(this.title, this.header);\n\t\tDom.append(this.body, this.layout);\n\t\tDom.append(this.footer, this.layout);\n\t\tDom.append(this.closeButton.layout, this.layout);\n\n\t\tif (Type.isString(data.className))\n\t\t{\n\t\t\tDom.addClass(this.layout, [data.className, `${data.className}-overlay`]);\n\t\t}\n\n\t\tif (Type.isString(data.subTitle) && data.subTitle !== '')\n\t\t{\n\t\t\tthis.subTitle = Tag.render`\n\t\t\t\t<div class=\"landing-ui-panel-content-subtitle\">${data.subTitle}</div>\n\t\t\t`;\n\n\t\t\tDom.append(this.subTitle, this.header);\n\t\t\tDom.addClass(this.layout, 'landing-ui-panel-content-with-subtitle');\n\t\t}\n\n\t\tthis.init();\n\n\t\tEvent.bind(window.top, 'keydown', this.onKeyDown.bind(this));\n\t\tBX.Landing.PageObject.getEditorWindow();\n\n\t\tif (this.data.scrollAnimation)\n\t\t{\n\t\t\tthis.scrollObserver = new IntersectionObserver(this.onIntersecting.bind(this));\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tDom.append(this.overlay, document.body);\n\n\t\tEvent.bind(this.overlay, 'click', () => {\n\t\t\tthis.emit('onCancel');\n\t\t\tvoid this.hide();\n\t\t});\n\t\tEvent.bind(this.layout, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.layout, 'mouseleave', this.onMouseLeave);\n\t\tEvent.bind(this.content, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.content, 'mouseleave', this.onMouseLeave);\n\t\tEvent.bind(this.sidebar, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.sidebar, 'mouseleave', this.onMouseLeave);\n\t\tEvent.bind(this.header, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.header, 'mouseleave', this.onMouseLeave);\n\t\tEvent.bind(this.footer, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.footer, 'mouseleave', this.onMouseLeave);\n\n\t\tif ('title' in this.data)\n\t\t{\n\t\t\tthis.setTitle(this.data.title);\n\t\t}\n\n\t\tif ('footer' in this.data)\n\t\t{\n\t\t\tif (Type.isArray(this.data.footer))\n\t\t\t{\n\t\t\t\tthis.data.footer.forEach((item) => {\n\t\t\t\t\tif (item instanceof BX.Landing.UI.Button.BaseButton)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.appendFooterButton(item);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Type.isDomNode(item))\n\t\t\t\t\t{\n\t\t\t\t\t\tDom.append(item, this.footer);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tonIntersecting(items)\n\t{\n\t\titems.forEach((item) => {\n\t\t\tif (item.isIntersecting)\n\t\t\t{\n\t\t\t\tDom.removeClass(item.target, 'landing-ui-is-not-visible');\n\t\t\t\tDom.addClass(item.target, 'landing-ui-is-visible');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tDom.addClass(item.target, 'landing-ui-is-not-visible');\n\t\t\t\tDom.removeClass(item.target, 'landing-ui-is-visible');\n\t\t\t}\n\t\t});\n\t}\n\n\tonKeyDown(event)\n\t{\n\t\tif (event.keyCode === 27)\n\t\t{\n\t\t\tthis.emit('onCancel');\n\t\t\tvoid this.hide();\n\t\t}\n\t}\n\n\tonMouseEnter(event)\n\t{\n\t\tevent.stopPropagation();\n\n\t\tEvent.bind(this.layout, this.wheelEventName, this.onMouseWheel);\n\t\tEvent.bind(this.layout, 'touchmove', this.onMouseWheel);\n\n\t\tif (\n\t\t\tthis.sidebar.contains(event.target)\n\t\t\t|| this.content.contains(event.target)\n\t\t\t|| this.header.contains(event.target)\n\t\t\t|| this.footer.contains(event.target)\n\t\t\t|| (this.right && this.right.contains(event.target))\n\t\t)\n\t\t{\n\t\t\tthis.scrollTarget = event.currentTarget;\n\t\t}\n\t}\n\n\tonMouseLeave(event)\n\t{\n\t\tevent.stopPropagation();\n\n\t\tBX.unbind(this.layout, this.wheelEventName, this.onMouseWheel);\n\t\tBX.unbind(this.layout, 'touchmove', this.onMouseWheel);\n\t}\n\n\tonMouseWheel(event)\n\t{\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tconst delta = Content.getDeltaFromEvent(event);\n\t\tconst {scrollTop} = this.scrollTarget;\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.scrollTarget.scrollTop = scrollTop - delta.y;\n\t\t});\n\t}\n\n\tscrollTo(element)\n\t{\n\t\tvoid Content.scrollTo(this.content, element);\n\t}\n\n\tisShown(): boolean\n\t{\n\t\treturn this.state === 'shown';\n\t}\n\n\tshouldAdjustActionsPanels(): boolean\n\t{\n\t\treturn this.adjustActionsPanels;\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tshow(options?: any): Promise<any>\n\t{\n\t\tif (!this.isShown())\n\t\t{\n\t\t\tif (this.shouldAdjustActionsPanels())\n\t\t\t{\n\t\t\t\tDom.addClass(document.body, 'landing-ui-hide-action-panels');\n\t\t\t}\n\n\t\t\tvoid BX.Landing.Utils.Show(this.overlay);\n\t\t\treturn BX.Landing.Utils.Show(this.layout).then(() => {\n\t\t\t\tthis.state = 'shown';\n\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve(true);\n\t}\n\n\thide(): Promise<any>\n\t{\n\t\tif (this.isShown())\n\t\t{\n\t\t\tif (this.shouldAdjustActionsPanels())\n\t\t\t{\n\t\t\t\tDom.removeClass(document.body, 'landing-ui-hide-action-panels');\n\t\t\t}\n\n\t\t\tvoid BX.Landing.Utils.Hide(this.overlay);\n\t\t\treturn BX.Landing.Utils.Hide(this.layout).then(() => {\n\t\t\t\tthis.state = 'hidden';\n\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve(true);\n\t}\n\n\tappendForm(form)\n\t{\n\t\tthis.forms.add(form);\n\t\tDom.append(form.getNode(), this.content);\n\t}\n\n\tappendCard(card)\n\t{\n\t\tif (this.data.scrollAnimation)\n\t\t{\n\t\t\tDom.addClass(card.layout, 'landing-ui-is-not-visible');\n\t\t\tthis.scrollObserver.observe(card.layout);\n\t\t}\n\n\t\tDom.append(card.layout, this.content);\n\t}\n\n\tclear()\n\t{\n\t\tthis.clearContent();\n\t\tthis.clearSidebar();\n\t\tthis.forms.clear();\n\t}\n\n\tclearContent()\n\t{\n\t\tDom.clean(this.content);\n\t}\n\n\tclearSidebar()\n\t{\n\t\tDom.clean(this.sidebar);\n\t}\n\n\tsetTitle(title)\n\t{\n\t\tthis.title.innerHTML = title;\n\t}\n\n\tappendFooterButton(button)\n\t{\n\t\tthis.buttons.add(button);\n\t\tDom.append(button.layout, this.footer);\n\t}\n\n\tappendSidebarButton(button)\n\t{\n\t\tthis.sidebarButtons.add(button);\n\t\tDom.append(button.layout, this.sidebar);\n\t}\n\n\tsetOverlayClass(className: string)\n\t{\n\t\tDom.addClass(this.overlay, className);\n\t}\n\n\trenderTo(target: HTMLElement)\n\t{\n\t\tsuper.renderTo(target);\n\t\tDom.append(this.overlay, target);\n\t}\n}\n"],"names":["getDeltaFromEvent","event","deltaX","deltaY","Type","isUndefined","wheelDeltaX","wheelDeltaY","deltaMode","Number","isNaN","wheelDelta","x","y","calculateDurationTransition","diff","defaultDuration","Math","min","scrollTo","container","element","Promise","resolve","elementTop","duration","defaultMargin","elementMarginTop","max","parseInt","Dom","style","containerScrollTop","scrollTop","HTMLIFrameElement","offsetTop","contentWindow","scrollY","BX","pos","top","abs","start","finish","easing","step","state","animate","setTimeout","Content","Tag","render","id","data","addClass","layout","Object","freeze","overlay","createOverlay","header","createHeader","title","createTitle","body","createBody","footer","createFooter","sidebar","createSidebar","content","createContent","closeButton","Landing","UI","Button","BaseButton","className","onClick","hide","emit","attrs","Loc","getMessage","forms","Collection","FormCollection","buttons","ButtonCollection","sidebarButtons","wheelEventName","isNil","window","onwheel","onmousewheel","onMouseWheel","bind","onMouseEnter","onMouseLeave","removeClass","append","isString","subTitle","init","Event","onKeyDown","PageObject","getEditorWindow","scrollAnimation","scrollObserver","IntersectionObserver","onIntersecting","document","setTitle","isArray","forEach","item","appendFooterButton","isDomNode","items","isIntersecting","target","keyCode","stopPropagation","contains","right","scrollTarget","currentTarget","unbind","preventDefault","delta","requestAnimationFrame","adjustActionsPanels","options","isShown","shouldAdjustActionsPanels","Utils","Show","then","Hide","form","add","getNode","card","observe","clearContent","clearSidebar","clear","clean","innerHTML","button","BasePanel"],"mappings":"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"}