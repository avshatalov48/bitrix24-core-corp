{"version":3,"file":"content.bundle.js","sources":["../src/internal/get-delta-from-event.js","../src/internal/calculate-duration-transition.js","../src/internal/scroll-to.js","../src/content.js"],"sourcesContent":["import {Type} from 'main.core';\n\nexport default function getDeltaFromEvent(event)\n{\n\tlet {deltaX} = event;\n\tlet deltaY = -1 * event.deltaY;\n\n\tif (Type.isUndefined(deltaX) || Type.isUndefined(deltaY))\n\t{\n\t\tdeltaX = -1 * event.wheelDeltaX / 6;\n\t\tdeltaY = event.wheelDeltaY / 6;\n\t}\n\n\tif (event.deltaMode === 1)\n\t{\n\t\tdeltaX *= 10;\n\t\tdeltaY *= 10;\n\t}\n\n\t/** NaN checks */\n\tif (Number.isNaN(deltaX) && Number.isNaN(deltaY))\n\t{\n\t\tdeltaX = 0;\n\t\tdeltaY = event.wheelDelta;\n\t}\n\n\treturn {x: deltaX, y: deltaY};\n}","export default function calculateDurationTransition(diff)\n{\n\tconst defaultDuration = 300;\n\treturn Math.min((400 / 500) * diff, defaultDuration);\n}","import {Dom} from 'main.core';\nimport calculateDurationTransition from './calculate-duration-transition';\n\nexport default function scrollTo(container, element)\n{\n\treturn new Promise((resolve) => {\n\t\tlet elementTop = 0;\n\t\tlet duration = 0;\n\n\t\tif (element)\n\t\t{\n\t\t\tconst defaultMargin = 20;\n\t\t\tconst elementMarginTop = Math.max(parseInt(Dom.style(element, 'margin-top')), defaultMargin);\n\t\t\tlet containerScrollTop = container.scrollTop;\n\t\t\tif (!(container instanceof HTMLIFrameElement))\n\t\t\t{\n\t\t\t\telementTop = element.offsetTop - (container.offsetTop || 0) - elementMarginTop;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontainerScrollTop = container.contentWindow.scrollY;\n\t\t\t\telementTop = BX.pos(element).top - elementMarginTop - 100;\n\t\t\t}\n\n\t\t\tduration = calculateDurationTransition(\n\t\t\t\tMath.abs(elementTop - containerScrollTop)\n\t\t\t);\n\n\t\t\tconst start = Math.max(containerScrollTop, 0);\n\t\t\tconst finish = Math.max(elementTop, 0);\n\n\t\t\tif (start !== finish)\n\t\t\t{\n\t\t\t\t(new BX.easing({\n\t\t\t\t\tduration,\n\t\t\t\t\tstart: {scrollTop: start},\n\t\t\t\t\tfinish: {scrollTop: finish},\n\t\t\t\t\tstep(state) {\n\t\t\t\t\t\tif (!(container instanceof HTMLIFrameElement))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontainer.scrollTop = state.scrollTop;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontainer.contentWindow.scrollTo(0, Math.max(state.scrollTop, 0));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})).animate();\n\n\t\t\t\tsetTimeout(resolve, duration);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresolve();\n\t\t}\n\t});\n}","import {Type, Dom, Tag, Event} from 'main.core';\nimport {BasePanel} from 'landing.ui.panel.base';\nimport getDeltaFromEvent from './internal/get-delta-from-event';\nimport calculateDurationTransition from './internal/calculate-duration-transition';\nimport scrollTo from './internal/scroll-to';\nimport './css/style.css';\nimport 'landing.utils';\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class Content extends BasePanel\n{\n\tstatic createOverlay(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-overlay landing-ui-hide\" data-is-shown=\"false\" hidden></div>\n\t\t`;\n\t}\n\n\tstatic createHeader(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-element landing-ui-panel-content-header\"></div>\n\t\t`;\n\t}\n\n\tstatic createTitle(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-title\"></div>\n\t\t`;\n\t}\n\n\tstatic createBody(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-element landing-ui-panel-content-body\"></div>\n\t\t`;\n\t}\n\n\tstatic createSidebar(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-body-sidebar\"></div>\n\t\t`;\n\t}\n\n\tstatic createContent(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-body-content\"></div>\n\t\t`;\n\t}\n\n\tstatic createFooter(): HTMLDivElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-panel-content-element landing-ui-panel-content-footer\"></div>\n\t\t`;\n\t}\n\n\tstatic calculateTransitionDuration(diff: number = 0): number\n\t{\n\t\treturn calculateDurationTransition(diff);\n\t}\n\n\tstatic scrollTo(container, element: HTMLElement): Promise\n\t{\n\t\treturn scrollTo(container, element);\n\t}\n\n\tstatic getDeltaFromEvent(event)\n\t{\n\t\treturn getDeltaFromEvent(event);\n\t}\n\n\tconstructor(id: string, data = {})\n\t{\n\t\tsuper(id, data);\n\n\t\tDom.addClass(this.layout, 'landing-ui-panel-content');\n\n\t\tthis.data = Object.freeze(data);\n\n\t\tthis.overlay = Content.createOverlay();\n\t\tthis.header = Content.createHeader();\n\t\tthis.title = Content.createTitle();\n\t\tthis.body = Content.createBody();\n\t\tthis.footer = Content.createFooter();\n\t\tthis.sidebar = Content.createSidebar();\n\t\tthis.content = Content.createContent();\n\t\tthis.closeButton = new BX.Landing.UI.Button.BaseButton('close', {\n\t\t\tclassName: 'landing-ui-panel-content-close',\n\t\t\tonClick: this.hide.bind(this),\n\t\t\tattrs: {\n\t\t\t\ttitle: BX.Landing.Loc.getMessage('LANDING_TITLE_OF_SLIDER_CLOSE'),\n\t\t\t},\n\t\t});\n\n\t\tthis.forms = new BX.Landing.UI.Collection.FormCollection();\n\t\tthis.buttons = new BX.Landing.UI.Collection.ButtonCollection();\n\t\tthis.sidebarButtons = new BX.Landing.UI.Collection.ButtonCollection();\n\t\tthis.wheelEventName = Type.isNil(window.onwheel) ? window.onwheel : window.onmousewheel;\n\t\tthis.onMouseWheel = this.onMouseWheel.bind(this);\n\t\tthis.onMouseEnter = this.onMouseEnter.bind(this);\n\t\tthis.onMouseLeave = this.onMouseLeave.bind(this);\n\n\t\tDom.removeClass(this.layout, 'landing-ui-hide');\n\t\tDom.addClass(this.overlay, 'landing-ui-hide');\n\n\t\tDom.append(this.sidebar, this.body);\n\t\tDom.append(this.content, this.body);\n\t\tDom.append(this.header, this.layout);\n\t\tDom.append(this.title, this.header);\n\t\tDom.append(this.body, this.layout);\n\t\tDom.append(this.footer, this.layout);\n\t\tDom.append(this.closeButton.layout, this.layout);\n\n\t\tif (Type.isString(data.className))\n\t\t{\n\t\t\tDom.addClass(this.layout, [data.className, `${data.className}-overlay`]);\n\t\t}\n\n\t\tif (Type.isString(data.subTitle) && data.subTitle !== '')\n\t\t{\n\t\t\tthis.subTitle = Tag.render`\n\t\t\t\t<div class=\"landing-ui-panel-content-subtitle\">${data.subTitle}</div>\n\t\t\t`;\n\n\t\t\tDom.append(this.subTitle, this.header);\n\t\t\tDom.addClass(this.layout, 'landing-ui-panel-content-with-subtitle');\n\t\t}\n\n\t\tthis.init();\n\n\t\tEvent.bind(window.top, 'keydown', this.onKeyDown.bind(this));\n\n\t\tBX.Landing.PageObject.getInstance()\n\t\t\t.view()\n\t\t\t.then((frame) => {\n\t\t\t\tvoid (!!frame && Event.bind(frame.contentWindow, 'keydown', this.onKeyDown.bind(this)));\n\t\t\t}, console.warn);\n\n\t\tif (this.data.scrollAnimation)\n\t\t{\n\t\t\tthis.scrollObserver = new IntersectionObserver(this.onIntersecting.bind(this));\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tDom.append(this.overlay, document.body);\n\n\t\tEvent.bind(this.overlay, 'click', this.hide.bind(this));\n\t\tEvent.bind(this.layout, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.layout, 'mouseleave', this.onMouseLeave);\n\t\tEvent.bind(this.content, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.content, 'mouseleave', this.onMouseLeave);\n\t\tEvent.bind(this.sidebar, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.sidebar, 'mouseleave', this.onMouseLeave);\n\t\tEvent.bind(this.header, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.header, 'mouseleave', this.onMouseLeave);\n\t\tEvent.bind(this.footer, 'mouseenter', this.onMouseEnter);\n\t\tEvent.bind(this.footer, 'mouseleave', this.onMouseLeave);\n\n\t\tif ('title' in this.data)\n\t\t{\n\t\t\tthis.setTitle(this.data.title);\n\t\t}\n\n\t\tif ('footer' in this.data)\n\t\t{\n\t\t\tif (Type.isArray(this.data.footer))\n\t\t\t{\n\t\t\t\tthis.data.footer.forEach((item) => {\n\t\t\t\t\tif (item instanceof BX.Landing.UI.Button.BaseButton)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.appendFooterButton(item);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Type.isDomNode(item))\n\t\t\t\t\t{\n\t\t\t\t\t\tDom.append(item, this.footer);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tonIntersecting(items)\n\t{\n\t\titems.forEach((item) => {\n\t\t\tif (item.isIntersecting)\n\t\t\t{\n\t\t\t\tDom.removeClass(item.target, 'landing-ui-is-not-visible');\n\t\t\t\tDom.addClass(item.target, 'landing-ui-is-visible');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tDom.addClass(item.target, 'landing-ui-is-not-visible');\n\t\t\t\tDom.removeClass(item.target, 'landing-ui-is-visible');\n\t\t\t}\n\t\t});\n\t}\n\n\tonKeyDown(event)\n\t{\n\t\tif (event.keyCode === 27)\n\t\t{\n\t\t\tvoid this.hide();\n\t\t}\n\t}\n\n\tonMouseEnter(event)\n\t{\n\t\tevent.stopPropagation();\n\n\t\tEvent.bind(this.layout, this.wheelEventName, this.onMouseWheel);\n\t\tEvent.bind(this.layout, 'touchmove', this.onMouseWheel);\n\n\t\tif (\n\t\t\tthis.sidebar.contains(event.target)\n\t\t\t|| this.content.contains(event.target)\n\t\t\t|| this.header.contains(event.target)\n\t\t\t|| this.footer.contains(event.target)\n\t\t\t|| (this.right && this.right.contains(event.target))\n\t\t)\n\t\t{\n\t\t\tthis.scrollTarget = event.currentTarget;\n\t\t}\n\t}\n\n\tonMouseLeave(event)\n\t{\n\t\tevent.stopPropagation();\n\n\t\tBX.unbind(this.layout, this.wheelEventName, this.onMouseWheel);\n\t\tBX.unbind(this.layout, 'touchmove', this.onMouseWheel);\n\t}\n\n\tonMouseWheel(event)\n\t{\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tconst delta = Content.getDeltaFromEvent(event);\n\t\tconst {scrollTop} = this.scrollTarget;\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.scrollTarget.scrollTop = scrollTop - delta.y;\n\t\t});\n\t}\n\n\tscrollTo(element)\n\t{\n\t\tvoid Content.scrollTo(this.content, element);\n\t}\n\n\tisShown(): boolean\n\t{\n\t\treturn this.state === 'shown';\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tshow(options?: any): Promise<any>\n\t{\n\t\tif (!this.isShown())\n\t\t{\n\t\t\tvoid BX.Landing.Utils.Show(this.overlay);\n\t\t\treturn BX.Landing.Utils.Show(this.layout).then(() => {\n\t\t\t\tthis.state = 'shown';\n\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve(true);\n\t}\n\n\thide(): Promise<any>\n\t{\n\t\tif (this.isShown())\n\t\t{\n\t\t\tvoid BX.Landing.Utils.Hide(this.overlay);\n\t\t\treturn BX.Landing.Utils.Hide(this.layout).then(() => {\n\t\t\t\tthis.state = 'hidden';\n\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve(true);\n\t}\n\n\tappendForm(form)\n\t{\n\t\tthis.forms.add(form);\n\t\tDom.append(form.getNode(), this.content);\n\t}\n\n\tappendCard(card)\n\t{\n\t\tif (this.data.scrollAnimation)\n\t\t{\n\t\t\tDom.addClass(card.layout, 'landing-ui-is-not-visible');\n\t\t\tthis.scrollObserver.observe(card.layout);\n\t\t}\n\n\t\tDom.append(card.layout, this.content);\n\t}\n\n\tclear()\n\t{\n\t\tthis.clearContent();\n\t\tthis.clearSidebar();\n\t\tthis.forms.clear();\n\t}\n\n\tclearContent()\n\t{\n\t\tDom.clean(this.content);\n\t}\n\n\tclearSidebar()\n\t{\n\t\tDom.clean(this.sidebar);\n\t}\n\n\tsetTitle(title)\n\t{\n\t\tthis.title.innerHTML = title;\n\t}\n\n\tappendFooterButton(button)\n\t{\n\t\tthis.buttons.add(button);\n\t\tDom.append(button.layout, this.footer);\n\t}\n\n\tappendSidebarButton(button)\n\t{\n\t\tthis.sidebarButtons.add(button);\n\t\tDom.append(button.layout, this.sidebar);\n\t}\n}"],"names":["getDeltaFromEvent","event","deltaX","deltaY","Type","isUndefined","wheelDeltaX","wheelDeltaY","deltaMode","Number","isNaN","wheelDelta","x","y","calculateDurationTransition","diff","defaultDuration","Math","min","scrollTo","container","element","Promise","resolve","elementTop","duration","defaultMargin","elementMarginTop","max","parseInt","Dom","style","containerScrollTop","scrollTop","HTMLIFrameElement","offsetTop","contentWindow","scrollY","BX","pos","top","abs","start","finish","easing","step","state","animate","setTimeout","Content","Tag","render","id","data","addClass","layout","Object","freeze","overlay","createOverlay","header","createHeader","title","createTitle","body","createBody","footer","createFooter","sidebar","createSidebar","content","createContent","closeButton","Landing","UI","Button","BaseButton","className","onClick","hide","bind","attrs","Loc","getMessage","forms","Collection","FormCollection","buttons","ButtonCollection","sidebarButtons","wheelEventName","isNil","window","onwheel","onmousewheel","onMouseWheel","onMouseEnter","onMouseLeave","removeClass","append","isString","subTitle","init","Event","onKeyDown","PageObject","getInstance","view","then","frame","console","warn","scrollAnimation","scrollObserver","IntersectionObserver","onIntersecting","document","setTitle","isArray","forEach","item","appendFooterButton","isDomNode","items","isIntersecting","target","keyCode","stopPropagation","contains","right","scrollTarget","currentTarget","unbind","preventDefault","delta","requestAnimationFrame","options","isShown","Utils","Show","Hide","form","add","getNode","card","observe","clearContent","clearSidebar","clear","clean","innerHTML","button","BasePanel"],"mappings":"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"}