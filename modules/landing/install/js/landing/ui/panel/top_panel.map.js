{"version":3,"sources":["top_panel.js"],"names":["BX","namespace","removeClass","Landing","Utils","addClass","onCustomEvent","bind","makeFilterablePopupMenu","makeSelectablePopupMenu","style","encodeDataValue","UI","Panel","Top","id","data","BasePanel","apply","this","arguments","layout","document","querySelector","siteButton","pageButton","undoButton","redoButton","desktopButton","tabletButton","mobileButton","iframeWrapper","iframe","lastActive","loader","onDesktopSizeChange","onTabletSizeChange","onMobileSizeChange","onIframeClick","onSiteButtonClick","onPageButtonClick","onUndo","onRedo","onKeyDown","adjustHistoryButtonsState","contentDocument","window","sitesCount","parseInt","Main","getInstance","options","sites_count","pagesCount","pages_count","rootWindow","PageObject","getRootWindow","topHistory","getClass","History","instance","prototype","constructor","__proto__","superclass","event","key","keyCode","which","navigator","userAgent","match","ctrlKey","metaKey","shiftKey","preventDefault","canUndo","hasAttribute","getLoader","show","undo","then","hide","canRedo","redo","Loader","size","offset","top","left","stroke-width","margin-top","history","classList","remove","removeAttribute","add","disableHistory","setAttribute","enableHistory","disableDevices","enableDevices","DOM","write","width","dataset","postfix","enableControls","setNoTouchDevice","disableControls","setTouchDevice","siteMenu","PopupMenuWindow","bindElement","events","onPopupClose","blur","menuShowDelay","offsetTop","popupWindow","contentContainer","minHeight","minWidth","siteId","site_id","landingId","filter","=TYPE","params","type","SPECIAL","Backend","getSites","sites","Promise","resolve","setTimeout","forEach","site","addMenuItem","ID","text","TITLE","items","editMask","sef_url","site_edit","showMask","site_show","push","Loc","getMessage","href","replace","pageMenu","getLandings","landings","landing","FOLDER_ID","IS_AREA","landing_edit","viewMask","landing_view","FOLDER","siteShowMask","addQueryParams","SITE_ID","folderId","requestAnimationFrame","close","getFormNameLayout","setFormName","Type","isString","formNameLayout","isDomNode","firstElementChild","textContent"],"mappings":"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","file":"top_panel.map.js"}