{"version":3,"sources":["top_panel.js"],"names":["BX","namespace","removeClass","Landing","Utils","addClass","onCustomEvent","bind","makeFilterablePopupMenu","makeSelectablePopupMenu","style","encodeDataValue","Menu","UI","Tool","Panel","Top","id","data","BasePanel","apply","this","arguments","layout","top","document","querySelector","siteButton","pageButton","undoButton","redoButton","desktopButton","tabletButton","mobileButton","iframeWrapper","iframe","lastActive","loader","onDesktopSizeChange","onTabletSizeChange","onMobileSizeChange","onIframeClick","onSiteButtonClick","onPageButtonClick","onUndo","onRedo","onKeyDown","adjustHistoryButtonsState","contentDocument","window","sitesCount","parseInt","Main","getInstance","options","sites_count","pagesCount","pages_count","History","instance","prototype","constructor","__proto__","superclass","event","key","keyCode","which","navigator","userAgent","match","ctrlKey","metaKey","shiftKey","preventDefault","canUndo","getLoader","show","undo","then","hide","canRedo","redo","Loader","size","offset","left","stroke-width","history","classList","remove","add","DOM","write","width","dataset","postfix","enableControls","disableControls","siteMenu","bindElement","events","onPopupClose","blur","menuShowDelay","offsetTop","popupWindow","contentContainer","minHeight","minWidth","siteId","site_id","landingId","filter","=TYPE","params","type","URLList","getSites","sites","Promise","resolve","setTimeout","forEach","site","addMenuItem","ID","text","TITLE","items","editMask","sef_url","site_edit","showMask","site_show","push","message","href","replace","pageMenu","getLandings","landings","landing","FOLDER_ID","IS_AREA","landing_edit","viewMask","landing_view","FOLDER","siteShowMask","SITE_ID","requestAnimationFrame","close"],"mappings":"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","file":""}