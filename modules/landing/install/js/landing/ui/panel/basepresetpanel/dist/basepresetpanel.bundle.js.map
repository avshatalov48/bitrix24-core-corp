{"version":3,"file":"basepresetpanel.bundle.js","sources":["../src/preset-category/preset-category.js","../src/preset/preset.js","../src/content-wrapper/content-wrapper.js","../src/basepresetpanel.js"],"sourcesContent":["import {Cache, Dom, Tag} from 'main.core';\nimport type Preset from '../preset/preset';\n\nimport './css/preset-category.css';\n\ntype PresetCategoryOptions = {\n\ttitle: string,\n\tpresets: Array<Preset>,\n};\n\nexport default class PresetCategory\n{\n\tconstructor(options: PresetCategoryOptions)\n\t{\n\t\tthis.options = {...options};\n\t\tthis.cache = new Cache.MemoryCache();\n\t}\n\n\tsetPresets(presets: Array<Preset>)\n\t{\n\t\tthis.presets = presets;\n\n\t\tconst listContainer = this.getListContainer();\n\t\tDom.clean(listContainer);\n\t\tthis.presets.forEach((preset) => {\n\t\t\tDom.append(preset.getLayout(), listContainer);\n\t\t});\n\t}\n\n\tgetListContainer(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('listContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-presets-category-list\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-presets-category\">\n\t\t\t\t\t<div class=\"landing-ui-presets-category-title\">${this.options.title}</div>\n\t\t\t\t\t${this.getListContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}","import {EventEmitter} from 'main.core.events';\nimport {Cache, Dom, Tag, Text, Type} from 'main.core';\nimport type {Options} from 'crm.form';\nimport {Loc} from 'landing.loc';\n\nimport './css/preset.css';\n\ntype PresetOptions = {\n\tid: string,\n\ttitle: string,\n\tcategory: string,\n\tdescription?: string,\n\ticon?: string,\n\titems?: Array<string>,\n\tformOptions?: Options,\n\tdisabled?: boolean,\n\tsoon?: boolean,\n\tdefaultSection?: string,\n};\n\nconst defaultOptions: PresetOptions = {\n\tdisabled: false,\n\tsoon: false,\n};\n\n/**\n * @memberOf BX.Landing.UI.Panel.BasePresetPanel\n */\nexport default class Preset extends EventEmitter\n{\n\toptions: PresetOptions;\n\n\tconstructor(options: PresetOptions)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.BasePresetPanel.Preset');\n\n\t\tthis.options = {...defaultOptions, ...options};\n\t\tif (Loc.getMessage('LANGUAGE_ID') !== 'ru')\n\t\t{\n\t\t\tthis.options.items = this.options.items.filter((item) => {\n\t\t\t\treturn item !== 'vk';\n\t\t\t});\n\t\t}\n\n\t\tthis.cache = new Cache.MemoryCache();\n\t}\n\n\tgetIconNode(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('iconNode', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div \n\t\t\t\t\tclass=\"landing-ui-panel-preset-icon\" \n\t\t\t\t\tstyle=\"background-image: url(${this.options.icon})\"\n\t\t\t\t></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetTitleNode(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('titleNode', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div \n\t\t\t\t\tclass=\"landing-ui-panel-preset-text-title\" \n\t\t\t\t\ttitle=\"${Text.encode(this.options.title)}\"\n\t\t\t\t>${this.options.title}</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetDescriptionNode(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('descriptionNode', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div \n\t\t\t\t\tclass=\"landing-ui-panel-preset-text-description\"\n\t\t\t\t\ttitle=\"${Text.encode(this.options.description)}\"\n\t\t\t\t>${this.options.description}</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tactivate()\n\t{\n\t\tDom.addClass(this.getLayout(), 'landing-ui-panel-preset-active');\n\t}\n\n\tdeactivate()\n\t{\n\t\tDom.removeClass(this.getLayout(), 'landing-ui-panel-preset-active');\n\t}\n\n\tgetSoonLabel(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('soonLabel', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-panel-preset-soon-label\">\n\t\t\t\t\t${Loc.getMessage('LANDING_UI_BASE_PRESET_PANEL_SOON_LABEL')}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\tconst onLayoutClick = (event: MouseEvent) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.activate();\n\t\t\t\tthis.emit('onClick');\n\t\t\t};\n\n\t\t\tconst additionalClass = this.options.active ? ' landing-ui-panel-preset-active' : '';\n\t\t\tconst disabledClass = this.options.disabled ? ' landing-ui-disabled' : '';\n\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-panel-preset${additionalClass}${disabledClass}\" onclick=\"${onLayoutClick}\">\n\t\t\t\t\t${Type.isStringFilled(this.options.icon) && this.getIconNode()}\n\t\t\t\t\t<div class=\"landing-ui-panel-preset-text\">\n\t\t\t\t\t\t${Type.isStringFilled(this.options.title) ? this.getTitleNode() : ''}\n\t\t\t\t\t\t${Type.isStringFilled(this.options.description) ? this.getDescriptionNode() : ''}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.options.soon ? this.getSoonLabel() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}","import {BaseEvent, EventEmitter} from 'main.core.events';\nimport {Cache, Dom, Tag} from 'main.core';\nimport {HeaderCard} from 'landing.ui.card.headercard';\nimport {MessageCard} from 'landing.ui.card.messagecard';\nimport {FormSettingsForm} from 'landing.ui.form.formsettingsform';\nimport {BaseCollection} from 'landing.collection.basecollection';\nimport {BaseForm} from 'landing.ui.form.baseform';\n\nexport default class ContentWrapper extends EventEmitter\n{\n\titems: BaseCollection<FormSettingsForm | HeaderCard | MessageCard>;\n\n\tconstructor(options: any)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.FormSettingsPanel.ContentWrapper');\n\t\tthis.options = {...options};\n\t\tthis.cache = new Cache.MemoryCache();\n\t\tthis.items = new BaseCollection();\n\t\tthis.onChange = this.onChange.bind(this);\n\t}\n\n\taddItem(item: FormSettingsForm | HeaderCard | MessageCard)\n\t{\n\t\tif (!this.items.includes(item))\n\t\t{\n\t\t\tthis.items.add(item);\n\t\t\titem.subscribe('onChange', this.onChange);\n\t\t}\n\n\t\tDom.append(item.getLayout(), this.getLayout());\n\t}\n\n\tinsertBefore(current: FormSettingsForm | HeaderCard | MessageCard, target)\n\t{\n\t\tif (!this.items.includes(current))\n\t\t{\n\t\t\tthis.items.add(current);\n\t\t\tcurrent.subscribe('onChange', this.onChange);\n\t\t}\n\n\t\tDom.insertBefore(current.getLayout(), target.getLayout());\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('wrapper', () => {\n\t\t\treturn Tag.render`<div class=\"landing-ui-panel-form-settings-content-wrapper\"></div>`;\n\t\t});\n\t}\n\n\tgetValue(): {[key: string]: any}\n\t{\n\t\tconst value = this.items.reduce((acc, item) => {\n\t\t\tif (item instanceof BaseForm && item.getLayout().parentElement)\n\t\t\t{\n\t\t\t\treturn {...acc, ...item.serialize()};\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {});\n\n\t\treturn this.valueReducer(value);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tvalueReducer(value: {[key: string]: any}): {[key: string]: any}\n\t{\n\t\treturn value;\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\t\tthis.emit('onChange', event.getData());\n\t}\n\n\tclear()\n\t{\n\t\tDom.clean(this.getLayout());\n\t}\n}","import {Content} from 'landing.ui.panel.content';\nimport {BaseEvent} from 'main.core.events';\nimport {BaseButton} from 'landing.ui.button.basebutton';\nimport {Loc} from 'landing.loc';\nimport {Cache, Dom, Tag, Type} from 'main.core';\nimport {PresetField} from 'landing.ui.field.presetfield';\nimport {PageObject} from 'landing.pageobject';\nimport {SidebarButton} from 'landing.ui.button.sidebarbutton';\nimport PresetCategory from './preset-category/preset-category';\nimport Preset from './preset/preset';\nimport ContentWrapper from './content-wrapper/content-wrapper';\n\nimport './css/style.css';\n\n/**\n * @memberOf BX.Landing.UI.Panel\n */\nexport class BasePresetPanel extends Content\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Panel.BasePresetPanel');\n\t\tDom.addClass(this.layout, 'landing-ui-panel-base-preset');\n\t\tDom.addClass(this.overlay, 'landing-ui-panel-base-preset-overlay');\n\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tthis.onSidebarButtonClick = this.onSidebarButtonClick.bind(this);\n\t\tthis.onSaveClick = this.onSaveClick.bind(this);\n\t\tthis.onCancelClick = this.onCancelClick.bind(this);\n\t\tthis.onPresetFieldClick = this.onPresetFieldClick.bind(this);\n\t\tthis.onPresetClick = this.onPresetClick.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\n\t\tthis.appendFooterButton(this.getSaveButton());\n\t\tthis.appendFooterButton(this.getCancelButton());\n\n\t\tDom.append(this.getHeaderControlsContainer(), this.header);\n\t}\n\n\tenableToggleMode()\n\t{\n\t\tthis.cache.set('toggleMode', true);\n\t\tthis.renderTo(this.getViewContainer());\n\t}\n\n\tisToggleModeEnabled(): boolean\n\t{\n\t\treturn this.cache.get('toggleMode') === true;\n\t}\n\n\tdisableOverlay()\n\t{\n\t\tDom.addClass(this.overlay, 'landing-ui-panel-base-preset-disable-overlay');\n\t}\n\n\tgetViewContainer(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('viewContainer', () => {\n\t\t\tconst rootWindow = PageObject.getRootWindow();\n\t\t\treturn rootWindow.document.querySelector('.landing-ui-view-container');\n\t\t});\n\t}\n\n\tgetViewWrapper(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('viewWrapper', () => {\n\t\t\treturn this.getViewContainer().querySelector('.landing-ui-view-wrapper');\n\t\t});\n\t}\n\n\tgetSaveButton(): BaseButton\n\t{\n\t\treturn this.cache.remember('saveButton', () => {\n\t\t\tconst button = new BaseButton('save_settings', {\n\t\t\t\ttext: Loc.getMessage('BLOCK_SAVE'),\n\t\t\t\tonClick: this.onSaveClick,\n\t\t\t\tclassName: 'ui-btn ui-btn-success',\n\t\t\t\tattrs: {title: Loc.getMessage('LANDING_TITLE_OF_SLIDER_SAVE')},\n\t\t\t});\n\n\t\t\tDom.removeClass(button.layout, 'landing-ui-button');\n\n\t\t\treturn button;\n\t\t});\n\t}\n\n\t// eslint-disable-next-line\n\tonSaveClick()\n\t{\n\n\t}\n\n\tgetCancelButton(): BaseButton\n\t{\n\t\treturn this.cache.remember('cancelButton', () => {\n\t\t\treturn new BaseButton('cancel_settings', {\n\t\t\t\ttext: Loc.getMessage('BLOCK_CANCEL'),\n\t\t\t\tonClick: this.onCancelClick,\n\t\t\t\tclassName: 'landing-ui-button-content-cancel',\n\t\t\t\tattrs: {title: Loc.getMessage('LANDING_TITLE_OF_SLIDER_CANCEL')},\n\t\t\t});\n\t\t});\n\t}\n\n\t// eslint-disable-next-line\n\tonCancelClick()\n\t{\n\n\t}\n\n\tappendSidebarButton(button)\n\t{\n\t\tsuper.appendSidebarButton(button);\n\t}\n\n\t// eslint-disable-next-line\n\tonSidebarButtonClick(event: BaseEvent)\n\t{\n\t\tthis.sidebarButtons.getActive().deactivate();\n\t\tevent.getTarget().activate();\n\n\t\tthis.clearContent();\n\n\t\tconst content = this.getContent(event.getTarget().id);\n\t\tif (content)\n\t\t{\n\t\t\tcontent.subscribe('onChange', this.onChange);\n\t\t\tDom.append(content.getLayout(), this.content);\n\t\t}\n\t}\n\n\tonChange(event: BaseEvent)\n\t{\n\n\t}\n\n\t// eslint-disable-next-line\n\tgetContent(id: string): ?ContentWrapper\n\t{\n\t\tthrow new Error('Must be implemented in child class');\n\t}\n\n\tgetHeaderControlsContainer(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('headerControlsContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-panel-base-preset-header-controls\">\n\t\t\t\t\t${this.getLeftHeaderControls()}\n\t\t\t\t\t${this.getRightHeaderControls()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetRightHeaderControls(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('rightHeaderControls', () => {\n\t\t\treturn Tag.render`<div class=\"landing-ui-panel-base-preset-header-controls-right\"></div>`;\n\t\t});\n\t}\n\n\tgetLeftHeaderControls(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('leftHeaderControls', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-panel-base-preset-header-controls-left\">\n\t\t\t\t\t${this.getPresetField().getNode()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetPresetField(): PresetField\n\t{\n\t\treturn this.cache.remember('presetField', () => {\n\t\t\treturn new PresetField({\n\t\t\t\tevents: {\n\t\t\t\t\tonClick: this.onPresetFieldClick,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tshow(options: any): Promise<any>\n\t{\n\t\tif (this.isToggleModeEnabled())\n\t\t{\n\t\t\tconst contentEditPanel = BX.Landing.UI.Panel.ContentEdit;\n\t\t\tif (contentEditPanel.showedPanel)\n\t\t\t{\n\t\t\t\tcontentEditPanel.showedPanel.hide();\n\t\t\t}\n\n\t\t\tconst viewWrapper = this.getViewWrapper();\n\t\t\tDom.style(viewWrapper, 'transition', '400ms margin ease');\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tDom.style(viewWrapper, 'margin-left', '880px');\n\t\t\t});\n\t\t}\n\n\t\treturn super.show(options);\n\t}\n\n\thide(): Promise<any>\n\t{\n\t\tconst viewWrapper = this.getViewWrapper();\n\t\tif (this.isToggleModeEnabled())\n\t\t{\n\t\t\tDom.style(viewWrapper, 'margin-left', null);\n\t\t}\n\n\t\treturn super.hide()\n\t\t\t.then(() => {\n\t\t\t\tif (this.isToggleModeEnabled())\n\t\t\t\t{\n\t\t\t\t\tDom.style(viewWrapper, 'transition', null);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tenableTransparentMode()\n\t{\n\t\tDom.addClass(this.layout, 'landing-ui-panel-mode-transparent');\n\t}\n\n\tdisableTransparentMode()\n\t{\n\t\tDom.removeClass(this.layout, 'landing-ui-panel-mode-transparent');\n\t}\n\n\tsetCategories(categories: Array<PresetCategory>)\n\t{\n\t\tthis.cache.set('categories', categories);\n\t\tthis.cache.delete('renderedPresets');\n\t}\n\n\tgetCategories(): Array<PresetCategory>\n\t{\n\t\treturn this.cache.get('categories');\n\t}\n\n\tsetPresets(presets: Array<Preset>)\n\t{\n\t\tpresets.forEach((preset) => {\n\t\t\tpreset.unsubscribe('onClick', this.onPresetClick);\n\t\t\tpreset.subscribe('onClick', this.onPresetClick);\n\t\t});\n\n\t\tthis.cache.set('presets', presets);\n\t\tthis.cache.delete('renderedPresets');\n\t}\n\n\tgetPresets(): Array<Preset>\n\t{\n\t\treturn this.cache.get('presets');\n\t}\n\n\tsetSidebarButtons(buttons: Array<SidebarButton>)\n\t{\n\t\tbuttons.forEach((button) => {\n\t\t\tbutton.subscribe('onClick', this.onSidebarButtonClick);\n\t\t});\n\t\tthis.cache.set('sidebarButtons', buttons);\n\t}\n\n\tgetSidebarButtons(): Array<SidebarButton>\n\t{\n\t\treturn this.cache.get('sidebarButtons');\n\t}\n\n\tonPresetFieldClick()\n\t{\n\t\tthis.clear();\n\t\tthis.enableTransparentMode();\n\n\t\tthis.getCategories().forEach((category) => {\n\t\t\tconst presets = this.getPresets().filter((preset) => {\n\t\t\t\treturn preset.options.category === category.options.id;\n\t\t\t});\n\n\t\t\tcategory.setPresets(presets);\n\n\t\t\tDom.append(category.getLayout(), this.content);\n\t\t});\n\t}\n\n\tonPresetClick(event: BaseEvent)\n\t{\n\t\tthis.disableTransparentMode();\n\t\tthis.applyPreset(event.getTarget());\n\t}\n\n\tactivatePreset(presetId: string)\n\t{\n\t\tconst preset = this.getPresets().find((currentPreset) => {\n\t\t\treturn currentPreset.options.id === presetId;\n\t\t});\n\n\t\tconst presetField = this.getPresetField();\n\t\tpresetField.setLinkText(preset.options.title);\n\t\tpresetField.setIcon(preset.options.icon);\n\n\t\tpreset.activate();\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tapplyPreset(preset: Preset, skipOptions = false)\n\t{\n\t\tthis.clear();\n\n\t\tconst presetField = this.getPresetField();\n\t\tpresetField.setLinkText(preset.options.title);\n\t\tpresetField.setIcon(preset.options.icon);\n\n\t\tconst buttons = this.getSidebarButtons().filter((button) => {\n\t\t\treturn preset.options.items.includes(button.id);\n\t\t});\n\n\t\tbuttons.forEach((button) => {\n\t\t\tbutton.deactivate();\n\t\t\tthis.appendSidebarButton(button);\n\t\t});\n\n\t\tif (Type.isStringFilled(preset.options.defaultSection))\n\t\t{\n\t\t\tconst defaultSectionButton = buttons.find((button) => {\n\t\t\t\treturn button.id === preset.options.defaultSection;\n\t\t\t});\n\n\t\t\tif (defaultSectionButton)\n\t\t\t{\n\t\t\t\tdefaultSectionButton.activate();\n\t\t\t\tdefaultSectionButton.layout.click();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst [firstButton] = buttons;\n\t\t\tfirstButton.activate();\n\t\t\tfirstButton.layout.click();\n\t\t}\n\t}\n\n}\n\nexport {\n\tPresetCategory,\n\tPreset,\n\tContentWrapper,\n};"],"names":["PresetCategory","options","cache","Cache","MemoryCache","presets","listContainer","getListContainer","Dom","clean","forEach","preset","append","getLayout","remember","Tag","render","title","defaultOptions","disabled","soon","Preset","setEventNamespace","Loc","getMessage","items","filter","item","icon","Text","encode","description","addClass","removeClass","onLayoutClick","event","preventDefault","activate","emit","additionalClass","active","disabledClass","Type","isStringFilled","getIconNode","getTitleNode","getDescriptionNode","getSoonLabel","EventEmitter","ContentWrapper","BaseCollection","onChange","bind","includes","add","subscribe","current","target","insertBefore","value","reduce","acc","BaseForm","parentElement","serialize","valueReducer","getData","BasePresetPanel","layout","overlay","onSidebarButtonClick","onSaveClick","onCancelClick","onPresetFieldClick","onPresetClick","appendFooterButton","getSaveButton","getCancelButton","getHeaderControlsContainer","header","set","renderTo","getViewContainer","get","rootWindow","PageObject","getRootWindow","document","querySelector","button","BaseButton","text","onClick","className","attrs","sidebarButtons","getActive","deactivate","getTarget","clearContent","content","getContent","id","Error","getLeftHeaderControls","getRightHeaderControls","getPresetField","getNode","PresetField","events","isToggleModeEnabled","contentEditPanel","BX","Landing","UI","Panel","ContentEdit","showedPanel","hide","viewWrapper","getViewWrapper","style","setTimeout","then","categories","delete","unsubscribe","buttons","clear","enableTransparentMode","getCategories","category","getPresets","setPresets","disableTransparentMode","applyPreset","presetId","find","currentPreset","presetField","setLinkText","setIcon","getSidebarButtons","appendSidebarButton","defaultSection","defaultSectionButton","click","firstButton","Content"],"mappings":"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"}