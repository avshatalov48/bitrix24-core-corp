this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,n,t,a,i){"use strict";function r(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t\t\t\t<div class="landing-ui-card landing-ui-card-icon">\n\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t"]);r=function n(){return e};return e}function o(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t\t\t\t<span class="','" onclick="','"></span>\n\t\t\t\t\t\t\t\t']);o=function n(){return e};return e}var l=function(e){babelHelpers.inherits(n,e);function n(){var e;var t;babelHelpers.classCallCheck(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++){o[l]=arguments[l]}t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(n)).call.apply(e,[this].concat(o)));t.setEventNamespace("BX.Landing.UI.Panel.IconPanel");t.setTitle(a.Loc.getMessage("LANDING_ICONS_SLIDER_TITLE"));i.Dom.addClass(t.layout,"landing-ui-panel-icon");i.Dom.addClass(t.overlay,"landing-ui-panel-icon");i.Dom.attr(t.layout,"hidden",true);i.Dom.attr(t.overlay,"hidden",true);t.resolver=function(){};i.Dom.append(t.layout,document.body);return t}babelHelpers.createClass(n,[{key:"makeLayout",value:function e(){var a=this;if(i.Type.isStringFilled(this.content.innerHTML)){return}n.getLibraries().then(function(e){e.forEach(function(e){var n=e.id,i=e.name,r=e.categories;a.appendSidebarButton(new t.SidebarButton({id:n,text:i}));r.forEach(function(e){a.appendSidebarButton(new t.SidebarButton({id:e.id,text:e.name,onClick:a.onCategoryChange.bind(a,e.id),child:true}))})});a.onCategoryChange(e[0].categories[0].id)})}},{key:"onCategoryChange",value:function e(t){var a=this;this.content.innerHTML="";n.getLibraries().then(function(e){e.forEach(function(e){e.categories.forEach(function(e){if(t===e.id){var n=new Map;var l=new BX.Landing.UI.Card.BaseCard({title:e.name,className:"landing-ui-card-icons"});e.items.forEach(function(e){var t=i.Tag.render(o(),e,a.onChange.bind(a,e));var s=i.Tag.render(r(),t);i.Dom.append(s,l.body);var c=getComputedStyle(t,":before");requestAnimationFrame(function(){var e=c.getPropertyValue("content");if(n.has(e)){s.hidden=true}else{n.set(e,true)}})});a.appendCard(l)}})})})}},{key:"onChange",value:function e(n){this.resolver(n);void this.hide()}},{key:"show",value:function e(){var t=this;return new Promise(function(e){t.resolver=e;t.makeLayout();void babelHelpers.get(babelHelpers.getPrototypeOf(n.prototype),"show",t).call(t)})}}],[{key:"getInstance",value:function e(){if(!n.instance){n.instance=new n}return n.instance}},{key:"getLibraries",value:function e(){return n.cache.remember("libraries",function(){return i.Runtime.loadExtension(["landing.icon.fontawesome","landing.icon.etlineicons","landing.icon.hsicons","landing.icon.simpleline","landing.icon.simplelinepro1","landing.icon.simplelinepro2"]).then(Object.values)})}}]);return n}(n.Content);babelHelpers.defineProperty(l,"cache",new i.Cache.MemoryCache);e.IconPanel=l})(this.BX.Landing.UI.Panel=this.BX.Landing.UI.Panel||{},BX.Landing.UI.Panel,BX.Landing.UI.Button,BX.Landing,BX);
//# sourceMappingURL=iconpanel.bundle.map.js