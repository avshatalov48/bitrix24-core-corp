this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,t,n){"use strict";function i(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-form-header-right">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"]);i=function t(){return e};return e}function r(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-header-remove-button"></div>']);r=function t(){return e};return e}function a(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-form-header-left">\n\t\t\t\t\t',"\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"]);a=function t(){return e};return e}function o(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-form-header-title">',"</div>\n\t\t\t"]);o=function t(){return e};return e}function l(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-form-header-drag-button landing-ui-drag"></div>\n\t\t\t']);l=function t(){return e};return e}var u=Symbol("depth");var s=Symbol("onHeaderClick");var d=Symbol("onTextChange");var h=function(e){babelHelpers.inherits(n,e);function n(){var e;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,n);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this,i));e.setEventNamespace("BX.Landing.UI.Form.MenuItemForm");e.cache=new t.Cache.MemoryCache;e[s]=e[s].bind(babelHelpers.assertThisInitialized(e));e[d]=e[d].bind(babelHelpers.assertThisInitialized(e));e.onRemoveButtonClick=e.onRemoveButtonClick.bind(babelHelpers.assertThisInitialized(e));t.Dom.addClass(e.layout,"landing-ui-form-menuitem");t.Dom.append(e.getHeaderLeftLayout(),e.header);t.Dom.append(e.getHeaderRightLayout(),e.header);e.setDepth(i.depth);var r=babelHelpers.slicedToArray(e.fields,1),a=r[0];if(a){var o=a.getValue(),l=o.text;e.setTitle(l);t.Event.bind(a.input.input,"input",e[d])}t.Event.bind(e.getHeader(),"click",e[s]);return e}babelHelpers.createClass(n,[{key:s,value:function e(t){t.preventDefault();if(this.isFormShown()){this.hideForm()}else{this.showForm()}}},{key:d,value:function e(){var t=babelHelpers.slicedToArray(this.fields,1),n=t[0];if(n){var i=n.getValue(),r=i.text;this.setTitle(r)}}},{key:"onRemoveButtonClick",value:function e(){this.emit("remove",{form:this});t.Dom.remove(this.layout)}},{key:"showForm",value:function e(){t.Dom.addClass(this.layout,"landing-ui-form-menuitem-open");t.Dom.style(this.body,"display","block")}},{key:"hideForm",value:function e(){t.Dom.removeClass(this.layout,"landing-ui-form-menuitem-open");t.Dom.style(this.body,"display",null)}},{key:"isFormShown",value:function e(){return t.Dom.style(this.body,"display")!=="none"}},{key:"getDragButton",value:function e(){return this.cache.remember("dragButton",function(){return t.Tag.render(l())})}},{key:"getTitleLayout",value:function e(){var n=this;return this.cache.remember("titleLayout",function(){return t.Tag.render(o(),t.Text.encode(n.title))})}},{key:"getHeaderLeftLayout",value:function e(){var n=this;return this.cache.remember("headerLeftLayout",function(){return t.Tag.render(a(),n.getDragButton(),n.getTitleLayout())})}},{key:"getRemoveButton",value:function e(){var n=this;return this.cache.remember("removeButton",function(){var e=t.Tag.render(r());t.Event.bind(e,"click",n.onRemoveButtonClick);return e})}},{key:"getHeaderRightLayout",value:function e(){var n=this;return this.cache.remember("headerRightLayout",function(){return t.Tag.render(i(),n.getRemoveButton())})}},{key:"setTitle",value:function e(n){if(t.Type.isString(n)||t.Type.isNumber(n)){this.title=n;this.getTitleLayout().innerText=t.Text.decode(n)}}},{key:"setDepth",value:function e(n){var i=20;this[u]=t.Text.toNumber(n);t.Dom.style(this.layout,"margin-left","".concat(n*i,"px"));t.Dom.attr(this.layout,"data-depth",n)}},{key:"getDepth",value:function e(){return t.Text.toNumber(t.Dom.attr(this.layout,"data-depth"))}},{key:"serialize",value:function e(){var t=babelHelpers.slicedToArray(this.fields,1),n=t[0];return n.getValue()}}]);return n}(n.BaseForm);e.MenuItemForm=h})(this.BX.Landing.UI.Form=this.BX.Landing.UI.Form||{},BX,BX.Landing.UI.Form);
//# sourceMappingURL=menuitemform.bundle.map.js