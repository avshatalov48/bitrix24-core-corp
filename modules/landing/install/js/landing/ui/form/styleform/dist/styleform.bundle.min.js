this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,i,n,a,t,l){"use strict";function s(e,i){o(e,i);i.add(e)}function r(e,i,n){o(e,i);i.set(e,n)}function o(e,i){if(i.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function d(e,i,n){if(!i.has(e)){throw new TypeError("attempted to get private field on non-instance")}return n}var h=new WeakMap;var u=new WeakSet;var c=function(e){babelHelpers.inherits(n,e);function n(){var e;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,n);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this,a));s(babelHelpers.assertThisInitialized(e),u);r(babelHelpers.assertThisInitialized(e),h,{writable:true,value:void 0});e.setEventNamespace("BX.Landing.UI.Form.StyleForm");e.subscribeFromOptions(l.fetchEventsFromOptions(a));i.Dom.addClass(e.layout,"landing-ui-form-style");e.iframe="iframe"in a?a.iframe:null;e.node="node"in a?a.node:null;e.selector="selector"in a?a.selector:null;e.collapsed="collapsed"in a?a.collapsed:null;babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(e),h,new Map);e.onHeaderEnter=e.onHeaderEnter.bind(babelHelpers.assertThisInitialized(e));e.onHeaderLeave=e.onHeaderLeave.bind(babelHelpers.assertThisInitialized(e));e.onHeaderClick=e.onHeaderClick.bind(babelHelpers.assertThisInitialized(e));e.prepareHeader();i.Event.bind(e.header,"click",e.onHeaderClick);i.Event.bind(e.header,"mouseenter",e.onHeaderEnter);i.Event.bind(e.header,"mouseleave",e.onHeaderLeave);if(e.iframe){e.onFrameLoad()}if(e.collapsed){i.Dom.addClass(e.layout,"landing-ui-form-style--collapsed")}return e}babelHelpers.createClass(n,[{key:"onFrameLoad",value:function e(){if(!this.node){this.node=babelHelpers.toConsumableArray(this.iframe.document.querySelectorAll(this.selector))}}},{key:"onHeaderEnter",value:function e(){a.Highlight.getInstance().show(this.node)}},{key:"onHeaderLeave",value:function e(){a.Highlight.getInstance().hide()}},{key:"onHeaderClick",value:function e(n){n.preventDefault();i.Dom.toggleClass(this.layout,"landing-ui-form-style--collapsed")}},{key:"addField",value:function e(i){if(i){var n;var a=i===null||i===void 0?void 0:(n=i.data)===null||n===void 0?void 0:n.attrKey;i.subscribe("onChange",this.onChange.bind(this));i.subscribe("onInit",this.onInit.bind(this));this.fields.add(i);BX.Dom.append(i.layout,this.body);if(a){babelHelpers.classPrivateFieldGet(this,h).set(a,i.getLayout())}}}},{key:"onChange",value:function e(i){d(this,u,b).call(this,i.getData());this.emit("onChange")}},{key:"onInit",value:function e(i){d(this,u,b).call(this,i.getData());this.emit("onInit")}},{key:"prepareHeader",value:function e(){var i=document.createElement("div");BX.Dom.addClass(i,"landing-ui-form-header-text");while(this.header.childNodes[0]){BX.Dom.append(this.header.childNodes[0],i)}BX.Dom.append(i,this.header)}}]);return n}(n.BaseForm);function b(e){var n=this;if(e.hide&&i.Type.isArray(e.hide)){e.hide.map((function(e){var i=babelHelpers.classPrivateFieldGet(n,h).get(e);if(i){BX.Dom.style(i,"display","none")}return null}))}if(e.show&&i.Type.isArray(e.show)){e.show.map((function(e){var i=babelHelpers.classPrivateFieldGet(n,h).get(e);if(i){BX.Dom.style(i,"display","block")}return null}))}}e.StyleForm=c})(this.BX.Landing.UI.Form=this.BX.Landing.UI.Form||{},BX,BX.Landing.UI.Form,BX.Landing.UI,BX.Landing.UI.Field,BX.Landing.UI.Component);
//# sourceMappingURL=styleform.bundle.map.js