this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,t,a,n){"use strict";function r(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-footer"></div>']);r=function t(){return e};return e}function i(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-body"></div>']);i=function t(){return e};return e}function o(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-description"></div>']);o=function t(){return e};return e}function d(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-header"></div>']);d=function t(){return e};return e}function l(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form"></div>']);l=function t(){return e};return e}function c(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<a href="','" class="landing-ui-form-header-checkbox-help" target="_blank"> </a>\n\t\t\t\t']);c=function t(){return e};return e}function s(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-form-header-checkbox">',"","</div>\n\t\t\t"]);s=function t(){return e};return e}function u(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<label for="','" class="landing-ui-form-header-checkbox-label">',"</label>\n\t\t\t"]);u=function t(){return e};return e}function f(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<input type="checkbox" id="','" class="landing-ui-form-header-checkbox-input">\n\t\t\t']);f=function t(){return e};return e}var h=function(e){babelHelpers.inherits(a,e);function a(){var e;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,a);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).call(this,r));e.setEventNamespace("BX.Landing.UI.Form.BaseForm");e.data=babelHelpers.objectSpread({},r);e.options=e.data;e.id=Reflect.has(e.data,"id")?e.data.id:t.Text.getRandom();e.selector=Reflect.has(e.data,"selector")?e.data.selector:"";e.title=Reflect.has(e.data,"title")?e.data.title:"";e.label=Reflect.has(e.data,"label")?e.data.label:"";e.type=Reflect.has(e.data,"type")?e.data.type:"content";e.code=Reflect.has(e.data,"code")?e.data.code:"";e.descriptionText=Reflect.has(e.data,"description")?e.data.description:"";e.serializeModifier=e.options.serializeModifier||function(e){return e};e.headerCheckbox=e.data.headerCheckbox;e.cache=new t.Cache.MemoryCache;e.fields=new BX.Landing.Collection.BaseCollection;e.cards=new BX.Landing.Collection.BaseCollection;e.layout=a.createLayout();e.header=a.createHeader();e.body=a.createBody();e.footer=a.createFooter();t.Dom.append(e.header,e.layout);if(e.descriptionText!==null){e.description=a.createDescription();t.Dom.append(e.description,e.layout)}t.Dom.append(e.body,e.layout);t.Dom.append(e.footer,e.layout);if(t.Type.isString(e.title)&&e.title!==""){t.Dom.append(document.createTextNode(e.title),e.header)}if(t.Type.isString(e.descriptionText)&&e.descriptionText!==""){e.description.innerHTML=e.descriptionText}if(t.Type.isArray(e.data.fields)&&e.data.fields.length>0){e.data.fields.forEach(function(t){e.addField(t)})}var i=n.Env.getInstance().getOptions(),o=i.sources;if(t.Type.isPlainObject(e.headerCheckbox)&&t.Type.isArray(o)&&o.length>0){t.Dom.append(e.getHeaderCheckbox(),e.header)}if(e.options.hidden===true){e.hide()}return e}babelHelpers.createClass(a,[{key:"show",value:function e(){t.Dom.attr(this.getLayout(),"hidden",null)}},{key:"hide",value:function e(){t.Dom.attr(this.getLayout(),"hidden",true)}},{key:"getLayout",value:function e(){return this.layout}},{key:"getHeaderCheckbox",value:function e(){var a=this;return this.cache.remember("headerCheckbox",function(){var e=t.Text.getRandom();var n=a.headerCheckbox,r=n.text,i=n.help,o=n.state,d=n.onChange;var l=t.Tag.render(f(),e);var h=t.Tag.render(u(),e,r);var p=t.Tag.render(s(),l,h);if(t.Text.toBoolean(o)){l.setAttribute("checked",true)}if(t.Type.isFunction(d)){t.Event.bind(l,"change",function(){d({state:l.checked===true,form:a})})}if(t.Type.isString(i)&&i!==""){var g=t.Tag.render(c(),i);t.Dom.append(g,p)}return p})}},{key:"getHeader",value:function e(){return this.header}},{key:"getBody",value:function e(){return this.body}},{key:"getFooter",value:function e(){return this.footer}},{key:"getNode",value:function e(){return this.layout}},{key:"addField",value:function e(a){if(t.Type.isObject(a)){this.fields.add(a);t.Dom.append(a.getNode(),this.getBody())}}},{key:"addCard",value:function e(a){var n=this;if(t.Type.isObject(a)){this.cards.add(a);a.fields.forEach(function(e){n.fields.add(e)});t.Dom.append(a.getNode(),this.getBody())}}},{key:"removeCard",value:function e(a){var n=this;if(t.Type.isObject(a)){a.fields.forEach(function(e){n.fields.remove(e)});this.cards.remove(a);t.Dom.remove(a.layout)}}},{key:"replaceCard",value:function e(t,a){this.removeCard(t);this.addCard(a)}},{key:"isCheckboxChecked",value:function e(){var a=this.header.querySelector("input");return t.Type.isDomNode(a)&&a.checked}},{key:"clone",value:function e(a){var n=new this.constructor(t.Runtime.clone(a||this.data));this.fields.forEach(function(e){if(e instanceof BX.Landing.UI.Field.Date){var a=t.Runtime.clone(e.data);a.selector=n.selector;n.addField(e.clone(a));return}n.addField(e.clone())});return n}},{key:"serialize",value:function e(){return this.serializeModifier(this.fields.reduce(function(e,a){if(t.Type.isFunction(a.getValue)){e[a.selector]=a.getValue()}return e},{}))}},{key:"removeField",value:function e(a){this.fields.remove(a);t.Dom.remove(a.layout)}},{key:"disable",value:function e(){t.Dom.addClass(this.getLayout(),"landing-ui-disabled")}},{key:"enable",value:function e(){t.Dom.removeClass(this.getLayout(),"landing-ui-disabled")}}],[{key:"createLayout",value:function e(){return t.Tag.render(l())}},{key:"createHeader",value:function e(){return t.Tag.render(d())}},{key:"createDescription",value:function e(){return t.Tag.render(o())}},{key:"createBody",value:function e(){return t.Tag.render(i())}},{key:"createFooter",value:function e(){return t.Tag.render(r())}}]);return a}(a.EventEmitter);e.BaseForm=h})(this.BX.Landing.UI.Form=this.BX.Landing.UI.Form||{},BX,BX.Event,BX.Landing);
//# sourceMappingURL=baseform.bundle.map.js