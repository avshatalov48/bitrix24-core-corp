this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,t,a){"use strict";function r(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-footer"></div>']);r=function t(){return e};return e}function n(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-body"></div>']);n=function t(){return e};return e}function i(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-description"></div>']);i=function t(){return e};return e}function o(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-header"></div>']);o=function t(){return e};return e}function d(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form"></div>']);d=function t(){return e};return e}function l(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<a href="','" class="landing-ui-form-header-checkbox-help" target="_blank"> </a>\n\t\t\t\t']);l=function t(){return e};return e}function c(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-form-header-checkbox">',"","</div>\n\t\t\t"]);c=function t(){return e};return e}function s(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<label for="','" class="landing-ui-form-header-checkbox-label">',"</label>\n\t\t\t"]);s=function t(){return e};return e}function u(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<input type="checkbox" id="','" class="landing-ui-form-header-checkbox-input">\n\t\t\t']);u=function t(){return e};return e}var f=function(e){babelHelpers.inherits(f,e);function f(){var e;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,f);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(f).call(this,r));e.setEventNamespace("BX.Landing.UI.Form.BaseForm");e.data=babelHelpers.objectSpread({},r);e.id=Reflect.has(e.data,"id")?e.data.id:t.Text.getRandom();e.selector=Reflect.has(e.data,"selector")?e.data.selector:"";e.title=Reflect.has(e.data,"title")?e.data.title:"";e.label=Reflect.has(e.data,"label")?e.data.label:"";e.type=Reflect.has(e.data,"type")?e.data.type:"content";e.code=Reflect.has(e.data,"code")?e.data.code:"";e.descriptionText=Reflect.has(e.data,"description")?e.data.description:"";e.headerCheckbox=e.data.headerCheckbox;e.cache=new t.Cache.MemoryCache;e.fields=new BX.Landing.Collection.BaseCollection;e.cards=new BX.Landing.Collection.BaseCollection;e.layout=f.createLayout();e.description=f.createDescription();e.header=f.createHeader();e.body=f.createBody();e.footer=f.createFooter();t.Dom.append(e.header,e.layout);t.Dom.append(e.description,e.layout);t.Dom.append(e.body,e.layout);t.Dom.append(e.footer,e.layout);if(t.Type.isString(e.title)&&e.title!==""){t.Dom.append(document.createTextNode(e.title),e.header)}if(t.Type.isString(e.descriptionText)&&e.descriptionText!==""){e.description.innerHTML=e.descriptionText}if(t.Type.isArray(e.data.fields)&&e.data.fields.length>0){e.data.fields.forEach(function(t){e.addField(t)})}var n=a.Env.getInstance().getOptions(),i=n.sources;if(t.Type.isPlainObject(e.headerCheckbox)&&t.Type.isArray(i)&&i.length>0){t.Dom.append(e.getHeaderCheckbox(),e.header)}return e}babelHelpers.createClass(f,[{key:"getHeaderCheckbox",value:function e(){var a=this;return this.cache.remember("headerCheckbox",function(){var e=t.Text.getRandom();var r=a.headerCheckbox,n=r.text,i=r.help,o=r.state,d=r.onChange;var f=t.Tag.render(u(),e);var h=t.Tag.render(s(),e,n);var p=t.Tag.render(c(),f,h);if(t.Text.toBoolean(o)){f.setAttribute("checked",true)}if(t.Type.isFunction(d)){t.Event.bind(f,"change",function(){d({state:f.checked===true,form:a})})}if(t.Type.isString(i)&&i!==""){var g=t.Tag.render(l(),i);t.Dom.append(g,p)}return p})}},{key:"getHeader",value:function e(){return this.header}},{key:"getBody",value:function e(){return this.body}},{key:"getFooter",value:function e(){return this.footer}},{key:"getNode",value:function e(){return this.layout}},{key:"addField",value:function e(a){if(t.Type.isObject(a)){this.fields.add(a);t.Dom.append(a.getNode(),this.getBody())}}},{key:"addCard",value:function e(a){var r=this;if(t.Type.isObject(a)){this.cards.add(a);a.fields.forEach(function(e){r.fields.add(e)});t.Dom.append(a.getNode(),this.getBody())}}},{key:"removeCard",value:function e(a){var r=this;if(t.Type.isObject(a)){a.fields.forEach(function(e){r.fields.remove(e)});this.cards.remove(a);t.Dom.remove(a.layout)}}},{key:"replaceCard",value:function e(t,a){this.removeCard(t);this.addCard(a)}},{key:"isCheckboxChecked",value:function e(){var a=this.header.querySelector("input");return t.Type.isDomNode(a)&&a.checked}},{key:"clone",value:function e(a){var r=new this.constructor(t.Runtime.clone(a||this.data));this.fields.forEach(function(e){if(e instanceof BX.Landing.UI.Field.Date){var a=t.Runtime.clone(e.data);a.selector=r.selector;r.addField(e.clone(a));return}r.addField(e.clone())});return r}},{key:"serialize",value:function e(){return this.fields.reduce(function(e,t){e[t.selector]=t.getValue();return e},{})}},{key:"removeField",value:function e(a){this.fields.remove(a);t.Dom.remove(a.layout)}}],[{key:"createLayout",value:function e(){return t.Tag.render(d())}},{key:"createHeader",value:function e(){return t.Tag.render(o())}},{key:"createDescription",value:function e(){return t.Tag.render(i())}},{key:"createBody",value:function e(){return t.Tag.render(n())}},{key:"createFooter",value:function e(){return t.Tag.render(r())}}]);return f}(t.Event.EventEmitter);e.BaseForm=f})(this.BX.Landing.UI.Form=this.BX.Landing.UI.Form||{},BX,BX.Landing);
//# sourceMappingURL=baseform.bundle.map.js