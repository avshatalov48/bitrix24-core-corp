this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,t,a,i){"use strict";var r,n,o,d,l,s,c,u,f;function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){babelHelpers.defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=function(e){babelHelpers.inherits(a,e);function a(){var e;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,a);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).call(this,r));e.setEventNamespace("BX.Landing.UI.Form.BaseForm");e.data=p({},r);e.options=e.data;e.id=Reflect.has(e.data,"id")?e.data.id:t.Text.getRandom();e.selector=Reflect.has(e.data,"selector")?e.data.selector:"";e.title=Reflect.has(e.data,"title")?e.data.title:"";e.label=Reflect.has(e.data,"label")?e.data.label:"";e.type=Reflect.has(e.data,"type")?e.data.type:"content";e.code=Reflect.has(e.data,"code")?e.data.code:"";e.descriptionText=Reflect.has(e.data,"description")?e.data.description:"";e.serializeModifier=e.options.serializeModifier||function(e){return e};e.headerCheckbox=e.data.headerCheckbox;e.cache=new t.Cache.MemoryCache;e.fields=new BX.Landing.Collection.BaseCollection;e.cards=new BX.Landing.Collection.BaseCollection;e.layout=a.createLayout();e.header=a.createHeader();e.body=a.createBody();e.footer=a.createFooter();t.Dom.append(e.header,e.layout);if(e.descriptionText!==null){e.description=a.createDescription();t.Dom.append(e.description,e.layout)}t.Dom.append(e.body,e.layout);t.Dom.append(e.footer,e.layout);if(t.Type.isString(e.title)&&e.title!==""){t.Dom.append(document.createTextNode(e.title),e.header)}if(t.Type.isString(e.descriptionText)&&e.descriptionText!==""){e.description.innerHTML=e.descriptionText}if(t.Type.isArray(e.data.fields)&&e.data.fields.length>0){e.data.fields.forEach((function(t){e.addField(t)}))}var n=i.Env.getInstance().getOptions(),o=n.sources;if(t.Type.isPlainObject(e.headerCheckbox)&&t.Type.isArray(o)&&o.length>0){t.Dom.append(e.getHeaderCheckbox(),e.header)}if(e.options.hidden===true){e.hide()}return e}babelHelpers.createClass(a,[{key:"show",value:function e(){t.Dom.attr(this.getLayout(),"hidden",null)}},{key:"hide",value:function e(){t.Dom.attr(this.getLayout(),"hidden",true)}},{key:"getLayout",value:function e(){return this.layout}},{key:"getHeaderCheckbox",value:function e(){var a=this;return this.cache.remember("headerCheckbox",(function(){var e=t.Text.getRandom();var i=a.headerCheckbox,l=i.text,s=i.help,c=i.state,u=i.onChange;var f=t.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<input type="checkbox" id="','" class="landing-ui-form-header-checkbox-input">\n\t\t\t'])),e);var h=t.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<label for="','" class="landing-ui-form-header-checkbox-label">',"</label>\n\t\t\t"])),e,l);var p=t.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-form-header-checkbox">',"","</div>\n\t\t\t"])),f,h);if(t.Text.toBoolean(c)){f.setAttribute("checked",true)}if(t.Type.isFunction(u)){t.Event.bind(f,"change",(function(){u({state:f.checked===true,form:a})}))}if(t.Type.isString(s)&&s!==""){var g=t.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<a href="','" class="landing-ui-form-header-checkbox-help" target="_blank"> </a>\n\t\t\t\t'])),s);t.Dom.append(g,p)}return p}))}},{key:"getHeader",value:function e(){return this.header}},{key:"getBody",value:function e(){return this.body}},{key:"getFooter",value:function e(){return this.footer}},{key:"getNode",value:function e(){return this.layout}},{key:"addField",value:function e(a){if(t.Type.isObject(a)){this.fields.add(a);t.Dom.append(a.getNode(),this.getBody())}}},{key:"addCard",value:function e(a){var i=this;if(t.Type.isObject(a)){this.cards.add(a);a.fields.forEach((function(e){i.fields.add(e)}));t.Dom.append(a.getNode(),this.getBody())}}},{key:"removeCard",value:function e(a){var i=this;if(t.Type.isObject(a)){a.fields.forEach((function(e){i.fields.remove(e)}));this.cards.remove(a);t.Dom.remove(a.layout)}}},{key:"replaceCard",value:function e(t,a){this.removeCard(t);this.addCard(a)}},{key:"replaceField",value:function e(a,i){if(t.Type.isObject(a)&&t.Type.isObject(i)){t.Dom.replace(a.getNode(),i.getNode());this.fields.remove(a);this.fields.add(i)}}},{key:"isCheckboxChecked",value:function e(){var a=this.header.querySelector("input");return t.Type.isDomNode(a)&&a.checked}},{key:"clone",value:function e(a){var i=new this.constructor(t.Runtime.clone(a||this.data));this.fields.forEach((function(e){if(e instanceof BX.Landing.UI.Field.Date){var a=t.Runtime.clone(e.data);a.selector=i.selector;i.addField(e.clone(a));return}i.addField(e.clone())}));return i}},{key:"serialize",value:function e(){return this.serializeModifier(this.fields.reduce((function(e,a){if(t.Type.isFunction(a.getValue)){e[a.selector]=a.getValue()}return e}),{}))}},{key:"removeField",value:function e(a){this.fields.remove(a);t.Dom.remove(a.layout)}},{key:"disable",value:function e(){t.Dom.addClass(this.getLayout(),"landing-ui-disabled")}},{key:"enable",value:function e(){t.Dom.removeClass(this.getLayout(),"landing-ui-disabled")}}],[{key:"createLayout",value:function e(){return t.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form"></div>'])))}},{key:"createHeader",value:function e(){return t.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-header"></div>'])))}},{key:"createDescription",value:function e(){return t.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-description"></div>'])))}},{key:"createBody",value:function e(){return t.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-body"></div>'])))}},{key:"createFooter",value:function e(){return t.Tag.render(f||(f=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-form-footer"></div>'])))}}]);return a}(a.EventEmitter);e.BaseForm=g})(this.BX.Landing.UI.Form=this.BX.Landing.UI.Form||{},BX,BX.Event,BX.Landing);
//# sourceMappingURL=baseform.bundle.map.js