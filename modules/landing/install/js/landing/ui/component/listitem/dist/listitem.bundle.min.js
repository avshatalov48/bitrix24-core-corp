this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(t,e,n,i,o,a){"use strict";function r(t){if(a.Type.isPlainObject(t)){return Object.entries(t).reduce(function(t,e){var n=babelHelpers.slicedToArray(e,2),i=n[0],o=n[1];if(a.Type.isString(i)&&i.startsWith("on")&&a.Type.isFunction(o)){t[i]=o}return t},{})}return{}}function s(){var t=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div \n\t\t\t\t\tclass="landing-ui-component-list-item" \n\t\t\t\t\tdata-id="','"\n\t\t\t\t\tdata-type="','"\n\t\t\t\t\tdata-style="','"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"]);s=function e(){return t};return t}function u(){var t=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-component-list-item-body"></div>\n\t\t\t']);u=function e(){return t};return t}function l(){var t=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-component-list-item-header">\n\t\t\t\t\t','\n\t\t\t\t\t<div class="landing-ui-component-list-item-text">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t",'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="landing-ui-component-list-item-actions">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"]);l=function e(){return t};return t}function c(){var t=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-component-list-item-text-description">',"</div>\n\t\t\t"]);c=function e(){return t};return t}function p(){var t=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-ui-component-list-item-text-title">',"</div>\n\t\t\t"]);p=function e(){return t};return t}var d=function(t){babelHelpers.inherits(i,t);function i(t){var e;babelHelpers.classCallCheck(this,i);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).call(this));e.setEventNamespace("BX.Landing.UI.Component.ListItem");e.subscribeFromOptions(r(t));e.onEditButtonClick=e.onEditButtonClick.bind(babelHelpers.assertThisInitialized(e));e.onRemoveButtonClick=e.onRemoveButtonClick.bind(babelHelpers.assertThisInitialized(e));e.onFormChange=e.onFormChange.bind(babelHelpers.assertThisInitialized(e));e.options=babelHelpers.objectSpread({},t);e.cache=new a.Cache.MemoryCache;if(a.Type.isDomNode(e.options.appendTo)){e.appendTo(e.options.appendTo)}else if(a.Type.isDomNode(e.options.prependTo)){e.prependTo(e.options.prependTo)}if(e.options.error){a.Dom.addClass(e.getLayout(),"landing-ui-error")}return e}babelHelpers.createClass(i,[{key:"appendTo",value:function t(e){a.Dom.append(this.getLayout(),e)}},{key:"prependTo",value:function t(e){a.Dom.prepend(this.getLayout(),e)}},{key:"getDragButtonLayout",value:function t(){return this.cache.remember("dragButtonLayout",function(){var t=new o.IconButton({type:o.IconButton.Types.drag,title:n.Loc.getMessage("LANDING_UI_COMPONENT_LIST_ITEM_DRAG_TITLE"),style:{position:"absolute",left:"1px",width:"8px"}});return t.getLayout()})}},{key:"getTitleLayout",value:function t(){var e=this;return this.cache.remember("titleLayout",function(){return a.Tag.render(p(),a.Text.encode(e.options.title))})}},{key:"setTitle",value:function t(e){this.getTitleLayout().textContent=e}},{key:"getTitle",value:function t(){return this.getTitleLayout().innerText}},{key:"getDescriptionLayout",value:function t(){var e=this;return this.cache.remember("descriptionLayout",function(){return a.Tag.render(c(),a.Text.encode(e.options.description))})}},{key:"setDescription",value:function t(e){this.getDescriptionLayout().textContent=e}},{key:"getDescription",value:function t(){return this.getDescriptionLayout().innerText}},{key:"getEditButtonLayout",value:function t(){var e=this;return this.cache.remember("editButtonLayout",function(){var t=new o.IconButton({type:o.IconButton.Types.edit,onClick:e.onEditButtonClick,title:n.Loc.getMessage("LANDING_UI_COMPONENT_LIST_ITEM_EDIT_TITLE")});return t.getLayout()})}},{key:"onEditButtonClick",value:function t(n){n.preventDefault();var i=new e.BaseEvent;this.emit("onEdit",i);if(!i.isDefaultPrevented()){if(!this.isOpened()){this.open()}else{this.close()}}}},{key:"getRemoveButtonLayout",value:function t(){var e=this;return this.cache.remember("removeButtonLayout",function(){var t=new o.IconButton({type:o.IconButton.Types.remove,onClick:e.onRemoveButtonClick,title:n.Loc.getMessage("LANDING_UI_COMPONENT_LIST_ITEM_REMOVE_TITLE")});return t.getLayout()})}},{key:"onRemoveButtonClick",value:function t(e){e.preventDefault();a.Dom.remove(this.getLayout());this.emit("onRemove")}},{key:"getHeaderLayout",value:function t(){var e=this;return this.cache.remember("headerLayout",function(){return a.Tag.render(l(),e.options.draggable?e.getDragButtonLayout():"",e.getTitleLayout(),e.getDescriptionLayout(),e.options.editable?e.getEditButtonLayout():"",e.options.removable?e.getRemoveButtonLayout():"")})}},{key:"getBodyLayout",value:function t(){return this.cache.remember("bodyLayout",function(){return a.Tag.render(u())})}},{key:"getLayout",value:function t(){var e=this;return this.cache.remember("layout",function(){return a.Tag.render(s(),e.options.id,e.options.type,e.options.isSeparator?"separator":"item",e.getHeaderLayout(),e.getBodyLayout())})}},{key:"open",value:function t(){a.Dom.addClass(this.getLayout(),"landing-ui-component-list-item-opened");if(!a.Type.isStringFilled(this.getBodyLayout().innerHTML)){if(this.options.form){a.Dom.append(this.options.form.getLayout(),this.getBodyLayout());this.options.form.subscribe("onChange",this.onFormChange)}}}},{key:"isOpened",value:function t(){return a.Dom.hasClass(this.getLayout(),"landing-ui-component-list-item-opened")}},{key:"close",value:function t(){a.Dom.removeClass(this.getLayout(),"landing-ui-component-list-item-opened")}},{key:"onFormChange",value:function t(){this.emit("onFormChange")}},{key:"setId",value:function t(e){a.Dom.attr(this.getLayout(),"data-id",e)}},{key:"getId",value:function t(){return a.Dom.attr(this.getLayout(),"data-id")}},{key:"getValue",value:function t(){var e={name:this.options.id};if(a.Type.isStringFilled(this.options.type)){e.type=this.options.type}if(this.options.form){var n=this.options.form.serialize();Object.assign(e,n)}if(this.options.content){e.content=this.options.content}if(this.options.sourceOptions){var i=a.Runtime.clone(this.options.sourceOptions);if(a.Type.isArray(this.options.sourceOptions.items)&&a.Type.isArray(e.items)){delete i.items}return a.Runtime.merge(i,e)}return e}}]);return i}(e.EventEmitter);t.ListItem=d})(this.BX.Landing.UI.Component=this.BX.Landing.UI.Component||{},BX.Event,BX.Landing,BX.Landing.UI.Form,BX.Landing.UI.Component,BX);
//# sourceMappingURL=listitem.bundle.map.js