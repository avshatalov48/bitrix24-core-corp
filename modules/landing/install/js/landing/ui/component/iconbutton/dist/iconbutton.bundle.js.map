{"version":3,"file":"iconbutton.bundle.js","sources":["../src/iconbutton.js"],"sourcesContent":["import {Cache, Tag, Type, Dom} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {fetchEventsFromOptions} from 'landing.ui.component.internal';\n\nimport './css/style.css';\n\ntype IconButtonOptions = {\n\tid?: string,\n\tonClick?: () => void,\n\t// eslint-disable-next-line no-use-before-define\n\ttype: $Values<typeof IconButton.Types>,\n\ttitle?: string,\n\tdata?: any,\n\tstyle?: CSSStyleDeclaration,\n\ticonSize?: string,\n};\n\nexport class IconButton extends EventEmitter\n{\n\tstatic Types = {\n\t\tremove: 'remove',\n\t\tdrag: 'drag',\n\t\tedit: 'edit',\n\t\tfont: 'font',\n\t\tlink: 'link',\n\t\tuser1: 'user1',\n\t\tuser1Active: 'user1active',\n\t};\n\n\tconstructor(options: IconButtonOptions)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Component.IconButton');\n\t\tthis.subscribeFromOptions(fetchEventsFromOptions(options));\n\t\tthis.options = {...options};\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tgetData(): any\n\t{\n\t\treturn this.options.data;\n\t}\n\n\tonClick(event: MouseEvent)\n\t{\n\t\tevent.preventDefault();\n\t\tthis.emit('onClick');\n\t}\n\n\tsetType(type: $Values<typeof IconButton.Types>)\n\t{\n\t\tthis.getLayout().className = `landing-ui-button-icon-${type}`;\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\tconst layout = Tag.render`\n\t\t\t\t<div \n\t\t\t\t\tclass=\"landing-ui-button-icon-${this.options.type}\"\n\t\t\t\t\tonclick=\"${this.onClick}\"\n\t\t\t\t\ttitle=\"${Type.isStringFilled(this.options.title) ? this.options.title : ''}\"\n\t\t\t\t></div>\n\t\t\t`;\n\n\t\t\tif (Type.isPlainObject(this.options.style))\n\t\t\t{\n\t\t\t\tDom.style(layout, this.options.style);\n\t\t\t}\n\n\t\t\tif (Type.isStringFilled(this.options.iconSize))\n\t\t\t{\n\t\t\t\tDom.style(layout, 'background-size', this.options.iconSize);\n\t\t\t}\n\n\t\t\treturn layout;\n\t\t});\n\t}\n}\n"],"names":["IconButton","options","setEventNamespace","subscribeFromOptions","fetchEventsFromOptions","cache","Cache","MemoryCache","onClick","bind","data","event","preventDefault","emit","type","getLayout","className","remember","layout","Tag","render","Type","isStringFilled","title","isPlainObject","style","Dom","iconSize","EventEmitter","remove","drag","edit","font","link","user1","user1Active"],"mappings":";;;;;;;;;;;;;;;KAiBaA,UAAb;CAAA;;CAYC,sBAAYC,OAAZ,EACA;CAAA;;CAAA;CACC;;CACA,UAAKC,iBAAL,CAAuB,oCAAvB;;CACA,UAAKC,oBAAL,CAA0BC,oDAAsB,CAACH,OAAD,CAAhD;;CACA,UAAKA,OAAL,iCAAmBA,OAAnB;CACA,UAAKI,KAAL,GAAa,IAAIC,eAAK,CAACC,WAAV,EAAb;CAEA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,2CAAf;CAPD;CAQC;;CArBF;CAAA;CAAA,8BAwBC;CACC,aAAO,KAAKR,OAAL,CAAaS,IAApB;CACA;CA1BF;CAAA;CAAA,4BA4BSC,KA5BT,EA6BC;CACCA,MAAAA,KAAK,CAACC,cAAN;CACA,WAAKC,IAAL,CAAU,SAAV;CACA;CAhCF;CAAA;CAAA,4BAkCSC,IAlCT,EAmCC;CACC,WAAKC,SAAL,GAAiBC,SAAjB,oCAAuDF,IAAvD;CACA;CArCF;CAAA;CAAA,gCAwCC;CAAA;;CACC,aAAO,KAAKT,KAAL,CAAWY,QAAX,CAAoB,QAApB,EAA8B,YAAM;CAC1C,YAAMC,MAAM,GAAGC,aAAG,CAACC,MAAP,oBAEsB,MAAI,CAACnB,OAAL,CAAaa,IAFnC,EAGC,MAAI,CAACN,OAHN,EAIDa,cAAI,CAACC,cAAL,CAAoB,MAAI,CAACrB,OAAL,CAAasB,KAAjC,IAA0C,MAAI,CAACtB,OAAL,CAAasB,KAAvD,GAA+D,EAJ9D,CAAZ;;CAQA,YAAIF,cAAI,CAACG,aAAL,CAAmB,MAAI,CAACvB,OAAL,CAAawB,KAAhC,CAAJ,EACA;CACCC,UAAAA,aAAG,CAACD,KAAJ,CAAUP,MAAV,EAAkB,MAAI,CAACjB,OAAL,CAAawB,KAA/B;CACA;;CAED,YAAIJ,cAAI,CAACC,cAAL,CAAoB,MAAI,CAACrB,OAAL,CAAa0B,QAAjC,CAAJ,EACA;CACCD,UAAAA,aAAG,CAACD,KAAJ,CAAUP,MAAV,EAAkB,iBAAlB,EAAqC,MAAI,CAACjB,OAAL,CAAa0B,QAAlD;CACA;;CAED,eAAOT,MAAP;CACA,OApBM,CAAP;CAqBA;CA9DF;CAAA;CAAA,EAAgCU,6BAAhC;6BAAa5B,qBAEG;CACd6B,EAAAA,MAAM,EAAE,QADM;CAEdC,EAAAA,IAAI,EAAE,MAFQ;CAGdC,EAAAA,IAAI,EAAE,MAHQ;CAIdC,EAAAA,IAAI,EAAE,MAJQ;CAKdC,EAAAA,IAAI,EAAE,MALQ;CAMdC,EAAAA,KAAK,EAAE,OANO;CAOdC,EAAAA,WAAW,EAAE;CAPC;;;;;;;;"}