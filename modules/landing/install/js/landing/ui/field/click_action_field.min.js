(function(){"use strict";BX.namespace("BX.Landing.UI.Field");BX.Landing.UI.Field.ClickAction=function(i){BX.Landing.UI.Field.BaseField.apply(this,arguments);BX.addClass(this.layout,"landing-ui-field-click-action");BX.remove(this.input);this.reference=i.reference;this.linkField=i.linkField;this.textField=new BX.Landing.UI.Field.Text({title:BX.Landing.Loc.getMessage("LANDING_BLOCK__DYNAMIC_LINK_TEXT_FIELD_LABEL"),textOnly:true,content:i.content||""});this.actionField=new BX.Landing.UI.Field.Dropdown({title:BX.Landing.Loc.getMessage("LANDING_BLOCK__DYNAMIC_LINK_ACTION_FIElD_LABEL"),items:this.getActions(),onValueChange:this.onActionChange.bind(this)});this.grid=this.createGrid();this.textContainer=this.grid.children[0];this.actionContainer=this.grid.children[1];this.additionalContainer=this.grid.children[2];this.layout.appendChild(this.grid);this.textContainer.appendChild(this.textField.layout);this.actionContainer.appendChild(this.actionField.layout);if(BX.type.isPlainObject(i.value)){this.setValue(i.value)}this.onActionChange()};BX.Landing.UI.Field.ClickAction.prototype={constructor:BX.Landing.UI.Field.ClickAction,__proto__:BX.Landing.UI.Field.BaseField.prototype,createGrid:function(){return BX.create({tag:"div",props:{className:"landing-ui-field-click-action-grid"},children:[BX.create({tag:"div",props:{className:"landing-ui-field-click-action-grid-text"}}),BX.create({tag:"div",props:{className:"landing-ui-field-click-action-grid-action"}}),BX.create({tag:"div",props:{className:"landing-ui-field-click-action-layout-additional"}})]})},getActions:function(){return this.reference.actions.map(function(i){return{name:i.name,value:i.type}})},onActionChange:function(){var i=this.actionField.getValue();if(i==="link"){this.additionalContainer.appendChild(this.linkField.layout);return}this.additionalContainer.innerHTML=""},getValue:function(){var i=this.linkField.getValue();if(BX.type.isPlainObject(i)){delete i.text}return{id:this.reference.id,text:this.textField.getValue(),action:this.actionField.getValue(),link:i}},setValue:function(i){if(BX.type.isPlainObject(i)){this.textField.setValue(i.text);this.actionField.setValue(i.action);if(i.link){this.linkField.setValue(i.link,true);this.linkField.hrefInput.makeDisplayedHrefValue()}this.onActionChange()}}}})();
//# sourceMappingURL=click_action_field.map.js