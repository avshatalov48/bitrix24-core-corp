{"version":3,"sources":["agreementslist.bundle.js"],"names":["this","BX","Landing","UI","exports","main_core","main_popup","landing_ui_field_basefield","ui_draganddrop_draggable","landing_ui_field_radiobuttonfield","landing_ui_form_formsettingsform","crm_form_client","landing_ui_component_listitem","landing_ui_component_actionpanel","main_core_events","main_loader","landing_backend","_templateObject4","data","babelHelpers","taggedTemplateLiteral","_templateObject3","_templateObject2","_templateObject","AgreementsList","_BaseField","inherits","options","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setEventNamespace","onSelectAgreementClick","bind","assertThisInitialized","onCreateAgreementClick","onUserConsentEditSave","onUserConsentEditCancel","onItemRemoveClick","onDragEnd","items","Dom","replace","input","getListContainer","append","getActionsContainer","layout","showAgreementLoader","FormClient","getInstance","prepareOptions","formOptions","value","then","result","agreements","map","item","index","Runtime","merge","hideAgreementLoader","setTimeout","forEach","agreement","addItem","draggable","Draggable","context","window","parent","container","dragElement","type","MOVE","offset","y","subscribe","addCustomEvent","Reflection","getClass","top","createClass","key","getAgreementsList","_this2","cache","remember","agreementsList","setAgreementsList","set","loadAgreementsList","Backend","action","orderBy","getAgreementById","id","find","String","itemOptions","createItem","appendTo","filter","currentItem","push","Tag","render","_this3","getSelectAgreementButton","getCreateAgreementButton","_this4","Loc","getMessage","_this5","getSelectedAgreements","toConsumableArray","children","attr","getAgreementsMenu","_this6","menu","Menu","bindElement","autoHide","maxWidth","events","onPopupShow","style","getMenuContainer","left","right","some","addMenuItem","text","name","onclick","onAgreementsMenuItemClick","refreshAgreementsMenu","agreementsMenu","close","destroy","delete","createItemForm","_this7","FormSettingsForm","title","onChange","emit","skipPrepare","serializeModifier","checked","required","fields","RadioButtonField","selector","icon","ActionPanel","onClick","editAgreement","openConsentsList","getAgreementLoader","Loader","size","mode","loader","show","hide","_this8","event","preventDefault","getPopupWindow","isShown","onItemHeaderClick","parentElement","currentTarget","toggleClass","agreementListItem","ListItem","description","labelText","sourceOptions","editable","removable","form","onRemove","setCurrentlyEdited","getCurrentlyEdited","get","buildEditPath","agreementId","concat","buildConsentsListPath","editPath","SidePanel","Instance","open","cacheable","allowChangeHistory","closeEditAgreementSlider","currentlyEdited","Type","isPlainObject","path","slider","getSlider","_this9","getValue","lastAgreement","pop","clean","resultAgreement","currentAgreement","objectSpread","getTarget","_this10","element","BaseField","Field","Main","DragAndDrop","Form","Crm","Component","Event"],"mappings":"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","file":"agreementslist.bundle.map.js"}