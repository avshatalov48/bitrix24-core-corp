{"version":3,"sources":["link_field.js"],"names":["BX","namespace","trim","Landing","Utils","clone","isPlainObject","decodeDataValue","fireCustomEvent","htmlToElement","style","escapeText","UI","Field","Link","data","BaseField","apply","this","arguments","options","remove","input","onValueChangeHandler","onValueChange","content","text","href","target","skipContent","customUrlDisabled","disableCustomURL","detailPageMode","containsImage","containsHtml","Text","placeholder","Loc","getMessage","selector","textOnly","hrefInputValue","hrefInput","getValue","value","firstElementChild","textNode","querySelector","innerText","decode","replace","event","Event","BaseEvent","compatData","emit","bind","layout","hidden","header","LinkURL","title","onInput","onHrefInput","disallowType","disableBlocks","allowedTypes","sourceField","onHrefValueChange","onNewPage","innerHTML","targetInput","DropdownInline","className","items","_self","_blank","_popup","mediaButton","Button","BaseButton","html","onClick","onMediaClick","disabled","mediaLayout","create","props","mediaHelpButton","addEventListener","onMediaHelpButtonMouseover","onMediaHelpButtonMouseout","wrapper","createWrapper","left","createLeft","center","createCenter","right","createRight","appendChild","classList","add","adjustVideo","adjustEditLink","adjustTarget","prototype","constructor","__proto__","superClass","type","getPlaceholderType","pageType","Env","getInstance","getType","isString","length","getPageData","then","result","urlMask","Main","params","sef_url","landing_view","siteId","id","slice","call","querySelectorAll","forEach","editLink","createEditLink","children","attrs","isChanged","JSON","stringify","element","matches","preparedValue","isAvailableMedia","isEnabledMedia","data-url","mediaService","getEmbedURL","getDynamic","getAttribute","setValue","disable","test","reset","enableMedia","enable","closePopup","showMediaPreview","disableMedia","hideMediaPreview","hideMediaSettings","isEnabled","showMediaSettings","mediaSettings","getSettingsForm","ServiceFactory","MediaService","Factory","Tool","Suggest","show","description","outerHTML","angleOffset","hide","onVideoPreviewClick","$","fancybox","open","src","afterShow","instance","current","iframe","$slide","find","MediaPlayer","scrolling","loader","Loader","mode","offset","top","video","getURLPreviewElement","embedURL","getQueryParams","url"],"mappings":"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","file":"link_field.map.js"}