(function(){"use strict";BX.namespace("BX.Landing.UI.Field");var t=BX.Landing.Utils.bind;var e=BX.Landing.Utils.fireCustomEvent;var i=BX.Landing.Utils.getQueryParams;var n=BX.Landing.Utils.remove;var a=BX.Landing.Utils.create;BX.Landing.UI.Field.Embed=function(e){e.textOnly=true;var i=e.content;e.content=i.source||i.src;BX.Landing.UI.Field.Text.apply(this,arguments);this.onInputInput=this.onInputInput.bind(this);t(this.input,"input",this.onInputInput);this.hiddenInput=a("input",{props:{type:"hidden",value:i.src||this.input.innerText}});this.adjustForm()};BX.Landing.UI.Field.Embed.prototype={constructor:BX.Landing.UI.Field.Embed,__proto__:BX.Landing.UI.Field.Text.prototype,onInputInput:function(){this.adjustForm(true);this.onInputHandler(this.getValue());this.onValueChangeHandler(this);var t=new BX.Event.BaseEvent({data:{value:this.getValue()},compatData:[this.getValue()]});this.emit("change",t)},getValue:function(){return{src:this.mediaService?this.mediaService.getEmbedURL():this.input.innerText,source:this.input.innerText}},adjustForm:function(t){var e=new BX.Landing.MediaService.Factory;if(this.mediaService&&this.mediaService.form){n(this.mediaService.form.layout)}this.mediaService=e.create(this.input.innerText,!t?i(this.hiddenInput.value):{});if(this.mediaService){var a=this.mediaService.getSettingsForm();if(a){this.layout.appendChild(a.layout)}}}}})();
//# sourceMappingURL=embed_field.map.js