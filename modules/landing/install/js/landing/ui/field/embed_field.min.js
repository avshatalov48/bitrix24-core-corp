(function(){"use strict";BX.namespace("BX.Landing.UI.Field");var t=BX.Landing.Utils.bind;var i=BX.Landing.Utils.fireCustomEvent;var e=BX.Landing.Utils.getQueryParams;var n=BX.Landing.Utils.remove;var a=BX.Landing.Utils.create;BX.Landing.UI.Field.Embed=function(i){i.textOnly=true;var e=i.content;i.content=e.source||e.src;BX.Landing.UI.Field.Text.apply(this,arguments);this.onInputInput=this.onInputInput.bind(this);t(this.input,"input",this.onInputInput);this.hiddenInput=a("input",{props:{type:"hidden",value:e.src||this.input.innerText}});this.adjustForm()};BX.Landing.UI.Field.Embed.prototype={constructor:BX.Landing.UI.Field.Embed,__proto__:BX.Landing.UI.Field.Text.prototype,onInputInput:function(){this.adjustForm(true);this.onInputHandler(this.getValue());this.onValueChangeHandler(this);i(this,"BX.Landing.UI.Field:change",[this.getValue()])},getValue:function(){return{src:this.mediaService?this.mediaService.getEmbedURL():this.input.innerText,source:this.input.innerText}},adjustForm:function(t){var i=new BX.Landing.MediaService.Factory;if(this.mediaService&&this.mediaService.form){n(this.mediaService.form.layout)}this.mediaService=i.create(this.input.innerText,!t?e(this.hiddenInput.value):{});if(this.mediaService){var a=this.mediaService.getSettingsForm();if(a){this.layout.appendChild(a.layout)}}}}})();