(function(){"use strict";BX.namespace("BX.Landing.UI.Field");var t=BX.Landing.Utils.addClass;var i=BX.Landing.Utils.isArray;var e=BX.Landing.Utils.isPlainObject;var n=BX.Landing.Utils.isFunction;var a=BX.Landing.Utils.create;var l=BX.Landing.Utils.random;var s=BX.Landing.Utils.escapeHtml;var r=BX.Landing.Utils.append;var c=BX.Landing.Utils.slice;var u=BX.Landing.Utils.encodeDataValue;var h=BX.Landing.Utils.decodeDataValue;var d=BX.Landing.Utils.isNumber;var o=BX.Landing.Utils.isBoolean;var p=BX.Landing.Utils.data;var f=BX.Landing.Utils.clone;BX.Landing.UI.Field.Checkbox=function(e){BX.Landing.UI.Field.BaseField.apply(this,arguments);t(this.layout,"landing-ui-field-checkbox");this.onChangeHandler=n(e.onChange)?e.onChange:function(){};this.items=i(e.items)?e.items:[];this.value=i(e.value)?e.value:null;this.depth=d(e.depth)?e.depth:0;this.compact=o(e.compact)?e.compact:false;this.multiple=e.multiple!==false;p(this.layout,"data-depth",this.depth);p(this.layout,"data-compact",this.compact);if(i(this.value)){this.value=this.value.map(function(t){return h(t)})}if(!i(this.value)){this.value=this.items.filter(function(t){return t.checked}).map(function(t){return h(t.value)})}this.content=this.value;this.items.forEach(this.addItem,this)};BX.Landing.UI.Field.Checkbox.prototype={constructor:BX.Landing.UI.Field.Checkbox,__proto__:BX.Landing.UI.Field.BaseField.prototype,addItem:function(t){if(e(t)){var i="checkbox_item_"+l();var n=a("div",{props:{className:"landing-ui-field-checkbox-item"},children:[a("input",{props:{className:"landing-ui-field-checkbox-item-checkbox"},attrs:{id:i,type:"checkbox",value:u(t.value),checked:this.value.find(function(i){return i==t.value})!==undefined},events:{change:this.onItemChange.bind(this)}}),a("label",{props:{className:"landing-ui-field-checkbox-item-label"},attrs:{for:i},html:s(t.name)})]});r(n,this.input)}return n},onItemChange:function(){this.onChangeHandler(this);this.onValueChangeHandler(this)},isChanged:function(){var t=f(this.content).sort();var i=this.getValue().sort();return JSON.stringify(t)!==JSON.stringify(i)},setValue:function(t){if(i(t)){c(this.input.children).forEach(function(t){t.querySelector("input").checked=false});t.forEach(function(t){var i=c(this.input.children).forEach(function(i){return i.querySelector("input").value==t},this);if(i){i.querySelector("input").checked=true}},this)}},getValue:function(){var t=c(this.input.children).filter(function(t){return t.querySelector("input").checked}).map(function(t){return h(t.querySelector("input").value)});if(!this.multiple){return t.length>0?t[0]:false}return t}}})();
//# sourceMappingURL=checkbox_field.map.js