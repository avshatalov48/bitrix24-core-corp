this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,t,n,a){"use strict";function i(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-field-input">',"</div>\n\t\t"]);i=function t(){return e};return e}function r(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-field-description">\n\t\t\t\t<span class="fa fa-info-circle"> </span> ',"\n\t\t\t</div>\n\t\t"]);r=function t(){return e};return e}function l(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-field-header"></div>']);l=function t(){return e};return e}function o(){var e=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-field"></div>']);o=function t(){return e};return e}var s=function(e){babelHelpers.inherits(n,e);babelHelpers.createClass(n,null,[{key:"createLayout",value:function e(){return t.Tag.render(o())}},{key:"createHeader",value:function e(){return t.Tag.render(l())}},{key:"createDescription",value:function e(n){return t.Tag.render(r(),n)}}]);function n(){var e;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,n);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this,i));e.setEventNamespace("BX.Landing.UI.Field");e.subscribeFromOptions(a.fetchEventsFromOptions(i));e.data=babelHelpers.objectSpread({},i);e.options=e.data;e.id=Reflect.has(e.data,"id")?e.data.id:t.Text.getRandom();e.selector=Reflect.has(e.data,"selector")?e.data.selector:t.Text.getRandom();e.content=Reflect.has(e.data,"content")?e.data.content:"";e.title=t.Type.isString(e.data.title)?e.data.title:"";e.placeholder=t.Type.isString(e.data.placeholder)?e.data.placeholder:"";e.className=t.Type.isString(e.data.className)?e.data.className:"";e.descriptionText=t.Type.isString(e.data.description)?e.data.description:"";e.description=null;e.attribute=t.Type.isString(e.data.attribute)?e.data.attribute:"";e.hidden=t.Text.toBoolean(e.data.hidden);e.property=t.Type.isString(e.data.property)?e.data.property:"";e.style=Reflect.has(e.data,"style")?e.data.style:"";e.cache=new t.Cache.MemoryCache;e.contentRoot=Reflect.has(e.data,"contentRoot")?e.data.contentRoot:null;var r=e.data.onValueChange;e.onValueChangeHandler=t.Type.isFunction(r)?r:function(){};e.onPaste=e.onPaste.bind(babelHelpers.assertThisInitialized(e));e.layout=n.createLayout();e.header=n.createHeader();e.input=e.createInput();e.setTitle(e.title);t.Dom.append(e.header,e.layout);t.Dom.append(e.input,e.layout);t.Dom.attr(e.layout,"data-selector",e.selector);t.Dom.attr(e.input,"data-placeholder",e.placeholder);if(t.Type.isArrayLike(e.className)){t.Dom.addClass(e.layout,e.className)}e.setDescription(e.descriptionText);if(e.data.disabled===true){e.disable()}t.Event.bind(e.input,"paste",e.onPaste);e.init();if(e.data.help){BX.Dom.append(top.BX.UI.Hint.createNode(e.data.help),e.header);top.BX.UI.Hint.init(BX.Landing.UI.Panel.StylePanel.getInstance().layout)}return e}babelHelpers.createClass(n,[{key:"setTitle",value:function e(n){this.header.innerHTML=t.Text.encode(n)}},{key:"getDescription",value:function e(){return this.layout.querySelector(".landing-ui-field-description")}},{key:"setDescription",value:function e(a){if(t.Type.isString(a)&&a!==""){this.descriptionText=a;this.description=n.createDescription(this.descriptionText);t.Dom.remove(this.getDescription());t.Dom.append(this.description,this.layout)}}},{key:"removeDescription",value:function e(){t.Dom.remove(this.getDescription());this.description=null;this.descriptionText=""}},{key:"createInput",value:function e(){return t.Tag.render(i(),this.content)}},{key:"init",value:function e(){}},{key:"getContext",value:function e(){if(this.input.ownerDocument){return this.input.ownerDocument.defaultView}return window}},{key:"getContentRoot",value:function e(){return this.contentRoot}},{key:"onPaste",value:function e(t){t.preventDefault();t.stopPropagation();if(t.clipboardData&&t.clipboardData.getData){var n=t.clipboardData.getData("text/plain");var a=BX.Text.encode(n);var i=a.replace(new RegExp("\n","g"),"<br>");this.getContext().document.execCommand("insertHTML",false,i)}else{var r=window.clipboardData.getData("text");this.getContext().document.execCommand("paste",true,BX.Text.encode(r))}}},{key:"getNode",value:function e(){return this.layout}},{key:"isChanged",value:function e(){var n=this;var a=function(){if(t.Type.isNil(n.content)){return""}if(t.Type.isString(n.content)){return n.content.trim()}return n.content}();return a!==this.getValue()}},{key:"getValue",value:function e(){return this.input.innerHTML.trim()}},{key:"setValue",value:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var a=this.textOnly?t.Text.encode(n):n;this.input.innerHTML=a.toString().trim();this.onValueChangeHandler(this);var i=new t.Event.BaseEvent({data:{value:this.getValue()},compatData:[this.getValue()]});this.emit("change",i)}},{key:"enable",value:function e(){t.Dom.attr(this.layout,"disabled",null);t.Dom.removeClass(this.layout,"landing-ui-disabled")}},{key:"disable",value:function e(){t.Dom.attr(this.layout,"disabled",true);t.Dom.addClass(this.layout,"landing-ui-disabled")}},{key:"reset",value:function e(){}},{key:"onFrameLoad",value:function e(){}},{key:"clone",value:function e(n){return new this.constructor(t.Runtime.clone(n||this.data))}},{key:"getLayout",value:function e(){return this.layout}},{key:"setLayoutClass",value:function e(n){t.Dom.addClass(this.layout,n)}},{key:"getInlineProperties",value:function e(){return[]}},{key:"getComputedProperties",value:function e(){return[]}},{key:"getPseudoElement",value:function e(){return null}}]);return n}(n.EventEmitter);babelHelpers.defineProperty(s,"currentField",null);e.BaseField=s})(this.BX.Landing.UI.Field=this.BX.Landing.UI.Field||{},BX,BX.Event,BX.Landing.UI.Component);
//# sourceMappingURL=basefield.bundle.map.js