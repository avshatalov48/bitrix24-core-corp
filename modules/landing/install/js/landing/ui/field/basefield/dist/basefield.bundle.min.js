this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,t,a,n){"use strict";var i,r,o,l;function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){babelHelpers.defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e){babelHelpers.inherits(a,e);babelHelpers.createClass(a,null,[{key:"createLayout",value:function e(){return t.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-field"></div>'])))}},{key:"createHeader",value:function e(){return t.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['<div class="landing-ui-field-header"></div>'])))}},{key:"createDescription",value:function e(a){return t.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-field-description">\n\t\t\t\t<span class="fa fa-info-circle"> </span> ',"\n\t\t\t</div>\n\t\t"])),a)}}]);function a(){var e;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,a);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).call(this,i));e.setEventNamespace("BX.Landing.UI.Field");e.subscribeFromOptions(n.fetchEventsFromOptions(i));e.data=d({},i);e.options=e.data;e.id=Reflect.has(e.data,"id")?e.data.id:t.Text.getRandom();e.selector=Reflect.has(e.data,"selector")?e.data.selector:t.Text.getRandom();e.content=Reflect.has(e.data,"content")?e.data.content:"";e.title=t.Type.isString(e.data.title)?e.data.title:"";e.placeholder=t.Type.isString(e.data.placeholder)?e.data.placeholder:"";e.className=t.Type.isString(e.data.className)?e.data.className:"";e.descriptionText=t.Type.isString(e.data.description)?e.data.description:"";e.description=null;e.attribute=t.Type.isString(e.data.attribute)?e.data.attribute:"";e.hidden=t.Text.toBoolean(e.data.hidden);e.property=t.Type.isString(e.data.property)?e.data.property:"";e.style=Reflect.has(e.data,"style")?e.data.style:"";e.cache=new t.Cache.MemoryCache;e.contentRoot=Reflect.has(e.data,"contentRoot")?e.data.contentRoot:null;e.readyToSave=true;var r=e.data.onValueChange;e.onValueChangeHandler=t.Type.isFunction(r)?r:function(){};e.onPaste=e.onPaste.bind(babelHelpers.assertThisInitialized(e));e.layout=a.createLayout();e.header=a.createHeader();e.input=e.createInput();e.setTitle(e.title);t.Dom.append(e.header,e.layout);t.Dom.append(e.input,e.layout);t.Dom.attr(e.layout,"data-selector",e.selector);t.Dom.attr(e.input,"data-placeholder",e.placeholder);if(t.Type.isArrayLike(e.className)){t.Dom.addClass(e.layout,e.className)}e.setDescription(e.descriptionText);if(e.data.disabled===true){e.disable()}t.Event.bind(e.input,"paste",e.onPaste);e.init();if(e.data.help){BX.Dom.append(top.BX.UI.Hint.createNode(e.data.help),e.header);top.BX.UI.Hint.init(BX.Landing.UI.Panel.StylePanel.getInstance().layout)}return e}babelHelpers.createClass(a,[{key:"setTitle",value:function e(a){this.header.innerHTML=t.Text.encode(a)}},{key:"getDescription",value:function e(){return this.layout.querySelector(".landing-ui-field-description")}},{key:"setDescription",value:function e(n){if(t.Type.isString(n)&&n!==""){this.descriptionText=n;this.description=a.createDescription(this.descriptionText);t.Dom.remove(this.getDescription());t.Dom.append(this.description,this.layout)}}},{key:"removeDescription",value:function e(){t.Dom.remove(this.getDescription());this.description=null;this.descriptionText=""}},{key:"createInput",value:function e(){return t.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-field-input">',"</div>\n\t\t"])),this.content)}},{key:"init",value:function e(){}},{key:"getContext",value:function e(){if(this.input.ownerDocument){return this.input.ownerDocument.defaultView}return window}},{key:"onPaste",value:function e(t){t.preventDefault();t.stopPropagation();if(t.clipboardData&&t.clipboardData.getData){var a=t.clipboardData.getData("text/plain");var n=BX.Text.encode(a);var i=n.replace(new RegExp("\n","g"),"<br>");this.getContext().document.execCommand("insertHTML",false,i)}else{var r=window.clipboardData.getData("text");this.getContext().document.execCommand("paste",true,BX.Text.encode(r))}}},{key:"getNode",value:function e(){return this.layout}},{key:"isChanged",value:function e(){var a=this;var n=function(){if(t.Type.isNil(a.content)){return""}if(t.Type.isString(a.content)){return a.content.trim()}return a.content}();return n!==this.getValue()}},{key:"getValue",value:function e(){return this.input.innerHTML.trim()}},{key:"setValue",value:function e(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=this.textOnly?t.Text.encode(a):a;this.input.innerHTML=n.toString().trim();this.onValueChangeHandler(this);var i=new t.Event.BaseEvent({data:{value:this.getValue()},compatData:[this.getValue()]});this.emit("change",i);this.emit("onChange",i)}},{key:"enable",value:function e(){t.Dom.attr(this.layout,"disabled",null);t.Dom.removeClass(this.layout,"landing-ui-disabled")}},{key:"disable",value:function e(){t.Dom.attr(this.layout,"disabled",true);t.Dom.addClass(this.layout,"landing-ui-disabled")}},{key:"reset",value:function e(){}},{key:"onFrameLoad",value:function e(){}},{key:"clone",value:function e(a){return new this.constructor(t.Runtime.clone(a||this.data))}},{key:"getLayout",value:function e(){return this.layout}},{key:"setLayoutClass",value:function e(a){t.Dom.addClass(this.layout,a)}},{key:"getInlineProperties",value:function e(){return[]}},{key:"getComputedProperties",value:function e(){return[]}},{key:"getPseudoElement",value:function e(){return null}}]);return a}(a.EventEmitter);babelHelpers.defineProperty(u,"currentField",null);e.BaseField=u})(this.BX.Landing.UI.Field=this.BX.Landing.UI.Field||{},BX,BX.Event,BX.Landing.UI.Component);
//# sourceMappingURL=basefield.bundle.map.js