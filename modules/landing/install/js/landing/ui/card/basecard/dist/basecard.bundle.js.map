{"version":3,"file":"basecard.bundle.js","sources":["../src/basecard.js"],"sourcesContent":["import {Cache, Dom, Tag, Text, Type, Event} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nimport './css/base_card.css';\n\n/**\n * @memberOf BX.Landing.UI.Card\n */\nexport class BaseCard extends EventEmitter\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Card.BaseCard');\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tthis.data = {...options};\n\t\tthis.options = this.data;\n\t\tthis.id = Type.isStringFilled(this.options.id) ? this.options.id : Text.getRandom();\n\t\tthis.hidden = Text.toBoolean(this.options.hidden);\n\t\tthis.onClickHandler = Type.isFunction(this.options.onClick) ? this.options.onClick : () => {};\n\n\t\tthis.onClick = this.onClick.bind(this);\n\n\t\tthis.layout = this.getLayout();\n\t\tthis.header = this.getHeader();\n\t\tthis.body = this.getBody();\n\n\t\tthis.setTitle(this.options.title || '');\n\t\tthis.setHidden(this.options.hidden);\n\n\t\tif (Type.isStringFilled(this.options.className))\n\t\t{\n\t\t\tDom.addClass(this.layout, this.options.className);\n\t\t}\n\n\t\tif (Type.isObject(this.options.attrs))\n\t\t{\n\t\t\tDom.adjust(this.layout, {attrs: this.options.attrs});\n\t\t}\n\n\t\tEvent.bind(this.layout, 'click', this.onClick);\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-card\">\n\t\t\t\t\t<div class=\"landing-ui-card-header-wrapper\">\n\t\t\t\t\t\t${this.getHeader()}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.getBody()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetRemoveButton(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('remove', () =>\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-card-block-remove\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-card-header\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetBody(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('body', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-card-body\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\taddWarning(warning: string)\n\t{\n\t\tDom.append(\n\t\t\tTag.render`\n\t\t\t\t<div class=\"landing-ui-card-body-warning\">${warning}</div>\n\t\t\t`,\n\t\t\tthis.getBody()\n\t\t);\n\t\tDom.addClass(this.getBody(), '--warning');\n\t}\n\n\tsetTitle(title: string)\n\t{\n\t\tthis.getHeader().textContent = title;\n\t}\n\n\tsetHidden(hidden: boolean)\n\t{\n\t\tDom.attr(this.getLayout(), 'hidden', hidden || null);\n\t}\n\n\tonClick()\n\t{\n\t\tthis.onClickHandler(this);\n\t\tthis.emit('onClick');\n\t}\n\n\tshow()\n\t{\n\t\tthis.setHidden(false);\n\t}\n\n\tisShown()\n\t{\n\t\treturn Dom.attr(this.getLayout(), 'hidden') === null;\n\t}\n\n\thide()\n\t{\n\t\tthis.setHidden(true);\n\t}\n\n\tgetNode(): HTMLDivElement\n\t{\n\t\treturn this.getLayout();\n\t}\n}"],"names":["BaseCard","options","setEventNamespace","cache","Cache","MemoryCache","data","id","Type","isStringFilled","Text","getRandom","hidden","toBoolean","onClickHandler","isFunction","onClick","bind","layout","getLayout","header","getHeader","body","getBody","setTitle","title","setHidden","className","Dom","addClass","isObject","attrs","adjust","Event","remember","Tag","render","warning","append","textContent","attr","emit","EventEmitter"],"mappings":"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"}