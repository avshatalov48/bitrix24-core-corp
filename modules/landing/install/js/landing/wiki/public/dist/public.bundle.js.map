{"version":3,"file":"public.bundle.js","sources":["../src/public.js"],"sourcesContent":["import {Event, Type, Text, Dom} from 'main.core';\nimport {SliderHacks} from 'landing.sliderhacks';\n\nEvent.bind(document, 'click', (event: MouseEvent) => {\n\tif (Type.isDomNode(event.target))\n\t{\n\t\tconst link = event.target.closest('a:not(.ui-btn):not([data-fancybox])');\n\t\tif (Type.isDomNode(link))\n\t\t{\n\t\t\tconst isCurrentPageLink =\n\t\t\t\tType.isStringFilled(link.href)\n\t\t\t\t&& link.hash !== ''\n\t\t\t\t&& link.pathname === document.location.pathname\n\t\t\t\t&& link.hostname === document.location.hostname;\n\t\t\tif (Type.isStringFilled(link.href) && link.target !== '_blank' && !isCurrentPageLink)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tBX.Landing.Pub.TopPanel.pushHistory(link.href);\n\t\t\t\tvoid SliderHacks.reloadSlider(link.href);\n\t\t\t}\n\t\t}\n\n\t\tconst pseudoLink = event.target.closest('[data-pseudo-url]');\n\t\tif (Type.isDomNode(pseudoLink))\n\t\t{\n\t\t\tconst urlParams = Dom.attr(pseudoLink, 'data-pseudo-url');\n\n\t\t\tif (\n\t\t\t\tText.toBoolean(urlParams.enabled)\n\t\t\t\t&& Type.isStringFilled(urlParams.href)\n\t\t\t)\n\t\t\t{\n\t\t\t\tif (urlParams.query)\n\t\t\t\t{\n\t\t\t\t\turlParams.href += (urlParams.href.indexOf('?') === -1) ? '?' : '&';\n\t\t\t\t\turlParams.href += urlParams.query;\n\t\t\t\t}\n\t\t\t\tif (urlParams.target === '_self')\n\t\t\t\t{\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\tBX.Landing.Pub.TopPanel.pushHistory(urlParams.href);\n\t\t\t\t\tvoid SliderHacks.reloadSlider(urlParams.href);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttop.open(urlParams.href, urlParams.target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});"],"names":["Event","bind","document","event","Type","isDomNode","target","link","closest","isCurrentPageLink","isStringFilled","href","hash","pathname","location","hostname","preventDefault","BX","Landing","Pub","TopPanel","pushHistory","SliderHacks","reloadSlider","pseudoLink","urlParams","Dom","attr","Text","toBoolean","enabled","query","indexOf","stopImmediatePropagation","top","open"],"mappings":";;;;;AAGAA,gBAAK,CAACC,IAAN,CAAWC,QAAX,EAAqB,OAArB,EAA8B,UAACC,KAAD,EAAuB;CACpD,MAAIC,cAAI,CAACC,SAAL,CAAeF,KAAK,CAACG,MAArB,CAAJ,EACA;CACC,QAAMC,IAAI,GAAGJ,KAAK,CAACG,MAAN,CAAaE,OAAb,CAAqB,qCAArB,CAAb;;CACA,QAAIJ,cAAI,CAACC,SAAL,CAAeE,IAAf,CAAJ,EACA;CACC,UAAME,iBAAiB,GACtBL,cAAI,CAACM,cAAL,CAAoBH,IAAI,CAACI,IAAzB,KACGJ,IAAI,CAACK,IAAL,KAAc,EADjB,IAEGL,IAAI,CAACM,QAAL,KAAkBX,QAAQ,CAACY,QAAT,CAAkBD,QAFvC,IAGGN,IAAI,CAACQ,QAAL,KAAkBb,QAAQ,CAACY,QAAT,CAAkBC,QAJxC;;CAKA,UAAIX,cAAI,CAACM,cAAL,CAAoBH,IAAI,CAACI,IAAzB,KAAkCJ,IAAI,CAACD,MAAL,KAAgB,QAAlD,IAA8D,CAACG,iBAAnE,EACA;CACCN,QAAAA,KAAK,CAACa,cAAN;CACAC,QAAAA,EAAE,CAACC,OAAH,CAAWC,GAAX,CAAeC,QAAf,CAAwBC,WAAxB,CAAoCd,IAAI,CAACI,IAAzC;CACA,aAAKW,+BAAW,CAACC,YAAZ,CAAyBhB,IAAI,CAACI,IAA9B,CAAL;CACA;CACD;;CAED,QAAMa,UAAU,GAAGrB,KAAK,CAACG,MAAN,CAAaE,OAAb,CAAqB,mBAArB,CAAnB;;CACA,QAAIJ,cAAI,CAACC,SAAL,CAAemB,UAAf,CAAJ,EACA;CACC,UAAMC,SAAS,GAAGC,aAAG,CAACC,IAAJ,CAASH,UAAT,EAAqB,iBAArB,CAAlB;;CAEA,UACCI,cAAI,CAACC,SAAL,CAAeJ,SAAS,CAACK,OAAzB,KACG1B,cAAI,CAACM,cAAL,CAAoBe,SAAS,CAACd,IAA9B,CAFJ,EAIA;CACC,YAAIc,SAAS,CAACM,KAAd,EACA;CACCN,UAAAA,SAAS,CAACd,IAAV,IAAmBc,SAAS,CAACd,IAAV,CAAeqB,OAAf,CAAuB,GAAvB,MAAgC,CAAC,CAAlC,GAAuC,GAAvC,GAA6C,GAA/D;CACAP,UAAAA,SAAS,CAACd,IAAV,IAAkBc,SAAS,CAACM,KAA5B;CACA;;CACD,YAAIN,SAAS,CAACnB,MAAV,KAAqB,OAAzB,EACA;CACCH,UAAAA,KAAK,CAAC8B,wBAAN;CACAhB,UAAAA,EAAE,CAACC,OAAH,CAAWC,GAAX,CAAeC,QAAf,CAAwBC,WAAxB,CAAoCI,SAAS,CAACd,IAA9C;CACA,eAAKW,+BAAW,CAACC,YAAZ,CAAyBE,SAAS,CAACd,IAAnC,CAAL;CACA,SALD,MAOA;CACCuB,UAAAA,GAAG,CAACC,IAAJ,CAASV,SAAS,CAACd,IAAnB,EAAyBc,SAAS,CAACnB,MAAnC;CACA;CACD;CACD;CACD;CACD,CA/CD;;;;"}