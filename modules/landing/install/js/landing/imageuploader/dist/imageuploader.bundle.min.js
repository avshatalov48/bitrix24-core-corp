this.BX=this.BX||{};(function(e,n,t,r){"use strict";function a(e,n){var t=e.replace(/@[1-9]x/,"");return t?t.replace(/\.[^.]+$/,"@".concat(n,"x.").concat(BX.util.getExtension(t))):t}var i=function(){function e(n){babelHelpers.classCallCheck(this,e);this.options=babelHelpers.objectSpread({uploadParams:{},additionalParams:{},dimensions:{},sizes:["1x"]},n)}babelHelpers.createClass(e,[{key:"getDimensions",value:function e(){var t=Object.entries(this.options.dimensions);return this.options.sizes.map(function(e){return Number.parseInt(e)}).filter(function(e){return n.Type.isNumber(e)}).map(function(e){return t.reduce(function(n,t){var r=babelHelpers.slicedToArray(t,2),a=r[0],i=r[1];n[a]=i*e;return n},{})})}},{key:"upload",value:function e(n){var i=this;var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Promise.all(this.getDimensions().map(function(e){return t.ImageCompressor.compress(n,e)})).then(function(e){var n=babelHelpers.objectSpread({},i.options.uploadParams,i.options.additionalParams,s);var t=e.map(function(e,t){var i=e.name;Object.defineProperty(e,"name",{get:function e(){return a(i,t+1)},configurable:true});return r.Backend.getInstance().upload(e,n)});return Promise.all(t)})}}]);return e}();e.ImageUploader=i})(this.BX.Landing=this.BX.Landing||{},BX,BX.Landing,BX.Landing);
//# sourceMappingURL=imageuploader.bundle.map.js