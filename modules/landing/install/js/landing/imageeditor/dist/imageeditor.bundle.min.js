this.BX=this.BX||{};(function(r,e,t){"use strict";var n="/bitrix/js/main/imageeditor/external/photoeditorsdk/assets";var a="/bitrix/images/landing/imageeditor/assets";function i(r){if(r.includes("sites_recommended_transform_default")){var e=r.split("sites_recommended_transform_default"),t=babelHelpers.slicedToArray(e,2),i=t[1];return"".concat(n,"/ui/desktop/editor/controls/transform/ratios/imgly_transform_common_4-3").concat(i)}if(r.includes("sites_recommended_transform_retina")){var s=r.split("sites_recommended_transform_retina"),o=babelHelpers.slicedToArray(s,2),l=o[1];return"".concat(n,"/ui/desktop/editor/controls/transform/ratios/imgly_transform_common_4-3").concat(l)}if(r.includes("landing-transform-3-4")){var d=r.split("landing-transform-3-4"),m=babelHelpers.slicedToArray(d,2),f=m[1];return"".concat(a,"/transform/ratios/landing-transform-3-4").concat(f)}if(r.includes("landing-transform-4-3")){var c=r.split("landing-transform-4-3"),g=babelHelpers.slicedToArray(c,2),u=g[1];return"".concat(a,"/transform/ratios/landing-transform-4-3").concat(u)}if(r.includes("landing-transform-9-16")){var p=r.split("landing-transform-9-16"),_=babelHelpers.slicedToArray(p,2),b=_[1];return"".concat(a,"/transform/ratios/landing-transform-9-16").concat(b)}if(r.includes("landing-transform-16-9")){var h=r.split("landing-transform-16-9"),v=babelHelpers.slicedToArray(h,2),T=v[1];return"".concat(a,"/transform/ratios/landing-transform-16-9").concat(T)}if(r.includes("landing-transform-1-1")){var y=r.split("landing-transform-1-1"),A=babelHelpers.slicedToArray(y,2),E=A[1];return"".concat(a,"/transform/ratios/landing-transform-1-1").concat(E)}if(r.includes("landing-transform-custom")){var N=r.split("landing-transform-custom"),I=babelHelpers.slicedToArray(N,2),H=I[1];return"".concat(a,"/transform/ratios/landing-transform-custom").concat(H)}return r}function s(r){var e=BX.util.getExtension(r);return"image/".concat(e==="jpg"?"jpeg":e)}var o="/bitrix/tools/landing/proxy.php";var l=function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.width,a=e.height;return t.Type.isNumber(n)&&t.Type.isNumber(a)};function d(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=r.image,n=r.dimensions;var a={width:n.width||n.maxWidth||n.minWidth,height:n.height||n.maxHeight||n.minHeight};return{image:e,megapixels:100,proxy:o,defaultControl:"transform",assets:{resolver:i},export:{format:s(e),type:BX.Main.ImageEditor.renderType.BLOB,quality:1},controlsOptions:{transform:{categories:[{identifier:"sites_recommended",defaultName:t.Loc.getMessage("LANDING_IMAGE_EDITOR_RECOMMENDED_RATIOS"),ratios:[{identifier:"sites_recommended_transform_retina",defaultName:t.Loc.getMessage("LANDING_IMAGE_EDITOR_TRANSFORM_DEFAULT"),ratio:function(){if(l(a)){return a.width/a.height}return undefined}()},{identifier:"landing-transform-custom",defaultName:t.Loc.getMessage("IMAGE_EDITOR_RATIOS_CUSTOM"),ratio:"*"}]},{identifier:"sites_other",defaultName:t.Loc.getMessage("LANDING_IMAGE_EDITOR_OTHER_RATIOS"),ratios:[{identifier:"landing-transform-1-1",defaultName:"1:1",ratio:1},{identifier:"landing-transform-3-4",defaultName:"3:4",ratio:3/4},{identifier:"landing-transform-4-3",defaultName:"4:3",ratio:4/3},{identifier:"landing-transform-9-16",defaultName:"9:16",ratio:9/16},{identifier:"landing-transform-16-9",defaultName:"16:9",ratio:16/9}]}],replaceCategories:false,availableRatios:["sites_recommended_transform_default","sites_recommended_transform_retina","landing-transform-3-4","landing-transform-4-3","landing-transform-9-16","landing-transform-16-9","landing-transform-1-1","landing-transform-custom"]}}}}function m(r){return r.split("\\").pop().split("/").pop()}var f=function(r){babelHelpers.inherits(e,r);function e(){babelHelpers.classCallCheck(this,e);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).apply(this,arguments))}babelHelpers.createClass(e,null,[{key:"edit",value:function r(e){var t=BX.Main.ImageEditor.getInstance();var n=d(e);return t.edit(n).then(function(r){r.name=m(e.image);return r})}}]);return e}(t.Event.EventEmitter);r.ImageEditor=f})(this.BX.Landing=this.BX.Landing||{},BX,BX);
//# sourceMappingURL=imageeditor.bundle.map.js