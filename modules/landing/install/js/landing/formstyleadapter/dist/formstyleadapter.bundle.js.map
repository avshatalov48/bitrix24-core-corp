{"version":3,"file":"formstyleadapter.bundle.js","sources":["../src/internal/themes-map.js","../src/formstyleadapter.js"],"sourcesContent":["const themesMap = new Map();\nthemesMap.set(\n\t'business-light',\n\t{\n\t\ttheme: 'business-light',\n\t\tdark: false,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#0f58d0ff',\n\t\t\tprimaryText: '#ffffffff',\n\t\t\tbackground: '#ffffffff',\n\t\t\ttext: '#000000ff',\n\t\t\tfieldBackground: '#00000011',\n\t\t\tfieldFocusBackground: '#ffffffff',\n\t\t\tfieldBorder: '#00000016',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: '',\n\t\t\tfamily: '',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'business-dark',\n\t{\n\t\ttheme: 'business-dark',\n\t\tdark: true,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#0f58d0ff',\n\t\t\tprimaryText: '#ffffffff',\n\t\t\tbackground: '#282d30ff',\n\t\t\ttext: '#ffffffff',\n\t\t\tfieldBackground: '#ffffff11',\n\t\t\tfieldFocusBackground: '#00000028',\n\t\t\tfieldBorder: '#ffffff16',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: '',\n\t\t\tfamily: '',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'modern-light',\n\t{\n\t\ttheme: 'modern-light',\n\t\tdark: false,\n\t\tstyle: 'modern',\n\t\tcolor: {\n\t\t\tprimary: '#ffd110ff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#ffffffff',\n\t\t\ttext: '#000000ff',\n\t\t\tfieldBackground: '#00000000',\n\t\t\tfieldFocusBackground: '#00000000',\n\t\t\tfieldBorder: '#00000011',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Open Sans',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'modern-dark',\n\t{\n\t\ttheme: 'modern-dark',\n\t\tdark: true,\n\t\tstyle: 'modern',\n\t\tcolor: {\n\t\t\tprimary: '#ffd110ff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#282d30ff',\n\t\t\ttext: '#ffffffff',\n\t\t\tfieldBackground: '#00000000',\n\t\t\tfieldFocusBackground: '#00000000',\n\t\t\tfieldBorder: '#ffffff11',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Open Sans',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'classic-light',\n\t{\n\t\ttheme: 'classic-light',\n\t\tdark: false,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#000000ff',\n\t\t\tprimaryText: '#ffffffff',\n\t\t\tbackground: '#ffffffff',\n\t\t\ttext: '#000000ff',\n\t\t\tfieldBackground: '#00000011',\n\t\t\tfieldFocusBackground: '#0000000a',\n\t\t\tfieldBorder: '#00000011',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=PT+Serif:400,700&display=swap&subset=cyrillic',\n\t\t\tfamily: 'PT Serif',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'classic-dark',\n\t{\n\t\ttheme: 'classic-dark',\n\t\tdark: true,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#ffffffff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#000000ff',\n\t\t\ttext: '#ffffffff',\n\t\t\tfieldBackground: '#ffffff11',\n\t\t\tfieldFocusBackground: '#ffffff0a',\n\t\t\tfieldBorder: '#ffffff11',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=PT+Serif:400,700&display=swap&subset=cyrillic',\n\t\t\tfamily: 'PT Serif',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'fun-light',\n\t{\n\t\ttheme: 'fun-light',\n\t\tdark: false,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#f09b22ff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#ffffffff',\n\t\t\ttext: '#000000ff',\n\t\t\tfieldBackground: '#f09b2211',\n\t\t\tfieldFocusBackground: '#0000000a',\n\t\t\tfieldBorder: '#00000011',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Pangolin&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Pangolin',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'fun-dark',\n\t{\n\t\ttheme: 'fun-dark',\n\t\tdark: true,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#f09b22ff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#221400ff',\n\t\t\ttext: '#ffffffff',\n\t\t\tfieldBackground: '#f09b2211',\n\t\t\tfieldFocusBackground: '#ffffff0a',\n\t\t\tfieldBorder: '#f09b220a',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Pangolin&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Pangolin',\n\t\t},\n\t\tborder: {left: false, top: false, bottom: true, right: false},\n\t},\n);\n\nthemesMap.set(\n\t'pixel-light',\n\t{\n\t\ttheme: 'pixel-light',\n\t\tdark: true,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#00a74cff',\n\t\t\tprimaryText: '#ffffffff',\n\t\t\tbackground: '#282d30ff',\n\t\t\ttext: '#90ee90ff',\n\t\t\tfieldBackground: '#ffffff11',\n\t\t\tfieldFocusBackground: '#00000028',\n\t\t\tfieldBorder: '#ffffff16',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Press Start 2P',\n\t\t},\n\t\tborder: {left: false, top: false, bottom: true, right: false},\n\t},\n);\n\nthemesMap.set(\n\t'pixel-dark',\n\t{\n\t\t...themesMap.get('pixel-light'),\n\t\ttheme: 'pixel-dark',\n\t},\n);\n\nexport default themesMap;","import {Cache, Dom, Reflection, Runtime, Text, Type} from 'main.core';\nimport {BaseEvent, EventEmitter} from 'main.core.events';\nimport {StyleForm} from 'landing.ui.form.styleform';\nimport {Loc} from 'landing.loc';\nimport {ColorPickerField} from 'landing.ui.field.colorpickerfield';\nimport {Backend} from 'landing.backend';\nimport {Env} from 'landing.env';\n\nimport themesMap from './internal/themes-map';\n\n/**\n * @memberOf BX.Landing\n */\nexport class FormStyleAdapter extends EventEmitter\n{\n\tconstructor(options)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.FormStyleAdapter');\n\t\tthis.options = {...options};\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tthis.onDebouncedFormChange = Runtime.debounce(this.onDebouncedFormChange, 500);\n\t}\n\n\tsetFormOptions(options)\n\t{\n\t\tthis.cache.set('formOptions', {...options});\n\t}\n\n\tgetFormOptions()\n\t{\n\t\treturn this.cache.get('formOptions');\n\t}\n\n\tload(): Promise<FormStyleAdapter>\n\t{\n\t\tif (Text.capitalize(Env.getInstance().getOptions().params.type) === 'SMN')\n\t\t{\n\t\t\tthis.setFormOptions(\n\t\t\t\t{data: {design: Runtime.clone(this.getCrmForm().design)}},\n\t\t\t);\n\n\t\t\treturn Promise.resolve(this);\n\t\t}\n\n\t\treturn Runtime\n\t\t\t.loadExtension('crm.form.client')\n\t\t\t.then(({FormClient}) => {\n\t\t\t\tif (FormClient)\n\t\t\t\t{\n\t\t\t\t\treturn FormClient\n\t\t\t\t\t\t.getInstance()\n\t\t\t\t\t\t.getOptions(this.options.formId)\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\tthis.setFormOptions(\n\t\t\t\t\t\t\t\tRuntime.merge(\n\t\t\t\t\t\t\t\t\tRuntime.clone(result),\n\t\t\t\t\t\t\t\t\t{data: {design: Runtime.clone(this.getCrmForm().design)}},\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t});\n\t}\n\n\tgetThemeField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('themeField', () => {\n\t\t\tconst {theme} = this.getFormOptions().data.design;\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'theme',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_TITLE'),\n\t\t\t\tcontent: Type.isString(theme) ? theme.split('-')[0] : '',\n\t\t\t\tonChange: this.onThemeChange.bind(this),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_BUSINESS'),\n\t\t\t\t\t\tvalue: 'business',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_MODERN'),\n\t\t\t\t\t\tvalue: 'modern',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_CLASSIC'),\n\t\t\t\t\t\tvalue: 'classic',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_FUN'),\n\t\t\t\t\t\tvalue: 'fun',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_PIXEL'),\n\t\t\t\t\t\tvalue: 'pixel',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDarkField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('darkField', () => {\n\t\t\tconst {theme} = this.getFormOptions().data.design;\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'dark',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_DARK_FIELD_TITLE'),\n\t\t\t\tcontent: Type.isString(theme) ? theme.split('-')[1] : '',\n\t\t\t\tonChange: this.onThemeChange.bind(this),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_DARK_FIELD_ITEM_LIGHT'),\n\t\t\t\t\t\tvalue: 'light',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_DARK_FIELD_ITEM_DARK'),\n\t\t\t\t\t\tvalue: 'dark',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonThemeChange()\n\t{\n\t\tconst themeId = this.getStyleForm().serialize().theme;\n\t\tconst theme = themesMap.get(themeId);\n\n\t\tif (theme)\n\t\t{\n\t\t\tif (Type.isPlainObject(theme.color))\n\t\t\t{\n\t\t\t\tthis.getPrimaryColorField().setValue(theme.color.primary, true);\n\t\t\t\tthis.getPrimaryTextColorField().setValue(theme.color.primaryText, true);\n\t\t\t\tthis.getBackgroundColorField().setValue(theme.color.background);\n\t\t\t\tthis.getTextColorField().setValue(theme.color.text, true);\n\t\t\t\tthis.getFieldBackgroundColorField().setValue(theme.color.fieldBackground, true);\n\t\t\t\tthis.getFieldFocusBackgroundColorField().setValue(theme.color.fieldFocusBackground, true);\n\t\t\t\tthis.getFieldBorderColorField().setValue(theme.color.fieldBorder);\n\t\t\t}\n\n\t\t\tthis.getStyleField().setValue(theme.style);\n\n\t\t\tif (Type.isBoolean(theme.shadow))\n\t\t\t{\n\t\t\t\tthis.getShadowField().setValue(theme.shadow);\n\t\t\t}\n\n\t\t\tif (Type.isPlainObject(theme.font))\n\t\t\t{\n\t\t\t\tconst font = {...theme.font};\n\t\t\t\tif (!Type.isStringFilled(font.family))\n\t\t\t\t{\n\t\t\t\t\tfont.family = Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FONT_DEFAULT');\n\t\t\t\t}\n\n\t\t\t\tthis.getFontField().setValue(font);\n\t\t\t}\n\n\t\t\tif (Type.isPlainObject(theme.border))\n\t\t\t{\n\t\t\t\tconst borders = Object.entries(theme.border).reduce((acc, [key, value]) => {\n\t\t\t\t\tif (value)\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push(key);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []);\n\n\t\t\t\tthis.getBorderField().setValue(borders);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetShadowField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('shadow', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'shadow',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_SHADOW'),\n\t\t\t\tcontent: this.getFormOptions().data.design.shadow,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_SHADOW_USE'),\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_SHADOW_NOT_USE'),\n\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetStyleField()\n\t{\n\t\treturn this.cache.remember('styleField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'style',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_STYLE_FIELD_TITLE'),\n\t\t\t\tcontent: this.getFormOptions().data.design.style,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_STYLE_FIELD_ITEM_STANDARD'),\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_STYLE_FIELD_ITEM_MODERN'),\n\t\t\t\t\t\tvalue: 'modern',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPrimaryColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('primaryColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'primary',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_PRIMARY_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.primary,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPrimaryTextColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('primaryTextColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'primaryText',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_PRIMARY_TEXT_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.primaryText,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetBackgroundColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('backgroundColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'background',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BACKGROUND_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.background,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTextColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('textColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'text',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_TEXT_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.text,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFieldBackgroundColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('fieldBackgroundColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'fieldBackground',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FIELD_BACKGROUND_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.fieldBackground,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFieldFocusBackgroundColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('fieldFocusBackgroundColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'fieldFocusBackground',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FIELD_FOCUS_BACKGROUND_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.fieldFocusBackground,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFieldBorderColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('fieldBorderColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'fieldBorder',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FIELD_BORDER_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.fieldBorder,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFontField()\n\t{\n\t\treturn this.cache.remember('fontField', () => {\n\t\t\tconst value = {...this.getFormOptions().data.design.font};\n\t\t\tif (!Type.isStringFilled(value.family))\n\t\t\t{\n\t\t\t\tvalue.family = Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FONT_DEFAULT');\n\t\t\t}\n\n\t\t\treturn new BX.Landing.UI.Field.Font({\n\t\t\t\tselector: 'font',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FONT'),\n\t\t\t\theadlessMode: true,\n\t\t\t\tvalue,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetBorderField()\n\t{\n\t\treturn this.cache.remember('borderField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'border',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER'),\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tconst {border} = this.getFormOptions().data.design;\n\t\t\t\t\treturn Object.entries(border).reduce((acc, [key, value]) => {\n\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tacc.push(key);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []);\n\t\t\t\t})(),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER_LEFT'),\n\t\t\t\t\t\tvalue: 'left',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER_RIGHT'),\n\t\t\t\t\t\tvalue: 'right',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER_TOP'),\n\t\t\t\t\t\tvalue: 'top',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER_BOTTOM'),\n\t\t\t\t\t\tvalue: 'bottom',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetStyleForm(): Array<any>\n\t{\n\t\treturn this.cache.remember('styleForm', () => {\n\t\t\treturn new StyleForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FORM_TITLE'),\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getThemeField(),\n\t\t\t\t\tthis.getDarkField(),\n\t\t\t\t\tthis.getStyleField(),\n\t\t\t\t\tthis.getShadowField(),\n\t\t\t\t\tthis.getPrimaryColorField(),\n\t\t\t\t\tthis.getPrimaryTextColorField(),\n\t\t\t\t\tthis.getBackgroundColorField(),\n\t\t\t\t\tthis.getTextColorField(),\n\t\t\t\t\tthis.getFieldBackgroundColorField(),\n\t\t\t\t\tthis.getFieldFocusBackgroundColorField(),\n\t\t\t\t\tthis.getFieldBorderColorField(),\n\t\t\t\t\tthis.getFontField(),\n\t\t\t\t\tthis.getBorderField(),\n\t\t\t\t],\n\t\t\t\tonChange: Runtime.throttle(this.onFormChange.bind(this), 16),\n\t\t\t\tserializeModifier(value) {\n\t\t\t\t\tvalue.theme = `${value.theme}-${value.dark}`;\n\t\t\t\t\tvalue.dark = value.dark === 'dark';\n\t\t\t\t\tvalue.shadow = Text.toBoolean(value.shadow);\n\n\t\t\t\t\tvalue.color = {\n\t\t\t\t\t\tprimary: value.primary,\n\t\t\t\t\t\tprimaryText: value.primaryText,\n\t\t\t\t\t\ttext: value.text,\n\t\t\t\t\t\tbackground: value.background,\n\t\t\t\t\t\tfieldBackground: value.fieldBackground,\n\t\t\t\t\t\tfieldFocusBackground: value.fieldFocusBackground,\n\t\t\t\t\t\tfieldBorder: value.fieldBorder,\n\t\t\t\t\t};\n\n\t\t\t\t\tvalue.border = {\n\t\t\t\t\t\tleft: value.border.includes('left'),\n\t\t\t\t\t\tright: value.border.includes('right'),\n\t\t\t\t\t\ttop: value.border.includes('top'),\n\t\t\t\t\t\tbottom: value.border.includes('bottom'),\n\t\t\t\t\t};\n\n\t\t\t\t\tif (value.font.family === Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FONT_DEFAULT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete value.font;\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete value.primary;\n\t\t\t\t\tdelete value.primaryText;\n\t\t\t\t\tdelete value.text;\n\t\t\t\t\tdelete value.background;\n\t\t\t\t\tdelete value.fieldBackground;\n\t\t\t\t\tdelete value.fieldFocusBackground;\n\t\t\t\t\tdelete value.fieldBorder;\n\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCrmForm()\n\t{\n\t\tconst formApp = Reflection.getClass('b24form.App');\n\t\tif (formApp)\n\t\t{\n\t\t\tif (this.options.instanceId)\n\t\t\t{\n\t\t\t\treturn formApp.get(this.options.instanceId);\n\t\t\t}\n\n\t\t\treturn formApp.list()[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonFormChange(event: BaseEvent)\n\t{\n\t\tconst currentFormOptions = this.getFormOptions();\n\t\tconst designOptions = {\n\t\t\tdata: {\n\t\t\t\tdesign: event.getTarget().serialize(),\n\t\t\t},\n\t\t};\n\t\tconst mergedOptions = Runtime.merge(currentFormOptions, designOptions);\n\t\tthis.setFormOptions(mergedOptions);\n\t\tthis.getCrmForm().adjust(mergedOptions.data);\n\n\t\tthis.onDebouncedFormChange();\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisCrmFormPage(): boolean\n\t{\n\t\treturn Env.getInstance().getOptions().specialType === 'crm_forms';\n\t}\n\n\tsaveFormDesign()\n\t{\n\t\treturn Runtime\n\t\t\t.loadExtension('crm.form.client')\n\t\t\t.then(({FormClient}) => {\n\t\t\t\tif (FormClient)\n\t\t\t\t{\n\t\t\t\t\tconst formClient = FormClient.getInstance();\n\t\t\t\t\tconst formOptions = this.getFormOptions();\n\n\t\t\t\t\tformClient.resetCache(formOptions.id);\n\n\t\t\t\t\treturn formClient.saveOptions(formOptions);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t});\n\t}\n\n\tsaveBlockDesign()\n\t{\n\t\tconst {currentBlock} = this.options;\n\t\tconst {design} = this.getFormOptions().data;\n\n\t\tconst formNode = currentBlock.node.querySelector('.bitrix24forms');\n\t\tDom.attr(formNode, {\n\t\t\t'data-b24form-design': design,\n\t\t\t'data-b24form-use-style': 'Y',\n\t\t});\n\n\t\tRuntime\n\t\t\t.loadExtension('crm.form.client')\n\t\t\t.then(({FormClient}) => {\n\t\t\t\tif (FormClient)\n\t\t\t\t{\n\t\t\t\t\tconst formClient = FormClient.getInstance();\n\t\t\t\t\tconst formOptions = this.getFormOptions();\n\t\t\t\t\tformClient.resetCache(formOptions.id);\n\t\t\t\t}\n\t\t\t});\n\n\t\tBackend\n\t\t\t.getInstance()\n\t\t\t.action(\n\t\t\t\t'Landing\\\\Block::updateNodes',\n\t\t\t\t{\n\t\t\t\t\tblock: currentBlock.id,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'.bitrix24forms': {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t'data-b24form-design': JSON.stringify(design),\n\t\t\t\t\t\t\t\t'data-b24form-use-style': 'Y',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlid: currentBlock.lid,\n\t\t\t\t\tsiteId: currentBlock.siteId,\n\t\t\t\t},\n\t\t\t\t{code: currentBlock.manifest.code},\n\t\t\t);\n\t}\n\n\tonDebouncedFormChange()\n\t{\n\t\tif (this.isCrmFormPage())\n\t\t{\n\t\t\tRuntime\n\t\t\t\t.loadExtension('landing.ui.panel.formsettingspanel')\n\t\t\t\t.then(({FormSettingsPanel}) => {\n\t\t\t\t\tconst formSettingsPanel = FormSettingsPanel.getInstance();\n\t\t\t\t\tformSettingsPanel.setCurrentBlock(this.options.currentBlock);\n\n\t\t\t\t\tvoid this.saveFormDesign();\n\n\t\t\t\t\tif (formSettingsPanel.useBlockDesign())\n\t\t\t\t\t{\n\t\t\t\t\t\tformSettingsPanel.disableUseBlockDesign();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.saveBlockDesign();\n\t\t}\n\t}\n}"],"names":["themesMap","Map","set","theme","dark","style","color","primary","primaryText","background","text","fieldBackground","fieldFocusBackground","fieldBorder","shadow","font","uri","family","border","left","top","bottom","right","get","FormStyleAdapter","options","setEventNamespace","cache","Cache","MemoryCache","onDebouncedFormChange","Runtime","debounce","Text","capitalize","Env","getInstance","getOptions","params","type","setFormOptions","data","design","clone","getCrmForm","Promise","resolve","loadExtension","then","FormClient","formId","result","merge","remember","getFormOptions","BX","Landing","UI","Field","Dropdown","selector","title","Loc","getMessage","content","Type","isString","split","onChange","onThemeChange","bind","items","name","value","themeId","getStyleForm","serialize","isPlainObject","getPrimaryColorField","setValue","getPrimaryTextColorField","getBackgroundColorField","getTextColorField","getFieldBackgroundColorField","getFieldFocusBackgroundColorField","getFieldBorderColorField","getStyleField","isBoolean","getShadowField","isStringFilled","getFontField","borders","Object","entries","reduce","acc","key","push","getBorderField","ColorPickerField","Font","headlessMode","Checkbox","StyleForm","fields","getThemeField","getDarkField","throttle","onFormChange","serializeModifier","toBoolean","includes","formApp","Reflection","getClass","instanceId","list","event","currentFormOptions","designOptions","getTarget","mergedOptions","adjust","specialType","formClient","formOptions","resetCache","id","saveOptions","currentBlock","formNode","node","querySelector","Dom","attr","Backend","action","block","attrs","JSON","stringify","lid","siteId","code","manifest","isCrmFormPage","FormSettingsPanel","formSettingsPanel","setCurrentBlock","saveFormDesign","useBlockDesign","disableUseBlockDesign","saveBlockDesign","EventEmitter"],"mappings":"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"}