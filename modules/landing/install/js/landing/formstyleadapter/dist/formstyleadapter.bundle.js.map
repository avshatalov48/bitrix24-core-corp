{"version":3,"file":"formstyleadapter.bundle.js","sources":["../src/internal/themes-map.js","../src/formstyleadapter.js"],"sourcesContent":["const themesMap = new Map();\nthemesMap.set(\n\t'business-light',\n\t{\n\t\ttheme: 'business-light',\n\t\tdark: false,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#0f58d0ff',\n\t\t\tprimaryText: '#ffffffff',\n\t\t\tbackground: '#ffffffff',\n\t\t\ttext: '#000000ff',\n\t\t\tfieldBackground: '#00000011',\n\t\t\tfieldFocusBackground: '#ffffffff',\n\t\t\tfieldBorder: '#00000016',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: '',\n\t\t\tfamily: '',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'business-dark',\n\t{\n\t\ttheme: 'business-dark',\n\t\tdark: true,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#0f58d0ff',\n\t\t\tprimaryText: '#ffffffff',\n\t\t\tbackground: '#282d30ff',\n\t\t\ttext: '#ffffffff',\n\t\t\tfieldBackground: '#ffffff11',\n\t\t\tfieldFocusBackground: '#00000028',\n\t\t\tfieldBorder: '#ffffff16',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: '',\n\t\t\tfamily: '',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'modern-light',\n\t{\n\t\ttheme: 'modern-light',\n\t\tdark: false,\n\t\tstyle: 'modern',\n\t\tcolor: {\n\t\t\tprimary: '#ffd110ff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#ffffffff',\n\t\t\ttext: '#000000ff',\n\t\t\tfieldBackground: '#00000000',\n\t\t\tfieldFocusBackground: '#00000000',\n\t\t\tfieldBorder: '#00000011',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Open Sans',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'modern-dark',\n\t{\n\t\ttheme: 'modern-dark',\n\t\tdark: true,\n\t\tstyle: 'modern',\n\t\tcolor: {\n\t\t\tprimary: '#ffd110ff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#282d30ff',\n\t\t\ttext: '#ffffffff',\n\t\t\tfieldBackground: '#00000000',\n\t\t\tfieldFocusBackground: '#00000000',\n\t\t\tfieldBorder: '#ffffff11',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Open Sans',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'classic-light',\n\t{\n\t\ttheme: 'classic-light',\n\t\tdark: false,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#000000ff',\n\t\t\tprimaryText: '#ffffffff',\n\t\t\tbackground: '#ffffffff',\n\t\t\ttext: '#000000ff',\n\t\t\tfieldBackground: '#00000011',\n\t\t\tfieldFocusBackground: '#0000000a',\n\t\t\tfieldBorder: '#00000011',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=PT+Serif:400,700&display=swap&subset=cyrillic',\n\t\t\tfamily: 'PT Serif',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'classic-dark',\n\t{\n\t\ttheme: 'classic-dark',\n\t\tdark: true,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#ffffffff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#000000ff',\n\t\t\ttext: '#ffffffff',\n\t\t\tfieldBackground: '#ffffff11',\n\t\t\tfieldFocusBackground: '#ffffff0a',\n\t\t\tfieldBorder: '#ffffff11',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=PT+Serif:400,700&display=swap&subset=cyrillic',\n\t\t\tfamily: 'PT Serif',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'fun-light',\n\t{\n\t\ttheme: 'fun-light',\n\t\tdark: false,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#f09b22ff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#ffffffff',\n\t\t\ttext: '#000000ff',\n\t\t\tfieldBackground: '#f09b2211',\n\t\t\tfieldFocusBackground: '#0000000a',\n\t\t\tfieldBorder: '#00000011',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Pangolin&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Pangolin',\n\t\t},\n\t\tborder: {\n\t\t\tleft: false,\n\t\t\ttop: false,\n\t\t\tbottom: true,\n\t\t\tright: false,\n\t\t},\n\t},\n);\n\nthemesMap.set(\n\t'fun-dark',\n\t{\n\t\ttheme: 'fun-dark',\n\t\tdark: true,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#f09b22ff',\n\t\t\tprimaryText: '#000000ff',\n\t\t\tbackground: '#221400ff',\n\t\t\ttext: '#ffffffff',\n\t\t\tfieldBackground: '#f09b2211',\n\t\t\tfieldFocusBackground: '#ffffff0a',\n\t\t\tfieldBorder: '#f09b220a',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Pangolin&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Pangolin',\n\t\t},\n\t\tborder: {left: false, top: false, bottom: true, right: false},\n\t},\n);\n\nthemesMap.set(\n\t'pixel-light',\n\t{\n\t\ttheme: 'pixel-light',\n\t\tdark: true,\n\t\tstyle: '',\n\t\tcolor: {\n\t\t\tprimary: '#00a74cff',\n\t\t\tprimaryText: '#ffffffff',\n\t\t\tbackground: '#282d30ff',\n\t\t\ttext: '#90ee90ff',\n\t\t\tfieldBackground: '#ffffff11',\n\t\t\tfieldFocusBackground: '#00000028',\n\t\t\tfieldBorder: '#ffffff16',\n\t\t},\n\t\tshadow: true,\n\t\tfont: {\n\t\t\turi: 'https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap&subset=cyrillic',\n\t\t\tfamily: 'Press Start 2P',\n\t\t},\n\t\tborder: {left: false, top: false, bottom: true, right: false},\n\t},\n);\n\nthemesMap.set(\n\t'pixel-dark',\n\t{\n\t\t...themesMap.get('pixel-light'),\n\t\ttheme: 'pixel-dark',\n\t},\n);\n\nexport default themesMap;","import {Cache, Dom, Reflection, Runtime, Text, Type} from 'main.core';\nimport {BaseEvent, EventEmitter} from 'main.core.events';\nimport {FormClient} from 'crm.form.client';\nimport {StyleForm} from 'landing.ui.form.styleform';\nimport {Loc} from 'landing.loc';\nimport {ColorPickerField} from 'landing.ui.field.colorpickerfield';\nimport {FormSettingsPanel} from 'landing.ui.panel.formsettingspanel';\nimport {Backend} from 'landing.backend';\nimport {Env} from 'landing.env';\n\nimport themesMap from './internal/themes-map';\n\n/**\n * @memberOf BX.Landing\n */\nexport class FormStyleAdapter extends EventEmitter\n{\n\tconstructor(options)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.FormStyleAdapter');\n\t\tthis.options = {...options};\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tthis.onDebouncedFormChange = Runtime.debounce(this.onDebouncedFormChange, 500);\n\t}\n\n\tsetFormOptions(options)\n\t{\n\t\tthis.cache.set('formOptions', {...options});\n\t}\n\n\tgetFormOptions()\n\t{\n\t\treturn this.cache.get('formOptions');\n\t}\n\n\tload(): Promise<FormStyleAdapter>\n\t{\n\t\treturn FormClient\n\t\t\t.getInstance()\n\t\t\t.getOptions(this.options.formId)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setFormOptions(\n\t\t\t\t\tRuntime.merge(Runtime.clone(result), {data: {design: Runtime.clone(this.getCrmForm().design)}}),\n\t\t\t\t);\n\t\t\t\treturn this;\n\t\t\t});\n\t}\n\n\tgetThemeField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('themeField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'theme',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_TITLE'),\n\t\t\t\tcontent: this.getFormOptions().data.design.theme.split('-')[0],\n\t\t\t\tonChange: this.onThemeChange.bind(this),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_BUSINESS'),\n\t\t\t\t\t\tvalue: 'business',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_MODERN'),\n\t\t\t\t\t\tvalue: 'modern',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_CLASSIC'),\n\t\t\t\t\t\tvalue: 'classic',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_FUN'),\n\t\t\t\t\t\tvalue: 'fun',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_THEME_FIELD_ITEM_PIXEL'),\n\t\t\t\t\t\tvalue: 'pixel',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetDarkField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('darkField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'dark',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_DARK_FIELD_TITLE'),\n\t\t\t\tcontent: this.getFormOptions().data.design.theme.split('-')[1],\n\t\t\t\tonChange: this.onThemeChange.bind(this),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_DARK_FIELD_ITEM_LIGHT'),\n\t\t\t\t\t\tvalue: 'light',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_DARK_FIELD_ITEM_DARK'),\n\t\t\t\t\t\tvalue: 'dark',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tonThemeChange()\n\t{\n\t\tconst themeId = this.getStyleForm().serialize().theme;\n\t\tconst theme = themesMap.get(themeId);\n\n\t\tif (theme)\n\t\t{\n\t\t\tif (Type.isPlainObject(theme.color))\n\t\t\t{\n\t\t\t\tthis.getPrimaryColorField().setValue(theme.color.primary, true);\n\t\t\t\tthis.getPrimaryTextColorField().setValue(theme.color.primaryText, true);\n\t\t\t\tthis.getBackgroundColorField().setValue(theme.color.background);\n\t\t\t\tthis.getTextColorField().setValue(theme.color.text, true);\n\t\t\t\tthis.getFieldBackgroundColorField().setValue(theme.color.fieldBackground, true);\n\t\t\t\tthis.getFieldFocusBackgroundColorField().setValue(theme.color.fieldFocusBackground, true);\n\t\t\t\tthis.getFieldBorderColorField().setValue(theme.color.fieldBorder);\n\t\t\t}\n\n\t\t\tthis.getStyleField().setValue(theme.style);\n\n\t\t\tif (Type.isBoolean(theme.shadow))\n\t\t\t{\n\t\t\t\tthis.getShadowField().setValue(theme.shadow);\n\t\t\t}\n\n\t\t\tif (Type.isPlainObject(theme.font))\n\t\t\t{\n\t\t\t\tconst font = {...theme.font};\n\t\t\t\tif (!Type.isStringFilled(font.family))\n\t\t\t\t{\n\t\t\t\t\tfont.family = Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FONT_DEFAULT');\n\t\t\t\t}\n\n\t\t\t\tthis.getFontField().setValue(font);\n\t\t\t}\n\n\t\t\tif (Type.isPlainObject(theme.border))\n\t\t\t{\n\t\t\t\tconst borders = Object.entries(theme.border).reduce((acc, [key, value]) => {\n\t\t\t\t\tif (value)\n\t\t\t\t\t{\n\t\t\t\t\t\tacc.push(key);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []);\n\n\t\t\t\tthis.getBorderField().setValue(borders);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetShadowField(): BX.Landing.UI.Field.Dropdown\n\t{\n\t\treturn this.cache.remember('shadow', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'shadow',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_SHADOW'),\n\t\t\t\tcontent: this.getFormOptions().data.design.shadow,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_SHADOW_USE'),\n\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_SHADOW_NOT_USE'),\n\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetStyleField()\n\t{\n\t\treturn this.cache.remember('styleField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Dropdown({\n\t\t\t\tselector: 'style',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_STYLE_FIELD_TITLE'),\n\t\t\t\tcontent: this.getFormOptions().data.design.style,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_STYLE_FIELD_ITEM_STANDARD'),\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_STYLE_FIELD_ITEM_MODERN'),\n\t\t\t\t\t\tvalue: 'modern',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPrimaryColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('primaryColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'primary',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_PRIMARY_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.primary,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPrimaryTextColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('primaryTextColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'primaryText',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_PRIMARY_TEXT_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.primaryText,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetBackgroundColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('backgroundColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'background',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BACKGROUND_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.background,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTextColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('textColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'text',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_TEXT_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.text,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFieldBackgroundColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('fieldBackgroundColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'fieldBackground',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FIELD_BACKGROUND_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.fieldBackground,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFieldFocusBackgroundColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('fieldFocusBackgroundColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'fieldFocusBackground',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FIELD_FOCUS_BACKGROUND_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.fieldFocusBackground,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFieldBorderColorField(): ColorPickerField\n\t{\n\t\treturn this.cache.remember('fieldBorderColorField', () => {\n\t\t\treturn new ColorPickerField({\n\t\t\t\tselector: 'fieldBorder',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FIELD_BORDER_COLOR'),\n\t\t\t\tvalue: this.getFormOptions().data.design.color.fieldBorder,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFontField()\n\t{\n\t\treturn this.cache.remember('fontField', () => {\n\t\t\tconst value = {...this.getFormOptions().data.design.font};\n\t\t\tif (!Type.isStringFilled(value.family))\n\t\t\t{\n\t\t\t\tvalue.family = Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FONT_DEFAULT');\n\t\t\t}\n\n\t\t\treturn new BX.Landing.UI.Field.Font({\n\t\t\t\tselector: 'font',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FONT'),\n\t\t\t\theadlessMode: true,\n\t\t\t\tvalue,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetBorderField()\n\t{\n\t\treturn this.cache.remember('borderField', () => {\n\t\t\treturn new BX.Landing.UI.Field.Checkbox({\n\t\t\t\tselector: 'border',\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER'),\n\t\t\t\tvalue: (() => {\n\t\t\t\t\tconst {border} = this.getFormOptions().data.design;\n\t\t\t\t\treturn Object.entries(border).reduce((acc, [key, value]) => {\n\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tacc.push(key);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []);\n\t\t\t\t})(),\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER_LEFT'),\n\t\t\t\t\t\tvalue: 'left',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER_RIGHT'),\n\t\t\t\t\t\tvalue: 'right',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER_TOP'),\n\t\t\t\t\t\tvalue: 'top',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_BORDER_BOTTOM'),\n\t\t\t\t\t\tvalue: 'bottom',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetStyleForm(): Array<any>\n\t{\n\t\treturn this.cache.remember('styleForm', () => {\n\t\t\treturn new StyleForm({\n\t\t\t\ttitle: Loc.getMessage('LANDING_FORM_STYLE_ADAPTER_FORM_TITLE'),\n\t\t\t\tfields: [\n\t\t\t\t\tthis.getThemeField(),\n\t\t\t\t\tthis.getDarkField(),\n\t\t\t\t\tthis.getStyleField(),\n\t\t\t\t\tthis.getShadowField(),\n\t\t\t\t\tthis.getPrimaryColorField(),\n\t\t\t\t\tthis.getPrimaryTextColorField(),\n\t\t\t\t\tthis.getBackgroundColorField(),\n\t\t\t\t\tthis.getTextColorField(),\n\t\t\t\t\tthis.getFieldBackgroundColorField(),\n\t\t\t\t\tthis.getFieldFocusBackgroundColorField(),\n\t\t\t\t\tthis.getFieldBorderColorField(),\n\t\t\t\t\tthis.getFontField(),\n\t\t\t\t\tthis.getBorderField(),\n\t\t\t\t],\n\t\t\t\tonChange: Runtime.throttle(this.onFormChange.bind(this), 16),\n\t\t\t\tserializeModifier(value) {\n\t\t\t\t\tvalue.theme = `${value.theme}-${value.dark}`;\n\t\t\t\t\tvalue.dark = value.dark === 'dark';\n\t\t\t\t\tvalue.shadow = Text.toBoolean(value.shadow);\n\n\t\t\t\t\tvalue.color = {\n\t\t\t\t\t\tprimary: value.primary,\n\t\t\t\t\t\tprimaryText: value.primaryText,\n\t\t\t\t\t\ttext: value.text,\n\t\t\t\t\t\tbackground: value.background,\n\t\t\t\t\t\tfieldBackground: value.fieldBackground,\n\t\t\t\t\t\tfieldFocusBackground: value.fieldFocusBackground,\n\t\t\t\t\t\tfieldBorder: value.fieldBorder,\n\t\t\t\t\t};\n\n\t\t\t\t\tvalue.border = {\n\t\t\t\t\t\tleft: value.border.includes('left'),\n\t\t\t\t\t\tright: value.border.includes('right'),\n\t\t\t\t\t\ttop: value.border.includes('top'),\n\t\t\t\t\t\tbottom: value.border.includes('bottom'),\n\t\t\t\t\t};\n\n\t\t\t\t\tdelete value.primary;\n\t\t\t\t\tdelete value.primaryText;\n\t\t\t\t\tdelete value.text;\n\t\t\t\t\tdelete value.background;\n\t\t\t\t\tdelete value.fieldBackground;\n\t\t\t\t\tdelete value.fieldFocusBackground;\n\t\t\t\t\tdelete value.fieldBorder;\n\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tgetCrmForm()\n\t{\n\t\tconst formApp = Reflection.getClass('b24form.App');\n\t\tif (formApp)\n\t\t{\n\t\t\tif (this.options.instanceId)\n\t\t\t{\n\t\t\t\treturn formApp.get(this.options.instanceId);\n\t\t\t}\n\n\t\t\treturn formApp.list()[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonFormChange(event: BaseEvent)\n\t{\n\t\tconst currentFormOptions = this.getFormOptions();\n\t\tconst designOptions = {\n\t\t\tdata: {\n\t\t\t\tdesign: event.getTarget().serialize(),\n\t\t\t},\n\t\t};\n\t\tconst mergedOptions = Runtime.merge(currentFormOptions, designOptions);\n\t\tthis.setFormOptions(mergedOptions);\n\t\tthis.getCrmForm().adjust(mergedOptions.data);\n\n\t\tthis.onDebouncedFormChange();\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tisCrmFormPage(): boolean\n\t{\n\t\treturn Env.getInstance().getOptions().specialType === 'crm_forms';\n\t}\n\n\tsaveFormDesign()\n\t{\n\t\tconst formClient = FormClient.getInstance();\n\t\tconst formOptions = this.getFormOptions();\n\n\t\tformClient.resetCache(formOptions.id);\n\n\t\treturn formClient.saveOptions(formOptions);\n\t}\n\n\tsaveBlockDesign()\n\t{\n\t\tconst {currentBlock} = this.options;\n\t\tconst {design} = this.getFormOptions().data;\n\n\t\tconst formNode = currentBlock.node.querySelector('.bitrix24forms');\n\t\tDom.attr(formNode, {\n\t\t\t'data-b24form-design': design,\n\t\t\t'data-b24form-use-style': 'Y',\n\t\t});\n\n\t\tconst formClient = FormClient.getInstance();\n\t\tconst formOptions = this.getFormOptions();\n\t\tformClient.resetCache(formOptions.id);\n\n\t\tBackend\n\t\t\t.getInstance()\n\t\t\t.action(\n\t\t\t\t'Landing\\\\Block::updateNodes',\n\t\t\t\t{\n\t\t\t\t\tblock: currentBlock.id,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'.bitrix24forms': {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t'data-b24form-design': JSON.stringify(design),\n\t\t\t\t\t\t\t\t'data-b24form-use-style': 'Y',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tlid: currentBlock.lid,\n\t\t\t\t\tsiteId: currentBlock.siteId,\n\t\t\t\t},\n\t\t\t\t{code: currentBlock.manifest.code},\n\t\t\t);\n\t}\n\n\tonDebouncedFormChange()\n\t{\n\t\tconst formSettingsPanel = FormSettingsPanel.getInstance();\n\t\tformSettingsPanel.setCurrentBlock(this.options.currentBlock);\n\n\t\tif (this.isCrmFormPage())\n\t\t{\n\t\t\tvoid this.saveFormDesign();\n\n\t\t\tif (formSettingsPanel.useBlockDesign())\n\t\t\t{\n\t\t\t\tformSettingsPanel.disableUseBlockDesign();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.saveBlockDesign();\n\t\t}\n\t}\n}"],"names":["themesMap","Map","set","theme","dark","style","color","primary","primaryText","background","text","fieldBackground","fieldFocusBackground","fieldBorder","shadow","font","uri","family","border","left","top","bottom","right","get","FormStyleAdapter","options","setEventNamespace","cache","Cache","MemoryCache","onDebouncedFormChange","Runtime","debounce","FormClient","getInstance","getOptions","formId","then","result","setFormOptions","merge","clone","data","design","getCrmForm","remember","BX","Landing","UI","Field","Dropdown","selector","title","Loc","getMessage","content","getFormOptions","split","onChange","onThemeChange","bind","items","name","value","themeId","getStyleForm","serialize","Type","isPlainObject","getPrimaryColorField","setValue","getPrimaryTextColorField","getBackgroundColorField","getTextColorField","getFieldBackgroundColorField","getFieldFocusBackgroundColorField","getFieldBorderColorField","getStyleField","isBoolean","getShadowField","isStringFilled","getFontField","borders","Object","entries","reduce","acc","key","push","getBorderField","ColorPickerField","Font","headlessMode","Checkbox","StyleForm","fields","getThemeField","getDarkField","throttle","onFormChange","serializeModifier","Text","toBoolean","includes","formApp","Reflection","getClass","instanceId","list","event","currentFormOptions","designOptions","getTarget","mergedOptions","adjust","Env","specialType","formClient","formOptions","resetCache","id","saveOptions","currentBlock","formNode","node","querySelector","Dom","attr","Backend","action","block","attrs","JSON","stringify","lid","siteId","code","manifest","formSettingsPanel","FormSettingsPanel","setCurrentBlock","isCrmFormPage","saveFormDesign","useBlockDesign","disableUseBlockDesign","saveBlockDesign","EventEmitter"],"mappings":"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"}