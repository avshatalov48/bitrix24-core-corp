{"version":3,"file":"mobile.rating.comment.js","sources":["src/likecomments.js","src/index.js"],"sourcesContent":["import { Type, Dom, Loc, Uri, ajax } from 'main.core';\n\nexport class MobileCommentsRatingLike\n{\n\tstatic repo = new Map();\n\n\tconstructor(likeId, entityTypeId, entityId, available)\n\t{\n\t\tthis.likeId = likeId;\n\t\tthis.entityTypeId = entityTypeId;\n\t\tthis.entityId = entityId;\n\t\tthis.available = (available === 'Y');\n\t\tthis.likeTimeout = false;\n\t\tthis.enabled = this.init();\n\n\t\tMobileCommentsRatingLike.setInstance(\n\t\t\tlikeId,\n\t\t\tthis\n\t\t);\n\t}\n\n\tstatic setInstance(likeId: string, likeInstance)\n\t{\n\t\tthis.repo.set(likeId, likeInstance);\n\t\twindow.BXRLC[likeId] = likeInstance;\n\t}\n\n\tstatic getById(likeId: string)\n\t{\n\t\treturn this.getInstance(likeId);\n\t}\n\n\tstatic getInstance(likeId: string)\n\t{\n\t\treturn this.repo.get(likeId);\n\t}\n\n\tstatic List(likeId: string)\n\t{\n\t\tconst instance = this.getInstance(likeId);\n\t\tif (!instance)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tinstance.list();\n\t}\n\n\tinit()\n\t{\n\t\tthis.box = BX('bx-ilike-button-' + this.likeId);\n\t\tif (!this.box)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tBXMobileApp.addCustomEvent('onPull-main', (data) => {\n\t\t\tif (data.command !== 'rating_vote')\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar p = data.params;\n\t\t\tif (((p.USER_ID + '') != (BX.message('USER_ID') + '')) &&\n\t\t\t\tthis.entityTypeId == p.ENTITY_TYPE_ID && this.entityId == p.ENTITY_ID)\n\t\t\t{\n\t\t\t\tthis.someoneVote((p.TYPE == 'ADD'), p.TOTAL_POSITIVE_VOTES);\n\t\t\t}\n\t\t});\n\n\t\tthis.voted = BX.hasClass(this.box, 'post-comment-likes-liked');\n\t\tBX.bind(this.box, 'click', BX.proxy(this.vote, this));\n\n\t\tthis.countText = BX('bx-ilike-count-' + this.likeId);\n\t\tBX.bind(this.countText, 'click', BX.proxy(this.list, this));\n\n\t\treturn true;\n\t}\n\n\tvote(e)\n\t{\n\t\tclearTimeout(this.likeTimeout);\n\t\tif (BX.type.isBoolean(e) && this.voted == e)\n\t\t\treturn false;\n\n\t\tvar counterValue = BX.type.isNotEmptyString(this.countText.innerHTML) ? parseInt(this.countText.innerHTML) : 0,\n\t\t\tnewValue;\n\n\t\tnewValue = this.voted = (BX.type.isBoolean(e) ? e : !this.voted);\n\n\t\tif (this.voted)\n\t\t{\n\t\t\tthis.countText.innerHTML = counterValue + 1;\n\t\t\tBX.addClass(this.box, 'post-comment-likes-liked');\n\t\t\tBX.removeClass(this.box, 'post-comment-likes');\n\n\t\t\tvar likeNode = BX.clone(this.box);\n\t\t\tvar box = this.box;\n\n\t\t\tBX.adjust(box.parentNode, { style: { position: 'relative' } });\n\t\t\tBX.adjust(likeNode, {\n\t\t\t\tattrs: {\n\t\t\t\t\tid: 'bx-ilike-button-animation'\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tminWidth: 0\n\t\t\t\t} });\n\t\t\tBX.adjust(box, { style: { visibility: 'hidden' } });\n\n\t\t\tbox.parentNode.insertBefore(likeNode, box);\n\n\t\t\tnew BX.easing({\n\t\t\t\tduration: 120,\n\t\t\t\tstart: { scale: 100 },\n\t\t\t\tfinish: { scale: 130 },\n\t\t\t\ttransition : BX.easing.transitions.quad,\n\t\t\t\tstep: function(state) {\n\t\t\t\t\tlikeNode.style.transform = \"scale(\" + state.scale / 100 + \")\";\n\t\t\t\t},\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tnew BX.easing({\n\t\t\t\t\t\tduration: 120,\n\t\t\t\t\t\tstart: { scale: 130 },\n\t\t\t\t\t\tfinish: { scale: 100 },\n\t\t\t\t\t\ttransition : BX.easing.transitions.quad,\n\t\t\t\t\t\tstep: function(state) {\n\t\t\t\t\t\t\tlikeNode.style.transform = \"scale(\" + state.scale / 100 + \")\";\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\tlikeNode.parentNode.removeChild(likeNode);\n\t\t\t\t\t\t\tBX.adjust(box, { style: { visibility: 'visible' } });\n\t\t\t\t\t\t\tBX.adjust(box.parentNode, { style: { position: 'static' } });\n\t\t\t\t\t\t}\n\t\t\t\t\t}).animate();\n\t\t\t\t}\n\t\t\t}).animate();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.countText.innerHTML = counterValue - 1;\n\t\t\tBX.addClass(this.box, 'post-comment-likes');\n\t\t\tBX.removeClass(this.box, 'post-comment-likes-liked');\n\t\t}\n\t\tif (BX.type.isBoolean(e))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.likeTimeout = setTimeout(BX.proxy(function() { this.send(newValue); }, this), 1000);\n\t\t\tBX.eventCancelBubble(e);\n\t\t\treturn BX.PreventDefault(e);\n\t\t}\n\t}\n\n\tsend(voteAction)\n\t{\n\t\tvar BMAjaxWrapper = new window.MobileAjaxWrapper();\n\t\tBMAjaxWrapper.Wrap({\n\t\t\ttype: 'json',\n\t\t\tmethod: 'POST',\n\t\t\turl: BX.message('SITE_DIR') + 'mobile/ajax.php?mobile_action=like',\n\t\t\tdata: {\n\t\t\t\tRATING_VOTE: 'Y',\n\t\t\t\tRATING_VOTE_TYPE_ID: this.entityTypeId,\n\t\t\t\tRATING_VOTE_ENTITY_ID: this.entityId,\n\t\t\t\tRATING_VOTE_ACTION: (voteAction === true ? 'plus' : 'cancel'),\n\t\t\t\tsessid: BX.bitrix_sessid()\n\t\t\t},\n\t\t\tcallback: BX.proxy(function(data) {\n\t\t\t\tif (\n\t\t\t\t\ttypeof data != 'undefined'\n\t\t\t\t\t&& typeof data.action != 'undefined'\n\t\t\t\t\t&& typeof data.items_all != 'undefined'\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tthis.vote((data.action == 'plus'));\n\t\t\t\t\tthis.countText.innerHTML = data.items_all;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis.vote(!voteAction);\n\t\t\t}, this),\n\t\t\tcallback_failure: BX.proxy(function() { this.vote(!voteAction); }, this)\n\t\t});\n\t}\n\n\tsomeoneVote(vote, votes)\n\t{\n\t\tthis.countText.innerHTML = votes;\n\t\tif (votes > 1 || (votes == 1 && !this.voted))\n\t\t{\n\t\t\tBX.addClass(this.box, 'post-comment-liked');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.removeClass(this.box, 'post-comment-liked');\n\t\t}\n\t}\n\n\tlist(e)\n\t{\n\t\tif (window[\"app\"])\n\t\t{\n\t\t\tvar pathToUserProfile = (\n\t\t\t\tBX.message('RVPathToUserProfile')\n\t\t\t\t\t? BX.message('RVPathToUserProfile')\n\t\t\t\t\t: BX.message('RVCPathToUserProfile')\n\t\t\t);\n\n\t\t\twindow.app.openTable({\n\t\t\t\tcallback: function() {},\n\t\t\t\turl: (BX.message('MobileSiteDir') ? BX.message('MobileSiteDir') : '/') + 'mobile/index.php?mobile_action=get_likes&RATING_VOTE_TYPE_ID=' + this.entityTypeId + '&RATING_VOTE_ENTITY_ID=' + this.entityId + '&URL=' + pathToUserProfile,\n\t\t\t\tmarkmode: false,\n\t\t\t\tshowtitle: false,\n\t\t\t\tmodal: false,\n\t\t\t\tcache: false,\n\t\t\t\toutsection: false,\n\t\t\t\tcancelname: BX.message('RVCListBack')\n\t\t\t});\n\t\t}\n\t\treturn BX.PreventDefault(e);\n\t}\n\n\n\n}\n","import { Type } from 'main.core';\n\nimport { MobileCommentsRatingLike } from './likecomments.js';\n\nif (Type.isUndefined(window.BXRLC))\n{\n\twindow.BXRLC = {};\n}\n\nwindow.RatingLikeComments = MobileCommentsRatingLike;\n\nif (\n\t!Type.isUndefined(window.RatingLikeCommentsQueue)\n\t&& window.RatingLikeCommentsQueue.length > 0\n)\n{\n\tlet f;\n\twhile (\n\t\t(f = window.RatingLikeCommentsQueue.pop())\n\t\t&& f\n\t)\n\t{\n\t\tf();\n\t}\n\tdelete window.RatingLikeCommentsQueue;\n}\n"],"names":["MobileCommentsRatingLike","likeId","entityTypeId","entityId","available","likeTimeout","enabled","init","setInstance","box","BX","BXMobileApp","addCustomEvent","data","command","p","params","USER_ID","message","ENTITY_TYPE_ID","ENTITY_ID","someoneVote","TYPE","TOTAL_POSITIVE_VOTES","voted","hasClass","bind","proxy","vote","countText","list","e","clearTimeout","type","isBoolean","counterValue","isNotEmptyString","innerHTML","parseInt","newValue","addClass","removeClass","likeNode","clone","adjust","parentNode","style","position","attrs","id","minWidth","visibility","insertBefore","easing","duration","start","scale","finish","transition","transitions","quad","step","state","transform","complete","removeChild","animate","setTimeout","send","eventCancelBubble","PreventDefault","voteAction","BMAjaxWrapper","window","MobileAjaxWrapper","Wrap","method","url","RATING_VOTE","RATING_VOTE_TYPE_ID","RATING_VOTE_ENTITY_ID","RATING_VOTE_ACTION","sessid","bitrix_sessid","callback","action","items_all","callback_failure","votes","pathToUserProfile","app","openTable","markmode","showtitle","modal","cache","outsection","cancelname","likeInstance","repo","set","BXRLC","getInstance","get","instance","Map","Type","isUndefined","RatingLikeComments","RatingLikeCommentsQueue","length","f","pop"],"mappings":"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"}