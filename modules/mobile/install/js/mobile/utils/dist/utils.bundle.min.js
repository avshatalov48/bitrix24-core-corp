(function(e,i){"use strict";var t=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"getFileMimeType",function(e){e=e.toString().toLowerCase();if(e.indexOf("/")!==-1){return e}var i="";switch(e){case"png":i="image/png";break;case"gif":i="image/gif";break;case"jpg":case"jpeg":i="image/jpeg";break;case"heic":i="image/heic";break;case"mp3":i="audio/mpeg";break;case"mp4":i="video/mp4";break;case"mpeg":i="video/mpeg";break;case"ogg":i="video/ogg";break;case"mov":i="video/quicktime";break;case"zip":i="application/zip";break;case"php":i="text/php";break;default:i=""}return i});babelHelpers.defineProperty(this,"getType",function(e){var i=e.substring(0,e.indexOf("/"));if(i!=="image"&&i!=="video"&&i!=="audio"){i="file"}return i});babelHelpers.defineProperty(this,"getResizeOptions",function(e){var i=BX.MobileUtils.getFileMimeType(e),t=BX.MobileUtils.getType(i);return t==="image"&&i!=="image/gif"||t==="video"?{quality:80,width:1920,height:1080}:null});babelHelpers.defineProperty(this,"getUploadFilename",function(e,i){var t=BX.MobileUtils.getFileMimeType(i),n=BX.MobileUtils.getType(t);if(n==="image"||n==="video"){var r=e.split(".").slice(-1)[0].toLowerCase();if(t==="image/heic"){r="jpg"}e="mobile_file_"+(new Date).toJSON().slice(0,19).replace("T","_").split(":").join("-")+"."+r}return e})}babelHelpers.createClass(e,null,[{key:"htmlWithInlineJS",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};function a(e){return i.Type.isArray(e)?e:[e]}function l(e,t){if(i.Type.isString(t)&&t!==""){e.push(t)}return e}function s(e,i){if(!i.isInternal){e.push(i.JS)}return e}function o(e,i){if(i.isInternal){e.push(i.JS)}return e}function p(e){var i=a(e);if(!i.length){return Promise.resolve()}return new Promise(function(e){BX.load(i,e)})}if(i.Type.isNil(n)&&i.Type.isDomNode(t)){return t.innerHTML}var c=BX.processHTML(n);var u=c.STYLE.reduce(l,[]);var f=c.SCRIPT.reduce(s,[]);var g=c.SCRIPT.reduce(o,[]);var b="",h="";g.forEach(function(e){b+="\n"+e});if(b.length>0){h='<span data-type="inline-script"><script>'.concat(b,"<\/script></span>")}if(i.Type.isDomNode(t)){if(r.htmlFirst||!f.length&&!u.length){t.innerHTML=c.HTML+h}}return Promise.all([p(f),p(u)]).then(function(){if(i.Type.isDomNode(t)&&(f.length>0||u.length>0)){t.innerHTML=c.HTML+h}BX.evalGlobal(b);if(i.Type.isFunction(r.callback)){r.callback()}})}}]);return e}();var n=new t;e.Utils=t;e.MobileUtils=n})(this.BX=this.BX||{},BX);
//# sourceMappingURL=utils.bundle.map.js