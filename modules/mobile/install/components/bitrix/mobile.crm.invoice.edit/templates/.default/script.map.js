{"version":3,"file":"script.min.js","sources":["script.js"],"names":["BX","namespace","CrmActivityStorageType","undefined","file","webdav","disk","Mobile","Crm","Invoice","Edit","ajaxPath","formActionUrl","formId","invoiceViewPath","mode","products","productDataFieldName","productsContainerNode","contactContainerNode","companyContainerNode","dealContainerNode","quoteContainerNode","contactInfo","clientInfo","clientPrefix","clientType","quoteInfo","dealInfo","isRestrictedMode","convDealId","convQuoteId","pageId","onDeleteClientEventName","onSelectClientEventName","onSelectContactEventName","onSelectQuoteEventName","onSelectDealEventName","emailEditUrl","emailSubject","statusSort","pageIdProductSelectorBack","init","params","this","document","querySelector","clientContainerNode","app","setPageID","BXMobileApp","addCustomEvent","proxy","data","UI","Page","reload","onCustomEvent","loadPageBlank","close","drop","contactParams","entityContainerNode","entityInfo","onSelectEventName","contactEditor","EntityEditor","clientParams","onDeleteEventName","clientEditor","dealParams","dealEditor","quoteParams","quoteEditor","showHideContactBlock","refreshPaySystemList","entity","innerHTML","id","onCrmInvoiceEditStatusChange","initFormForFile","delegate","gridId","obj","onChangeField","form","Grid","Form","getByFormId","onInvoiceFormCloseHandler","removeCustomEvent","closeModalDialog","window","isCurrentPage","formNode","inputNode","checked","hasAttribute","newInputNode","create","attrs","type","name","value","parentNode","insertBefore","hasOwnProperty","isShowed","contactBlock","style","display","ajax","method","dataType","url","sessid","bitrix_sessid","action","onsuccess","json","paySystemSelect","message","newPaySystems","PAY_SYSTEMS","isFirst","i","appendChild","html","node","payVoucherNum","findChild","tag","attr","statusSelect","payVoucherDate","reasonMarkedSuccess","dateMarked","reasonMarked","statusId","isSuccess","isFailed","block","length","successElements","failedElements","findParent","class","getInvoicePdfContent","invoiceId","invoiceAccountNumber","INVOICE_ID","INVOICE_NUM","pdf","GET_CONTENT","LoadingScreen","show","result","hide","ERROR","crmInvoiceOpenEmailDialog","showErrorAlert","onfailure","debug","emailEditorSettings","timestamp","Date","getTime","subject","storageTypeId","storageElements","diskfile","ID","NAME","VIEW_URL","cache","submit","dataFormValues","ProductEditor","curEntityId","Detail","collectInterfaceFormData","error","viewPath","replace","itemId","path","indexOf","PageManager","loadPageModal"],"mappings":"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"}