BX.namespace("BX.Mobile.Crm.ConvertSync");BX.Mobile.Crm.ConvertSync={init:function(e,t){if(e.entityType){var c=BX("bx-crm-convert-sync-block").querySelector('[data-role="crm-convert-sync-legend"]');if(c){c.innerHTML=BX.message("M_CRM_CONVERT_SYNC_LEGEND_"+e.entityType.toUpperCase())}}if(e.fields){var r=e.fields.length;var n=r>5?5:r;for(var i=0;i<n;i++){BX("bx-convert-crm-fields").appendChild(BX.create("div",{attrs:{className:"mobile-crm-convert-field-item"},html:e.fields[i]}))}if(r>5){var o=BX.create("div",{attrs:{style:"display:none",id:"bx-crm-convert-sync-more-block"}});for(i=5;i<r;i++){o.appendChild(BX.create("div",{attrs:{className:"mobile-crm-convert-field-item"},html:e.fields[i]}))}BX("bx-convert-crm-fields").appendChild(o);BX("bx-convert-crm-fields").appendChild(BX.create("a",{attrs:{className:"mobile-crm-convert-field-item"},html:BX.message("M_CRM_CONVERT_SYNC_MORE")+" "+(r-5),events:{click:function(){BX.toggle(BX("bx-crm-convert-sync-more-block"));this.style.display="none"}}}))}}var l=BX("bx-crm-convert-sync-block").querySelector('[data-role="crm-convert-sync-entities"]');for(var a in e.config){if(!e.config.hasOwnProperty(a)){continue}var s=e.config[a];var m=BX.type.isNotEmptyString(s["enableSync"])&&s["enableSync"]==="Y";if(!m){continue}var d=a;var v=BX.create("input",{props:{id:d,type:"checkbox",checked:true}});var f=BX.create("label",{props:{htmlFor:d},html:t[a.toUpperCase()],attrs:{className:"mobile-crm-convert-field-item-select mobile-crm-convert-field-item-selected"},events:{click:function(){BX.toggleClass(this,"mobile-crm-convert-field-item-selected")}}});l.appendChild(v);l.appendChild(f)}var p=e.config;BX.bind(BX("bx-convert-crm-button"),"click",BX.proxy(function(){var e=l.querySelectorAll("input");if(e){for(var t=0;t<e.length;t++){this.config[e[t].id].enableSync=e[t].checked?"Y":"N"}BXMobileApp.onCustomEvent("onCrmConvertSynchSettings",{config:this.config,convertId:this.convertId},true);BXMobileApp.UI.Page.close()}},{config:e.config,convertId:e.convertId}))}};
//# sourceMappingURL=script.map.js