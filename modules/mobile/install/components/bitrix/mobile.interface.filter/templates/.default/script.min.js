BX.namespace("BX.Mobile.Grid.Filter");BX.Mobile.Grid.Filter={gridId:"",eventName:"",ajaxPath:"",formId:"",formFields:{},init:function(e){if(typeof e==="object"){this.gridId=e.gridId||"";this.eventName=e.eventName||"";this.ajaxPath=e.ajaxPath||"";this.formId=e.formId||"";this.formFields=e.formFields||{}}},apply:function(){window.BXMobileApp.UI.Page.LoadingScreen.show();var e=BX(this.formId);if(e){var i={gridId:this.gridId,action:"saveFilter",sessid:BX.bitrix_sessid()};var a={};var t=[];for(var o=0;o<e.elements.length;o++){if(e[o].name in this.formFields){if(e[o].tagName=="SELECT"){var s=e[o].options[e[o].selectedIndex];if(s&&s.value)a[e[o].name]=s.value;else a[e[o].name]=""}else a[e[o].name]=e[o].value;if(e[o].name){var n=e[o].name;t.push(n)}}}i.fields=a;i.filter_rows=t;BX.ajax.post(this.ajaxPath,i,BX.proxy(function(){window.BXMobileApp.UI.Page.LoadingScreen.hide();window.BXMobileApp.onCustomEvent(this.eventName,{},true);app.closeModalDialog()},this))}}};
//# sourceMappingURL=script.map.js