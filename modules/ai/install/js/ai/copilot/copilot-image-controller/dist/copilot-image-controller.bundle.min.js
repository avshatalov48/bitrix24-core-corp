this.BX=this.BX||{};(function(e,s,a,l,t,i,o,r,n){"use strict";class b{constructor(e){this.copilotImageController=e.copilotImageController}execute(){throw new Error("You must implement this method!")}}var c=babelHelpers.classPrivateFieldLooseKey("inputField");var d=babelHelpers.classPrivateFieldLooseKey("copilotContainer");class p extends b{constructor(e){super(e);Object.defineProperty(this,c,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e.copilotContainer;babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e.inputField}execute(){this.copilotImageController.emit("cancel");this.copilotImageController.destroyAllMenus();this.copilotImageController.showImageConfigurator();babelHelpers.classPrivateFieldLooseBase(this,c)[c].clearErrors();babelHelpers.classPrivateFieldLooseBase(this,c)[c].clear();babelHelpers.classPrivateFieldLooseBase(this,c)[c].enable();r.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,d)[d],"--error");babelHelpers.classPrivateFieldLooseBase(this,c)[c].focus();this.copilotImageController.getAnalytics().sendEventCancel()}}class v extends b{execute(){this.copilotImageController.emit("place-under")}}class u extends b{execute(){this.copilotImageController.emit("place-above")}}class P extends b{execute(){this.copilotImageController.emit("save",new i.BaseEvent({data:{imageUrl:this.copilotImageController.getResultImageUrl()}}));this.copilotImageController.getAnalytics().sendEventSave()}}class h extends b{execute(){this.copilotImageController.completions()}}class L{static getMenuItems(e){const s=e.copilotImageController;const a=e.inputField;const l=e.copilotContainer;return[{code:"repeat",text:r.Loc.getMessage("AI_COPILOT_COMMAND_REPEAT"),icon:"left-semicircular-anticlockwise-arrow-1",notHighlight:true,command:new h({copilotImageController:s})},{code:"cancel",text:r.Loc.getMessage("AI_COPILOT_COMMAND_CANCEL"),icon:"cross-45",notHighlight:true,command:new p({copilotImageController:s,inputField:a,copilotContainer:l})}]}}class F{static getMenuItems(e){const s=e==null?void 0:e.copilotImageController;const a=e.inputField;const l=e.useInsertAboveAndUnderMenuItems;return[{code:"save",text:r.Loc.getMessage("AI_COPILOT_IMAGE_RESULT_MENU_SAVE"),icon:n.Main.CHECK,notHighlight:true,command:new P({copilotImageController:s})},l?{code:"place_above",text:r.Loc.getMessage("AI_COPILOT_IMAGE_RESULT_MENU_PLACE_ABOVE_TEXT"),icon:n.Actions.ARROW_TOP,notHighlight:true,command:new u({copilotImageController:s})}:null,l?{code:"place_under",text:r.Loc.getMessage("AI_COPILOT_IMAGE_RESULT_MENU_PLACE_UNDER_TEXT"),icon:n.Actions.ARROW_DOWN,notHighlight:true,command:new v({copilotImageController:s})}:null,{code:"repeat",text:r.Loc.getMessage("AI_COPILOT_IMAGE_RESULT_MENU_REPEAT"),icon:n.Actions.LEFT_SEMICIRCULAR_ANTICLOCKWISE_ARROW_1,notHighlight:true,command:new h({copilotImageController:s})},{separator:true},{code:"cancel",text:r.Loc.getMessage("AI_COPILOT_IMAGE_RESULT_MENU_CANCEL"),icon:n.Actions.CROSS_45,notHighlight:true,command:new p({copilotImageController:s,inputField:a})}].filter((e=>Boolean(e)))}}let H=e=>e,g,B,m,f,y,_;const I=Object.freeze({select:"select"});var O=babelHelpers.classPrivateFieldLooseKey("mainStylesCount");var E=babelHelpers.classPrivateFieldLooseKey("currentMainStylesCount");var C=babelHelpers.classPrivateFieldLooseKey("selectedStyle");var A=babelHelpers.classPrivateFieldLooseKey("isExpanded");var w=babelHelpers.classPrivateFieldLooseKey("styleList");var T=babelHelpers.classPrivateFieldLooseKey("container");var j=babelHelpers.classPrivateFieldLooseKey("styles");var M=babelHelpers.classPrivateFieldLooseKey("renderHeader");var K=babelHelpers.classPrivateFieldLooseKey("isShowExpandBtn");var S=babelHelpers.classPrivateFieldLooseKey("renderExpandListBtn");var x=babelHelpers.classPrivateFieldLooseKey("renderStylesList");var R=babelHelpers.classPrivateFieldLooseKey("renderStyleItems");var N=babelHelpers.classPrivateFieldLooseKey("renderStyleItem");class $ extends i.EventEmitter{constructor(e){super(e);Object.defineProperty(this,N,{value:X});Object.defineProperty(this,R,{value:V});Object.defineProperty(this,x,{value:k});Object.defineProperty(this,S,{value:U});Object.defineProperty(this,K,{value:D});Object.defineProperty(this,M,{value:G});Object.defineProperty(this,O,{writable:true,value:0});Object.defineProperty(this,E,{writable:true,value:9});Object.defineProperty(this,C,{writable:true,value:null});Object.defineProperty(this,A,{writable:true,value:false});Object.defineProperty(this,w,{writable:true,value:null});Object.defineProperty(this,T,{writable:true,value:null});Object.defineProperty(this,j,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,j)[j]=e.styles;babelHelpers.classPrivateFieldLooseBase(this,O)[O]=babelHelpers.classPrivateFieldLooseBase(this,j)[j].length;babelHelpers.classPrivateFieldLooseBase(this,C)[C]=babelHelpers.classPrivateFieldLooseBase(this,j)[j][0].code;this.setEventNamespace("AI.Copilot.ImageConfiguratorStyles")}getSelectedStyle(){return babelHelpers.classPrivateFieldLooseBase(this,C)[C]}render(){babelHelpers.classPrivateFieldLooseBase(this,T)[T]=r.Tag.render(g||(g=H`
			<div class="ai__image-configurator-styles">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,M)[M](),babelHelpers.classPrivateFieldLooseBase(this,x)[x]());requestAnimationFrame((()=>{const e=getComputedStyle(babelHelpers.classPrivateFieldLooseBase(this,w)[w]);const s=e.getPropertyValue("padding-top");const a=e.getPropertyValue("padding-bottom");const l=parseFloat(s)+parseFloat(a);r.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,w)[w],"height",`${babelHelpers.classPrivateFieldLooseBase(this,w)[w].offsetHeight-l+4}px`)}));return babelHelpers.classPrivateFieldLooseBase(this,T)[T]}}function G(){const e=babelHelpers.classPrivateFieldLooseBase(this,K)[K]()?babelHelpers.classPrivateFieldLooseBase(this,S)[S]():null;return r.Tag.render(B||(B=H`
			<header class="ai__image-configurator-styles_header">
				<div
					class="ai__image-configurator-styles_title"
					title="${0}"
				>
					${0}
				</div>
				${0}
			</header>
		`),r.Loc.getMessage("AI_COPILOT_IMAGE_POPULAR_STYLES"),r.Loc.getMessage("AI_COPILOT_IMAGE_POPULAR_STYLES"),e)}function D(){return babelHelpers.classPrivateFieldLooseBase(this,O)[O]>babelHelpers.classPrivateFieldLooseBase(this,E)[E]}function U(){const e=r.Tag.render(m||(m=H`
			<div
				class="ai__image-configurator-styles_all-styles"
				title="${0}"
			>
				${0}
			</div>
		`),r.Loc.getMessage("AI_COPILOT_IMAGE_ALL_STYLES"),r.Loc.getMessage("AI_COPILOT_IMAGE_ALL_STYLES"));r.Event.bind(e,"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,A)[A]=!babelHelpers.classPrivateFieldLooseBase(this,A)[A];if(babelHelpers.classPrivateFieldLooseBase(this,A)[A]){r.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,w)[w],"--expanded");babelHelpers.classPrivateFieldLooseBase(this,E)[E]=Object.values(babelHelpers.classPrivateFieldLooseBase(this,j)[j]).length;babelHelpers.classPrivateFieldLooseBase(this,w)[w].innerHTML="";babelHelpers.classPrivateFieldLooseBase(this,w)[w].append(...babelHelpers.classPrivateFieldLooseBase(this,R)[R]())}else{r.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,w)[w],"--expanded")}}));return e}function k(){babelHelpers.classPrivateFieldLooseBase(this,w)[w]=r.Tag.render(f||(f=H`
			<div class="ai__image-configurator-styles_list">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,R)[R]());return babelHelpers.classPrivateFieldLooseBase(this,w)[w]}function V(){return babelHelpers.classPrivateFieldLooseBase(this,j)[j].slice(0,babelHelpers.classPrivateFieldLooseBase(this,E)[E]).map((e=>babelHelpers.classPrivateFieldLooseBase(this,N)[N](e)))}function X(e){const s=r.Tag.render(y||(y=H`
			<input
				${0}
				id="${0}"
				name="ai__image-configurator-style"
				type="radio"
				class="ai__image-configurator-style_item-radio-btn"
			/>
		`),e.code===babelHelpers.classPrivateFieldLooseBase(this,C)[C]?"checked":"",e.code);const a=r.Tag.render(_||(_=H`
			<div
				title="${0}"
				class="ai__image-configurator-styles_item"
			>
				${0}
				<label
					for="${0}"
					class="ai__image-configurator-styles_item-inner"
					style="background-image: url(${0})"
				>
					<div class="ai__image-configurator-styles_item-title">${0}</div>
				</label>
			</div>
		`),e.name,s,e.code,e.preview,e.name);r.Event.bind(s,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,C)[C]=e.code;this.emit(I.select,new i.BaseEvent({data:e.code}))}));return a}const W=e=>({format:{title:r.Loc.getMessage("AI_COPILOT_IMAGE_FORMAT_OPTION_TITLE"),icon:n.Editor.INCERT_IMAGE,options:Y(e.formats)},engine:{title:r.Loc.getMessage("AI_COPILOT_IMAGE_ENGINE_OPTION_TITLE"),icon:n.Main.ROBOT,options:z(e.engines)}});const Y=e=>e.map((e=>({title:e.name,value:e.code})));const z=e=>e.map((e=>({title:e.title,value:e.code})));let q=e=>e,J,Q,Z;var ee=babelHelpers.classPrivateFieldLooseKey("container");var se=babelHelpers.classPrivateFieldLooseKey("currentValues");var ae=babelHelpers.classPrivateFieldLooseKey("openOptionsMenu");var le=babelHelpers.classPrivateFieldLooseKey("params");var te=babelHelpers.classPrivateFieldLooseKey("getSelectedEngineCodeFromEngines");var ie=babelHelpers.classPrivateFieldLooseKey("renderParams");var oe=babelHelpers.classPrivateFieldLooseKey("renderParam");var re=babelHelpers.classPrivateFieldLooseKey("showOptionsMenu");var ne=babelHelpers.classPrivateFieldLooseKey("getMenuOptions");var be=babelHelpers.classPrivateFieldLooseKey("getMenuItemsFromOptions");var ce=babelHelpers.classPrivateFieldLooseKey("getMenuItemHtml");var de=babelHelpers.classPrivateFieldLooseKey("handleMenuItemClick");var pe=babelHelpers.classPrivateFieldLooseKey("initParams");class ve extends i.EventEmitter{constructor(e){super(e);Object.defineProperty(this,pe,{value:me});Object.defineProperty(this,de,{value:Be});Object.defineProperty(this,ce,{value:ge});Object.defineProperty(this,be,{value:He});Object.defineProperty(this,ne,{value:Fe});Object.defineProperty(this,re,{value:Le});Object.defineProperty(this,oe,{value:he});Object.defineProperty(this,ie,{value:Pe});Object.defineProperty(this,te,{value:ue});Object.defineProperty(this,ee,{writable:true,value:void 0});Object.defineProperty(this,se,{writable:true,value:void 0});Object.defineProperty(this,ae,{writable:true,value:void 0});Object.defineProperty(this,le,{writable:true,value:{}});babelHelpers.classPrivateFieldLooseBase(this,le)[le]=babelHelpers.classPrivateFieldLooseBase(this,pe)[pe](e);const s={format:babelHelpers.classPrivateFieldLooseBase(this,le)[le].format.options[0].value,engine:babelHelpers.classPrivateFieldLooseBase(this,te)[te](e.engines)};const a={set:(e,s,a)=>{Reflect.set(e,s,a);if(babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]&&(s==="format"||s==="engine")){const e=babelHelpers.classPrivateFieldLooseBase(this,le)[le][s].options.find((e=>e.value===a));const l=babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].querySelector(`#ai__copilot-image-params-item-${s}`);if(l){l.innerText=e.title;r.Dom.attr(l,"title",e.title)}}return true}};babelHelpers.classPrivateFieldLooseBase(this,se)[se]=new Proxy(s,a);this.setEventNamespace("AI.Copilot.ImageParams")}getCurrentValues(){return{...babelHelpers.classPrivateFieldLooseBase(this,se)[se]}}isContainsTarget(e){var s,a,l,t;return((s=babelHelpers.classPrivateFieldLooseBase(this,ee)[ee])==null?void 0:s.contains(e))||((a=babelHelpers.classPrivateFieldLooseBase(this,ae)[ae])==null?void 0:(l=a.getPopupWindow())==null?void 0:(t=l.getPopupContainer())==null?void 0:t.contains(e))}setFormats(e){babelHelpers.classPrivateFieldLooseBase(this,le)[le].format=W({formats:e,engines:[]}).format}setSelectedEngine(e){babelHelpers.classPrivateFieldLooseBase(this,se)[se].engine=e}render(){babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]=r.Tag.render(J||(J=q`
			<div class="ai__copilot-image-params">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,ie)[ie](babelHelpers.classPrivateFieldLooseBase(this,le)[le]));return babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]}}function ue(e){var s;const a=e.find((e=>e.selected));return a.code||(e==null?void 0:(s=e[0])==null?void 0:s.code)}function Pe(e){return Object.entries(e).map((([e,s])=>babelHelpers.classPrivateFieldLooseBase(this,oe)[oe](s,e)))}function he(e,s){const a=e.options.find((e=>e.value===babelHelpers.classPrivateFieldLooseBase(this,se)[se][s]));const l=new n.Icon({size:24,icon:e.icon,color:"#8E52EC"});const t=new n.Icon({size:16,icon:n.Actions.CHEVRON_RIGHT,color:getComputedStyle(document.body).getPropertyValue("--ui-color-base-50")});const i=r.Tag.render(Q||(Q=q`
			<div class="ai__copilot-image-params-item">
				<div class="ai__copilot-image-params-item_title">
					<div class="ai__copilot-image-params-item_title-icon">
						${0}
					</div>
					<div
						class="ai__copilot-image-params-item_title-text"
						title="${0}"
					>
						${0}
					</div>
				</div>
				<div ref="value" class="ai__copilot-image-params-item_value">
					<div
						id="ai__copilot-image-params-item-${0}"
						class="ai__copilot-image-params-item_value-text"
						title="${0}"
					>
						${0}
					</div>
					<div class="ai__copilot-image-params-item_value-arrow-icon">
						${0}
					</div>
				</div>
			</div>
		`),l.render(),e.title,e.title,s,a.title,a.title,t.render());r.Event.bind(i.root,"click",(()=>{if(babelHelpers.classPrivateFieldLooseBase(this,ae)[ae]){babelHelpers.classPrivateFieldLooseBase(this,ae)[ae].close()}else{babelHelpers.classPrivateFieldLooseBase(this,re)[re](i.value,babelHelpers.classPrivateFieldLooseBase(this,le)[le][s].options,s)}}));return i.root}function Le(e,s,a){babelHelpers.classPrivateFieldLooseBase(this,ae)[ae]=new o.Menu({...babelHelpers.classPrivateFieldLooseBase(this,ne)[ne](e,s,a)});babelHelpers.classPrivateFieldLooseBase(this,ae)[ae].show()}function Fe(e,s,a){const l=r.Dom.getPosition(e);return{bindElement:{top:l.top-6,left:l.right+18},cacheable:false,minWidth:200,items:babelHelpers.classPrivateFieldLooseBase(this,be)[be](s,a),events:{onPopupAfterClose:()=>{babelHelpers.classPrivateFieldLooseBase(this,ae)[ae]=null}}}}function He(e,s){return e.map((e=>{const a=e.value===babelHelpers.classPrivateFieldLooseBase(this,se)[se][s];return{id:e.value,text:e.title,html:babelHelpers.classPrivateFieldLooseBase(this,ce)[ce](e.title,a),onclick:babelHelpers.classPrivateFieldLooseBase(this,de)[de](s,e.value)}}))}function ge(e,s){const a=new n.Icon({size:18,icon:n.Main.CHECK,color:getComputedStyle(document.body).getPropertyValue("--ui-color-link-primary-base")});return r.Tag.render(Z||(Z=q`
			<div class="ai__copilot-image-params-popup-item">
				<span class="ai__copilot-image-params-popup-item_title">${0}</span>
				${0}
			</div>
		`),e,s?a.render():null)}function Be(e,s){return(a,l)=>{if(babelHelpers.classPrivateFieldLooseBase(this,se)[se][e]!==s){this.emit("change-parameter",{parameter:e,value:s})}babelHelpers.classPrivateFieldLooseBase(this,se)[se][e]=s;l.getMenuWindow().close();babelHelpers.classPrivateFieldLooseBase(this,ae)[ae]=null}}function me(e){const s=W({formats:Object.values(e.formats),engines:e.engines});const a={set:(e,s,a)=>{Reflect.set(e,s,a);if(s==="format"){babelHelpers.classPrivateFieldLooseBase(this,se)[se].format=babelHelpers.classPrivateFieldLooseBase(this,le)[le].format.options[0].value}return true}};return new Proxy(s,a)}let fe=e=>e,ye;var _e=babelHelpers.classPrivateFieldLooseKey("container");var Ie=babelHelpers.classPrivateFieldLooseKey("imageConfiguratorStyles");var Oe=babelHelpers.classPrivateFieldLooseKey("imageConfiguratorParams");var Ee=babelHelpers.classPrivateFieldLooseKey("renderImageStyles");var Ce=babelHelpers.classPrivateFieldLooseKey("renderImageParams");class Ae extends i.EventEmitter{constructor(e){var s,a,l;super(e);Object.defineProperty(this,Ce,{value:Te});Object.defineProperty(this,Ee,{value:we});Object.defineProperty(this,_e,{writable:true,value:void 0});Object.defineProperty(this,Ie,{writable:true,value:void 0});Object.defineProperty(this,Oe,{writable:true,value:void 0});this.setEventNamespace("AI.Copilot.ImageConfigurator");babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]=new $({styles:(s=e==null?void 0:e.styles)!=null?s:[]});babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]=new ve({formats:(a=e==null?void 0:e.formats)!=null?a:[],engines:(l=e==null?void 0:e.engines)!=null?l:[]});babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].subscribe("change-parameter",(e=>{const s=e.getData();this.emit("change-parameter",s)}))}setFormats(e){babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].setFormats(e)}setSelectedEngine(e){babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].setSelectedEngine(e)}getParams(){return{style:babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].getSelectedStyle(),...babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].getCurrentValues()}}isContainsTarget(e){var s,a;return((s=babelHelpers.classPrivateFieldLooseBase(this,_e)[_e])==null?void 0:s.contains(e))||((a=babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe])==null?void 0:a.isContainsTarget(e))}render(){babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]=r.Tag.render(ye||(ye=fe`
			<div class="ai__copilot-image-configurator">
				<div class="ai__copilot-image-configurator_styles">
					${0}
				</div>
				<div class="ai__copilot-image-configurator_params">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee](),babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]());return babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]}}function we(){return babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie].render()}function Te(){return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe].render()}let je=e=>e,Me,Ke,Se;const xe=Object.freeze({completions:"completions",back:"back",selectEngine:"selectEngine"});var Re=babelHelpers.classPrivateFieldLooseKey("bindElement");var Ne=babelHelpers.classPrivateFieldLooseKey("popup");var $e=babelHelpers.classPrivateFieldLooseKey("popupOffset");var Ge=babelHelpers.classPrivateFieldLooseKey("popupId");var De=babelHelpers.classPrivateFieldLooseKey("imageConfigurator");var Ue=babelHelpers.classPrivateFieldLooseKey("withoutBackBtn");var ke=babelHelpers.classPrivateFieldLooseKey("submitButton");var Ve=babelHelpers.classPrivateFieldLooseKey("loader");var Xe=babelHelpers.classPrivateFieldLooseKey("loaderOverlay");var We=babelHelpers.classPrivateFieldLooseKey("createPopup");var Ye=babelHelpers.classPrivateFieldLooseKey("renderPopupContent");var ze=babelHelpers.classPrivateFieldLooseKey("renderBackBtnIfNeeded");var qe=babelHelpers.classPrivateFieldLooseKey("initSubmitButton");class Je extends i.EventEmitter{constructor(e){super(e);Object.defineProperty(this,qe,{value:ss});Object.defineProperty(this,ze,{value:es});Object.defineProperty(this,Ye,{value:Ze});Object.defineProperty(this,We,{value:Qe});Object.defineProperty(this,Re,{writable:true,value:null});Object.defineProperty(this,Ne,{writable:true,value:null});Object.defineProperty(this,$e,{writable:true,value:void 0});Object.defineProperty(this,Ge,{writable:true,value:void 0});Object.defineProperty(this,De,{writable:true,value:void 0});Object.defineProperty(this,Ue,{writable:true,value:void 0});Object.defineProperty(this,ke,{writable:true,value:void 0});Object.defineProperty(this,Ve,{writable:true,value:void 0});Object.defineProperty(this,Xe,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]=e.popupId||String(Math.random());babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]=e.bindElement;babelHelpers.classPrivateFieldLooseBase(this,$e)[$e]=e.popupOffset;babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]=e.withoutBackBtn===true;babelHelpers.classPrivateFieldLooseBase(this,De)[De]=new Ae({formats:e.imageConfiguratorOptions.formats,styles:e.imageConfiguratorOptions.styles,engines:e.imageConfiguratorOptions.engines});babelHelpers.classPrivateFieldLooseBase(this,De)[De].subscribe("change-parameter",(e=>{const s=e.getData();if(s.parameter==="engine"){this.emit(xe.selectEngine,s.value)}}));babelHelpers.classPrivateFieldLooseBase(this,qe)[qe]();this.setEventNamespace("AI.Copilot:ImagePopup")}getPopupId(){return babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]}getPopup(){return babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne]}show(){if(babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne]===null){babelHelpers.classPrivateFieldLooseBase(this,We)[We]()}babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne].show()}hide(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne])==null?void 0:e.close()}destroy(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne])==null?void 0:e.destroy();babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne]=null}isShown(){return babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne].isShown()}isContainsTarget(e){var s,a,l;return((s=babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne])==null?void 0:(a=s.getPopupContainer())==null?void 0:a.contains(e))||((l=babelHelpers.classPrivateFieldLooseBase(this,De)[De])==null?void 0:l.isContainsTarget(e))}adjustPosition(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne])==null?void 0:e.adjustPosition({forceBindPosition:true})}getImageConfiguration(){return babelHelpers.classPrivateFieldLooseBase(this,De)[De].getParams()}setFormats(e){babelHelpers.classPrivateFieldLooseBase(this,De)[De].setFormats(e)}setSelectedEngine(e){babelHelpers.classPrivateFieldLooseBase(this,De)[De].setSelectedEngine(e)}disableSubmitButton(){babelHelpers.classPrivateFieldLooseBase(this,ke)[ke].setDisabled(true)}enableSubmitButton(){babelHelpers.classPrivateFieldLooseBase(this,ke)[ke].setDisabled(false)}showLoader(){var e;babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]=r.Tag.render(Me||(Me=je`
			<div class="ai__copilot-image-configurator-popup-loader-overlay"></div>
		`));r.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe],(e=babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne])==null?void 0:e.getPopupContainer());babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve]=new l.Loader({size:110,color:getComputedStyle(document.body).getPropertyValue("--ui-color-copilot-primary"),target:babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]});babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].show(babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe])}hideLoader(){babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].destroy();r.Dom.remove(babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]);babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve]=null;babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]=null}}function Qe(){var e,s;babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne]=new o.Popup({id:babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge],bindElement:babelHelpers.classPrivateFieldLooseBase(this,Re)[Re],cacheable:true,width:278,padding:0,content:babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]()});babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne].setOffset({offsetTop:(e=babelHelpers.classPrivateFieldLooseBase(this,$e)[$e])==null?void 0:e.top,offsetLeft:(s=babelHelpers.classPrivateFieldLooseBase(this,$e)[$e])==null?void 0:s.left})}function Ze(){return r.Tag.render(Ke||(Ke=je`
			<div class="ai__copilot-image-configurator-popup-content">
				<header class="ai__copilot-image-configurator-popup-content_header">
					${0}
					<div class="ai__copilot-image-configurator-popup-content_title">
						${0}
					</div>
				</header>
				<div class="ai__copilot-image-configurator-popup-content_params">
					${0}
				</div>
				<div class="ai__copilot-image-configurator-popup-content_footer">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,ze)[ze](),r.Loc.getMessage("AI_COPILOT_IMAGE_POPUP_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,De)[De].render(),babelHelpers.classPrivateFieldLooseBase(this,ke)[ke].render())}function es(){if(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]){return null}const e=new n.Icon({size:24,color:getComputedStyle(document.body).getPropertyValue("--ui-color-base-90"),icon:n.Actions.CHEVRON_LEFT});const s=e.render();r.Event.bind(s,"click",(()=>{this.emit(xe.back,new i.BaseEvent)}));return r.Tag.render(Se||(Se=je`
			<div class="ai__copilot-image-configurator-popup-content_back-btn">
				${0}
			</div>
		`),s)}function ss(){babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]=new t.Button({color:t.Button.Color.AI,text:r.Loc.getMessage("AI_COPILOT_IMAGE_POPUP_GENERATE_BTN"),round:true,noCaps:true,onclick:()=>{this.emit(xe.completions,new i.BaseEvent({data:babelHelpers.classPrivateFieldLooseBase(this,De)[De].getParams()}))}})}var as=babelHelpers.classPrivateFieldLooseKey("analytics");var ls=babelHelpers.classPrivateFieldLooseKey("copilotContainer");var ts=babelHelpers.classPrivateFieldLooseKey("inputField");var is=babelHelpers.classPrivateFieldLooseKey("engine");var os=babelHelpers.classPrivateFieldLooseKey("imageConfiguratorPopup");var rs=babelHelpers.classPrivateFieldLooseKey("errorMenu");var ns=babelHelpers.classPrivateFieldLooseKey("resultMenu");var bs=babelHelpers.classPrivateFieldLooseKey("resultImageUrl");var cs=babelHelpers.classPrivateFieldLooseKey("copilotInputEvents");var ds=babelHelpers.classPrivateFieldLooseKey("CopilotMenu");var ps=babelHelpers.classPrivateFieldLooseKey("popupWithoutBackBtn");var vs=babelHelpers.classPrivateFieldLooseKey("currentGenerateRequestId");var us=babelHelpers.classPrivateFieldLooseKey("useInsertAboveAndUnderTextMenuItems");var Ps=babelHelpers.classPrivateFieldLooseKey("formats");var hs=babelHelpers.classPrivateFieldLooseKey("styles");var Ls=babelHelpers.classPrivateFieldLooseKey("engines");var Fs=babelHelpers.classPrivateFieldLooseKey("inputFieldCancelLoadingEventHandler");var Hs=babelHelpers.classPrivateFieldLooseKey("inputFieldSubmitEventHandler");var gs=babelHelpers.classPrivateFieldLooseKey("inputFieldAdjustHeightEventHandler");var Bs=babelHelpers.classPrivateFieldLooseKey("initImageConfiguratorPopup");var ms=babelHelpers.classPrivateFieldLooseKey("subscribeToInputFieldEvents");var fs=babelHelpers.classPrivateFieldLooseKey("unsubscribeFromInputFieldEvents");var ys=babelHelpers.classPrivateFieldLooseKey("handleCompletionsError");var _s=babelHelpers.classPrivateFieldLooseKey("setPayload");var Is=babelHelpers.classPrivateFieldLooseKey("handleInputFieldSubmitEvent");var Os=babelHelpers.classPrivateFieldLooseKey("handleInputFieldCancelLoadingEvent");var Es=babelHelpers.classPrivateFieldLooseKey("handleInputFieldAdjustHeightEvent");var Cs=babelHelpers.classPrivateFieldLooseKey("showResultMenu");var As=babelHelpers.classPrivateFieldLooseKey("initResultMenu");var ws=babelHelpers.classPrivateFieldLooseKey("showErrorMenu");var Ts=babelHelpers.classPrivateFieldLooseKey("initErrorMenu");class js extends i.EventEmitter{constructor(e){super(e);Object.defineProperty(this,Ts,{value:Vs});Object.defineProperty(this,ws,{value:ks});Object.defineProperty(this,As,{value:Us});Object.defineProperty(this,Cs,{value:Ds});Object.defineProperty(this,Es,{value:Gs});Object.defineProperty(this,Os,{value:$s});Object.defineProperty(this,Is,{value:Ns});Object.defineProperty(this,_s,{value:Rs});Object.defineProperty(this,ys,{value:xs});Object.defineProperty(this,fs,{value:Ss});Object.defineProperty(this,ms,{value:Ks});Object.defineProperty(this,Bs,{value:Ms});Object.defineProperty(this,as,{writable:true,value:void 0});Object.defineProperty(this,ls,{writable:true,value:void 0});Object.defineProperty(this,ts,{writable:true,value:void 0});Object.defineProperty(this,is,{writable:true,value:void 0});Object.defineProperty(this,os,{writable:true,value:void 0});Object.defineProperty(this,rs,{writable:true,value:void 0});Object.defineProperty(this,ns,{writable:true,value:void 0});Object.defineProperty(this,bs,{writable:true,value:void 0});Object.defineProperty(this,cs,{writable:true,value:void 0});Object.defineProperty(this,ds,{writable:true,value:void 0});Object.defineProperty(this,ps,{writable:true,value:void 0});Object.defineProperty(this,vs,{writable:true,value:void 0});Object.defineProperty(this,us,{writable:true,value:void 0});Object.defineProperty(this,Ps,{writable:true,value:[]});Object.defineProperty(this,hs,{writable:true,value:[]});Object.defineProperty(this,Ls,{writable:true,value:[]});Object.defineProperty(this,Fs,{writable:true,value:void 0});Object.defineProperty(this,Hs,{writable:true,value:void 0});Object.defineProperty(this,gs,{writable:true,value:void 0});this.setEventNamespace("AI.CopilotImage");babelHelpers.classPrivateFieldLooseBase(this,bs)[bs]=null;babelHelpers.classPrivateFieldLooseBase(this,ts)[ts]=e.inputField;babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]=e.copilotContainer;babelHelpers.classPrivateFieldLooseBase(this,is)[is]=e.engine;babelHelpers.classPrivateFieldLooseBase(this,cs)[cs]=e.copilotInputEvents;babelHelpers.classPrivateFieldLooseBase(this,ds)[ds]=e.copilotMenu;babelHelpers.classPrivateFieldLooseBase(this,ps)[ps]=e.popupWithoutBackBtn===true;babelHelpers.classPrivateFieldLooseBase(this,us)[us]=e.useInsertAboveAndUnderMenuItems;babelHelpers.classPrivateFieldLooseBase(this,as)[as]=e.analytics;babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]=babelHelpers.classPrivateFieldLooseBase(this,Is)[Is].bind(this);babelHelpers.classPrivateFieldLooseBase(this,Fs)[Fs]=babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].bind(this);babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]=babelHelpers.classPrivateFieldLooseBase(this,Es)[Es].bind(this)}setCopilotContainer(e){babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]=e}getResultImageUrl(){return babelHelpers.classPrivateFieldLooseBase(this,bs)[bs]}isContainsTarget(e){var s,a,l;const t=(s=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:s.isContainsTarget(e);const i=(a=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs])==null?void 0:a.contains(e);const o=(l=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns])==null?void 0:l.contains(e);return t||i||o}async init(){const e=await babelHelpers.classPrivateFieldLooseBase(this,is)[is].getImageCopilotTooling();babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps]=e.data.params.formats;babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]=e.data.engines;babelHelpers.classPrivateFieldLooseBase(this,hs)[hs]=e.data.params.styles}showImageConfigurator(){if(!babelHelpers.classPrivateFieldLooseBase(this,os)[os]){babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs]()}babelHelpers.classPrivateFieldLooseBase(this,os)[os].show()}showMenu(){var e,s,a;(e=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns])==null?void 0:e.show();(s=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs])==null?void 0:s.show();(a=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:a.show()}getAnalytics(){const e=babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].usedTextInput();const s=babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].usedVoiceRecord();if(e&&s){babelHelpers.classPrivateFieldLooseBase(this,as)[as].setContextTypeFromTextAndAudio()}else if(e){babelHelpers.classPrivateFieldLooseBase(this,as)[as].setContextTypeFromText()}else if(s){babelHelpers.classPrivateFieldLooseBase(this,as)[as].setContextTypeFromAudio()}babelHelpers.classPrivateFieldLooseBase(this,as)[as].setCategoryImage();babelHelpers.classPrivateFieldLooseBase(this,as)[as].setTypeImageNew();return babelHelpers.classPrivateFieldLooseBase(this,as)[as]}start(){this.showImageConfigurator();babelHelpers.classPrivateFieldLooseBase(this,ms)[ms]()}finish(){babelHelpers.classPrivateFieldLooseBase(this,vs)[vs]=-1;this.destroyAllMenus();babelHelpers.classPrivateFieldLooseBase(this,fs)[fs]()}isShown(){return babelHelpers.classPrivateFieldLooseBase(this,os)[os].isShown()}getOpenMenuPopup(){var e,s,a;return((e=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs])==null?void 0:e.getPopup())||((s=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns])==null?void 0:s.getPopup())||((a=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:a.getPopup())||null}hideAllMenus(){var e,s,a;(e=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:e.hide();(s=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns])==null?void 0:s.hide();(a=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs])==null?void 0:a.hide()}destroyAllMenus(){var e,s,a;(e=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs])==null?void 0:e.close();(s=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns])==null?void 0:s.close();(a=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:a.destroy();babelHelpers.classPrivateFieldLooseBase(this,rs)[rs]=null;babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]=null;babelHelpers.classPrivateFieldLooseBase(this,os)[os]=null}adjustMenusPosition(){var e,s,a;(e=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:e.adjustPosition();(s=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns])==null?void 0:s.adjustPosition();(a=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs])==null?void 0:a.adjustPosition()}async completions(){this.destroyAllMenus();r.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ls)[ls],"--error");babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].startGenerating();try{const e=Math.round(Math.random()*1e4);babelHelpers.classPrivateFieldLooseBase(this,vs)[vs]=e;const s=await babelHelpers.classPrivateFieldLooseBase(this,is)[is].imageCompletions();if(babelHelpers.classPrivateFieldLooseBase(this,vs)[vs]!==e){return}babelHelpers.classPrivateFieldLooseBase(this,bs)[bs]=JSON.parse(s.data.result)[0];babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].finishGenerating();babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs]();this.emit("completion-result",new i.BaseEvent({data:{imageUrl:babelHelpers.classPrivateFieldLooseBase(this,bs)[bs]}}))}catch(e){babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].finishGenerating();babelHelpers.classPrivateFieldLooseBase(this,ys)[ys](e)}}}function Ms(){babelHelpers.classPrivateFieldLooseBase(this,os)[os]=new Je({bindElement:babelHelpers.classPrivateFieldLooseBase(this,ls)[ls],popupId:"ai-image-configuration-popup",popupOffset:{top:8},withoutBackBtn:babelHelpers.classPrivateFieldLooseBase(this,ps)[ps],imageConfiguratorOptions:{styles:babelHelpers.classPrivateFieldLooseBase(this,hs)[hs],formats:babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps],engines:babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]}});if(!babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].getValue()){babelHelpers.classPrivateFieldLooseBase(this,os)[os].disableSubmitButton()}babelHelpers.classPrivateFieldLooseBase(this,os)[os].subscribe(xe.completions,(e=>{const{style:s,format:a,engine:l}=e.getData();babelHelpers.classPrivateFieldLooseBase(this,_s)[_s]({style:s,format:a,engine:l});this.completions()}));babelHelpers.classPrivateFieldLooseBase(this,os)[os].subscribe(xe.selectEngine,(e=>{const s=e.getData();const a=babelHelpers.classPrivateFieldLooseBase(this,os)[os].getImageConfiguration().engine;let l=false;setTimeout((()=>{if(l===false){babelHelpers.classPrivateFieldLooseBase(this,os)[os].showLoader()}}),300);babelHelpers.classPrivateFieldLooseBase(this,is)[is].getImageEngineParams(s).then((e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,os)[os].setFormats(s.formats)})).catch((e=>{BX.UI.Notification.Center.notify({content:r.Loc.getMessage("AI_COPILOT_IMAGE_FETCH_NEW_ENGINE_PARAMS_ERROR")});babelHelpers.classPrivateFieldLooseBase(this,os)[os].setSelectedEngine(a);console.error(e)})).finally((()=>{l=true;babelHelpers.classPrivateFieldLooseBase(this,os)[os].hideLoader()}))}));babelHelpers.classPrivateFieldLooseBase(this,os)[os].subscribe(xe.back,(()=>{babelHelpers.classPrivateFieldLooseBase(this,fs)[fs]();this.emit("back")}))}function Ks(){babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].subscribe(babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].input,(e=>{const s=e.getData();if(s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:a.enableSubmitButton()}else{var l;(l=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:l.disableSubmitButton()}}));babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].subscribe(babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].cancelLoading,babelHelpers.classPrivateFieldLooseBase(this,Fs)[Fs]);babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].subscribe(babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].submit,babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]);babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].subscribe(babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].adjustHeight,babelHelpers.classPrivateFieldLooseBase(this,gs)[gs])}function Ss(){babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].unsubscribe(babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].cancelLoading,babelHelpers.classPrivateFieldLooseBase(this,Fs)[Fs]);babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].unsubscribe(babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].submit,babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]);babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].unsubscribe(babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].adjustHeight,babelHelpers.classPrivateFieldLooseBase(this,gs)[gs])}function xs(e){var s;const l=e==null?void 0:(s=e.errors)==null?void 0:s[0];if(l&&(l==null?void 0:l.code)==="LIMIT_IS_EXCEEDED_BAAS"){babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].disable()}else if(l&&(l.code==="LIMIT_IS_EXCEEDED_MONTHLY"||l.code==="LIMIT_IS_EXCEEDED_DAILY"||l.code==="SERVICE_IS_NOT_AVAILABLE_BY_TARIFF")){this.emit("close")}else if(l){r.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ls)[ls],"--error");babelHelpers.classPrivateFieldLooseBase(this,ws)[ws]();babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].setErrors([{code:l.code,message:l.message}])}else{babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].setErrors([{code:-1,message:r.Loc.getMessage("AI_COPILOT_IMAGE_GENERATION_ERROR")}])}a.AjaxErrorHandler.handleImageGenerateError({baasOptions:{bindElement:babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].getContainer().querySelector(".ai__copilot_input-field-baas-point"),context:babelHelpers.classPrivateFieldLooseBase(this,is)[is].getContextId(),useAngle:false},errorCode:l==null?void 0:l.code})}function Rs(e){const a=new s.Text({prompt:babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].getValue(),engineCode:e.engine});a.setMarkers({style:e.style,format:e.format});babelHelpers.classPrivateFieldLooseBase(this,is)[is].setPayload(a);babelHelpers.classPrivateFieldLooseBase(this,is)[is].setAnalyticParameters({type:this.getAnalytics().getType(),c_sub_section:this.getAnalytics().getCSubSection(),c_section:this.getAnalytics().getCSection(),c_element:this.getAnalytics().getCElement()});this.getAnalytics().setP1("prompt",e.style).setP2("format",e.format)}function Ns(){var e,s;if(!((e=babelHelpers.classPrivateFieldLooseBase(this,os)[os])!=null&&e.isShown())||!((s=babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].getValue())!=null&&s.trim())){return}const{style:a,format:l,engine:t}=babelHelpers.classPrivateFieldLooseBase(this,os)[os].getImageConfiguration();babelHelpers.classPrivateFieldLooseBase(this,_s)[_s]({style:a,format:l,engine:t});this.completions()}function $s(){babelHelpers.classPrivateFieldLooseBase(this,vs)[vs]=-1;babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].finishGenerating();babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].focus();this.showImageConfigurator()}function Gs(){var e,s,a;(e=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns])==null?void 0:e.adjustPosition();(s=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs])==null?void 0:s.adjustPosition();(a=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:a.adjustPosition()}function Ds(){if(!babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]){babelHelpers.classPrivateFieldLooseBase(this,As)[As]()}babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].open()}function Us(){babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]=new(babelHelpers.classPrivateFieldLooseBase(this,ds)[ds])({bindElement:babelHelpers.classPrivateFieldLooseBase(this,ls)[ls],offsetTop:8,offsetLeft:0,items:F.getMenuItems({copilotImageController:this,inputField:babelHelpers.classPrivateFieldLooseBase(this,ts)[ts],useInsertAboveAndUnderMenuItems:babelHelpers.classPrivateFieldLooseBase(this,us)[us]}),keyboardControlOptions:{clearHighlightAfterType:false,canGoOutFromTop:false,highlightFirstItemAfterShow:true},cacheable:false});babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].setBindElement(babelHelpers.classPrivateFieldLooseBase(this,ls)[ls],{left:0,top:8})}function ks(){var e;if(!babelHelpers.classPrivateFieldLooseBase(this,rs)[rs]){babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]()}babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].setBindElement(babelHelpers.classPrivateFieldLooseBase(this,ls)[ls],{top:8,left:0});(e=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs])==null?void 0:e.open()}function Vs(){babelHelpers.classPrivateFieldLooseBase(this,rs)[rs]=new(babelHelpers.classPrivateFieldLooseBase(this,ds)[ds])({bindElement:babelHelpers.classPrivateFieldLooseBase(this,ls)[ls],offsetTop:8,items:L.getMenuItems({copilotImageController:this,inputField:babelHelpers.classPrivateFieldLooseBase(this,ts)[ts],copilotContainer:babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]}),keyboardControlOptions:{canGoOutFromTop:false,highlightFirstItemAfterShow:true,clearHighlightAfterType:false},cacheable:false})}e.CopilotImageController=js})(this.BX.AI=this.BX.AI||{},BX.AI,BX.AI,BX,BX.UI,BX.Event,BX.Main,BX,BX.UI.IconSet);
//# sourceMappingURL=copilot-image-controller.bundle.map.js