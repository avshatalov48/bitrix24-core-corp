this.BX=this.BX||{};this.BX.AI=this.BX.AI||{};this.BX.AI.UI=this.BX.AI.UI||{};(function(e,t,s,l){"use strict";let i=e=>e,a,o,r,c,n,d,b,v;var u=babelHelpers.classPrivateFieldLooseKey("items");var p=babelHelpers.classPrivateFieldLooseKey("additionalItems");var h=babelHelpers.classPrivateFieldLooseKey("hintTitleElement");var f=babelHelpers.classPrivateFieldLooseKey("hintDescElement");var P=babelHelpers.classPrivateFieldLooseKey("inputNode");var L=babelHelpers.classPrivateFieldLooseKey("buildSelector");var F=babelHelpers.classPrivateFieldLooseKey("getContentItems");var H=babelHelpers.classPrivateFieldLooseKey("getCurrentName");var m=babelHelpers.classPrivateFieldLooseKey("getCurrentValue");var y=babelHelpers.classPrivateFieldLooseKey("titleBindEvents");var B=babelHelpers.classPrivateFieldLooseKey("toggleSelect");var g=babelHelpers.classPrivateFieldLooseKey("closeOtherSelects");var O=babelHelpers.classPrivateFieldLooseKey("closeSelect");var $=babelHelpers.classPrivateFieldLooseKey("openSelect");var _=babelHelpers.classPrivateFieldLooseKey("labelBindEvents");var I=babelHelpers.classPrivateFieldLooseKey("prepareSelectContent");class E extends t.Selector{constructor(e){super(e);Object.defineProperty(this,I,{value:q});Object.defineProperty(this,_,{value:N});Object.defineProperty(this,$,{value:D});Object.defineProperty(this,O,{value:x});Object.defineProperty(this,g,{value:X});Object.defineProperty(this,B,{value:C});Object.defineProperty(this,y,{value:K});Object.defineProperty(this,m,{value:j});Object.defineProperty(this,H,{value:A});Object.defineProperty(this,F,{value:T});Object.defineProperty(this,L,{value:S});Object.defineProperty(this,u,{writable:true,value:[]});Object.defineProperty(this,p,{writable:true,value:[]});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,f,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,u)[u]=e.items;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e.additionalItems||[];babelHelpers.classPrivateFieldLooseBase(this,u)[u]=babelHelpers.classPrivateFieldLooseBase(this,u)[u].map((t=>{const s=t;s.recommended=(e.recommendedItems||[]).includes(t.value);return s}));babelHelpers.classPrivateFieldLooseBase(this,h)[h]=s.Tag.render(a||(a=i`<div class="ui-section__title"></div>`));babelHelpers.classPrivateFieldLooseBase(this,f)[f]=s.Tag.render(o||(o=i`<div class="ui-section__description"></div>`));babelHelpers.classPrivateFieldLooseBase(this,P)[P]=babelHelpers.classPrivateFieldLooseBase(this,L)[L]()}renderContentField(){const e=this.isEnable()?"":"ui-ctl-disabled";const t=this.isEnable()?null:this.renderLockElement();return s.Tag.render(r||(r=i`
			<div id="${0}" class="ui-section__field-selector ">
				<div class="ui-section__field-container">
					<div class="ui-section__field-label_box">
						<label class="ui-section__field-label" for="${0}">${0}</label> 
						${0}
					</div>
					<div class="ui-section__field-inline-box">
						<div class="ui-section__field">
							<div class="ui-ctl ui-ctl-w100 ui-ctl-after-icon ui-ctl-dropdown ${0}">
								<div class="ui-ctl-after ui-ctl-icon-angle"></div>
								${0}
							</div>
						</div>

						<div class="ui-section__hint">
							${0}
							${0}
						</div>
					</div>
				</div>
			</div>
		`),this.getId(),this.getName(),this.getLabel(),t,e,this.getInputNode(),babelHelpers.classPrivateFieldLooseBase(this,h)[h],babelHelpers.classPrivateFieldLooseBase(this,f)[f])}getInputNode(){return babelHelpers.classPrivateFieldLooseBase(this,P)[P]}}function S(){const e=s.Tag.render(c||(c=i`
			<input type="hidden" class="select-input" name="${0}" value="${0}"/>
		`),this.getName(),babelHelpers.classPrivateFieldLooseBase(this,m)[m]());const t=s.Tag.render(n||(n=i`
			<div class="select" id="${0}" data-state="">
				${0}
				<div class="select-title">${0}</div>
				<div class="select-content"></div>
			</div>
		`),this.getName(),e,babelHelpers.classPrivateFieldLooseBase(this,H)[H]());const l=babelHelpers.classPrivateFieldLooseBase(this,F)[F]();const a=t.querySelector(".select-content");if(a&&l){l.forEach((e=>{a.append(e)}))}babelHelpers.classPrivateFieldLooseBase(this,y)[y](t);babelHelpers.classPrivateFieldLooseBase(this,_)[_](t);return t}function T(){const e=[];for(const{value:t,name:l,selected:a,recommended:o}of babelHelpers.classPrivateFieldLooseBase(this,u)[u]){let r="";if(a===true){r="selected"}const c=o?s.Tag.render(d||(d=i`
						<span class="select-label-recommended">
							${0}
						</span>
					`),s.Loc.getMessage("AI_SELECTORFIELD_RECOMMENDED_LABEL")):"";const n=s.Tag.render(b||(b=i`
				<div class="select-label-container ${0}">
					<label class="select-label" value="${0}">${0}</label>
					${0}
					<span class="select-label-icon ui-icon-set --check"></span>
				</div>
			`),r,t,l,c);e.push(n)}const t=[];for(const{type:l,link:a,text:o,icon:r}of babelHelpers.classPrivateFieldLooseBase(this,p)[p]){if(l==="link"){const l=r.set||"ui.icon-set.main";if(!t.includes(l)){s.Runtime.loadExtension(l);t.push(l)}const c=s.Tag.render(v||(v=i`
					<div class="select-link-container">
						<span class="select-link-icon ui-icon-set ${0}"></span>
						<a class="select-link" href="${0}">${0}</a>
					</div>
				`),r.code,a,o);e.push(c)}}return e}function A(){let e=0;let t="";for(const{name:s,selected:l}of babelHelpers.classPrivateFieldLooseBase(this,u)[u]){if(e===0||l===true){t=s}e++}return t}function j(){let e=0;let t="";for(const{value:s,selected:l}of babelHelpers.classPrivateFieldLooseBase(this,u)[u]){if(e===0||l===true){t=s}e++}return t}function K(e){const t=e.querySelector(".select-title");if(!t){return}s.Event.bind(t,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,B)[B](e)))}function C(e){babelHelpers.classPrivateFieldLooseBase(this,g)[g](e);const t=e.querySelector(".select-content");const s=e.getAttribute("data-state")==="active";if(s){babelHelpers.classPrivateFieldLooseBase(this,O)[O](e,t)}else{babelHelpers.classPrivateFieldLooseBase(this,$)[$](e,t)}}function X(e){document.querySelectorAll(".select").forEach((t=>{if(e!==t){t.setAttribute("data-state","");setTimeout((()=>{const e=t.querySelector(".select-content");babelHelpers.classPrivateFieldLooseBase(this,I)[I](e)}),E.timeTransition)}}))}function x(e,t){e.setAttribute("data-state","");setTimeout((()=>{babelHelpers.classPrivateFieldLooseBase(this,I)[I](t)}),E.timeTransition)}function D(e,t){const l=t.getBoundingClientRect();const i=window.innerHeight-(l.top+l.height);if(i>E.extraHeightOffset){babelHelpers.classPrivateFieldLooseBase(this,I)[I](t)}else{s.Dom.addClass(t,"select-content-reverse");const e=l.height+E.popupOffset;s.Dom.style(t,"top",`-${e}px`)}e.setAttribute("data-state","active")}function N(e){const t=e.querySelectorAll(".select-label-container .select-label");const l=e.querySelector(".select-title");const i=e.querySelector(".select-input");if(t&&l&&i){for(const a of t){const t=a.parentNode;s.Event.bind(t,"click",(()=>{e.setAttribute("data-state","");setTimeout((()=>{const t=e.querySelector(".select-content");babelHelpers.classPrivateFieldLooseBase(this,I)[I](t)}),E.timeTransition);if(!s.Dom.hasClass(a.parentNode,"selected")){l.textContent=a.textContent;i.setAttribute("value",a.getAttribute("value"));BX.UI.ButtonPanel.show();const t=e.querySelector(".select-label-container.selected");if(t){s.Dom.removeClass(t,"selected")}s.Dom.addClass(a.parentNode,"selected")}}))}}}function q(e){s.Dom.removeClass(e,"select-content-reverse");s.Dom.style(e,"top",E.defaultTopPosition)}E.timeTransition=300;E.defaultTopPosition="45px";E.extraHeightOffset=70;E.popupOffset=5;e.SelectorField=E})(this.BX.AI.UI.Field=this.BX.AI.UI.Field||{},BX.UI.FormElements,BX,BX);
//# sourceMappingURL=selectorfield.bundle.map.js