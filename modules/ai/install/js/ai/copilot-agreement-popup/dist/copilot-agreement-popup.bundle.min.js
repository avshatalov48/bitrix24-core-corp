this.BX=this.BX||{};(function(e,t,s,a,o){"use strict";let l=e=>e,i;var r=babelHelpers.classPrivateFieldLooseKey("onApply");var n=babelHelpers.classPrivateFieldLooseKey("onCancel");var p=babelHelpers.classPrivateFieldLooseKey("wasApplied");var c=babelHelpers.classPrivateFieldLooseKey("popup");var b=babelHelpers.classPrivateFieldLooseKey("initPopup");var u=babelHelpers.classPrivateFieldLooseKey("renderPopupContent");var P=babelHelpers.classPrivateFieldLooseKey("renderApplyButton");var d=babelHelpers.classPrivateFieldLooseKey("renderCancelButton");var v=babelHelpers.classPrivateFieldLooseKey("getFullAgreementLink");class h{constructor(e){Object.defineProperty(this,v,{value:f});Object.defineProperty(this,d,{value:y});Object.defineProperty(this,P,{value:B});Object.defineProperty(this,u,{value:L});Object.defineProperty(this,b,{value:_});Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,n,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:false});Object.defineProperty(this,c,{writable:true,value:void 0});if(e!=null&&e.onApply){this.setOnApply(e.onApply)}babelHelpers.classPrivateFieldLooseBase(this,n)[n]=t.Type.isFunction(e.onCancel)?e.onCancel:null}show(){if(!babelHelpers.classPrivateFieldLooseBase(this,c)[c]){babelHelpers.classPrivateFieldLooseBase(this,b)[b]()}babelHelpers.classPrivateFieldLooseBase(this,c)[c].show()}hide(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,c)[c])==null?void 0:e.close();babelHelpers.classPrivateFieldLooseBase(this,c)[c]=null}setOnApply(e){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=e}setOnCancel(e){babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e}}function _(){babelHelpers.classPrivateFieldLooseBase(this,c)[c]=new s.Popup({content:babelHelpers.classPrivateFieldLooseBase(this,u)[u](),cacheable:false,overlay:true,disableScroll:true,width:492,minHeight:448,closeByEsc:true,closeIcon:true,closeIconSize:s.CloseIconSize.LARGE,padding:20,borderRadius:"10px",events:{onDestroy:()=>{if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]===false&&babelHelpers.classPrivateFieldLooseBase(this,n)[n]){babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}babelHelpers.classPrivateFieldLooseBase(this,c)[c]=null}}})}function L(){return t.Tag.render(i||(i=l`
			<div
				class="ai__copilot-agreement-popup-content"
			>
				<header class="ai__copilot-agreement-popup-content_header">
					<h3 class="ai__copilot-agreement-popup-content_title">
						${0}
					</h3>
				</header>
				<main class="ai__copilot-agreement-popup-content_main">
					<div class="ai__copilot-agreement-popup-content_img"></div>
					<p class="ai__copilot-agreement-popup-content_text">
						${0}
					</p>
					<p class="ai__copilot-agreement-popup-content_text">
						${0}
					</p>
				</main>
				<footer class="ai__copilot-agreement-popup-content_footer">
					<div class="ai__copilot-agreement-popup_footer-content-buttons">
						${0}
						${0}
					</div>
				</footer>
			</div>
		`),t.Loc.getMessage("COPILOT_AGREEMENT_POPUP_TITLE"),t.Loc.getMessage("COPILOT_AGREEMENT_POPUP_PARAGRAPH_1"),t.Loc.getMessage("COPILOT_AGREEMENT_POPUP_PARAGRAPH_2",{"#LINK#":`<a target="_blank" href="${babelHelpers.classPrivateFieldLooseBase(this,v)[v]()}">`,"#/LINK#":"</a>"}),babelHelpers.classPrivateFieldLooseBase(this,P)[P](),babelHelpers.classPrivateFieldLooseBase(this,d)[d]())}function B(){const e=new a.Button({text:t.Loc.getMessage("COPILOT_AGREEMENT_POPUP_APPLY_BTN"),color:a.Button.Color.SUCCESS,round:true,onclick:async e=>{try{e.setState(a.Button.State.WAITING);await babelHelpers.classPrivateFieldLooseBase(this,r)[r]();this.hide()}catch(e){o.UI.Notification.Center.notify({content:t.Loc.getMessage("COPILOT_AGREEMENT_POPUP_APPLY_ERROR")});console.error(e)}finally{e.setState(null)}}});return e.render()}function y(){const e=new a.Button({text:t.Loc.getMessage("COPILOT_AGREEMENT_POPUP_CANCEL_BTN"),round:true,color:a.Button.Color.LIGHT,onclick:()=>{babelHelpers.classPrivateFieldLooseBase(this,c)[c].destroy()}});return e.render()}function f(){const e=t.Extension.getSettings("ai.copilot-agreement-popup").zone;const s={ru:"https://www.bitrix24.ru/about/terms-of-use-ai.php",kz:"https://www.bitrix24.kz/about/terms-of-use-ai.php",by:"https://www.bitrix24.by/about/terms-of-use-ai.php",en:"https://www.bitrix24.com/terms/bitrix24copilot-rules.php"};return s[e]||s.en}e.CopilotAgreementPopup=h})(this.BX.AI=this.BX.AI||{},BX,BX.Main,BX.UI,BX);
//# sourceMappingURL=copilot-agreement-popup.bundle.map.js