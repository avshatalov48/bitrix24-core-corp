this.BX=this.BX||{};(function(e,s){"use strict";function r(e){if(s.Type.isStringFilled(e)===false){throw new TypeError("Parameter must be the filled string.")}return a(e)}function a(e){return e.split("_").map((e=>{if(Number.isNaN(parseInt(e,10))){return e}return""})).filter((e=>e)).join("_")}const t={MONTHLY_LIMIT:"LIMIT_IS_EXCEEDED_MONTHLY",DAILY_LIMIT:"LIMIT_IS_EXCEEDED_DAILY",TARIFF_LIMIT:"SERVICE_IS_NOT_AVAILABLE_BY_TARIFF",BAAS_LIMIT:"LIMIT_IS_EXCEEDED_BAAS",OTHER:"AI_ENGINE_ERROR_OTHER",PROVIDER:"AI_ENGINE_ERROR_PROVIDER"};var l=babelHelpers.classPrivateFieldLooseKey("boxLimitSliderCode");var i=babelHelpers.classPrivateFieldLooseKey("isCloud");var o=babelHelpers.classPrivateFieldLooseKey("validateHandleGenerateErrorParams");var n=babelHelpers.classPrivateFieldLooseKey("handleDailyLimitError");var c=babelHelpers.classPrivateFieldLooseKey("handleMonthlyLimitError");var d=babelHelpers.classPrivateFieldLooseKey("handleTariffLimitError");var b=babelHelpers.classPrivateFieldLooseKey("handleOtherError");var p=babelHelpers.classPrivateFieldLooseKey("handleProviderError");var u=babelHelpers.classPrivateFieldLooseKey("handleUndefinedError");var v=babelHelpers.classPrivateFieldLooseKey("handleBaasLimitError");var L=babelHelpers.classPrivateFieldLooseKey("handleImageTariffLimitError");var I=babelHelpers.classPrivateFieldLooseKey("showInfoHelper");var P=babelHelpers.classPrivateFieldLooseKey("replaceSliderCodeWithBoxLimitCodeIfBox");class f{static handleTextGenerateError(e){babelHelpers.classPrivateFieldLooseBase(f,o)[o](e);const s=e.errorCode;switch(s){case t.MONTHLY_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,c)[c]()}case t.DAILY_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}case t.TARIFF_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,d)[d]()}case t.BAAS_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,v)[v](e.baasOptions)}case t.OTHER:{return babelHelpers.classPrivateFieldLooseBase(this,b)[b]()}case t.PROVIDER:{return babelHelpers.classPrivateFieldLooseBase(this,p)[p]()}default:{return babelHelpers.classPrivateFieldLooseBase(this,u)[u]()}}}static handleImageGenerateError(e){babelHelpers.classPrivateFieldLooseBase(f,o)[o](e);const s=e.errorCode;switch(s){case t.MONTHLY_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,c)[c]()}case t.DAILY_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}case t.TARIFF_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,L)[L]()}case t.BAAS_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,v)[v](e.baasOptions)}case t.OTHER:{return babelHelpers.classPrivateFieldLooseBase(this,b)[b]()}case t.PROVIDER:{return babelHelpers.classPrivateFieldLooseBase(this,p)[p]()}default:{return babelHelpers.classPrivateFieldLooseBase(this,u)[u]()}}}}function E(){return s.Extension.getSettings("ai.ajax-error-handler").isCloud}function H(e){var r;const a=e.errorCode;const t=e.baasOptions;const l=(r=e.baasOptions)==null?void 0:r.bindElement;const i=e==null?void 0:e.baasOptions.context;if(s.Type.isStringFilled(a)===false){throw new Error("AI.AjaxErrorHandler: errorCode option is required and must be a string")}if(s.Type.isPlainObject(t)===false){throw new TypeError("AI.AjaxErrorHandler: baasOptions option is required and must be a Object with context and bindElement properties")}if(l&&s.Type.isElementNode(l)===false){throw new Error("AI.AjaxErrorHandler: baasOptions.bindElement option must be an element node")}if(s.Type.isStringFilled(i)===false){throw new Error("AI.AjaxErrorHandler: baasOptions.context option is required and must be a string")}}function _(){babelHelpers.classPrivateFieldLooseBase(f,I)[I](babelHelpers.classPrivateFieldLooseBase(f,P)[P]("limit_copilot_max_number_daily_requests"))}function h(){babelHelpers.classPrivateFieldLooseBase(f,I)[I](babelHelpers.classPrivateFieldLooseBase(f,P)[P]("limit_copilot_requests"))}async function F(){babelHelpers.classPrivateFieldLooseBase(f,I)[I](babelHelpers.classPrivateFieldLooseBase(f,P)[P]("limit_copilot_requests"))}function y(){return undefined}function B(){return undefined}function O(){return undefined}function T(e){const{bindElement:a,context:t,useAngle:o=true,useSlider:n=false}=e;if(babelHelpers.classPrivateFieldLooseBase(f,i)[i]()===false){babelHelpers.classPrivateFieldLooseBase(f,I)[I](babelHelpers.classPrivateFieldLooseBase(f,l)[l]);return}if(n){s.Runtime.loadExtension("ui.info-helper").then((({InfoHelper:e})=>{e.show("limit_boost_copilot")})).catch((e=>{console.error(e)}));return}s.Runtime.loadExtension("baas.store").then((({ServiceWidget:e})=>{if(e){const n=r(t);const c=e.getInstanceByCode("ai_copilot_token").bind(a,n);c.getPopup().adjustPosition({forceTop:true});c.show();if(o===false){var l;s.Dom.style((l=c.getPopup())==null?void 0:l.getPopupContainer().querySelector(".popup-window-angly"),"opacity",0)}else{var i;s.Dom.style((i=c.getPopup())==null?void 0:i.getPopupContainer().querySelector(".popup-window-angly"),"opacity",1)}}})).catch((e=>{console.error(e)}))}function m(){babelHelpers.classPrivateFieldLooseBase(this,I)[I]("limit_sites_ImageAssistant_AI")}async function A(e){const{InfoHelper:r}=await s.Runtime.loadExtension("ui.info-helper");r.show(e)}function R(e){return babelHelpers.classPrivateFieldLooseBase(f,i)[i]()?e:babelHelpers.classPrivateFieldLooseBase(f,l)[l]}Object.defineProperty(f,P,{value:R});Object.defineProperty(f,I,{value:A});Object.defineProperty(f,L,{value:m});Object.defineProperty(f,v,{value:T});Object.defineProperty(f,u,{value:O});Object.defineProperty(f,p,{value:B});Object.defineProperty(f,b,{value:y});Object.defineProperty(f,d,{value:F});Object.defineProperty(f,c,{value:h});Object.defineProperty(f,n,{value:_});Object.defineProperty(f,o,{value:H});Object.defineProperty(f,i,{value:E});Object.defineProperty(f,l,{writable:true,value:"limit_copilot_requests_box"});e.AjaxErrorHandler=f})(this.BX.AI=this.BX.AI||{},BX);
//# sourceMappingURL=ajax-error-handler.bundle.map.js