this.BX=this.BX||{};(function(e,s,t){"use strict";const i=Object.freeze({result:"result",start:"start",stop:"stop",error:"error"});var r=babelHelpers.classPrivateFieldLooseKey("speechRecognition");var a=babelHelpers.classPrivateFieldLooseKey("isRecording");var l=babelHelpers.classPrivateFieldLooseKey("initSpeechRecognition");var o=babelHelpers.classPrivateFieldLooseKey("handleStartEvent");var n=babelHelpers.classPrivateFieldLooseKey("handleEndEvent");var b=babelHelpers.classPrivateFieldLooseKey("handleErrorEvent");var c=babelHelpers.classPrivateFieldLooseKey("handleResultEvent");var d=babelHelpers.classPrivateFieldLooseKey("getTextFromResults");class p extends t.EventEmitter{constructor(e){if(p.isBrowserSupport()===false){throw new Error("Your browser don't support WebSpeechAPI. Please, use last version of Chrome or Safari")}super();Object.defineProperty(this,d,{value:L});Object.defineProperty(this,c,{value:B});Object.defineProperty(this,b,{value:P});Object.defineProperty(this,n,{value:u});Object.defineProperty(this,o,{value:h});Object.defineProperty(this,l,{value:v});Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,a,{writable:true,value:void 0});this.setEventNamespace("AI:SpeechConverter");babelHelpers.classPrivateFieldLooseBase(this,a)[a]=false;babelHelpers.classPrivateFieldLooseBase(this,l)[l]()}static isBrowserSupport(){return Boolean(window.webkitSpeechRecognition||window.SpeechRecognition)}start(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].start()}stop(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].stop()}isRecording(){return babelHelpers.classPrivateFieldLooseBase(this,a)[a]}}function v(){if(window.webkitSpeechRecognition){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=new window.webkitSpeechRecognition}else if(window.SpeechRecognition){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=new window.SpeechRecognition}babelHelpers.classPrivateFieldLooseBase(this,r)[r].lang=s.Loc.getMessage("LANGUAGE_ID")||"en";babelHelpers.classPrivateFieldLooseBase(this,r)[r].continuous=true;babelHelpers.classPrivateFieldLooseBase(this,r)[r].interimResults=true;babelHelpers.classPrivateFieldLooseBase(this,r)[r].maxAlternatives=1;s.bind(babelHelpers.classPrivateFieldLooseBase(this,r)[r],"start",babelHelpers.classPrivateFieldLooseBase(this,o)[o].bind(this));s.bind(babelHelpers.classPrivateFieldLooseBase(this,r)[r],"end",babelHelpers.classPrivateFieldLooseBase(this,n)[n].bind(this));s.bind(babelHelpers.classPrivateFieldLooseBase(this,r)[r],"error",babelHelpers.classPrivateFieldLooseBase(this,b)[b].bind(this));s.bind(babelHelpers.classPrivateFieldLooseBase(this,r)[r],"result",babelHelpers.classPrivateFieldLooseBase(this,c)[c].bind(this))}function h(){babelHelpers.classPrivateFieldLooseBase(this,a)[a]=true;this.emit(i.start)}function u(){babelHelpers.classPrivateFieldLooseBase(this,a)[a]=false;this.emit(i.stop)}function P(e){const s=new t.BaseEvent({data:{error:e.error,message:e.message}});this.emit(i.error,s)}function B(e){const s=new t.BaseEvent({data:{text:babelHelpers.classPrivateFieldLooseBase(this,d)[d](e.results)}});this.emit(i.result,s)}function L(e){return[...e].reduce(((e,s)=>{const t=s.item(0);return`${e+t.transcript} `}),"")}e.speechConverterEvents=i;e.SpeechConverter=p})(this.BX.AI=this.BX.AI||{},BX,BX.Event);
//# sourceMappingURL=speech-converter.bundle.map.js