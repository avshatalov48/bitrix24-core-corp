this.BX=this.BX||{};this.BX.AI=this.BX.AI||{};this.BX.AI.ShareRole=this.BX.AI.ShareRole||{};(function(e,t,r,n,a,i){"use strict";var o=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,[{key:"render",value:function e(){}}]);return e}();var l;function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function t(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function u(e,t,r,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new R(a||[]);return n(o,"_invoke",{value:E(e,r,l)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function d(){}function v(){}var b={};c(b,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&r.call(y,i)&&(b=y);var m=v.prototype=f.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(n,i,o,l){var s=h(e[n],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==babelHelpers["typeof"](u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,o,l)}),(function(e){a("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return a("throw",e,o,l)}))}l(s.arg)}var i;n(this,"_invoke",{value:function e(r,n){function o(){return new t((function(e,t){a(r,n,e,t)}))}return i=i?i.then(o,o):o()}})}function E(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return P()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var l=O(o,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(undefined===n)return t.delegate=null,"throw"===r&&e.iterator["return"]&&(t.method="return",t.arg=undefined,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=h(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=undefined,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:undefined,done:!0}}return d.prototype=v,n(m,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},w(_.prototype),c(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new _(u(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(m),c(m,l,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,R.prototype={constructor:R,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=undefined)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var n=this;function a(e,r){return l.type="throw",l.arg=t,n.next=e,r&&(n.method="next",n.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function e(t,n){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=t,l.arg=n,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(l)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),p},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var i=a.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=undefined),p}},e}function c(e){return u.apply(this,arguments)}function u(){u=babelHelpers.asyncToGenerator(s().mark((function e(t){return s().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:a.Runtime.loadExtension("ui.notification").then((function(e){var r=e.BX;r.UI.Notification.Center.notify({content:t})}))["catch"]((function(){if(a.Type.isElementNode(t)){alert(t.innerText)}else{alert(t)}}));case 1:case"end":return r.stop()}}),e)})));return u.apply(this,arguments)}function h(e,t){if(!t||!e){return e}var r=t.toLowerCase();var n=new RegExp(r,"gi");return e.replace(n,(function(e){return"<mark>".concat(e,"</mark>")}))}function p(e){return a.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['<span style="word-break: break-word;">',"</span>"])),e)}var f,d,v,b;function g(e,t){y(e,t);t.add(e)}function y(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function m(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var w=new WeakSet;var _=new WeakSet;var E=function(e){babelHelpers.inherits(t,e);function t(){var e;var r;babelHelpers.classCallCheck(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++){a[i]=arguments[i]}r=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(a)));g(babelHelpers.assertThisInitialized(r),_);g(babelHelpers.assertThisInitialized(r),w);return r}babelHelpers.createClass(t,[{key:"render",value:function e(t,r){var n=this;var i=r||null;var o=t.map((function(e){var t=a.Text.encode(e.name);var r=h(t,i);return a.Tag.render(f||(f=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<li class="ai__role-library-grid-shares-popup_shares-list-item">\n\t\t\t\t\t<div class="ai__role-library-grid-shares-popup_shares-list-item-avatar">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ai__role-library-grid-shares-popup_shares-list-item-title">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t"])),m(n,w,O).call(n,e),r)}));return a.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['<ul class="ai__role-library-grid-shares-popup_shares-list">',"</ul>"])),o)}}]);return t}(o);function O(e){if(a.Type.isStringFilled(e.img)){return a.Tag.render(v||(v=babelHelpers.taggedTemplateLiteral(['<img src="','" alt="','" />'])),e.img,e.name)}return m(this,_,L).call(this,e.name)}function L(e){if(!e){return""}var t=e.split(" ").slice(0,2).map((function(e){return e[0].toUpperCase()})).join("");return a.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['<span class="ai__role-library-grid-shares-popup_shares-list-item-initials">',"</span>"])),t)}var I,R;function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){babelHelpers.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t){x(e,t);t.add(e)}function A(e,t,r){x(e,t);t.set(e,r)}function x(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function C(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var k=new WeakMap;var F=new WeakMap;var H=new WeakMap;var G=new WeakMap;var N=new WeakMap;var D=new WeakMap;var M=new WeakMap;var j=new WeakMap;var B=new WeakMap;var U=new WeakMap;var Y=new WeakSet;var W=new WeakSet;var X=new WeakSet;var V=new WeakSet;var z=new WeakSet;var q=function(){function e(t){babelHelpers.classCallCheck(this,e);S(this,z);S(this,V);S(this,X);S(this,W);S(this,Y);A(this,k,{writable:true,value:null});A(this,F,{writable:true,value:void 0});A(this,H,{writable:true,value:false});A(this,G,{writable:true,value:null});A(this,N,{writable:true,value:[]});A(this,D,{writable:true,value:void 0});A(this,M,{writable:true,value:void 0});A(this,j,{writable:true,value:void 0});A(this,B,{writable:true,value:""});A(this,U,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,k,t.bindElement);babelHelpers.classPrivateFieldSet(this,D,t.listRenderer);babelHelpers.classPrivateFieldSet(this,M,t.events||{});babelHelpers.classPrivateFieldSet(this,U,t.filter||null);babelHelpers.classPrivateFieldSet(this,j,t.useSearch===true)}babelHelpers.createClass(e,[{key:"show",value:function e(){if(!babelHelpers.classPrivateFieldGet(this,G)){C(this,Y,K).call(this)}babelHelpers.classPrivateFieldGet(this,G).show();if(babelHelpers.classPrivateFieldGet(this,H)){var t=getComputedStyle(document.body).getPropertyValue("--ui-color-copilot-primary");var r=new n.Loader({target:babelHelpers.classPrivateFieldGet(this,F),size:30,color:t});r.show(babelHelpers.classPrivateFieldGet(this,F).root)}}},{key:"hide",value:function e(){var t;(t=babelHelpers.classPrivateFieldGet(this,G))===null||t===void 0?void 0:t.destroy();babelHelpers.classPrivateFieldSet(this,G,null);babelHelpers.classPrivateFieldSet(this,F,null)}},{key:"isShown",value:function e(){var t;return Boolean((t=babelHelpers.classPrivateFieldGet(this,G))===null||t===void 0?void 0:t.isShown())}},{key:"setLoading",value:function e(t){babelHelpers.classPrivateFieldSet(this,H,t)}},{key:"setList",value:function e(t){babelHelpers.classPrivateFieldSet(this,N,t);if(babelHelpers.classPrivateFieldGet(this,G)){babelHelpers.classPrivateFieldGet(this,G).setContent(C(this,W,Q).call(this))}}}]);return e}();function K(){babelHelpers.classPrivateFieldSet(this,G,new r.Popup({bindElement:babelHelpers.classPrivateFieldGet(this,k),cacheable:false,className:"ai__share-role-library-grid_popup-with-more-info",angle:{position:"top"},autoHide:true,closeByEsc:true,content:C(this,W,Q).call(this),width:285,minHeight:190,maxHeight:300,padding:16,contentPadding:0,events:P({},babelHelpers.classPrivateFieldGet(this,M))}))}function Q(){var e=babelHelpers.classPrivateFieldGet(this,j)?"--with-search":"";babelHelpers.classPrivateFieldSet(this,F,a.Tag.render(I||(I=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ai__role-library_info-popup">\n\t\t\t\t','\n\t\t\t\t<div class="ai__role-library_info-popup_list ','" ref="listContainer">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t<div>\n\t\t"])),C(this,z,$).call(this),e,C(this,X,J).call(this)));return babelHelpers.classPrivateFieldGet(this,F).root}function J(){var e=this;var t=babelHelpers.classPrivateFieldGet(this,N).filter((function(t){if(babelHelpers.classPrivateFieldGet(e,U)){return babelHelpers.classPrivateFieldGet(e,U).call(e,t,babelHelpers.classPrivateFieldGet(e,B))}return true}));return babelHelpers.classPrivateFieldGet(this,D).render(t,babelHelpers.classPrivateFieldGet(this,B))}function Z(){if(babelHelpers.classPrivateFieldGet(this,F).listContainer){babelHelpers.classPrivateFieldGet(this,F).listContainer.innerHTML="";a.Dom.append(C(this,X,J).call(this),babelHelpers.classPrivateFieldGet(this,F).listContainer)}}function $(){var e=this;if(babelHelpers.classPrivateFieldGet(this,j)===false){return null}var t=a.Tag.render(R||(R=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ai__role-library_info-popup_search">\n\t\t\t\t<div class="ui-ctl ui-ctl-textbox ui-ctl-before-icon ui-ctl-after-icon">\n\t\t\t\t\t<div class="ui-ctl-before ui-ctl-icon-search"></div>\n\t\t\t\t\t<button ref="clear" class="ui-ctl-after ui-ctl-icon-clear"></button>\n\t\t\t\t\t<input ref="input" type="text" class="ui-ctl-element">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])));a.bind(t.clear,"click",(function(){t.input.value="";babelHelpers.classPrivateFieldSet(e,B,"");C(e,V,Z).call(e)}));a.bind(t.input,"input",(function(t){babelHelpers.classPrivateFieldSet(e,B,t.target.value);C(e,V,Z).call(e)}));return t.root}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){babelHelpers.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */re=function t(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,r,n){return t[r]=n}}function c(e,t,r,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new I(a||[]);return n(o,"_invoke",{value:_(e,r,l)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function f(){}function d(){}var v={};s(v,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(R([])));g&&g!==t&&r.call(g,i)&&(v=g);var y=d.prototype=p.prototype=Object.create(v);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,i,o,l){var s=u(e[n],e,i);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==babelHelpers["typeof"](h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,o,l)}),(function(e){a("throw",e,o,l)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return a("throw",e,o,l)}))}l(s.arg)}var i;n(this,"_invoke",{value:function e(r,n){function o(){return new t((function(e,t){a(r,n,e,t)}))}return i=i?i.then(o,o):o()}})}function _(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return T()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var l=E(o,r);if(l){if(l===h)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(undefined===n)return t.delegate=null,"throw"===r&&e.iterator["return"]&&(t.method="return",t.arg=undefined,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=undefined,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:undefined,done:!0}}return f.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:f,configurable:!0}),f.displayName=s(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new w(c(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=R,I.prototype={constructor:I,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=undefined)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var n=this;function a(e,r){return l.type="throw",l.arg=t,n.next=e,r&&(n.method="next",n.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function e(t,n){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=t,l.arg=n,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(l)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),h},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var i=a.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=undefined),h}},e}function ne(e,t,r,n){ce(e,t);oe(r,"set");ae(e,r,n);return n}function ae(e,t,r){if(t.set){t.set.call(e,r)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=r}}function ie(e,t,r){ce(e,t);oe(r,"get");return le(e,r)}function oe(e,t){if(e===undefined){throw new TypeError("attempted to "+t+" private static field before its declaration")}}function le(e,t){if(t.get){return t.get.call(e)}return t.value}function se(e,t,r){ce(e,t);return r}function ce(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}var ue=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"handleClickOnDeleteRoleSwitcher",value:function t(r,n,i){r.preventDefault();r.stopPropagation();se(this,e,ye).call(this,"toggle-deleted",{roleCode:n,needDeleted:1,page:se(this,e,ge).call(this)},(function(){c(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_HIDE",{"#NAME#":"<b>".concat(a.Text.encode(i),"</b>")}))}))}},{key:"handleClickOnUndoDeleteRoleSwitcher",value:function t(r,n,i){r.preventDefault();r.stopPropagation();se(this,e,ye).call(this,"toggle-deleted",{roleCode:n,needDeleted:0,page:se(this,e,ge).call(this)},(function(){c(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_SHOW",{"#NAME#":"<b>".concat(a.Text.encode(i),"</b>")}))}))}},{key:"handleClickOnActivateRoleMenuItem",value:function t(r,n,i){r.preventDefault();r.stopImmediatePropagation();se(this,e,ye).call(this,"toggle-active",{roleCode:n,needActivate:1,page:se(this,e,ge).call(this)},(function(){c(p(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_ACTIVATE",{"#NAME#":"<b>".concat(a.Text.encode(i),"</b>")})))}))}},{key:"handleClickOnDeactivateRoleMenuItem",value:function t(r,n,i){r.preventDefault();r.stopImmediatePropagation();se(this,e,ye).call(this,"toggle-active",{roleCode:n,needActivate:0,page:se(this,e,ge).call(this)},(function(){c(p(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_DEACTIVATE",{"#NAME#":"<b>".concat(a.Text.encode(i),"</b>")})))}))}},{key:"handleClickOnRoleName",value:function(){var e=babelHelpers.asyncToGenerator(re().mark((function e(t,r){return re().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:t.preventDefault();t.stopImmediatePropagation();this.editRole(r);case 3:case"end":return n.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"editRole",value:function(){var t=babelHelpers.asyncToGenerator(re().mark((function t(r){var n,i,o,l,s,u,h,p,f,d;return re().wrap((function t(v){while(1)switch(v.prev=v.next){case 0:ie(this,e,me).getLoader().show();ie(this,e,me).tableFade();n=new FormData;n.append("roleCode",r);i=a.ajax.runAction("ai.shareRole.getRoleByCodeForUpdate",{method:"POST",data:n});o=a.Runtime.loadExtension("ai.role-master");v.prev=6;v.next=9;return Promise.all([i,o]);case 9:l=v.sent;s=l[0];u=l[1].RoleMasterPopup;h=l[1].RoleMasterPopupEvents;p=s.data.role;f={roleMaster:{id:p.code,text:p.instruction,name:p.nameTranslate,avatar:p.avatar,avatarUrl:p.avatarUrl,itemsWithAccess:p.accessCodes,authorId:p.authorId,description:p.descriptionTranslate}};d=new u(te(te({},f),{},{popupEvents:{onPopupDestroy:function t(){d.unsubscribe(h.SAVE_SUCCESS,ie(e,e,Ee))}},analyticFields:{c_section:"list"}}));ne(e,e,Ee,se(e,e,de).bind(e));d.subscribe(h.SAVE_SUCCESS,ie(e,e,Ee));d.show();v.next=25;break;case 21:v.prev=21;v.t0=v["catch"](6);console.error(v.t0);c(a.Loc.getMessage("ROLE_LIBRARY_GRID_ACTION_OPEN_EDIT_MASTER_ERROR"));case 25:v.prev=25;ie(this,e,me).getLoader().hide();ie(this,e,me).tableUnfade();return v.finish(25);case 29:case"end":return v.stop()}}),t,this,[[6,21,25,29]])})));function r(e){return t.apply(this,arguments)}return r}()},{key:"handleClickOnCreateRoleButton",value:function(){var t=babelHelpers.asyncToGenerator(re().mark((function t(r){var n,i,o,l;return re().wrap((function t(s){while(1)switch(s.prev=s.next){case 0:s.prev=0;r.setClocking(true);s.next=4;return a.Runtime.loadExtension("ai.role-master");case 4:n=s.sent;i=n.RoleMasterPopup;o=n.RoleMasterPopupEvents;l=new i({popupEvents:{onPopupDestroy:function t(){l.unsubscribe(o.SAVE_SUCCESS,ie(e,e,Ee))}},analyticFields:{c_section:"list"}});ne(e,e,Ee,se(e,e,de).bind(e));l.subscribe(o.SAVE_SUCCESS,ie(e,e,Ee));l.show();s.next=17;break;case 13:s.prev=13;s.t0=s["catch"](0);console.error(s.t0);c(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_ROLE_MASTER_OPEN_ERROR"));case 17:s.prev=17;r.setClocking(false);return s.finish(17);case 20:case"end":return s.stop()}}),t,null,[[0,13,17,20]])})));function r(e){return t.apply(this,arguments)}return r}()},{key:"handleClickOnRoleIsFavouriteLabel",value:function t(r,n,i,o){r.preventDefault();r.stopImmediatePropagation();se(this,e,ye).call(this,"toggle-favourite",{roleCode:n,favourite:i,page:se(this,e,ge).call(this)},(function(){var e=i==="true"?p(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_FAVOURITE_ADD",{"#NAME#":"<b>".concat(a.Text.encode(o),"</b>")})):p(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_FAVOURITE_REMOVE",{"#NAME#":"<b>".concat(a.Text.encode(o),"</b>")}));c(e)}))}},{key:"toggleRoleFavourite",value:function t(r,n,i){se(this,e,ye).call(this,"toggle-favourite",{roleCode:r,favourite:n,page:se(this,e,ge).call(this)},(function(){var e=n==="true"?p(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_FAVOURITE_ADD",{"#NAME#":"<b>".concat(a.Text.encode(i),"</b>")})):p(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_FAVOURITE_REMOVE",{"#NAME#":"<b>".concat(a.Text.encode(i),"</b>")}));c(e)}))}},{key:"applyMultipleAction",value:function t(){var r=ie(this,e,me).getActionsPanel().getPanel().querySelector("#action-menu span").dataset.value;var n=r.replaceAll('"',"");var a=se(this,e,he).call(this,n);se(this,e,ye).call(this,n,{selectedShareRolesCodes:ie(this,e,me).getRows().getSelectedIds(),page:se(this,e,ge).call(this)},(function(){c(a)}))}},{key:"init",value:function t(r){var n,o=this;var l=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(l){se(this,e,ve).call(this)}ne(this,e,me,(n=BX.Main.gridManager.getById(r))===null||n===void 0?void 0:n.instance);a.bind(ie(this,e,me).getScrollContainer(),"scroll",(function(){var t,r;(t=ie(o,e,we))===null||t===void 0?void 0:t.hide();(r=ie(o,e,_e))===null||r===void 0?void 0:r.hide()}));se(e,e,fe).call(e);se(e,e,pe).call(e);a.Event.EventEmitter.subscribe("Grid::updated",(function(){se(e,e,fe).call(e);se(e,e,pe).call(e);BX.UI.Hint.init(BX("main-grid-table"))}));a.Event.EventEmitter.subscribe("BX.Main.Filter:apply",(function(){i.sendData({tool:"ai",category:"roles_saving",event:"use_filter",c_section:"list",status:"success"})}));BX.UI.Hint.init(BX("main-grid-table"))}},{key:"handleClickOnSharesCell",value:function(){var t=babelHelpers.asyncToGenerator(re().mark((function t(r,n){var i=this;var o,l,s;return re().wrap((function t(u){while(1)switch(u.prev=u.next){case 0:n.preventDefault();n.stopImmediatePropagation();if(!ie(this,e,_e)){u.next=5;break}ie(this,e,_e).hide();return u.abrupt("return");case 5:ne(this,e,_e,new q({bindElement:n.target,listRenderer:new E,events:{onPopupDestroy:function t(){ne(i,e,_e,null)}},filter:function e(t,r){return t.name.toLowerCase().includes(r===null||r===void 0?void 0:r.toLowerCase())},useSearch:true}));u.prev=6;ie(this,e,_e).setLoading(true);ie(this,e,_e).show();o=new FormData;o.append("roleCode",r);u.next=13;return a.ajax.runAction("ai.shareRole.getShareForRole",{data:o});case 13:l=u.sent;s=l.data.list;ie(this,e,_e).setList(s.slice(5));u.next=24;break;case 18:u.prev=18;u.t0=u["catch"](6);console.error(u.t0);u.next=23;return c(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_SHOW_ROLE_USERS_ERROR"));case 23:ie(this,e,_e).hide();case 24:u.prev=24;ie(this,e,_e).setLoading(false);return u.finish(24);case 27:case"end":return u.stop()}}),t,this,[[6,18,24,27]])})));function r(e,r){return t.apply(this,arguments)}return r}()}]);return e}();function he(e){switch(e){case"multiple-activate":{return a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_MASS_ACTIVATE")}case"multiple-deactivate":{return a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_MASS_DEACTIVATE")}case"multiple-show-for-me":{return a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_MASS_SHOW")}case"multiple-hide-from-me":{return a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_MASS_HIDE")}default:{return a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_MASS_ACTION_DEFAULT")}}}function pe(){var e=ie(this,ue,me).getActionsPanel();if(!e){return}var t=new MutationObserver((function(){se(ue,ue,fe).call(ue)}));var r=e.getControls()[0];t.observe(r,{childList:false,subtree:true,characterDataOldValue:false,attributes:true,attributeOldValue:true,attributeFilter:["data-value"],characterData:false})}function fe(){var e=ie(this,ue,me).getActionsPanel();if(!e){return}var t=e.getValues();var r=e.getPanel().querySelector("#apply_button_control.ui-btn");var n=t["action-menu"];if(n==='"select-action"'||n==="select-action"){a.Dom.addClass(r,"ui-btn-disabled");a.Dom.addClass(r,"ai__role-library-grid_share-initials")}else{a.Dom.removeClass(r,"ui-btn-disabled");a.Dom.removeClass(r,"ai__role-library-grid_share-initials")}}function de(e){se(this,ue,ye).call(this,"edit-role",{page:se(this,ue,ge).call(this)},(function(){c(a.Loc.getMessage("ROLE_LIBRARY_GRID_NOTIFICATION_ROLE_SAVE_SUCCESS",{"#NAME#":"<b>".concat(a.Text.encode(e.getData().roleTitle),"</b>")}))}))}function ve(){return be.apply(this,arguments)}function be(){be=babelHelpers.asyncToGenerator(re().mark((function e(){var t,r,n,i,o;return re().wrap((function e(l){while(1)switch(l.prev=l.next){case 0:t=a.Runtime.loadExtension("ui.tour");r=a.Runtime.loadExtension("ui.banner-dispatcher");l.next=4;return Promise.all([t,r]);case 4:n=l.sent;i=n[0].Guide;o=n[1].BannerDispatcher;o.critical.toQueue((function(e){var t=new i({id:"share-role-grid-create-prompt-hint",simpleMode:true,overlay:false,onEvents:true,autoSave:true,steps:[{target:".ui-btn.ui-btn-success",title:a.Loc.getMessage("ROLE_LIBRARY_GRID_TOUR_TITLE"),text:a.Loc.getMessage("ROLE_LIBRARY_GRID_TOUR_DESCRIPTION")}]});a.Event.EventEmitter.subscribe("UI.Tour.Guide:onFinish",(function(){t.save();e()}));t.start()}));case 8:case"end":return l.stop()}}),e)})));return be.apply(this,arguments)}function ge(){var e=document.body.querySelector(".main-ui-pagination-page.main-ui-pagination-active");return Number.parseInt(e===null||e===void 0?void 0:e.innerText,10)||1}function ye(e,t,r){var n=te(babelHelpers.defineProperty({},ie(this,ue,me).getActionKey(),e),t);ie(this,ue,me).reloadTable("POST",n,r)}var me={writable:true,value:void 0};var we={writable:true,value:null};var _e={writable:true,value:null};var Ee={writable:true,value:null};e.Controller=ue})(this.BX.AI.ShareRole.Library=this.BX.AI.ShareRole.Library||{},BX.Event,BX.Main,BX,BX,BX.UI.Analytics);
//# sourceMappingURL=script.map.js