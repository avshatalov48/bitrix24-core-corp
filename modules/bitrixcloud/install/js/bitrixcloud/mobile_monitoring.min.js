BX.namespace("BX.BitrixCloud");BX.BitrixCloud.MobileMonitor=function(e,t){this.app=e;this.ajaxUrl="";if(BX.Type.isObject(t)){this.ajaxUrl=t.ajaxUrl||""}this.deleteSite=function(e){const t={domain:e,action:"delete",sessid:BX.bitrix_sessid()};this.app.showPopupLoader({text:`${BX.Loc.getMessage("BCL_MOBILE_MONITORING_SITE_DELETING")}...`});BX.ajax({timeout:30,method:"POST",dataType:"json",url:this.ajaxUrl,data:t,onsuccess:BX.delegate((t=>{this.app.hidePopupLoader();if(t&&!t.ERROR){this.app.onCustomEvent("onAfterBCMMSiteDelete",{domain:e});BX.onCustomEvent("onAfterBCMMSiteDelete",[{domain:e}])}else if(t.ERROR){this.app.alert({text:t.ERROR})}else{this.app.alert({text:BX.Loc.getMessage("BCL_MOBILE_MONITORING_SITE_DEL_ERROR")})}}),this),onfailure:BX.delegate((()=>{this.app.alert({text:BX.Loc.getMessage("BCL_MOBILE_MONITORING_SITE_DEL_ERROR")})}),this)})};this.updateSite=function(e,t){const s=t;s.domain=e;s.action="update";s.sessid=BX.bitrix_sessid();this.app.showPopupLoader({text:`${BX.Loc.getMessage("BCL_MOBILE_MONITORING_SITE_SAVING")}...`});BX.ajax({timeout:30,method:"POST",dataType:"json",url:this.ajaxUrl,data:s,onsuccess:t=>{this.app.hidePopupLoader();if(t&&!t.ERROR){this.app.onCustomEvent("onAfterBCMMSiteUpdate",{domain:e});BX.onCustomEvent("onAfterBCMMSiteUpdate",[{domain:e}])}else if(t.ERROR){this.app.alert({text:t.ERROR})}else{this.app.alert({text:BX.Loc.getMessage("BCL_MOBILE_MONITORING_SITE_SAVE_ERROR")})}},onfailure:()=>{this.app.alert({text:BX.Loc.getMessage("BCL_MOBILE_MONITORING_SITE_SAVE_ERROR")})}})};this.showRefreshing=function(){this.app.showPopupLoader({text:`${BX.Loc.getMessage("BCL_MOBILE_MONITORING_SITE_REFRESHING")}...`})}};
//# sourceMappingURL=mobile_monitoring.map.js