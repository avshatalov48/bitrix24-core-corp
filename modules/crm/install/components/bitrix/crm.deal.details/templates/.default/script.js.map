{"version":3,"file":"script.js","sources":["src/js/deal.onboarding.manager.js","src/js/deal.manager.js"],"sourcesContent":["//@flow\nimport {userOptions, Loc, Dom, Event} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {Guide} from 'ui.tour';\nimport 'spotlight';\n\nexport type OnboardingData = {\n\tchain: number;\n\tchainStep: number;\n\tsuccessDealGuideIsOver: boolean;\n};\n\ntype Params = {\n\tonboardingData: OnboardingData;\n\tcontentContainer: HTMLElement;\n\tserviceUrl: string;\n\tdealDetailManager: BX.Crm.DealDetailManager;\n};\n\nexport class DealOnboardingManager\n{\n\t#onboardingData: OnboardingData;\n\t#contentContainer: HTMLElement;\n\t#serviceUrl: string;\n\t#dealDetailManager: BX.Crm.DealDetailManager;\n\n\t#activeDocumentGuide: Guide|null = null;\n\n\tstatic get productsTabId(): string\n\t{\n\t\treturn 'tab_products';\n\t}\n\n\tconstructor(params: Params)\n\t{\n\t\tthis.#onboardingData = params.onboardingData;\n\t\tthis.#contentContainer = params.contentContainer;\n\t\tthis.#serviceUrl = params.serviceUrl;\n\t\tthis.#dealDetailManager = params.dealDetailManager;\n\t}\n\n\t#getContentContainer(): HTMLElement\n\t{\n\t\treturn this.#contentContainer;\n\t}\n\n\t#getButtonsContainer(): HTMLElement\n\t{\n\t\treturn this.#getContentContainer().querySelector('.main-buttons');\n\t}\n\n\tprocessOnboarding(): void\n\t{\n\t\tconst chain = this.#onboardingData.chain;\n\t\tconst step = this.#onboardingData.chainStep;\n\t\tconst successDealGuideIsOver = this.#onboardingData.successDealGuideIsOver;\n\n\t\tif (chain === 0)\n\t\t{\n\t\t\tif (step < 1)\n\t\t\t{\n\t\t\t\tthis.#processProductTabHint();\n\t\t\t}\n\t\t\tif (step < 2)\n\t\t\t{\n\t\t\t\tthis.#hintProductListField();\n\t\t\t}\n\t\t}\n\t\telse if (chain === 1 && step === 0)\n\t\t{\n\t\t\tthis.#hintAddDocumentLink();\n\t\t}\n\n\t\tif (!successDealGuideIsOver)\n\t\t{\n\t\t\tthis.#hintSuccessDealDocumentInTimeline();\n\t\t}\n\t}\n\n\t#processProductTabHint(): void\n\t{\n\t\tconst guideText = {\n\t\t\ttitle: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_AUTOMATIC_RESERVATION_GUIDE_TITLE'),\n\t\t\ttext: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_AUTOMATIC_RESERVATION_GUIDE_TEXT'),\n\t\t};\n\n\t\tif (this.#dealDetailManager.isTabButtonVisible(DealOnboardingManager.productsTabId))\n\t\t{\n\t\t\tthis.#hintToVisibleProductTab();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#hintToHiddenProductTab();\n\t\t}\n\t}\n\n\t#createHintToProductTab(target: HTMLElement, guideEvents: Object = {}): Guide\n\t{\n\t\tconst guideText = {\n\t\t\ttitle: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_AUTOMATIC_RESERVATION_GUIDE_TITLE'),\n\t\t\ttext: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_AUTOMATIC_RESERVATION_GUIDE_TEXT'),\n\t\t};\n\n\t\treturn new Guide({\n\t\t\tsteps: [\n\t\t\t\t{\n\t\t\t\t\ttarget: target,\n\t\t\t\t\ttitle: guideText.title,\n\t\t\t\t\ttext: guideText.text,\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\tevents: guideEvents\n\t\t\t\t}\n\t\t\t],\n\t\t\tonEvents: true\n\t\t});\n\t}\n\n\t#hintToVisibleProductTab(): void\n\t{\n\t\tconst productsTabButton = this.#dealDetailManager.getTabMenuItemContainer(DealOnboardingManager.productsTabId);\n\n\t\tconst productsTabGuide = this.#createHintToProductTab(\n\t\t\tproductsTabButton,\n\t\t\t{\n\t\t\t\tonShow: () => {\n\t\t\t\t\tconst popupContainer = productsTabGuide.getPopup().getPopupContainer();\n\t\t\t\t\tconst rightOffset = Dom.getPosition(productsTabButton).width/2;\n\t\t\t\t\tconst centerLeftPos = parseFloat(popupContainer.style.left) - rightOffset;\n\t\t\t\t\tpopupContainer.style.left = `${centerLeftPos}px`;\n\t\t\t\t\tproductsTabGuide.handleResizeWindow();\n\t\t\t\t},\n\t\t\t\tonClose: () => {\n\t\t\t\t\tuserOptions.save('crm', 'warehouse-onboarding', 'firstChainStage', 1);\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tproductsTabGuide.showNextStep();\n\t\tconst tabsContainer = this.#dealDetailManager.getTabManager().getTabMenuContainer();\n\n\t\tconst windowResizeHandler = () => {\n\t\t\tif (!this.#dealDetailManager.isTabButtonVisible(DealOnboardingManager.productsTabId))\n\t\t\t{\n\t\t\t\tproductsTabGuide.close();\n\t\t\t\tEvent.unbind(window, 'resize', windowResizeHandler);\n\t\t\t}\n\t\t};\n\n\t\tEvent.bind(window, 'resize', windowResizeHandler);\n\t\tEvent.bindOnce(tabsContainer, 'mousedown', () => {\n\t\t\tproductsTabGuide.close();\n\t\t\tEvent.unbind(window, 'resize', windowResizeHandler);\n\t\t});\n\t}\n\n\t#hintToHiddenProductTab(): void\n\t{\n\t\tconst moreButton = this.#dealDetailManager.getTabManager().getMoreButton();\n\t\tconst spotlight = new BX.SpotLight(\n\t\t\t{\n\t\t\t\tid: `${DealOnboardingManager.productsTabId}_spotlight`,\n\t\t\t\ttargetElement: moreButton,\n\t\t\t\tautoSave: true,\n\t\t\t\ttargetVertex: \"middle-center\",\n\t\t\t\tzIndex: 200,\n\t\t\t}\n\t\t);\n\t\tspotlight.show();\n\t\tspotlight.container.style.pointerEvents = \"none\";\n\n\t\tconst onOpenMoreMenuHandler = (event) => {\n\t\t\tconst eventMoreMenu = event.target.getMoreMenu();\n\t\t\tconst dealMoreMenu = this.#dealDetailManager.getTabManager().getMoreMenu();\n\n\t\t\tif (eventMoreMenu === dealMoreMenu)\n\t\t\t{\n\t\t\t\tspotlight.close();\n\t\t\t\tconst productsTabGuide = this.#createHintToProductTab(\n\t\t\t\t\tthis.#dealDetailManager.getTabFromMoreMenu(DealOnboardingManager.productsTabId)\n\t\t\t\t);\n\n\t\t\t\tconst moreMenuContainer = eventMoreMenu.getMenuContainer();\n\n\t\t\t\tconst tabHintTimeout = setTimeout(() => {\n\t\t\t\t\tproductsTabGuide.showNextStep();\n\n\t\t\t\t\tBX.bindOnce(moreMenuContainer, 'click', moreMenuClickHandler);\n\n\t\t\t\t\tconst productsTabPopup = productsTabGuide.getPopup();\n\t\t\t\t\tEventEmitter.subscribeOnce(productsTabPopup, 'onClose', onPopupCloseHandler);\n\n\t\t\t\t\tconst popupContainer = productsTabGuide.getPopup().getContentContainer().parentNode;\n\t\t\t\t\tBX.bind(popupContainer, 'mouseenter', () => {\n\t\t\t\t\t\tevent.target.showMoreMenu();\n\t\t\t\t\t});\n\t\t\t\t\tBX.bind(popupContainer, 'mouseleave', () => {\n\t\t\t\t\t\tconst outOfPopupTimeout = setTimeout(() => {\n\t\t\t\t\t\t\tevent.target.closeMoreMenu();\n\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\tEvent.bindOnce(dealMoreMenu.getMenuContainer(), 'mouseenter', () => {\n\t\t\t\t\t\t\tclearTimeout(outOfPopupTimeout);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}, 50);\n\n\n\t\t\t\tconst onPopupCloseHandler = (event) => {\n\t\t\t\t\tuserOptions.save('crm', 'warehouse-onboarding', 'firstChainStage', 1);\n\n\t\t\t\t\tEvent.unbind(window, 'resize', windowResizeHandler);\n\t\t\t\t\tEvent.unbind(moreMenuContainer, 'click', moreMenuClickHandler);\n\t\t\t\t\tEventEmitter.unsubscribe('BX.Main.InterfaceButtons:onMoreMenuShow', onOpenMoreMenuHandler);\n\t\t\t\t};\n\n\n\t\t\t\tconst moreMenuClickHandler = () => {\n\t\t\t\t\tuserOptions.save('crm', 'warehouse-onboarding', 'firstChainStage', 1);\n\t\t\t\t\tproductsTabGuide.close();\n\t\t\t\t};\n\t\t\t\tEvent.bind(dealMoreMenu.getMenuContainer(), 'click', onPopupCloseHandler);\n\n\t\t\t\tEventEmitter.subscribeOnce('BX.Main.InterfaceButtons:onMoreMenuClose', (event) => {\n\t\t\t\t\tconst eventMoreMenu = event.target.getMoreMenu();\n\t\t\t\t\tconst dealMoreMenu = this.#dealDetailManager.getTabManager().getMoreMenu();\n\n\t\t\t\t\tif (eventMoreMenu === dealMoreMenu)\n\t\t\t\t\t{\n\t\t\t\t\t\tclearTimeout(tabHintTimeout);\n\t\t\t\t\t\tEvent.unbind(moreMenuContainer, 'click', moreMenuClickHandler);\n\t\t\t\t\t\tproductsTabGuide.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tEventEmitter.subscribe('BX.Main.InterfaceButtons:onMoreMenuShow', onOpenMoreMenuHandler);\n\n\t\tconst windowResizeHandler = () => {\n\t\t\tif (this.#dealDetailManager.isTabButtonVisible(DealOnboardingManager.productsTabId))\n\t\t\t{\n\t\t\t\tspotlight.close();\n\t\t\t\tthis.#hintToVisibleProductTab();\n\t\t\t\tEvent.unbind(window, 'resize', windowResizeHandler);\n\t\t\t\tEventEmitter.unsubscribe('BX.Main.InterfaceButtons:onMoreMenuShow', onOpenMoreMenuHandler);\n\t\t\t}\n\t\t}\n\t\tEvent.bind(window, 'resize', windowResizeHandler);\n\t}\n\n\t#hintProductListField(): void\n\t{\n\t\tconst buttonsContainer = this.#getContentContainer().querySelector('.main-buttons');\n\t\tconst productListTabListener = (event) => {\n\t\t\tconst [productListEditor] = event.data;\n\n\t\t\tconst buttonsPanelListener = () => {\n\t\t\t\tconst activeHint = productListEditor.getActiveHint();\n\t\t\t\tif (activeHint !== null)\n\t\t\t\t{\n\t\t\t\t\tactiveHint.close();\n\t\t\t\t\tEvent.unbind(buttonsContainer, 'click', buttonsPanelListener);\n\t\t\t\t}\n\t\t\t}\n\t\t\tEvent.bind(buttonsContainer, 'click', buttonsPanelListener);\n\n\t\t\tproductListEditor.showFieldTourHint(\n\t\t\t\t'STORE_INFO',\n\t\t\t\t{\n\t\t\t\t\ttitle: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_PRODUCT_STORE_GUIDE_TITLE'),\n\t\t\t\t\ttext: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_PRODUCT_STORE_GUIDE_TEXT'),\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tuserOptions.save('crm', 'warehouse-onboarding', 'firstChainStage', 2);\n\t\t\t\t\tBX.ajax.post(\n\t\t\t\t\t\tthis.#serviceUrl,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tACTION: 'FIX_FIRST_ONBOARD_CHAIN_VIEW',\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tEvent.unbind(buttonsContainer, 'click', buttonsPanelListener);\n\n\t\t\t\t\tEventEmitter.unsubscribe(\n\t\t\t\t\t\t'onDemandRecalculateWrapper',\n\t\t\t\t\t\tproductListTabListener\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\t['RESERVE_INFO']\n\t\t\t);\n\t\t}\n\n\t\tEventEmitter.subscribe(\n\t\t\t'onDemandRecalculateWrapper',\n\t\t\tproductListTabListener\n\t\t);\n\t}\n\n\t#hintAddDocumentLink()\n\t{\n\t\tconst documentsListTourListener = (event) => {\n\t\t\tif (this.#activeDocumentGuide !== null)\n\t\t\t{\n\t\t\t\tthis.#activeDocumentGuide.close();\n\t\t\t}\n\n\t\t\tconst buttonsContainer = this.#getButtonsContainer();\n\t\t\tconst sumControlContainer = document.querySelector('[data-cid=\"OPPORTUNITY_WITH_CURRENCY\"]');\n\t\t\tconst addDocumentButton = sumControlContainer && sumControlContainer.querySelector('.crm-entity-widget-payment-add-box');\n\t\t\tif (addDocumentButton !== null) {\n\t\t\t\tconst settingsButton = sumControlContainer.querySelector('.ui-entity-editor-block-context-menu');\n\t\t\t\tconst dragButton = sumControlContainer.querySelector('.ui-entity-editor-draggable-btn');\n\t\t\t\tconst guideText = {\n\t\t\t\t\ttitle: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_ADD_DOCUMENT_GUIDE_TITLE'),\n\t\t\t\t\ttext: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_ADD_DOCUMENT_GUIDE_TEXT'),\n\t\t\t\t};\n\n\t\t\t\tconst addDocumentGuide = new Guide({\n\t\t\t\t\tsteps: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttarget: addDocumentButton,\n\t\t\t\t\t\t\ttitle: guideText.title,\n\t\t\t\t\t\t\ttext: guideText.text,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\tEvent.unbind(buttonsContainer, 'click', userCloseHintHandler);\n\t\t\t\t\t\t\t\t\tEvent.unbind(settingsButton, 'click', userCloseHintHandler);\n\t\t\t\t\t\t\t\t\tEvent.unbind(dragButton, 'mousedown', userCloseHintHandler);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tonEvents: true\n\t\t\t\t});\n\t\t\t\tthis.#activeDocumentGuide = addDocumentGuide;\n\n\t\t\t\tconst userCloseHintHandler = () => {\n\t\t\t\t\tEvent.unbind(buttonsContainer, 'click', userCloseHintHandler);\n\t\t\t\t\tEventEmitter.unsubscribe(\n\t\t\t\t\t\t'PaymentDocuments.EntityEditor:changeDocuments',\n\t\t\t\t\t\tdocumentsListTourListener\n\t\t\t\t\t);\n\n\t\t\t\t\taddDocumentGuide.close();\n\t\t\t\t\tuserOptions.save('crm', 'warehouse-onboarding', 'secondChainStage', 1);\n\n\t\t\t\t}\n\n\t\t\t\taddDocumentGuide.showNextStep();\n\t\t\t\tEvent.bind(addDocumentGuide.getPopup().closeIcon, 'click', userCloseHintHandler);\n\t\t\t\tEvent.bind(buttonsContainer, 'click', userCloseHintHandler);\n\t\t\t\tEvent.bind(addDocumentButton, 'click', userCloseHintHandler);\n\t\t\t\tEvent.bind(settingsButton, 'click', userCloseHintHandler);\n\t\t\t\tEvent.bind(dragButton, 'mousedown', userCloseHintHandler);\n\t\t\t}\n\t\t};\n\n\t\tEventEmitter.subscribe(\n\t\t\t'PaymentDocuments.EntityEditor:changeDocuments',\n\t\t\tdocumentsListTourListener\n\t\t);\n\t}\n\n\t#hintSuccessDealDocumentInTimeline(): void\n\t{\n\t\tconst timelineGuideListener = (event) => {\n\t\t\tif (event.data[1].currentStepId === 'WON' && event.data[1].currentSemantics === 'success')\n\t\t\t{\n\t\t\t\tEventEmitter.unsubscribe(\n\t\t\t\t\t'Crm.EntityProgress.Saved',\n\t\t\t\t\ttimelineGuideListener\n\t\t\t\t);\n\n\t\t\t\tconst onHistoryNodeAddedHandler = (event) => {\n\t\t\t\t\tEventEmitter.unsubscribe(\n\t\t\t\t\t\t'BX.Crm.Timeline.Items.FinalSummaryDocuments:onHistoryNodeAdded',\n\t\t\t\t\t\tonHistoryNodeAddedHandler\n\t\t\t\t\t);\n\n\t\t\t\t\tconst [timelineDocsNode] = event.data;\n\t\t\t\t\tconst documentLinkNode = timelineDocsNode.querySelector('.crm-entity-stream-content-document-description');\n\n\t\t\t\t\tconst guideText = {\n\t\t\t\t\t\ttitle: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_SUCCESS_DEAL_GUIDE_TITLE'),\n\t\t\t\t\t\ttext: Loc.getMessage('CRM_DEAL_DETAIL_WAREHOUSE_SUCCESS_DEAL_GUIDE_TEXT'),\n\t\t\t\t\t};\n\n\t\t\t\t\tconst successDealGuide = new Guide({\n\t\t\t\t\t\tsteps: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttarget: documentLinkNode,\n\t\t\t\t\t\t\t\ttitle: guideText.title,\n\t\t\t\t\t\t\t\ttext: guideText.text,\n\t\t\t\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\t\t\t\t\tuserOptions.save('crm', 'warehouse-onboarding', 'successDealGuideIsOver', true);\n\t\t\t\t\t\t\t\t\t\tunsubscribeFromHintClicks();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tonEvents: true\n\t\t\t\t\t});\n\n\t\t\t\t\tconst dealContainer = this.#getContentContainer();\n\t\t\t\t\tconst buttonsContainer = this.#getButtonsContainer();\n\n\t\t\t\t\tconst unsubscribeFromHintClicks = () => {\n\t\t\t\t\t\tEvent.unbind(dealContainer, 'click', successDealGuide.close.bind(successDealGuide));\n\t\t\t\t\t\tEvent.unbind(buttonsContainer, 'click', successDealGuide.close.bind(successDealGuide));\n\t\t\t\t\t};\n\n\t\t\t\t\tBX.onCustomEvent(window, 'OpenEntityDetailTab', ['main']);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst nodePos = Dom.getPosition(documentLinkNode);\n\t\t\t\t\t\twindow.scrollTo(0, nodePos.y - 250);\n\t\t\t\t\t\tsuccessDealGuide.showNextStep();\n\n\t\t\t\t\t\tEvent.bind(buttonsContainer, 'click', successDealGuide.close.bind(successDealGuide));\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tEvent.bind(dealContainer, 'click', successDealGuide.close.bind(successDealGuide));\n\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\n\t\t\t\tEventEmitter.subscribe(\n\t\t\t\t\t'BX.Crm.Timeline.Items.FinalSummaryDocuments:onHistoryNodeAdded',\n\t\t\t\t\tonHistoryNodeAddedHandler\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tEventEmitter.subscribe(\n\t\t\t'Crm.EntityProgress.Saved',\n\t\t\ttimelineGuideListener\n\t\t);\n\t}\n}","//@flow\nimport {Cache, Loc} from 'main.core';\nimport {DealOnboardingManager, OnboardingData} from \"./deal.onboarding.manager\";\n\n\ntype Params = {\n\tguid: string;\n};\n\n\n\nexport class DealManager\n{\n\t#dealGuid: string;\n\t#dealDetailManager: BX.Crm.DealDetailManager|null;\n\t#dealOnboardingManager: DealOnboardingManager|null = null;\n\t#cache = new Cache.MemoryCache();\n\n\tconstructor(params: Params)\n\t{\n\t\tthis.#dealGuid = params.guid;\n\t\tthis.#dealDetailManager = BX.Crm.EntityDetailManager.get(this.#dealGuid);\n\t}\n\n\tgetContainer(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('container', () => {\n\t\t\treturn document.getElementById(this.#dealGuid + '_container');\n\t\t});\n\t}\n\n\tgetDealDetailManager(): BX.Crm.DealDetailManager|null\n\t{\n\t\treturn this.#dealDetailManager;\n\t}\n\n\tenableOnboardingChain(onboardingData: OnboardingData, serviceUrl: string)\n\t{\n\t\tif (this.#dealOnboardingManager === null && this.getDealDetailManager() !== null)\n\t\t{\n\t\t\tthis.#dealOnboardingManager  = new DealOnboardingManager({\n\t\t\t\tonboardingData: onboardingData,\n\t\t\t\tcontentContainer: this.getContainer(),\n\t\t\t\tserviceUrl: serviceUrl,\n\t\t\t\tdealDetailManager: this.getDealDetailManager()\n\t\t\t});\n\t\t\tthis.#dealOnboardingManager.processOnboarding();\n\t\t}\n\t}\n}"],"names":["DealOnboardingManager","params","onboardingData","contentContainer","serviceUrl","dealDetailManager","chain","step","chainStep","successDealGuideIsOver","querySelector","guideText","title","Loc","getMessage","text","isTabButtonVisible","productsTabId","target","guideEvents","Guide","steps","position","events","onEvents","productsTabButton","getTabMenuItemContainer","productsTabGuide","onShow","popupContainer","getPopup","getPopupContainer","rightOffset","Dom","getPosition","width","centerLeftPos","parseFloat","style","left","handleResizeWindow","onClose","userOptions","save","showNextStep","tabsContainer","getTabManager","getTabMenuContainer","windowResizeHandler","close","Event","unbind","window","bind","bindOnce","moreButton","getMoreButton","spotlight","BX","SpotLight","id","targetElement","autoSave","targetVertex","zIndex","show","container","pointerEvents","onOpenMoreMenuHandler","event","eventMoreMenu","getMoreMenu","dealMoreMenu","getTabFromMoreMenu","moreMenuContainer","getMenuContainer","tabHintTimeout","setTimeout","moreMenuClickHandler","productsTabPopup","EventEmitter","subscribeOnce","onPopupCloseHandler","getContentContainer","parentNode","showMoreMenu","outOfPopupTimeout","closeMoreMenu","clearTimeout","unsubscribe","subscribe","buttonsContainer","productListTabListener","data","productListEditor","buttonsPanelListener","activeHint","getActiveHint","showFieldTourHint","ajax","post","ACTION","documentsListTourListener","sumControlContainer","document","addDocumentButton","settingsButton","dragButton","addDocumentGuide","userCloseHintHandler","closeIcon","timelineGuideListener","currentStepId","currentSemantics","onHistoryNodeAddedHandler","timelineDocsNode","documentLinkNode","successDealGuide","unsubscribeFromHintClicks","dealContainer","onCustomEvent","nodePos","scrollTo","y","DealManager","Cache","MemoryCache","guid","Crm","EntityDetailManager","get","remember","getElementById","getDealDetailManager","getContainer","processOnboarding"],"mappings":"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"}