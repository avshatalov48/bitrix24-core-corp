(function(){var i="/crm/ml/deal/#id#/detail";BX.Crm.DealDetails=function(i){if(!i){i={}}this.dealId=i.entityId;this.mlInstalled=i.mlInstalled;this.scoringEnabled=i.scoringEnabled;this.init()};BX.Crm.DealDetails.prototype={init:function(){BX.addCustomEvent(window,"BX.Crm.EntityEditorSection:onLayout",this.onEntityEditorLayout.bind(this))},onEntityEditorLayout:function(i,t){if(t.id==="main"&&this.mlInstalled){t.customNodes.push(BX.create("div",{props:{className:"crm-entity-widget-scoring"},events:{click:this.onScoringButtonClick.bind(this)},children:[BX.create("div",{props:{className:"crm-entity-widget-scoring-icon"}}),BX.create("div",{props:{className:"crm-entity-widget-scoring-text"},text:BX.message("CRM_DEAL_DETAIL_SCORING_TITLE")})]}))}},onScoringButtonClick:function(t){if(this.scoringEnabled){var e=i.replace("#id#",this.dealId);BX.SidePanel.Instance.open(e,{cacheable:false,width:840})}else{B24.licenseInfoPopup.show("crm_scoring",BX.message("CRM_SCORING_LICENSE_TITLE"),"<span>"+BX.message("CRM_SCORING_LICENSE_TEXT")+"</span>")}}}})();
//# sourceMappingURL=script.map.js