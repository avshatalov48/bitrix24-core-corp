function crmImportStep(step,form_id){selectTab="tab_"+step;arDisable=new Array("tab_1","tab_2","tab_3");arDisable.splice(step-1,1);var bxForm=eval("bxForm_"+form_id);bxForm.SelectTab(selectTab,true);for(var elDisable in arDisable){bxForm.ShowDisabledTab(arDisable[elDisable],true);BX("tab_cont_"+arDisable[elDisable]).className="bx-tab-container-disabled"}}function crmImportAjax(r){BX.ajax({url:r,method:"POST",dataType:"json",data:{},onsuccess:function(e){e["import"]=parseInt(e["import"]);e["error"]=parseInt(e["error"]);if(e["error"]>0){BX("crm_import_error").style.display="block";BX("crm_import_example").style.display="block";if(parseInt(BX("crm_import_example").style.height)<399)BX("crm_import_example").style.height=parseInt(BX("crm_import_example").style.height)+68*e["error"]+"px";for(var t in e["error_data"]){tableRow=BX.create("tr");tableRowColumn=BX.create("td",{props:{colSpan:e["column"],className:"crm_import_example_table_td_error"}});tableRowColumn.innerHTML=e["error_data"][t]["message"];tableRow.appendChild(tableRowColumn);BX("crm_import_example_table_body").appendChild(tableRow);tableRow=BX.create("tr");for(var a in e["error_data"][t]["data"]){tableRowColumn=BX.create("td",{text:e["error_data"][t]["data"][a]});tableRow.appendChild(tableRowColumn)}BX("crm_import_example_table_body").appendChild(tableRow)}BX("crm_import_entity_error").innerHTML=parseInt(BX("crm_import_entity_error").innerHTML)+e["error"]}if(e["import"]>0||e["error"]>0){if(e["import"]>0){BX("crm_import_entity").innerHTML=parseInt(BX("crm_import_entity").innerHTML)+e["import"]}crmImportAjax(r)}else{BX("crm_import_entity_progress").innerHTML="";BX("crm_import_done").hidden=false;BX("crm_import_again").hidden=false}},onfailure:function(r){BX("crm_import_entity_progress").innerHTML="";BX("crm_import_done").hidden=false;BX("crm_import_again").hidden=false}});return false}
//# sourceMappingURL=script.map.js