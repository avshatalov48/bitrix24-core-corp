{"version":3,"sources":["script.js"],"names":["BX","CrmNewEntityCounterPanel","this","_id","_settings","_userId","_pullTagName","_pullCommands","_entityTypeId","_lastEntityId","_gridId","_counter","_wrapper","_container","_counterContainer","_counterWrapper","_previousNode","_currentNode","_nextNode","_refreshHandle","_refreshCallback","delegate","doRefresh","_refreshSuccessCallback","onRefreshSuccess","_resetCallback","reset","_resetSuccessCallback","onResetSuccess","_clickCallback","onClick","_gridReloadCallback","onGridReload","_pullCallback","onPullEvent","_isShown","_hasLayout","prototype","initialize","id","settings","type","isNotEmptyString","util","getRandomString","prop","getInteger","getString","isElementNode","style","display","_serviceUrl","getObject","addCustomEvent","extendWatch","window","layout","release","removeCustomEvent","getId","resolveEntityCommand","pullCommand","key","hasOwnProperty","sender","args","cancelRefresh","setTimeout","command","params","entityCommand","refresh","isFunction","PULL","clearTimeout","ajax","url","add_url_param","action","method","dataType","data","ACTION","LAST_ENTITY_ID","ENTITY_TYPE_ID","onsuccess","setupCounter","create","attrs","className","appendChild","innerHTML","toString","bind","clearLayout","unbind","remove","value","diff","addClass","removeClass","marginTop","show","hide","reloadGrid","Main","gridManager","reload","e","items","getItem","removeItemById","self"],"mappings":"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","file":"script.map.js"}