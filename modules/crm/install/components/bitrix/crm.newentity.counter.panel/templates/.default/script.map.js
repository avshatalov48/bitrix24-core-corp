{"version":3,"sources":["script.js"],"names":["BX","CrmNewEntityCounterPanel","this","_id","_settings","_userId","_pullTagName","_pullCommands","_entityTypeId","_lastEntityId","_gridId","_counter","_wrapper","_container","_counterContainer","_counterWrapper","_previousNode","_currentNode","_nextNode","_refreshHandle","_refreshCallback","delegate","doRefresh","_refreshSuccessCallback","onRefreshSuccess","_resetCallback","reset","_resetSuccessCallback","onResetSuccess","_clickCallback","onClick","_gridReloadCallback","onGridReload","_pullCallback","onPullEvent","_isShown","_hasLayout","prototype","initialize","id","settings","type","isNotEmptyString","util","getRandomString","prop","getInteger","getString","isElementNode","style","display","Dom","clean","_serviceUrl","getObject","addCustomEvent","extendWatch","window","layout","release","removeCustomEvent","getId","resolveEntityCommand","pullCommand","key","hasOwnProperty","sender","args","cancelRefresh","setTimeout","command","params","entityCommand","refresh","isFunction","PULL","clearTimeout","ajax","url","add_url_param","action","method","dataType","data","ACTION","LAST_ENTITY_ID","ENTITY_TYPE_ID","onsuccess","setupCounter","create","attrs","className","appendChild","innerHTML","toString","bind","clearLayout","unbind","remove","value","diff","addClass","removeClass","marginTop","show","hide","reloadGrid","Main","gridManager","reload","e","items","getItem","removeItemById","self"],"mappings":"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","file":"script.map.js"}