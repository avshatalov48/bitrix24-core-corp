function CrmWebFormEditScript(t){t=t||{};this.context=t.context;this.init()}CrmWebFormEditScript.prototype={init:function(t){this.initTabs(t);this.initCopy(t);BX.onCustomEvent(window,"crm-web-form-edit-script",[this])},initTabs:function(t){this.tabAttribute="data-bx-webform-script-tab-cont";this.buttonTabAttribute="data-bx-webform-script-tab-btn";this.buttonAttribute="data-bx-webform-script-copy-btn";this.copyTextAttribute="data-bx-webform-script-copy-text";this.tabNodeList=this.context.querySelectorAll("["+this.tabAttribute+"]");this.tabNodeList=BX.convert.nodeListToArray(this.tabNodeList);this.currentTabNode=this.tabNodeList[0];this.tabBtnNodeList=this.context.querySelectorAll("["+this.buttonTabAttribute+"]");this.tabBtnNodeList=BX.convert.nodeListToArray(this.tabBtnNodeList);this.tabBtnNodeList.forEach(this.bindTabButtonClick,this);this.copyButtonList=this.context.querySelectorAll("["+this.buttonAttribute+"]");this.copyButtonList=BX.convert.nodeListToArray(this.copyButtonList);this.copyButtonScriptList=[]},bindTabButtonClick:function(t){var i=this;BX.bind(t,"click",function(){var t=this.getAttribute(i.buttonTabAttribute);i.showTab(t)})},showTab:function(t){this.tabBtnNodeList.forEach(function(i){var e=i.getAttribute(this.buttonTabAttribute);if(t==e){BX.addClass(i,"crm-webform-script-tab-item-active")}else{BX.removeClass(i,"crm-webform-script-tab-item-active")}},this);this.tabNodeList.forEach(function(i){var e=i.getAttribute(this.tabAttribute);i.style.display=t==e?"block":"none";if(t==e){this.currentTabNode=i}},this);this.copyButtonScriptList.forEach(function(i){var e=i.getAttribute(this.buttonAttribute);var o="SCRIPT_"+t;i.style.display=o==e?"":"none"},this)},getCurrentCopyText:function(){var t=this.currentTabNode.querySelector("["+this.copyTextAttribute+"]");if(t){return t.innerText}else{return""}},hideCopyTextButtons:function(t){this.copyButtonScriptList[0].parentNode.style.display="none"},initCopy:function(t){this.copyButtonList.forEach(function(t){var i=t.getAttribute(this.buttonAttribute);if(i.substr(0,6)=="SCRIPT"){this.copyButtonScriptList.push(t)}var e=this.context.querySelector("["+this.copyTextAttribute+'="'+i+'"]');if(!e){return}BX.clipboard.bindCopyClick(t,{text:e,offsetLeft:30})},this)}};
//# sourceMappingURL=script.map.js