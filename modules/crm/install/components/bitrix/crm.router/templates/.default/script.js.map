{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import { Reflection, Runtime, Type } from \"main.core\";\n\nconst namespace = Reflection.namespace('BX.Crm.Component');\n\n/**\n * @memberOf BX.Crm.Component\n */\nclass Router\n{\n\t/**\n\t * @public\n\t * @param roots\n\t * @param rules\n\t */\n\tstatic bindAnchors(roots: string[], rules: BX.SidePanel.Rule[]): void\n\t{\n\t\tconst preparedRules: BX.SidePanel.Rule[] = [];\n\n\t\trules.forEach(rule => {\n\t\t\tpreparedRules.push(this.prependRootsToRuleConditions(roots, rule));\n\t\t});\n\n\t\tBX.SidePanel.Instance.bindAnchors({rules: preparedRules});\n\t}\n\n\t/**\n\t * @protected\n\t * @param roots\n\t * @param rule\n\t * @return {BX.SidePanel.Rule}\n\t */\n\tstatic prependRootsToRuleConditions(roots: string[], rule: BX.SidePanel.Rule): BX.SidePanel.Rule\n\t{\n\t\t// Don't change the received object to avoid problems\n\t\tconst localRule: BX.SidePanel.Rule = Runtime.clone(rule);\n\n\t\tif (!Type.isArrayFilled(localRule.condition))\n\t\t{\n\t\t\treturn localRule;\n\t\t}\n\n\t\tconst modifiedConditions = [];\n\t\tlocalRule.condition.forEach((condition: string|RegExp) => {\n\t\t\tif (Type.isRegExp(condition))\n\t\t\t{\n\t\t\t\tcondition = condition.toString();\n\t\t\t}\n\n\t\t\troots.forEach(root => {\n\t\t\t\tmodifiedConditions.push(root + condition);\n\t\t\t});\n\t\t});\n\n\t\tlocalRule.condition = modifiedConditions;\n\n\t\treturn localRule;\n\t}\n}\n\nnamespace.Router = Router;\n"],"names":["namespace","Reflection","Router","roots","rules","preparedRules","forEach","rule","push","prependRootsToRuleConditions","BX","SidePanel","Instance","bindAnchors","localRule","Runtime","clone","Type","isArrayFilled","condition","modifiedConditions","isRegExp","toString","root"],"mappings":";;;CAEA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAX,CAAqB,kBAArB,CAAlB;CAEA;CACA;CACA;;KACME;;;;;;;;;CAGN;CACA;CACA;CACA;iCACoBC,OAAiBC,OACpC;OAAA;;OACC,IAAMC,aAAkC,GAAG,EAA3C;OAEAD,KAAK,CAACE,OAAN,CAAc,UAAAC,IAAI,EAAI;SACrBF,aAAa,CAACG,IAAd,CAAmB,KAAI,CAACC,4BAAL,CAAkCN,KAAlC,EAAyCI,IAAzC,CAAnB;QADD;OAIAG,EAAE,CAACC,SAAH,CAAaC,QAAb,CAAsBC,WAAtB,CAAkC;SAACT,KAAK,EAAEC;QAA1C;;;CAIF;CACA;CACA;CACA;CACA;;;;kDACqCF,OAAiBI,MACrD;;OAEC,IAAMO,SAA4B,GAAGC,iBAAO,CAACC,KAAR,CAAcT,IAAd,CAArC;;OAEA,IAAI,CAACU,cAAI,CAACC,aAAL,CAAmBJ,SAAS,CAACK,SAA7B,CAAL,EACA;SACC,OAAOL,SAAP;;;OAGD,IAAMM,kBAAkB,GAAG,EAA3B;OACAN,SAAS,CAACK,SAAV,CAAoBb,OAApB,CAA4B,UAACa,SAAD,EAA8B;SACzD,IAAIF,cAAI,CAACI,QAAL,CAAcF,SAAd,CAAJ,EACA;WACCA,SAAS,GAAGA,SAAS,CAACG,QAAV,EAAZ;;;SAGDnB,KAAK,CAACG,OAAN,CAAc,UAAAiB,IAAI,EAAI;WACrBH,kBAAkB,CAACZ,IAAnB,CAAwBe,IAAI,GAAGJ,SAA/B;UADD;QAND;OAWAL,SAAS,CAACK,SAAV,GAAsBC,kBAAtB;OAEA,OAAON,SAAP;;;;;;CAIFd,SAAS,CAACE,MAAV,GAAmBA,MAAnB;;;;"}