{"version":3,"sources":["control.js"],"names":["BX","namespace","Crm","EntityEditorMultipleUser","superclass","constructor","apply","this","_input","_userSelector","_map","_infos","_items","_innerWrapper","_buttonWrapper","_addItemButton","_addItemActionHandler","delegate","onAddItemAction","extend","EntityEditorField","prototype","doInitialize","_schemeElement","getDataObjectParam","initializeItems","_model","getSchemeField","i","length","addItem","getItemCount","findItemIndexById","id","type","isNumber","parseInt","isNaN","getValue","findItemIndex","item","data","EntityEditorMultipleUserItem","create","parent","push","_hasLayout","setMode","_mode","setContainer","layout","deleteItem","index","clearLayout","splice","adjust","isInViewMode","attrs","name","getDataKey","_wrapper","appendChild","remove","isSingleEditEnabled","hasContentToDisplay","EntityEditorMode","edit","getMappedField","options","ensureWrapperCreated","adjustWrapper","isNeedToDisplay","registerLayout","isDragEnabled","createDragButton","title","getTitle","createTitleNode","props","className","isInEditMode","messages","text","prop","getString","message","bind","getMessage","isContextMenuEnabled","createContextMenuButton","initializeDragDropAbilities","doRegisterLayout","checkModeOption","EntityEditorModeOptions","individual","window","setTimeout","openSelector","doClearLayout","unbind","createTitleActionControls","controls","isEditInViewEnabled","isReadOnly","events","click","getName","save","values","infos","getData","setMappedField","setSchemeField","e","getSelector","open","getEventTarget","EntityEditorUserSelector","_id","callback","processItemSelect","selector","userId","getInteger","close","userInfo","ID","PHOTO_URL","FORMATTED_NAME","util","htmlspecialcharsback","WORK_POSITION","getDataStringParam","replace","markAsChanged","_editor","saveControl","processModelChange","params","get","getBoolean","refreshLayout","processItemDeletion","getRuntimeValue","_selectedData","m","hasOwnProperty","arguments","settings","self","initialize","_settings","_parent","view","_data","_container","_photoElement","_nameElement","_positionElement","_deleteButton","_deleteButtonHandler","onDeleteButtonClick","isNotEmptyString","getEditor","getObject","getMode","mode","setData","getContainer","container","getIndex","value","formattedName","position","showUrl","photoUrl","target","style","backgroundImage","backgroundSize","href","children"],"mappings":"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","file":"control.map.js"}