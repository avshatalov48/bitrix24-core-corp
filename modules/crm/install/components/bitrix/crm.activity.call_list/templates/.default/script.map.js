{"version":3,"file":"script.min.js","sources":["script.js"],"names":["AJAX_URL","lastInstance","CallListActivity","config","this","node","callListId","webformId","webformSecCode","allowEdit","gridId","lastGridUrl","enableSavePopup","tabs","_itemsState","_handleTabHeaderClickEvent","_handleTabHeaderClick","bind","init","externalRequests","create","getLast","prototype","self","getNode","setActiveTab","tabHeader","tabNodes","BX","findChildrenByClassName","type","isArray","forEach","tabNode","push","dataset","bindEvents","addCustomEvent","window","gridData","requestParams","url","util","add_url_param","sessid","bitrix_sessid","ajax_action","_OnExternalEvent","reInit","findChildren","className","createFromLeads","_handleCreateFromClick","createFromContacts","createFromCompanies","createFromDeals","createFromQuotes","createFromInvoices","addMore","_handleAddMore","callButton","document","e","top","BXIM","Bitrix24","Slider","closeAll","dialogId","CrmActivityProvider","dialogs","hasOwnProperty","close","FoldedCallView","getInstance","destroy","startCallList","openFilterButton","_handleOpenFilterClick","planner","Crm","Activity","Planner","Manager","_onAfterActivitySave","_onPlannerClose","name","scope","querySelector","getNodeValue","value","getTab","getTabHeader","tabName","tab","removeClass","addClass","showItemsGrid","gridContainer","_loadItemsGrid","pageHtml","innerHTML","successCallback","params","ajax","method","dataType","data","onsuccess","HTML","_reloadLayout","subject","description","outerHTML","target","response","SUCCESS","DATA","LIST_URL","open","context","_generateExternalContext","listUrl","call_list_context","call_list_id","isPlainObject","key","grid","getGrid","reloadGrid","activityFields","NEW","popup","PopupWindow","autoHide","overlay","lightShadow","closeIcon","closeByEsc","contentColor","titleBar","message","content","props","text","buttons","PopupWindowButton","events","click","VIEW_URL","onPopupClose","show","Main","gridManager","deleteItems","items","deleteSelected","selectedIds","getRows","getSelectedIds","gridHandle","getById","instance","reload","_getRandomString","len","charSet","randomString","i","randomPoz","Math","floor","random","length","substring"],"mappings":"CAAA,WAEC,GAAIA,GAAW,2DACf,IAAIC,GAAe,IAEnB,IAAIC,GAAmB,SAASC,GAE/BC,KAAKC,KAAOF,EAAOE,IACnBD,MAAKE,WAAaH,EAAOG,YAAc,CACvCF,MAAKG,UAAYJ,EAAOI,WAAa,CACrCH,MAAKI,eAAiBL,EAAOK,gBAAkB,EAC/CJ,MAAKK,UAAaN,EAAOM,WAAa,IACtCL,MAAKM,OAASP,EAAOO,QAAU,EAC/BN,MAAKO,YAAc,EACnBP,MAAKQ,gBAAkBT,EAAOS,iBAAmB,IAEjDR,MAAKS,OAGLT,MAAKU,YAAc,MAEnBV,MAAKW,2BAA6BX,KAAKY,sBAAsBC,KAAKb,KAElEA,MAAKc,MAELd,MAAKe,oBAINjB,GAAiBkB,OAAS,SAASjB,GAElCF,EAAe,GAAIC,GAAiBC,EACpC,OAAOF,GAGRC,GAAiBmB,QAAU,WAE1B,MAAOpB,GAGRC,GAAiBoB,UAAUJ,KAAO,WAEjC,GAAIK,GAAOnB,IACX,IAAGA,KAAKoB,QAAQ,qBAChB,CACCpB,KAAKqB,aAAa,UAGnB,GAAIC,GAAYtB,KAAKoB,QAAQ,uBAC7B,IAAIE,EACJ,CACC,GAAIC,GAAWC,GAAGC,wBAAwBH,EAAW,iCACrD,IAAGE,GAAGE,KAAKC,QAAQJ,GACnB,CACCA,EAASK,QAAQ,SAASC,GAEzBV,EAAKV,KAAKqB,KAAKD,EAAQE,QAAQT,cAIlCtB,KAAKgC,YAELR,IAAGS,eAAeC,OAAQ,sBAAuB,SAASC,EAAUC,GAEnEA,EAAcC,IAAMb,GAAGc,KAAKC,cAAcH,EAAcC,KACvDG,OAAUhB,GAAGiB,gBACbC,YAAe,iBACfxC,WAAciB,EAAKjB,WACnBG,UAAcc,EAAKd,UAAY,IAAM,KAEtCc,GAAKZ,YAAc6B,EAAcC,KAGlCb,IAAGS,eAAeC,OAAQ,oBAAqBlC,KAAK2C,iBAAiB9B,KAAKb,OAG3EF,GAAiBoB,UAAU0B,OAAS,WAEnC,GAAIzB,GAAOnB,IACXA,MAAKS,OACLT,MAAKU,YAAc,MACnB,IAAIY,GAAYtB,KAAKoB,QAAQ,uBAC7B,IAAIE,EACJ,CACC,GAAIC,GAAWC,GAAGC,wBAAwBH,EAAW,iCACrD,IAAGE,GAAGE,KAAKC,QAAQJ,GACnB,CACCA,EAASK,QAAQ,SAASC,GAEzBV,EAAKV,KAAKqB,KAAKD,EAAQE,QAAQT,cAIlCtB,KAAKgC,aAGNlC,GAAiBoB,UAAUc,WAAa,WAEvC,GAAIb,GAAOnB,IACX,IAAIsB,GAAYtB,KAAKoB,QAAQ,uBAC7B,IAAIE,EACJ,CACC,GAAIC,GAAWC,GAAGqB,aAAavB,GAAYwB,UAAW,kCACtD,IAAGtB,GAAGE,KAAKC,QAAQJ,GACnB,CACCA,EAASK,QAAQ,SAASC,GAEzBL,GAAGX,KAAKgB,EAAS,QAASV,EAAKR,+BAKlC,GAAIoC,GAAkB/C,KAAKoB,QAAQ,oBACnC,IAAI2B,EACHvB,GAAGX,KAAKkC,EAAiB,QAAS5B,EAAK6B,uBAAuBnC,KAAKM,GAEpE,IAAI8B,GAAqBjD,KAAKoB,QAAQ,uBACtC,IAAI6B,EACHzB,GAAGX,KAAKoC,EAAoB,QAAS9B,EAAK6B,uBAAuBnC,KAAKM,GAEvE,IAAI+B,GAAsBlD,KAAKoB,QAAQ,wBACvC,IAAI8B,EACH1B,GAAGX,KAAKqC,EAAqB,QAAS/B,EAAK6B,uBAAuBnC,KAAKM,GAExE,IAAIgC,GAAkBnD,KAAKoB,QAAQ,oBACnC,IAAI+B,EACH3B,GAAGX,KAAKsC,EAAiB,QAAShC,EAAK6B,uBAAuBnC,KAAKM,GAEpE,IAAIiC,GAAmBpD,KAAKoB,QAAQ,qBACpC,IAAIgC,EACH5B,GAAGX,KAAKuC,EAAkB,QAASjC,EAAK6B,uBAAuBnC,KAAKM,GAErE,IAAIkC,GAAqBrD,KAAKoB,QAAQ,uBACtC,IAAIiC,EACH7B,GAAGX,KAAKwC,EAAoB,QAASlC,EAAK6B,uBAAuBnC,KAAKM,GAEvE,IAAImC,GAAUtD,KAAKoB,QAAQ,WAC3B,IAAIkC,EACH9B,GAAGX,KAAKyC,EAAS,QAASnC,EAAKoC,eAAe1C,KAAKM,GAEpD,IAAIqC,GAAaxD,KAAKoB,QAAQ,wBAAyBqC,SACvD,IAAID,EACJ,CACChC,GAAGX,KAAK2C,EAAY,QAAS,SAASE,GAErC,IAAIC,IAAIC,KACP,MAAO,MAER,IAAGD,IAAInC,GAAGqC,UAAYF,IAAInC,GAAGqC,SAASC,OACtC,CACCH,IAAInC,GAAGqC,SAASC,OAAOC,eAGxB,CACC,IAAIC,WAAYL,KAAInC,GAAGyC,oBAAoBC,QAC3C,CACC,GAAGP,IAAInC,GAAGyC,oBAAoBC,QAAQC,eAAeH,WAAaL,IAAInC,GAAGyC,oBAAoBC,QAAQF,UACrG,CACCL,IAAInC,GAAGyC,oBAAoBC,QAAQF,UAAUI,UAKhD,GAAGT,IAAInC,GAAG6C,eACTV,IAAInC,GAAG6C,eAAeC,cAAcC,SAErCZ,KAAIC,KAAKY,cAAcrD,EAAKjB,YAC3BC,UAAWgB,EAAKhB,UAChBC,eAAgBe,EAAKf,mBAKxB,GAAIqE,GAAmBzE,KAAKoB,QAAQ,cACpC,IAAIqD,EACJ,CACCjD,GAAGX,KAAK4D,EAAkB,QAAStD,EAAKuD,uBAAuB7D,KAAKM,IAGrE,GAAIwD,GAAUnD,GAAGoD,IAAIC,SAASC,QAAQC,QAAQ9D,SAC9C,IAAG0D,EACH,CACCnD,GAAGS,eAAe0C,EAAS,sBAAuB3E,KAAKgF,qBAAqBnE,KAAKb,OAElFwB,GAAGS,eAAeC,OAAQ,wBAAyBlC,KAAKiF,gBAAgBpE,KAAKb,OAG9EF,GAAiBoB,UAAUE,QAAU,SAAS8D,EAAMC,GAEnD,IAAKA,EACJA,EAAQnF,KAAKC,IAEd,OAAOkF,GAAQA,EAAMC,cAAc,eAAeF,EAAK,MAAQ,KAGhEpF,GAAiBoB,UAAUmE,aAAe,SAASH,EAAMC,GAExD,IAAKA,EACJA,EAAQnF,KAAKC,IAEd,IAAIA,GAAOkF,EAAQA,EAAMC,cAAc,eAAeF,EAAK,MAAQ,IACnE,OAAQjF,GAAOA,EAAKqF,MAAQ,GAG7BxF,GAAiBoB,UAAUqE,OAAS,SAASL,EAAMC,GAElD,IAAKA,EACJA,EAAQnF,KAAKC,IAEd,OAAOkF,GAAQA,EAAMC,cAAc,cAAcF,EAAK,MAAQ,KAG/DpF,GAAiBoB,UAAUsE,aAAe,SAASN,EAAMC,GAExD,IAAKA,EACJA,EAAQnF,KAAKC,IAEd,OAAOkF,GAAQA,EAAMC,cAAc,qBAAqBF,EAAK,MAAQ,KAItEpF,GAAiBoB,UAAUG,aAAe,SAASoE,GAElD,GAAItE,GAAOnB,IACXA,MAAKS,KAAKmB,QAAQ,SAAS8D,GAE1B,GAAGA,IAAQD,EACX,CACCjE,GAAGmE,YAAYxE,EAAKoE,OAAOG,GAAM,oCACjClE,IAAGoE,SAASzE,EAAKqE,aAAaE,GAAM,wCACpClE,IAAGmE,YAAYxE,EAAKqE,aAAaE,GAAM,+CAGxC,CACClE,GAAGoE,SAASzE,EAAKoE,OAAOG,GAAM,oCAC9BlE,IAAGmE,YAAYxE,EAAKqE,aAAaE,GAAM,wCACvClE,IAAGoE,SAASzE,EAAKqE,aAAaE,GAAM,6CAItC,IAAGD,IAAY,OACf,CACCzF,KAAK6F,iBAIP/F,GAAiBoB,UAAU2E,cAAgB,WAE1C,GAAI1E,GAAOnB,IACX,IAAI8F,GAAgB9F,KAAKoB,QAAQ,iBAEjC,IAAID,EAAKT,cAAgB,OACzB,CACCS,EAAKT,YAAc,SACnBS,GAAK4E,eAAe,SAASC,GAE5B7E,EAAKT,YAAc,QACnBoF,GAAcG,UAAYD,KAM7BlG,GAAiBoB,UAAU6E,eAAiB,SAASG,GAEpD,GAAIC,IACH3D,OAAUhB,GAAGiB,gBACbC,YAAe,iBACfxC,WAAcF,KAAKE,WACnBG,UAAcL,KAAKK,UAAY,IAAM,IAGtCmB,IAAG4E,MACFC,OAAQ,OACRC,SAAU,OACVjE,IAAKzC,EACL2G,KAAMJ,EACNK,UAAW,SAAUC,GAEpBP,EAAgBO,MAKnB3G,GAAiBoB,UAAUwF,cAAgB,WAE1C,GAAIvF,GAAOnB,IACX,IAAI2G,GAAU3G,KAAKqF,aAAa,oBAChC,IAAIuB,GAAc5G,KAAKqF,aAAa,wBAEpC,IAAIc,IACH3D,OAAUhB,GAAGiB,gBACbC,YAAe,SACfxC,WAAcF,KAAKE,WACnByG,QAAWA,EACXC,YAAeA,EAGhBpF,IAAG4E,MACFC,OAAQ,OACRC,SAAU,OACVjE,IAAKzC,EACL2G,KAAMJ,EACNK,UAAW,SAAUC,GAEpBtF,EAAKlB,KAAK4G,UAAYJ,CACtBtF,GAAKlB,KAAOuB,GAAG,qBACfL,GAAKyB,QACLzB,GAAKC,QAAQ,qBAAqBkE,MAAQqB,CAC1CxF,GAAKC,QAAQ,yBAAyBkE,MAAQsB,KAKjD9G,GAAiBoB,UAAUN,sBAAwB,SAAS8C,GAE3D,GAAI+B,GAAU/B,EAAEoD,OAAO/E,QAAQT,SAC/BtB,MAAKqB,aAAaoE,GAGnB3F,GAAiBoB,UAAUwD,uBAAyB,SAAShB,GAE5D,GAAIyC,IACH3D,OAAUhB,GAAGiB,gBACbC,YAAe,wBACfxC,WAAcF,KAAKE,WAGpBsB,IAAG4E,MACFC,OAAQ,OACRC,SAAU,OACVjE,IAAKzC,EACL2G,KAAMJ,EACNK,UAAW,SAAUO,GAEpB,GAAGA,EAASC,QACZ,CACC,GAAIT,GAAOQ,EAASE,IACpB,IAAIV,EAAKW,SACT,CACChF,OAAOiF,KAAKZ,EAAKW,eAOtBpH,GAAiBoB,UAAU8B,uBAAyB,SAASU,GAE5D,GAAI0D,GAAUpH,KAAKqH,0BACnB,IAAIC,GAAU5D,EAAEoD,OAAO/E,QAAQM,GAE/BrC,MAAKe,iBAAiBqG,IACrBA,QAASA,EACTlF,OAAQA,OAAOiF,KAAK3F,GAAGc,KAAKC,cAAc+E,GAAUC,kBAAmBH,EAASI,aAAcxH,KAAKE,eAIrGJ,GAAiBoB,UAAUqC,eAAiB,SAASG,GAEpD,GAAI0D,GAAUpH,KAAKqH,0BACnB,IAAIC,GAAU5D,EAAEoD,OAAO/E,QAAQM,GAE/BrC,MAAKe,iBAAiBqG,IACrBA,QAASA,EACTlF,OAAQA,OAAOiF,KAAK3F,GAAGc,KAAKC,cAAc+E,GAAUC,kBAAmBH,EAASI,aAAcxH,KAAKE,eAIrGJ,GAAiBoB,UAAUyB,iBAAmB,SAASwD,GAEtDA,EAAS3E,GAAGE,KAAK+F,cAActB,GAAUA,IACzCA,GAAOuB,IAAMvB,EAAOuB,KAAO,EAE3B,IAAIpC,GAAQa,EAAOb,SAEnB,IAAGa,EAAOuB,MAAQ,uBAAyB1H,KAAKe,iBAAiBuE,EAAM8B,SACvE,CACC,GAAIO,GAAO3H,KAAK4H,SAChB,IAAGD,EACH,CACC3H,KAAK6H,iBAGN,CACC7H,KAAK0G,gBAGN,GAAG1G,KAAKe,iBAAiBuE,EAAM8B,SAAS,UACvCpH,KAAKe,iBAAiBuE,EAAM8B,SAAS,UAAUhD,cAEzCpE,MAAKe,iBAAiBuE,EAAM8B,UAIrCtH,GAAiBoB,UAAU8D,qBAAuB,SAAS8C,GAE1D,IAAIA,EAAeC,KAAOD,EAAeC,KAAO,IAC/C,MAED,KAAI/H,KAAKQ,gBACR,MAED,IAAIwH,GAAQ,GAAIxG,IAAGyG,YAAY,6BAA8B,MAC5DC,SAAU,KACVC,QAAS,MACTC,YAAa,KACbC,UAAW,KACXC,WAAY,KACZC,aAAe,QACfC,SAAUhH,GAAGiH,QAAQ,2CACrBC,QAASlH,GAAGR,OAAO,QAAS2H,OAAQ7F,UAAW,uCAAwC8F,KAAMpH,GAAGiH,QAAQ,kDACxGI,SACC,GAAIrH,IAAGsH,mBACNF,KAAMpH,GAAGiH,QAAQ,wCACjBM,QACCC,MAAO,WAEN,GAAGlB,EAAemB,SAClB,CACCjB,EAAM5D,OACNlC,QAAOiF,KAAKW,EAAemB,gBAMhCF,QACCG,aAAc,WAEblB,EAAMzD,aAITyD,GAAMmB,OAGPrJ,GAAiBoB,UAAU+D,gBAAkB,WAE5CzD,GAAG4H,KAAKC,YAAY9E,QAAQvE,KAAKM,QAGlCR,GAAiBoB,UAAUoI,YAAc,SAASC,GAEjD,GAAIpI,GAAOnB,IACX,KAAIwB,GAAGE,KAAKC,QAAQ4H,GACnB,MAED,IAAIpD,IACH3D,OAAUhB,GAAGiB,gBACbC,YAAe,eACfxC,WAAcF,KAAKE,WACnBqJ,MAASA,EAGV/H,IAAG4E,MACFC,OAAQ,OACRC,SAAU,OACVjE,IAAKzC,EACL2G,KAAMJ,EACNK,UAAW,SAAUO,GAEpB,GAAGA,EAASC,QACZ,CACC7F,EAAK0G,iBAMT/H,GAAiBoB,UAAUsI,eAAiB,WAE3C,GAAI7B,GAAO3H,KAAK4H,SAChB,KAAID,EACH,MAAO,MAER,IAAI8B,GAAc9B,EAAK+B,UAAUC,gBACjC,KAAInI,GAAGE,KAAKC,QAAQ8H,GACnB,MAAO,MAERzJ,MAAKsJ,YAAYG,GAGlB3J,GAAiBoB,UAAU0G,QAAU,WAEpC,GAAIgC,EACJ,IAAGpI,IAAMA,GAAG4H,MAAQ5H,GAAG4H,KAAKC,YAC5B,CACCO,EAAapI,GAAG4H,KAAKC,YAAYQ,QAAQ7J,KAAKM,QAG/C,MAAOsJ,GAAaA,EAAWE,SAAW,KAG3ChK,GAAiBoB,UAAU2G,WAAa,WAEvC,GAAIxF,GAAMrC,KAAKO,aAAe,GAAKP,KAAKO,YAAcX,CACtD,IAAI+H,GAAO3H,KAAK4H,SAChB,KAAID,EACH,MAAO,MAERA,GAAKoC,OAAO1H,EACZ,OAAO,MAGRvC,GAAiBoB,UAAUmG,yBAA2B,WAErD,MAAOrH,MAAKgK,iBAAiB,IAG9BlK,GAAiBoB,UAAU8I,iBAAmB,SAAUC,GAEvDC,QAAU,gEACV,IAAIC,GAAe,EACnB,KAAK,GAAIC,GAAI,EAAGA,EAAIH,EAAKG,IAAK,CAC7B,GAAIC,GAAYC,KAAKC,MAAMD,KAAKE,SAAWN,QAAQO,OACnDN,IAAgBD,QAAQQ,UAAUL,EAAUA,EAAU,GAEvD,MAAOF,GAGRrK,GAAiBoB,UAAUqD,QAAU,WAEpC/C,GAAG4H,KAAKC,YAAY9E,QAAQjE,QAG7BkB,IAAG1B,iBAAmBA"}