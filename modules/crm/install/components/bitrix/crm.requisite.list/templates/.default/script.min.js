BX.namespace("BX.Crm");BX.Crm.RequisiteGridEditorClass=function(){var i=function(i){this.gridId=i.gridId;this.requisiteEntityTypeId=i.requisiteEntityTypeId;this.requisiteEntityId=i.requisiteEntityId;this.readOnlyMode=!!i.readOnlyMode;this.messages=i.messages||{};this.requisitePopupManager=null;this.requisiteAjaxUrl=i.requisiteAjaxUrl;this.requisitePopupAjaxUrl=i.requisitePopupAjaxUrl};i.prototype={getMessage:function(i){return this.messages[i]},onRequisiteEdit:function(i,e,t,s,r,u,p,a,n){if(BX.type.isNumber(p)&&p>=0||BX.type.isNotEmptyString(p))p=parseInt(p);else p=-1;r=BX.type.isNotEmptyString(r)?r:"";u=BX.type.isNotEmptyString(u)?u:"";a=!!a;n=!!n;if(!this.requisitePopupManager){this.requisitePopupManager=new BX.Crm.RequisitePopupFormManagerClass({editor:this,blockArea:null,requisiteEntityTypeId:i,requisiteEntityId:e,requisiteId:s,requisiteData:r,requisiteDataSign:u,presetId:t,requisiteAjaxUrl:this.requisiteAjaxUrl,requisitePopupAjaxUrl:this.requisitePopupAjaxUrl,popupDestroyCallback:BX.delegate(this.onRequisitePopupDestroy,this),afterRequisiteEditCallback:BX.delegate(this.onAfterRequisiteEdit,this),blockIndex:p,copyMode:a,readOnlyMode:n});this.requisitePopupManager.openPopup()}},onAfterRequisiteEdit:function(i,e,t){if(BX.type.isNotEmptyString(this.gridId)){var s=window["bxGrid_"+this.gridId];if(s)s.Reload()}},onRequisitePopupDestroy:function(){if(this.requisitePopupManager){this.requisitePopupManager.destroy();this.requisitePopupManager=null}}};return i}();
//# sourceMappingURL=script.map.js