(function(){"use strict";var t=BX.namespace("BX.Crm.Analytics.Report.ViewChart");var e=[];function n(t){this.init(t);e.push(this)}n.getList=function(){return e};n.clear=function(){e=[]};n.getPrevious=function(t){var n=null;for(var r=0;r<e.length;r++){if(r>0&&e[r]===t){n=e[r-1]}}return n};n.getFirst=function(){if(e.length===0){return null}var t=e.filter(function(t){return t.items.filter(function(t){return t.data.quantity>0}).length>0});return t.length>0?t[0]:e[0]};n.create=function(n){var r=e.filter(function(t){return t.stage.data.code===n.stage.data.code});if(r.length===0){return new t.Column(n)}return r[0]};n.prototype.init=function(t){this.stage=t.stage;this.items=[];this.height=0;this.multiplier=0};n.prototype.appendItem=function(t){this.items.push(t);t.setColumn(this)};n.prototype.getValue=function(){return this.items.reduce(function(t,e){return t+e.getValue()},0)};n.prototype.draw=function(){var t=this.getValue();if(!t){return}var e=n.getPrevious(this);var r=e?e.getValue():0;var i=e?e.multiplier||1:1;var u=i/3;var a=i/2;var o=r?t/r:1;o*=i;o=o>u?o:a;this.multiplier=o;this.items.forEach(function(e){var n=parseInt(o*e.getValue()*100/t);n=n||2;e.node.style.height=n+"%";e.draw()},0)};t.Column=n})();
//# sourceMappingURL=column.map.js