if(typeof BX.CrmInvoiceListSwitcher==="undefined"){BX.CrmInvoiceListSwitcher=function(){this._id="";this._settings={};this._items=null;this._container=null;this._selectorButton=null;this._menuId="";this._menu=null};BX.CrmInvoiceListSwitcher.prototype={initialize:function(t,e){this._id=t;this._settings=e?e:{};this._items=this.getSetting("items",[]);var i=this.getSetting("containerId","");this._container=BX.type.isNotEmptyString(i)?BX(i):null;if(!BX.type.isElementNode(this._container)){throw"BX.CrmInvoiceListSwitcher: Container is not found."}var n=this.getSetting("selectorButtonId","");this._selectorButton=BX.type.isNotEmptyString(n)?BX(n):null;if(this._selectorButton){BX.bind(this._selectorButton,"click",BX.delegate(this.onSelectorClick,this))}this._createUrl=this.getSetting("createUrl","");this._createLockScript=this.getSetting("createLockScript","");this._menuId=this._id},getId:function(){return this._id},getSetting:function(t,e){return this._settings.hasOwnProperty(t)?this._settings[t]:e},getMessage:function(t){var e=BX.CrmInvoiceListSwitcher.messages;return e.hasOwnProperty(t)?e[t]:t},onSelectorClick:function(t){this.openMenu()},onCreateButtonClick:function(t){this.createNewItem()},openMenu:function(){this.closeMenu();var t=[];for(var e=0,i=this._items.length;e<i;e++){var n=this._items[e];t.push({text:n["name"],href:n["url"]})}this._menu=BX.PopupMenu.create(this._menuId,this._selectorButton,t,{autoHide:true,closeByEsc:true});this._menu.popupWindow.show()},closeMenu:function(){if(this._menu){BX.PopupMenu.destroy(this._menuId);this._menu=null}}};if(typeof BX.CrmInvoiceListSwitcher.messages==="undefined"){BX.CrmInvoiceListSwitcher.messages={}}BX.CrmInvoiceListSwitcher.create=function(t,e){var i=new BX.CrmInvoiceListSwitcher;i.initialize(t,e);return i}}
//# sourceMappingURL=script.map.js