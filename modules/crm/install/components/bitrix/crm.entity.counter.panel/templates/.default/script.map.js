{"version":3,"sources":["script.js"],"names":["BX","CrmEntityCounterPanel","this","_id","_settings","_userId","_userName","_entityTypeId","_extras","_codes","_data","_totalInfo","_items","_counterManager","_container","_valueContainer","_stubContainer","prototype","initialize","id","settings","type","isNotEmptyString","util","getRandomString","prop","getInteger","getString","getObject","getArray","CrmEntityType","isDefined","Crm","EntityCounterManager","create","entityTypeId","codes","extras","serviceUrl","getSetting","isElementNode","itemContainers","querySelectorAll","i","l","length","container","code","getAttribute","data","push","CrmEntityCounterPanelItem","parent","addCustomEvent","delegate","onPullEvent","getId","name","defaultval","hasOwnProperty","processItemSelection","item","typeId","getTypeId","eventArgs","userId","toString","userName","counterTypeId","cancel","onCustomEvent","window","command","params","isChanged","message","indexOf","convert","toNumber","prepareTotalInfo","refreshLayout","total","getValue","caption","CrmMessageHelper","getCurrent","prepareEntityNumberDeclension","value","totalValue","style","display","self","_parent","_clickHandler","onClick","get","getElementNode","bind","v","valueWrapper","querySelector","innerHTML","e","PreventDefault"],"mappings":"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","file":""}