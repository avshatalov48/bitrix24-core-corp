(function(t,e,i){"use strict";function r(t,e){o(t,e);e.add(t)}function n(t,e,i){o(t,e);e.set(t,i)}function o(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function s(t,e,i){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return i}var a=e.Reflection.namespace("BX.Crm.Activity");var c=new WeakMap;var d=new WeakSet;var l=new WeakSet;var u=function(){function t(i){babelHelpers.classCallCheck(this,t);r(this,l);r(this,d);n(this,c,{writable:true,value:void 0});if(e.Type.isPlainObject(i)){var o=document.forms[i.formName];if(!e.Type.isNil(o)){this.productNode=o["product_id"]}if(i.productProperty&&e.Type.isPlainObject(i.productProperty.Settings)){this.productSettings=i.productProperty.Settings}}}babelHelpers.createClass(t,[{key:"init",value:function t(){if(this.productNode&&this.productSettings){e.Event.bind(this.productNode,"click",s(this,d,p).bind(this))}}}]);return t}();function p(){s(this,l,h).call(this).show()}function h(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,c)){babelHelpers.classPrivateFieldSet(this,c,new i.Dialog({context:"catalog-products",entities:[{id:"product",options:{iblockId:this.productSettings.iblockId,basePriceId:this.productSettings.basePriceId}}],targetNode:this.productNode,height:300,multiple:false,dropdownMode:true,enableSearch:true,events:{"Item:onBeforeSelect":function e(i){i.preventDefault();t.productNode.value=i.getData().item.getId()}}}))}return babelHelpers.classPrivateFieldGet(this,c)}a.CrmAddProductRowActivity=u})(this.window=this.window||{},BX,BX.UI.EntitySelector);
//# sourceMappingURL=script.map.js