{"version":3,"sources":["script.js"],"names":["exports","main_core","main_popup","bizproc_automation","namespace","Reflection","CrmUpdateDynamicActivity","options","_this","this","babelHelpers","classCallCheck","Type","isPlainObject","documentType","isRobot","form","document","forms","formName","isNil","entityTypeIdSelect","dynamic_type_id","currentEntityTypeId","value","entityTypeDependentElements","querySelectorAll","Document","rawDocumentType","documentFields","title","documentName","fieldsListSelect","querySelector","addConditionButton","entitiesFieldsContainers","conditinIdPrefix","fieldsMap","Map","Object","entries","filterFieldsContainer","filteringFieldsPrefix","filterFieldsMap","BX","Bizproc","Automation","API","conditionGroup","ConditionGroup","conditions","currentValues","Array","from","keys","forEach","entityTypeId","set","isObject","createClass","key","init","Event","bind","onEntityTypeIdChange","onFieldsListSelectClick","onAddConditionButtonClick","initAutomationContext","_this2","getGlobalContext","onOpenFilterFieldsMenu","event","dialog","Designer","getInstance","getRobotSettingsDialog","template","robot","onOpenMenu","error","setGlobalContext","Context","addBPFields","getData","selector","getSelectorProperties","_ref","properties","objectName","expressionPrefix","map","_ref2","_ref3","slicedToArray","id","property","Name","customData","field","Id","ObjectName","SystemExpression","concat","Expression","getGlobalSelectorProperties","_ref4","visibilityNames","_ref5","_ref6","Visibility","supertitle","addGroup","Loc","getMessage","children","window","arWorkflowParameters","arWorkflowVariables","arWorkflowConstants","arWorkflowGlobalVariables","wfGVarVisibilityNames","arWorkflowGlobalConstants","wfGConstVisibilityNames","Dom","clean","elem","remove","render","element","hide","show","renderFilterFields","renderEntityFields","ConditionGroupSelector","fields","values","get","fieldPrefix","appendChild","createNode","_this3","fieldId","addCondition","preventDefault","activity","menuItems","_ref7","_ref8","text","onclick","_","item","popupWindow","close","menuManagerOptions","Math","random","toString","bindElement","items","autoHide","offsetLeft","getPosition","width","angle","position","offset","zIndex","className","events","onPopupClose","destroy","MenuManager","defaultFieldId","addRobotCondition","addBizprocCondition","conditionId","titleNode","create","attrs","deleteButton","props","href","click","deleteCondition","fieldNode","renderField","getElementById","newConditionRow","insertRow","substr","entityFieldSelect","getCurrentFieldsOptions","change","fieldValueNode","newFieldId","srcElement","replaceChild","equalSignNode","entityFieldValueNode","deleteConditionButton","node","insertCell","selectedFieldId","_ref9","_ref10","FieldName","selected","undefined","FieldType","renderControl","Main"],"mappings":"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","file":"script.map.js"}