{"version":3,"sources":["script.js"],"names":["exports","main_core","main_popup","main_core_events","bizproc_automation","namespace","Reflection","CrmUpdateDynamicActivity","options","_this","this","babelHelpers","classCallCheck","Type","isPlainObject","documentType","isRobot","form","document","forms","formName","isNil","entityTypeIdSelect","dynamic_type_id","currentEntityTypeId","value","entityTypeDependentElements","querySelectorAll","Document","rawDocumentType","documentFields","title","documentName","fieldsListSelect","querySelector","addConditionButton","entitiesFieldsContainers","conditinIdPrefix","fieldsMap","Map","Object","entries","filterFieldsContainer","filteringFieldsPrefix","filterFieldsMap","BX","Bizproc","Automation","API","conditionGroup","ConditionGroup","conditions","currentValues","Array","from","keys","forEach","entityTypeId","set","isObject","render","createClass","key","init","Event","bind","onEntityTypeIdChange","onFieldsListSelectClick","onAddConditionButtonClick","initAutomationContext","getGlobalContext","error","setGlobalContext","Context","initSelectors","getSelectorProperties","_ref","properties","objectName","expressionPrefix","map","_ref2","_ref3","slicedToArray","id","property","Name","customData","field","Id","ObjectName","SystemExpression","concat","Expression","getGlobalSelectorProperties","_ref4","visibilityNames","_ref5","_ref6","Visibility","supertitle","EventEmitter","subscribe","event","selector","getData","addGroup","Loc","getMessage","children","window","arWorkflowParameters","arWorkflowVariables","arWorkflowConstants","arWorkflowGlobalVariables","wfGVarVisibilityNames","arWorkflowGlobalConstants","wfGConstVisibilityNames","Dom","clean","elem","remove","element","hide","show","renderFilterFields","renderEntityFields","ConditionGroupSelector","fields","values","get","fieldPrefix","appendChild","createNode","_this2","fieldId","addCondition","preventDefault","activity","menuItems","_ref7","_ref8","text","onclick","_","item","popupWindow","close","menuManagerOptions","Math","random","toString","bindElement","items","autoHide","offsetLeft","getPosition","width","angle","position","offset","zIndex","className","events","onPopupClose","destroy","MenuManager","defaultFieldId","addRobotCondition","addBizprocCondition","conditionId","titleNode","create","attrs","deleteButton","props","href","click","deleteCondition","fieldNode","renderField","getElementById","newConditionRow","insertRow","substr","entityFieldSelect","getCurrentFieldsOptions","change","fieldValueNode","newFieldId","srcElement","replaceChild","equalSignNode","entityFieldValueNode","deleteConditionButton","node","insertCell","selectedFieldId","_ref9","_ref10","FieldName","selected","undefined","FieldType","renderControl","Main"],"mappings":"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","file":"script.map.js"}