{"version":3,"sources":["script.js"],"names":["exports","main_core","main_popup","bizproc_automation","namespace","Reflection","CrmUpdateDynamicActivity","options","_this","this","babelHelpers","classCallCheck","Type","isPlainObject","documentType","isRobot","form","document","forms","formName","isNil","entityTypeIdSelect","dynamic_type_id","currentEntityTypeId","value","entityTypeDependentElements","querySelectorAll","Document","rawDocumentType","documentFields","fieldsMap","title","documentName","fieldsListSelect","querySelector","addConditionButton","entitiesFieldsContainers","conditinIdPrefix","Map","Object","entries","filterFieldsContainer","filteringFieldsPrefix","filterFieldsMap","conditionGroup","ConditionGroup","conditions","currentValues","Array","from","keys","forEach","entityTypeId","set","isObject","render","createClass","key","init","Event","bind","onEntityTypeIdChange","onFieldsListSelectClick","onAddConditionButtonClick","initAutomationContext","getGlobalContext","error","setGlobalContext","AutomationContext","Dom","clean","children","elem","remove","element","hide","show","renderFilterFields","renderEntityFields","selector","ConditionGroupSelector","fields","values","get","fieldPrefix","appendChild","createNode","_this2","fieldId","addCondition","event","preventDefault","activity","menuItems","map","_ref","_ref2","slicedToArray","field","text","Name","onclick","_","item","popupWindow","close","menuManagerOptions","id","Math","random","toString","bindElement","items","autoHide","offsetLeft","getPosition","width","angle","position","offset","zIndex","className","events","onPopupClose","destroy","MenuManager","defaultFieldId","addRobotCondition","addBizprocCondition","conditionId","titleNode","create","attrs","deleteButton","props","href","Loc","getMessage","click","deleteCondition","fieldNode","renderField","getElementById","newConditionRow","insertRow","substr","entityFieldSelect","getCurrentFieldsOptions","change","fieldValueNode","newFieldId","srcElement","replaceChild","equalSignNode","entityFieldValueNode","deleteConditionButton","node","insertCell","selectedFieldId","_ref3","_ref4","FieldName","selected","undefined","BX","Bizproc","FieldType","renderControl","window","Main"],"mappings":"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","file":"script.map.js"}