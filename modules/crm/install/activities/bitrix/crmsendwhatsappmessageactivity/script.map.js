{"version":3,"file":"script.map.js","names":["this","BX","Crm","exports","main_core","crm_template_editor","bizproc_automation","namespace","Reflection","_isRobot","babelHelpers","classPrivateFieldLooseKey","_documentType","_formName","_editorWrapper","_templates","_placeholders","_templateId","_dialogItems","_items","_onChangeTemplate","_setOnBeforeSaveSettingsCallback","_setCurrentTemplate","_addTemplate","_loadTemplate","_insertTemplateEditor","_fillDialogItems","_prepareFilledPlaceholders","_removeTemplateEditor","_onBeforeSaveRobotSettings","CrmSendWhatsAllMessageActivity","constructor","options","Object","defineProperty","value","_onBeforeSaveRobotSettings2","_removeTemplateEditor2","_prepareFilledPlaceholders2","_fillDialogItems2","_insertTemplateEditor2","_loadTemplate2","_addTemplate2","_setCurrentTemplate2","_setOnBeforeSaveSettingsCallback2","_onChangeTemplate2","writable","Map","classPrivateFieldLooseBase","Type","isBoolean","isRobot","isArrayFilled","documentType","Error","isElementNode","editorWrapper","isStringFilled","formName","form","document","forms","template_id","Event","bind","isPlainObject","currentTemplate","Text","toInteger","currentTemplateId","currentPlaceholders","event","target","selectedOptions","templateId","item","has","then","data","catch","response","console","error","errors","designer","Designer","getInstance","dialog","getRobotSettingsDialog","robot","setOnBeforeSaveRobotSettings","template","placeholders","templatePlaceholders","get","entries","forEach","key","hasOwn","set","parentTitle","title","content","isString","encode","replaceAll","ajax","runAction","activity","params","form_name","_babelHelpers$classPr","Dom","addClass","removeClass","parentElement","editor","Editor","onSelect","id","dialogOptions","items","entities","usePlaceholderProvider","canUseFieldsDialog","canUseFieldValueInput","setPlaceholders","setFilledPlaceholders","setBody","context","tryGetGlobalContext","component","triggerManager","robotsWithReturnFields","getRobotsWithReturnFields","manager","SelectorItemsManager","documentFields","enrichFieldsWithModifiers","getFields","documentTitle","globalVariables","automationGlobals","variables","getVariables","globalConstants","constants","getConstants","activityResultFields","map","getId","getTitle","fields","getReturnFieldsDescription","friendly","printable","server","responsible","shortLink","triggerResultFields","getReturnProperties","getStatusId","useModifier","groupsWithChildren","field","supertitle","push","PLACEHOLDER_ID","FIELD_NAME","FIELD_ENTITY_TYPE","TITLE","PARENT_TITLE","_babelHelpers$classPr2","clean","Activity","Template","Bizproc","Automation"],"sources":["script.js"],"mappings":"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"}