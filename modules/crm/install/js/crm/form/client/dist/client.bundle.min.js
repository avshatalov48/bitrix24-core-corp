this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,t){"use strict";function n(e){var n=e.action.replace("crm.api.form.","");var r=t.Type.isPlainObject(e.data)?e.data:{};return new Promise((function(e,i){t.ajax.runAction("crm.api.form.".concat(n),{json:r}).then((function(t){e(t.data)}))["catch"]((function(e){i(e.errors)}))}))}var r=Symbol("instance");var i=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"cache",new t.Cache.MemoryCache)}babelHelpers.createClass(e,[{key:"getOptions",value:function e(t){return this.cache.remember("formOptions#".concat(t),(function(){return n({action:"get",data:{id:t}})}))}},{key:"getDictionary",value:function e(){return this.cache.remember("formDictionary",(function(){return n({action:"getDict"})}))}},{key:"prepareOptions",value:function e(t,r){return n({action:"prepare",data:{options:t,preparing:r}})}},{key:"saveOptions",value:function e(t){return n({action:"save",data:{options:t}})}},{key:"checkFields",value:function e(t){return n({action:"check",data:{options:t}})}},{key:"resetCache",value:function e(n){var r=this;if(t.Type.isNumber(n)||t.Type.isStringFilled(n)){this.cache["delete"]("formOptions#".concat(n))}else{this.cache.keys().filter((function(e){return e.startsWith("formOptions#")})).forEach((function(e){r.cache["delete"](e)}))}}},{key:"check",value:function e(t){return n({action:"check",data:{options:t}})}}],[{key:"getInstance",value:function t(){if(!e[r]){e[r]=new e}return e[r]}}]);return e}();e.FormClient=i})(this.BX.Crm.Form=this.BX.Crm.Form||{},BX);
//# sourceMappingURL=client.bundle.map.js