this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,t,s,r,o,a,i,n,l,d,c,b,p){"use strict";var u=babelHelpers.classPrivateFieldLooseKey("data");var m=babelHelpers.classPrivateFieldLooseKey("getDefaultValues");class v{constructor(){Object.defineProperty(this,m,{value:g});Object.defineProperty(this,u,{writable:true,value:{loaded:false,data:{},errors:{}}})}updateValues(e,t){if(e==="click"){var s;if(t.button.plain==="1"&&p.Type.isStringFilled(t==null?void 0:(s=t.link)==null?void 0:s.align)){t.button.align=t.link.align}delete t.link}this.data.embed.viewValues[e]=t}getValues(e){var t;const s=this.data.embed.viewValues[e];if(e==="click"&&p.Type.isStringFilled(s==null?void 0:(t=s.button)==null?void 0:t.align)){var r;s.link={align:s==null?void 0:(r=s.button)==null?void 0:r.align}}return BX.mergeEx(babelHelpers.classPrivateFieldLooseBase(this,m)[m](e),s)}getOptions(e){return this.data.embed.viewOptions[e]}getDict(){var e,t;const s=this.data.dict;s.viewOptions.link={aligns:s==null?void 0:(e=s.viewOptions)==null?void 0:(t=e.button)==null?void 0:t.aligns};return s}get data(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u].data}set data(e){babelHelpers.classPrivateFieldLooseBase(this,u)[u].data=e}get errors(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u].errors}set errors(e){babelHelpers.classPrivateFieldLooseBase(this,u)[u].errors=e}get loaded(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u].loaded||false}set loaded(e){babelHelpers.classPrivateFieldLooseBase(this,u)[u].loaded=e}}function g(e){const t={inline:{},auto:{},click:{button:{use:"0",text:BX.Loc.getMessage("EMBED_SLIDER_OPTION_BUTTONSTYLE_LABEL"),font:"modern",align:"center",plain:"0",rounded:"0",outlined:"0",decoration:"",color:{text:"#ffffffff",textHover:"#ffffffff",background:"#3eddffff",backgroundHover:"#3eddffa6"}}}};return!p.Type.isUndefined(t[e])?t[e]:{}}let h=e=>e,L,f,_,E,B,C,P,D,H,T,y;const I=13003062;const F="https://helpdesk.bitrix24.ru/open/"+I;var k=babelHelpers.classPrivateFieldLooseKey("loader");class M{constructor(){Object.defineProperty(this,k,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,k)[k]=new BX.Loader}get loader(){return babelHelpers.classPrivateFieldLooseBase(this,k)[k]}renderBubble(e,t=false){return p.Tag.render(L||(L=h`
			<div class="crm-form-embed__customization-info">
				<div class="crm-form-embed__customization-info--avatar">
					<img src="/bitrix/js/crm/images/crm-form-info-avatar.svg" alt="avatar">
				</div>
				<div class="crm-form-embed__customization-info--text ${0}">${0}</div>
			</div>
		`),t?"--without-frame":"",e)}renderCopySection(e=null,t=null,s=null,r=null,o=null){const a=this.renderSection();if(!p.Type.isNull(e)){p.Dom.append(p.Tag.render(f||(f=h`
					<div class="crm-form-embed__title-block">
						<div class="ui-slider-heading-4 --no-border-bottom">${0}</div>
					</div>
			`),p.Text.encode(e)),a)}const i=p.Tag.render(_||(_=h`<div class="crm-form-embed__copy-block"></div>`));if(p.Type.isDomNode(r)){p.Dom.append(r,i)}if(!p.Type.isNull(t)&&!p.Type.isNull(s)){p.Dom.append(p.Tag.render(E||(E=h`
				<div class="crm-form-embed__btn-box --center">
					<button
						class="crm-form-embed-btn-copy-publink ui-btn ui-btn-lg ui-btn-primary ui-btn-round ${0}">
							${0}
					</button>
				</div>
			`),o?o:"",p.Text.encode(t)),i);top.BX.clipboard.bindCopyClick(i.querySelector(".crm-form-embed-btn-copy-publink"),{text:s,popup:{offsetLeft:60}})}p.Dom.append(i,a);return a}renderPreviewSection(e,t,s,r){const o=p.Tag.render(B||(B=h`<div class="crm-form-embed__qr-block--qr"></div>`));new QRCode(o,{text:r,width:147,height:147});const a=this.renderSection();p.Dom.addClass(a,"--crm-qr-bg");p.Dom.append(p.Tag.render(C||(C=h`
				<div class="crm-form-embed__qr-block">
					<div class="crm-form-embed__qr-block--info">
						<div class="crm-form-embed__qr-block--info-name">${0}</div>
						<div class="crm-form-embed__qr-block--info-text">
							<div class="ui-icon ui-icon-service-light-messenger ui-icon-md" style="float: left; margin-right: 10px;"><i></i></div>
							${0}
						</div>
						<button
							class="ui-btn ui-btn-light-border ui-btn-round crm-form-embed__qr-block--btn"
							onclick="window.open('${0}');">
								${0}
						</button>
					</div>
					<div class="crm-form-embed__qr-block">
						${0}
					</div>
				</div>
			`),p.Text.encode(e),p.Text.encode(t),p.Text.encode(r),p.Text.encode(s),o),a);return a}renderHeaderSection(e,t,s,r,o){const a=this.renderSection(null,true,true);p.Dom.append(p.Tag.render(P||(P=h`
			<span class="ui-icon ui-slider-icon ui-icon-service-${0}">
				<i></i>
			</span>
		`),p.Text.encode(e)),a);p.Dom.append(p.Tag.render(D||(D=h`
			<div class="ui-slider-content-box">
				<div class="ui-slider-heading-2">${0}</div>
				<div class="ui-slider-inner-box">
					<p class="ui-slider-paragraph-2 crm-form-embed-header-section">${0}</p>
					${0}
				</div>
			</div>
		`),p.Text.encode(t),p.Text.encode(s),this.renderHelp(r,o)),a);return a}renderStepperSection(e){const t=this.renderSection();const r=new s.StepByStep({target:t,content:e});r.init();return t}renderSection(e,t=true,s=false){const r=p.Tag.render(H||(H=h`
			<div 
				class="
					ui-slider-section
					${0}
					${0}
				"
			></div>
		`),t?"--rounding":"",s?"ui-slider-section-icon --icon-sm":"");if(p.Type.isDomNode(e)){p.Dom.append(e,r)}return r}renderContainer(e){const t=p.Tag.render(T||(T=h`<div class="crm-form-embed__wrapper crm-form-embed__scope"></div>`));if(p.Type.isDomNode(e)){p.Dom.append(e,t)}return t}renderHelp(e,t,s=BX.Loc.getMessage("EMBED_SLIDER_MORE_INFO")){const r=function(e){if(top.BX.Helper){top.BX.Helper.show("redirect=detail&code="+this.dataset.helpId);e.preventDefault()}return false};return p.Tag.render(y||(y=h`
			<a
				data-help-id="${0}"
				onclick="${0}"
				href="${0}"
				class="ui-slider-link" target="_blank"
			>
				${0}
			</a>
		`),p.Text.encode(e),r,p.Text.encode(t),p.Text.encode(s))}}const S=1;const w=3;const O=4;const N=6;function R(){const e=window.getSelection().toString();if(e===""){this.parentElement.querySelector(".crm-form-embed-widgets-control > .ui-switcher").click()}}function x(e){const t=e.currentTarget.closest(".ui-slider-section");const s=t.querySelector('[data-roll="data-show-code"]');const r=t.querySelector('[data-roll="crm-form-embed__code"]');if(p.Dom.style(r,"height")==="0px"){p.Dom.addClass(s,"--up");p.Dom.addClass(r,"--open");p.Dom.style(r,"height",p.Text.encode(r.scrollHeight)+"px")}else{p.Dom.removeClass(s,"--up");p.Dom.removeClass(r,"--open");p.Dom.style(r,"height",p.Text.encode(r.scrollHeight)+"px");p.Dom.style(r,"height","0")}p.Event.unbind(r,"transitionend",X);p.Event.bind(r,"transitionend",X)}function X(e){const t=e.currentTarget.closest(".ui-slider-section");const s=t.querySelector('[data-roll="crm-form-embed__code"]');if(p.Dom.style(s,"height")!=="0px"){p.Dom.style(s,"height","auto")}}let $=e=>e,A,V,K,U,j;var q=babelHelpers.classPrivateFieldLooseKey("formId");var Z=babelHelpers.classPrivateFieldLooseKey("options");var W=babelHelpers.classPrivateFieldLooseKey("loaded");var G=babelHelpers.classPrivateFieldLooseKey("data");var z=babelHelpers.classPrivateFieldLooseKey("errors");var Y=babelHelpers.classPrivateFieldLooseKey("container");var Q=babelHelpers.classPrivateFieldLooseKey("renderWidgetRow");var J=babelHelpers.classPrivateFieldLooseKey("getFormTypeMessage");var ee=babelHelpers.classPrivateFieldLooseKey("handleSwitcher");var te=babelHelpers.classPrivateFieldLooseKey("updateRelatedForms");var se=babelHelpers.classPrivateFieldLooseKey("setRelatedForms");var re=babelHelpers.classPrivateFieldLooseKey("clearRelatedForms");class oe extends M{constructor(e,t={}){super();Object.defineProperty(this,q,{writable:true,value:void 0});Object.defineProperty(this,Z,{writable:true,value:void 0});Object.defineProperty(this,W,{writable:true,value:false});Object.defineProperty(this,G,{writable:true,value:void 0});Object.defineProperty(this,z,{writable:true,value:void 0});Object.defineProperty(this,Y,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,q)[q]=e;babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]=t;oe.prototype.actionGet="crm.form.getWidgetsForEmbed";babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]=this.renderContainer()}get formId(){return babelHelpers.classPrivateFieldLooseBase(this,q)[q]}load(){if(babelHelpers.classPrivateFieldLooseBase(this,W)[W]){return Promise.resolve()}return BX.ajax.runAction(this.actionGet,{json:{formId:babelHelpers.classPrivateFieldLooseBase(this,q)[q],count:babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].widgetsCount}}).then((e=>{babelHelpers.classPrivateFieldLooseBase(this,G)[G]=e.data;babelHelpers.classPrivateFieldLooseBase(this,W)[W]=true;this.render()})).catch((e=>{babelHelpers.classPrivateFieldLooseBase(this,G)[G]=e.data;babelHelpers.classPrivateFieldLooseBase(this,z)[z]=e.errors;babelHelpers.classPrivateFieldLooseBase(this,W)[W]=false;this.renderError(e.data)}))}render(){babelHelpers.classPrivateFieldLooseBase(this,Y)[Y].innerHTML="";const e=this.renderHeader(I,F);p.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]);if(!babelHelpers.classPrivateFieldLooseBase(this,W)[W]){this.loader.show(babelHelpers.classPrivateFieldLooseBase(this,Y)[Y])}else{p.Dom.replace(e,this.renderHeader(babelHelpers.classPrivateFieldLooseBase(this,G)[G].helpCenterId,babelHelpers.classPrivateFieldLooseBase(this,G)[G].helpCenterUrl));this.renderPreview(babelHelpers.classPrivateFieldLooseBase(this,Y)[Y],babelHelpers.classPrivateFieldLooseBase(this,G)[G]);p.Dom.append(this.renderWidgets(babelHelpers.classPrivateFieldLooseBase(this,G)[G]),babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]);this.renderFinalBlock(babelHelpers.classPrivateFieldLooseBase(this,Y)[Y])}return babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]}renderTo(e){if(!p.Type.isDomNode(e)){throw new Error("Parameter `node` not an element.")}p.Dom.append(this.render(),e)}renderError(e){babelHelpers.classPrivateFieldLooseBase(this,Y)[Y].innerHTML="";let t=BX.Loc.getMessage("EMBED_SLIDER_GENERAL_ERROR");if(p.Type.isObject(e)&&p.Type.isObject(e.error)&&e.error.status==="access denied"){if(e.error.code===S){t=BX.Loc.getMessage("EMBED_SLIDER_FORM_ACCESS_DENIED")}if(e.error.code===w){t=BX.Loc.getMessage("EMBED_SLIDER_WIDGET_ACCESS_DENIED")}}p.Dom.append(p.Tag.render(A||(A=$`
			<div class="ui-alert ui-alert-warning">
				<span class="ui-alert-message">${0}</span>
			</div>
		`),t),babelHelpers.classPrivateFieldLooseBase(this,Y)[Y])}renderPreview(e,t){if(!p.Type.isNull(t.previewLink)){p.Dom.append(this.renderPreviewSection(BX.Loc.getMessage("EMBED_SLIDER_QR_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_QR_DESC"),BX.Loc.getMessage("EMBED_SLIDER_OPEN_IN_NEW_TAB"),t.previewLink),e)}}renderFinalBlock(e){p.Dom.append(this.renderCopySection(null,null,null,this.renderBubble(BX.Loc.getMessage("EMBED_SLIDER_WIDGET_COPY_BUBBLE"),true)),e)}renderHeader(e,t){return this.renderHeaderSection("message-widget",BX.Loc.getMessage("EMBED_SLIDER_WIDGET_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_WIDGET_DESC"),e,t)}renderWidgets(e){const t=this.renderSection();p.Dom.append(p.Tag.render(V||(V=$`
			<div class="crm-form-embed__title-block">
				<div class="ui-slider-heading-4">${0}</div>
			</div>
		`),BX.Loc.getMessage("EMBED_SLIDER_WIDGET_SETTINGS_TITLE")),t);const s=Object.keys(e.widgets);const r=s.length===0?this.renderEmptyInner():this.renderWidgetRows(e.widgets,e.formName,e.formType);p.Dom.append(p.Tag.render(K||(K=$`
				<div class="crm-form-embed__customization-settings">
					${0}

					<button
						class="ui-btn ui-btn-sm ui-btn-light-border ui-btn-round ui-btn-no-caps ui-btn-icon-add crm-form-embed__customization-settings--btn crm-form-embed__customization-settings--btn-add"
						onclick="window.open('/crm/button/edit/0/')"
					>
						${0}
					</button>

					<a
						class="ui-btn ui-btn-sm ui-btn-light-border ui-btn-round ui-btn-no-caps crm-form-embed__customization-settings--btn"
						href="${0}"
						style="float: right"
					>
						${0}
					</a>
				</div>
			`),r,BX.Loc.getMessage("EMBED_SLIDER_WIDGET_SETTINGS_BUTTON"),p.Text.encode(e.url.allWidgets),BX.Loc.getMessage("EMBED_SLIDER_WIDGET_FORM_ALL_WIDGETS")),t);return t}renderEmptyInner(){return BX.Loc.getMessage("EMBED_SLIDER_WIDGET_EMPTY")}renderWidgetRows(e,t,s){const r=p.Tag.render(U||(U=$`<div class="crm-form-embed-widgets" data-form-name="${0}" data-form-type="${0}"></div>`),p.Text.encode(t),p.Text.encode(s));const o=oe.getOrderedWidgetIds(e);o.forEach((t=>{const o=e[t];r.append(babelHelpers.classPrivateFieldLooseBase(oe,Q)[Q](o,babelHelpers.classPrivateFieldLooseBase(this,q)[q],s))}));return r}static getOrderedWidgetIds(e){const t=Object.keys(e);t.sort(((t,s)=>{const r=e[t];const o=e[s];switch(true){case r.checked&&o.checked||!r.checked&&!o.checked:return 0;case r.checked&&!o.checked:return-1;case!r.checked&&o.checked:return 1}}));return t}static createSwitcher(e,t){const s=document.createElement("span");s.className="ui-switcher";return new top.BX.UI.Switcher({node:s,checked:e,inputName:t})}}function ae(e,t,s){const r=oe.createSwitcher(e.checked,"crm-form-embed-widget-input-"+e.id);r.handlers={toggled:babelHelpers.classPrivateFieldLooseBase(oe,ee)[ee].bind(r,t,e.id)};const o=Object.values(e.relatedFormNames);const a=babelHelpers.classPrivateFieldLooseBase(oe,J)[J](s);const i=p.Type.isArray(o)&&o.length>0?o.join(", "):"";const n=i.length>0?a+": "+i:"";const l=p.Tag.render(j||(j=$`
			<div class="crm-form-embed__customization-settings--row crm-form-embed-widgets-block">
				<div class="crm-form-embed__customization-settings--switcher crm-form-embed-widgets-control"></div>
				<div class="crm-form-embed__customization-settings--row-label" onclick="${0}">
					${0}
				</div>
				<div
					class="crm-form-embed-widgets-detail crm-form-embed__customization-settings--row-label-secondary"
					title="${0}"
					data-form-name="${0}"
					data-form-type="${0}"
				>
					${0}
				</div>
			</div>
		`),R,p.Text.encode(e.name),p.Text.encode(n),p.Text.encode(i),p.Text.encode(a),p.Text.encode(n));l.querySelector(".crm-form-embed-widgets-control").append(r.getNode());return l}function ie(e){const t="EMBED_SLIDER_WIDGET_FORM_TYPE_MESSAGE_"+e.toUpperCase();return BX.Loc.hasMessage(t)?BX.Loc.getMessage(t):e}function ne(e,t){this.setLoading(true);const s=this.getNode().closest(".crm-form-embed-widgets-block").querySelector(".crm-form-embed-widgets-detail").dataset;const r=s.formName;const o=s.formType;const a=this.getNode().closest(".crm-form-embed-widgets").dataset;const i=a.formName;const n=a.formType;babelHelpers.classPrivateFieldLooseBase(oe,te)[te](this.isChecked(),i,n,this);return BX.ajax.runAction("crm.form.assignWidgetToForm",{json:{formId:e,buttonId:t,assigned:this.isChecked()?"Y":"N"}}).then((e=>{this.setLoading(false);this.check(e.data.assigned,false);babelHelpers.classPrivateFieldLooseBase(oe,te)[te](this.isChecked(),e.data.formName,e.data.formType,this);top.BX.UI.Notification.Center.notify({content:BX.Loc.getMessage("EMBED_SLIDER_OPENLINES_FORM_ALERT_SETTINGS_SAVED")})})).catch((e=>{this.setLoading(false);this.check(!this.isChecked(),false);babelHelpers.classPrivateFieldLooseBase(oe,te)[te](r.length>0,r,o,this);let t="EMBED_SLIDER_WIDGET_FORM_ALERT_ERROR";if(!p.Type.isUndefined(e.data.error)&&!p.Type.isUndefined(e.data.error.status)&&e.data.error.status==="access denied"){t=e.data.error.code===O?"EMBED_SLIDER_WIDGET_FORM_ALERT_ERROR_ACCESS_DENIED_WIDGET":"EMBED_SLIDER_WIDGET_FORM_ALERT_ERROR_ACCESS_DENIED_FORM"}top.BX.UI.Notification.Center.notify({content:BX.Loc.getMessage(t)})}))}function le(e,t,s,r){if(e){babelHelpers.classPrivateFieldLooseBase(oe,se)[se](r,t,s)}else{babelHelpers.classPrivateFieldLooseBase(oe,re)[re](r)}}function de(e,t,s){const r=babelHelpers.classPrivateFieldLooseBase(oe,J)[J](s);const o=e.getNode().closest(".crm-form-embed-widgets-block").querySelector(".crm-form-embed-widgets-detail");o.textContent=r+": "+t;o.setAttribute("data-form-name",t);o.setAttribute("data-form-type",r)}function ce(e){const t=e.getNode().closest(".crm-form-embed-widgets-block").querySelector(".crm-form-embed-widgets-detail");t.textContent="";t.setAttribute("data-form-name","");t.setAttribute("data-form-type","")}Object.defineProperty(oe,re,{value:ce});Object.defineProperty(oe,se,{value:de});Object.defineProperty(oe,te,{value:le});Object.defineProperty(oe,ee,{value:ne});Object.defineProperty(oe,J,{value:ie});Object.defineProperty(oe,Q,{value:ae});let be=e=>e,pe,ue,me,ve,ge;var he=babelHelpers.classPrivateFieldLooseKey("renderLineRow");var Le=babelHelpers.classPrivateFieldLooseKey("handleSwitcher");var fe=babelHelpers.classPrivateFieldLooseKey("updateRelatedOpenlineForms");class _e extends oe{constructor(e,t={}){super(e,t);_e.prototype.actionGet="crm.form.getOpenlinesForEmbed"}renderHeader(e,t){return this.renderHeaderSection("message-widget",BX.Loc.getMessage("EMBED_SLIDER_OL_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_OL_DESC"),e,t)}renderPreview(e,t){if(!p.Type.isNull(t.previewLink)){p.Dom.append(this.renderPreviewSection(BX.Loc.getMessage("EMBED_SLIDER_QR_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_QR_DESC"),BX.Loc.getMessage("EMBED_SLIDER_OPEN_IN_NEW_TAB"),t.previewLink),e)}}renderFinalBlock(e){}renderWidgets(e){const t=this.renderSection();p.Dom.append(p.Tag.render(pe||(pe=be`
			<div class="crm-form-embed__title-block">
				<div class="ui-slider-heading-4">${0}</div>
			</div>
		`),BX.Loc.getMessage("EMBED_SLIDER_OL_SETTINGS_TITLE")),t);const s=Object.keys(e.lines);const r=s.length===0?this.renderEmptyInner():this.renderLineRows(e.lines,e.formName);p.Dom.append(p.Tag.render(ue||(ue=be`
			<div class="crm-form-embed__customization-settings"> <!-- --without-btn -->
				${0}
				
				<a
					class="ui-btn ui-btn-sm ui-btn-light-border ui-btn-round ui-btn-no-caps crm-form-embed__customization-settings--btn"
					href="${0}"
					style="float: right;"
				>
					${0}
				</a>
				<div style="clear: both"></div>
			</div>
		`),r,p.Text.encode(e.url.allLines),BX.Loc.getMessage("EMBED_SLIDER_OPENLINES_FORM_ALL_LINES")),t);return t}renderEmptyInner(){return BX.Loc.getMessage("EMBED_SLIDER_OPENLINES_EMPTY")}renderAccessDeniedAlert(){return p.Tag.render(me||(me=be`
			<div class="ui-alert ui-alert-warning">
				<span class="ui-alert-message">${0}</span>
			</div>
		`),BX.Loc.getMessage("EMBED_SLIDER_OPENLINES_ACCESS_DENIED"))}renderLineRows(e,t){const s=p.Tag.render(ve||(ve=be`<div class="crm-form-embed-widgets" data-form-name="${0}"></div>`),p.Text.encode(t));const r=_e.getOrderedWidgetIds(e);r.forEach((t=>{const r=e[t];const o=r.formEnabled&&r.checked;const a=r.formEnabled?r.formName:"";s.append(babelHelpers.classPrivateFieldLooseBase(_e,he)[he](r.id,r.name,a,o,this.formId))}));return s}}function Ee(e,t,s,r,o){const a=_e.createSwitcher(r,"crm-form-embed-line-input-"+e);a.handlers={toggled:babelHelpers.classPrivateFieldLooseBase(_e,Le)[Le].bind(a,o,e)};const i=p.Tag.render(ge||(ge=be`
			<div class="crm-form-embed__customization-settings--row crm-form-embed-widgets-block">
				<div class="crm-form-embed__customization-settings--switcher crm-form-embed-widgets-control"></div>
				<div class="crm-form-embed__customization-settings--row-label" onclick="${0}">
					${0}
				</div>
				<div
					class="crm-form-embed-widgets-detail crm-form-embed__customization-settings--row-label-secondary"
					title="${0}"
					data-form-name="${0}"
				>
					${0}
				</div>
			</div>
		`),R,p.Text.encode(t),p.Text.encode(s),p.Text.encode(s),p.Text.encode(s));i.querySelector(".crm-form-embed-widgets-control").append(a.getNode());return i}function Be(e,t){this.setLoading(true);const s=this.getNode().closest(".crm-form-embed-widgets-block").querySelector(".crm-form-embed-widgets-detail").dataset.formName;const r=this.getNode().closest(".crm-form-embed-widgets").dataset.formName;babelHelpers.classPrivateFieldLooseBase(_e,fe)[fe](this.isChecked()?r:"",this);return BX.ajax.runAction("crm.form.assignOpenlinesToForm",{json:{formId:e,lineId:t,assigned:this.isChecked()?"Y":"N"}}).then((e=>{this.setLoading(false);this.check(e.data.assigned,false);babelHelpers.classPrivateFieldLooseBase(_e,fe)[fe](this.isChecked()?e.data.formName:"",this);top.BX.UI.Notification.Center.notify({content:BX.Loc.getMessage("EMBED_SLIDER_OPENLINES_FORM_ALERT_SETTINGS_SAVED")})})).catch((e=>{this.setLoading(false);this.check(!this.isChecked(),false);babelHelpers.classPrivateFieldLooseBase(_e,fe)[fe](s.length>0?s:"",this);let t="EMBED_SLIDER_OPENLINES_FORM_ALERT_ERROR";if(!p.Type.isUndefined(e.data.error)&&!p.Type.isUndefined(e.data.error.status)&&e.data.error.status==="access denied"){t=e.data.error.code===N?"EMBED_SLIDER_WIDGET_FORM_ALERT_ERROR_ACCESS_DENIED":"EMBED_SLIDER_WIDGET_FORM_ALERT_ERROR_ACCESS_DENIED_FORM"}top.BX.UI.Notification.Center.notify({content:BX.Loc.getMessage(t)})}))}function Ce(e,t){const s=t.getNode().closest(".crm-form-embed-widgets-block").querySelector(".crm-form-embed-widgets-detail");s.textContent=e;s.setAttribute("data-form-name",e)}Object.defineProperty(_e,fe,{value:Ce});Object.defineProperty(_e,Le,{value:Be});Object.defineProperty(_e,he,{value:Ee});let Pe=e=>e,De,He,Te,ye,Ie,Fe;var ke=babelHelpers.classPrivateFieldLooseKey("formId");var Me=babelHelpers.classPrivateFieldLooseKey("dataProvider");class Se extends M{constructor(e,t){super();Object.defineProperty(this,ke,{writable:true,value:void 0});Object.defineProperty(this,Me,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]=e;babelHelpers.classPrivateFieldLooseBase(this,Me)[Me]=t}get dataProvider(){return babelHelpers.classPrivateFieldLooseBase(this,Me)[Me]}get loaded(){return this.dataProvider.loaded}get data(){return this.dataProvider.data}set data(e){this.dataProvider.data=e}get formId(){return babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]}load(e=false){if(!e&&this.dataProvider.loaded){return Promise.resolve()}if(p.Type.isObject(this.dataProvider.errors)&&Object.keys(this.dataProvider.errors).length>0){return Promise.reject()}return new Promise(((e,t)=>{BX.ajax.runAction("crm.form.getEmbed",{json:{formId:babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]}}).then((t=>{this.dataProvider.data=t.data;this.dataProvider.loaded=true;e(t)})).catch((e=>{this.dataProvider.data=e.data;this.dataProvider.errors=e.errors;this.dataProvider.loaded=false;t(e)}))}))}save(){return new Promise(((e,t)=>BX.ajax.runAction("crm.form.saveEmbed",{json:{formId:this.formId,data:this.dataProvider.data.embed.viewValues}}).then((t=>{top.BX.UI.Notification.Center.notify({content:BX.Loc.getMessage("EMBED_SLIDER_OPENLINES_FORM_ALERT_SETTINGS_SAVED")});e(t)})).catch((e=>{let s="EMBED_SLIDER_FORM_SETTINGS_ALERT_ERROR";if(!p.Type.isUndefined(e.data.error.status)&&e.data.error.status==="access denied"){s="EMBED_SLIDER_WIDGET_FORM_ALERT_ERROR_ACCESS_DENIED_FORM"}top.BX.UI.Notification.Center.notify({content:BX.Loc.getMessage(s)});t(e)}))))}render(){return this.renderContainer()}renderTo(e){if(!p.Type.isDomNode(e)){throw new Error("Parameter `node` not an element.")}p.Dom.append(this.render(),e)}renderError(e){let t=BX.Loc.getMessage("EMBED_SLIDER_GENERAL_ERROR");if(p.Type.isObject(e)&&p.Type.isObject(e.error)&&e.error.status==="access denied"){if(e.error.code===S){t=BX.Loc.getMessage("EMBED_SLIDER_FORM_ACCESS_DENIED")}}return p.Tag.render(De||(De=Pe`
			<div class="ui-alert ui-alert-warning">
				<span class="ui-alert-message">${0}</span>
			</div>
		`),t)}renderSettingsHeader(e,t=false,s=null){const r=t?p.Tag.render(He||(He=Pe`<div class="crm-form-embed__customization-settings--switcher"></div>`)):"";const o=p.Tag.render(Te||(Te=Pe`
			<div class="ui-slider-heading-box ${0}" data-roll="heading-block">
				<div class="ui-slider-heading-main">
					${0}
					<div class="ui-slider-heading-4">${0}</div>
				</div>
				${0}
			</div>
		`),t?"--toggle":"",r,e?e:BX.Loc.getMessage("EMBED_SLIDER_SETTINGS_HEADING"),s?p.Tag.render(ye||(ye=Pe`
					<div class="ui-slider-heading-rest">
						<a 
							class="ui-slider-link crm-form-embed__link --expert-mode --visible"
							data-roll="data-more-settings"
							onclick="${0}"
						>
							${0}
						</a>
					</div>
				`),s.bind(this),BX.Loc.getMessage("EMBED_SLIDER_EXPERT_MODE")):"");if(t){const e=o.querySelector(".ui-slider-heading-4");p.Event.bind(e,"click",(e=>{e.currentTarget.closest(".ui-slider-heading-main").querySelector('.ui-switcher[data-switcher-init="y"]').click()}))}return o}renderCodeBlock(e){const t=this.renderSection();p.Dom.append(p.Tag.render(Ie||(Ie=Pe`
			<div class="crm-form-embed__customization--show-code">
				<div class="ui-icon ui-icon-service-code crm-form-embed__customization--show-code-icon"><i></i></div>
				<a class="ui-slider-link crm-form-embed__link --with-arrow" data-roll="data-show-code">${0}</a>
			</div>
		`),BX.Loc.getMessage("EMBED_SLIDER_SHOW_CODE")),t);p.Dom.append(p.Tag.render(Fe||(Fe=Pe`
			<div class="crm-form-embed__code" data-roll="crm-form-embed__code" style="height: 0px;">
				<pre class="crm-form-embed__code-block"><span>${0}</span></pre>
			</div>
		`),p.Text.encode(e)),t);const s=t.querySelector('[data-roll="data-show-code"]');p.Event.unbind(s,"click",x);p.Event.bind(s,"click",x);return t}updateDependentFields(e,t,s){switch(t){case"type":const t=e.querySelector('[data-option="vertical"]');if(s==="panel"){p.Dom.show(t)}else{p.Dom.hide(t)}break;case"button.plain":const r=e.querySelector('[data-option="buttonStyle"]');const o=e.querySelector('[data-option="button.decoration"]');const a=e.querySelector('[data-option="button.align"]');const i=e.querySelector('[data-option="link.align"]');if(s==="1"){p.Dom.hide(r);p.Dom.show(o);p.Dom.hide(a);p.Dom.show(i)}else{p.Dom.hide(o);p.Dom.show(r);p.Dom.hide(i);p.Dom.show(a)}break}}}var we=babelHelpers.classPrivateFieldLooseKey("container");var Oe=babelHelpers.classPrivateFieldLooseKey("rendered");var Ne=babelHelpers.classPrivateFieldLooseKey("renderError");class Re extends Se{constructor(e,t){super(e,t);Object.defineProperty(this,Ne,{value:xe});Object.defineProperty(this,we,{writable:true,value:void 0});Object.defineProperty(this,Oe,{writable:true,value:false});babelHelpers.classPrivateFieldLooseBase(this,we)[we]=super.render()}load(e=false){return super.load(e).then((()=>{if(!babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]){this.render()}})).catch((e=>{console.error(e);if(!babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]){babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne]()}}))}render(){babelHelpers.classPrivateFieldLooseBase(this,we)[we].innerHTML="";const e=this.renderHeaderSection("code",BX.Loc.getMessage("EMBED_SLIDER_INLINE_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_INLINE_DESC"),I,F);p.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,we)[we]);if(!super.loaded){this.loader.show(babelHelpers.classPrivateFieldLooseBase(this,we)[we])}else{p.Dom.replace(e,this.renderHeaderSection("code",BX.Loc.getMessage("EMBED_SLIDER_INLINE_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_INLINE_DESC"),this.dataProvider.data.embed.helpCenterId,this.dataProvider.data.embed.helpCenterUrl));p.Dom.append(this.renderPreviewSection(BX.Loc.getMessage("EMBED_SLIDER_QR_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_QR_DESC"),BX.Loc.getMessage("EMBED_SLIDER_OPEN_IN_NEW_TAB"),this.dataProvider.data.embed.previewLink.replace("#preview#","inline")),babelHelpers.classPrivateFieldLooseBase(this,we)[we]);const t=this.dataProvider.data.embed.scripts["inline"].text;p.Dom.append(this.renderCodeBlock(t),babelHelpers.classPrivateFieldLooseBase(this,we)[we]);p.Dom.append(this.renderCopySection(BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE"),BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE2"),t,this.renderBubble(BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE_BUBBLE_INLINE"),true)),babelHelpers.classPrivateFieldLooseBase(this,we)[we]);babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]=true}return babelHelpers.classPrivateFieldLooseBase(this,we)[we]}}function xe(){babelHelpers.classPrivateFieldLooseBase(this,we)[we].innerHTML="";p.Dom.append(Se.prototype.renderError.call(this,this.dataProvider.data),babelHelpers.classPrivateFieldLooseBase(this,we)[we]);babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]=true;return babelHelpers.classPrivateFieldLooseBase(this,we)[we]}function Xe(e,t){switch(e){case"position":switch(t){case"left":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M42.1597 39.1886C42.5214 38.7916 42.5214 38.1845 42.1598 37.7874L38.8098 34.1094L51.9669 34.1094C52.5703 34.1094 53.0595 33.6202 53.0595 33.0167C53.0595 32.4132 52.5703 31.924 51.9669 31.924L38.8098 31.924L42.1598 28.2459C42.5214 27.8489 42.5214 27.2418 42.1598 26.8448C41.7471 26.3917 41.0341 26.3917 40.6214 26.8448L35.9947 31.9245C35.431 32.5435 35.431 33.4898 35.9947 34.1088L40.6215 39.1886C41.0341 39.6416 41.7471 39.6417 42.1597 39.1886Z" />\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M9 26.0002C9 24.8957 9.89543 24.0002 11 24.0002H25C26.1046 24.0002 27 24.8957 27 26.0002V40.0002C27 41.1048 26.1046 42.0002 25 42.0002H11C9.89543 42.0002 9 41.1048 9 40.0002V26.0002ZM14 33.0002C14 32.448 14.4477 32.0002 15 32.0002H21C21.5523 32.0002 22 32.448 22 33.0002C22 33.5525 21.5523 34.0002 21 34.0002H15C14.4477 34.0002 14 33.5525 14 33.0002ZM14 28.0002C13.4477 28.0002 13 28.448 13 29.0002C13 29.5525 13.4477 30.0002 14 30.0002H22C22.5523 30.0002 23 29.5525 23 29.0002C23 28.448 22.5523 28.0002 22 28.0002H14Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`;case"center":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M26.4471 26.7989C26.006 27.24 26.006 27.9552 26.4471 28.3963L30.1754 32.1246H21.1297C20.5058 32.1246 20 32.6304 20 33.2543C20 33.8783 20.5058 34.384 21.1297 34.384H30.1754L26.4471 38.1124C26.006 38.5535 26.006 39.2687 26.4471 39.7098C26.8882 40.151 27.6034 40.151 28.0446 39.7098L33.1811 34.5733C33.9095 33.8449 33.9095 32.6639 33.1811 31.9355L28.0445 26.7989C27.6034 26.3578 26.8883 26.3578 26.4471 26.7989Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M71.8799 39.6907C72.3031 39.2572 72.3031 38.5652 71.8799 38.1317L68.2216 34.3842L76.8822 34.3842C77.5061 34.3842 78.0119 33.8784 78.0119 33.2545C78.0119 32.6306 77.5061 32.1248 76.8822 32.1248L68.2216 32.1248L71.8799 28.3772C72.3031 27.9437 72.3031 27.2517 71.8799 26.8182C71.4421 26.3697 70.7208 26.3697 70.2829 26.8182L65.2375 31.9867C64.5493 32.6917 64.5493 33.8171 65.2375 34.5221L70.283 39.6907C70.7208 40.1392 71.4421 40.1392 71.8799 39.6907Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M41 26.0002C41 24.8957 41.8954 24.0002 43 24.0002H57C58.1046 24.0002 59 24.8957 59 26.0002V40.0002C59 41.1048 58.1046 42.0002 57 42.0002H43C41.8954 42.0002 41 41.1048 41 40.0002V26.0002ZM46 33.0002C46 32.448 46.4477 32.0002 47 32.0002H53C53.5523 32.0002 54 32.448 54 33.0002C54 33.5525 53.5523 34.0002 53 34.0002H47C46.4477 34.0002 46 33.5525 46 33.0002ZM46 28.0002C45.4477 28.0002 45 28.448 45 29.0002C45 29.5525 45.4477 30.0002 46 30.0002H54C54.5523 30.0002 55 29.5525 55 29.0002C55 28.448 54.5523 28.0002 54 28.0002H46Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`;case"right":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M59.4471 26.7989C59.006 27.24 59.006 27.9552 59.4471 28.3963L63.1754 32.1246H48.1297C47.5058 32.1246 47 32.6304 47 33.2543C47 33.8783 47.5058 34.384 48.1297 34.384H63.1754L59.4471 38.1124C59.006 38.5535 59.006 39.2687 59.4471 39.7098C59.8882 40.151 60.6034 40.151 61.0446 39.7098L66.1811 34.5733C66.9095 33.8449 66.9095 32.6639 66.1811 31.9355L61.0445 26.7989C60.6034 26.3578 59.8883 26.3578 59.4471 26.7989Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M75 26.0002C75 24.8957 75.8954 24.0002 77 24.0002H91C92.1046 24.0002 93 24.8957 93 26.0002V40.0002C93 41.1048 92.1046 42.0002 91 42.0002H77C75.8954 42.0002 75 41.1048 75 40.0002V26.0002ZM80 33.0002C80 32.448 80.4477 32.0002 81 32.0002H87C87.5523 32.0002 88 32.448 88 33.0002C88 33.5525 87.5523 34.0002 87 34.0002H81C80.4477 34.0002 80 33.5525 80 33.0002ZM80 28.0002C79.4477 28.0002 79 28.448 79 29.0002C79 29.5525 79.4477 30.0002 80 30.0002H88C88.5523 30.0002 89 29.5525 89 29.0002C89 28.448 88.5523 28.0002 88 28.0002H80Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`}break;case"button.align":switch(t){case"left":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M42.1597 39.1883C42.5214 38.7913 42.5214 38.1842 42.1598 37.7872L38.8098 34.1091L51.9669 34.1091C52.5703 34.1091 53.0595 33.6199 53.0595 33.0164C53.0595 32.413 52.5703 31.9238 51.9669 31.9238L38.8098 31.9238L42.1598 28.2457C42.5214 27.8486 42.5214 27.2416 42.1598 26.8445C41.7471 26.3914 41.0341 26.3914 40.6214 26.8445L35.9947 31.9243C35.431 32.5432 35.431 33.4896 35.9947 34.1085L40.6215 39.1883C41.0341 39.6414 41.7471 39.6414 42.1597 39.1883Z" />\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M7 27C5.89543 27 5 27.8954 5 29V37C5 38.1046 5.89543 39 7 39H27C28.1046 39 29 38.1046 29 37V29C29 27.8954 28.1046 27 27 27H7ZM13 32C12.4477 32 12 32.4477 12 33C12 33.5523 12.4477 34 13 34H21C21.5523 34 22 33.5523 22 33C22 32.4477 21.5523 32 21 32H13Z" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`;case"center":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M26.4471 26.7986C26.006 27.2397 26.006 27.9549 26.4471 28.3961L30.1754 32.1244H21.1297C20.5058 32.1244 20 32.6302 20 33.2541C20 33.878 20.5058 34.3838 21.1297 34.3838H30.1754L26.4471 38.1121C26.006 38.5532 26.006 39.2685 26.4471 39.7096C26.8882 40.1507 27.6034 40.1507 28.0446 39.7096L33.1811 34.5731C33.9095 33.8447 33.9095 32.6637 33.1811 31.9352L28.0445 26.7987C27.6034 26.3576 26.8883 26.3576 26.4471 26.7986Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M71.8799 39.6905C72.3031 39.257 72.3031 38.565 71.8799 38.1315L68.2216 34.3839L76.8822 34.3839C77.5061 34.3839 78.0119 33.8782 78.0119 33.2542C78.0119 32.6303 77.5061 32.1245 76.8822 32.1245L68.2216 32.1245L71.8799 28.377C72.3031 27.9435 72.3031 27.2515 71.8799 26.818C71.4421 26.3694 70.7208 26.3694 70.2829 26.818L65.2375 31.9864C64.5493 32.6915 64.5493 33.8169 65.2375 34.5219L70.283 39.6904C70.7208 40.1389 71.4421 40.1389 71.8799 39.6905Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M39 27C37.8954 27 37 27.8954 37 29V37C37 38.1046 37.8954 39 39 39H59C60.1046 39 61 38.1046 61 37V29C61 27.8954 60.1046 27 59 27H39ZM45 32C44.4477 32 44 32.4477 44 33C44 33.5523 44.4477 34 45 34H53C53.5523 34 54 33.5523 54 33C54 32.4477 53.5523 32 53 32H45Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`;case"right":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M59.4471 26.7986C59.006 27.2397 59.006 27.9549 59.4471 28.3961L63.1754 32.1244H48.1297C47.5058 32.1244 47 32.6302 47 33.2541C47 33.878 47.5058 34.3838 48.1297 34.3838H63.1754L59.4471 38.1121C59.006 38.5532 59.006 39.2685 59.4471 39.7096C59.8882 40.1507 60.6034 40.1507 61.0446 39.7096L66.1811 34.5731C66.9095 33.8447 66.9095 32.6637 66.1811 31.9352L61.0445 26.7987C60.6034 26.3576 59.8883 26.3576 59.4471 26.7986Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M73 27C71.8954 27 71 27.8954 71 29V37C71 38.1046 71.8954 39 73 39H93C94.1046 39 95 38.1046 95 37V29C95 27.8954 94.1046 27 93 27H73ZM79 32C78.4477 32 78 32.4477 78 33C78 33.5523 78.4477 34 79 34H87C87.5523 34 88 33.5523 88 33C88 32.4477 87.5523 32 87 32H79Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`}break;case"link.align":switch(t){case"inline":return`\n\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M27 27C27 25.8954 27.8954 25 29 25H45C46.1046 25 47 25.8954 47 27V39C47 40.1046 46.1046 41 45 41H29C27.8954 41 27 40.1046 27 39V27ZM35.3454 35L34.8202 33.3406H32.1798L31.6546 35H30L32.5563 28H34.4338L37 35H35.3454ZM34.4536 32.1008C33.9682 30.5972 33.694 29.7468 33.6313 29.5497C33.5718 29.3526 33.5289 29.1969 33.5025 29.0824C33.3935 29.4893 33.0814 30.4955 32.5662 32.1008H34.4536ZM30.75 37C30.3358 37 30 37.3358 30 37.75C30 38.1642 30.3358 38.5 30.75 38.5H43.25C43.6642 38.5 44 38.1642 44 37.75C44 37.3358 43.6642 37 43.25 37H30.75Z"/>\n\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" d="M56.5684 36.9998H55.168V29.6345H52.6484V28.4333H59.0879V29.6345H56.5684V36.9998ZM63.0898 37.1169C62.082 37.1169 61.293 36.824 60.7227 36.238C60.1562 35.6482 59.873 34.8376 59.873 33.8064C59.873 32.7478 60.1367 31.9158 60.6641 31.3103C61.1914 30.7048 61.916 30.4021 62.8379 30.4021C63.6934 30.4021 64.3691 30.6619 64.8652 31.1814C65.3613 31.7009 65.6094 32.4158 65.6094 33.3259V34.0701H61.291C61.3105 34.699 61.4805 35.1833 61.8008 35.5232C62.1211 35.8591 62.5723 36.0271 63.1543 36.0271C63.5371 36.0271 63.8926 35.9919 64.2207 35.9216C64.5527 35.8474 64.9082 35.7263 65.2871 35.5583V36.6775C64.9512 36.8376 64.6113 36.9509 64.2676 37.0173C63.9238 37.0837 63.5312 37.1169 63.0898 37.1169ZM62.8379 31.4451C62.4004 31.4451 62.0488 31.5837 61.7832 31.8611C61.5215 32.1384 61.3652 32.5427 61.3145 33.074H64.2559C64.248 32.5388 64.1191 32.1345 63.8691 31.8611C63.6191 31.5837 63.2754 31.4451 62.8379 31.4451ZM68.6152 33.6892L66.4414 30.5193H68.0117L69.4883 32.7869L70.9766 30.5193H72.5352L70.3555 33.6892L72.6465 36.9998H71.0879L69.4883 34.574L67.8945 36.9998H66.3359L68.6152 33.6892ZM76.1973 36.0037C76.5332 36.0037 76.8691 35.9509 77.2051 35.8455V36.8826C77.0527 36.949 76.8555 37.0037 76.6133 37.0466C76.375 37.0935 76.127 37.1169 75.8691 37.1169C74.5645 37.1169 73.9121 36.4294 73.9121 35.0544V31.5623H73.0273V30.9529L73.9766 30.449L74.4453 29.0779H75.2949V30.5193H77.1406V31.5623H75.2949V35.031C75.2949 35.363 75.377 35.6091 75.541 35.7693C75.709 35.9255 75.9277 36.0037 76.1973 36.0037Z"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t`;case"left":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M42.1598 39.1883C42.5214 38.7913 42.5214 38.1842 42.1598 37.7872L38.8098 34.1091L51.9669 34.1091C52.5704 34.1091 53.0596 33.6199 53.0596 33.0164V33.0164C53.0596 32.413 52.5704 31.9238 51.9669 31.9238L38.8098 31.9238L42.1598 28.2457C42.5214 27.8486 42.5214 27.2416 42.1598 26.8445V26.8445C41.7471 26.3914 41.0341 26.3914 40.6214 26.8445L35.9948 31.9242C35.431 32.5432 35.431 33.4895 35.9948 34.1085L40.6215 39.1883C41.0342 39.6414 41.7471 39.6414 42.1598 39.1883V39.1883Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M8 27C8 25.8954 8.89543 25 10 25H26C27.1046 25 28 25.8954 28 27V39C28 40.1046 27.1046 41 26 41H10C8.89543 41 8 40.1046 8 39V27ZM16.3454 35L15.8202 33.3406H13.1798L12.6546 35H11L13.5563 28H15.4338L18 35H16.3454ZM15.4536 32.1008C14.9682 30.5972 14.694 29.7468 14.6313 29.5497C14.5718 29.3526 14.5289 29.1969 14.5025 29.0824C14.3935 29.4893 14.0814 30.4955 13.5662 32.1008H15.4536ZM11.75 37C11.3358 37 11 37.3358 11 37.75C11 38.1642 11.3358 38.5 11.75 38.5H24.25C24.6642 38.5 25 38.1642 25 37.75C25 37.3358 24.6642 37 24.25 37H11.75Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`;case"center":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M26.4471 26.7986C26.006 27.2397 26.006 27.9549 26.4471 28.3961L30.1754 32.1244H21.1297C20.5058 32.1244 20 32.6302 20 33.2541V33.2541C20 33.878 20.5058 34.3838 21.1297 34.3838H30.1754L26.4471 38.1121C26.006 38.5532 26.006 39.2685 26.4471 39.7096V39.7096C26.8882 40.1507 27.6034 40.1507 28.0446 39.7096L33.1811 34.5731C33.9095 33.8447 33.9095 32.6636 33.1811 31.9352L28.0445 26.7987C27.6034 26.3576 26.8883 26.3576 26.4471 26.7986V26.7986Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M71.88 39.6904C72.3032 39.257 72.3032 38.565 71.88 38.1315L68.2217 34.3839L76.8823 34.3839C77.5062 34.3839 78.012 33.8781 78.012 33.2542V33.2542C78.012 32.6303 77.5062 32.1245 76.8823 32.1245L68.2217 32.1245L71.88 28.377C72.3032 27.9434 72.3032 27.2515 71.88 26.818V26.818C71.4421 26.3694 70.7208 26.3694 70.283 26.818L65.2376 31.9864C64.5493 32.6915 64.5493 33.8169 65.2376 34.5219L70.2831 39.6904C70.7209 40.1389 71.4421 40.1389 71.88 39.6904V39.6904Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M40 27C40 25.8954 40.8954 25 42 25H58C59.1046 25 60 25.8954 60 27V39C60 40.1046 59.1046 41 58 41H42C40.8954 41 40 40.1046 40 39V27ZM48.3454 35L47.8202 33.3406H45.1798L44.6546 35H43L45.5563 28H47.4338L50 35H48.3454ZM47.4536 32.1008C46.9682 30.5972 46.694 29.7468 46.6313 29.5497C46.5718 29.3526 46.5289 29.1969 46.5025 29.0824C46.3935 29.4893 46.0814 30.4955 45.5662 32.1008H47.4536ZM43.75 37C43.3358 37 43 37.3358 43 37.75C43 38.1642 43.3358 38.5 43.75 38.5H56.25C56.6642 38.5 57 38.1642 57 37.75C57 37.3358 56.6642 37 56.25 37H43.75Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`;case"right":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M59.4471 26.7986C59.006 27.2397 59.006 27.9549 59.4471 28.3961L63.1754 32.1244H48.1297C47.5058 32.1244 47 32.6302 47 33.2541V33.2541C47 33.878 47.5058 34.3838 48.1297 34.3838H63.1754L59.4471 38.1121C59.006 38.5532 59.006 39.2685 59.4471 39.7096V39.7096C59.8882 40.1507 60.6034 40.1507 61.0446 39.7096L66.1811 34.5731C66.9095 33.8447 66.9095 32.6636 66.1811 31.9352L61.0445 26.7987C60.6034 26.3576 59.8883 26.3576 59.4471 26.7986V26.7986Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M74 27C74 25.8954 74.8954 25 76 25H92C93.1046 25 94 25.8954 94 27V39C94 40.1046 93.1046 41 92 41H76C74.8954 41 74 40.1046 74 39V27ZM82.3454 35L81.8202 33.3406H79.1798L78.6546 35H77L79.5563 28H81.4338L84 35H82.3454ZM81.4536 32.1008C80.9682 30.5972 80.694 29.7468 80.6313 29.5497C80.5718 29.3526 80.5289 29.1969 80.5025 29.0824C80.3935 29.4893 80.0814 30.4955 79.5662 32.1008H81.4536ZM77.75 37C77.3358 37 77 37.3358 77 37.75C77 38.1642 77.3358 38.5 77.75 38.5H90.25C90.6642 38.5 91 38.1642 91 37.75C91 37.3358 90.6642 37 90.25 37H77.75Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`}break;case"vertical":switch(t){case"bottom":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M66 60.0002C66 61.1048 65.1046 62.0002 64 62.0002L36 62.0002C34.8954 62.0002 34 61.1048 34 60.0002L34 50.0002C34 48.3434 35.3431 47.0002 37 47.0002L63 47.0002C64.6569 47.0002 66 48.3434 66 50.0002L66 60.0002ZM63 58.0002C63 58.5525 62.5523 59.0002 62 59.0002L38 59.0002C37.4477 59.0002 37 58.5525 37 58.0002C37 57.448 37.4477 57.0002 38 57.0002L62 57.0002C62.5523 57.0002 63 57.448 63 58.0002ZM58 55.0002C58.5523 55.0002 59 54.5525 59 54.0002C59 53.448 58.5523 53.0002 58 53.0002L42 53.0002C41.4477 53.0002 41 53.448 41 54.0002C41 54.5525 41.4477 55.0002 42 55.0002L58 55.0002Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M43.7986 29.0531C44.2397 29.4942 44.9549 29.4943 45.3961 29.0531L49.1244 25.3248L49.1244 40.3705C49.1244 40.9945 49.6302 41.5002 50.2541 41.5002C50.878 41.5002 51.3838 40.9945 51.3838 40.3705L51.3838 25.3248L55.1121 29.0531C55.5532 29.4943 56.2685 29.4943 56.7096 29.0531C57.1507 28.612 57.1507 27.8968 56.7096 27.4557L51.5731 22.3192C50.8447 21.5907 49.6636 21.5908 48.9352 22.3192L43.7987 27.4557C43.3576 27.8968 43.3576 28.612 43.7986 29.0531Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`;case"top":return`\n\t\t\t\t\t\t\t<svg width="100" height="66" viewBox="0 0 100 66" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-block" fill-rule="evenodd" clip-rule="evenodd" d="M34 6.00024C34 4.89567 34.8954 4.00024 36 4.00024L64 4.00024C65.1046 4.00024 66 4.89567 66 6.00024L66 16.0002C66 17.6571 64.6569 19.0002 63 19.0002L37 19.0002C35.3431 19.0002 34 17.6571 34 16.0002L34 6.00024ZM63 8.00024C63 8.55253 62.5523 9.00024 62 9.00024L38 9.00024C37.4477 9.00024 37 8.55253 37 8.00024C37 7.44796 37.4477 7.00024 38 7.00024L62 7.00025C62.5523 7.00025 63 7.44796 63 8.00024ZM58 13.0002C58.5523 13.0002 59 12.5525 59 12.0002C59 11.448 58.5523 11.0002 58 11.0002L42 11.0002C41.4477 11.0002 41 11.448 41 12.0002C41 12.5525 41.4477 13.0002 42 13.0002L58 13.0002Z"/>\n\t\t\t\t\t\t\t\t<path class="crm-form-embed__settings--svg-arrow" fill-rule="evenodd" clip-rule="evenodd" d="M56.7097 37.4474C56.2686 37.0062 55.5534 37.0062 55.1122 37.4474L51.3839 41.1757L51.3839 26.1299C51.3839 25.506 50.8781 25.0002 50.2542 25.0002C49.6303 25.0002 49.1245 25.506 49.1245 26.1299L49.1245 41.1757L45.3962 37.4474C44.9551 37.0062 44.2398 37.0062 43.7987 37.4474C43.3576 37.8885 43.3576 38.6037 43.7987 39.0448L48.9352 44.1813C49.6636 44.9097 50.8446 44.9097 51.5731 44.1813L56.7096 39.0448C57.1507 38.6037 57.1507 37.8885 56.7097 37.4474Z"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t`}break}}function $e(e){return Ue.isHexDark(e)}function Ae(e){return Ue.hexToRgba(e)}function Ve(e){if(p.Type.isString(e)&&e.includes("%")){e=Number.parseInt(e)/100}const t=Math.round(e*255).toString(16);return t.length===1?"0"+t:t}function Ke(){BX.UI.Feedback.Form.open({id:"crm.webform.embed.feedback",forms:[{zones:["en","eu","in","uk"],id:372,lang:"en",sec:"qxzl3o"},{zones:["by"],id:362,lang:"by",sec:"gha9ge"},{zones:["kz"],id:362,lang:"kz",sec:"gha9ge"},{zones:["ru"],id:362,lang:"ru",sec:"gha9ge"},{zones:["com.br"],id:364,lang:"br",sec:"g649rj"},{zones:["la","co","mx"],id:366,lang:"es",sec:"s80g9o"},{zones:["de"],id:368,lang:"de",sec:"bcmkrl"},{zones:["ua"],id:370,lang:"ua",sec:"ue05ne"}]})}const Ue={parseHex(e){e=this.fillHex(e);let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);if(!t){t=[0,0,0,1]}else{t=[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(100*(parseInt(t[4]||"ff",16)/255))/100]}return t},hexToRgba(e){return"rgba("+this.parseHex(e).join(", ")+")"},toRgba(e){return"rgba("+e.join(", ")+")"},fillHex(e,t=false,s=null){if(e.length===4||t&&e.length===5){e=e.replace(/([a-f0-9])/gi,"$1$1")}if(t&&e.length===7){e+="ff"}if(s){e=e.substr(0,7)+(s.toLowerCase()+"ff").substr(0,2)}return e},isHexDark(e){e=this.parseHex(e);const t=e[0];const s=e[1];const r=e[2];const o=(t*299+s*587+r*114)/1e3;return o<155}};let je=e=>e,qe,Ze,We,Ge,ze,Ye,Qe,Je,et,tt,st;const rt=new BX.Loader({mode:"inline"});class ot{static renderDropdown(e){const t=t=>{p.Dom.attr(t.currentTarget,"disabled",true);rt.setOptions({size:40});rt.show(e.node.querySelector(".ui-ctl-after.ui-ctl-icon-angle"));e.callback(t.currentTarget.value)};p.Dom.append(this.renderLabel(e.keyName),e.node);const s=p.Tag.render(qe||(qe=je`<select class="ui-ctl-element embed-control-node" onchange="${0}"></select>`),p.Text.encode(t));Object.entries(e.options).forEach((([t,r])=>{p.Dom.append(p.Tag.render(Ze||(Ze=je`
					<option
						value="${0}"
						${0}
					>
						${0}
					</option>
				`),p.Text.encode(t),!p.Type.isUndefined(e.value)&&e.value.toString()===t.toString()?"selected":"",p.Text.encode(r)),s)}));p.Dom.append(p.Tag.render(We||(We=je`
			<div class="ui-ctl ui-ctl-after-icon ui-ctl-dropdown">
				<div class="ui-ctl-after ui-ctl-icon-angle"></div>
				${0}
			</div>
		`),s),e.node)}static renderText(e,t){const s=t=>{p.Dom.attr(t.currentTarget,"disabled",true);rt.setOptions({size:40});rt.show(e.node.querySelector(".ui-ctl-after"));e.callback(t.currentTarget.value)};const r=t=>{p.Dom.show(e.node.querySelector(".ui-ctl-after"))};const o=t?"":'<button class="ui-ctl-after" hidden><svg width="20" height="15" viewBox="0 0 20 15" xmlns="http://www.w3.org/2000/svg"><path fill="#535C69" d="M7.34223 14.351L0.865356 8.03879L3.13226 5.82951L7.34223 9.93246L16.8678 0.648987L19.1348 2.85827L7.34223 14.351Z"/></svg></button>';p.Dom.append(this.renderLabel(e.keyName),e.node);const a=p.Tag.render(Ge||(Ge=je`
			<input
				type="text"
				class="ui-ctl-element"
				value="${0}"
				data-onfocus="${0}"
				data-onblur="${0}"
			>
		`),!p.Type.isUndefined(e.value)?p.Text.encode(e.value):"",p.Text.encode(r),p.Text.encode(s));p.Event.bindOnce(a,"blur",s);if(!t){p.Event.bindOnce(a,"focus",r)}p.Dom.append(p.Tag.render(ze||(ze=je`
			<div class="ui-ctl ui-ctl-textbox ui-ctl-after-icon">
				${0}
				${0}
			</div>
		`),o,a),e.node)}static renderTypeface(e,t,s){const r=r=>{if(r.currentTarget.getAttribute("disabled")==="true"){return}const o=r.currentTarget.closest(".crm-form-embed__settings").querySelectorAll(".crm-form-embed__settings--hide-button");o.forEach((e=>{p.Dom.attr(e,"disabled",true)}));if(!t){it(r.currentTarget.closest(".crm-form-embed__settings--option.--typeface"),0,0,true)}s.callback(e)};const o=t?"crm-form-embed__settings-main--option --option-big":"crm-form-embed__settings--option --typeface";p.Dom.append(p.Tag.render(Ye||(Ye=je`
			<div class="crm-form-embed__settings--hide-button ${0} ${0}" onclick="${0}">
				<span class="crm-form-embed__settings--option-font --${0}">${0}</span>
			</div>
		`),o,e===s.value?"--active":"",p.Text.encode(r),p.Text.encode(e),p.Text.encode(s.keyName)),s.node)}static renderSquareButton(e,t){const s=s=>{if(s.currentTarget.getAttribute("disabled")==="true"){return}const r=s.currentTarget.closest(".crm-form-embed__settings").querySelectorAll(".crm-form-embed__settings--option-layout");r.forEach((e=>{p.Dom.attr(e,"disabled",true)}));it(s.currentTarget.closest(".crm-form-embed__settings--option-layout").querySelector(".crm-form-embed__settings-main--option-svg"),100,66,false);t.callback(e)};p.Dom.append(p.Tag.render(Qe||(Qe=je`
			<div class="crm-form-embed__settings--option-layout ${0}" onclick="${0}">
				<div class="crm-form-embed__settings-main--option-svg">
					${0}
				</div>
				<span class="crm-form-embed__settings--option-layout-text">${0}</span>
			</div>
		`),e===t.value?"--active":"",p.Text.encode(s),Xe(t.key,e),p.Text.encode(t.keyName)),t.node)}static renderButton(e,t,s,r){const o=t=>{if(t.currentTarget.getAttribute("disabled")==="true"){return}const o=t.currentTarget.closest(".crm-form-embed__settings").querySelectorAll(".crm-form-embed__settings--hide-button");o.forEach((e=>{p.Dom.attr(e,"disabled",true)}));if(!s){it(t.currentTarget.closest(".crm-form-embed__settings--option"),0,0,true)}r.callback(e)};const a=s?"crm-form-embed__settings-main--option --option-big":"crm-form-embed__settings--option";p.Dom.append(p.Tag.render(Je||(Je=je`
			<div
				class="crm-form-embed__settings--hide-button ${0} ${0}"
				onclick="${0}"
				data-embed-key="${0}"
				data-embed-value="${0}"
				title="${0}"
			>
				<button class="ui-btn ui-btn-md ${0}">${0}</button>
			</div>
		`),a,e===r.value?"--active":"",p.Text.encode(o),p.Text.encode(r.key),p.Text.encode(e),p.Text.encode(BX.Loc.getMessage("EMBED_SLIDER_OPTION_BUTTONSTYLE_LABEL")),p.Text.encode(t),p.Text.encode(BX.Loc.getMessage("EMBED_SLIDER_OPTION_BUTTONSTYLE_LABEL"))),r.node)}static renderLink(e,t,s,r){const o=t=>{if(t.currentTarget.getAttribute("disabled")==="true"){return}const o=t.currentTarget.closest(".crm-form-embed__settings").querySelectorAll(".crm-form-embed__settings--hide-link");o.forEach((e=>{p.Dom.attr(e,"disabled",true)}));if(!s){it(t.currentTarget.closest(".crm-form-embed__settings--option"),0,0,true)}r.callback(e)};const a=s?"crm-form-embed__settings-main--option --option-big":"crm-form-embed__settings--option";p.Dom.append(p.Tag.render(et||(et=je`
			<div
				class="crm-form-embed__settings--hide-link ${0} ${0}"
				onclick="${0}"
				data-embed-key="${0}"
				data-embed-value="${0}"
			>
				<a href ="#" class="crm-form-embed__option-link ${0}">${0}</a>
			</div>
		`),a,e===r.value?"--active":"",p.Text.encode(o),p.Text.encode(r.key),p.Text.encode(e),p.Text.encode(t),p.Text.encode(BX.Loc.getMessage("EMBED_SLIDER_OPTION_LINKSTYLE_LABEL"))),r.node)}static renderSwitcher(e){const t=function(t){this.setLoading(true);e.callback(this.isChecked()?"1":"0").then((()=>{this.setLoading(false)}))};const s=document.createElement("span");const r=e.formId+"-"+e.key;s.className="ui-switcher";s.dataset.switcherId=r;const o=new top.BX.UI.Switcher({id:r,node:s,checked:e.value==="1",handlers:{toggled:t}});p.Dom.append(o.getNode(),e.node)}static renderColorPicker(e,t){const s=function(e){if(this instanceof o.ColorField){const e=this.getValue();const s=e.getHex()+Ve(e.getOpacity());t.callback(s)}};const r=at(e,s,s);r.setValue({"--color":Ae(t.value)});p.Dom.append(r.getLayout(),t.node)}static renderOptionTitle(e){return p.Tag.render(tt||(tt=je`
			<div class="crm-form-embed__settings--option-title">${0}</div>
		`),e?p.Text.encode(e):"")}static renderLabel(e,t=false){return p.Tag.render(st||(st=je`
			<div class="crm-form-embed__label-text ${0}">${0}</div>
		`),t?"--button-setting":"",e?p.Text.encode(e):"")}}function at(e,t,s){return new o.ColorField({subtype:e,onChange:t,onReset:s})}function it(e,t,s,r){e.innerHTML="";if(t){p.Dom.style(e,"width",t+"px")}if(s){p.Dom.style(e,"height",s+"px")}if(r){p.Dom.style(e,"padding","0")}rt.setOptions({size:40});rt.show(e)}function nt(e,t){const s=e.closest(".ui-slider-section");const r=s.querySelector('[data-roll="heading-block"]');const o=s.querySelector('[data-roll="data-more-settings"]');const a=s.querySelector('[data-roll="crm-form-embed__settings"]');if(t){if(o){p.Dom.addClass(o,"--visible")}p.Dom.removeClass(r,"--collapse");p.Dom.style(a,"height",a.scrollHeight+"px")}else{if(o){p.Dom.removeClass(o,"--visible")}p.Dom.addClass(r,"--collapse");p.Dom.style(a,"height",a.scrollHeight+"px");p.Dom.style(a,"height","0")}p.Event.unbind(a,"transitionend",lt);p.Event.bind(a,"transitionend",lt)}function lt(e){const t=e.currentTarget.closest(".ui-slider-section");const s=t.querySelector('[data-roll="crm-form-embed__settings"]');if(p.Dom.style(s,"height")!=="0px"){p.Dom.style(s,"height","auto")}}let dt=e=>e,ct,bt,pt,ut,mt,vt,gt,ht,Lt,ft,_t,Et,Bt,Ct,Pt,Dt;var Ht=babelHelpers.classPrivateFieldLooseKey("type");var Tt=babelHelpers.classPrivateFieldLooseKey("options");var yt=babelHelpers.classPrivateFieldLooseKey("values");var It=babelHelpers.classPrivateFieldLooseKey("dict");var Ft=babelHelpers.classPrivateFieldLooseKey("formId");var kt=babelHelpers.classPrivateFieldLooseKey("updateValues");var Mt=babelHelpers.classPrivateFieldLooseKey("updateValue");var St=babelHelpers.classPrivateFieldLooseKey("getValue");var wt=babelHelpers.classPrivateFieldLooseKey("getOptions");var Ot=babelHelpers.classPrivateFieldLooseKey("getFuncName");class Nt extends c.EventEmitter{constructor(e,t,s,r,o){super();Object.defineProperty(this,Ot,{value:At});Object.defineProperty(this,wt,{value:$t});Object.defineProperty(this,St,{value:Xt});Object.defineProperty(this,Mt,{value:xt});Object.defineProperty(this,kt,{value:Rt});Object.defineProperty(this,Ht,{writable:true,value:void 0});Object.defineProperty(this,Tt,{writable:true,value:void 0});Object.defineProperty(this,yt,{writable:true,value:void 0});Object.defineProperty(this,It,{writable:true,value:void 0});Object.defineProperty(this,Ft,{writable:true,value:void 0});this.setEventNamespace("BX:Crm:Form:Embed");babelHelpers.classPrivateFieldLooseBase(this,Ht)[Ht]=e;babelHelpers.classPrivateFieldLooseBase(this,Tt)[Tt]=r;babelHelpers.classPrivateFieldLooseBase(this,yt)[yt]=s;babelHelpers.classPrivateFieldLooseBase(this,It)[It]=o;babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft]=t}getValues(){return babelHelpers.classPrivateFieldLooseBase(this,yt)[yt]}renderControlContainer(e=null){if(p.Type.isDomNode(e)){e=[e]}const t=p.Tag.render(ct||(ct=dt`
			<div class="crm-form-embed__settings"></div>
		`));if(p.Type.isArray(e)){e.forEach((e=>p.Dom.append(e,t)))}return t}renderRow(e=null,t=false){if(p.Type.isDomNode(e)){e=[e]}const s=p.Tag.render(bt||(bt=dt`
			<div class="crm-form-embed__settings-row ${0}"></div>
		`),t?"--last":"");if(p.Type.isArray(e)){e.forEach((e=>p.Dom.append(e,s)))}return s}renderBlock(e=null){if(p.Type.isDomNode(e)){e=[e]}const t=p.Tag.render(pt||(pt=dt`
			<div class="crm-form-embed__settings--block"></div>
		`));if(p.Type.isArray(e)){e.forEach((e=>p.Dom.append(e,t)))}return t}renderCol(e=null,t=false){if(p.Type.isDomNode(e)){e=[e]}const s=p.Tag.render(ut||(ut=dt`
			<div class="crm-form-embed__settings--block-col ${0}"></div>
		`),t?"--first":"");if(p.Type.isArray(e)){e.forEach((e=>p.Dom.append(e,s)))}return s}renderTitle(e,t=false){return p.Tag.render(mt||(mt=dt`
			<div class="crm-form-embed__subtitle ${0}">${0}</div>
		`),t?"--line":"",e?e:"")}renderLabel(e,t=false){return Vt.renderLabel(e,t)}renderOptionTo(e,t,s=true){const r=babelHelpers.classPrivateFieldLooseBase(this,Ot)[Ot](t),o=babelHelpers.classPrivateFieldLooseBase(this,wt)[wt](t),a=babelHelpers.classPrivateFieldLooseBase(this,St)[St](t);if(p.Type.isFunction(Vt["renderField"+r])){Vt["renderField"+r](e,a,{options:o,dict:babelHelpers.classPrivateFieldLooseBase(this,It)[It],callback:e=>babelHelpers.classPrivateFieldLooseBase(this,kt)[kt](e,s),formId:babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft],data:babelHelpers.classPrivateFieldLooseBase(this,Tt)[Tt],values:babelHelpers.classPrivateFieldLooseBase(this,yt)[yt]})}else{console.error("embed: "+t+" is not valid type")}}renderOption(e,t=true){const s=this.renderControlContainer();this.renderOptionTo(s,e,t);return s}renderColorInline(e,t,s=true){this.renderOptionTo(e,t,s)}renderColorPopup(e,t,s=true){const r=babelHelpers.classPrivateFieldLooseBase(this,St)[St](t,"#FFFFFF");const o=this.renderOption(t,s);const a=new BX.PopupWindow({content:o,bindElement:e,autoHide:true,closeByEsc:true});p.Dom.addClass(o,"crm-form-embed__color_popup");const i=function(e){const t=$e(e)?"white":"black";return`background-color: ${p.Text.encode(e)}; color: ${t}`};const n=function(e){return $e(e)?"bitrix24-light-theme":"bitrix24-dark-theme"};const l=p.Tag.render(vt||(vt=dt`
			<button class="ui-btn ui-btn-xs ui-btn-link ui-btn-hover ui-btn-icon-edit ui-btn-themes"></button>
		`));p.Event.bind(l,"click",(e=>a.show()));const d=p.Tag.render(gt||(gt=dt`
			<span class="crm-form-embed__settings--color-text">${0}</span>
		`),p.Text.encode(r));p.Dom.append(ot.renderLabel(Vt.getOptionKeyName(t),true),e);const c=p.Tag.render(ht||(ht=dt`
			<div class="crm-form-embed__settings--color ${0}" style="${0}">
				${0}
				${0}
			</div>
		`),n(r),i(r),d,l);p.Dom.append(c,e);this.subscribe("BX:Crm:Form:Embed:valueChanged",(e=>{if(e.data.name===t){d.innerText=p.Text.encode(e.data.value);c.style=i(e.data.value);p.Dom.removeClass(c,n(e.data.value)==="bitrix24-dark-theme"?"bitrix24-light-theme":"bitrix24-dark-theme");p.Dom.addClass(c,n(e.data.value))}}))}}function Rt(e,t){const s=[];e.forEach((e=>{s.push(babelHelpers.classPrivateFieldLooseBase(this,Mt)[Mt](e.name,e.value))}));return Promise.all(s).then((()=>{if(t){const e=new c.BaseEvent({data:{type:babelHelpers.classPrivateFieldLooseBase(this,Ht)[Ht]}});return this.emitAsync("BX:Crm:Form:Embed:needToSave",e)}return Promise.resolve}))}function xt(e,t){const s=e.split(".");const r=babelHelpers.classPrivateFieldLooseBase(this,yt)[yt];const o=function(e,s){const r=s.shift();if(s.length>0){e[r]=p.Type.isUndefined(e[r])?{}:e[r];o(e[r],s)}else{e[r]=t}};o(r,s);babelHelpers.classPrivateFieldLooseBase(this,yt)[yt]=r;const a=new c.BaseEvent({data:{type:babelHelpers.classPrivateFieldLooseBase(this,Ht)[Ht],name:e,value:t}});this.emit("BX:Crm:Form:Embed:valueChanged",a);return Promise.resolve()}function Xt(e,t=""){const s=e.split(".");let r=babelHelpers.classPrivateFieldLooseBase(this,yt)[yt];s.forEach((e=>{r=!p.Type.isUndefined(r[e])?r[e]:t}));return r}function $t(e){const t=e.split(".");let s=babelHelpers.classPrivateFieldLooseBase(this,Tt)[Tt];t.forEach((e=>{s=!p.Type.isUndefined(s[e])?s[e]:[]}));return s}function At(e){const t=e.split(".");let s="";t.forEach((e=>{s=s.concat(e.charAt(0).toUpperCase()+e.slice(1))}));return s}const Vt={renderFieldDelay:function(e,t,s){e.innerHTML="";const r=t=>{s.callback([{name:"delay",value:t}]).then((()=>{Vt.renderFieldDelay(e,t,s)}))};const o=p.Tag.render(Lt||(Lt=dt`<div class="crm-form-embed__settings--block-input"></div>`));ot.renderDropdown({callback:r,node:o,options:this.getOptions(s.options,"delay",s.dict),value:t,key:"delay",keyName:Vt.getOptionKeyName("delay"),formId:s.formId});p.Dom.append(o,e)},renderFieldType:function(e,t,s){e.innerHTML="";const r=t=>{s.callback([{name:"type",value:t}]).then((()=>{Vt.renderFieldType(e,t,s)}))};const o=p.Tag.render(ft||(ft=dt`<div class="crm-form-embed__settings--block-input"></div>`));ot.renderDropdown({callback:r,node:o,options:this.getOptions(s.options,"type",s.dict),value:t,key:"type",keyName:Vt.getOptionKeyName("type"),formId:s.formId});p.Dom.append(o,e)},renderFieldPosition:function(e,t,s){e.innerHTML="";const r=this.getOptions(s.options,"position",s.dict);const o=t=>{s.callback([{name:"position",value:t}]).then((()=>{Vt.renderFieldPosition(e,t,s)}))};const a=()=>o("left");const i=()=>o("center");const n=()=>o("right");p.Dom.append(ot.renderOptionTitle(Vt.getOptionKeyName("position")),e);const l=p.Tag.render(_t||(_t=dt`<div class="crm-form-embed__settings"></div>`));ot.renderSquareButton("left",{callback:a,node:l,options:r,value:t,key:"position",keyName:Vt.getOptionValueName("position","left",s.dict),formId:s.formId});ot.renderSquareButton("center",{callback:i,node:l,options:r,value:t,key:"position",keyName:Vt.getOptionValueName("position","center",s.dict),formId:s.formId});ot.renderSquareButton("right",{callback:n,node:l,options:r,value:t,key:"position",keyName:Vt.getOptionValueName("position","right",s.dict),formId:s.formId});p.Dom.append(l,e)},renderFieldVertical:function(e,t,s){e.innerHTML="";const r=this.getOptions(s.options,"vertical",s.dict);const o=t=>{s.callback([{name:"vertical",value:t}]).then((()=>{Vt.renderFieldVertical(e,t,s)}))};const a=()=>o("bottom");const i=()=>o("top");p.Dom.append(ot.renderOptionTitle(Vt.getOptionKeyName("vertical")),e);const n=p.Tag.render(Et||(Et=dt`<div class="crm-form-embed__settings"></div>`));ot.renderSquareButton("bottom",{callback:a,node:n,options:r,value:t,key:"vertical",keyName:Vt.getOptionValueName("vertical","bottom",s.dict),formId:s.formId});ot.renderSquareButton("top",{callback:i,node:n,options:r,value:t,key:"vertical",keyName:Vt.getOptionValueName("vertical","top",s.dict),formId:s.formId});p.Dom.append(n,e)},renderFieldButtonStyle:function(e,t,s){var r,o,a,i;if(p.Type.isStringFilled(s==null?void 0:(r=s.values)==null?void 0:(o=r.button)==null?void 0:o.rounded)&&p.Type.isStringFilled(s==null?void 0:(a=s.values)==null?void 0:(i=a.button)==null?void 0:i.outlined)){t=s.values.button.rounded+":"+s.values.button.outlined}e.innerHTML="";const n=this.getOptions(s.options,"buttonStyle",s.dict);const l=t=>{const r=t.split(":");s.callback([{name:"button.rounded",value:r[0]},{name:"button.outlined",value:r[1]}]).then((()=>{Vt.renderFieldButtonStyle(e,t,s)}))};const d=()=>l("0:0");const c=()=>l("1:0");const b=()=>l("0:1");const u=()=>l("1:1");const m=e.dataset.controlMode==="advanced";ot.renderButton("0:0","ui-btn-primary",m,{callback:d,node:e,options:n,value:t,key:"buttonStyle",keyName:Vt.getOptionValueName("buttonStyle","0:0",s.dict),formId:s.formId});ot.renderButton("1:0","ui-btn-primary ui-btn-round",m,{callback:c,node:e,options:n,value:t,key:"buttonStyle",keyName:Vt.getOptionValueName("buttonStyle","1:0",s.dict),formId:s.formId});ot.renderButton("0:1","ui-btn-light-border",m,{callback:b,node:e,options:n,value:t,key:"buttonStyle",keyName:Vt.getOptionValueName("buttonStyle","0:1",s.dict),formId:s.formId});ot.renderButton("1:1","ui-btn-light-border ui-btn-round",m,{callback:u,node:e,options:n,value:t,key:"buttonStyle",keyName:Vt.getOptionValueName("buttonStyle","1:1",s.dict),formId:s.formId})},renderFieldButtonDecoration:function(e,t,s){e.innerHTML="";const r=this.getOptions(s.options,"button.decoration",s.dict);const o=t=>{s.callback([{name:"button.decoration",value:t}]).then((()=>{Vt.renderFieldButtonDecoration(e,t,s)}))};const a=()=>o("");const i=()=>o("dotted");const n=()=>o("solid");const l=e.dataset.controlMode==="advanced";ot.renderLink("","--border-no",l,{callback:a,node:e,options:r,value:t,key:"button.decoration",keyName:Vt.getOptionValueName("button.decoration","",s.dict),formId:s.formId});ot.renderLink("dotted","--border-dotted",l,{callback:i,node:e,options:r,value:t,key:"button.decoration",keyName:Vt.getOptionValueName("button.decoration","dotted",s.dict),formId:s.formId});ot.renderLink("solid","--border-line",l,{callback:n,node:e,options:r,value:t,key:"button.decoration",keyName:Vt.getOptionValueName("button.decoration","solid",s.dict),formId:s.formId})},renderFieldButtonFont:function(e,t,s){e.innerHTML="";const r=this.getOptions(s.options,"button.font",s.dict);const o=t=>{s.callback([{name:"button.font",value:t}]).then((()=>{Vt.renderFieldButtonFont(e,t,s)}))};const a=()=>o("modern");const i=()=>o("classic");const n=()=>o("elegant");const l=e.dataset.controlMode==="advanced";ot.renderTypeface("modern",l,{callback:a,node:e,options:r,value:t,key:"button.font",keyName:Vt.getOptionValueName("button.font","modern",s.dict),formId:s.formId});ot.renderTypeface("classic",l,{callback:i,node:e,options:r,value:t,key:"button.font",keyName:Vt.getOptionValueName("button.font","classic",s.dict),formId:s.formId});ot.renderTypeface("elegant",l,{callback:n,node:e,options:r,value:t,key:"button.font",keyName:Vt.getOptionValueName("button.font","elegant",s.dict),formId:s.formId})},renderFieldButtonAlign:function(e,t,s){e.innerHTML="";const r=this.getOptions(s.options,"button.align",s.dict);const o=t=>{s.callback([{name:"button.align",value:t}]).then((()=>{Vt.renderFieldButtonAlign(e,t,s)}))};const a=()=>o("left");const i=()=>o("center");const n=()=>o("right");const l=p.Tag.render(Bt||(Bt=dt`<div class="crm-form-embed__settings"></div>`));ot.renderSquareButton("left",{callback:a,node:l,options:r,value:t,key:"button.align",keyName:Vt.getOptionValueName("button.align","left",s.dict),formId:s.formId});ot.renderSquareButton("center",{callback:i,node:l,options:r,value:t,key:"button.align",keyName:Vt.getOptionValueName("button.align","center",s.dict),formId:s.formId});ot.renderSquareButton("right",{callback:n,node:l,options:r,value:t,key:"button.align",keyName:Vt.getOptionValueName("button.align","right",s.dict),formId:s.formId});p.Dom.append(l,e)},renderFieldLinkAlign:function(e,t,s){e.innerHTML="";const r=this.getOptions(s.options,"link.align",s.dict);const o=t=>{s.callback([{name:"link.align",value:t}]).then((()=>{Vt.renderFieldLinkAlign(e,t,s)}))};const a=()=>o("inline");const i=()=>o("left");const n=()=>o("center");const l=()=>o("right");const d=p.Tag.render(Ct||(Ct=dt`<div class="crm-form-embed__settings"></div>`));ot.renderSquareButton("inline",{callback:a,node:d,options:r,value:t,key:"link.align",keyName:Vt.getOptionValueName("link.align","inline",s.dict),formId:s.formId});ot.renderSquareButton("left",{callback:i,node:d,options:r,value:t,key:"link.align",keyName:Vt.getOptionValueName("link.align","left",s.dict),formId:s.formId});ot.renderSquareButton("center",{callback:n,node:d,options:r,value:t,key:"link.align",keyName:Vt.getOptionValueName("link.align","center",s.dict),formId:s.formId});ot.renderSquareButton("right",{callback:l,node:d,options:r,value:t,key:"link.align",keyName:Vt.getOptionValueName("link.align","right",s.dict),formId:s.formId});p.Dom.append(d,e)},renderFieldButtonPlain:function(e,t,s){e.innerHTML="";const r=t=>{s.callback([{name:"button.plain",value:t}]).then((()=>{Vt.renderFieldButtonPlain(e,t,s)}))};const o=p.Tag.render(Pt||(Pt=dt`<div class="crm-form-embed__settings--block-input"></div>`));ot.renderDropdown({callback:r,node:o,options:this.getOptions(s.options,"button.plain",s.dict),value:t,key:"button.plain",keyName:Vt.getOptionKeyName("button.plain"),formId:s.formId});p.Dom.append(o,e)},renderFieldButtonText:function(e,t,s){e.innerHTML="";const r=t=>{if(!p.Type.isStringFilled(t)){t=BX.Loc.getMessage("EMBED_SLIDER_BUTTONTEXT_PLACEHOLDER")}s.callback([{name:"button.text",value:t}]).then((()=>{Vt.renderFieldButtonText(e,t,s)}))};const o=p.Tag.render(Dt||(Dt=dt`<div class="crm-form-embed__settings--block-input"></div>`));const a=e.dataset.controlMode==="advanced";ot.renderText({callback:r,node:o,options:null,value:t?t:BX.Loc.getMessage("EMBED_SLIDER_BUTTONTEXT_PLACEHOLDER"),key:"button.text",keyName:Vt.getOptionKeyName("button.text"),formId:s.formId},a);p.Dom.append(o,e)},renderFieldButtonColorBackground:function(e,t,s){e.innerHTML="";const r=e.dataset.controlMode==="advanced";const o=e=>{const t=[{name:"button.color.background",value:e}];if(!r){t.push({name:"button.color.backgroundHover",value:e})}s.callback(t).then((()=>{}))};ot.renderColorPicker("color",{callback:o,node:e,options:null,value:t,key:"button.color.background",keyName:Vt.getOptionKeyName("button.color.background"),formId:s.formId})},renderFieldButtonColorBackgroundHover:function(e,t,s){e.innerHTML="";const r=e.dataset.controlMode==="advanced";const o=e=>{s.callback([{name:"button.color.backgroundHover",value:e}]).then((()=>{}))};ot.renderColorPicker("color",{callback:o,node:e,options:null,value:t,key:"button.color.backgroundHover",keyName:Vt.getOptionKeyName("button.color.backgroundHover"),formId:s.formId})},renderFieldButtonColorText:function(e,t,s){e.innerHTML="";const r=e.dataset.controlMode==="advanced";const o=e=>{const t=[{name:"button.color.text",value:e}];if(!r){t.push({name:"button.color.textHover",value:e})}s.callback(t).then((()=>{}))};ot.renderColorPicker("color",{callback:o,node:e,options:null,value:t,key:"button.color.text",keyName:Vt.getOptionKeyName("button.color.text"),formId:s.formId})},renderFieldButtonColorTextHover:function(e,t,s){e.innerHTML="";const r=e.dataset.controlMode==="advanced";const o=e=>{s.callback([{name:"button.color.textHover",value:e}]).then((()=>{}))};ot.renderColorPicker("color",{callback:o,node:e,options:null,value:t,key:"button.color.textHover",keyName:Vt.getOptionKeyName("button.color.textHover"),formId:s.formId})},renderFieldButtonUse:function(e,t,s){e.innerHTML="";const r=t=>s.callback([{name:"button.use",value:t}]).then((()=>{Vt.renderFieldButtonUse(e,t,s);nt(e,t==="1")}));ot.renderSwitcher({callback:r,node:e,options:null,value:t,key:"button.use",keyName:Vt.getOptionKeyName("button.use"),formId:s.formId})},renderLabel:function(e,t=false){return ot.renderLabel(e,t)},getOptions:function(e,t,s){const r={};e.forEach((e=>{r[e]=Vt.getOptionValueName(t,e,s)}));return r},getOptionKeyName:function(e){const t="EMBED_SLIDER_OPTION_"+e.toUpperCase();return BX.Loc.hasMessage(t)?BX.Loc.getMessage(t):p.Text.encode(e)},getOptionValueName:function(e,t,s){const r=e.split(".");const o=(e,t)=>{const s=e.shift();if(e.length>0){return o(e,!p.Type.isUndefined(t[s])?t[s]:{})}return!p.Type.isUndefined(t[s+"s"])?t[s+"s"]:[]};const a=o(r,s["viewOptions"]);let i=t;if(p.Type.isArray(a)){a.forEach((e=>{if(e.id.toString()===t.toString()){i=e.name}}))}return p.Text.encode(i)}};let Kt=e=>e,Ut,jt,qt,Zt;var Wt=babelHelpers.classPrivateFieldLooseKey("container");var Gt=babelHelpers.classPrivateFieldLooseKey("wizard");var zt=babelHelpers.classPrivateFieldLooseKey("rendered");var Yt=babelHelpers.classPrivateFieldLooseKey("renderError");var Qt=babelHelpers.classPrivateFieldLooseKey("createAdvancedSettingsLayout");var Jt=babelHelpers.classPrivateFieldLooseKey("renderAdvancedSettingsLayoutContent");class es extends Se{constructor(e,t){super(e,t);Object.defineProperty(this,Jt,{value:rs});Object.defineProperty(this,Qt,{value:ss});Object.defineProperty(this,Yt,{value:ts});Object.defineProperty(this,Wt,{writable:true,value:void 0});Object.defineProperty(this,Gt,{writable:true,value:void 0});Object.defineProperty(this,zt,{writable:true,value:false});babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]=super.render()}load(e=false){return super.load(e).then((()=>{babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt]=new Nt("auto",this.formId,this.dataProvider.getValues("auto"),this.dataProvider.getOptions("auto"),this.dataProvider.getDict());babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].subscribe("BX:Crm:Form:Embed:needToSave",(e=>this.save()));babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].subscribe("BX:Crm:Form:Embed:valueChanged",(e=>{this.updateDependentFields(babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt],e.data.name,e.data.value)}));if(!babelHelpers.classPrivateFieldLooseBase(this,zt)[zt]){this.render()}})).catch((e=>{console.error(e);if(!babelHelpers.classPrivateFieldLooseBase(this,zt)[zt]){babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt]()}}))}save(){this.data.embed.viewValues["auto"]=babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].getValues();return super.save()}render(){babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt].innerHTML="";const e=this.renderHeaderSection("clock",BX.Loc.getMessage("EMBED_SLIDER_AUTO_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_AUTO_DESC"),I,F);p.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]);if(!super.loaded){this.loader.show(babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt])}else{p.Dom.replace(e,this.renderHeaderSection("clock",BX.Loc.getMessage("EMBED_SLIDER_AUTO_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_AUTO_DESC"),this.dataProvider.data.embed.helpCenterId,this.dataProvider.data.embed.helpCenterUrl));p.Dom.append(this.renderPreviewSection(BX.Loc.getMessage("EMBED_SLIDER_QR_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_QR_DESC"),BX.Loc.getMessage("EMBED_SLIDER_OPEN_IN_NEW_TAB"),this.dataProvider.data.embed.previewLink.replace("#preview#","auto")),babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]);p.Dom.append(this.renderBaseSettings(),babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]);const t=this.data.embed.scripts["auto"].text;p.Dom.append(this.renderCodeBlock(t),babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]);p.Dom.append(this.renderCopySection(BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE"),BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE2"),t,this.renderBubble(BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE_BUBBLE_AUTO"),true)),babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]);babelHelpers.classPrivateFieldLooseBase(this,zt)[zt]=true}return babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]}renderBaseSettings(){const e=this.renderSection(this.renderSettingsHeader(BX.Loc.getMessage("EMBED_SLIDER_SETTINGS_HEADING"),false,(()=>{BX.SidePanel.Instance.open("crm.webform:embed:"+this.formId+":auto:expert",{width:920,cacheable:false,contentCallback:()=>babelHelpers.classPrivateFieldLooseBase(this,Qt)[Qt](),events:{onCloseComplete:e=>{this.load(true).then((()=>{this.render()}))}}})})));const t=p.Tag.render(Ut||(Ut=Kt`<div class="crm-form-embed__basic"></div>`));babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].renderOptionTo(t,"delay",true);p.Dom.addClass(t.querySelector(".ui-ctl-dropdown"),"crm-form-embed__select--time");p.Dom.append(t,e);return e}}function ts(){babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt].innerHTML="";p.Dom.append(Se.prototype.renderError.call(this,Se.prototype.data),babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt]);babelHelpers.classPrivateFieldLooseBase(this,zt)[zt]=true}function ss(){const e=babelHelpers.classPrivateFieldLooseBase(this,Jt)[Jt]();babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].subscribe("BX:Crm:Form:Embed:valueChanged",(t=>{this.updateDependentFields(e,t.data.name,t.data.value)}));return d.Layout.createContent({extensions:["crm.form.embed","ui.sidepanel-content","ui.forms","landing.ui.field.color","ui.switcher"],title:BX.Loc.getMessage("EMBED_SLIDER_EXPERT_MODE_TITLE"),design:{section:false},toolbar({Button:e}){return[new e({color:e.Color.LIGHT_BORDER,text:BX.Loc.getMessage("EMBED_SLIDER_TOOLBAR_BTN_FEEDBACK"),onclick:Ke})]},content:()=>e,buttons:({SaveButton:e,ApplyButton:t,cancelButton:s})=>[new e({onclick:e=>{e.setWaiting(true);this.save().then((()=>{e.setWaiting(false);this.render();BX.SidePanel.Instance.close()}))}}),new t({onclick:e=>{e.setWaiting(true);this.save().then((()=>{e.setWaiting(false);this.render()}))}}),s]})}function rs(){const e=this.renderContainer();p.Dom.append(this.renderHeaderSection("clock",BX.Loc.getMessage("EMBED_SLIDER_AUTO_TITLE2"),BX.Loc.getMessage("EMBED_SLIDER_AUTO_DESC2"),this.dataProvider.data.embed.helpCenterId,this.dataProvider.data.embed.helpCenterUrl),e);const t=p.Tag.render(jt||(jt=Kt`<div></div>`));p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].renderControlContainer([babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].renderOption("delay",false),babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].renderOption("type",false)]),t);const s=p.Tag.render(qt||(qt=Kt`<div class="crm-form-embed__settings--side-block"></div>`));const r=p.Tag.render(Zt||(Zt=Kt`<div data-option="vertical"></div>`));babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].renderOptionTo(s,"position",false);babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].renderOptionTo(r,"vertical",false);const o=babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt].renderControlContainer([s,r]);p.Dom.append(o,t);const a=[{html:[{header:BX.Loc.getMessage("EMBED_SLIDER_AUTO_WIZARD_TITLE"),node:t}]}];p.Dom.append(this.renderStepperSection(a),e);this.updateDependentFields(e,"type",this.data.embed.viewValues["auto"]["type"]);return e}let os=e=>e,as,is,ns,ls,ds,cs,bs,ps,us,ms,vs;var gs=babelHelpers.classPrivateFieldLooseKey("container");var hs=babelHelpers.classPrivateFieldLooseKey("wizard");var Ls=babelHelpers.classPrivateFieldLooseKey("rendered");var fs=babelHelpers.classPrivateFieldLooseKey("renderError");var _s=babelHelpers.classPrivateFieldLooseKey("createAdvancedSettingsLayout");var Es=babelHelpers.classPrivateFieldLooseKey("renderAdvancedSettingsLayoutContent");class Bs extends Se{constructor(e,t){super(e,t);Object.defineProperty(this,Es,{value:Ds});Object.defineProperty(this,_s,{value:Ps});Object.defineProperty(this,fs,{value:Cs});Object.defineProperty(this,gs,{writable:true,value:void 0});Object.defineProperty(this,hs,{writable:true,value:void 0});Object.defineProperty(this,Ls,{writable:true,value:false});babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]=super.render()}load(e=false){return super.load(e).then((()=>{babelHelpers.classPrivateFieldLooseBase(this,hs)[hs]=new Nt("click",this.formId,this.dataProvider.getValues("click"),this.dataProvider.getOptions("click"),this.dataProvider.getDict());babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].subscribe("BX:Crm:Form:Embed:needToSave",(e=>this.save()));babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].subscribe("BX:Crm:Form:Embed:valueChanged",(e=>{this.updateDependentFields(babelHelpers.classPrivateFieldLooseBase(this,gs)[gs],e.data.name,e.data.value)}));if(!babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]){this.render()}})).catch((e=>{console.error(e);if(!babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]){babelHelpers.classPrivateFieldLooseBase(this,fs)[fs]()}}))}save(){this.dataProvider.updateValues("click",{...babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].getValues()});return super.save()}render(){babelHelpers.classPrivateFieldLooseBase(this,gs)[gs].innerHTML="";const e=this.renderHeaderSection("click",BX.Loc.getMessage("EMBED_SLIDER_CLICK_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_CLICK_DESC"),I,F);p.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]);if(!super.loaded){this.loader.show(babelHelpers.classPrivateFieldLooseBase(this,gs)[gs])}else{p.Dom.replace(e,this.renderHeaderSection("click",BX.Loc.getMessage("EMBED_SLIDER_CLICK_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_CLICK_DESC"),this.dataProvider.data.embed.helpCenterId,this.dataProvider.data.embed.helpCenterUrl));p.Dom.append(this.renderPreviewSection(BX.Loc.getMessage("EMBED_SLIDER_QR_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_QR_DESC"),BX.Loc.getMessage("EMBED_SLIDER_OPEN_IN_NEW_TAB"),this.dataProvider.data.embed.previewLink.replace("#preview#","click")),babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]);p.Dom.append(this.renderFormSettings(),babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]);p.Dom.append(this.renderButtonSettings(),babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]);const t=this.dataProvider.data.embed.scripts["click"].text;p.Dom.append(this.renderCodeBlock(t),babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]);p.Dom.append(this.renderCopySection(BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE"),BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE2"),t,this.renderBubble(BX.Loc.getMessage("EMBED_SLIDER_COPY_CODE_BUBBLE_CLICK"),true)),babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]);babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]=true}return babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]}renderFormSettings(){const e=this.renderSection(this.renderSettingsHeader(BX.Loc.getMessage("EMBED_SLIDER_SETTINGS_HEADING"),false));const t=p.Tag.render(as||(as=os`<div></div>`));p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOption("type",true),t);const s=p.Tag.render(is||(is=os`<div class="crm-form-embed__settings--side-block --compact"></div>`));babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOptionTo(s,"position",true);const r=p.Tag.render(ns||(ns=os`<div data-option="vertical"></div>`));babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOptionTo(r,"vertical",true);const o=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer([s,r]);p.Dom.append(o,t);this.updateDependentFields(t,"type",this.dataProvider.getValues("click")["type"]);p.Dom.append(t,e);return e}renderButtonSettings(){const e=!p.Type.isUndefined(this.dataProvider.getValues("click")["button"])&&!p.Type.isUndefined(this.dataProvider.getValues("click")["button"]["use"])&&this.dataProvider.getValues("click")["button"]["use"]==="1";const t=this.renderSection(p.Tag.render(ls||(ls=os`
				<div class="ui-alert ui-alert-primary crm-form-embed-click-button-alert" id ='crm-form-embed-click-button-alert-${0}'>
					<span class="ui-alert-message">${0}</span>
					<span class="ui-alert-close-btn" onclick="BX.hide(BX('crm-form-embed-click-button-alert-${0}'));"></span>
				</div>
			`),this.formId,BX.Loc.getMessage("EMBED_SLIDER_CLICK_BUTTON_ALERT"),this.formId));p.Dom.append(this.renderSettingsHeader(BX.Loc.getMessage("EMBED_SLIDER_SETTINGS_HEADING_CLICK"),true,(()=>{BX.SidePanel.Instance.open("crm.webform:embed:"+this.formId+":click:expert",{width:920,cacheable:false,contentCallback:()=>babelHelpers.classPrivateFieldLooseBase(this,_s)[_s](),events:{onCloseComplete:e=>{this.load(true).then((()=>{this.render()}))}}})})),t);p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOption("button.use",true),t.querySelector(".crm-form-embed__customization-settings--switcher"));if(e){p.Dom.addClass(t.querySelector(".crm-form-embed__link.--expert-mode"),"--visible");p.Dom.removeClass(t.querySelector('[data-roll="heading-block"]'),"--collapse")}else{p.Dom.removeClass(t.querySelector(".crm-form-embed__link.--expert-mode"),"--visible");p.Dom.addClass(t.querySelector('[data-roll="heading-block"]'),"--collapse")}const s=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer([babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOption("button.plain",true),babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOption("button.text",true)]);const r=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOption("button.decoration",true);r.dataset.option="button.decoration";const o=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOption("buttonStyle",true);o.dataset.option="buttonStyle";const a=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderRow([s,o,r]);const i=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderCol();const n=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderCol();babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderColorPopup(i,"button.color.background",true);babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderColorPopup(n,"button.color.text",true);const l=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderRow([babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderBlock([babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderCol([babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderLabel(BX.Loc.getMessage("EMBED_SLIDER_OPTION_BUTTON.FONT"),true),babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOption("button.font",true)],true),i,n])],true);const d=p.Tag.render(ds||(ds=os`
			<div class="crm-form-embed__basic" data-roll="crm-form-embed__settings" ${0}></div>
		`),e?"":'style="height: 0px;"');p.Dom.append(a,d);p.Dom.append(l,d);p.Dom.append(d,t);this.updateDependentFields(t,"button.plain",this.dataProvider.getValues("click")["button"]["plain"]);return t}}function Cs(){babelHelpers.classPrivateFieldLooseBase(this,gs)[gs].innerHTML="";p.Dom.append(Se.prototype.renderError.call(this,Se.prototype.dataProvider.data),babelHelpers.classPrivateFieldLooseBase(this,gs)[gs]);babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]=true}function Ps(){return d.Layout.createContent({extensions:["crm.form.embed","ui.sidepanel-content","ui.forms","landing.ui.field.color","ui.switcher"],title:BX.Loc.getMessage("EMBED_SLIDER_EXPERT_MODE_TITLE"),design:{section:false},toolbar({Button:e}){return[new e({color:e.Color.LIGHT_BORDER,text:BX.Loc.getMessage("EMBED_SLIDER_TOOLBAR_BTN_FEEDBACK"),onclick:Ke})]},content:()=>babelHelpers.classPrivateFieldLooseBase(this,Es)[Es](),buttons:({cancelButton:e,ApplyButton:t,SaveButton:s})=>[new s({onclick:e=>{e.setWaiting(true);this.save().then((()=>{e.setWaiting(false);this.render();BX.SidePanel.Instance.close()}))}}),new t({onclick:e=>{e.setWaiting(true);this.save().then((()=>{e.setWaiting(false);this.render()}))}}),e]})}function Ds(){return new Promise(((e,t)=>{const s=this.renderContainer();p.Dom.append(this.renderHeaderSection("click",BX.Loc.getMessage("EMBED_SLIDER_CLICK_TITLE_ADVANCED"),BX.Loc.getMessage("EMBED_SLIDER_CLICK_DESC_ADVANCED"),this.dataProvider.data.embed.helpCenterId,this.dataProvider.data.embed.helpCenterUrl),s);this.loader.show(s);c.EventEmitter.subscribeOnce("SidePanel.Slider:onOpenComplete",(e=>{if(e.target.getUrl()==="crm.webform:embed:"+this.formId+":click:expert"){var t,r;this.loader.hide();const e=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer();e.dataset.controlMode="advanced";e.dataset.option="buttonStyle";babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOptionTo(e,"buttonStyle",false);const o=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer();o.dataset.controlMode="advanced";o.dataset.option="button.decoration";babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOptionTo(o,"button.decoration",false);const a=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer();a.dataset.controlMode="advanced";babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOptionTo(a,"button.text",false);const i=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer([babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOption("button.plain",false),a]);const n=p.Tag.render(cs||(cs=os`<div></div>`));p.Dom.append(i,n);p.Dom.append(e,n);p.Dom.append(o,n);const l=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer();l.dataset.controlMode="advanced";l.dataset.option="button.font";babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOptionTo(l,"button.font",false);const d=p.Tag.render(bs||(bs=os`
						<div>
							${0}
						</div>
					`),l);const c=this.renderSection();const b=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer();const u=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer();const m=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer();const v=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer();b.dataset.controlMode="advanced";u.dataset.controlMode="advanced";m.dataset.controlMode="advanced";v.dataset.controlMode="advanced";babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderColorInline(b,"button.color.background",false);babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderColorInline(m,"button.color.text",false);babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderColorInline(u,"button.color.backgroundHover",false);babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderColorInline(v,"button.color.textHover",false);const g=e=>{const t=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderLabel(BX.Loc.getMessage(e));p.Dom.addClass(t,"crm-form-embed__label-text-color");return t};p.Dom.append(p.Tag.render(ps||(ps=os`<div>
						${0}
					</div>`),babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderBlock([babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderCol([g("EMBED_SLIDER_OPTION_BUTTON.COLOR.BACKGROUND"),b]),babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderCol([g("EMBED_SLIDER_OPTION_BUTTON.COLOR.TEXT"),m]),babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderCol([g("EMBED_SLIDER_OPTION_BUTTON.COLOR.BACKGROUNDHOVER"),u]),babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderCol([g("EMBED_SLIDER_OPTION_BUTTON.COLOR.TEXTHOVER"),v])])),c);const h=p.Tag.render(us||(us=os`<div></div>`));const L=p.Tag.render(ms||(ms=os`<div class="crm-form-embed__settings--side-block" data-option="button.align"></div>`));babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOptionTo(L,"button.align",false);const f=p.Tag.render(vs||(vs=os`<div class="crm-form-embed__settings--side-block" data-option="link.align"></div>`));babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderOptionTo(f,"link.align",false);p.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].renderControlContainer([L,f]),h);const _=!p.Type.isUndefined((t=this.dataProvider.getValues("click"))==null?void 0:(r=t.button)==null?void 0:r.plain)&&this.dataProvider.getValues("click")["button"]["plain"]==="1"?"EMBED_SLIDER_CLICK_STEP_4_TITLE_2":"EMBED_SLIDER_CLICK_STEP_4_TITLE";const E=[{html:[{header:{title:BX.Loc.getMessage("EMBED_SLIDER_CLICK_STEP_1_TITLE")},node:n}]},{html:[{header:BX.Loc.getMessage("EMBED_SLIDER_CLICK_STEP_2_TITLE"),node:d}]},{html:[{header:BX.Loc.getMessage("EMBED_SLIDER_CLICK_STEP_3_TITLE"),node:c}]},{html:[{header:BX.Loc.getMessage(_),node:h}]}];p.Dom.append(this.renderStepperSection(E),s);this.updateDependentFields(s,"type",this.dataProvider.getValues("click")["type"]);this.updateDependentFields(s,"button.plain",this.dataProvider.getValues("click")["button"]["plain"]);babelHelpers.classPrivateFieldLooseBase(this,hs)[hs].subscribe("BX:Crm:Form:Embed:valueChanged",(e=>{this.updateDependentFields(s,e.data.name,e.data.value)}))}}));e(s)}))}var Hs=babelHelpers.classPrivateFieldLooseKey("container");var Ts=babelHelpers.classPrivateFieldLooseKey("rendered");var ys=babelHelpers.classPrivateFieldLooseKey("renderError");class Is extends Se{constructor(e,t){super(e,t);Object.defineProperty(this,ys,{value:Fs});Object.defineProperty(this,Hs,{writable:true,value:void 0});Object.defineProperty(this,Ts,{writable:true,value:false});babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]=super.render()}load(e=false){return super.load(e).then((()=>{if(!babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]){this.render()}})).catch((e=>{console.error(e);if(!babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]){babelHelpers.classPrivateFieldLooseBase(this,ys)[ys]()}}))}render(){babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs].innerHTML="";const e=this.renderHeaderSection("linked-link",BX.Loc.getMessage("EMBED_SLIDER_PUBLIC_LINK_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_PUBLIC_LINK_DESCRIPTION"),I,F);p.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]);if(!super.loaded){this.loader.show(babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs])}else{p.Dom.replace(e,this.renderHeaderSection("linked-link",BX.Loc.getMessage("EMBED_SLIDER_PUBLIC_LINK_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_PUBLIC_LINK_DESCRIPTION"),this.dataProvider.data.embed.helpCenterId,this.dataProvider.data.embed.helpCenterUrl));p.Dom.append(this.renderPreviewSection(BX.Loc.getMessage("EMBED_SLIDER_PUBLIC_LINK_QR_TITLE"),BX.Loc.getMessage("EMBED_SLIDER_PUBLIC_LINK_QR_DESC"),BX.Loc.getMessage("EMBED_SLIDER_PUBLIC_LINK_OPEN_IN_NEW_TAB"),this.dataProvider.data.embed.pubLink),babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]);p.Dom.append(this.renderCopySection(null,BX.Loc.getMessage("EMBED_SLIDER_COPY_LINK2"),this.dataProvider.data.embed.pubLink,null,"ui-btn-icon-follow crm-form-embed__btn-icon--link"),babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]);babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]=true}return babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]}}function Fs(){babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs].innerHTML="";p.Dom.append(Se.prototype.renderError.call(this,this.dataProvider.data),babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]);babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]=true;return babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs]}let ks=e=>e,Ms;const Ss=10;var ws=babelHelpers.classPrivateFieldLooseKey("options");var Os=babelHelpers.classPrivateFieldLooseKey("publink");var Ns=babelHelpers.classPrivateFieldLooseKey("inline");var Rs=babelHelpers.classPrivateFieldLooseKey("auto");var xs=babelHelpers.classPrivateFieldLooseKey("click");var Xs=babelHelpers.classPrivateFieldLooseKey("widget");var $s=babelHelpers.classPrivateFieldLooseKey("openlines");var As=babelHelpers.classPrivateFieldLooseKey("render");var Vs=babelHelpers.classPrivateFieldLooseKey("loadTab");class Ks{constructor(e,t={}){Object.defineProperty(this,Vs,{value:js});Object.defineProperty(this,As,{value:Us});Object.defineProperty(this,ws,{writable:true,value:void 0});Object.defineProperty(this,Os,{writable:true,value:void 0});Object.defineProperty(this,Ns,{writable:true,value:void 0});Object.defineProperty(this,Rs,{writable:true,value:void 0});Object.defineProperty(this,xs,{writable:true,value:void 0});Object.defineProperty(this,Xs,{writable:true,value:void 0});Object.defineProperty(this,$s,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ws)[ws]=t;const s=new v;babelHelpers.classPrivateFieldLooseBase(this,Os)[Os]=new Is(e,s);babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns]=new Re(e,s);babelHelpers.classPrivateFieldLooseBase(this,xs)[xs]=new Bs(e,s);babelHelpers.classPrivateFieldLooseBase(this,Rs)[Rs]=new es(e,s);const r=t.widgetsCount?t.widgetsCount:Ss;babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs]=new oe(e,{widgetsCount:r});babelHelpers.classPrivateFieldLooseBase(this,$s)[$s]=new _e(e,{widgetsCount:r})}static openSlider(e,t={activeMenuItemId:"link"}){const s=new Ks(e,{...t});BX.SidePanel.Instance.open("crm.webform:embed:"+e,{width:1046,cacheable:false,...t.sliderOptions,contentCallback:()=>babelHelpers.classPrivateFieldLooseBase(s,As)[As](t),events:{onCloseComplete:e=>{if(p.Type.isFunction(t.onCloseComplete)){t.onCloseComplete()}},onLoad:e=>{babelHelpers.classPrivateFieldLooseBase(s,Vs)[Vs](t.activeMenuItemId)}}})}static open(e,t={widgetsCount:Ss,activeMenuItemId:"inline"}){Ks.openSlider(e,t)}}function Us(e){return d.Layout.createContent({extensions:["crm.form.embed","ui.sidepanel-content","ui.forms","landing.ui.field.color","ui.switcher"],title:BX.Loc.getMessage("EMBED_SLIDER_MAIN_TITLE"),design:{section:false},toolbar({Button:e}){return[new e({color:e.Color.LIGHT_BORDER,text:BX.Loc.getMessage("EMBED_SLIDER_TOOLBAR_BTN_FEEDBACK"),onclick:Ke})]},content:()=>p.Tag.render(Ms||(Ms=ks`
					<div class="crm-form-embed-slider-wrapper">
						<div data-menu-item-id="widgets">${0}</div>
						<div data-menu-item-id="openlines">${0}</div>
						<div data-menu-item-id="inline">${0}</div>
						<div data-menu-item-id="click">${0}</div>
						<div data-menu-item-id="auto">${0}</div>
						<div data-menu-item-id="link">${0}</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs].render(),babelHelpers.classPrivateFieldLooseBase(this,$s)[$s].render(),babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns].render(),babelHelpers.classPrivateFieldLooseBase(this,xs)[xs].render(),babelHelpers.classPrivateFieldLooseBase(this,Rs)[Rs].render(),babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].render()),menu:{items:[{label:p.Loc.getMessage("EMBED_SLIDER_PUBLIC_LINK_MENU"),id:"link",onclick:()=>babelHelpers.classPrivateFieldLooseBase(this,Vs)[Vs]("link"),active:e.activeMenuItemId==="link"},{label:p.Loc.getMessage("EMBED_SLIDER_WIDGET_MENU"),id:"widgets",onclick:()=>babelHelpers.classPrivateFieldLooseBase(this,Vs)[Vs]("widgets"),active:e.activeMenuItemId==="widgets"},{label:p.Loc.getMessage("EMBED_SLIDER_OPENLINES_MENU"),id:"openlines",onclick:()=>babelHelpers.classPrivateFieldLooseBase(this,Vs)[Vs]("openlines"),active:e.activeMenuItemId==="openlines"},{label:p.Loc.getMessage("EMBED_SLIDER_INLINE_MENU"),id:"inline",onclick:()=>babelHelpers.classPrivateFieldLooseBase(this,Vs)[Vs]("inline"),active:e.activeMenuItemId==="inline"},{label:p.Loc.getMessage("EMBED_SLIDER_CLICK_MENU"),id:"click",onclick:()=>babelHelpers.classPrivateFieldLooseBase(this,Vs)[Vs]("click"),active:e.activeMenuItemId==="click"},{label:p.Loc.getMessage("EMBED_SLIDER_AUTO_MENU"),id:"auto",onclick:()=>babelHelpers.classPrivateFieldLooseBase(this,Vs)[Vs]("auto"),active:e.activeMenuItemId==="auto"}]},buttons:({closeButton:e})=>[e]})}function js(e){switch(e){case"widgets":babelHelpers.classPrivateFieldLooseBase(this,Xs)[Xs].load();break;case"openlines":babelHelpers.classPrivateFieldLooseBase(this,$s)[$s].load();break;case"inline":babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns].load();break;case"click":babelHelpers.classPrivateFieldLooseBase(this,xs)[xs].load();break;case"auto":babelHelpers.classPrivateFieldLooseBase(this,Rs)[Rs].load();break;case"link":default:babelHelpers.classPrivateFieldLooseBase(this,Os)[Os].load();break}}e.Embed=Ks})(this.BX.Crm.Form=this.BX.Crm.Form||{},BX,BX.UI,BX,BX.Landing.UI.Field,BX.UI,BX.UI.Feedback,BX,BX,BX.UI.SidePanel,BX.Event,BX.UI,BX);
//# sourceMappingURL=embed.bundle.map.js