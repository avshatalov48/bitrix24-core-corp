this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(t,e,a,s){"use strict";var i,l,r,n,c;function o(t,e,a){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return a}var p=new WeakMap;var b=new WeakMap;var d=new WeakMap;var h=new WeakMap;var u=new WeakMap;var v=new WeakSet;var _=new WeakSet;var m=new WeakSet;var f=new WeakSet;var w=new WeakSet;var g=new WeakSet;var P=function(){function t(e){babelHelpers.classCallCheck(this,t);g.add(this);w.add(this);f.add(this);m.add(this);_.add(this);v.add(this);p.set(this,{writable:true,value:void 0});b.set(this,{writable:true,value:null});d.set(this,{writable:true,value:null});h.set(this,{writable:true,value:null});u.set(this,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,p,e.link)}babelHelpers.createClass(t,[{key:"renderTo",value:function t(e){var a=o(this,v,H).call(this);e.appendChild(a);return a}},{key:"show",value:function t(){o(this,f,C).call(this);if(!o(this,m,M).call(this).isShown()){o(this,m,M).call(this).show()}}},{key:"close",value:function t(){if(o(this,m,M).call(this).isShown()){o(this,m,M).call(this).close()}}}]);return t}();function H(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,d)){babelHelpers.classPrivateFieldSet(this,d,a.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<button\n\t\t\t\t\ttype="button"\n\t\t\t\t\tclass="crm-webform-qr-btn ui-btn ui-btn-xs ui-btn-light-border ui-btn-round ui-btn-no-caps ui-btn-icon-share"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</button>\n\t\t\t"])),a.Loc.getMessage("CRM_WEBFORM_QR_OPEN")));babelHelpers.classPrivateFieldGet(this,d).addEventListener("click",function(e){e.stopPropagation();t.show()})}return babelHelpers.classPrivateFieldGet(this,d)}function F(){if(!babelHelpers.classPrivateFieldGet(this,b)){babelHelpers.classPrivateFieldSet(this,b,a.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__popup-image"></div>\n\t\t\t']))))}return babelHelpers.classPrivateFieldGet(this,b)}function M(){if(!this.popup){var t=a.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__scope">\n\t\t\t\t\t<div class="crm-webform__popup-container --qr">\n\t\t\t\t\t\t<div class="crm-webform__popup-wrapper">\n\t\t\t\t\t\t\t<div class="crm-webform__popup-content">\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-text">',"</div>\n\t\t\t\t\t\t\t\t",'\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-text --sm">\n\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-buttons">\n\t\t\t\t\t\t\t\t\t<a href="','" target="_blank" class="ui-btn ui-btn-light-border ui-btn-round">\n\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="crm-webform__popup-bottom">\n\t\t\t\t\t\t\t\t<a href="','" target="_blank" class="crm-webform__popup-url">\n\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),a.Loc.getMessage("CRM_WEBFORM_QR_TITLE"),o(this,_,F).call(this),a.Loc.getMessage("CRM_WEBFORM_QR_DESC"),babelHelpers.classPrivateFieldGet(this,p),a.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_OPEN_SITE"),babelHelpers.classPrivateFieldGet(this,p),babelHelpers.classPrivateFieldGet(this,p),o(this,w,E).call(this),o(this,g,k).call(this));this.popup=new s.Popup({className:"crm-webform__status-popup",content:t,bindElement:window,width:405,minWidth:220,closeByEsc:true,autoHide:true,animation:"fading-slide",closeIcon:true,padding:0})}return this.popup}function C(){if(!babelHelpers.classPrivateFieldGet(this,b)){new QRCode(o(this,_,F).call(this),{text:babelHelpers.classPrivateFieldGet(this,p),width:250,height:250})}}function E(){if(!babelHelpers.classPrivateFieldGet(this,u)){babelHelpers.classPrivateFieldSet(this,u,a.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<input \n\t\t\t\t\ttype="text" \n\t\t\t\t\tstyle="position: absolute; opacity: 0; pointer-events: none"\n\t\t\t\t\tvalue="','">\n\t\t\t'])),babelHelpers.classPrivateFieldGet(this,p)))}return babelHelpers.classPrivateFieldGet(this,u)}function k(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,h)){babelHelpers.classPrivateFieldSet(this,h,a.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__popup-copy">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"])),a.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_COPY_LINK")));a.Event.bind(babelHelpers.classPrivateFieldGet(this,h),"click",function(){o(t,w,E).call(t).select();document.execCommand("copy");BX.UI.Notification.Center.notify({content:a.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_COPY_LINK_COMPLETE"),autoHideDelay:2e3})})}return babelHelpers.classPrivateFieldGet(this,h)}t.Qr=P})(this.BX.Crm.Form=this.BX.Crm.Form||{},BX,BX,BX.Main);
//# sourceMappingURL=qr.bundle.map.js