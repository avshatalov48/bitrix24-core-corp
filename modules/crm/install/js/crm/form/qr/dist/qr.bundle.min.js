this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(t,e,i,a,s,l){"use strict";var n,r,c,o,p;function b(t,e){u(t,e);e.add(t)}function h(t,e,i){u(t,e);e.set(t,i)}function u(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function d(t,e,i){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return i}var v=new WeakMap;var _=new WeakMap;var m=new WeakMap;var f=new WeakMap;var w=new WeakMap;var g=new WeakSet;var P=new WeakSet;var H=new WeakSet;var F=new WeakSet;var M=new WeakSet;var C=new WeakSet;var E=function(){function t(e){babelHelpers.classCallCheck(this,t);b(this,C);b(this,M);b(this,F);b(this,H);b(this,P);b(this,g);h(this,v,{writable:true,value:void 0});h(this,_,{writable:true,value:null});h(this,m,{writable:true,value:null});h(this,f,{writable:true,value:null});h(this,w,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,v,e.link)}babelHelpers.createClass(t,[{key:"renderTo",value:function t(e){var i=d(this,g,k).call(this);e.appendChild(i);return i}},{key:"show",value:function t(){d(this,F,L).call(this);if(!d(this,H,B).call(this).isShown()){d(this,H,B).call(this).show()}}},{key:"close",value:function t(){if(d(this,H,B).call(this).isShown()){d(this,H,B).call(this).close()}}}]);return t}();function k(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,m)){babelHelpers.classPrivateFieldSet(this,m,s.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<button\n\t\t\t\t\ttype="button"\n\t\t\t\t\tclass="crm-webform-qr-btn ui-btn ui-btn-xs ui-btn-light-border ui-btn-round ui-btn-no-caps ui-btn-icon-share"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</button>\n\t\t\t"])),s.Loc.getMessage("CRM_WEBFORM_QR_OPEN")));babelHelpers.classPrivateFieldGet(this,m).addEventListener("click",(function(e){e.stopPropagation();t.show()}))}return babelHelpers.classPrivateFieldGet(this,m)}function T(){if(!babelHelpers.classPrivateFieldGet(this,_)){babelHelpers.classPrivateFieldSet(this,_,s.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__popup-image"></div>\n\t\t\t']))))}return babelHelpers.classPrivateFieldGet(this,_)}function B(){if(!this.popup){var t=s.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__scope">\n\t\t\t\t\t<div class="crm-webform__popup-container --qr">\n\t\t\t\t\t\t<div class="crm-webform__popup-wrapper">\n\t\t\t\t\t\t\t<div class="crm-webform__popup-content">\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-text">',"</div>\n\t\t\t\t\t\t\t\t",'\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-text --sm">\n\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-buttons">\n\t\t\t\t\t\t\t\t\t<a href="','" target="_blank" class="ui-btn ui-btn-light-border ui-btn-round">\n\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="crm-webform__popup-bottom">\n\t\t\t\t\t\t\t\t<a href="','" target="_blank" class="crm-webform__popup-url">\n\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),s.Loc.getMessage("CRM_WEBFORM_QR_TITLE"),d(this,P,T).call(this),s.Loc.getMessage("CRM_WEBFORM_QR_DESC"),babelHelpers.classPrivateFieldGet(this,v),s.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_OPEN_SITE"),babelHelpers.classPrivateFieldGet(this,v),babelHelpers.classPrivateFieldGet(this,v),d(this,M,R).call(this),d(this,C,W).call(this));this.popup=new l.Popup({className:"crm-webform__status-popup",content:t,bindElement:window,width:405,minWidth:220,closeByEsc:true,autoHide:true,animation:"fading-slide",closeIcon:true,padding:0})}return this.popup}function L(){if(!babelHelpers.classPrivateFieldGet(this,_)){new QRCode(d(this,P,T).call(this),{text:babelHelpers.classPrivateFieldGet(this,v),width:250,height:250})}}function R(){if(!babelHelpers.classPrivateFieldGet(this,w)){babelHelpers.classPrivateFieldSet(this,w,s.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<input \n\t\t\t\t\ttype="text" \n\t\t\t\t\tstyle="position: absolute; opacity: 0; pointer-events: none"\n\t\t\t\t\tvalue="','">\n\t\t\t'])),babelHelpers.classPrivateFieldGet(this,v)))}return babelHelpers.classPrivateFieldGet(this,w)}function W(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,f)){babelHelpers.classPrivateFieldSet(this,f,s.Tag.render(p||(p=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__popup-copy">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"])),s.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_COPY_LINK")));s.Event.bind(babelHelpers.classPrivateFieldGet(this,f),"click",(function(){d(t,M,R).call(t).select();document.execCommand("copy");BX.UI.Notification.Center.notify({content:s.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_COPY_LINK_COMPLETE"),autoHideDelay:2e3})}))}return babelHelpers.classPrivateFieldGet(this,f)}t.Qr=E})(this.BX.Crm.Form=this.BX.Crm.Form||{},BX,BX,BX,BX,BX.Main);
//# sourceMappingURL=qr.bundle.map.js