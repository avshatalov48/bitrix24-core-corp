{"version":3,"sources":["partial_entity_editor.js"],"names":["BX","namespace","Crm","PartialEditorDialog","this","_id","_settings","_serviceUrl","_entityTypeId","_entityTypeName","_entityId","_fieldNames","_html","_editor","_wrapper","_popup","_buttons","_isLocked","_notAvailableFieldsErrorTextWrapper","_notAvailableFieldsErrorText","_entityUpdateSuccessHandler","delegate","onEntityUpdateSuccess","_entityUpdateFailureHandler","onEntityUpdateFailure","_entityValidationFailureHandler","onEntityValidationFailure","prototype","initialize","id","settings","type","isNotEmptyString","util","getRandomString","prop","getInteger","CrmEntityType","enumeration","undefined","resolveName","getString","resolveId","getArray","_isAccepted","getSetting","name","defaultValue","get","getId","getEditorId","toLowerCase","isLoaded","getServiceUrl","entityEditorUrls","load","ajax","post","ACTION","ACTION_ENTITY_TYPE_NAME","ACTION_ENTITY_ID","GUID","FIELDS","PARAMS","CONTEXT","getObject","TITLE","FORCE_DEFAULT_CONFIG","ENABLE_CONFIG_SCOPE_TOGGLE","ENABLE_CONFIGURATION_UPDATE","ENABLE_FIELDS_CONTEXT_MENU","IS_EMBEDDED","result","editor","EntityEditor","release","innerOpen","bind","open","PopupWindow","autoHide","draggable","closeByEsc","offsetLeft","offsetTop","zIndex","bindOptions","forceBindPosition","content","prepareContent","events","onPopupShow","onPopupClose","onPopupDestroy","show","close","isOpen","isShown","create","props","style","width","innerHTML","appendChild","buttonWrapper","className","DialogButtonType","names","accept","text","message","click","onSaveButtonClick","cancel","onCancelButtonClick","e","addClass","addCustomEvent","window","save","eventParams","removeClass","removeCustomEvent","onCustomEvent","entityTypeId","entityTypeName","entityId","entityData","bid","isCancelled","checkErrors","fieldNames","getNotAccessibleFieldNames","Object","keys","length","forEach","fieldName","push","messages","entityHasInaccessibleFields","join","sender","eventArgs","helpData","addHelpLink","setTimeout","adjustPosition","destroy","items","fieldsWithErrors","sections","getScheme","getElements","visibleFields","section","concat","map","item","_name","filter","x","includes","registerEntityEditorUrl","url","hasOpenItems","key","hasOwnProperty","getItem","self"],"mappings":"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","file":"partial_entity_editor.map.js"}