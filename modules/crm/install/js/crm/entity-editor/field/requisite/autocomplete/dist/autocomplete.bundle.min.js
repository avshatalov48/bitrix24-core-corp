this.BX=this.BX||{};(function(e,t,i,n,s,r){"use strict";var a,o,l,c,d,u,h,p,m;var f=function(e){babelHelpers.inherits(n,e);function n(){var e;babelHelpers.classCallCheck(this,n);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this));e.setEventNamespace("BX.Crm.Requisite.Autocomplete");e._id="";e._settings={};e._placeholderText=null;e._isLoading=false;e._isEnabled=false;e._context={};e._currentItem=null;e._domNodes={};e._dropdown=null;e.currentSearchQueryText="";e.detailAutocompletePlacement=null;e.entitySearchPopupCloseHandler=null;e.placementsParamsHandler=null;e.searchQueryInputHandler=null;e.beforeAddPlacementItemsHandler=null;e.placementSearchParamsHandler=null;e.placementSetFoundItemsHandler=null;e.placementEntitySelectHandler=null;e.externalSearchHandler=null;e.externalSearchResultHandlerList=null;e.beforeEntitySearchPopupCloseHandler=null;e.onDocumentClickConfirm=null;e.creatingItem=null;e.clientResolverPlacementParams=null;return e}babelHelpers.createClass(n,[{key:"initialize",value:function e(t,i){this._id=BX.type.isNotEmptyString(t)?t:BX.util.getRandomString(4);this._settings=i?i:{};this._placeholderText=BX.prop.getString(this._settings,"placeholderText","");this._context=BX.prop.getObject(this._settings,"context",{});this._isEnabled=BX.prop.getBoolean(this._settings,"enabled",false);this._featureRestrictionCallback=BX.prop.getString(this._settings,"featureRestrictionCallback","");this._isPermitted=this._featureRestrictionCallback==="";this._showFeedbackLink=this._isPermitted?BX.prop.getBoolean(this._settings,"showFeedbackLink",false):false;this.clientResolverPlacementParams=this.filterclientResolverPlacementParams(BX.prop.getObject(this._settings,"clientResolverPlacementParams",null));this.externalSearchHandler=this.onExternalSearch.bind(this);this.externalSearchResultHandlerList=new Map;this.doInitialize()}},{key:"filterclientResolverPlacementParams",value:function e(i){if(!t.Type.isObject(i)){return null}return{isPlacement:BX.prop.getBoolean(i,"isPlacement",false),numberOfPlacements:BX.prop.getInteger(i,"numberOfPlacements",0),countryId:BX.prop.getInteger(i,"countryId",0)}}},{key:"doInitialize",value:function e(){}},{key:"layout",value:function e(i){if(!t.Type.isDomNode(i)){return}this._domNodes.requisiteClearButton=t.Tag.render(a||(a=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="ui-ctl-after ui-ctl-icon-clear" onclick="','"></button>'])),this.onSearchStringClear.bind(this));this._domNodes.requisiteSearchButton=t.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="ui-ctl-after ui-ctl-icon-search" onclick="','"></button>'])),this.onSearchButtonClick.bind(this));var n=this._placeholderText;this._domNodes.requisiteSearchString=t.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<input type="text" placeholder="','" class="ui-ctl-element ui-ctl-textbox" />'])),t.Text.encode(n));if(!this._isPermitted){this._domNodes.requisiteSearchString.setAttribute("onclick",this._featureRestrictionCallback)}this.refreshLayout();t.Dom.append(t.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['\n\t\t<div class="ui-ctl ui-ctl-w100 ui-ctl-after-icon">\n\t\t\t',"\n\t\t\t","\n\t\t\t","\n\t\t</div>"])),this._domNodes.requisiteSearchButton,this._domNodes.requisiteClearButton,this._domNodes.requisiteSearchString),i);this.initDropdown();this.refreshLayout()}},{key:"initDropdown",value:function e(){if(!this._dropdown){var n=BX.prop.getBoolean(this.clientResolverPlacementParams,"isPlacement",false);this._dropdown=new P({isDisabled:!this._isPermitted,searchAction:BX.prop.getString(this._settings,"searchAction",""),externalSearchHandler:n?this.externalSearchHandler:null,items:[],enableCreation:true,enableCreationOnBlur:true,autocompleteDelay:1e3,messages:{creationLegend:t.Loc.getMessage("REQUISITE_AUTOCOMPLETE_ADD_REQUISITE"),notFound:t.Loc.getMessage("REQUISITE_AUTOCOMPLETE_NOT_FOUND")},placementParams:this.clientResolverPlacementParams});i.EventEmitter.subscribe(this._dropdown,"BX.UI.Dropdown:onSelect",this.onEntitySelect.bind(this));i.EventEmitter.subscribe(this._dropdown,"BX.UI.Dropdown:onAdd",this.onEntityAdd.bind(this));i.EventEmitter.subscribe(this._dropdown,"BX.UI.Dropdown:onReset",this.onEntityReset.bind(this));i.EventEmitter.subscribe(this._dropdown,"BX.UI.Dropdown:onBeforeSearchStart",this.onEntitySearchStart.bind(this));i.EventEmitter.subscribe(this._dropdown,"BX.UI.Dropdown:onSearchComplete",this.onEntitySearchComplete.bind(this));BX.addCustomEvent(this._dropdown,"Dropdown:onGetPopupAlertContainer",this.onGetPopupAlertContainer.bind(this))}this._dropdown.searchOptions=this._context;this._dropdown.targetElement=this._domNodes.requisiteSearchString;this._dropdown.init();this.setEnabled(this._isEnabled);this.setShowFeedbackLink(this._showFeedbackLink)}},{key:"getDropdownPopup",value:function e(){return this._dropdown.getPopupWindow()}},{key:"closeDropdownPopup",value:function e(){var t=this.getDropdownPopup();if(t){t.close()}}},{key:"setCurrentItem",value:function e(i){this._currentItem=t.Type.isPlainObject(i)?i:null;this.refreshLayout()}},{key:"setShowFeedbackLink",value:function e(t){this._showFeedbackLink=!!t;if(this._dropdown){this._dropdown.setFeedbackFormParams(this._showFeedbackLink?BX.prop.getObject(this._settings,"feedbackFormParams",{}):{})}}},{key:"refreshLayout",value:function e(){if(!t.Type.isDomNode(this._domNodes.requisiteSearchString)||!t.Type.isDomNode(this._domNodes.requisiteSearchButton)||!t.Type.isDomNode(this._domNodes.requisiteClearButton)){return}var i="";if(t.Type.isObject(this._currentItem)&&this._isPermitted){var n=[this._currentItem.title];if(t.Type.isStringFilled(this._currentItem.subTitle)){n.push(this._currentItem.subTitle)}i=n.join(", ");t.Dom.style(this._domNodes.requisiteSearchButton,"display","none");t.Dom.style(this._domNodes.requisiteClearButton,"display","");if(this._dropdown){this._dropdown.setCanAddRequisite(false)}}else{t.Dom.style(this._domNodes.requisiteClearButton,"display","none");if(this._isEnabled||!this._isPermitted){t.Dom.style(this._domNodes.requisiteSearchButton,"display","")}else{t.Dom.style(this._domNodes.requisiteSearchButton,"display","none")}if(this._dropdown){this._dropdown.setCanAddRequisite(this._isPermitted&&BX.prop.getBoolean(this._settings,"canAddRequisite",false))}}this._domNodes.requisiteSearchString.value=i;this.onSearchQueryInput();this.setLoading(false)}},{key:"getState",value:function e(){return{currentItem:this._currentItem,searchQuery:t.Type.isDomNode(this._domNodes.requisiteSearchString)?this._domNodes.requisiteSearchString.value:null,items:t.Type.isObject(this._dropdown)?this._dropdown.getItems():[]}}},{key:"setState",value:function e(i){if(!t.Type.isPlainObject(i)){return}this.setCurrentItem(t.Type.isPlainObject(i.currentItem)?i.currentItem:null);if(t.Type.isString(i.searchQuery)&&t.Type.isDomNode(this._domNodes.requisiteSearchString)&&this._isPermitted){this._domNodes.requisiteSearchString.value=i.searchQuery;this.onSearchQueryInput()}if(t.Type.isArray(i.items)){this._dropdown.setItems(i.items)}}},{key:"setContext",value:function e(i){this._context=t.Type.isPlainObject(i)?i:{};if(this._dropdown){this._dropdown.searchOptions=this._context}}},{key:"setPlaceholderText",value:function e(i){this._placeholderText=t.Type.isStringFilled(i)?i:"";if(t.Type.isDomNode(this._domNodes.requisiteSearchString)){this._domNodes.requisiteSearchString.placeholder=this._placeholderText}}},{key:"setClientResolverPlacementParams",value:function e(t){this.clientResolverPlacementParams=this.filterclientResolverPlacementParams(t)}},{key:"setEnabled",value:function e(t){this._isEnabled=!!t;if(this._dropdown){this._dropdown.setMinSearchStringLength(this._isEnabled?3:99999)}}},{key:"setLoading",value:function e(i){i=!!i;if(i===this._isLoading){return}this._isLoading=i;var n=this._domNodes.requisiteSearchButton;if(t.Type.isDomNode(n)){if(i){n.classList.remove("ui-ctl-icon-search");n.classList.add("ui-ctl-icon-loader")}else{n.classList.remove("ui-ctl-icon-loader");n.classList.add("ui-ctl-icon-search")}}var s=this._domNodes.requisiteClearButton;if(t.Type.isDomNode(s)){if(i){s.classList.remove("ui-ctl-icon-clear");s.classList.add("ui-ctl-icon-loader")}else{s.classList.remove("ui-ctl-icon-loader");s.classList.add("ui-ctl-icon-clear")}}}},{key:"onSearchStringClear",value:function e(){this.emit("onClear")}},{key:"onSearchButtonClick",value:function e(){if(t.Type.isObject(this._dropdown)){this._dropdown.handleTypeInField()}}},{key:"onEntitySelect",value:function e(t){var i=t.getData();var n=i[0];var s=i[1];if(n===this._dropdown&&s["appSid"]&&!s["created"]){if(!this.creatingItem){this.creatingItem=s;s._loader=new BX.Loader({target:s.node,size:40});s.node.classList.add("client-editor-active");s.node.parentNode.classList.add("client-editor-inactive");s._loader.show();BX.onCustomEvent(this.detailAutocompletePlacement,"Placements:pick",[{appSid:s["appSid"],data:s}])}return}this.selectEntity(s)}},{key:"selectEntity",value:function e(t){if(this.creatingItem){for(var i in t){if(t.hasOwnProperty(i)){this.creatingItem[i]=t[i]}}this.creatingItem["created"]=true;this.creatingItem=null;this._dropdown.setItems([])}if(this.onDocumentClickConfirm){this.onDocumentClickConfirm.close();this.onDocumentClickConfirm=null}this.closeDropdownPopup();this.setCurrentItem(t);this.emit("onSelectValue",t)}},{key:"onEntityAdd",value:function e(t){var i=t.getData();var n=i[0];n.getPopupWindow().close();this.emit("onCreateNewItem")}},{key:"onEntityReset",value:function e(){this.setCurrentItem(null)}},{key:"onEntitySearchStart",value:function e(){this.setLoading(true);this._dropdown.setItems([])}},{key:"onExternalSearch",value:function e(){var i=this;return new Promise((function(e){if(i.detailAutocompletePlacement){var n={appId:0};BX.onCustomEvent(i.detailAutocompletePlacement,"Placements:startDefaultSearch",[n]);if(t.Type.isInteger(n["appId"])&&n["appId"]>0){if(!i.externalSearchResultHandlerList.has(n["appId"])){i.externalSearchResultHandlerList.set(n["appId"],(function(t){e(t)}))}return}}e([])}))}},{key:"initPlacement",value:function e(i,n){if(!this.detailAutocompletePlacement){var r=t.Type.isPlainObject(this.clientResolverPlacementParams)&&this.clientResolverPlacementParams.hasOwnProperty("numberOfPlacements")&&t.Type.isNumber(this.clientResolverPlacementParams["numberOfPlacements"])&&this.clientResolverPlacementParams["numberOfPlacements"]>0;if(r){this.detailAutocompletePlacement=new s.DetailSearch("CRM_REQUISITE_AUTOCOMPLETE")}if(this.detailAutocompletePlacement){if(!this.dropdownPopup){this.dropdownPopup=this._dropdown.getPopupWindow()}this.beforeEntitySearchPopupCloseHandler=this.onBeforeEntitySearchPopupClose.bind(this,this.dropdownPopup._tryCloseByEvent.bind(this.dropdownPopup));this.dropdownPopup._tryCloseByEvent=this.beforeEntitySearchPopupCloseHandler;this.entitySearchPopupCloseHandler=this.onEntitySearchPopupClose.bind(this);BX.addCustomEvent(this.dropdownPopup,"onPopupClose",this.entitySearchPopupCloseHandler);this.placementsParamsHandler=this.onPlacementsParams.bind(this);BX.addCustomEvent(this.detailAutocompletePlacement,"Placements:params",this.placementsParamsHandler);this.beforeAddPlacementItemsHandler=this.onBeforeAppendPlacementItems.bind(this);BX.addCustomEvent(this.detailAutocompletePlacement,"Placements:beforeAppendItems",this.beforeAddPlacementItemsHandler);this.placementSearchParamsHandler=this.onPlacamentSearchParams.bind(this);BX.addCustomEvent(this.detailAutocompletePlacement,"Placements:searchParams",this.placementSearchParamsHandler);this.placementSetFoundItemsHandler=this.onPlacementSetFoundItems.bind(this);BX.addCustomEvent(this.detailAutocompletePlacement,"Placements:setFoundItems",this.placementSetFoundItemsHandler);this.placementEntitySelectHandler=this.onPlacementEntitySelect.bind(this);BX.addCustomEvent(this.detailAutocompletePlacement,"Placements:select",this.placementEntitySelectHandler);this.detailAutocompletePlacement.show(n,n.querySelector("div.crm-rq-popup-item-add-new"),{hideLoader:true})}if(t.Type.isDomNode(this._domNodes.requisiteSearchString)){if(!this.searchQueryInputHandler){this.searchQueryInputHandler=this.onSearchQueryInput.bind(this)}this._domNodes.requisiteSearchString.addEventListener("input",this.searchQueryInputHandler);this._domNodes.requisiteSearchString.addEventListener("keyup",this.searchQueryInputHandler)}}}},{key:"onSearchQueryInput",value:function e(){if(this._domNodes.requisiteSearchString.value!==this.currentSearchQueryText){this.currentSearchQueryText=this._domNodes.requisiteSearchString.value;this.fireChangeSearchQueryEvent()}}},{key:"fireChangeSearchQueryEvent",value:function e(){if(this.detailAutocompletePlacement&&t.Type.isDomNode(this._domNodes.requisiteSearchString)){BX.onCustomEvent(this.detailAutocompletePlacement,"Placements:changeQuery",[{currentSearchQuery:this._domNodes.requisiteSearchString.value}])}}},{key:"onEntitySearchComplete",value:function e(){this.setLoading(false)}},{key:"onGetPopupAlertContainer",value:function e(t,i){this.initPlacement(t,i)}},{key:"onBeforeEntitySearchPopupClose",value:function e(t,i){if(this.onDocumentClickConfirm){return BX.eventReturnFalse(i)}var n={active:false};BX.onCustomEvent(this.detailAutocompletePlacement,"Placements:active",[n]);if(n.active){BX.unbind(document,"click",this._dropdown.documentClickHandler);var s=function(e,t){BX.bind(document,"click",this._dropdown.documentClickHandler);e.close();this.onDocumentClickConfirm=null;BX.eventCancelBubble(t)}.bind(this);this.onDocumentClickConfirm=r.MessageBox.create({message:BX.message("CRM_EDITOR_PLACEMENT_CAUTION")||"Dow you want to terminate process?",buttons:r.MessageBoxButtons.OK_CANCEL,modal:true,onOk:function(e,i,n){s(e,n);this._dropdown.documentClickHandler(n);t(n)}.bind(this),onCancel:function e(t,i,n){s(t,n)}});BX.eventCancelBubble(i);this.onDocumentClickConfirm.show();return BX.eventReturnFalse(i)}t(i)}},{key:"onEntitySearchPopupClose",value:function e(){this.destroyPlacement()}},{key:"destroyPlacement",value:function e(){if(this.searchQueryInputHandler){this._domNodes.requisiteSearchString.removeEventListener("input",this.searchQueryInputHandler);this._domNodes.requisiteSearchString.removeEventListener("keyup",this.searchQueryInputHandler);this.searchQueryInputHandler=null}if(this._dropdown&&this._dropdown.hasOwnProperty("documentClickHandler")){BX.unbind(document,"click",this._dropdown.documentClickHandler)}if(this.detailAutocompletePlacement){var t=this.getDropdownPopup();if(t){BX.removeCustomEvent(t,"onPopupClose",this.entitySearchPopupCloseHandler)}this.entitySearchPopupCloseHandler=null;BX.onCustomEvent(this.detailAutocompletePlacement,"Placements:destroy");BX.removeCustomEvent(this.detailAutocompletePlacement,"Placements:params",this.placementsParamsHandler);this.placementsParamsHandler=null;BX.removeCustomEvent(this.detailAutocompletePlacement,"Placements:beforeAppendItems",this.beforeAddPlacementItemsHandler);this.beforeAddPlacementItemsHandler=null;BX.removeCustomEvent(this.detailAutocompletePlacement,"Placements:searchParams",this.placementSearchParamsHandler);this.placementSearchParamsHandler=null;BX.removeCustomEvent(this.detailAutocompletePlacement,"Placements:setFoundItems",this.placementSetFoundItemsHandler);this.placementSetFoundItemsHandler=null;BX.removeCustomEvent(this.detailAutocompletePlacement,"Placements:select",this.placementEntitySelectHandler);this.placementEntitySelectHandler=null;this.detailAutocompletePlacement=null;this.creatingItem=null;this._dropdown.setItems([])}}},{key:"onPlacementsParams",value:function e(i){if(t.Type.isObject(i)){if(this._dropdown){this._dropdown.setPlacementParams(this.clientResolverPlacementParams)}if(this.clientResolverPlacementParams){if(i.hasOwnProperty("placementParams")){i["placementParams"]=this.clientResolverPlacementParams}if(i.hasOwnProperty("currentSearchQuery")){i["currentSearchQuery"]=this._domNodes.requisiteSearchString.value}}}}},{key:"onBeforeAppendPlacementItems",value:function e(){var t=this.getDropdownPopup();if(t){BX.addClass(t.popupContainer,"client-editor-popup")}}},{key:"onPlacamentSearchParams",value:function e(t){t["searchQuery"]=this._domNodes.requisiteSearchString.value}},{key:"onPlacementSetFoundItems",value:function e(t,i){var n=[];i.forEach(function(e){n.push({id:e.id,title:e.name,appSid:t["appSid"],module:"crm",subModule:"rest",subTitle:t["title"],attributes:{phone:e.phone?[{value:e.phone}]:"",email:e.email?[{value:e.email}]:"",web:e.web?[{value:e.web}]:""}})}.bind(this));var s=parseInt(t["placementInfo"]["id"]);if(s>0&&this.externalSearchResultHandlerList.has(s)){this.externalSearchResultHandlerList.get(s)(n);this.externalSearchResultHandlerList["delete"](s)}else{this._dropdown.setItems(n)}}},{key:"onPlacementEntitySelect",value:function e(i){var n={type:i["entityType"],id:i["id"],title:i["title"],fields:i["fields"]};if(t.Type.isPlainObject(n["fields"])&&n["fields"].hasOwnProperty("RQ_ADDR")&&t.Type.isPlainObject(n["fields"]["RQ_ADDR"])){var s=function(e){var t=BX.prop.getString(e,"status","");var i=BX.prop.getObject(e,"data",{});var s=[];if(t==="error"){var r=BX.prop.getArray(e,"errors",[]);for(var a=0;a<r.length;a++){s.push(BX.prop.getString(r[a],"message"))}}if(s.length>0){BX.UI.Notification.Center.notify({content:s.join("<br>"),position:"top-center",autoHideDelay:1e4});delete n["fields"]["RQ_ADDR"]}else{n["fields"]["RQ_ADDR"]=i}this.selectEntity(n)}.bind(this);BX.ajax.runAction("crm.requisite.address.getLocationAddressJsonByFields",{data:{addresses:n["fields"]["RQ_ADDR"]}}).then(s,s)}else{this.selectEntity(n)}}}],[{key:"create",value:function e(t,i){var s=new n;s.initialize(t,i);return s}}]);return n}(i.EventEmitter);var P=function(e){babelHelpers.inherits(i,e);function i(e){var t;babelHelpers.classCallCheck(this,i);t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).call(this,e));t.feedbackFormParams=BX.prop.getObject(e,"feedbackFormParams",{});t.canAddRequisite=BX.prop.getBoolean(e,"canAddRequisite",false);t.externalSearchHandler=BX.prop.getFunction(e,"externalSearchHandler",null);t.placementParams=BX.prop.getObject(e,"placementParams",null);return t}babelHelpers.createClass(i,[{key:"setPlacementParams",value:function e(t){this.placementParams=t}},{key:"isTargetElementChanged",value:function e(){return false}},{key:"getItemsListContainer",value:function e(){if(!this.itemListContainer){this.itemListContainer=BX.create("div",{attrs:{className:"ui-dropdown-container rq-dropdown-container"}})}return this.itemListContainer}},{key:"setFeedbackFormParams",value:function e(i){this.feedbackFormParams=t.Type.isPlainObject(i)?i:{}}},{key:"setCanAddRequisite",value:function e(t){this.canAddRequisite=!!t}},{key:"setMinSearchStringLength",value:function e(t){this.minSearchStringLength=t}},{key:"getPopupAlertContainer",value:function e(){if(!this.popupAlertContainer){var i=[];var n=Object.keys(this.getFeedbackFormParams()).length>0;if(n){var s=t.Loc.getMessage("REQUISITE_AUTOCOMPLETE_ADVICE_NEW_SERVICE").split("#ADVICE_NEW_SERVICE_LINK#");var r=t.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['<div class="crm-rq-popup-item crm-rq-popup-item-helper"></div>'])));if(s[0]&&s[0].length){t.Dom.append(document.createTextNode(s[0]),r)}t.Dom.append(t.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['<a href="" onclick="','">',"</a>"])),this.showFeedbackForm.bind(this),t.Loc.getMessage("REQUISITE_AUTOCOMPLETE_ADVICE_NEW_SERVICE_LINK")),r);if(s[1]&&s[1].length){t.Dom.append(document.createTextNode(s[1]),r)}i.push(r)}if(this.canAddRequisite){i.push(t.Tag.render(h||(h=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="crm-rq-popup-item crm-rq-popup-item-add-new">\n\t\t\t\t\t\t<button class="crm-rq-popup-item-add-new-btn">\n\t\t\t\t\t\t\t<span class="ui-btn crm-rq-btn ui-btn-icon-custom ui-btn-primary ui-btn-round"\n\t\t\t\t\t\t\t\tonclick="','"></span>\n\t\t\t\t\t\t\t<span class="crm-rq-popup-item-add-new-btn-text"\n\t\t\t\t\t\t\t\tonclick="','"\n\t\t\t\t\t\t\t\t>',"</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>"])),this.onEmptyValueEvent.bind(this),this.onEmptyValueEvent.bind(this),BX.prop.getString(this.messages,"creationLegend")))}this.popupAlertContainer=i.length?t.Tag.render(p||(p=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-rq-popup-wrapper">\n\t\t\t\t\t<div class="crm-rq-popup-items-list">',"</div>\n\t\t\t\t</div>\n\t\t\t"])),i):t.Tag.render(m||(m=babelHelpers.taggedTemplateLiteral(["<div></div>"])));BX.onCustomEvent(this,"Dropdown:onGetPopupAlertContainer",[this,this.popupAlertContainer])}this.togglePopupAlertVisibility();return this.popupAlertContainer}},{key:"getTargetElementValue",value:function e(){if(this.targetElement!=="undefined"&&t.Type.isStringFilled(this.targetElement["value"])){return this.targetElement["value"].trim()}return""}},{key:"togglePopupAlertVisibility",value:function e(){if(t.Type.isDomNode(this.popupAlertContainer)){var i=BX.prop.getInteger(this.placementParams,"numberOfPlacements",0);var n=i>0||this.getItems().length<=0;this.popupAlertContainer.style.display=n?"":"none"}}},{key:"setItems",value:function e(t){babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"setItems",this).call(this,[{id:1,name:"N",title:"T"}]);this.togglePopupAlertVisibility();babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"setItems",this).call(this,t)}},{key:"getNewAlertContainer",value:function e(){return null}},{key:"disableTargetElement",value:function e(){}},{key:"getFeedbackFormParams",value:function e(){return this.feedbackFormParams}},{key:"showFeedbackForm",value:function e(t){t.preventDefault();this.getPopupWindow().close();if(!this._feedbackForm){this._feedbackForm=new BX.UI.Feedback.Form(this.getFeedbackFormParams())}this._feedbackForm.openPanel()}},{key:"searchItemsByStr",value:function e(t){if(this.externalSearchHandler){return this.externalSearchHandler().then((function(e){return e}))}return babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"searchItemsByStr",this).call(this,t)}}]);return i}(BX.UI.Dropdown);e.RequisiteAutocompleteField=f})(this.BX.Crm=this.BX.Crm||{},BX,BX.Event,BX,BX.Crm.Placement,BX.UI.Dialogs);
//# sourceMappingURL=autocomplete.bundle.map.js