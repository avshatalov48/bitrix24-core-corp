{"version":3,"sources":["field-selector.js"],"names":["BX","namespace","Crm","EntityEditorFieldSelector","this","_id","_settings","_scheme","_excludedNames","_closingNotifier","_contentWrapper","_popup","prototype","initialize","id","settings","prop","get","getArray","CrmNotifier","create","getMessage","name","getString","messages","isSchemeElementEnabled","schemeElement","getName","i","length","addClosingListener","listener","addListener","removeClosingListener","removeListener","isOpened","isShown","open","PopupWindow","autoHide","draggable","bindOptions","forceBindPosition","closeByEsc","closeIcon","zIndex","titleBar","content","prepareContent","lightShadow","contentNoPaddings","buttons","PopupWindowButton","text","className","events","click","delegate","onAcceptButtonClick","PopupWindowButtonLink","onCancelButtonClick","show","close","props","container","appendChild","elements","getElements","element","effectiveElements","elementChildren","childElement","j","isTransferable","push","parentName","parentTitle","getTitle","attrs","k","childElementName","childElementTitle","itemId","itemWrapper","type","for","getSelectedItems","results","checkBoxes","querySelectorAll","checkBox","checked","parts","split","sectionName","fieldName","notify","isCanceled","items","onPopupClose","destroy","onPopupDestroy","self","EntityEditorUserSelector","_isInitialized","_onlyUsers","getBoolean","getId","anchor","_mainWindow","SocNetLogDestination","containerWindow","init","extranetUser","userSearchArea","bindMainPopup","node","offsetTop","offsetLeft","callback","select","onSelect","unSelect","showSearchInput","departmentSelectDisable","users","groups","sonetgroups","socnetGroups","department","departmentRelation","buildDepartmentRelation","itemsLast","last","itemsSelected","getObject","isCrmFeed","useClientDatabase","destSort","allowAddUser","allowSearchCrmEmailUsers","allowUserSearch","openDialog","bindNode","closeDialog","item","search","bUndeleted","getFunction","EntityEditorCrmSelector","_entityTypeIds","_supportedItemTypes","l","entityTypeId","CrmEntityType","enumeration","contact","altName","company","lead","deal","isOpenDialog","allowedCrmTypes","typeInfo","initParams","CrmTypes","state","isSupported","contacts","contactsLast","companies","companiesLast","leads","leadsLast","deals","dealsLast"],"mappings":"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","file":"field-selector.map.js"}