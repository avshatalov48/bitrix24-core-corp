{"version":3,"sources":["field-selector.js"],"names":["BX","namespace","Crm","EntityEditorFieldSelector","this","_id","_settings","_scheme","_excludedNames","_closingNotifier","_contentWrapper","_popup","prototype","initialize","id","settings","prop","get","getArray","CrmNotifier","create","getMessage","name","getString","messages","isSchemeElementEnabled","schemeElement","getName","i","length","addClosingListener","listener","addListener","removeClosingListener","removeListener","isOpened","isShown","open","PopupWindow","autoHide","draggable","bindOptions","forceBindPosition","closeByEsc","closeIcon","zIndex","titleBar","content","prepareContent","lightShadow","contentNoPaddings","buttons","PopupWindowButton","text","className","events","click","delegate","onAcceptButtonClick","PopupWindowButtonLink","onCancelButtonClick","show","close","props","container","appendChild","elements","getElements","element","effectiveElements","elementChildren","childElement","j","isTransferable","push","parentName","parentTitle","getTitle","attrs","k","childElementName","childElementTitle","itemId","itemWrapper","type","for","getSelectedItems","results","checkBoxes","querySelectorAll","checkBox","checked","parts","split","sectionName","fieldName","notify","isCanceled","items","onPopupClose","destroy","onPopupDestroy","self","EntityEditorUserSelector","_isInitialized","getId","anchor","_mainWindow","SocNetLogDestination","containerWindow","init","extranetUser","userSearchArea","bindMainPopup","node","offsetTop","offsetLeft","callback","select","onSelect","unSelect","showSearchInput","departmentSelectDisable","users","groups","sonetgroups","department","departmentRelation","buildDepartmentRelation","itemsLast","last","itemsSelected","isCrmFeed","useClientDatabase","destSort","allowAddUser","allowSearchCrmEmailUsers","allowUserSearch","openDialog","bindNode","closeDialog","item","search","bUndeleted","getFunction","EntityEditorCrmSelector","_entityTypeIds","_supportedItemTypes","l","entityTypeId","CrmEntityType","enumeration","contact","altName","company","lead","deal","isOpenDialog","allowedCrmTypes","typeInfo","initParams","CrmTypes","getBoolean","state","isSupported","contacts","contactsLast","companies","companiesLast","leads","leadsLast","deals","dealsLast"],"mappings":"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","file":"field-selector.map.js"}