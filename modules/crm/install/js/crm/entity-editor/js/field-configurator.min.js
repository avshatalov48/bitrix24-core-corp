if(typeof BX.Crm.EntityConfigurationManager==="undefined"){BX.Crm.EntityConfigurationManager=function(){BX.Crm.EntityConfigurationManager.superclass.constructor.apply(this)};BX.extend(BX.Crm.EntityConfigurationManager,BX.UI.EntityConfigurationManager);BX.Crm.EntityConfigurationManager.prototype.getTypeInfos=function(){var typeInfos=BX.Crm.EntityConfigurationManager.superclass.getTypeInfos.apply(this);var ufAddRestriction=this._editor.getRestriction("userFieldAdd");var ufResourceBookingRestriction=this._editor.getRestriction("userFieldResourceBooking");if(ufAddRestriction&&!ufAddRestriction["isPermitted"]&&ufAddRestriction["restrictionCallback"]){for(var i=0,length=typeInfos.length;i<length;i++){typeInfos[i].callback=function(){eval(ufAddRestriction["restrictionCallback"])}}}else if(ufResourceBookingRestriction&&!ufResourceBookingRestriction["isPermitted"]&&ufResourceBookingRestriction["restrictionCallback"]){for(var j=0;j<typeInfos.length;j++){if(typeInfos[j].name==="resourcebooking"){typeInfos[j].callback=function(){eval(ufResourceBookingRestriction["restrictionCallback"])}}}}return typeInfos};BX.Crm.EntityConfigurationManager.prototype.getUserFieldConfigurator=function(t,e){if(!BX.type.isPlainObject(t)){throw"EntityEditorSection: The 'params' argument must be object."}var i="";var r=BX.prop.get(t,"field",null);if(r){if(!(r instanceof BX.UI.EntityEditorUserField)){throw"EntityEditorSection: The 'field' param must be EntityEditorUserField."}i=r.getFieldType();r.setVisible(false)}else{i=BX.prop.get(t,"typeId",BX.UI.EntityUserFieldType.string)}if(i==="resourcebooking"){var o={editor:this._editor,schemeElement:null,model:e.getModel(),mode:BX.UI.EntityEditorMode.edit,parent:e,typeId:i,field:r,showAlways:true,enableMandatoryControl:BX.prop.getBoolean(t,"enableMandatoryControl",true),mandatoryConfigurator:t.mandatoryConfigurator};if(BX.Calendar&&BX.type.isFunction(BX.Calendar.ResourcebookingUserfield)){return BX.Calendar.ResourcebookingUserfield.getCrmFieldConfigurator("",o)}else if(BX.Calendar&&BX.Calendar.UserField&&BX.Calendar.UserField.EntityEditorUserFieldConfigurator){return BX.Calendar.UserField.EntityEditorUserFieldConfigurator.create("",o)}}else{return BX.Crm.EntityEditorUserFieldConfigurator.create("",{editor:this._editor,schemeElement:null,model:e.getModel(),mode:BX.UI.EntityEditorMode.edit,parent:e,typeId:i,field:r,mandatoryConfigurator:t.mandatoryConfigurator,visibilityConfigurator:t.visibilityConfigurator,showAlways:true})}};BX.Crm.EntityConfigurationManager.create=function(t,e){var i=new BX.Crm.EntityConfigurationManager;i.initialize(t,e);return i}}if(typeof BX.Crm.EntityEditorFieldConfigurator==="undefined"){BX.Crm.EntityEditorFieldConfigurator=BX.UI.EntityEditorFieldConfigurator}
//# sourceMappingURL=field-configurator.map.js