(function(){if(!window.BX){window.BX={}}if(!BX.ready){BX.ready=function(e){e()}}var e=document.createElement("link");e.href="http://24.solj.bx/bitrix/js/crm/site/form/layout/form/main.css";document.head.appendChild(e);var t=function(){var e=""+'<option value="">[default]</option>'+'<option value="#add8e6">lightblue</option>'+'<option value="#90ee90">lightgreen</option>'+'<option value="#ffff00">yellow</option>'+'<option value="#000">black</option>'+'<option value="#fff">white</option>'+'<option value="#ff0000">red</option>'+'<option value="#0000ff">blue</option>'+"";return""+'<div class="dev-grid">'+'<div class="dev-item">'+'<div class="dev-settings">'+"<h2>Actions</h2>"+'<a href="?b24form_user=123456">Autofill link</a>'+"<br><br>"+'<select id="window_pos">'+'<option value="center">Center</option>'+'<option value="left">Left</option>'+'<option value="right">Right</option>'+"</select>"+'<select id="window_vert">'+'<option value="bottom">Bottom</option>'+'<option value="top">Top</option>'+"</select>"+'<select id="window_type">'+'<option value="panel">Panel</option>'+'<option value="widget">Widget</option>'+'<option value="popup">Popup</option>'+"</select>"+'<button type="button" id="window_btn">show!</button>'+"<h2>Form</h2>"+'<input type="checkbox" id="paging"><label for="paging">enable pages</label>'+"<br>"+'<input type="checkbox" id="required" checked><label for="required">enable required</label>'+"<br>"+'<input type="checkbox" id="big-pic" checked><label for="big-pic">big picture</label>'+"<br>"+"Currency format "+'<select id="currency">'+'<option value="$#">USD</option>'+'<option value="# \u0440\u0443\u0431.">RUB</option>'+'<option value="&#8364;#">EUR</option>'+"</select>"+"<br><br>"+"Date format <br>"+'<select id="date-format">'+'<option value="YYYY, MM/DD">1999, 3/14</option>'+'<option value="YYYY, MM/DD">1999, 03/14</option>'+'<option value="DD.MM.YYYY">14.03.1999</option>'+'<option value="MM/DD/YYYY">03/14/1999</option>'+'<option value="YYYY-MM-DD">1999-03-14</option>'+"</select>"+'<select id="time-format">'+'<option value="G:MI:SS T">4:33:00 pm</option>'+'<option value="H:MI:SS TT">04:33:00 PM</option>'+'<option value="GG:MI:SS">4:33:00</option>'+'<option value="HH:MI:SS">04:33:00</option>'+"</select>"+"<br>"+'<input type="checkbox" id="date-sunday-firstly" checked><label for="date-sunday-firstly">Sunday firstly</label>'+"<br><br>"+"Show fields by type "+'<select id="field-type">'+'<option value="all">All</option>'+'<option value="product">Products</option>'+'<option value="string">Strings</option>'+'<option value="text">Text areas</option>'+'<option value="list">Lists</option>'+'<option value="checkbox">Checkboxes</option>'+'<option value="file">Files</option>'+"</select>"+"<br><br>"+"<h2>Design</h2>"+"Theme "+'<select id="designTheme">'+'<option value="">[none]</option>'+'<option value="modern-light">Modern light</option>'+'<option value="modern-dark">Modern dark</option>'+'<option value="classic-light">Classic light</option>'+'<option value="classic-dark">Classic dark</option>'+'<option value="fun-light">Fun light</option>'+'<option value="fun-dark">Fun dark</option>'+'<option value="pixel">Pixel</option>'+'<option value="old">Old russian</option>'+'<option value="writing">Writing</option>'+"</select>"+"<br><br>"+"Style "+'<select id="designStyle">'+'<option value="">[none]</option>'+'<option value="modern">Modern</option>'+"</select>"+"<br><br>"+"Dark mode "+'<select id="designDark">'+'<option value="">auto</option>'+'<option value="y">enabled</option>'+'<option value="n">disabled</option>'+"</select>"+"<br><br>"+"<b>Bright</b>: "+"Bg "+'<select id="colorPrimary">'+e+"</select>"+"   Text"+'<select id="colorPrimaryText">'+e+"</select>"+"<br><br>"+"<b>Form</b>: "+"Bg "+'<select id="colorBackground">'+e+"</select>"+"   Text "+'<select id="colorText">'+e+"</select>"+"<br><br>"+"<b>Fields</b>: "+"Bg "+'<select id="colorFieldBackground">'+e+"</select>"+"   Border "+'<select id="colorFieldBorder">'+e+"</select>"+"<br><br>"+"Font "+'<input id="designFontFamily" placeholder="Family. Ex.: Comic Sans MS">'+'<input id="designFontUri" placeholder="Link. Ex.: https://example...">'+'<button type="button" id="designFont">apply</button>'+"</div>"+"</div>"+'<div class="dev-item" style="width: 100%;">'+'<div class="dev-form">'+'<div id="form1"></div>'+"</div>"+"</div>"+"</div>"};BX.ready((function(){window.b24form=window.b24form||{};window.b24formDev=window.b24formDev||{};document.getElementById("dev_form").innerHTML=t();var e={pagingBtn:document.getElementById("paging"),required:document.getElementById("required"),fieldType:document.getElementById("field-type"),currency:document.getElementById("currency"),dateFormat:document.getElementById("date-format"),timeFormat:document.getElementById("time-format"),dateSundayFirstly:document.getElementById("date-sunday-firstly"),bigPic:document.getElementById("big-pic"),design:{theme:document.getElementById("designTheme"),style:document.getElementById("designStyle"),dark:document.getElementById("designDark"),font:{btn:document.getElementById("designFont"),uri:document.getElementById("designFontUri"),family:document.getElementById("designFontFamily")},colorPrimary:document.getElementById("colorPrimary"),colorPrimaryText:document.getElementById("colorPrimaryText"),colorText:document.getElementById("colorText"),colorBackground:document.getElementById("colorBackground"),colorFieldBorder:document.getElementById("colorFieldBorder"),colorFieldBackground:document.getElementById("colorFieldBackground")},window:{btn:document.getElementById("window_btn"),pos:document.getElementById("window_type"),pos:document.getElementById("window_pos"),ver:document.getElementById("window_ver")}};var o=function(){return b24formDev.config.main};var n=function(t,n){var i=e.bigPic.checked;t=t||!e.pagingBtn.checked;return o().fields.map((function(t){if(!e.required.checked){t.required=false}t.bigPic=i;return t})).filter((function(o){if(t&&o.type==="page"){return false}var n=e.fieldType.value;switch(e.fieldType.value){case"string":if(!["string","email","phone","integer"].includes(o.type)){return false}break;case"text":case"file":case"product":if(o.type!==n){return false}break;case"list":if(!["select"].includes(o.type)){return false}break;case"checkbox":if(!["radio","checkbox","bool"].includes(o.type)){return false}break}return true})).slice(0,n||undefined)};var i=function(){return{format:e.currency.value}};var d=function(){var t=e.dateFormat.value;var o=e.timeFormat.value;var n=e.dateSundayFirstly.checked;return{sundayFirstly:n,dateFormat:t,dateTimeFormat:t+" "+o}};var r=function(t){var o={color:{}};if(!t||t===e.design.theme){o.theme=e.design.theme.value}if(!t||t===e.design.style){o.style=e.design.style.value}if(!t||t===e.design.dark){var n=e.design.dark.value;n=n==="y"?true:n==="n"?false:null;o.dark=n}if(!t||t===e.design.font.btn){o.font={uri:e.design.font.uri.value,family:e.design.font.family.value}}if(!t||t===e.design.colorPrimary){o.color.primary=e.design.colorPrimary.value}if(!t||t===e.design.colorPrimaryText){o.color.primaryText=e.design.colorPrimaryText.value}if(!t||t===e.design.colorText){o.color.text=e.design.colorText.value}if(!t||t===e.design.colorBackground){o.color.background=e.design.colorBackground.value}if(!t||t===e.design.colorFieldBorder){o.color.fieldBorder=e.design.colorFieldBorder.value}if(!t||t===e.design.colorFieldBackground){o.color.fieldBackground=e.design.colorFieldBackground.value}return o};var l=function(t,l){var a=false;var c=null;var u={visible:false};if(t){if(t.type==="widget"){a=true;c=1}u.view=t}if(l){u.node=l}u.fields=n(a,c);u.currency=i();u.date=d();u.design=r();var s=b24form.App.createForm24({id:1,sec:"xxxxxx",address:window.location.origin},Object.assign({},o(),u));var p=function(){s.adjust({date:d(),currency:i(),fields:n(a,c)})};var g=function(e){s.adjust({design:r(e.target)})};e.pagingBtn.addEventListener("change",p);e.required.addEventListener("change",p);e.fieldType.addEventListener("change",p);e.bigPic.addEventListener("change",p);e.currency.addEventListener("change",p);e.dateFormat.addEventListener("change",p);e.timeFormat.addEventListener("change",p);e.dateSundayFirstly.addEventListener("change",p);e.design.theme.addEventListener("change",g);e.design.style.addEventListener("change",g);e.design.dark.addEventListener("change",g);e.design.font.btn.addEventListener("click",g);e.design.colorText.addEventListener("change",g);e.design.colorBackground.addEventListener("change",g);e.design.colorPrimary.addEventListener("change",g);e.design.colorPrimaryText.addEventListener("change",g);e.design.colorFieldBorder.addEventListener("change",g);e.design.colorFieldBackground.addEventListener("change",g);return s};l(null,document.getElementById("form1")).show();var a={};e.window.btn.addEventListener("click",(function(){var e={type:document.getElementById("window_type").value,position:document.getElementById("window_pos").value,vertical:document.getElementById("window_vert").value};if(a[e.type]){a[e.type].adjust({view:e})}else{a[e.type]=l(e)}a[e.type].show()}))}))})();
//# sourceMappingURL=script.map.js