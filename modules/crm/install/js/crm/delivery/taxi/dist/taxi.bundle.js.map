{"version":3,"file":"taxi.bundle.js","sources":["../src/mixins/uselocalize.js","../src/mixins/useexternallangmessages.js","../src/mixins/useactivity.js","../src/components/author.js","../src/components/logo.js","../src/components/info.js","../src/components/route.js","../src/components/performer.js","../src/components/car.js","../src/activity.js","../src/activitycompleted.js","../src/mixins/useauthor.js","../src/mixins/usehistoryitem.js","../src/components/history-item.js","../src/components/carlogoinfo.js","../src/callrequest.js","../src/estimationrequest.js","../src/cancelledbymanager.js","../src/cancelledbydriver.js","../src/performernotfound.js","../src/returnedfinish.js","../src/smsproviderissue.js"],"sourcesContent":["import {Vue} from 'ui.vue';\n\nexport default {\n\tcomputed: {\n\t\tlocalize()\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('TIMELINE_DELIVERY_TAXI_');\n\t\t},\n\t},\n};\n","export default {\n\tprops: {\n\t\tlangMessages:\n\t\t\t{\n\t\t\t\trequired: false,\n\t\t\t\ttype: Object\n\t\t\t}\n\t},\n\tmethods: {\n\t\tgetLangMessage(key)\n\t\t{\n\t\t\treturn this.langMessages.hasOwnProperty(key) ? this.langMessages[key] : key;\n\t\t}\n\t}\n};\n","import UseLocalize from './uselocalize';\nimport UseExternalLangMessages from './useexternallangmessages';\n\nexport default {\n\tprops: {\n\t\tself: {\n\t\t\trequired: true,\n\t\t\ttype: Object\n\t\t},\n\t},\n\tmixins: [UseLocalize, UseExternalLangMessages],\n\tcomputed: {\n\t\tdata()\n\t\t{\n\t\t\treturn this.self._data;\n\t\t},\n\t\tfields()\n\t\t{\n\t\t\treturn this.data.ASSOCIATED_ENTITY.SETTINGS.FIELDS;\n\t\t},\n\t\tauthor()\n\t\t{\n\t\t\treturn this.data.AUTHOR;\n\t\t},\n\t\tstatusName()\n\t\t{\n\t\t\tif (this.fields.STATUS === 'initial' || this.fields.STATUS === 'searching')\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\telse if (this.fields.STATUS === 'on_its_way')\n\t\t\t{\n\t\t\t\treturn this.localize.TIMELINE_DELIVERY_TAXI_DELIVERY_STATUS_ON_ITS_WAY;\n\t\t\t}\n\t\t\telse if (this.fields.STATUS === 'success')\n\t\t\t{\n\t\t\t\treturn this.localize.TIMELINE_DELIVERY_TAXI_DELIVERY_STATUS_SUCCESS;\n\t\t\t}\n\t\t\telse if (this.fields.STATUS === 'unknown')\n\t\t\t{\n\t\t\t\treturn this.localize.TIMELINE_DELIVERY_TAXI_DELIVERY_STATUS_UNKNOWN;\n\t\t\t}\n\t\t},\n\t\tstatusClass()\n\t\t{\n\t\t\tlet isUnknownStatus = (this.fields.STATUS === 'unknown');\n\n\t\t\treturn {\n\t\t\t\t'crm-entity-stream-content-event-process': isUnknownStatus,\n\t\t\t\t'crm-entity-stream-content-event-done': !isUnknownStatus,\n\t\t\t};\n\t\t}\n\t},\n};\n","export default {\n\tprops: {\n\t\tauthor: {\n\t\t\trequired: true,\n\t\t\ttype: Object\n\t\t},\n\t},\n\tcomputed: {\n\t\tlinkStyle()\n\t\t{\n\t\t\tif (!this.author.IMAGE_URL)\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t'background-image': 'url(' + this.author.IMAGE_URL + ')',\n\t\t\t\t'background-size': '21px',\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<a\n\t\t\tv-if=\"author.SHOW_URL\"\n\t\t\t:href=\"author.SHOW_URL\"\n\t\t\t:style=\"linkStyle\"\n\t\t\tclass=\"crm-entity-stream-content-detail-employee\">\t\n\t\t</a>\n\t`\n};\n","export default {\n\tprops: {\n\t\tlogo: {required: true, type: String}\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tclass=\"crm-entity-stream-content-delivery-title-logo\"\n\t\t\t:style=\"'background: url(' + logo +') center no-repeat;'\"\n\t\t></div>\n\t`\n};\n","export default {\n\tprops: {\n\t\tname: {required: false, type: String},\n\t\tmethod: {required: false, type: String},\n\t},\n\ttemplate: `\n\t\t<div class=\"crm-entity-stream-content-delivery-title-info\">\n\t\t\t<div v-if=\"name\" class=\"crm-entity-stream-content-delivery-title-name\">\n\t\t\t\t{{name}}\n\t\t\t</div>\n\t\t\t<div v-if=\"method\" class=\"crm-entity-stream-content-delivery-title-param\">\n\t\t\t\t{{method}}\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n","import UseLocalize from '../mixins/uselocalize';\n\nexport default {\n\tprops: {\n\t\tfrom: {required: true, type: String},\n\t\tto: {required: true, type: String},\n\t},\n\tmixins: [UseLocalize],\n\ttemplate: `\n\t\t<div class=\"crm-entity-stream-content-delivery-order-item\">\n\t\t\t<div class=\"crm-entity-stream-content-delivery-order-value crm-entity-stream-content-delivery-order-value--sm\">\n\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-box\">\n\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-box-label\">\n\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_ADDRESS_FROM}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<span v-html=\"from\"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-box\">\n\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-box-label\">\n\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_ADDRESS_TO}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<span v-html=\"to\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n","import UseLocalize from '../mixins/uselocalize';\n\nexport default {\n\tprops: {\n\t\tname: {\n\t\t\trequired: true,\n\t\t\ttype: String,\n\t\t},\n\t\tphone: {\n\t\t\trequired: false,\n\t\t\ttype: String,\n\t\t},\n\t\tphoneExt: {\n\t\t\trequired: false,\n\t\t\ttype: String,\n\t\t},\n\t\tcanUseTelephony: {\n\t\t\trequired: false,\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tmixins: [UseLocalize],\n\tmethods: {\n\t\tcall()\n\t\t{\n\t\t\tif (!this.phone)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.canUseTelephony && typeof(top.BXIM)!=='undefined')\n\t\t\t{\n\t\t\t\ttop.BXIM.phoneTo(this.phone);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\twindow.location.href='tel:' + this.phone;\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"crm-entity-stream-content-delivery-order-item\">\n\t\t\t<div class=\"crm-entity-stream-content-delivery-order-label\">\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DRIVER}}\n\t\t\t</div>\n\t\t\t<div class=\"crm-entity-stream-content-delivery-order-value crm-entity-stream-content-delivery-order-value--sm\">\n\t\t\t\t<span>\n\t\t\t\t\t{{name}}\n\t\t\t\t</span>\n\t\t\t\t<span v-if=\"phone\" @click=\"call\" class=\"crm-entity-stream-content-delivery-link\">\n\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_CALL_DRIVER}}\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tv-if=\"phoneExt\"\n\t\t\t\t\tclass=\"crm-entity-stream-content-delivery-phone-ext\"\n\t\t\t\t>\n\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_CALL_DRIVER_PHONE_EXT_CODE}}: {{phoneExt}}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n","import UseLocalize from '../mixins/uselocalize';\n\nexport default {\n\tprops: {\n\t\tcar: {required: true, type: String},\n\t},\n\tmixins: [UseLocalize],\n\ttemplate: `\n\t\t<div class=\"crm-entity-stream-content-delivery-order-item\">\n\t\t\t<div class=\"crm-entity-stream-content-delivery-order-label\">\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_CAR}}\n\t\t\t</div>\n\t\t\t<div class=\"crm-entity-stream-content-delivery-order-value crm-entity-stream-content-delivery-order-value--sm\">\n\t\t\t\t{{car}}\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n","import {Vue} from 'ui.vue';\nimport UseActivity from './mixins/useactivity';\nimport UseLocalize from './mixins/uselocalize';\nimport AuthorComponent from './components/author';\nimport LogoComponent from './components/logo';\nimport InfoComponent from './components/info';\nimport RouteComponent from './components/route';\nimport PerformerComponent from './components/performer';\nimport CarComponent from './components/car';\n\nexport default Vue.extend({\n\tcomponents: {\n\t\t'author': AuthorComponent,\n\t\t'logo': LogoComponent,\n\t\t'info': InfoComponent,\n\t\t'route': RouteComponent,\n\t\t'performer': PerformerComponent,\n\t\t'car': CarComponent,\n\t},\n\tmixins: [UseActivity, UseLocalize],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisMakingRequest: false,\n\t\t\tisCancelling: false,\n\t\t};\n\t},\n\tmethods: {\n\t\tcompleteActivity()\n\t\t{\n\t\t\tif(this.self.canComplete())\n\t\t\t{\n\t\t\t\tthis.self.setAsDone(!this.self.isDone());\n\t\t\t}\n\t\t},\n\t\tmakeRequest()\n\t\t{\n\t\t\tthis.isMakingRequest = true;\n\n\t\t\tBX.ajax.runAction(\n\t\t\t\t'sale.taxidelivery.sendrequest',\n\t\t\t\t{\n\t\t\t\t\tanalyticsLabel: 'saleDeliveryTaxiCall',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tshipmentId: this.fields.SHIPMENT_ID\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then((result) => {\n\t\t\t}).catch((result) => {\n\t\t\t\tthis.isMakingRequest = false;\n\t\t\t\tthis.showError(result.errors.map((item) => item.message).join());\n\t\t\t});\n\t\t},\n\t\tcancelRequest()\n\t\t{\n\t\t\tif (this.isCancelling)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isCancelling = true;\n\n\t\t\tBX.ajax.runAction(\n\t\t\t\t'sale.taxidelivery.cancelrequest',\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tshipmentId: this.fields.SHIPMENT_ID,\n\t\t\t\t\t\trequestId: this.fields.REQUEST_ID,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((result) => {\n\t\t\t\t\tthis.isCancelling = false;\n\t\t\t\t}).catch((result) => {\n\t\t\t\tthis.isCancelling = false;\n\t\t\t\tthis.showError(result.errors.map((item) => item.message).join());\n\t\t\t});\n\t\t},\n\t\tcheckRequestStatus()\n\t\t{\n\t\t\tBX.ajax.runAction('sale.taxidelivery.checkrequeststatus');\n\t\t},\n\t\tstartCheckingRequestStatus()\n\t\t{\n\t\t\tclearTimeout(this._checkRequestStatusTimeoutId);\n\t\t\tthis._checkRequestStatusTimeoutId = setInterval(\n\t\t\t\t() => this.checkRequestStatus(), 10 * 1000\n\t\t\t);\n\t\t},\n\t\tstopCheckingRequestStatus()\n\t\t{\n\t\t\tclearTimeout(this._checkRequestStatusTimeoutId);\n\t\t},\n\t\tshowError(message)\n\t\t{\n\t\t\tBX.loadExt('ui.notification').then(() => { BX.UI.Notification.Center.notify({content: message}); });\n\t\t},\n\t\tshowContextMenu(event)\n\t\t{\n\t\t\tlet popup = BX.PopupMenu.create(\n\t\t\t\t'taxi_activity_context_menu_' + this.self.getId(),\n\t\t\t\tevent.target,\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'delete',\n\t\t\t\t\t\ttext: this.getLangMessage('menuDelete'),\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tpopup.close();\n\n\t\t\t\t\t\t\tlet deletionDlgId = 'entity_timeline_deletion_' + this.self.getId() + '_confirm';\n\t\t\t\t\t\t\tlet dlg = BX.Crm.ConfirmationDialog.get(deletionDlgId);\n\n\t\t\t\t\t\t\tif (!dlg)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdlg = BX.Crm.ConfirmationDialog.create(\n\t\t\t\t\t\t\t\t\tdeletionDlgId,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttitle: this.getLangMessage('removeConfirmTitle'),\n\t\t\t\t\t\t\t\t\t\tcontent: this.getLangMessage('deliveryRemove')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdlg.open().then(\n\t\t\t\t\t\t\t\t(result) => {\n\t\t\t\t\t\t\t\t\tif (result.cancel)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tthis.self.remove();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t(result) => {},\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t{\n\t\t\t\t\tautoHide: true,\n\t\t\t\t\toffsetTop: 0,\n\t\t\t\t\toffsetLeft: 16,\n\t\t\t\t\tangle: { position: \"top\", offset: 0 },\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonPopupShow: () =>  BX.addClass(event.target, 'active'),\n\t\t\t\t\t\tonPopupClose: () => BX.removeClass(event.target, 'active'),\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tpopup.show();\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis._checkRequestStatusTimeoutId = null;\n\t\tif (this.isSearchingCar)\n\t\t{\n\t\t\tthis.startCheckingRequestStatus();\n\t\t}\n\t},\n\tcomputed: {\n\t\tisExpectedPriceReceived()\n\t\t{\n\t\t\treturn this.fields.hasOwnProperty('EXPECTED_PRICE_DELIVERY');\n\t\t},\n\t\tisSendRequestButtonVisible()\n\t\t{\n\t\t\tif (this.isMakingRequest)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!this.fields.STATUS)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.fields.STATUS)\n\t\t\t{\n\t\t\t\tif (this.fields.STATUS === 'initial')\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tisSearchingCar()\n\t\t{\n\t\t\treturn this.isMakingRequest || (this.fields.STATUS && this.fields.STATUS === 'searching');\n\t\t},\n\t\tisRequestCancellationLinkVisible()\n\t\t{\n\t\t\treturn this.fields && this.fields.REQUEST_CANCELLATION_AVAILABLE;\n\t\t},\n\t\tcancelRequestButtonStyle()\n\t\t{\n\t\t\treturn {\n\t\t\t\t'ui-btn': true,\n\t\t\t\t'ui-btn-sm': true,\n\t\t\t\t'ui-btn-light-border': true,\n\t\t\t\t'ui-btn-wait': this.isCancelling\n\t\t\t};\n\t\t},\n\t},\n\twatch: {\n\t\tisSearchingCar: function (value)\n\t\t{\n\t\t\tif (value)\n\t\t\t{\n\t\t\t\tthis.startCheckingRequestStatus();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.stopCheckingRequestStatus();\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"crm-entity-stream-section crm-entity-stream-section-new crm-entity-stream-section-planned\">\n\t\t\t<div class=\"crm-entity-stream-section-icon crm-entity-stream-section-icon-new crm-entity-stream-section-icon-taxi\"></div>\n\t\t\t<div @click=\"showContextMenu\" class=\"crm-entity-stream-section-context-menu\"></div>\n\t\t\t<div class=\"crm-entity-stream-section-content\">\n\t\t\t\t<div class=\"crm-entity-stream-content-event\">\n\t\t\t\t\t<div class=\"crm-entity-stream-content-header\">\n\t\t\t\t\t\t<span class=\"crm-entity-stream-content-event-title\">\n\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_SERVICE}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span v-if=\"statusName\":class=\"statusClass\">\n\t\t\t\t\t\t\t{{statusName}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"crm-entity-stream-content-event-time\">{{this.createdAt}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"crm-entity-stream-content-detail crm-entity-stream-content-delivery\">\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-row crm-entity-stream-content-delivery-row--flex\">\n\t\t\t\t\t\t\t<span v-if=\"isSendRequestButtonVisible\" @click=\"makeRequest\" class=\"ui-btn ui-btn-sm ui-btn-primary\">\n\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_SEND_REQUEST}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span v-if=\"isSearchingCar\" class=\"crm-entity-stream-content-delivery-status\">\n\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_SEARCHING_CAR}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-title\">\n\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-icon crm-entity-stream-content-delivery-icon--car\"></div>\n\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-title-contnet\">\n\t\t\t\t\t\t\t\t\t<logo v-if=\"fields.DELIVERY_SYSTEM_LOGO\" :logo=\"fields.DELIVERY_SYSTEM_LOGO\"></logo>\n\t\t\t\t\t\t\t\t\t<info\n\t\t\t\t\t\t\t\t\t\tv-if=\"fields.DELIVERY_SYSTEM_NAME || fields.DELIVERY_METHOD\"\n\t\t\t\t\t\t\t\t\t\t:name=\"fields.DELIVERY_SYSTEM_NAME\"\n\t\t\t\t\t\t\t\t\t\t:method=\"fields.DELIVERY_METHOD\"\n\t\t\t\t\t\t\t\t\t></info>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-row\">\n\t\t\t\t\t\t\t<table class=\"crm-entity-stream-content-delivery-order\">\n\t\t\t\t\t\t\t\t<tr v-if=\"fields.ADDRESS_FROM && fields.ADDRESS_TO\">\n\t\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t<route\n\t\t\t\t\t\t\t\t\t\t\t:from=\"fields.ADDRESS_FROM\"\n\t\t\t\t\t\t\t\t\t\t\t:to=\"fields.ADDRESS_TO\"\n\t\t\t\t\t\t\t\t\t\t></route>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-item\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_CLIENT_DELIVERY_PRICE}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-value crm-entity-stream-content-delivery-order-value--sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 14px; color: #333;\" v-html=\"fields.DELIVERY_PRICE\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-item\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_EXPECTED_DELIVERY_PRICE}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-value crm-entity-stream-content-delivery-order-value--sm\">\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 14px; color: #333; opacity: .5;\" v-if=\"isExpectedPriceReceived\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-html=\"fields.EXPECTED_PRICE_DELIVERY\"></span></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_EXPECTED_PRICE_NOT_RECEIVED}}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr v-if=\"this.fields.PERFORMER_NAME\">\n\t\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t<performer\n\t\t\t\t\t\t\t\t\t\t\t:name=\"fields.PERFORMER_NAME\"\n\t\t\t\t\t\t\t\t\t\t\t:phone=\"fields.PERFORMER_PHONE\"\n\t\t\t\t\t\t\t\t\t\t\t:phoneExt=\"fields.PERFORMER_PHONE_EXT\"\n\t\t\t\t\t\t\t\t\t\t\t:canUseTelephony=\"fields.CAN_USE_TELEPHONY\"\n\t\t\t\t\t\t\t\t\t\t></performer>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr v-if=\"fields.PERFORMER_CAR\">\n\t\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t<car :car=\"fields.PERFORMER_CAR\"></car>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr v-if=\"isRequestCancellationLinkVisible\">\n\t\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-item\">\n\t\t\t\t\t\t\t\t\t\t\t<span @click=\"cancelRequest\" :class=\"cancelRequestButtonStyle\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_CANCEL_REQUEST}}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"crm-entity-stream-content-detail-planned-action\">\n\t\t\t\t\t\t<input @click=\"completeActivity\" type=\"checkbox\" class=\"crm-entity-stream-planned-apply-btn\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<author v-if=\"author\" :author=\"author\"></author>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n});\n","import {Vue} from 'ui.vue';\nimport UseActivity from './mixins/useactivity';\nimport UseLocalize from './mixins/uselocalize';\nimport AuthorComponent from './components/author';\nimport LogoComponent from './components/logo';\nimport InfoComponent from './components/info';\nimport RouteComponent from './components/route';\nimport PerformerComponent from './components/performer';\nimport CarComponent from './components/car';\n\nexport default Vue.extend({\n\tcomponents: {\n\t\t'author': AuthorComponent,\n\t\t'logo': LogoComponent,\n\t\t'info': InfoComponent,\n\t\t'route': RouteComponent,\n\t\t'performer': PerformerComponent,\n\t\t'car': CarComponent,\n\t},\n\tmixins: [UseActivity, UseLocalize],\n\tcomputed: {\n\t\tisExpectedPriceReceived()\n\t\t{\n\t\t\treturn this.fields.hasOwnProperty('EXPECTED_PRICE_DELIVERY');\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"crm-entity-stream-section crm-entity-stream-section-new\">\n\t\t\t<div class=\"crm-entity-stream-section-icon crm-entity-stream-section-icon-new crm-entity-stream-section-icon-taxi\"></div>\n\t\t\t<div class=\"crm-entity-stream-section-content\">\n\t\t\t\t<div class=\"crm-entity-stream-content-event crm-entity-stream-content-event--delivery\">\n\t\t\t\t\t<div class=\"crm-entity-stream-content-header\">\n\t\t\t\t\t\t<span class=\"crm-entity-stream-content-event-title\">\n\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_SERVICE}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span v-if=\"statusName\" :class=\"statusClass\">\n\t\t\t\t\t\t\t{{statusName}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"crm-entity-stream-content-event-time\">{{this.createdAt}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"crm-entity-stream-content-detail crm-entity-stream-content-delivery\">\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-row crm-entity-stream-content-delivery-row--flex\">\n\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-title\">\n\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-icon crm-entity-stream-content-delivery-icon--car\"></div>\n\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-title-contnet\">\n\t\t\t\t\t\t\t\t\t<logo v-if=\"fields.DELIVERY_SYSTEM_LOGO\" :logo=\"fields.DELIVERY_SYSTEM_LOGO\"></logo>\n\t\t\t\t\t\t\t\t\t<info\n\t\t\t\t\t\t\t\t\t\tv-if=\"fields.DELIVERY_SYSTEM_NAME || fields.DELIVERY_METHOD\"\n\t\t\t\t\t\t\t\t\t\t:name=\"fields.DELIVERY_SYSTEM_NAME\"\n\t\t\t\t\t\t\t\t\t\t:method=\"fields.DELIVERY_METHOD\"\n\t\t\t\t\t\t\t\t\t></info>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-row\">\n\t\t\t\t\t\t\t<table class=\"crm-entity-stream-content-delivery-order\">\n\t\t\t\t\t\t\t\t<tr v-if=\"fields.ADDRESS_FROM && fields.ADDRESS_TO\">\n\t\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t<route\n\t\t\t\t\t\t\t\t\t\t\t:from=\"fields.ADDRESS_FROM\"\n\t\t\t\t\t\t\t\t\t\t\t:to=\"fields.ADDRESS_TO\"\n\t\t\t\t\t\t\t\t\t\t></route>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-item\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_CLIENT_DELIVERY_PRICE}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-value crm-entity-stream-content-delivery-order-value--sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span v-html=\"fields.DELIVERY_PRICE\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-item\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_EXPECTED_DELIVERY_PRICE}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-value crm-entity-stream-content-delivery-order-value--sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"isExpectedPriceReceived\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-html=\"fields.EXPECTED_PRICE_DELIVERY\"></span></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_EXPECTED_PRICE_NOT_RECEIVED}}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr v-if=\"this.fields.PERFORMER_NAME\">\n\t\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t<performer\n\t\t\t\t\t\t\t\t\t\t\t:name=\"fields.PERFORMER_NAME\"\n\t\t\t\t\t\t\t\t\t\t\t:phone=\"fields.PERFORMER_PHONE\"\n\t\t\t\t\t\t\t\t\t\t\t:phoneExt=\"fields.PERFORMER_PHONE_EXT\"\n\t\t\t\t\t\t\t\t\t\t\t:canUseTelephony=\"fields.CAN_USE_TELEPHONY\"\n\t\t\t\t\t\t\t\t\t\t></performer>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr v-if=\"fields.PERFORMER_CAR\">\n\t\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t<car :car=\"fields.PERFORMER_CAR\"></car>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<author v-if=\"author\" :author=\"author\"></author>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n});\n","export default {\n\tcomputed: {\n\t\tauthor()\n\t\t{\n\t\t\treturn this.data.AUTHOR ? this.data.AUTHOR : null;\n\t\t},\n\t}\n};\n","import UseLocalize from './uselocalize';\nimport UseAuthor from './useauthor';\n\nexport default {\n\tmixins: [UseLocalize, UseAuthor],\n\tprops: {\n\t\tself: {\n\t\t\trequired: true,\n\t\t\ttype: Object\n\t\t},\n\t},\n\tcomputed: {\n\t\tdata()\n\t\t{\n\t\t\treturn this.self._data;\n\t\t},\n\t\tfields()\n\t\t{\n\t\t\treturn this.data.FIELDS ? this.data.FIELDS : null;\n\t\t},\n\t\tcreatedAt()\n\t\t{\n\t\t\treturn (this.self instanceof BX.CrmHistoryItem) ? this.self.formatTime(this.self.getCreatedTime()) : '';\n\t\t},\n\t}\n};\n","import {Vue} from 'ui.vue';\nimport AuthorComponent from \"../components/author\";\n\nexport default {\n\tcomponents: {\n\t\t'author': AuthorComponent,\n\t},\n\tprops: {\n\t\tauthor: {\n\t\t\trequired: false,\n\t\t\ttype: Object\n\t\t},\n\t\tcreatedAt: {\n\t\t\trequired: false,\n\t\t\ttype: String\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"crm-entity-stream-section crm-entity-stream-section-new\">\n\t\t\t<div class=\"crm-entity-stream-section-icon crm-entity-stream-section-icon-new crm-entity-stream-section-icon-taxi\"></div>\n\t\t\t<div class=\"crm-entity-stream-section-content\">\n\t\t\t\t<div class=\"crm-entity-stream-content-event\">\n\t\t\t\t\t<div class=\"crm-entity-stream-content-header\">\n\t\t\t\t\t\t<span class=\"crm-entity-stream-content-event-title\">\n\t\t\t\t\t\t\t<slot name=\"title\"></slot>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<slot name=\"status\"></slot>\n\t\t\t\t\t\t<span class=\"crm-entity-stream-content-event-time\">\n\t\t\t\t\t\t\t<span v-html=\"createdAt\"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"crm-entity-stream-content-detail\">\n\t\t\t\t\t\t<slot></slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<author v-if=\"author\" :author=\"author\"></author>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n","import UseLocalize from '../mixins/uselocalize';\nimport LogoComponent from '../components/logo';\nimport InfoComponent from '../components/info';\n\nexport default {\n\tprops: {\n\t\tlogo: {required: false},\n\t\tserviceName: {required: false},\n\t\tmethodName: {required: false},\n\t},\n\tcomponents: {\n\t\t'logo': LogoComponent,\n\t\t'info': InfoComponent,\n\t},\n\tmixins: [UseLocalize],\n\ttemplate: `\n\t\t<div class=\"crm-entity-stream-content-delivery-row\">\n\t\t\t<div class=\"crm-entity-stream-content-delivery-title\">\n\t\t\t\t<div class=\"crm-entity-stream-content-delivery-icon crm-entity-stream-content-delivery-icon--car\"></div>\n\t\t\t\t<div class=\"crm-entity-stream-content-delivery-title-contnet\">\n\t\t\t\t\t<logo v-if=\"logo\" :logo=\"logo\"></logo>\n\t\t\t\t\t<info\n\t\t\t\t\t\tv-if=\"serviceName || methodName\"\n\t\t\t\t\t\t:name=\"serviceName\"\n\t\t\t\t\t\t:method=\"methodName\"\n\t\t\t\t\t></info>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<slot name=\"bottom\"></slot>\n\t\t</div>\n\t`\n};\n","import {Vue} from 'ui.vue';\nimport UseHistoryItem from './mixins/usehistoryitem';\nimport HistoryItem from \"./components/history-item\";\nimport CarLogoInfo from \"./components/carlogoinfo\";\n\nexport default Vue.extend({\n\tmixins: [UseHistoryItem],\n\tcomponents: {\n\t\t'history-item': HistoryItem,\n\t\t'car-logo-info': CarLogoInfo,\n\t},\n\tcomputed: {\n\t\tisExpectedPriceReceived()\n\t\t{\n\t\t\treturn this.fields.hasOwnProperty('EXPECTED_PRICE_DELIVERY');\n\t\t}\n\t},\n\ttemplate: `\n\t\t<history-item :author=\"author\" :createdAt=\"createdAt\">\n\t\t\t<template v-slot:title>\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_SEND_REQUEST_HISTORY_TITLE}}\t\t\t\t\n\t\t\t</template>\t\n\t\t\t<template v-slot:default>\n\t\t\t\t<car-logo-info\n\t\t\t\t\t:logo=\"fields.DELIVERY_SYSTEM_LOGO\"\n\t\t\t\t\t:service-name=\"fields.DELIVERY_SYSTEM_NAME\"\n\t\t\t\t\t:method-name=\"fields.DELIVERY_METHOD\"\n\t\t\t\t>\n\t\t\t\t\t<template v-slot:bottom>\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-description\">\n\t\t\t\t\t\t\t<template v-if=\"isExpectedPriceReceived\">\n\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_ESTIMATED_DELIVERY_PRICE_RECEIVED}}:\n\t\t\t\t\t\t\t\t<span v-html=\"fields.EXPECTED_PRICE_DELIVERY\"></span>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_EXPECTED_PRICE_NOT_RECEIVED_FULL}}\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</car-logo-info>\n\t\t\t</template>\n\t\t</history-item>\n\t`\n});\n","import {Vue} from 'ui.vue';\nimport UseHistoryItem from './mixins/usehistoryitem';\nimport HistoryItem from './components/history-item';\n\nexport default Vue.extend({\n\tmixins: [UseHistoryItem],\n\tcomponents: {\n\t\t'history-item': HistoryItem,\n\t},\n\tcomputed: {\n\t\tisExpectedPriceReceived()\n\t\t{\n\t\t\treturn this.fields.hasOwnProperty('EXPECTED_PRICE_DELIVERY');\n\t\t}\n\t},\n\ttemplate: `\n\t\t<history-item :author=\"author\" :createdAt=\"createdAt\">\n\t\t\t<template v-slot:title>\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_PRICE_CALCULATION}}\n\t\t\t</template>\n\t\t\t<template v-slot:status>\n\t\t\t\t<span v-if=\"!isExpectedPriceReceived\" class=\"crm-entity-stream-content-event-missing\">\n\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_ERROR}}\n\t\t\t\t</span>\n\t\t\t</template>\t\t\t\n\t\t\t<template v-slot:default>\n\t\t\t\t<div class=\"crm-entity-stream-content-detail-description crm-delivery-taxi-caption\">\n\t\t\t\t\t<template v-if=\"isExpectedPriceReceived\">\n\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_ESTIMATED_DELIVERY_PRICE_RECEIVED}}:\n\t\t\t\t\t\t<span v-html=\"fields.EXPECTED_PRICE_DELIVERY\"></span>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_EXPECTED_PRICE_NOT_RECEIVED_FULL}}\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"crm-entity-stream-content-detail-description\">\n\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-box\">\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-box-label\">{{localize.TIMELINE_DELIVERY_TAXI_ADDRESS_FROM}}</div>\n\t\t\t\t\t\t<span v-html=\"fields.ADDRESS_FROM\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-box\">\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-delivery-order-box-label\">{{localize.TIMELINE_DELIVERY_TAXI_ADDRESS_TO}}</div>\n\t\t\t\t\t\t<span v-html=\"fields.ADDRESS_TO\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</history-item>\n\t`\n});\n","import {Vue} from 'ui.vue';\nimport UseHistoryItem from './mixins/usehistoryitem';\nimport HistoryItem from \"./components/history-item\";\nimport CarLogoInfo from \"./components/carlogoinfo\";\n\nexport default Vue.extend({\n\tmixins: [UseHistoryItem],\n\tcomponents: {\n\t\t'history-item': HistoryItem,\n\t\t'car-logo-info': CarLogoInfo,\n\t},\n\ttemplate: `\n\t\t<history-item :author=\"author\" :createdAt=\"createdAt\">\n\t\t\t<template v-slot:title>\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_CANCELLED_BY_MANAGER}}\n\t\t\t</template>\n\t\t\t<template v-slot:status>\n\t\t\t\t<span class=\"crm-entity-stream-content-event-process\">{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_CANCELLATION}}</span>\n\t\t\t</template>\t\t\t\n\t\t\t<template v-slot:default>\n\t\t\t\t<car-logo-info\n\t\t\t\t\t:logo=\"fields.DELIVERY_SYSTEM_LOGO\"\n\t\t\t\t\t:service-name=\"fields.DELIVERY_SYSTEM_NAME\"\n\t\t\t\t\t:method-name=\"fields.DELIVERY_METHOD\"\n\t\t\t\t></car-logo-info>\n\t\t\t\t<div v-if=\"fields.IS_PAID\" class=\"crm-entity-stream-content-detail-notice\">\n\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_PAID_CANCELLATION}}\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</history-item>\n\t`\n});\n","import {Vue} from 'ui.vue';\nimport UseHistoryItem from './mixins/usehistoryitem';\nimport HistoryItem from \"./components/history-item\";\nimport CarLogoInfo from \"./components/carlogoinfo\";\n\nexport default Vue.extend({\n\tmixins: [UseHistoryItem],\n\tcomponents: {\n\t\t'history-item': HistoryItem,\n\t\t'car-logo-info': CarLogoInfo,\n\t},\n\ttemplate: `\n\t\t<history-item :author=\"author\" :createdAt=\"createdAt\">\n\t\t\t<template v-slot:title>\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_CANCELLED_BY_DRIVER}}\n\t\t\t</template>\n\t\t\t<template v-slot:status>\n\t\t\t\t<span class=\"crm-entity-stream-content-event-process\">{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_CANCELLATION}}</span>\n\t\t\t</template>\t\t\t\n\t\t\t<template v-slot:default>\n\t\t\t\t<car-logo-info\n\t\t\t\t\t:logo=\"fields.DELIVERY_SYSTEM_LOGO\"\n\t\t\t\t\t:service-name=\"fields.DELIVERY_SYSTEM_NAME\"\n\t\t\t\t\t:method-name=\"fields.DELIVERY_METHOD\"\n\t\t\t\t></car-logo-info>\n\t\t\t</template>\n\t\t</history-item>\n\t`\n});\n","import {Vue} from 'ui.vue';\nimport UseHistoryItem from './mixins/usehistoryitem';\nimport HistoryItem from \"./components/history-item\";\nimport CarLogoInfo from './components/carlogoinfo';\n\nexport default Vue.extend({\n\tmixins: [UseHistoryItem],\n\tcomponents: {\n\t\t'history-item': HistoryItem,\n\t\t'car-logo-info': CarLogoInfo,\n\t},\n\ttemplate: `\n\t\t<history-item :author=\"author\" :createdAt=\"createdAt\">\n\t\t\t<template v-slot:title>\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_PERFORMER_NOT_FOUND}}\n\t\t\t</template>\n\t\t\t<template v-slot:status>\n\t\t\t\t<span class=\"crm-entity-stream-content-event-missing\">\n\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_ERROR}}\n\t\t\t\t</span>\n\t\t\t</template>\t\t\t\n\t\t\t<template v-slot:default>\n\t\t\t\t<car-logo-info\n\t\t\t\t\t:logo=\"fields.DELIVERY_SYSTEM_LOGO\"\n\t\t\t\t\t:service-name=\"fields.DELIVERY_SYSTEM_NAME\"\n\t\t\t\t\t:method-name=\"fields.DELIVERY_METHOD\"\n\t\t\t\t></car-logo-info>\n\t\t\t</template>\n\t\t</history-item>\n\t`\n});\n","import {Vue} from 'ui.vue';\nimport UseHistoryItem from './mixins/usehistoryitem';\nimport HistoryItem from \"./components/history-item\";\nimport CarLogoInfo from \"./components/carlogoinfo\";\n\nexport default Vue.extend({\n\tmixins: [UseHistoryItem],\n\tcomponents: {\n\t\t'history-item': HistoryItem,\n\t\t'car-logo-info': CarLogoInfo,\n\t},\n\ttemplate: `\n\t\t<history-item :author=\"author\" :createdAt=\"createdAt\">\n\t\t\t<template v-slot:title>\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_RETURNED_FINISH_TITLE}}\n\t\t\t</template>\n\t\t\t<template v-slot:status>\n\t\t\t\t<span class=\"crm-entity-stream-content-event-process\">{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_RETURN}}</span>\n\t\t\t</template>\t\t\t\n\t\t\t<template v-slot:default>\n\t\t\t\t<car-logo-info\n\t\t\t\t\t:logo=\"fields.DELIVERY_SYSTEM_LOGO\"\n\t\t\t\t\t:service-name=\"fields.DELIVERY_SYSTEM_NAME\"\n\t\t\t\t\t:method-name=\"fields.DELIVERY_METHOD\"\n\t\t\t\t></car-logo-info>\n\t\t\t</template>\n\t\t</history-item>\n\t`\n});\n","import {Vue} from 'ui.vue';\nimport UseHistoryItem from './mixins/usehistoryitem';\nimport HistoryItem from \"./components/history-item\";\nimport CarLogoInfo from \"./components/carlogoinfo\";\n\nexport default Vue.extend({\n\tmixins: [UseHistoryItem],\n\tcomponents: {\n\t\t'history-item': HistoryItem,\n\t\t'car-logo-info': CarLogoInfo,\n\t},\n\tmethods: {\n\t\tsetupSmsProvider()\n\t\t{\n\t\t\tif (!this.fields.SMS_PROVIDER_SETUP_LINK)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tBX.SidePanel.Instance.open(this.fields.SMS_PROVIDER_SETUP_LINK, {cacheable: false});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<history-item :author=\"author\" :createdAt=\"createdAt\">\n\t\t\t<template v-slot:title>\n\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_SMS_PROVIDER_ISSUE_TITLE}}\n\t\t\t</template>\n\t\t\t<template v-slot:status>\n\t\t\t\t<span class=\"crm-entity-stream-content-event-missing\">\n\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_ERROR}}\n\t\t\t\t</span>\n\t\t\t</template>\t\t\t\n\t\t\t<template v-slot:default>\n\t\t\t\t<div class=\"crm-entity-stream-content-delivery-description\">\n\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_SMS_PROVIDER_ISSUE_DETAIL}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"crm-entity-stream-content-detail-notice\">\n\t\t\t\t\t<a v-if=\"fields.SMS_PROVIDER_SETUP_LINK\" @click=\"setupSmsProvider\" href=\"#\" class=\"crm-entity-stream-content-detail-target\">\n\t\t\t\t\t\t{{localize.TIMELINE_DELIVERY_TAXI_DELIVERY_SMS_PROVIDER_SETUP}}\t\t\t\t\t\t\t\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</history-item>\n\t`\n});\n"],"names":["computed","localize","Vue","getFilteredPhrases","props","langMessages","required","type","Object","methods","getLangMessage","key","hasOwnProperty","self","mixins","UseLocalize","UseExternalLangMessages","data","_data","fields","ASSOCIATED_ENTITY","SETTINGS","FIELDS","author","AUTHOR","statusName","STATUS","TIMELINE_DELIVERY_TAXI_DELIVERY_STATUS_ON_ITS_WAY","TIMELINE_DELIVERY_TAXI_DELIVERY_STATUS_SUCCESS","TIMELINE_DELIVERY_TAXI_DELIVERY_STATUS_UNKNOWN","statusClass","isUnknownStatus","linkStyle","IMAGE_URL","template","logo","String","name","method","from","to","phone","phoneExt","canUseTelephony","Boolean","default","call","top","BXIM","phoneTo","window","location","href","car","extend","components","AuthorComponent","LogoComponent","InfoComponent","RouteComponent","PerformerComponent","CarComponent","UseActivity","isMakingRequest","isCancelling","completeActivity","canComplete","setAsDone","isDone","makeRequest","BX","ajax","runAction","analyticsLabel","shipmentId","SHIPMENT_ID","then","result","catch","showError","errors","map","item","message","join","cancelRequest","requestId","REQUEST_ID","checkRequestStatus","startCheckingRequestStatus","clearTimeout","_checkRequestStatusTimeoutId","setInterval","stopCheckingRequestStatus","loadExt","UI","Notification","Center","notify","content","showContextMenu","event","popup","PopupMenu","create","getId","target","id","text","onclick","close","deletionDlgId","dlg","Crm","ConfirmationDialog","get","title","open","cancel","remove","autoHide","offsetTop","offsetLeft","angle","position","offset","events","onPopupShow","addClass","onPopupClose","removeClass","show","created","isSearchingCar","isExpectedPriceReceived","isSendRequestButtonVisible","isRequestCancellationLinkVisible","REQUEST_CANCELLATION_AVAILABLE","cancelRequestButtonStyle","watch","value","UseAuthor","createdAt","CrmHistoryItem","formatTime","getCreatedTime","serviceName","methodName","UseHistoryItem","HistoryItem","CarLogoInfo","setupSmsProvider","SMS_PROVIDER_SETUP_LINK","SidePanel","Instance","cacheable"],"mappings":"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"}