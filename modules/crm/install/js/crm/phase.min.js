BX.namespace("BX.Crm");if(typeof BX.Crm.EntityPhaseLayout==="undefined"){BX.Crm.EntityPhaseLayout=function(){};BX.Crm.EntityPhaseLayout.prototype={getBackgroundColor:function(t){return BX.prop.getString(BX.Crm.EntityPhaseLayout.colors,t,"")},calculateTextColor:function(t){var r,n,e;if(t>7){var a=t.split("(")[1].split(")")[0];a=a.split(",");r=parseInt(a[0]);n=parseInt(a[1]);e=parseInt(a[2])}else{if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)){var i=t.substring(1).split("");if(i.length===3){i=[i[0],i[0],i[1],i[1],i[2],i[2]]}i="0x"+i.join("");r=i>>16&255;n=i>>8&255;e=i&255}}var o=.21*r+.72*n+.07*e;return o<145?"#fff":"#333"}};BX.Crm.EntityPhaseLayout.current=null;BX.Crm.EntityPhaseLayout.getCurrent=function(){if(!this.current){this.current=new BX.Crm.EntityPhaseLayout}return this.current};if(typeof BX.Crm.EntityPhaseLayout.colors==="undefined"){BX.Crm.EntityPhaseLayout.colors={}}}