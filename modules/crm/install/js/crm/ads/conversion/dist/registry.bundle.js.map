{"version":3,"file":"registry.bundle.js","sources":["../src/conversion.js","../src/facebookconversion.js","../src/deal.js","../src/form.js","../src/payment.js","../src/lead.js","../src/registry.js"],"sourcesContent":["import { Loc, Tag, Type } from 'main.core';\nimport { Layout } from \"ui.sidepanel.layout\";\n\nexport class Conversion\n{\n\tconstructor(width : number = 800)\n\t{\n\t\tthis.width = width;\n\t}\n\n\tgetSliderId() : string\n\t{\n\t\treturn '';\n\t}\n\n\tshow() : void\n\t{\n\n\t}\n}","import { Event, Loc, Runtime, Tag, Type } from 'main.core';\nimport { Layout } from \"ui.sidepanel.layout\";\nimport { LoginFactory } from 'seo.ads.login';\nimport { Conversion } from \"./conversion\";\n\nexport class FacebookConversion extends Conversion\n{\n\tconstructor(width : number = 800)\n\t{\n\t\tsuper(width);\n\t\tthis.tag = Tag.render`<div/>`;\n\t\tBX.addCustomEvent(\n\t\t\twindow,\n\t\t\t'seo-client-auth-result',\n\t\t\t(eventData) => {\n\t\t\t\teventData.reload = false;\n\t\t\t\tthis.slider?.reload();\n\t\t\t}\n\t\t);\n\t}\n\n\tgetSliderId()\n\t{\n\t\treturn this.code + ':conversion';\n\t}\n\n\tgetSliderTitle()\n\t{\n\t\tswitch (this.type)\n\t\t{\n\t\t\tcase 'facebook.form':\n\t\t\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_FORM_SLIDER_TITLE');\n\t\t\tcase 'facebook.lead':\n\t\t\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_LEAD_SLIDER_TITLE');\n\t\t\tcase 'facebook.deal':\n\t\t\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_DEAL_SLIDER_TITLE');\n\t\t\tcase 'facebook.payment':\n\t\t\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_PAYMENT_SLIDER_TITLE');\n\t\t\tdefault:\n\t\t\t\treturn '';\n\t\t}\n\t}\n\n\tnotify(message: string)\n\t{\n\t\tBX.UI.Notification.Center.notify({\n\t\t\tcontent: message\n\t\t});\n\t}\n\n\tsaveConfiguration(data)\n\t{\n\t\treturn BX.ajax.runAction('crm.ads.conversion.saveConfiguration', {\n\t\t\tdata: {\n\t\t\t\tcode: this.code,\n\t\t\t\tconfiguration: data\n\t\t\t}\n\t\t});\n\t}\n\n\tonItemEnable(id, switcher)\n\t{\n\t\tthis.data.configuration.items = Type.isArray(this.data.configuration.items) ? this.data.configuration.items : [];\n\t\tif (!this.data.configuration.items.includes(id))\n\t\t{\n\t\t\tthis.data.configuration.items.push(id);\n\t\t}\n\n\t\tthis.saveConfiguration(this.data.configuration)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.data.success)\n\t\t\t\t{\n\t\t\t\t\tswitcher.check(true,false);\n\t\t\t\t\tthis.notify(Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SAVE'));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t\tswitcher.check(true,false);\n\t\t\t\t\tthis.notify(Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SAVE'));\n\t\t\t\t}\n\t\t\t)\n\t\t;\n\t}\n\n\tonItemDisable(id, switcher)\n\t{\n\t\tthis.data.configuration.items = Type.isArray(this.data.configuration.items) ? this.data.configuration.items : [];\n\t\tfor (let i = 0; i < this.data.configuration.items.length; i++)\n\t\t{\n\t\t\tif (id == this.data.configuration.items[i])\n\t\t\t{\n\t\t\t\tthis.data.configuration.items.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tthis.saveConfiguration(this.data.configuration)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.data.success)\n\t\t\t\t{\n\t\t\t\t\tswitcher.check(true,false);\n\t\t\t\t\tthis.notify(Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SAVE'));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t\tswitcher.check(true,false);\n\t\t\t\t\tthis.notify(Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SAVE'));\n\t\t\t\t}\n\t\t\t)\n\t\t;\n\t}\n\n\tlogin()\n\t{\n\t\tLoginFactory.getLoginObject({\n\t\t\t'TYPE' : 'facebook',\n\t\t\t'ENGINE_CODE' : 'business.facebook'\n\t\t}).login();\n\t}\n\n\tloadData()\n\t{\n\t\treturn BX.ajax.runAction('crm.ads.conversion.load', {\n\t\t\tdata: {\n\t\t\t\ttype: this.code\n\t\t\t}\n\t\t});\n\t}\n\n\tlogout()\n\t{\n\t\tthis.slider?.showLoader();\n\t\treturn BX.ajax\n\t\t\t.runAction('crm.ads.conversion.logout', { data: {} })\n\t\t\t.then(()=> {\n\t\t\t\tthis.slider?.reload();\n\t\t\t})\n\t\t\t.catch(()=>{\n\t\t\t\tthis.slider?.reload();\n\t\t\t})\n\t}\n\n\tgetContentTitle()\n\t{\n\t\treturn '';\n\t}\n\n\trender ()\n\t{\n\t\tthis.tag.innerHTML = '';\n\t\tif (this.data && this.data.available)\n\t\t{\n\t\t\tthis.tag.appendChild(Tag.render`\n\t\t\t\t<div class=\"ui-slider-section crm-ads-conversion-title-section\">\n\t\t\t\t\t<span class=\"ui-icon ui-slider-icon ui-icon-service-fb\">\n\t\t\t\t\t\t<i></i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div class=\"ui-slider-content-box\">\n\t\t\t\t\t\t<div class=\"ui-slider-paragraph-2\">\n\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN_OPPORTUNITY_TITLE')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul class=\"ui-slider-list crm-ads-conversion-features\">\n\t\t\t\t\t\t\t<li class=\"ui-slider-list-item\">\n\t\t\t\t\t\t\t\t<span class=\"ui-slider-list-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN_OPPORTUNITY_TEXT_LIST_1')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"ui-slider-list-item\">\n\t\t\t\t\t\t\t\t<span class=\"ui-slider-list-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN_OPPORTUNITY_TEXT_LIST_2')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"ui-slider-list-item\">\n\t\t\t\t\t\t\t\t<span class=\"ui-slider-list-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN_OPPORTUNITY_TEXT_LIST_3')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"ui-slider-list-item\">\n\t\t\t\t\t\t\t\t<span class=\"ui-slider-list-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN_OPPORTUNITY_TEXT_LIST_4')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<a \n\t\t\t\t\t\t\thref=\"https://www.facebook.com/business/help/1292598407460746?id=1205376682832142\" \n\t\t\t\t\t\t\tclass=\"ui-slider-link\" \n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN_LINK')}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`);\n\t\t\tif (this.data.auth && this.data.profile)\n\t\t\t{\n\t\t\t\tthis.tag.appendChild(Tag.render`\n\t\t\t\t\t<div class=\"ui-slider-section crm-ads-conversion-account-section\">\n\t\t\t\t\t\t<div class=\"crm-ads-conversion-block\">\n\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-social crm-ads-conversion-social-facebook\">\n\t\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-social-avatar\">\n\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\tclass=\"crm-ads-conversion-social-avatar-icon\" \n\t\t\t\t\t\t\t\t\t\tstyle=\"background-image: url(${Tag.safe`${this.data.profile.picture}`})\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-social-user\">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t${this.data.profile.url ? 'href=\"' + Tag.safe`${this.data.profile.url}` + '\"' : \"\"}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_top\" \n\t\t\t\t\t\t\t\t\t\tclass=\"crm-ads-conversion-social-user-link\" \n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t${Tag.safe`${this.data.profile.name}`}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-social-shutoff\">\n\t\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\t\tclass=\"crm-ads-conversion-social-shutoff-link\" \n\t\t\t\t\t\t\t\t\t\tonclick=\"${this.logout.bind(this)}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGOUT')}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`);\n\n\t\t\t\tif (Type.isArray(this.data.items))\n\t\t\t\t{\n\t\t\t\t\tthis.tag.appendChild(this.data.items.reduce(\n\t\t\t\t\t\t(tag, value) => {\n\t\t\t\t\t\t\tlet itemNode = Tag.render`\n\t\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-settings-block\">\n\t\t\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-settings-name-block\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"crm-ads-conversion-settings-name\">${Tag.safe`${value.name}`}</span>\n\t\t\t\t\t\t\t\t\t\t<span class=\"crm-ads-conversion-settings-detail\">\n\t\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_DETAIL')}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-settings-control\">\n\t\t\t\t\t\t\t\t\t\t<span data-switcher-node=\"\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t`;\n\t\t\t\t\t\t\tlet switcher = new BX.UI.Switcher({\n\t\t\t\t\t\t\t\tnode: itemNode.querySelector('[data-switcher-node]'),\n\t\t\t\t\t\t\t\tchecked: value.enable,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tswitcher.handlers = {\n\t\t\t\t\t\t\t\tchecked: this.onItemDisable.bind(this,value.id,switcher),\n\t\t\t\t\t\t\t\tunchecked: this.onItemEnable.bind(this,value.id,switcher)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttag.appendChild(itemNode);\n\t\t\t\t\t\t\treturn tag;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tTag.render`\n\t\t\t\t\t\t<div class=\"ui-slider-section crm-ads-conversion-settings\">\n\t\t\t\t\t\t\t<div class=\"ui-slider-heading-3\">${Tag.safe`${this.getScriptMessage()}`}</div>\n\t\t\t\t\t\t</div>`\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.tag.appendChild(Tag.render`\n\t\t\t\t\t<div class=\"ui-slider-section\">\n\t\t\t\t\t\t<div class=\"ui-slider-content-box\">\n\t\t\t\t\t\t\t<div class=\"ui-slider-heading-3\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN_CONNECT_TITLE')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-login-block\">\n\t\t\t\t\t\t\t\t<div class=\"crm-ads-conversion-login-wrapper\">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\"webform-small-button webform-small-button-transparent\"\n\t\t\t\t\t\t\t\t\t\tonclick=\"${this.login.bind(this)}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<span class=\"crm-ads-conversion-settings-detail\">\n\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_LOGIN_OPPORTUNITY_TEXT_LIST_5')}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.tag.appendChild(Tag.render`\n\t\t\t\t<div class=\"ui-slider-no-access\">\n\t\t\t\t\t<div class=\"ui-slider-no-access-inner\">\n\t\t\t\t\t\t<div class=\"ui-slider-no-access-title\">\n\t\t\t\t\t\t\t${Loc.getMessage('CRM_ADS_CONVERSION_ERROR_TITLE_SERVICE_ERROR')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"ui-slider-no-access-subtitle\">\n\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\tthis.errors.length > 0?\n\t\t\t\t\t\t\t\t\tthis.errors\n\t\t\t\t\t\t\t\t\t\t.reduce(\n\t\t\t\t\t\t\t\t\t\t\t(unique, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet item = Tag.safe`${this.getErrorMessage(value)}`;\n\t\t\t\t\t\t\t\t\t\t\t\tif (unique.includes(item))\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tunique.push(item)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn unique;\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t.join('<br>') : \n\t\t\t\t\t\t\t\t\tLoc.getMessage('CRM_ADS_CONVERSION_ERROR_MESSAGE_SERVICE_ERROR')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"ui-slider-no-access-img\">\n\t\t\t\t\t\t\t<div class=\"ui-slider-no-access-img-inner\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`);\n\t\t}\n\t}\n\n\tgetErrorMessage(value)\n\t{\n\t\tif (Type.isObject(value) && value.code)\n\t\t{\n\t\t\tif (value.code === \"permissions\")\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_ERROR_ACCESS_DENY');\n\t\t\t}\n\n\t\t\tif (value.code === \"modules\" && value.customData)\n\t\t\t{\n\t\t\t\tswitch (value.customData.module)\n\t\t\t\t{\n\t\t\t\t\tcase \"seo\":\n\t\t\t\t\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SEO_NOT_INSTALLED');\n\t\t\t\t\tcase \"crm\":\n\t\t\t\t\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_ERROR_CRM_NOT_INSTALLED');\n\t\t\t\t\tcase \"socialservices\":\n\t\t\t\t\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SOCIAL_NOT_INSTALLED');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_ERROR_UNKNOWN_ERROR')\n\t}\n\n\tsaveData(data)\n\t{\n\t\tif (data)\n\t\t{\n\t\t\tdata.configuration = Type.isObject(data.configuration)? data.configuration : {};\n\t\t\tthis.data = data;\n\t\t}\n\t}\n\n\tsaveErrors(errors)\n\t{\n\t\tthis.errors = Type.isArray(errors)? errors: [];\n\t}\n\n\tshow() : void\n\t{\n\t\tthis.slider = this.slider ?? (BX.SidePanel.Instance.open(this.getSliderId(),{\n\t\t\tcontentCallback: () => {\n\t\t\t\treturn Runtime.loadExtension('ui.sidepanel.layout').then(() => {\n\t\t\t\t\treturn BX.UI.SidePanel.Layout.createContent({\n\t\t\t\t\t\t\ttitle: this.getContentTitle(),\n\t\t\t\t\t\t\textensions:[ 'crm.ads.conversion', 'ui.forms','ui.switcher','seo.ads.login' ],\n\t\t\t\t\t\t\tdesign:{ section: false, margin: true },\n\t\t\t\t\t\t\tcontent: () =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn this.loadData()\n\t\t\t\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t\t\t\tthis.saveData(response.data);\n\t\t\t\t\t\t\t\t\t\tthis.saveErrors(response.errors);\n\t\t\t\t\t\t\t\t\t\tthis.render();\n\t\t\t\t\t\t\t\t\t\treturn this.tag;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch((response) => {\n\t\t\t\t\t\t\t\t\t\tthis.saveData(response.data);\n\t\t\t\t\t\t\t\t\t\tthis.saveErrors(response.errors);\n\t\t\t\t\t\t\t\t\t\tthis.render();\n\n\t\t\t\t\t\t\t\t\t\tif (((response.errors || [])[0] || {}).code === 100)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tBX.UI.InfoHelper.show('crm_ad_conversion');\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn this.tag;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\ttitle: this.getSliderTitle(),\n\t\t\twidth: (this.width ?? BX.SidePanel.Instance.getTopSlider()?.getWidth() ?? 800)\n\t\t})?\n\t\t\tBX.SidePanel.Instance.getSlider(this.getSliderId()) :\n\t\t\tnull\n\t\t);\n\t}\n}","import {FacebookConversion} from \"./facebookconversion\";\nimport { Loc, Tag, Type, Event, Dom} from \"main.core\";\nimport './style.css'\n\nexport class Deal extends FacebookConversion\n{\n\tconstructor(width : number = 800)\n\t{\n\t\tsuper(width);\n\t\tthis.code = 'facebook.deal';\n\t}\n\n\tgetContentTitle()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_DEAL_CONTENT_TITLE');\n\t}\n\n\tgetSliderTitle()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_DEAL_SLIDER_TITLE');\n\t}\n\n\tgetScriptMessage()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_DEAL_SLIDER_ITEM_TITLE');\n\t}\n}","import { FacebookConversion } from \"./facebookconversion\";\nimport { Loc, Tag, Type, Event, Dom } from \"main.core\";\nimport './style.css'\n\nexport class Form extends FacebookConversion\n{\n\tconstructor(width: number = 800)\n\t{\n\t\tsuper(width);\n\t\tthis.code = 'facebook.webform';\n\n\t}\n\n\tgetSliderTitle()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_FORM_SLIDER_TITLE');\n\t}\n\n\tgetScriptMessage()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_FORM_SLIDER_ITEM_TITLE');\n\t}\n\n\tgetContentTitle()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_FORM_CONTENT_TITLE');\n\t}\n\n}","import {FacebookConversion} from \"./facebookconversion\";\nimport { Loc, Tag, Type, Event, Dom} from \"main.core\";\nimport './style.css'\n\nexport class Payment extends FacebookConversion\n{\n\tconstructor(width : number = 800)\n\t{\n\t\tsuper(width);\n\t\tthis.code = 'facebook.payment';\n\t}\n\n\tgetScriptMessage()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_PAYMENT_SLIDER_TITLE');\n\t}\n\n\tgetSliderTitle()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_PAYMENT_SLIDER_TITLE');\n\t}\n\n\tonItemEnable(id,switcher)\n\t{\n\t\tthis.onOptionClick(switcher);\n\t}\n\n\tonItemDisable(id,switcher)\n\t{\n\t\tthis.onOptionClick(switcher);\n\t}\n\n\tgetContentTitle()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_PAYMENT_CONTENT_TITLE');\n\t}\n\n\tonOptionClick(switcher)\n\t{\n\t\tthis.data.configuration.enable = !(this.data.configuration.enable == 'true');\n\t\tthis.saveConfiguration(this.data.configuration)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.data.success)\n\t\t\t\t{\n\t\t\t\t\tswitcher.check(!this.data.configuration.enabled,false);\n\t\t\t\t\tthis.notify(Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SAVE'));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t\tswitcher.check(!this.data.configuration.enabled,false);\n\t\t\t\t\tthis.notify(Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SAVE'));\n\t\t\t\t}\n\t\t\t)\n\t}\n\n\tsaveData(data)\n\t{\n\t\tif (data)\n\t\t{\n\t\t\tdata.configuration = Type.isObject(data.configuration)? data.configuration : {};\n\t\t\tdata.items = [\n\t\t\t\t{\n\t\t\t\t\tid: null,\n\t\t\t\t\tname: Loc.getMessage('CRM_ADS_CONVERSION_PAYMENT_OPTION'),\n\t\t\t\t\tenable: data.configuration.enable == 'true'\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\t\tsuper.saveData(data);\n\t}\n}","import {FacebookConversion} from \"./facebookconversion\";\nimport { Loc, Tag, Type, Event, Dom } from \"main.core\";\nimport './style.css'\n\nexport class Lead extends FacebookConversion\n{\n\tconstructor(width : number = 800)\n\t{\n\t\tsuper(width);\n\t\tthis.code = 'facebook.lead';\n\t}\n\n\tgetScriptMessage()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_LEAD_SLIDER_TITLE');\n\t}\n\n\tgetSliderTitle()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_LEAD_SLIDER_TITLE');\n\t}\n\n\tonItemEnable(id,switcher)\n\t{\n\t\tthis.onOptionClick(switcher);\n\t}\n\n\tonItemDisable(id,switcher)\n\t{\n\t\tthis.onOptionClick(switcher);\n\t}\n\n\tgetContentTitle()\n\t{\n\t\treturn Loc.getMessage('CRM_ADS_CONVERSION_LEAD_CONTENT_TITLE');\n\t}\n\n\tonOptionClick(switcher)\n\t{\n\t\tthis.data.configuration.enable = !(this.data.configuration.enable == 'true');\n\t\tthis.saveConfiguration(this.data.configuration)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.data.success)\n\t\t\t\t{\n\t\t\t\t\tswitcher.check(!this.data.configuration.enabled,false);\n\t\t\t\t\tthis.notify(Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SAVE'));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t\tswitcher.check(!this.data.configuration.enabled,false);\n\t\t\t\t\tthis.notify(Loc.getMessage('CRM_ADS_CONVERSION_ERROR_SAVE'));\n\t\t\t\t}\n\t\t\t)\n\t}\n\t saveData(data)\n\t {\n\t \tif (data)\n\t\t{\n\t\t\tdata.configuration = Type.isObject(data.configuration)? data.configuration : {};\n\t\t\tdata.items = [\n\t\t\t\t{\n\t\t\t\t\tid: null,\n\t\t\t\t\tname: Loc.getMessage('CRM_ADS_CONVERSION_LEAD_OPTION'),\n\t\t\t\t\tenable: data.configuration.enable == 'true'\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\t \tsuper.saveData(data);\n\t }\n}","import {Conversion} from \"./conversion\";\nimport {Deal} from \"./deal\";\nimport {Form} from \"./form\";\nimport {Payment} from \"./payment\";\nimport {Lead} from \"./lead\";\n\nexport class Registry\n{\n\tstatic conversion(code : string) : Conversion\n\t{\n\t\tswitch (code)\n\t\t{\n\t\t\tcase 'facebook_conversion_deal':\n\t\t\t\treturn new Deal();\n\t\t\tcase 'facebook_conversion_webform':\n\t\t\t\treturn new Form();\n\t\t\tcase 'facebook_conversion_payment':\n\t\t\t\treturn new Payment();\n\t\t\tcase 'facebook_conversion_lead':\n\t\t\t\treturn new Lead();\n\t\t}\n\n\t}\n}"],"names":["Conversion","width","FacebookConversion","tag","Tag","render","BX","addCustomEvent","window","eventData","reload","slider","code","type","Loc","getMessage","message","UI","Notification","Center","notify","content","data","ajax","runAction","configuration","id","switcher","items","Type","isArray","includes","push","saveConfiguration","then","response","success","check","catch","i","length","splice","LoginFactory","getLoginObject","login","showLoader","innerHTML","available","appendChild","auth","profile","safe","picture","url","name","logout","bind","reduce","value","itemNode","Switcher","node","querySelector","checked","enable","handlers","onItemDisable","unchecked","onItemEnable","getScriptMessage","errors","unique","item","getErrorMessage","join","isObject","customData","module","SidePanel","Instance","open","getSliderId","contentCallback","Runtime","loadExtension","Layout","createContent","title","getContentTitle","extensions","design","section","margin","loadData","saveData","saveErrors","InfoHelper","show","getSliderTitle","getTopSlider","getWidth","getSlider","Deal","Form","Payment","onOptionClick","enabled","Lead","Registry"],"mappings":"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"}