this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,t,a,r){"use strict";function l(e,t,a){i(e,t);t.set(e,a)}function i(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var s=new WeakMap;var o=new WeakMap;var n=new WeakMap;var c=new WeakMap;let b=function(){babelHelpers.createClass(e,null,[{key:"createFromServerTimestamp",value:function t(a){const l=r.Factory.createFromTimestampInServerTimezone(a);return new e(l)}}]);function e(a){babelHelpers.classCallCheck(this,e);l(this,s,{writable:true,value:void 0});l(this,o,{writable:true,value:void 0});l(this,n,{writable:true,value:void 0});l(this,c,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,s,t.Loc.getMessage("CRM_TIMELINE_TIME_FORMAT"));babelHelpers.classPrivateFieldSet(this,o,t.Loc.getMessage("CRM_TIMELINE_SHORT_DATE_FORMAT"));babelHelpers.classPrivateFieldSet(this,n,t.Loc.getMessage("CRM_TIMELINE_FULL_DATE_FORMAT"));babelHelpers.classPrivateFieldSet(this,c,a)}babelHelpers.createClass(e,[{key:"getValue",value:function e(){return babelHelpers.classPrivateFieldGet(this,c)}},{key:"toUserTime",value:function e(){const t=Math.floor(babelHelpers.classPrivateFieldGet(this,c).getTime()/1e3);babelHelpers.classPrivateFieldSet(this,c,new Date(r.TimestampConverter.serverToUser(t)*1e3));return this}},{key:"toDatetimeString",value:function e(t){t=t||{};const r=new Date;const l=!!t.withDayOfWeek;const i=t.delimiter||" ";return a.DateTimeFormat.format([["today","today"+i+babelHelpers.classPrivateFieldGet(this,s)],["tommorow","tommorow"+i+babelHelpers.classPrivateFieldGet(this,s)],["yesterday","yesterday"+i+babelHelpers.classPrivateFieldGet(this,s)],["",(l?"D"+i:"")+(babelHelpers.classPrivateFieldGet(this,c).getFullYear()===r.getFullYear()?babelHelpers.classPrivateFieldGet(this,o):babelHelpers.classPrivateFieldGet(this,n))+i+babelHelpers.classPrivateFieldGet(this,s)]],babelHelpers.classPrivateFieldGet(this,c),r).replaceAll("\\","")}},{key:"toTimeString",value:function e(t,r){return a.DateTimeFormat.format(babelHelpers.classPrivateFieldGet(this,s),babelHelpers.classPrivateFieldGet(this,c),t,r).replaceAll("\\","")}},{key:"toDateString",value:function e(){return a.DateTimeFormat.format([["today","today"],["tommorow","tommorow"],["yesterday","yesterday"],["",babelHelpers.classPrivateFieldGet(this,c).getFullYear()===r.Factory.getUserNow().getFullYear()?babelHelpers.classPrivateFieldGet(this,o):babelHelpers.classPrivateFieldGet(this,n)]],babelHelpers.classPrivateFieldGet(this,c)).replaceAll("\\","")}},{key:"toFormatString",value:function e(t,r,l){return a.DateTimeFormat.format(t,babelHelpers.classPrivateFieldGet(this,c),r,l).replaceAll("\\","")}}],[{key:"getSiteDateFormat",value:function e(){return a.DateTimeFormat.convertBitrixFormat(t.Loc.getMessage("FORMAT_DATE"))}},{key:"getSiteDateTimeFormat",value:function e(){return a.DateTimeFormat.convertBitrixFormat(t.Loc.getMessage("FORMAT_DATETIME"))}}]);return e}();e.DatetimeConverter=b})(this.BX.Crm.Timeline=this.BX.Crm.Timeline||{},BX,BX.Main,BX.Crm.DateTime);
//# sourceMappingURL=tools.bundle.map.js