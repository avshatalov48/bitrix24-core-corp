this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,t){"use strict";function a(e,t,a){l(e,t);t.set(e,a)}function l(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var i=new WeakMap;var r=new WeakMap;var s=new WeakMap;var o=new WeakMap;let n=function(){babelHelpers.createClass(e,null,[{key:"createFromServerTimestamp",value:function t(a){const l=BX.Main.Timezone.Offset.SERVER_TO_UTC+BX.Main.Timezone.Offset.BROWSER_TO_UTC;const i=new Date((a+l)*1e3);return new e(i)}}]);function e(l){babelHelpers.classCallCheck(this,e);a(this,i,{writable:true,value:void 0});a(this,r,{writable:true,value:void 0});a(this,s,{writable:true,value:void 0});a(this,o,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,i,t.DateTimeFormat.getFormat("SHORT_TIME_FORMAT"));babelHelpers.classPrivateFieldSet(this,r,t.DateTimeFormat.getFormat("DAY_SHORT_MONTH_FORMAT"));babelHelpers.classPrivateFieldSet(this,s,t.DateTimeFormat.getFormat("MEDIUM_DATE_FORMAT"));babelHelpers.classPrivateFieldSet(this,o,l)}babelHelpers.createClass(e,[{key:"getValue",value:function e(){return babelHelpers.classPrivateFieldGet(this,o)}},{key:"toUserTime",value:function e(){const a=Math.floor(babelHelpers.classPrivateFieldGet(this,o).getTime()/1e3);babelHelpers.classPrivateFieldSet(this,o,new Date((a+t.Timezone.Offset.USER_TO_SERVER)*1e3));return this}},{key:"toDatetimeString",value:function e(a){a=a||{};const l=new Date;const n=!!a.withDayOfWeek;const m=a.delimiter||" ";return t.DateTimeFormat.format([["today","today"+m+babelHelpers.classPrivateFieldGet(this,i)],["tommorow","tommorow"+m+babelHelpers.classPrivateFieldGet(this,i)],["yesterday","yesterday"+m+babelHelpers.classPrivateFieldGet(this,i)],["",(n?"D"+m:"")+(babelHelpers.classPrivateFieldGet(this,o).getFullYear()===l.getFullYear()?babelHelpers.classPrivateFieldGet(this,r):babelHelpers.classPrivateFieldGet(this,s))+m+babelHelpers.classPrivateFieldGet(this,i)]],babelHelpers.classPrivateFieldGet(this,o),l).replaceAll("\\","")}},{key:"toTimeString",value:function e(a,l){return t.DateTimeFormat.format(babelHelpers.classPrivateFieldGet(this,i),babelHelpers.classPrivateFieldGet(this,o),a,l).replaceAll("\\","")}},{key:"toDateString",value:function e(){return t.DateTimeFormat.format([["today","today"],["tommorow","tommorow"],["yesterday","yesterday"],["",babelHelpers.classPrivateFieldGet(this,o).getFullYear()===t.Timezone.UserTime.getDate().getFullYear()?babelHelpers.classPrivateFieldGet(this,r):babelHelpers.classPrivateFieldGet(this,s)]],babelHelpers.classPrivateFieldGet(this,o)).replaceAll("\\","")}},{key:"toFormatString",value:function e(a,l,i){return t.DateTimeFormat.format(a,babelHelpers.classPrivateFieldGet(this,o),l,i).replaceAll("\\","")}}],[{key:"getSiteDateFormat",value:function e(){return t.DateTimeFormat.getFormat("FORMAT_DATE")}},{key:"getSiteDateTimeFormat",value:function e(){return t.DateTimeFormat.getFormat("FORMAT_DATETIME")}}]);return e}();e.DatetimeConverter=n})(this.BX.Crm.Timeline=this.BX.Crm.Timeline||{},BX.Main);
//# sourceMappingURL=tools.bundle.map.js