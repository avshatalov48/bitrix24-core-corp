this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,t,a,r){"use strict";function i(e,t,a){s(e,t);t.set(e,a)}function s(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var l=new WeakMap;var o=new WeakMap;var n=new WeakMap;var c=new WeakMap;let b=function(){babelHelpers.createClass(e,null,[{key:"createFromServerTimestamp",value:function t(a){const i=r.Factory.createFromTimestampInServerTimezone(a);return new e(i)}}]);function e(a){babelHelpers.classCallCheck(this,e);i(this,l,{writable:true,value:void 0});i(this,o,{writable:true,value:void 0});i(this,n,{writable:true,value:void 0});i(this,c,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,l,t.Loc.getMessage("CRM_TIMELINE_TIME_FORMAT"));babelHelpers.classPrivateFieldSet(this,o,t.Loc.getMessage("CRM_TIMELINE_SHORT_DATE_FORMAT"));babelHelpers.classPrivateFieldSet(this,n,t.Loc.getMessage("CRM_TIMELINE_FULL_DATE_FORMAT"));babelHelpers.classPrivateFieldSet(this,c,a)}babelHelpers.createClass(e,[{key:"getValue",value:function e(){return babelHelpers.classPrivateFieldGet(this,c)}},{key:"toUserTime",value:function e(){const t=Math.floor(babelHelpers.classPrivateFieldGet(this,c).getTime()/1e3);babelHelpers.classPrivateFieldSet(this,c,new Date(r.TimestampConverter.serverToUser(t)*1e3));return this}},{key:"toDatetimeString",value:function e(t){t=t||{};const r=new Date;const i=!!t.withDayOfWeek;const s=t.delimiter||" ";return a.DateTimeFormat.format([["today","today"+s+babelHelpers.classPrivateFieldGet(this,l)],["tommorow","tommorow"+s+babelHelpers.classPrivateFieldGet(this,l)],["yesterday","yesterday"+s+babelHelpers.classPrivateFieldGet(this,l)],["",(i?"D"+s:"")+(babelHelpers.classPrivateFieldGet(this,c).getFullYear()===r.getFullYear()?babelHelpers.classPrivateFieldGet(this,o):babelHelpers.classPrivateFieldGet(this,n))+s+babelHelpers.classPrivateFieldGet(this,l)]],babelHelpers.classPrivateFieldGet(this,c),r)}},{key:"toTimeString",value:function e(t,r){return a.DateTimeFormat.format(babelHelpers.classPrivateFieldGet(this,l),babelHelpers.classPrivateFieldGet(this,c),t,r)}},{key:"toDateString",value:function e(){return a.DateTimeFormat.format([["today","today"],["tommorow","tommorow"],["yesterday","yesterday"],["",babelHelpers.classPrivateFieldGet(this,c).getFullYear()===r.Factory.getUserNow().getFullYear()?babelHelpers.classPrivateFieldGet(this,o):babelHelpers.classPrivateFieldGet(this,n)]],babelHelpers.classPrivateFieldGet(this,c))}},{key:"toFormatString",value:function e(t,r,i){return a.DateTimeFormat.format(t,babelHelpers.classPrivateFieldGet(this,c),r,i)}}],[{key:"getSiteDateFormat",value:function e(){return a.DateTimeFormat.convertBitrixFormat(t.Loc.getMessage("FORMAT_DATE"))}},{key:"getSiteDateTimeFormat",value:function e(){return a.DateTimeFormat.convertBitrixFormat(t.Loc.getMessage("FORMAT_DATETIME"))}}]);return e}();e.DatetimeConverter=b})(this.BX.Crm.Timeline=this.BX.Crm.Timeline||{},BX,BX.Main,BX.Crm.DateTime);
//# sourceMappingURL=tools.bundle.map.js