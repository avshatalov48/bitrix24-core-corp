this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,t,a){"use strict";function l(e,t,a){i(e,t);t.set(e,a)}function i(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var r=new WeakMap;var s=new WeakMap;var o=new WeakMap;var n=new WeakMap;let m=function(){babelHelpers.createClass(e,null,[{key:"createFromServerTimestamp",value:function t(l){const i=BX.Main.Timezone.Offset.SERVER_TO_UTC+a.Text.toInteger((new Date).getTimezoneOffset()*60);const r=new Date((l+i)*1e3);return new e(r)}}]);function e(a){babelHelpers.classCallCheck(this,e);l(this,r,{writable:true,value:void 0});l(this,s,{writable:true,value:void 0});l(this,o,{writable:true,value:void 0});l(this,n,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,r,t.DateTimeFormat.getFormat("SHORT_TIME_FORMAT"));babelHelpers.classPrivateFieldSet(this,s,t.DateTimeFormat.getFormat("DAY_SHORT_MONTH_FORMAT"));babelHelpers.classPrivateFieldSet(this,o,t.DateTimeFormat.getFormat("MEDIUM_DATE_FORMAT"));babelHelpers.classPrivateFieldSet(this,n,a)}babelHelpers.createClass(e,[{key:"getValue",value:function e(){return babelHelpers.classPrivateFieldGet(this,n)}},{key:"toUserTime",value:function e(){const a=Math.floor(babelHelpers.classPrivateFieldGet(this,n).getTime()/1e3);babelHelpers.classPrivateFieldSet(this,n,new Date((a+t.Timezone.Offset.USER_TO_SERVER)*1e3));return this}},{key:"toDatetimeString",value:function e(a){a=a||{};const l=new Date;const i=!!a.withDayOfWeek;const m=a.delimiter||" ";return t.DateTimeFormat.format([["today","today"+m+babelHelpers.classPrivateFieldGet(this,r)],["tommorow","tommorow"+m+babelHelpers.classPrivateFieldGet(this,r)],["yesterday","yesterday"+m+babelHelpers.classPrivateFieldGet(this,r)],["",(i?"D"+m:"")+(babelHelpers.classPrivateFieldGet(this,n).getFullYear()===l.getFullYear()?babelHelpers.classPrivateFieldGet(this,s):babelHelpers.classPrivateFieldGet(this,o))+m+babelHelpers.classPrivateFieldGet(this,r)]],babelHelpers.classPrivateFieldGet(this,n),l).replaceAll("\\","")}},{key:"toTimeString",value:function e(a,l){return t.DateTimeFormat.format(babelHelpers.classPrivateFieldGet(this,r),babelHelpers.classPrivateFieldGet(this,n),a,l).replaceAll("\\","")}},{key:"toDateString",value:function e(){return t.DateTimeFormat.format([["today","today"],["tommorow","tommorow"],["yesterday","yesterday"],["",babelHelpers.classPrivateFieldGet(this,n).getFullYear()===t.Timezone.UserTime.getDate().getFullYear()?babelHelpers.classPrivateFieldGet(this,s):babelHelpers.classPrivateFieldGet(this,o)]],babelHelpers.classPrivateFieldGet(this,n)).replaceAll("\\","")}},{key:"toFormatString",value:function e(a,l,i){return t.DateTimeFormat.format(a,babelHelpers.classPrivateFieldGet(this,n),l,i).replaceAll("\\","")}}],[{key:"getSiteDateFormat",value:function e(){return t.DateTimeFormat.getFormat("FORMAT_DATE")}},{key:"getSiteDateTimeFormat",value:function e(){return t.DateTimeFormat.getFormat("FORMAT_DATETIME")}}]);return e}();e.DatetimeConverter=m})(this.BX.Crm.Timeline=this.BX.Crm.Timeline||{},BX.Main,BX);
//# sourceMappingURL=tools.bundle.map.js