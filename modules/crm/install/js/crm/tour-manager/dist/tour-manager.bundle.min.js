this.BX=this.BX||{},function(e,s,l){"use strict";var a=babelHelpers.classPrivateFieldLooseKey("stack");class i{constructor(){Object.defineProperty(this,a,{writable:!0,value:new Map})}get(e){var s;return null!=(s=babelHelpers.classPrivateFieldLooseBase(this,a)[a].get(e))?s:null}push(e){babelHelpers.classPrivateFieldLooseBase(this,a)[a].set(e.getGuide().getId(),e)}pop(){const e=[...babelHelpers.classPrivateFieldLooseBase(this,a)[a].values()].pop();return e?(this.delete(e.getGuide().getId()),e):null}peek(){const[e]=babelHelpers.classPrivateFieldLooseBase(this,a)[a].values();return e?(this.delete(e.getGuide().getId()),e):null}delete(e){return babelHelpers.classPrivateFieldLooseBase(this,a)[a].delete(e)}size(){return babelHelpers.classPrivateFieldLooseBase(this,a)[a].size()}}var t=babelHelpers.classPrivateFieldLooseKey("queue"),r=babelHelpers.classPrivateFieldLooseKey("current"),o=babelHelpers.classPrivateFieldLooseKey("bannerDispatcher"),b=babelHelpers.classPrivateFieldLooseKey("isBannerDispatcherAvailable"),c=babelHelpers.classPrivateFieldLooseKey("toBannerDispatcherQueue"),n=babelHelpers.classPrivateFieldLooseKey("subscribeTourFinish"),u=babelHelpers.classPrivateFieldLooseKey("showNextTour");class h{static getInstance(){return h.instance||(h.instance=new h),h.instance}constructor(){Object.defineProperty(this,u,{value:P}),Object.defineProperty(this,n,{value:v}),Object.defineProperty(this,c,{value:p}),Object.defineProperty(this,b,{value:d}),Object.defineProperty(this,t,{writable:!0,value:new i}),Object.defineProperty(this,r,{writable:!0,value:null}),Object.defineProperty(this,o,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldLooseBase(this,o)[o]=new l.BannerDispatcher}registerWithLaunch(e){this.register(e),this.launch()}launch(){var e;babelHelpers.classPrivateFieldLooseBase(this,r)[r]||babelHelpers.classPrivateFieldLooseBase(this,b)[b]()||(babelHelpers.classPrivateFieldLooseBase(this,r)[r]=babelHelpers.classPrivateFieldLooseBase(this,t)[t].peek(),null==(e=babelHelpers.classPrivateFieldLooseBase(this,r)[r])||e.show())}register(e){e.canShow()&&(babelHelpers.classPrivateFieldLooseBase(this,b)[b]()?babelHelpers.classPrivateFieldLooseBase(this,c)[c](e):(babelHelpers.classPrivateFieldLooseBase(this,t)[t].push(e),babelHelpers.classPrivateFieldLooseBase(this,n)[n](e)))}}function d(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].isAvailable()}function p(e){babelHelpers.classPrivateFieldLooseBase(this,o)[o].toQueue((s=>{e.getGuide().subscribe(h.TOUR_FINISH_EVENT,s),e.show()}))}function v(e){e.getGuide().subscribe(h.TOUR_FINISH_EVENT,babelHelpers.classPrivateFieldLooseBase(this,u)[u].bind(this))}function P(){const e=babelHelpers.classPrivateFieldLooseBase(this,t)[t].peek();e?(babelHelpers.classPrivateFieldLooseBase(this,r)[r]=e,babelHelpers.classPrivateFieldLooseBase(this,r)[r].show()):babelHelpers.classPrivateFieldLooseBase(this,r)[r]=null}h.TOUR_FINISH_EVENT="UI.Tour.Guide:onFinish",h.instance=null,e.TourManager=h}(this.BX.Crm=this.BX.Crm||{},BX.UI.Tour,BX.Crm.Integration.UI);
//# sourceMappingURL=tour-manager.bundle.map.js