this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(exports,main_core){"use strict";var ClientFieldsRestriction=function(){function ClientFieldsRestriction(i){babelHelpers.classCallCheck(this,ClientFieldsRestriction);this.options=i;this.bindAddFilterItemEvent();this.bindGridSortEvent()}babelHelpers.createClass(ClientFieldsRestriction,[{key:"bindAddFilterItemEvent",value:function i(){var t,e=this;var r=(t=this.options.filterId)!==null&&t!==void 0?t:null;if(r&&BX.Main.filterManager){var n=BX.Main.filterManager.getById(r);if(n){n.getEmitter().subscribe("onBeforeAddFilterItem",function(i){var t=i.getData();if(t.hasOwnProperty("NAME")&&e.isRestrictedFilterField(t.NAME)){i.preventDefault();e.callRestrictionCallback()}})}}}},{key:"bindGridSortEvent",value:function i(){var t,e=this;var r=(t=this.options.gridId)!==null&&t!==void 0?t:null;if(r&&BX.Main.gridManager){main_core.Event.EventEmitter.subscribe("BX.Main.grid:onBeforeSort",function(i){var t=i.getData(),n=t.grid,l=t.columnName;if(n.getId()===r&&e.isRestrictedGridField(l)){i.preventDefault();e.callRestrictionCallback()}})}}},{key:"isRestrictedFilterField",value:function i(t){var e;var r=(e=this.options.filterFields)!==null&&e!==void 0?e:[];return main_core.Type.isArray(r)&&r.indexOf(t)>-1}},{key:"isRestrictedGridField",value:function i(t){var e;var r=(e=this.options.gridFields)!==null&&e!==void 0?e:[];return main_core.Type.isArray(r)&&r.indexOf(t)>-1}},{key:"callRestrictionCallback",value:function callRestrictionCallback(){if(main_core.Type.isStringFilled(this.options.callback)){eval(this.options.callback)}}}]);return ClientFieldsRestriction}();exports.ClientFieldsRestriction=ClientFieldsRestriction})(this.BX.Crm.Restriction=this.BX.Crm.Restriction||{},BX);
//# sourceMappingURL=client-fields.bundle.map.js