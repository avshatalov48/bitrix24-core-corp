{"version":3,"file":"index.bundle.js","sources":["../src/index.js"],"sourcesContent":["import {Type, Extension, SettingsCollection} from 'main.core';\n\nconst Bitrix24 = {\n\tdata: null,\n\n\tgetData(entityId: ?string): SettingsCollection|Object|undefined\n\t{\n\t\tif (this.data === null)\n\t\t{\n\t\t\tthis.data = Extension.getSettings('crm.restriction.bitrix24');\n\t\t}\n\t\tif (Type.isStringFilled(entityId))\n\t\t{\n\t\t\treturn this.data.get(entityId);\n\t\t}\n\t\treturn this.data;\n\t},\n\n\tisRestricted(entityId)\n\t{\n\t\treturn !!this.getData(entityId);\n\t},\n\n\tgetHandler(entityId)\n\t{\n\t\tconst restrictions = this.getData(entityId);\n\n\t\tif (restrictions)\n\t\t{\n\t\t\treturn function(e) {\n\t\t\t\tif (e)\n\t\t\t\t{\n\t\t\t\t\tBX.PreventDefault(e);\n\t\t\t\t}\n\n\t\t\t\tif (BX.Type.isStringFilled(restrictions['infoHelperScript']))\n\t\t\t\t{\n\t\t\t\t\teval(restrictions['infoHelperScript']);\n\t\t\t\t}\n\t\t\t\telse if (restrictions['id'])\n\t\t\t\t{\n\t\t\t\t\ttop.BX.UI.InfoHelper.show(restrictions['id']);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}.bind(this);\n\t\t}\n\t\treturn null;\n\t}\n}\nexport {Bitrix24};\n"],"names":["Bitrix24","data","getData","entityId","Extension","getSettings","Type","isStringFilled","get","isRestricted","getHandler","restrictions","e","BX","PreventDefault","eval","top","UI","InfoHelper","show","bind"],"mappings":";;;;;KAEMA,QAAQ,GAAG;GAChBC,IAAI,EAAE,IADU;GAGhBC,OAHgB,mBAGRC,QAHQ,EAIhB;KACC,IAAI,KAAKF,IAAL,KAAc,IAAlB,EACA;OACC,KAAKA,IAAL,GAAYG,mBAAS,CAACC,WAAV,CAAsB,0BAAtB,CAAZ;;;KAED,IAAIC,cAAI,CAACC,cAAL,CAAoBJ,QAApB,CAAJ,EACA;OACC,OAAO,KAAKF,IAAL,CAAUO,GAAV,CAAcL,QAAd,CAAP;;;KAED,OAAO,KAAKF,IAAZ;IAbe;GAgBhBQ,YAhBgB,wBAgBHN,QAhBG,EAiBhB;KACC,OAAO,CAAC,CAAC,KAAKD,OAAL,CAAaC,QAAb,CAAT;IAlBe;GAqBhBO,UArBgB,sBAqBLP,QArBK,EAsBhB;KACC,IAAMQ,YAAY,GAAG,KAAKT,OAAL,CAAaC,QAAb,CAArB;;KAEA,IAAIQ,YAAJ,EACA;OACC,OAAO,UAASC,CAAT,EAAY;SAClB,IAAIA,CAAJ,EACA;WACCC,EAAE,CAACC,cAAH,CAAkBF,CAAlB;;;SAGD,IAAIC,EAAE,CAACP,IAAH,CAAQC,cAAR,CAAuBI,YAAY,CAAC,kBAAD,CAAnC,CAAJ,EACA;WACCI,IAAI,CAACJ,YAAY,CAAC,kBAAD,CAAb,CAAJ;UAFD,MAIK,IAAIA,YAAY,CAAC,IAAD,CAAhB,EACL;WACCK,GAAG,CAACH,EAAJ,CAAOI,EAAP,CAAUC,UAAV,CAAqBC,IAArB,CAA0BR,YAAY,CAAC,IAAD,CAAtC;;;SAED,OAAO,KAAP;QAdM,CAeLS,IAfK,CAeA,IAfA,CAAP;;;KAiBD,OAAO,IAAP;;CA5Ce,CAAjB;;;;;;;;"}