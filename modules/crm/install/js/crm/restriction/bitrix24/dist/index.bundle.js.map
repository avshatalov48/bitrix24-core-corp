{"version":3,"file":"index.bundle.js","sources":["../src/index.js"],"sourcesContent":["import {Type, Extension, SettingsCollection} from 'main.core';\n\nconst Bitrix24 = {\n\tdata: null,\n\n\tgetData(entityId: ?string): SettingsCollection|Object|undefined\n\t{\n\t\tif (this.data === null)\n\t\t{\n\t\t\tthis.data = Extension.getSettings('crm.restriction.bitrix24');\n\t\t}\n\t\tif (Type.isStringFilled(entityId))\n\t\t{\n\t\t\treturn this.data.get(entityId);\n\t\t}\n\t\treturn this.data;\n\t},\n\n\tisRestricted(entityId)\n\t{\n\t\treturn !!this.getData(entityId);\n\t},\n\n\tgetHandler(entityId)\n\t{\n\t\tconst restrictions = this.getData(entityId);\n\n\t\tif (restrictions)\n\t\t{\n\t\t\treturn function(e) {\n\t\t\t\tif (e)\n\t\t\t\t{\n\t\t\t\t\tBX.PreventDefault(e);\n\t\t\t\t}\n\n\t\t\t\tif (BX.Type.isStringFilled(restrictions['infoHelperScript']))\n\t\t\t\t{\n\t\t\t\t\teval(restrictions['infoHelperScript']);\n\t\t\t\t}\n\t\t\t\telse if (restrictions['id'])\n\t\t\t\t{\n\t\t\t\t\ttop.BX.UI.InfoHelper.show(restrictions['id']);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}.bind(this);\n\t\t}\n\t\treturn null;\n\t}\n}\nexport {Bitrix24};\n"],"names":["Bitrix24","data","getData","entityId","Extension","getSettings","Type","isStringFilled","get","isRestricted","getHandler","restrictions","e","BX","PreventDefault","eval","top","UI","InfoHelper","show","bind"],"mappings":";;;;;KAEMA,QAAQ,GAAG;CAChBC,EAAAA,IAAI,EAAE,IADU;CAGhBC,EAAAA,OAHgB,mBAGRC,QAHQ,EAIhB;CACC,QAAI,KAAKF,IAAL,KAAc,IAAlB,EACA;CACC,WAAKA,IAAL,GAAYG,mBAAS,CAACC,WAAV,CAAsB,0BAAtB,CAAZ;CACA;;CACD,QAAIC,cAAI,CAACC,cAAL,CAAoBJ,QAApB,CAAJ,EACA;CACC,aAAO,KAAKF,IAAL,CAAUO,GAAV,CAAcL,QAAd,CAAP;CACA;;CACD,WAAO,KAAKF,IAAZ;CACA,GAde;CAgBhBQ,EAAAA,YAhBgB,wBAgBHN,QAhBG,EAiBhB;CACC,WAAO,CAAC,CAAC,KAAKD,OAAL,CAAaC,QAAb,CAAT;CACA,GAnBe;CAqBhBO,EAAAA,UArBgB,sBAqBLP,QArBK,EAsBhB;CACC,QAAMQ,YAAY,GAAG,KAAKT,OAAL,CAAaC,QAAb,CAArB;;CAEA,QAAIQ,YAAJ,EACA;CACC,aAAO,UAASC,CAAT,EAAY;CAClB,YAAIA,CAAJ,EACA;CACCC,UAAAA,EAAE,CAACC,cAAH,CAAkBF,CAAlB;CACA;;CAED,YAAIC,EAAE,CAACP,IAAH,CAAQC,cAAR,CAAuBI,YAAY,CAAC,kBAAD,CAAnC,CAAJ,EACA;CACCI,UAAAA,IAAI,CAACJ,YAAY,CAAC,kBAAD,CAAb,CAAJ;CACA,SAHD,MAIK,IAAIA,YAAY,CAAC,IAAD,CAAhB,EACL;CACCK,UAAAA,GAAG,CAACH,EAAJ,CAAOI,EAAP,CAAUC,UAAV,CAAqBC,IAArB,CAA0BR,YAAY,CAAC,IAAD,CAAtC;CACA;;CACD,eAAO,KAAP;CACA,OAfM,CAeLS,IAfK,CAeA,IAfA,CAAP;CAgBA;;CACD,WAAO,IAAP;CACA;CA7Ce,CAAjB;;;;;;;;"}