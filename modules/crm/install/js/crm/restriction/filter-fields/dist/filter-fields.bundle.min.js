this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(exports,main_core){"use strict";var FilterFieldsRestriction=function(){function FilterFieldsRestriction(i){babelHelpers.classCallCheck(this,FilterFieldsRestriction);this.options=i;this.bindAddFilterItemEvent();this.bindGridSortEvent()}babelHelpers.createClass(FilterFieldsRestriction,[{key:"bindAddFilterItemEvent",value:function i(){var t,e=this;var r=(t=this.options.filterId)!==null&&t!==void 0?t:null;if(r&&BX.Main.filterManager){var l=BX.Main.filterManager.getById(r);if(l){l.getEmitter().subscribe("onBeforeAddFilterItem",(function(i){var t=i.getData();if(t.hasOwnProperty("NAME")&&e.isRestrictedFilterField(t.NAME)){i.preventDefault();e.callRestrictionCallback()}}))}}}},{key:"bindGridSortEvent",value:function i(){var t,e=this;var r=(t=this.options.gridId)!==null&&t!==void 0?t:null;if(r&&BX.Main.gridManager){main_core.Event.EventEmitter.subscribe("BX.Main.grid:onBeforeSort",(function(i){var t=i.getData(),l=t.grid,n=t.columnName;if(l.getId()===r&&e.isRestrictedGridField(n)){i.preventDefault();e.callRestrictionCallback()}}))}}},{key:"isRestrictedFilterField",value:function i(t){var e;var r=(e=this.options.filterFields)!==null&&e!==void 0?e:[];return main_core.Type.isArray(r)&&r.indexOf(t)>-1}},{key:"isRestrictedGridField",value:function i(t){var e;var r=(e=this.options.gridFields)!==null&&e!==void 0?e:[];return main_core.Type.isArray(r)&&r.indexOf(t)>-1}},{key:"callRestrictionCallback",value:function callRestrictionCallback(){if(main_core.Type.isStringFilled(this.options.callback)){eval(this.options.callback)}}}]);return FilterFieldsRestriction}();exports.FilterFieldsRestriction=FilterFieldsRestriction})(this.BX.Crm.Restriction=this.BX.Crm.Restriction||{},BX);
//# sourceMappingURL=filter-fields.bundle.map.js