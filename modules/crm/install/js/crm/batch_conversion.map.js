{"version":3,"file":"batch_conversion.map.js","names":["BX","namespace","Crm","BatchConversionManager","this","_id","_settings","_gridId","_config","_entityIds","_enableUserFieldCheck","_enableConfigCheck","_filter","_serviceUrl","_containerId","_errors","_progress","_hasLayout","_succeededItemCount","_failedItemCount","_isRunning","_messages","_loadExtensionsPromise","_progressChangeHandler","delegate","onProgress","_documentUnloadHandler","onDocumentUnload","prototype","initialize","id","settings","type","isNotEmptyString","Math","random","toString","substring","prop","getString","getObject","getArray","AutorunProcessManager","create","serviceUrl","actionName","container","enableCancellation","title","getMessage","stateTemplate","enableLayout","Runtime","loadExtension","catch","error","console","getId","getConfig","setConfig","config","isPlainObject","getEntityIds","setEntityIds","entityIds","isArray","getFilter","setFilter","filter","isUserFieldCheckEnabled","enableUserFieldCheck","isConfigCheckEnabled","enableConfigCheck","name","messages","layout","clearLayout","getState","getProcessedItemCount","getTotalItemCount","execute","params","GRID_ID","CONFIG","ENABLE_CONFIG_CHECK","ENABLE_USER_FIELD_CHECK","data","ACTION","PARAMS","sessid","bitrix_sessid","sendAnalyticsData","ajax","url","method","dataType","onsuccess","onPrepare","status","CrmEntityType","isDefined","entityTypeId","then","exports","Object","keys","forEach","dstEntityTypeName","active","event","Builder","Entity","ConvertBatchEvent","createDefault","resolveId","Type","analytics","isStringFilled","c_section","setSection","c_sub_section","setSubSection","c_element","setElement","setStatus","sendData","buildData","result","hasOwnProperty","CrmLeadConverter","assign","errors","dlg","NotificationDialog","content","join","open","syncEditor","getCurrent","createSynchronizationEditor","addClosingListener","onSynchronizationEditorClose","show","run","setParams","addCustomEvent","bind","window","stop","onStop","reset","setTimeout","onCustomEvent","removeCustomEvent","unbind","getClass","Main","gridManager","reload","getSucceededItemCount","getFailedItemCount","getErrors","e","returnValue","sender","args","getBoolean","state","AutoRunProcessState","stopped","length","concat","completed","ProcessSummaryPanel","succeededCount","failedCount","numberSubstitution","items","getItem","get","self"],"sources":["batch_conversion.js"],"mappings":"AAAAA,GAAGC,UAAU,UAEb,UAAUD,GAAGE,IAA0B,yBAAM,YAC7C,CACCF,GAAGE,IAAIC,uBAAyB,WAE/BC,KAAKC,IAAM,GACXD,KAAKE,UAAY,CAAC,EAElBF,KAAKG,QAAU,GACfH,KAAKI,QAAU,KACfJ,KAAKK,WAAa,KAClBL,KAAKM,sBAAwB,KAC7BN,KAAKO,mBAAqB,KAE1BP,KAAKQ,QAAU,KAEfR,KAAKS,YAAc,GACnBT,KAAKU,aAAe,GACpBV,KAAKW,QAAU,KAEfX,KAAKY,UAAY,KACjBZ,KAAKa,WAAa,MAElBb,KAAKc,oBAAsB,EAC3Bd,KAAKe,iBAAmB,EACxBf,KAAKgB,WAAa,MAClBhB,KAAKiB,UAAY,KAEjBjB,KAAKkB,uBAAyB,KAE9BlB,KAAKmB,uBAAyBvB,GAAGwB,SAASpB,KAAKqB,WAAYrB,MAC3DA,KAAKsB,uBAAyB1B,GAAGwB,SAASpB,KAAKuB,iBAAkBvB,KAClE,EACAJ,GAAGE,IAAIC,uBAAuByB,UAC9B,CACCC,WAAY,SAASC,EAAIC,GAExB3B,KAAKC,IAAML,GAAGgC,KAAKC,iBAAiBH,GAAMA,EAAK,4BAA8BI,KAAKC,SAASC,WAAWC,UAAU,GAChHjC,KAAKE,UAAYyB,EAAWA,EAAW,CAAC,EAExC3B,KAAKG,QAAUP,GAAGsC,KAAKC,UAAUnC,KAAKE,UAAW,SAAUF,KAAKC,KAChED,KAAKI,QAAUR,GAAGsC,KAAKE,UAAUpC,KAAKE,UAAW,SAAU,CAAC,GAC5DF,KAAKK,WAAaT,GAAGsC,KAAKG,SAASrC,KAAKE,UAAW,YAAa,IAEhEF,KAAKS,YAAcb,GAAGsC,KAAKC,UAAUnC,KAAKE,UAAW,aAAc,IACnE,GAAGF,KAAKS,cAAgB,GACxB,CACC,KAAM,mFACP,CAEAT,KAAKU,aAAed,GAAGsC,KAAKC,UAAUnC,KAAKE,UAAW,YAAa,IACnE,GAAGF,KAAKU,eAAiB,GACzB,CACC,KAAM,0DACP,CAGAV,KAAKY,UAAYhB,GAAG0C,sBAAsBC,OACzCvC,KAAKC,IACL,CACCuC,WAAYxC,KAAKS,YACjBgC,WAAY,2BACZC,UAAW1C,KAAKU,aAChBiC,mBAAoB,KACpBC,MAAO5C,KAAK6C,WAAW,SACvBC,cAAelD,GAAGsC,KAAKC,UAAUnC,KAAKE,UAAW,gBAAiB,yBAClE6C,aAAc,QAIhB/C,KAAKW,QAAU,GAEfX,KAAKkB,uBAAyBtB,GAAGoD,QAAQC,cAAc,4BAA6B,gBAClFC,OAAOC,IACPC,QAAQD,MAAM,sCAAuCA,GAErD,MAAMA,CAAK,GAEd,EACAE,MAAO,WAEN,OAAOrD,KAAKC,GACb,EACAqD,UAAW,WAEV,OAAOtD,KAAKI,OACb,EACAmD,UAAW,SAASC,GAEnBxD,KAAKI,QAAUR,GAAGgC,KAAK6B,cAAcD,GAAUA,EAAS,CAAC,CAC1D,EACAE,aAAc,WAEb,OAAO1D,KAAKK,UACb,EACAsD,aAAc,SAASC,GAEtB5D,KAAKK,WAAaT,GAAGgC,KAAKiC,QAAQD,GAAaA,EAAY,EAC5D,EACAE,UAAW,WAEV,OAAO9D,KAAKQ,OACb,EACAuD,UAAW,SAASC,GAEnBhE,KAAKQ,QAAUZ,GAAGgC,KAAK6B,cAAcO,GAAUA,EAAS,IACzD,EACAC,wBAAyB,WAExB,OAAOjE,KAAKM,qBACb,EACA4D,qBAAsB,SAASA,GAE9BlE,KAAKM,sBAAwB4D,CAC9B,EACAC,qBAAsB,WAErB,OAAOnE,KAAKO,kBACb,EACA6D,kBAAmB,SAASA,GAE3BpE,KAAKO,mBAAqB6D,CAC3B,EACAvB,WAAY,SAASwB,GAEpB,GAAIrE,KAAKiB,WAAarB,GAAGsC,KAAKC,UAAUnC,KAAKiB,UAAWoD,EAAM,MAC9D,CACC,OAAQzE,GAAGsC,KAAKC,UAAUnC,KAAKiB,UAAWoD,EAAMA,EACjD,CAEA,IAAIC,EAAW1E,GAAGsC,KAAKE,UAAUpC,KAAKE,UAAW,WAAYN,GAAGE,IAAIC,uBAAuBuE,UAC3F,OAAO1E,GAAGsC,KAAKC,UAAUmC,EAAUD,EAAMA,EAC1C,EACAE,OAAQ,WAEP,GAAGvE,KAAKa,WACR,CACC,MACD,CAEAb,KAAKY,UAAU2D,SACfvE,KAAKa,WAAa,IACnB,EACA2D,YAAa,WAEZ,IAAIxE,KAAKa,WACT,CACC,MACD,CAEAb,KAAKY,UAAU4D,cACfxE,KAAKa,WAAa,KACnB,EACA4D,SAAU,WAET,OAAOzE,KAAKY,UAAU6D,UACvB,EACAC,sBAAuB,WAEtB,OAAO1E,KAAKY,UAAU8D,uBACvB,EACAC,kBAAmB,WAElB,OAAO3E,KAAKY,UAAU+D,mBACvB,EACAC,QAAS,WAER,IAAIC,EACH,CACCC,QAAS9E,KAAKG,QACd4E,OAAQ/E,KAAKI,QACb4E,oBAAqBhF,KAAKO,mBAAqB,IAAM,IACrD0E,wBAAyBjF,KAAKM,sBAAwB,IAAM,KAG9D,GAAGN,KAAKQ,UAAY,KACpB,CACCqE,EAAO,UAAY7E,KAAKQ,OACzB,KAEA,CACCqE,EAAO,OAAS7E,KAAKK,UACtB,CAEA,IAAI6E,EACH,CACCC,OAAQ,2BACRC,OAAQP,EACRQ,OAAQzF,GAAG0F,iBAGbtF,KAAKuF,kBAAkB,WAEvB3F,GAAG4F,KACF,CACCC,IAAKzF,KAAKS,YACViF,OAAQ,OACRC,SAAU,OACVT,KAAMA,EACNU,UAAWhG,GAAGwB,SAASpB,KAAK6F,UAAW7F,OAG1C,EAKAuF,kBAAkBO,GAEjB,IAAKlG,GAAGmG,cAAcC,UAAUhG,KAAKE,UAAU+F,cAC/C,CACC,MACD,CAEAjG,KAAKkB,uBAAuBgF,MAAMC,IACjCC,OAAOC,KAAKrG,KAAKI,SAASkG,SAASC,IAClC,GAAIvG,KAAKI,QAAQmG,GAAmBC,SAAW,IAC/C,CAEC,MAAMC,EAAQN,EAAQO,QAAQC,OAAOC,kBAAkBC,cACtD7G,KAAKE,UAAU+F,aACfrG,GAAGmG,cAAce,UAAUP,IAG5B,GAAI3G,GAAGmH,KAAKtD,cAAczD,KAAKE,UAAU8G,WACzC,CACC,GAAIpH,GAAGmH,KAAKE,eAAejH,KAAKE,UAAU8G,UAAUE,WACpD,CACCT,EAAMU,WAAWnH,KAAKE,UAAU8G,UAAUE,UAC3C,CAEA,GAAItH,GAAGmH,KAAKE,eAAejH,KAAKE,UAAU8G,UAAUI,eACpD,CACCX,EAAMY,cAAcrH,KAAKE,UAAU8G,UAAUI,cAC9C,CAEA,GAAIxH,GAAGmH,KAAKE,eAAejH,KAAKE,UAAU8G,UAAUM,WACpD,CACCb,EAAMc,WAAWvH,KAAKE,UAAU8G,UAAUM,UAC3C,CACD,CAEAb,EAAMe,UAAU1B,GAGhBK,EAAQsB,SAAShB,EAAMiB,YACxB,IACC,GAEJ,EACA7B,UAAW,SAAS8B,GAEnB,IAAIzC,EAAOyC,EAAO,QAElB,IAAI7B,EAASlG,GAAGsC,KAAKC,UAAU+C,EAAM,SAAU,IAC/ClF,KAAKI,QAAUR,GAAGsC,KAAKE,UAAU8C,EAAM,SAAU,CAAC,GAElD,GAAIA,EAAK0C,eAAe,aAAehI,GAAGmH,KAAKtD,cAAcyB,EAAKZ,UAClE,CACCtE,KAAKiB,UAAYiE,EAAKZ,SACtB,IAAK1E,GAAGiI,iBAAiBvD,SACzB,CACC1E,GAAGiI,iBAAiBvD,SAAW,CAAC,CACjC,CACA1E,GAAGiI,iBAAiBvD,SAAW8B,OAAO0B,OAAOlI,GAAGiI,iBAAiBvD,SAAUY,EAAKZ,SACjF,CAEA,GAAGwB,IAAW,QACd,CACC9F,KAAKuF,kBAAkB,SAEvB,IAAIwC,EAASnI,GAAGsC,KAAKG,SAAS6C,EAAM,SAAU,IAC9C,IAAI8C,EAAMpI,GAAGE,IAAImI,mBAAmB1F,OACnC,yBACA,CACCK,MAAO5C,KAAK6C,WAAW,SACvBqF,QAASH,EAAOI,KAAK,WAGvBH,EAAII,OAEJ,MACD,CACA,GAAGtC,IAAW,2BACd,CACC,IAAIuC,EAAazI,GAAGiI,iBAAiBS,aAAaC,4BACjDvI,KAAKC,IACLD,KAAKI,QACLR,GAAGsC,KAAKG,SAAS6C,EAAM,cAAe,KAEvCmD,EAAWG,mBAAmB5I,GAAGwB,SAASpB,KAAKyI,6BAA8BzI,OAC7EqI,EAAWK,OAEX,MACD,CAEA1I,KAAKuE,SACLvE,KAAK2I,KACN,EACAA,IAAK,WAEJ,GAAG3I,KAAKgB,WACR,CACC,MACD,CACAhB,KAAKgB,WAAa,KAElBhB,KAAKY,UAAUgI,UAAU,CAAE9D,QAAW9E,KAAKG,QAAS4E,OAAU/E,KAAKI,UACnEJ,KAAKY,UAAU+H,MAEf/I,GAAGiJ,eAAe7I,KAAKY,UAAW,kCAAmCZ,KAAKmB,wBAC1EvB,GAAGkJ,KAAKC,OAAQ,eAAgB/I,KAAKsB,uBACtC,EACA0H,KAAM,WAEL,IAAIhJ,KAAKgB,WACT,CACC,MACD,CACAhB,KAAKgB,WAAa,MAElBhB,KAAKuF,kBAAkB,UAEvB3F,GAAG4F,KACF,CACCC,IAAKzF,KAAKS,YACViF,OAAQ,OACRC,SAAU,OACVT,KAAM,CAAEC,OAAQ,wBAAyBC,OAAQ,CAAEN,QAAS9E,KAAKG,UACjEyF,UAAWhG,GAAGwB,SAASpB,KAAKiJ,OAAQjJ,OAGvC,EACAiJ,OAAQ,SAAStB,GAEhB3H,KAAKkJ,QAELH,OAAOI,WACN,WAECvJ,GAAGwJ,cACFL,OACA,uCACA,CAAE/I,MAEJ,EAAE8I,KAAK9I,MACP,IAEF,EACAkJ,MAAO,WAENlJ,KAAKY,UAAUsI,QAEftJ,GAAGyJ,kBAAkBrJ,KAAKY,UAAW,kCAAmCZ,KAAKmB,wBAC7EvB,GAAG0J,OAAOP,OAAQ,eAAgB/I,KAAKsB,wBAEvC,IAAItB,KAAKc,oBAAsB,GAAKd,KAAKe,iBAAmB,IAAMnB,GAAG2J,SAAS,uBAC9E,CACC3J,GAAG4J,KAAKC,YAAYC,OAAO1J,KAAKG,QACjC,CAEAH,KAAKc,oBAAsBd,KAAKe,iBAAmB,EACnDf,KAAKgB,WAAa,MAElB,GAAGhB,KAAKa,WACR,CACCkI,OAAOI,WAAWvJ,GAAGwB,SAASpB,KAAKwE,YAAaxE,MAAO,IACxD,CAEAA,KAAKW,QAAU,EAChB,EACAgJ,sBAAuB,WAEtB,OAAO3J,KAAKc,mBACb,EACA8I,mBAAoB,WAEnB,OAAO5J,KAAKe,gBACb,EACA8I,UAAW,WAEV,OAAO7J,KAAKW,OACb,EACAY,iBAAkB,SAASuI,GAE1B,OAAOA,EAAEC,YAAc/J,KAAK6C,WAAW,qBACxC,EACA4F,6BAA8B,SAASuB,EAAQC,GAE9C,GAAGrK,GAAGsC,KAAKgI,WAAWD,EAAM,aAAc,OAC1C,CACCjK,KAAKuF,kBAAkB,UAEvBvF,KAAKwE,cACL,MACD,CAEAxE,KAAKI,QAAU4J,EAAO1G,YACtBtD,KAAK2I,KAEN,EACAtH,WAAY,SAAS2I,GAEpB,IAAIG,EAAQnK,KAAKY,UAAU6D,WAC3B,GAAG0F,IAAUvK,GAAGwK,oBAAoBC,QACpC,CACCrK,KAAKgJ,OACL,MACD,CAEA,IAAIjB,EAAS/H,KAAKY,UAAUiJ,YAC5B,GAAG9B,EAAOuC,SAAW,EACrB,CACCtK,KAAKc,qBACN,KAEA,CACC,IAAId,KAAKW,QACT,CACCX,KAAKW,QAAUoH,CAChB,KAEA,CACC/H,KAAKW,QAAUX,KAAKW,QAAQ4J,OAAOxC,EACpC,CAEA/H,KAAKe,mBACLf,KAAKuF,kBAAkB,QACxB,CAEA,GAAG4E,IAAUvK,GAAGwK,oBAAoBI,UACpC,CACCxK,KAAKuF,kBAAkB,WAEvB3F,GAAGE,IAAI2K,oBAAoBlI,OAC1BvC,KAAKC,IACL,CACCyC,UAAW1C,KAAKU,aAChBwE,KACC,CACCwF,eAAgB1K,KAAK2J,wBACrBgB,YAAa3K,KAAK4J,qBAClB7B,OAAQ/H,KAAK6J,aAEfvF,SAAU1E,GAAGsC,KAAKE,UAAUpC,KAAKE,UAAW,WAAY,MACxD0K,mBAAoB,mBAEpBrG,SAEFvE,KAAKkJ,QAELH,OAAOI,WACN,WAECvJ,GAAGwJ,cACFL,OACA,kDACA,CAAE/I,MAEJ,EAAE8I,KAAK9I,MACP,IAEF,CACD,GAGD,UAAUJ,GAAGE,IAAIC,uBAA+B,WAAM,YACtD,CACCH,GAAGE,IAAIC,uBAAuBuE,SAAW,CAAC,CAC3C,CAEA1E,GAAGE,IAAIC,uBAAuB8K,MAAQ,CAAC,EACvCjL,GAAGE,IAAIC,uBAAuB+K,QAAU,SAASpJ,GAEhD,OAAO9B,GAAGsC,KAAK6I,IAAI/K,KAAK6K,MAAOnJ,EAAI,KACpC,EACA9B,GAAGE,IAAIC,uBAAuBwC,OAAS,SAASb,EAAIC,GAEnD,IAAIqJ,EAAO,IAAIpL,GAAGE,IAAIC,uBACtBiL,EAAKvJ,WAAWC,EAAIC,GACpB3B,KAAK6K,MAAMG,EAAK3H,SAAW2H,EAC3B,OAAOA,CACR,CACD"}