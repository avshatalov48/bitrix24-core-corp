{"version":3,"file":"store-document-grid-manager.bundle.js","sources":["../src/document-manager.js","../src/grid-manager.js"],"sourcesContent":["import {Uri} from \"main.core\";\n\nexport class DocumentManager\n{\n\tstatic getRealizationDocumentDetailUrl(id)\n\t{\n\t\treturn new Uri('/shop/documents/details/sales_order/' + id + '/');\n\t}\n\n\tstatic openRealizationDetailDocument(id)\n\t{\n\t\tconst documentUrl = DocumentManager.getRealizationDocumentDetailUrl(id);\n\t\treturn BX.SidePanel.Instance.open(documentUrl.toString());\n\t}\n}\n","import { ajax, Loc } from 'main.core';\nimport { Popup } from 'main.popup';\nimport { Button, ButtonColor } from 'ui.buttons';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { DocumentManager } from './document-manager';\n\nexport class GridManager\n{\n\tconstructor(options)\n\t{\n\t\tthis.gridId = options.gridId;\n\t\tthis.filterId = options.filterId;\n\t\tthis.grid = BX.Main.gridManager.getInstanceById(this.gridId);\n\t\tthis.isConductDisabled = options.isConductDisabled;\n\t\tthis.masterSliderUrl = options.masterSliderUrl;\n\t\tthis.inventoryManagementSource = options.inventoryManagementSource;\n\t\tthis.isInventoryManagementDisabled = options.isInventoryManagementDisabled;\n\t\tthis.inventoryManagementFeatureCode = options.inventoryManagementFeatureCode;\n\n\t\twindow.top.BX.addCustomEvent('onEntityEditorDocumentOrderShipmentControllerDocumentSave', this.reloadGrid.bind(this));\n\t}\n\n\tgetSelectedIds()\n\t{\n\t\treturn this.grid.getRows().getSelectedIds();\n\t}\n\n\tdeleteDocument(documentId)\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst popup = new Popup({\n\t\t\tid: 'crm_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_DELETE_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_DELETE_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'crm.api.realizationdocument.setRealization',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tid: documentId,\n\t\t\t\t\t\t\t\t\tvalue: 'N',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tanalyticsLabel: {\n\t\t\t\t\t\t\t\t\taction: 'delete',\n\t\t\t\t\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.reloadGrid();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: BX.util.htmlspecialchars(response.errors[0].message),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tconductDocument(documentId)\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\n\t\t\treturn;\n\t\t}\n\t\tconst popup = new Popup({\n\t\t\tid: 'crm_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CONDUCT_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CONDUCT_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'crm.api.realizationdocument.setShipped',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tid: documentId,\n\t\t\t\t\t\t\t\t\tvalue: 'Y',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tanalyticsLabel: {\n\t\t\t\t\t\t\t\t\taction: 'deduct',\n\t\t\t\t\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.reloadGrid();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: BX.util.htmlspecialchars(response.errors[0].message),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tcancelDocument(documentId)\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\n\t\t\treturn;\n\t\t}\n\t\tconst popup = new Popup({\n\t\t\tid: 'crm_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CANCEL_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CANCEL_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'crm.api.realizationdocument.setShipped',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tid: documentId,\n\t\t\t\t\t\t\t\t\tvalue: 'N',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tanalyticsLabel: {\n\t\t\t\t\t\t\t\t\taction: 'cancelDeduct',\n\t\t\t\t\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.reloadGrid();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: BX.util.htmlspecialchars(response.errors[0].message),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tdeleteSelectedDocuments()\n\t{\n\t\tconst documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'crm.api.realizationdocument.setRealizationList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tids: documentIds,\n\t\t\t\t\tvalue: 'N',\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\taction: 'delete',\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t},\n\t\t\t},\n\t\t).then((response) => {\n\t\t\tthis.reloadGrid();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: BX.util.htmlspecialchars(error.message),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.reloadGrid();\n\t\t});\n\t}\n\n\tconductSelectedDocuments()\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\n\t\t\treturn;\n\t\t}\n\t\tconst documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'crm.api.realizationdocument.setShippedList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tids: documentIds,\n\t\t\t\t\tvalue: 'Y',\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t\taction: 'deduct',\n\t\t\t\t},\n\t\t\t},\n\t\t).then((response) => {\n\t\t\tthis.reloadGrid();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: BX.util.htmlspecialchars(error.message),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.reloadGrid();\n\t\t});\n\t}\n\n\tcancelSelectedDocuments()\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\n\t\t\treturn;\n\t\t}\n\t\tconst documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'crm.api.realizationdocument.setShippedList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tids: documentIds,\n\t\t\t\t\tvalue: 'N',\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t\taction: 'cancelDeduct',\n\t\t\t\t},\n\t\t\t},\n\t\t).then((response) => {\n\t\t\tthis.reloadGrid();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: BX.util.htmlspecialchars(error.message),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.reloadGrid();\n\t\t});\n\t}\n\n\tapplyFilter(options)\n\t{\n\t\tconst filterManager = BX.Main.filterManager.getById(this.filterId);\n\t\tif (!filterManager)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tfilterManager.getApi().extendFilter(options);\n\t}\n\n\tprocessApplyButtonClick()\n\t{\n\t\tconst actionValues = this.grid.getActionsPanel().getValues();\n\t\tconst selectedAction = actionValues[`action_button_${this.gridId}`];\n\n\t\tif (selectedAction === 'conduct')\n\t\t{\n\t\t\tthis.conductSelectedDocuments();\n\t\t}\n\n\t\tif (selectedAction === 'cancel')\n\t\t{\n\t\t\tthis.cancelSelectedDocuments();\n\t\t}\n\t}\n\n\topenHowToShipProducts()\n\t{\n\t\tif (top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show('redirect=detail&code=14640548');\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenStoreMasterSlider()\n\t{\n\t\tBX.SidePanel.Instance.open(\n\t\t\tthis.masterSliderUrl,\n\t\t\t{\n\t\t\t\tcacheable: false,\n\t\t\t\tdata: {\n\t\t\t\t\topenGridOnDone: false,\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonCloseComplete: function(event) {\n\t\t\t\t\t\tconst slider = event.getSlider();\n\t\t\t\t\t\tif (!slider)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (slider.getData().get('isInventoryManagementEnabled'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdocument.location.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t}\n\n\treloadGrid()\n\t{\n\t\tthis.grid.reload();\n\t}\n}\n"],"names":["DocumentManager","id","Uri","documentUrl","getRealizationDocumentDetailUrl","BX","SidePanel","Instance","open","toString","GridManager","options","gridId","filterId","grid","Main","gridManager","getInstanceById","isConductDisabled","masterSliderUrl","inventoryManagementSource","isInventoryManagementDisabled","inventoryManagementFeatureCode","window","top","addCustomEvent","reloadGrid","bind","getRows","getSelectedIds","documentId","UI","InfoHelper","show","popup","Popup","titleBar","Loc","getMessage","content","buttons","Button","text","color","ButtonColor","SUCCESS","onclick","button","event","ajax","runAction","data","value","analyticsLabel","action","then","response","destroy","errors","Notification","Center","notify","util","htmlspecialchars","message","DANGER","openStoreMasterSlider","documentIds","ids","forEach","error","filterManager","getById","getApi","extendFilter","actionValues","getActionsPanel","getValues","selectedAction","conductSelectedDocuments","cancelSelectedDocuments","Helper","preventDefault","cacheable","openGridOnDone","events","onCloseComplete","slider","getSlider","getData","get","document","location","reload"],"mappings":"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"}