{"version":3,"file":"zoom.bundle.js","sources":["../src/zoom.js"],"sourcesContent":["import {Type, Tag, Loc, Dom, Event, Cache} from 'main.core';\nimport {BaseEvent, EventEmitter} from 'main.core.events';\nimport {Planner} from \"calendar.planner\";\nimport {Util} from \"calendar.util\";\n\n/**\n * @memberOf BX.Crm.Timeline.ToolBar\n * @mixes EventEmitter\n */\nexport class Zoom\n{\n\tTITLE = 'Zoom';\n\terror = false;\n\terrorMessages = [];\n\tcache = new Cache.MemoryCache();\n\n\tconstructor(params: {\n\t\tid: string,\n\t\tcontainer: HTMLElement,\n\t\townerTypeId: Number,\n\t\townerId: Number,\n\t\tonFinishEdit: Function,\n\t\tonStartSave: Function,\n\t\tonFinishSave: Function\n\t})\n\t{\n\t\tthis.container = params.container;\n\t\tthis.ownerTypeId = params.ownerTypeId;\n\t\tthis.ownerId = params.ownerId;\n\t\tthis.userId = +Loc.getMessage('USER_ID');\n\t\tthis.onFinishEdit = params.onFinishEdit;\n\t\tthis.onStartSave = params.onStartSave;\n\t\tthis.onFinishSave = params.onFinishSave;\n\n\t\tDom.append(this.getFormContainer(), this.container);\n\t\tDom.append(this.renderButtons(), this.container);\n\n\t\tEvent.bind(this.getDateContainer(), 'click', (e) => {this.onDateFieldClick(e)});\n\t\tEvent.bind(this.getTimeContainer(), 'click', () => {\n\t\t\tthis.onTimeSwitchClick(this.getTimeInputField())\n\t\t});\n\n\t\tEvent.bind(this.getDateContainer(), 'change', () => {this.onUpdateDateTime()});\n\t\tEvent.bind(this.getTimeContainer(), 'change', () => {this.onUpdateDateTime()});\n\t\tEvent.bind(this.getDurationInputField(), 'change', () => {this.onUpdateDateTime()});\n\t\tEvent.bind(this.getDurationTypeInputField(), 'change', () => {this.onUpdateDateTime()});\n\n\t\tthis.refreshStartTimeView();\n\t\tthis.initPlanner();\n\t}\n\n\tstatic onNotConnectedHandler(userId)\n\t{\n\t\tconst url = document.location.href;\n\t\tconst userProfileUri = '/company/personal/user/' + userId + '/social_services/';\n\t\tBX.SidePanel.Instance.open(userProfileUri, {\n\t\t\tevents: {\n\t\t\t\tallowChangeHistory: false,\n\t\t\t\tonClose: function() {\n\t\t\t\t\ttop.location.href = url;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic onNotAvailableHandler()\n\t{\n\t\tBX.UI?.InfoHelper?.show('limit_video_conference_zoom_crm');\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn this.TITLE;\n\t}\n\n\tgetStartDateTime(): string\n\t{\n\t\tconst ts =  BX.parseDate(this.getDateInputField().value).getTime() + this.unFormatTime(this.getTimeInputField().textContent) * 1000;\n\n\t\treturn new Date(ts);\n\t};\n\n\tgetEndDateTime(): Date\n\t{\n\t\tlet duration = +this.getDurationInputField().value;\n\t\tconst durationType = this.getDurationTypeInputField().value;\n\n\t\tif (durationType === 'h')\n\t\t{\n\t\t\tduration *= 60 * 60 * 1000;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tduration *= 60 * 1000;\n\t\t}\n\n\t\tconst endDateTime = new Date();\n\t\tendDateTime.setTime(this.getStartDateTime().getTime() + duration);\n\n\t\treturn endDateTime;\n\t};\n\n\tonUpdateDateTime(): string\n\t{\n\t\tthis.planner.updateSelector(this.getStartDateTime(), this.getEndDateTime(), false);\n\t}\n\n\tonDateFieldClick(e)\n\t{\n\t\tBX.calendar({ node: e.currentTarget, field: this.getDateInputField(), bTime: false});\n\t\treturn false;\n\t};\n\n\tonTimeSwitchClick(element)\n\t{\n\t\tif (!this.clockInstance)\n\t\t{\n\t\t\tthis.clockInstance = new BX.CClockSelector({\n\t\t\t\tstart_time: this.unFormatTime(element.textContent),\n\t\t\t\tnode: element,\n\t\t\t\tcallback: BX.doNothing\n\t\t\t});\n\t\t}\n\n\t\tthis.clockInstance.setNode(element);\n\t\tthis.clockInstance.setTime(this.unFormatTime(element.textContent));\n\t\tthis.clockInstance.setCallback((v) => {\n\t\t\telement.textContent = v;\n\t\t\tBX.fireEvent(element, 'change');\n\t\t\tthis.clockInstance.closeWnd();\n\t\t});\n\t\tthis.clockInstance.Show();\n\t};\n\n\tformatTime(date)\n\t{\n\t\tconst dateFormat = BX.date.convertBitrixFormat(BX.message('FORMAT_DATE')).replace(/:?\\s*s/, ''),\n\t\t\ttimeFormat = BX.date.convertBitrixFormat(BX.message('FORMAT_DATETIME')).replace(/:?\\s*s/, ''),\n\t\t\tstr1 = BX.date.format(dateFormat, date),\n\t\t\tstr2 = BX.date.format(timeFormat, date);\n\t\treturn BX.util.trim(str2.replace(str1, ''));\n\t}\n\n\tunFormatTime(time)\n\t{\n\t\tlet q = time.split(/[\\s:]+/);\n\t\tif (q.length == 3)\n\t\t{\n\t\t\tconst mt = q[2];\n\t\t\tif (mt == 'pm' && q[0] < 12)\n\t\t\t\tq[0] = parseInt(q[0], 10) + 12;\n\n\t\t\tif (mt == 'am' && q[0] == 12)\n\t\t\t\tq[0] = 0;\n\n\t\t}\n\t\treturn parseInt(q[0], 10) * 3600 + parseInt(q[1], 10) * 60;\n\t};\n\n\tgetDateContainer(): HTMLElement\n\t{\n\t\treturn this.cache.remember('startDateContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"ui-ctl ui-ctl-sm ui-ctl-after-icon ui-ctl-date\">\n\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-calendar\"></div>\n\t\t\t\t\t${this.getDateInputField()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetDateInputField(): HTMLElement\n\t{\n\t\treturn this.cache.remember('startDateInputField', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<input type=\"text\" class=\"ui-ctl-element\">\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetTimeContainer(): HTMLElement\n\t{\n\t\treturn this.cache.remember('startTimeContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"ui-ctl ui-ctl-sm ui-ctl-after-icon ui-ctl-dropdown crm-entity-stream-content-new-zoom-field-sm\">\n\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t\t${this.getTimeInputField()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetTimeInputField(): HTMLElement\n\t{\n\t\treturn this.cache.remember('startTimeInputField', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"ui-ctl-element\">12:00</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetTitleInputField(): HTMLElement\n\t{\n\t\treturn this.cache.remember('titleInputField', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<input type=\"text\" class=\"ui-ctl-element\" value=\"${Loc.getMessage('CRM_ZOOM_NEW_CONFERENCE_TITLE_PLACEHOLDER')}\">\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetDurationInputField(): HTMLElement\n\t{\n\t\treturn this.cache.remember('durationInputField', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<input type=\"text\" class=\"ui-ctl-element\" value=\"30\">\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetDurationTypeInputField(): HTMLElement\n\t{\n\t\treturn this.cache.remember('durationTypeInputField', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<select class=\"ui-ctl-element\">\n\t\t\t\t\t<option value=\"m\">${Loc.getMessage('CRM_ZOOM_NEW_CONFERENCE_DURATION_MINUTES')}</option>\n\t\t\t\t\t<option value=\"h\">${Loc.getMessage('CRM_ZOOM_NEW_CONFERENCE_DURATION_HOURS')}</option>\n\t\t\t\t</select>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetFormContainer(): HTMLElement\n\t{\n\t\treturn this.cache.remember('formContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom\">\n\t\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom-inner\">\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom-field\">\n\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom-field-inner\">\n\t\t\t\t\t\t\t\t<label for=\"\" class=\"crm-entity-stream-content-new-zoom-field-label\">${Loc.getMessage('CRM_ZOOM_NEW_CONFERENCE_TITLE')}</label>\n\t\t\t\t\t\t\t\t<div class=\"ui-ctl ui-ctl-sm ui-ctl-w100 ui-ctl-textbox\">\n\t\t\t\t\t\t\t\t\t${this.getTitleInputField()}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom-field\">\n\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom-field-block\">\n\t\t\t\t\t\t\t\t<label for=\"\" class=\"crm-entity-stream-content-new-zoom-field-label\">${Loc.getMessage('CRM_ZOOM_NEW_CONFERENCE_DATE_CAPTION')}</label>\n\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom-field-control\">\n\t\t\t\t\t\t\t\t\t${this.getDateContainer()}\n\t\t\t\t\t\t\t\t\t${this.getTimeContainer()}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom-field-block\">\n\t\t\t\t\t\t\t\t<label for=\"\" class=\"crm-entity-stream-content-new-zoom-field-label\">${Loc.getMessage('CRM_ZOOM_NEW_CONFERENCE_DURATION_CAPTION')}</label>\n\t\t\t\t\t\t\t\t<div class=\"crm-entity-stream-content-new-zoom-field-control\">\n\t\t\t\t\t\t\t\t\t<div class=\"ui-ctl ui-ctl-sm crm-entity-stream-content-new-zoom-field-xs\">\n\t\t\t\t\t\t\t\t\t\t${this.getDurationInputField()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"ui-ctl ui-ctl-sm ui-ctl-after-icon ui-ctl-dropdown crm-entity-stream-content-new-zoom-field-sm\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t\t\t\t\t\t\t${this.getDurationTypeInputField()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t${this.renderPlanner()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\trenderPlanner(): HTMLElement\n\t{\n\t\treturn this.cache.remember('plannerContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"crm-entity-stream-content-zoom-planner-container\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\trenderButtons(): HTMLElement\n\t{\n\t\treturn this.cache.remember('buttonsContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"crm-entity-stream-content-zoom-btn-container\">\n\t\t\t\t\t${this.renderSaveButton()}\n\t\t\t\t\t${this.renderCancelButton()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\trenderSaveButton(): HTMLElement\n\t{\n\t\treturn this.cache.remember('saveButton', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<button onclick=\"${this.save.bind(this)}\" class=\"ui-btn ui-btn-xs ui-btn-primary ui-btn-round\">\n\t\t\t\t\t${Loc.getMessage('UI_BUTTONS_CREATE_BTN_TEXT')}\n\t\t\t\t</button>\n\t\t\t`;\n\t\t});\n\t}\n\n\trefreshStartTimeView()\n\t{\n\t\tconst currentDateTime = new Date();\n\t\tconst minutes = currentDateTime.getMinutes();\n\t\tconst divisionRemainder = minutes % 5;\n\t\tconst gap = 5;\n\n\t\tif (divisionRemainder > 0)\n\t\t{\n\t\t\t// We add 5 minutes gap to always show future time in the input.\n\t\t\t// Example: current time is 14:51. Then 51 - 1 + 5 => 14:55\n\t\t\tcurrentDateTime.setMinutes(minutes - divisionRemainder + gap);\n\t\t}\n\n\t\tthis.getDateInputField().value = BX.formatDate(currentDateTime, BX.message('FORMAT_DATE'));\n\t\tthis.getTimeInputField().innerHTML = this.formatTime(currentDateTime);\n\t}\n\n\trenderCancelButton(): Element\n\t{\n\t\treturn this.cache.remember('cancelButton', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<span onclick=\"${this.cancel.bind(this)}\" class=\"ui-btn ui-btn-xs ui-btn-link\">\n\t\t\t\t\t${Loc.getMessage('UI_TIMELINE_EDITOR_COMMENT_CANCEL')}\n\t\t\t\t</span>\n\t\t\t`;\n\t\t});\n\t}\n\n\tinitPlanner(): Element\n\t{\n\t\tthis.planner = new Planner({\n\t\t\twrap: this.renderPlanner(),\n\t\t\tshowEntryName: false,\n\t\t\tshowEntiesHeader: false,\n\t\t\tentriesListWidth: 70,\n\t\t});\n\n\t\tthis.planner.show();\n\t\tthis.loadPlannerData({\n\t\t\tcodes: [\"U\" + this.userId],\n\t\t\tfrom: Util.formatDate(this.getStartDateTime().getTime() - Util.getDayLength() * 3),\n\t\t\tto: Util.formatDate(this.getStartDateTime().getTime() + Util.getDayLength() * 10),\n\t\t});\n\t\tthis.planner.updateSelector(this.getStartDateTime(), this.getEndDateTime(), false);\n\t\tthis.planner.subscribe('onDateChange', this.handlePlannerSelectorChanges.bind(this));\n\t}\n\n\thandlePlannerSelectorChanges(event)\n\t{\n\t\tif (event instanceof BaseEvent)\n\t\t{\n\t\t\tlet data = event.getData();\n\n\t\t\tconst startDateTime = data.dateFrom;\n\t\t\tconst duration = (data.dateTo - data.dateFrom) / 1000 / 60; //duration in minutes\n\t\t\tconst durationType = this.getDurationTypeInputField().value;\n\n\t\t\tthis.getDateInputField().value = BX.formatDate(startDateTime, BX.message('FORMAT_DATE'));\n\t\t\tthis.getTimeInputField().innerHTML = this.formatTime(startDateTime);\n\n\t\t\tif (durationType === 'h' && duration % 60 === 0)\n\t\t\t{\n\t\t\t\tthis.getDurationInputField().value = duration / 60;\n\t\t\t\tthis.getDurationTypeInputField().value = 'h';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getDurationInputField().value = duration;\n\t\t\t\tthis.getDurationTypeInputField().value = 'm';\n\t\t\t}\n\t\t}\n\t}\n\n\tloadPlannerData(params = {})\n\t{\n\t\tthis.planner.showLoader();\n\n\t\tBX.ajax.runAction('calendar.api.calendarajax.updatePlanner', {\n\t\t\tdata: {\n\t\t\t\tcodes: params.codes || [],\n\t\t\t\tdateFrom: params.from || '',\n\t\t\t\tdateTo: params.to || '',\n\t\t\t}\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tthis.planner.hideLoader();\n\n\t\t\t\tthis.planner.update(\n\t\t\t\t\tresponse.data.entries,\n\t\t\t\t\tresponse.data.accessibility\n\t\t\t\t);\n\t\t\t},(response) => { console.error(response.errors) }\n\t\t);\n\t}\n\n\tsave()\n\t{\n\t\tthis.cleanError();\n\t\tif (Type.isFunction(this.onStartSave))\n\t\t{\n\t\t\tthis.onStartSave();\n\t\t}\n\n\t\tconst entityId = this.ownerId;\n\t\tconst entityType = BX.CrmEntityType.resolveName(this.ownerTypeId);\n\n\t\tconst dateStart = this.getDateInputField().value;\n\t\tconst timeStart = this.getTimeInputField().textContent;\n\t\tconst timestampStart = this.getStartDateTime().getTime();\n\n\t\tconst dateTimeStart = dateStart + \" \" + timeStart;\n\n\t\tconst conferenceTitle = this.getTitleInputField().value;\n\t\tconst duration = +this.getDurationInputField().value;\n\t\tconst durationType = this.getDurationTypeInputField().value;\n\n\t\tif (!Type.isString(conferenceTitle) || conferenceTitle === '')\n\t\t{\n\t\t\tthis.errorMessages.push(`${Loc.getMessage('CRM_ZOOM_ERROR_EMPTY_TITLE')}`);\n\t\t\tthis.showError();\n\t\t}\n\n\t\tif (!Type.isInteger(timestampStart) || timestampStart < Date.now())\n\t\t{\n\t\t\tthis.errorMessages.push(`${Loc.getMessage('CRM_ZOOM_ERROR_INCORRECT_DATETIME')}`);\n\t\t\tthis.showError();\n\t\t}\n\n\t\tif (!Type.isInteger(duration) || duration <= 0 || !['h','m'].includes(durationType))\n\t\t{\n\t\t\tthis.errorMessages.push(`${Loc.getMessage('CRM_ZOOM_ERROR_INCORRECT_DURATION')}`);\n\t\t\tthis.showError();\n\t\t}\n\n\t\tif (!this.error)\n\t\t{\n\t\t\tBX.ajax.runAction('crm.api.zoomUser.createConference', {\n\t\t\t\tdata: {\n\t\t\t\t\tconferenceParams: {\n\t\t\t\t\t\tconferenceTitle: conferenceTitle,\n\t\t\t\t\t\tdateTimeStart: dateTimeStart,\n\t\t\t\t\t\ttimestampStart: timestampStart,\n\t\t\t\t\t\tduration: duration,\n\t\t\t\t\t\tdurationType: durationType,\n\t\t\t\t\t},\n\t\t\t\t\tentityId: entityId,\n\t\t\t\t\tentityType: entityType,\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {}\n\t\t\t}).then((response) => {\n\t\t\t\tif (Type.isFunction(this.onFinishSave))\n\t\t\t\t{\n\t\t\t\t\tthis.onFinishSave();\n\t\t\t\t}\n\t\t\t\tthis.cancel();\n\t\t\t}, (response) => {\n\t\t\t\tif (Type.isFunction(this.onFinishSave))\n\t\t\t\t{\n\t\t\t\t\tthis.onFinishSave();\n\t\t\t\t}\n\t\t\t\tthis.errorMessages.push(`${Loc.getMessage('CRM_ZOOM_CREATE_MEETING_SERVER_RETURNS_ERROR')}`);\n\t\t\t\tthis.errorMessages.push(response.errors[0].message);\n\t\t\t\tthis.showError();\n\t\t\t\tconsole.error(response.errors);\n\t\t\t});\n\t\t}\n\t}\n\n\tcancel()\n\t{\n\t\tthis.refreshTitle();\n\t\tthis.refreshStartTimeView();\n\t\tthis.refreshDuration();\n\t\tthis.planner.updateSelector(this.getStartDateTime(), this.getEndDateTime(), false);\n\n\t\tif (Type.isFunction(this.onFinishEdit))\n\t\t{\n\t\t\tthis.onFinishEdit();\n\t\t}\n\t}\n\n\tshowError()\n\t{\n\t\tlet errorText = '';\n\n\t\tthis.errorMessages.forEach((message) => {\n\t\t\terrorText += message + \"\\n\";\n\t\t})\n\n\t\tif (!this.error && errorText !== '')\n\t\t{\n\t\t\tthis.errorElement = Tag.render`<div class=\"zoom-error-message ui-alert ui-alert-danger ui-alert-icon-danger\">\n\t\t\t\t<span class=\"ui-alert-message\">${errorText}</span>\n\t\t\t</div>`;\n\n\t\t\tDom.append(this.errorElement, this.container.firstElementChild);\n\t\t\tthis.error = true;\n\t\t}\n\t\tif (Type.isFunction(this.onFinishSave))\n\t\t{\n\t\t\tthis.onFinishSave();\n\t\t}\n\t}\n\n\tcleanError()\n\t{\n\t\tif (this.error)\n\t\t{\n\t\t\tif (Type.isDomNode(this.errorElement))\n\t\t\t{\n\t\t\t\tDom.remove(this.errorElement);\n\t\t\t\tthis.error = false;\n\t\t\t\tthis.errorMessages = [];\n\t\t\t}\n\t\t}\n\t}\n\n\trefreshTitle()\n\t{\n\t\tthis.getTitleInputField().value = Loc.getMessage('CRM_ZOOM_NEW_CONFERENCE_TITLE_PLACEHOLDER');\n\t}\n\n\trefreshDuration()\n\t{\n\t\tthis.getDurationInputField().value = 30;\n\t\tthis.getDurationTypeInputField().value = 'm';\n\t}\n}"],"names":["Zoom","params","Cache","MemoryCache","container","ownerTypeId","ownerId","userId","Loc","getMessage","onFinishEdit","onStartSave","onFinishSave","Dom","append","getFormContainer","renderButtons","Event","bind","getDateContainer","e","onDateFieldClick","getTimeContainer","onTimeSwitchClick","getTimeInputField","onUpdateDateTime","getDurationInputField","getDurationTypeInputField","refreshStartTimeView","initPlanner","TITLE","ts","BX","parseDate","getDateInputField","value","getTime","unFormatTime","textContent","Date","duration","durationType","endDateTime","setTime","getStartDateTime","planner","updateSelector","getEndDateTime","calendar","node","currentTarget","field","bTime","element","clockInstance","CClockSelector","start_time","callback","doNothing","setNode","setCallback","v","fireEvent","closeWnd","Show","date","dateFormat","convertBitrixFormat","message","replace","timeFormat","str1","format","str2","util","trim","time","q","split","length","mt","parseInt","cache","remember","Tag","render","getTitleInputField","renderPlanner","renderSaveButton","renderCancelButton","save","currentDateTime","minutes","getMinutes","divisionRemainder","gap","setMinutes","formatDate","innerHTML","formatTime","cancel","Planner","wrap","showEntryName","showEntiesHeader","entriesListWidth","show","loadPlannerData","codes","from","Util","getDayLength","to","subscribe","handlePlannerSelectorChanges","event","BaseEvent","data","getData","startDateTime","dateFrom","dateTo","showLoader","ajax","runAction","then","response","hideLoader","update","entries","accessibility","console","error","errors","cleanError","Type","isFunction","entityId","entityType","CrmEntityType","resolveName","dateStart","timeStart","timestampStart","dateTimeStart","conferenceTitle","isString","errorMessages","push","showError","isInteger","now","includes","conferenceParams","analyticsLabel","refreshTitle","refreshDuration","errorText","forEach","errorElement","firstElementChild","isDomNode","remove","url","document","location","href","userProfileUri","SidePanel","Instance","open","events","allowChangeHistory","onClose","top","UI","InfoHelper"],"mappings":"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"}