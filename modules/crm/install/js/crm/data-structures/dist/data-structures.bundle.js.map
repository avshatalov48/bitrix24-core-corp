{"version":3,"file":"data-structures.bundle.js","sources":["../src/item-identifier.js"],"sourcesContent":["import { Text } from 'main.core';\n\nexport class ItemIdentifier\n{\n\t#entityTypeId: number;\n\t#entityId: number;\n\n\tconstructor(entityTypeId: number, entityId: number)\n\t{\n\t\t// noinspection AssignmentToFunctionParameterJS\n\t\tentityTypeId = Text.toInteger(entityTypeId);\n\t\t// noinspection AssignmentToFunctionParameterJS\n\t\tentityId = Text.toInteger(entityId);\n\n\t\tif (!BX.CrmEntityType.isDefined(entityTypeId))\n\t\t{\n\t\t\tthrow new Error('entityTypeId is not a valid crm entity type');\n\t\t}\n\n\t\tif (entityId <= 0)\n\t\t{\n\t\t\tthrow new Error('entityId must be greater than 0');\n\t\t}\n\n\t\tthis.#entityTypeId = entityTypeId;\n\t\tthis.#entityId = entityId;\n\t}\n\n\tstatic fromJSON(data: Object): ?ItemIdentifier\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn new ItemIdentifier(Text.toInteger(data?.entityTypeId), Text.toInteger(data?.entityId));\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tget entityTypeId(): number\n\t{\n\t\treturn this.#entityTypeId;\n\t}\n\n\tget entityId(): number\n\t{\n\t\treturn this.#entityId;\n\t}\n\n\tget hash(): string\n\t{\n\t\treturn `type_${this.entityTypeId}_id_${this.entityId}`;\n\t}\n\n\tisEqualTo(another: ItemIdentifier): boolean\n\t{\n\t\tif (!(another instanceof ItemIdentifier))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.hash === another.hash;\n\t}\n}\n"],"names":["ItemIdentifier","constructor","entityTypeId","entityId","Text","toInteger","BX","CrmEntityType","isDefined","Error","fromJSON","data","e","hash","isEqualTo","another"],"mappings":";;;;;CAAiC;CAAA;AAEjC,CAAO,MAAMA,cAAc,CAC3B;GAICC,WAAW,CAACC,YAAoB,EAAEC,QAAgB,EAClD;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA;;;KAECD,YAAY,GAAGE,cAAI,CAACC,SAAS,CAACH,YAAY,CAAC;;KAE3CC,QAAQ,GAAGC,cAAI,CAACC,SAAS,CAACF,QAAQ,CAAC;KAEnC,IAAI,CAACG,EAAE,CAACC,aAAa,CAACC,SAAS,CAACN,YAAY,CAAC,EAC7C;OACC,MAAM,IAAIO,KAAK,CAAC,6CAA6C,CAAC;;KAG/D,IAAIN,QAAQ,IAAI,CAAC,EACjB;OACC,MAAM,IAAIM,KAAK,CAAC,iCAAiC,CAAC;;KAGnD,4CAAI,kCAAiBP,YAAY;KACjC,4CAAI,0BAAaC,QAAQ;;GAG1B,OAAOO,QAAQ,CAACC,IAAY,EAC5B;KACC,IACA;OACC,OAAO,IAAIX,cAAc,CAACI,cAAI,CAACC,SAAS,CAACM,IAAI,oBAAJA,IAAI,CAAET,YAAY,CAAC,EAAEE,cAAI,CAACC,SAAS,CAACM,IAAI,oBAAJA,IAAI,CAAER,QAAQ,CAAC,CAAC;MAC7F,CACD,OAAOS,CAAC,EACR;OACC,OAAO,IAAI;;;GAIb,IAAIV,YAAY,GAChB;KACC,+CAAO,IAAI;;GAGZ,IAAIC,QAAQ,GACZ;KACC,+CAAO,IAAI;;GAGZ,IAAIU,IAAI,GACR;KACC,OAAQ,QAAO,IAAI,CAACX,YAAa,OAAM,IAAI,CAACC,QAAS,EAAC;;GAGvDW,SAAS,CAACC,OAAuB,EACjC;KACC,IAAI,EAAEA,OAAO,YAAYf,cAAc,CAAC,EACxC;OACC,OAAO,KAAK;;KAGb,OAAO,IAAI,CAACa,IAAI,KAAKE,OAAO,CAACF,IAAI;;CAEnC;;;;;;;;"}