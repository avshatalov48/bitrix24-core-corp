this.BX=this.BX||{};(function(e,t,a){"use strict";function r(e,t){i(e,t);t.add(e)}function n(e,t,a){i(e,t);t.set(e,a)}function i(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function s(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var l=null;var o=new WeakMap;var c=new WeakMap;var u=new WeakSet;var f=function(){function e(){babelHelpers.classCallCheck(this,e);r(this,u);n(this,o,{writable:true,value:{}});n(this,c,{writable:true,value:false})}babelHelpers.createClass(e,[{key:"getItems",value:function e(t){var a=this;return new Promise((function(e,r){if(babelHelpers.classPrivateFieldGet(a,o).hasOwnProperty(t)){e(babelHelpers.classPrivateFieldGet(a,o)[t]);return}s(a,u,b).call(a,t).then((function(r){babelHelpers.classPrivateFieldGet(a,o)[t]=r;e(r)}))["catch"]((function(e){babelHelpers.classPrivateFieldGet(a,o)[t]=[];r(e)}))}))}},{key:"setItems",value:function e(t,a){babelHelpers.classPrivateFieldGet(this,o)[t]=a;return this}}],[{key:"Instance",get:function a(){if(window.top!==window&&t.Reflection.getClass("top.BX.Crm.CategoryList")){return window.top.BX.Crm.CategoryList.Instance}if(l===null){l=new e}return l}}]);return e}();function b(e){var r=this;return new Promise((function(n,i){if(babelHelpers.classPrivateFieldGet(r,c)){i("CategoryList is already loading");return}babelHelpers.classPrivateFieldSet(r,c,true);t.ajax.runAction("crm.category.list",{data:{entityTypeId:e}}).then((function(e){babelHelpers.classPrivateFieldSet(r,c,false);var t=[];e.data.categories.forEach((function(e){t.push(new a.CategoryModel(e))}));n(t)}))["catch"]((function(e){babelHelpers.classPrivateFieldSet(r,c,false);i("CategoryList error: "+e.errors.map((function(e){var t=e.message;return t})).join("; "))}))}))}e.CategoryList=f})(this.BX.Crm=this.BX.Crm||{},BX,BX.Crm.Models);
//# sourceMappingURL=category-list.bundle.map.js