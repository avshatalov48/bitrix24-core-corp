this.BX=this.BX||{};(function(e,t,a){"use strict";function r(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var s=null;var i=new WeakMap;var n=new WeakMap;var l=new WeakSet;var o=function(){function e(){babelHelpers.classCallCheck(this,e);l.add(this);i.set(this,{writable:true,value:{}});n.set(this,{writable:true,value:false})}babelHelpers.createClass(e,[{key:"getItems",value:function e(t){var a=this;return new Promise(function(e,s){if(babelHelpers.classPrivateFieldGet(a,i).hasOwnProperty(t)){e(babelHelpers.classPrivateFieldGet(a,i)[t]);return}r(a,l,c).call(a,t).then(function(r){babelHelpers.classPrivateFieldGet(a,i)[t]=r;e(r)}).catch(function(e){babelHelpers.classPrivateFieldGet(a,i)[t]=[];s(e)})})}},{key:"setItems",value:function e(t,a){babelHelpers.classPrivateFieldGet(this,i)[t]=a;return this}}],[{key:"Instance",get:function a(){if(window.top!==window&&t.Reflection.getClass("top.BX.Crm.CategoryList")){return window.top.BX.Crm.CategoryList.Instance}if(s===null){s=new e}return s}}]);return e}();var c=function e(r){var s=this;return new Promise(function(e,i){if(babelHelpers.classPrivateFieldGet(s,n)){i("CategoryList is already loading");return}babelHelpers.classPrivateFieldSet(s,n,true);t.ajax.runAction("crm.category.list",{data:{entityTypeId:r}}).then(function(t){babelHelpers.classPrivateFieldSet(s,n,false);var r=[];t.data.categories.forEach(function(e){r.push(new a.CategoryModel(e))});e(r)}).catch(function(e){babelHelpers.classPrivateFieldSet(s,n,false);i("CategoryList error: "+e.errors.map(function(e){var t=e.message;return t}).join("; "))})})};e.CategoryList=o})(this.BX.Crm=this.BX.Crm||{},BX,BX.Crm.Models);
//# sourceMappingURL=category-list.bundle.map.js