{"version":3,"file":"call-assessment-selector.bundle.js","sources":["../src/display-strategy/call-card-replacement.js","../src/call-assessment-selector.js"],"sourcesContent":["import { Dom, Loc, Tag, Text } from 'main.core';\nimport { Actions, Icon } from 'ui.icon-set.api.core';\nimport type { DisplayStrategy } from '../display-strategy';\n\nimport './css/call-card-replacement.css';\n\nexport class CallCardReplacement implements DisplayStrategy\n{\n\t#container: HTMLElement;\n\t#titleNode: HTMLElement;\n\t#isLoading: boolean = false;\n\n\tconstructor()\n\t{\n\t\tthis.#container = this.#createContainer();\n\t}\n\n\tgetTargetNode(): HTMLElement\n\t{\n\t\treturn this.#container;\n\t}\n\n\tupdateTitle(title: ?string): void\n\t{\n\t\tif (title === null)\n\t\t{\n\t\t\tconst emptyState = Loc.getMessage('CRM_COPILOT_CALL_ASSESSMENT_SELECTOR_CALL_CARD_REPLACEMENT_EMPTY_STATE');\n\t\t\tthis.#titleNode.innerText = emptyState;\n\t\t\tthis.#titleNode.title = emptyState;\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#titleNode.innerText = title;\n\t\tthis.#titleNode.title = title;\n\t}\n\n\tsetLoading(isLoading: boolean): void\n\t{\n\t\tif (this.#isLoading === isLoading)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#isLoading = isLoading;\n\t\tDom.toggleClass(this.#container, '--loading');\n\t}\n\n\t#createContainer(): HTMLElement\n\t{\n\t\tconst chevronDownIcon = new Icon({\n\t\t\ticon: Actions.CHEVRON_DOWN,\n\t\t\tcolor: '#A8ADB4',\n\t\t\tsize: 16,\n\t\t});\n\n\t\tconst overtitle = Loc.getMessage('CRM_COPILOT_CALL_ASSESSMENT_SELECTOR_CALL_CARD_REPLACEMENT_OVERTITLE');\n\t\tthis.#titleNode = Tag.render`<div class=\"crm-copilot__call-assessment-selector-title\"></div>`;\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"crm-copilot__call-assessment-selector\">\n\t\t\t\t<div class=\"crm-copilot__call-assessment-selector-wrapper\">\n\t\t\t\t\t<div class=\"crm-copilot__call-assessment-selector-body\">\n\t\t\t\t\t\t<div class=\"crm-copilot__call-assessment-selector-overtitle\">${Text.encode(overtitle)}</div>\n\t\t\t\t\t\t${this.#titleNode}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"crm-copilot__call-assessment-selector-arrow\">\n\t\t\t\t\t\t${chevronDownIcon.render()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}\n","import { Dom, Event, Type } from 'main.core';\nimport { BaseEvent } from 'main.core.events';\nimport type { PopupOptions } from 'main.popup';\nimport { Dialog, DialogOptions, Item } from 'ui.entity-selector';\nimport type { DisplayStrategy } from './display-strategy';\nimport { CallCardReplacement } from './display-strategy/call-card-replacement';\n\nimport 'ui.design-tokens';\nimport 'ui.fonts.opensans';\n\nconst ENTITY_ID = 'copilot_call_script'; /** @php \\Bitrix\\Crm\\Copilot\\CallAssessment\\EntitySelector\\CallScriptProvider */\n\ndeclare type CallAssessmentSelectorOptions = {\n\tcurrentCallAssessment: CallAssessmentItemIdentifier,\n\tadditionalSelectorOptions ?: AdditionalSelectorOptions,\n\tdisplayStrategy ?: DisplayStrategy,\n\temptyScriptListTitle ?: string,\n};\n\ntype AdditionalSelectorOptions = {\n\tdialog?: DialogOptions,\n\tpopup?: PopupOptions,\n}\n\nexport type CallAssessmentItemIdentifier = {\n\tid?: number;\n\ttitle?: string;\n}\n\n// todo: maybe put it in a separate model class?\ndeclare type CallAssessmentCustomData = {\n\tid: number,\n\ttitle: string,\n\tprompt: string,\n\tgist: ?string,\n\tclientTypeIds: Array<number>,\n\tcallTypeId: ?number,\n\tautoCheckTypeId: ?number,\n\tisEnabled: boolean,\n\tisDefault: boolean,\n\tjobId: number,\n\tstatus: string,\n\tsort: number,\n};\n\nexport class CallAssessmentSelector\n{\n\t#currentCallAssessmentId: ?number = null;\n\t#additionalSelectorOptions: AdditionalSelectorOptions;\n\t#displayStrategy: DisplayStrategy;\n\t#emptyScriptListTitle: ?string;\n\n\t#container: HTMLElement;\n\t#currentSelectorItem: ?Item = null;\n\t#dialog: Dialog = null;\n\n\t#isDisplayLoadingState: boolean = true;\n\t#isDisabled: boolean = false;\n\n\tconstructor(options: CallAssessmentSelectorOptions)\n\t{\n\t\tconst currentCallAssessment = options.currentCallAssessment;\n\t\tif (Type.isNumber(currentCallAssessment.id) && currentCallAssessment.id > 0)\n\t\t{\n\t\t\tthis.#currentCallAssessmentId = currentCallAssessment.id;\n\t\t}\n\n\t\tthis.#additionalSelectorOptions = options.additionalSelectorOptions ?? {};\n\t\tthis.#emptyScriptListTitle = options.emptyScriptListTitle ?? null;\n\n\t\tthis.#displayStrategy = options.displayStrategy ?? new CallCardReplacement();\n\t\tthis.#displayStrategy.updateTitle(currentCallAssessment.title ?? this.#emptyScriptListTitle);\n\n\t\tthis.#container = this.#displayStrategy.getTargetNode();\n\t\tEvent.bind(this.#container, 'click', this.#toggleDialog.bind(this));\n\t}\n\n\tgetCurrentCallAssessmentId(): ?number\n\t{\n\t\treturn this.#currentCallAssessmentId;\n\t}\n\n\tsetCurrentCallAssessment(\n\t\tcallAssessment: CallAssessmentCustomData,\n\t\tisTouchDialog: boolean = false,\n\t): void\n\t{\n\t\tif (callAssessment.id === this.#currentCallAssessmentId)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst isUpdateByDialog = (!isTouchDialog && this.#dialog === null) || this.getDialog().isLoading();\n\t\tthis.#currentCallAssessmentId = callAssessment?.id ?? null;\n\n\t\tif (isUpdateByDialog)\n\t\t{\n\t\t\tconst title = callAssessment?.title ?? this.#emptyScriptListTitle;\n\t\t\tthis.#displayStrategy.updateTitle(title);\n\n\t\t\t// other changes will be made in onLoadDialog\n\t\t\treturn;\n\t\t}\n\n\t\tif (!callAssessment.id)\n\t\t{\n\t\t\tthis.#currentCallAssessmentId = null;\n\t\t\tthis.getDialog().deselectAll();\n\t\t\tthis.#adjustTitle();\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.getDialog().getItems().forEach((item) => {\n\t\t\tif (item.getId() === callAssessment.id)\n\t\t\t{\n\t\t\t\titem.select();\n\t\t\t}\n\t\t});\n\t}\n\n\tgetCurrentCallAssessmentItem(): ?CallAssessmentCustomData\n\t{\n\t\tconst customData = this.#currentSelectorItem?.getCustomData() ?? null;\n\t\tif (customData === null)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn Object.fromEntries(customData);\n\t}\n\n\tgetCurrentSelectorItem(): ?Item\n\t{\n\t\treturn this.#currentSelectorItem;\n\t}\n\n\t#toggleDialog(): void\n\t{\n\t\tif (this.#isDisabled)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst dialog = this.getDialog();\n\t\tif (dialog.isOpen())\n\t\t{\n\t\t\tdialog.hide();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdialog.show();\n\t\t}\n\t}\n\n\tgetContainer(): HTMLElement\n\t{\n\t\treturn this.#container;\n\t}\n\n\t#loading(isLoading: boolean): void\n\t{\n\t\tif (this.#isDisplayLoadingState)\n\t\t{\n\t\t\tthis.#displayStrategy.setLoading(isLoading);\n\t\t}\n\t}\n\n\tgetDialog(): Dialog\n\t{\n\t\tif (this.#dialog === null)\n\t\t{\n\t\t\tconst parentPopupContainer = this.#container.closest('body');\n\n\t\t\tconst dialogOptions: DialogOptions = {\n\t\t\t\t...(this.#additionalSelectorOptions.dialog ?? {}),\n\t\t\t\ttargetNode: this.#container,\n\t\t\t\tmultiple: false,\n\t\t\t\tdropdownMode: true,\n\t\t\t\tenableSearch: true,\n\t\t\t\tshowAvatars: false,\n\t\t\t\tpreselectedItems: [\n\t\t\t\t\t[ENTITY_ID, this.#currentCallAssessmentId],\n\t\t\t\t],\n\t\t\t\tentities: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: ENTITY_ID,\n\t\t\t\t\t\tdynamicLoad: true,\n\t\t\t\t\t\tdynamicSearch: true,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpopupOptions: {\n\t\t\t\t\ttargetContainer: parentPopupContainer,\n\t\t\t\t\t...(this.#additionalSelectorOptions.popup ?? {}),\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\t...(this.#additionalSelectorOptions.dialog?.events ?? {}),\n\t\t\t\t\tonLoad: this.#onLoadDialog.bind(this),\n\t\t\t\t\t'Item:onBeforeSelect': this.#onItemBeforeSelect.bind(this),\n\t\t\t\t\t'Item:onBeforeDeselect': this.#onItemBeforeDeselect.bind(this),\n\t\t\t\t\tonShow: (event: BaseEvent) => {\n\t\t\t\t\t\tEvent.bindOnce(parentPopupContainer, 'click', this.#onPopupContainerClick.bind(this));\n\t\t\t\t\t},\n\t\t\t\t\tonHide: () => {\n\t\t\t\t\t\tEvent.unbind(parentPopupContainer, this.#onPopupContainerClick);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tthis.#dialog = new Dialog(dialogOptions);\n\t\t}\n\n\t\treturn this.#dialog;\n\t}\n\n\t#onLoadDialog(event: BaseEvent): void\n\t{\n\t\tthis.#doLoadCurrentSelectorItemByFirstLoad(event);\n\t\tthis.#callAdditionalEvent(event, 'onLoad');\n\t}\n\n\t#onItemBeforeSelect(event: BaseEvent): void\n\t{\n\t\tthis.#updateCurrentSelectorItemByEvent(event);\n\t\tthis.#callAdditionalEvent(event, 'Item:onBeforeSelect');\n\t}\n\n\t#onItemBeforeDeselect(event: BaseEvent): void\n\t{\n\t\tthis.#preventDeselectCurrentSelectorItem(event);\n\t\tthis.#callAdditionalEvent(event, 'Item:onBeforeDeselect');\n\t}\n\n\t#callAdditionalEvent(event: BaseEvent, eventName: string): void\n\t{\n\t\tconst eventCallback = this.#additionalSelectorOptions?.dialog?.events?.[eventName];\n\t\tif (Type.isFunction(eventCallback))\n\t\t{\n\t\t\teventCallback(event);\n\t\t}\n\t}\n\n\t#preventDeselectCurrentSelectorItem(event: BaseEvent): void\n\t{\n\t\tconst targetItem: Item = event.getData().item;\n\t\tif (targetItem === null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (targetItem.id === this.#currentCallAssessmentId)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tevent.getTarget().hide();\n\t}\n\n\t#doLoadCurrentSelectorItemByFirstLoad(event: BaseEvent): void\n\t{\n\t\tif (this.#currentSelectorItem !== null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst dialog: Dialog = event.getTarget();\n\t\tlet currentSelectorItem = null;\n\t\tdialog.getItems().forEach((item) => {\n\t\t\tif (item.getId() === this.#currentCallAssessmentId)\n\t\t\t{\n\t\t\t\tcurrentSelectorItem = item;\n\t\t\t}\n\t\t});\n\n\t\tthis.#updateCurrentSelectorItem(currentSelectorItem);\n\t}\n\n\t#updateCurrentSelectorItemByEvent(event: BaseEvent): void\n\t{\n\t\tconst targetItem: Item = event.getData().item;\n\t\tif (targetItem === null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#updateCurrentSelectorItem(targetItem);\n\t}\n\n\t#updateCurrentSelectorItem(item: ?Item): void\n\t{\n\t\tthis.#currentSelectorItem = item ?? null;\n\t\tthis.#currentCallAssessmentId = item?.getId() ?? null;\n\n\t\tthis.#adjustTitle();\n\t}\n\n\t#adjustTitle(): void\n\t{\n\t\tconst title = this.#currentSelectorItem?.getTitle() ?? this.#emptyScriptListTitle;\n\t\tthis.#displayStrategy.updateTitle(title);\n\t}\n\n\t#onPopupContainerClick(clickEvent: BaseEvent): void\n\t{\n\t\tconst { target } = clickEvent;\n\t\tif (\n\t\t\ttarget?.closest('.ui-selector-dialog') === null\n\t\t\t&& this.#displayStrategy.getTargetNode() !== target\n\t\t)\n\t\t{\n\t\t\tthis.#dialog?.hide();\n\t\t}\n\t}\n\n\tdestroy(): void\n\t{\n\t\tthis.#dialog?.destroy();\n\t}\n\n\tclose(): void\n\t{\n\t\tthis.#dialog?.hide();\n\t}\n\n\tdisable(): void\n\t{\n\t\tthis.#isDisabled = true;\n\t\tconst node = this.#displayStrategy?.getTargetNode();\n\n\t\tDom.addClass(node, '--disabled');\n\t\tDom.style(node, {\n\t\t\tcursor: 'not-allowed',\n\t\t\topacity: '.6',\n\t\t});\n\t}\n\n\tenable(): void\n\t{\n\t\tthis.#isDisabled = false;\n\t\tconst node = this.#displayStrategy?.getTargetNode();\n\n\t\tDom.removeClass(node, '--disabled');\n\t\tDom.style(node, {\n\t\t\tcursor: 'inherit',\n\t\t\topacity: '1',\n\t\t});\n\t}\n}\n"],"names":["CallCardReplacement","constructor","Object","value","writable","babelHelpers","this","getTargetNode","updateTitle","title","emptyState","Loc","getMessage","innerText","setLoading","isLoading","Dom","toggleClass","chevronDownIcon","Icon","icon","Actions","CHEVRON_DOWN","color","size","overtitle","Tag","render","Text","encode","dialog","getDialog","isOpen","hide","show","event","eventName","eventCallback","_babelHelpers$classPr11","_babelHelpers$classPr12","events","_babelHelpers$classPr13","Type","isFunction","targetItem","getData","item","id","preventDefault","getTarget","currentSelectorItem","getItems","forEach","getId","_babelHelpers$classPr15","getTitle","clickEvent","target","closest","_babelHelpers$classPr16","options","currentCallAssessment","isNumber","additionalSelectorOptions","emptyScriptListTitle","displayStrategy","Event","bind","getCurrentCallAssessmentId","setCurrentCallAssessment","callAssessment","isTouchDialog","isUpdateByDialog","deselectAll","select","getCurrentCallAssessmentItem","customData","_babelHelpers$classPr2","getCustomData","fromEntries","getCurrentSelectorItem","getContainer","parentPopupContainer","dialogOptions","targetNode","multiple","dropdownMode","enableSearch","showAvatars","preselectedItems","entities","dynamicLoad","dynamicSearch","popupOptions","targetContainer","popup","_babelHelpers$classPr6","onLoad","Item:onBeforeSelect","Item:onBeforeDeselect","onShow","bindOnce","onHide","unbind","Dialog","destroy","_babelHelpers$classPr7","close","_babelHelpers$classPr8","disable","node","_babelHelpers$classPr9","addClass","style","cursor","opacity","enable","_babelHelpers$classPr10","removeClass"],"mappings":"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"}