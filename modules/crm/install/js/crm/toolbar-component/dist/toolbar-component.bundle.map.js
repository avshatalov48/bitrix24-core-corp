{"version":3,"sources":["toolbar-component.bundle.js"],"names":["this","BX","exports","main_core_events","ui_buttons","crm_router","main_popup","ui_hint","main_core","ui_navigationpanel","namespace","Reflection","instance","ToolbarEvents","babelHelpers","classCallCheck","defineProperty","ToolbarComponent","_EventEmitter","inherits","_this","possibleConstructorReturn","getPrototypeOf","call","initHints","setEventNamespace","Event","ready","bindEvents","bind","assertThisInitialized","createClass","key","value","UI","Hint","init","popupParameters","closeByEsc","autoHide","angle","offset","offsetLeft","_this2","buttonNode","document","querySelector","toolbar","ToolbarManager","getDefaultToolbar","button","getButton","Dom","attr","entityTypeId","Number","dataset","subscribeCategoriesUpdatedEvent","reloadCategoriesMenu","categoryId","emitTypeUpdatedEvent","data","emit","TYPE_UPDATED","emitCategoriesUpdatedEvent","CATEGORIES_UPDATED","subscribeTypeUpdatedEvent","callback","subscribe","_this3","menu","getMenuWindow","ajax","runAction","then","response","startKey","items","categories","menuItems","forEach","item","id","indexOf","push","options","destroy","unbindAll","getContainer","category","link","CrmEntityType","enumeration","deal","Router","Instance","getItemListUrlInCurrentView","toString","splice","text","Text","encode","name","href","setText","params","menuWindow","Menu","show","reloadAddButtonMenu","console","log","errors","_this4","addButtonNode","addButtonId","btnUniqid","menuItemsIds","getMenuItems","map","filter","Type","isInteger","categoryIds","idsToRemove","includes","newCategories","length","idToRemove","removeMenuItem","targetItemId","isString","at","addMenuItem","onclick","event","SidePanel","open","getSettingsButton","_i","_Object$entries","Object","entries","getButtons","_Object$entries$_i","slicedToArray","getIcon","ButtonIcon","SETTING","get","window","top","getClass","Crm","EventEmitter","_classPrivateFieldInitSpec","obj","privateMap","_checkPrivateRedeclaration","set","privateCollection","has","TypeError","namespace$1","_id","WeakMap","_binding","NavigationBar","_NavigationPanel","isPlainObject","isArray","hasOwnProperty","active","isActive","isStringFilled","url","events","click","openUrl","target","writable","classPrivateFieldSet","binding","itemId","classPrivateFieldGet","formatDate","Date","userOptions","save","setTimeout","location","NavigationPanel","Main"],"mappings":"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","file":"toolbar-component.bundle.map.js"}