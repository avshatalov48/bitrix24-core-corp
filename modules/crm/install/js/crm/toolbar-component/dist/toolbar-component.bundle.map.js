{"version":3,"file":"toolbar-component.bundle.map.js","names":["this","BX","exports","main_core_events","ui_buttons","crm_router","main_popup","ui_tour","ui_hint","main_core","ui_navigationpanel","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","privateCollection","has","TypeError","_classPrivateMethodGet","receiver","fn","namespace","Reflection","instance","ToolbarEvents","babelHelpers","classCallCheck","defineProperty","_bindAutomationGuide","WeakSet","ToolbarComponent","_EventEmitter","inherits","_this","possibleConstructorReturn","getPrototypeOf","call","assertThisInitialized","initHints","setEventNamespace","Event","ready","bindEvents","bind","createClass","key","value","UI","Hint","init","popupParameters","closeByEsc","autoHide","angle","offset","offsetLeft","_this2","buttonNode","document","querySelector","toolbar","ToolbarManager","getDefaultToolbar","button","getButton","Dom","attr","entityTypeId","Number","dataset","subscribeCategoriesUpdatedEvent","reloadCategoriesMenu","categoryId","_bindAutomationGuide2","emitTypeUpdatedEvent","data","emit","TYPE_UPDATED","emitCategoriesUpdatedEvent","CATEGORIES_UPDATED","subscribeTypeUpdatedEvent","callback","subscribe","_this3","menu","getMenuWindow","ajax","runAction","then","response","startKey","items","categories","menuItems","forEach","item","id","indexOf","push","options","destroy","unbindAll","getContainer","category","link","CrmEntityType","enumeration","deal","Router","Instance","getItemListUrlInCurrentView","toString","splice","text","Text","encode","name","href","setText","params","menuWindow","Menu","show","reloadAddButtonMenu","console","log","errors","_this4","addButtonNode","addButtonId","btnUniqid","menuItemsIds","getMenuItems","map","filter","Type","isInteger","categoryIds","idsToRemove","includes","newCategories","length","idToRemove","removeMenuItem","targetItemId","isString","at","addMenuItem","onclick","event","SidePanel","open","getSettingsButton","_i","_Object$entries","Object","entries","getButtons","_Object$entries$_i","slicedToArray","getIcon","ButtonIcon","SETTING","get","window","top","getClass","Crm","EventEmitter","hash","location","guide","robotsBtn","Guide","steps","target","title","Loc","getMessage","onEvents","scriptsBtn","article","start","getPopup","setAutoHide","setClosingByEsc","_classPrivateFieldInitSpec","privateMap","_checkPrivateRedeclaration$1","set","namespace$1","_id","WeakMap","_binding","NavigationBar","_NavigationPanel","isPlainObject","isArray","hasOwnProperty","active","isActive","isStringFilled","lockedCallback","locked","url","events","click","eval","openUrl","writable","classPrivateFieldSet","binding","itemId","classPrivateFieldGet","formatDate","Date","userOptions","save","setTimeout","NavigationPanel","Main","Tour"],"sources":["toolbar-component.bundle.js"],"mappings":"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"}