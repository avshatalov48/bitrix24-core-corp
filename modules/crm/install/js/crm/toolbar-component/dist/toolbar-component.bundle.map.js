{"version":3,"sources":["toolbar-component.bundle.js"],"names":["this","BX","exports","main_core_events","ui_buttons","crm_router","main_popup","ui_hint","main_core","ui_navigationpanel","namespace","Reflection","instance","ToolbarEvents","babelHelpers","classCallCheck","defineProperty","ToolbarComponent","_EventEmitter","inherits","_this","possibleConstructorReturn","getPrototypeOf","call","initHints","setEventNamespace","Event","ready","bindEvents","bind","assertThisInitialized","createClass","key","value","UI","Hint","init","popupParameters","closeByEsc","autoHide","angle","offset","offsetLeft","_this2","buttonNode","document","querySelector","toolbar","ToolbarManager","getDefaultToolbar","button","getButton","Dom","attr","entityTypeId","Number","dataset","subscribeCategoriesUpdatedEvent","reloadCategoriesMenu","categoryId","emitTypeUpdatedEvent","data","emit","TYPE_UPDATED","emitCategoriesUpdatedEvent","CATEGORIES_UPDATED","subscribeTypeUpdatedEvent","callback","subscribe","_this3","menu","getMenuWindow","ajax","runAction","then","response","startKey","items","categories","menuItems","forEach","item","id","indexOf","push","options","destroy","unbindAll","getContainer","category","link","CrmEntityType","enumeration","deal","Router","Instance","getItemListUrlInCurrentView","toString","splice","text","Text","encode","name","href","setText","params","menuWindow","Menu","show","reloadAddButtonMenu","console","log","errors","_this4","addButtonNode","addButtonId","btnUniqid","menuItemsIds","getMenuItems","map","filter","Type","isInteger","categoryIds","idsToRemove","includes","newCategories","length","idToRemove","removeMenuItem","targetItemId","isString","at","addMenuItem","onclick","event","SidePanel","open","get","window","top","getClass","Crm","EventEmitter","_classPrivateFieldInitSpec","obj","privateMap","_checkPrivateRedeclaration","set","privateCollection","has","TypeError","namespace$1","_id","WeakMap","_binding","NavigationBar","_NavigationPanel","isPlainObject","isArray","hasOwnProperty","active","isActive","isStringFilled","url","events","click","openUrl","target","writable","classPrivateFieldSet","binding","itemId","classPrivateFieldGet","formatDate","Date","userOptions","save","setTimeout","location","NavigationPanel","Main"],"mappings":"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","file":"toolbar-component.bundle.map.js"}