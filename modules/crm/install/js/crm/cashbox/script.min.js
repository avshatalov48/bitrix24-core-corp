BX.namespace("BX.Crm");if(typeof BX.Crm.CheckCorrection==="undefined"){BX.Crm.CheckCorrection=function(){this._id="";this._settings=""};BX.Crm.CheckCorrection.prototype={initialize:function(e,t){this._id=BX.type.isNotEmptyString(e)?e:BX.util.getRandomString(4);this._settings=t?t:{};this.unbindEvents();this.bindEvents()},bindEvents:function(){BX.bind(document.querySelector(".check-correction-add"),"click",BX.delegate(function(e){this.onShowCheck(e,this._settings.ADD_CHECK_CORRECTION_URL)},this))},unbindEvents:function(){BX.unbind(document.querySelector(".check-correction-add"),"click",BX.delegate(function(e){this.onShowCheck(e,this._settings.ADD_CHECK_CORRECTION_URL)},this))},onShowCheck:function(e,t){BX.addCustomEvent("SidePanel.Slider:onMessage",BX.delegate(this.onPaymentCheckUpdate,this));BX.Crm.Page.openSlider(t,{width:500,cacheable:false})},onPaymentCheckUpdate:function(e){if(e.getEventId()==="CrmOrderPaymentCheck::Update"){this.unbindEvents();BX.Main.gridManager.reload(this._id)}}};BX.Crm.CheckCorrection.create=function(e,t){var n=new BX.Crm.CheckCorrection;n.initialize(e,t);return n}}
//# sourceMappingURL=script.map.js