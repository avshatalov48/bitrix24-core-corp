this.BX=this.BX||{},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){babelHelpers.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var o=new WeakMap,s=new WeakSet,c=function(){function e(){var n,i;babelHelpers.classCallCheck(this,e),a(n=this,i=s),i.add(n),function(e,t,r){a(e,t),t.set(e,r)}(this,o,{writable:!0,value:t.Runtime.throttle((function(){r.UI.Notification.Center.notify({content:t.Loc.getMessage("CRM_ACTIVITY_FASTSEARCH_CREATED_ADDED"),autoHideDelay:5e3})}),4e3)})}return babelHelpers.createClass(e,[{key:"mutate",value:function(e,t){for(var r=Boolean(t.ACTIVITY_FASTSEARCH_CREATED),n=!1,a=0,c=Object.keys(e);a<c.length;a++){var f=c[a];if(Object.prototype.hasOwnProperty.call(e,f)&&l(this,s,u).call(this,e,f)){n=!0;break}}return n&&!e.ACTIVITY_FASTSEARCH_CREATED?(r&&babelHelpers.classPrivateFieldGet(this,o).call(this),[i(i({},e),{},{ACTIVITY_FASTSEARCH_CREATED:"365"}),!0]):[e,!1]}}]),e}();function u(e,r){return 0===r.indexOf("ACTIVITY_FASTSEARCH_")&&(!!e[r]&&("NONE"!==e[r]&&!(t.Type.isArray(e[r])&&0===e[r].length)))}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){o=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(o)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r){h(e,t),t.set(e,r)}function h(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var y=new WeakMap,v=new WeakMap,d=new WeakSet,g=function(){function e(){var t,r;babelHelpers.classCallCheck(this,e),h(t=this,r=d),r.add(t),b(this,y,{writable:!0,value:[]}),b(this,v,{writable:!0,value:""})}return babelHelpers.createClass(e,[{key:"initialize",value:function(){BX.Event.EventEmitter.subscribe("BX.Main.Filter:beforeApply",function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(this,d,w).bind(this)),babelHelpers.classPrivateFieldSet(this,y,[new c]);var e=this.getFilterManager();e&&babelHelpers.classPrivateFieldSet(this,v,e.getFilterFieldsValues())}},{key:"getFilterManager",value:function(){if(!t.Type.isObject(BX.Main.filterManager||!t.Type.isFunction(BX.Main.filterManager)))return null;var e=Object.prototype.hasOwnProperty.call(BX.Main.filterManager,"getList")?BX.Main.filterManager.getList():Object.values(BX.Main.filterManager.data);return t.Type.isArray(e)&&e.length>0?e[0]:null}}]),e}();function w(e){var t=this.getFilterManager();if(t){var r,n=t.getApi(),i=t.getFilterFieldsValues(),a=!1,l=f(babelHelpers.classPrivateFieldGet(this,y));try{for(l.s();!(r=l.n()).done;){var o=r.value,s=o.mutate(i,babelHelpers.classPrivateFieldGet(this,v)),c=babelHelpers.slicedToArray(s,2);i=c[0],c[1]&&(a=!0)}}catch(e){l.e(e)}finally{l.f()}a&&(n.setFields(i),babelHelpers.classPrivateFieldSet(this,v,i))}}e.FilterDependentFields=g}(this.BX.Crm=this.BX.Crm||{},BX,BX);
//# sourceMappingURL=filter-dependent-fields.bundle.js.map
