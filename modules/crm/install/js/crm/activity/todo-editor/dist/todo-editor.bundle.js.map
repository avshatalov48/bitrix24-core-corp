{"version":3,"file":"todo-editor.bundle.js","sources":["../src/components/todo-editor-action-btn.js","../src/components/todo-editor.js","../src/enums/border-color.js","../src/todo-editor.js"],"sourcesContent":["import { Popup } from 'main.popup';\n\nexport const TodoEditorActionBtn = {\n\tprops: {\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t\tdefault: '',\n\t\t},\n\t\taction: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tdescription: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpopup: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\ticonClassname()\n\t\t{\n\t\t\treturn [\n\t\t\t\t'crm-activity__todo-editor_action-btn-icon',\n\t\t\t\t`--${this.icon}`,\n\t\t\t]\n\t\t}\n\t},\n\tmethods: {\n\t\tonMouseEnter(event): void\n\t\t{\n\t\t\tif (!this.description) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.popup = new Popup({\n\t\t\t\tcontent: this.description,\n\t\t\t\tbindElement: event.target,\n\t\t\t\tdarkMode: true,\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.popup)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.popup.show();\n\t\t\t}, 400);\n\t\t},\n\n\t\tonMouseLeave(): void\n\t\t{\n\t\t\tif (!this.popup || !this.description)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.popup.close();\n\t\t\tthis.popup = null;\n\t\t},\n\n\t\tonButtonClick(): void\n\t\t{\n\t\t\tthis.action.call(this);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<button\n\t\t\t@mouseenter=\"onMouseEnter\"\n\t\t\t@mouseleave=\"onMouseLeave\"\n\t\t\t@click=\"onButtonClick\"\n\t\t\tclass=\"crm-activity__todo-editor_action-btn\"\n\t\t>\n\t\t\t<i :class=\"iconClassname\"></i>\n\t\t</button>\n\t`\n}\n","import { DatetimeConverter } from 'crm.timeline.tools';\nimport { TodoEditorActionBtn } from './todo-editor-action-btn';\nimport { DateTimeFormat } from 'main.date';\nimport { Dom, Browser } from 'main.core';\n\nconst TEXTAREA_MAX_HEIGHT = 126;\n\nexport const TodoEditor = {\n\tcomponents: {\n\t\tTodoEditorActionBtn,\n\t},\n\tprops: {\n\t\tonFocus: Function,\n\t\tonChangeDescription: Function,\n\t\tonSaveHotkeyPressed: Function,\n\t\tdeadline: Date,\n\t\tdefaultDescription: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t\tadditionalButtons: Array,\n\t\tpopupMode: Boolean,\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tdescription: this.defaultDescription,\n\t\t\tcurrentDeadline: this.deadline ?? new Date(),\n\t\t\tshowFileUploader: false,\n\t\t\tisTextareaToLong: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tdeadlineFormatted(): string\n\t\t{\n\t\t\tconst converter = new DatetimeConverter(this.currentDeadline);\n\t\t\treturn converter.toDatetimeString({ withDayOfWeek: true, delimiter:', ' });\n\t\t}\n\t},\n\twatch: {\n\t\tdescription(): void\n\t\t{\n\t\t\tDom.style(this.$refs.textarea, 'height', 'auto');\n\t\t\tvoid this.$nextTick(() => {\n\t\t\t\tconst currentTextareaHeight = this.$refs.textarea.scrollHeight;\n\t\t\t\tDom.style(this.$refs.textarea, 'height', `${currentTextareaHeight}px`);\n\t\t\t\tif (this.popupMode === true)\n\t\t\t\t{\n\t\t\t\t\tthis.isTextareaToLong = currentTextareaHeight > TEXTAREA_MAX_HEIGHT;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\tmethods: {\n\t\tclearDescription(): void\n\t\t{\n\t\t\tthis.description = '';\n\t\t\tDom.style(this.$refs.textarea, 'height', 'auto');\n\t\t},\n\n\t\tsetDescription(description): void\n\t\t{\n\t\t\tthis.description = description;\n\t\t},\n\n\t\tonTextareaFocus(): void\n\t\t{\n\t\t\tthis.onFocus();\n\t\t},\n\n\t\tonTextareaKeydown(event): void\n\t\t{\n\t\t\tif (event.keyCode !== 13)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isMacCtrlKeydown = Browser.isMac() && (event.metaKey === true || event.altKey === true);\n\n\t\t\tif (event.ctrlKey === true || isMacCtrlKeydown)\n\t\t\t{\n\t\t\t\tthis.onSaveHotkeyPressed();\n\t\t\t}\n\t\t},\n\n\t\tsetTextareaFocused(): void\n\t\t{\n\t\t\tthis.$refs.textarea.focus();\n\t\t},\n\n\t\tonDeadlineClick(): void\n\t\t{\n\t\t\tBX.calendar({\n\t\t\t\tnode: this.$refs.deadline,\n\t\t\t\tbTime: true,\n\t\t\t\tbHideTime: false,\n\t\t\t\tbSetFocus: false,\n\t\t\t\tvalue: DateTimeFormat.format(DatetimeConverter.getSiteDateTimeFormat(), this.currentDeadline),\n\t\t\t\tcallback: this.setDeadline.bind(this),\n\t\t\t});\n\t\t},\n\n\t\tsetDeadline(newDeadline): void\n\t\t{\n\t\t\tthis.currentDeadline = newDeadline;\n\t\t},\n\n\t\tgetData(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\tdescription: this.description,\n\t\t\t\tdeadline: this.currentDeadline,\n\t\t\t};\n\t\t},\n\n\t\tonTextareaInput(event)\n\t\t{\n\t\t\tthis.setDescription(event.target.value);\n\t\t\tthis.onChangeDescription(event.target.value);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<label class=\"crm-activity__todo-editor_body\">\n\t\t\t<textarea\n\t\t\t\trows=\"1\"\n\t\t\t\tref=\"textarea\"\n\t\t\t\t@focus=\"onTextareaFocus\"\n\t\t\t\t@keydown=\"onTextareaKeydown\"\n\t\t\t\tclass=\"crm-activity__todo-editor_textarea\"\n\t\t\t\t:placeholder=\"$Bitrix.Loc.getMessage('CRM_ACTIVITY_TODO_ADD_PLACEHOLDER')\"\n\t\t\t\t@input=\"onTextareaInput\"\n\t\t\t\t:value=\"description\"\n\t\t\t\t:class=\"{ '--has-scroll': isTextareaToLong }\"\n\t\t\t></textarea>\n\t\t\t<div class=\"crm-activity__todo-editor_tools\">\n\t\t\t\t<div\n\t\t\t\t\tref=\"deadline\"\n\t\t\t\t\t@click=\"onDeadlineClick\"\n\t\t\t\t\tclass=\"crm-activity__todo-editor_deadline\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"crm-activity__todo-editor_deadline-icon\"><i></i></span>\n\t\t\t\t\t<span class=\"crm-activity__todo-editor_deadline-text\">{{ deadlineFormatted }}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"crm-activity__todo-editor_action-btns\">\n\t\t\t\t\t<TodoEditorActionBtn\n\t\t\t\t\t\tv-for=\"btn in additionalButtons\"\n\t\t\t\t\t\t:key=\"btn.id\"\n\t\t\t\t\t\t:icon=\"btn.icon\"\n\t\t\t\t\t\t:description=\"btn.description\"\n\t\t\t\t\t\t:action=\"btn.action\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</label>\n\t`\n};\n","export class TodoEditorBorderColor {\n\tstatic DEFAULT = 'default';\n\tstatic PRIMARY = 'primary';\n}","import {ajax as Ajax, Dom, Loc, Reflection, Type} from 'main.core';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { BitrixVue } from 'ui.vue3';\nimport { TodoEditor as TodoEditorComponent } from './components/todo-editor';\nimport { UI } from 'ui.notification';\nimport { DateTimeFormat } from 'main.date';\nimport { DatetimeConverter } from 'crm.timeline.tools';\nimport { TodoEditorBorderColor } from './enums/border-color';\nimport { FileUploader as TodoEditorFileUploader } from 'crm.activity.file-uploader';\n\nimport './todo-editor.css';\n\ndeclare type TodoEditorParams = {\n\tcontainer: HTMLElement,\n\tdeadline?: Date,\n\tdefaultDescription?: string,\n\tevents?: { [event: string]: (event) => {} },\n\townerId: number,\n\townerTypeId: number,\n\tborderColor: string,\n\tpopupMode: boolean\n};\n\nexport const TodoEditorMode = {\n\tADD: 'add',\n\tUPDATE: 'update',\n}\n\n/**\n * @memberOf BX.Crm.Activity\n */\nexport class TodoEditor\n{\n/**\n * @event onFocus\n * @event onChangeDescription\n * @event onSaveHotkeyPressed\n */\n\tstatic BorderColor = TodoEditorBorderColor;\n\n\t#container: HTMLElement = null;\n\t#layoutApp = null;\n\t#layoutComponent = null;\n\t#loadingPromise: ?Promise = null;\n\n\t#mode: String = TodoEditorMode.ADD;\n\t#ownerTypeId: Number = null;\n\t#ownerId: Number = null;\n\t#defaultDescription: String = null;\n\t#deadline: Date = null;\n\t#parentActivityId: Number = null;\n\t#borderColor = '';\n\t#activityId: Number = null;\n\t#eventEmitter: EventEmitter = null;\n\t#fileUploader: TodoEditorFileUploader = null;\n\t#isPopupMode: boolean = false;\n\n\tconstructor(params: TodoEditorParams)\n\t{\n\t\tif (!Type.isDomNode(params.container))\n\t\t{\n\t\t\tthrow new Error('TodoEditor container must be a DOM Node');\n\t\t}\n\t\tthis.#container = params.container;\n\t\tthis.#borderColor =\n\t\t\tthis.#isValidBorderColor(params.borderColor)\n\t\t\t? params.borderColor\n\t\t\t: TodoEditor.BorderColor.DEFAULT\n\t\t;\n\t\tDom.addClass(this.#container, this.#getClassname());\n\n\t\tif (!Type.isNumber(params.ownerTypeId))\n\t\t{\n\t\t\tthrow new Error('OwnerTypeId must be set');\n\t\t}\n\t\tthis.#ownerTypeId = params.ownerTypeId;\n\n\t\tif (!Type.isNumber(params.ownerId))\n\t\t{\n\t\t\tthrow new Error('OwnerId must be set');\n\t\t}\n\t\tthis.#ownerId = params.ownerId;\n\n\t\tthis.#defaultDescription = Type.isString(params.defaultDescription) ? params.defaultDescription : this.#getDefaultDescription();\n\n\t\tthis.#deadline = Type.isDate(params.deadline) ? params.deadline : null;\n\n\t\tif (!this.#deadline)\n\t\t{\n\t\t\tthis.setDefaultDeadLine(false);\n\t\t}\n\n\t\tif (params.popupMode === true)\n\t\t{\n\t\t\tthis.#isPopupMode = true;\n\t\t}\n\n\t\tthis.#eventEmitter = new EventEmitter;\n\t\tthis.#eventEmitter.setEventNamespace('Crm.Activity.TodoEditor');\n\n\t\tif (Type.isObject(params.events))\n\t\t{\n\t\t\tfor (const eventName in params.events)\n\t\t\t{\n\t\t\t\tif (Type.isFunction(params.events[eventName]))\n\t\t\t\t{\n\t\t\t\t\tthis.#eventEmitter.subscribe(eventName, params.events[eventName])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tsetMode(mode: String): self\n\t{\n\t\tif (!Object.values(TodoEditorMode).some(value => value === mode) )\n\t\t{\n\t\t\tthrow new Error(`Unknown TodoEditor mode ${mode}`);\n\t\t}\n\n\t\tthis.#mode = mode;\n\n\t\treturn this;\n\t}\n\n\tshow()\n\t{\n\t\tthis.#layoutApp = BitrixVue.createApp(TodoEditorComponent, {\n\t\t\tdeadline: this.#deadline,\n\t\t\tdefaultDescription: this.#defaultDescription,\n\t\t\tonFocus: this.#onInputFocus.bind(this),\n\t\t\tonChangeDescription: this.#onChangeDescription.bind(this),\n\t\t\tonSaveHotkeyPressed: this.#onSaveHotkeyPressed.bind(this),\n\t\t\tadditionalButtons: [{\n\t\t\t\tid: 'file-uploader',\n\t\t\t\ticon: 'attach',\n\t\t\t\tdescription: Loc.getMessage('CRM_ACTIVITY_TODO_UPLOAD_FILE_BUTTON_HINT'),\n\t\t\t\taction: this.#onFileUploadButtonClick.bind(this),\n\t\t\t}],\n\t\t\tpopupMode: this.#isPopupMode\n\t\t});\n\t\tthis.#layoutComponent = this.#layoutApp.mount(this.#container);\n\t}\n\n\tsave(): Promise\n\t{\n\t\tif (this.#loadingPromise)\n\t\t{\n\t\t\treturn this.#loadingPromise;\n\t\t}\n\n\t\tconst data = this.#getSaveActionData();\n\n\t\t// wrap BX.Promise in native js promise\n\t\tthis.#loadingPromise = new Promise((resolve, reject) => {\n\t\t\tAjax\n\t\t\t\t.runAction(this.#getSaveActionPath(), { data })\n\t\t\t\t.then(resolve)\n\t\t\t\t.catch(reject)\n\t\t\t;\n\n\t\t}).catch((response) => {\n\t\t\tUI.Notification.Center.notify({\n\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\tautoHideDelay: 5000,\n\t\t\t});\n\n\t\t\t//so that on error returned promise is marked as rejected\n\t\t\tthrow response;\n\t\t}).finally(() => {\n\t\t\tthis.#loadingPromise = null;\n\t\t});\n\n\t\treturn this.#loadingPromise;\n\t}\n\n\t#getSaveActionData(): Object\n\t{\n\t\tconst userData = this.#layoutComponent.getData();\n\t\tconst data = {\n\t\t\townerTypeId: this.#ownerTypeId,\n\t\t\townerId: this.#ownerId,\n\t\t\tdescription: userData.description,\n\t\t\tdeadline: DateTimeFormat.format(DatetimeConverter.getSiteDateTimeFormat(), userData.deadline),\n\t\t\tparentActivityId: this.#parentActivityId,\n\t\t\tfileTokens: this.#fileUploader ? this.#fileUploader.getServerFileIds() : []\n\t\t}\n\n\t\tif (this.#mode === TodoEditorMode.UPDATE)\n\t\t{\n\t\t\tdata.id = this.#activityId;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t#getSaveActionPath(): String\n\t{\n\t\treturn (this.#mode === TodoEditorMode.ADD ? 'crm.activity.todo.add' : 'crm.activity.todo.update');\n\t}\n\n\tgetDeadline(): ?Date\n\t{\n\t\treturn this.#layoutComponent.getData()['deadline'] ?? null;\n\t}\n\n\tgetDescription(): String\n\t{\n\t\treturn this.#layoutComponent.getData()['description'] ?? '';\n\t}\n\n\tsetParentActivityId(activityId: Number): self\n\t{\n\t\tthis.#parentActivityId = activityId;\n\n\t\treturn this;\n\t}\n\n\tsetActivityId(activityId: Number): self\n\t{\n\t\tthis.#activityId = activityId;\n\n\t\treturn this;\n\t}\n\n\tsetDeadline(deadLine: String): self\n\t{\n\t\tlet value = BX.parseDate(deadLine);\n\t\tif (Type.isDate(value))\n\t\t{\n\t\t\tthis.#layoutComponent.setDeadline(value);\n\t\t\tthis.#deadline = value;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tsetDefaultDeadLine(isNeedUpdateLayout: Boolean = true): self\n\t{\n\t\tlet defaultDate = BX.parseDate(Loc.getMessage('CRM_TIMELINE_TODO_EDITOR_DEFAULT_DATETIME'));\n\t\tif (Type.isDate(defaultDate))\n\t\t{\n\t\t\tthis.#deadline = defaultDate;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#deadline = new Date();\n\t\t\tthis.#deadline.setMinutes(0);\n\t\t\tthis.#deadline.setTime(this.#deadline.getTime() + 60 * 60 * 1000); // next hour\n\t\t}\n\n\t\tif (isNeedUpdateLayout)\n\t\t{\n\t\t\tthis.#layoutComponent.setDeadline(this.#deadline);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tsetFocused(): void\n\t{\n\t\tthis.#layoutComponent.setTextareaFocused();\n\t}\n\n\tsetDescription(description: String): self\n\t{\n\t\tthis.#layoutComponent.setDescription(description);\n\n\t\treturn this;\n\t}\n\n\tclearValue(): Promise\n\t{\n\t\tthis.#layoutComponent.clearDescription();\n\t\tthis.#parentActivityId = null;\n\t\tthis.setDefaultDeadLine();\n\t\tDom.removeClass(this.#container, '--is-edit');\n\t\tif (this.#fileUploader) {\n\t\t\tDom.removeClass(this.#fileUploader.getContainer(), '--is-displayed');\n\t\t}\n\n\t\tthis.#fileUploader = null;\n\n\t\treturn new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, 10);\n\t\t});\n\t}\n\n\tresetToDefaults(): Promise\n\t{\n\t\tthis.#layoutComponent.setDescription(this.#getDefaultDescription());\n\t\tthis.setDefaultDeadLine();\n\t\tDom.removeClass(this.#container, '--is-edit');\n\t\tif (this.#fileUploader)\n\t\t{\n\t\t\tDom.removeClass(this.#fileUploader.getContainer(), '--is-displayed');\n\t\t}\n\n\t\tthis.#fileUploader = null;\n\n\t\treturn new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, 10);\n\t\t});\n\t}\n\n\t#getDefaultDescription(): String\n\t{\n\t\tlet messagePhrase = 'CRM_ACTIVITY_TODO_NOTIFICATION_DEFAULT_TEXT';\n\t\tswitch (this.#ownerTypeId)\n\t\t{\n\t\t\tcase BX.CrmEntityType.enumeration.deal:\n\t\t\t\tmessagePhrase = 'CRM_ACTIVITY_TODO_NOTIFICATION_DEFAULT_TEXT_DEAL';\n\t\t}\n\n\t\treturn Loc.getMessage(messagePhrase);\n\t}\n\n\t#onInputFocus(): void\n\t{\n\t\tDom.addClass(this.#container, '--is-edit');\n\t\tthis.#eventEmitter.emit('onFocus');\n\t}\n\n\t#onChangeDescription(description): void\n\t{\n\t\tconst event = new BaseEvent({\n\t\t\tdata: {\n\t\t\t\tdescription\n\t\t\t},\n\t\t});\n\n\t\tthis.#eventEmitter.emit('onChangeDescription', event);\n\t}\n\n\t#onSaveHotkeyPressed(): void\n\t{\n\t\tthis.#eventEmitter.emit('onSaveHotkeyPressed');\n\t}\n\n\t#isValidBorderColor(borderColor: string): boolean\n\t{\n\t\treturn Type.isString(borderColor) && TodoEditor.BorderColor[borderColor.toUpperCase()];\n\t}\n\n\t#getClassname(): string\n\t{\n\t\treturn `crm-activity__todo-editor --border-${this.#borderColor}`;\n\t}\n\n\t#onFileUploadButtonClick(): void\n\t{\n\t\tthis.initFileUploader();\n\t}\n\n\tsetStorageElementIds(ids: Array): void\n\t{\n\t\tthis.initFileUploader(ids);\n\t}\n\n\tinitFileUploader(files: Array = []): void\n\t{\n\t\tif (!this.#fileUploader)\n\t\t{\n\t\t\tthis.#fileUploader = new TodoEditorFileUploader({\n\t\t\t\tbaseContainer: this.#container,\n\t\t\t\tevents: {\n\t\t\t\t\t'File:onRemove': (event) => {\n\t\t\t\t\t\tthis.#eventEmitter.emit('onChangeUploaderContainerSize');\n\t\t\t\t\t},\n\t\t\t\t\t'onUploadStart': (event) => {\n\t\t\t\t\t\tthis.#eventEmitter.emit('onChangeUploaderContainerSize');\n\t\t\t\t\t},\n\t\t\t\t\t// TODO: not implemented yet\n\t\t\t\t\t//\t\t'File:onComplete'\n\t\t\t\t\t//\t\t'onUploadComplete'\n\t\t\t\t},\n\t\t\t\townerId: this.#ownerId,\n\t\t\t\townerTypeId: this.#ownerTypeId,\n\t\t\t\tactivityId: this.#activityId,\n\t\t\t\tfiles,\n\t\t\t});\n\t\t}\n\n\t\tconst fileUploaderContainer = this.#fileUploader.getContainer();\n\t\tconst displayedClass = '--is-displayed';\n\n\t\tif (files && !Dom.hasClass(fileUploaderContainer, displayedClass))\n\t\t{\n\t\t\tDom.addClass(fileUploaderContainer, displayedClass);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.toggleClass(fileUploaderContainer, displayedClass);\n\t\t}\n\n\t\tthis.#eventEmitter.emit('onChangeUploaderContainerSize');\n\t}\n}\n\nconst namespace = Reflection.namespace('BX.Crm.Activity');\nnamespace.TodoEditor = TodoEditor;\n"],"names":["TodoEditorActionBtn","props","icon","type","String","required","default","action","Function","description","data","popup","computed","iconClassname","methods","onMouseEnter","event","Popup","content","bindElement","target","darkMode","setTimeout","show","onMouseLeave","close","onButtonClick","call","template","TEXTAREA_MAX_HEIGHT","TodoEditor","components","onFocus","onChangeDescription","onSaveHotkeyPressed","deadline","Date","defaultDescription","additionalButtons","Array","popupMode","Boolean","currentDeadline","showFileUploader","isTextareaToLong","deadlineFormatted","converter","DatetimeConverter","toDatetimeString","withDayOfWeek","delimiter","watch","Dom","style","$refs","textarea","$nextTick","currentTextareaHeight","scrollHeight","clearDescription","setDescription","onTextareaFocus","onTextareaKeydown","keyCode","isMacCtrlKeydown","Browser","isMac","metaKey","altKey","ctrlKey","setTextareaFocused","focus","onDeadlineClick","BX","calendar","node","bTime","bHideTime","bSetFocus","value","DateTimeFormat","format","getSiteDateTimeFormat","callback","setDeadline","bind","newDeadline","getData","onTextareaInput","TodoEditorBorderColor","TodoEditorMode","ADD","UPDATE","params","Type","isDomNode","container","Error","borderColor","BorderColor","DEFAULT","addClass","isNumber","ownerTypeId","ownerId","isString","isDate","setDefaultDeadLine","EventEmitter","setEventNamespace","isObject","events","eventName","isFunction","subscribe","mode","Object","values","some","BitrixVue","createApp","TodoEditorComponent","id","Loc","getMessage","mount","Promise","resolve","reject","Ajax","runAction","then","catch","response","UI","Notification","Center","notify","errors","message","autoHideDelay","finally","activityId","deadLine","parseDate","isNeedUpdateLayout","defaultDate","setMinutes","setTime","getTime","removeClass","getContainer","ids","initFileUploader","files","TodoEditorFileUploader","baseContainer","emit","fileUploaderContainer","displayedClass","hasClass","toggleClass","userData","parentActivityId","fileTokens","getServerFileIds","messagePhrase","CrmEntityType","enumeration","deal","BaseEvent","toUpperCase","namespace","Reflection"],"mappings":"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"}