{"version":3,"sources":["todo-editor.bundle.js"],"names":["this","BX","Crm","exports","main_core_events","ui_vue3","main_popup","main_core","ui_notification","main_date","crm_timeline_tools","TodoEditorActionBtn","props","icon","type","String","required","default","action","Object","description","data","popup","computed","iconClassname","methods","onMouseEnter","e","Popup","content","bindElement","target","darkMode","setTimeout","show","onMouseLeave","close","template","TodoEditor","components","onFocus","Function","onChangeDescription","onSaveHotkeyPressed","deadline","Date","defaultDescription","_this$deadline","currentDeadline","deadlineFormatted","DatetimeConverter","toDatetimeString","withDayOfWeek","delimiter","exampleAdditionalButtons","clearDescription","Dom","style","$refs","textarea","setDescription","scrollHeight","onTextareaFocus","onTextareaKeydown","event","keyCode","ctrlKey","Browser","isMac","metaKey","altKey","setTextareaFocused","focus","onDeadlineClick","calendar","node","bTime","bHideTime","bSetFocus","value","DateTimeFormat","format","getSiteDateTimeFormat","callback","setDeadlineValue","bind","newDeadline","getData","onTextareaInput","TodoEditorBorderColor","babelHelpers","classCallCheck","defineProperty","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","_classPrivateFieldInitSpec","privateMap","set","privateCollection","has","TypeError","_classPrivateMethodGet","receiver","fn","_container","WeakMap","_layoutApp","_layoutComponent","_loadingPromise","_ownerTypeId","_ownerId","_defaultDescription","_deadline","_parentActivityId","_borderColor","_eventEmitter","_getDefaultDescription","WeakSet","_onInputFocus","_onChangeDescription","_onSaveHotkeyPressed","_isValidBorderColor","_getClassname","TodoEditor$1","TodoEditor$$1","params","writable","Type","isDomNode","container","Error","classPrivateFieldSet","_isValidBorderColor2","call","borderColor","BorderColor","DEFAULT","addClass","classPrivateFieldGet","_getClassname2","isNumber","ownerTypeId","ownerId","isString","_getDefaultDescription2","isDate","setDefaultDeadLine","EventEmitter","setEventNamespace","isObject","events","eventName","isFunction","subscribe","createClass","key","BitrixVue","createApp","_onInputFocus2","_onChangeDescription2","_onSaveHotkeyPressed2","mount","save","userData","Promise","resolve","reject","ajax","runAction","parentActivityId","then","catch","response","UI","Notification","Center","notify","errors","message","autoHideDelay","finally","getDeadline","_babelHelpers$classPr","getDescription","_babelHelpers$classPr2","setParentActivityId","activityId","setDeadLine","deadLine","parseDate","isNeedUpdateLayout","defaultDate","Loc","getMessage","setMinutes","setTime","getTime","setFocused","clearValue","removeClass","resetToDefaults","messagePhrase","CrmEntityType","enumeration","deal","emit","BaseEvent","toUpperCase","namespace","Reflection","Activity","Event","Vue3","Main","Timeline"],"mappings":"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","file":"todo-editor.bundle.map.js"}