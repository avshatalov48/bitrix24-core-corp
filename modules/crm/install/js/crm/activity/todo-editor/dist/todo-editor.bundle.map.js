{"version":3,"file":"todo-editor.bundle.map.js","names":["this","BX","Crm","exports","ui_vue3","main_popup","main_core","main_core_events","ui_entitySelector","ui_notification","main_date","crm_timeline_tools","crm_activity_fileUploader","crm_activity_settingsPopup","TodoEditorActionBtn","props","icon","type","String","required","default","action","Function","description","data","popup","computed","iconClassname","methods","onMouseEnter","event","Popup","content","bindElement","target","darkMode","setTimeout","show","onMouseLeave","close","onButtonClick","call","template","TodoEditorActionDelimiter","className","TodoEditorResponsibleUserSelector","userId","Number","userName","imageUrl","isTickFlipped","userAvatarUrl","userIconClassName","tickIconClassName","userIconStyles","backgroundImage","encodeURI","Text","encode","backgroundSize","onDialogShow","onDialogHide","onSelectUser","selectedItem","getData","item","getDialog","getSelectedItems","getAvatar","$Bitrix","eventEmitter","emit","Events","EVENT_RESPONSIBLE_USER_CHANGE","responsibleUserId","getId","onDeselectUser","selectedItems","userSelectorDialog","length","hide","showUserDialog","resetToDefault","defaultUserItem","getItem","id","entityId","select","mounted","Dialog","targetNode","$refs","userSelector","context","multiple","dropdownMode","showAvatars","enableSearch","width","zIndex","entities","preselectedItems","undeselectedItems","events","onShow","onHide","TEXTAREA_MAX_HEIGHT","TodoEditor","components","onFocus","onChangeDescription","onSaveHotkeyPressed","deadline","Date","defaultDescription","additionalButtons","Array","popupMode","Boolean","currentUser","Object","_this$deadline","currentDeadline","showFileUploader","isTextareaToLong","wasUsed","deadlineFormatted","converter","DatetimeConverter","toDatetimeString","withDayOfWeek","delimiter","watch","Dom","style","textarea","$nextTick","currentTextareaHeight","scrollHeight","clearDescription","setDescription","onTextareaFocus","onTextareaKeydown","keyCode","isMacCtrlKeydown","Browser","isMac","metaKey","altKey","ctrlKey","setTextareaFocused","focus","onDeadlineClick","calendar","node","bTime","bHideTime","bSetFocus","value","DateTimeFormat","format","getSiteDateTimeFormat","callback","setDeadline","bind","newDeadline","onResponsibleUserChange","setResponsibleUserId","resetResponsibleUserToDefault","onTextareaInput","subscribe","beforeUnmount","unsubscribe","TodoEditorBorderColor","babelHelpers","classCallCheck","defineProperty","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","_classPrivateFieldInitSpec","privateMap","set","privateCollection","has","TypeError","_classPrivateMethodGet","receiver","fn","TodoEditorMode","ADD","UPDATE","_container","WeakMap","_layoutApp","_layoutComponent","_loadingPromise","_mode","_ownerTypeId","_ownerId","_currentUser","_defaultDescription","_deadline","_parentActivityId","_borderColor","_activityId","_eventEmitter","_fileUploader","_settingsPopup","_settings","_enableCalendarSync","_popupMode","_getAdditionalButtons","WeakSet","_getSettingsButton","_onSettingsButtonClick","_getSettingsSection","_getFileUploaderButton","_getSaveActionData","_getSaveActionPath","_getSaveActionDataSettings","_syncAndGetSaveActionDataSettingsFromPopup","_getSaveActionDefaultDataSettings","_getSectionSettings","_getDefaultCalendarParams","_getDefaultPingParams","_getDefaultDescription","_onInputFocus","_onChangeDescription","_onSaveHotkeyPressed","_isValidBorderColor","_getClassname","_onFileUploadButtonClick","TodoEditor$1","TodoEditor$$1","params","writable","Type","isDomNode","container","Error","classPrivateFieldSet","_isValidBorderColor2","borderColor","BorderColor","DEFAULT","addClass","classPrivateFieldGet","_getClassname2","isNumber","ownerTypeId","ownerId","isObject","isString","_getDefaultDescription2","isDate","setDefaultDeadLine","EventEmitter","setEventNamespace","eventName","isFunction","isBoolean","enableCalendarSync","createClass","key","setMode","mode","values","some","BitrixVue","createApp","_onInputFocus2","_onChangeDescription2","_onSaveHotkeyPressed2","_getAdditionalButtons2","mount","onSettingsChange","settings","setSettings","setDeadlineFromTimestamp","from","save","Promise","resolve","reject","_getSaveActionData2","then","ajax","runAction","_getSaveActionPath2","catch","response","UI","Notification","Center","notify","errors","message","autoHideDelay","finally","getDeadline","_babelHelpers$classPr","_babelHelpers$classPr2","getDescription","_babelHelpers$classPr3","_babelHelpers$classPr4","setParentActivityId","activityId","setActivityId","deadLine","parse","timestamp","isNeedUpdateLayout","defaultDate","parseDate","Loc","getMessage","setMinutes","setTime","getTime","setFocused","clearValue","removeClass","getContainer","resetToDefaults","setStorageElementIds","ids","initFileUploader","files","FileUploader","baseContainer","onUploadStart","fileUploaderContainer","displayedClass","hasClass","toggleClass","buttons","push","_getSettingsButton2","_getFileUploaderButton2","_onSettingsButtonClick2","SettingsPopup","sections","_getSectionSettings2","syncSettings","_onFileUploadButtonClick2","_getSaveActionDataSettings2","userData","responsibleId","parentActivityId","fileTokens","getServerFileIds","_syncAndGetSaveActionDataSettingsFromPopup2","_getSaveActionDefaultDataSettings2","getSettings","result","forEach","section","active","sectionSettings","ping","Ping","component","showToggleSelector","Calendar","pingSettings","calendarSettings","to","duration","_getDefaultPingParams2","_getDefaultCalendarParams2","fromDate","messagePhrase","CrmEntityType","enumeration","deal","BaseEvent","toUpperCase","namespace","Reflection","Activity","Vue3","Main","Event","EntitySelector","Timeline"],"sources":["todo-editor.bundle.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,IAAMF,KAAKC,GAAGC,KAAO,CAAC,GAC7B,SAAUC,EAAQC,EAAQC,EAAWC,EAAUC,EAAiBC,EAAkBC,EAAgBC,EAAUC,EAAmBC,EAA0BC,GACzJ,aAEA,MAAMC,EAAsB,CAC1BC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,SAAU,KACVC,QAAS,IAEXC,OAAQ,CACNJ,KAAMK,SACNH,SAAU,KACVC,QAAS,QAEXG,YAAa,CACXN,KAAMC,OACNC,SAAU,MACVC,QAAS,KAGbI,OACE,MAAO,CACLC,MAAO,KAEX,EACAC,SAAU,CACRC,gBACE,MAAO,CAAC,4CAA6C,KAAK3B,KAAKgB,OACjE,GAEFY,QAAS,CACPC,aAAaC,GACX,IAAK9B,KAAKuB,YAAa,CACrB,MACF,CACAvB,KAAKyB,MAAQ,IAAIpB,EAAW0B,MAAM,CAChCC,QAAShC,KAAKuB,YACdU,YAAaH,EAAMI,OACnBC,SAAU,OAEZC,YAAW,KACT,IAAKpC,KAAKyB,MAAO,CACf,MACF,CACAzB,KAAKyB,MAAMY,MAAM,GAChB,IACL,EACAC,eACE,IAAKtC,KAAKyB,QAAUzB,KAAKuB,YAAa,CACpC,MACF,CACAvB,KAAKyB,MAAMc,QACXvC,KAAKyB,MAAQ,IACf,EACAe,gBACExC,KAAKqB,OAAOoB,KAAKzC,KACnB,GAEF0C,SAAU,uOAYZ,MAAMC,EAA4B,CAChCjB,SAAU,CACRkB,YACE,MAAO,CAAC,6CACV,GAEFF,SAAU,2HAOZ,MAAMG,EAAoC,CACxC9B,MAAO,CACL+B,OAAQ,CACN7B,KAAM8B,OACN5B,SAAU,KACVC,QAAS,GAEX4B,SAAU,CACR/B,KAAMC,OACNC,SAAU,KACVC,QAAS,IAEX6B,SAAU,CACRhC,KAAMC,OACNC,SAAU,KACVC,QAAS,KAGbI,OACE,MAAO,CACL0B,cAAe,MACfC,cAAenD,KAAKiD,SAExB,EACAvB,SAAU,CACR0B,oBACE,MAAO,CAAC,UAAW,sBAAuB,0BAC5C,EACAC,oBACE,MAAO,CAAC,sDAAuD,2DAA4D,CACzH,YAAarD,KAAKkD,eAEtB,EACAI,iBACE,IAAKtD,KAAKmD,cAAe,CACvB,MAAO,CAAC,CACV,CACA,MAAO,CACLI,gBAAiB,QAAUC,UAAUlD,EAAUmD,KAAKC,OAAO1D,KAAKmD,gBAAkB,KAClFQ,eAAgB,OAEpB,GAEF/B,QAAS,CACPgC,aAAa9B,GACX9B,KAAKkD,cAAgB,IACvB,EACAW,aAAa/B,GACX9B,KAAKkD,cAAgB,KACvB,EACAY,aAAahC,GACX,MAAMiC,EAAejC,EAAMkC,UAAUC,KAAKC,YAAYC,mBAAmB,GACzE,GAAIJ,EAAc,CAChB/D,KAAKmD,cAAgBY,EAAaK,YAClCpE,KAAKqE,QAAQC,aAAaC,KAAKC,EAAOC,8BAA+B,CACnEC,kBAAmBX,EAAaY,SAEpC,CACF,EACAC,iBACExC,YAAW,KACT,MAAMyC,EAAgB7E,KAAK8E,mBAAmBX,mBAC9C,GAAIU,EAAcE,SAAW,EAAG,CAC9B/E,KAAKmD,cAAgBnD,KAAKiD,SAC1BjD,KAAK8E,mBAAmBE,OACxBhF,KAAKqE,QAAQC,aAAaC,KAAKC,EAAOC,8BAA+B,CACnEC,kBAAmB1E,KAAK8C,QAE5B,IACC,IACL,EACAmC,iBACE,GAAIjF,KAAK8E,mBAAoB,CAC3B1C,YAAW,KACTpC,KAAK8E,mBAAmBzC,MAAM,GAC7B,EACL,CACF,EACA6C,iBACElF,KAAKmD,cAAgBnD,KAAKiD,SAC1B,GAAIjD,KAAK8E,mBAAoB,CAC3B,MAAMK,EAAkBnF,KAAK8E,mBAAmBM,QAAQ,CACtDC,GAAIrF,KAAK8C,OACTwC,SAAU,SAEZ,GAAIH,EAAiB,CACnBA,EAAgBI,OAAO,KACzB,CACF,CACF,GAEFC,UACExF,KAAK8E,mBAAqB,IAAItE,EAAkBiF,OAAO,CACrDJ,GAAI,mCACJK,WAAY1F,KAAK2F,MAAMC,aACvBC,QAAS,qCACTC,SAAU,MACVC,aAAc,KACdC,YAAa,KACbC,aAAc,KACdC,MAAO,IACPC,OAAQ,KACRC,SAAU,CAAC,CACTf,GAAI,SAENgB,iBAAkB,CAAC,CAAC,OAAQrG,KAAK8C,SACjCwD,kBAAmB,CAAC,CAAC,OAAQtG,KAAK8C,SAClCyD,OAAQ,CACNC,OAAUxG,KAAK4D,aACf6C,OAAUzG,KAAK6D,aACf,gBAAiB7D,KAAK8D,aACtB,kBAAmB9D,KAAK4E,iBAG9B,EACAlC,SAAU,qWAkBZ,MAAMgE,EAAsB,IAC5B,MAAMlC,EAAS,CACbC,8BAA+B,8CAEjC,MAAMkC,EAAa,CACjBC,WAAY,CACV9F,sBACA6B,4BACAE,qCAEF9B,MAAO,CACL8F,QAASvF,SACTwF,oBAAqBxF,SACrByF,oBAAqBzF,SACrB0F,SAAUC,KACVC,mBAAoB,CAClBjG,KAAMC,OACNC,SAAU,MACVC,QAAS,IAEX+F,kBAAmBC,MACnBC,UAAWC,QACXC,YAAaC,QAEfhG,OACE,IAAIiG,EACJ,MAAO,CACLlG,YAAavB,KAAKkH,mBAClBQ,iBAAkBD,EAAiBzH,KAAKgH,YAAc,MAAQS,SAAwB,EAAIA,EAAiB,IAAIR,KAC/GvC,kBAAmB1E,KAAKuH,YAAYzE,OACpC6E,iBAAkB,MAClBC,iBAAkB,MAClBC,QAAS,MAEb,EACAnG,SAAU,CACRoG,oBACE,MAAMC,EAAY,IAAIpH,EAAmBqH,kBAAkBhI,KAAK0H,iBAChE,OAAOK,EAAUE,iBAAiB,CAChCC,cAAe,KACfC,UAAW,MAEf,GAEFC,MAAO,CACL7G,cACEjB,EAAU+H,IAAIC,MAAMtI,KAAK2F,MAAM4C,SAAU,SAAU,aAC9CvI,KAAKwI,WAAU,KAClB,MAAMC,EAAwBzI,KAAK2F,MAAM4C,SAASG,aAClDpI,EAAU+H,IAAIC,MAAMtI,KAAK2F,MAAM4C,SAAU,SAAU,GAAGE,OACtD,GAAIzI,KAAKqH,YAAc,KAAM,CAC3BrH,KAAK4H,iBAAmBa,EAAwB/B,CAClD,IAEJ,GAEF9E,QAAS,CACP+G,mBACE3I,KAAKuB,YAAc,GACnBjB,EAAU+H,IAAIC,MAAMtI,KAAK2F,MAAM4C,SAAU,SAAU,OACrD,EACAK,eAAerH,GACbvB,KAAKuB,YAAcA,CACrB,EACAsH,kBACE7I,KAAK6H,QAAU,KACf7H,KAAK6G,SACP,EACAiC,kBAAkBhH,GAChB,GAAIA,EAAMiH,UAAY,GAAI,CACxB,MACF,CACA,MAAMC,EAAmB1I,EAAU2I,QAAQC,UAAYpH,EAAMqH,UAAY,MAAQrH,EAAMsH,SAAW,MAClG,GAAItH,EAAMuH,UAAY,MAAQL,EAAkB,CAC9ChJ,KAAK+G,qBACP,CACF,EACAuC,qBACEtJ,KAAK6H,QAAU,KACf7H,KAAK2F,MAAM4C,SAASgB,OACtB,EACAC,kBACEvJ,GAAGwJ,SAAS,CACVC,KAAM1J,KAAK2F,MAAMqB,SACjB2C,MAAO,KACPC,UAAW,MACXC,UAAW,MACXC,MAAOpJ,EAAUqJ,eAAeC,OAAOrJ,EAAmBqH,kBAAkBiC,wBAAyBjK,KAAK0H,iBAC1GwC,SAAUlK,KAAKmK,YAAYC,KAAKpK,OAEpC,EACAmK,YAAYE,GACVrK,KAAK0H,gBAAkB2C,CACzB,EACAC,wBAAwBxI,GACtB,MAAMN,EAAOM,EAAMkC,UACnB,GAAIxC,EAAM,CACRxB,KAAKuK,qBAAqB/I,EAAKkD,kBACjC,CACF,EACA6F,qBAAqBzH,GACnB9C,KAAK0E,kBAAoB5B,CAC3B,EACA0H,gCACExK,KAAKuK,qBAAqBvK,KAAKuH,YAAYzE,QAC3C,MAAM8C,EAAe5F,KAAK2F,MAAMC,aAChC,GAAIA,EAAc,CAChBA,EAAaV,gBACf,CACF,EACAlB,UACE,MAAO,CACLzC,YAAavB,KAAKuB,YAClByF,SAAUhH,KAAK0H,gBACfhD,kBAAmB1E,KAAK0E,kBAE5B,EACA+F,gBAAgB3I,GACd9B,KAAK4I,eAAe9G,EAAMI,OAAO4H,OACjC9J,KAAK8G,oBAAoBhF,EAAMI,OAAO4H,MACxC,GAEFtE,UACExF,KAAKqE,QAAQC,aAAaoG,UAAUlG,EAAOC,8BAA+BzE,KAAKsK,wBACjF,EACAK,gBACE3K,KAAKqE,QAAQC,aAAasG,YAAYpG,EAAOC,8BAA+BzE,KAAKsK,wBACnF,EACA5H,SAAU,+hDA6CZ,IAAImI,EAAwB,SAASA,IACnCC,aAAaC,eAAe/K,KAAM6K,EACpC,EACAC,aAAaE,eAAeH,EAAuB,UAAW,WAC9DC,aAAaE,eAAeH,EAAuB,UAAW,WAE9D,SAASI,EAA4BC,EAAKC,GAAcC,EAA2BF,EAAKC,GAAaA,EAAWE,IAAIH,EAAM,CAC1H,SAASI,EAA2BJ,EAAKK,EAAYzB,GAASsB,EAA2BF,EAAKK,GAAaA,EAAWC,IAAIN,EAAKpB,EAAQ,CACvI,SAASsB,EAA2BF,EAAKO,GAAqB,GAAIA,EAAkBC,IAAIR,GAAM,CAAE,MAAM,IAAIS,UAAU,iEAAmE,CAAE,CACzL,SAASC,EAAuBC,EAAUV,EAAYW,GAAM,IAAKX,EAAWO,IAAIG,GAAW,CAAE,MAAM,IAAIF,UAAU,iDAAmD,CAAE,OAAOG,CAAI,CACjL,MAAMC,EAAiB,CACrBC,IAAK,MACLC,OAAQ,UAMV,IAAIC,EAA0B,IAAIC,QAClC,IAAIC,EAA0B,IAAID,QAClC,IAAIE,EAAgC,IAAIF,QACxC,IAAIG,EAA+B,IAAIH,QACvC,IAAII,EAAqB,IAAIJ,QAC7B,IAAIK,EAA4B,IAAIL,QACpC,IAAIM,EAAwB,IAAIN,QAChC,IAAIO,EAA4B,IAAIP,QACpC,IAAIQ,EAAmC,IAAIR,QAC3C,IAAIS,EAAyB,IAAIT,QACjC,IAAIU,EAAiC,IAAIV,QACzC,IAAIW,EAA4B,IAAIX,QACpC,IAAIY,EAA2B,IAAIZ,QACnC,IAAIa,EAA6B,IAAIb,QACrC,IAAIc,EAA6B,IAAId,QACrC,IAAIe,EAA8B,IAAIf,QACtC,IAAIgB,EAAyB,IAAIhB,QACjC,IAAIiB,EAAmC,IAAIjB,QAC3C,IAAIkB,EAA0B,IAAIlB,QAClC,IAAImB,EAAqC,IAAIC,QAC7C,IAAIC,EAAkC,IAAID,QAC1C,IAAIE,EAAsC,IAAIF,QAC9C,IAAIG,EAAmC,IAAIH,QAC3C,IAAII,EAAsC,IAAIJ,QAC9C,IAAIK,EAAkC,IAAIL,QAC1C,IAAIM,EAAkC,IAAIN,QAC1C,IAAIO,EAA0C,IAAIP,QAClD,IAAIQ,EAA0D,IAAIR,QAClE,IAAIS,EAAiD,IAAIT,QACzD,IAAIU,EAAmC,IAAIV,QAC3C,IAAIW,EAAyC,IAAIX,QACjD,IAAIY,GAAqC,IAAIZ,QAC7C,IAAIa,GAAsC,IAAIb,QAC9C,IAAIc,GAA6B,IAAId,QACrC,IAAIe,GAAoC,IAAIf,QAC5C,IAAIgB,GAAoC,IAAIhB,QAC5C,IAAIiB,GAAmC,IAAIjB,QAC3C,IAAIkB,GAA6B,IAAIlB,QACrC,IAAImB,GAAwC,IAAInB,QAChD,IAAIoB,GAA4B,WAO9B,SAASC,EAAcC,GACrB/D,aAAaC,eAAe/K,KAAM4O,GAClC3D,EAA4BjL,KAAM0O,IAClCzD,EAA4BjL,KAAMyO,IAClCxD,EAA4BjL,KAAMwO,IAClCvD,EAA4BjL,KAAMuO,IAClCtD,EAA4BjL,KAAMsO,IAClCrD,EAA4BjL,KAAMqO,IAClCpD,EAA4BjL,KAAMoO,IAClCnD,EAA4BjL,KAAMmO,IAClClD,EAA4BjL,KAAMkO,GAClCjD,EAA4BjL,KAAMiO,GAClChD,EAA4BjL,KAAMgO,GAClC/C,EAA4BjL,KAAM+N,GAClC9C,EAA4BjL,KAAM8N,GAClC7C,EAA4BjL,KAAM6N,GAClC5C,EAA4BjL,KAAM4N,GAClC3C,EAA4BjL,KAAM2N,GAClC1C,EAA4BjL,KAAM0N,GAClCzC,EAA4BjL,KAAMyN,GAClCxC,EAA4BjL,KAAMwN,GAClCvC,EAA4BjL,KAAMsN,GAClChC,EAA2BtL,KAAMkM,EAAY,CAC3C4C,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMoM,EAAY,CAC3C0C,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMqM,EAAkB,CACjDyC,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMsM,EAAiB,CAChDwC,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMuM,EAAO,CACtCuC,SAAU,KACVhF,MAAOiC,EAAeC,MAExBV,EAA2BtL,KAAMwM,EAAc,CAC7CsC,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMyM,EAAU,CACzCqC,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAM0M,EAAc,CAC7CoC,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAM2M,EAAqB,CACpDmC,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAM4M,EAAW,CAC1CkC,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAM6M,EAAmB,CAClDiC,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAM8M,EAAc,CAC7CgC,SAAU,KACVhF,MAAO,KAETwB,EAA2BtL,KAAM+M,EAAa,CAC5C+B,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMgN,EAAe,CAC9C8B,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMiN,EAAe,CAC9C6B,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMkN,EAAgB,CAC/C4B,SAAU,KACVhF,MAAO,OAETwB,EAA2BtL,KAAMmN,EAAW,CAC1C2B,SAAU,KACVhF,MAAO,CAAC,IAEVwB,EAA2BtL,KAAMoN,EAAqB,CACpD0B,SAAU,KACVhF,MAAO,QAETwB,EAA2BtL,KAAMqN,EAAY,CAC3CyB,SAAU,KACVhF,MAAO,QAET,IAAKxJ,EAAUyO,KAAKC,UAAUH,EAAOI,WAAY,CAC/C,MAAM,IAAIC,MAAM,0CAClB,CACApE,aAAaqE,qBAAqBnP,KAAMkM,EAAY2C,EAAOI,WAC3DnE,aAAaqE,qBAAqBnP,KAAM8M,EAAclB,EAAuB5L,KAAMwO,GAAqBY,IAAsB3M,KAAKzC,KAAM6O,EAAOQ,aAAeR,EAAOQ,YAAcT,EAAcU,YAAYC,SAC9MjP,EAAU+H,IAAImH,SAAS1E,aAAa2E,qBAAqBzP,KAAMkM,GAAaN,EAAuB5L,KAAMyO,GAAeiB,IAAgBjN,KAAKzC,OAC7I,IAAKM,EAAUyO,KAAKY,SAASd,EAAOe,aAAc,CAChD,MAAM,IAAIV,MAAM,0BAClB,CACApE,aAAaqE,qBAAqBnP,KAAMwM,EAAcqC,EAAOe,aAC7D,IAAKtP,EAAUyO,KAAKY,SAASd,EAAOgB,SAAU,CAC5C,MAAM,IAAIX,MAAM,sBAClB,CACApE,aAAaqE,qBAAqBnP,KAAMyM,EAAUoC,EAAOgB,SACzD,IAAKvP,EAAUyO,KAAKe,SAASjB,EAAOtH,aAAc,CAChD,MAAM,IAAI2H,MAAM,2BAClB,CACApE,aAAaqE,qBAAqBnP,KAAM0M,EAAcmC,EAAOtH,aAC7DuD,aAAaqE,qBAAqBnP,KAAM2M,EAAqBrM,EAAUyO,KAAKgB,SAASlB,EAAO3H,oBAAsB2H,EAAO3H,mBAAqB0E,EAAuB5L,KAAMoO,GAAwB4B,IAAyBvN,KAAKzC,OACjO8K,aAAaqE,qBAAqBnP,KAAM4M,EAAWtM,EAAUyO,KAAKkB,OAAOpB,EAAO7H,UAAY6H,EAAO7H,SAAW,MAC9G,IAAK8D,aAAa2E,qBAAqBzP,KAAM4M,GAAY,CACvD5M,KAAKkQ,mBAAmB,MAC1B,CACApF,aAAaqE,qBAAqBnP,KAAMgN,EAAe,IAAIzM,EAAiB4P,cAC5ErF,aAAa2E,qBAAqBzP,KAAMgN,GAAeoD,kBAAkB,2BACzE,GAAI9P,EAAUyO,KAAKe,SAASjB,EAAOtI,QAAS,CAC1C,IAAK,MAAM8J,KAAaxB,EAAOtI,OAAQ,CACrC,GAAIjG,EAAUyO,KAAKuB,WAAWzB,EAAOtI,OAAO8J,IAAa,CACvDvF,aAAa2E,qBAAqBzP,KAAMgN,GAAetC,UAAU2F,EAAWxB,EAAOtI,OAAO8J,GAC5F,CACF,CACF,CACAvF,aAAaqE,qBAAqBnP,KAAMoN,EAAqB9M,EAAUyO,KAAKwB,UAAU1B,EAAO2B,oBAAsB3B,EAAO2B,mBAAqB,OAC/I1F,aAAaqE,qBAAqBnP,KAAMqN,EAAY/M,EAAUyO,KAAKwB,UAAU1B,EAAOxH,WAAawH,EAAOxH,UAAY,MACtH,CACAyD,aAAa2F,YAAY7B,EAAe,CAAC,CACvC8B,IAAK,UACL5G,MAAO,SAAS6G,EAAQC,GACtB,IAAKpJ,OAAOqJ,OAAO9E,GAAgB+E,MAAKhH,GAASA,IAAU8G,IAAO,CAChE,MAAM,IAAI1B,MAAM,2BAA2B0B,IAC7C,CACA9F,aAAaqE,qBAAqBnP,KAAMuM,EAAOqE,GAC/C,OAAO5Q,IACT,GACC,CACD0Q,IAAK,OACL5G,MAAO,SAASzH,IACdyI,aAAaqE,qBAAqBnP,KAAMoM,EAAYhM,EAAQ2Q,UAAUC,UAAUrK,EAAY,CAC1FK,SAAU8D,aAAa2E,qBAAqBzP,KAAM4M,GAClD1F,mBAAoB4D,aAAa2E,qBAAqBzP,KAAM2M,GAC5D9F,QAAS+E,EAAuB5L,KAAMqO,GAAe4C,IAAgB7G,KAAKpK,MAC1E8G,oBAAqB8E,EAAuB5L,KAAMsO,GAAsB4C,IAAuB9G,KAAKpK,MACpG+G,oBAAqB6E,EAAuB5L,KAAMuO,GAAsB4C,IAAuB/G,KAAKpK,MACpGmH,kBAAmByE,EAAuB5L,KAAMsN,EAAuB8D,IAAwB3O,KAAKzC,MACpGqH,UAAWyD,aAAa2E,qBAAqBzP,KAAMqN,GACnD9F,YAAauD,aAAa2E,qBAAqBzP,KAAM0M,MAEvD5B,aAAaqE,qBAAqBnP,KAAMqM,EAAkBvB,aAAa2E,qBAAqBzP,KAAMoM,GAAYiF,MAAMvG,aAAa2E,qBAAqBzP,KAAMkM,IAC9J,GACC,CACDwE,IAAK,mBACL5G,MAAO,SAASwH,EAAiBC,GAC/BvR,KAAKwR,YAAYD,GACjB,GAAIA,IAAa,MAAQA,SAAkB,GAAKA,EAAS9H,SAAU,CACjEzJ,KAAKyR,yBAAyBF,EAAS,YAAYG,KACrD,CACF,GACC,CACDhB,IAAK,cACL5G,MAAO,SAAS0H,EAAYD,EAAW,CAAC,GACtCzG,aAAaqE,qBAAqBnP,KAAMmN,EAAWoE,EACrD,GACC,CACDb,IAAK,OACL5G,MAAO,SAAS6H,IACd,GAAI7G,aAAa2E,qBAAqBzP,KAAMsM,GAAkB,CAC5D,OAAOxB,aAAa2E,qBAAqBzP,KAAMsM,EACjD,CAGAxB,aAAaqE,qBAAqBnP,KAAMsM,EAAiB,IAAIsF,SAAQ,CAACC,EAASC,KAC7ElG,EAAuB5L,KAAM4N,EAAoBmE,IAAqBtP,KAAKzC,MAAMgS,MAAKxQ,IACpFlB,EAAU2R,KAAKC,UAAUtG,EAAuB5L,KAAM6N,EAAoBsE,IAAqB1P,KAAKzC,MAAO,CACzGwB,SACCwQ,KAAKH,GAASO,MAAMN,EAAO,GAC9B,IACDM,OAAMC,IACP5R,EAAgB6R,GAAGC,aAAaC,OAAOC,OAAO,CAC5CzQ,QAASqQ,EAASK,OAAO,GAAGC,QAC5BC,cAAe,MAIjB,MAAMP,CAAQ,IACbQ,SAAQ,KACT/H,aAAaqE,qBAAqBnP,KAAMsM,EAAiB,KAAK,KAEhE,OAAOxB,aAAa2E,qBAAqBzP,KAAMsM,EACjD,GACC,CACDoE,IAAK,cACL5G,MAAO,SAASgJ,IACd,IAAIC,EAAuBC,EAC3B,OAAQD,GAAyBC,EAAyBlI,aAAa2E,qBAAqBzP,KAAMqM,MAAuB,MAAQ2G,SAAgC,OAAS,EAAIA,EAAuBhP,UAAU,eAAiB,MAAQ+O,SAA+B,EAAIA,EAAwB,IACrS,GACC,CACDrC,IAAK,iBACL5G,MAAO,SAASmJ,IACd,IAAIC,EAAwBC,EAC5B,OAAQD,GAA0BC,EAAyBrI,aAAa2E,qBAAqBzP,KAAMqM,MAAuB,MAAQ8G,SAAgC,OAAS,EAAIA,EAAuBnP,UAAU,kBAAoB,MAAQkP,SAAgC,EAAIA,EAAyB,EAC3S,GACC,CACDxC,IAAK,sBACL5G,MAAO,SAASsJ,EAAoBC,GAClCvI,aAAaqE,qBAAqBnP,KAAM6M,EAAmBwG,GAC3D,OAAOrT,IACT,GACC,CACD0Q,IAAK,gBACL5G,MAAO,SAASwJ,EAAcD,GAC5BvI,aAAaqE,qBAAqBnP,KAAM+M,EAAasG,GACrD,OAAOrT,IACT,GACC,CACD0Q,IAAK,cACL5G,MAAO,SAASK,EAAYoJ,GAC1B,MAAMzJ,EAAQpJ,EAAUqJ,eAAeyJ,MAAMD,GAC7C,GAAIjT,EAAUyO,KAAKkB,OAAOnG,GAAQ,CAChCgB,aAAa2E,qBAAqBzP,KAAMqM,GAAkBlC,YAAYL,GACtEgB,aAAaqE,qBAAqBnP,KAAM4M,EAAW9C,EACrD,CACA,OAAO9J,IACT,GACC,CACD0Q,IAAK,2BACL5G,MAAO,SAAS2H,EAAyBgC,GACvC,MAAM3J,EAAQ,IAAI7C,KAAKwM,EAAY,KACnC3I,aAAa2E,qBAAqBzP,KAAMqM,GAAkBlC,YAAYL,GACtEgB,aAAaqE,qBAAqBnP,KAAM4M,EAAW9C,GACnD,OAAO9J,IACT,GACC,CACD0Q,IAAK,qBACL5G,MAAO,SAASoG,EAAmBwD,EAAqB,MACtD,IAAIC,EAAc1T,GAAG2T,UAAUtT,EAAUuT,IAAIC,WAAW,8CACxD,GAAIxT,EAAUyO,KAAKkB,OAAO0D,GAAc,CACtC7I,aAAaqE,qBAAqBnP,KAAM4M,EAAW+G,EACrD,KAAO,CACL7I,aAAaqE,qBAAqBnP,KAAM4M,EAAW,IAAI3F,MACvD6D,aAAa2E,qBAAqBzP,KAAM4M,GAAWmH,WAAW,GAC9DjJ,aAAa2E,qBAAqBzP,KAAM4M,GAAWoH,QAAQlJ,aAAa2E,qBAAqBzP,KAAM4M,GAAWqH,UAAY,GAAK,GAAK,IACtI,CAEA,GAAIP,EAAoB,CACtB5I,aAAa2E,qBAAqBzP,KAAMqM,GAAkBlC,YAAYW,aAAa2E,qBAAqBzP,KAAM4M,GAChH,CACA,OAAO5M,IACT,GACC,CACD0Q,IAAK,aACL5G,MAAO,SAASoK,IACdpJ,aAAa2E,qBAAqBzP,KAAMqM,GAAkB/C,oBAC5D,GACC,CACDoH,IAAK,iBACL5G,MAAO,SAASlB,EAAerH,GAC7BuJ,aAAa2E,qBAAqBzP,KAAMqM,GAAkBzD,eAAerH,GACzE,OAAOvB,IACT,GACC,CACD0Q,IAAK,aACL5G,MAAO,SAASqK,IACdrJ,aAAa2E,qBAAqBzP,KAAMqM,GAAkB1D,mBAC1DmC,aAAaqE,qBAAqBnP,KAAM6M,EAAmB,MAC3D7M,KAAKkQ,qBACLpF,aAAa2E,qBAAqBzP,KAAMqM,GAAkB7B,gCAC1DlK,EAAU+H,IAAI+L,YAAYtJ,aAAa2E,qBAAqBzP,KAAMkM,GAAa,aAC/E,GAAIpB,aAAa2E,qBAAqBzP,KAAMiN,GAAgB,CAC1D3M,EAAU+H,IAAI+L,YAAYtJ,aAAa2E,qBAAqBzP,KAAMiN,GAAeoH,eAAgB,iBACnG,CACAvJ,aAAaqE,qBAAqBnP,KAAMiN,EAAe,MACvDnC,aAAaqE,qBAAqBnP,KAAMkN,EAAgB,MACxD,OAAO,IAAI0E,SAAQC,IACjBzP,WAAWyP,EAAS,GAAG,GAE3B,GACC,CACDnB,IAAK,kBACL5G,MAAO,SAASwK,IACdxJ,aAAa2E,qBAAqBzP,KAAMqM,GAAkBzD,eAAegD,EAAuB5L,KAAMoO,GAAwB4B,IAAyBvN,KAAKzC,OAC5JA,KAAKkQ,qBACLpF,aAAa2E,qBAAqBzP,KAAMqM,GAAkB7B,gCAC1DlK,EAAU+H,IAAI+L,YAAYtJ,aAAa2E,qBAAqBzP,KAAMkM,GAAa,aAC/E,GAAIpB,aAAa2E,qBAAqBzP,KAAMiN,GAAgB,CAC1D3M,EAAU+H,IAAI+L,YAAYtJ,aAAa2E,qBAAqBzP,KAAMiN,GAAeoH,eAAgB,iBACnG,CACAvJ,aAAaqE,qBAAqBnP,KAAMiN,EAAe,MACvDnC,aAAaqE,qBAAqBnP,KAAMkN,EAAgB,MACxD,OAAO,IAAI0E,SAAQC,IACjBzP,WAAWyP,EAAS,GAAG,GAE3B,GACC,CACDnB,IAAK,uBACL5G,MAAO,SAASyK,EAAqBC,GACnCxU,KAAKyU,iBAAiBD,EACxB,GACC,CACD9D,IAAK,mBACL5G,MAAO,SAAS2K,EAAiBC,EAAQ,IACvC,IAAK5J,aAAa2E,qBAAqBzP,KAAMiN,GAAgB,CAC3DnC,aAAaqE,qBAAqBnP,KAAMiN,EAAe,IAAIrM,EAA0B+T,aAAa,CAChGC,cAAe9J,aAAa2E,qBAAqBzP,KAAMkM,GACvD3F,OAAQ,CACN,gBAAiBzE,IACfgJ,aAAa2E,qBAAqBzP,KAAMgN,GAAezI,KAAK,gCAAgC,EAE9FsQ,cAAiB/S,IACfgJ,aAAa2E,qBAAqBzP,KAAMgN,GAAezI,KAAK,gCAAgC,GAOhGsL,QAAS/E,aAAa2E,qBAAqBzP,KAAMyM,GACjDmD,YAAa9E,aAAa2E,qBAAqBzP,KAAMwM,GACrD6G,WAAYvI,aAAa2E,qBAAqBzP,KAAM+M,GACpD2H,UAEJ,CACA,MAAMI,EAAwBhK,aAAa2E,qBAAqBzP,KAAMiN,GAAeoH,eACrF,MAAMU,EAAiB,iBACvB,GAAIL,IAAUpU,EAAU+H,IAAI2M,SAASF,EAAuBC,GAAiB,CAC3EzU,EAAU+H,IAAImH,SAASsF,EAAuBC,EAChD,KAAO,CACLzU,EAAU+H,IAAI4M,YAAYH,EAAuBC,EACnD,CACAjK,aAAa2E,qBAAqBzP,KAAMgN,GAAezI,KAAK,gCAC9D,KAEF,OAAOqK,CACT,CA3VgC,GA4VhC,SAASwC,KACP,MAAM8D,EAAU,GAChB,GAAIpK,aAAa2E,qBAAqBzP,KAAMoN,GAAsB,CAChE8H,EAAQC,KAAKvJ,EAAuB5L,KAAMwN,EAAoB4H,IAAqB3S,KAAKzC,MAC1F,CACAkV,EAAQC,KAAKvJ,EAAuB5L,KAAM2N,EAAwB0H,IAAyB5S,KAAKzC,OAChG,OAAOkV,CACT,CACA,SAASE,KACP,MAAO,CACL/P,GAAI,WACJrE,KAAM,WACNO,YAAajB,EAAUuT,IAAIC,WAAW,0CACtCzS,OAAQuK,EAAuB5L,KAAMyN,EAAwB6H,IAAyBlL,KAAKpK,MAE/F,CACA,SAASsV,KACP,IAAKxK,aAAa2E,qBAAqBzP,KAAMkN,GAAiB,CAC5DpC,aAAaqE,qBAAqBnP,KAAMkN,EAAgB,IAAIrM,EAA2B0U,cAAc,CACnGjE,iBAAkBtR,KAAKsR,iBAAiBlH,KAAKpK,MAC7CwV,SAAU5J,EAAuB5L,KAAMiO,EAAqBwH,IAAsBhT,KAAKzC,MACvFuR,SAAUzG,aAAa2E,qBAAqBzP,KAAMmN,KAEtD,CACA,GAAIrC,aAAa2E,qBAAqBzP,KAAMqM,GAAmB,CAC7DvB,aAAa2E,qBAAqBzP,KAAMkN,GAAgBwI,aAAa5K,aAAa2E,qBAAqBzP,KAAMqM,GAAkBrI,UACjI,CACA8G,aAAa2E,qBAAqBzP,KAAMkN,GAAgB7K,MAC1D,CACA,SAASgT,KACP,MAAO,CACLhQ,GAAI,gBACJrE,KAAM,SACNO,YAAajB,EAAUuT,IAAIC,WAAW,6CACtCzS,OAAQuK,EAAuB5L,KAAM0O,GAA0BiH,IAA2BvL,KAAKpK,MAEnG,CACA,SAAS+R,KACP,OAAO,IAAIH,SAAQC,IACjBjG,EAAuB5L,KAAM8N,EAA4B8H,IAA6BnT,KAAKzC,MAAMgS,MAAKT,IACpG,MAAMsE,EAAW/K,aAAa2E,qBAAqBzP,KAAMqM,GAAkBrI,UAC3E,MAAMxC,EAAO,CACXoO,YAAa9E,aAAa2E,qBAAqBzP,KAAMwM,GACrDqD,QAAS/E,aAAa2E,qBAAqBzP,KAAMyM,GACjDlL,YAAasU,EAAStU,YACtBuU,cAAeD,EAASnR,kBACxBsC,SAAUtG,EAAUqJ,eAAeC,OAAOrJ,EAAmBqH,kBAAkBiC,wBAAyB4L,EAAS7O,UACjH+O,iBAAkBjL,aAAa2E,qBAAqBzP,KAAM6M,GAC1DmJ,WAAYlL,aAAa2E,qBAAqBzP,KAAMiN,GAAiBnC,aAAa2E,qBAAqBzP,KAAMiN,GAAegJ,mBAAqB,GACjJ1E,YAEF,GAAIzG,aAAa2E,qBAAqBzP,KAAMuM,KAAWR,EAAeE,OAAQ,CAC5EzK,EAAK6D,GAAKyF,aAAa2E,qBAAqBzP,KAAM+M,EACpD,CACA8E,EAAQrQ,EAAK,GACb,GAEN,CACA,SAAS2Q,KACP,OAAOrH,aAAa2E,qBAAqBzP,KAAMuM,KAAWR,EAAeC,IAAM,wBAA0B,0BAC3G,CACA,SAAS4J,KACP,GAAI9K,aAAa2E,qBAAqBzP,KAAMkN,GAAiB,CAC3D,OAAOtB,EAAuB5L,KAAM+N,EAA4CmI,IAA6CzT,KAAKzC,KACpI,CACA,OAAO4L,EAAuB5L,KAAMgO,EAAmCmI,IAAoC1T,KAAKzC,KAClH,CACA,SAASkW,KACP,GAAIpL,aAAa2E,qBAAqBzP,KAAMqM,GAAmB,CAC7DvB,aAAa2E,qBAAqBzP,KAAMkN,GAAgBwI,aAAa5K,aAAa2E,qBAAqBzP,KAAMqM,GAAkBrI,UACjI,CAGA,OAAO,IAAI4N,SAAQC,IACjBzP,YAAW,KACTyP,EAAQ/G,aAAa2E,qBAAqBzP,KAAMkN,GAAgBkJ,cAAc,GAC7E,EAAE,GAET,CACA,SAASD,KACP,MAAME,EAAS,GACfzK,EAAuB5L,KAAMiO,EAAqBwH,IAAsBhT,KAAKzC,MAAMsW,SAAQC,IACzF,IAAKA,EAAQC,OAAQ,CACnB,MACF,CACA,MAAMC,EAAkBF,EAAQ1H,OAChC4H,EAAgBpR,GAAKkR,EAAQlR,GAC7BgR,EAAOlB,KAAKsB,EAAgB,IAE9B,OAAO7E,QAAQC,QAAQwE,EACzB,CACA,SAASZ,KACP,MAAMiB,EAAO,CACXrR,GAAIxE,EAA2B8V,KAAK/U,QAAQ+C,QAC5CiS,UAAW/V,EAA2B8V,KACtCH,OAAQ,KACRK,mBAAoB,OAEtB,MAAMpN,EAAW,CACfpE,GAAIxE,EAA2BiW,SAASlV,QAAQ+C,QAChDiS,UAAW/V,EAA2BiW,UAExC,GAAIhM,aAAa2E,qBAAqBzP,KAAMkN,GAAiB,CAC3D,MAAMqE,EAAWzG,aAAa2E,qBAAqBzP,KAAMkN,GAAgBkJ,cACzE,GAAI7E,EAASmF,KAAM,CACjB,MAAMK,EAAexF,EAASmF,KAC9BA,EAAK7H,OAAS,CACZhK,cAAekS,EAAalS,eAE9B6R,EAAKF,OAAS,KACdE,EAAKG,mBAAqB,KAC5B,CACA,GAAItF,EAAS9H,SAAU,CACrB,MAAMuN,EAAmBzF,EAAS9H,SAClCA,EAASoF,OAAS,CAChB6C,KAAMsF,EAAiBtF,KACvBuF,GAAID,EAAiBC,GACrBC,SAAUF,EAAiBE,UAE7BzN,EAAS+M,OAAS,IACpB,CACF,CACA,IAAKE,EAAK7H,OAAQ,CAChB6H,EAAK7H,OAASjD,EAAuB5L,KAAMmO,GAAuBgJ,IAAwB1U,KAAKzC,KACjG,CACA,IAAKyJ,EAASoF,OAAQ,CACpBpF,EAASoF,OAASjD,EAAuB5L,KAAMkO,EAA2BkJ,IAA4B3U,KAAKzC,MAC3GyJ,EAAS+M,OAAS,KACpB,CACA,MAAO,CAACE,EAAMjN,EAChB,CACA,SAAS2N,KACP,MAAMC,EAAWrX,KAAK8S,eAAiBhI,aAAa2E,qBAAqBzP,KAAM4M,GAC/E,MAAM8E,EAAO2F,EAASpD,UAAY,IAClC,MAAMiD,EAAW,KACjB,MAAMD,EAAKvF,EAAOwF,EAClB,MAAO,CACLxF,OACAwF,WACAD,KAEJ,CACA,SAASE,KAEP,MAAO,CACLtS,cAAe,CAAC,2BAA4B,iBAEhD,CACA,SAASmL,KACP,IAAIsH,EAAgB,8CACpB,OAAQxM,aAAa2E,qBAAqBzP,KAAMwM,IAC9C,KAAKvM,GAAGsX,cAAcC,YAAYC,KAChCH,EAAgB,mDAEpB,OAAOhX,EAAUuT,IAAIC,WAAWwD,EAClC,CACA,SAASrG,KACP3Q,EAAU+H,IAAImH,SAAS1E,aAAa2E,qBAAqBzP,KAAMkM,GAAa,aAC5EpB,aAAa2E,qBAAqBzP,KAAMgN,GAAezI,KAAK,UAC9D,CACA,SAAS2M,GAAsB3P,GAC7B,MAAMO,EAAQ,IAAIvB,EAAiBmX,UAAU,CAC3ClW,KAAM,CACJD,iBAGJuJ,aAAa2E,qBAAqBzP,KAAMgN,GAAezI,KAAK,sBAAuBzC,EACrF,CACA,SAASqP,KACPrG,aAAa2E,qBAAqBzP,KAAMgN,GAAezI,KAAK,sBAC9D,CACA,SAAS6K,GAAqBC,GAC5B,OAAO/O,EAAUyO,KAAKgB,SAASV,IAAgBV,GAAaW,YAAYD,EAAYsI,cACtF,CACA,SAASjI,KACP,MAAO,sCAAsC5E,aAAa2E,qBAAqBzP,KAAM8M,IACvF,CACA,SAAS6I,KACP3V,KAAKyU,kBACP,CACA3J,aAAaE,eAAe2D,GAAc,cAAe9D,GACzD,MAAM+M,GAAYtX,EAAUuX,WAAWD,UAAU,mBACjDA,GAAUjR,WAAagI,GAEvBxO,EAAQ4L,eAAiBA,EACzB5L,EAAQwG,WAAagI,EAEtB,EAt9BA,CAs9BG3O,KAAKC,GAAGC,IAAI4X,SAAW9X,KAAKC,GAAGC,IAAI4X,UAAY,CAAC,EAAG7X,GAAG8X,KAAK9X,GAAG+X,KAAK/X,GAAGA,GAAGgY,MAAMhY,GAAGqS,GAAG4F,eAAejY,GAAGA,GAAG+X,KAAK/X,GAAGC,IAAIiY,SAASlY,GAAGC,IAAI4X,SAAS7X,GAAGC,IAAI4X"}