{"version":3,"file":"settings-popup.bundle.map.js","names":["this","BX","Crm","exports","main_popup","ui_buttons","ui_notification","main_date","calendar_planner","crm_datetime","crm_activity_settingsPopup","main_core","crm_timeline_tools","ui_vue3","Section","props","id","type","String","required","toggleTitle","default","toggleEnabled","Boolean","toggleVisible","watch","enabled","$emit","isActive","data","template","RecallButton","active","title","methods","onClick","Recall","today","days","tomorrow","after2days","after3days","DurationPeriods","minute","seconds","hour","day","Calendar","components","params","Object","timestamp","from","Factory","getUserNow","getTime","Math","round","duration","durationPeriodId","getPeriodIdBySeconds","to","getId","timeFromClockInstance","timeToClockInstance","plannerInstance","computed","fromDateFormatted","get","Date","format","DateTime","Dictionary","Format","SHORT_DATE_FORMAT","set","value","date","parse","currentDate","createDateInstance","setHours","getHours","getMinutes","fromTimeFormatted","getFormattedTime","newTime","getDateInstanceWithTime","closeWnd","toDateFormatted","toTime","createFromTimestampInUserTimezone","calcDuration","toTimeFormatted","SHORT_TIME_FORMAT","activeRecallId","isDatesAreEqual","date1","date2","fromDate","addDay","setDate","getDate","mounted","Planner","wrap","$refs","plannerContainer","compactMode","minWidth","minHeight","height","width","subscribe","handlePlannerSelectorChanges","bind","show","getAccessibilityForUsers","onDataUpdate","unmounted","emitSettingsChange","time","timeArr","split","hours","Number","minutes","isAmPm","includes","parseInt","durationSeconds","dateFrom","dateTo","updatePlanner","getDurationSeconds","updateSelector","exportParams","validateParams","$Bitrix","eventEmitter","emit","Events","EVENT_SETTINGS_CHANGE","EVENT_SETTINGS_VALIDATION","isValid","getFormattedDate","getFormattedValue","getSecondsFromStartOfDay","startOfDay","getDurationPeriodTitle","periodId","code","toUpperCase","Loc","getMessage","onDateFromClick","calendar","node","field","bTime","onDateFromChange","event","target","onDateToChange","onDateToClick","onTimeFromClick","showClockSelector","timeFrom","onTimeToClick","timeTo","instanceName","startTimestamp","propertyName","CClockSelector","start_time","callback","Show","onDurationKeyUp","replace","onRecallClick","todayDate","now","isActiveRecall","name","fromText","DateTimeFormat","DatetimeConverter","getSiteDateTimeFormat","toText","durationRegion","classList","add","remove","offset","ajax","runAction","then","update","entries","accessibility","updateSettings","deadline","Wrapper","WrapperSection","SettingsPopupCalendar","onSettingsChangeCallback","Function","onSettingsValidationCallback","sections","Array","settings","Map","activeSettingsIds","result","forEach","section","getSectionTitle","defaultCode","getSectionToggle","showToggleSelector","Type","isBoolean","prepareSettings","sectionName","find","onSettingsChange","delete","onSettingsValidation","fromEntries","onToggleSettingsSection","hasOwnProperty","beforeUnmount","unsubscribe","_","t","_t","SAVE_BUTTON_ID","CANCEL_BUTTON_ID","_onSettingsChange","babelHelpers","classPrivateFieldLooseKey","_onSave","_settingsSections","_fetchSettingsPath","_ownerTypeId","_ownerId","_id","_currentSettings","_onSettingsValidation","_getPopupContent","_getPopupTitle","_getPopupButtons","_cancel","_initLayoutComponent","_adjustPopup","_closePopup","SettingsPopup","constructor","options","defineProperty","_closePopup2","_adjustPopup2","_initLayoutComponent2","_cancel2","_getPopupButtons2","_getPopupTitle2","_getPopupContent2","_onSettingsValidation2","container","layoutApp","layoutComponent","popup","writable","classPrivateFieldLooseBase","fetchSettingsPath","ownerTypeId","ownerId","onSave","isDestroyed","htmlStyles","getComputedStyle","document","documentElement","popupPadding","getPropertyValue","popupPaddingNumberValue","parseFloat","popupOverlayColor","content","Tag","render","Popup","closeIcon","closeByEsc","padding","overlay","opacity","backgroundColor","buttons","className","subscribeOnce","loadSettings","adjustPosition","UI","Notification","Center","notify","autoHideDelay","Promise","resolve","reject","item","settingsSection","catch","save","getSettings","_this$layoutComponent","syncSettings","setDisabled","getContentContainer","getElementsByClassName","SaveButton","state","ButtonState","ACTIVE","events","click","CancelButton","text","color","ButtonColor","LIGHT_BORDER","unmount","BitrixVue","createApp","mount","_this$popup","close","Activity","Main","Timeline","Vue3"],"sources":["settings-popup.bundle.js"],"mappings":"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"}