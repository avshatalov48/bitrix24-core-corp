{"version":3,"file":"adding-popup.bundle.map.js","names":["this","BX","Crm","exports","main_core","main_popup","ui_buttons","crm_activity_todoEditor","main_core_events","ui_notification","_","t","_t","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","_classPrivateFieldInitSpec","privateMap","value","set","privateCollection","has","TypeError","_classPrivateMethodGet","receiver","fn","_entityId","WeakMap","_entityTypeId","_popup","_popupContainer","_todoEditor","_eventEmitter","_prepareAndShowPopup","WeakSet","_fetchNearActivity","_createPopupIfNotExists","_saveAndClose","_actualizePopupLayout","_onChangeEditorDescription","_onEditorSaveHotkeyPressed","_onChangeUploaderContainerSize","AddingPopup","entityTypeId","entityId","params","babelHelpers","classCallCheck","writable","classPrivateFieldSet","Text","toInteger","EventEmitter","classPrivateFieldGet","setEventNamespace","Type","isPlainObject","isObject","events","eventName","isFunction","subscribe","createClass","key","show","bindElement","mode","TodoEditorMode","ADD","popup","_createPopupIfNotExists2","call","setBindElement","isShown","hasChildNodes","TodoEditor","container","ownerTypeId","ownerId","onChangeDescription","_onChangeEditorDescription2","bind","onSaveHotkeyPressed","_onEditorSaveHotkeyPressed2","onChangeUploaderContainerSize","_onChangeUploaderContainerSize2","popupMode","setButtons","SaveButton","id","color","ButtonColor","PRIMARY","size","ButtonSize","EXTRA_SMALL","round","click","_saveAndClose2","CancelButton","close","subscribeOnce","_actualizePopupLayout2","getDescription","setFocused","resetToDefaults","then","emit","activity","UPDATE","setMode","setActivityId","setDescription","description","setDeadline","deadline","isArrayFilled","storageElementIds","setStorageElementIds","_prepareAndShowPopup2","bindPopup","_fetchNearActivity2","data","console","error","Promise","resolve","reject","ajax","runAction","catch","response","UI","Notification","Center","notify","content","errors","message","autoHideDelay","isDestroyed","Tag","render","Popup","overlay","opacity","cacheable","isScrollBlock","className","closeByEsc","closeIcon","angle","offset","padding","minWidth","maxWidth","minHeight","maxHeight","saveButton","getButton","getState","setWaiting","save","finally","adjustPosition","forceBindPosition","length","setState","ButtonState","DISABLED","event","getData","Activity","Main","Event"],"sources":["adding-popup.bundle.js"],"mappings":"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"}