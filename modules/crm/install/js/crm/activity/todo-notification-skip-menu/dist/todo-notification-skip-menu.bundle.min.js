this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,s,a,i){"use strict";var l=babelHelpers.classPrivateFieldLooseKey("selectedMenuItemId");var t=babelHelpers.classPrivateFieldLooseKey("entityTypeId");var o=babelHelpers.classPrivateFieldLooseKey("skipProvider");var r=babelHelpers.classPrivateFieldLooseKey("onSkippedPeriodChange");var b=babelHelpers.classPrivateFieldLooseKey("getMenuItemText");var c=babelHelpers.classPrivateFieldLooseKey("getSkipPeriodsMenuItems");var d=babelHelpers.classPrivateFieldLooseKey("isLoading");var n=babelHelpers.classPrivateFieldLooseKey("onSkipMenuItemSelect");class p{constructor(e){Object.defineProperty(this,n,{value:T});Object.defineProperty(this,d,{value:P});Object.defineProperty(this,c,{value:h});Object.defineProperty(this,b,{value:I});Object.defineProperty(this,r,{value:v});Object.defineProperty(this,l,{writable:true,value:null});Object.defineProperty(this,t,{writable:true,value:null});Object.defineProperty(this,o,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,t)[t]=e.entityTypeId;if(e.selectedValue){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=e.selectedValue}babelHelpers.classPrivateFieldLooseBase(this,o)[o]=new i.TodoNotificationSkip({entityTypeId:babelHelpers.classPrivateFieldLooseBase(this,t)[t],onSkippedPeriodChange:babelHelpers.classPrivateFieldLooseBase(this,r)[r].bind(this)})}setSelectedValue(e){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=e}getItems(){const e=[];e.push({id:"askForCreateTodo",text:babelHelpers.classPrivateFieldLooseBase(this,b)[b](),className:"menu-popup-item-none",items:babelHelpers.classPrivateFieldLooseBase(this,c)[c]()});return e}}function v(e){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=e}function I(){let e="CRM_ACTIVITY_TODO_NOTIFICATION_SKIP_MENU_ITEM";switch(babelHelpers.classPrivateFieldLooseBase(this,t)[t]){case BX.CrmEntityType.enumeration.lead:e="CRM_ACTIVITY_TODO_NOTIFICATION_SKIP_MENU_ITEM_LEAD";break;case BX.CrmEntityType.enumeration.deal:e="CRM_ACTIVITY_TODO_NOTIFICATION_SKIP_MENU_ITEM_DEAL";break}return a.Loc.getMessage(e)}function h(){const e="menu-popup-item-accept";const s="menu-popup-item-none";const i=[];i.push({id:"activate",text:a.Loc.getMessage("CRM_ACTIVITY_TODO_NOTIFICATION_ACTIVATE"),className:babelHelpers.classPrivateFieldLooseBase(this,l)[l]?s:e,disabled:babelHelpers.classPrivateFieldLooseBase(this,d)[d](),onclick:babelHelpers.classPrivateFieldLooseBase(this,n)[n].bind(this,"")});i.push({id:"day",text:a.Loc.getMessage("CRM_ACTIVITY_TODO_NOTIFICATION_SKIP_PERIOD_DAY"),className:babelHelpers.classPrivateFieldLooseBase(this,l)[l]==="day"?e:s,disabled:babelHelpers.classPrivateFieldLooseBase(this,d)[d](),onclick:babelHelpers.classPrivateFieldLooseBase(this,n)[n].bind(this,"day")});i.push({id:"week",text:a.Loc.getMessage("CRM_ACTIVITY_TODO_NOTIFICATION_SKIP_PERIOD_WEEK"),className:babelHelpers.classPrivateFieldLooseBase(this,l)[l]==="week"?e:s,disabled:babelHelpers.classPrivateFieldLooseBase(this,d)[d](),onclick:babelHelpers.classPrivateFieldLooseBase(this,n)[n].bind(this,"week")});i.push({id:"month",text:a.Loc.getMessage("CRM_ACTIVITY_TODO_NOTIFICATION_SKIP_PERIOD_MONTH"),className:babelHelpers.classPrivateFieldLooseBase(this,l)[l]==="month"?e:s,disabled:babelHelpers.classPrivateFieldLooseBase(this,d)[d](),onclick:babelHelpers.classPrivateFieldLooseBase(this,n)[n].bind(this,"month")});i.push({id:"forever",text:a.Loc.getMessage("CRM_ACTIVITY_TODO_NOTIFICATION_SKIP_PERIOD_FOREVER"),className:babelHelpers.classPrivateFieldLooseBase(this,l)[l]==="forever"?e:s,disabled:babelHelpers.classPrivateFieldLooseBase(this,d)[d](),onclick:babelHelpers.classPrivateFieldLooseBase(this,n)[n].bind(this,"forever")});return i}function P(){return babelHelpers.classPrivateFieldLooseBase(this,l)[l]==="loading"}function T(e,s,a){var i,t;(i=a.getMenuWindow())==null?void 0:(t=i.getRootMenuWindow())==null?void 0:t.close();babelHelpers.classPrivateFieldLooseBase(this,l)[l]="loading";babelHelpers.classPrivateFieldLooseBase(this,o)[o].saveSkippedPeriod(e).then((()=>{babelHelpers.classPrivateFieldLooseBase(this,l)[l]=e}))}e.TodoNotificationSkipMenu=p})(this.BX.Crm.Activity=this.BX.Crm.Activity||{},BX.Main,BX,BX.Crm.Activity);
//# sourceMappingURL=todo-notification-skip-menu.bundle.map.js