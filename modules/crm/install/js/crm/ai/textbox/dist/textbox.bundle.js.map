{"version":3,"file":"textbox.bundle.js","sources":["../src/attention.js","../src/textbox.js"],"sourcesContent":["import { Tag, Type, Dom } from 'main.core';\nimport { Icon, Set } from 'ui.icon-set.api.core';\n\ndeclare type AttentionPreset = {\n\tclassName: string,\n\ticonOptions: {\n\t\ticon: string,\n\t\tcolor ?: string,\n\t\tsize ?: number,\n\t},\n};\n\nexport const AttentionPresets = {\n\tDEFAULT: {\n\t\tclassName: '--crm-textbox-attention-default',\n\t\ticonOptions: {\n\t\t\ticon: Set.INFO_1,\n\t\t\tcolor: '#BDC1C6',\n\t\t\tsize: 16,\n\t\t},\n\t},\n\tCOPILOT: {\n\t\tclassName: '--crm-textbox-attention-copilot',\n\t\ticonOptions: {\n\t\t\ticon: Set.EARTH,\n\t\t\tcolor: '#B6AAC8',\n\t\t\tsize: 16,\n\t\t},\n\t},\n};\n\ndeclare type AttentionOptions = {\n\tcontent: HTMLElement | string,\n\tpreset ?: AttentionPreset,\n};\n\nexport class Attention\n{\n\tcontent: HTMLElement | string;\n\tpreset: AttentionPreset;\n\n\tconstructor(options: AttentionOptions)\n\t{\n\t\tthis.setContent(options.content);\n\t\tthis.setPreset(options.preset ?? AttentionPresets.DEFAULT);\n\t}\n\n\tsetContent(content: HTMLElement | string): void\n\t{\n\t\tif (Type.isElementNode(content))\n\t\t{\n\t\t\tthis.content = content;\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.content = Tag.render`<span>${content}</span>`;\n\t}\n\n\tsetPreset(preset: AttentionPreset): void\n\t{\n\t\tthis.preset = preset;\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tthis.getContainer().innerHTML = '';\n\n\t\tDom.append(this.#getIconNode(), this.getContainer());\n\t\tDom.append(this.#getContentNode(), this.getContainer());\n\n\t\treturn this.getContainer();\n\t}\n\n\tgetContainer(): HTMLElement\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`<div class=\"crm-textbox-attention ${this.preset.className}\"></div>`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\t#getIconNode(): HTMLElement\n\t{\n\t\tconst iconNode = Tag.render`<span class=\"crm-textbox-attention__icon\"></span>`;\n\t\tconst icon = new Icon(this.preset.iconOptions);\n\n\t\tDom.append(icon.render(), iconNode);\n\n\t\treturn iconNode;\n\t}\n\n\t#getContentNode(): HTMLElement\n\t{\n\t\tconst contentNode = Tag.render`<span class=\"crm-textbox-attention__content\"></span>`;\n\t\tDom.append(this.content, contentNode);\n\n\t\treturn contentNode;\n\t}\n}\n","import { Dom, Loc, Tag, Type, Text, Event } from 'main.core';\nimport 'ui.design-tokens';\nimport 'ui.fonts.opensans';\nimport './style.css';\nimport { Attention, AttentionPresets } from './attention';\n\nexport type TextboxOptions = {\n\ttext: string,\n\ttitle: string,\n\tenableSearch: boolean,\n\tpreviousTextContent: HTMLElement,\n\tattentions: Array<Attention>,\n};\n\nexport {\n\tAttention,\n\tAttentionPresets,\n};\n\nexport class Textbox\n{\n\ttextContainerID = 'crm-copilot-text-container';\n\n\tsearchIcon = 'ui-ctl-icon-search';\n\tclearIcon = 'ui-ctl-icon-clear';\n\n\tsearchInputPlaceholder = Loc.getMessage('CRM_COPILOT_TEXTBOX_SEARCH_PLACEHOLDER');\n\n\tconstructor(options: TextboxOptions = {}): void\n\t{\n\t\tthis.setText(options.text);\n\t\tthis.title = (Type.isString(options.title)) ? options.title : '';\n\t\tthis.enableSearch = Type.isBoolean(options.enableSearch) ? options.enableSearch : true;\n\t\tthis.previousTextContent = Type.isElementNode(options.previousTextContent) ? options.previousTextContent : null;\n\t\tthis.attentions = options.attentions ?? [];\n\t}\n\n\tsetText(text)\n\t{\n\t\tthis.text = (Type.isString(text)) ? this.prepareText(text) : '';\n\t}\n\n\tprepareText(text): String\n\t{\n\t\treturn text.replaceAll(/\\r?\\n/g, '<br>');\n\t}\n\n\trender(): void\n\t{\n\t\tthis.rootContainer = Tag.render`<div class=\"crm-copilot-textbox\"></div>`;\n\n\t\tDom.append(this.getHeaderContainer(), this.rootContainer);\n\t\tDom.append(this.getPreviousTextContainer(), this.rootContainer);\n\t\tDom.append(this.getContentContainer(), this.rootContainer);\n\t\tDom.append(this.getAttentionsContainer(), this.rootContainer);\n\t}\n\n\tget(): HTMLElement\n\t{\n\t\treturn this.rootContainer;\n\t}\n\n\tgetContentContainer(): HTMLElement\n\t{\n\t\tconst contentContainer = Tag.render`<div class=\"crm-copilot-textbox__content\"></div>`;\n\t\tconst textContainer = this.getTextContainer();\n\n\t\tEvent.bind(textContainer, 'beforeinput', (e) => {\n\t\t\te.preventDefault();\n\t\t});\n\n\t\tDom.append(textContainer, contentContainer);\n\n\t\treturn contentContainer;\n\t}\n\n\tgetTextContainer(): HTMLElement\n\t{\n\t\tif (this.textContainer)\n\t\t{\n\t\t\treturn this.textContainer;\n\t\t}\n\n\t\tthis.textContainer = Tag.render`\n\t\t\t<div \n\t\t\t\tid=\"${this.textContainerID}\" \n\t\t\t\tclass=\"crm-copilot-textbox__text-container\" \n\t\t\t\tcontenteditable=\"true\" \n\t\t\t\tspellcheck=\"false\"\n\t\t\t>\n\t\t\t\t${this.text}\n\t\t\t</div>\n\t\t`;\n\n\t\treturn this.textContainer;\n\t}\n\n\tgetHeaderContainer(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"crm-copilot-textbox__header\">\n\t\t\t\t<div class=\"crm-copilot-textbox__title\">${Text.encode(this.title)}</div>\n\t\t\t\t${this.getSearchContainer()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetSearchContainer(): HTMLElement\n\t{\n\t\tif (!this.enableSearch)\n\t\t{\n\t\t\treturn Tag.render``;\n\t\t}\n\n\t\tconst searchNode = Tag.render`<div class=\"ui-ctl ui-ctl-after-icon ui-ctl-no-border crm-copilot-textbox__search\"></div>`;\n\t\tconst searchBtn = Tag.render`<a class=\"ui-ctl-after ${this.searchIcon} crm-copilot-textbox__search-btn\"></a>`;\n\t\tconst searchInput = Tag.render`\n\t\t\t<input \n\t\t\t\ttype=\"text\" \n\t\t\t\tplaceholder=\"${Text.encode(this.searchInputPlaceholder)}\" \n\t\t\t\tclass=\"ui-ctl-element ui-ctl-textbox crm-copilot-textbox__search-input\"\n\t\t\t>\n\t\t`;\n\n\t\tsearchInput.oninput = () => {\n\t\t\tthis.resetTextContainer();\n\n\t\t\tconst value = searchInput.value;\n\t\t\tif (!value)\n\t\t\t{\n\t\t\t\tthis.switchStyle(searchBtn, this.clearIcon, this.searchIcon);\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.switchStyle(searchBtn, this.searchIcon, this.clearIcon);\n\n\t\t\t// Highlights pieces of text that are not part of a tag\n\t\t\tconst regexp = new RegExp(`((?<!<[^>]*?)(${value})(?![^<]*?>))`, 'gi');\n\t\t\tconst textContainer = this.getTextContainer();\n\n\t\t\ttextContainer.innerHTML = textContainer.innerHTML.replace(regexp, '<span class=\"search-item\">$&</span>');\n\t\t};\n\n\t\tlet searchInputFocused = false;\n\t\tsearchInput.onblur = (event) => {\n\t\t\tif (searchInput.value.length === 0)\n\t\t\t{\n\t\t\t\tDom.removeClass(searchNode, 'with-input-node');\n\t\t\t\tDom.remove(searchInput);\n\t\t\t\tsearchInputFocused = false;\n\t\t\t}\n\t\t};\n\n\t\tsearchBtn.onclick = () => {\n\t\t\tif (searchNode.contains(searchInput))\n\t\t\t{\n\t\t\t\tif (searchInput.value.length > 0)\n\t\t\t\t{\n\t\t\t\t\tsearchInput.value = '';\n\t\t\t\t\tthis.switchStyle(searchBtn, this.clearIcon, this.searchIcon);\n\t\t\t\t\tthis.resetTextContainer();\n\t\t\t\t}\n\n\t\t\t\tsearchInputFocused = true;\n\t\t\t\tsearchInput.focus();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tDom.append(searchInput, searchNode);\n\t\t\tDom.addClass(searchNode, ['with-input-node']);\n\n\t\t\tsearchInputFocused = true;\n\t\t\tsearchInput.focus();\n\t\t};\n\n\t\tsearchBtn.onmousedown = (event) => {\n\t\t\tif (searchInputFocused)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t};\n\n\t\tDom.append(searchBtn, searchNode);\n\n\t\treturn searchNode;\n\t}\n\n\tgetAttentionsContainer(): HTMLElement\n\t{\n\t\tif (!Type.isArrayFilled(this.attentions))\n\t\t{\n\t\t\treturn Tag.render``;\n\t\t}\n\n\t\tconst attentionsContainer = Tag.render`<div class=\"crm-copilot-textbox__attentions\"></div>`;\n\t\tthis.attentions.forEach((attention) => {\n\t\t\tDom.append(attention.render(), attentionsContainer);\n\t\t});\n\n\t\treturn attentionsContainer;\n\t}\n\n\tgetPreviousTextContainer(): HTMLElement\n\t{\n\t\treturn Tag.render`<div class=\"crm-copilot-textbox__previous-text\">${this.previousTextContent}</div>`;\n\t}\n\n\tresetTextContainer(): void\n\t{\n\t\tthis.getTextContainer().innerHTML = this.text;\n\t}\n\n\tswitchStyle(node, fromStyle, toStyle): void\n\t{\n\t\tif (Dom.hasClass(node, fromStyle) && !Dom.hasClass(node, toStyle))\n\t\t{\n\t\t\tDom.addClass(node, toStyle);\n\t\t\tDom.removeClass(node, fromStyle);\n\t\t}\n\t}\n}\n"],"names":["AttentionPresets","DEFAULT","className","iconOptions","icon","Set","INFO_1","color","size","COPILOT","EARTH","Attention","options","setContent","content","setPreset","preset","Type","isElementNode","Tag","render","getContainer","innerHTML","Dom","append","container","iconNode","Icon","contentNode","Textbox","Loc","getMessage","setText","text","title","isString","enableSearch","isBoolean","previousTextContent","attentions","prepareText","replaceAll","rootContainer","getHeaderContainer","getPreviousTextContainer","getContentContainer","getAttentionsContainer","contentContainer","textContainer","getTextContainer","Event","bind","e","preventDefault","textContainerID","Text","encode","getSearchContainer","searchNode","searchBtn","searchIcon","searchInput","searchInputPlaceholder","oninput","resetTextContainer","value","switchStyle","clearIcon","regexp","RegExp","replace","searchInputFocused","onblur","event","length","removeClass","remove","onclick","contains","focus","addClass","onmousedown","isArrayFilled","attentionsContainer","forEach","attention","node","fromStyle","toStyle","hasClass"],"mappings":"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"}