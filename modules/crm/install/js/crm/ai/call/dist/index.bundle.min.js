this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,t,r,l,i){"use strict";var n=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"open",value:function e(l){var i=this;this.wrapperSlider=new r.Slider({url:this.sliderId,title:this.sliderTitle,extensions:["crm.ai.textbox"]});var n=new Promise((function(e,r){i.getText(l).then((function(t){var r=i.getTextInResponse(t);e(i.getTextboxContent(r))}))["catch"]((function(e){i.wrapperSlider.destroy();t.UI.Notification.Center.notify({content:e.errors[0].message,autoHideDelay:5e3})}))}));this.wrapperSlider.setContent(n);this.wrapperSlider.open()}},{key:"getText",value:function e(t){var r=this.gettingTextActionName;var l={data:{activityId:t.activityId,ownerTypeId:t.ownerTypeId,ownerId:t.ownerId}};return BX.ajax.runAction(r,l)}},{key:"getTextboxContent",value:function e(t){var r=new l.Textbox({title:this.textboxTitle,text:t});return r.get()}},{key:"getTextInResponse",value:function e(t){return null}}]);return e}();babelHelpers.defineProperty(n,"sliderId",null);babelHelpers.defineProperty(n,"sliderTitle",null);babelHelpers.defineProperty(n,"gettingTextActionName",null);babelHelpers.defineProperty(n,"textboxTitle",null);babelHelpers.defineProperty(n,"wrapperSlider",null);var s=function(e){babelHelpers.inherits(t,e);function t(){babelHelpers.classCallCheck(this,t);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}babelHelpers.createClass(t,null,[{key:"getTextInResponse",value:function e(t){return t.data.summary}}]);return t}(n);babelHelpers.defineProperty(s,"textboxTitle",i.Loc.getMessage("CRM_COPILOT_CALL_SUMMARY_TITLE"));babelHelpers.defineProperty(s,"sliderId","crm-copilot-summary-slider");babelHelpers.defineProperty(s,"sliderTitle",i.Loc.getMessage("CRM_COPILOT_CALL_SUMMARY_SLIDER_TITLE"));babelHelpers.defineProperty(s,"gettingTextActionName","crm.timeline.activity.getCopilotSummary");var a=function(e){babelHelpers.inherits(t,e);function t(){babelHelpers.classCallCheck(this,t);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}babelHelpers.createClass(t,null,[{key:"getTextInResponse",value:function e(t){return t.data.transcription}}]);return t}(n);babelHelpers.defineProperty(a,"textboxTitle",i.Loc.getMessage("CRM_COPILOT_CALL_TRANSCRIPT_TITLE"));babelHelpers.defineProperty(a,"sliderId","crm-copilot-transcript-slider");babelHelpers.defineProperty(a,"sliderTitle",i.Loc.getMessage("CRM_COPILOT_CALL_TRANSCRIPT_SLIDER_TITLE"));babelHelpers.defineProperty(a,"gettingTextActionName","crm.timeline.activity.getCopilotTranscript");var o={Summary:s,Transcription:a};e.Call=o})(this.BX.Crm.AI=this.BX.Crm.AI||{},BX,BX.Crm.AI,BX.Crm.AI,BX);
//# sourceMappingURL=index.bundle.map.js