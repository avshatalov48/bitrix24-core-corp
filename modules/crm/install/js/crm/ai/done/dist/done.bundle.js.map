{"version":3,"file":"done.bundle.js","sources":["../src/done.js"],"sourcesContent":["import { Type, Loc } from 'main.core';\nimport './done.css';\n\nexport class Done\n{\n\t#showSlider(Slider: function) {\n\t\tconst topSlider = BX?.SidePanel?.Instance?.getTopSlider();\n\t\tconst width = topSlider?.getWidth();\n\t\tconst sliderWidth = width\n\t\t\t? Math.floor(width * 0.86)\n\t\t\t: Math.floor(window.screen.width * 0.86);\n\n\t\tconst opts = {\n\t\t\tcontent: this.#renderContent,\n\t\t\turl: 'crm:copilot-wrapper-slider-done',\n\t\t\twidth: sliderWidth,\n\t\t};\n\n\t\tconst slider = new Slider(opts);\n\t\tslider.open();\n\t}\n\n\t#renderContent(): string {\n\t\tconst message = Loc.getMessage('CRM_COPILOT_WRAPPER_ALL_IS_DONE');\n\n\t\treturn `\n\t\t\t<div class=\"crm-copilot-wrapper-slider-done\">\n\t\t\t\t<div class=\"crm-copilot-wrapper-slider-done__message\">\n\t\t\t\t\t<div class=\"crm-copilot-wrapper-slider-done__message-icon\"></div>\n\t\t\t\t\t<div class=\"crm-copilot-wrapper-slider-done__message-text\">${message}</div>\n\t\t\t\t</div> \n\t\t\t</div>\n\t\t`;\n\t}\n\n\tstart() {\n\t\tif (BX.Crm && Type.isFunction(BX.Crm.AI.Slider))\n\t\t{\n\t\t\tthis.#showSlider(BX.Crm.AI.Slider);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttop.BX.Runtime.loadExtension('crm.ai.slider')\n\t\t\t\t.then((exports) => {\n\t\t\t\t\tconst { Slider } = exports;\n\t\t\t\t\tthis.#showSlider(Slider);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tthrow new Error('Cant load Crm.AI.Slider extension');\n\t\t\t\t});\n\t\t}\n\t}\n}\n"],"names":["Done","babelHelpers","_classPrivateMethodInitSpec","key","value","BX","Crm","Type","isFunction","AI","Slider","_classPrivateMethodGet","this","top","Runtime","loadExtension","then","exports","_this","err","Error","topSlider","_BX","SidePanel","_BX$SidePanel","Instance","_BX$SidePanel$Instanc","getTopSlider","width","getWidth","sliderWidth","Math","floor","window","screen","content","url","open","message","Loc","getMessage"],"mappings":"yUACoB,gCAEPA,aAAI,aAAAC,oCAAAC,UAAAA,UAgDf,OAhDeD,6BAAAE,YAAAC,iBAgCR,WACHC,GAAGC,KAAOC,OAAKC,WAAWH,GAAGC,IAAIG,GAAGC,QAEvCC,iBAAAC,KAAiBP,GAAGC,IAAIG,GAAGC,QAI3BG,IAAIR,GAAGS,QAAQC,cAAc,iBAC3BC,MAAK,SAACC,GACN,IAAQP,EAAWO,EAAXP,OACRC,cAAAO,EAAiBR,aAEX,SAACS,GACP,MAAM,IAAIC,MAAM,iDAIpB,WA/CYV,GAAkB,UACvBW,YAAYhB,2BAAAiB,EAAIC,kCAAJC,EAAeC,6BAAfC,EAAyBC,eACrCC,EAAQP,MAAAA,SAAAA,EAAWQ,WACnBC,EAAcF,EACjBG,KAAKC,MAAc,IAARJ,GACXG,KAAKC,MAA4B,IAAtBC,OAAOC,OAAON,OAQb,IAAIlB,EANN,CACZyB,UAASvB,UACTwB,IAAK,kCACLR,MAAOE,IAIDO,OACP,aAGA,IAAMC,EAAUC,MAAIC,WAAW,mCAE/B,yRAIgEF"}