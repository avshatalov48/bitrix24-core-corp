this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(e,t,i,n,l){"use strict";var s=function(){function e(i){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"DEFAULT_OPTIONS",{title:t.Loc.getMessage("CRM_COMMON_COPILOT"),allowChangeTitle:false,allowChangeHistory:false,cacheable:false,toolbar:this.getDefaultToolbarButtons,buttons:[],width:795,extensions:[],events:{},label:{}});babelHelpers.defineProperty(this,"isOpen",false);this.initOptions(i)}babelHelpers.createClass(e,[{key:"initOptions",value:function e(i){this.title=t.Type.isString(i.title)?i.title:this.DEFAULT_OPTIONS.title;this.sliderTitle=t.Type.isString(i.sliderTitle)?i.sliderTitle:this.DEFAULT_OPTIONS.title;this.toolbar=t.Type.isFunction(i.toolbar)?i.toolbar:this.DEFAULT_OPTIONS.toolbar;this.buttons=t.Type.isFunction(i.buttons)?i.buttons:this.DEFAULT_OPTIONS.buttons;this.cacheable=t.Type.isBoolean(i.cacheable)?i.cacheable:this.DEFAULT_OPTIONS.cacheable;this.width=t.Type.isInteger(i.width)?i.width:this.DEFAULT_OPTIONS.width;this.label=t.Type.isPlainObject(i.label)?i.label:this.DEFAULT_OPTIONS.label;this.extensions=t.Type.isArray(i.extensions)?i.extensions:this.DEFAULT_OPTIONS.extensions;this.events=t.Type.isPlainObject(i.events)?i.events:this.DEFAULT_OPTIONS.events;this.enableLightThemeIntoSlider=t.Type.isBoolean(i.enableLightThemeIntoSlider)?i.enableLightThemeIntoSlider:true;this.allowChangeTitle=t.Type.isBoolean(i.allowChangeTitle)?i.allowChangeTitle:this.DEFAULT_OPTIONS.allowChangeTitle;this.allowChangeHistory=t.Type.isBoolean(i.allowChangeHistory)?i.allowChangeHistory:this.DEFAULT_OPTIONS.allowChangeHistory;this.setContent(i.content);this.url=t.Type.isString(i.url)?i.url:this.getDefaultUrl()}},{key:"setContent",value:function e(i){if(!t.Type.isFunction(i)){this.content=function(){return i};return}this.content=i}},{key:"open",value:function e(){this.isOpen=i.SidePanel.Instance.open(this.url,this.getSliderOptions());return this.isOpen}},{key:"close",value:function e(){if(!this.isOpen){return}i.SidePanel.Instance.close()}},{key:"destroy",value:function e(){i.SidePanel.Instance.destroy(this.url)}},{key:"getDefaultUrl",value:function e(){return"crm.copilot-wrapper"}},{key:"getSliderOptions",value:function e(){var t=this;return{contentClassName:this.getSliderContentClassName(),title:this.title,allowChangeTitle:this.allowChangeTitle,width:this.width,cacheable:this.cacheable,allowChangeHistory:this.allowChangeHistory,label:this.label,contentCallback:function e(i){return n.Layout.createContent({title:t.sliderTitle,toolbar:t.toolbar,content:t.content,buttons:t.buttons,design:{section:false},extensions:["crm.ai.slider"].concat(babelHelpers.toConsumableArray(t.extensions))})},events:this.events}}},{key:"getSliderContentClassName",value:function e(){var t="crm-copilot-wrapper";if(this.enableLightThemeIntoSlider){t+=" bitrix24-light-theme"}return t}},{key:"getDefaultToolbarButtons",value:function t(){return e.makeDefaultToolbarButtons()}}],[{key:"makeDefaultToolbarButtons",value:function e(){var i="18799442";var n=new l.Button({text:t.Loc.getMessage("CRM_COPILOT_WRAPPER_HELP_BUTTON_TITLE"),size:l.Button.Size.MEDIUM,color:l.Button.Color.LIGHT_BORDER,dependOnTheme:true,onclick:function e(){if(top.BX.Helper){top.BX.Helper.show("redirect=detail&code=".concat(i))}}});return[n]}}]);return e}();e.Slider=s})(this.BX.Crm.AI=this.BX.Crm.AI||{},BX,BX,BX.UI.SidePanel,BX.UI);
//# sourceMappingURL=slider.bundle.map.js