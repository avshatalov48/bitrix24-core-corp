this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};this.BX.Crm.Livefeed=this.BX.Crm.Livefeed||{};(function(e,t){"use strict";var r=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"DisableAlert",null);babelHelpers.defineProperty(this,"isShowAlert",null);babelHelpers.defineProperty(this,"daysUntilDisable",null);babelHelpers.defineProperty(this,"showAlertUserOption",null);babelHelpers.defineProperty(this,"alertContainerSelector",null);babelHelpers.defineProperty(this,"alertContainersStack",[])}babelHelpers.createClass(e,[{key:"canShowAlerts",value:function e(){return this.isShowAlert===true&&this.DisableAlert&&t.Type.isString(this.alertContainerSelector)&&t.Type.isString(this.showAlertUserOption)&&t.Type.isInteger(this.daysUntilDisable)&&this.daysUntilDisable>0}},{key:"renderAlerts",value:function e(){var t=this;if(!this.canShowAlerts()){return}this.alertContainersStack.forEach((function(e){t.renderAlert(e)}));this.alertContainersStack=[]}},{key:"renderAlert",value:function e(r){var i=this;if(r.innerHTML!==""){return}var l=function e(){i.isShowAlert=false;BX.userOptions.save("crm",i.showAlertUserOption,"show","N");var t=document.querySelectorAll(".".concat(i.alertContainerSelector));t.forEach((function(e){e.remove()}))};t.Dom.style(r,{background:"white",padding:"10px","margin-bottom":"-10px","border-radius":"10px 10px 0 0"});new this.DisableAlert({alertContainer:r,daysUntilDisable:this.daysUntilDisable,closeBtnCallback:l}).render()}}]);return e}();var i=window.location.pathname.includes("/crm/");if(!i){var l=new r({});t.Event.EventEmitter.subscribe("crm:disableLFAlertContainerRendered",(function(e){var t=e.data.container;if(l.canShowAlerts()){l.renderAlert(t)}else{l.alertContainersStack.push(t)}}));t.Runtime.loadExtension("crm.livefeed.disable-alert").then((function(e){if(!e.DisableAlert){l.isShowAlert=false;return}l.DisableAlert=e.DisableAlert;t.ajax.runAction("crm.controller.integration.socialnetwork.livefeed.getDisablingInfo").then((function(e){l.isShowAlert=e.data.isShowAlert;l.daysUntilDisable=e.data.daysUntilDisable;l.alertContainerSelector=e.data.alertContainerSelector;l.showAlertUserOption=e.data.showAlertUserOption;l.renderAlerts()}))["catch"]((function(e){l.isShowAlert=false}))}))["catch"]((function(e){l.isShowAlert=false}))}})(this.BX.Crm.Livefeed["Disable-alert"]=this.BX.Crm.Livefeed["Disable-alert"]||{},BX);
//# sourceMappingURL=render-helper.bundle.map.js