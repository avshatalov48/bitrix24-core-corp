{"version":3,"file":"disable-alert.bundle.js","sources":["../src/disable-alert.js"],"sourcesContent":["import { Loc, Event, Type } from 'main.core';\nimport { Alert } from 'ui.alerts';\n\nexport class DisableAlert\n{\n\tconstructor(options = {}): void\n\t{\n\t\tif (!Type.isElementNode(options.alertContainer))\n\t\t{\n\t\t\tthrow new Error('Livefeed.DisableAlert: \\'alertContainer\\' must be a DOM element.');\n\t\t}\n\n\t\tif (!Type.isInteger(options.daysUntilDisable))\n\t\t{\n\t\t\tthrow new TypeError('Livefeed.DisableAlert: \\'daysUntilDisable\\' must be integer');\n\t\t}\n\n\t\tthis.alertContainer = options.alertContainer;\n\t\tthis.daysUntilDisable = options.daysUntilDisable;\n\t\tthis.closeBtnCallback = (Type.isFunction(options.closeBtnCallback)) ? options.closeBtnCallback : () => {};\n\n\t\tthis.alert = new Alert({\n\t\t\ttext: this.getText(),\n\t\t\tcolor: Alert.Color.WARNING,\n\t\t\ticon: Alert.Icon.INFO,\n\t\t\tcloseBtn: true,\n\t\t\tanimate: true,\n\t\t});\n\n\t\tEvent.bind(this.alert.getCloseBtn(), 'click', this.closeBtnCallback);\n\t}\n\n\trender(): void\n\t{\n\t\tthis.alert.renderTo(this.alertContainer);\n\t}\n\n\tgetText(): string\n\t{\n\t\tconst helpdeskCode = '18371940';\n\n\t\treturn Loc.getMessagePlural('CRM_LIVE_FEED_DISABLE_ALERT_TEXT', this.daysUntilDisable, {\n\t\t\t'#DAYS_UNTIL_DISABLE#': this.daysUntilDisable,\n\t\t\t'[helpdesklink]': `<a href=\"##\" onclick=\"top.BX.Helper.show('redirect=detail&code=${helpdeskCode}');\">`,\n\t\t\t'[/helpdesklink]': '</a>',\n\t\t});\n\t}\n}\n"],"names":["DisableAlert","options","Type","isElementNode","alertContainer","Error","isInteger","daysUntilDisable","TypeError","closeBtnCallback","isFunction","alert","Alert","text","getText","color","Color","WARNING","icon","Icon","INFO","closeBtn","animate","Event","bind","getCloseBtn","renderTo","helpdeskCode","Loc","getMessagePlural"],"mappings":";;;;;;KAGaA,YAAY;GAExB,wBACA;KAAA,IADYC,OAAO,uEAAG,EAAE;KAAA;KAEvB,IAAI,CAACC,cAAI,CAACC,aAAa,CAACF,OAAO,CAACG,cAAc,CAAC,EAC/C;OACC,MAAM,IAAIC,KAAK,CAAC,kEAAkE,CAAC;;KAGpF,IAAI,CAACH,cAAI,CAACI,SAAS,CAACL,OAAO,CAACM,gBAAgB,CAAC,EAC7C;OACC,MAAM,IAAIC,SAAS,CAAC,6DAA6D,CAAC;;KAGnF,IAAI,CAACJ,cAAc,GAAGH,OAAO,CAACG,cAAc;KAC5C,IAAI,CAACG,gBAAgB,GAAGN,OAAO,CAACM,gBAAgB;KAChD,IAAI,CAACE,gBAAgB,GAAIP,cAAI,CAACQ,UAAU,CAACT,OAAO,CAACQ,gBAAgB,CAAC,GAAIR,OAAO,CAACQ,gBAAgB,GAAG,YAAM,EAAE;KAEzG,IAAI,CAACE,KAAK,GAAG,IAAIC,eAAK,CAAC;OACtBC,IAAI,EAAE,IAAI,CAACC,OAAO,EAAE;OACpBC,KAAK,EAAEH,eAAK,CAACI,KAAK,CAACC,OAAO;OAC1BC,IAAI,EAAEN,eAAK,CAACO,IAAI,CAACC,IAAI;OACrBC,QAAQ,EAAE,IAAI;OACdC,OAAO,EAAE;MACT,CAAC;KAEFC,eAAK,CAACC,IAAI,CAAC,IAAI,CAACb,KAAK,CAACc,WAAW,EAAE,EAAE,OAAO,EAAE,IAAI,CAAChB,gBAAgB,CAAC;;GACpE;KAAA;KAAA,yBAGD;OACC,IAAI,CAACE,KAAK,CAACe,QAAQ,CAAC,IAAI,CAACtB,cAAc,CAAC;;;KACxC;KAAA,0BAGD;OACC,IAAMuB,YAAY,GAAG,UAAU;OAE/B,OAAOC,aAAG,CAACC,gBAAgB,CAAC,kCAAkC,EAAE,IAAI,CAACtB,gBAAgB,EAAE;SACtF,sBAAsB,EAAE,IAAI,CAACA,gBAAgB;SAC7C,gBAAgB,8EAAoEoB,YAAY,WAAO;SACvG,iBAAiB,EAAE;QACnB,CAAC;;;GACF;CAAA;;;;;;;;"}