{"version":3,"file":"terminal.bundle.js","sources":["../src/feedback/button.js","../src/feedback/slider.js"],"sourcesContent":["BX.namespace(\"BX.Crm\");\n\nimport {Loc, Tag} from 'main.core';\nimport 'ui.feedback.form';\n\nexport default class Button\n{\n\tstatic render(parentNode) {\n\t\tconst buttonTitle = main_core.Loc.getMessage('CRM_FEEDBACK_BUTTON_TITLE');\n\t\tconst button = Tag.render`\n\t\t\t<button class=\"ui-btn ui-btn-light-border ui-btn-themes\" title=\"${buttonTitle}\">\n\t\t\t\t<span class=\"ui-btn-text\">\n\t\t\t\t\t${buttonTitle}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t`;\n\n\t\tbutton.addEventListener('click', () => {\n\t\t\tBX.Crm.Terminal.Slider.openFeedbackForm();\n\t\t});\n\n\t\tif (!parentNode)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tparentNode.appendChild(button);\n\t\tparentNode.style.justifyContent = 'space-between';\n\n\t\treturn button;\n\t}\n}\n","BX.namespace(\"BX.Crm\");\n\nimport {Type, Uri} from \"main.core\";\n\nexport default class Slider\n{\n\tstatic openFeedbackForm()\n\t{\n\t\tconst url = new Uri('/bitrix/components/bitrix/crm.feedback/slider.php');\n\t\turl.setQueryParams({\n\t\t\tsender_page: 'terminal',\n\t\t});\n\n\t\treturn Slider.open(url.toString(), {width: 735});\n\t}\n\n\tstatic open(url, options)\n\t{\n\t\tif(!Type.isPlainObject(options))\n\t\t{\n\t\t\toptions = {};\n\t\t}\n\t\toptions = {...{cacheable: false, allowChangeHistory: false, events: {}}, ...options};\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(Type.isString(url) && url.length > 1)\n\t\t\t{\n\t\t\t\toptions.events.onClose = function(event)\n\t\t\t\t{\n\t\t\t\t\tresolve(event.getSlider());\n\t\t\t\t};\n\t\t\t\tBX.SidePanel.Instance.open(url, options);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n}"],"names":["BX","namespace","Button","render","parentNode","buttonTitle","main_core","Loc","getMessage","button","Tag","addEventListener","Crm","Terminal","Slider","openFeedbackForm","appendChild","style","justifyContent","url","Uri","setQueryParams","sender_page","open","toString","width","options","Type","isPlainObject","cacheable","allowChangeHistory","events","Promise","resolve","isString","length","onClose","event","getSlider","SidePanel","Instance"],"mappings":";;;;;;;;CAAAA,EAAE,CAACC,SAAS,CAAC,QAAQ,CAAC;AAEtB,CAGe,MAAMC,MAAM,CAC3B;GACC,OAAOC,MAAM,CAACC,UAAU,EAAE;KACzB,MAAMC,WAAW,GAAGC,SAAS,CAACC,GAAG,CAACC,UAAU,CAAC,2BAA2B,CAAC;KACzE,MAAMC,MAAM,GAAGC,eAAG,CAACP,MAAM,cAAC;qEACuC,CAAc;;OAE5E,CAAc;;;GAGjB,GALmEE,WAAW,EAEzEA,WAAW,CAGf;KAEDI,MAAM,CAACE,gBAAgB,CAAC,OAAO,EAAE,MAAM;OACtCX,EAAE,CAACY,GAAG,CAACC,QAAQ,CAACC,MAAM,CAACC,gBAAgB,EAAE;MACzC,CAAC;KAEF,IAAI,CAACX,UAAU,EACf;OACC;;KAGDA,UAAU,CAACY,WAAW,CAACP,MAAM,CAAC;KAC9BL,UAAU,CAACa,KAAK,CAACC,cAAc,GAAG,eAAe;KAEjD,OAAOT,MAAM;;CAEf;;CC/BAT,EAAE,CAACC,SAAS,CAAC,QAAQ,CAAC;AAEtB,CAEe,MAAMa,MAAM,CAC3B;GACC,OAAOC,gBAAgB,GACvB;KACC,MAAMI,GAAG,GAAG,IAAIC,eAAG,CAAC,mDAAmD,CAAC;KACxED,GAAG,CAACE,cAAc,CAAC;OAClBC,WAAW,EAAE;MACb,CAAC;KAEF,OAAOR,MAAM,CAACS,IAAI,CAACJ,GAAG,CAACK,QAAQ,EAAE,EAAE;OAACC,KAAK,EAAE;MAAI,CAAC;;GAGjD,OAAOF,IAAI,CAACJ,GAAG,EAAEO,OAAO,EACxB;KACC,IAAG,CAACC,gBAAI,CAACC,aAAa,CAACF,OAAO,CAAC,EAC/B;OACCA,OAAO,GAAG,EAAE;;KAEbA,OAAO,GAAG;OAAC,GAAG;SAACG,SAAS,EAAE,KAAK;SAAEC,kBAAkB,EAAE,KAAK;SAAEC,MAAM,EAAE;QAAG;OAAE,GAAGL;MAAQ;KACpF,OAAO,IAAIM,OAAO,CAAEC,OAAO,IAC3B;OACC,IAAGN,gBAAI,CAACO,QAAQ,CAACf,GAAG,CAAC,IAAIA,GAAG,CAACgB,MAAM,GAAG,CAAC,EACvC;SACCT,OAAO,CAACK,MAAM,CAACK,OAAO,GAAG,UAASC,KAAK,EACvC;WACCJ,OAAO,CAACI,KAAK,CAACC,SAAS,EAAE,CAAC;UAC1B;SACDtC,EAAE,CAACuC,SAAS,CAACC,QAAQ,CAACjB,IAAI,CAACJ,GAAG,EAAEO,OAAO,CAAC;QACxC,MAED;SACCO,OAAO,EAAE;;MAEV,CAAC;;CAEJ;;;;;;;;;"}