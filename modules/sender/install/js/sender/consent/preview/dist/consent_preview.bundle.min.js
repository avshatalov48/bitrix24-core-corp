this.BX=this.BX||{};(function(t,e,n){"use strict";var i;var s=function(){function t(){babelHelpers.classCallCheck(this,t);this.isActive=false;this.text="";this.approveBtn="";this.rejectBtn="";this.activeTab="desktop";this.activeClass="sender-message-editor--slider-desktop";return this}babelHelpers.createClass(t,[{key:"changeActiveTab",value:function t(e){this.activeTab=e;this.activeClass="sender-message-editor--slider-"+e;this.reDraw()}},{key:"setActive",value:function t(e){this.isActive=e;this.reDraw()}},{key:"setText",value:function t(e){this.text=e;this.reDraw()}},{key:"setApproveBtn",value:function t(e){this.approveBtn=e;this.reDraw()}},{key:"setRejectBtn",value:function t(e){this.rejectBtn=e;this.reDraw()}},{key:"getTemplate",value:function t(){var e=this.activeTab==="tablet"?"active":"";var s=this.activeTab==="mobile"?"active":"";var a=this.activeTab==="desktop"?"active":"";return n.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="sender-js-slider-contents">\n\t\t\t\t<div class="ui-slider-section sender-message-editor--slider-modifier ','">\n\t\t\t\t\t<div class="sender-ui-panel-top-devices">\n\t\t\t\t\t\t<div class="sender-ui-panel-top-devices-inner">\n\t\t\t\t\t\t<button \n\t\t\t\t\t\tclass="sender-ui-button sender-ui-button-desktop sender-js-slider-modifier ','" \n\t\t\t\t\t\tdata-id="desktop"></button>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\tclass="sender-ui-button sender-ui-button-tablet sender-js-slider-modifier  ','"\n\t\t\t\t\t\tdata-id="tablet"></button>\n\t\t\t\t\t\t<button class="sender-ui-button sender-ui-button-mobile sender-js-slider-modifier  ','"\n\t\t\t\t\t\tdata-id="mobile"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-slider-content-box">\n\t\t\t\t\t<div class="sender-message-mailing-icon"></div>\n\t\t\t\t\t','\n\t\t\t\t\t<div class="ui-btn-container ui-btn-container-center">\n\t\t\t\t\t\t<button class="ui-btn ui-btn-success">','</button>\n\t\t\t\t\t\t<button class="ui-btn ui-btn-light-border">',"</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t"])),this.activeClass,a,e,s,this.text,this.approveBtn,this.rejectBtn)}},{key:"bindEvent",value:function t(){var e=this;var i=window.top.document.querySelectorAll(".sender-js-slider-modifier");i.forEach((function(t){var i=t.dataset.id||"desktop";n.Event.bind(t,"click",e.changeActiveTab.bind(e,i))}))}},{key:"reDraw",value:function t(){var e=window.top.document.querySelector("div.sender-js-slider-contents");if(!e){return}var n=e.parentNode;n.removeChild(e);n.append(this.getTemplate());this.bindEvent()}}]);return t}();var a=function(){function t(){babelHelpers.classCallCheck(this,t)}babelHelpers.createClass(t,null,[{key:"open",value:function t(n){if(!n){return}var i=new s;BX.SidePanel.Instance.open("sender:consent-preview",{width:800,cacheable:false,contentCallback:function t(){return e.Layout.createContent({extensions:["ui.buttons","ui.buttons.icons","ui.notification","ui.sidepanel-content","ui.sidepanel.layout","sender.consent.preview"],content:function t(){BX.ajax.runAction("sender.consentPreview.loadData",{json:{id:n}}).then((function(t){i.setText(t.data.consentBody)||"";i.setApproveBtn(t.data.approveBtnText);i.setRejectBtn(t.data.rejectBtnText)}),(function(t){}));return i.getTemplate()},buttons:function t(e){var n=e.cancelButton;return[n]}})}})}}]);return t}();t.ConsentPreview=a})(this.BX.Sender=this.BX.Sender||{},BX.UI.SidePanel,BX);
//# sourceMappingURL=consent_preview.bundle.map.js