{"version":3,"file":"toloka.bundle.js","sources":["../src/autocomplete/components/element.js","../src/autocomplete/autocomplete.js","../src/toloka.js"],"sourcesContent":["const allowedAttributes = {\n\tvalue: \"data-value\",\n\tname: \"data-name\",\n\tdisabled: \"data-disabled\",\n\tclass: \"class\",\n\ttype: \"type\"\n};\n\nclass Element\n{\n\tconstructor(element, attributes = {}, i18n = {})\n\t{\n\t\tthis._node = element instanceof HTMLElement ? element : document.createElement(element);\n\t\tthis._config = { i18n };\n\n\t\tthis._setAttributes(attributes);\n\n\t\tif (attributes.textContent)\n\t\t{\n\t\t\tthis._setTextContent(attributes.textContent);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tget()\n\t{\n\t\treturn this._node;\n\t}\n\n\tappend(element)\n\t{\n\t\tthis._node.appendChild(element);\n\t\treturn this;\n\t}\n\n\taddClass(className)\n\t{\n\t\tthis._node.classList.add(className);\n\t\treturn this;\n\t}\n\n\tremoveClass(className)\n\t{\n\t\tthis._node.classList.remove(className);\n\t\treturn this;\n\t}\n\n\ttoggleClass(className)\n\t{\n\t\tthis._node.classList.toggle(className);\n\t\treturn this;\n\t}\n\n\taddEventListener(type, callback)\n\t{\n\t\tthis._node.addEventListener(type, callback);\n\t\treturn this;\n\t}\n\n\tremoveEventListener(type, callback)\n\t{\n\t\tthis._node.removeEventListener(type, callback);\n\t\treturn this;\n\t}\n\n\tsetText(text)\n\t{\n\t\tthis._setTextContent(text);\n\t\treturn this;\n\t}\n\n\tgetHeight()\n\t{\n\t\treturn window.getComputedStyle(this._node).height;\n\t}\n\n\n\tgetWidth()\n\t{\n\t\treturn window.getComputedStyle(this._node).width;\n\t}\n\n\tsetTop(top)\n\t{\n\t\tthis._node.style.top = `${top}px`;\n\t\treturn this;\n\t}\n\n\tfocus()\n\t{\n\t\tthis._node.focus();\n\t\treturn this;\n\t}\n\n\t_setTextContent(textContent)\n\t{\n\t\tthis._node.textContent = textContent;\n\t}\n\n\t_setAttributes(attributes)\n\t{\n\t\tfor (const key in attributes)\n\t\t{\n\t\t\tif (allowedAttributes[key] && attributes[key])\n\t\t\t{\n\t\t\t\tthis._setAttribute(allowedAttributes[key], attributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t_setAttribute(key, value)\n\t{\n\t\tthis._node.setAttribute(key, value);\n\t}\n\n\t_getAttribute(key)\n\t{\n\t\tthis._node.getAttribute(key);\n\t}\n}\n\nexport default Element;\n","import Element from \"./components/element\";\nimport \"./css/autocomplete.css\";\nimport { Popup } from 'main.popup';\n\nconst CLASSES = {\n\tselect: \"main-ui-control\",\n\tdropdownShown: \"autocomplete-select--opened\",\n\tmultiselect: \"main-ui-multi-select\",\n\tlabel: \"main-ui-square-container\",\n\tplaceholder: \"autocomplete-placeholder\",\n\tdropdown: \"popup-select-content\",\n\toption: \"main-ui-select-inner-item\",\n\tremove: \"main-ui-item-icon main-ui-square-delete\",\n\toptionDisabled: \"autocomplete-option--disabled\",\n\tautocompleteInput: \"main-ui-control main-ui-control-string\",\n\tselectedLabel: \"main-ui-square\",\n\tselectedOption: \"autocomplete-option--selected\",\n\tplaceholderHidden: \"autocomplete-placeholder--hidden\",\n\toptionHidden: \"autocomplete-option--hidden\"\n};\n\nclass Autocomplete\n{\n\tconstructor(element, config)\n\t{\n\t\tthis._config = {\n\t\t\t...config,\n\t\t\tclassNames: {\n\t\t\t\t...CLASSES,\n\t\t\t\t...config.classNames\n\t\t\t},\n\t\t\tdisabledOptions: []\n\t\t};\n\t\tthis._state = {\n\t\t\topened: false\n\t\t};\n\t\tthis._icons = [];\n\t\tthis._holderElement = element;\n\n\t\tthis._boundHandleClick = this._handleClick.bind(this);\n\t\tthis._boundUnselectOption = this._unselectOption.bind(this);\n\t\tthis._boundSortOptions = this._sortOptions.bind(this);\n\n\t\tthis._body = new Element(document.body);\n\n\t\tthis._create(element);\n\n\t\tif (!this._config.value)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis._setValue();\n\t}\n\n\tsetOptions(data)\n\t{\n\t\tdata.forEach(value => {\n\t\t\tlet exists = false;\n\t\t\tthis._config.options.forEach(option => {\n\t\t\t\tif (value.id === option.id)\n\t\t\t\t{\n\t\t\t\t\texists = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!exists)\n\t\t\t{\n\t\t\t\tthis._config.options.push(value);\n\t\t\t}\n\t\t});\n\t\tthis._options = this._generateOptions();\n\t}\n\n\tvalue()\n\t{\n\t\treturn this._config.value;\n\t}\n\n\treset()\n\t{\n\t\tthis._config.value = this._config.multiple ? [] : null;\n\t\tthis._setValue();\n\t}\n\n\t// Private methods\n\t_create(_element)\n\t{\n\t\tconst element = typeof _element === \"string\" ? document.querySelector(_element) : _element;\n\n\t\tthis._parent = new Element(element);\n\n\t\tconst selector = element.querySelectorAll(\n\t\t\t`div[data-name=${element.dataset.name}]`\n\t\t)[0];\n\t\tlet selectClone = selector.cloneNode(true);\n\t\telement.removeChild(selector);\n\n\t\tthis._select = new Element(selectClone);\n\t\tthis._label = new Element(\"span\", { class: this._config.classNames.label });\n\t\tthis._optionsWrapper = new Element(\"div\", { class: this._config.classNames.dropdown });\n\n\t\tif (this._config.multiple)\n\t\t{\n\t\t\tthis._select.addClass(this._config.classNames.multiselect);\n\t\t}\n\n\t\tthis._options = this._generateOptions();\n\n\t\tthis._select.addEventListener(\"click\", this._boundHandleClick);\n\t\tthis._select.append(this._label.get());\n\n\t\tlet deleteButton = this._parent.get().parentNode.querySelectorAll('div.main-ui-control-value-delete');\n\t\tif(deleteButton.length > 0)\n\t\t{\n\t\t\tBX.bind(deleteButton[0], \"click\", this.reset.bind(this));\n\t\t\tthis._select.append(deleteButton[0]);\n\t\t}\n\n\t\tthis._parent.append(this._select.get());\n\t\tthis._placeholder = new Element(\"div\",\n\t\t\t{\n\t\t\t\tclass: this._config.classNames.placeholder,\n\t\t\t\ttextContent: this._config.placeholder\n\t\t\t}\n\t\t);\n\t\tthis._select.append(this._placeholder.get());\n\n\t\tthis._popup = new Popup({\n\t\t\tid: \"autocomplete\" + Math.random(),\n\t\t\tbindElement: _element,\n\t\t\tzIndex: 3000,\n\t\t\twidth: 515,\n\t\t\tmaxHeight: 300\n\t\t});\n\n\t\tthis._popup.setContent(this._optionsWrapper.get());\n\t}\n\n\t_generateOptions()\n\t{\n\t\tif (this._config.autocomplete && !this._autocomplete)\n\t\t{\n\t\t\tthis._autocomplete = new Element(\"input\", {\n\t\t\t\tclass: this._config.classNames.autocompleteInput,\n\t\t\t\tname: `autocomplete-${this._parent.get().dataset.name}`,\n\t\t\t\ttype: \"text\"\n\t\t\t});\n\t\t\tthis._autocomplete.addEventListener(\"input\", this._boundSortOptions);\n\n\t\t\tthis._optionsWrapper.append(this._autocomplete.get());\n\t\t}\n\n\t\treturn this._config.options.map(_option => {\n\t\t\tlet preOption =\n\t\t\t\tdocument\n\t\t\t\t\t.querySelectorAll(\n\t\t\t\t\t\t`div.${this._config.classNames.option}[data-value=\"${_option.id}\"]`\n\t\t\t\t\t);\n\t\t\tif (preOption.length > 0)\n\t\t\t{\n\t\t\t\treturn new Element(preOption[0]);\n\t\t\t}\n\n\t\t\tconst option = new Element(\"div\", {\n\t\t\t\tclass: `${this._config.classNames.option}${_option.disabled ?\n\t\t\t\t\t\" \" + this._config.classNames.optionDisabled : \"\"}`,\n\t\t\t\tvalue: _option.id,\n\t\t\t\ttextContent: _option.name,\n\t\t\t\tdisabled: _option.disabled\n\t\t\t});\n\t\t\tif (_option.disabled)\n\t\t\t{\n\t\t\t\tthis._config.disabledOptions.push(String(_option.id));\n\t\t\t}\n\t\t\tthis._optionsWrapper.append(option.get());\n\n\t\t\treturn option;\n\t\t});\n\t}\n\n\t_handleClick(event)\n\t{\n\t\tevent.stopPropagation();\n\n\t\tif (event.target.className === this._config.classNames.autocompleteInput)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._state.opened)\n\t\t{\n\t\t\tconst option = this._options.find(_option => {\n\t\t\t\treturn _option.get() === event.target;\n\t\t\t});\n\n\t\t\tif (option)\n\t\t\t{\n\t\t\t\tthis._setValue(option.get().getAttribute(\"data-value\"), true);\n\t\t\t}\n\n\t\t\tthis._popup.close();\n\t\t\tthis._select.removeClass(this._config.classNames.dropdownShown);\n\t\t\tthis._body.removeEventListener(\"click\", this._boundHandleClick);\n\t\t\tthis._select.addEventListener(\"click\", this._boundHandleClick);\n\n\t\t\tthis._state.opened = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.target.className === this._config.icon)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis._popup.show();\n\t\tthis._select.addClass(this._config.classNames.dropdownShown);\n\t\tthis._body.addEventListener(\"click\", this._boundHandleClick);\n\t\tthis._select.removeEventListener(\"click\", this._boundHandleClick);\n\n\t\tthis._state.opened = true;\n\n\t\tif (this._autocomplete)\n\t\t{\n\t\t\tthis._autocomplete.focus();\n\t\t}\n\t}\n\n\t_prepareDataValue()\n\t{\n\t\tlet dataValue = [];\n\n\t\tthis._config.options.forEach(_option => {\n\t\t\tthis._config.value.forEach(_value => {\n\t\t\t\tif(_option.id.toString() === _value)\n\t\t\t\t{\n\t\t\t\t\tdataValue.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tNAME: _option.name,\n\t\t\t\t\t\t\tVALUE: _option.id.toString()\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\n\t\tthis._parent.get().dataset.value = JSON.stringify(dataValue);\n\t\tthis._select.get().dataset.value = JSON.stringify(dataValue);\n\n\t\treturn dataValue;\n\t}\n\n\t_setValue(value, manual, unselected)\n\t{\n\t\tif (this._config.disabledOptions.indexOf(value) > -1)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (value && !unselected)\n\t\t{\n\t\t\tthis._config.value = this._config.multiple ? [...this._config.value || [], value] : value;\n\t\t}\n\t\tif (value && unselected)\n\t\t{\n\t\t\tthis._config.value = value;\n\t\t}\n\t\tthis._options.forEach(_option => {\n\t\t\t_option.removeClass(this._config.classNames.selectedOption);\n\t\t});\n\t\tthis._placeholder.removeClass(this._config.classNames.placeholderHidden);\n\n\t\tif (this._config.multiple)\n\t\t{\n\t\t\tconst options = this._config.value.map(_value => {\n\t\t\t\tconst option = this._config.options.find(_option => {\n\t\t\t\t\treturn _option.id.toString() === _value;\n\t\t\t\t});\n\n\t\t\t\tif (!option)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst optionNode = this._options.find(\n\t\t\t\t\t_option => {\n\t\t\t\t\t\treturn _option.get().getAttribute(\"data-value\") === option.id.toString();\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\toptionNode.addClass(this._config.classNames.selectedOption);\n\n\t\t\t\treturn option;\n\t\t\t});\n\n\t\t\tif (options.length)\n\t\t\t{\n\t\t\t\tthis._placeholder.addClass(this._config.classNames.placeholderHidden);\n\t\t\t}\n\t\t\tthis._selectOptions(options, manual);\n\t\t\tthis._prepareDataValue();\n\t\t\treturn;\n\t\t}\n\n\t\tconst option = this._config.value ?\n\t\t\tthis._config.options.find(_option => _option.id.toString() === this._config.value) :\n\t\t\tthis._config.options[0];\n\n\t\tconst optionNode = this._options.find(\n\t\t\t_option => _option.get().getAttribute(\"data-value\") === option.id.toString()\n\t\t);\n\n\t\tthis._prepareDataValue();\n\t\tif (!this._config.value)\n\t\t{\n\t\t\tthis._label.setText(\"\");\n\t\t\treturn;\n\t\t}\n\t\toptionNode.addClass(this._config.classNames.selectedOption);\n\t\tthis._placeholder.addClass(this._config.classNames.placeholderHidden);\n\t\tthis._selectOption(option, manual);\n\t}\n\n\t_selectOption(option, manual)\n\t{\n\t\tthis._selectedOption = option;\n\n\t\tthis._label.setText(option.name);\n\n\t\tif (this._config.onChange && manual)\n\t\t{\n\t\t\tthis._config.onChange(option.id,this._prepareDataValue());\n\t\t}\n\t}\n\n\t_selectOptions(options, manual)\n\t{\n\t\tthis._label.setText(\"\");\n\n\t\tthis._icons = options.map(_option => {\n\t\t\tconst selectedLabel = new Element(\"span\", {\n\t\t\t\tclass: this._config.classNames.selectedLabel,\n\t\t\t\ttextContent: _option.name\n\t\t\t});\n\n\t\t\tconst remove = new Element(\"span\", {\n\t\t\t\tclass: `${this._config.classNames.remove}`,\n\t\t\t\tvalue: _option.id\n\t\t\t});\n\n\t\t\tremove.addEventListener(\"click\", this._boundUnselectOption);\n\n\t\t\tselectedLabel.append(remove.get());\n\t\t\tthis._label.append(selectedLabel.get());\n\n\t\t\treturn remove.get();\n\t\t});\n\n\t\tif (manual)\n\t\t{\n\t\t\t// eslint-disable-next-line no-magic-numbers\n\t\t\tthis._optionsWrapper.setTop(Number(this._select.getHeight().split(\"px\")[0]) + 5);\n\t\t}\n\n\t\tif (this._config.onChange && manual)\n\t\t{\n\t\t\tthis._config.onChange(this._config.value, this._prepareDataValue());\n\t\t}\n\t}\n\n\t_unselectOption(event)\n\t{\n\t\tconst newValue = [...this._config.value];\n\t\tconst index = newValue.indexOf(event.target.getAttribute(\"data-value\"));\n\n\t\t// eslint-disable-next-line no-magic-numbers\n\t\tif (index !== -1)\n\t\t{\n\t\t\tnewValue.splice(index, 1);\n\t\t}\n\n\t\tthis._setValue(newValue, true, true);\n\t}\n\n\t_sortOptions(event)\n\t{\n\t\tthis._options.forEach(_option => {\n\t\t\tif (!_option.get().textContent.toLowerCase().startsWith(event.target.value.toLowerCase()))\n\t\t\t{\n\t\t\t\t_option.addClass(this._config.classNames.optionHidden);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_option.removeClass(this._config.classNames.optionHidden);\n\t\t});\n\t}\n}\n\nexport default Autocomplete;\n","import Autocomplete from './autocomplete/autocomplete';\nimport { Popup } from 'main.popup';\n\nexport class Toloka\n{\n\t#page = BX.Sender.Page;\n\t#helper = BX.Sender.Helper;\n\t#context;\n\t#actionUri;\n\t#isFrame;\n\t#prettyDateFormat;\n\t#isSaved;\n\t#isRegistered;\n\t#isOutside;\n\t#mess;\n\t#letterTile;\n\t#selectorNode;\n\t#editorNode;\n\t#titleNode;\n\t#loginNode;\n\t#formNode;\n\t#oauthCodeNode;\n\t#filterNode;\n\t#filterData;\n\t#filterId;\n\t#filter;\n\t#ajaxAction;\n\t#messageFields = null;\n\t#templateChangeButton;\n\t#buttonsNode;\n\t#templateNameNode;\n\t#templateTypeNode;\n\t#templateIdNode;\n\t#templateData;\n\t#preset;\n\t#REGION_BY_IP = 'REGION_BY_IP';\n\t#REGION_BY_PHONE = 'REGION_BY_PHONE';\n\n\tconstructor()\n\t{\n\t}\n\n\tstatic create(settings)\n\t{\n\t\tconst self = new Toloka();\n\t\tself.initialize(settings);\n\t\treturn self;\n\t}\n\n\tbindEvents()\n\t{\n\t\tthis._expireInNode.addEventListener('change', this.validateRequiredFields.bind(this));\n\t\tif (BX.Sender.Template && BX.Sender.Template.Selector)\n\t\t{\n\t\t\tconst selector = BX.Sender.Template.Selector;\n\t\t\tBX.addCustomEvent(selector, selector.events.templateSelect, this.onTemplateSelect.bind(this));\n\t\t\tBX.addCustomEvent(selector, selector.events.selectorClose, this.closeTemplateSelector.bind(this));\n\t\t}\n\n\t\tif (this.#filterNode)\n\t\t{\n\t\t\tBX.bind(\n\t\t\t\tthis.#filterNode,\n\t\t\t\t'click',\n\t\t\t\tthis.initAddressWidget.bind(this, this.#REGION_BY_IP)\n\t\t\t);\n\t\t\tBX.bind(\n\t\t\t\tthis.#filterNode,\n\t\t\t\t'click',\n\t\t\t\tthis.initAddressWidget.bind(this, this.#REGION_BY_PHONE)\n\t\t\t);\n\t\t}\n\n\t\tif(this._saveBtn)\n\t\t{\n\t\t\tBX.bind(\n\t\t\t\tthis._saveBtn,\n\t\t\t\t'click',\n\t\t\t\tthis.applyChanges.bind(this)\n\t\t\t);\n\t\t}\n\n\t\tif (this.#templateChangeButton)\n\t\t{\n\t\t\tBX.bind(this.#templateChangeButton, 'click', this.showTemplateSelector.bind(this));\n\t\t}\n\n\t\tif (this.#isSaved)\n\t\t{\n\t\t\ttop.BX.onCustomEvent(top, 'sender-letter-edit-change', [this.letterTile]);\n\t\t\tthis.#page.slider.close();\n\n\t\t\tif (this.#isOutside)\n\t\t\t{\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: this.#mess.outsideSaveSuccess,\n\t\t\t\t\tautoHideDelay: 5000\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tinitialize(params)\n\t{\n\t\tthis.#context = BX(params.containerId);\n\t\tthis.#filterData = [];\n\t\tthis.#filterData[this.#REGION_BY_IP] = {\n\t\t\tregion: []\n\t\t};\n\t\tthis.#filterData[this.#REGION_BY_PHONE] = {\n\t\t\tregion: []\n\t\t};\n\n\t\tthis.#filterId = 'toloka-filter-connector';\n\t\tthis.#filterNode = document.getElementById(`${this.#filterId}_search_container`);\n\t\tthis.#filter = this.getFilter();\n\t\tthis.#templateChangeButton = BX('SENDER_TOLOKA_BUTTON_CHANGE');\n\t\tthis.#helper.changeDisplay(this.#templateChangeButton, false);\n\n\t\tthis.#actionUri = params.actionUri;\n\t\tthis.#ajaxAction = new BX.AjaxAction(this.#actionUri);\n\t\tthis.#isFrame = params.isFrame || false;\n\t\tthis.#prettyDateFormat = params.prettyDateFormat;\n\t\tthis.#isSaved = params.isSaved || false;\n\t\tthis.#isRegistered = params.isRegistered || false;\n\t\tthis.#isOutside = params.isOutside || false;\n\t\tthis.#mess = params.mess;\n\t\tthis.#letterTile = params.letterTile || {};\n\t\tthis.#templateData = [];\n\t\tthis.#messageFields = this.objectKeysToLowerCase(JSON.parse(params.preset));\n\n\t\tthis.prepareNodes();\n\t\tthis.buildDispatchNodes();\n\n\t\tthis._filterNode = [];\n\t\tthis._regionInput = [];\n\t\tthis._autocomplete = [];\n\t\tthis.bindEvents();\n\n\t\tthis.#helper.titleEditor.init({\n\t\t\tdataNode: this.#titleNode,\n\t\t\tdisabled: false,\n\t\t\tdefaultTitle: this.getPatternTitle(this.#mess.name)\n\t\t});\n\n\t\tthis.#page.initButtons();\n\n\t\tif (this.isMSBrowser())\n\t\t{\n\t\t\tthis.#context.classList.add('bx-sender-letter-ms-ie');\n\t\t}\n\n\t\tif (!this.#isRegistered)\n\t\t{\n\t\t\tthis.#loginNode.style = '';\n\t\t\tthis.#formNode.style = 'display:none;';\n\t\t}\n\t}\n\n\tprepareNodes()\n\t{\n\t\tthis.#selectorNode = this.#helper.getNode('template-selector', this.#context);\n\t\tthis.#editorNode = this.#helper.getNode('editor', this.#context);\n\t\tthis.#titleNode = this.#helper.getNode('title', this.#context);\n\t\tthis.#loginNode = this.#helper.getNode('login', this.#context);\n\t\tthis.#formNode = this.#helper.getNode('sender-toloka-form', this.#context);\n\t\tthis.#oauthCodeNode = this.#helper.getNode('toloka-oauth-code', this.#context);\n\n\t\tthis.#buttonsNode = this.#helper.getNode('letter-buttons', this.#context);\n\t\tthis.#templateNameNode = this.#helper.getNode('template-name', this.#editorNode);\n\t\tthis.#templateTypeNode = this.#helper.getNode('template-type', this.#editorNode);\n\t\tthis.#templateIdNode = this.#helper.getNode('template-id', this.#editorNode);\n\n\t\tthis._projectNode = document.getElementById('CONFIGURATION_PROJECT_ID');\n\t\tthis._poolNode = document.getElementById('CONFIGURATION_POOL_ID');\n\t\tthis._taskSuiteNode = document.getElementById('CONFIGURATION_TASK_SUITE_ID');\n\t\tthis._descriptionNode = document.getElementById('CONFIGURATION_DESCRIPTION');\n\t\tthis._instructionNode = document.getElementById('CONFIGURATION_INSTRUCTION');\n\t\tthis._tasksNode = document.getElementById('CONFIGURATION_TASKS');\n\t\tthis._overlapNode = document.getElementById('CONFIGURATION_OVERLAP');\n\t\tthis._adultContentNode = document.getElementById('CONFIGURATION_ADULT_CONTENT');\n\t\tthis._priceNode = document.getElementById('CONFIGURATION_PRICE');\n\t\tthis._expireInNode = document.getElementById('CONFIGURATION_EXPIRE_IN');\n\t\tthis._saveBtn = document.getElementById('ui-button-panel-save');\n\n\n\t\tthis._projectNode.parentNode.parentNode.style = 'display:none';\n\t\tthis._poolNode.parentNode.parentNode.style = 'display:none';\n\t\tthis._taskSuiteNode.parentNode.parentNode.style = 'display:none';\n\t}\n\n\tinitAddressWidget(name)\n\t{\n\t\tthis._filterNode[name] = document.querySelectorAll(`div[data-name=${name}]`)[0];\n\t\tif (this._autocomplete[name])\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tconst self = this;\n\n\t\tthis._autocomplete[name] = new Autocomplete(this._filterNode[name], {\n\t\t\toptions: [],\n\t\t\tmultiple: true,\n\t\t\tautocomplete: true,\n\t\t\tonChange: (value, preparedValue) => {\n\t\t\t\tself.#filterData[name] = value;\n\t\t\t\tthis.#filter.getFieldByName(name).ITEMS = preparedValue;\n\t\t\t\tthis.#filter.getFieldByName(name).VALUE = preparedValue;\n\t\t\t}\n\t\t});\n\n\t\tthis._regionInput[name] = document.querySelectorAll(`input[data-name=autocomplete-${name}]`)[0];\n\t\tBX.bind(\n\t\t\tthis._regionInput[name],\n\t\t\t'keyup',\n\t\t\tthis.getLocationList.bind(this, name)\n\t\t);\n\t}\n\n\tregister()\n\t{\n\t\tconst self = this;\n\t\tthis.#ajaxAction.request({\n\t\t\taction: 'registerOAuth',\n\t\t\tonsuccess: (response) => {\n\t\t\t\tself.#loginNode.style = 'display:none;';\n\t\t\t\tself.#formNode.style = '';\n\t\t\t},\n\t\t\tdata: { 'access_code': this.#oauthCodeNode.value }\n\t\t});\n\t}\n\n\tisMSBrowser()\n\t{\n\t\treturn window.navigator.userAgent.match(/(Trident\\/|MSIE|Edge\\/)/) !== null;\n\t}\n\n\tgetPatternTitle(name)\n\t{\n\t\treturn this.#helper.replace(\n\t\t\tthis.#mess.patternTitle,\n\t\t\t{\n\t\t\t\t'name': name,\n\t\t\t\t'date': BX.date.format(this.#prettyDateFormat)\n\t\t\t}\n\t\t);\n\t}\n\n\tonTemplateSelect(template)\n\t{\n\t\tif (this.#templateNameNode)\n\t\t{\n\t\t\tthis.#templateNameNode.textContent = template.name;\n\t\t}\n\t\tif (this.#templateTypeNode)\n\t\t{\n\t\t\tthis.#templateTypeNode.value = template.type;\n\t\t}\n\t\tif (this.#templateIdNode)\n\t\t{\n\t\t\tthis.#templateIdNode.value = template.code;\n\t\t}\n\n\t\tthis.#messageFields = template.messageFields;\n\n\t\tthis.buildDispatchNodes();\n\t\tthis.#titleNode.value = this.getPatternTitle(template.name);\n\n\t\tBX.fireEvent(this.#titleNode, 'change');\n\n\t\tthis.closeTemplateSelector();\n\t\twindow.scrollTo(0, 0);\n\t}\n\n\tbuildDispatchNodes()\n\t{\n\t\tconst self = this;\n\t\tthis.#helper.getNodes('dispatch', this.#context).forEach(node => {\n\t\t\tconst code = node.getAttribute('data-code');\n\t\t\tfor(const field in self.#messageFields)\n\t\t\t{\n\t\t\t\tif(!self.#messageFields.hasOwnProperty(field))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst data = self.#messageFields[field];\n\t\t\t\tif (data.code === code && node.innerHTML.length === 0)\n\t\t\t\t{\n\t\t\t\t\tnode.innerHTML = data.value;\n\t\t\t\t}\n\n\t\t\t\tself.#templateData[data.code] = data.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tcloseTemplateSelector()\n\t{\n\t\tthis.changeDisplayingTemplateSelector(false);\n\t}\n\n\tshowTemplateSelector()\n\t{\n\t\tthis.changeDisplayingTemplateSelector(true);\n\t}\n\n\tchangeDisplayingTemplateSelector(isShow)\n\t{\n\t\tconst classShow = 'bx-sender-letter-show';\n\t\tconst classHide = 'bx-sender-letter-hide';\n\t\tthis.#helper.changeClass(this.#selectorNode, classShow, isShow);\n\t\tthis.#helper.changeClass(this.#selectorNode, classHide, !isShow);\n\n\t\tthis.#helper.changeClass(this.#editorNode, classShow, !isShow);\n\t\tthis.#helper.changeClass(this.#editorNode, classHide, isShow);\n\n\t\tthis.#helper.changeDisplay(this.#templateChangeButton, !isShow);\n\t\tthis.#helper.changeDisplay(this.#buttonsNode, !isShow);\n\n\t\tisShow ? this.#helper.titleEditor.disable() : this.#helper.titleEditor.enable();\n\t}\n\n\tobjectKeysToLowerCase(origObj)\n\t{\n\t\tconst self = this;\n\t\tif(origObj === null)\n\t\t{\n\t\t\treturn origObj;\n\t\t}\n\n\t\treturn Object.keys(origObj).reduce(function(newObj, key) {\n\t\t\tconst val = origObj[key];\n\t\t\tnewObj[key.toLowerCase()] = (typeof val === 'object') ? self.objectKeysToLowerCase(val) : val;\n\t\t\treturn newObj;\n\t\t}, {})\n\t}\n\n\tgetLocationList(name)\n\t{\n\t\tif (this._regionInput[name].value.length < 3)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst self = this;\n\t\tthis.#ajaxAction.request({\n\t\t\taction: 'getGeoList',\n\t\t\tdata: {\n\t\t\t\tname: this._regionInput[name].value\n\t\t\t},\n\t\t\tonsuccess: function(response) {\n\t\t\t\tlet data = [];\n\n\t\t\t\tfor (const value in response)\n\t\t\t\t{\n\t\t\t\t\tconst responseData = response[value];\n\t\t\t\t\tif (typeof responseData === 'object' && 'id' in responseData)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata.push(responseData);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (self._autocomplete[name])\n\t\t\t\t{\n\t\t\t\t\tself._autocomplete[name].setOptions(data);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tvalidateRequiredFields()\n\t{\n\t\tlet success = true;\n\n\t\t[\n\t\t\tthis._expireInNode,\n\t\t\tthis._priceNode,\n\t\t\tthis._tasksNode\n\t\t].every(element => {\n\t\t\tif(!this.validateField(element))\n\t\t\t{\n\t\t\t\tsuccess = false;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\tif(!success)\n\t\t{\n\t\t\tthis.removeLoader();\n\t\t}\n\t\treturn success;\n\t}\n\n\tremoveLoader()\n\t{\n\t\tthis._saveBtn.classList.remove(\"ui-btn-wait\");\n\t}\n\n\tvalidateField(field)\n\t{\n\t\tif(!this._validatorPopup)\n\t\t{\n\t\t\tthis._validatorPopup = new Popup({\n\t\t\t\tid: \"sender-toloka-validator\",\n\t\t\t\tcontent: `${this.#mess.required}`,\n\t\t\t});\n\t\t}\n\n\t\tif(!field.value)\n\t\t{\n\t\t\tthis._validatorPopup.setBindElement(field);\n\t\t\tthis._validatorPopup.show();\n\t\t\tfield.classList.add(\"bx-sender-form-control-danger\");\n\t\t\tfield.scrollIntoView();\n\t\t\treturn false\n\t\t}\n\t\tthis._validatorPopup.close();\n\n\t\tfield.classList.remove(\"bx-sender-form-control-danger\");\n\t\treturn true;\n\t}\n\n\tcreateProject()\n\t{\n\t\tif(!this.validateRequiredFields())\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tconst input_key = Object.keys(this.#templateData['INPUT_VALUE'])[0];\n\t\tconst output_key = Object.keys(this.#templateData['OUTPUT_VALUE'])[0];\n\t\tthis.#ajaxAction.request({\n\t\t\taction: 'createProject',\n\t\t\tdata: {\n\t\t\t\tid: this._projectNode.value,\n\t\t\t\tname: this.#titleNode.value,\n\t\t\t\tdescription: this._descriptionNode.value,\n\t\t\t\tinstruction: this._instructionNode.value,\n\t\t\t\tinput_type: this.#templateData['INPUT_VALUE'][input_key],\n\t\t\t\tinput_identificator: input_key,\n\t\t\t\toutput_type: this.#templateData['OUTPUT_VALUE'][output_key],\n\t\t\t\toutput_identificator: output_key,\n\t\t\t\tmarkup: this.#templateData['PRESET'].template,\n\t\t\t\tscript: this.#templateData['PRESET'].js,\n\t\t\t\tstyles: this.#templateData['PRESET'].css\n\t\t\t},\n\t\t\tonsuccess: response => {\n\t\t\t\tthis._projectNode.value = response.id;\n\t\t\t\tthis.createPool(response.id);\n\t\t\t},\n\t\t\tonfailure: response => {\n\t\t\t\tthis.removeLoader();\n\t\t\t}\n\t\t});\n\t}\n\n\tcreatePool(projectId)\n\t{\n\t\tconst input_key = Object.keys(this.#templateData['INPUT_VALUE'])[0]\n\t\tthis.#ajaxAction.request({\n\t\t\taction: 'createPool',\n\t\t\tdata: {\n\t\t\t\tid: this._poolNode.value,\n\t\t\t\ttask_suite_id: this._taskSuiteNode.value,\n\t\t\t\tproject_id: projectId,\n\t\t\t\tprivate_name: this.#titleNode.value,\n\t\t\t\tpublic_description: this._descriptionNode.value,\n\t\t\t\tmay_contain_adult_content: this._adultContentNode.checked,\n\t\t\t\treward_per_assignment: this._priceNode.value,\n\t\t\t\twill_expire: this._expireInNode.value,\n\t\t\t\toverlap: this._overlapNode.value,\n\t\t\t\ttasks: this._tasksNode.value,\n\t\t\t\tidentificator: input_key,\n\t\t\t\tfilter: this.#filterData\n\t\t\t},\n\t\t\tonsuccess: response => {\n\t\t\t\tthis._poolNode.value = response.pool_id;\n\t\t\t\tthis._taskSuiteNode.value = response.id;\n\n\t\t\t\tconst form = this.#context.getElementsByTagName('form');\n\n\t\t\t\tif (form && form[0])\n\t\t\t\t{\n\t\t\t\t\tform[0].appendChild(BX.create('input', {\n\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\ttype: \"hidden\",\n\t\t\t\t\t\t\tname: \"apply\",\n\t\t\t\t\t\t\tvalue: \"Y\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\n\t\t\t\t\tform[0].submit();\n\t\t\t\t}\n\t\t\t},\n\t\t\tonfailure: response => {\n\t\t\t\tthis.removeLoader();\n\t\t\t}\n\t\t});\n\t}\n\n\tapplyChanges(event)\n\t{\n\t\tthis.createProject();\n\t}\n\n\tgetFilter()\n\t{\n\t\tconst filter = BX.Main.filterManager.getById(this.#filterId);\n\t\tif (!filter || !(filter instanceof BX.Main.Filter))\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn filter;\n\t}\n}"],"names":["allowedAttributes","value","name","disabled","class","type","Element","element","attributes","i18n","_node","HTMLElement","document","createElement","_config","_setAttributes","textContent","_setTextContent","appendChild","className","classList","add","remove","toggle","callback","addEventListener","removeEventListener","text","window","getComputedStyle","height","width","top","style","focus","key","_setAttribute","setAttribute","getAttribute","CLASSES","select","dropdownShown","multiselect","label","placeholder","dropdown","option","optionDisabled","autocompleteInput","selectedLabel","selectedOption","placeholderHidden","optionHidden","Autocomplete","config","classNames","disabledOptions","_state","opened","_icons","_holderElement","_boundHandleClick","_handleClick","bind","_boundUnselectOption","_unselectOption","_boundSortOptions","_sortOptions","_body","body","_create","_setValue","data","forEach","exists","options","id","push","_options","_generateOptions","multiple","_element","querySelector","_parent","selector","querySelectorAll","dataset","selectClone","cloneNode","removeChild","_select","_label","_optionsWrapper","addClass","append","get","deleteButton","parentNode","length","BX","reset","_placeholder","_popup","Popup","Math","random","bindElement","zIndex","maxHeight","setContent","autocomplete","_autocomplete","map","_option","preOption","String","event","stopPropagation","target","find","close","removeClass","icon","show","dataValue","_value","toString","NAME","VALUE","JSON","stringify","manual","unselected","indexOf","optionNode","_selectOptions","_prepareDataValue","setText","_selectOption","_selectedOption","onChange","setTop","Number","getHeight","split","newValue","index","splice","toLowerCase","startsWith","Toloka","Sender","Page","Helper","_expireInNode","validateRequiredFields","Template","Selector","addCustomEvent","events","templateSelect","onTemplateSelect","selectorClose","closeTemplateSelector","initAddressWidget","_saveBtn","applyChanges","showTemplateSelector","onCustomEvent","letterTile","slider","UI","Notification","Center","notify","content","outsideSaveSuccess","autoHideDelay","params","containerId","region","getElementById","getFilter","changeDisplay","actionUri","AjaxAction","isFrame","prettyDateFormat","isSaved","isRegistered","isOutside","mess","objectKeysToLowerCase","parse","preset","prepareNodes","buildDispatchNodes","_filterNode","_regionInput","bindEvents","titleEditor","init","dataNode","defaultTitle","getPatternTitle","initButtons","isMSBrowser","getNode","_projectNode","_poolNode","_taskSuiteNode","_descriptionNode","_instructionNode","_tasksNode","_overlapNode","_adultContentNode","_priceNode","self","preparedValue","getFieldByName","ITEMS","getLocationList","request","action","onsuccess","response","navigator","userAgent","match","replace","patternTitle","date","format","template","code","messageFields","fireEvent","scrollTo","getNodes","node","field","hasOwnProperty","innerHTML","changeDisplayingTemplateSelector","isShow","classShow","classHide","changeClass","disable","enable","origObj","Object","keys","reduce","newObj","val","responseData","setOptions","success","every","validateField","removeLoader","_validatorPopup","required","setBindElement","scrollIntoView","input_key","output_key","description","instruction","input_type","input_identificator","output_type","output_identificator","markup","script","js","styles","css","createPool","onfailure","projectId","task_suite_id","project_id","private_name","public_description","may_contain_adult_content","checked","reward_per_assignment","will_expire","overlap","tasks","identificator","filter","pool_id","form","getElementsByTagName","create","attrs","submit","createProject","Main","filterManager","getById","Filter","settings","initialize"],"mappings":"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"}