(function(){BX.namespace("BX.Sender.Im");if(BX.Sender.Im.Message){return}var t=BX.Sender.Helper;function e(){}e.prototype.initFields=function(){t.tag.init(this.context.parentElement,this.input)};e.prototype.init=function(e){this.context=BX(e.containerId);this.mess=e.mess;this.AITextContextId=e.AITextContextId;this.isAITextAvailable=e.isAITextAvailable==="Y";this.input=t.getNode("input",this.context);this.counter=t.getNode("counter",this.context);BX.bind(this.input,"bxchange",this.onChange.bind(this));BX.bind(this.input,"input",this.onChange.bind(this));this.initPanelToolsButtons();this.refresh();this.initFields()};e.prototype.initPanelToolsButtons=function(){if(this.isAITextAvailable){const t=this.context.querySelector('[data-bx-im-panel-tools-button="ai-text"]');t.addEventListener("click",(t=>{const e=new BX.AI.Picker({moduleId:"sender",contextId:this.AITextContextId,analyticLabel:"sender_im_ai_text",history:true,onSelect:t=>{const e=t.data;this.input.value=this.input.value+e},onTariffRestriction:()=>{}});e.setLangSpace(BX.AI.Picker.LangSpace.text);e.text()}))}};e.prototype.onChange=function(){this.refresh()};e.prototype.refresh=function(){this.counter.textContent=this.input.value.length};BX.Sender.Im.Message=new e})(window);
//# sourceMappingURL=script.map.js