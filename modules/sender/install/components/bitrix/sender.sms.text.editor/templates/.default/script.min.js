(function(t){BX.namespace("BX.Sender.SMS");if(BX.Sender.SMS.TextEditor){return}var e=BX.Sender.Helper;function n(){}n.prototype.init=function(t){this.context=BX(t.containerId);this.mess=t.mess;this.input=e.getNode("input",this.context);this.counter=e.getNode("counter",this.context);this.num=e.getNode("num",this.context);this.sms=e.getNode("sms",this.context);BX.bind(this.input,"bxchange",this.onChange.bind(this));BX.bind(this.input,"input",this.onChange.bind(this));this.refresh()};n.prototype.onChange=function(){this.refresh()};n.prototype.refresh=function(){var t=this.input.value;var e=this.hasMultiBites()?2:1;var n=t.length;var i=140/e;var s=Math.floor(n/i)+1;this.num.textContent=i;this.sms.textContent=s;this.counter.textContent=n};n.prototype.hasMultiBites=function(){var t=this.input.value;if(t.length==0){return false}for(var e=0;e<t.length;e++){if(t.charCodeAt(e)>128){return true}}return false};BX.Sender.SMS.TextEditor=new n})(window);