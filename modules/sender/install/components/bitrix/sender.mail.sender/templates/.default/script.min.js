(function(t){BX.namespace("BX.Sender.UI.Mailbox");if(BX.Sender.UI.Mailbox.Selector){return}var i=BX.Sender.Helper;function e(t){}e.prototype.init=function(t){this.list=t.list;this.list=t.containerId;this.context=BX(t.containerId);this.default=t.default;this.input=i.getNode("mailbox-input",this.context);this.mailbox=i.getNode("mailbox",this.context);this.mailboxWrap=i.getNode("mailbox-wrap",this.context);BX.bind(this.mailboxWrap,"click",this.showMenu.bind(this));this.param={placeholder:"",required:true,callback:function(t,i){this.setSelected(t)}.bind(this),settings:[],popupSettings:{maxHeight:350}};this.setCurrent(t.current)};e.prototype.setCurrent=function(t){this.ifExists(t)?this.setSelected(t):this.setSelected(this.getFirstOrDefault())};e.prototype.getFirstOrDefault=function(){return BXMainMailConfirm.getMailboxes().length>0?BXMainMailConfirm.getMailboxes()[0].formated:""};e.prototype.setSelected=function(t){if(BX.type.isNotEmptyString(t)){this.param.selected=t;this.input.value=t;this.mailbox.textContent=t}else{this.input.value="";this.mailbox.textContent=this.default}};e.prototype.ifExists=function(t){if(BX.type.isNotEmptyString(t)&&BXMainMailConfirm.getMailboxes().length>0){for(var i in BXMainMailConfirm.getMailboxes()){if(BXMainMailConfirm.getMailboxes()[i].formated===t){return true}}}return false};e.prototype.showMenu=function(){BXMainMailConfirm.showList("sender-ui-mailbox-selector",this.mailbox,this.param)};BX.Sender.UI.Mailbox.Selector=new e})(window);
//# sourceMappingURL=script.map.js