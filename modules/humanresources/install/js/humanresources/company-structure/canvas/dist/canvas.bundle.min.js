this.BX=this.BX||{};this.BX.Humanresources=this.BX.Humanresources||{};(function(t){"use strict";const s={name:"transform-canvas",props:{modelValue:{type:Object,required:false},zoomSensitivity:{type:Number,default:.01},zoomSensitivityMouse:{type:Number,default:.001}},emits:["update:modelValue"],data(){return{transform:{x:0,y:0,zoom:1},dragging:false,zooming:false,lastWheelEventTime:null,dragDirection:null}},computed:{canvasClass(){return{"--dragging":this.dragging,"--zooming":this.zooming}},transformStyles(){this.transform=this.modelValue?{...this.modelValue}:this.transform;const{x:t,y:s,zoom:e}=this.transform;return{transform:`translate(${t}px, ${s}px) scale(${e})`}}},methods:{onmousedown(t){this.dragOn=true;this.dragDirection=null},onmousemove(t){if(!this.dragOn){return}if(t.buttons!==1){this.dragOn=false;this.dragging=false;this.dragDirection=null;return}this.dragging=true;if(!this.dragDirection){if(Math.abs(t.movementX)>Math.abs(t.movementY)){this.dragDirection="horizontal"}else{this.dragDirection="vertical"}}window.requestAnimationFrame((()=>{this.transform.x+=t.movementX;this.transform.y+=t.movementY;this.$emit("update:modelValue",this.transform)}))},onmouseup(){this.dragOn=false;this.dragging=false;this.dragDirection=null},oncontextmenu(t){t.preventDefault()},isTrackpad(t){return t.wheelDeltaY?t.wheelDeltaY===-3*t.deltaY:t.deltaMode===0},onwheel(t){const s=this.isTrackpad(t);if(t.ctrlKey){const e=!s&&!t.ctrlKey?this.zoomSensitivityMouse:this.zoomSensitivity;const n=t.clientX;const o=t.clientY;const r=-t.deltaY*e;const a=Math.min(Math.max(.2,this.transform.zoom+r),3);const i=(n-this.transform.x)/this.transform.zoom;const m=(o-this.transform.y)/this.transform.zoom;this.transform.zoom=a;this.transform.x=n-i*a;this.transform.y=o-m*a;this.zooming=true;this.$emit("update:modelValue",this.transform);t.preventDefault();setTimeout((()=>{this.zooming=false}),200)}else{const s=t.deltaX;const e=t.deltaY;this.transform.x-=s;this.transform.y-=e;this.$emit("update:modelValue",this.transform);t.preventDefault()}}},template:`\n\t\t<div\n\t\t\tclass="humanresources-canvas"\n\t\t\t:class="canvasClass"\n\t\t\t@mousedown="onmousedown"\n\t\t\t@mousemove="onmousemove"\n\t\t\t@mouseup="onmouseup"\n\t\t\t@wheel="onwheel"\n\t\t\t@contextmenu="oncontextmenu"\n\t\t>\n\t\t<div\n\t\t\tclass="humanresources-canvas__transform"\n\t\t\t:style="transformStyles"\n\t\t>\n\t\t\t<slot :transform="transform"/>\n\t\t</div>\n\t\t</div>\n\t`};t.TransformCanvas=s})(this.BX.Humanresources.CompanyStructure=this.BX.Humanresources.CompanyStructure||{});
//# sourceMappingURL=canvas.bundle.map.js