this.BX=this.BX||{};this.BX.HumanResources=this.BX.HumanResources||{};(function(e,a,s,i){"use strict";let t=e=>e,n,l,r,o,c,d;const m=99;var v=babelHelpers.classPrivateFieldLooseKey("companies");var p=babelHelpers.classPrivateFieldLooseKey("root");var h=babelHelpers.classPrivateFieldLooseKey("container");var b=babelHelpers.classPrivateFieldLooseKey("cache");var u=babelHelpers.classPrivateFieldLooseKey("getConnectCompanyList");var y=babelHelpers.classPrivateFieldLooseKey("getConnectCompanyItem");var L=babelHelpers.classPrivateFieldLooseKey("getConnectedCompanyList");var H=babelHelpers.classPrivateFieldLooseKey("makeConnectedCompanyItem");var P=babelHelpers.classPrivateFieldLooseKey("makeCounter");var _=babelHelpers.classPrivateFieldLooseKey("reload");var g=babelHelpers.classPrivateFieldLooseKey("connectCompany");var C=babelHelpers.classPrivateFieldLooseKey("openCompany");class B{constructor(e){var s;Object.defineProperty(this,C,{value:S});Object.defineProperty(this,g,{value:N});Object.defineProperty(this,_,{value:I});Object.defineProperty(this,P,{value:f});Object.defineProperty(this,H,{value:O});Object.defineProperty(this,L,{value:k});Object.defineProperty(this,y,{value:M});Object.defineProperty(this,u,{value:F});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:new a.Cache.MemoryCache});babelHelpers.classPrivateFieldLooseBase(this,v)[v]=(s=e.companies)!=null?s:[]}renderTo(e){babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e;babelHelpers.classPrivateFieldLooseBase(this,h)[h]=a.Tag.render(n||(n=t`
			<div class="hr-hcmlink-company-manager-container">
				<div class="hr-hcmlink-company-manager-header">
					<div class="hr-hcmlink-company-manager-header__title">
						${0}
					</div>
					<div class="hr-hcmlink-company-manager-header__hint">
						${0}
					</div>
				</div>
				${0}
				${0}
			</div>
		`),a.Loc.getMessage("HUMANRESOURCES_HCMLINK_COMPANY_LIST_TITLE"),a.Loc.getMessage("HUMANRESOURCES_HCMLINK_COMPANY_LIST_HINT"),babelHelpers.classPrivateFieldLooseBase(this,u)[u](),babelHelpers.classPrivateFieldLooseBase(this,v)[v].length?babelHelpers.classPrivateFieldLooseBase(this,L)[L]():"");if(BX.UI.Hint){BX.UI.Hint.init(babelHelpers.classPrivateFieldLooseBase(this,h)[h])}a.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,h)[h],babelHelpers.classPrivateFieldLooseBase(this,p)[p])}}function F(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("connect-company-list",(()=>a.Tag.render(l||(l=t`
				<div class="hr-hcmlink-company-manager-list-container --connect">
					<div class="hr-hcmlink-company-manager-list__title">
						${0}
					</div>
					<div class="hr-hcmlink-company-manager-list">
						${0}
					</div>
				</div>
			`),a.Loc.getMessage("HUMANRESOURCES_HCMLINK_COMPANY_LIST_INTEGRATION_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,y)[y]())))}function M(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("connect-company-item",(()=>{const e=a.Tag.render(r||(r=t`
				<div class="hr-hcmlink-company-manager-list__item --connect">
					<div class="hr-hcmlink-company-manager-list__item-content">
						<div class="hr-hcmlink-company-manager-list__item-title">
							${0}
						</div>
					</div>
				</div>
			`),a.Loc.getMessage("HUMANRESOURCES_HCMLINK_COMPANY_LIST_CONNECT"));a.Event.bind(e,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,g)[g]()));return e}))}function k(){const e=babelHelpers.classPrivateFieldLooseBase(this,v)[v].map((e=>babelHelpers.classPrivateFieldLooseBase(this,H)[H](e)));return a.Tag.render(o||(o=t`
			<div class="hr-hcmlink-company-manager-list-container">
				<div class="hr-hcmlink-company-manager-list__title">
					${0}
				</div>
				<div class="hr-hcmlink-company-manager-list">
					${0}
				</div>
			</div>
		`),a.Loc.getMessage("HUMANRESOURCES_HCMLINK_COMPANY_LIST_MY_COMPANIES"),e)}function O(e){const s=a.Tag.render(c||(c=t`
			<div class="hr-hcmlink-company-manager-list__item">
				<div class="hr-hcmlink-company-manager-list__item-content">
					<div class="hr-hcmlink-company-manager-list__item-title">
						<div class="hr-hcmlink-company-manager-list__item-title-text"
							title="${0}"
						>
							${0}
						</div>
					</div>
				</div>
			</div>
		`),a.Text.encode(e.title),a.Text.encode(e.title));if(e.notMappedCount>0){let i=e.notMappedCount;if(e.notMappedCount>m){i=m+"+"}a.Dom.prepend(babelHelpers.classPrivateFieldLooseBase(this,P)[P](i),s)}a.Event.bind(s,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,C)[C](e.id)));return s}function f(e){return a.Tag.render(d||(d=t`
			<div class="hr-hcmlink-company-manager-list__item-counter ui-counter ui-counter-danger"
				data-hint="${0}"
				data-hint-no-icon
			>
    			<div class="ui-counter-inner">${0}</div>
			</div>
		`),a.Loc.getMessage("HUMANRESOURCES_HCMLINK_COMPANY_LIST_NOT_SYNCED_HINT"),e)}function I(){var e;(e=top.BX.SidePanel.Instance.getSliderByWindow(window))==null?void 0:e.reload()}function N(){BX.SidePanel.Instance.open("humanresources:hcmlink-connect-slider",{contentCallback:()=>s.Layout.createContent({extensions:["humanresources.hcmlink.company-connect-page"],design:{section:false,margin:true},content(){return(new i.CompanyConnectPage).getLayout()},buttons(){return[]}}),animationDuration:200,width:920,cacheable:false,events:{onClose:()=>babelHelpers.classPrivateFieldLooseBase(this,_)[_]()}})}function S(e){BX.SidePanel.Instance.open(`/bitrix/components/bitrix/humanresources.hcmlink.mapped.users/slider.php?entity_id=${e}`,{cacheable:false,width:900,animationDuration:200,events:{onClose:()=>babelHelpers.classPrivateFieldLooseBase(this,_)[_]()}})}e.CompaniesManager=B})(this.BX.HumanResources.HcmLink=this.BX.HumanResources.HcmLink||{},BX,BX.UI.SidePanel,BX.Humanresources.Hcmlink);
//# sourceMappingURL=companies-manager.bundle.map.js