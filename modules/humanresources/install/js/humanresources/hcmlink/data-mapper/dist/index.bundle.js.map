{"version":3,"file":"index.bundle.js","sources":["../src/components/separator.js","../src/components/person-item.js","../src/components/user-item.js","../src/components/more-option.js","../src/components/line.js","../src/components/column-title.js","../src/components/counter.js","../src/components/page.js","../src/components/loader.js","../src/components/state-screen.js","../src/mapper.js"],"sourcesContent":["import 'ui.icon-set.actions';\n\nexport const Separator = {\n\tname: 'Separator',\n\n\tprops: {\n\t\thasLink: {\n\t\t\trequired: true,\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tstyleObject()\n\t\t{\n\t\t\treturn {\n\t\t\t\t'--ui-icon-set__icon-color': this.hasLink ? '#FFC34D' : '#D5D7DB',\n\t\t\t};\n\t\t},\n\t},\n\n\ttemplate: `\n\t\t<div class=\"hr-hcmlink-separator__container\" ref=\"container\">\n            <div \n\t            style=\"--ui-icon-set__icon-size: 24px;\"\n\t            :style=\"styleObject\"\n                class=\"ui-icon-set\"\n\t            :class=\"[ hasLink ? '--arrow-right' : '--delete-hyperlink']\"\n            ></div>\n\t\t</div>\n\t`,\n};\n","import { TagSelector } from 'ui.entity-selector';\nimport { Loc } from 'main.core';\nimport 'ui.icon-set.actions';\n\nimport '../styles/employee-item.css';\nimport { BaseEvent } from 'main.core.events';\n\nexport const PersonItem = {\n\tname: 'PersonItem',\n\n\tprops: {\n\t\tconfig: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\tmappedUserIds: {\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tisBorderedEmployee: this.config.mode === 'direct',\n\t\t};\n\t},\n\n\temits: [\n\t\t'addEntity',\n\t\t'removeEntity',\n\t],\n\n\tmounted()\n\t{\n\t\tconst selector = this.config.mode === 'direct'\n\t\t\t? this.getPersonTagSelector()\n\t\t\t: this.getUserTagSelector()\n\t\t;\n\n\t\tselector.renderTo(this.$refs.container);\n\t},\n\n\tmethods: {\n\t\tgetUserTagSelector()\n\t\t{\n\t\t\tconst selector = new TagSelector({\n\t\t\t\tmultiple: false,\n\t\t\t\tevents: {\n\t\t\t\t\tonTagRemove: (event) => {\n\t\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\t\tthis.handleItemRemove(tag);\n\t\t\t\t\t},\n\t\t\t\t\tonTagAdd: (event: BaseEvent) => {\n\t\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\t\tthis.handleItemSelect(tag);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taddButtonCaption: Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_SELECTOR_BUTTON_CAPTION'),\n\t\t\t\tshowCreateButton: false,\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tid: 'hcmlink-user-dialog',\n\t\t\t\t\twidth: 380,\n\t\t\t\t\tsearchOptions: {\n\t\t\t\t\t\tallowCreateItem: false,\n\t\t\t\t\t},\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'user',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t'!userId': this.mappedUserIds,\n\t\t\t\t\t\t\t\tinviteEmployeeLink: false,\n\t\t\t\t\t\t\t\tintranetUsersOnly: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\ttabs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'user',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_DIALOG_TAB_TITLE_USER'),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\trecentTabOptions: {\n\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tselector.getOuterContainer().style.width = '100%';\n\n\t\t\treturn selector;\n\t\t},\n\n\t\tgetPersonTagSelector()\n\t\t{\n\t\t\tconst selector = new TagSelector({\n\t\t\t\tmultiple: false,\n\t\t\t\tevents: {\n\t\t\t\t\tonTagRemove: (event) => {\n\t\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\t\tthis.handleItemRemove(tag);\n\t\t\t\t\t},\n\t\t\t\t\tonTagAdd: (event: BaseEvent) => {\n\t\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\t\tthis.handleItemSelect(tag);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taddButtonCaption: Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_SELECTOR_BUTTON_CAPTION'),\n\t\t\t\tshowCreateButton: false,\n\t\t\t\ttagTextColor: '#333',\n\t\t\t\ttagBgColor: '#FFF1D6',\n\t\t\t\ttagFontWeight: '400',\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tid: 'hcmlink-person-dialog',\n\t\t\t\t\tenableSearch: true,\n\t\t\t\t\twidth: 380,\n\t\t\t\t\tsearchOptions: {\n\t\t\t\t\t\tallowCreateItem: false,\n\t\t\t\t\t},\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'hcmlink-person-data',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tcompanyId: this.config.companyId,\n\t\t\t\t\t\t\t\tinviteEmployeeLink: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdynamicLoad: true,\n\t\t\t\t\t\t\tdynamicSearch: true,\n\t\t\t\t\t\t\tenableSearch: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\ttabs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'persons',\n\t\t\t\t\t\t\ttitle: Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_DIALOG_TAB_TITLE_PERSON'),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\trecentTabOptions: {\n\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tselector.getOuterContainer().style.border = 'none';\n\t\t\tselector.getOuterContainer().style.width = '100%';\n\n\t\t\treturn selector;\n\t\t},\n\n\t\thandleItemRemove(tag)\n\t\t{\n\t\t\tthis.$emit('removeEntity', { id: tag.id });\n\t\t},\n\n\t\thandleItemSelect(tag)\n\t\t{\n\t\t\tthis.$emit('addEntity', { id: tag.id });\n\t\t},\n\t},\n\n\ttemplate: `\n\t\t<div \n\t\t\tclass=\"hr-hcmlink-item-employee__container\"\n\t\t\t:class=\"{'hr-hcmlink-selector-entity__border': isBorderedEmployee}\"\n\t\t\tref=\"container\"\n\t\t></div>\n\t`,\n};\n","import { AvatarRound } from 'ui.avatar';\n\nimport '../styles/user-item.css';\n\nexport const UserItem = {\n\tname: 'UserItem',\n\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmode: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tmounted()\n\t{\n\t\tthis.getUserAvatarEntity().renderTo(this.$refs.avatarContainer);\n\t},\n\n\tmethods: {\n\t\tgetUserAvatarEntity() {\n\t\t\treturn new AvatarRound({\n\t\t\t\tsize: 36,\n\t\t\t\tuserName: this.item.name,\n\t\t\t\tbaseColor: '#FF7C78',\n\t\t\t\tuserpicPath: this.item.avatarLink,\n\t\t\t});\n\t\t},\n\t},\n\n\ttemplate: `\n\t\t<div \n\t\t\tclass=\"hr-hcmlink-item-user__container\"\n\t\t\t:class=\"{'hr-hcmlink-item-user__container_person': mode === 'reverse'}\"\n\t\t\tref=\"container\"\n\t\t>\n\t\t\t<div class=\"hr-hcmlink-item-user__avatar\" ref=\"avatarContainer\"></div>\n\t\t\t<div class=\"hr-hcmlink-item-user_info\">\n\t\t\t\t<div class=\"hr-hcmlink-item-user__info-name\">{{ item.name }}</div>\n\t\t\t\t<div class=\"hr-hcmlink-item-user__info-position\">{{ item.position }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Main, Icon } from 'ui.icon-set.api.core';\nimport { PopupMenu } from 'main.popup';\nimport 'ui.icon-set.actions';\n\nexport const MoreOptions = {\n\tname: 'MoreOption',\n\n\tmethods: {\n\t\tshowMenu() {\n\t\t\tconst popupMenu = PopupMenu.create({\n\t\t\t\tid: 'humanresources-mapper-menu-line-option',\n\t\t\t\tautoHide: true,\n\t\t\t\tbindElement: this.$refs.container,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: 'first',\n\t\t\t\t\t\tonclick: (event, item) => {\n\t\t\t\t\t\t\titem.menuWindow.close();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: 'second',\n\t\t\t\t\t\tonclick: (event, item) => {\n\t\t\t\t\t\t\titem.menuWindow.close();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\n\t\t\tpopupMenu.show();\n\t\t},\n\t},\n\n\tmounted()\n\t{\n\t\tnew Icon({\n\t\t\ticon: Main.MORE_INFORMATION,\n\t\t\tsize: 24,\n\t\t\tcolor: getComputedStyle(document.body).getPropertyValue('--ui-color-palette-gray-30'),\n\t\t}).renderTo(this.$refs.container);\n\t},\n\n\ttemplate: `\n\t\t<div class=\"hr-hcmlink-more-options__container\">\n\t\t\t<span \n\t\t\t\tref=\"container\"\n\t\t\t\t@click=\"showMenu\"\n\t\t\t></span>\n\t\t</div>\n\t`,\n};\n","import { Separator } from './separator';\nimport { PersonItem } from './person-item';\nimport { UserItem } from './user-item';\nimport { MoreOptions } from './more-option';\nimport '../styles/line.css';\n\nexport const Line = {\n\tname: 'Line',\n\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmappedUserIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tdata()\n\t{\n\t\treturn {\n\t\t\thasLink: false,\n\t\t};\n\t},\n\n\temits:\n\t[\n\t\t'createLink',\n\t\t'removeLink',\n\t],\n\n\tcomponents: {\n\t\tPersonItem,\n\t\tUserItem,\n\t\tSeparator,\n\t\tMoreOptions,\n\t},\n\n\tmethods: {\n\t\tonAddEntity(options)\n\t\t{\n\t\t\tif (this.config.mode === 'direct')\n\t\t\t{\n\t\t\t\tthis.$emit('createLink', { userId: this.item.id, personId: options.id });\n\t\t\t\tthis.hasLink = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$emit('createLink', { userId: options.id, personId: this.item.id });\n\t\t\t\tthis.hasLink = true;\n\t\t\t}\n\t\t},\n\t\tonRemoveEntity(options)\n\t\t{\n\t\t\tconst userId = this.config.mode === 'direct' ? this.item.id : options.id;\n\n\t\t\tthis.$emit('removeLink', { userId });\n\t\t\tthis.hasLink = false;\n\t\t},\n\t},\n\n\ttemplate: `\n\t\t<div class=\"hr-hcmlink-sync__line-container\">\n\t\t\t<div class=\"hr-hcmlink-sync__line-left-container\">\n\t\t\t\t<UserItem\n\t\t\t\t\t:item = item\n\t\t\t\t    :mode=\"config.mode\"\n\t\t\t\t></UserItem>\n\t\t\t\t<Separator\n\t\t\t\t\t:hasLink = hasLink\n\t\t\t\t></Separator>\n\t\t\t</div>\n\t\t\t<div class=\"hr-hcmlink-sync__line-right-container\">\n\t\t\t\t<PersonItem\n\t\t\t\t\t:config = config\n\t\t\t\t\t:mappedUserIds=mappedUserIds\n\t\t\t\t\t@addEntity=\"onAddEntity\"\n\t\t\t\t\t@removeEntity=\"onRemoveEntity\"\n\t\t\t\t></PersonItem>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","export const ColumnTitle = {\n\tname: 'ColumnTitle',\n\n\tprops: {\n\t\tmode: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\ttemplate: `\n\t\t<template v-if=\"mode=='direct'\">\n\t\t\t<div class=\"hr-hcmlink-sync__column-title-container\">\n\t\t\t\t<div>\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_COLUMN_TITLE_BITRIX') }}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_COLUMN_TITLE_ZUP') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<div class=\"hr-hcmlink-sync__column-title-container\">\n\t\t\t\t<div>\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_COLUMN_TITLE_ZUP') }}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_COLUMN_TITLE_BITRIX') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t`,\n};","import { $Bitrix } from 'ui.vue3';\n\nexport const Counter = {\n\tname: 'Counter',\n\n\tprops: {\n\t\tcountAllPersonsForMap: {\n\t\t\trequired: true,\n\t\t\ttype: Number,\n\t\t},\n\t\tcountMappedPersons: {\n\t\t\trequired: true,\n\t\t\ttype: Number,\n\t\t},\n\t\tcountUnmappedPersons: {\n\t\t\trequired: true,\n\t\t\ttype: Number,\n\t\t},\n\t\tconfig: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t},\n\n\ttemplate:`\n        <div class=\"hr-hcmlink-sync__page_counter_container\">\n\t\t\t<template v-if=\"config.mode === 'direct'\">\n\t\t\t\t<span class=\"hr-hcmlink-sync__page_count-title\">{{ $Bitrix.Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_SLIDER_PAGE_MAPPED_TITLE') }}: </span>\n\t\t\t\t<span class=\"hr-hcmlink-sync__page_mapped-persons-count\">{{ countMappedPersons }} </span>\n\t\t\t\t<span class=\"hr-hcmlink-sync__page_all-persons-count\"> / {{ countAllPersonsForMap }} </span>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<span class=\"hr-hcmlink-sync__page_count-title\">{{ $Bitrix.Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_SLIDER_PAGE_UNMAPPED_TITLE') }}: </span>\n\t\t\t\t<span class=\"hr-hcmlink-sync__page_mapped-persons-count\">{{ countUnmappedPersons }} </span>\n\t\t\t</template>\n        </div>\n\t`,\n};","import { Alert } from 'ui.alerts';\nimport { Line } from './line';\nimport { ColumnTitle } from './column-title';\nimport { Counter } from './counter';\nimport { Event, Loc, Tag } from 'main.core';\n\nimport '../styles/page.css';\n\nconst HELPDESK_CODE = '23343056';\n\nexport const Page = {\n\tname: 'Page',\n\n\tprops: {\n\t\tcollection: {\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t\tmappedUserIds: {\n\t\t\trequired: true,\n\t\t\ttype: Array,\n\t\t},\n\t\tconfig: {\n\t\t\trequired: true,\n\t\t\ttype: {\n\t\t\t\tmode: String,\n\t\t\t\tisHideInfoAlert: Boolean,\n\t\t\t},\n\t\t},\n\t},\n\n\tcomponents: {\n\t\tLine,\n\t\tColumnTitle,\n\t\tCounter,\n\t},\n\n\temits:\n\t[\n\t\t'createLink',\n\t\t'removeLink',\n\t\t'closeAlert',\n\t],\n\n\tmounted()\n\t{\n\t\tif (!this.config.isHideInfoAlert)\n\t\t{\n\t\t\tthis.showAlert();\n\t\t}\n\t},\n\n\tmethods: {\n\t\tshowAlert()\n\t\t{\n\t\t\tconst moreButton = Tag.render`<span class=\"hr-hcmlink-mapping-alert-container__more-button\">${Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_SHOW_MORE_BUTTON')}</span>`;\n\t\t\tconst alert = new Alert({\n\t\t\t\ttext: Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_ALERT_INFO'),\n\t\t\t\tcolor: Alert.Color.PRIMARY,\n\t\t\t\tsize: Alert.Size.MD,\n\t\t\t\tcloseBtn: true,\n\t\t\t\tanimated: true,\n\t\t\t\tcustomClass: 'hr-hcmlink-mapping-alert-container',\n\t\t\t\tafterMessageHtml: moreButton,\n\t\t\t});\n\n\t\t\talert.renderTo(this.$refs.alertContainer);\n\n\t\t\tEvent.bind(alert.getCloseBtn(), 'click', this.onCloseAlertButton);\n\t\t\tEvent.bind(moreButton, 'click', this.showDocumentation);\n\t\t},\n\t\tshowDocumentation(event)\n\t\t{\n\t\t\tif (top.BX.Helper)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\ttop.BX.Helper.show(`redirect=detail&code=${HELPDESK_CODE}`);\n\t\t\t}\n\t\t},\n\t\tonCloseAlertButton()\n\t\t{\n\t\t\tthis.$emit('closeAlert');\n\t\t},\n\t\tonCreateLink(options)\n\t\t{\n\t\t\tthis.$emit('createLink', options);\n\t\t},\n\t\tonRemoveLink(options)\n\t\t{\n\t\t\tthis.$emit('removeLink', options);\n\t\t},\n\t},\n\n\ttemplate: `\n\t\t<div>\n\t\t\t<div ref=\"alertContainer\" v-if=\"!config.isHideInfoAlert\"></div>\n\t\t\t<div class=\"hr-hcmlink-mapping-page-container\" ref=\"container\">\n\t\t\t\t<div style=\"z-index: 100\">\n\t\t\t\t\t<ColumnTitle\n\t\t\t\t\t\t:mode = config.mode\n\t\t\t\t\t></ColumnTitle>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"item in collection\"\n\t\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Line\n\t\t\t\t\t\t\t:item = item\n\t\t\t\t\t\t\t:config = config\n\t\t\t\t\t\t\t:mappedUserIds=mappedUserIds\n\t\t\t\t\t\t\t@createLink=\"onCreateLink\"\n\t\t\t\t\t\t\t@removeLink=\"onRemoveLink\"\n\t\t\t\t\t\t></Line>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"hr-hcmlink-mapping-page-person-wrapper hr-hcmlink-mapping-page-person-wrapper_right\" ref=\"person_wrapper\" v-if=\"config.mode == 'direct'\"></div>\n\t\t\t\t<div class=\"hr-hcmlink-mapping-page-person-wrapper hr-hcmlink-mapping-page-person-wrapper_left\" ref=\"person_wrapper\" v-if=\"config.mode == 'reverse'\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Runtime } from 'main.core';\n\nexport const Loader = {\n\tname: 'Loader',\n\tprops: {\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 70,\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: '#2fc6f6',\n\t\t},\n\t\toffset: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tmode: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tcreated(): void\n\t{\n\t\tthis.loader = null;\n\t},\n\tasync mounted(): void\n\t{\n\t\t// eslint-disable-next-line no-shadow\n\t\tconst { Loader } = await Runtime.loadExtension('main.loader');\n\t\tthis.loader = new Loader({\n\t\t\ttarget: this.$refs.container,\n\t\t\tsize: this.size,\n\t\t\tcolor: this.color,\n\t\t\toffset: this.offset,\n\t\t\tmode: this.mode,\n\t\t});\n\n\t\tthis.loader.show();\n\t},\n\tbeforeUnmount(): void\n\t{\n\t\tif (this.loader)\n\t\t{\n\t\t\tthis.loader.destroy();\n\t\t\tthis.loader = null;\n\t\t}\n\t},\n\ttemplate: '<span ref=\"container\"></span>',\n};\n","import { Loc } from 'main.core';\nimport { Button } from 'ui.buttons';\n\nimport '../styles/state-screen.css';\n\nexport const StateScreen = {\n\tname: 'StateScreen',\n\n\tprops: {\n\t\tstatus: {\n\t\t\trequired: true,\n\t\t\ttype: String,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tstate: this.isDoneState() ? 'done' : 'pending',\n\t\t};\n\t},\n\n\temits: ['completeMapping'],\n\n\tmethods: {\n\t\tisDoneState() {\n\t\t\treturn ['done', 'salaryDone'].includes(this.status);\n\t\t},\n\n\t\tgetButton()\n\t\t{\n\t\t\tconst text = this.status === 'done'\n\t\t\t\t? Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_STATE_BUTTON_CLOSE')\n\t\t\t\t: Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_STATE_BUTTON_SALARY_CLOSE')\n\t\t\t;\n\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\tround: true,\n\t\t\t\tsize: Button.Size.LARGE,\n\t\t\t\ttext,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tthis.$emit('completeMapping');\n\t\t\t\t\tBX.SidePanel.Instance.getTopSlider().close();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\n\tmounted()\n\t{\n\t\tthis.getButton().renderTo(this.$refs.buttonContainer);\n\t},\n\n\tcomputed: {\n\t\ttitle() {\n\t\t\tswitch (this.status)\n\t\t\t{\n\t\t\t\tcase 'pending': return Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_STATE_TITLE_STATUS_PENDING');\n\t\t\t\tcase 'done': return Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_STATE_TITLE_STATUS_DONE');\n\t\t\t\tcase 'salaryDone': return Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_STATE_TITLE_STATUS_SALARY_DONE');\n\t\t\t\tdefault: return '';\n\t\t\t}\n\t\t},\n\t\tdescription() {\n\t\t\tswitch (this.status)\n\t\t\t{\n\t\t\t\tcase 'pending': return Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_STATE_DESCRIPTION_STATUS_PENDING');\n\t\t\t\tcase 'done': return Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_STATE_DESCRIPTION_STATUS_DONE');\n\t\t\t\tcase 'salaryDone': return Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_STATE_DESCRIPTION_STATUS_SALARY_DONE');\n\t\t\t\tdefault: return '';\n\t\t\t}\n\t\t},\n\n\t\tstateClassList() {\n\t\t\treturn {\n\t\t\t\t'--done': this.isDoneState(),\n\t\t\t\t'--pending': this.status === 'pending',\n\t\t\t};\n\t\t},\n\t},\n\n\ttemplate: `\n\t\t<div \n\t\t\tclass=\"hr-hcmlink-mapping-person__state-screen\"\n            :class=\"stateClassList\"\n\t\t>\n\t\t\t<div class=\"hr-hcmlink-mapping-person__state-screen_icon\"></div>\n\t\t\t<div class=\"hr-hcmlink-mapping-person__state-screen_title\">{{ title }}</div>\n\t\t\t<div \n\t\t\t\tclass=\"hr-hcmlink-mapping-person__state-screen_desc\"\n\t\t\t\tv-html=\"description\"\n\t\t\t>\n\t\t\t</div>\n\t\t\t<div \n\t\t\t\tv-if=\"state === 'done'\"\n\t\t\t\tclass=\"hr-hcmlink-mapping-person__state-screen_close-button\" ref=\"buttonContainer\"\n\t\t\t></div>\n\t\t</div>\n\t`,\n};\n","import { BitrixVue, VueCreateAppResult } from 'ui.vue3';\nimport { Page } from './components/page';\nimport { Loader } from './components/loader';\nimport { Counter } from './components/counter';\nimport { StateScreen } from './components/state-screen';\nimport { Api } from 'humanresources.hcmlink.api';\nimport { Dom, Loc, Tag, Type } from 'main.core';\nimport { Layout } from 'ui.sidepanel.layout';\n\nimport './styles/mapper.css';\n\ntype MapperOptions = {\n\tcompanyId: number,\n\tuserIds: ?Set,\n\tmode: 'direct' | 'reverse',\n};\n\nexport class Mapper\n{\n\t#container: HTMLElement;\n\tlayout: Layout;\n\t#application: VueCreateAppResult | null = null;\n\tapi: Api;\n\toptions: MapperOptions;\n\n\tstatic MODE_DIRECT = 'direct';\n\tstatic MODE_REVERSE = 'reverse';\n\n\tconstructor(options: MapperOptions)\n\t{\n\t\tthis.api = new Api();\n\t\tthis.options = options;\n\n\t\tif (Type.isNil(this.options.userIds))\n\t\t{\n\t\t\tthis.options.userIds = new Set();\n\t\t}\n\t}\n\n\tstatic openSlider(\n\t\toptions: MapperOptions,\n\t\tsliderOptions: { onCloseHandler: () => void },\n\t): void\n\t{\n\t\tBX.SidePanel.Instance.open('humanresources:mapper', {\n\t\t\twidth: 800,\n\t\t\tloader: 'default-loader',\n\t\t\tcacheable: false,\n\t\t\tcontentCallback: () => {\n\t\t\t\treturn top.BX.Runtime.loadExtension('humanresources.hcmlink.data-mapper').then((exports) => {\n\t\t\t\t\treturn (new exports.Mapper(options)).getLayout();\n\t\t\t\t});\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonClose: sliderOptions?.onCloseHandler ?? (() => {}),\n\t\t\t},\n\t\t});\n\t}\n\n\trenderTo(container: HTMLElement)\n\t{\n\t\tDom.append(this.render(), container);\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tthis.#container = document.createElement('div');\n\t\tif (this.#application === null)\n\t\t{\n\t\t\tthis.#application = BitrixVue.createApp(this.makeRootVueComponent());\n\t\t\tthis.component = this.#application.mount(this.#container);\n\t\t}\n\n\t\treturn this.#container;\n\t}\n\n\tasync getLayout()\n\t{\n\t\tconst getContentLayout = function(): HTMLElement {\n\t\t\treturn this.render();\n\t\t}.bind(this);\n\n\t\tconst saveAction = async function() {\n\t\t\tconst collection = Object.values(this.component.getUserMappingSet());\n\n\t\t\treturn this.api.saveMapping({\n\t\t\t\tcollection,\n\t\t\t\tcompanyId: this.options.companyId,\n\t\t\t});\n\t\t}.bind(this);\n\n\t\tconst prepareNextUsers = async function() {\n\t\t\tthis.component.prepareNextUsers();\n\t\t}.bind(this);\n\n\t\tthis.layout = await Layout.createLayout({\n\t\t\textensions: [\n\t\t\t\t'humanresources.hcmlink.data-mapper',\n\t\t\t\t'ui.entity-selector',\n\t\t\t\t'ui.icon-set.actions',\n\t\t\t\t'ui.select',\n\t\t\t\t'popup',\n\t\t\t],\n\t\t\ttitle: Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_SLIDER_TITLE'),\n\t\t\ttoolbar()\n\t\t\t{\n\t\t\t\treturn [\n\t\t\t\t\tTag.render`<div id=\"hr-hcmlink-toolbar-container\"></div>`,\n\t\t\t\t];\n\t\t\t},\n\t\t\tcontent(): HTMLElement\n\t\t\t{\n\t\t\t\treturn getContentLayout();\n\t\t\t},\n\t\t\tbuttons({ cancelButton, SaveButton }): Array\n\t\t\t{\n\t\t\t\treturn [\n\t\t\t\t\tnew SaveButton({\n\t\t\t\t\t\ttext: Loc.getMessage('HUMANRESOURCES_HCMLINK_MAPPER_BUTTON_SAVE_AND_CONTINUE'),\n\t\t\t\t\t\tasync onclick() {\n\t\t\t\t\t\t\tconst result = await saveAction();\n\t\t\t\t\t\t\tif (result)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tawait prepareNextUsers();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tround: true,\n\t\t\t\t\t}),\n\t\t\t\t\tcancelButton,\n\t\t\t\t];\n\t\t\t},\n\t\t});\n\n\t\treturn this.layout.render();\n\t}\n\n\tmakeRootVueComponent(): Object\n\t{\n\t\tconst context = this;\n\n\t\treturn {\n\t\t\tname: 'HumanresourcesHcmlinkMapper',\n\n\t\t\tcomponents: {\n\t\t\t\tPage,\n\t\t\t\tLoader,\n\t\t\t\tCounter,\n\t\t\t\tStateScreen,\n\t\t\t},\n\n\t\t\tdata() {\n\t\t\t\treturn {\n\t\t\t\t\tloading: false,\n\t\t\t\t\tconfig: {\n\t\t\t\t\t\tcompanyId: context.options.companyId,\n\t\t\t\t\t\tmode: context.options.mode ?? 'direct',\n\t\t\t\t\t\tisHideInfoAlert: true,\n\t\t\t\t\t},\n\t\t\t\t\tpageCount: 0,\n\t\t\t\t\tmappingEntityCollection: [],\n\t\t\t\t\tuserMappingSet: {},\n\t\t\t\t\tuserIdCollection: [...context.options.userIds],\n\t\t\t\t\tisJobResolved: false,\n\t\t\t\t\tjobId: null,\n\t\t\t\t\tisDone: false,\n\t\t\t\t\tcountAllPersonsForMap: 0,\n\t\t\t\t\tcountMappedPersons: 0,\n\t\t\t\t\tcountUnmappedPersons: 0,\n\t\t\t\t\tcounterContainer: '#hr-hcmlink-toolbar-container',\n\t\t\t\t\tisReadyToolbar: false,\n\t\t\t\t\tcompletedStatus: context.options.mode === 'direct' ? 'done' : 'salaryDone',\n\t\t\t\t\tjobResolverInterval: null,\n\t\t\t\t\tmappedUserIds: [],\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tcreated(): void\n\t\t\t{\n\t\t\t\tthis.footerDisplay(false);\n\t\t\t\tthis.createUpdateEmployeeListJob();\n\t\t\t},\n\n\t\t\tcomputed: {\n\t\t\t\tisJobPending() {\n\t\t\t\t\treturn !this.isJobResolved && !this.isDone;\n\t\t\t\t},\n\t\t\t\tisMappingReady() {\n\t\t\t\t\treturn this.isJobResolved && !this.isDone;\n\t\t\t\t},\n\t\t\t\tisMappingDone() {\n\t\t\t\t\treturn this.isJobResolved && this.isDone;\n\t\t\t\t},\n\t\t\t},\n\n\t\t\twatch: {\n\t\t\t\tpageCount()\n\t\t\t\t{\n\t\t\t\t\tthis.loadConfig();\n\t\t\t\t},\n\t\t\t\tisMappingReady(value)\n\t\t\t\t{\n\t\t\t\t\tif (value)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.footerDisplay(true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tisMappingDone(value)\n\t\t\t\t{\n\t\t\t\t\tif (value)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.footerDisplay(false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tmounted()\n\t\t\t{\n\t\t\t\tthis.countAllPersonsForMap = this.userIdCollection.length;\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.isReadyToolbar = true;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tunmounted()\n\t\t\t{\n\t\t\t\tclearInterval(this.jobResolverInterval);\n\t\t\t},\n\n\t\t\tmethods: {\n\t\t\t\tprepareNextUsers()\n\t\t\t\t{\n\t\t\t\t\tthis.userMappingSet = {};\n\t\t\t\t\tthis.pageCount++;\n\t\t\t\t},\n\t\t\t\tgetUserMappingSet()\n\t\t\t\t{\n\t\t\t\t\treturn this.userMappingSet;\n\t\t\t\t},\n\t\t\t\tonCreateLink(options)\n\t\t\t\t{\n\t\t\t\t\tthis.userMappingSet[options.userId] = options;\n\t\t\t\t},\n\t\t\t\tonRemoveLink(options)\n\t\t\t\t{\n\t\t\t\t\tif (this.userMappingSet[options.userId] !== undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete this.userMappingSet[options.userId];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonCloseAlert()\n\t\t\t\t{\n\t\t\t\t\tcontext.api.closeInfoAlert();\n\t\t\t\t},\n\t\t\t\tonCompleteMapping()\n\t\t\t\t{\n\t\t\t\t\tcontext.api.createCompleteMappingEmployeeListJob({\n\t\t\t\t\t\tcompanyId: this.config.companyId,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tasync loadConfig()\n\t\t\t\t{\n\t\t\t\t\tthis.loading = true;\n\n\t\t\t\t\tconst {\n\t\t\t\t\t\titems,\n\t\t\t\t\t\tcountMappedPersons,\n\t\t\t\t\t\tcountUnmappedPersons,\n\t\t\t\t\t\tisHideInfoAlert,\n\t\t\t\t\t\tmappedUserIds,\n\t\t\t\t\t} = await context.api.loadMapperConfig({\n\t\t\t\t\t\tcompanyId: this.config.companyId,\n\t\t\t\t\t\tuserIds: this.userIdCollection,\n\t\t\t\t\t\tmode: this.config.mode,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.config.isHideInfoAlert = isHideInfoAlert;\n\t\t\t\t\tthis.countUnmappedPersons = countUnmappedPersons;\n\t\t\t\t\tthis.countMappedPersons = countMappedPersons;\n\t\t\t\t\tthis.mappingEntityCollection = Type.isArray(items) ? items : [];\n\t\t\t\t\tthis.mappedUserIds = mappedUserIds;\n\n\t\t\t\t\tthis.isDone = this.mappingEntityCollection.length === 0;\n\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t},\n\t\t\t\tasync createUpdateEmployeeListJob()\n\t\t\t\t{\n\t\t\t\t\tconst data = await context.api.createUpdateEmployeeListJob({\n\t\t\t\t\t\tcompanyId: this.config.companyId,\n\t\t\t\t\t});\n\t\t\t\t\tthis.jobId = data.jobId;\n\n\t\t\t\t\tthis.jobResolverInterval = setInterval(this.jobResolver.bind(this), 30000);\n\n\t\t\t\t\tBX.PULL.subscribe({\n\t\t\t\t\t\ttype: BX.PullClient.SubscriptionType.Server,\n\t\t\t\t\t\tmoduleId: 'humanresources',\n\t\t\t\t\t\tcommand: 'external_employee_list_updated',\n\t\t\t\t\t\tcallback: async function(params: {jobId: number, status: string}): Promise<void> {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t(params.jobId === this.jobId)\n\t\t\t\t\t\t\t\t&& (params.status === 3)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclearInterval(this.jobResolverInterval);\n\t\t\t\t\t\t\t\tawait this.loadConfig(params);\n\t\t\t\t\t\t\t\tthis.isJobResolved = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(this),\n\t\t\t\t\t});\n\t\t\t\t\tBX.PULL.extendWatch('humanresources_person_mapping');\n\t\t\t\t},\n\t\t\t\tasync jobResolver()\n\t\t\t\t{\n\t\t\t\t\tconst { params } = await context.api.getJobStatus({ jobId: this.jobId });\n\n\t\t\t\t\tif (params.status === 3)\n\t\t\t\t\t{\n\t\t\t\t\t\tclearInterval(this.jobResolverInterval);\n\t\t\t\t\t\tawait this.loadConfig(params);\n\t\t\t\t\t\tthis.isJobResolved = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfooterDisplay(show: boolean): void\n\t\t\t\t{\n\t\t\t\t\tif (!context.layout)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (context.layout.getFooterContainer())\n\t\t\t\t\t{\n\t\t\t\t\t\tDom.style(context.layout.getFooterContainer(), 'display', show ? 'block' : 'none');\n\t\t\t\t\t}\n\n\t\t\t\t\tconst footerAnchor = context.layout.getContainer()?.getElementsByClassName('ui-sidepanel-layout-footer-anchor')[0];\n\t\t\t\t\tif (footerAnchor)\n\t\t\t\t\t{\n\t\t\t\t\t\tDom.style(footerAnchor, 'display', show ? 'block' : 'none');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\n\t\t\ttemplate: `\n                <template v-if=\"isJobPending\">\n                    <StateScreen\n                        status='pending'\n                    ></StateScreen>\n                </template>\n                <template v-if=\"isMappingReady\">\n                    <Loader v-if=\"loading\"></Loader>\n                    <Page\n                        :collection=mappingEntityCollection\n\t\t\t\t\t\t:mappedUserIds=mappedUserIds\n                        :config=config\n                        @createLink=\"onCreateLink\"\n                        @removeLink=\"onRemoveLink\"\n\t\t\t\t\t\t@closeAlert=\"onCloseAlert\"\n                    ></Page>\n                </template>\n                <template v-if=\"isMappingDone\">\n                    <StateScreen\n\t                    :status=completedStatus\n\t\t\t\t\t\t@completeMapping='onCompleteMapping'\n                    ></StateScreen>\n                </template>\n\t\t\t\t<Teleport v-if=\"isReadyToolbar && isMappingReady\" :to=\"counterContainer\">\n\t\t\t\t\t<Counter\n\t\t\t\t\t\t:countAllPersonsForMap=countAllPersonsForMap\n\t\t\t\t\t\t:countMappedPersons=countMappedPersons\n\t\t\t\t\t\t:countUnmappedPersons=countUnmappedPersons\n\t\t\t\t\t\t:config=config\n\t\t\t\t\t></Counter>\n\t\t\t\t</Teleport>\n\t\t\t`,\n\t\t};\n\t}\n}\n"],"names":["Separator","name","props","hasLink","required","type","Boolean","computed","styleObject","template","PersonItem","config","Object","mappedUserIds","Array","data","isBorderedEmployee","mode","emits","mounted","selector","getPersonTagSelector","getUserTagSelector","renderTo","$refs","container","methods","TagSelector","multiple","events","onTagRemove","event","tag","getData","handleItemRemove","onTagAdd","handleItemSelect","addButtonCaption","Loc","getMessage","showCreateButton","dialogOptions","id","width","searchOptions","allowCreateItem","entities","options","inviteEmployeeLink","intranetUsersOnly","tabs","title","recentTabOptions","visible","getOuterContainer","style","tagTextColor","tagBgColor","tagFontWeight","enableSearch","companyId","dynamicLoad","dynamicSearch","border","$emit","UserItem","item","String","getUserAvatarEntity","avatarContainer","AvatarRound","size","userName","baseColor","userpicPath","avatarLink","MoreOptions","showMenu","popupMenu","PopupMenu","create","autoHide","bindElement","items","text","onclick","menuWindow","close","show","Icon","icon","Main","MORE_INFORMATION","color","getComputedStyle","document","body","getPropertyValue","Line","components","onAddEntity","userId","personId","onRemoveEntity","ColumnTitle","Counter","countAllPersonsForMap","Number","countMappedPersons","countUnmappedPersons","HELPDESK_CODE","Page","collection","isHideInfoAlert","showAlert","moreButton","Tag","render","alert","Alert","Color","PRIMARY","Size","MD","closeBtn","animated","customClass","afterMessageHtml","alertContainer","Event","bind","getCloseBtn","onCloseAlertButton","showDocumentation","top","BX","Helper","preventDefault","onCreateLink","onRemoveLink","Loader","default","offset","created","loader","Runtime","loadExtension","target","beforeUnmount","destroy","StateScreen","status","state","isDoneState","includes","getButton","Button","LIGHT_BORDER","round","LARGE","SidePanel","Instance","getTopSlider","buttonContainer","description","stateClassList","Mapper","constructor","api","Api","Type","isNil","userIds","Set","openSlider","sliderOptions","open","cacheable","contentCallback","then","exports","getLayout","onClose","onCloseHandler","Dom","append","createElement","BitrixVue","createApp","makeRootVueComponent","component","mount","getContentLayout","saveAction","values","getUserMappingSet","saveMapping","prepareNextUsers","layout","Layout","createLayout","extensions","toolbar","content","buttons","cancelButton","SaveButton","result","context","loading","pageCount","mappingEntityCollection","userMappingSet","userIdCollection","isJobResolved","jobId","isDone","counterContainer","isReadyToolbar","completedStatus","jobResolverInterval","footerDisplay","createUpdateEmployeeListJob","isJobPending","isMappingReady","isMappingDone","watch","loadConfig","value","length","$nextTick","unmounted","clearInterval","undefined","onCloseAlert","closeInfoAlert","onCompleteMapping","createCompleteMappingEmployeeListJob","loadMapperConfig","isArray","setInterval","jobResolver","PULL","subscribe","PullClient","SubscriptionType","Server","moduleId","command","callback","params","extendWatch","getJobStatus","getFooterContainer","footerAnchor","getContainer","getElementsByClassName","MODE_DIRECT","MODE_REVERSE"],"mappings":"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"}