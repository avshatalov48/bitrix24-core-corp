(function(e){var t,i=e.Aurigma?e.Aurigma.ImageUploaderFlash||{}:{},n={_cache:{},_uid:0,put:function(e){if(typeof e!="undefined"){var t=e.id();if(!t){t="_obj"+ ++this._uid;e.id(t)}e._cacheId=t;this._cache[t]=e}},get:function(e){var t=this._cache;if(t[e]){return t[e]}else{for(var i=0,n=t.length;i<n;i++){if(t[i]&&t[i].id()===e){return t[i]}}return null}}};var r=i.browser=new function(){var e=navigator.userAgent.toLowerCase();this.isOpera=e.indexOf("opera")>-1;this.isKonq=e.indexOf("konqueror")>-1;this.isChrome=e.indexOf("chrome")>-1;this.isSafari=e.indexOf("safari")>-1&&!this.isChrome;this.isKhtml=this.isSafari||this.isKonq||this.isChrome;this.isIE=e.indexOf("msie")!=-1&&!this.isOpera;this.isIE6XPSP2=this.isIE&&e.indexOf("sv1")>-1;this.isIE7=this.isIE&&e.indexOf("msie 7.0")>-1;this.isIE8=this.isIE&&e.indexOf("msie 8.0")>-1;this.isBeforeIE6XPSP2=this.isIE&&!this.isIE6XPSP2&&!this.isIE7&&!this.isIE8;this.isWinIE=this.isIE&&e.indexOf("mac")==-1;this.isIE64=this.isIE&&e.indexOf("win64")>-1;this.isFF=e.indexOf("firefox")>-1;this.isWindowsOS=navigator.platform.indexOf("Win")>-1},o=function(e){i.debug().showInfo(e)},a=function(e){i.debug().showError(e)},s=function(e){if(e&&typeof e.replace==="function"){var t=[['"',"&#34;"],["'","&#39;"],["&","&#38;"],["<","&#60;"],[">","&#62;"]];var i=/\"|\'|&|<|>/g;return e.replace(i,function(e){for(var i=0,n=t.length;i<n;i++){if(e==t[i][0]){return t[i][1]}}return e})}else{return e}},l=e.getCurrentUrl=function(){return document.location.href},u=function(e,t){return["__"+e.id(),"_",t].join("")},c=function(){var e=[],t,i,n;if(this._simpleProperties&&this._simpleProperties.length>0){for(t=0,i=this._simpleProperties.length;t<i;t++){if(!this._simpleProperties[t].isAttribute){n=this[this._simpleProperties[t].name]()+"";if(n!="null"&&n!="undefined"){e.push({name:this._simpleProperties[t].render||this._simpleProperties[t].name,value:n})}}}}if(this._objectProperties&&this._objectProperties.length>0){for(t=0,i=this._objectProperties.length;t<i;t++){n=this[this._objectProperties[t].name]();if(typeof n.getParams==="function"){e=e.concat(n.getParams())}}}return e},p=function(e,t,i){var n,r,o;if(typeof e!=="object"&&Object.prototype.toString.call(e)!=="[object Function]"){e={}}if(t!=null){for(n in t){r=e[n];o=t[n];if(e===o){continue}if(i&&typeof o==="object"){if(!r){if(Object.prototype.toString.call(o)==="[object Array]"){r=[]}else{r={}}}e[n]=p(r,o,i)}else if(o!==undefined){e[n]=o}}}return e},f={createSimpleProperty:function(e,t){if(typeof t.name==="string"){var i="_"+t.name;e[i]=t.defaultValue;e[t.name]=function(){if(arguments.length>0){this[i]=arguments[0]}else{return this[i]}}}},createObjectProperty:function(e,t,i){var n=new t.type;var r="_"+t.name;e[r]=n;if(typeof t.type.init==="function"){t.type.init(n,i)}else{var o="Can not create property '"+t.name+"'. 'init' method is not a function.";a(o);throw o}e[t.name]=function(){if(arguments.length>0){var e=arguments[0];for(var t in e){if(typeof this[r][t]==="function"){this[r][t](e[t])}else{a("Control have not "+t+" propery")}}}else{return this[r]}}},createControlProperty:function(e,i){if(typeof i.name==="string"&&!i.renderOnly){try{var n=e[i.name](),r=e._uploader,o=r.getElement();var a=i.getter,s=i.setter;if(a===1||s===1){var l=i.render||i.name;l=l.charAt(0).toUpperCase()+l.substring(1);if(a===1){a="get"+l}if(s===1){s="set"+l}}e[i.name]=function(){if(arguments.length>0){return o.callFlash(s,arguments[0])}else{return o.callFlash(a)}};if(n!==t&&s){e[i.name](n)}}catch(u){var c="Can't create property '"+i.name+"'.\r\n";if(typeof u==="string"){u=c+u}else{u.message=c+(u.message||u.description||u)}throw u}}},createAttributeProperty:function(e,t){var i=e._uploader,n=i.getElement();e[t.name]=function(){if(arguments.length>0){return n[t.name]=arguments[0]}else{return n[t.name]}}},createMethod:function(e,t){var i=e._uploader,n=i.getElement();var r=t.controlMethodName||t.name;e[t.name]=function(){var e=arguments;switch(e.length){case 0:return n.callFlash(r);case 1:return n.callFlash(r,e[0]);case 2:return n.callFlash(r,e[0],e[1]);case 3:return n.callFlash(r,e[0],e[1],e[2]);case 4:return n.callFlash(r,e[0],e[1],e[2],e[3]);case 5:return n.callFlash(r,e[0],e[1],e[2],e[3],e[4])}}},_typicalInit:function(e,t){e._uploader=t;if(e._simpleProperties){for(var i=0,n=e._simpleProperties.length;i<n;i++){f.createSimpleProperty(e,e._simpleProperties[i])}}if(e._objectProperties){for(var i=0,n=e._objectProperties.length;i<n;i++){f.createObjectProperty(e,e._objectProperties[i],t)}}},_typicalReinit:function(e){if(e._simpleProperties){for(var t=0,i=e._simpleProperties.length;t<i;t++){var n=e._simpleProperties[t];if(!n.isAttribute){f.createControlProperty(e,n)}}}if(e._objectProperties){for(var t=0,i=e._objectProperties.length;t<i;t++){var n=e._objectProperties[t];if(n.type&&typeof n.type.reinit==="function"){n.type.reinit(e[n.name]())}}}if(e._methods&&e._methods.length>0){for(var t=0,i=e._methods.length;t<i;t++){f.createMethod(e,e._methods[t])}}}};i.flashDetector={detectVersion:function(){var t=null,i=navigator.plugins,n;if(i&&typeof(n=i["Shockwave Flash 2.0"]||i["Shockwave Flash"])!=="undefined"){var r=n.description;var o=/^.+\s+(\d+).(\d+)\s+r(\d+)$/.exec(r);var a=parseInt(o[1],10)||0;var s=parseInt(o[2],10)||0;var l=parseInt(o[3],10)||0;t=[a,s,l]}else if(e.ActiveXObject){try{var u=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(c){try{u=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");t=[6,0,21];u.AllowScriptAccess="always"}catch(c){}}if(u){try{var p=u.GetVariable("$version");o=/^\S+\s+(\d+),(\d+),(\d+)(,\d+)?$/.exec(p);a=parseInt(o[1],10)||0;s=parseInt(o[2],10)||0;l=parseInt(o[3],10)||0;t=[a,s,l]}catch(c){}}}if(!t){t=[-1,-1,-1]}return t}};i.debug=function(){if(!this._debug){var e=function(){this.constructor=i.debug};e.prototype=i.debug.prototype;this._debug=new e}return this._debug};i.debug.prototype={__class:true,_level:0,_mode:["popup","console","alert"],mode:function(e){if(arguments.length>0){var t=arguments[0];if(t instanceof Array){this._mode=arguments[0]}else{this._mode=[arguments[0]]}}else{return this._mode}},level:function(e){if(arguments.length>0){this._level=arguments[0]}else{return this._level}},showError:function(e){this.showMessage(e,1)},_showUploaderMessage:function(e){this.showMessage(e,2)},showInfo:function(e){this.showMessage(e,3)},showMessage:function(t,i){if(i>this._level){return}for(var n=0,r=this._mode.length;n<r;n++){switch(this._mode[n]){case"console":if(typeof e.console!="undefined"&&console.log){console.log(t);return}break;case"popup":if(!this._popupWindow||this._popupWindow.closed){this._popupWindow=e.open("","ImageUploaderDebugWindow","width=300,height=200,menubar=1,status=1,scrollbars=1,resizable=1");if(!this._popupWindow)break;var o=this._popupWindow.document.getElementsByTagName("ol");if(!o||o.length==0){var a=[];a.push('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n');a.push('<html xmlns="http://www.w3.org/1999/xhtml">\n');a.push("<head>");a.push("<title>Image Uploader Log Window</title>");a.push('<style type="text/css">* { margin:0; padding: 0; font-family: "Lucida Console", Monaco, monospace; } li { border-bottom:1px solid #aaa; padding: 10px; } li:nth-child(odd) { background-color: #fafafa; }</style>');a.push("</head>");a.push("<body>");a.push('<input type="button" value="Clear" onclick=\'document.getElementsByTagName("ol")[0].innerHTML = "";\' />');a.push("<ol>");a.push("</ol>");a.push('<input type="button" value="Clear" onclick=\'document.getElementsByTagName("ol")[0].innerHTML = "";\' />');a.push("</body>");a.push("</html>");this._popupWindow.document.write(a.join(""))}}var s=this._popupWindow.document.createElement("li"),l=this._popupWindow.document.createElement("pre"),u=this._popupWindow.document.createTextNode(t);l.appendChild(u);s.appendChild(l);this._popupWindow.document.getElementsByTagName("ol")[0].appendChild(s);return;case"alert":alert(t);return}}}};var m=function(){function e(e){var t=e.name,i=e.type,n=e.tagName.toLowerCase();if(!t||e.disabled||i=="reset"||i=="button"||i=="file"||i=="submit"||i=="image"||(i=="checkbox"||i=="radio")&&!e.checked||n=="select"&&e.selectedIndex==-1){return null}if(n=="select"){var r=e.selectedIndex;if(r<0)return null;var o=[],a=e.options;var s=i=="select-one";var l=s?r+1:a.length;for(var u=s?r:0;u<l;u++){var c=a[u];if(c.selected){var p=c.value;if(!p)p=c.attributes&&c.attributes["value"]&&!c.attributes["value"].specified?c.text:c.value;if(s)return p;o.push(p)}}return o}return e.value}function t(t){var i=[];var n=t.elements;if(!n)return i;for(var r=0,o=n.length;r<o;r++){var a=n[r];var s=a.name;if(!s)continue;var l=e(a);if(l&&l.constructor==Array){for(var u=0,c=l.length;u<c;u++)i.push({name:s,value:l[u],array:true,first:u===0})}else if(l!==null&&typeof l!="undefined")i.push({name:s,value:l})}return i}return{formToArray:t}}();function d(){this._simpleProperties=[{name:"id",isAttribute:true}]}d.prototype={__class:true,state:function(){if(arguments.length>0){this._state=arguments[0]}else{return this._state}},set:function(e){for(var t in e){if(typeof this[t]==="function"){this[t](e[t])}else{a("Uploader haven't "+t+" property.")}}},writeHtml:function(){e.document.write(this.getHtml())},getHtml:function(){var n=this,r=this.id(),o=this.events();var s=function(i,r){return function(){var o=true;if(i._handlers&&i._handlers.length>0){for(var s=0,l=i._handlers.length;s<l;s++){try{var u=i._handlers[s];var c;if(typeof u==="function"){c=u.apply(n,arguments)}else if(typeof e[u]==="function"){c=e[u].apply(n,arguments)}else{a(r+' error:\n "'+u+'" handler is not defined.')}if(r==="beforeUpload"||r==="afterPackageUpload"){if(!o){c=o}else if(c!==t){o=c===false||c===0?false:true}}}catch(p){a(r+" error:\n"+(p.message||p.description||p));throw p}}}return c}};if(o.preRender().count()>0){s(o.preRender(),"preRender")()}if(i.debug().level()>=2&&o.trace){o.trace().add(function(e){i.debug()._showUploaderMessage(e)})}for(var l in o){if(l!="getParams"&&l!="preRender"){var c=o[l];if(typeof c==="function"&&c()instanceof i.event&&c().count()>0){e[u(this,l)]=s(c(),l)}}}return g(this).html()},getElement:function(){return e.document.getElementById(this.id())},getParams:function(){var e=c.call(this);e.push({name:"debugMode",value:i.debug().level()>=2});e.push({name:"traceToJS",value:true});return e},registerCallback:function(e,t,i){this._clbs=this._clbs||{};this._clbs[e]=this._clbs[e]||[];this._clbs[e].push({func:t,ctx:i})},_invokeCallback:function(e,t){if(!this._clbs||!this._clbs[e]){return}var i=this._clbs[e];for(var n=0,r=i.length;n<r;n++){var o=i[n];o.func.apply(o.ctx,t)}},id:function(e){}};function h(e){this._eventNames=["initComplete","preRender"]}h.prototype={__class:true,initComplete:function(){},preRender:function(){},getParams:function(){var e=[];for(var t=0,i=this._eventNames.length;t<i;t++){var n=this._eventNames[t],r=this[n];if(typeof r==="function"&&r().count()>0){e.push({name:n.toLowerCase()+"listener",value:u(this._uploader,n)})}}return e}};h.init=function(e,t){e._uploader=t;var n=e._eventNames;var r=function(){var e=new i.event;return function(){if(arguments.length>0){e.add(arguments[0])}return e}};for(var o=0,a=n.length;o<a;o++){e[n[o]]=r()}};h.prototype.constructor=h;i.commonDialog=function(){};i.commonDialog.prototype={__class:true,_simpleProperties:[{name:"cancelButtonText",getter:1,setter:1,render:"CommonDialogCancelButtonText"},{name:"okButtonText",getter:1,setter:1,render:"CommonDialogOkButtonText"}],getParams:c,cancelButtonText:function(e){},okButtonText:function(e){}};i.commonDialog.init=f._typicalInit;i.commonDialog.reinit=f._typicalReinit;i.converter=function(e){if(i.converter.init){i.converter.init()}this.mode("*.*=SourceFile");if(e){this.set(e)}};i.converter.init=function(){var e=i.converter.prototype;if(e._simpleProperties){for(var t=0,n=e._simpleProperties.length;t<n;t++){var r=e._simpleProperties[t];f.createSimpleProperty(e,r)}}delete i.converter.init};i.converter.prototype={__class:true,_simpleProperties:[{name:"thumbnailBgColor",getter:1,setter:1,render:"ConverterThumbnailBgColor"},{name:"thumbnailCopyExif",getter:1,setter:1,render:"ConverterThumbnailCopyExif"},{name:"thumbnailCopyIptc",getter:1,setter:1,render:"ConverterThumbnailCopyIptc"},{name:"thumbnailFitMode",getter:1,setter:1,render:"ConverterThumbnailFitMode"},{name:"thumbnailHeight",getter:1,setter:1,render:"ConverterThumbnailHeight"},{name:"thumbnailJpegQuality",getter:1,setter:1,render:"ConverterThumbnailJpegQuality"},{name:"thumbnailWidth",getter:1,setter:1,render:"ConverterThumbnailWidth"}],mode:function(){if(arguments.length>0){if(arguments[0]){this._validateMode(arguments[0]);this._mode=arguments[0]}}else{return this._mode}},thumbnailBgColor:function(e){},thumbnailCopyExif:function(e){},thumbnailCopyIptc:function(e){},thumbnailFitMode:function(e){},thumbnailHeight:function(e){},thumbnailJpegQuality:function(e){},thumbnailWidth:function(e){},set:function(e){if(e){if(typeof e.toJson=="function")e=e.toJson();for(var t in e){if(!e.hasOwnProperty||e.hasOwnProperty(t)){if(typeof this[t]==="function"&&e[t]!=null){this[t](e[t])}}}}},toJson:function(){var e={},t,i;if(this.mode()){e.mode=this.mode()}if(this._simpleProperties){for(var n=0,r=this._simpleProperties.length;n<r;n++){i=this._simpleProperties[n];t=this[i.name]();if(t!=null){e[i.name]=t}}}return e},_validateMode:function(e){var t=/^((.*=)?(SourceFile|Thumbnail|Icon|None|Zip);)*(.*=)?(SourceFile|Thumbnail|Icon|None|Zip);?$/;if(t.test(e)){return true}else{a("Converter mode string is not valid.\n"+e);return false}}};i.converter.prototype.mode.isUploaderProperty=true;i.converter.prototype.constructor=i.converter;i.converter.reinit=function(e,t){e.mode=function(){if(arguments.length>0){if(arguments[0]){this._validateMode(arguments[0]);t.callFlash("setConverterMode",this._index,arguments[0])}}else{return t.callFlash("getConverterMode",this._index)}};e.mode.isUploaderProperty=true;if(e._simpleProperties){for(var i=0,n=e._simpleProperties.length;i<n;i++){var r=e._simpleProperties[i];if(!r.isAttribute){(function(i){var n=i.getter,r=i.setter;if(n===1||r===1){var o=i.render||i.name;o=o.charAt(0).toUpperCase()+o.substring(1);if(n===1){n="get"+o}if(r===1){r="set"+o}}e[i.name]=function(){if(arguments.length>0){if(arguments[0]!=null){return t.callFlash(r,this._index,arguments[0])}}else return t.callFlash(n,this._index)};e[i.name].isUploaderProperty=true})(r)}}}};i.converters=function(){};i.converters.prototype={__class:true,add:function(){var e;if(arguments[0]instanceof i.converter){e=arguments[0]}else{e=new i.converter(arguments[0])}this._converters.push(e);return e},count:function(){return this._converters.length},get:function(e){return this._converters[e]},remove:function(e){this._converters.splice(e,1)},removeAll:function(){this._converters.length=0;while(this.count()>0){this.remove(0)}}};i.converters.init=function(e,t){e._uploader=t;e._converters=[new i.converter({mode:"*.*=SourceFile"})]};i.converters.reinit=function(e){try{o("Reinit converters.");var t=e._uploader.getElement();var n=[],r,s;for(r=0,s=e.count();r<s;r++){var l=e.get(r);n.push(l.toJson())}while(t.callFlash("getConverterCount")>0){t.callFlash("removeConverter",0)}e._items=[];e.add=function(){var e=t.callFlash("addConverter","*.*=SourceFile");if(e>=0){if(arguments[0]){var i=this.get(e);i.set(arguments[0]);return i}}else{a("Converter hasn't been added.");return null}};e.count=function(){return t.callFlash("getConverterCount")};e.get=function(e){if(e<this.count()){if(this._items&&this._items[e]){return this._items[e]}else{this._items=this._items||[];var n=new i.converter;n._index=e;i.converter.reinit(n,t);this._items[e]=n;return n}}else{return null}};e.remove=function(e){t.callFlash("removeConverter",e);this._items.splice(e,1);for(var i=0,n=this._items.length;i<n;i++){this._items[i]._index=i}};for(r=0,s=n.length;r<s;r++){e.add(n[r])}}catch(u){a("Converters initialization failed.\n"+(u.message||u.description||u));throw u}};i.descriptionEditor=function(){};i.descriptionEditor.prototype={__class:true,_simpleProperties:[{name:"cancelButtonText",getter:1,setter:1,render:"DescriptionEditorCancelButtonText"},{name:"saveButtonText",getter:1,setter:1,render:"DescriptionEditorSaveButtonText"}],getParams:c,cancelButtonText:function(e){},saveButtonText:function(e){}};i.descriptionEditor.init=f._typicalInit;i.descriptionEditor.reinit=f._typicalReinit;i.events=function(e){};i.events.prototype=new h;p(i.events.prototype,{_eventNames:[t,t,"beforeUpload","afterUpload","beforePackageUpload","afterPackageUpload","progress","itemsAdded","error","restrictionFailed","trace"],beforeUpload:function(){},afterUpload:function(){},beforePackageUpload:function(){},afterPackageUpload:function(){},progress:function(){},itemsAdded:function(){},error:function(){},restrictionFailed:function(){},trace:function(){}},true);i.events.init=h.init;i.events.prototype.constructor=i.events;i.file=function(e){if(e){this.set(e)}this.constructor=i.file.prototype};i.file.prototype={__class:true,angle:function(e){},description:function(e){},height:function(){},name:function(){},selected:function(e){},size:function(){},width:function(){},remove:function(){}};i.file.reinit=function(e,i){i.angle=function(t){if(t||t===0){e.callFlash("setUploadFileAngle",this._index,t)}else{return e.callFlash("getUploadFileAngle",this._index)}};i.description=function(i){if(i!==t){e.callFlash("setUploadFileDescription",this._index,i)}else{return e.callFlash("getUploadFileDescription",this._index)}};i.height=function(){return e.callFlash("getUploadFileHeight",this._index)};i.name=function(){return e.callFlash("getUploadFileName",this._index)};i.selected=function(i){if(i!==t){e.callFlash("setUploadFileSelected",this._index,i)}else{return e.callFlash("getUploadFileSelected",this._index)}};i.size=function(){return e.callFlash("getUploadFileSize",this._index)};i.width=function(){return e.callFlash("getUploadFileWidth",this._index)};i.remove=function(){return e.callFlash("removeAt",this._index)}};i.files=function(){};i.files.prototype={__class:true,count:function(){return 0},get:function(e){return null},remove:function(e){}};i.files.init=f._typicalInit;i.files.reinit=function(e){o("Reinit files API.");var t=e._uploader.getElement();e.count=function(){return t.callFlash("getUploadFileCount")};e.removeAll=function(){return t.callFlash("removeAll")};e.get=function(e){if(e<this.count()){if(this._items&&this._items[e]){return this._items[e]}else{this._items=this._items||[];var n=new i.file;i.file.reinit(t,n);n._index=e;this._items[e]=n;return n}}else{return null}};e.remove=function(e){return t.callFlash("removeAt",e)}};i.flashControl=function(){};i.flashControl.prototype={_simpleProperties:[{name:"codeBase",defaultValue:"Scripts/aurigma.imageuploaderflash.swf",isAttribute:true},{name:"themeUrl",getter:1,setter:1,renderOnly:true},{name:"bgColor",isAttribute:true},{name:"wmode",isAttribute:true},{name:"quality",isAttribute:true},{name:"maxFileToLoadSize",getter:1,setter:1},{name:"version",isAttribute:true}],flashVersionRequired:[10,1,0],codeBase:function(e){},maxFileToLoadSize:function(){},themeUrl:function(){},bgColor:function(){},wmode:function(e){},quality:function(e){},isFlashSupported:function(){var e=i.flashDetector.detectVersion();var t=this.flashVersionRequired;for(var n=0,r=t.length;n<r;n++){if(e[n]<t[n]){return false}}return true},actualVersion:function(){var e=this._uploader.getElement();if(e){return e.callFlash("getActualVersion")}else{return null}},getParams:c};i.flashControl.init=f._typicalInit;i.flashControl.reinit=f._typicalReinit;i.imagePreviewWindow=function(){};i.imagePreviewWindow.prototype={_simpleProperties:[{name:"closePreviewTooltip",getter:1,setter:1}],closePreviewTooltip:function(e){}};i.imagePreviewWindow.init=f._typicalInit;i.imagePreviewWindow.reinit=f._typicalReinit;i.informationBar=function(){};i.informationBar.prototype={__class:true,_simpleProperties:[],_methods:[{name:"show",controlMethodName:"showInformationBar"}],getParams:c,show:function(e){}};i.informationBar.init=f._typicalInit;i.informationBar.reinit=f._typicalReinit;i.informationBar.prototype.constructor=i.informationBar;i.uploadPane=function(){};i.uploadPane.prototype={_simpleProperties:[{name:"addFilesButtonText",getter:1,setter:1},{name:"iconItemWidth",getter:1,setter:1},{name:"iconSize",getter:1,setter:1},{name:"tileItemWidth",getter:1,setter:1},{name:"tilePreviewSize",getter:1,setter:1},{name:"thumbnailPreviewSize",getter:1,setter:1},{name:"viewMode",getter:1,setter:1}],addFilesButtonText:function(e){},iconItemWidth:function(e){},iconSize:function(e){},tileItemWidth:function(e){},tilePreviewSize:function(e){},thumbnailPreviewSize:function(e){},viewMode:function(e){}};i.uploadPane.init=f._typicalInit;i.uploadPane.reinit=f._typicalReinit;i.messages=function(){};i.messages.prototype={__class:true,_simpleProperties:[{name:"cannotReadFile",getter:1,setter:1},{name:"dimensionsTooLarge",getter:1,setter:1},{name:"dimensionsTooSmall",getter:1,setter:1},{name:"fileSizeTooSmall",getter:1,setter:1},{name:"filesNotAdded",getter:1,setter:1},{name:"maxFileCountExceeded",getter:1,setter:1},{name:"maxFileSizeExceeded",getter:1,setter:1},{name:"maxTotalFileSizeExceeded",getter:1,setter:1},{name:"memoryLimitReached",getter:1,setter:1},{name:"previewNotAvailable",getter:1,setter:1},{name:"tooFewFiles",getter:1,setter:1},{name:"tooManyFilesSelectedToOpen",getter:1,setter:1}],cannotReadFile:function(e){},dimensionsTooLarge:function(e){},dimensionsTooSmall:function(e){},fileSizeTooSmall:function(e){},filesNotAdded:function(e){},maxFileCountExceeded:function(e){},maxFileSizeExceeded:function(e){},maxTotalFileSizeExceeded:function(e){},memoryLimitReached:function(e){},previewNotAvailable:function(e){},tooFewFiles:function(e){},tooManyFilesSelectedToOpen:function(e){}};i.messages.init=f._typicalInit;i.messages.reinit=f._typicalReinit;i.metadata=function(){};i.metadata.prototype={__class:true,_simpleProperties:[{name:"exif",getter:1,setter:1,render:"ExtractExif"},{name:"iptc",getter:1,setter:1,render:"ExtractIptc"},{name:"valueSeparator",getter:1,setter:1,render:"MetadataValueSeparator"}],addCustomField:function(e,t,i){this._customFields=this._customFields||[];if(e&&t!=null){this._customFields.push({action:"add",name:e,value:t,add:i})}},removeCustomField:function(e){this._customFields=this._customFields||[];if(e){this._customFields.push({action:"remove",name:e})}},additionalFormName:function(e){if(arguments.length==0){return this._formName}else{if(this._beforeUploadHandler){this._uploader.events().beforeUpload().remove(this._beforeUploadHandler);delete this._beforeUploadHandler;delete this._formName}if(e){this._formName=e;this._beforeUploadHandler=function(){var e=this.metadata();var t=document.forms[e._formName];if(t){var i=m.formToArray(t),n=i.length;if(n>0){for(var r=0;r<n;r++){var o=i[r];if(!o.array||o.first){e.addCustomField(o.name,o.value)}else{e.addCustomField(o.name,o.value,true)}}}}};this._uploader.events().beforeUpload().add(this._beforeUploadHandler)}}},getParams:c,exif:function(e){},iptc:function(e){},valueSeparator:function(e){}};i.metadata.init=f._typicalInit;i.metadata.reinit=function(e){o("Reinit metadata.");var t=e._uploader.getElement();e.addCustomField=function(e,i,n){t.callFlash("addCustomField",e,i,!!n)};e.removeCustomField=function(e){if(e!=null){t.callFlash("removeCustomField",e)}};if(e._customFields&&e._customFields.length>0){for(var i=0,n=e._customFields.length;i<n;i++){var r=e._customFields[i];switch(r.action){case"add":e.addCustomField(r.name,r.value,r.add);break;case"remove":e.removeCustomField(r.name);break}}}f._typicalReinit(e)};i.restrictions=function(){};i.restrictions.prototype={__class:true,_simpleProperties:[{name:"fileMask",getter:1,setter:1},{name:"maxFileCount",getter:1,setter:1},{name:"maxFileSize",getter:1,setter:1},{name:"maxImageHeight",getter:1,setter:1},{name:"maxImageWidth",getter:1,setter:1},{name:"maxTotalFileSize",getter:1,setter:1},{name:"minFileCount",getter:1,setter:1},{name:"minFileSize",getter:1,setter:1},{name:"minImageHeight",getter:1,setter:1},{name:"minImageWidth",getter:1,setter:1},{name:"minImageWidthHeightLogic",getter:1,setter:1}],getParams:c,fileMask:function(){},maxFileCount:function(e){},maxFileSize:function(){},maxImageHeight:function(){},maxImageWidth:function(){},maxTotalFileSize:function(){},minFileCount:function(e){},minFileSize:function(){},minImageHeight:function(){},minImageWidth:function(){},minImageWidthHeightLogic:function(){}};i.restrictions.init=f._typicalInit;i.restrictions.reinit=f._typicalReinit;i.statusPane=function(){};i.statusPane.prototype={_simpleProperties:[{name:"dataUploadedText",getter:1,setter:1,render:"StatusPaneDataUploadedText"},{name:"filesPreparedText",getter:1,setter:1,render:"StatusPaneFilesPreparedText"},{name:"filesToUploadText",getter:1,setter:1},{name:"filesUploadedText",getter:1,setter:1,render:"StatusPaneFilesUploadedText"},{name:"noFilesToUploadText",getter:1,setter:1},{name:"preparingText",getter:1,setter:1,render:"StatusPanePreparingText"},{name:"sendingText",getter:1,setter:1,render:"StatusPaneSendingText"}],dataUploadedText:function(e){},filesPreparedText:function(e){},filesToUploadText:function(e){},filesUploadedText:function(e){},noFilesToUploadText:function(e){},preparingText:function(e){},sendingText:function(e){}};i.statusPane.init=f._typicalInit;i.statusPane.reinit=f._typicalReinit;i.topPane=function(){};i.topPane.prototype={_simpleProperties:[{name:"addFilesHyperlinkText",getter:1,setter:1},{name:"clearAllHyperlinkText",getter:1,setter:1},{name:"orText",getter:1,setter:1},{name:"showViewComboBox",getter:1,setter:1},{name:"titleText",getter:1,setter:1},{name:"viewComboBox",getter:1,setter:1},{name:"viewComboBoxText",getter:1,setter:1}],addFilesHyperlinkText:function(e){},clearAllHyperlinkText:function(e){},orText:function(e){},showViewComboBox:function(e){},titleText:function(e){},viewComboBox:function(e){},viewComboBoxText:function(e){}};i.topPane.init=f._typicalInit;i.topPane.reinit=f._typicalReinit;i.uploadSettings=function(){};i.uploadSettings.prototype={__class:true,_simpleProperties:[{name:"_actionInternal",getter:1,setter:1,render:"ActionUrl",defaultValue:document.location.href},{name:"chunkSize",getter:1,setter:1},{name:"progressBytesMode",getter:1,setter:1}],actionUrl:function(e){if(e){if(e=="."||e=="./"){e=document.location.href}return this._actionInternal(e)}else{return this._actionInternal()}},chunkSize:function(e){},progressBytesMode:function(e){},redirectUrl:function(t){if(arguments.length>0){this._redirectUrl=arguments[0];var i=this._uploader;if(this._afterUpload){i.events().afterUpload().remove(this._afterUpload);delete this._afterUpload}if(this._redirectUrl){var t=this._redirectUrl;this._afterUpload=function(){setTimeout(function(){e.location=t},100)};i.events().afterUpload().add(this._afterUpload)}}else{return this._redirectUrl}},getParams:c};i.uploadSettings.init=f._typicalInit;i.uploadSettings.reinit=f._typicalReinit;i.paneItem=function(){};i.paneItem.prototype={__class:true,_simpleProperties:[{name:"descriptionEditorIconTooltip",getter:1,setter:1},{name:"enableDisproportionalExifThumbnails",getter:1,setter:1},{name:"imageTooltip",getter:1,setter:1},{name:"itemTooltip",getter:1,setter:1},{name:"removalIconTooltip",getter:1,setter:1},{name:"rotationIconTooltip",getter:1,setter:1},{name:"toolbarAlwaysVisible",getter:1,setter:1,render:"paneItemToolbarAlwaysVisible"}],getParams:c,descriptionEditorIconTooltip:function(e){},enableDisproportionalExifThumbnails:function(e){},imageTooltip:function(e){},itemTooltip:function(e){},removalIconTooltip:function(e){},rotationIconTooltip:function(e){},toolbarAlwaysVisible:function(e){}};i.paneItem.init=f._typicalInit;i.paneItem.reinit=f._typicalReinit;i.uploadErrorDialog=function(){};i.uploadErrorDialog.prototype={_simpleProperties:[{name:"hideDetailsButtonText",getter:1,setter:1,render:"UploadErrorDialogHideDetailsButtonText"},{name:"message",getter:1,setter:1,render:"UploadErrorDialogMessage"},{name:"showDetailsButtonText",getter:1,setter:1,render:"UploadErrorDialogShowDetailsButtonText"},{name:"title",getter:1,setter:1,render:"UploadErrorDialogTitle"}],hideDetailsButtonText:function(e){},message:function(e){},showDetailsButtonText:function(e){},title:function(e){},getParams:c};i.uploadErrorDialog.init=f._typicalInit;i.uploadErrorDialog.reinit=f._typicalReinit;i.addFilesProgressDialog=function(){};i.addFilesProgressDialog.prototype={_simpleProperties:[{name:"text",getter:1,setter:1,render:"AddFilesProgressDialogText"}],text:function(e){}};i.addFilesProgressDialog.init=f._typicalInit;i.addFilesProgressDialog.reinit=f._typicalReinit;i.imageUploaderFlash=function(e){return new i.imageUploaderFlash.fn.init(e)};i.imageUploaderFlash.fn=i.imageUploaderFlash.prototype=new d;p(i.imageUploaderFlash.fn,{_simpleProperties:[t,{name:"cancelUploadButtonText",getter:1,setter:1},{name:"enableAutoRotation",getter:1,setter:1},{name:"enableDescriptionEditor",getter:1,setter:1},{name:"enableRotation",getter:1,setter:1},{name:"height",isAttribute:true,defaultValue:"400px"},{name:"licenseKey",getter:1,setter:1,renderOnly:true},{name:"locale",getter:1,setter:1},{name:"uploadButtonText",getter:1,setter:1},{name:"width",isAttribute:true,defaultValue:"600px"}],_objectProperties:[{name:"flashControl",type:i.flashControl},{name:"uploadSettings",type:i.uploadSettings},{name:"events",type:i.events},{name:"files",type:i.files},{name:"restrictions",type:i.restrictions},{name:"metadata",type:i.metadata},{name:"topPane",type:i.topPane},{name:"statusPane",type:i.statusPane},{name:"uploadPane",type:i.uploadPane},{name:"messages",type:i.messages},{name:"imagePreviewWindow",type:i.imagePreviewWindow},{name:"uploadErrorDialog",type:i.uploadErrorDialog},{name:"commonDialog",type:i.commonDialog},{name:"converters",type:i.converters},{name:"paneItem",type:i.paneItem},{name:"descriptionEditor",type:i.descriptionEditor},{name:"addFilesProgressDialog",type:i.addFilesProgressDialog},{name:"informationBar",type:i.informationBar}],_methods:[{name:"upload",controlMethodName:"upload"},{name:"cancelUpload",controlMethodName:"cancelUpload"}],init:function(e){if(typeof e==="string"){return n.get(e)}this._uploader=this;for(var t=0,r=this._simpleProperties.length;t<r;t++){f.createSimpleProperty(this,this._simpleProperties[t])}for(var t=0,r=this._objectProperties.length;t<r;t++){var a=this._objectProperties[t];if(a.type===i.converters){var s=new i.converters;i.converters.init(s,this);this[a.name]=function(){var e=arguments[0];if(e instanceof Array){s._converters.length=0;while(s.count()>0){s.remove(0)}for(var t=0,i=e.length;t<i;t++){s.add(e[t])}}else{return s}}}else{f.createObjectProperty(this,a,this)}}this.events().initComplete(function(){this.reinit()});o("Start apply uploader init object.");this.set(e);o("Finish apply uploader init object.");n.put(this);return this},reinit:function(){o("Start control re-initialization.");var e=document.getElementById(this.id()),t,i;var n=function(e){if(typeof e.preventDefault==="function"){e.preventDefault()}if(typeof e.stopPropagation==="function"){e.stopPropagation()}e.returnValue=false;return false};if(typeof e.attachEvent!=="undefined"){e.attachEvent("onmousewheel",n)}else if(typeof e.addEventListener!=="undefined"){e.addEventListener("DOMMouseScroll",n,false);e.addEventListener("mousewheel",n,false)}o("Reinit control properties.");if(this._simpleProperties){for(var t=0,r=this._simpleProperties.length;t<r;t++){var a=this._simpleProperties[t];if(!a.isAttribute){f.createControlProperty(this,a)}else{f.createAttributeProperty(this,a)}}}if(this._objectProperties){for(var t=0,r=this._objectProperties.length;t<r;t++){var a=this._objectProperties[t];if(a.type&&typeof a.type.reinit==="function"){a.type.reinit(this[a.name]())}}}o("Creating methods.");if(this._methods&&this._methods.length>0){for(var t=0,r=this._methods.length;t<r;t++){f.createMethod(this,this._methods[t])}}o("Control re-initialization completed.");

this.state(1)},cancelUploadButtonText:function(e){},enableAutoRotation:function(e){},enableDescriptionEditor:function(e){},enableRotation:function(e){},height:function(e){},licenseKey:function(e){},locale:function(e){},uploadButtonText:function(e){},width:function(e){},imagePreviewWindow:i.imagePreviewWindow,uploadPane:i.uploadPane,messages:i.messages,statusPane:i.statusPane,topPane:i.topPane,flashControl:i.flashControl,uploadSettings:i.uploadSettings,events:i.events,converters:i.converters,restrictions:i.restrictions,metadata:i.metadata,files:i.files,uploadErrorDialog:i.uploadErrorDialog,commonDialog:i.commonDialog,paneItem:i.paneItem,descriptionEditor:i.descriptionEditor,addFilesProgressDialog:i.addFilesProgressDialog,informationBar:i.informationBar,upload:function(){},cancelUpload:function(){}},true);i.imageUploaderFlash.__class=true;i.imageUploaderFlash.prototype.constructor=i.imageUploaderFlash;i.imageUploaderFlash.fn.init.prototype=i.imageUploaderFlash.fn;i.event=function v(){this._handlers=this._handlers||[]};i.event.prototype={__class:true,add:function(e){if(e instanceof Array){for(var t=0,i=e.length;t<i;t++)this._handlers.push(e[t])}else{this._handlers.push(e)}},remove:function(e){for(var t in this._handlers){if(this._handlers[t]===e){this._handlers.splice(t,1);return true}}return false},clear:function(){this._handlers=[]},count:function(){return this._handlers.length}};i.event.prototype.constructor=i.event;var g=function(t){if(!t)return;var i=function(){function i(){var e=t.getParams();for(var i=0,n=e.length;i<n;i++){e[i]=e[i].name+"="+e[i].value}return e.join("&")}var n=t.flashControl().codeBase();var r=t.flashControl().version();if(r){if(n.indexOf("?")>-1){n=n+"&version="+r}else{n+="?version="+r}}var o=[],a,l,u=t.id(),c=t.flashControl().flashVersionRequired.join(",");var p={id:u,name:u,width:t.width(),height:t.height()};if(e.ActiveXObject){p.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";p.codebase=window.location.protocol+"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+c}else{p.data=n;p.type="application/x-shockwave-flash"}var f=t.flashControl();var m={quality:f.quality()||"high",bgcolor:f.bgColor()||"#869ca7",wmode:f.wmode()||"window",allowScriptAccess:"always",flashvars:i()};if(e.ActiveXObject){m.movie=n}var d=[t,{resultHtml:""}],h;t._invokeCallback("flashBeforeOpenTagRender",d);if(h=d[1].resultHtml){o.push(h)}var l="object";o.push("<"+l+" ");var g=[t,{resultHtml:""}],h;t._invokeCallback("flashRenderStyleAttribute",g);if(h=g[1].resultHtml){o.push(' style="'+h+'" ')}for(var a in p){if(!p.hasOwnProperty||p.hasOwnProperty(a)){o.push(a+'="'+s(p[a])+'" ')}}o.push(">");for(var a in m){if(!m.hasOwnProperty||m.hasOwnProperty(a)){o.push('<param name="'+a+'" value="'+s(m[a])+'" /> ')}}var v=[t,{resultHtml:""}],h;t._invokeCallback("flashBeforeCloseTagRender",v);if(h=v[1].resultHtml){o.push(h)}o.push("</"+l+">");var _=[t,{resultHtml:""}],h;t._invokeCallback("flashAfterCloseTagRender",_);if(h=_[1].resultHtml){o.push(h)}return o.join("")};return{html:i,write:function(){document.write(this.html())}}};i.__namespace=true;e.Aurigma=e.Aurigma||{__namespace:true};e.Aurigma.ImageUploaderFlash=i;e.$au=i})(window);
//# sourceMappingURL=aurigma.imageuploaderflash.map.js