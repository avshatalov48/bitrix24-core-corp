(function(){"use strict";BX.namespace("BX.Main");BX.Main.submenu={data:[],init:function(t,n,i,o){this.id=n;this.anchor=t;this.menuItems=o;this.level=i;this.anchorRect=BX.pos(this.anchor);this.toggleMenu()},toggleMenu:function(){var t;var n;var i;var o=this.anchor.menu;var e=o?this.anchor.menu.popupWindow:null;if(o&&e.isShown()){t=e.bindOptions.left;this.data.forEach(function(o){i=o.popupWindow;n=i.bindOptions.left;if(t<=n){o.popupWindow.close()}})}else{BX.PopupMenu.destroy(this.id);this.anchor.menu=this.createMenu();this.pushMenu(this.anchor.menu);this.anchor.menu.popupWindow.adjustPosition(BX.pos(this.anchor));this.anchor.menu.popupWindow.show();o=this.anchor.menu;e=o.popupWindow;t=e.bindOptions.left;this.data.forEach(function(e){i=e.popupWindow;n=i.bindOptions.left;if(t<=n&&o.id!==e.id){e.popupWindow.close()}})}},pushMenu:function(t){var n=this.getMenu(t);if(t){if(n===null){this.data.push(t)}else{this.data[n]=t}}},getMenu:function(t){var n=null;this.data.forEach(function(i,o){if(i.id===t.id){n=o;return false}});return n},createMenu:function(){return BX.PopupMenu.create(this.id,this.anchor,this.menuItems,{autoHide:true,offsetTop:-(this.anchorRect.height/2+26),offsetLeft:this.anchorRect.width+4,angle:{position:"left",offset:this.anchorRect.height/2-8}})}}})();
//# sourceMappingURL=submenu.map.js