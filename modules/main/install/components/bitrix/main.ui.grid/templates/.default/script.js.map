{"version":3,"file":"script.js","sources":["src/js/action-panel.js","src/js/baseclass.js","src/js/cols-sortable.js","src/js/data.js","src/js/dropdown.js","src/js/dropdown-manager.js","src/js/element.js","src/js/fader.js","src/js/gridupdater.js","src/js/image-field.js","src/js/inline-editor.js","src/js/loader.js","src/js/manager.js","src/js/message.js","src/js/observer.js","src/js/pagesize.js","src/js/pagination.js","src/js/pin-header.js","src/js/pin-panel.js","src/js/resize.js","src/js/row.js","src/js/rows.js","src/js/rows-sortable.js","src/js/settings.js","src/js/settings-window.js","src/js/settings-window-column.js","src/js/useroptions.js","src/js/utils.js","src/js/grid.js"],"sourcesContent":[";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.ActionPanel\n\t *\n\t * @param {BX.Main.grid} parent\n\t * @param {object} actions List of available actions Bitrix\\Main\\Grid\\Panel\\Actions::getList()\n\t * @param {string} actions.CREATE\n\t * @param {string} actions.SEND\n\t * @param {string} actions.ACTIVATE\n\t * @param {string} actions.SHOW\n\t * @param {string} actions.HIDE\n\t * @param {string} actions.REMOVE\n\t * @param {string} actions.CALLBACK\n\t * @param {string} actions.INLINE_EDIT\n\t * @param {string} actions.HIDE_ALL_EXPECT\n\t * @param {string} actions.SHOW_ALL\n\t * @param {string} actions.RESET_CONTROLS\n\t *\n\t * @param {object} types List of available control types\n\t * of the actions panel Bitrix\\Main\\Grid\\Panel\\Types::getList()\n\t * @param {string} types.DROPDOWN\n\t * @param {string} types.CHECKBOX\n\t * @param {string} types.TEXT\n\t * @param {string} types.BUTTON\n\t * @param {string} types.LINK\n\t * @param {string} types.CUSTOM\n\t * @param {string} types.HIDDEN\n\t *\n\t * @constructor\n\t */\n\tBX.Grid.ActionPanel = function(parent, actions, types)\n\t{\n\t\tthis.parent = null;\n\t\tthis.rel = {};\n\t\tthis.actions = null;\n\t\tthis.types = null;\n\t\tthis.lastActivated = [];\n\t\tthis.init(parent, actions, types);\n\t};\n\n\tBX.Grid.ActionPanel.prototype = {\n\t\tinit: function(parent, actions, types)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.actions = eval(actions);\n\t\t\tthis.types = eval(types);\n\n\t\t\tBX.addCustomEvent(window, 'Dropdown::change', BX.proxy(function(id, event, item, dataItem) {\n\t\t\t\tthis.isPanelControl(BX(id))&& this._dropdownChange(id, event, item, dataItem);\n\t\t\t}, this));\n\n\t\t\tBX.addCustomEvent(window, 'Dropdown::load', BX.proxy(function(id, event, item, dataItem) {\n\t\t\t\tthis.isPanelControl(BX(id)) && this._dropdownChange(id, event, item, dataItem);\n\t\t\t}, this));\n\n\t\t\tvar panel = this.getPanel();\n\t\t\tBX.bind(panel, 'change', BX.delegate(this._checkboxChange, this));\n\t\t\tBX.bind(panel, 'click', BX.delegate(this._clickOnButton, this));\n\n\t\t\tBX.addCustomEvent(window, 'Grid::updated', function() {\n\t\t\t\tvar cancelButton = BX('grid_cancel_button');\n\t\t\t\tcancelButton && BX.fireEvent(BX.firstChild(cancelButton), 'click');\n\t\t\t});\n\t\t},\n\n\t\tresetForAllCheckbox: function()\n\t\t{\n\t\t\tvar checkbox = this.getForAllCheckbox();\n\n\t\t\tif (BX.type.isDomNode(checkbox))\n\t\t\t{\n\t\t\t\tcheckbox.checked = null;\n\t\t\t}\n\t\t},\n\n\t\tgetForAllCheckbox: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classForAllCheckbox'), true);\n\t\t},\n\n\t\tgetPanel: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.parent.getContainer(), this.parent.settings.get('classActionPanel'), true);\n\t\t},\n\n\t\tgetApplyButton: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classPanelApplyButton'), true);\n\t\t},\n\n\t\tisPanelControl: function(node)\n\t\t{\n\t\t\treturn BX.hasClass(node, this.parent.settings.get('classPanelControl'));\n\t\t},\n\n\t\tgetTextInputs: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getPanel(), 'input[type=\"text\"]');\n\t\t},\n\n\t\tgetHiddenInputs: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getPanel(), 'input[type=\"hidden\"]');\n\t\t},\n\n\t\tgetSelects: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getPanel(), 'select');\n\t\t},\n\n\t\tgetDropdowns: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classDropdown'));\n\t\t},\n\n\t\tgetCheckboxes: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classPanelCheckbox'));\n\t\t},\n\n\t\tgetButtons: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classPanelButton'));\n\t\t},\n\n\t\tisDropdown: function(node)\n\t\t{\n\t\t\treturn BX.hasClass(node, this.parent.settings.get('classDropdown'));\n\t\t},\n\n\t\tisCheckbox: function(node)\n\t\t{\n\t\t\treturn BX.hasClass(node, this.parent.settings.get('classPanelCheckbox'));\n\t\t},\n\n\t\tisTextInput: function(node)\n\t\t{\n\t\t\treturn node.type === 'text';\n\t\t},\n\n\t\tisHiddenInput: function(node)\n\t\t{\n\t\t\treturn node.type === 'hidden';\n\t\t},\n\n\t\tisSelect: function(node)\n\t\t{\n\t\t\treturn node.tagName === 'SELECT';\n\t\t},\n\n\t\tcreateDropdown: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative);\n\t\t\tvar dropdown = BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-dropdown main-grid-panel-control',\n\t\t\t\t\tid: data.ID + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tname: data.NAME,\n\t\t\t\t\t'data-name': data.NAME,\n\t\t\t\t\t'data-items': JSON.stringify(data.ITEMS),\n\t\t\t\t\t'data-value': data.ITEMS[0].VALUE,\n\t\t\t\t\t'data-popup-position': 'fixed'\n\t\t\t\t},\n\t\t\t\tchildren: [BX.create('span', {\n\t\t\t\t\tprops: {className: 'main-dropdown-inner'},\n\t\t\t\t\thtml: data.ITEMS[0].NAME\n\t\t\t\t})]\n\t\t\t});\n\n\t\t\tcontainer.appendChild(dropdown);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateCheckbox: function(data, relative)\n\t\t{\n\t\t\tvar checkbox = this.createContainer(data.ID, relative);\n\n\t\t\tvar inner = BX.create('span', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-checkbox-container'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar titleSpan = BX.create('span', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-control-panel-content-title'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar input = BX.create('input', {\n\t\t\t\tprops: {\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tclassName: this.parent.settings.get('classPanelCheckbox') + ' main-grid-checkbox',\n\t\t\t\t\tid: data.ID + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tvalue: data.VALUE || '',\n\t\t\t\t\ttitle: data.TITLE || '',\n\t\t\t\t\tname: data.NAME || '',\n\t\t\t\t\t'data-onchange': JSON.stringify(data.ONCHANGE)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tinput.checked = data.CHECKED || null;\n\n\t\t\tcheckbox.appendChild(inner);\n\t\t\tcheckbox.appendChild(titleSpan);\n\n\t\t\tinner.appendChild(input);\n\n\t\t\tinner.appendChild(BX.create('label', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-checkbox'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tfor: data.ID + '_control',\n\t\t\t\t\ttitle: data.TITLE\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\ttitleSpan.appendChild(BX.create('label', {\n\t\t\t\tattrs: {\n\t\t\t\t\tfor: data.ID + '_control',\n\t\t\t\t\ttitle: data.TITLE\n\t\t\t\t},\n\t\t\t\thtml: data.LABEL\n\t\t\t}));\n\n\t\t\treturn checkbox;\n\t\t},\n\n\t\t/**\n\t\t * @param {object} data\n\t\t * @param {object} data.ID\n\t\t * @param {object} data.TITLE\n\t\t * @param {object} data.PLACEHOLDER\n\t\t * @param {object} data.ONCHANGE\n\t\t * @param {string} relative\n\t\t * @returns {*}\n\t\t */\n\t\tcreateText: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative);\n\t\t\tvar title = BX.type.isNotEmptyString(data[\"TITLE\"]) ? data[\"TITLE\"] : \"\";\n\t\t\tif(title !== \"\")\n\t\t\t{\n\t\t\t\tcontainer.appendChild(\n\t\t\t\t\tBX.create(\n\t\t\t\t\t\t'label',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tattrs: { title: title, for: data.ID + '_control' },\n\t\t\t\t\t\t\ttext: title\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tcontainer.appendChild(\n\t\t\t\tBX.create(\n\t\t\t\t\t'input',\n\t\t\t\t\t{\n\t\t\t\t\t\tprops:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName: 'main-grid-control-panel-input-text main-grid-panel-control',\n\t\t\t\t\t\t\t\tid: data.ID + '_control'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\tattrs:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: data.NAME,\n\t\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\t\tplaceholder: data.PLACEHOLDER || '',\n\t\t\t\t\t\t\t\tvalue: data.VALUE || '',\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t'data-onchange': JSON.stringify(data.ONCHANGE || [])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateHidden: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative);\n\t\t\tcontainer.appendChild(\n\t\t\t\tBX.create(\n\t\t\t\t\t'input',\n\t\t\t\t\t{\n\t\t\t\t\t\tprops:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: data.ID + '_control',\n\t\t\t\t\t\t\t\ttype: 'hidden'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\tattrs:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: data.NAME,\n\t\t\t\t\t\t\t\tvalue: data.VALUE || ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateButton: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative);\n\t\t\tvar button = BX.create('button', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-buttons' + (data.CLASS ? ' ' + data.CLASS : ''),\n\t\t\t\t\tid: data.id + '_control',\n\t\t\t\t\ttitle: BX.type.isNotEmptyString(data.TITLE) ? data.TITLE : ''\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tname: data.NAME || '',\n\t\t\t\t\t'data-onchange': JSON.stringify(data.ONCHANGE || [])\n\t\t\t\t},\n\t\t\t\thtml: data.TEXT\n\t\t\t});\n\n\t\t\tcontainer.appendChild(button);\n\n\t\t\treturn container;\n\t\t},\n\n\t\t/**\n\t\t * @param {object} data\n\t\t * @param {object} data.ID\n\t\t * @param {object} data.TITLE\n\t\t * @param {object} data.PLACEHOLDER\n\t\t * @param {object} data.ONCHANGE\n\t\t * @param {object} data.CLASS\n\t\t * @param {object} data.HREF\n\t\t * @param {string} relative\n\t\t * @returns {*}\n\t\t */\n\t\tcreateLink: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative);\n\t\t\tvar link = BX.create('a', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-link' + (data.CLASS ? ' ' + data.CLASS : ''),\n\t\t\t\t\tid: data.ID + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\thref: data.HREF || '',\n\t\t\t\t\t'data-onchange': JSON.stringify(data.ONCHANGE || [])\n\t\t\t\t},\n\t\t\t\thtml: data.TEXT\n\t\t\t});\n\n\t\t\tcontainer.appendChild(link);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateCustom: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative);\n\n\t\t\tvar custom = BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-panel-custom' + (data.CLASS ? ' ' + data.CLASS : '')\n\t\t\t\t},\n\t\t\t\thtml: data.VALUE\n\t\t\t});\n\n\t\t\tcontainer.appendChild(custom);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateContainer: function(id, relative)\n\t\t{\n\t\t\tid = id.replace('_control', '');\n\t\t\trelative = relative.replace('_control', '');\n\n\t\t\treturn BX.create('span', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: this.parent.settings.get('classPanelControlContainer'),\n\t\t\t\t\tid: id\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\t'data-relative': relative\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tremoveItemsRelativeCurrent: function(node)\n\t\t{\n\t\t\tvar element = node;\n\t\t\tvar relative = [node.id];\n\t\t\tvar result = [];\n\t\t\tvar dataRelative;\n\n\t\t\twhile (element) {\n\t\t\t\tdataRelative = BX.data(element, 'relative');\n\n\t\t\t\tif (relative.includes(dataRelative))\n\t\t\t\t{\n\t\t\t\t\trelative.push(element.id);\n\t\t\t\t\tresult.push(element);\n\t\t\t\t}\n\n\t\t\t\telement = element.nextElementSibling;\n\t\t\t}\n\n\t\t\tresult.forEach(function(current) {\n\t\t\t\tBX.remove(current);\n\t\t\t});\n\t\t},\n\n\n\t\tvalidateData: function(data)\n\t\t{\n\t\t\treturn (\n\t\t\t\t('ONCHANGE' in data) &&\n\t\t\t\tBX.type.isArray(data.ONCHANGE)\n\t\t\t);\n\t\t},\n\n\t\tactivateControl: function(id)\n\t\t{\n\t\t\tvar element = BX(id);\n\n\t\t\tif (BX.type.isDomNode(element))\n\t\t\t{\n\t\t\t\tBX.removeClass(element, this.parent.settings.get('classDisable'));\n\t\t\t\telement.disabled = null;\n\t\t\t}\n\t\t},\n\n\t\tdeactivateControl: function(id)\n\t\t{\n\t\t\tvar element = BX(id);\n\n\t\t\tif (BX.type.isDomNode(element))\n\t\t\t{\n\t\t\t\tBX.addClass(element, this.parent.settings.get('classDisable'));\n\t\t\t\telement.disabled = true;\n\t\t\t}\n\t\t},\n\n\t\tshowControl: function(id)\n\t\t{\n\t\t\tvar control = BX(id);\n\t\t\tcontrol && BX.show(control);\n\t\t},\n\n\t\thideControl: function(id)\n\t\t{\n\t\t\tvar control = BX(id);\n\t\t\tcontrol && BX.hide(control);\n\t\t},\n\n\n\t\tvalidateActionObject: function(action)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.type.isPlainObject(action) && ('ACTION' in action) && BX.type.isNotEmptyString(action.ACTION) && (\n\t\t\t\t\taction.ACTION === this.actions.RESET_CONTROLS ||\n\t\t\t\t\t('DATA' in action) && BX.type.isArray(action.DATA)\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\n\t\tvalidateControlObject: function(controlObject)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.type.isPlainObject(controlObject) &&\n\t\t\t\t('TYPE' in controlObject) &&\n\t\t\t\t('ID' in controlObject)\n\t\t\t);\n\t\t},\n\n\t\tcreateDate: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative);\n\t\t\tvar date = BX.decl({\n\t\t\t\tblock: 'main-ui-date',\n\t\t\t\tmix: ['main-grid-panel-date'],\n\t\t\t\tcalendarButton: true,\n\t\t\t\tvalueDelete: true,\n\t\t\t\tplaceholder: 'PLACEHOLDER' in data ? data.PLACEHOLDER : '',\n\t\t\t\tname: 'NAME' in data ? data.NAME + '_from' : '',\n\t\t\t\ttabindex: 'TABINDEX' in data ? data.TABINDEX : '',\n\t\t\t\tvalue: 'VALUE' in data ? data.VALUE : '',\n\t\t\t\tenableTime: 'TIME' in data ? (data.TIME ? 'true' : 'false') : 'false'\n\t\t\t});\n\n\t\t\tcontainer.appendChild(date);\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateControl: function(controlObject, relativeId)\n\t\t{\n\t\t\tvar newElement = null;\n\t\t\tswitch (controlObject.TYPE)\n\t\t\t{\n\t\t\t\tcase this.types.DROPDOWN :\n\t\t\t\t\tnewElement = this.createDropdown(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.CHECKBOX :\n\t\t\t\t\tnewElement = this.createCheckbox(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.TEXT :\n\t\t\t\t\tnewElement = this.createText(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.HIDDEN :\n\t\t\t\t\tnewElement = this.createHidden(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.BUTTON :\n\t\t\t\t\tnewElement = this.createButton(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.LINK :\n\t\t\t\t\tnewElement = this.createLink(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.CUSTOM :\n\t\t\t\t\tnewElement = this.createCustom(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.DATE :\n\t\t\t\t\tnewElement = this.createDate(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn newElement;\n\t\t},\n\n\t\tonChangeHandler: function(container, actions, isPseudo)\n\t\t{\n\t\t\tvar newElement, callback;\n\t\t\tvar self = this;\n\n\t\t\tif (BX.type.isDomNode(container) && BX.type.isArray(actions))\n\t\t\t{\n\t\t\t\tactions.forEach(function(action) {\n\t\t\t\t\tif (self.validateActionObject(action))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (action.ACTION === self.actions.CREATE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.removeItemsRelativeCurrent(container);\n\t\t\t\t\t\t\taction.DATA.reverse();\n\n\t\t\t\t\t\t\taction.DATA.forEach(function(controlObject) {\n\t\t\t\t\t\t\t\tif (self.validateControlObject(controlObject))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnewElement = self.createControl(controlObject, container.id || BX.data(container, 'relative'));\n\n\t\t\t\t\t\t\t\t\tif (BX.type.isDomNode(newElement))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.insertAfter(newElement, container);\n\n\t\t\t\t\t\t\t\t\t\tif (('ONCHANGE' in controlObject) &&\n\t\t\t\t\t\t\t\t\t\t\tcontrolObject.TYPE === self.types.CHECKBOX &&\n\t\t\t\t\t\t\t\t\t\t\t('CHECKED' in controlObject) &&\n\t\t\t\t\t\t\t\t\t\t\tcontrolObject.CHECKED)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tself.onChangeHandler(newElement, controlObject.ONCHANGE);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (controlObject.TYPE === self.types.DROPDOWN &&\n\t\t\t\t\t\t\t\t\t\t\tBX.type.isArray(controlObject.ITEMS) &&\n\t\t\t\t\t\t\t\t\t\t\tcontrolObject.ITEMS.length &&\n\t\t\t\t\t\t\t\t\t\t\t('ONCHANGE' in controlObject.ITEMS[0]) &&\n\t\t\t\t\t\t\t\t\t\t\tBX.type.isArray(controlObject.ITEMS[0].ONCHANGE))\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tself.onChangeHandler(newElement, controlObject.ITEMS[0].ONCHANGE);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.ACTIVATE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.removeItemsRelativeCurrent(container);\n\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction.DATA.forEach(function(currentId) {\n\t\t\t\t\t\t\t\t\tself.lastActivated.push(currentId.ID);\n\t\t\t\t\t\t\t\t\tself.activateControl(currentId.ID);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.SHOW)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction.DATA.forEach(function(showCurrent) {\n\t\t\t\t\t\t\t\t\tself.showControl(showCurrent.ID);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.HIDE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction.DATA.forEach(function(hideCurrent) {\n\t\t\t\t\t\t\t\t\tself.hideControl(hideCurrent.ID);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.HIDE_ALL_EXPECT)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t(self.getControls() || []).forEach(function(current) {\n\t\t\t\t\t\t\t\t\tif (!action.DATA.some(function(el) { return el.ID === current.id}))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tself.hideControl(current.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.SHOW_ALL)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(self.getControls() || []).forEach(function(current) {\n\t\t\t\t\t\t\t\tself.showControl(current.id);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.REMOVE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction.DATA.forEach(function(removeCurrent) {\n\t\t\t\t\t\t\t\t\tBX.remove(BX(removeCurrent.ID));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.CALLBACK)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.confirmDialog(action, BX.delegate(function() {\n\t\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\taction.DATA.forEach(\n\t\t\t\t\t\t\t\t\t\tfunction(currentCallback)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tif (currentCallback.JS.indexOf('Grid.') !== -1)\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tcallback = currentCallback.JS.replace('Grid', 'self.parent');\n\t\t\t\t\t\t\t\t\t\t\t\tcallback = callback.replace('()', '');\n\t\t\t\t\t\t\t\t\t\t\t\tcallback += '.apply(self.parent, [container])';\n\t\t\t\t\t\t\t\t\t\t\t\ttry\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\teval(callback); // jshint ignore:line\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tcatch(err)\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\telse if(BX.type.isNotEmptyString(currentCallback.JS))\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttry\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\teval(currentCallback.JS);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tcatch(err)\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.RESET_CONTROLS)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.removeItemsRelativeCurrent(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!isPseudo)\n\t\t\t\t{\n\t\t\t\t\tthis.removeItemsRelativeCurrent(container);\n\t\t\t\t}\n\n\t\t\t\tself.lastActivated.forEach(function(current) {\n\t\t\t\t\tself.deactivateControl(current);\n\t\t\t\t});\n\n\t\t\t\tself.lastActivated = [];\n\t\t\t}\n\t\t},\n\n\t\tconfirmDialog: function(action, then, cancel)\n\t\t{\n\t\t\tthis.parent.confirmDialog(action, then, cancel);\n\t\t},\n\n\t\t/**\n\t\t * Dropdown value change handler\n\t\t * @param {string} id Dropdown id\n\t\t * @param {object} event\n\t\t * @param item\n\t\t * @param {object} dataItem\n\t\t * @param {object} dataItem.ONCHANGE\n\t\t * @param {boolean} dataItem.PSEUDO\n\t\t * @private\n\t\t */\n\t\t_dropdownChange: function(id, event, item, dataItem)\n\t\t{\n\t\t\tvar dropdown = BX(id);\n\t\t\tvar container = dropdown.parentNode;\n\t\t\tvar onChange = dataItem && ('ONCHANGE' in dataItem) ? dataItem.ONCHANGE : null;\n\t\t\tvar isPseudo = dataItem && ('PSEUDO' in dataItem && dataItem.PSEUDO !== false);\n\n\t\t\tthis.onChangeHandler(container, onChange, isPseudo);\n\t\t},\n\n\t\t_checkboxChange: function(event)\n\t\t{\n\t\t\tvar onChange;\n\n\t\t\ttry {\n\t\t\t\tonChange = eval(BX.data(event.target, 'onchange'));\n\t\t\t} catch(err) {\n\t\t\t\tonChange = null;\n\t\t\t}\n\n\t\t\tthis.onChangeHandler(\n\t\t\t\tBX.findParent(event.target, {\n\t\t\t\t\tclassName: this.parent.settings.get('classPanelContainer')\n\t\t\t\t}, true, false),\n\t\t\t\tevent.target.checked || event.target.id.indexOf('actallrows_') !== -1 ? onChange : null\n\t\t\t);\n\t\t},\n\n\t\t_clickOnButton: function(event)\n\t\t{\n\t\t\tvar onChange;\n\n\t\t\tif (this.isButton(event.target))\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\ttry {\n\t\t\t\t\tonChange = eval(BX.data(event.target, 'onchange'));\n\t\t\t\t} catch(err) {\n\t\t\t\t\tonChange = null;\n\t\t\t\t}\n\n\t\t\t\tthis.onChangeHandler(\n\t\t\t\t\tBX.findParent(event.target, {\n\t\t\t\t\t\tclassName: this.parent.settings.get('classPanelContainer')\n\t\t\t\t\t}, true, false),\n\t\t\t\t\tonChange\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\tisButton: function(node)\n\t\t{\n\t\t\treturn BX.hasClass(node, this.parent.settings.get('classPanelButton'));\n\t\t},\n\n\t\tgetSelectedIds: function()\n\t\t{\n\t\t\tvar rows = this.parent.getRows().getSelected().filter(function(row) { return row.isShown(); });\n\n\t\t\treturn rows.map(function(current) {\n\t\t\t\treturn current.getId();\n\t\t\t});\n\t\t},\n\n\t\tgetControls: function()\n\t\t{\n\t\t\treturn BX.findChild(this.getPanel(), {\n\t\t\t\tclassName: this.parent.settings.get('classPanelControlContainer')\n\t\t\t}, true, true);\n\t\t},\n\n\t\tgetValues: function()\n\t\t{\n\t\t\tvar data = {};\n\t\t\tvar self = this;\n\t\t\tvar controls = [].concat(\n\t\t\t\tthis.getDropdowns(),\n\t\t\t\tthis.getTextInputs(),\n\t\t\t\tthis.getHiddenInputs(),\n\t\t\t\tthis.getSelects(),\n\t\t\t\tthis.getCheckboxes(),\n\t\t\t\tthis.getButtons()\n\t\t\t);\n\n\t\t\t(controls || []).forEach(function(current) {\n\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t{\n\t\t\t\t\tif (self.isDropdown(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar dropdownValue = BX.data(current, 'value');\n\t\t\t\t\t\tdropdownValue = (dropdownValue !== null && dropdownValue !== undefined) ? dropdownValue : '';\n\t\t\t\t\t\tdata[BX.data(current, 'name')] = dropdownValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.isSelect(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tdata[current.getAttribute('name')] = current.options[current.selectedIndex].value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.isCheckbox(current) && current.checked)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata[current.getAttribute('name')] = current.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.isTextInput(current) || self.isHiddenInput(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tdata[current.getAttribute('name')] = current.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.isButton(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar name = BX.data(current, 'name');\n\t\t\t\t\t\tvar value = BX.data(current, 'value');\n\t\t\t\t\t\tvalue = (value !== null && value !== undefined) ? value : '';\n\n\t\t\t\t\t\tif (name)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdata[name] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn data;\n\t\t}\n\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * Base class\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.BaseClass = function(parent)\n\t{\n\t\tthis.parent = parent;\n\t};\n\n\tBX.Grid.BaseClass.prototype = {\n\t\tgetParent: function()\n\t\t{\n\t\t\treturn this.parent;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.ColsSortable\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.ColsSortable = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.dragItem = null;\n\t\tthis.targetItem = null;\n\t\tthis.rowsList = null;\n\t\tthis.colsList = null;\n\t\tthis.dragRect = null;\n\t\tthis.offset = null;\n\t\tthis.startDragOffset = null;\n\t\tthis.dragColumn = null;\n\t\tthis.targetColumn = null;\n\t\tthis.isDrag = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.ColsSortable.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.colsList = this.getColsList();\n\t\t\tthis.rowsList = this.getRowsList();\n\n\t\t\tif (!this.inited)\n\t\t\t{\n\t\t\t\tthis.inited = true;\n\t\t\t\tBX.addCustomEvent('Grid::updated', BX.proxy(this.reinit, this));\n\t\t\t\tBX.addCustomEvent('Grid::headerUpdated', BX.proxy(this.reinit, this));\n\t\t\t}\n\n\t\t\tthis.registerObjects();\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent('Grid::updated', BX.proxy(this.reinit, this));\n\t\t\tthis.unregisterObjects();\n\t\t},\n\n\t\treinit: function()\n\t\t{\n\t\t\tthis.unregisterObjects();\n\t\t\tthis.reset();\n\t\t\tthis.init(this.parent);\n\t\t},\n\n\t\treset: function()\n\t\t{\n\t\t\tthis.dragItem = null;\n\t\t\tthis.targetItem = null;\n\t\t\tthis.rowsList = null;\n\t\t\tthis.colsList = null;\n\t\t\tthis.dragRect = null;\n\t\t\tthis.offset = null;\n\t\t\tthis.startDragOffset = null;\n\t\t\tthis.dragColumn = null;\n\t\t\tthis.targetColumn = null;\n\t\t\tthis.isDrag = null;\n\t\t\tthis.fixedTableColsList = null;\n\t\t},\n\n\t\tisActive: function()\n\t\t{\n\t\t\treturn this.isDrag;\n\t\t},\n\n\t\tregisterObjects: function()\n\t\t{\n\t\t\tthis.unregisterObjects();\n\t\t\tthis.getColsList().forEach(this.register, this);\n\t\t\tthis.getFixedHeaderColsList().forEach(this.register, this);\n\t\t},\n\n\t\tunregisterObjects: function()\n\t\t{\n\t\t\tthis.getColsList().forEach(this.unregister, this);\n\t\t\tthis.getFixedHeaderColsList().forEach(this.unregister, this);\n\t\t},\n\n\t\tunregister: function(column)\n\t\t{\n\t\t\tjsDD.unregisterObject(column);\n\t\t},\n\n\t\tregister: function(column)\n\t\t{\n\t\t\tcolumn.onbxdragstart = BX.proxy(this._onDragStart, this);\n\t\t\tcolumn.onbxdrag = BX.proxy(this._onDrag, this);\n\t\t\tcolumn.onbxdragstop = BX.proxy(this._onDragEnd, this);\n\t\t\tjsDD.registerObject(column);\n\t\t},\n\n\t\tgetColsList: function()\n\t\t{\n\t\t\tif (!this.colsList)\n\t\t\t{\n\t\t\t\tthis.colsList = BX.Grid.Utils.getByTag(this.parent.getRows().getHeadFirstChild().getNode(), 'th');\n\t\t\t\tthis.colsList = this.colsList.filter(function(current) {\n\t\t\t\t\treturn !this.isStatic(current);\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\treturn this.colsList;\n\t\t},\n\n\t\tgetFixedHeaderColsList: function()\n\t\t{\n\t\t\tif (!this.fixedTableColsList && this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.fixedTableColsList = BX.Grid.Utils.getByTag(this.parent.getPinHeader().getFixedTable(), 'th');\n\t\t\t\tthis.fixedTableColsList = this.fixedTableColsList.filter(function(current) {\n\t\t\t\t\treturn !this.isStatic(current);\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\treturn this.fixedTableColsList || [];\n\t\t},\n\n\t\tgetRowsList: function()\n\t\t{\n\t\t\tvar rowsList = this.parent.getRows().getSourceRows();\n\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\trowsList = rowsList.concat(BX.Grid.Utils.getByTag(this.parent.getPinHeader().getFixedTable(), 'tr'));\n\t\t\t}\n\n\t\t\treturn rowsList;\n\t\t},\n\n\t\tisStatic: function(item)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.hasClass(item, this.parent.settings.get('classCellStatic')) &&\n\t\t\t\t!BX.hasClass(item, 'main-grid-fixed-column')\n\t\t\t);\n\t\t},\n\n\t\tgetDragOffset: function()\n\t\t{\n\t\t\tvar offset = this.parent.getScrollContainer().scrollLeft - this.startScrollOffset;\n\t\t\treturn ((jsDD.x - this.startDragOffset - this.dragRect.left) + offset);\n\t\t},\n\n\t\tgetColumn: function(cell)\n\t\t{\n\t\t\tvar column = [];\n\n\t\t\tif (cell instanceof HTMLTableCellElement)\n\t\t\t{\n\t\t\t\tcolumn = this.rowsList.map(function(row) {\n\t\t\t\t\treturn row.cells[cell.cellIndex];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn column;\n\t\t},\n\n\t\t_onDragStart: function()\n\t\t{\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER') && this.parent.getPinHeader().isPinned())\n\t\t\t{\n\t\t\t\tthis.colsList = this.getFixedHeaderColsList();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.colsList = this.getColsList();\n\t\t\t}\n\n\t\t\tthis.startScrollOffset = this.parent.getScrollContainer().scrollLeft;\n\t\t\tthis.isDrag = true;\n\t\t\tthis.dragItem = jsDD.current_node;\n\t\t\tthis.dragRect = this.dragItem.getBoundingClientRect();\n\t\t\tthis.offset = Math.ceil(this.dragRect.width);\n\t\t\tthis.startDragOffset = jsDD.start_x - this.dragRect.left;\n\t\t\tthis.dragColumn = this.getColumn(this.dragItem);\n\t\t\tthis.dragIndex = BX.Grid.Utils.getIndex(this.colsList, this.dragItem);\n\t\t\tthis.parent.preventSortableClick = true;\n\t\t},\n\n\t\tisDragToRight: function(node, index)\n\t\t{\n\t\t\tvar nodeClientRect = node.getBoundingClientRect();\n\t\t\tvar nodeCenter = Math.ceil(nodeClientRect.left + (nodeClientRect.width / 2) + BX.scrollLeft(window));\n\t\t\tvar dragIndex = this.dragIndex;\n\t\t\tvar x = jsDD.x;\n\n\t\t\treturn index > dragIndex && x > nodeCenter;\n\t\t},\n\n\t\tisDragToLeft: function(node, index)\n\t\t{\n\t\t\tvar nodeClientRect = node.getBoundingClientRect();\n\t\t\tvar nodeCenter = Math.ceil(nodeClientRect.left + (nodeClientRect.width / 2) + BX.scrollLeft(window));\n\t\t\tvar dragIndex = this.dragIndex;\n\t\t\tvar x = jsDD.x;\n\n\t\t\treturn index < dragIndex && x < nodeCenter;\n\t\t},\n\n\t\tisDragToBack: function(node, index)\n\t\t{\n\t\t\tvar nodeClientRect = node.getBoundingClientRect();\n\t\t\tvar nodeCenter = Math.ceil(nodeClientRect.left + (nodeClientRect.width / 2) + BX.scrollLeft(window));\n\t\t\tvar dragIndex = this.dragIndex;\n\t\t\tvar x = jsDD.x;\n\n\t\t\treturn (index > dragIndex && x < nodeCenter) || (index < dragIndex && x > nodeCenter);\n\t\t},\n\n\n\t\tisMovedToRight: function(node)\n\t\t{\n\t\t\treturn node.style.transform === 'translate3d('+(-this.offset)+'px, 0px, 0px)';\n\t\t},\n\n\t\tisMovedToLeft: function(node)\n\t\t{\n\t\t\treturn node.style.transform === 'translate3d('+(this.offset)+'px, 0px, 0px)';\n\t\t},\n\n\t\tisMoved: function(node)\n\t\t{\n\t\t\treturn (node.style.transform !== 'translate3d(0px, 0px, 0px)' && node.style.transform !== '');\n\t\t},\n\n\t\t/**\n\t\t * Moves grid column by offset\n\t\t * @param {array} column - Array cells of column\n\t\t * @param {int} offset - Pixels offset\n\t\t * @param {int} [transition = 300] - Transition duration in milliseconds\n\t\t */\n\t\tmoveColumn: function(column, offset, transition)\n\t\t{\n\t\t\ttransition = BX.type.isNumber(transition) ? transition : 300;\n\t\t\tBX.Grid.Utils.styleForEach(column, {\n\t\t\t\t'transition': transition+'ms',\n\t\t\t\t'transform': 'translate3d('+offset+'px, 0px, 0px)'\n\t\t\t});\n\t\t},\n\n\t\t_onDrag: function()\n\t\t{\n\t\t\tthis.dragOffset = this.getDragOffset();\n\t\t\tthis.targetItem = this.targetItem || this.dragItem;\n\t\t\tthis.targetColumn = this.targetColumn || this.dragColumn;\n\n\t\t\tvar leftOffset = -this.offset;\n\t\t\tvar rightOffset = this.offset;\n\t\t\tvar defaultOffset = 0;\n\t\t\tvar dragTransitionDuration = 0;\n\n\t\t\tthis.moveColumn(this.dragColumn, this.dragOffset, dragTransitionDuration);\n\n\t\t\t[].forEach.call(this.colsList, function(current, index) {\n\t\t\t\tif (current && !current.classList.contains('main-grid-cell-static'))\n\t\t\t\t{\n\t\t\t\t\tif (this.isDragToRight(current, index) && !this.isMovedToRight(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetColumn = this.getColumn(current);\n\t\t\t\t\t\tthis.moveColumn(this.targetColumn, leftOffset);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isDragToLeft(current, index) && !this.isMovedToLeft(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetColumn = this.getColumn(current);\n\t\t\t\t\t\tthis.moveColumn(this.targetColumn, rightOffset);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isDragToBack(current, index) && this.isMoved(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetColumn = this.getColumn(current);\n\t\t\t\t\t\tthis.moveColumn(this.targetColumn, defaultOffset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\n\t\t_onDragEnd: function()\n\t\t{\n\t\t\t[].forEach.call(this.dragColumn, function(current, index) {\n\t\t\t\tBX.Grid.Utils.collectionSort(current, this.targetColumn[index]);\n\t\t\t}, this);\n\n\t\t\tthis.rowsList.forEach(function(current) {\n\t\t\t\tBX.Grid.Utils.styleForEach(current.cells, {\n\t\t\t\t\ttransition: '',\n\t\t\t\t\ttransform: ''\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.reinit();\n\n\t\t\tvar columns = this.colsList.map(function(current) {\n\t\t\t\treturn BX.data(current, 'name');\n\t\t\t});\n\n\t\t\tthis.parent.getUserOptions().setColumns(columns);\n\t\t\tBX.onCustomEvent(this.parent.getContainer(), 'Grid::columnMoved', [this.parent]);\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tthis.parent.preventSortableClick = false;\n\t\t\t}.bind(this), 10);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tvar originalUpdatePageData = window.parent.BX.ajax.UpdatePageData;\n\n\tfunction disableBxAjaxUpdatePageData()\n\t{\n\t\twindow.parent.BX.ajax.UpdatePageData = function() {};\n\t}\n\n\tfunction enableBxAjaxUpdatePageData()\n\t{\n\t\twindow.parent.BX.ajax.UpdatePageData = originalUpdatePageData;\n\t}\n\n\t/**\n\t * Works with requests and server response\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Data = function(parent)\n\t{\n\t\tthis.parent = parent;\n\t\tthis.reset();\n\t};\n\n\n\t/**\n\t * Reset to default values\n\t * @private\n\t */\n\tBX.Grid.Data.prototype.reset = function()\n\t{\n\t\tthis.response = null;\n\t\tthis.xhr = null;\n\t\tthis.headRows = null;\n\t\tthis.bodyRows = null;\n\t\tthis.footRows = null;\n\t\tthis.moreButton = null;\n\t\tthis.pagination = null;\n\t\tthis.counterDisplayed = null;\n\t\tthis.counterSelected = null;\n\t\tthis.counterTotal = null;\n\t\tthis.limit = null;\n\t\tthis.actionPanel = null;\n\t\tthis.rowsByParentId = {};\n\t\tthis.rowById = {};\n\t\tthis.isValidResponse = null;\n\t};\n\n\n\t/**\n\t * Gets filter\n\t * @return {BX.Main.Filter}\n\t */\n\tBX.Grid.Data.prototype.getParent = function()\n\t{\n\t\treturn this.parent;\n\t};\n\n\n\t/**\n\t * Validates server response\n\t * @return {boolean}\n\t */\n\tBX.Grid.Data.prototype.validateResponse = function()\n\t{\n\t\tif (!BX.type.isBoolean(this.isValidResponse))\n\t\t{\n\t\t\tthis.isValidResponse = !!this.getResponse() && !!BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classContainer'), true);\n\t\t}\n\n\t\treturn this.isValidResponse;\n\t};\n\n\n\t/**\n\t * Send request\n\t * @param {string} [url]\n\t * @param {string} [method]\n\t * @param {object} [data]\n\t * @param {string} [action]\n\t * @param {function} [then]\n\t * @param {function} [error]\n\t */\n\tBX.Grid.Data.prototype.request = function(url, method, data, action, then, error)\n\t{\n\t\tif(!BX.type.isString(url))\n\t\t{\n\t\t\turl = \"\";\n\t\t}\n\t\tif(!BX.type.isNotEmptyString(method))\n\t\t{\n\t\t\tmethod = \"GET\";\n\t\t}\n\n\t\tif(!BX.type.isPlainObject(data))\n\t\t{\n\t\t\tdata = {};\n\t\t}\n\n\t\tvar eventArgs =\n\t\t\t{\n\t\t\t\tgridId: this.parent.getId(),\n\t\t\t\turl: url,\n\t\t\t\tmethod: method,\n\t\t\t\tdata: data\n\t\t\t};\n\n\t\tthis.parent.disableCheckAllCheckboxes();\n\t\tBX.onCustomEvent(\n\t\t\twindow,\n\t\t\t\"Grid::beforeRequest\",\n\t\t\t[this, eventArgs]\n\t\t);\n\n\t\tif(eventArgs.hasOwnProperty(\"cancelRequest\") && eventArgs.cancelRequest === true)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\turl = eventArgs.url;\n\n\t\tif (!BX.type.isNotEmptyString(url))\n\t\t{\n\t\t\turl = this.parent.baseUrl;\n\t\t}\n\n\t\turl = BX.Grid.Utils.addUrlParams(url, { sessid: BX.bitrix_sessid(), internal: 'true', grid_id: this.parent.getId() });\n\n\t\tif ('apply_filter' in data && data.apply_filter === 'Y')\n\t\t{\n\t\t\turl = BX.Grid.Utils.addUrlParams(url, {apply_filter: 'Y'});\n\t\t}\n\t\telse\n\t\t{\n\t\t\turl = BX.util.remove_url_param(url, 'apply_filter');\n\t\t}\n\n\t\tif ('clear_nav' in data && data.clear_nav === 'Y')\n\t\t{\n\t\t\turl = BX.Grid.Utils.addUrlParams(url, {clear_nav: 'Y'});\n\t\t}\n\t\telse\n\t\t{\n\t\t\turl = BX.util.remove_url_param(url, 'clear_nav');\n\t\t}\n\n\t\turl = BX.Grid.Utils.addUrlParams(url, {grid_action: action || 'showpage'});\n\n\t\tmethod = eventArgs.method;\n\t\tdata = eventArgs.data;\n\n\t\tthis.reset();\n\n\t\tvar self = this;\n\n\t\tsetTimeout(function() {\n\t\t\tvar formData = BX.Http.Data.convertObjectToFormData(data);\n\n\t\t\tdisableBxAjaxUpdatePageData();\n\n\t\t\tvar xhr = BX.ajax({\n\t\t\t\turl: BX.Grid.Utils.ajaxUrl(url, self.getParent().getAjaxId()),\n\t\t\t\tdata: formData,\n\t\t\t\tmethod: method,\n\t\t\t\tdataType: 'html',\n\t\t\t\theaders: [\n\t\t\t\t\t{name: 'X-Ajax-Grid-UID', value: self.getParent().getAjaxId()},\n\t\t\t\t\t{name: 'X-Ajax-Grid-Req', value: JSON.stringify({action: action || 'showpage'})}\n\t\t\t\t],\n\t\t\t\tprocessData: true,\n\t\t\t\tscriptsRunFirst: false,\n\t\t\t\tstart: false,\n\t\t\t\tpreparePost: false,\n\t\t\t\tonsuccess: function(response) {\n\t\t\t\t\tself.response = BX.create('div', {html: response});\n\t\t\t\t\tself.response = self.response.querySelector('#'+self.parent.getContainerId());\n\t\t\t\t\tself.xhr = xhr;\n\n\t\t\t\t\tif (self.parent.getParam('HANDLE_RESPONSE_ERRORS'))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar res;\n\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tres = JSON.parse(response);\n\t\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\t\tres = {messages: []};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.messages.length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.parent.arParams['MESSAGES'] = res.messages;\n\t\t\t\t\t\t\tself.parent.messages.show();\n\n\t\t\t\t\t\t\tself.parent.tableUnfade();\n\n\t\t\t\t\t\t\tif (BX.type.isFunction(error))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.delegate(error, self)(xhr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (BX.type.isFunction(then))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.parent.enableCheckAllCheckboxes();\n\t\t\t\t\t\tBX.delegate(then, self)(response, xhr);\n\t\t\t\t\t}\n\n\t\t\t\t\tenableBxAjaxUpdatePageData();\n\t\t\t\t},\n\t\t\t\tonerror: function(err) {\n\t\t\t\t\tself.error = error;\n\t\t\t\t\tself.xhr = xhr;\n\n\t\t\t\t\tif (BX.type.isFunction(error))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.parent.enableCheckAllCheckboxes();\n\t\t\t\t\t\tBX.delegate(error, self)(xhr, err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\txhr.send(formData);\n\t\t}, 0);\n\t};\n\n\n\t/**\n\t * Gets server response\n\t * @return {?Element}\n\t */\n\tBX.Grid.Data.prototype.getResponse = function()\n\t{\n\t\treturn this.response;\n\t};\n\n\n\t/**\n\t * Gets head rows of grid from server response\n\t * @return {?HTMLTableRowElement[]}\n\t */\n\tBX.Grid.Data.prototype.getHeadRows = function()\n\t{\n\t\tif (!this.headRows)\n\t\t{\n\t\t\tthis.headRows = BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classHeadRow'));\n\t\t}\n\n\t\treturn this.headRows;\n\t};\n\n\n\t/**\n\t * Gets body rows of grid form server request\n\t * @return {?HTMLTableRowElement[]}\n\t */\n\tBX.Grid.Data.prototype.getBodyRows = function()\n\t{\n\t\tif (!this.bodyRows)\n\t\t{\n\t\t\tthis.bodyRows = BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classBodyRow'));\n\t\t}\n\n\t\treturn this.bodyRows;\n\t};\n\n\n\t/**\n\t * Gets rows by parent id\n\t * @param {string|number} id\n\t * @return {?HTMLTableRowElement[]}\n\t */\n\tBX.Grid.Data.prototype.getRowsByParentId = function(id)\n\t{\n\t\tif (!(id in this.rowsByParentId))\n\t\t{\n\t\t\tthis.rowsByParentId[id] = BX.Grid.Utils.getBySelector(\n\t\t\t\tthis.getResponse(),\n\t\t\t\t'.'+this.getParent().settings.get('classBodyRow')+'[data-parent-id=\"'+id+'\"]'\n\t\t\t);\n\t\t}\n\n\t\treturn this.rowsByParentId[id];\n\t};\n\n\n\t/**\n\t * Gets row by row id\n\t * @param {string|number} id\n\t * @return {?HTMLTableRowElement}\n\t */\n\tBX.Grid.Data.prototype.getRowById = function(id)\n\t{\n\t\tif (!(id in this.rowById))\n\t\t{\n\t\t\tthis.rowById[id] = BX.Grid.Utils.getBySelector(\n\t\t\t\tthis.getResponse(),\n\t\t\t\t'.'+this.getParent().settings.get('classBodyRow')+'[data-id=\"'+id+'\"]',\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.rowById[id];\n\t};\n\n\n\t/**\n\t * Gets tfoot rows of grid from request\n\t * @return {?HTMLTableRowElement[]}\n\t */\n\tBX.Grid.Data.prototype.getFootRows = function()\n\t{\n\t\tif (!this.footRows)\n\t\t{\n\t\t\tthis.footRows = BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classFootRow'));\n\t\t}\n\n\t\treturn this.footRows;\n\t};\n\n\n\t/**\n\t * Gets more button from request\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getMoreButton = function()\n\t{\n\t\tif (!this.moreButton)\n\t\t{\n\t\t\tthis.moreButton = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classMoreButton'),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.moreButton;\n\t};\n\n\n\t/**\n\t * Gets pagination of grid from request\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getPagination = function()\n\t{\n\t\tif (!this.pagination)\n\t\t{\n\t\t\tthis.pagination = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classPagination'),\n\t\t\t\ttrue\n\t\t\t);\n\n\t\t\tif (BX.type.isDomNode(this.pagination))\n\t\t\t{\n\t\t\t\tthis.pagination = BX.firstChild(this.pagination);\n\t\t\t}\n\t\t}\n\n\t\treturn this.pagination;\n\t};\n\n\n\t/**\n\t * Gets counter of displayed rows\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getCounterDisplayed = function()\n\t{\n\t\tif (!this.counterDisplayed)\n\t\t{\n\t\t\tthis.counterDisplayed = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classCounterDisplayed'),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.counterDisplayed;\n\t};\n\n\n\t/**\n\t * Gets counter of selected rows\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getCounterSelected = function()\n\t{\n\t\tif (!this.counterSelected)\n\t\t{\n\t\t\tthis.counterSelected = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classCounterSelected'),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.counterSelected;\n\t};\n\n\n\t/**\n\t * Gets counter of total rows count\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getCounterTotal = function()\n\t{\n\t\tif (!BX.type.isDomNode(this.counterTotal))\n\t\t{\n\t\t\tvar selector = '.'+this.getParent().settings.get('classCounterTotal')+' .'+this.getParent().settings.get('classPanelCellContent');\n\t\t\tthis.counterTotal = BX.Grid.Utils.getBySelector(this.getResponse(), selector, true);\n\t\t}\n\n\t\treturn this.counterTotal;\n\t};\n\n\n\t/**\n\t * Gets dropdown of pagesize\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getLimit = function()\n\t{\n\t\tif (!this.limit)\n\t\t{\n\t\t\tthis.limit = BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classPageSize'), true);\n\t\t}\n\n\t\treturn this.limit;\n\t};\n\n\n\t/**\n\t * Gets dropdown of pagesize\n\t * @alias BX.Grid.Data.prototype.getLimit\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getPageSize = function()\n\t{\n\t\treturn this.getLimit();\n\t};\n\n\n\t/**\n\t * Gets action panel of grid\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getActionPanel = function()\n\t{\n\t\tif (!this.actionPanel)\n\t\t{\n\t\t\tthis.actionPanel = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classActionPanel'),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.actionPanel;\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Main');\n\n\n\t/**\n\t * BX.Main.dropdown\n\t * @param dropdown\n\t */\n\tBX.Main.dropdown = function(dropdown)\n\t{\n\t\tthis.id = null;\n\t\tthis.dropdown = null;\n\t\tthis.items = null;\n\t\tthis.value = null;\n\t\tthis.menuId = null;\n\t\tthis.menu = null;\n\t\tthis.menuItems = null;\n\t\tthis.dataItems = 'items';\n\t\tthis.dataValue = 'value';\n\t\tthis.dataPseudo = 'pseudo';\n\t\tthis.dropdownItemClass = 'main-dropdown-item';\n\t\tthis.activeClass = 'main-dropdown-active';\n\t\tthis.selectedClass = 'main-dropdown-item-selected';\n\t\tthis.notSelectedClass = 'main-dropdown-item-not-selected';\n\t\tthis.menuItemClass = 'menu-popup-item';\n\t\tthis.init(dropdown);\n\t};\n\n\tBX.Main.dropdown.prototype = {\n\t\tinit: function(dropdown)\n\t\t{\n\t\t\tthis.id = dropdown.id;\n\t\t\tthis.dropdown = dropdown;\n\t\t\tthis.items = this.getItems();\n\t\t\tthis.value = this.getValue();\n\t\t\tthis.menuId = this.getMenuId();\n\t\t\tthis.menu = this.createMenu();\n\t\t\tthis.menu.popupWindow.show();\n\t\t\tthis.adjustPosition();\n\n\t\t\tBX.bind(this.dropdown, 'click', BX.delegate(this.showMenu, this));\n\t\t},\n\n\t\tgetMenuId: function()\n\t\t{\n\t\t\treturn this.id + '_menu';\n\t\t},\n\n\t\tgetItems: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tvar str = BX.data(this.dropdown, this.dataItems);\n\t\t\t\tresult = eval(str);\n\t\t\t} catch (err) {\n\t\t\t\tresult = [];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetValue: function()\n\t\t{\n\t\t\treturn BX.data(this.dropdown, this.dataValue);\n\t\t},\n\n\t\tprepareMenuItems: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar attrs, subItem;\n\t\t\tvar currentValue = this.getValue();\n\n\t\t\tfunction prepareItems(items)\n\t\t\t{\n\t\t\t\treturn items.map(function(item) {\n\t\t\t\t\tattrs = {};\n\t\t\t\t\tattrs['data-'+self.dataValue] = item.VALUE;\n\t\t\t\t\tattrs['data-'+self.dataPseudo] = 'PSEUDO' in item && item.PSEUDO ? 'true' : 'false';\n\n\t\t\t\t\tsubItem = BX.create('div', {children: [\n\t\t\t\t\t\tBX.create('span', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: self.dropdownItemClass\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tattrs: attrs,\n\t\t\t\t\t\t\ttext: item.NAME\n\t\t\t\t\t\t})\n\t\t\t\t\t]});\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttext: subItem.innerHTML,\n\t\t\t\t\t\tclassName: currentValue === item.VALUE ? self.selectedClass : self.notSelectedClass,\n\t\t\t\t\t\tdelimiter: item.DELIMITER,\n\t\t\t\t\t\titems: 'ITEMS' in item ? prepareItems(item.ITEMS) : null\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn prepareItems(this.getItems());\n\t\t},\n\n\t\tcreateMenu: function()\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\treturn BX.PopupMenu.create(\n\t\t\t\tthis.getMenuId(),\n\t\t\t\tthis.dropdown,\n\t\t\t\tthis.prepareMenuItems(),\n\t\t\t\t{\n\t\t\t\t\t'autoHide': true,\n\t\t\t\t\t'offsetTop': -8,\n\t\t\t\t\t'offsetLeft': 40,\n\t\t\t\t\t'maxHeight': 208,\n\t\t\t\t\t'angle': {\n\t\t\t\t\t\t'position': 'bottom',\n\t\t\t\t\t\t'offset': 0\n\t\t\t\t\t},\n\t\t\t\t\t'events': {\n\t\t\t\t\t\t'onPopupClose': BX.delegate(this._onCloseMenu, this),\n\t\t\t\t\t\t'onPopupShow': function() {\n\t\t\t\t\t\t\tself._onShowMenu();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\tshowMenu: function()\n\t\t{\n\t\t\tthis.menu = BX.PopupMenu.getMenuById(this.menuId);\n\n\t\t\tif (!this.menu)\n\t\t\t{\n\t\t\t\tthis.menu = this.createMenu();\n\t\t\t\tthis.menu.popupWindow.show();\n\t\t\t}\n\n\t\t\tthis.adjustPosition();\n\t\t},\n\n\t\tadjustPosition: function()\n\t\t{\n\t\t\tif (this.dropdown.dataset.popupPosition === 'fixed')\n\t\t\t{\n\t\t\t\tvar container = this.menu.popupWindow.popupContainer;\n\n\t\t\t\tcontainer.style.setProperty('top', 'auto');\n\t\t\t\tcontainer.style.setProperty('bottom', '45px');\n\t\t\t\tcontainer.style.setProperty('left', '0px');\n\n\t\t\t\tthis.dropdown.appendChild(container);\n\t\t\t}\n\t\t},\n\n\t\tgetSubItem: function(node)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(node, this.dropdownItemClass, true);\n\t\t},\n\n\t\trefresh: function(item)\n\t\t{\n\t\t\tvar subItem = this.getSubItem(item);\n\t\t\tvar value = BX.data(subItem, this.dataValue);\n\n\t\t\tBX.firstChild(this.dropdown).innerText = subItem.innerText;\n\t\t\tthis.dropdown.dataset[this.dataValue] = value;\n\t\t},\n\n\t\tselectItem: function(node)\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\t(this.menu.menuItems || []).forEach(function(current) {\n\t\t\t\tBX.removeClass(current.layout.item, self.selectedClass);\n\n\t\t\t\tif (node !== current.layout.item)\n\t\t\t\t{\n\t\t\t\t\tBX.addClass(current.layout.item, self.notSelectedClass);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.removeClass(current.layout.item, self.notSelectedClass);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBX.addClass(node, this.selectedClass);\n\t\t},\n\n\t\tgetDataItemIndexByValue: function(items, value)\n\t\t{\n\t\t\tvar result;\n\n\t\t\tif (BX.type.isArray(items))\n\t\t\t{\n\t\t\t\titems.map(function(current, index) {\n\t\t\t\t\tif (current.VALUE === value)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult = index;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\tgetDataItemByValue: function(value)\n\t\t{\n\t\t\tvar result = this.getItems().filter(function(current) {\n\t\t\t\treturn current.VALUE === value;\n\t\t\t});\n\n\t\t\treturn result.length > 0 ? result[0] : null;\n\t\t},\n\n\t\t_onShowMenu: function()\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tBX.addClass(this.dropdown, this.activeClass);\n\t\t\t(this.menu.menuItems || []).forEach(function(current) {\n\t\t\t\tBX.bind(current.layout.item, 'click', BX.delegate(self._onItemClick, self));\n\t\t\t});\n\t\t},\n\n\t\t_onCloseMenu: function()\n\t\t{\n\t\t\tBX.removeClass(this.dropdown, this.activeClass);\n\t\t\tBX.PopupMenu.destroy(this.menuId);\n\t\t},\n\n\t\t_onItemClick: function(event)\n\t\t{\n\t\t\tvar item = this.getMenuItem(event.target);\n\t\t\tvar value, dataItem;\n\t\t\tvar subItem = this.getSubItem(item);\n\t\t\tvar isPseudo = BX.data(subItem, 'pseudo');\n\n\t\t\tif (!(isPseudo === 'true'))\n\t\t\t{\n\t\t\t\tthis.refresh(item);\n\t\t\t\tthis.selectItem(item);\n\t\t\t\tthis.menu.popupWindow.close();\n\t\t\t\tvalue = this.getValue();\n\t\t\t\tdataItem = this.getDataItemByValue(value);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvalue = BX.data(subItem, 'value');\n\t\t\t\tdataItem = this.getDataItemByValue(value);\n\t\t\t}\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tBX.onCustomEvent(window, 'Dropdown::change', [this.dropdown.id, event, item, dataItem, value]);\n\t\t},\n\n\t\tgetMenuItem: function(node)\n\t\t{\n\t\t\tvar item = node;\n\n\t\t\tif (!BX.hasClass(item, this.menuItemClass))\n\t\t\t{\n\t\t\t\titem = BX.findParent(item, {class: this.menuItemClass});\n\t\t\t}\n\n\t\t\treturn item;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Main');\n\n\tBX.Main.dropdownManager = {\n\t\tdropdownClass: 'main-dropdown',\n\t\tdata: {},\n\t\tinit: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar result;\n\t\t\tvar onLoadItems;\n\t\t\tvar items;\n\n\t\t\tBX.bind(document, 'click', BX.delegate(function(event) {\n\t\t\t\tif (BX.hasClass(event.target, this.dropdownClass))\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tresult = this.getById(event.target.id);\n\n\t\t\t\t\tif (result && result.dropdown === event.target)\n\t\t\t\t\t{\n\t\t\t\t\t\tself.push(event.target.id, this.getById(event.target.id));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tself.push(event.target.id, new BX.Main.dropdown(event.target));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this));\n\n\t\t\tonLoadItems = BX.Grid.Utils.getByClass(document.body, this.dropdownClass);\n\n\t\t\tif (BX.type.isArray(onLoadItems))\n\t\t\t{\n\t\t\t\tonLoadItems.forEach(function(current) {\n\t\t\t\t\tresult = self.getById(current.id);\n\t\t\t\t\ttry {\n\t\t\t\t\t\titems = eval(BX.data(current, 'items'));\n\t\t\t\t\t} catch (err) {}\n\n\t\t\t\t\tBX.onCustomEvent(window, 'Dropdown::load', [current.id, {}, null, BX.type.isArray(items) && items.length ? items[0] : [], BX.data(current, 'value')]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tpush: function(id, instance)\n\t\t{\n\t\t\tthis.data[id] = instance;\n\t\t},\n\n\t\tgetById: function(id)\n\t\t{\n\t\t\treturn (id in this.data) ? this.data[id] : null;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * @param {HtmlElement} node\n\t * @param {BX.Main.grid} [parent]\n\t * @constructor\n\t */\n\tBX.Grid.Element = function(node, parent)\n\t{\n\t\tthis.node = null;\n\t\tthis.href = null;\n\t\tthis.parent = null;\n\t\tthis.init(node, parent);\n\t};\n\n\tBX.Grid.Element.prototype = {\n\t\tinit: function(node, parent)\n\t\t{\n\t\t\tthis.node = node;\n\t\t\tthis.parent = parent;\n\t\t\tthis.resetOnclickAttr();\n\t\t},\n\n\t\tgetParent: function()\n\t\t{\n\t\t\treturn this.parent;\n\t\t},\n\n\t\tload: function()\n\t\t{\n\t\t\tBX.addClass(this.getNode(), this.getParent().settings.get('classLoad'));\n\t\t},\n\n\t\tunload: function()\n\t\t{\n\t\t\tBX.removeClass(this.getNode(), this.getParent().settings.get('classLoad'));\n\t\t},\n\n\t\tisLoad: function()\n\t\t{\n\t\t\treturn BX.hasClass(this.getNode(), this.getParent().settings.get('classLoad'));\n\t\t},\n\n\t\tresetOnclickAttr: function()\n\t\t{\n\t\t\tif (BX.type.isDomNode(this.getNode()))\n\t\t\t{\n\t\t\t\tthis.getNode().onclick = null;\n\t\t\t}\n\t\t},\n\n\t\tgetObserver: function()\n\t\t{\n\t\t\treturn BX.Grid.observer;\n\t\t},\n\n\t\tgetNode: function()\n\t\t{\n\t\t\treturn this.node;\n\t\t},\n\n\t\tgetLink: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = this.getNode().href;\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * BX.Grid.Fader\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Fader = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.table = null;\n\t\tthis.container = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Fader.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.table = this.parent.getTable();\n\t\t\tthis.container = this.table.parentNode;\n\t\t\tthis.scrollStartEventName = this.parent.isTouch() ? 'touchstart' : 'mouseenter';\n\t\t\tthis.scrollEndEventName = this.parent.isTouch() ? 'touchend' : 'mouseleave';\n\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.fixedTable = this.parent.getPinHeader().getFixedTable();\n\t\t\t}\n\n\t\t\tthis.debounceScrollHandler = BX.debounce(this._onWindowScroll, 400, this);\n\n\t\t\tBX.bind(window, 'resize', BX.proxy(this.toggle, this));\n\t\t\tdocument.addEventListener('scroll', this.debounceScrollHandler, BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tthis.container.addEventListener('scroll', BX.proxy(this.toggle, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tBX.addCustomEvent(window, 'Grid::updated', BX.proxy(this.toggle, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::resize', BX.proxy(this.toggle, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this._onHeaderUpdated, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::columnResize', BX.proxy(this.toggle, this));\n\t\t\tBX.bind(this.getEarLeft(), this.scrollStartEventName, BX.proxy(this._onMouseoverLeft, this));\n\t\t\tBX.bind(this.getEarRight(), this.scrollStartEventName, BX.proxy(this._onMouseoverRight, this));\n\t\t\tBX.bind(this.getEarLeft(), this.scrollEndEventName, BX.proxy(this.stopScroll, this));\n\t\t\tBX.bind(this.getEarRight(), this.scrollEndEventName, BX.proxy(this.stopScroll, this));\n\n\t\t\tthis.toggle();\n\t\t\tthis.adjustEarOffset(true);\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.unbind(window, 'resize', BX.proxy(this.toggle, this));\n\t\t\tdocument.removeEventListener('scroll', this.debounceScrollHandler, BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tthis.container.removeEventListener('scroll', BX.proxy(this.toggle, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tBX.removeCustomEvent(window, 'Grid::updated', BX.proxy(this.toggle, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this._onHeaderUpdated, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::columnResize', BX.proxy(this.toggle, this));\n\t\t\tBX.unbind(this.getEarLeft(), this.scrollStartEventName, BX.proxy(this._onMouseoverLeft, this));\n\t\t\tBX.unbind(this.getEarRight(), this.scrollStartEventName, BX.proxy(this._onMouseoverRight, this));\n\t\t\tBX.unbind(this.getEarLeft(), this.scrollEndEventName, BX.proxy(this.stopScroll, this));\n\t\t\tBX.unbind(this.getEarRight(), this.scrollEndEventName, BX.proxy(this.stopScroll, this));\n\t\t\tthis.hideLeftEar();\n\t\t\tthis.hideRightEar();\n\t\t\tthis.stopScroll();\n\t\t},\n\n\t\t_onHeaderUpdated: function()\n\t\t{\n\t\t\tthis.fixedTable = this.parent.getPinHeader().getFixedTable();\n\t\t},\n\n\t\t_onMouseoverLeft: function(event)\n\t\t{\n\t\t\tthis.parent.isTouch() && event.preventDefault();\n\t\t\tthis.startScrollByDirection('left');\n\t\t},\n\n\t\t_onMouseoverRight: function(event)\n\t\t{\n\t\t\tthis.parent.isTouch() && event.preventDefault();\n\t\t\tthis.startScrollByDirection('right');\n\t\t},\n\n\t\tstopScroll: function()\n\t\t{\n\t\t\tclearTimeout(this.scrollTimer);\n\t\t\tclearInterval(this.scrollInterval);\n\t\t},\n\n\t\tstartScrollByDirection: function(direction)\n\t\t{\n\t\t\tvar container = this.container;\n\t\t\tvar offset = container.scrollLeft;\n\t\t\tvar self = this;\n\t\t\tvar stepLength = 8;\n\t\t\tvar stepTime = ((1000 / 60) / 2);\n\n\t\t\tthis.scrollTimer = setTimeout(function() {\n\t\t\t\tself.scrollInterval = setInterval(function() {\n\t\t\t\t\tcontainer.scrollLeft = direction == 'right' ? (offset += stepLength) : (offset -= stepLength);\n\t\t\t\t}, stepTime);\n\t\t\t}, 100);\n\t\t},\n\n\t\tgetEarLeft: function()\n\t\t{\n\t\t\tif (!this.earLeft)\n\t\t\t{\n\t\t\t\tthis.earLeft = BX.Grid.Utils.getByClass(this.parent.getContainer(), this.parent.settings.get('classEarLeft'), true);\n\t\t\t}\n\n\t\t\treturn this.earLeft;\n\t\t},\n\n\t\tgetEarRight: function()\n\t\t{\n\t\t\tif (!this.earRight)\n\t\t\t{\n\t\t\t\tthis.earRight = BX.Grid.Utils.getByClass(this.parent.getContainer(), this.parent.settings.get('classEarRight'), true);\n\t\t\t}\n\n\t\t\treturn this.earRight;\n\t\t},\n\n\t\tgetShadowLeft: function()\n\t\t{\n\t\t\treturn this.parent.getContainer().querySelector(\".main-grid-fade-shadow-left\");\n\t\t},\n\n\t\tgetShadowRight: function()\n\t\t{\n\t\t\treturn this.parent.getContainer().querySelector(\".main-grid-fade-shadow-right\");\n\t\t},\n\n\t\tadjustEarOffset: function(prepare)\n\t\t{\n\t\t\tif (prepare)\n\t\t\t{\n\t\t\t\tthis.windowHeight = BX.height(window);\n\t\t\t\tthis.tbodyPos = BX.pos(this.table.tBodies[0]);\n\t\t\t\tthis.headerPos = BX.pos(this.table.tHead);\n\t\t\t}\n\n\t\t\tvar scrollY = window.scrollY;\n\n\t\t\tif (this.parent.isIE())\n\t\t\t{\n\t\t\t\tscrollY = document.documentElement.scrollTop;\n\t\t\t}\n\n\t\t\tvar bottomPos = (scrollY + this.windowHeight) - this.tbodyPos.top;\n\t\t\tvar posTop = scrollY - this.tbodyPos.top;\n\n\t\t\tif (bottomPos > (this.tbodyPos.bottom - this.tbodyPos.top))\n\t\t\t{\n\t\t\t\tbottomPos = this.tbodyPos.bottom - this.tbodyPos.top;\n\t\t\t}\n\n\t\t\tif (posTop < this.headerPos.height)\n\t\t\t{\n\t\t\t\tposTop = this.headerPos.height;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbottomPos -= posTop;\n\t\t\t\tbottomPos += this.headerPos.height;\n\t\t\t}\n\n\t\t\tBX.Grid.Utils.requestAnimationFrame(BX.proxy(function() {\n\t\t\t\tif (posTop !== this.lastPosTop)\n\t\t\t\t{\n\t\t\t\t\tvar translate = 'translate3d(0px, ' + posTop + 'px, 0)';\n\t\t\t\t\tthis.getEarLeft().style.transform = translate;\n\t\t\t\t\tthis.getEarRight().style.transform = translate;\n\t\t\t\t}\n\n\t\t\t\tif (bottomPos !== this.lastBottomPos)\n\t\t\t\t{\n\t\t\t\t\tthis.getEarLeft().style.height = bottomPos + 'px';\n\t\t\t\t\tthis.getEarRight().style.height = bottomPos + 'px';\n\t\t\t\t}\n\n\t\t\t\tthis.lastPosTop = posTop;\n\t\t\t\tthis.lastBottomPos = bottomPos;\n\t\t\t}, this));\n\t\t},\n\n\t\t_onWindowScroll: function()\n\t\t{\n\t\t\tthis.adjustEarOffset();\n\t\t},\n\n\t\thasScroll: function()\n\t\t{\n\t\t\treturn this.table.offsetWidth > this.container.clientWidth;\n\t\t},\n\n\t\thasScrollLeft: function()\n\t\t{\n\t\t\treturn this.container.scrollLeft > 0;\n\t\t},\n\n\t\thasScrollRight: function()\n\t\t{\n\t\t\treturn this.table.offsetWidth > (this.container.scrollLeft + this.container.clientWidth);\n\t\t},\n\n\t\tshowLeftEar: function()\n\t\t{\n\t\t\tBX.addClass(this.container.parentNode, this.parent.settings.get('classFadeContainerLeft'));\n\t\t\tBX.addClass(this.getEarLeft(), this.parent.settings.get('classShow'));\n\t\t},\n\n\t\thideLeftEar: function()\n\t\t{\n\t\t\tBX.removeClass(this.container.parentNode, this.parent.settings.get('classFadeContainerLeft'));\n\t\t\tBX.removeClass(this.getEarLeft(), this.parent.settings.get('classShow'));\n\t\t},\n\n\t\tshowRightEar: function()\n\t\t{\n\t\t\tBX.addClass(this.container.parentNode, this.parent.settings.get('classFadeContainerRight'));\n\t\t\tBX.addClass(this.getEarRight(), this.parent.settings.get('classShow'));\n\t\t},\n\n\t\thideRightEar: function()\n\t\t{\n\t\t\tBX.removeClass(this.container.parentNode, this.parent.settings.get('classFadeContainerRight'));\n\t\t\tBX.removeClass(this.getEarRight(), this.parent.settings.get('classShow'));\n\t\t},\n\n\t\tadjustFixedTablePosition: function()\n\t\t{\n\t\t\tvar left = this.container.scrollLeft;\n\n\t\t\tBX.Grid.Utils.requestAnimationFrame(BX.delegate(function() {\n\t\t\t\tthis.fixedTable.style.marginLeft = -left + 'px';\n\t\t\t}, this));\n\t\t},\n\n\t\ttoggle: function()\n\t\t{\n\t\t\tthis.adjustEarOffset(true);\n\t\t\tthis.fixedTable && this.adjustFixedTablePosition();\n\n\t\t\tif (this.hasScroll())\n\t\t\t{\n\t\t\t\tthis.hasScrollLeft() ? this.showLeftEar() : this.hideLeftEar();\n\t\t\t\tthis.hasScrollRight() ? this.showRightEar() : this.hideRightEar();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideLeftEar();\n\t\t\t\tthis.hideRightEar();\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * Updates grid\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Updater = function(parent)\n\t{\n\t\tthis.parent = parent;\n\t};\n\n\n\t/**\n\t * Gets parent object\n\t * @return {?BX.Main.grid}\n\t */\n\tBX.Grid.Updater.prototype.getParent = function()\n\t{\n\t\treturn this.parent;\n\t};\n\n\n\t/**\n\t * Updates head rows\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.updateHeadRows = function(rows)\n\t{\n\t\tvar headers;\n\n\t\tif (BX.type.isArray(rows) && rows.length)\n\t\t{\n\t\t\theaders = this.getParent().getHeaders();\n\t\t\theaders.forEach(function(header) {\n\t\t\t\theader = BX.cleanNode(header);\n\t\t\t\trows.forEach(function(row) {\n\t\t\t\t\tif (BX.type.isDomNode(row))\n\t\t\t\t\t{\n\t\t\t\t\t\theader.appendChild(BX.clone(row));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Appends head rows\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.appendHeadRows = function(rows)\n\t{\n\t\tvar headers;\n\n\t\tif (BX.type.isArray(rows) && rows.length)\n\t\t{\n\t\t\theaders = this.getParent().getHeaders();\n\n\t\t\theaders.forEach(function(header) {\n\t\t\t\trows.forEach(function(row) {\n\t\t\t\t\tif (BX.type.isDomNode(row))\n\t\t\t\t\t{\n\t\t\t\t\t\theader.appendChild(BX.clone(row));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Prepends head rows\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.prependHeadRows = function(rows)\n\t{\n\t\tvar headers;\n\n\t\tif (BX.type.isArray(rows) && rows.length)\n\t\t{\n\t\t\theaders = this.getParent().getHeaders();\n\n\t\t\theaders.forEach(function(header) {\n\t\t\t\theader = BX.cleanNode(header);\n\t\t\t\trows.forEach(function(row) {\n\t\t\t\t\tif (BX.type.isDomNode(row))\n\t\t\t\t\t{\n\t\t\t\t\t\theader.prepend(BX.clone(row));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates body row by row id\n\t * @param {?string|number} id\n\t * @param {HTMLTableRowElement} row\n\t */\n\tBX.Grid.Updater.prototype.updateBodyRowById = function(id, row)\n\t{\n\t\tif ((BX.type.isNumber(id) || BX.type.isNotEmptyString(id)) && BX.type.isDomNode(row))\n\t\t{\n\t\t\tvar currentRow = this.getParent().getRows().getById(id);\n\n\t\t\tif (currentRow)\n\t\t\t{\n\t\t\t\tvar currentNode = currentRow.getNode();\n\t\t\t\tBX.insertAfter(row, currentNode);\n\t\t\t\tBX.remove(currentNode);\n\t\t\t}\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates all body rows.\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.updateBodyRows = function(rows)\n\t{\n\t\tif (BX.type.isArray(rows))\n\t\t{\n\t\t\tvar body = this.getParent().getBody();\n\t\t\tbody.innerHTML = '';\n\n\t\t\trows.forEach(function(current) {\n\t\t\t\t!!current && body.appendChild(current);\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Appends body rows.\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.appendBodyRows = function(rows)\n\t{\n\t\tvar body;\n\n\t\tif (BX.type.isArray(rows))\n\t\t{\n\t\t\tbody = this.getParent().getBody();\n\t\t\trows.forEach(function(current) {\n\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t{\n\t\t\t\t\tbody.appendChild(current);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Prepends body rows\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.prependBodyRows = function(rows)\n\t{\n\t\tvar body;\n\n\t\tif (BX.type.isArray(rows))\n\t\t{\n\t\t\tbody = this.getParent().getBody();\n\t\t\trows.forEach(function(current) {\n\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t{\n\t\t\t\t\tBX.prepend(body, current);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates table footer rows.\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.updateFootRows = function(rows)\n\t{\n\t\tvar foot;\n\n\t\tif (BX.type.isArray(rows))\n\t\t{\n\t\t\tfoot = BX.cleanNode(this.getParent().getFoot());\n\t\t\trows.forEach(function(current) {\n\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t{\n\t\t\t\t\tfoot.appendChild(current);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates total rows counter\n\t * @param {?HTMLElement} counter\n\t */\n\tBX.Grid.Updater.prototype.updateCounterTotal = function(counter)\n\t{\n\t\tvar counterCell;\n\n\t\tif (BX.type.isDomNode(counter))\n\t\t{\n\t\t\tcounterCell = BX.cleanNode(this.getParent().getCounterTotal());\n\t\t\tcounterCell.appendChild(counter);\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates grid pagination\n\t * @param {?HTMLElement} pagination\n\t */\n\tBX.Grid.Updater.prototype.updatePagination = function(pagination)\n\t{\n\t\tvar paginationCell = this.getParent().getPagination().getContainer();\n\n\t\tif (!!paginationCell)\n\t\t{\n\t\t\tpaginationCell.innerHTML = '';\n\n\t\t\tif (BX.type.isDomNode(pagination))\n\t\t\t{\n\t\t\t\tpaginationCell.appendChild(pagination);\n\t\t\t}\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates more button\n\t * @param {?HTMLElement} button\n\t */\n\tBX.Grid.Updater.prototype.updateMoreButton = function(button)\n\t{\n\t\tif (BX.type.isDomNode(button))\n\t\t{\n\t\t\tvar buttonParent = BX.Grid.Utils.closestParent(this.getParent().getMoreButton().getNode());\n\t\t\tbuttonParent.innerHTML = '';\n\t\t\tbuttonParent.appendChild(button);\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates group actions panel\n\t * @param {HTMLElement} panel\n\t */\n\tBX.Grid.Updater.prototype.updateGroupActions = function(panel)\n\t{\n\t\tvar GroupActions = this.parent.getActionsPanel();\n\n\t\tif (!!GroupActions && BX.type.isDomNode(panel))\n\t\t{\n\t\t\tvar panelNode = GroupActions.getPanel();\n\n\t\t\tif (BX.type.isDomNode(panelNode))\n\t\t\t{\n\t\t\t\tpanelNode.innerHTML = '';\n\n\t\t\t\tvar panelChild = BX.firstChild(panel);\n\n\t\t\t\tif (BX.type.isDomNode(panelChild))\n\t\t\t\t{\n\t\t\t\t\tpanelNode.appendChild(panelChild);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.Reflection.namespace('BX.Grid');\n\n\tBX.Grid.ImageField = function(parent, options) {\n\t\tthis.parent = parent;\n\t\tthis.options = options;\n\t\tthis.cache = new BX.Cache.MemoryCache();\n\t};\n\n\tBX.Grid.ImageField.prototype = {\n\t\tgetPreview: function()\n\t\t{\n\t\t\treturn this.cache.remember('preview', function() {\n\t\t\t\treturn BX.create('img', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: 'main-grid-image-editor-preview'\n\t\t\t\t\t},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tsrc: this.options.VALUE\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetFileInput: function()\n\t\t{\n\t\t\treturn this.cache.remember('fileInput', function() {\n\t\t\t\treturn BX.create(\"input\", {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"main-grid-image-editor-file-input\"\n\t\t\t\t\t},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\ttype: \"file\",\n\t\t\t\t\t\taccept: \"image/*\",\n\t\t\t\t\t\tname: this.options.NAME\n\t\t\t\t\t},\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tchange: function(event) {\n\t\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\t\treader.onload = function(event) {\n\t\t\t\t\t\t\t\tthis.getPreview().src = event.currentTarget.result;\n\t\t\t\t\t\t\t}.bind(this);\n\n\t\t\t\t\t\t\treader.readAsDataURL(event.target.files[0]);\n\n\t\t\t\t\t\t\tBX.Dom.remove(this.getFakeField());\n\t\t\t\t\t\t\tBX.Dom.append(this.getFileInput(), this.getLayout());\n\t\t\t\t\t\t\tBX.Dom.removeClass(this.getRemoveButton(), 'ui-btn-disabled');\n\t\t\t\t\t\t\tBX.Dom.style(this.getPreview(), null);\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetUploadButton: function()\n\t\t{\n\t\t\treturn this.cache.remember('uploadButton', function() {\n\t\t\t\treturn BX.create('button', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"ui-btn ui-btn-xs\"\n\t\t\t\t\t},\n\t\t\t\t\ttext: this.parent.getParam(\"MAIN_UI_GRID_IMAGE_EDITOR_BUTTON_EDIT\"),\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: function(event) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tthis.getFileInput().click();\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetRemoveButton: function()\n\t\t{\n\t\t\treturn this.cache.remember('removeButton', function() {\n\t\t\t\treturn BX.create('button', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"ui-btn ui-btn-xs ui-btn-danger\"\n\t\t\t\t\t},\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: function(event) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tBX.Dom.append(this.getFakeField(), this.getLayout());\n\t\t\t\t\t\t\tBX.Dom.remove(this.getFileInput());\n\t\t\t\t\t\t\tBX.Dom.addClass(this.getRemoveButton(), 'ui-btn-disabled');\n\t\t\t\t\t\t\tBX.Dom.style(this.getPreview(), {\n\t\t\t\t\t\t\t\topacity: .4\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t},\n\t\t\t\t\ttext: this.parent.getParam('MAIN_UI_GRID_IMAGE_EDITOR_BUTTON_REMOVE')\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetFakeField: function()\n\t\t{\n\t\t\treturn this.cache.remember('deleted', function() {\n\t\t\t\treturn BX.create(\"input\", {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"main-grid-image-editor-fake-file-input\"\n\t\t\t\t\t},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\ttype: \"hidden\",\n\t\t\t\t\t\tname: this.options.NAME,\n\t\t\t\t\t\tvalue: 'null'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetLayout: function()\n\t\t{\n\t\t\treturn this.cache.remember('layout', function() {\n\t\t\t\treturn BX.create(\"div\", {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"main-grid-image-editor main-grid-editor\"\n\t\t\t\t\t},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tname: this.options.NAME\n\t\t\t\t\t},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tBX.create(\"div\", {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: \"main-grid-image-editor-left\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tthis.getPreview()\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tBX.create(\"div\", {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: \"main-grid-image-editor-right\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tthis.getUploadButton(),\n\t\t\t\t\t\t\t\tthis.getRemoveButton()\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tthis.getFileInput()\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.InlineEditor\n\t * @param {BX.Main.grid} parent\n\t * @param {Object} types\n\t * @constructor\n\t */\n\tBX.Grid.InlineEditor = function(parent, types)\n\t{\n\t\tthis.parent = null;\n\t\tthis.types = null;\n\t\tthis.init(parent, types);\n\t};\n\n\tBX.Grid.InlineEditor.prototype = {\n\t\tinit: function(parent, types)\n\t\t{\n\t\t\tthis.parent = parent;\n\n\t\t\ttry {\n\t\t\t\tthis.types = eval(types);\n\t\t\t} catch (err) {\n\t\t\t\tthis.types = null;\n\t\t\t}\n\t\t},\n\n\t\tcreateContainer: function()\n\t\t{\n\t\t\treturn BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: this.parent.settings.get('classEditorContainer')\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tcreateTextarea: function(editObject, height)\n\t\t{\n\t\t\tvar textarea = BX.create('textarea', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: [\n\t\t\t\t\t\tthis.parent.settings.get('classEditor'),\n\t\t\t\t\t\tthis.parent.settings.get('classEditorTextarea')\n\t\t\t\t\t].join(' ')\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tname: editObject.NAME,\n\t\t\t\t\tstyle: 'height:' + height + 'px'\n\t\t\t\t},\n\t\t\t\thtml: editObject.VALUE\n\t\t\t});\n\n\t\t\treturn textarea;\n\t\t},\n\n\t\tcreateInput: function(editObject)\n\t\t{\n\t\t\tvar className = this.parent.settings.get('classEditorText');\n\t\t\tvar attrs =\n\t\t\t\t{\n\t\t\t\t\tvalue: (editObject.VALUE !== undefined && editObject.VALUE !== null) ? BX.util.htmlspecialcharsback(editObject.VALUE) : '',\n\t\t\t\t\tname: (editObject.NAME !== undefined && editObject.NAME !== null) ? editObject.NAME : ''\n\t\t\t\t};\n\n\t\t\tif (editObject.TYPE === this.types.CHECKBOX)\n\t\t\t{\n\t\t\t\tclassName = this.parent.settings.get('classEditorCheckbox');\n\t\t\t\tattrs.type = 'checkbox';\n\t\t\t\tattrs.checked = (attrs.value == 'Y');\n\t\t\t}\n\n\t\t\tif (editObject.TYPE === this.types.DATE)\n\t\t\t{\n\t\t\t\tclassName = [className, this.parent.settings.get('classEditorDate')].join(' ');\n\t\t\t}\n\n\t\t\tif (editObject.TYPE === this.types.NUMBER)\n\t\t\t{\n\t\t\t\tclassName = [className, this.parent.settings.get('classEditorNumber')].join(' ');\n\t\t\t\tattrs.type = 'number';\n\t\t\t}\n\n\t\t\tif (editObject.TYPE === this.types.RANGE)\n\t\t\t{\n\t\t\t\tclassName = [className, this.parent.settings.get('classEditorRange')].join(' ');\n\t\t\t\tattrs.type = 'range';\n\n\t\t\t\tif (BX.type.isPlainObject(editObject.DATA))\n\t\t\t\t{\n\t\t\t\t\tattrs.min = editObject.DATA.MIN || '0';\n\t\t\t\t\tattrs.max = editObject.DATA.MAX || 99999;\n\t\t\t\t\tattrs.step = editObject.DATA.STEP || '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tclassName = [this.parent.settings.get('classEditor'), className].join(' ');\n\n\t\t\treturn BX.create('input', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tid: editObject.NAME + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: attrs\n\t\t\t});\n\t\t},\n\n\t\tcreateCustom: function(editObject)\n\t\t{\n\t\t\tvar className = this.parent.settings.get('classEditorCustom');\n\t\t\tclassName = [this.parent.settings.get('classEditor'), className].join(' ');\n\n\t\t\treturn BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: className\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\t'data-name': editObject.NAME\n\t\t\t\t},\n\t\t\t\thtml: editObject.VALUE || \"\"\n\t\t\t});\n\t\t},\n\n\t\tcreateOutput: function(editObject)\n\t\t{\n\t\t\treturn BX.create('output', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: this.parent.settings.get('classEditorOutput') || ''\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tfor: editObject.NAME + '_control'\n\t\t\t\t},\n\t\t\t\ttext: editObject.VALUE || ''\n\t\t\t});\n\t\t},\n\n\t\tgetDropdownValueItemByValue: function(items, value)\n\t\t{\n\t\t\tvar result = items.filter(function(current) {\n\t\t\t\treturn current.VALUE === value;\n\t\t\t});\n\n\t\t\treturn result.length > 0 ? result[0] : items[0];\n\t\t},\n\n\t\tcreateDropdown: function(editObject)\n\t\t{\n\t\t\tvar valueItem = this.getDropdownValueItemByValue(\n\t\t\t\teditObject.DATA.ITEMS,\n\t\t\t\teditObject.VALUE\n\t\t\t);\n\n\t\t\treturn BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: [\n\t\t\t\t\t\tthis.parent.settings.get('classEditor'),\n\t\t\t\t\t\t'main-dropdown main-grid-editor-dropdown'\n\t\t\t\t\t].join(' '),\n\t\t\t\t\tid: editObject.NAME + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tname: editObject.NAME,\n\t\t\t\t\t'data-items': JSON.stringify(editObject.DATA.ITEMS),\n\t\t\t\t\t'data-value': valueItem.VALUE\n\t\t\t\t},\n\t\t\t\tchildren: [BX.create('span', {\n\t\t\t\t\tprops: {className: 'main-dropdown-inner'},\n\t\t\t\t\thtml: valueItem.NAME\n\t\t\t\t})]\n\t\t\t});\n\n\t\t},\n\n\t\tvalidateEditObject: function(editObject)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.type.isPlainObject(editObject) &&\n\t\t\t\t('TYPE' in editObject) &&\n\t\t\t\t('NAME' in editObject) &&\n\t\t\t\t('VALUE' in editObject) &&\n\t\t\t\t(!('items' in editObject) || (BX.type.isArray(editObject.items) && editObject.items.length))\n\t\t\t);\n\t\t},\n\n\t\tinitCalendar: function(event)\n\t\t{\n\t\t\tBX.calendar({node: event.target, field: event.target});\n\t\t},\n\n\t\tbindOnRangeChange: function(control, output)\n\t\t{\n\t\t\tfunction bubble(control, output)\n\t\t\t{\n\t\t\t\tBX.html(output, control.value);\n\n\t\t\t\tvar value = parseFloat(control.value);\n\t\t\t\tvar max = parseFloat(control.getAttribute('max'));\n\t\t\t\tvar min = parseFloat(control.getAttribute('min'));\n\t\t\t\tvar thumbWidth = 16;\n\t\t\t\tvar range = (max - min);\n\t\t\t\tvar position = (((value - min) / range) * 100);\n\t\t\t\tvar positionOffset = (Math.round(thumbWidth * position / 100) - (thumbWidth / 2));\n\n\t\t\t\toutput.style.left = position + '%';\n\t\t\t\toutput.style.marginLeft = -positionOffset + 'px';\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tbubble(control, output);\n\t\t\t}, 0);\n\n\t\t\tBX.bind(control, 'input', function() {\n\t\t\t\tbubble(control, output);\n\t\t\t});\n\t\t},\n\n\t\tcreateImageEditor: function(editObject)\n\t\t{\n\t\t\treturn (new BX.Grid.ImageField(this.parent, editObject)).getLayout();\n\t\t},\n\n\t\tgetEditor: function(editObject, height)\n\t\t{\n\t\t\tvar control, span;\n\t\t\tvar container = this.createContainer();\n\n\t\t\tif (this.validateEditObject(editObject))\n\t\t\t{\n\t\t\t\teditObject.VALUE = editObject.VALUE === null ? '' : editObject.VALUE;\n\n\t\t\t\tswitch (editObject.TYPE) {\n\t\t\t\t\tcase this.types.TEXT : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.DATE : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tBX.bind(control, 'click', this.initCalendar);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.NUMBER : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.RANGE : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tspan = this.createOutput(editObject);\n\t\t\t\t\t\tthis.bindOnRangeChange(control, span);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.CHECKBOX : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.TEXTAREA : {\n\t\t\t\t\t\tcontrol = this.createTextarea(editObject, height);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.DROPDOWN : {\n\t\t\t\t\t\tcontrol = this.createDropdown(editObject);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.IMAGE : {\n\t\t\t\t\t\tcontrol = this.createImageEditor(editObject);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.CUSTOM : {\n\t\t\t\t\t\tcontrol = this.createCustom(editObject);\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tif (editObject.HTML)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar res = BX.processHTML(editObject.HTML);\n\n\t\t\t\t\t\t\t\tres.SCRIPT.forEach(function(item) {\n\t\t\t\t\t\t\t\t\tif (item.isInternal && item.JS)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.evalGlobal(item.JS);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault : {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (BX.type.isDomNode(span))\n\t\t\t{\n\t\t\t\tcontainer.appendChild(span);\n\t\t\t}\n\n\t\t\tif (BX.type.isDomNode(control))\n\t\t\t{\n\t\t\t\tcontainer.appendChild(control);\n\t\t\t}\n\n\t\t\treturn container;\n\t\t},\n\n\t\t_onControlKeydown: function(event)\n\t\t{\n\t\t\tif (event.code === 'Enter')\n\t\t\t{\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar saveButton = BX.Grid.Utils.getBySelector(this.parent.getContainer(), '#grid_save_button > button', true);\n\n\t\t\t\tif (saveButton)\n\t\t\t\t{\n\t\t\t\t\tBX.fireEvent(saveButton, 'click');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.Loader = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.container = null;\n\t\tthis.windowHeight = null;\n\t\tthis.tbodyPos = null;\n\t\tthis.headerPos = null;\n\t\tthis.lastPosTop = null;\n\t\tthis.lastBottomPos = null;\n\t\tthis.table = null;\n\t\tthis.loader = null;\n\t\tthis.adjustLoaderOffset = this.adjustLoaderOffset.bind(this);\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Loader.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.table = this.parent.getTable();\n\t\t\tthis.loader = new BX.Loader({\n\t\t\t\ttarget: this.getContainer()\n\t\t\t});\n\t\t},\n\n\t\tadjustLoaderOffset: function()\n\t\t{\n\t\t\tthis.windowHeight = BX.height(window);\n\t\t\tthis.tbodyPos = BX.pos(this.table.tBodies[0]);\n\t\t\tthis.headerPos = BX.pos(this.table.tHead);\n\n\t\t\tvar scrollY = window.scrollY;\n\n\t\t\tif (this.parent.isIE())\n\t\t\t{\n\t\t\t\tscrollY = document.documentElement.scrollTop;\n\t\t\t}\n\n\t\t\tvar bottomPos = (scrollY + this.windowHeight) - this.tbodyPos.top;\n\t\t\tvar posTop = scrollY - this.tbodyPos.top;\n\n\t\t\tif (bottomPos > (this.tbodyPos.bottom - this.tbodyPos.top))\n\t\t\t{\n\t\t\t\tbottomPos = this.tbodyPos.bottom - this.tbodyPos.top;\n\t\t\t}\n\n\t\t\tif (posTop < this.headerPos.height)\n\t\t\t{\n\t\t\t\tposTop = this.headerPos.height;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbottomPos -= posTop;\n\t\t\t\tbottomPos += this.headerPos.height;\n\t\t\t}\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tif (posTop !== this.lastPosTop)\n\t\t\t\t{\n\t\t\t\t\tthis.getContainer().style.transform = 'translate3d(0px, ' + posTop + 'px, 0)';\n\t\t\t\t}\n\n\t\t\t\tif (bottomPos !== this.lastBottomPos)\n\t\t\t\t{\n\t\t\t\t\tthis.getContainer().style.height = bottomPos + 'px';\n\t\t\t\t}\n\n\t\t\t\tthis.lastPosTop = posTop;\n\t\t\t\tthis.lastBottomPos = bottomPos;\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetContainer: function()\n\t\t{\n\t\t\tif (!this.container)\n\t\t\t{\n\t\t\t\tthis.container = BX.Grid.Utils.getByClass(this.parent.getContainer(), this.parent.settings.get('classLoader'), true);\n\t\t\t}\n\n\t\t\treturn this.container;\n\t\t},\n\n\t\tshow: function()\n\t\t{\n\t\t\tif (!this.loader.isShown())\n\t\t\t{\n\t\t\t\tthis.adjustLoaderOffset();\n\t\t\t\tthis.getContainer().style.display = \"block\";\n\t\t\t\tthis.getContainer().style.opacity = \"1\";\n\t\t\t\tthis.getContainer().style.visibility = \"visible\";\n\n\t\t\t\tvar rowsCount = this.parent.getRows().getCountDisplayed();\n\n\t\t\t\tif (rowsCount > 0 && rowsCount <= 2)\n\t\t\t\t{\n\t\t\t\t\tthis.loader.setOptions({size: 60});\n\t\t\t\t\tthis.loader.show();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.loader.setOptions({size: 110});\n\t\t\t\t\tthis.loader.show();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thide: function()\n\t\t{\n\t\t\tif (this.loader.isShown())\n\t\t\t{\n\t\t\t\tthis.adjustLoaderOffset();\n\t\t\t\tthis.loader.hide().then(function() {\n\t\t\t\t\tthis.getContainer().style.display = \"none\";\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Main');\n\n\t/**\n\t * Works with grid instances\n\t * @type {{data: Array, push: BX.Main.gridManager.push, getById: BX.Main.gridManager.getById}}\n\t */\n\n\tif (BX.Main.gridManager)\n\t{\n\t\treturn;\n\t}\n\n\tBX.Main.gridManager = {\n\t\tdata: [],\n\n\t\tpush: function(id, instance)\n\t\t{\n\t\t\tif (BX.type.isNotEmptyString(id) && instance)\n\t\t\t{\n\t\t\t\tvar object = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tinstance: instance,\n\t\t\t\t\told: null\n\t\t\t\t};\n\n\t\t\t\tif (this.getById(id) === null)\n\t\t\t\t{\n\t\t\t\t\tthis.data.push(object);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.data[0] = object;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetById: function(id)\n\t\t{\n\t\t\tvar result = this.data.filter(function(current) {\n\t\t\t\treturn (current.id === id) || (current.id.replace('main_grid_', '') === id);\n\t\t\t});\n\n\t\t\treturn result.length === 1 ? result[0] : null;\n\t\t},\n\n\t\tgetInstanceById: function(id)\n\t\t{\n\t\t\tvar result = this.getById(id);\n\t\t\treturn BX.type.isPlainObject(result) ? result[\"instance\"] : null;\n\t\t},\n\n\t\treload: function(id, url)\n\t\t{\n\t\t\tvar instance = this.getInstanceById(id);\n\t\t\tif(instance)\n\t\t\t{\n\t\t\t\tinstance.reload(url);\n\t\t\t}\n\t\t},\n\n\t\tgetDataIndex: function(id)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tthis.data.forEach(function(item, index) {\n\t\t\t\tif (item.id === id)\n\t\t\t\t{\n\t\t\t\t\tresult = index;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\tdestroy: function(id)\n\t\t{\n\t\t\tif (BX.type.isNotEmptyString(id))\n\t\t\t{\n\t\t\t\tvar grid = this.getInstanceById(id);\n\n\t\t\t\tif (grid instanceof BX.Main.grid)\n\t\t\t\t{\n\t\t\t\t\tgrid.destroy();\n\t\t\t\t\tvar index = this.getDataIndex(id);\n\n\t\t\t\t\tif (index !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete this.data[index];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * Works with message\n\t * @param {BX.Main.grid} parent\n\t * @param {object} types - Types of message\n\t * @constructor\n\t */\n\tBX.Grid.Message = function(parent, types)\n\t{\n\t\tthis.parent = null;\n\t\tthis.types = null;\n\t\tthis.messages = null;\n\t\tthis.popup = null;\n\t\tthis.init(parent, types);\n\t};\n\n\tBX.Grid.Message.prototype = {\n\n\t\t/**\n\t\t * @private\n\t\t * @param {BX.Main.grid} parent\n\t\t * @param {object} types\n\t\t */\n\t\tinit: function(parent, types)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.types = types;\n\t\t\tthis.show();\n\t\t\tBX.addCustomEvent('BX.Main.grid:paramsUpdated', BX.proxy(this.onUpdated, this));\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonUpdated: function()\n\t\t{\n\t\t\tthis.show();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets data for messages\n\t\t * @return {object[]}\n\t\t */\n\t\tgetData: function()\n\t\t{\n\t\t\treturn this.parent.arParams.MESSAGES;\n\t\t},\n\n\n\t\t/**\n\t\t * Checks is need show message\n\t\t * @return {boolean}\n\t\t */\n\t\tisNeedShow: function()\n\t\t{\n\t\t\treturn this.getData().length > 0;\n\t\t},\n\n\n\t\t/**\n\t\t * Show message\n\t\t */\n\t\tshow: function()\n\t\t{\n\t\t\tif (this.isNeedShow())\n\t\t\t{\n\t\t\t\tthis.getPopup().setContent(this.getContent());\n\t\t\t\tthis.getPopup().show();\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Gets content for message popup\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetContent: function()\n\t\t{\n\t\t\tvar data = this.getData();\n\t\t\tvar content = null;\n\n\t\t\tif (BX.type.isArray(data) && data.length)\n\t\t\t{\n\t\t\t\tvar messagesDecl = {\n\t\t\t\t\tblock: 'main-grid-messages',\n\t\t\t\t\tcontent: []\n\t\t\t\t};\n\n\t\t\t\tdata.forEach(function(message) {\n\t\t\t\t\tvar messageDecl = {\n\t\t\t\t\t\tblock: 'main-grid-message',\n\t\t\t\t\t\tmix: 'main-grid-message-' + message.TYPE.toLowerCase(),\n\t\t\t\t\t\tcontent: []\n\t\t\t\t\t};\n\n\t\t\t\t\tif (BX.type.isNotEmptyString(message.TITLE))\n\t\t\t\t\t{\n\t\t\t\t\t\tmessageDecl.content.push({\n\t\t\t\t\t\t\tblock: 'main-grid-message-title',\n\t\t\t\t\t\t\tcontent: BX.create(\"div\", {html: message.TITLE}).innerText\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (BX.type.isNotEmptyString(message.TEXT))\n\t\t\t\t\t{\n\t\t\t\t\t\tmessageDecl.content.push({\n\t\t\t\t\t\t\tblock: 'main-grid-message-text',\n\t\t\t\t\t\t\tcontent: BX.create(\"div\", {html: message.TEXT}).innerText\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tmessagesDecl.content.push(messageDecl);\n\t\t\t\t});\n\n\t\t\t\tcontent = BX.decl(messagesDecl);\n\t\t\t}\n\n\t\t\treturn content;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup of message\n\t\t * @return {BX.PopupWindow}\n\t\t */\n\t\tgetPopup: function()\n\t\t{\n\t\t\tif (this.popup === null)\n\t\t\t{\n\t\t\t\tthis.popup = new BX.PopupWindow(\n\t\t\t\t\tthis.getPopupId(),\n\t\t\t\t\tnull,\n\t\t\t\t\t{\n\t\t\t\t\t\tautoHide: true,\n\t\t\t\t\t\toverlay: 0.3,\n\t\t\t\t\t\twidth: 400,\n\t\t\t\t\t\tcontentNoPaddings: true,\n\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\t\t\t\ttext: this.parent.getParam('CLOSE'),\n\t\t\t\t\t\t\t\tclassName: 'webform-small-button-blue webform-small-button',\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.close();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.popup;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup id\n\t\t * @return {string}\n\t\t */\n\t\tgetPopupId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-main-grid-message';\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.observer = {\n\t\thandlers: [],\n\t\tadd: function(node, event, handler, context)\n\t\t{\n\t\t\tBX.bind(node, event, context ? BX.proxy(handler, context) : handler);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.Pagesize = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Pagesize.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tBX.addCustomEvent('Dropdown::change', BX.delegate(this.onChange, this));\n\t\t},\n\n\t\tonChange: function(id, event, item, dataValue, value)\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tif (id === this.parent.getContainerId() + '_' + this.parent.settings.get('pageSizeId'))\n\t\t\t{\n\t\t\t\tif (value >= 0)\n\t\t\t\t{\n\t\t\t\t\tthis.parent.tableFade();\n\t\t\t\t\tthis.parent.getUserOptions().setPageSize(value, function() {\n\t\t\t\t\t\tself.parent.reloadTable();\n\t\t\t\t\t\tBX.onCustomEvent(self.parent.getContainer(), 'Grid::pageSizeChanged', [self.parent]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.Pagination\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Pagination = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.container = null;\n\t\tthis.links = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Pagination.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t},\n\n\t\tgetParent: function()\n\t\t{\n\t\t\treturn this.parent;\n\t\t},\n\n\t\tgetContainer: function()\n\t\t{\n\t\t\tif (!this.container)\n\t\t\t{\n\t\t\t\tthis.container = BX.Grid.Utils.getByClass(this.getParent().getContainer(), this.getParent().settings.get('classPagination'), true);\n\t\t\t}\n\n\t\t\treturn this.container;\n\t\t},\n\n\t\tgetLinks: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar result = BX.Grid.Utils.getByTag(this.getContainer(), 'a');\n\n\t\t\tthis.links = [];\n\n\t\t\tif (result)\n\t\t\t{\n\t\t\t\tthis.links = result.map(function(current) {\n\t\t\t\t\treturn new BX.Grid.Element(current, self.getParent());\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.links;\n\t\t},\n\n\t\tgetLink: function(node)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tvar filter;\n\n\t\t\tif (BX.type.isDomNode(node))\n\t\t\t{\n\t\t\t\tfilter = this.getLinks().filter(function(current) {\n\t\t\t\t\treturn node === current.getNode();\n\t\t\t\t});\n\n\t\t\t\tif (filter.length)\n\t\t\t\t{\n\t\t\t\t\tresult = filter[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * BX.Grid.PinHeader\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.PinHeader = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.table = null;\n\t\tthis.header = null;\n\t\tthis.container = null;\n\t\tthis.parentNodeResizeObserver = null;\n\n\t\tvar adminPanel = this.getAdminPanel();\n\n\t\tif (adminPanel)\n\t\t{\n\t\t\tthis.mo = new MutationObserver(this.onAdminPanelMutation.bind(this));\n\t\t\tthis.mo.observe(document.documentElement, {attributes: true});\n\t\t}\n\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.PinHeader.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.rect = BX.pos(this.parent.getHead());\n\t\t\tthis.gridRect = BX.pos(this.parent.getTable());\n\n\t\t\tvar workArea = BX.Grid.Utils.getBySelector(document, '#workarea-content', true);\n\n\t\t\tif (!workArea)\n\t\t\t{\n\t\t\t\tworkArea = this.parent.getContainer().parentNode;\n\t\t\t\tworkArea = !!workArea ? workArea.parentNode : workArea;\n\t\t\t}\n\n\t\t\tif (!!workArea)\n\t\t\t{\n\t\t\t\tthis.parentNodeResizeObserver = new BX.ResizeObserver(BX.proxy(this.refreshRect, this));\n\t\t\t\tthis.parentNodeResizeObserver.observe(workArea);\n\t\t\t}\n\n\t\t\tthis.create(true);\n\n\t\t\tdocument.addEventListener('scroll', BX.proxy(this._onScroll, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tdocument.addEventListener('resize', BX.proxy(this._onResize, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tBX.addCustomEvent('Grid::updated', BX.proxy(this._onGridUpdate, this));\n\t\t\tBX.addCustomEvent('Grid::resize', BX.proxy(this._onGridUpdate, this));\n\t\t\tBX.bind(window, 'resize', BX.proxy(this._onGridUpdate, this));\n\t\t},\n\n\t\trefreshRect: function()\n\t\t{\n\t\t\tthis.gridRect = BX.pos(this.parent.getTable());\n\t\t\tthis.rect = BX.pos(this.parent.getHead());\n\t\t},\n\n\t\t_onGridUpdate: function()\n\t\t{\n\t\t\tvar isPinned = this.isPinned();\n\n\t\t\tBX.remove(this.getContainer());\n\t\t\tthis.create();\n\n\t\t\tisPinned && this.pin();\n\n\t\t\tthis.table = null;\n\t\t\tthis.refreshRect();\n\n\t\t\tthis._onScroll();\n\n\t\t\tBX.onCustomEvent(window, 'Grid::headerUpdated', []);\n\t\t},\n\n\t\tcreate: function(async)\n\t\t{\n\t\t\tvar cells = BX.Grid.Utils.getByTag(this.parent.getHead(), 'th');\n\t\t\tvar cloneThead = BX.clone(this.parent.getHead());\n\t\t\tvar cloneCells = BX.Grid.Utils.getByTag(cloneThead, 'th');\n\n\t\t\tvar resizeCloneCells = function ()\n\t\t\t{\n\t\t\t\tcells.forEach(\n\t\t\t\t\tfunction (cell, index)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar width = BX.width(cell);\n\n\t\t\t\t\t\tif (index > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth -= parseInt(BX.style(cell, 'border-left-width'));\n\t\t\t\t\t\t\twidth -= parseInt(BX.style(cell, 'border-right-width'));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcloneCells[index].firstElementChild && (cloneCells[index].firstElementChild.style.width = width + 'px');\n\n\t\t\t\t\t\tif (cells.length - 1 > index)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcloneCells[index].style.width = width + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tasync ? setTimeout(resizeCloneCells, 0) : resizeCloneCells();\n\n\t\t\tthis.container = BX.decl({\n\t\t\t\tblock: 'main-grid-fixed-bar',\n\t\t\t\tmix: 'main-grid-fixed-top',\n\t\t\t\tattrs: {\n\t\t\t\t\tstyle: 'width: ' + BX.width(this.parent.getContainer()) + 'px'\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tblock: 'main-grid-table',\n\t\t\t\t\ttag: 'table',\n\t\t\t\t\tcontent: cloneThead\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.container.hidden = true;\n\n\t\t\tthis.parent.getWrapper().appendChild(this.container);\n\t\t},\n\n\t\tgetContainer: function()\n\t\t{\n\t\t\treturn this.container;\n\t\t},\n\n\t\tgetFixedTable: function()\n\t\t{\n\t\t\treturn this.table || (this.table = BX.Grid.Utils.getByTag(this.getContainer(), 'table', true));\n\t\t},\n\n\t\tgetAdminPanel: function()\n\t\t{\n\t\t\tif (!this.adminPanel)\n\t\t\t{\n\t\t\t\tthis.adminPanel = document.querySelector('.adm-header');\n\t\t\t}\n\n\t\t\treturn this.adminPanel;\n\t\t},\n\n\t\tisAdminPanelPinned: function()\n\t\t{\n\t\t\treturn BX.hasClass(document.documentElement, 'adm-header-fixed');\n\t\t},\n\n\t\tgetPinOffset: function()\n\t\t{\n\t\t\tvar adminPanel = this.getAdminPanel();\n\n\t\t\tif (adminPanel && this.isAdminPanelPinned())\n\t\t\t{\n\t\t\t\treturn BX.Text.toNumber(BX.style(adminPanel, 'height'));\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t},\n\n\t\tpin: function()\n\t\t{\n\t\t\tvar container = this.getContainer();\n\n\t\t\tif (container)\n\t\t\t{\n\t\t\t\tcontainer.hidden = false;\n\t\t\t}\n\n\t\t\tBX.onCustomEvent(window, 'Grid::headerPinned', []);\n\t\t},\n\n\t\tunpin: function()\n\t\t{\n\t\t\tvar container = this.getContainer();\n\n\t\t\tif (container)\n\t\t\t{\n\t\t\t\tcontainer.hidden = true;\n\t\t\t}\n\n\t\t\tBX.onCustomEvent(window, 'Grid::headerUnpinned', []);\n\t\t},\n\n\t\tstopPin: function()\n\t\t{\n\t\t\tBX.Grid.Utils.styleForEach([this.getContainer()], {\n\t\t\t\t'position': 'absolute',\n\t\t\t\t'top': ((this.gridRect.bottom - this.rect.height - this.gridRect.top) + 'px'),\n\t\t\t\t'box-shadow': 'none'\n\t\t\t});\n\t\t},\n\n\t\tstartPin: function()\n\t\t{\n\t\t\tBX.Grid.Utils.styleForEach([this.getContainer()], {\n\t\t\t\t'position': 'fixed',\n\t\t\t\t'top': this.getPinOffset() + 'px',\n\t\t\t\t'box-shadow': ''\n\t\t\t});\n\t\t},\n\n\t\tisPinned: function()\n\t\t{\n\t\t\treturn !this.getContainer().hidden;\n\t\t},\n\n\t\t_onScroll: function()\n\t\t{\n\t\t\tvar scrollY = 0;\n\n\t\t\tif (this.scrollRect)\n\t\t\t{\n\t\t\t\tscrollY = this.scrollRect.scrollTop;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (document.scrollingElement)\n\t\t\t\t{\n\t\t\t\t\tthis.scrollRect = document.scrollingElement;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (document.documentElement.scrollTop > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.scrollRect = document.documentElement;\n\t\t\t\t\t}\n\t\t\t\t\telse if (document.body.scrollTop > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.scrollRect = document.body;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.gridRect.bottom > (scrollY + this.rect.height))\n\t\t\t{\n\t\t\t\tthis.startPin();\n\n\t\t\t\tvar offset = this.getPinOffset();\n\n\t\t\t\tif ((this.rect.top - offset) <= scrollY)\n\t\t\t\t{\n\t\t\t\t\t!this.isPinned() && this.pin();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.isPinned() && this.unpin();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.stopPin();\n\t\t\t}\n\t\t},\n\n\t\tonAdminPanelMutation: function()\n\t\t{\n\t\t\tthis._onScroll();\n\t\t},\n\n\t\t_onResize: function()\n\t\t{\n\t\t\tthis.rect = BX.pos(this.parent.getHead());\n\t\t}\n\t}\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.PinPanel\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.PinPanel = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.panel = null;\n\t\tthis.isSelected = null;\n\t\tthis.offset = null;\n\t\tthis.animationDuration = null;\n\t\tthis.pinned = false;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.PinPanel.prototype = {\n\t\tinit: function(parent) {\n\t\t\tthis.parent = parent;\n\t\t\tthis.offset = 10;\n\t\t\tthis.animationDuration = 200;\n\t\t\tthis.panel = this.getPanel();\n\t\t\tthis.bindOnRowsEvents();\n\t\t},\n\n\t\tbindOnRowsEvents: function()\n\t\t{\n\t\t\tBX.addCustomEvent('Grid::thereSelectedRows', BX.delegate(this._onThereSelectedRows, this));\n\t\t\tBX.addCustomEvent('Grid::allRowsSelected', BX.delegate(this._onThereSelectedRows, this));\n\t\t\tBX.addCustomEvent('Grid::noSelectedRows', BX.delegate(this._onNoSelectedRows, this));\n\t\t\tBX.addCustomEvent('Grid::allRowsUnselected', BX.delegate(this._onNoSelectedRows, this));\n\t\t\tBX.addCustomEvent('Grid::updated', BX.delegate(this._onNoSelectedRows, this));\n\t\t},\n\n\t\tbindOnWindowEvents: function()\n\t\t{\n\t\t\tBX.bind(window, 'resize', BX.proxy(this._onResize, this));\n\t\t\tdocument.addEventListener('scroll', BX.proxy(this._onScroll, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t},\n\n\t\tunbindOnWindowEvents: function()\n\t\t{\n\t\t\tBX.unbind(window, 'resize', BX.proxy(this._onResize, this));\n\t\t\tdocument.removeEventListener('scroll', BX.proxy(this._onScroll, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t},\n\n\t\tgetPanel: function() {\n\t\t\tthis.panel = this.panel || this.parent.getActionsPanel().getPanel();\n\t\t\treturn this.panel;\n\t\t},\n\n\t\tgetScrollBottom: function()\n\t\t{\n\t\t\treturn (BX.scrollTop(window) + this.getWindowHeight());\n\t\t},\n\n\t\tgetPanelRect: function()\n\t\t{\n\t\t\tif (!BX.type.isPlainObject(this.panelRect))\n\t\t\t{\n\t\t\t\tthis.panelRect = BX.pos(this.getPanel());\n\t\t\t}\n\n\t\t\treturn this.panelRect;\n\t\t},\n\n\t\tgetPanelPrevBottom: function()\n\t\t{\n\t\t\tvar prev = BX.previousSibling(this.getPanel());\n\t\t\treturn BX.pos(prev).bottom + parseFloat(BX.style(prev, 'margin-bottom'));\n\t\t},\n\n\t\tgetWindowHeight: function()\n\t\t{\n\t\t\tthis.windowHeight = this.windowHeight || BX.height(window);\n\t\t\treturn this.windowHeight;\n\t\t},\n\n\t\tpinPanel: function(withAnimation)\n\t\t{\n\t\t\tvar panel = this.getPanel();\n\t\t\tvar width = BX.width(this.getPanel().parentNode);\n\t\t\tvar height = BX.height(this.getPanel().parentNode);\n\t\t\tvar bodyRect = BX.pos(this.parent.getBody());\n\t\t\tvar offset = this.getStartDiffPanelPosition();\n\n\t\t\tpanel.parentNode.style.setProperty('height', height + 'px');\n\n\t\t\tpanel.style.setProperty('transform', 'translateY('+ offset + 'px)');\n\t\t\tpanel.classList.add('main-grid-fixed-bottom');\n\t\t\tpanel.style.setProperty('width', width + 'px');\n\t\t\tpanel.style.removeProperty('position');\n\t\t\tpanel.style.removeProperty('top');\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tif (withAnimation !== false)\n\t\t\t\t{\n\t\t\t\t\tpanel.style.setProperty('transition', 'transform 200ms ease');\n\t\t\t\t}\n\n\t\t\t\tpanel.style.setProperty('transform', 'translateY(0)');\n\t\t\t});\n\n\t\t\tif (this.isNeedPinAbsolute() && !this.absolutePin)\n\t\t\t{\n\t\t\t\tthis.absolutePin = true;\n\t\t\t\tpanel.style.removeProperty('transition');\n\t\t\t\tpanel.style.setProperty('position', 'absolute');\n\t\t\t\tpanel.style.setProperty('top', bodyRect.top + 'px');\n\t\t\t}\n\n\t\t\tif (!this.isNeedPinAbsolute() && this.absolutePin)\n\t\t\t{\n\t\t\t\tthis.absolutePin = false;\n\t\t\t}\n\n\t\t\tthis.adjustPanelPosition();\n\t\t\tthis.pinned = true;\n\t\t},\n\n\t\tunpinPanel: function(withAnimation)\n\t\t{\n\t\t\tvar panel = this.getPanel();\n\t\t\tvar panelRect = BX.pos(panel);\n\t\t\tvar parentRect = BX.pos(panel.parentNode);\n\t\t\tvar offset = Math.abs(panelRect.bottom - parentRect.bottom);\n\n\t\t\tif (withAnimation !== false)\n\t\t\t{\n\t\t\t\tpanel.style.setProperty('transition', 'transform 200ms ease');\n\t\t\t}\n\n\t\t\tvar translateOffset = offset < panelRect.height ? offset + 'px' : '100%';\n\t\t\tpanel.style.setProperty('transform', 'translateY('+translateOffset+')');\n\n\t\t\tvar delay = function(cb, delay)\n\t\t\t{\n\t\t\t\tif (withAnimation !== false)\n\t\t\t\t{\n\t\t\t\t\treturn setTimeout(cb, delay);\n\t\t\t\t}\n\n\t\t\t\tcb();\n\t\t\t};\n\n\t\t\tdelay(function() {\n\t\t\t\tpanel.parentNode.style.removeProperty('height');\n\t\t\t\tpanel.classList.remove('main-grid-fixed-bottom');\n\t\t\t\tpanel.style.removeProperty('transition');\n\t\t\t\tpanel.style.removeProperty('transform');\n\t\t\t\tpanel.style.removeProperty('width');\n\t\t\t\tpanel.style.removeProperty('position');\n\t\t\t\tpanel.style.removeProperty('top');\n\t\t\t}, withAnimation !== false ? 200 : 0);\n\n\t\t\tthis.pinned = false;\n\t\t},\n\n\t\tisSelectedRows: function()\n\t\t{\n\t\t\treturn this.isSelected;\n\t\t},\n\n\t\tisNeedPinAbsolute: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\t((BX.pos(this.parent.getBody()).top + this.getPanelRect().height) >= this.getScrollBottom())\n\t\t\t);\n\t\t},\n\n\t\tisNeedPin: function()\n\t\t{\n\t\t\treturn (this.getScrollBottom() - this.getPanelRect().height) <= this.getPanelPrevBottom();\n\t\t},\n\n\t\tadjustPanelPosition: function()\n\t\t{\n\t\t\tvar scrollX = window.pageXOffset;\n\t\t\tthis.lastScrollX = this.lastScrollX !== null ? this.lastScrollX : scrollX;\n\n\t\t\tBX.Grid.Utils.requestAnimationFrame(BX.proxy(function() {\n\t\t\t\tif (scrollX !== this.lastScrollX)\n\t\t\t\t{\n\t\t\t\t\tvar panelPos = this.getPanelRect();\n\t\t\t\t\tBX.style(this.getPanel(), 'left', panelPos.left - scrollX + 'px');\n\t\t\t\t}\n\t\t\t}, this));\n\n\t\t\tthis.lastScrollX = scrollX;\n\t\t},\n\n\t\tpinController: function(withAnimation)\n\t\t{\n\t\t\tif (this.getPanel())\n\t\t\t{\n\t\t\t\tif (!this.isPinned() && this.isNeedPin() && this.isSelectedRows())\n\t\t\t\t{\n\t\t\t\t\treturn this.pinPanel(withAnimation);\n\t\t\t\t}\n\n\t\t\t\tif (this.isPinned() && !this.isNeedPin() || !this.isSelectedRows())\n\t\t\t\t{\n\t\t\t\t\tthis.unpinPanel(withAnimation);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetEndDiffPanelPosition: function()\n\t\t{\n\t\t\tvar panelPos = BX.pos(this.getPanel());\n\t\t\tvar prevPanelPos = BX.pos(BX.previousSibling(this.getPanel()));\n\t\t\tvar scrollTop = BX.scrollTop(window);\n\t\t\tvar scrollBottom = scrollTop + BX.height(window);\n\t\t\tvar diff = panelPos.height + this.offset;\n\t\t\tvar prevPanelBottom = (prevPanelPos.bottom + parseFloat(BX.style(this.getPanel(), 'margin-top')));\n\n\t\t\tif (prevPanelBottom < scrollBottom && (prevPanelBottom + panelPos.height) > scrollBottom)\n\t\t\t{\n\t\t\t\tdiff = Math.abs(scrollBottom - (prevPanelBottom + panelPos.height));\n\t\t\t}\n\n\t\t\treturn diff;\n\t\t},\n\n\t\tgetStartDiffPanelPosition: function()\n\t\t{\n\t\t\tvar panelPos = BX.pos(this.getPanel());\n\t\t\tvar scrollTop = BX.scrollTop(window);\n\t\t\tvar scrollBottom = scrollTop + BX.height(window);\n\t\t\tvar diff = panelPos.height;\n\n\t\t\tif (panelPos.bottom > scrollBottom && panelPos.top < scrollBottom)\n\t\t\t{\n\t\t\t\tdiff = panelPos.bottom - scrollBottom;\n\t\t\t}\n\n\t\t\treturn diff;\n\t\t},\n\n\t\tisPinned: function()\n\t\t{\n\t\t\treturn this.pinned;\n\t\t},\n\n\t\t_onThereSelectedRows: function()\n\t\t{\n\t\t\tthis.bindOnWindowEvents();\n\t\t\tthis.isSelected = true;\n\n\t\t\tif (this.lastIsSelected)\n\t\t\t{\n\t\t\t\tthis.pinController();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.lastIsSelected = true;\n\t\t\t\tthis.pinController();\n\t\t\t}\n\n\t\t},\n\n\t\t_onNoSelectedRows: function()\n\t\t{\n\t\t\tthis.unbindOnWindowEvents();\n\t\t\tthis.isSelected = false;\n\t\t\tthis.pinController();\n\t\t\tthis.lastIsSelected = false;\n\t\t},\n\n\t\t_onScroll: function()\n\t\t{\n\t\t\tthis.pinController(false);\n\t\t},\n\n\t\t_onResize: function()\n\t\t{\n\t\t\tthis.windowHeight = BX.height(window);\n\t\t\tthis.panel = this.parent.getActionsPanel().getPanel();\n\t\t\tthis.panelRect = this.getPanel().getBoundingClientRect();\n\t\t\tthis.pinController(false);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.Resize = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.lastRegisterButtons = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Resize.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\n\t\t\tBX.addCustomEvent(window, 'Grid::updated', BX.proxy(this.registerTableButtons, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this.registerPinnedTableButtons, this));\n\n\t\t\tthis.registerTableButtons();\n\t\t\tthis.registerPinnedTableButtons();\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent(window, 'Grid::updated', BX.proxy(this.registerTableButtons, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this.registerPinnedTableButtons, this));\n\t\t\tBX.type.isArray(this.lastRegisterButtons) && this.lastRegisterButtons.forEach(jsDD.unregisterObject);\n\t\t\t(this.getButtons() || []).forEach(jsDD.unregisterObject);\n\t\t},\n\n\t\tregisterTableButtons: function()\n\t\t{\n\t\t\t(this.getButtons() || []).forEach(this.register, this);\n\t\t\tthis.registerPinnedTableButtons();\n\t\t},\n\n\t\tregister: function(item)\n\t\t{\n\t\t\tif (BX.type.isDomNode(item))\n\t\t\t{\n\t\t\t\titem.onbxdragstart = BX.delegate(this._onDragStart, this);\n\t\t\t\titem.onbxdragstop = BX.delegate(this._onDragEnd, this);\n\t\t\t\titem.onbxdrag = BX.delegate(this._onDrag, this);\n\t\t\t\tjsDD.registerObject(item);\n\t\t\t}\n\t\t},\n\n\t\tregisterPinnedTableButtons: function()\n\t\t{\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tvar pinnedTableButtons = this.getPinnedTableButtons();\n\n\t\t\t\tif (BX.type.isArray(this.lastRegisterButtons) && this.lastRegisterButtons.length)\n\t\t\t\t{\n\t\t\t\t\tthis.lastRegisterButtons.forEach(jsDD.unregisterObject);\n\t\t\t\t}\n\n\t\t\t\tthis.lastRegisterButtons = pinnedTableButtons;\n\n\t\t\t\t(this.getPinnedTableButtons() || []).forEach(this.register, this);\n\t\t\t}\n\t\t},\n\n\t\tgetButtons: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.parent.getRows().getHeadFirstChild().getNode(), this.parent.settings.get('classResizeButton'));\n\t\t},\n\n\t\tgetPinnedTableButtons: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.parent.getPinHeader().getFixedTable(), this.parent.settings.get('classResizeButton'));\n\t\t},\n\n\t\t_onDragStart: function()\n\t\t{\n\t\t\tvar cell = BX.findParent(jsDD.current_node, {className: this.parent.settings.get('classHeadCell')});\n\t\t\tvar cells = this.parent.getRows().getHeadFirstChild().getCells();\n\t\t\tvar cellsKeys = Object.keys(cells);\n\t\t\tvar cellContainer;\n\n\t\t\tthis.__overlay = BX.create('div', {props: {className: 'main-grid-cell-overlay'}});\n\t\t\tBX.append(this.__overlay, cell);\n\t\t\tthis.__resizeCell = cell.cellIndex;\n\n\t\t\tcellsKeys.forEach(function(key) {\n\t\t\t\tif (!BX.hasClass(cells[key], 'main-grid-special-empty'))\n\t\t\t\t{\n\t\t\t\t\tvar width = BX.width(cells[key]);\n\n\t\t\t\t\tif (key > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\twidth -= parseInt(BX.style(cells[key], 'border-left-width'));\n\t\t\t\t\t\twidth -= parseInt(BX.style(cells[key], 'border-right-width'));\n\t\t\t\t\t}\n\n\t\t\t\t\tBX.width(cells[key], width);\n\t\t\t\t\tcellContainer = BX.firstChild(cells[key]);\n\t\t\t\t\tBX.width(cellContainer, width);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_onDrag: function(x)\n\t\t{\n\t\t\tvar table = this.parent.getTable();\n\t\t\tvar fixedTable = this.parent.getParam('ALLOW_PIN_HEADER') ? this.parent.getPinHeader().getFixedTable() : null;\n\t\t\tvar cell = table.rows[0].cells[this.__resizeCell];\n\t\t\tvar fixedCell, fixedCellContainer;\n\n\t\t\tvar cpos = BX.pos(cell);\n\t\t\tvar cellAttrWidth = parseFloat(cell.style.width);\n\t\t\tvar sX;\n\n\t\t\tx -= cpos.left;\n\t\t\tsX = x;\n\n\t\t\tif (cpos.width > cellAttrWidth)\n\t\t\t{\n\t\t\t\tx = cpos.width;\n\t\t\t}\n\n\t\t\tx = sX > x ? sX : x;\n\n\t\t\tx = Math.max(x, 80);\n\n\t\t\tif (x !== cpos.width)\n\t\t\t{\n\t\t\t\tvar fixedCells = this.parent.getAllRows()[0]\n\t\t\t\t\t.querySelectorAll('.main-grid-fixed-column').length;\n\t\t\t\tvar column = this.parent.getColumnByIndex(this.__resizeCell - fixedCells);\n\n\t\t\t\t// Resize current column\n\t\t\t\tcolumn.forEach(function(item) {\n\t\t\t\t\titem.style.width = x+'px';\n\t\t\t\t\titem.style.minWidth = x+'px';\n\t\t\t\t\titem.style.maxWidth = x+'px';\n\t\t\t\t});\n\n\t\t\t\t// Resize false columns\n\t\t\t\tif (column[0].classList.contains('main-grid-fixed-column'))\n\t\t\t\t{\n\t\t\t\t\tcolumn = this.parent.getColumnByIndex(this.__resizeCell - fixedCells + 1);\n\n\t\t\t\t\tcolumn.forEach(function(item) {\n\t\t\t\t\t\titem.style.width = x+'px';\n\t\t\t\t\t\titem.style.minWidth = x+'px';\n\t\t\t\t\t\titem.style.maxWidth = x+'px';\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.parent.adjustFixedColumnsPosition();\n\t\t\t\tthis.parent.adjustFadePosition(this.parent.getFadeOffset());\n\n\t\t\t\tif (BX.type.isDomNode(fixedTable) && BX.type.isDomNode(fixedTable.rows[0]))\n\t\t\t\t{\n\t\t\t\t\tfixedCell = fixedTable.rows[0].cells[this.__resizeCell];\n\t\t\t\t\tfixedCellContainer = BX.firstChild(fixedCell);\n\t\t\t\t\tfixedCellContainer.style.width = x+'px';\n\t\t\t\t\tfixedCellContainer.style.minWidth = x+'px';\n\t\t\t\t\tfixedCell.style.width = x+'px';\n\t\t\t\t\tfixedCell.style.minWidth = x+'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tBX.onCustomEvent(window, 'Grid::columnResize', []);\n\t\t},\n\n\t\t_onDragEnd: function()\n\t\t{\n\t\t\tthis.saveSizes();\n\t\t},\n\n\t\tgetColumnSizes: function()\n\t\t{\n\t\t\tvar cells = this.parent.getRows().getHeadFirstChild().getCells();\n\t\t\tvar columns = {};\n\t\t\tvar name;\n\n\t\t\t[].forEach.call(cells, function(current) {\n\t\t\t\tname = BX.data(current, 'name');\n\n\t\t\t\tif (BX.type.isNotEmptyString(name))\n\t\t\t\t{\n\t\t\t\t\tcolumns[name] = BX.width(current);\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\treturn columns;\n\t\t},\n\n\t\tsaveSizes: function()\n\t\t{\n\t\t\tthis.parent.getUserOptions().setColumnSizes(this.getColumnSizes(), 1);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.Row\n\t * @param {BX.Main.Grid} parent\n\t * @param {HtmlElement} node\n\t * @constructor\n\t */\n\tBX.Grid.Row = function(parent, node)\n\t{\n\t\tthis.node = null;\n\t\tthis.checkbox = null;\n\t\tthis.sort = null;\n\t\tthis.actions = null;\n\t\tthis.settings = null;\n\t\tthis.index = null;\n\t\tthis.actionsButton = null;\n\t\tthis.parent = null;\n\t\tthis.depth = null;\n\t\tthis.parentId = null;\n\t\tthis.editData = null;\n\t\tthis.custom = null;\n\t\tthis.init(parent, node);\n\t};\n\n\t//noinspection JSUnusedGlobalSymbols,JSUnusedGlobalSymbols\n\tBX.Grid.Row.prototype = {\n\t\tinit: function(parent, node)\n\t\t{\n\t\t\tif (BX.type.isDomNode(node))\n\t\t\t{\n\t\t\t\tthis.node = node;\n\t\t\t\tthis.parent = parent;\n\t\t\t\tthis.settings = new BX.Grid.Settings();\n\t\t\t\tthis.bindNodes = [];\n\n\t\t\t\tif (this.isBodyChild())\n\t\t\t\t{\n\t\t\t\t\tthis.bindNodes = [].slice.call(this.node.parentNode.querySelectorAll(\"tr[data-bind=\\\"\"+this.getId()+\"\\\"]\"));\n\t\t\t\t\tif (this.bindNodes.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.node.addEventListener(\"mouseover\", this.onMouseOver.bind(this));\n\t\t\t\t\t\tthis.node.addEventListener(\"mouseleave\", this.onMouseLeave.bind(this));\n\t\t\t\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\t\t\t\trow.addEventListener(\"mouseover\", this.onMouseOver.bind(this));\n\t\t\t\t\t\t\trow.addEventListener(\"mouseleave\", this.onMouseLeave.bind(this));\n\t\t\t\t\t\t\trow.addEventListener(\"click\", function() {\n\t\t\t\t\t\t\t\tif (this.isSelected())\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.unselect()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.select();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.parent.getParam('ALLOW_CONTEXT_MENU'))\n\t\t\t\t{\n\t\t\t\t\tBX.bind(this.getNode(), 'contextmenu', BX.delegate(this._onRightClick, this));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonMouseOver: function()\n\t\t{\n\t\t\tthis.node.classList.add(\"main-grid-row-over\");\n\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\trow.classList.add(\"main-grid-row-over\");\n\t\t\t});\n\t\t},\n\n\t\tonMouseLeave: function()\n\t\t{\n\t\t\tthis.node.classList.remove(\"main-grid-row-over\");\n\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\trow.classList.remove(\"main-grid-row-over\");\n\t\t\t});\n\t\t},\n\n\t\tisCustom: function()\n\t\t{\n\t\t\tif (this.custom === null)\n\t\t\t{\n\t\t\t\tthis.custom = BX.hasClass(this.getNode(), this.parent.settings.get('classRowCustom'));\n\t\t\t}\n\n\t\t\treturn this.custom;\n\t\t},\n\n\t\t_onRightClick: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tthis.showActionsMenu(event);\n\t\t},\n\n\t\tgetDefaultAction: function()\n\t\t{\n\t\t\treturn BX.data(this.getNode(), 'default-action');\n\t\t},\n\n\t\teditGetValues: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar cells = this.getCells();\n\t\t\tvar values = {};\n\t\t\tvar cellValues;\n\n\t\t\t[].forEach.call(cells, function(current) {\n\t\t\t\tcellValues = self.getCellEditorValue(current);\n\t\t\t\tif (BX.type.isArray(cellValues))\n\t\t\t\t{\n\t\t\t\t\tcellValues.forEach(function(cellValue) {\n\t\t\t\t\t\tvalues[cellValue.NAME] = cellValue.VALUE !== undefined ? cellValue.VALUE : \"\";\n\n\t\t\t\t\t\tif (cellValue.hasOwnProperty(\"RAW_NAME\") && cellValue.hasOwnProperty(\"RAW_VALUE\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalues[cellValue.NAME + \"_custom\"] = values[cellValue.NAME + \"_custom\"] || {};\n\t\t\t\t\t\t\tvalues[cellValue.NAME + \"_custom\"][cellValue.RAW_NAME] =\n\t\t\t\t\t\t\t\tvalues[cellValue.NAME + \"_custom\"][cellValue.RAW_NAME] || cellValue.RAW_VALUE;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (cellValues)\n\t\t\t\t{\n\t\t\t\t\tvalues[cellValues.NAME] = cellValues.VALUE !== undefined ? cellValues.VALUE : \"\";\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn values;\n\t\t},\n\n\t\tgetCellEditorValue: function(cell)\n\t\t{\n\t\t\tvar editor = BX.Grid.Utils.getByClass(cell, this.parent.settings.get('classEditor'), true);\n\t\t\tvar result = null;\n\n\t\t\tif (BX.type.isDomNode(editor))\n\t\t\t{\n\t\t\t\tif (BX.hasClass(editor, 'main-grid-editor-checkbox'))\n\t\t\t\t{\n\t\t\t\t\tresult = {\n\t\t\t\t\t\t'NAME': editor.getAttribute('name'),\n\t\t\t\t\t\t'VALUE': editor.checked ? 'Y' : 'N'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if(BX.hasClass(editor, 'main-grid-editor-custom'))\n\t\t\t\t{\n\t\t\t\t\tresult = this.getCustomValue(editor);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = this.getImageValue(editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tisEdit: function()\n\t\t{\n\t\t\treturn BX.hasClass(this.getNode(), 'main-grid-row-edit');\n\t\t},\n\n\t\thide: function()\n\t\t{\n\t\t\tBX.addClass(this.getNode(), this.parent.settings.get('classHide'));\n\t\t},\n\n\t\tshow: function()\n\t\t{\n\t\t\tBX.removeClass(this.getNode(), this.parent.settings.get('classHide'));\n\t\t},\n\n\t\tisShown: function()\n\t\t{\n\t\t\treturn !BX.hasClass(this.getNode(), this.parent.settings.get('classHide'));\n\t\t},\n\n\t\tisNotCount: function()\n\t\t{\n\t\t\treturn BX.hasClass(this.getNode(), this.parent.settings.get('classNotCount'));\n\t\t},\n\n\t\tgetContentContainer: function(target)\n\t\t{\n\t\t\tvar result = null;\n\n\t\t\tif (!BX.hasClass(target, this.parent.settings.get('classCellContainer')))\n\t\t\t{\n\t\t\t\tif (target.nodeName === 'TD' || target.nodeName === 'TR')\n\t\t\t\t{\n\t\t\t\t\tresult = BX.Grid.Utils.getByClass(target, this.parent.settings.get('classCellContainer'), true);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = BX.findParent(target, {className: this.parent.settings.get('classCellContainer')}, true, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult = target;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetContent: function(cell)\n\t\t{\n\t\t\tvar container = this.getContentContainer(cell);\n\t\t\tvar content;\n\n\t\t\tif (BX.type.isDomNode(container))\n\t\t\t{\n\t\t\t\tcontent = BX.html(container);\n\t\t\t}\n\n\t\t\treturn content;\n\t\t},\n\n\t\tgetCustomValue: function(editor)\n\t\t{\n\t\t\tvar map = new Map(), name = editor.getAttribute('data-name');\n\t\t\tvar inputs = [].slice.call(editor.querySelectorAll('input, select, checkbox, textarea'));\n\t\t\tinputs.forEach(function(element) {\n\n\t\t\t\tvar resultObject = {\n\t\t\t\t\t'NAME': name,\n\t\t\t\t\t'RAW_NAME': element.name,\n\t\t\t\t\t'RAW_VALUE': element.value,\n\t\t\t\t\t'VALUE': element.value\n\t\t\t\t};\n\n\t\t\t\tswitch (element.tagName)\n\t\t\t\t{\n\t\t\t\t\tcase 'SELECT':\n\t\t\t\t\t\tif (element.multiple)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar selectValues = [];\n\t\t\t\t\t\t\telement.querySelectorAll('option').forEach(function(option) {\n\t\t\t\t\t\t\t\tif (option.selected)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tselectValues.push(option.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresultObject['RAW_VALUE'] = selectValues;\n\t\t\t\t\t\t\tresultObject['VALUE'] = selectValues;\n\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'INPUT':\n\t\t\t\t\t\tswitch(element.type.toUpperCase())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcase 'RADIO':\n\t\t\t\t\t\t\t\tif (element.checked)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tresultObject['RAW_VALUE'] = element.value;\n\t\t\t\t\t\t\t\t\tresultObject['VALUE'] = element.value;\n\t\t\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'CHECKBOX':\n\t\t\t\t\t\t\t\tresultObject['RAW_VALUE'] = element.checked ? element.value : '';\n\t\t\t\t\t\t\t\tresultObject['VALUE'] = element.checked ? element.value : '';\n\t\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'FILE':\n\t\t\t\t\t\t\t\tresultObject['RAW_VALUE'] = element.files[0];\n\t\t\t\t\t\t\t\tresultObject['VALUE'] = element.files[0];\n\t\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar result = [];\n\t\t\tmap.forEach(function(value) {\n\t\t\t\tresult.push(value);\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetImageValue: function(editor)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tif (BX.hasClass(editor, 'main-grid-image-editor'))\n\t\t\t{\n\t\t\t\tvar input = editor.querySelector('.main-grid-image-editor-file-input');\n\n\t\t\t\tif (input)\n\t\t\t\t{\n\t\t\t\t\tresult = {\n\t\t\t\t\t\t'NAME': input.name,\n\t\t\t\t\t\t'VALUE': input.files[0]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar fakeInput = editor.querySelector('.main-grid-image-editor-fake-file-input');\n\n\t\t\t\t\tif (fakeInput)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult = {\n\t\t\t\t\t\t\t'NAME': fakeInput.name,\n\t\t\t\t\t\t\t'VALUE': fakeInput.value\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (editor.value)\n\t\t\t{\n\t\t\t\tresult = {\n\t\t\t\t\t'NAME': editor.getAttribute('name'),\n\t\t\t\t\t'VALUE': editor.value\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult = {\n\t\t\t\t\t'NAME': editor.getAttribute('name'),\n\t\t\t\t\t'VALUE': BX.data(editor, 'value')\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * @param {HTMLTableCellElement} cell\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetEditorContainer: function(cell)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(cell, this.parent.settings.get('classEditorContainer'), true);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement}\n\t\t */\n\t\tgetCollapseButton: function()\n\t\t{\n\t\t\tif (!this.collapseButton)\n\t\t\t{\n\t\t\t\tthis.collapseButton = BX.Grid.Utils.getByClass(this.getNode(), this.parent.settings.get('classCollapseButton'), true);\n\t\t\t}\n\n\t\t\treturn this.collapseButton;\n\t\t},\n\n\t\tstateLoad: function()\n\t\t{\n\t\t\tBX.addClass(this.getNode(), this.parent.settings.get('classRowStateLoad'));\n\t\t},\n\n\t\tstateUnload: function()\n\t\t{\n\t\t\tBX.removeClass(this.getNode(), this.parent.settings.get('classRowStateLoad'));\n\t\t},\n\n\t\tstateExpand: function()\n\t\t{\n\t\t\tBX.addClass(this.getNode(), this.parent.settings.get('classRowStateExpand'));\n\t\t},\n\n\t\tstateCollapse: function()\n\t\t{\n\t\t\tBX.removeClass(this.getNode(), this.parent.settings.get('classRowStateExpand'));\n\t\t},\n\n\t\tgetParentId: function()\n\t\t{\n\t\t\tif (this.parentId === null)\n\t\t\t{\n\t\t\t\tthis.parentId = BX.data(this.getNode(), 'parent-id');\n\n\t\t\t\tif (typeof this.parentId !== 'undefined' && this.parentId !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.parentId = this.parentId.toString();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.parentId;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {DOMStringMap}\n\t\t */\n\t\tgetDataset: function()\n\t\t{\n\t\t\treturn this.getNode().dataset;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets row depth level\n\t\t * @return {?number}\n\t\t */\n\t\tgetDepth: function()\n\t\t{\n\t\t\tif (this.depth === null)\n\t\t\t{\n\t\t\t\tthis.depth = BX.data(this.getNode(), 'depth');\n\t\t\t}\n\n\t\t\treturn this.depth;\n\t\t},\n\n\n\t\t/**\n\t\t * Set row depth\n\t\t * @param {number} depth\n\t\t */\n\t\tsetDepth: function(depth)\n\t\t{\n\t\t\tdepth = parseInt(depth);\n\n\t\t\tif (BX.type.isNumber(depth))\n\t\t\t{\n\t\t\t\tvar depthOffset = depth - parseInt(this.getDepth());\n\t\t\t\tvar Rows = this.parent.getRows();\n\n\t\t\t\tthis.getDataset().depth = depth;\n\n\t\t\t\tthis.getShiftCells().forEach(function(cell) {\n\t\t\t\t\tBX.data(cell, 'depth', depth);\n\t\t\t\t\tBX.style(cell, 'padding-left', (depth * 20) + 'px');\n\t\t\t\t}, this);\n\n\t\t\t\tRows.getRowsByParentId(this.getId(), true).forEach(function(row) {\n\t\t\t\t\tvar childDepth = parseInt(depthOffset) + parseInt(row.getDepth());\n\t\t\t\t\trow.getDataset().depth = childDepth;\n\t\t\t\t\trow.getShiftCells().forEach(function(cell) {\n\t\t\t\t\t\tBX.data(cell, 'depth', childDepth);\n\t\t\t\t\t\tBX.style(cell, 'padding-left', (childDepth * 20) + 'px');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Sets parent id\n\t\t * @param {string|number} id\n\t\t */\n\t\tsetParentId: function(id)\n\t\t{\n\t\t\tthis.getDataset()['parentId'] = id;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLTableRowElement}\n\t\t */\n\t\tgetShiftCells: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getNode(), 'td[data-shift=\"true\"]');\n\t\t},\n\n\t\tshowChildRows: function()\n\t\t{\n\t\t\tvar rows = this.getChildren();\n\t\t\tvar isCustom = this.isCustom();\n\n\t\t\trows.forEach(function(row) {\n\t\t\t\trow.show();\n\t\t\t\tif (!isCustom && row.isExpand())\n\t\t\t\t{\n\t\t\t\t\trow.showChildRows();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.parent.updateCounterDisplayed();\n\t\t\tthis.parent.updateCounterSelected();\n\t\t\tthis.parent.adjustCheckAllCheckboxes();\n\t\t\tthis.parent.adjustRows();\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetChildren: function()\n\t\t{\n\t\t\tvar functionName = this.isCustom() ? 'getRowsByGroupId' : 'getRowsByParentId';\n\t\t\tvar id = this.isCustom() ? this.getGroupId() : this.getId();\n\t\t\treturn this.parent.getRows()[functionName](id, true);\n\t\t},\n\n\t\thideChildRows: function()\n\t\t{\n\t\t\tvar rows = this.getChildren();\n\t\t\trows.forEach(function(row) { row.hide(); });\n\t\t\tthis.parent.updateCounterDisplayed();\n\t\t\tthis.parent.updateCounterSelected();\n\t\t\tthis.parent.adjustCheckAllCheckboxes();\n\t\t\tthis.parent.adjustRows();\n\t\t},\n\n\t\tisChildsLoaded: function()\n\t\t{\n\t\t\tif (!BX.type.isBoolean(this.childsLoaded))\n\t\t\t{\n\t\t\t\tthis.childsLoaded = this.isCustom() || BX.data(this.getNode(), 'child-loaded') === 'true';\n\t\t\t}\n\n\t\t\treturn this.childsLoaded;\n\t\t},\n\n\t\texpand: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tthis.stateExpand();\n\n\t\t\tif (this.isChildsLoaded())\n\t\t\t{\n\t\t\t\tthis.showChildRows();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.stateLoad();\n\t\t\t\tthis.loadChildRows(function(rows) {\n\t\t\t\t\trows.reverse().forEach(function(current) {\n\t\t\t\t\t\tBX.insertAfter(current, self.getNode());\n\t\t\t\t\t});\n\t\t\t\t\tself.parent.getRows().reset();\n\t\t\t\t\tself.parent.bindOnRowEvents();\n\n\t\t\t\t\tif (self.parent.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.parent.getRowsSortable().reinit();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.parent.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.parent.getColsSortable().reinit();\n\t\t\t\t\t}\n\n\t\t\t\t\tself.stateUnload();\n\t\t\t\t\tBX.data(self.getNode(), 'child-loaded', 'true');\n\t\t\t\t\tself.parent.updateCounterDisplayed();\n\t\t\t\t\tself.parent.updateCounterSelected();\n\t\t\t\t\tself.parent.adjustCheckAllCheckboxes();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tcollapse: function()\n\t\t{\n\t\t\tthis.stateCollapse();\n\t\t\tthis.hideChildRows();\n\t\t},\n\n\t\tisExpand: function()\n\t\t{\n\t\t\treturn BX.hasClass(this.getNode(), this.parent.settings.get('classRowStateExpand'));\n\t\t},\n\n\t\ttoggleChildRows: function()\n\t\t{\n\t\t\tif (!this.isExpand())\n\t\t\t{\n\t\t\t\tthis.expand();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.collapse();\n\t\t\t}\n\t\t},\n\n\t\tloadChildRows: function(callback)\n\t\t{\n\t\t\tif (BX.type.isFunction(callback))\n\t\t\t{\n\t\t\t\tvar self = this;\n\t\t\t\tvar depth = parseInt(this.getDepth());\n\t\t\t\tvar action = this.parent.getUserOptions().getAction('GRID_GET_CHILD_ROWS');\n\t\t\t\tdepth = BX.type.isNumber(depth) ? depth+1 : 1;\n\t\t\t\tthis.parent.getData().request('', 'POST', {action: action, parent_id: this.getId(), depth: depth}, null, function() {\n\t\t\t\t\tvar rows = this.getRowsByParentId(self.getId());\n\t\t\t\t\tcallback.apply(null, [rows]);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tupdate: function(data, url, callback)\n\t\t{\n\t\t\tdata = !!data ? data : '';\n\n\t\t\tvar action = this.parent.getUserOptions().getAction('GRID_UPDATE_ROW');\n\t\t\tvar depth = this.getDepth();\n\t\t\tvar id = this.getId();\n\t\t\tvar parentId = this.getParentId();\n\t\t\tvar rowData = {id: id, parentId: parentId, action: action, depth: depth, data: data};\n\t\t\tvar self = this;\n\n\t\t\tthis.stateLoad();\n\t\t\tthis.parent.getData().request(url, 'POST', rowData, null, function() {\n\t\t\t\tvar bodyRows = this.getBodyRows();\n\t\t\t\tself.parent.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\tself.stateUnload();\n\t\t\t\tself.parent.getRows().reset();\n\t\t\t\tself.parent.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\tself.parent.getUpdater().updatePagination(this.getPagination());\n\t\t\t\tself.parent.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.parent.getUpdater().updateCounterTotal(this.getCounterTotal());\n\t\t\t\tself.parent.bindOnRowEvents();\n\t\t\t\tself.parent.adjustEmptyTable(bodyRows);\n\n\t\t\t\tself.parent.bindOnMoreButtonEvents();\n\t\t\t\tself.parent.bindOnClickPaginationLinks();\n\t\t\t\tself.parent.updateCounterDisplayed();\n\t\t\t\tself.parent.updateCounterSelected();\n\n\t\t\t\tif (self.parent.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.parent.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.parent.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.parent.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::rowUpdated', [{id: id, data: data, grid: self.parent, response: this}]);\n\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self.parent]);\n\n\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t{\n\t\t\t\t\tcallback({id: id, data: data, grid: self.parent, response: this});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tremove: function(data, url, callback)\n\t\t{\n\t\t\tdata = !!data ? data : '';\n\n\t\t\tvar action = this.parent.getUserOptions().getAction('GRID_DELETE_ROW');\n\t\t\tvar depth = this.getDepth();\n\t\t\tvar id = this.getId();\n\t\t\tvar parentId = this.getParentId();\n\t\t\tvar rowData = {id: id, parentId: parentId, action: action, depth: depth, data: data};\n\t\t\tvar self = this;\n\n\t\t\tthis.stateLoad();\n\t\t\tthis.parent.getData().request(url, 'POST', rowData, null, function() {\n\t\t\t\tvar bodyRows = this.getBodyRows();\n\t\t\t\tself.parent.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\tself.stateUnload();\n\t\t\t\tself.parent.getRows().reset();\n\t\t\t\tself.parent.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\tself.parent.getUpdater().updatePagination(this.getPagination());\n\t\t\t\tself.parent.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.parent.getUpdater().updateCounterTotal(this.getCounterTotal());\n\t\t\t\tself.parent.bindOnRowEvents();\n\t\t\t\tself.parent.adjustEmptyTable(bodyRows);\n\n\t\t\t\tself.parent.bindOnMoreButtonEvents();\n\t\t\t\tself.parent.bindOnClickPaginationLinks();\n\t\t\t\tself.parent.updateCounterDisplayed();\n\t\t\t\tself.parent.updateCounterSelected();\n\n\t\t\t\tif (self.parent.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.parent.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.parent.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.parent.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::rowRemoved', [{id: id, data: data, grid: self.parent, response: this}]);\n\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self.parent]);\n\n\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t{\n\t\t\t\t\tcallback({id: id, data: data, grid: self.parent, response: this});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\teditCancel: function()\n\t\t{\n\t\t\tvar cells = this.getCells();\n\t\t\tvar self = this;\n\t\t\tvar editorContainer;\n\n\t\t\t[].forEach.call(cells, function(current) {\n\t\t\t\teditorContainer = self.getEditorContainer(current);\n\n\t\t\t\tif (BX.type.isDomNode(editorContainer))\n\t\t\t\t{\n\t\t\t\t\tBX.remove(self.getEditorContainer(current));\n\t\t\t\t\tBX.show(self.getContentContainer(current));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBX.removeClass(this.getNode(), 'main-grid-row-edit');\n\t\t},\n\n\t\tgetCellByIndex: function(index)\n\t\t{\n\t\t\treturn this.getCells()[index];\n\t\t},\n\n\t\tgetEditDataByCellIndex: function(index)\n\t\t{\n\t\t\treturn eval(BX.data(this.getCellByIndex(index), 'edit'));\n\t\t},\n\n\t\tgetCellNameByCellIndex: function(index)\n\t\t{\n\t\t\treturn BX.data(this.getCellByIndex(index), 'name');\n\t\t},\n\n\t\tgetEditData: function()\n\t\t{\n\t\t\tif (this.editData === null)\n\t\t\t{\n\t\t\t\tvar editableData = this.parent.getParam('EDITABLE_DATA');\n\t\t\t\tvar rowId = this.getId();\n\n\t\t\t\tif (BX.type.isPlainObject(editableData) && rowId in editableData)\n\t\t\t\t{\n\t\t\t\t\tthis.editData = editableData[rowId];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.editData = {};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.editData\n\t\t},\n\n\t\tgetCellEditDataByCellIndex: function(cellIndex)\n\t\t{\n\t\t\tvar editData = this.getEditData();\n\t\t\tvar result = null;\n\t\t\tcellIndex = parseInt(cellIndex);\n\n\t\t\tif (BX.type.isNumber(cellIndex) && BX.type.isPlainObject(editData))\n\t\t\t{\n\t\t\t\tvar columnEditData = this.parent.getRows().getHeadFirstChild().getEditDataByCellIndex(cellIndex);\n\n\t\t\t\tif (BX.type.isPlainObject(columnEditData))\n\t\t\t\t{\n\t\t\t\t\tresult = columnEditData;\n\t\t\t\t\tresult.VALUE = editData[columnEditData.NAME];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tedit: function()\n\t\t{\n\t\t\tvar cells = this.getCells();\n\t\t\tvar self = this;\n\t\t\tvar editObject, editor, height, contentContainer;\n\n\t\t\t[].forEach.call(cells, function(current, index) {\n\t\t\t\tif (current.dataset.editable === 'true')\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\teditObject = self.getCellEditDataByCellIndex(index);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.parent.getEditor().validateEditObject(editObject))\n\t\t\t\t\t{\n\t\t\t\t\t\tcontentContainer = self.getContentContainer(current);\n\t\t\t\t\t\theight = BX.height(contentContainer);\n\t\t\t\t\t\teditor = self.parent.getEditor().getEditor(editObject, height);\n\n\t\t\t\t\t\tif (!self.getEditorContainer(current) && BX.type.isDomNode(editor))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcurrent.appendChild(editor);\n\t\t\t\t\t\t\tBX.hide(contentContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBX.addClass(this.getNode(), 'main-grid-row-edit');\n\t\t},\n\n\t\tsetDraggable: function(value)\n\t\t{\n\t\t\tif (!value)\n\t\t\t{\n\t\t\t\tBX.addClass(this.getNode(), this.parent.settings.get('classDisableDrag'));\n\t\t\t\tthis.parent.getRowsSortable().unregister(this.getNode());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.removeClass(this.getNode(), this.parent.settings.get('classDisableDrag'));\n\t\t\t\tthis.parent.getRowsSortable().register(this.getNode());\n\t\t\t}\n\t\t},\n\n\t\tisDraggable: function()\n\t\t{\n\t\t\treturn !BX.hasClass(this.getNode(), this.parent.settings.get('classDisableDrag'));\n\t\t},\n\n\t\tgetNode: function()\n\t\t{\n\t\t\treturn this.node;\n\t\t},\n\n\t\tgetIndex: function()\n\t\t{\n\t\t\treturn this.getNode().rowIndex;\n\t\t},\n\n\t\tgetId: function()\n\t\t{\n\t\t\treturn (BX.data(this.getNode(), 'id')).toString();\n\t\t},\n\n\t\tgetGroupId: function()\n\t\t{\n\t\t\treturn (BX.data(this.getNode(), 'group-id')).toString();\n\t\t},\n\n\t\tgetObserver: function()\n\t\t{\n\t\t\treturn BX.Grid.observer;\n\t\t},\n\n\t\tgetCheckbox: function()\n\t\t{\n\t\t\tif (!this.checkbox)\n\t\t\t{\n\t\t\t\tthis.checkbox = BX.Grid.Utils.getByClass(this.getNode(), this.settings.get('classRowCheckbox'), true);\n\t\t\t}\n\n\t\t\treturn this.checkbox;\n\t\t},\n\n\t\tgetActionsMenu: function()\n\t\t{\n\t\t\tif (!this.actionsMenu)\n\t\t\t{\n\t\t\t\tvar buttonRect = this.getActionsButton().getBoundingClientRect();\n\n\t\t\t\tthis.actionsMenu = BX.PopupMenu.create(\n\t\t\t\t\t'main-grid-actions-menu-' + this.getId(),\n\t\t\t\t\tthis.getActionsButton(),\n\t\t\t\t\tthis.getMenuItems(),\n\t\t\t\t\t{\n\t\t\t\t\t\t'autoHide': true,\n\t\t\t\t\t\t'offsetTop': -((buttonRect.height / 2) + 26),\n\t\t\t\t\t\t'offsetLeft': 30,\n\t\t\t\t\t\t'angle': {\n\t\t\t\t\t\t\t'position': 'left',\n\t\t\t\t\t\t\t'offset': ((buttonRect.height / 2) - 8)\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'events': {\n\t\t\t\t\t\t\t'onPopupClose': BX.delegate(this._onCloseMenu, this),\n\t\t\t\t\t\t\t'onPopupShow': BX.delegate(this._onPopupShow, this)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tBX.addCustomEvent('Grid::updated', function() {\n\t\t\t\t\tif(this.actionsMenu)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.actionsMenu.destroy();\n\t\t\t\t\t\tthis.actionsMenu = null;\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t\tBX.bind(this.actionsMenu.popupWindow.popupContainer, 'click', BX.delegate(function(event) {\n\t\t\t\t\tvar actionsMenu = this.getActionsMenu();\n\t\t\t\t\tif (actionsMenu)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar target = BX.getEventTarget(event);\n\t\t\t\t\t\tvar item = BX.findParent(target, {\n\t\t\t\t\t\t\tclassName: 'menu-popup-item'\n\t\t\t\t\t\t}, 10);\n\n\t\t\t\t\t\tif (!item || !item.dataset.preventCloseContextMenu)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactionsMenu.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\t\t\t}\n\n\t\t\treturn this.actionsMenu;\n\t\t},\n\n\t\t_onCloseMenu: function()\n\t\t{\n\t\t},\n\n\t\t_onPopupShow: function(popupMenu)\n\t\t{\n\t\t\tpopupMenu.setBindElement(this.getActionsButton());\n\t\t},\n\n\t\tactionsMenuIsShown: function()\n\t\t{\n\t\t\treturn this.getActionsMenu().popupWindow.isShown();\n\t\t},\n\n\t\tshowActionsMenu: function(event)\n\t\t{\n\t\t\tBX.fireEvent(document.body, 'click');\n\n\t\t\tthis.getActionsMenu().popupWindow.show();\n\n\t\t\tif (event)\n\t\t\t{\n\t\t\t\tthis.getActionsMenu().popupWindow.popupContainer.style.top = ((event.pageY - 25) + BX.PopupWindow.getOption(\"offsetTop\")) + \"px\";\n\t\t\t\tthis.getActionsMenu().popupWindow.popupContainer.style.left = ((event.pageX + 20) + BX.PopupWindow.getOption(\"offsetLeft\")) + \"px\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar popupWindow = this.actionsMenu.getPopupWindow();\n\t\t\t\tvar pos = BX.pos(this.getActionsButton());\n\n\t\t\t\tBX.style(popupWindow.getPopupContainer(), 'top', pos.top - 20 + 'px');\n\t\t\t}\n\t\t},\n\n\t\tcloseActionsMenu: function()\n\t\t{\n\t\t\tif (this.actionsMenu)\n\t\t\t{\n\t\t\t\tif (this.actionsMenu.popupWindow)\n\t\t\t\t{\n\t\t\t\t\tthis.actionsMenu.popupWindow.close();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetMenuItems: function()\n\t\t{\n\t\t\treturn this.getActions() || [];\n\t\t},\n\n\t\tgetActions: function()\n\t\t{\n\t\t\ttry {\n\t\t\t\tthis.actions = this.actions || eval(BX.data(this.getActionsButton(), this.settings.get('dataActionsKey')));\n\t\t\t} catch (err) {\n\t\t\t\tthis.actions = null;\n\t\t\t}\n\n\t\t\treturn this.actions;\n\t\t},\n\n\t\tgetActionsButton: function()\n\t\t{\n\t\t\tif (!this.actionsButton)\n\t\t\t{\n\t\t\t\tthis.actionsButton = BX.Grid.Utils.getByClass(this.getNode(), this.settings.get('classRowActionButton'), true);\n\t\t\t}\n\n\t\t\treturn this.actionsButton;\n\t\t},\n\n\t\tinitSelect: function()\n\t\t{\n\t\t\tif (this.isSelected() && !BX.hasClass(this.getNode(), this.settings.get('classCheckedRow')))\n\t\t\t{\n\t\t\t\tBX.addClass(this.getNode(), this.settings.get('classCheckedRow'))\n\t\t\t}\n\t\t},\n\n\t\tgetParentNode: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = (this.getNode()).parentNode;\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetParentNodeName: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = (this.getParentNode()).nodeName;\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tselect: function()\n\t\t{\n\t\t\tvar checkbox;\n\n\t\t\tif (!this.isEdit() && !this.parent.getRows().hasEditable())\n\t\t\t{\n\t\t\t\tcheckbox = this.getCheckbox();\n\n\t\t\t\tif (checkbox)\n\t\t\t\t{\n\t\t\t\t\tif (!BX.data(checkbox, 'disabled'))\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.addClass(this.getNode(), this.settings.get('classCheckedRow'));\n\t\t\t\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\t\t\t\tBX.addClass(row, this.settings.get('classCheckedRow'));\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t\tcheckbox.checked = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tunselect: function()\n\t\t{\n\t\t\tif (!this.isEdit())\n\t\t\t{\n\t\t\t\tBX.removeClass(this.getNode(), this.settings.get('classCheckedRow'));\n\t\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\t\tBX.removeClass(row, this.settings.get('classCheckedRow'));\n\t\t\t\t}, this);\n\t\t\t\tif (this.getCheckbox())\n\t\t\t\t{\n\t\t\t\t\tthis.getCheckbox().checked = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetCells: function()\n\t\t{\n\t\t\treturn this.getNode().cells;\n\t\t},\n\n\t\tisSelected: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\t(this.getCheckbox() && (this.getCheckbox()).checked) ||\n\t\t\t\t(BX.hasClass(this.getNode(), this.settings.get('classCheckedRow')))\n\t\t\t);\n\t\t},\n\n\t\tisHeadChild: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\tthis.getParentNodeName() === 'THEAD' &&\n\t\t\t\tBX.hasClass(this.getNode(), this.settings.get('classHeadRow'))\n\t\t\t);\n\t\t},\n\n\t\tisBodyChild: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.hasClass(this.getNode(), this.settings.get('classBodyRow')) && !BX.hasClass(this.getNode(), this.settings.get('classEmptyRows'))\n\t\t\t);\n\t\t},\n\n\t\tisFootChild: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\tthis.getParentNodeName() === 'TFOOT' &&\n\t\t\t\tBX.hasClass(this.getNode(), this.settings.get('classFootRow'))\n\t\t\t);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * BX.Grid.Rows\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Rows = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.rows = null;\n\t\tthis.headChild = null;\n\t\tthis.bodyChild = null;\n\t\tthis.footChild = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Rows.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t},\n\n\t\treset: function()\n\t\t{\n\t\t\tthis.rows = null;\n\t\t\tthis.headChild = null;\n\t\t\tthis.bodyChild = null;\n\t\t\tthis.footChild = null;\n\t\t},\n\n\t\tenableDragAndDrop: function()\n\t\t{\n\t\t\tthis.parent.arParams[\"ALLOW_ROWS_SORT\"] = true;\n\n\t\t\tif (!(this.parent.getRowsSortable() instanceof BX.Grid.RowsSortable))\n\t\t\t{\n\t\t\t\tthis.parent.rowsSortable = new BX.Grid.RowsSortable(this.parent);\n\t\t\t}\n\t\t},\n\n\t\tdisableDragAndDrop: function()\n\t\t{\n\t\t\tthis.parent.arParams[\"ALLOW_ROWS_SORT\"] = false;\n\t\t\tif (this.parent.getRowsSortable() instanceof BX.Grid.RowsSortable)\n\t\t\t{\n\t\t\t\tthis.parent.getRowsSortable().destroy();\n\t\t\t\tthis.parent.rowsSortable = null;\n\t\t\t}\n\t\t},\n\n\t\tgetFootLastChild: function()\n\t\t{\n\t\t\treturn this.getLast(this.getFootChild());\n\t\t},\n\n\t\tgetFootFirstChild: function()\n\t\t{\n\t\t\treturn this.getFirst(this.getFootChild());\n\t\t},\n\n\t\tgetBodyLastChild: function()\n\t\t{\n\t\t\treturn this.getLast(this.getBodyChild());\n\t\t},\n\n\t\tgetBodyFirstChild: function()\n\t\t{\n\t\t\treturn this.getFirst(this.getBodyChild());\n\t\t},\n\n\t\tgetHeadLastChild: function()\n\t\t{\n\t\t\treturn this.getLast(this.getHeadChild());\n\t\t},\n\n\t\tgetHeadFirstChild: function()\n\t\t{\n\t\t\treturn this.getFirst(this.getHeadChild());\n\t\t},\n\n\t\tgetEditSelectedValues: function()\n\t\t{\n\t\t\tvar selectedRows = this.getSelected();\n\t\t\tvar values = {};\n\n\t\t\tselectedRows.forEach(\n\t\t\t\tfunction(current)\n\t\t\t\t{\n\t\t\t\t\tvalues[current.getId()] = current.editGetValues();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn values;\n\t\t},\n\n\t\tgetSelectedIds: function()\n\t\t{\n\t\t\treturn this.getSelected().map(function(current) {\n\t\t\t\treturn current.getId();\n\t\t\t});\n\t\t},\n\n\t\tinitSelected: function()\n\t\t{\n\t\t\tvar selected = this.getSelected();\n\n\t\t\tif (BX.type.isArray(selected) && selected.length)\n\t\t\t{\n\t\t\t\tselected.forEach(function(row) {\n\t\t\t\t\trow.initSelect();\n\t\t\t\t});\n\n\t\t\t\tthis.parent.enableActionsPanel();\n\t\t\t}\n\t\t},\n\n\t\teditSelected: function()\n\t\t{\n\t\t\tthis.getSelected().forEach(function(current) {\n\t\t\t\tcurrent.edit();\n\t\t\t});\n\n\t\t\tBX.onCustomEvent(window, 'Grid::thereEditedRows', []);\n\t\t},\n\n\t\teditSelectedCancel: function()\n\t\t{\n\t\t\tthis.getSelected().forEach(function(current) {\n\t\t\t\tcurrent.editCancel();\n\t\t\t});\n\n\t\t\tBX.onCustomEvent(window, 'Grid::noEditedRows', []);\n\t\t},\n\n\t\tisSelected: function()\n\t\t{\n\t\t\treturn this.getBodyChild().some(function(current) {\n\t\t\t\treturn current.isShown() && current.isSelected();\n\t\t\t});\n\t\t},\n\n\t\tisAllSelected: function()\n\t\t{\n\t\t\treturn !this.getBodyChild()\n\t\t\t\t.filter(function(current) {\n\t\t\t\t\treturn !!current.getCheckbox();\n\t\t\t\t})\n\t\t\t\t.some(function(current) {\n\t\t\t\t\treturn !current.isSelected();\n\t\t\t\t});\n\t\t},\n\n\t\tgetParent: function()\n\t\t{\n\t\t\treturn this.parent;\n\t\t},\n\n\t\tgetCountSelected: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = this.getSelected().filter(function(row) {\n\t\t\t\t\treturn !row.isNotCount() && row.isShown();\n\t\t\t\t}).length;\n\t\t\t} catch(err) {\n\t\t\t\tresult = 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetCountDisplayed: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = this.getBodyChild().filter(function(row) { return row.isShown() && !row.isNotCount(); }).length;\n\t\t\t} catch(err) {\n\t\t\t\tresult = 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\taddRows: function(rows)\n\t\t{\n\t\t\tvar body = BX.findChild(\n\t\t\t\tthis.getParent().getTable(),\n\t\t\t\t{tag: 'TBODY'},\n\t\t\t\ttrue,\n\t\t\t\tfalse\n\t\t\t);\n\n\t\t\trows.forEach(function(current) {\n\t\t\t\tbody.appendChild(current);\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Gets all rows of table\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetRows: function()\n\t\t{\n\t\t\tvar result;\n\t\t\tvar self = this;\n\n\t\t\tif (!this.rows)\n\t\t\t{\n\t\t\t\tresult = [].slice.call(this.getParent().getTable().querySelectorAll('tr[data-id], thead > tr'));\n\n\t\t\t\tthis.rows = result.map(function(current) {\n\t\t\t\t\treturn new BX.Grid.Row(self.parent, current);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.rows;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets selected rows\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetSelected: function()\n\t\t{\n\t\t\treturn this.getBodyChild().filter(function(current) {\n\t\t\t\treturn current.isShown() && current.isSelected();\n\t\t\t});\n\t\t},\n\n\t\tnormalizeNode: function(node)\n\t\t{\n\t\t\tif (!BX.hasClass(node, this.getParent().settings.get('classBodyRow')))\n\t\t\t{\n\t\t\t\tnode = BX.findParent(node, {className: this.getParent().settings.get('classBodyRow')}, true, false);\n\t\t\t}\n\n\t\t\treturn node;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets BX.Grid.Row by id\n\t\t * @param {string|number} id\n\t\t * @return {?BX.Grid.Row}\n\t\t */\n\t\tgetById: function(id)\n\t\t{\n\t\t\tid = id.toString();\n\t\t\tvar rows = this.getBodyChild();\n\t\t\tvar row = rows.filter(function(current) {\n\t\t\t\treturn current.getId() === id;\n\t\t\t});\n\n\t\t\treturn row.length === 1 ? row[0] : null;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets BX.Grid.Row for tr node\n\t\t * @param {HTMLTableRowElement} node\n\t\t * @return {?BX.Grid.Row}\n\t\t */\n\t\tget: function(node)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tvar filter;\n\n\t\t\tif (BX.type.isDomNode(node))\n\t\t\t{\n\t\t\t\tnode = this.normalizeNode(node);\n\n\t\t\t\tfilter = this.getRows().filter(function(current) {\n\t\t\t\t\treturn node === current.getNode();\n\t\t\t\t});\n\n\t\t\t\tif (filter.length)\n\t\t\t\t{\n\t\t\t\t\tresult = filter[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/** @static @method getLast */\n\t\tgetLast: function(array)\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = array[array.length-1];\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/** @static @method getFirst */\n\t\tgetFirst: function(array)\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = array[0];\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetHeadChild: function()\n\t\t{\n\t\t\tthis.headChild = this.headChild || this.getRows().filter(function(current) {\n\t\t\t\t\treturn current.isHeadChild();\n\t\t\t\t});\n\n\t\t\treturn this.headChild;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets child rows of tbody\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetBodyChild: function()\n\t\t{\n\t\t\tthis.bodyChild = this.bodyChild || this.getRows().filter(function(current) {\n\t\t\t\treturn current.isBodyChild();\n\t\t\t});\n\n\t\t\treturn this.bodyChild;\n\t\t},\n\n\t\tgetFootChild: function()\n\t\t{\n\t\t\tthis.footChild = this.footChild || this.getRows().filter(function(current) {\n\t\t\t\treturn current.isFootChild();\n\t\t\t});\n\n\t\t\treturn this.footChild;\n\t\t},\n\n\n\t\tselectAll: function()\n\t\t{\n\t\t\tthis.getRows().map(function(current) {\n\t\t\t\tcurrent.isShown() && current.select();\n\t\t\t});\n\t\t},\n\n\t\tunselectAll: function()\n\t\t{\n\t\t\tthis.getRows().map(function(current) {\n\t\t\t\tcurrent.unselect();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Gets row by rowIndex\n\t\t * @param {number} rowIndex\n\t\t * @return {?BX.Grid.Row}\n\t\t */\n\t\tgetByIndex: function(rowIndex)\n\t\t{\n\t\t\tvar filter = this.getBodyChild()\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn item;\n\t\t\t\t})\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn item.getNode().rowIndex === rowIndex;\n\t\t\t\t});\n\n\t\t\treturn filter.length ? filter[0] : null;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets child rows\n\t\t * @param {number|string} parentId\n\t\t * @param {boolean} [recursive]\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetRowsByParentId: function(parentId, recursive)\n\t\t{\n\t\t\tvar result = [];\n\t\t\tvar self = this;\n\n\t\t\tif (!parentId)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tparentId = parentId.toString();\n\n\t\t\tfunction getByParentId(parentId)\n\t\t\t{\n\t\t\t\tself.getBodyChild().forEach(function(row) {\n\t\t\t\t\tif (row.getParentId() === parentId) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t\trecursive && getByParentId(row.getId());\n\t\t\t\t\t}\n\t\t\t\t}, self);\n\t\t\t}\n\n\t\t\tgetByParentId(parentId);\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetRowsByGroupId: function(groupId)\n\t\t{\n\t\t\tvar result = [];\n\t\t\tvar self = this;\n\n\t\t\tif (!groupId)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tgroupId = groupId.toString();\n\n\t\t\tfunction getByParentId(groupId)\n\t\t\t{\n\t\t\t\tself.getBodyChild().forEach(function(row) {\n\t\t\t\t\tif (row.getGroupId() === groupId && !row.isCustom()) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t}, self);\n\t\t\t}\n\n\t\t\tgetByParentId(groupId);\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetExpandedRows: function()\n\t\t{\n\t\t\treturn this.getRows().filter(function(row) {\n\t\t\t\treturn row.isShown() && row.isExpand();\n\t\t\t});\n\t\t},\n\n\t\tgetIdsExpandedRows: function()\n\t\t{\n\t\t\treturn this.getExpandedRows().map(function(row) {\n\t\t\t\treturn row.getId();\n\t\t\t});\n\t\t},\n\n\n\t\tgetIdsCollapsedGroups: function()\n\t\t{\n\t\t\treturn this.getRows().filter(function(row) {\n\t\t\t\treturn row.isCustom() && !row.isExpand();\n\t\t\t}).map(function(row) {\n\t\t\t\treturn row.getId();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetSourceRows: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getParent().getTable(), [\n\t\t\t\t'.main-grid-header > tr',\n\t\t\t\t'.main-grid-header + tbody > tr'\n\t\t\t].join(', '));\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetSourceBodyChild: function()\n\t\t{\n\t\t\treturn this.getSourceRows().filter(function(current) {\n\t\t\t\treturn BX.Grid.Utils.closestParent(current).nodeName === 'TBODY';\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetSourceHeadChild: function()\n\t\t{\n\t\t\treturn this.getSourceRows().filter(function(current) {\n\t\t\t\treturn BX.Grid.Utils.closestParent(current).nodeName === 'THEAD';\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetSourceFootChild: function()\n\t\t{\n\t\t\treturn this.getSourceRows().filter(function(current) {\n\t\t\t\treturn BX.Grid.Utils.closestParent(current).nodeName === 'TFOOT';\n\t\t\t});\n\t\t},\n\n\t\thasEditable: function() {\n\t\t\treturn this.getBodyChild().some(function(current) {\n\t\t\t\treturn current.isEdit();\n\t\t\t});\n\t\t}\n\t};\n})();\n",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.RowDragEvent = function(eventName)\n\t{\n\t\tthis.allowMoveRow = true;\n\t\tthis.allowInsertBeforeTarget = true;\n\t\tthis.dragItem = null;\n\t\tthis.targetItem = null;\n\t\tthis.eventName = !!eventName ? eventName : '';\n\t\tthis.errorMessage = '';\n\t};\n\n\tBX.Grid.RowDragEvent.prototype = {\n\t\tallowMove: function() { this.allowMoveRow = true; this.errorMessage = ''; },\n\t\tallowInsertBefore: function() { this.allowInsertBeforeTarget = true; },\n\t\tdisallowMove: function(errorMessage) { this.allowMoveRow = false; this.errorMessage = errorMessage || ''; },\n\t\tdisallowInsertBefore: function() { this.allowInsertBeforeTarget = false; },\n\t\tgetDragItem: function() { return this.dragItem; },\n\t\tgetTargetItem: function() { return this.targetItem; },\n\t\tgetEventName: function() { return this.eventName; },\n\t\tsetDragItem: function(item) { return this.dragItem = item; },\n\t\tsetTargetItem: function(item) { return this.targetItem = item; },\n\t\tsetEventName: function(name) { return this.eventName = name; },\n\t\tisAllowedMove: function() { return this.allowMoveRow; },\n\t\tisAllowedInsertBefore: function() { return this.allowInsertBeforeTarget; },\n\t\tgetErrorMessage: function() { return this.errorMessage; }\n\t};\n\n\n\tBX.Grid.RowsSortable = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.list = null;\n\t\tthis.setDefaultProps();\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.RowsSortable.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.list = this.getList();\n\t\t\tthis.prepareListItems();\n\t\t\tjsDD.Enable();\n\n\t\t\tif (!this.inited)\n\t\t\t{\n\t\t\t\tthis.inited = true;\n\t\t\t\tthis.onscrollDebounceHandler = BX.debounce(this._onWindowScroll, 300, this);\n\t\t\t\tBX.addCustomEvent('Grid::thereEditedRows', BX.proxy(this.disable, this));\n\t\t\t\tBX.addCustomEvent('Grid::noEditedRows', BX.proxy(this.enable, this));\n\t\t\t\tdocument.addEventListener('scroll', this.onscrollDebounceHandler, BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent('Grid::thereEditedRows', BX.proxy(this.disable, this));\n\t\t\tBX.removeCustomEvent('Grid::noEditedRows', BX.proxy(this.enable, this));\n\t\t\tdocument.removeEventListener('scroll', this.onscrollDebounceHandler, BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tthis.unregisterObjects();\n\t\t},\n\n\t\t_onWindowScroll: function()\n\t\t{\n\t\t\tthis.windowScrollTop = BX.scrollTop(window);\n\t\t\tthis.rowsRectList = null;\n\t\t},\n\n\t\tdisable: function()\n\t\t{\n\t\t\tthis.unregisterObjects();\n\t\t},\n\n\t\tenable: function()\n\t\t{\n\t\t\tthis.reinit();\n\t\t},\n\n\t\treinit: function()\n\t\t{\n\t\t\tthis.unregisterObjects();\n\t\t\tthis.setDefaultProps();\n\t\t\tthis.init(this.parent);\n\t\t},\n\n\t\tgetList: function()\n\t\t{\n\t\t\treturn this.parent.getRows().getSourceBodyChild();\n\t\t},\n\n\t\tunregisterObjects: function()\n\t\t{\n\t\t\tthis.list.forEach(this.unregister, this);\n\t\t},\n\n\t\tprepareListItems: function()\n\t\t{\n\t\t\tthis.list.forEach(this.register, this);\n\t\t},\n\n\t\tregister: function(row)\n\t\t{\n\t\t\tvar Rows = this.parent.getRows();\n\t\t\tvar rowInstance = Rows.get(row);\n\t\t\tif (rowInstance && rowInstance.isDraggable())\n\t\t\t{\n\t\t\t\trow.onbxdragstart = BX.delegate(this._onDragStart, this);\n\t\t\t\trow.onbxdrag = BX.delegate(this._onDrag, this);\n\t\t\t\trow.onbxdragstop = BX.delegate(this._onDragEnd, this);\n\t\t\t\tjsDD.registerObject(row);\n\t\t\t}\n\t\t},\n\n\t\tunregister: function(row)\n\t\t{\n\t\t\tjsDD.unregisterObject(row);\n\t\t},\n\n\t\tgetIndex: function(item)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getIndex(this.list, item);\n\t\t},\n\n\t\tcalcOffset: function()\n\t\t{\n\t\t\tvar offset = this.dragRect.height;\n\n\t\t\tif (this.additionalDragItems.length)\n\t\t\t{\n\t\t\t\tthis.additionalDragItems.forEach(function(row) {\n\t\t\t\t\toffset += row.clientHeight;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn offset;\n\t\t},\n\n\t\tgetTheadCells: function(sourceCells)\n\t\t{\n\t\t\treturn [].map.call(sourceCells, function(cell, index) {\n\t\t\t\treturn {\n\t\t\t\t\tblock: '',\n\t\t\t\t\ttag: 'th',\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tstyle: 'width: '+BX.width(sourceCells[index])+'px;'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tcreateFake: function()\n\t\t{\n\t\t\tvar content = [];\n\t\t\tthis.cloneDragItem = BX.clone(this.dragItem);\n\t\t\tthis.cloneDragAdditionalDragItems = [];\n\t\t\tthis.cloneDragAdditionalDragItemRows = [];\n\n\t\t\tvar theadCellsDecl = this.getTheadCells(this.dragItem.cells);\n\t\t\tcontent.push(this.cloneDragItem);\n\n\t\t\tthis.additionalDragItems.forEach(function(row) {\n\t\t\t\tvar cloneRow = BX.clone(row);\n\t\t\t\tcontent.push(cloneRow);\n\t\t\t\tthis.cloneDragAdditionalDragItems.push(cloneRow);\n\t\t\t\tthis.cloneDragAdditionalDragItemRows.push(new BX.Grid.Row(this.parent, cloneRow));\n\t\t\t}, this);\n\n\t\t\tvar tableWidth = BX.width(this.parent.getTable());\n\n\t\t\tthis.fake = BX.decl({\n\t\t\t\tblock: 'main-grid-fake-container',\n\t\t\t\tattrs: {\n\t\t\t\t\tstyle: 'position: absolute; top: '+this.getDragStartRect().top+'px; width: ' + tableWidth + 'px'\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tblock: 'main-grid-table',\n\t\t\t\t\tmix: 'main-grid-table-fake',\n\t\t\t\t\ttag: 'table',\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tstyle: 'width: ' + tableWidth + 'px'\n\t\t\t\t\t},\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tblock: 'main-grid-header',\n\t\t\t\t\t\t\ttag: 'thead',\n\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\tblock: 'main-grid-row-head',\n\t\t\t\t\t\t\t\ttag: 'tr',\n\t\t\t\t\t\t\t\tcontent: theadCellsDecl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tblock: '',\n\t\t\t\t\t\t\ttag: 'tbody',\n\t\t\t\t\t\t\tcontent: content\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBX.insertAfter(this.fake, this.parent.getTable());\n\n\t\t\tthis.cloneDragItem = new BX.Grid.Row(this.parent, this.cloneDragItem);\n\t\t\treturn this.fake;\n\t\t},\n\n\t\tgetDragStartRect: function()\n\t\t{\n\t\t\treturn BX.pos(this.dragItem, this.parent.getTable());\n\t\t},\n\n\t\t_onDragStart: function()\n\t\t{\n\t\t\tthis.dragItem = jsDD.current_node;\n\t\t\tthis.targetItem = this.dragItem;\n\t\t\tthis.additionalDragItems = this.getAdditionalDragItems(this.dragItem);\n\t\t\tthis.dragIndex = this.getIndex(this.dragItem);\n\t\t\tthis.dragRect = this.getRowRect(this.dragItem, this.dragIndex);\n\t\t\tthis.offset = this.calcOffset();\n\t\t\tthis.dragStartOffset = (jsDD.start_y - this.dragRect.top);\n\t\t\tthis.dragEvent = new BX.Grid.RowDragEvent();\n\t\t\tthis.dragEvent.setEventName('BX.Main.grid:rowDragStart');\n\t\t\tthis.dragEvent.setDragItem(this.dragItem);\n\t\t\tthis.dragEvent.setTargetItem(this.targetItem);\n\t\t\tthis.dragEvent.allowInsertBefore();\n\n\t\t\tvar dragRow = this.parent.getRows().get(this.dragItem);\n\t\t\tthis.startDragDepth = dragRow.getDepth();\n\t\t\tthis.startDragParentId = dragRow.getParentId();\n\n\t\t\tthis.createFake();\n\n\t\t\tBX.addClass(this.parent.getContainer(), this.parent.settings.get('classOnDrag'));\n\t\t\tBX.addClass(this.dragItem, this.parent.settings.get('classDragActive'));\n\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragStart', [this.dragEvent, this.parent]);\n\t\t},\n\n\t\tgetAdditionalDragItems: function(dragItem)\n\t\t{\n\t\t\tvar Rows = this.parent.getRows();\n\t\t\treturn Rows.getRowsByParentId(Rows.get(dragItem).getId(), true).map(function(row) {\n\t\t\t\treturn row.getNode();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * @param {?HTMLElement} row\n\t\t * @param {int} offset\n\t\t * @param {?int} [transition] css transition-duration in ms\n\t\t */\n\t\tmoveRow: function(row, offset, transition)\n\t\t{\n\t\t\tif (!!row)\n\t\t\t{\n\t\t\t\tvar transitionDuration = BX.type.isNumber(transition) ? transition : 300;\n\t\t\t\trow.style.transition = transitionDuration + 'ms';\n\t\t\t\trow.style.transform = 'translate3d(0px, '+offset+'px, 0px)';\n\t\t\t}\n\t\t},\n\n\t\tgetDragOffset: function()\n\t\t{\n\t\t\treturn jsDD.y - this.dragRect.top - this.dragStartOffset;\n\t\t},\n\n\t\tgetWindowScrollTop: function()\n\t\t{\n\t\t\tif (this.windowScrollTop === null)\n\t\t\t{\n\t\t\t\tthis.windowScrollTop = BX.scrollTop(window);\n\t\t\t}\n\n\t\t\treturn this.windowScrollTop;\n\t\t},\n\n\t\tgetSortOffset: function()\n\t\t{\n\t\t\treturn jsDD.y;\n\t\t},\n\n\t\tgetRowRect: function(row, index)\n\t\t{\n\t\t\tif (!this.rowsRectList)\n\t\t\t{\n\t\t\t\tthis.rowsRectList = {};\n\n\t\t\t\tthis.list.forEach(function(current, i) {\n\t\t\t\t\tthis.rowsRectList[i] = current.getBoundingClientRect();\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\treturn this.rowsRectList[index];\n\t\t},\n\n\t\tgetRowCenter: function(row, index)\n\t\t{\n\t\t\tvar rect = this.getRowRect(row, index);\n\t\t\treturn rect.top + this.getWindowScrollTop() + (rect.height / 2);\n\t\t},\n\n\t\tisDragToBottom: function(row, index)\n\t\t{\n\t\t\tvar rowCenter = this.getRowCenter(row, index);\n\t\t\tvar sortOffset = this.getSortOffset();\n\t\t\treturn index > this.dragIndex && rowCenter < sortOffset;\n\t\t},\n\n\t\tisMovedToBottom: function(row)\n\t\t{\n\t\t\treturn row.style.transform === 'translate3d(0px, '+(-this.offset)+'px, 0px)';\n\t\t},\n\n\t\tisDragToTop: function(row, index)\n\t\t{\n\t\t\tvar rowCenter = this.getRowCenter(row, index);\n\t\t\tvar sortOffset = this.getSortOffset();\n\t\t\treturn index < this.dragIndex && rowCenter > sortOffset;\n\t\t},\n\n\t\tisMovedToTop: function(row)\n\t\t{\n\t\t\treturn row.style.transform === 'translate3d(0px, '+this.offset+'px, 0px)';\n\t\t},\n\n\t\tisDragToBack: function(row, index)\n\t\t{\n\t\t\tvar rowCenter = this.getRowCenter(row, index);\n\t\t\tvar dragIndex = this.dragIndex;\n\t\t\tvar y = jsDD.y;\n\n\t\t\treturn (index > dragIndex && y < rowCenter) || (index < dragIndex && y > rowCenter);\n\t\t},\n\n\t\tisMoved: function(row)\n\t\t{\n\t\t\treturn (row.style.transform !== 'translate3d(0px, 0px, 0px)' && row.style.transform !== '');\n\t\t},\n\n\t\t_onDrag: function()\n\t\t{\n\t\t\tvar dragTransitionDuration = 0;\n\t\t\tvar defaultOffset = 0;\n\n\t\t\tthis.moveRow(this.dragItem, this.getDragOffset(), dragTransitionDuration);\n\t\t\tthis.moveRow(this.fake, this.getDragOffset(), dragTransitionDuration);\n\t\t\tBX.Grid.Utils.styleForEach(this.additionalDragItems, {\n\t\t\t\t'transition': dragTransitionDuration + 'ms',\n\t\t\t\t'transform': 'translate3d(0px, '+(this.getDragOffset())+'px, 0px)'\n\t\t\t});\n\n\t\t\tthis.list.forEach(function(current, index) {\n\t\t\t\tif (!!current && current !== this.dragItem && this.additionalDragItems.indexOf(current) === -1)\n\t\t\t\t{\n\t\t\t\t\tif (this.isDragToTop(current, index) && !this.isMovedToTop(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetItem = current;\n\t\t\t\t\t\tthis.moveRow(current, this.offset);\n\t\t\t\t\t\tthis.dragEvent.setEventName('BX.Main.grid:rowDragMove');\n\t\t\t\t\t\tthis.dragEvent.setTargetItem(this.targetItem);\n\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragMove', [this.dragEvent, this.parent]);\n\t\t\t\t\t\tthis.checkError(this.dragEvent);\n\t\t\t\t\t\tthis.updateProperties(this.dragItem, this.targetItem);\n\t\t\t\t\t\tthis.isDragetToTop = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isDragToBottom(current, index) && !this.isMovedToBottom(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetItem = this.findNextVisible(this.list, index);\n\t\t\t\t\t\tthis.moveRow(current, -this.offset);\n\t\t\t\t\t\tthis.dragEvent.setEventName('BX.Main.grid:rowDragMove');\n\t\t\t\t\t\tthis.dragEvent.setTargetItem(this.targetItem);\n\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragMove', [this.dragEvent, this.parent]);\n\t\t\t\t\t\tthis.checkError(this.dragEvent);\n\t\t\t\t\t\tthis.updateProperties(this.dragItem, this.targetItem);\n\t\t\t\t\t\tthis.isDragetToTop = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isDragToBack(current, index) && this.isMoved(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.moveRow(current, defaultOffset);\n\t\t\t\t\t\tthis.targetItem = current;\n\n\t\t\t\t\t\tif (this.isDragetToTop)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.targetItem = this.findNextVisible(this.list, index);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.dragEvent.setEventName('BX.Main.grid:rowDragMove');\n\t\t\t\t\t\tthis.dragEvent.setTargetItem(this.targetItem);\n\n\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragMove', [this.dragEvent, this.parent]);\n\t\t\t\t\t\tthis.checkError(this.dragEvent);\n\t\t\t\t\t\tthis.updateProperties(this.dragItem, this.targetItem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\n\t\tcreateError: function(target, message)\n\t\t{\n\t\t\tvar error = BX.decl({\n\t\t\t\tblock: 'main-grid-error',\n\t\t\t\tcontent: !!message ? message : ''\n\t\t\t});\n\n\t\t\t!!target && target.appendChild(error);\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tBX.addClass(error, 'main-grid-error-show');\n\t\t\t}, 0);\n\n\t\t\treturn error;\n\t\t},\n\n\t\tcheckError: function(event)\n\t\t{\n\t\t\tif (!event.isAllowedMove() && !this.error)\n\t\t\t{\n\t\t\t\tthis.error = this.createError(this.fake, event.getErrorMessage());\n\t\t\t}\n\n\t\t\tif (event.isAllowedMove() && this.error)\n\t\t\t{\n\t\t\t\tBX.remove(this.error);\n\t\t\t\tthis.error = null;\n\t\t\t}\n\t\t},\n\n\t\tfindNextVisible: function(list, index)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tvar Rows = this.parent.getRows();\n\n\t\t\tlist.forEach(function(item, currentIndex) {\n\t\t\t\tif (!result && currentIndex > index)\n\t\t\t\t{\n\t\t\t\t\tvar row = Rows.get(item);\n\t\t\t\t\tif (row.isShown())\n\t\t\t\t\t{\n\t\t\t\t\t\tresult = item;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\n\t\t/**\n\t\t * Updates row properties\n\t\t * @param {?HTMLTableRowElement} dragItem\n\t\t * @param {?HTMLTableRowElement} targetItem\n\t\t */\n\t\tupdateProperties: function(dragItem, targetItem)\n\t\t{\n\t\t\tvar Rows = this.parent.getRows();\n\t\t\tvar dragRow = Rows.get(dragItem);\n\t\t\tvar depth = 0;\n\t\t\tvar parentId = 0;\n\n\t\t\tif (!!targetItem)\n\t\t\t{\n\t\t\t\tvar targetRow = Rows.get(targetItem);\n\t\t\t\tdepth = targetRow.getDepth();\n\t\t\t\tparentId = targetRow.getParentId();\n\t\t\t}\n\n\t\t\tdragRow.setDepth(depth);\n\t\t\tdragRow.setParentId(parentId);\n\n\t\t\tthis.cloneDragItem.setDepth(depth);\n\t\t\tthis.cloneDragAdditionalDragItemRows.forEach(function(row, index) {\n\t\t\t\trow.setDepth(BX.data(this.additionalDragItems[index], 'depth'));\n\t\t\t}, this);\n\t\t},\n\n\n\t\tresetDragProperties: function()\n\t\t{\n\t\t\tvar dragRow = this.parent.getRows().get(this.dragItem);\n\t\t\tdragRow.setDepth(this.startDragDepth);\n\t\t\tdragRow.setParentId(this.startDragParentId);\n\t\t},\n\n\t\t_onDragOver: function() {},\n\n\t\t_onDragLeave: function() {},\n\n\t\t_onDragEnd: function()\n\t\t{\n\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragEnd', [this.dragEvent, this.parent]);\n\n\t\t\tBX.removeClass(this.parent.getContainer(), this.parent.settings.get('classOnDrag'));\n\t\t\tBX.removeClass(this.dragItem, this.parent.settings.get('classDragActive'));\n\n\t\t\tBX.Grid.Utils.styleForEach(this.list, {'transition': '', 'transform': ''});\n\n\t\t\tif (this.dragEvent.isAllowedMove())\n\t\t\t{\n\t\t\t\tthis.sortRows(this.dragItem, this.targetItem);\n\t\t\t\tthis.sortAdditionalDragItems(this.dragItem, this.additionalDragItems);\n\n\t\t\t\tthis.list = this.getList();\n\t\t\t\tthis.parent.getRows().reset();\n\n\t\t\t\tvar dragItem = this.parent.getRows().get(this.dragItem);\n\t\t\t\tvar ids = this.parent.getRows().getBodyChild().map(function(row) {\n\t\t\t\t\treturn row.getId();\n\t\t\t\t});\n\n\t\t\t\tthis.saveRowsSort(ids);\n\t\t\t\tBX.onCustomEvent(window, 'Grid::rowMoved', [ids, dragItem, this.parent]);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.resetDragProperties();\n\t\t\t}\n\n\t\t\tBX.remove(this.fake);\n\n\t\t\tthis.setDefaultProps();\n\t\t},\n\n\t\tsortAdditionalDragItems: function(dragItem, additional)\n\t\t{\n\t\t\tadditional.reduce(function(prev, current) {\n\t\t\t\t!!current && BX.insertAfter(current, prev);\n\t\t\t\treturn current;\n\t\t\t}, dragItem);\n\t\t},\n\n\t\tsortRows: function(current, target)\n\t\t{\n\t\t\tif (!!target)\n\t\t\t{\n\t\t\t\ttarget.parentNode.insertBefore(current, target);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcurrent.parentNode.appendChild(current);\n\t\t\t}\n\t\t},\n\n\t\tsaveRowsSort: function(rows)\n\t\t{\n\t\t\tvar data = {\n\t\t\t\tids: rows,\n\t\t\t\taction: this.parent.getUserOptions().getAction('GRID_SAVE_ROWS_SORT')\n\t\t\t};\n\n\t\t\tthis.parent.getData().request(null, 'POST', data);\n\t\t},\n\n\t\tsetDefaultProps: function()\n\t\t{\n\t\t\tthis.dragItem = null;\n\t\t\tthis.targetItem = null;\n\t\t\tthis.dragRect = null;\n\t\t\tthis.dragIndex = null;\n\t\t\tthis.offset = null;\n\t\t\tthis.realX = null;\n\t\t\tthis.realY = null;\n\t\t\tthis.dragStartOffset = null;\n\t\t\tthis.windowScrollTop = null;\n\t\t\tthis.rowsRectList = null;\n\t\t\tthis.error = false;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.Settings\n\t * @constructor\n\t */\n\tBX.Grid.Settings = function()\n\t{\n\t\tthis.settings = {};\n\t\tthis.defaultSettings = {\n\t\t\tclassContainer: 'main-grid',\n\t\t\tclassWrapper: 'main-grid-wrapper',\n\t\t\tclassTable: 'main-grid-table',\n\t\t\tclassScrollContainer: 'main-grid-container',\n\t\t\tclassFadeContainer: 'main-grid-fade',\n\t\t\tclassFadeContainerRight: 'main-grid-fade-right',\n\t\t\tclassFadeContainerLeft: 'main-grid-fade-left',\n\t\t\tclassNavPanel: 'main-grid-nav-panel',\n\t\t\tclassActionPanel: 'main-grid-action-panel',\n\t\t\tclassCursor: 'main-grid-cursor',\n\t\t\tclassRowCustom: 'main-grid-row-custom',\n\t\t\tclassMoreButton: 'main-grid-more-btn',\n\t\t\tclassRow: 'main-grid-row',\n\t\t\tclassHeadRow: 'main-grid-row-head',\n\t\t\tclassBodyRow: 'main-grid-row-body',\n\t\t\tclassFootRow: 'main-grid-row-foot',\n\t\t\tclassDataRows: 'main-grid-row-data',\n\t\t\tclassPanels: 'main-grid-bottom-panels',\n\t\t\tclassCellHeadContainer: 'main-grid-cell-head-container',\n\t\t\tclassCellHeadOndrag: 'main-grid-cell-head-ondrag',\n\t\t\tclassEmptyRows: 'main-grid-row-empty',\n\t\t\tclassEmptyBlock: 'main-grid-empty-block',\n\t\t\tclassCheckAllCheckboxes: 'main-grid-check-all',\n\t\t\tclassCheckedRow: 'main-grid-row-checked',\n\t\t\tclassRowCheckbox: 'main-grid-row-checkbox',\n\t\t\tclassPagination: 'main-grid-panel-cell-pagination',\n\t\t\tclassActionCol: 'main-grid-cell-action',\n\t\t\tclassCounterDisplayed: 'main-grid-counter-displayed',\n\t\t\tclassCounterSelected: 'main-grid-counter-selected',\n\t\t\tclassCounterTotal: 'main-grid-panel-total',\n\t\t\tclassTableFade: 'main-grid-table-fade',\n\t\t\tclassDragActive: 'main-grid-on-row-drag',\n\t\t\tclassResizeButton: 'main-grid-resize-button',\n\t\t\tclassOnDrag: 'main-grid-ondrag',\n\t\t\tclassDisableDrag: 'main-grid-row-drag-disabled',\n\t\t\tclassPanelCellContent: 'main-grid-panel-content',\n\t\t\tclassCollapseButton: 'main-grid-plus-button',\n\t\t\tclassRowStateLoad: 'main-grid-load-row',\n\t\t\tclassRowStateExpand: 'main-grid-row-expand',\n\t\t\tclassHeaderSortable: 'main-grid-col-sortable',\n\t\t\tclassHeaderNoSortable: 'main-grid-col-no-sortable',\n\t\t\tclassCellStatic: 'main-grid-cell-static',\n\t\t\tclassHeadCell: 'main-grid-cell-head',\n\t\t\tclassPageSize: 'main-grid-panel-select-pagesize',\n\t\t\tclassGroupEditButton: 'main-grid-control-panel-action-edit',\n\t\t\tclassGroupDeleteButton: 'main-grid-control-panel-action-remove',\n\t\t\tclassGroupActionsDisabled: 'main-grid-control-panel-action-icon-disable',\n\t\t\tclassPanelButton: 'main-grid-buttons',\n\t\t\tclassPanelApplyButton: 'main-grid-control-panel-apply-button',\n\t\t\tclassPanelCheckbox: 'main-grid-panel-checkbox',\n\t\t\tclassEditor: 'main-grid-editor',\n\t\t\tclassEditorContainer: 'main-grid-editor-container',\n\t\t\tclassEditorText: 'main-grid-editor-text',\n\t\t\tclassEditorDate: 'main-grid-editor-date',\n\t\t\tclassEditorNumber: 'main-grid-editor-number',\n\t\t\tclassEditorRange: 'main-grid-editor-range',\n\t\t\tclassEditorCheckbox: 'main-grid-editor-checkbox',\n\t\t\tclassEditorTextarea: 'main-grid-editor-textarea',\n\t\t\tclassEditorCustom: 'main-grid-editor-custom',\n\t\t\tclassCellContainer: 'main-grid-cell-content',\n\t\t\tclassEditorOutput: 'main-grid-editor-output',\n\t\t\tclassSettingsWindow: 'main-grid-settings-window',\n\t\t\tclassSettingsWindowColumn: 'main-grid-settings-window-list-item',\n\t\t\tclassSettingsWindowColumnLabel: 'main-grid-settings-window-list-item-label',\n\t\t\tclassSettingsWindowColumnEditState: 'main-grid-settings-window-list-item-edit',\n\t\t\tclassSettingsWindowColumnEditInput: 'main-grid-settings-window-list-item-edit-input',\n\t\t\tclassSettingsWindowColumnEditButton: 'main-grid-settings-window-list-item-edit-button',\n\t\t\tclassSettingsWindowColumnCheckbox: 'main-grid-settings-window-list-item-checkbox',\n\t\t\tclassSettingsWindowShow: 'main-grid-settings-window-show',\n\t\t\tclassSettingsWindowSelectAll: 'main-grid-settings-window-select-all',\n\t\t\tclassSettingsWindowUnselectAll: 'main-grid-settings-window-unselect-all',\n\t\t\tclassSettingsButton: 'main-grid-interface-settings-icon',\n\t\t\tclassSettingsButtonActive: 'main-grid-interface-settings-icon-active',\n\t\t\tclassSettingsWindowClose: 'main-grid-settings-window-actions-item-close',\n\t\t\tclassSettingsWindowReset: 'main-grid-settings-window-actions-item-reset',\n\t\t\tclassSettingsWindowColumnChecked: 'main-grid-settings-window-list-item-checked',\n\t\t\tclassShowAnimation: 'main-grid-show-popup-animation',\n\t\t\tclassCloseAnimation: 'main-grid-close-popup-animation',\n\t\t\tclassLoader: 'main-grid-loader-container',\n\t\t\tclassLoaderShow: 'main-grid-show-loader',\n\t\t\tclassLoaderHide: 'main-grid-hide-loader',\n\t\t\tclassRowError: 'main-grid-error',\n\t\t\tloaderHideAnimationName: 'hideLoader',\n\t\t\tclassHide: 'main-grid-hide',\n\t\t\tclassEar: 'main-grid-ear',\n\t\t\tclassEarLeft: 'main-grid-ear-left',\n\t\t\tclassEarRight: 'main-grid-ear-right',\n\t\t\tclassNotCount: 'main-grid-not-count',\n\t\t\tclassCounter: 'main-grid-panel-counter',\n\t\t\tclassForAllCounterEnabled: 'main-grid-panel-counter-for-all-enable',\n\t\t\tclassLoad: 'load',\n\t\t\tclassRowActionButton: 'main-grid-row-action-button',\n\t\t\tclassDropdown: 'main-dropdown',\n\t\t\tclassPanelControl: 'main-grid-panel-control',\n\t\t\tclassPanelControlContainer: 'main-grid-panel-control-container',\n\t\t\tclassForAllCheckbox: 'main-grid-for-all-checkbox',\n\t\t\tclassDisable: 'main-grid-disable',\n\t\t\tdataActionsKey: 'actions',\n\t\t\tupdateActionMore: 'more',\n\t\t\tclassShow: 'show',\n\t\t\tclassGridShow: 'main-grid-show',\n\t\t\tupdateActionPagination: 'pagination',\n\t\t\tupdateActionSort: 'sort',\n\t\t\tajaxIdDataProp: 'ajaxid',\n\t\t\tpageSizeId: 'grid_page_size',\n\t\t\tsortableRows: true,\n\t\t\tsortableColumns: true,\n\t\t\tanimationDuration: 300\n\t\t};\n\t\tthis.prepare();\n\t};\n\n\n\tBX.Grid.Settings.prototype = {\n\t\tprepare: function()\n\t\t{\n\t\t\tthis.settings = this.defaultSettings;\n\t\t},\n\n\t\tgetDefault: function()\n\t\t{\n\t\t\treturn this.defaultSettings;\n\t\t},\n\n\t\tget: function(name)\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = (this.getDefault())[name];\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetList: function()\n\t\t{\n\t\t\treturn this.getDefault();\n\t\t}\n\t};\n})();\n",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.SettingsWindow = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.popupItems = null;\n\t\tthis.items = null;\n\t\tthis.popup = null;\n\t\tthis.sourceContent = null;\n\t\tthis.applyButton = null;\n\t\tthis.resetButton = null;\n\t\tthis.cancelButton = null;\n\t\tthis.init(parent);\n\t\tBX.onCustomEvent(window, 'BX.Grid.SettingsWindow:init', [this]);\n\t};\n\n\n\tBX.Grid.SettingsWindow.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tBX.bind(this.parent.getContainer(), 'click', BX.proxy(this._onContainerClick, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::columnMoved', BX.proxy(this._onColumnMoved, this));\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.unbind(this.parent.getContainer(), 'click', BX.proxy(this._onContainerClick, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::columnMoved', BX.proxy(this._onColumnMoved, this));\n\t\t\tthis.getPopup().close();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets select all button\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetSelectAllButton: function()\n\t\t{\n\t\t\tif (!this.selectAllButton)\n\t\t\t{\n\t\t\t\tthis.selectAllButton = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.getPopup().contentContainer,\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindowSelectAll'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.selectAllButton;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets unselect all button\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetUnselectAllButton: function()\n\t\t{\n\t\t\tif (!this.unselectAllButton)\n\t\t\t{\n\t\t\t\tthis.unselectAllButton = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.getPopup().contentContainer,\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindowUnselectAll'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.unselectAllButton;\n\t\t},\n\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\treset: function()\n\t\t{\n\t\t\tthis.popupItems = null;\n\t\t\tthis.allColumns = null;\n\t\t\tthis.items = null;\n\t\t},\n\n\n\t\t_onContainerClick: function(event)\n\t\t{\n\t\t\tif (BX.hasClass(event.target, this.parent.settings.get('classSettingsButton')))\n\t\t\t{\n\t\t\t\tthis._onSettingsButtonClick(event);\n\t\t\t}\n\t\t},\n\n\t\t_onSettingsButtonClick: function()\n\t\t{\n\t\t\tBX.onCustomEvent(window, 'BX.Grid.SettingsWindow:show', [this]);\n\t\t\tthis.getPopup().show();\n\t\t},\n\n\n\t\tfetchColumns: function()\n\t\t{\n\t\t\tvar promise = new BX.Promise();\n\n\t\t\tBX.ajax({\n\t\t\t\turl: this.parent.getParam(\"LAZY_LOAD\")[\"GET_LIST\"],\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tdataType: \"json\",\n\t\t\t\tonsuccess: promise.fulfill.bind(promise)\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t},\n\n\n\t\tprepareColumnOptions: function(options)\n\t\t{\n\t\t\tvar customNames = this.parent.getUserOptions().getCurrentOptions().custom_names;\n\n\t\t\tif (BX.type.isPlainObject(options))\n\t\t\t{\n\t\t\t\tif (BX.type.isPlainObject(customNames))\n\t\t\t\t{\n\t\t\t\t\tif (options.id in customNames)\n\t\t\t\t\t{\n\t\t\t\t\t\toptions.name = customNames[options.id];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.parent.getColumnHeaderCellByName(options.id))\n\t\t\t\t{\n\t\t\t\t\toptions.selected = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn options;\n\t\t},\n\n\n\t\t/**\n\t\t * Creates column element\n\t\t * @param {{id: string, name: string}} options\n\t\t * @return {HTMLElement}\n\t\t */\n\t\tcreateColumnElement: function(options)\n\t\t{\n\t\t\tvar html = \"<div data-name=\\\"\"+options.id+\"\\\" class=\\\"main-grid-settings-window-list-item\\\">\" +\n\t\t\t\t\"<input id=\\\"\"+options.id+\"-checkbox\\\" type=\\\"checkbox\\\" class=\\\"main-grid-settings-window-list-item-checkbox\\\"\"+(options.selected ? \" checked\" : \"\")+\">\" +\n\t\t\t\t\"<label for=\\\"\"+options.id+\"-checkbox\\\" class=\\\"main-grid-settings-window-list-item-label\\\">\"+options.name+\"</label>\" +\n\t\t\t\t\"<span class=\\\"main-grid-settings-window-list-item-edit-button\\\"></span>\" +\n\t\t\t\"</div>\";\n\n\t\t\treturn BX.create(\"div\", {html: html}).firstElementChild;\n\t\t},\n\n\n\t\tuseLazyLoadColumns: function()\n\t\t{\n\t\t\treturn !!this.parent.getParam(\"LAZY_LOAD\");\n\t\t},\n\n\n\t\t/**\n\t\t * @private\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetSourceContent: function()\n\t\t{\n\t\t\tif (!this.sourceContent)\n\t\t\t{\n\t\t\t\tthis.sourceContent = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.parent.getContainer(),\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindow'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\n\t\t\t\tif (this.useLazyLoadColumns())\n\t\t\t\t{\n\t\t\t\t\t// Clear columns list\n\t\t\t\t\tthis.contentList = this.sourceContent.querySelector(\".main-grid-settings-window-list\");\n\t\t\t\t\tthis.contentList.innerHTML = \"\";\n\n\t\t\t\t\t// Make and show loader\n\t\t\t\t\tvar loader = new BX.Loader({\n\t\t\t\t\t\ttarget: this.contentList\n\t\t\t\t\t});\n\n\t\t\t\t\tloader.show();\n\n\t\t\t\t\t// Fetch all columns list\n\t\t\t\t\tthis.fetchColumns()\n\t\t\t\t\t\t// Make list items\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tresponse.forEach(function(columnOptions) {\n\t\t\t\t\t\t\t\tcolumnOptions = this.prepareColumnOptions(columnOptions);\n\t\t\t\t\t\t\t\tthis.contentList.appendChild(this.createColumnElement(columnOptions));\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\t// Remove loader\n\t\t\t\t\t\t\tloader.hide().then(function() {\n\t\t\t\t\t\t\t\tloader.destroy();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t// Reset cached items\n\t\t\t\t\t\t\tthis.reset();\n\n\t\t\t\t\t\t\t// Init new item\n\t\t\t\t\t\t\tthis.getItems().forEach(function(item) {\n\t\t\t\t\t\t\t\tBX.bind(item.getNode(), 'click', BX.delegate(this.onItemClick, this));\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\tthis.fixedFooter = BX.create(\"div\", {\n\t\t\t\t\t\t\t\tprops: {className: \"main-grid-popup-window-buttons-wrapper\"},\n\t\t\t\t\t\t\t\tchildren: [this.sourceContent.querySelector(\".popup-window-buttons\")]\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tthis.popup.popupContainer.appendChild(this.fixedFooter);\n\t\t\t\t\t\t\t\tthis.fixedFooter.style.width = this.popup.popupContainer.clientWidth + \"px\";\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.sourceContent;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup items of columns\n\t\t * @return {?HTMLElement[]}\n\t\t */\n\t\tgetPopupItems: function()\n\t\t{\n\t\t\tvar popupContainer;\n\n\t\t\tif (!this.popupItems)\n\t\t\t{\n\t\t\t\tpopupContainer = this.getPopup().contentContainer;\n\t\t\t\tthis.popupItems = BX.Grid.Utils.getByClass(popupContainer, this.parent.settings.get('classSettingsWindowColumn'));\n\t\t\t}\n\n\t\t\treturn this.popupItems;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets selected columns ids\n\t\t * @return {string[]}\n\t\t */\n\t\tgetSelectedColumns: function()\n\t\t{\n\t\t\tvar columns = [];\n\n\t\t\tthis.getItems().forEach(function(column) {\n\t\t\t\tcolumn.isSelected() && columns.push(column.getId());\n\t\t\t});\n\n\t\t\treturn columns;\n\t\t},\n\n\n\t\t/**\n\t\t * Restores columns to default state\n\t\t */\n\t\trestoreColumns: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(column) {\n\t\t\t\tcolumn.restore();\n\t\t\t});\n\n\t\t\tthis.sortItems();\n\t\t\tthis.reset();\n\t\t},\n\n\n\t\t/**\n\t\t * Restores columns to saved state\n\t\t */\n\t\trestoreLastColumns: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(current) {\n\t\t\t\tcurrent.restoreState();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Updates columns state\n\t\t */\n\t\tupdateColumnsState: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(current) {\n\t\t\t\tcurrent.updateState();\n\t\t\t});\n\t\t},\n\n\t\tgetStickedColumns: function()\n\t\t{\n\t\t\treturn this.getItems().reduce(function(accumulator, item) {\n\t\t\t\tif (item.isSticked())\n\t\t\t\t{\n\t\t\t\t\taccumulator.push(item.getId());\n\t\t\t\t}\n\n\t\t\t\treturn accumulator;\n\t\t\t}, []);\n\t\t},\n\n\t\t/**\n\t\t * Saves columns settings\n\t\t * @param {string[]} columns - ids\n\t\t * @param {?function} callback\n\t\t */\n\t\tsaveColumns: function(columns, callback)\n\t\t{\n\t\t\tvar options = this.parent.getUserOptions();\n\t\t\tvar columnNames = this.getColumnNames();\n\t\t\tvar stickedColumns = this.getStickedColumns();\n\t\t\tvar batch = [];\n\n\t\t\tbatch.push({\n\t\t\t\taction: options.getAction('GRID_SET_COLUMNS'),\n\t\t\t\tcolumns: columns.join(',')\n\t\t\t});\n\n\t\t\tbatch.push({\n\t\t\t\taction: options.getAction('SET_CUSTOM_NAMES'),\n\t\t\t\tcustom_names: columnNames\n\t\t\t});\n\n\t\t\tbatch.push({\n\t\t\t\taction: options.getAction('GRID_SET_STICKED_COLUMNS'),\n\t\t\t\tstickedColumns: stickedColumns\n\t\t\t});\n\n\t\t\tif (this.isForAll())\n\t\t\t{\n\t\t\t\tbatch.push({\n\t\t\t\t\taction: options.getAction('GRID_SAVE_SETTINGS'),\n\t\t\t\t\tview_id: 'default',\n\t\t\t\t\tset_default_settings: 'Y',\n\t\t\t\t\tdelete_user_settings: 'Y'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\toptions.batch(batch, BX.delegate(function() {\n\t\t\t\tthis.parent.reloadTable(null, null, callback);\n\t\t\t}, this));\n\n\t\t\tthis.updateColumnsState();\n\t\t},\n\n\n\t\t/**\n\t\t * Disables edit for all columns\n\t\t */\n\t\tdisableAllColumnslabelEdit: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(column) {\n\t\t\t\tcolumn.disableEdit();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Gets all columns ids\n\t\t * @return {string[]}\n\t\t */\n\t\tgetAllColumns: function()\n\t\t{\n\t\t\tif (!this.allColumns)\n\t\t\t{\n\t\t\t\tthis.allColumns = this.getItems().map(function(column) {\n\t\t\t\t\treturn column.getId();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.allColumns;\n\t\t},\n\n\t\tisShowedColumn: function(columnName)\n\t\t{\n\t\t\treturn this.getSelectedColumns().some(function(name) {\n\t\t\t\treturn name === columnName;\n\t\t\t});\n\t\t},\n\n\t\tgetShowedColumns: function()\n\t\t{\n\t\t\tvar result = [];\n\t\t\tvar cells = this.parent.getRows().getHeadFirstChild().getCells();\n\n\t\t\t[].slice.call(cells).forEach(function(column) {\n\t\t\t\tif (\"name\" in column.dataset)\n\t\t\t\t{\n\t\t\t\t\tresult.push(column.dataset.name);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\tsortItems: function()\n\t\t{\n\t\t\tvar showedColumns = this.getShowedColumns();\n\t\t\tvar allColumns = {};\n\n\t\t\tthis.getAllColumns().forEach(function(name) {\n\t\t\t\tallColumns[name] = name;\n\t\t\t}, this);\n\n\t\t\tvar counter = 0;\n\t\t\tObject.keys(allColumns).forEach(function(name) {\n\t\t\t\tif (this.isShowedColumn(name))\n\t\t\t\t{\n\t\t\t\t\tallColumns[name] = showedColumns[counter];\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\n\t\t\t\tvar current = this.getColumnByName(allColumns[name]);\n\t\t\t\tcurrent && current.parentNode.appendChild(current);\n\t\t\t}, this);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets current columns names\n\t\t * @return {object}\n\t\t */\n\t\tgetColumnNames: function()\n\t\t{\n\t\t\tvar names = {};\n\t\t\tthis.getItems().map(function(column) {\n\t\t\t\tif (column.isEdited())\n\t\t\t\t{\n\t\t\t\t\tnames[column.getId()] = column.getTitle();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn names;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column node by name\n\t\t * @param {string} name\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetColumnByName: function(name)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(\n\t\t\t\tthis.getPopup().popupContainer,\n\t\t\t\t'.' + this.parent.settings.get('classSettingsWindowColumn') + '[data-name=\"'+name+'\"]',\n\t\t\t\ttrue\n\t\t\t);\n\t\t},\n\n\t\t_onColumnMoved: function()\n\t\t{\n\t\t\tthis.sortItems();\n\t\t\tthis.reset();\n\t\t},\n\n\n\t\tonResetButtonClick: function()\n\t\t{\n\t\t\tthis.parent.confirmDialog(\n\t\t\t\t{\n\t\t\t\t\tCONFIRM: true,\n\t\t\t\t\tCONFIRM_MESSAGE: this.parent.arParams.CONFIRM_RESET_MESSAGE\n\t\t\t\t},\n\t\t\t\tBX.delegate(function() {\n\t\t\t\t\tthis.enableWait(this.getApplyButton());\n\n\t\t\t\t\tthis.parent.getUserOptions().reset(this.isForAll(), BX.delegate(function() {\n\t\t\t\t\t\tthis.parent.reloadTable(null, null, BX.delegate(function() {\n\t\t\t\t\t\t\tthis.restoreColumns();\n\t\t\t\t\t\t\tthis.disableWait(this.getApplyButton());\n\t\t\t\t\t\t\tthis.getPopup().close();\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t}, this));\n\t\t\t\t}, this)\n\t\t\t);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets reset button id\n\t\t * @return {string}\n\t\t */\n\t\tgetResetButtonId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-grid-settings-reset-button';\n\t\t},\n\n\n\t\tonApplyButtonClick: function()\n\t\t{\n\t\t\tthis.parent.confirmDialog(\n\t\t\t\t{\n\t\t\t\t\tCONFIRM: this.isForAll(),\n\t\t\t\t\tCONFIRM_MESSAGE: this.parent.getParam('SETTINGS_FOR_ALL_CONFIRM_MESSAGE')\n\t\t\t\t},\n\t\t\t\tBX.delegate(function() {\n\t\t\t\t\tthis.enableWait(this.getApplyButton());\n\t\t\t\t\tthis.saveColumns(this.getSelectedColumns(), BX.delegate(function() {\n\t\t\t\t\t\tthis.getPopup().close();\n\t\t\t\t\t\tthis.disableWait(this.getApplyButton());\n\t\t\t\t\t\tthis.unselectForAllCheckbox();\n\t\t\t\t\t}, this));\n\t\t\t\t\tBX.onCustomEvent(window, 'BX.Grid.SettingsWindow:save', [this]);\n\t\t\t\t}, this),\n\t\t\t\tBX.delegate(function() {\n\t\t\t\t\tthis.unselectForAllCheckbox();\n\t\t\t\t}, this)\n\t\t\t);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets apply button id\n\t\t * @return {string}\n\t\t */\n\t\tgetApplyButtonId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-grid-settings-apply-button';\n\t\t},\n\n\n\t\t/**\n\t\t * Gets apply button\n\t\t * @return {HTMLElement}\n\t\t */\n\t\tgetApplyButton: function()\n\t\t{\n\t\t\tif (this.applyButton === null)\n\t\t\t{\n\t\t\t\tthis.applyButton = BX(this.getApplyButtonId());\n\t\t\t}\n\n\t\t\treturn this.applyButton;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets cancel button id\n\t\t * @return {string}\n\t\t */\n\t\tgetCancelButtonId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-grid-settings-cancel-button';\n\t\t},\n\n\n\t\t/**\n\t\t * Gets cancel button\n\t\t * @return {HTMLElement}\n\t\t */\n\t\tgetCancelButton: function()\n\t\t{\n\t\t\tif (this.cancelButton === null)\n\t\t\t{\n\t\t\t\tthis.cancelButton = BX(this.getCancelButtonId());\n\t\t\t}\n\n\t\t\treturn this.cancelButton;\n\t\t},\n\n\n\t\t/**\n\t\t * Unselect for all checkbox\n\t\t */\n\t\tunselectForAllCheckbox: function()\n\t\t{\n\t\t\tvar checkbox = this.getForAllCheckbox();\n\t\t\tcheckbox && (checkbox.checked = null);\n\t\t},\n\n\n\t\t/**\n\t\t * Enables wait animation for button\n\t\t * @param {HTMLElement} buttonNode\n\t\t */\n\t\tenableWait: function(buttonNode)\n\t\t{\n\t\t\tBX.addClass(buttonNode, 'webform-small-button-wait');\n\t\t\tBX.removeClass(buttonNode, 'popup-window-button');\n\t\t},\n\n\n\t\t/**\n\t\t * Disables wait animation for button\n\t\t * @param {HTMLElement} buttonNode\n\t\t */\n\t\tdisableWait: function(buttonNode)\n\t\t{\n\t\t\tBX.removeClass(buttonNode, 'webform-small-button-wait');\n\t\t\tBX.addClass(buttonNode, 'popup-window-button');\n\t\t},\n\n\n\t\t/**\n\t\t * Creates title of settings popup window\n\t\t * @return {string}\n\t\t */\n\t\tcreateTitle: function()\n\t\t{\n\t\t\tvar gridsCount = BX.Main.gridManager.data.length;\n\n\t\t\tif (gridsCount === 1)\n\t\t\t{\n\t\t\t\tvar tmpDiv = BX.create('div');\n\t\t\t\tvar pageTitleNode = BX('pagetitle');\n\t\t\t\tvar pageTitle = !!pageTitleNode ? '&laquo;'+pageTitleNode.innerText+'&raquo;' : '';\n\t\t\t\ttmpDiv.innerHTML = '<span>'+this.parent.getParam('SETTINGS_TITLE')+' '+pageTitle+'</span>';\n\t\t\t\treturn tmpDiv.firstChild.innerText;\n\t\t\t}\n\n\t\t\treturn this.parent.getParam('SETTINGS_TITLE');\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup id\n\t\t * @return {string}\n\t\t */\n\t\tgetPopupId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-grid-settings-window';\n\t\t},\n\n\n\t\t/**\n\t\t * Creates grid settings popup window\n\t\t * @return {BX.PopupWindow}\n\t\t */\n\t\tcreatePopup: function()\n\t\t{\n\t\t\tif (!this.popup)\n\t\t\t{\n\t\t\t\tthis.popup = new BX.PopupWindow(\n\t\t\t\t\tthis.getPopupId(),\n\t\t\t\t\tnull,\n\t\t\t\t\t{\n\t\t\t\t\t\ttitleBar: this.createTitle(),\n\t\t\t\t\t\tautoHide: false,\n\t\t\t\t\t\toverlay: 0.6,\n\t\t\t\t\t\twidth: 1000,\n\t\t\t\t\t\tcloseIcon: true,\n\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\tcontentNoPaddings: true,\n\t\t\t\t\t\tcontent: this.getSourceContent(),\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonPopupClose: BX.delegate(this.onPopupClose, this)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tthis.getItems().forEach(function(item) {\n\t\t\t\t\tBX.bind(item.getNode(), 'click', BX.delegate(this.onItemClick, this));\n\t\t\t\t}, this);\n\n\t\t\t\tBX.bind(this.getResetButton(), 'click', BX.proxy(this.onResetButtonClick, this));\n\t\t\t\tBX.bind(this.getApplyButton(), 'click', BX.proxy(this.onApplyButtonClick, this));\n\t\t\t\tBX.bind(this.getCancelButton(), 'click', BX.proxy(this.popup.close, this.popup));\n\t\t\t\tBX.bind(this.getSelectAllButton(), 'click', BX.delegate(this.onSelectAll, this));\n\t\t\t\tBX.bind(this.getUnselectAllButton(), 'click', BX.delegate(this.onUnselectAll, this));\n\t\t\t}\n\n\t\t\treturn this.popup;\n\t\t},\n\n\t\tonItemClick: function()\n\t\t{\n\t\t\tthis.adjustActionButtonsState();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets columns collection\n\t\t * @return {BX.Grid.SettingsWindowColumn[]}\n\t\t */\n\t\tgetItems: function()\n\t\t{\n\t\t\tif (this.items === null)\n\t\t\t{\n\t\t\t\tthis.items = this.getPopupItems().map(function(current) {\n\t\t\t\t\treturn new BX.Grid.SettingsWindowColumn(this.parent, current);\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\treturn this.items;\n\t\t},\n\n\t\tonPopupClose: function()\n\t\t{\n\t\t\tBX.onCustomEvent(window, 'BX.Grid.SettingsWindow:close', [this]);\n\t\t\tthis.restoreLastColumns();\n\t\t\tthis.disableAllColumnslabelEdit();\n\t\t\tthis.adjustActionButtonsState();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup window\n\t\t * @return {BX.PopupWindow}\n\t\t */\n\t\tgetPopup: function()\n\t\t{\n\t\t\treturn !!this.popup ? this.popup : this.popup = this.createPopup();\n\t\t},\n\n\t\tonSelectAll: function()\n\t\t{\n\t\t\tthis.selectAll();\n\t\t\tthis.enableActions();\n\t\t},\n\n\t\tonUnselectAll: function()\n\t\t{\n\t\t\tthis.unselectAll();\n\t\t\tthis.disableActions();\n\t\t},\n\n\t\t/**\n\t\t * Select all columns\n\t\t */\n\t\tselectAll: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(column) { column.select(); });\n\t\t},\n\n\n\t\t/**\n\t\t * Unselect all columns\n\t\t */\n\t\tunselectAll: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(column) { column.unselect(); });\n\t\t},\n\n\n\t\tisForAll: function()\n\t\t{\n\t\t\tvar checkbox = this.getForAllCheckbox();\n\t\t\treturn checkbox && !!checkbox.checked;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets for all checkbox\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetForAllCheckbox: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPopup().popupContainer, 'main-grid-settings-window-for-all-checkbox', true);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets reset button\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetResetButton: function()\n\t\t{\n\t\t\tif (this.resetButton === null)\n\t\t\t{\n\t\t\t\tthis.resetButton = BX(this.getResetButtonId());\n\t\t\t}\n\n\t\t\treturn this.resetButton;\n\t\t},\n\n\t\tdisableActions: function()\n\t\t{\n\t\t\tvar applyButton = this.getApplyButton();\n\n\t\t\tif (!!applyButton)\n\t\t\t{\n\t\t\t\tBX.addClass(applyButton, this.parent.settings.get('classDisable'));\n\t\t\t}\n\t\t},\n\n\t\tenableActions: function()\n\t\t{\n\t\t\tvar applyButton = this.getApplyButton();\n\n\t\t\tif (!!applyButton)\n\t\t\t{\n\t\t\t\tBX.removeClass(applyButton, this.parent.settings.get('classDisable'));\n\t\t\t}\n\t\t},\n\n\t\tadjustActionButtonsState: function()\n\t\t{\n\t\t\tif (this.getSelectedColumns().length)\n\t\t\t{\n\t\t\t\tthis.enableActions();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.disableActions();\n\t\t\t}\n\t\t}\n\t};\n\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * @param {BX.Main.grid} parent\n\t * @param {HTMLElement} node\n\t * @constructor\n\t */\n\tBX.Grid.SettingsWindowColumn = function(parent, node)\n\t{\n\t\tthis.node = null;\n\t\tthis.label = null;\n\t\tthis.checkbox = null;\n\t\tthis.editButton = null;\n\t\tthis.settings = null;\n\t\tthis.parent = null;\n\t\tthis.default = null;\n\t\tthis.defaultTitle = null;\n\t\tthis.state = null;\n\t\tthis.lastTitle = null;\n\t\tthis.init(parent, node);\n\t};\n\n\tBX.Grid.SettingsWindowColumn.inited = {};\n\n\tBX.Grid.SettingsWindowColumn.prototype = {\n\t\tinit: function(parent, node)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.node = node;\n\n\t\t\ttry {\n\t\t\t\tthis.lastTitle = node.querySelector(\"label\").innerText.trim();\n\t\t\t} catch (err) {}\n\n\t\t\tthis.updateState();\n\n\t\t\tif (!BX.Grid.SettingsWindowColumn.inited[this.getId()])\n\t\t\t{\n\t\t\t\tBX.Grid.SettingsWindowColumn.inited[this.getId()] = true;\n\t\t\t\tBX.bind(this.getEditButton(), 'click', BX.proxy(this.onEditButtonClick, this));\n\t\t\t\tBX.bind(this.getStickyButton(), 'click', BX.proxy(this.onStickyButtonClick, this));\n\t\t\t}\n\t\t},\n\n\t\tgetStickyButton: function()\n\t\t{\n\t\t\treturn this.node.querySelector(\".main-grid-settings-window-list-item-sticky-button\");\n\t\t},\n\n\t\tisSticked: function()\n\t\t{\n\t\t\treturn this.node.classList.contains(\"main-grid-settings-window-list-item-sticked\");\n\t\t},\n\n\t\tonStickyButtonClick: function()\n\t\t{\n\t\t\tif (this.isSticked())\n\t\t\t{\n\t\t\t\tthis.unstick();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.stick();\n\t\t\t}\n\t\t},\n\n\t\tstick: function()\n\t\t{\n\t\t\tthis.node.classList.add(\"main-grid-settings-window-list-item-sticked\");\n\t\t},\n\n\t\tunstick: function()\n\t\t{\n\t\t\tthis.node.classList.remove(\"main-grid-settings-window-list-item-sticked\");\n\t\t},\n\n\t\tonEditButtonClick: function(event)\n\t\t{\n\t\t\tevent.stopPropagation();\n\t\t\tthis.isEditEnabled() ? this.disableEdit() : this.enableEdit();\n\t\t},\n\n\n\t\t/**\n\t\t * @private\n\t\t * @param {object} state\n\t\t * @property {boolean} state.selected\n\t\t * @property {title} state.title\n\t\t */\n\t\tsetState: function(state)\n\t\t{\n\t\t\tthis.state = state;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets state of column\n\t\t * @return {object}\n\t\t */\n\t\tgetState: function()\n\t\t{\n\t\t\treturn this.state;\n\t\t},\n\n\n\t\t/**\n\t\t * Updates default state\n\t\t */\n\t\tupdateState: function()\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tselected: this.isSelected(),\n\t\t\t\tsticked: this.isSticked(),\n\t\t\t\ttitle: this.getTitle()\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Restores last state\n\t\t */\n\t\trestoreState: function()\n\t\t{\n\t\t\tvar state = this.getState();\n\n\t\t\tstate.selected ? this.select() : this.unselect();\n\t\t\tstate.sticked ? this.stick() : this.unstick();\n\t\t\tthis.setTitle(state.title);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column id\n\t\t * @return {string}\n\t\t */\n\t\tgetId: function()\n\t\t{\n\t\t\treturn this.getNode().dataset.name;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column title\n\t\t * @return {string}\n\t\t */\n\t\tgetTitle: function()\n\t\t{\n\t\t\treturn this.getLabel().innerText;\n\t\t},\n\n\n\t\t/**\n\t\t * Sets column title\n\t\t * @param {string} title\n\t\t */\n\t\tsetTitle: function(title)\n\t\t{\n\t\t\tthis.getLabel().innerText = !!title && title !== \"undefined\" ? title : this.getDefaultTitle();\n\t\t},\n\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisEdited: function()\n\t\t{\n\t\t\treturn this.getTitle() !== this.getDefaultTitle();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column settings\n\t\t * @return {?object}\n\t\t */\n\t\tgetSettings: function()\n\t\t{\n\t\t\tif (this.settings === null)\n\t\t\t{\n\t\t\t\tvar columns = this.parent.getParam('DEFAULT_COLUMNS');\n\t\t\t\tthis.settings = this.getId() in columns ? columns[this.getId()] : {};\n\t\t\t}\n\n\t\t\treturn this.settings;\n\t\t},\n\n\n\t\t/**\n\t\t * Checks column is default\n\t\t * @return {boolean}\n\t\t */\n\t\tisDefault: function()\n\t\t{\n\t\t\tif (this.default === null)\n\t\t\t{\n\t\t\t\tvar settings = this.getSettings();\n\t\t\t\tthis.default = 'default' in settings ? settings.default : false;\n\t\t\t}\n\n\t\t\treturn this.default;\n\t\t},\n\n\n\t\t/**\n\t\t * Restore column to default state\n\t\t */\n\t\trestore: function()\n\t\t{\n\t\t\tthis.isDefault() ? this.select() : this.unselect();\n\t\t\tthis.setTitle(this.getDefaultTitle());\n\t\t\tthis.node.dataset.stickedDefault === \"true\" ? this.stick() : this.unstick();\n\t\t\tthis.disableEdit();\n\t\t\tthis.updateState();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets default column title\n\t\t * @return {?string}\n\t\t */\n\t\tgetDefaultTitle: function()\n\t\t{\n\t\t\tif (this.defaultTitle === null)\n\t\t\t{\n\t\t\t\tvar settings = this.getSettings();\n\t\t\t\tthis.defaultTitle = 'name' in settings ? settings.name : this.lastTitle;\n\t\t\t}\n\n\t\t\treturn this.defaultTitle;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column node\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetNode: function()\n\t\t{\n\t\t\treturn this.node;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column label node\n\t\t * @return {?HTMLLabelElement}\n\t\t */\n\t\tgetLabel: function()\n\t\t{\n\t\t\tif (this.label === null)\n\t\t\t{\n\t\t\t\tthis.label = BX.Grid.Utils.getByTag(this.getNode(), 'label', true);\n\t\t\t}\n\n\t\t\treturn this.label;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column checkbox node\n\t\t * @return {?HTMLInputElement}\n\t\t */\n\t\tgetCheckbox: function()\n\t\t{\n\t\t\tif (this.checkbox === null)\n\t\t\t{\n\t\t\t\tthis.checkbox = BX.Grid.Utils.getBySelector(this.getNode(), 'input[type=\"checkbox\"]', true);\n\t\t\t}\n\n\t\t\treturn this.checkbox;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets edit button\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetEditButton: function()\n\t\t{\n\t\t\tif (this.editButton === null)\n\t\t\t{\n\t\t\t\tthis.editButton = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.getNode(),\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindowColumnEditButton'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.editButton;\n\t\t},\n\n\n\t\t/**\n\t\t * Enables edit mode\n\t\t */\n\t\tenableEdit: function()\n\t\t{\n\t\t\tthis.getLabel().contentEditable = true;\n\t\t\tthis.getCheckbox().disabled = true;\n\t\t\tthis.adjustCaret();\n\t\t},\n\n\n\t\t/**\n\t\t * Disables edit mode\n\t\t */\n\t\tdisableEdit: function()\n\t\t{\n\t\t\tthis.getLabel().contentEditable = false;\n\t\t\tthis.getCheckbox().disabled = false;\n\t\t},\n\n\n\t\t/**\n\t\t * Checks is edit enabled\n\t\t * @return {boolean}\n\t\t */\n\t\tisEditEnabled: function()\n\t\t{\n\t\t\treturn this.getLabel().isContentEditable;\n\t\t},\n\n\n\t\t/**\n\t\t * Checks column is active\n\t\t * @return {boolean}\n\t\t */\n\t\tisSelected: function()\n\t\t{\n\t\t\treturn this.getCheckbox().checked;\n\t\t},\n\n\n\t\t/**\n\t\t * Selects column\n\t\t */\n\t\tselect: function()\n\t\t{\n\t\t\tthis.getCheckbox().checked = true;\n\t\t},\n\n\n\t\t/**\n\t\t * Unselects column\n\t\t */\n\t\tunselect: function()\n\t\t{\n\t\t\tthis.getCheckbox().checked = false;\n\t\t},\n\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tadjustCaret: function()\n\t\t{\n\t\t\tvar range = document.createRange();\n\t\t\tvar selection = window.getSelection();\n\t\t\tvar elementTextLength = this.getLabel().innerText.length;\n\t\t\tvar textNodes = this.getLabel().childNodes;\n\t\t\tvar lastTextNode = textNodes[textNodes.length - 1];\n\n\t\t\trange.setStart(lastTextNode, elementTextLength);\n\t\t\trange.setEnd(lastTextNode, elementTextLength);\n\t\t\trange.collapse(true);\n\n\t\t\tselection.removeAllRanges();\n\t\t\tselection.addRange(range);\n\t\t\tBX.fireEvent(this.getNode(), 'focus');\n\t\t}\n\t};\n\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.UserOptions\n\t * @param {BX.Main.grid} parent\n\t * @param {Object} userOptions\n\t * @param {Object} userOptionsActions\n\t * @param {String} url\n\t * @constructor\n\t */\n\tBX.Grid.UserOptions = function(parent, userOptions, userOptionsActions, url)\n\t{\n\t\tthis.options = null;\n\t\tthis.actions = null;\n\t\tthis.parent = null;\n\t\tthis.url = null;\n\t\tthis.init(parent, userOptions, userOptionsActions, url);\n\t};\n\n\tBX.Grid.UserOptions.prototype = {\n\t\tinit: function(parent, userOptions, userOptionsActions, url)\n\t\t{\n\t\t\tthis.url = url;\n\t\t\tthis.parent = parent;\n\n\t\t\ttry {\n\t\t\t\tthis.options = eval(userOptions);\n\t\t\t} catch(err) {\n\t\t\t\tconsole.warn('BX.Grid.UserOptions.init: Failed parse user options json string');\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.actions = eval(userOptionsActions);\n\t\t\t} catch(err) {\n\t\t\t\tconsole.warn('BX.Grid.UserOptions.init: Failed parse user options actions json string');\n\t\t\t}\n\t\t},\n\n\t\tgetCurrentViewName: function()\n\t\t{\n\t\t\tvar options = this.getOptions();\n\n\t\t\treturn 'current_view' in options ? options.current_view : null;\n\t\t},\n\n\t\tgetViewsList: function()\n\t\t{\n\t\t\tvar options = this.getOptions();\n\n\t\t\treturn 'views' in options ? options.views : {};\n\t\t},\n\n\t\tgetCurrentOptions: function()\n\t\t{\n\t\t\tvar name = this.getCurrentViewName();\n\t\t\tvar views = this.getViewsList();\n\t\t\tvar result = null;\n\n\t\t\tif (name in views)\n\t\t\t{\n\t\t\t\tresult = views[name];\n\t\t\t}\n\n\t\t\tif (!BX.type.isPlainObject(result))\n\t\t\t{\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetUrl: function(action)\n\t\t{\n\t\t\treturn BX.util.add_url_param(this.url, {\n\t\t\t\tGRID_ID: this.parent.getContainerId(),\n\t\t\t\tbxajaxid: this.parent.getAjaxId(),\n\t\t\t\taction: action\n\t\t\t});\n\t\t},\n\n\t\tgetOptions: function()\n\t\t{\n\t\t\treturn this.options || {};\n\t\t},\n\n\t\tgetActions: function()\n\t\t{\n\t\t\treturn this.actions;\n\t\t},\n\n\t\tgetAction: function(name)\n\t\t{\n\t\t\tvar action = null;\n\n\t\t\ttry {\n\t\t\t\taction = this.getActions()[name];\n\t\t\t} catch (err) {\n\t\t\t\taction = null;\n\t\t\t}\n\n\t\t\treturn action;\n\t\t},\n\n\t\tupdate: function(newOptions)\n\t\t{\n\t\t\tthis.options = newOptions;\n\t\t},\n\n\t\tsetColumns: function(columns, callback)\n\t\t{\n\t\t\tvar options = this.getCurrentOptions();\n\n\t\t\tif (BX.type.isPlainObject(options))\n\t\t\t{\n\t\t\t\toptions.columns = columns.join(',');\n\n\t\t\t\tthis.save(this.getAction('GRID_SET_COLUMNS'), {columns: options.columns}, callback);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tsetColumnsNames: function(columns, callback)\n\t\t{\n\t\t\tvar options = {view_id: 'default'};\n\n\t\t\tif (BX.type.isPlainObject(options))\n\t\t\t{\n\t\t\t\toptions.custom_names = columns;\n\n\t\t\t\tthis.save(this.getAction('SET_CUSTOM_NAMES'), options, callback);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tsetColumnSizes: function(sizes, expand)\n\t\t{\n\t\t\tthis.save(this.getAction('GRID_SET_COLUMN_SIZES'), {sizes: sizes, expand: expand});\n\t\t},\n\n\t\treset: function(forAll, callback)\n\t\t{\n\t\t\tvar data = {};\n\n\t\t\tif (!!forAll)\n\t\t\t{\n\t\t\t\tdata = {\n\t\t\t\t\tview_id: 'default',\n\t\t\t\t\tset_default_settings: 'Y',\n\t\t\t\t\tdelete_user_settings: 'Y',\n\t\t\t\t\tview_settings: this.getCurrentOptions()\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.save(this.getAction('GRID_RESET'), data, callback);\n\t\t},\n\n\t\tsetSort: function(by, order, callback)\n\t\t{\n\t\t\tif (by && order)\n\t\t\t{\n\t\t\t\tthis.save(this.getAction('GRID_SET_SORT'), {by: by, order: order}, callback);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tsetPageSize: function(pageSize, callback)\n\t\t{\n\t\t\tif (BX.type.isNumber(parseInt(pageSize)))\n\t\t\t{\n\t\t\t\tthis.save(this.getAction('GRID_SET_PAGE_SIZE'), {pageSize: pageSize}, callback);\n\t\t\t}\n\t\t},\n\n\t\tsetExpandedRows: function(ids, callback)\n\t\t{\n\t\t\tBX.type.isArray(ids) && this.save(this.getAction('GRID_SET_EXPANDED_ROWS'), {ids: ids}, callback);\n\t\t},\n\n\t\tsetCollapsedGroups: function(ids, callback)\n\t\t{\n\t\t\tBX.type.isArray(ids) && this.save(this.getAction('GRID_SET_COLLAPSED_GROUPS'), {ids: ids}, callback);\n\t\t},\n\n\t\tresetExpandedRows: function()\n\t\t{\n\t\t\tthis.save(this.getAction('GRID_RESET_EXPANDED_ROWS'), {});\n\t\t},\n\n\t\tsaveForAll: function(callback)\n\t\t{\n\t\t\tthis.save(\n\t\t\t\tthis.getAction('GRID_SAVE_SETTINGS'),\n\t\t\t\t{\n\t\t\t\t\tview_id: 'default',\n\t\t\t\t\tset_default_settings: 'Y',\n\t\t\t\t\tdelete_user_settings: 'Y',\n\t\t\t\t\tview_settings: this.getCurrentOptions()\n\t\t\t\t},\n\t\t\t\tcallback\n\t\t\t);\n\t\t},\n\n\t\tbatch: function(data, callback)\n\t\t{\n\t\t\tthis.save(this.getAction('GRID_SAVE_BATH'), {bath: data}, callback);\n\t\t},\n\n\t\tsave: function(action, data, callback)\n\t\t{\n\t\t\tvar self = this;\n\t\t\tBX.ajax.post(\n\t\t\t\tthis.getUrl(action),\n\t\t\t\tdata,\n\t\t\t\tfunction(res)\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\tres = JSON.parse(res);\n\t\t\t\t\t\tif (!res.error)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.update(res);\n\t\t\t\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcallback(res);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tBX.onCustomEvent(self.parent.getContainer(), 'Grid::optionsChanged', [self.parent]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.Utils = {\n\t\t/**\n\t\t * Prepares url for ajax request\n\t\t * @param {string} url\n\t\t * @param {string} ajaxId Bitrix ajax id\n\t\t * @returns {string} Prepares ajax url with ajax id\n\t\t */\n\t\tajaxUrl: function(url, ajaxId)\n\t\t{\n\t\t\treturn this.addUrlParams(url, {'bxajaxid': ajaxId});\n\t\t},\n\n\t\taddUrlParams: function(url, params)\n\t\t{\n\t\t\treturn BX.util.add_url_param(url, params);\n\t\t},\n\n\t\t/**\n\t\t * Moves array item currentIndex to newIndex\n\t\t * @param {array} array\n\t\t * @param {int} currentIndex\n\t\t * @param {int} newIndex\n\t\t * @returns {*}\n\t\t */\n\t\tarrayMove: function(array, currentIndex, newIndex)\n\t\t{\n\t\t\tif (newIndex >= array.length)\n\t\t\t{\n\t\t\t\tvar k = newIndex - array.length;\n\t\t\t\twhile ((k--) + 1)\n\t\t\t\t{\n\t\t\t\t\tarray.push(undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t\tarray.splice(newIndex, 0, array.splice(currentIndex, 1)[0]);\n\n\t\t\treturn array;\n\t\t},\n\n\t\t/**\n\t\t * Gets item index in array or HTMLCollection\n\t\t * @param {array|HTMLCollection} collection\n\t\t * @param {*} item\n\t\t * @returns {number}\n\t\t */\n\t\tgetIndex: function(collection, item)\n\t\t{\n\t\t\treturn [].indexOf.call((collection || []), item);\n\t\t},\n\n\t\t/**\n\t\t * Gets nextElementSibling\n\t\t * @param {Element} currentItem\n\t\t * @returns {Element|null}\n\t\t */\n\t\tgetNext: function(currentItem)\n\t\t{\n\t\t\tif (currentItem) { return currentItem.nextElementSibling || null; }\n\t\t},\n\n\t\t/**\n\t\t * Gets previousElementSibling\n\t\t * @param {Element} currentItem\n\t\t * @returns {Element|null}\n\t\t */\n\t\tgetPrev: function(currentItem)\n\t\t{\n\t\t\tif (currentItem) { return currentItem.previousElementSibling || null; }\n\t\t},\n\n\t\t/**\n\t\t * Gets closest parent element of node\n\t\t * @param {Node} item\n\t\t * @param {string} [className]\n\t\t * @returns {*|null|Node}\n\t\t */\n\t\tclosestParent: function(item, className)\n\t\t{\n\t\t\tif (item)\n\t\t\t{\n\t\t\t\tif (!className)\n\t\t\t\t{\n\t\t\t\t\treturn item.parentNode || null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn BX.findParent(\n\t\t\t\t\t\titem,\n\t\t\t\t\t\t{className: className}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets closest childs of node\n\t\t * @param item\n\t\t * @returns {Array|null}\n\t\t */\n\t\tclosestChilds: function(item)\n\t\t{\n\t\t\tif (item) { return item.children || null; }\n\t\t},\n\n\t\t/**\n\t\t * Sorts collection\n\t\t * @param current\n\t\t * @param target\n\t\t */\n\t\tcollectionSort: function(current, target)\n\t\t{\n\t\t\tvar root, collection, collectionLength, currentIndex, targetIndex;\n\n\t\t\tif (current && target && current !== target && current.parentNode === target.parentNode)\n\t\t\t{\n\t\t\t\troot = this.closestParent(target);\n\t\t\t\tcollection = this.closestChilds(root);\n\t\t\t\tcollectionLength = collection.length;\n\t\t\t\tcurrentIndex = this.getIndex(collection, current);\n\t\t\t\ttargetIndex = this.getIndex(collection, target);\n\n\t\t\t\tif (collectionLength === targetIndex) {\n\t\t\t\t\troot.appendChild(target);\n\t\t\t\t}\n\n\t\t\t\tif (currentIndex > targetIndex) {\n\t\t\t\t\troot.insertBefore(current, target);\n\t\t\t\t}\n\n\t\t\t\tif (currentIndex < targetIndex && collectionLength !== targetIndex)\n\t\t\t\t{\n\t\t\t\t\troot.insertBefore(current, this.getNext(target));\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t * Gets table collumn\n\t\t * @param table\n\t\t * @param cell\n\t\t * @returns {Array}\n\t\t */\n\t\tgetColumn: function(table, cell)\n\t\t{\n\t\t\tvar currentIndex = this.getIndex(\n\t\t\t\tthis.closestChilds(this.closestParent(cell)),\n\t\t\t\tcell\n\t\t\t);\n\t\t\tvar column = [];\n\n\t\t\t[].forEach.call(table.rows, function(current) {\n\t\t\t\tcolumn.push(current.cells[currentIndex]);\n\t\t\t});\n\n\t\t\treturn column;\n\t\t},\n\n\t\t/**\n\t\t * Sets style properties and values for each item in collection\n\t\t * @param {HTMLElement[]|HTMLCollection} collection\n\t\t * @param {object} properties\n\t\t */\n\t\tstyleForEach: function(collection, properties)\n\t\t{\n\t\t\tproperties = BX.type.isPlainObject(properties) ? properties : null;\n\t\t\tvar keys = Object.keys(properties);\n\n\t\t\t[].forEach.call((collection || []), function(current) {\n\t\t\t\tkeys.forEach(function(propKey) {\n\t\t\t\t\tBX.style(current, propKey, properties[propKey]);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\trequestAnimationFrame: function()\n\t\t{\n\t\t\tvar raf = (\n\t\t\t\twindow.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\tfunction(callback){ window.setTimeout(callback, 1000/60) }\n\t\t\t);\n\n\t\t\traf.apply(window, arguments);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets elements by class name\n\t\t * @param rootElement\n\t\t * @param className\n\t\t * @param first\n\t\t * @returns {Array|null}\n\t\t */\n\t\tgetByClass: function(rootElement, className, first)\n\t\t{\n\t\t\tvar result = [];\n\n\t\t\tif (className)\n\t\t\t{\n\t\t\t\tresult = rootElement ? rootElement.getElementsByClassName(className) : [];\n\n\t\t\t\tif (first)\n\t\t\t\t{\n\t\t\t\t\tresult = result.length ? result[0] : null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = [].slice.call(result);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetByTag: function(rootElement, tag, first)\n\t\t{\n\t\t\tvar result = [];\n\n\t\t\tif (tag)\n\t\t\t{\n\t\t\t\tresult = rootElement ? rootElement.getElementsByTagName(tag) : [];\n\n\t\t\t\tif (first)\n\t\t\t\t{\n\t\t\t\t\tresult = result.length ? result[0] : null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = [].slice.call(result);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetBySelector: function(rootElement, selector, first)\n\t\t{\n\t\t\tvar result = [];\n\n\t\t\tif (selector)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t{\n\t\t\t\t\tresult = rootElement ? rootElement.querySelector(selector) : null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = rootElement ? rootElement.querySelectorAll(selector) : [];\n\t\t\t\t\tresult = [].slice.call(result);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tlistenerParams: function(params)\n\t\t{\n\t\t\ttry {\n\t\t\t\twindow.addEventListener('test', null, params);\n\t\t\t} catch (e) {\n\t\t\t\tparams = false;\n\t\t\t}\n\n\t\t\treturn params;\n\t\t}\n\t};\n})();",";(function() {\n\t\"use strict\";\n\n\tBX.namespace('BX.Main');\n\n\t/**\n\t * @event Grid::ready\n\t * @event Grid::columnMoved\n\t * @event Grid::rowMoved\n\t * @event Grid::pageSizeChanged\n\t * @event Grid::optionsUpdated\n\t * @event Grid::dataSorted\n\t * @event Grid::thereSelectedRows\n\t * @event Grid::allRowsSelected\n\t * @event Grid::allRowsUnselected\n\t * @event Grid::noSelectedRows\n\t * @event Grid::updated\n\t * @event Grid::headerPinned\n\t * @event Grid::headerUnpinned\n\t * @event Grid::beforeRequest\n\t * @param {string} containerId\n\t * @param {object} arParams\n\t * @param {boolean} arParams.ALLOW_COLUMNS_SORT\n\t * @param {boolean} arParams.ALLOW_ROWS_SORT\n\t * @param {boolean} arParams.ALLOW_COLUMNS_RESIZE\n\t * @param {boolean} arParams.SHOW_ROW_CHECKBOXES\n\t * @param {boolean} arParams.ALLOW_HORIZONTAL_SCROLL\n\t * @param {boolean} arParams.ALLOW_PIN_HEADER\n\t * @param {boolean} arParams.SHOW_ACTION_PANEL\n\t * @param {boolean} arParams.PRESERVE_HISTORY\n\t * @param {boolean} arParams.BACKEND_URL\n\t * @param {boolean} arParams.ALLOW_CONTEXT_MENU\n\t * @param {object} arParams.DEFAULT_COLUMNS\n\t * @param {boolean} arParams.ENABLE_COLLAPSIBLE_ROWS\n\t * @param {object} arParams.EDITABLE_DATA\n\t * @param {string} arParams.SETTINGS_TITLE\n\t * @param {string} arParams.APPLY_SETTINGS\n\t * @param {string} arParams.CANCEL_SETTINGS\n\t * @param {string} arParams.CONFIRM_APPLY\n\t * @param {string} arParams.CONFIRM_CANCEL\n\t * @param {string} arParams.CONFIRM_MESSAGE\n\t * @param {string} arParams.CONFIRM_FOR_ALL_MESSAGE\n\t * @param {string} arParams.CONFIRM_RESET_MESSAGE\n\t * @param {string} arParams.RESET_DEFAULT\n\t * @param {object} userOptions\n\t * @param {object} userOptionsActions\n\t * @param {object} userOptionsHandlerUrl\n\t * @param {object} panelActions\n\t * @param {object} panelTypes\n\t * @param {object} editorTypes\n\t * @param {object} messageTypes\n\t * @constructor\n\t */\n\tBX.Main.grid = function(\n\t\tcontainerId,\n\t\tarParams,\n\t\tuserOptions,\n\t\tuserOptionsActions,\n\t\tuserOptionsHandlerUrl,\n\t\tpanelActions,\n\t\tpanelTypes,\n\t\teditorTypes,\n\t\tmessageTypes\n\t)\n\t{\n\t\tthis.settings = null;\n\t\tthis.containerId = '';\n\t\tthis.container = null;\n\t\tthis.wrapper = null;\n\t\tthis.fadeContainer = null;\n\t\tthis.scrollContainer = null;\n\t\tthis.pagination = null;\n\t\tthis.moreButton = null;\n\t\tthis.table = null;\n\t\tthis.rows = null;\n\t\tthis.history = false;\n\t\tthis.userOptions = null;\n\t\tthis.checkAll = null;\n\t\tthis.sortable = null;\n\t\tthis.updater = null;\n\t\tthis.data = null;\n\t\tthis.fader = null;\n\t\tthis.editor = null;\n\t\tthis.isEditMode = null;\n\t\tthis.pinHeader = null;\n\t\tthis.pinPanel = null;\n\t\tthis.arParams = null;\n\t\tthis.resize = null;\n\n\t\tthis.init(\n\t\t\tcontainerId,\n\t\t\tarParams,\n\t\t\tuserOptions,\n\t\t\tuserOptionsActions,\n\t\t\tuserOptionsHandlerUrl,\n\t\t\tpanelActions,\n\t\t\tpanelTypes,\n\t\t\teditorTypes,\n\t\t\tmessageTypes\n\t\t);\n\t};\n\n\tBX.Main.grid.isNeedResourcesReady = function(container)\n\t{\n\t\treturn BX.hasClass(container, 'main-grid-load-animation');\n\t};\n\n\tBX.Main.grid.prototype = {\n\t\tinit: function(containerId, arParams, userOptions, userOptionsActions, userOptionsHandlerUrl, panelActions, panelTypes, editorTypes, messageTypes)\n\t\t{\n\t\t\tthis.baseUrl = window.location.pathname + window.location.search;\n\t\t\tthis.container = BX(containerId);\n\n\t\t\tif (!BX.type.isNotEmptyString(containerId))\n\t\t\t{\n\t\t\t\tthrow 'BX.Main.grid.init: parameter containerId is empty';\n\t\t\t}\n\n\t\t\tif (BX.type.isPlainObject(arParams))\n\t\t\t{\n\t\t\t\tthis.arParams = arParams;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow new Error('BX.Main.grid.init: arParams isn\\'t object');\n\t\t\t}\n\n\t\t\tthis.settings = new BX.Grid.Settings();\n\t\t\tthis.containerId = containerId;\n\t\t\tthis.userOptions = new BX.Grid.UserOptions(this, userOptions, userOptionsActions, userOptionsHandlerUrl);\n\t\t\tthis.gridSettings = new BX.Grid.SettingsWindow(this);\n\t\t\tthis.messages = new BX.Grid.Message(this, messageTypes);\n\n\t\t\tif (this.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.pinHeader = new BX.Grid.PinHeader(this);\n\t\t\t\tBX.addCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this.bindOnCheckAll, this));\n\t\t\t}\n\n\t\t\tthis.bindOnCheckAll();\n\n\t\t\tif (this.getParam('ALLOW_HORIZONTAL_SCROLL'))\n\t\t\t{\n\t\t\t\tthis.fader = new BX.Grid.Fader(this);\n\t\t\t}\n\n\t\t\tthis.pageSize = new BX.Grid.Pagesize(this);\n\t\t\tthis.editor = new BX.Grid.InlineEditor(this, editorTypes);\n\n\t\t\tif (this.getParam('SHOW_ACTION_PANEL'))\n\t\t\t{\n\t\t\t\tthis.actionPanel = new BX.Grid.ActionPanel(this, panelActions, panelTypes);\n\t\t\t\tthis.pinPanel = new BX.Grid.PinPanel(this);\n\t\t\t}\n\n\t\t\tthis.isEditMode = false;\n\n\t\t\tif (!BX.type.isDomNode(this.getContainer()))\n\t\t\t{\n\t\t\t\tthrow 'BX.Main.grid.init: Failed to find container with id ' + this.getContainerId();\n\t\t\t}\n\n\t\t\tif (!BX.type.isDomNode(this.getTable()))\n\t\t\t{\n\t\t\t\tthrow 'BX.Main.grid.init: Failed to find table';\n\t\t\t}\n\n\t\t\tthis.bindOnRowEvents();\n\n\t\t\tif (this.getParam('ALLOW_COLUMNS_RESIZE'))\n\t\t\t{\n\t\t\t\tthis.resize = new BX.Grid.Resize(this);\n\t\t\t}\n\n\t\t\tthis.bindOnMoreButtonEvents();\n\t\t\tthis.bindOnClickPaginationLinks();\n\t\t\tthis.bindOnClickHeader();\n\n\t\t\tif (this.getParam('ALLOW_ROWS_SORT'))\n\t\t\t{\n\t\t\t\tthis.initRowsDragAndDrop();\n\t\t\t}\n\n\t\t\tif (this.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t{\n\t\t\t\tthis.initColsDragAndDrop();\n\t\t\t}\n\n\t\t\tthis.getRows().initSelected();\n\t\t\tthis.adjustEmptyTable(this.getRows().getSourceBodyChild());\n\t\t\tBX.onCustomEvent(this.getContainer(), 'Grid::ready', [this]);\n\t\t\tBX.addCustomEvent(window, 'Grid::unselectRow', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::unselectRows', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::allRowsUnselected', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::updated', BX.proxy(this._onGridUpdated, this));\n\t\t\twindow.frames[this.getFrameId()].onresize = BX.throttle(this._onFrameResize, 20, this);\n\n\t\t\tif (this.getParam('ALLOW_STICKED_COLUMNS'))\n\t\t\t{\n\t\t\t\tthis.initStickedColumns();\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent(window, 'Grid::unselectRow', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::unselectRows', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::allRowsUnselected', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::headerPinned', BX.proxy(this.bindOnCheckAll, this));\n\t\t\tthis.getPinHeader() && this.getPinHeader().destroy();\n\t\t\tthis.getFader() && this.getFader().destroy();\n\t\t\tthis.getResize() && this.getResize().destroy();\n\t\t\tthis.getColsSortable() && this.getColsSortable().destroy();\n\t\t\tthis.getRowsSortable() && this.getRowsSortable().destroy();\n\t\t\tthis.getSettingsWindow() && this.getSettingsWindow().destroy();\n\t\t},\n\n\t\t_onFrameResize: function()\n\t\t{\n\t\t\tBX.onCustomEvent(window, 'Grid::resize', [this]);\n\t\t},\n\n\t\t_onGridUpdated: function()\n\t\t{\n\t\t\tthis.initStickedColumns();\n\t\t\tthis.adjustFadePosition(this.getFadeOffset());\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t * @return {string}\n\t\t */\n\t\tgetFrameId: function()\n\t\t{\n\t\t\treturn \"main-grid-tmp-frame-\"+this.getContainerId();\n\t\t},\n\n\t\tenableActionsPanel: function()\n\t\t{\n\t\t\tif (this.getParam('SHOW_ACTION_PANEL'))\n\t\t\t{\n\t\t\t\tvar panel = this.getActionsPanel().getPanel();\n\n\t\t\t\tif (BX.type.isDomNode(panel))\n\t\t\t\t{\n\t\t\t\t\tBX.removeClass(panel, this.settings.get('classDisable'));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdisableActionsPanel: function()\n\t\t{\n\t\t\tif (this.getParam('SHOW_ACTION_PANEL'))\n\t\t\t{\n\t\t\t\tvar panel = this.getActionsPanel().getPanel();\n\n\t\t\t\tif (BX.type.isDomNode(panel))\n\t\t\t\t{\n\t\t\t\t\tBX.addClass(panel, this.settings.get('classDisable'));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSettingsWindow: function()\n\t\t{\n\t\t\treturn this.gridSettings;\n\t\t},\n\n\t\t_onUnselectRows: function()\n\t\t{\n\t\t\tvar panel = this.getActionsPanel();\n\t\t\tvar checkbox;\n\n\t\t\tif (panel instanceof BX.Grid.ActionPanel)\n\t\t\t{\n\t\t\t\tcheckbox = panel.getForAllCheckbox();\n\n\t\t\t\tif (BX.type.isDomNode(checkbox))\n\t\t\t\t{\n\t\t\t\t\tcheckbox.checked = null;\n\t\t\t\t\tthis.disableForAllCounter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.adjustCheckAllCheckboxes();\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisIE: function()\n\t\t{\n\t\t\tif (!BX.type.isBoolean(this.ie))\n\t\t\t{\n\t\t\t\tthis.ie = BX.hasClass(document.documentElement, 'bx-ie');\n\t\t\t}\n\n\t\t\treturn this.ie;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisTouch: function()\n\t\t{\n\t\t\tif (!BX.type.isBoolean(this.touch))\n\t\t\t{\n\t\t\t\tthis.touch = BX.hasClass(document.documentElement, 'bx-touch');\n\t\t\t}\n\n\t\t\treturn this.touch;\n\t\t},\n\n\n\t\t/**\n\t\t * @param {string} paramName\n\t\t * @param {*} [defaultValue]\n\t\t * @return {*}\n\t\t */\n\t\tgetParam: function(paramName, defaultValue)\n\t\t{\n\t\t\tif(defaultValue === undefined)\n\t\t\t{\n\t\t\t\tdefaultValue = null;\n\t\t\t}\n\t\t\treturn (this.arParams.hasOwnProperty(paramName) ? this.arParams[paramName] : defaultValue);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetCounterTotal: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCounterTotal'), true);\n\t\t},\n\n\t\tgetActionKey: function()\n\t\t{\n\t\t\treturn ('action_button_' + this.getId());\n\t\t},\n\n\n\t\t/**\n\t\t * @return {?BX.Grid.PinHeader}\n\t\t */\n\t\tgetPinHeader: function()\n\t\t{\n\t\t\tif (this.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.pinHeader = this.pinHeader || new BX.Grid.PinHeader(this);\n\t\t\t}\n\n\t\t\treturn this.pinHeader;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Resize}\n\t\t */\n\t\tgetResize: function()\n\t\t{\n\t\t\tif (!(this.resize instanceof BX.Grid.Resize) && this.getParam('ALLOW_COLUMNS_RESIZE'))\n\t\t\t{\n\t\t\t\tthis.resize = new BX.Grid.Resize(this);\n\t\t\t}\n\n\t\t\treturn this.resize;\n\t\t},\n\n\t\tconfirmForAll: function(container)\n\t\t{\n\t\t\tvar checkbox;\n\t\t\tvar self = this;\n\n\t\t\tif (BX.type.isDomNode(container))\n\t\t\t{\n\t\t\t\tcheckbox = BX.Grid.Utils.getByTag(container, 'input', true);\n\t\t\t}\n\n\t\t\tif (checkbox.checked)\n\t\t\t{\n\t\t\t\tthis.getActionsPanel().confirmDialog(\n\t\t\t\t\t{CONFIRM: true, CONFIRM_MESSAGE: this.arParams.CONFIRM_FOR_ALL_MESSAGE},\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tif (BX.type.isDomNode(checkbox))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcheckbox.checked = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.selectAllCheckAllCheckboxes();\n\t\t\t\t\t\tself.getRows().selectAll();\n\t\t\t\t\t\tself.enableForAllCounter();\n\t\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\t\tself.enableActionsPanel();\n\t\t\t\t\t\tself.adjustCheckAllCheckboxes();\n\t\t\t\t\t\tself.lastRowAction = null;\n\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::allRowsSelected', []);\n\t\t\t\t\t},\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tif (BX.type.isDomNode(checkbox))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcheckbox.checked = null;\n\t\t\t\t\t\t\tself.disableForAllCounter();\n\t\t\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\t\t\tself.adjustCheckAllCheckboxes();\n\t\t\t\t\t\t\tself.lastRowAction = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t\tthis.adjustCheckAllCheckboxes();\n\t\t\t\tthis.getRows().unselectAll();\n\t\t\t\tthis.disableForAllCounter();\n\t\t\t\tthis.updateCounterDisplayed();\n\t\t\t\tthis.updateCounterSelected();\n\t\t\t\tthis.disableActionsPanel();\n\t\t\t\tBX.onCustomEvent(window, 'Grid::allRowsUnselected', []);\n\t\t\t}\n\t\t},\n\n\t\tdisableCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(checkbox) {\n\t\t\t\tcheckbox.getNode().disabled = true;\n\t\t\t});\n\t\t},\n\n\t\tenableCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(checkbox) {\n\t\t\t\tcheckbox.getNode().disabled = false;\n\t\t\t});\n\t\t},\n\n\t\tindeterminateCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(checkbox) {\n\t\t\t\tcheckbox.getNode().indeterminate = true;\n\t\t\t});\n\t\t},\n\n\t\tdeterminateCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(checkbox) {\n\t\t\t\tcheckbox.getNode().indeterminate = false;\n\t\t\t});\n\t\t},\n\n\t\teditSelected: function()\n\t\t{\n\t\t\tthis.disableCheckAllCheckboxes();\n\t\t\tthis.getRows().editSelected();\n\n\t\t\tif (this.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.getPinHeader()._onGridUpdate();\n\t\t\t}\n\t\t},\n\n\t\teditSelectedSave: function()\n\t\t{\n\t\t\tvar data = {'FIELDS': this.getRows().getEditSelectedValues()};\n\n\t\t\tif (this.getParam(\"ALLOW_VALIDATE\"))\n\t\t\t{\n\t\t\t\tthis.tableFade();\n\t\t\t\tdata[this.getActionKey()] = 'validate';\n\t\t\t\tthis.getData().request('', 'POST', data, 'validate', function(res) {\n\t\t\t\t\tres = JSON.parse(res);\n\n\t\t\t\t\tif (res.messages.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.arParams['MESSAGES'] = res.messages;\n\t\t\t\t\t\tthis.messages.show();\n\n\t\t\t\t\t\tvar editButton = this.getActionsPanel().getButtons()\n\t\t\t\t\t\t\t.find(function(button) {\n\t\t\t\t\t\t\t\treturn button.id === \"grid_edit_button_control\";\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.tableUnfade();\n\t\t\t\t\t\tBX.fireEvent(editButton, 'click');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdata[this.getActionKey()] = 'edit';\n\t\t\t\t\t\tthis.reloadTable('POST', data);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.getParam('HANDLE_RESPONSE_ERRORS'))\n\t\t\t{\n\t\t\t\tdata[this.getActionKey()] = 'edit';\n\n\t\t\t\tvar self = this;\n\t\t\t\tthis.tableFade();\n\n\t\t\t\tthis.getData().request(\n\t\t\t\t\t'',\n\t\t\t\t\t\"POST\",\n\t\t\t\t\tdata,\n\t\t\t\t\t'',\n\t\t\t\t\tfunction(res) {\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tres = JSON.parse(res);\n\t\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\t\tres = {messages: []};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.messages.length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.arParams['MESSAGES'] = res.messages;\n\t\t\t\t\t\t\tself.messages.show();\n\n\t\t\t\t\t\t\tvar editButton = self.getActionsPanel().getButtons()\n\t\t\t\t\t\t\t\t.find(function(button) {\n\t\t\t\t\t\t\t\t\treturn button.id === \"grid_edit_button_control\";\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tself.tableUnfade();\n\t\t\t\t\t\t\tBX.fireEvent(editButton, 'click');\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.getRows().reset();\n\t\t\t\t\t\tvar bodyRows = this.getBodyRows();\n\t\t\t\t\t\tself.getUpdater().updateHeadRows(this.getHeadRows());\n\t\t\t\t\t\tself.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\t\t\tself.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\t\t\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\t\t\tself.getUpdater().updateCounterTotal(this.getCounterTotal());\n\n\t\t\t\t\t\tself.adjustEmptyTable(bodyRows);\n\n\t\t\t\t\t\tself.bindOnRowEvents();\n\n\t\t\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\t\t\tself.bindOnClickHeader();\n\t\t\t\t\t\tself.bindOnCheckAll();\n\t\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\t\tself.disableActionsPanel();\n\t\t\t\t\t\tself.disableForAllCounter();\n\n\t\t\t\t\t\tif (self.getParam('SHOW_ACTION_PANEL'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.getUpdater().updateGroupActions(this.getActionPanel());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.tableUnfade();\n\n\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\t\t\t\t\t},\n\t\t\t\t\tfunction(res) {\n\t\t\t\t\t\tvar editButton = self.getActionsPanel().getButtons()\n\t\t\t\t\t\t\t.find(function(button) {\n\t\t\t\t\t\t\t\treturn button.id === \"grid_edit_button_control\";\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.tableUnfade();\n\t\t\t\t\t\tBX.fireEvent(editButton, 'click');\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdata[this.getActionKey()] = 'edit';\n\t\t\tthis.reloadTable('POST', data);\n\t\t},\n\n\t\tgetForAllKey: function()\n\t\t{\n\t\t\treturn 'action_all_rows_' + this.getId();\n\t\t},\n\n\t\tupdateRow: function(id, data, url, callback)\n\t\t{\n\t\t\tvar row = this.getRows().getById(id);\n\n\t\t\tif (row instanceof BX.Grid.Row)\n\t\t\t{\n\t\t\t\trow.update(data, url, callback);\n\t\t\t}\n\t\t},\n\n\t\tremoveRow: function(id, data, url, callback)\n\t\t{\n\t\t\tvar row = this.getRows().getById(id);\n\n\t\t\tif (row instanceof BX.Grid.Row)\n\t\t\t{\n\t\t\t\trow.remove(data, url, callback);\n\t\t\t}\n\t\t},\n\n\t\taddRow: function(data, url, callback)\n\t\t{\n\t\t\tvar action = this.getUserOptions().getAction('GRID_ADD_ROW');\n\t\t\tvar rowData = {action: action, data: data};\n\t\t\tvar self = this;\n\n\t\t\tthis.tableFade();\n\t\t\tthis.getData().request(url, 'POST', rowData, null, function() {\n\t\t\t\tvar bodyRows = this.getBodyRows();\n\t\t\t\tself.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\tself.tableUnfade();\n\t\t\t\tself.getRows().reset();\n\t\t\t\tself.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.getUpdater().updateCounterTotal(this.getCounterTotal());\n\t\t\t\tself.bindOnRowEvents();\n\t\t\t\tself.adjustEmptyTable(bodyRows);\n\n\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\tself.updateCounterSelected();\n\n\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::rowAdded', [{data: data, grid: self, response: this}]);\n\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\n\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t{\n\t\t\t\t\tcallback({data: data, grid: self, response: this});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\teditSelectedCancel: function()\n\t\t{\n\t\t\tthis.getRows().editSelectedCancel();\n\n\t\t\tif (this.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.getPinHeader()._onGridUpdate();\n\t\t\t}\n\t\t},\n\n\t\tremoveSelected: function()\n\t\t{\n\t\t\tvar data = { 'ID': this.getRows().getSelectedIds() };\n\t\t\tvar values = this.getActionsPanel().getValues();\n\t\t\tdata[this.getActionKey()] = 'delete';\n\t\t\tdata[this.getForAllKey()] = this.getForAllKey() in values ? values[this.getForAllKey()] : 'N';\n\t\t\tthis.reloadTable('POST', data);\n\t\t},\n\n\t\tsendSelected: function()\n\t\t{\n\t\t\tvar values = this.getActionsPanel().getValues();\n\t\t\tvar selectedRows = this.getRows().getSelectedIds();\n\t\t\tvar data = {\n\t\t\t\trows: selectedRows,\n\t\t\t\tcontrols: values\n\t\t\t};\n\n\t\t\tthis.reloadTable('POST', data);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {?BX.Grid.ActionPanel}\n\t\t */\n\t\tgetActionsPanel: function()\n\t\t{\n\t\t\treturn this.actionPanel;\n\t\t},\n\n\t\tgetApplyButton: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classPanelButton'), true);\n\t\t},\n\n\t\tgetEditor: function()\n\t\t{\n\t\t\treturn this.editor;\n\t\t},\n\n\t\treload: function(url)\n\t\t{\n\t\t\tthis.reloadTable(\"GET\", {}, null, url);\n\t\t},\n\n\t\tgetPanels: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classPanels'), true);\n\t\t},\n\n\t\tgetEmptyBlock: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classEmptyBlock'), true);\n\t\t},\n\n\t\tadjustEmptyTable: function(rows)\n\t\t{\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tfunction adjustEmptyBlockPosition(event) {\n\t\t\t\t\tvar target = event.currentTarget;\n\t\t\t\t\tBX.Grid.Utils.requestAnimationFrame(function() {\n\t\t\t\t\t\tBX.style(emptyBlock, 'transform', 'translate3d(' + BX.scrollLeft(target) + 'px, 0px, 0');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (!BX.hasClass(document.documentElement, 'bx-ie') &&\n\t\t\t\t\tBX.type.isArray(rows) && rows.length === 1 &&\n\t\t\t\t\tBX.hasClass(rows[0], this.settings.get('classEmptyRows')))\n\t\t\t\t{\n\t\t\t\t\tvar gridRect = BX.pos(this.getContainer());\n\t\t\t\t\tvar scrollBottom = BX.scrollTop(window) + BX.height(window);\n\t\t\t\t\tvar diff = gridRect.bottom - scrollBottom;\n\t\t\t\t\tvar panelsHeight = BX.height(this.getPanels());\n\t\t\t\t\tvar emptyBlock = this.getEmptyBlock();\n\t\t\t\t\tvar containerWidth = BX.width(this.getContainer());\n\n\t\t\t\t\tif (containerWidth)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.width(emptyBlock, containerWidth);\n\t\t\t\t\t}\n\n\t\t\t\t\tBX.style(emptyBlock, 'transform', 'translate3d(' + BX.scrollLeft(this.getScrollContainer()) + 'px, 0px, 0');\n\n\t\t\t\t\tBX.unbind(this.getScrollContainer(), 'scroll', adjustEmptyBlockPosition);\n\t\t\t\t\tBX.bind(this.getScrollContainer(), 'scroll', adjustEmptyBlockPosition);\n\n\t\t\t\t\tvar parent = this.getContainer();\n\t\t\t\t\tvar paddingOffset = 0;\n\n\t\t\t\t\twhile (parent = parent.parentElement)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar parentPaddingTop = parseFloat(BX.style(parent, \"padding-top\"));\n\t\t\t\t\t\tvar parentPaddingBottom = parseFloat(BX.style(parent, \"padding-bottom\"));\n\n\t\t\t\t\t\tif (!isNaN(parentPaddingTop))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpaddingOffset += parentPaddingTop;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!isNaN(parentPaddingBottom))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpaddingOffset += parentPaddingBottom;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (diff > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.style(this.getTable(), 'min-height', (gridRect.height - diff - panelsHeight - paddingOffset) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.style(this.getTable(), 'min-height', (gridRect.height + Math.abs(diff) - panelsHeight - paddingOffset) + 'px');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.style(this.getTable(), 'min-height', '');\n\n\t\t\t\t\t// Chrome hack for 0116845 bug. @todo refactoring\n\t\t\t\t\tBX.style(this.getTable(), 'height', '1px');\n\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\tBX.style(this.getTable(), 'height', '1px');\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\n\t\treloadTable: function(method, data, callback, url)\n\t\t{\n\t\t\tvar bodyRows;\n\n\t\t\tif(!BX.type.isNotEmptyString(method))\n\t\t\t{\n\t\t\t\tmethod = \"GET\";\n\t\t\t}\n\n\t\t\tif(!BX.type.isPlainObject(data))\n\t\t\t{\n\t\t\t\tdata = {};\n\t\t\t}\n\n\t\t\tvar self = this;\n\t\t\tthis.tableFade();\n\n\t\t\tif(!BX.type.isString(url))\n\t\t\t{\n\t\t\t\turl = \"\";\n\t\t\t}\n\n\t\t\tthis.getData().request(url, method, data, '', function() {\n\t\t\t\tself.getRows().reset();\n\t\t\t\tbodyRows = this.getBodyRows();\n\t\t\t\tself.getUpdater().updateHeadRows(this.getHeadRows());\n\t\t\t\tself.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\tself.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.getUpdater().updateCounterTotal(this.getCounterTotal());\n\n\t\t\t\tself.adjustEmptyTable(bodyRows);\n\n\t\t\t\tself.bindOnRowEvents();\n\n\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\tself.bindOnClickHeader();\n\t\t\t\tself.bindOnCheckAll();\n\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\tself.updateCounterSelected();\n\t\t\t\tself.disableActionsPanel();\n\t\t\t\tself.disableForAllCounter();\n\n\t\t\t\tif (self.getParam('SHOW_ACTION_PANEL'))\n\t\t\t\t{\n\t\t\t\t\tself.getUpdater().updateGroupActions(this.getActionPanel());\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tself.tableUnfade();\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\n\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t{\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t\tif (self.getParam('ALLOW_PIN_HEADER'))\n\t\t\t\t{\n\t\t\t\t\tself.getPinHeader()._onGridUpdate();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgetGroupEditButton: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classGroupEditButton'), true);\n\t\t},\n\n\t\tgetGroupDeleteButton: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classGroupDeleteButton'), true);\n\t\t},\n\n\t\tenableGroupActions: function()\n\t\t{\n\t\t\tvar editButton = this.getGroupEditButton();\n\t\t\tvar deleteButton = this.getGroupDeleteButton();\n\n\t\t\tif (BX.type.isDomNode(editButton))\n\t\t\t{\n\t\t\t\tBX.removeClass(editButton, this.settings.get('classGroupActionsDisabled'));\n\t\t\t}\n\n\t\t\tif (BX.type.isDomNode(deleteButton))\n\t\t\t{\n\t\t\t\tBX.removeClass(deleteButton, this.settings.get('classGroupActionsDisabled'));\n\t\t\t}\n\t\t},\n\n\t\tdisableGroupActions: function()\n\t\t{\n\t\t\tvar editButton = this.getGroupEditButton();\n\t\t\tvar deleteButton = this.getGroupDeleteButton();\n\n\t\t\tif (BX.type.isDomNode(editButton))\n\t\t\t{\n\t\t\t\tBX.addClass(editButton, this.settings.get('classGroupActionsDisabled'));\n\t\t\t}\n\n\t\t\tif (BX.type.isDomNode(deleteButton))\n\t\t\t{\n\t\t\t\tBX.addClass(deleteButton, this.settings.get('classGroupActionsDisabled'));\n\t\t\t}\n\t\t},\n\n\t\tcloseActionsMenu: function()\n\t\t{\n\t\t\tvar rows = this.getRows().getRows();\n\t\t\tfor(var i = 0, l = rows.length; i < l; i++)\n\t\t\t{\n\t\t\t\trows[i].closeActionsMenu();\n\t\t\t}\n\t\t},\n\n\t\tgetPageSize: function()\n\t\t{\n\t\t\treturn this.pageSize;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {?BX.Grid.Fader}\n\t\t */\n\t\tgetFader: function()\n\t\t{\n\t\t\treturn this.fader;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Data}\n\t\t */\n\t\tgetData: function()\n\t\t{\n\t\t\tthis.data = this.data || new BX.Grid.Data(this);\n\t\t\treturn this.data;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Updater}\n\t\t */\n\t\tgetUpdater: function()\n\t\t{\n\t\t\tthis.updater = this.updater || new BX.Grid.Updater(this);\n\t\t\treturn this.updater;\n\t\t},\n\n\t\tisSortableHeader: function(item)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.hasClass(item, this.settings.get('classHeaderSortable'))\n\t\t\t);\n\t\t},\n\n\t\tisNoSortableHeader: function(item)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.hasClass(item, this.settings.get('classHeaderNoSortable'))\n\t\t\t);\n\t\t},\n\n\t\tbindOnClickHeader: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar cell;\n\n\t\t\tBX.bind(this.getContainer(), 'click', function(event) {\n\t\t\t\tcell = BX.findParent(event.target, {tag: 'th'}, true, false);\n\n\t\t\t\tif (cell && self.isSortableHeader(cell) && !self.preventSortableClick)\n\t\t\t\t{\n\t\t\t\t\tself.preventSortableClick = false;\n\t\t\t\t\tself._clickOnSortableHeader(cell, event);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tenableEditMode: function()\n\t\t{\n\t\t\tthis.isEditMode = true;\n\t\t},\n\n\t\tdisableEditMode: function()\n\t\t{\n\t\t\tthis.isEditMode = false;\n\t\t},\n\n\t\tisEditMode: function()\n\t\t{\n\t\t\treturn this.isEditMode;\n\t\t},\n\n\t\tgetColumnHeaderCellByName: function(name)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(\n\t\t\t\tthis.getContainer(),\n\t\t\t\t'#'+this.getId()+' th[data-name=\"'+name+'\"]',\n\t\t\t\ttrue\n\t\t\t);\n\t\t},\n\n\t\tgetColumnByName: function(name)\n\t\t{\n\t\t\tvar columns = this.getParam('DEFAULT_COLUMNS');\n\t\t\treturn !!name && name in columns ? columns[name] : null;\n\t\t},\n\n\t\tadjustIndex: function(index)\n\t\t{\n\t\t\tvar fixedCells = this.getAllRows()[0]\n\t\t\t\t.querySelectorAll('.main-grid-fixed-column').length;\n\t\t\treturn (index + fixedCells);\n\t\t},\n\n\t\tgetColumnByIndex: function(index)\n\t\t{\n\t\t\tindex = this.adjustIndex(index);\n\n\t\t\treturn this.getAllRows()\n\t\t\t\t.reduce(function(accumulator, row) {\n\t\t\t\t\tif (!row.classList.contains('main-grid-row-custom') && !row.classList.contains('main-grid-row-empty'))\n\t\t\t\t\t{\n\t\t\t\t\t\taccumulator.push(row.children[index]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn accumulator;\n\t\t\t\t}, []);\n\t\t},\n\n\t\tgetAllRows: function()\n\t\t{\n\t\t\tvar rows = [].slice.call(this.getTable().rows);\n\t\t\tvar fixedTable = this.getContainer().parentElement.querySelector(\".main-grid-fixed-bar table\");\n\n\t\t\tif (fixedTable)\n\t\t\t{\n\t\t\t\trows.push(fixedTable.rows[0]);\n\t\t\t}\n\n\t\t\treturn rows;\n\t\t},\n\n\t\tinitStickedColumns: function()\n\t\t{\n\t\t\t[].slice.call(this.getAllRows()[0].children).forEach(function(cell, index) {\n\t\t\t\tif (cell.classList.contains('main-grid-sticked-column'))\n\t\t\t\t{\n\t\t\t\t\tthis.stickyColumnByIndex(index);\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tif (this.getParam('ALLOW_COLUMNS_RESIZE'))\n\t\t\t{\n\t\t\t\tthis.getResize().destroy();\n\t\t\t\tthis.getResize().init(this);\n\t\t\t}\n\t\t},\n\n\t\tsetStickedColumns: function(columns)\n\t\t{\n\t\t\tif (BX.type.isArray(columns))\n\t\t\t{\n\t\t\t\tvar options = this.getUserOptions();\n\t\t\t\tvar actions = [\n\t\t\t\t\t{\n\t\t\t\t\t\taction: options.getAction('GRID_SET_STICKED_COLUMNS'),\n\t\t\t\t\t\tstickedColumns: columns\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\toptions.batch(actions, function() {\n\t\t\t\t\tthis.reloadTable();\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t},\n\n\t\tgetStickedColumns: function()\n\t\t{\n\t\t\tvar columns = [].slice.call(this.getHead().querySelectorAll('.main-grid-cell-head'));\n\n\t\t\treturn columns.reduce(function(acc, column) {\n\t\t\t\tif (\n\t\t\t\t\tBX.hasClass(column, 'main-grid-fixed-column')\n\t\t\t\t\t&& !BX.hasClass(column, 'main-grid-cell-checkbox')\n\t\t\t\t\t&& !BX.hasClass(column, 'main-grid-cell-action')\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tacc.push(column.dataset.name);\n\t\t\t\t}\n\n\t\t\t\treturn acc;\n\t\t\t}.bind(this), []);\n\t\t},\n\n\t\tstickyColumnByIndex: function(index)\n\t\t{\n\t\t\tvar column = this.getColumnByIndex(index);\n\t\t\tvar cellWidth = column[0].clientWidth;\n\n\t\t\tvar heights = column.map(function(cell) {\n\t\t\t\treturn BX.height(cell);\n\t\t\t});\n\n\t\t\tcolumn.forEach(function(cell, cellIndex) {\n\t\t\t\tcell.style.minWidth = cellWidth + 'px';\n\t\t\t\tcell.style.width = cellWidth + 'px';\n\t\t\t\tcell.style.minHeight = heights[cellIndex] + 'px';\n\n\t\t\t\tvar clone = BX.clone(cell);\n\n\t\t\t\tvar lastStickyCell = this.getLastStickyCellFromRowByIndex(cellIndex);\n\n\t\t\t\tif (lastStickyCell)\n\t\t\t\t{\n\t\t\t\t\tvar lastStickyCellLeft = parseInt(BX.style(lastStickyCell, 'left'));\n\t\t\t\t\tvar lastStickyCellWidth = parseInt(BX.style(lastStickyCell, 'width'));\n\n\t\t\t\t\tlastStickyCellLeft = isNaN(lastStickyCellLeft) ? 0 : lastStickyCellLeft;\n\t\t\t\t\tlastStickyCellWidth = isNaN(lastStickyCellWidth) ? 0 : lastStickyCellWidth;\n\n\t\t\t\t\tcell.style.left = (lastStickyCellLeft + lastStickyCellWidth) + 'px';\n\t\t\t\t}\n\n\t\t\t\tcell.classList.add('main-grid-fixed-column');\n\t\t\t\tcell.classList.add('main-grid-cell-static');\n\t\t\t\tclone.classList.add('main-grid-cell-static');\n\n\t\t\t\tif (this.getColsSortable())\n\t\t\t\t{\n\t\t\t\t\tthis.getColsSortable().unregister(cell);\n\t\t\t\t\tthis.getColsSortable().unregister(clone);\n\t\t\t\t}\n\n\t\t\t\tBX.insertAfter(clone, cell);\n\n\t\t\t}, this);\n\n\t\t\tthis.adjustFadePosition(this.getFadeOffset());\n\t\t},\n\n\t\tadjustFixedColumnsPosition: function()\n\t\t{\n\t\t\tvar fixedCells = this.getAllRows()[0]\n\t\t\t\t.querySelectorAll('.main-grid-fixed-column').length;\n\n\t\t\tvar columnsPosition = [].slice.call(this.getAllRows()[0].children)\n\t\t\t\t.reduce(function(accumulator, cell, index, columns) {\n\t\t\t\t\tvar cellLeft;\n\t\t\t\t\tvar cellWidth;\n\n\t\t\t\t\tif (columns[index-1] && columns[index-1].classList.contains('main-grid-fixed-column'))\n\t\t\t\t\t{\n\t\t\t\t\t\tcellLeft = parseInt(BX.style(columns[index-1], 'left'));\n\t\t\t\t\t\tcellWidth = parseInt(BX.style(columns[index-1], 'width'));\n\n\t\t\t\t\t\tcellLeft = isNaN(cellLeft) ? 0 : cellLeft;\n\t\t\t\t\t\tcellWidth = isNaN(cellWidth) ? 0 : cellWidth;\n\n\t\t\t\t\t\taccumulator.push({index: index+1, left: (cellLeft + cellWidth)});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn accumulator;\n\t\t\t\t}, []);\n\n\t\t\tcolumnsPosition\n\t\t\t\t.forEach(function(item) {\n\t\t\t\t\tvar column = this.getColumnByIndex(item.index - fixedCells);\n\n\t\t\t\t\tcolumn.forEach(function(cell) {\n\t\t\t\t\t\tif (item.index !== columnsPosition[columnsPosition.length-1].index)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcell.style.left = item.left + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, this);\n\n\t\t\tthis.getAllRows()\n\t\t\t\t.forEach(function(row) {\n\t\t\t\t\tvar height = BX.height(row);\n\t\t\t\t\tvar cells = [].slice.call(row.children);\n\n\t\t\t\t\tcells.forEach(function(cell) {\n\t\t\t\t\t\tcell.style.minHeight = height + 'px';\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tgetLastStickyCellFromRowByIndex: function(index)\n\t\t{\n\t\t\treturn [].slice.call(this.getAllRows()[index].children)\n\t\t\t\t.reduceRight(function(accumulator, cell) {\n\t\t\t\t\tif (!accumulator && cell.classList.contains('main-grid-fixed-column'))\n\t\t\t\t\t{\n\t\t\t\t\t\taccumulator = cell;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn accumulator;\n\t\t\t\t}, null);\n\t\t},\n\n\t\tgetFadeOffset: function()\n\t\t{\n\t\t\tvar fadeOffset = 0;\n\t\t\tvar lastStickyCell = this.getLastStickyCellFromRowByIndex(0);\n\n\t\t\tif (lastStickyCell)\n\t\t\t{\n\t\t\t\tvar lastStickyCellLeft = parseInt(BX.style(lastStickyCell, 'left'));\n\t\t\t\tvar lastStickyCellWidth = lastStickyCell.offsetWidth;\n\n\t\t\t\tlastStickyCellLeft = isNaN(lastStickyCellLeft) ? 0 : lastStickyCellLeft;\n\t\t\t\tlastStickyCellWidth = isNaN(lastStickyCellWidth) ? 0 : lastStickyCellWidth;\n\n\t\t\t\tfadeOffset = lastStickyCellLeft + lastStickyCellWidth;\n\t\t\t}\n\n\t\t\treturn fadeOffset;\n\t\t},\n\n\t\tadjustFadePosition: function(offset)\n\t\t{\n\t\t\tvar earLeft = this.getFader().getEarLeft();\n\t\t\tvar shadowLeft = this.getFader().getShadowLeft();\n\n\t\t\tearLeft.style.left = offset + 'px';\n\t\t\tshadowLeft.style.left = offset + 'px';\n\t\t},\n\n\t\t/**\n\t\t * @param {string|object} column\n\t\t */\n\t\tsortByColumn: function(column)\n\t\t{\n\t\t\tvar headerCell = null;\n\t\t\tvar header = null;\n\n\t\t\tif (!BX.type.isPlainObject(column))\n\t\t\t{\n\t\t\t\theaderCell = this.getColumnHeaderCellByName(column);\n\t\t\t\theader = this.getColumnByName(column);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\theader = column;\n\t\t\t\theader.sort_url = this.prepareSortUrl(column);\n\t\t\t}\n\n\t\t\tif (header && (!!headerCell && !BX.hasClass(headerCell, this.settings.get('classLoad')) || !headerCell))\n\t\t\t{\n\t\t\t\t!!headerCell && BX.addClass(headerCell, this.settings.get('classLoad'));\n\t\t\t\tthis.tableFade();\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tthis.getUserOptions().setSort(header.sort_by, header.sort_order, function() {\n\t\t\t\t\tself.getData().request(header.sort_url, null, null, 'sort', function() {\n\t\t\t\t\t\tself.rows = null;\n\t\t\t\t\t\tself.getUpdater().updateHeadRows(this.getHeadRows());\n\t\t\t\t\t\tself.getUpdater().updateBodyRows(this.getBodyRows());\n\t\t\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\t\t\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\n\t\t\t\t\t\tself.bindOnRowEvents();\n\n\t\t\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\t\t\tself.bindOnClickHeader();\n\t\t\t\t\t\tself.bindOnCheckAll();\n\t\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\t\tself.disableActionsPanel();\n\t\t\t\t\t\tself.disableForAllCounter();\n\n\t\t\t\t\t\tif (self.getParam('SHOW_ACTION_PANEL'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.getActionsPanel().resetForAllCheckbox();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:sort', [header, self]);\n\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\t\t\t\t\t\tself.tableUnfade();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tprepareSortUrl: function(header)\n\t\t{\n\t\t\tvar url = window.location.toString();\n\n\t\t\tif ('sort_by' in header)\n\t\t\t{\n\t\t\t\turl = BX.util.add_url_param(url, {by: header.sort_by});\n\t\t\t}\n\n\t\t\tif ('sort_order' in header)\n\t\t\t{\n\t\t\t\turl = BX.util.add_url_param(url, {order: header.sort_order});\n\t\t\t}\n\n\t\t\treturn url;\n\t\t},\n\n\t\t_clickOnSortableHeader: function(header, event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.sortByColumn(BX.data(header, 'name'));\n\t\t},\n\n\t\tgetObserver: function()\n\t\t{\n\t\t\treturn BX.Grid.observer;\n\t\t},\n\n\t\tinitRowsDragAndDrop: function()\n\t\t{\n\t\t\tthis.rowsSortable = new BX.Grid.RowsSortable(this);\n\t\t},\n\n\t\tinitColsDragAndDrop: function()\n\t\t{\n\t\t\tthis.colsSortable = new BX.Grid.ColsSortable(this);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.RowsSortable}\n\t\t */\n\t\tgetRowsSortable: function()\n\t\t{\n\t\t\treturn this.rowsSortable;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.ColsSortable}\n\t\t */\n\t\tgetColsSortable: function()\n\t\t{\n\t\t\treturn this.colsSortable;\n\t\t},\n\n\t\tgetUserOptionsHandlerUrl: function()\n\t\t{\n\t\t\treturn this.userOptionsHandlerUrl || '';\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.UserOptions}\n\t\t */\n\t\tgetUserOptions: function()\n\t\t{\n\t\t\treturn this.userOptions;\n\t\t},\n\n\t\tgetCheckAllCheckboxes: function()\n\t\t{\n\t\t\tvar checkAllNodes = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCheckAllCheckboxes'));\n\t\t\treturn checkAllNodes.map(function(current) {\n\t\t\t\treturn new BX.Grid.Element(current);\n\t\t\t});\n\t\t},\n\n\t\tselectAllCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(current) {\n\t\t\t\tcurrent.getNode().checked = true;\n\t\t\t});\n\t\t},\n\n\t\tunselectAllCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(current) {\n\t\t\t\tcurrent.getNode().checked = false;\n\t\t\t});\n\t\t},\n\n\t\tadjustCheckAllCheckboxes: function()\n\t\t{\n\t\t\tvar total = this.getRows().getBodyChild().filter(function(row) {\n\t\t\t\treturn row.isShown() && !!row.getCheckbox();\n\t\t\t}).length;\n\n\t\t\tvar selected = this.getRows().getSelected().filter(function(row) {\n\t\t\t\treturn row.isShown();\n\t\t\t}).length;\n\n\t\t\tif (total === selected)\n\t\t\t{\n\t\t\t\tthis.selectAllCheckAllCheckboxes();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.unselectAllCheckAllCheckboxes()\n\t\t\t}\n\n\t\t\tif (selected > 0 && selected < total)\n\t\t\t{\n\t\t\t\tthis.indeterminateCheckAllCheckboxes();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.determinateCheckAllCheckboxes();\n\t\t\t}\n\t\t},\n\n\t\tbindOnCheckAll: function()\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(current) {\n\t\t\t\tcurrent.getObserver().add(\n\t\t\t\t\tcurrent.getNode(),\n\t\t\t\t\t'change',\n\t\t\t\t\tself._clickOnCheckAll,\n\t\t\t\t\tself\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t_clickOnCheckAll: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.toggleSelectionAll();\n\t\t\tthis.determinateCheckAllCheckboxes();\n\t\t},\n\n\t\ttoggleSelectionAll: function()\n\t\t{\n\t\t\tif (!this.getRows().isAllSelected() &&\n\t\t\t\t(this.lastRowAction === 'select' || !this.lastRowAction))\n\t\t\t{\n\t\t\t\tthis.getRows().selectAll();\n\t\t\t\tthis.selectAllCheckAllCheckboxes();\n\t\t\t\tthis.enableActionsPanel();\n\t\t\t\tBX.onCustomEvent(window, 'Grid::allRowsSelected', [this]);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getRows().unselectAll();\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t\tthis.disableActionsPanel();\n\t\t\t\tBX.onCustomEvent(window, 'Grid::allRowsUnselected', [this]);\n\t\t\t}\n\n\t\t\tdelete this.lastRowAction;\n\n\t\t\tthis.updateCounterSelected();\n\t\t},\n\n\t\tbindOnClickPaginationLinks: function()\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tthis.getPagination().getLinks().forEach(function(current) {\n\t\t\t\tcurrent.getObserver().add(\n\t\t\t\t\tcurrent.getNode(),\n\t\t\t\t\t'click',\n\t\t\t\t\tself._clickOnPaginationLink,\n\t\t\t\t\tself\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\tbindOnMoreButtonEvents: function()\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tthis.getMoreButton().getObserver().add(\n\t\t\t\tthis.getMoreButton().getNode(),\n\t\t\t\t'click',\n\t\t\t\tself._clickOnMoreButton,\n\t\t\t\tself\n\t\t\t);\n\t\t},\n\n\t\tbindOnRowEvents: function()\n\t\t{\n\t\t\tvar observer = this.getObserver();\n\t\t\tvar showCheckboxes = this.getParam('SHOW_ROW_CHECKBOXES');\n\t\t\tvar enableCollapsibleRows = this.getParam('ENABLE_COLLAPSIBLE_ROWS');\n\n\t\t\tthis.getRows().getBodyChild().forEach(function(current) {\n\t\t\t\tshowCheckboxes && observer.add(current.getNode(), 'click', this._onClickOnRow, this);\n\t\t\t\tcurrent.getDefaultAction() && observer.add(current.getNode(), 'dblclick', this._onRowDblclick, this);\n\t\t\t\tcurrent.getActionsButton() && observer.add(current.getActionsButton(), 'click', this._clickOnRowActionsButton, this);\n\t\t\t\tenableCollapsibleRows && current.getCollapseButton() && observer.add(current.getCollapseButton(), 'click', this._onCollapseButtonClick, this);\n\t\t\t}, this);\n\t\t},\n\n\t\t_onCollapseButtonClick: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar row = this.getRows().get(event.currentTarget);\n\t\t\trow.toggleChildRows();\n\n\t\t\tif (row.isCustom())\n\t\t\t{\n\t\t\t\tthis.getUserOptions().setCollapsedGroups(this.getRows().getIdsCollapsedGroups());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getUserOptions().setExpandedRows(this.getRows().getIdsExpandedRows());\n\t\t\t}\n\n\t\t\tBX.fireEvent(document.body, 'click');\n\t\t},\n\n\t\t_clickOnRowActionsButton: function(event)\n\t\t{\n\t\t\tvar row = this.getRows().get(event.target);\n\t\t\tevent.preventDefault();\n\n\t\t\tif (!row.actionsMenuIsShown())\n\t\t\t{\n\t\t\t\trow.showActionsMenu();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\trow.closeActionsMenu();\n\t\t\t}\n\t\t},\n\n\t\t_onRowDblclick: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tvar row = this.getRows().get(event.target);\n\t\t\tvar defaultJs = '';\n\n\t\t\tif (!row.isEdit())\n\t\t\t{\n\t\t\t\tclearTimeout(this.clickTimer);\n\t\t\t\tthis.clickPrevent = true;\n\n\t\t\t\ttry {\n\t\t\t\t\tdefaultJs = row.getDefaultAction();\n\t\t\t\t\teval(defaultJs);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.warn(err);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_onClickOnRow: function(event)\n\t\t{\n\t\t\tvar clickDelay = 50;\n\t\t\tvar selection = window.getSelection();\n\n\t\t\tif (event.target.nodeName === 'LABEL')\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tif (event.shiftKey || selection.toString().length === 0)\n\t\t\t{\n\t\t\t\tif (event.shiftKey)\n\t\t\t\t{\n\t\t\t\t\tselection.removeAllRanges();\n\t\t\t\t}\n\n\t\t\t\tthis.clickTimer = setTimeout(BX.delegate(function() {\n\t\t\t\t\tif (!this.clickPrevent) {\n\t\t\t\t\t\tclickActions.apply(this, [event]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.clickPrevent = false;\n\t\t\t\t}, this), clickDelay);\n\t\t\t}\n\n\t\t\tfunction clickActions(event)\n\t\t\t{\n\t\t\t\tvar rows, row, containsNotSelected, min, max, contentContainer;\n\t\t\t\tvar isPrevent = true;\n\n\t\t\t\tif (event.target.nodeName !== 'A' && event.target.nodeName !== 'INPUT')\n\t\t\t\t{\n\t\t\t\t\trow = this.getRows().get(event.target);\n\n\t\t\t\t\tcontentContainer = row.getContentContainer(event.target);\n\n\t\t\t\t\tif (BX.type.isDomNode(contentContainer) && event.target.nodeName !== 'TD' && event.target !== contentContainer)\n\t\t\t\t\t{\n\t\t\t\t\t\tisPrevent = BX.data(contentContainer, 'prevent-default') === 'true';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isPrevent)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (row.getCheckbox())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trows = [];\n\n\t\t\t\t\t\t\tthis.currentIndex = 0;\n\n\t\t\t\t\t\t\tthis.getRows().getRows().forEach(function(currentRow, index) {\n\t\t\t\t\t\t\t\tif (currentRow === row)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.currentIndex = index;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\tthis.lastIndex = this.lastIndex || this.currentIndex;\n\n\t\t\t\t\t\t\tif (!event.shiftKey)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (!row.isSelected())\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.lastRowAction = 'select';\n\t\t\t\t\t\t\t\t\trow.select();\n\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::selectRow', [row, this]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.lastRowAction = 'unselect';\n\t\t\t\t\t\t\t\t\trow.unselect();\n\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::unselectRow', [row, this]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmin = Math.min(this.currentIndex, this.lastIndex);\n\t\t\t\t\t\t\t\tmax = Math.max(this.currentIndex, this.lastIndex);\n\n\t\t\t\t\t\t\t\twhile (min <= max)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trows.push(this.getRows().getRows()[min]);\n\t\t\t\t\t\t\t\t\tmin++;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcontainsNotSelected = rows.some(function(current) {\n\t\t\t\t\t\t\t\t\treturn !current.isSelected();\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (containsNotSelected)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trows.forEach(function(current) {\n\t\t\t\t\t\t\t\t\t\tcurrent.select();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tthis.lastRowAction = 'select';\n\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::selectRows', [rows, this]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trows.forEach(function(current) {\n\t\t\t\t\t\t\t\t\t\tcurrent.unselect();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tthis.lastRowAction = 'unselect';\n\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::unselectRows', [rows, this]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.updateCounterSelected();\n\t\t\t\t\t\t\tthis.lastIndex = this.currentIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.adjustRows();\n\t\t\t\t\t\tthis.adjustCheckAllCheckboxes();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tadjustRows: function()\n\t\t{\n\t\t\tif (this.getRows().isSelected())\n\t\t\t{\n\t\t\t\tBX.onCustomEvent(window, 'Grid::thereSelectedRows', []);\n\t\t\t\tthis.enableActionsPanel();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.onCustomEvent(window, 'Grid::noSelectedRows', []);\n\t\t\t\tthis.disableActionsPanel();\n\t\t\t}\n\t\t},\n\n\t\tgetPagination: function()\n\t\t{\n\t\t\treturn new BX.Grid.Pagination(this);\n\t\t},\n\n\t\tgetState: function()\n\t\t{\n\t\t\treturn window.history.state;\n\t\t},\n\n\t\ttableFade: function()\n\t\t{\n\t\t\tBX.addClass(this.getTable(), this.settings.get('classTableFade'));\n\t\t\tthis.getLoader().show();\n\t\t\tBX.onCustomEvent('Grid::disabled', [this]);\n\t\t},\n\n\t\ttableUnfade: function()\n\t\t{\n\t\t\tBX.removeClass(this.getTable(), this.settings.get('classTableFade'));\n\t\t\tthis.getLoader().hide();\n\t\t\tBX.onCustomEvent('Grid::enabled', [this]);\n\t\t},\n\n\t\t_clickOnPaginationLink: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tvar self = this;\n\t\t\tvar link = this.getPagination().getLink(event.target);\n\n\t\t\tif (!link.isLoad())\n\t\t\t{\n\t\t\t\tthis.getUserOptions().resetExpandedRows();\n\n\t\t\t\tlink.load();\n\t\t\t\tthis.tableFade();\n\n\t\t\t\tthis.getData().request(link.getLink(), null, null, 'pagination', function() {\n\t\t\t\t\tself.rows = null;\n\t\t\t\t\tself.getUpdater().updateBodyRows(this.getBodyRows());\n\t\t\t\t\tself.getUpdater().updateHeadRows(this.getHeadRows());\n\t\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\n\t\t\t\t\tself.bindOnRowEvents();\n\t\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\t\tself.bindOnClickHeader();\n\t\t\t\t\tself.bindOnCheckAll();\n\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\tself.disableActionsPanel();\n\t\t\t\t\tself.disableForAllCounter();\n\n\t\t\t\t\tif (self.getParam('SHOW_ACTION_PANEL'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.getActionsPanel().resetForAllCheckbox();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t\t}\n\n\t\t\t\t\tlink.unload();\n\t\t\t\t\tself.tableUnfade();\n\n\t\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_clickOnMoreButton: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tvar self = this;\n\t\t\tvar moreButton = this.getMoreButton();\n\n\t\t\tmoreButton.load();\n\n\t\t\tthis.getData().request(moreButton.getLink(), null, null, 'more', function() {\n\t\t\t\tself.getUpdater().appendBodyRows(this.getBodyRows());\n\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\n\t\t\t\tself.getRows().reset();\n\t\t\t\tself.bindOnRowEvents();\n\n\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\tself.bindOnClickHeader();\n\t\t\t\tself.bindOnCheckAll();\n\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\tself.updateCounterSelected();\n\n\t\t\t\tif (self.getParam('ALLOW_PIN_HEADER'))\n\t\t\t\t{\n\t\t\t\t\tself.getPinHeader()._onGridUpdate();\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tself.unselectAllCheckAllCheckboxes();\n\t\t\t});\n\t\t},\n\n\t\tgetAjaxId: function()\n\t\t{\n\t\t\treturn BX.data(\n\t\t\t\tthis.getContainer(),\n\t\t\t\tthis.settings.get('ajaxIdDataProp')\n\t\t\t);\n\t\t},\n\n\t\tupdate: function(data, action)\n\t\t{\n\t\t\tvar newRows, newHeadRows, newNavPanel, thisBody, thisHead, thisNavPanel;\n\n\t\t\tif (!BX.type.isNotEmptyString(data))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthisBody = BX.Grid.Utils.getByTag(this.getTable(), 'tbody', true);\n\t\t\tthisHead = BX.Grid.Utils.getByTag(this.getTable(), 'thead', true);\n\t\t\tthisNavPanel = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classNavPanel'), true);\n\n\t\t\tdata = BX.create('div', {html: data});\n\t\t\tnewHeadRows = BX.Grid.Utils.getByClass(data, this.settings.get('classHeadRow'));\n\t\t\tnewRows = BX.Grid.Utils.getByClass(data, this.settings.get('classDataRows'));\n\t\t\tnewNavPanel = BX.Grid.Utils.getByClass(data, this.settings.get('classNavPanel'), true);\n\n\t\t\tif (action === this.settings.get('updateActionMore'))\n\t\t\t{\n\t\t\t\tthis.getRows().addRows(newRows);\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t}\n\n\t\t\tif (action === this.settings.get('updateActionPagination'))\n\t\t\t{\n\t\t\t\tBX.cleanNode(thisBody);\n\t\t\t\tthis.getRows().addRows(newRows);\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t}\n\n\t\t\tif (action === this.settings.get('updateActionSort'))\n\t\t\t{\n\t\t\t\tBX.cleanNode(thisHead);\n\t\t\t\tBX.cleanNode(thisBody);\n\t\t\t\tthisHead.appendChild(newHeadRows[0]);\n\t\t\t\tthis.getRows().addRows(newRows);\n\n\t\t\t}\n\n\t\t\tthisNavPanel.innerHTML = newNavPanel.innerHTML;\n\n\t\t\tthis.bindOnRowEvents();\n\n\t\t\tthis.bindOnMoreButtonEvents();\n\t\t\tthis.bindOnClickPaginationLinks();\n\t\t\tthis.bindOnClickHeader();\n\t\t\tthis.bindOnCheckAll();\n\t\t\tthis.updateCounterDisplayed();\n\t\t\tthis.updateCounterSelected();\n\t\t\tthis.sortable.reinit();\n\t\t},\n\n\t\tgetCounterDisplayed: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCounterDisplayed'));\n\t\t},\n\n\t\tgetCounterSelected: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCounterSelected'));\n\t\t},\n\n\t\tupdateCounterDisplayed: function()\n\t\t{\n\t\t\tvar counterDisplayed = this.getCounterDisplayed();\n\t\t\tvar rows;\n\n\t\t\tif (BX.type.isArray(counterDisplayed))\n\t\t\t{\n\t\t\t\trows = this.getRows();\n\t\t\t\tcounterDisplayed.forEach(function(current) {\n\t\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrent.innerText = rows.getCountDisplayed();\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\n\t\tupdateCounterSelected: function()\n\t\t{\n\t\t\tvar counterSelected = this.getCounterSelected();\n\t\t\tvar rows;\n\n\t\t\tif (BX.type.isArray(counterSelected))\n\t\t\t{\n\t\t\t\trows = this.getRows();\n\t\t\t\tcounterSelected.forEach(function(current) {\n\t\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrent.innerText = rows.getCountSelected();\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\n\t\tgetContainerId: function()\n\t\t{\n\t\t\treturn this.containerId;\n\t\t},\n\n\t\tgetId: function()\n\t\t{\n\t\t\t//ID is equals to container Id\n\t\t\treturn this.containerId;\n\t\t},\n\n\t\tgetContainer: function()\n\t\t{\n\t\t\treturn BX(this.getContainerId());\n\t\t},\n\n\t\tgetCounter: function()\n\t\t{\n\t\t\tif (!this.counter)\n\t\t\t{\n\t\t\t\tthis.counter = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCounter'));\n\t\t\t}\n\n\t\t\treturn this.counter;\n\t\t},\n\n\t\tenableForAllCounter: function()\n\t\t{\n\t\t\tvar counter = this.getCounter();\n\n\t\t\tif (BX.type.isArray(counter))\n\t\t\t{\n\t\t\t\tcounter.forEach(function(current) {\n\t\t\t\t\tBX.addClass(current, this.settings.get('classForAllCounterEnabled'));\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\n\t\tdisableForAllCounter: function()\n\t\t{\n\t\t\tvar counter = this.getCounter();\n\n\t\t\tif (BX.type.isArray(counter))\n\t\t\t{\n\t\t\t\tcounter.forEach(function(current) {\n\t\t\t\t\tBX.removeClass(current, this.settings.get('classForAllCounterEnabled'));\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\n\t\tgetScrollContainer: function()\n\t\t{\n\t\t\tif (!this.scrollContainer)\n\t\t\t{\n\t\t\t\tthis.scrollContainer = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classScrollContainer'), true);\n\t\t\t}\n\n\t\t\treturn this.scrollContainer;\n\t\t},\n\n\t\tgetWrapper: function()\n\t\t{\n\t\t\tif (!this.wrapper)\n\t\t\t{\n\t\t\t\tthis.wrapper = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classWrapper'), true);\n\t\t\t}\n\n\t\t\treturn this.wrapper;\n\t\t},\n\n\t\tgetFadeContainer: function()\n\t\t{\n\t\t\tif (!this.fadeContainer)\n\t\t\t{\n\t\t\t\tthis.fadeContainer = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classFadeContainer'), true);\n\t\t\t}\n\n\t\t\treturn this.fadeContainer;\n\t\t},\n\n\t\tgetTable: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classTable'), true);\n\t\t},\n\n\t\tgetHeaders: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getWrapper(), '.main-grid-header[data-relative=\"' + this.getContainerId() + '\"]');\n\t\t},\n\n\t\tgetHead: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByTag(this.getContainer(), 'thead', true);\n\t\t},\n\n\t\tgetBody: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByTag(this.getContainer(), 'tbody', true);\n\t\t},\n\n\t\tgetFoot: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByTag(this.getContainer(), 'tfoot', true);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Rows}\n\t\t */\n\t\tgetRows: function()\n\t\t{\n\t\t\tif (!(this.rows instanceof BX.Grid.Rows))\n\t\t\t{\n\t\t\t\tthis.rows = new BX.Grid.Rows(this)\n\t\t\t}\n\t\t\treturn this.rows;\n\t\t},\n\n\t\tgetMoreButton: function()\n\t\t{\n\t\t\tvar node = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classMoreButton'), true);\n\t\t\treturn new BX.Grid.Element(node, this);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets loader instance\n\t\t * @return {BX.Grid.Loader}\n\t\t */\n\t\tgetLoader: function()\n\t\t{\n\t\t\tif (!(this.loader instanceof BX.Grid.Loader))\n\t\t\t{\n\t\t\t\tthis.loader = new BX.Grid.Loader(this);\n\t\t\t}\n\n\t\t\treturn this.loader;\n\t\t},\n\n\t\tblockSorting: function()\n\t\t{\n\t\t\tvar headerCells = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getContainer(),\n\t\t\t\tthis.settings.get('classHeadCell')\n\t\t\t);\n\n\t\t\theaderCells.forEach(function(header) {\n\t\t\t\tif (this.isSortableHeader(header))\n\t\t\t\t{\n\t\t\t\t\tBX.removeClass(header, this.settings.get('classHeaderSortable'));\n\t\t\t\t\tBX.addClass(header, this.settings.get('classHeaderNoSortable'));\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\n\t\tunblockSorting: function()\n\t\t{\n\t\t\tvar headerCells = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getContainer(),\n\t\t\t\tthis.settings.get('classHeadCell')\n\t\t\t);\n\n\t\t\theaderCells.forEach(function(header) {\n\t\t\t\tif (this.isNoSortableHeader(header) && header.dataset.sortBy)\n\t\t\t\t{\n\t\t\t\t\tBX.addClass(header, this.settings.get('classHeaderSortable'));\n\t\t\t\t\tBX.removeClass(header, this.settings.get('classHeaderNoSortable'));\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\n\t\tconfirmDialog: function(action, then, cancel)\n\t\t{\n\t\t\tvar dialog, popupContainer, applyButton, cancelButton;\n\n\t\t\tif ('CONFIRM' in action && action.CONFIRM)\n\t\t\t{\n\t\t\t\taction.CONFIRM_MESSAGE = action.CONFIRM_MESSAGE || this.arParams.CONFIRM_MESSAGE;\n\t\t\t\taction.CONFIRM_APPLY_BUTTON = action.CONFIRM_APPLY_BUTTON || this.arParams.CONFIRM_APPLY;\n\t\t\t\taction.CONFIRM_CANCEL_BUTTON = action.CONFIRM_CANCEL_BUTTON || this.arParams.CONFIRM_CANCEL;\n\n\t\t\t\tdialog = new BX.PopupWindow(\n\t\t\t\t\tthis.getContainerId() + '-confirm-dialog',\n\t\t\t\t\tnull,\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: '<div class=\"main-grid-confirm-content\">'+action.CONFIRM_MESSAGE+'</div>',\n\t\t\t\t\t\ttitleBar: 'CONFIRM_TITLE' in action ? action.CONFIRM_TITLE : '',\n\t\t\t\t\t\tautoHide: false,\n\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\toverlay: 0.4,\n\t\t\t\t\t\toffsetTop: -100,\n\t\t\t\t\t\tcloseIcon : true,\n\t\t\t\t\t\tcloseByEsc : true,\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonClose: function()\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.unbind(window, 'keydown', hotKey);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\t\t\t\ttext: action.CONFIRM_APPLY_BUTTON,\n\t\t\t\t\t\t\t\tid: this.getContainerId() + '-confirm-dialog-apply-button',\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.type.isFunction(then) ? then() : null;\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.close();\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.destroy();\n\t\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::confirmDialogApply', [this]);\n\t\t\t\t\t\t\t\t\t\tBX.unbind(window, 'keydown', hotKey);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew BX.PopupWindowButtonLink({\n\t\t\t\t\t\t\t\ttext: action.CONFIRM_CANCEL_BUTTON,\n\t\t\t\t\t\t\t\tid: this.getContainerId() + '-confirm-dialog-cancel-button',\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.type.isFunction(cancel) ? cancel() : null;\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.close();\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.destroy();\n\t\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::confirmDialogCancel', [this]);\n\t\t\t\t\t\t\t\t\t\tBX.unbind(window, 'keydown', hotKey);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (!dialog.isShown())\n\t\t\t\t{\n\t\t\t\t\tdialog.show();\n\t\t\t\t\tpopupContainer = dialog.popupContainer;\n\t\t\t\t\tBX.removeClass(popupContainer, this.settings.get('classCloseAnimation'));\n\t\t\t\t\tBX.addClass(popupContainer, this.settings.get('classShowAnimation'));\n\t\t\t\t\tapplyButton = BX(this.getContainerId() + '-confirm-dialog-apply-button');\n\t\t\t\t\tcancelButton = BX(this.getContainerId() + '-confirm-dialog-cancel-button');\n\n\t\t\t\t\tBX.bind(window, 'keydown', hotKey);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.type.isFunction(then) ? then() : null;\n\t\t\t}\n\n\t\t\tfunction hotKey(event)\n\t\t\t{\n\t\t\t\tif (event.code === 'Enter')\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tBX.fireEvent(applyButton, 'click');\n\t\t\t\t}\n\n\t\t\t\tif (event.code === 'Escape')\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tBX.fireEvent(cancelButton, 'click');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})();"],"names":["BX","namespace","Grid","ActionPanel","parent","actions","types","rel","lastActivated","init","prototype","eval","addCustomEvent","window","proxy","id","event","item","dataItem","isPanelControl","_dropdownChange","panel","getPanel","bind","delegate","_checkboxChange","_clickOnButton","cancelButton","fireEvent","firstChild","resetForAllCheckbox","checkbox","getForAllCheckbox","type","isDomNode","checked","Utils","getByClass","settings","get","getContainer","getApplyButton","node","hasClass","getTextInputs","getBySelector","getHiddenInputs","getSelects","getDropdowns","getCheckboxes","getButtons","isDropdown","isCheckbox","isTextInput","isHiddenInput","isSelect","tagName","createDropdown","data","relative","container","createContainer","ID","dropdown","create","props","className","attrs","name","NAME","JSON","stringify","ITEMS","VALUE","children","html","appendChild","createCheckbox","inner","titleSpan","input","value","title","TITLE","ONCHANGE","CHECKED","for","LABEL","createText","isNotEmptyString","text","placeholder","PLACEHOLDER","createHidden","createButton","button","CLASS","TEXT","createLink","link","href","HREF","createCustom","custom","replace","removeItemsRelativeCurrent","element","result","dataRelative","includes","push","nextElementSibling","forEach","current","remove","validateData","isArray","activateControl","removeClass","disabled","deactivateControl","addClass","showControl","control","show","hideControl","hide","validateActionObject","action","isPlainObject","ACTION","RESET_CONTROLS","DATA","validateControlObject","controlObject","createDate","date","decl","block","mix","calendarButton","valueDelete","tabindex","TABINDEX","enableTime","TIME","createControl","relativeId","newElement","TYPE","DROPDOWN","CHECKBOX","HIDDEN","BUTTON","LINK","CUSTOM","DATE","onChangeHandler","isPseudo","callback","self","CREATE","reverse","insertAfter","length","ACTIVATE","currentId","SHOW","showCurrent","HIDE","hideCurrent","HIDE_ALL_EXPECT","getControls","some","el","SHOW_ALL","REMOVE","removeCurrent","CALLBACK","confirmDialog","currentCallback","JS","indexOf","err","Error","then","cancel","parentNode","onChange","PSEUDO","target","findParent","isButton","preventDefault","getSelectedIds","rows","getRows","getSelected","filter","row","isShown","map","getId","findChild","getValues","controls","concat","dropdownValue","undefined","getAttribute","options","selectedIndex","BaseClass","getParent","ColsSortable","dragItem","targetItem","rowsList","colsList","dragRect","offset","startDragOffset","dragColumn","targetColumn","isDrag","getColsList","getRowsList","inited","reinit","registerObjects","destroy","removeCustomEvent","unregisterObjects","reset","fixedTableColsList","isActive","register","getFixedHeaderColsList","unregister","column","jsDD","unregisterObject","onbxdragstart","_onDragStart","onbxdrag","_onDrag","onbxdragstop","_onDragEnd","registerObject","getByTag","getHeadFirstChild","getNode","isStatic","getParam","getPinHeader","getFixedTable","getSourceRows","getDragOffset","getScrollContainer","scrollLeft","startScrollOffset","x","left","getColumn","cell","HTMLTableCellElement","cells","cellIndex","isPinned","current_node","getBoundingClientRect","Math","ceil","width","start_x","dragIndex","getIndex","preventSortableClick","isDragToRight","index","nodeClientRect","nodeCenter","isDragToLeft","isDragToBack","isMovedToRight","style","transform","isMovedToLeft","isMoved","moveColumn","transition","isNumber","styleForEach","dragOffset","leftOffset","rightOffset","defaultOffset","dragTransitionDuration","call","classList","contains","collectionSort","columns","getUserOptions","setColumns","onCustomEvent","setTimeout","originalUpdatePageData","ajax","UpdatePageData","disableBxAjaxUpdatePageData","enableBxAjaxUpdatePageData","Data","response","xhr","headRows","bodyRows","footRows","moreButton","pagination","counterDisplayed","counterSelected","counterTotal","limit","actionPanel","rowsByParentId","rowById","isValidResponse","validateResponse","isBoolean","getResponse","request","url","method","error","isString","eventArgs","gridId","disableCheckAllCheckboxes","hasOwnProperty","cancelRequest","baseUrl","addUrlParams","sessid","bitrix_sessid","internal","grid_id","apply_filter","util","remove_url_param","clear_nav","grid_action","formData","Http","convertObjectToFormData","ajaxUrl","getAjaxId","dataType","headers","processData","scriptsRunFirst","start","preparePost","onsuccess","querySelector","getContainerId","res","parse","messages","arParams","tableUnfade","isFunction","enableCheckAllCheckboxes","onerror","send","getHeadRows","getBodyRows","getRowsByParentId","getRowById","getFootRows","getMoreButton","getPagination","getCounterDisplayed","getCounterSelected","getCounterTotal","selector","getLimit","getPageSize","getActionPanel","Main","items","menuId","menu","menuItems","dataItems","dataValue","dataPseudo","dropdownItemClass","activeClass","selectedClass","notSelectedClass","menuItemClass","getItems","getValue","getMenuId","createMenu","popupWindow","adjustPosition","showMenu","str","prepareMenuItems","subItem","currentValue","prepareItems","innerHTML","delimiter","DELIMITER","PopupMenu","_onCloseMenu","_onShowMenu","getMenuById","dataset","popupPosition","popupContainer","setProperty","getSubItem","refresh","innerText","selectItem","layout","getDataItemIndexByValue","getDataItemByValue","_onItemClick","getMenuItem","close","stopPropagation","class","dropdownManager","dropdownClass","onLoadItems","document","getById","body","instance","Element","resetOnclickAttr","load","unload","isLoad","onclick","getObserver","observer","getLink","Fader","table","getTable","scrollStartEventName","isTouch","scrollEndEventName","fixedTable","debounceScrollHandler","debounce","_onWindowScroll","toggle","addEventListener","listenerParams","passive","_onHeaderUpdated","getEarLeft","_onMouseoverLeft","getEarRight","_onMouseoverRight","stopScroll","adjustEarOffset","unbind","removeEventListener","hideLeftEar","hideRightEar","startScrollByDirection","clearTimeout","scrollTimer","clearInterval","scrollInterval","direction","stepLength","stepTime","setInterval","earLeft","earRight","getShadowLeft","getShadowRight","prepare","windowHeight","height","tbodyPos","pos","tBodies","headerPos","tHead","scrollY","isIE","documentElement","scrollTop","bottomPos","top","posTop","bottom","requestAnimationFrame","lastPosTop","translate","lastBottomPos","hasScroll","offsetWidth","clientWidth","hasScrollLeft","hasScrollRight","showLeftEar","showRightEar","adjustFixedTablePosition","marginLeft","Updater","updateHeadRows","getHeaders","header","cleanNode","clone","appendHeadRows","prependHeadRows","prepend","updateBodyRowById","currentRow","currentNode","updateBodyRows","getBody","appendBodyRows","prependBodyRows","updateFootRows","foot","getFoot","updateCounterTotal","counter","counterCell","updatePagination","paginationCell","updateMoreButton","buttonParent","closestParent","updateGroupActions","GroupActions","getActionsPanel","panelNode","panelChild","Reflection","ImageField","cache","Cache","MemoryCache","getPreview","remember","src","getFileInput","accept","events","change","reader","FileReader","onload","currentTarget","readAsDataURL","files","Dom","getFakeField","append","getLayout","getRemoveButton","getUploadButton","click","opacity","InlineEditor","createTextarea","editObject","textarea","join","createInput","htmlspecialcharsback","NUMBER","RANGE","min","MIN","max","MAX","step","STEP","createOutput","getDropdownValueItemByValue","valueItem","validateEditObject","initCalendar","calendar","field","bindOnRangeChange","output","bubble","parseFloat","thumbWidth","range","position","positionOffset","round","createImageEditor","getEditor","span","_onControlKeydown","TEXTAREA","IMAGE","HTML","processHTML","SCRIPT","isInternal","evalGlobal","code","saveButton","Loader","loader","adjustLoaderOffset","display","visibility","rowsCount","getCountDisplayed","setOptions","size","gridManager","object","old","getInstanceById","reload","getDataIndex","grid","Message","popup","onUpdated","getData","MESSAGES","isNeedShow","getPopup","setContent","getContent","content","messagesDecl","message","messageDecl","toLowerCase","PopupWindow","getPopupId","autoHide","overlay","contentNoPaddings","closeByEsc","buttons","PopupWindowButton","handlers","add","handler","context","Pagesize","tableFade","setPageSize","reloadTable","Pagination","links","getLinks","PinHeader","parentNodeResizeObserver","adminPanel","getAdminPanel","mo","MutationObserver","onAdminPanelMutation","observe","attributes","rect","getHead","gridRect","workArea","ResizeObserver","refreshRect","_onScroll","_onResize","_onGridUpdate","pin","async","cloneThead","cloneCells","resizeCloneCells","parseInt","firstElementChild","tag","hidden","getWrapper","isAdminPanelPinned","getPinOffset","Text","toNumber","unpin","stopPin","startPin","scrollRect","scrollingElement","PinPanel","isSelected","animationDuration","pinned","bindOnRowsEvents","_onThereSelectedRows","_onNoSelectedRows","bindOnWindowEvents","unbindOnWindowEvents","getScrollBottom","getWindowHeight","getPanelRect","panelRect","getPanelPrevBottom","prev","previousSibling","pinPanel","withAnimation","bodyRect","getStartDiffPanelPosition","removeProperty","isNeedPinAbsolute","absolutePin","adjustPanelPosition","unpinPanel","parentRect","abs","translateOffset","delay","cb","isSelectedRows","isNeedPin","scrollX","pageXOffset","lastScrollX","panelPos","pinController","getEndDiffPanelPosition","prevPanelPos","scrollBottom","diff","prevPanelBottom","lastIsSelected","Resize","lastRegisterButtons","registerTableButtons","registerPinnedTableButtons","pinnedTableButtons","getPinnedTableButtons","getCells","cellsKeys","Object","keys","cellContainer","__overlay","__resizeCell","key","fixedCell","fixedCellContainer","cpos","cellAttrWidth","sX","fixedCells","getAllRows","querySelectorAll","getColumnByIndex","minWidth","maxWidth","adjustFixedColumnsPosition","adjustFadePosition","getFadeOffset","saveSizes","getColumnSizes","setColumnSizes","Row","sort","actionsButton","depth","parentId","editData","Settings","bindNodes","isBodyChild","slice","onMouseOver","onMouseLeave","unselect","select","_onRightClick","isCustom","showActionsMenu","getDefaultAction","editGetValues","values","cellValues","getCellEditorValue","cellValue","RAW_NAME","RAW_VALUE","editor","getCustomValue","getImageValue","isEdit","isNotCount","getContentContainer","nodeName","Map","inputs","resultObject","multiple","selectValues","option","selected","set","toUpperCase","fakeInput","getEditorContainer","getCollapseButton","collapseButton","stateLoad","stateUnload","stateExpand","stateCollapse","getParentId","toString","getDataset","getDepth","setDepth","depthOffset","Rows","getShiftCells","childDepth","setParentId","showChildRows","getChildren","isExpand","updateCounterDisplayed","updateCounterSelected","adjustCheckAllCheckboxes","adjustRows","functionName","getGroupId","hideChildRows","isChildsLoaded","childsLoaded","expand","loadChildRows","bindOnRowEvents","getRowsSortable","getColsSortable","collapse","toggleChildRows","getAction","parent_id","apply","update","rowData","getUpdater","adjustEmptyTable","bindOnMoreButtonEvents","bindOnClickPaginationLinks","colsSortable","rowsSortable","editCancel","editorContainer","getCellByIndex","getEditDataByCellIndex","getCellNameByCellIndex","getEditData","editableData","rowId","getCellEditDataByCellIndex","columnEditData","edit","contentContainer","editable","setDraggable","isDraggable","rowIndex","getCheckbox","getActionsMenu","actionsMenu","buttonRect","getActionsButton","getMenuItems","_onPopupShow","getEventTarget","preventCloseContextMenu","popupMenu","setBindElement","actionsMenuIsShown","pageY","getOption","pageX","getPopupWindow","getPopupContainer","closeActionsMenu","getActions","initSelect","getParentNode","getParentNodeName","hasEditable","isHeadChild","isFootChild","headChild","bodyChild","footChild","enableDragAndDrop","RowsSortable","disableDragAndDrop","getFootLastChild","getLast","getFootChild","getFootFirstChild","getFirst","getBodyLastChild","getBodyChild","getBodyFirstChild","getHeadLastChild","getHeadChild","getEditSelectedValues","selectedRows","initSelected","enableActionsPanel","editSelected","editSelectedCancel","isAllSelected","getCountSelected","addRows","normalizeNode","array","selectAll","unselectAll","getByIndex","recursive","getByParentId","getRowsByGroupId","groupId","getExpandedRows","getIdsExpandedRows","getIdsCollapsedGroups","getSourceBodyChild","getSourceHeadChild","getSourceFootChild","RowDragEvent","eventName","allowMoveRow","allowInsertBeforeTarget","errorMessage","allowMove","allowInsertBefore","disallowMove","disallowInsertBefore","getDragItem","getTargetItem","getEventName","setDragItem","setTargetItem","setEventName","isAllowedMove","isAllowedInsertBefore","getErrorMessage","list","setDefaultProps","getList","prepareListItems","Enable","onscrollDebounceHandler","disable","enable","windowScrollTop","rowsRectList","rowInstance","calcOffset","additionalDragItems","clientHeight","getTheadCells","sourceCells","createFake","cloneDragItem","cloneDragAdditionalDragItems","cloneDragAdditionalDragItemRows","theadCellsDecl","cloneRow","tableWidth","fake","getDragStartRect","getAdditionalDragItems","getRowRect","dragStartOffset","start_y","dragEvent","dragRow","startDragDepth","startDragParentId","moveRow","transitionDuration","y","getWindowScrollTop","getSortOffset","i","getRowCenter","isDragToBottom","rowCenter","sortOffset","isMovedToBottom","isDragToTop","isMovedToTop","checkError","updateProperties","isDragetToTop","findNextVisible","createError","currentIndex","targetRow","resetDragProperties","_onDragOver","_onDragLeave","sortRows","sortAdditionalDragItems","ids","saveRowsSort","additional","reduce","insertBefore","realX","realY","defaultSettings","classContainer","classWrapper","classTable","classScrollContainer","classFadeContainer","classFadeContainerRight","classFadeContainerLeft","classNavPanel","classActionPanel","classCursor","classRowCustom","classMoreButton","classRow","classHeadRow","classBodyRow","classFootRow","classDataRows","classPanels","classCellHeadContainer","classCellHeadOndrag","classEmptyRows","classEmptyBlock","classCheckAllCheckboxes","classCheckedRow","classRowCheckbox","classPagination","classActionCol","classCounterDisplayed","classCounterSelected","classCounterTotal","classTableFade","classDragActive","classResizeButton","classOnDrag","classDisableDrag","classPanelCellContent","classCollapseButton","classRowStateLoad","classRowStateExpand","classHeaderSortable","classHeaderNoSortable","classCellStatic","classHeadCell","classPageSize","classGroupEditButton","classGroupDeleteButton","classGroupActionsDisabled","classPanelButton","classPanelApplyButton","classPanelCheckbox","classEditor","classEditorContainer","classEditorText","classEditorDate","classEditorNumber","classEditorRange","classEditorCheckbox","classEditorTextarea","classEditorCustom","classCellContainer","classEditorOutput","classSettingsWindow","classSettingsWindowColumn","classSettingsWindowColumnLabel","classSettingsWindowColumnEditState","classSettingsWindowColumnEditInput","classSettingsWindowColumnEditButton","classSettingsWindowColumnCheckbox","classSettingsWindowShow","classSettingsWindowSelectAll","classSettingsWindowUnselectAll","classSettingsButton","classSettingsButtonActive","classSettingsWindowClose","classSettingsWindowReset","classSettingsWindowColumnChecked","classShowAnimation","classCloseAnimation","classLoader","classLoaderShow","classLoaderHide","classRowError","loaderHideAnimationName","classHide","classEar","classEarLeft","classEarRight","classNotCount","classCounter","classForAllCounterEnabled","classLoad","classRowActionButton","classDropdown","classPanelControl","classPanelControlContainer","classForAllCheckbox","classDisable","dataActionsKey","updateActionMore","classShow","classGridShow","updateActionPagination","updateActionSort","ajaxIdDataProp","pageSizeId","sortableRows","sortableColumns","getDefault","SettingsWindow","popupItems","sourceContent","applyButton","resetButton","_onContainerClick","_onColumnMoved","getSelectAllButton","selectAllButton","getUnselectAllButton","unselectAllButton","allColumns","_onSettingsButtonClick","fetchColumns","promise","Promise","fulfill","prepareColumnOptions","customNames","getCurrentOptions","custom_names","getColumnHeaderCellByName","createColumnElement","useLazyLoadColumns","getSourceContent","contentList","columnOptions","onItemClick","fixedFooter","getPopupItems","getSelectedColumns","restoreColumns","restore","sortItems","restoreLastColumns","restoreState","updateColumnsState","updateState","getStickedColumns","accumulator","isSticked","saveColumns","columnNames","getColumnNames","stickedColumns","batch","isForAll","view_id","set_default_settings","delete_user_settings","disableAllColumnslabelEdit","disableEdit","getAllColumns","isShowedColumn","columnName","getShowedColumns","showedColumns","getColumnByName","names","isEdited","getTitle","onResetButtonClick","CONFIRM","CONFIRM_MESSAGE","CONFIRM_RESET_MESSAGE","enableWait","disableWait","getResetButtonId","onApplyButtonClick","unselectForAllCheckbox","getApplyButtonId","getCancelButtonId","getCancelButton","buttonNode","createTitle","gridsCount","tmpDiv","pageTitleNode","pageTitle","createPopup","titleBar","closeIcon","onPopupClose","getResetButton","onSelectAll","onUnselectAll","adjustActionButtonsState","SettingsWindowColumn","enableActions","disableActions","label","editButton","default","defaultTitle","state","lastTitle","trim","getEditButton","onEditButtonClick","getStickyButton","onStickyButtonClick","unstick","stick","isEditEnabled","enableEdit","setState","getState","sticked","setTitle","getLabel","getDefaultTitle","getSettings","isDefault","stickedDefault","contentEditable","adjustCaret","isContentEditable","createRange","selection","getSelection","elementTextLength","textNodes","childNodes","lastTextNode","setStart","setEnd","removeAllRanges","addRange","UserOptions","userOptions","userOptionsActions","console","warn","getCurrentViewName","getOptions","current_view","getViewsList","views","getUrl","add_url_param","GRID_ID","bxajaxid","newOptions","save","setColumnsNames","sizes","forAll","view_settings","setSort","by","order","pageSize","setExpandedRows","setCollapsedGroups","resetExpandedRows","saveForAll","bath","post","ajaxId","params","arrayMove","newIndex","k","splice","collection","getNext","currentItem","getPrev","previousElementSibling","closestChilds","root","collectionLength","targetIndex","properties","propKey","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","arguments","rootElement","first","getElementsByClassName","getElementsByTagName","e","containerId","userOptionsHandlerUrl","panelActions","panelTypes","editorTypes","messageTypes","wrapper","fadeContainer","scrollContainer","history","checkAll","sortable","updater","fader","isEditMode","pinHeader","resize","isNeedResourcesReady","location","pathname","search","gridSettings","bindOnCheckAll","bindOnClickHeader","initRowsDragAndDrop","initColsDragAndDrop","_onUnselectRows","_onGridUpdated","frames","getFrameId","onresize","throttle","_onFrameResize","initStickedColumns","getFader","getResize","getSettingsWindow","disableActionsPanel","disableForAllCounter","ie","touch","paramName","defaultValue","getActionKey","confirmForAll","CONFIRM_FOR_ALL_MESSAGE","selectAllCheckAllCheckboxes","enableForAllCounter","lastRowAction","unselectAllCheckAllCheckboxes","getCheckAllCheckboxes","indeterminateCheckAllCheckboxes","indeterminate","determinateCheckAllCheckboxes","editSelectedSave","find","getForAllKey","updateRow","removeRow","addRow","removeSelected","sendSelected","getPanels","getEmptyBlock","adjustEmptyBlockPosition","emptyBlock","panelsHeight","containerWidth","paddingOffset","parentElement","parentPaddingTop","parentPaddingBottom","isNaN","getGroupEditButton","getGroupDeleteButton","enableGroupActions","deleteButton","disableGroupActions","l","isSortableHeader","isNoSortableHeader","_clickOnSortableHeader","enableEditMode","disableEditMode","adjustIndex","stickyColumnByIndex","setStickedColumns","acc","cellWidth","heights","minHeight","lastStickyCell","getLastStickyCellFromRowByIndex","lastStickyCellLeft","lastStickyCellWidth","columnsPosition","cellLeft","reduceRight","fadeOffset","shadowLeft","sortByColumn","headerCell","sort_url","prepareSortUrl","sort_by","sort_order","getUserOptionsHandlerUrl","checkAllNodes","total","_clickOnCheckAll","toggleSelectionAll","_clickOnPaginationLink","_clickOnMoreButton","showCheckboxes","enableCollapsibleRows","_onClickOnRow","_onRowDblclick","_clickOnRowActionsButton","_onCollapseButtonClick","defaultJs","clickTimer","clickPrevent","clickDelay","shiftKey","clickActions","containsNotSelected","isPrevent","lastIndex","getLoader","newRows","newHeadRows","newNavPanel","thisBody","thisHead","thisNavPanel","getCounter","getFadeContainer","blockSorting","headerCells","unblockSorting","sortBy","dialog","CONFIRM_APPLY_BUTTON","CONFIRM_APPLY","CONFIRM_CANCEL_BUTTON","CONFIRM_CANCEL","CONFIRM_TITLE","zIndex","offsetTop","onClose","hotKey","PopupWindowButtonLink"],"mappings":"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"}