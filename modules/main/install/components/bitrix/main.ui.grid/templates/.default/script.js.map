{"version":3,"file":"script.js","sources":["src/js/action-panel.js","src/js/baseclass.js","src/js/cols-sortable.js","src/js/data.js","src/js/dropdown.js","src/js/dropdown-manager.js","src/js/element.js","src/js/fader.js","src/js/gridupdater.js","src/js/image-field.js","src/js/inline-editor.js","src/js/loader.js","src/js/manager.js","src/js/message.js","src/js/observer.js","src/js/pagesize.js","src/js/pagination.js","src/js/pin-header.js","src/js/pin-panel.js","src/js/resize.js","src/js/row.js","src/js/rows.js","src/js/rows-sortable.js","src/js/settings.js","src/js/settings-window.js","src/js/settings-window-column.js","src/js/useroptions.js","src/js/utils.js","src/js/realtime.js","src/js/cell-actions.js","src/js/cell-action-state.js","src/js/counters.js","src/js/label.js","src/js/grid.js"],"sourcesContent":[";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.ActionPanel\n\t *\n\t * @param {BX.Main.grid} parent\n\t * @param {object} actions List of available actions Bitrix\\Main\\Grid\\Panel\\Actions::getList()\n\t * @param {string} actions.CREATE\n\t * @param {string} actions.SEND\n\t * @param {string} actions.ACTIVATE\n\t * @param {string} actions.SHOW\n\t * @param {string} actions.HIDE\n\t * @param {string} actions.REMOVE\n\t * @param {string} actions.CALLBACK\n\t * @param {string} actions.INLINE_EDIT\n\t * @param {string} actions.HIDE_ALL_EXPECT\n\t * @param {string} actions.SHOW_ALL\n\t * @param {string} actions.RESET_CONTROLS\n\t *\n\t * @param {object} types List of available control types\n\t * of the actions panel Bitrix\\Main\\Grid\\Panel\\Types::getList()\n\t * @param {string} types.DROPDOWN\n\t * @param {string} types.CHECKBOX\n\t * @param {string} types.TEXT\n\t * @param {string} types.BUTTON\n\t * @param {string} types.LINK\n\t * @param {string} types.CUSTOM\n\t * @param {string} types.HIDDEN\n\t *\n\t * @constructor\n\t */\n\tBX.Grid.ActionPanel = function(parent, actions, types)\n\t{\n\t\tthis.parent = null;\n\t\tthis.rel = {};\n\t\tthis.actions = null;\n\t\tthis.types = null;\n\t\tthis.lastActivated = [];\n\t\tthis.init(parent, actions, types);\n\t\tthis.button = [];\n\t\tthis.elements = [];\n\t\tthis.buttonOnChange = [];\n\t\tthis.buttonData = {};\n\t};\n\n\tBX.Grid.ActionPanel.prototype = {\n\t\tinit: function(parent, actions, types)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.actions = eval(actions);\n\t\t\tthis.types = eval(types);\n\n\t\t\tBX.addCustomEvent(window, 'Dropdown::change', BX.proxy(this._dropdownEventHandle, this));\n\n\t\t\tBX.addCustomEvent(window, 'Dropdown::load', BX.proxy(this._dropdownEventHandle, this));\n\n\t\t\tvar panel = this.getPanel();\n\t\t\tBX.bind(panel, 'change', BX.delegate(this._checkboxChange, this));\n\t\t\tBX.bind(panel, 'click', BX.delegate(this._clickOnButton, this));\n\n\t\t\tBX.addCustomEvent(window, 'Grid::updated', BX.proxy(this._gridUpdatedEventHandle, this));\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent(window, 'Dropdown::change', BX.proxy(this._dropdownEventHandle, this));\n\t\t\tBX.removeCustomEvent(window, 'Dropdown::load', BX.proxy(this._dropdownEventHandle, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::updated', BX.proxy(this._gridUpdatedEventHandle, this));\n\t\t},\n\n\t\t_gridUpdatedEventHandle: function()\n\t\t{\n\t\t\tvar cancelButton = BX('grid_cancel_button');\n\t\t\tcancelButton && BX.fireEvent(BX.firstChild(cancelButton), 'click');\n\t\t},\n\n\t\t_dropdownEventHandle: function(id, event, item, dataItem)\n\t\t{\n\t\t\tthis.isPanelControl(BX(id)) && this._dropdownChange(id, event, item, dataItem);\n\t\t},\n\n\t\tresetForAllCheckbox: function()\n\t\t{\n\t\t\tvar checkbox = this.getForAllCheckbox();\n\n\t\t\tif (BX.type.isDomNode(checkbox))\n\t\t\t{\n\t\t\t\tcheckbox.checked = null;\n\t\t\t}\n\t\t},\n\n\t\tgetForAllCheckbox: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classForAllCheckbox'), true);\n\t\t},\n\n\t\tgetPanel: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.parent.getContainer(), this.parent.settings.get('classActionPanel'), true);\n\t\t},\n\n\t\tgetApplyButton: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classPanelApplyButton'), true);\n\t\t},\n\n\t\tisPanelControl: function(node)\n\t\t{\n\t\t\treturn BX.hasClass(node, this.parent.settings.get('classPanelControl'));\n\t\t},\n\n\t\tgetTextInputs: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getPanel(), 'input[type=\"text\"]');\n\t\t},\n\n\t\tgetHiddenInputs: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getPanel(), 'input[type=\"hidden\"]');\n\t\t},\n\n\t\tgetSelects: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getPanel(), 'select');\n\t\t},\n\n\t\tgetDropdowns: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classDropdown'));\n\t\t},\n\n\t\tgetCheckboxes: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classPanelCheckbox'));\n\t\t},\n\n\t\tgetButtons: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPanel(), this.parent.settings.get('classPanelButton'));\n\t\t},\n\n\t\tisDropdown: function(node)\n\t\t{\n\t\t\treturn BX.hasClass(node, this.parent.settings.get('classDropdown'));\n\t\t},\n\n\t\tisCheckbox: function(node)\n\t\t{\n\t\t\treturn BX.hasClass(node, this.parent.settings.get('classPanelCheckbox'));\n\t\t},\n\n\t\tisTextInput: function(node)\n\t\t{\n\t\t\treturn node.type === 'text';\n\t\t},\n\n\t\tisHiddenInput: function(node)\n\t\t{\n\t\t\treturn node.type === 'hidden';\n\t\t},\n\n\t\tisSelect: function(node)\n\t\t{\n\t\t\treturn node.tagName === 'SELECT';\n\t\t},\n\n\t\tcreateDropdown: function(data, relative)\n\t\t{\n\t\t\tvar emptyText = data.EMPTY_TEXT || '';\n\t\t\tvar isMultiple = data.MULTIPLE === 'Y';\n\t\t\tvar container = this.createContainer(data.ID, relative, {});\n\t\t\tvar dropdown = BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-dropdown main-grid-panel-control',\n\t\t\t\t\tid: data.ID + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tname: data.NAME,\n\t\t\t\t\t'data-name': data.NAME,\n\t\t\t\t\t'data-empty-text': emptyText,\n\t\t\t\t\t'data-multiple': isMultiple ? 'Y' : 'N',\n\t\t\t\t\t'data-items': JSON.stringify(data.ITEMS),\n\t\t\t\t\t'data-value': isMultiple ? '' : data.ITEMS[0].VALUE,\n\t\t\t\t\t'data-popup-position': 'fixed'\n\t\t\t\t},\n\t\t\t\tchildren: [BX.create('span', {\n\t\t\t\t\tprops: {className: 'main-dropdown-inner'},\n\t\t\t\t\thtml: isMultiple ? emptyText : data.ITEMS[0].NAME\n\t\t\t\t})]\n\t\t\t});\n\n\t\t\tcontainer.appendChild(dropdown);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateCheckbox: function(data, relative)\n\t\t{\n\t\t\tvar checkbox = this.createContainer(data.ID, relative, {});\n\n\t\t\tvar inner = BX.create('span', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-checkbox-container'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar titleSpan = BX.create('span', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-control-panel-content-title'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar input = BX.create('input', {\n\t\t\t\tprops: {\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tclassName: this.parent.settings.get('classPanelCheckbox') + ' main-grid-checkbox',\n\t\t\t\t\tid: data.ID + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tvalue: data.VALUE || '',\n\t\t\t\t\ttitle: data.TITLE || '',\n\t\t\t\t\tname: data.NAME || '',\n\t\t\t\t\t'data-onchange': JSON.stringify(data.ONCHANGE)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tinput.checked = data.CHECKED || null;\n\n\t\t\tcheckbox.appendChild(inner);\n\t\t\tcheckbox.appendChild(titleSpan);\n\n\t\t\tinner.appendChild(input);\n\n\t\t\tinner.appendChild(BX.create('label', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-checkbox'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tfor: data.ID + '_control',\n\t\t\t\t\ttitle: data.TITLE\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\ttitleSpan.appendChild(BX.create('label', {\n\t\t\t\tattrs: {\n\t\t\t\t\tfor: data.ID + '_control',\n\t\t\t\t\ttitle: data.TITLE\n\t\t\t\t},\n\t\t\t\thtml: data.LABEL\n\t\t\t}));\n\n\t\t\treturn checkbox;\n\t\t},\n\n\t\t/**\n\t\t * @param {object} data\n\t\t * @param {object} data.ID\n\t\t * @param {object} data.TITLE\n\t\t * @param {object} data.PLACEHOLDER\n\t\t * @param {object} data.ONCHANGE\n\t\t * @param {string} relative\n\t\t * @returns {*}\n\t\t */\n\t\tcreateText: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative, {});\n\t\t\tvar title = BX.type.isNotEmptyString(data[\"TITLE\"]) ? data[\"TITLE\"] : \"\";\n\t\t\tif(title !== \"\")\n\t\t\t{\n\t\t\t\tcontainer.appendChild(\n\t\t\t\t\tBX.create(\n\t\t\t\t\t\t'label',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tattrs: { title: title, for: data.ID + '_control' },\n\t\t\t\t\t\t\ttext: title\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tcontainer.appendChild(\n\t\t\t\tBX.create(\n\t\t\t\t\t'input',\n\t\t\t\t\t{\n\t\t\t\t\t\tprops:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName: 'main-grid-control-panel-input-text main-grid-panel-control',\n\t\t\t\t\t\t\t\tid: data.ID + '_control'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\tattrs:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: data.NAME,\n\t\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\t\tplaceholder: data.PLACEHOLDER || '',\n\t\t\t\t\t\t\t\tvalue: data.VALUE || '',\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t'data-onchange': JSON.stringify(data.ONCHANGE || [])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateHidden: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(\n\t\t\t\tdata.ID,\n\t\t\t\trelative,\n\t\t\t\t{ CLASS: 'main-grid-panel-hidden-control-container' }\n\t\t\t);\n\t\t\tcontainer.appendChild(\n\t\t\t\tBX.create(\n\t\t\t\t\t'input',\n\t\t\t\t\t{\n\t\t\t\t\t\tprops:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: data.ID + '_control',\n\t\t\t\t\t\t\t\ttype: 'hidden'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\tattrs:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: data.NAME,\n\t\t\t\t\t\t\t\tvalue: data.VALUE || ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateButton: function(data, relative)\n\t\t{\n\t\t\tthis.buttonOnChange = (data.ONCHANGE || []);\n\t\t\tthis.buttonData = data;\n\n\t\t\tthis.button = this.createButtonNode(data);\n\n\t\t\tBX.removeCustomEvent(window, 'Grid::unselectRow', BX.proxy(this.prepareButton, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::selectRow', BX.proxy(this.prepareButton, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::allRowsSelected', BX.proxy(this.prepareButton, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::allRowsUnselected', BX.proxy(this.prepareButton, this));\n\n\t\t\tif (\n\t\t\t\tthis.buttonData.SETTINGS\n\t\t\t\t&& data.ID === this.buttonData.SETTINGS.buttonId\n\t\t\t)\n\t\t\t{\n\t\t\t\tBX.addCustomEvent(window, 'Grid::unselectRow', BX.proxy(this.prepareButton, this));\n\t\t\t\tBX.addCustomEvent(window, 'Grid::selectRow', BX.proxy(this.prepareButton, this));\n\t\t\t\tBX.addCustomEvent(window, 'Grid::allRowsSelected', BX.proxy(this.prepareButton, this));\n\t\t\t\tBX.addCustomEvent(window, 'Grid::allRowsUnselected', BX.proxy(this.prepareButton, this));\n\t\t\t}\n\n\t\t\tthis.prepareButton();\n\n\t\t\tlet container = this.createContainer(data.ID, relative, {});\n\t\t\tcontainer.appendChild(this.button);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateButtonNode: function(data)\n\t\t{\n\t\t\treturn BX.create('button', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-buttons' + (data.CLASS ? ' ' + data.CLASS : ''),\n\t\t\t\t\tid: data.ID + '_control',\n\t\t\t\t\ttitle: BX.type.isNotEmptyString(data.TITLE) ? data.TITLE : ''\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tname: data.NAME || ''\n\t\t\t\t},\n\t\t\t\thtml: data.TEXT\n\t\t\t});\n\t\t},\n\n\t\tprepareButton: function()\n\t\t{\n\t\t\tif (this.isSetButtonDisabled())\n\t\t\t{\n\t\t\t\tBX.Dom.attr(this.button, 'data-onchange', []);\n\t\t\t\tBX.Dom.addClass(this.button, 'ui-btn ui-btn-disabled');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.Dom.attr(this.button, 'data-onchange', this.buttonOnChange);\n\t\t\t\tBX.Dom.removeClass(this.button, 'ui-btn ui-btn-disabled');\n\t\t\t}\n\t\t},\n\n\t\tisSetButtonDisabled: function()\n\t\t{\n\t\t\treturn !!(this.buttonData.SETTINGS\n\t\t\t\t&& this.buttonData.SETTINGS.minSelectedRows\n\t\t\t\t&& (this.getSelectedIds().length < this.buttonData.SETTINGS.minSelectedRows));\n\t\t},\n\n\t\t/**\n\t\t * @param {object} data\n\t\t * @param {object} data.ID\n\t\t * @param {object} data.TITLE\n\t\t * @param {object} data.PLACEHOLDER\n\t\t * @param {object} data.ONCHANGE\n\t\t * @param {object} data.CLASS\n\t\t * @param {object} data.HREF\n\t\t * @param {string} relative\n\t\t * @returns {*}\n\t\t */\n\t\tcreateLink: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative, {});\n\t\t\tvar link = BX.create('a', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-link' + (data.CLASS ? ' ' + data.CLASS : ''),\n\t\t\t\t\tid: data.ID + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\thref: data.HREF || '',\n\t\t\t\t\t'data-onchange': JSON.stringify(data.ONCHANGE || [])\n\t\t\t\t},\n\t\t\t\thtml: data.TEXT\n\t\t\t});\n\n\t\t\tcontainer.appendChild(link);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateCustom: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(\n\t\t\t\tdata.ID,\n\t\t\t\trelative,\n\t\t\t\t{ CLASS: 'main-grid-panel-hidden-control-container' }\n\t\t\t);\n\n\t\t\tvar custom = BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'main-grid-panel-custom' + (data.CLASS ? ' ' + data.CLASS : '')\n\t\t\t\t},\n\t\t\t\thtml: data.VALUE\n\t\t\t});\n\n\t\t\tcontainer.appendChild(custom);\n\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateContainer: function(id, relative, options)\n\t\t{\n\t\t\tid = id.replace('_control', '');\n\t\t\trelative = relative.replace('_control', '');\n\t\t\toptions = options || {};\n\n\t\t\treturn BX.create('span', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: this.parent.settings.get('classPanelControlContainer') + (options.CLASS ? ' ' + options.CLASS : ''),\n\t\t\t\t\tid: id\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\t'data-relative': relative\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tremoveItemsRelativeCurrent: function(node)\n\t\t{\n\t\t\tvar element = node;\n\t\t\tvar relative = [node.id];\n\t\t\tvar result = [];\n\t\t\tvar dataRelative;\n\n\t\t\twhile (element) {\n\t\t\t\tdataRelative = BX.data(element, 'relative');\n\n\t\t\t\tif (relative.includes(dataRelative))\n\t\t\t\t{\n\t\t\t\t\trelative.push(element.id);\n\t\t\t\t\tresult.push(element);\n\t\t\t\t}\n\n\t\t\t\telement = element.nextElementSibling;\n\t\t\t}\n\n\t\t\tresult.forEach(function(current) {\n\t\t\t\tBX.remove(current);\n\t\t\t});\n\t\t},\n\n\n\t\tvalidateData: function(data)\n\t\t{\n\t\t\treturn (\n\t\t\t\t('ONCHANGE' in data) &&\n\t\t\t\tBX.type.isArray(data.ONCHANGE)\n\t\t\t);\n\t\t},\n\n\t\tactivateControl: function(id)\n\t\t{\n\t\t\tvar element = BX(id);\n\n\t\t\tif (BX.type.isDomNode(element))\n\t\t\t{\n\t\t\t\tBX.removeClass(element, this.parent.settings.get('classDisable'));\n\t\t\t\telement.disabled = null;\n\t\t\t}\n\t\t},\n\n\t\tdeactivateControl: function(id)\n\t\t{\n\t\t\tvar element = BX(id);\n\n\t\t\tif (BX.type.isDomNode(element))\n\t\t\t{\n\t\t\t\tBX.addClass(element, this.parent.settings.get('classDisable'));\n\t\t\t\telement.disabled = true;\n\t\t\t}\n\t\t},\n\n\t\tshowControl: function(id)\n\t\t{\n\t\t\tvar control = BX(id);\n\t\t\tcontrol && BX.show(control);\n\t\t},\n\n\t\thideControl: function(id)\n\t\t{\n\t\t\tvar control = BX(id);\n\t\t\tcontrol && BX.hide(control);\n\t\t},\n\n\n\t\tvalidateActionObject: function(action)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.type.isPlainObject(action) && ('ACTION' in action) && BX.type.isNotEmptyString(action.ACTION) && (\n\t\t\t\t\taction.ACTION === this.actions.RESET_CONTROLS ||\n\t\t\t\t\t('DATA' in action) && BX.type.isArray(action.DATA)\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\n\t\tvalidateControlObject: function(controlObject)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.type.isPlainObject(controlObject) &&\n\t\t\t\t('TYPE' in controlObject) &&\n\t\t\t\t('ID' in controlObject)\n\t\t\t);\n\t\t},\n\n\t\tcreateDate: function(data, relative)\n\t\t{\n\t\t\tvar container = this.createContainer(data.ID, relative, {});\n\t\t\tvar date = BX.decl({\n\t\t\t\tblock: 'main-ui-date',\n\t\t\t\tmix: ['main-grid-panel-date'],\n\t\t\t\tcalendarButton: true,\n\t\t\t\tvalueDelete: true,\n\t\t\t\tplaceholder: 'PLACEHOLDER' in data ? data.PLACEHOLDER : '',\n\t\t\t\tname: 'NAME' in data ? data.NAME + '_from' : '',\n\t\t\t\ttabindex: 'TABINDEX' in data ? data.TABINDEX : '',\n\t\t\t\tvalue: 'VALUE' in data ? data.VALUE : '',\n\t\t\t\tenableTime: 'TIME' in data ? (data.TIME ? 'true' : 'false') : 'false'\n\t\t\t});\n\n\t\t\tcontainer.appendChild(date);\n\t\t\treturn container;\n\t\t},\n\n\t\tcreateControl: function(controlObject, relativeId)\n\t\t{\n\t\t\tvar newElement = null;\n\t\t\tswitch (controlObject.TYPE)\n\t\t\t{\n\t\t\t\tcase this.types.DROPDOWN :\n\t\t\t\t\tnewElement = this.createDropdown(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.CHECKBOX :\n\t\t\t\t\tnewElement = this.createCheckbox(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.TEXT :\n\t\t\t\t\tnewElement = this.createText(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.HIDDEN :\n\t\t\t\t\tnewElement = this.createHidden(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.BUTTON :\n\t\t\t\t\tnewElement = this.createButton(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.LINK :\n\t\t\t\t\tnewElement = this.createLink(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.CUSTOM :\n\t\t\t\t\tnewElement = this.createCustom(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase this.types.DATE :\n\t\t\t\t\tnewElement = this.createDate(controlObject, relativeId);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn newElement;\n\t\t},\n\n\t\tonChangeHandler: function(container, actions, isPseudo)\n\t\t{\n\t\t\tvar newElement, callback;\n\t\t\tvar self = this;\n\n\t\t\tif (BX.type.isDomNode(container) && BX.type.isArray(actions))\n\t\t\t{\n\t\t\t\tactions.forEach(function(action) {\n\t\t\t\t\tif (self.validateActionObject(action))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (action.ACTION === self.actions.CREATE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.removeItemsRelativeCurrent(container);\n\t\t\t\t\t\t\taction.DATA.reverse();\n\n\t\t\t\t\t\t\taction.DATA.forEach(function(controlObject) {\n\t\t\t\t\t\t\t\tif (self.validateControlObject(controlObject))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnewElement = self.createControl(controlObject, container.id || BX.data(container, 'relative'));\n\n\t\t\t\t\t\t\t\t\tif (BX.type.isDomNode(newElement))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.insertAfter(newElement, container);\n\n\t\t\t\t\t\t\t\t\t\tif (('ONCHANGE' in controlObject) &&\n\t\t\t\t\t\t\t\t\t\t\tcontrolObject.TYPE === self.types.CHECKBOX &&\n\t\t\t\t\t\t\t\t\t\t\t('CHECKED' in controlObject) &&\n\t\t\t\t\t\t\t\t\t\t\tcontrolObject.CHECKED)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tself.onChangeHandler(newElement, controlObject.ONCHANGE);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (controlObject.TYPE === self.types.DROPDOWN &&\n\t\t\t\t\t\t\t\t\t\t\tBX.type.isArray(controlObject.ITEMS) &&\n\t\t\t\t\t\t\t\t\t\t\tcontrolObject.ITEMS.length &&\n\t\t\t\t\t\t\t\t\t\t\t('ONCHANGE' in controlObject.ITEMS[0]) &&\n\t\t\t\t\t\t\t\t\t\t\tBX.type.isArray(controlObject.ITEMS[0].ONCHANGE))\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tself.onChangeHandler(newElement, controlObject.ITEMS[0].ONCHANGE);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.ACTIVATE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.removeItemsRelativeCurrent(container);\n\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction.DATA.forEach(function(currentId) {\n\t\t\t\t\t\t\t\t\tself.lastActivated.push(currentId.ID);\n\t\t\t\t\t\t\t\t\tself.activateControl(currentId.ID);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.SHOW)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction.DATA.forEach(function(showCurrent) {\n\t\t\t\t\t\t\t\t\tself.showControl(showCurrent.ID);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.HIDE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction.DATA.forEach(function(hideCurrent) {\n\t\t\t\t\t\t\t\t\tself.hideControl(hideCurrent.ID);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.HIDE_ALL_EXPECT)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t(self.getControls() || []).forEach(function(current) {\n\t\t\t\t\t\t\t\t\tif (!action.DATA.some(function(el) { return el.ID === current.id}))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tself.hideControl(current.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.SHOW_ALL)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(self.getControls() || []).forEach(function(current) {\n\t\t\t\t\t\t\t\tself.showControl(current.id);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.REMOVE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction.DATA.forEach(function(removeCurrent) {\n\t\t\t\t\t\t\t\t\tBX.remove(BX(removeCurrent.ID));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.CALLBACK)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.confirmDialog(action, BX.delegate(function() {\n\t\t\t\t\t\t\t\tif (BX.type.isArray(action.DATA))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\taction.DATA.forEach(\n\t\t\t\t\t\t\t\t\t\tfunction(currentCallback)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tif (currentCallback.JS.indexOf('Grid.') !== -1)\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tcallback = currentCallback.JS.replace('Grid', 'self.parent');\n\t\t\t\t\t\t\t\t\t\t\t\tcallback = callback.replace('()', '');\n\t\t\t\t\t\t\t\t\t\t\t\tcallback += '.apply(self.parent, [container])';\n\t\t\t\t\t\t\t\t\t\t\t\ttry\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\teval(callback); // jshint ignore:line\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tcatch(err)\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\telse if(BX.type.isNotEmptyString(currentCallback.JS))\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttry\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\teval(currentCallback.JS);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tcatch(err)\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action.ACTION === self.actions.RESET_CONTROLS)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.removeItemsRelativeCurrent(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!isPseudo)\n\t\t\t\t{\n\t\t\t\t\tthis.removeItemsRelativeCurrent(container);\n\t\t\t\t}\n\n\t\t\t\tself.lastActivated.forEach(function(current) {\n\t\t\t\t\tself.deactivateControl(current);\n\t\t\t\t});\n\n\t\t\t\tself.lastActivated = [];\n\t\t\t}\n\t\t},\n\n\t\tconfirmDialog: function(action, then, cancel)\n\t\t{\n\t\t\tthis.parent.confirmDialog(action, then, cancel);\n\t\t},\n\n\t\t/**\n\t\t * Dropdown value change handler\n\t\t * @param {string} id Dropdown id\n\t\t * @param {object} event\n\t\t * @param item\n\t\t * @param {object} dataItem\n\t\t * @param {object} dataItem.ONCHANGE\n\t\t * @param {boolean} dataItem.PSEUDO\n\t\t * @private\n\t\t */\n\t\t_dropdownChange: function(id, event, item, dataItem)\n\t\t{\n\t\t\tvar dropdown = BX(id);\n\t\t\tvar container = dropdown.parentNode;\n\t\t\tvar onChange = dataItem && ('ONCHANGE' in dataItem) ? dataItem.ONCHANGE : null;\n\t\t\tvar isPseudo = dataItem && ('PSEUDO' in dataItem && dataItem.PSEUDO !== false);\n\n\t\t\tthis.onChangeHandler(container, onChange, isPseudo);\n\t\t},\n\n\t\t_checkboxChange: function(event)\n\t\t{\n\t\t\tvar onChange;\n\n\t\t\ttry {\n\t\t\t\tonChange = eval(BX.data(event.target, 'onchange'));\n\t\t\t} catch(err) {\n\t\t\t\tonChange = null;\n\t\t\t}\n\n\t\t\tthis.onChangeHandler(\n\t\t\t\tBX.findParent(event.target, {\n\t\t\t\t\tclassName: this.parent.settings.get('classPanelContainer')\n\t\t\t\t}, true, false),\n\t\t\t\tevent.target.checked || event.target.id.indexOf('actallrows_') !== -1 ? onChange : null\n\t\t\t);\n\t\t},\n\n\t\t_clickOnButton: function(event)\n\t\t{\n\t\t\tvar onChange;\n\n\t\t\tif (this.isButton(event.target))\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\ttry {\n\t\t\t\t\tonChange = eval(BX.data(event.target, 'onchange'));\n\t\t\t\t} catch(err) {\n\t\t\t\t\tonChange = null;\n\t\t\t\t}\n\n\t\t\t\tthis.onChangeHandler(\n\t\t\t\t\tBX.findParent(event.target, {\n\t\t\t\t\t\tclassName: this.parent.settings.get('classPanelContainer')\n\t\t\t\t\t}, true, false),\n\t\t\t\t\tonChange\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\tisButton: function(node)\n\t\t{\n\t\t\treturn BX.hasClass(node, this.parent.settings.get('classPanelButton'));\n\t\t},\n\n\t\tgetSelectedIds: function()\n\t\t{\n\t\t\tvar rows = this.parent.getRows().getSelected().filter(function(row) { return row.isShown(); });\n\n\t\t\treturn rows.map(function(current) {\n\t\t\t\treturn current.getId();\n\t\t\t});\n\t\t},\n\n\t\tgetControls: function()\n\t\t{\n\t\t\treturn BX.findChild(this.getPanel(), {\n\t\t\t\tclassName: this.parent.settings.get('classPanelControlContainer')\n\t\t\t}, true, true);\n\t\t},\n\n\t\tgetValues: function()\n\t\t{\n\t\t\tvar data = {};\n\t\t\tvar self = this;\n\t\t\tvar controls = [].concat(\n\t\t\t\tthis.getDropdowns(),\n\t\t\t\tthis.getTextInputs(),\n\t\t\t\tthis.getHiddenInputs(),\n\t\t\t\tthis.getSelects(),\n\t\t\t\tthis.getCheckboxes(),\n\t\t\t\tthis.getButtons()\n\t\t\t);\n\n\t\t\t(controls || []).forEach(function(current) {\n\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t{\n\t\t\t\t\tif (self.isDropdown(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar dropdownValue = BX.data(current, 'value');\n\t\t\t\t\t\tvar multiple = BX.data(current, 'multiple') === 'Y';\n\t\t\t\t\t\tdropdownValue = (dropdownValue !== null && dropdownValue !== undefined) ? dropdownValue : '';\n\t\t\t\t\t\tdata[BX.data(current, 'name')] = multiple ? dropdownValue.split(',') : dropdownValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.isSelect(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tdata[current.getAttribute('name')] = current.options[current.selectedIndex].value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.isCheckbox(current) && current.checked)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata[current.getAttribute('name')] = current.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.isTextInput(current) || self.isHiddenInput(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tdata[current.getAttribute('name')] = current.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.isButton(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar name = BX.data(current, 'name');\n\t\t\t\t\t\tvar value = BX.data(current, 'value');\n\t\t\t\t\t\tvalue = (value !== null && value !== undefined) ? value : '';\n\n\t\t\t\t\t\tif (name)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdata[name] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn data;\n\t\t}\n\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * Base class\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.BaseClass = function(parent)\n\t{\n\t\tthis.parent = parent;\n\t};\n\n\tBX.Grid.BaseClass.prototype = {\n\t\tgetParent: function()\n\t\t{\n\t\t\treturn this.parent;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.ColsSortable\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.ColsSortable = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.dragItem = null;\n\t\tthis.targetItem = null;\n\t\tthis.rowsList = null;\n\t\tthis.colsList = null;\n\t\tthis.dragRect = null;\n\t\tthis.offset = null;\n\t\tthis.startDragOffset = null;\n\t\tthis.dragColumn = null;\n\t\tthis.targetColumn = null;\n\t\tthis.isDrag = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.ColsSortable.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.colsList = this.getColsList();\n\t\t\tthis.rowsList = this.getRowsList();\n\n\t\t\tif (!this.inited)\n\t\t\t{\n\t\t\t\tthis.inited = true;\n\t\t\t\tBX.addCustomEvent('Grid::updated', BX.proxy(this.reinit, this));\n\t\t\t\tBX.addCustomEvent('Grid::headerUpdated', BX.proxy(this.reinit, this));\n\t\t\t}\n\n\t\t\tthis.registerObjects();\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent('Grid::updated', BX.proxy(this.reinit, this));\n\t\t\tthis.unregisterObjects();\n\t\t},\n\n\t\treinit: function()\n\t\t{\n\t\t\tthis.unregisterObjects();\n\t\t\tthis.reset();\n\t\t\tthis.init(this.parent);\n\t\t},\n\n\t\treset: function()\n\t\t{\n\t\t\tthis.dragItem = null;\n\t\t\tthis.targetItem = null;\n\t\t\tthis.rowsList = null;\n\t\t\tthis.colsList = null;\n\t\t\tthis.dragRect = null;\n\t\t\tthis.offset = null;\n\t\t\tthis.startDragOffset = null;\n\t\t\tthis.dragColumn = null;\n\t\t\tthis.targetColumn = null;\n\t\t\tthis.isDrag = null;\n\t\t\tthis.fixedTableColsList = null;\n\t\t},\n\n\t\tisActive: function()\n\t\t{\n\t\t\treturn this.isDrag;\n\t\t},\n\n\t\tregisterObjects: function()\n\t\t{\n\t\t\tthis.unregisterObjects();\n\t\t\tthis.getColsList().forEach(this.register, this);\n\t\t\tthis.getFixedHeaderColsList().forEach(this.register, this);\n\t\t},\n\n\t\tunregisterObjects: function()\n\t\t{\n\t\t\tthis.getColsList().forEach(this.unregister, this);\n\t\t\tthis.getFixedHeaderColsList().forEach(this.unregister, this);\n\t\t},\n\n\t\tunregister: function(column)\n\t\t{\n\t\t\tjsDD.unregisterObject(column);\n\t\t},\n\n\t\tregister: function(column)\n\t\t{\n\t\t\tcolumn.onbxdragstart = BX.proxy(this._onDragStart, this);\n\t\t\tcolumn.onbxdrag = BX.proxy(this._onDrag, this);\n\t\t\tcolumn.onbxdragstop = BX.proxy(this._onDragEnd, this);\n\t\t\tjsDD.registerObject(column);\n\t\t},\n\n\t\tgetColsList: function()\n\t\t{\n\t\t\tif (!this.colsList)\n\t\t\t{\n\t\t\t\tthis.colsList = BX.Grid.Utils.getByTag(this.parent.getRows().getHeadFirstChild().getNode(), 'th');\n\t\t\t\tthis.colsList = this.colsList.filter(function(current) {\n\t\t\t\t\treturn !this.isStatic(current);\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\treturn this.colsList;\n\t\t},\n\n\t\tgetFixedHeaderColsList: function()\n\t\t{\n\t\t\tif (!this.fixedTableColsList && this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.fixedTableColsList = BX.Grid.Utils.getByTag(this.parent.getPinHeader().getFixedTable(), 'th');\n\t\t\t\tthis.fixedTableColsList = this.fixedTableColsList.filter(function(current) {\n\t\t\t\t\treturn !this.isStatic(current);\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\treturn this.fixedTableColsList || [];\n\t\t},\n\n\t\tgetRowsList: function()\n\t\t{\n\t\t\tvar rowsList = this.parent.getRows().getSourceRows();\n\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\trowsList = rowsList.concat(BX.Grid.Utils.getByTag(this.parent.getPinHeader().getFixedTable(), 'tr'));\n\t\t\t}\n\n\t\t\treturn rowsList;\n\t\t},\n\n\t\tisStatic: function(item)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.hasClass(item, this.parent.settings.get('classCellStatic')) &&\n\t\t\t\t!BX.hasClass(item, 'main-grid-fixed-column')\n\t\t\t);\n\t\t},\n\n\t\tgetDragOffset: function()\n\t\t{\n\t\t\tvar offset = this.parent.getScrollContainer().scrollLeft - this.startScrollOffset;\n\t\t\treturn ((jsDD.x - this.startDragOffset - this.dragRect.left) + offset);\n\t\t},\n\n\t\tgetColumn: function(cell)\n\t\t{\n\t\t\tvar column = [];\n\n\t\t\tif (cell instanceof HTMLTableCellElement)\n\t\t\t{\n\t\t\t\tcolumn = this.rowsList.map(function(row) {\n\t\t\t\t\treturn row.cells[cell.cellIndex];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn column;\n\t\t},\n\n\t\t_onDragStart: function()\n\t\t{\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER') && this.parent.getPinHeader().isPinned())\n\t\t\t{\n\t\t\t\tthis.colsList = this.getFixedHeaderColsList();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.colsList = this.getColsList();\n\t\t\t}\n\n\t\t\tthis.startScrollOffset = this.parent.getScrollContainer().scrollLeft;\n\t\t\tthis.isDrag = true;\n\t\t\tthis.dragItem = jsDD.current_node;\n\t\t\tthis.dragRect = this.dragItem.getBoundingClientRect();\n\t\t\tthis.offset = Math.ceil(this.dragRect.width);\n\t\t\tthis.startDragOffset = jsDD.start_x - this.dragRect.left;\n\t\t\tthis.dragColumn = this.getColumn(this.dragItem);\n\t\t\tthis.dragIndex = BX.Grid.Utils.getIndex(this.colsList, this.dragItem);\n\t\t\tthis.parent.preventSortableClick = true;\n\t\t},\n\n\t\tisDragToRight: function(node, index)\n\t\t{\n\t\t\tvar nodeClientRect = node.getBoundingClientRect();\n\t\t\tvar nodeCenter = Math.ceil(nodeClientRect.left + (nodeClientRect.width / 2) + BX.scrollLeft(window));\n\t\t\tvar dragIndex = this.dragIndex;\n\t\t\tvar x = jsDD.x;\n\n\t\t\treturn index > dragIndex && x > nodeCenter;\n\t\t},\n\n\t\tisDragToLeft: function(node, index)\n\t\t{\n\t\t\tvar nodeClientRect = node.getBoundingClientRect();\n\t\t\tvar nodeCenter = Math.ceil(nodeClientRect.left + (nodeClientRect.width / 2) + BX.scrollLeft(window));\n\t\t\tvar dragIndex = this.dragIndex;\n\t\t\tvar x = jsDD.x;\n\n\t\t\treturn index < dragIndex && x < nodeCenter;\n\t\t},\n\n\t\tisDragToBack: function(node, index)\n\t\t{\n\t\t\tvar nodeClientRect = node.getBoundingClientRect();\n\t\t\tvar nodeCenter = Math.ceil(nodeClientRect.left + (nodeClientRect.width / 2) + BX.scrollLeft(window));\n\t\t\tvar dragIndex = this.dragIndex;\n\t\t\tvar x = jsDD.x;\n\n\t\t\treturn (index > dragIndex && x < nodeCenter) || (index < dragIndex && x > nodeCenter);\n\t\t},\n\n\n\t\tisMovedToRight: function(node)\n\t\t{\n\t\t\treturn node.style.transform === 'translate3d('+(-this.offset)+'px, 0px, 0px)';\n\t\t},\n\n\t\tisMovedToLeft: function(node)\n\t\t{\n\t\t\treturn node.style.transform === 'translate3d('+(this.offset)+'px, 0px, 0px)';\n\t\t},\n\n\t\tisMoved: function(node)\n\t\t{\n\t\t\treturn (node.style.transform !== 'translate3d(0px, 0px, 0px)' && node.style.transform !== '');\n\t\t},\n\n\t\t/**\n\t\t * Moves grid column by offset\n\t\t * @param {array} column - Array cells of column\n\t\t * @param {int} offset - Pixels offset\n\t\t * @param {int} [transition = 300] - Transition duration in milliseconds\n\t\t */\n\t\tmoveColumn: function(column, offset, transition)\n\t\t{\n\t\t\ttransition = BX.type.isNumber(transition) ? transition : 300;\n\t\t\tBX.Grid.Utils.styleForEach(column, {\n\t\t\t\t'transition': transition+'ms',\n\t\t\t\t'transform': 'translate3d('+offset+'px, 0px, 0px)'\n\t\t\t});\n\t\t},\n\n\t\t_onDrag: function()\n\t\t{\n\t\t\tthis.dragOffset = this.getDragOffset();\n\t\t\tthis.targetItem = this.targetItem || this.dragItem;\n\t\t\tthis.targetColumn = this.targetColumn || this.dragColumn;\n\n\t\t\tvar leftOffset = -this.offset;\n\t\t\tvar rightOffset = this.offset;\n\t\t\tvar defaultOffset = 0;\n\t\t\tvar dragTransitionDuration = 0;\n\n\t\t\tthis.moveColumn(this.dragColumn, this.dragOffset, dragTransitionDuration);\n\n\t\t\t[].forEach.call(this.colsList, function(current, index) {\n\t\t\t\tif (current && !current.classList.contains('main-grid-cell-static'))\n\t\t\t\t{\n\t\t\t\t\tif (this.isDragToRight(current, index) && !this.isMovedToRight(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetColumn = this.getColumn(current);\n\t\t\t\t\t\tthis.moveColumn(this.targetColumn, leftOffset);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isDragToLeft(current, index) && !this.isMovedToLeft(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetColumn = this.getColumn(current);\n\t\t\t\t\t\tthis.moveColumn(this.targetColumn, rightOffset);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isDragToBack(current, index) && this.isMoved(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetColumn = this.getColumn(current);\n\t\t\t\t\t\tthis.moveColumn(this.targetColumn, defaultOffset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\n\t\t_onDragEnd: function()\n\t\t{\n\t\t\t[].forEach.call(this.dragColumn, function(current, index) {\n\t\t\t\tBX.Grid.Utils.collectionSort(current, this.targetColumn[index]);\n\t\t\t}, this);\n\n\t\t\tthis.rowsList.forEach(function(current) {\n\t\t\t\tBX.Grid.Utils.styleForEach(current.cells, {\n\t\t\t\t\ttransition: '',\n\t\t\t\t\ttransform: ''\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.reinit();\n\n\t\t\tvar columns = this.colsList.map(function(current) {\n\t\t\t\treturn BX.data(current, 'name');\n\t\t\t});\n\n\t\t\tthis.parent.getUserOptions().setColumns(columns);\n\t\t\tBX.onCustomEvent(this.parent.getContainer(), 'Grid::columnMoved', [this.parent]);\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tthis.parent.preventSortableClick = false;\n\t\t\t}.bind(this), 10);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tvar originalUpdatePageData = window.parent.BX.ajax.UpdatePageData;\n\n\tfunction disableBxAjaxUpdatePageData()\n\t{\n\t\twindow.parent.BX.ajax.UpdatePageData = function() {};\n\t}\n\n\tfunction enableBxAjaxUpdatePageData()\n\t{\n\t\twindow.parent.BX.ajax.UpdatePageData = originalUpdatePageData;\n\t}\n\n\t/**\n\t * Works with requests and server response\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Data = function(parent)\n\t{\n\t\tthis.parent = parent;\n\t\tthis.reset();\n\t};\n\n\n\t/**\n\t * Reset to default values\n\t * @private\n\t */\n\tBX.Grid.Data.prototype.reset = function()\n\t{\n\t\tthis.response = null;\n\t\tthis.xhr = null;\n\t\tthis.headRows = null;\n\t\tthis.bodyRows = null;\n\t\tthis.footRows = null;\n\t\tthis.moreButton = null;\n\t\tthis.pagination = null;\n\t\tthis.counterDisplayed = null;\n\t\tthis.counterSelected = null;\n\t\tthis.counterTotal = null;\n\t\tthis.limit = null;\n\t\tthis.actionPanel = null;\n\t\tthis.rowsByParentId = {};\n\t\tthis.rowById = {};\n\t\tthis.isValidResponse = null;\n\t};\n\n\n\t/**\n\t * Gets filter\n\t * @return {BX.Main.Filter}\n\t */\n\tBX.Grid.Data.prototype.getParent = function()\n\t{\n\t\treturn this.parent;\n\t};\n\n\n\t/**\n\t * Validates server response\n\t * @return {boolean}\n\t */\n\tBX.Grid.Data.prototype.validateResponse = function()\n\t{\n\t\tif (!BX.type.isBoolean(this.isValidResponse))\n\t\t{\n\t\t\tthis.isValidResponse = !!this.getResponse() && !!BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classContainer'), true);\n\t\t}\n\n\t\treturn this.isValidResponse;\n\t};\n\n\n\t/**\n\t * Send request\n\t * @param {string} [url]\n\t * @param {string} [method]\n\t * @param {object} [data]\n\t * @param {string} [action]\n\t * @param {function} [then]\n\t * @param {function} [error]\n\t */\n\tBX.Grid.Data.prototype.request = function(url, method, data, action, then, error)\n\t{\n\t\tif(!BX.type.isString(url))\n\t\t{\n\t\t\turl = \"\";\n\t\t}\n\t\tif(!BX.type.isNotEmptyString(method))\n\t\t{\n\t\t\tmethod = \"GET\";\n\t\t}\n\n\t\tif(!BX.type.isPlainObject(data))\n\t\t{\n\t\t\tdata = {};\n\t\t}\n\n\t\tvar eventArgs =\n\t\t\t{\n\t\t\t\tgridId: this.parent.getId(),\n\t\t\t\turl: url,\n\t\t\t\tmethod: method,\n\t\t\t\tdata: data\n\t\t\t};\n\n\t\tthis.parent.disableCheckAllCheckboxes();\n\t\tBX.onCustomEvent(\n\t\t\twindow,\n\t\t\t\"Grid::beforeRequest\",\n\t\t\t[this, eventArgs]\n\t\t);\n\n\t\tif(eventArgs.hasOwnProperty(\"cancelRequest\") && eventArgs.cancelRequest === true)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\turl = eventArgs.url;\n\n\t\tif (!BX.type.isNotEmptyString(url))\n\t\t{\n\t\t\turl = this.parent.baseUrl;\n\t\t}\n\n\t\turl = BX.Grid.Utils.addUrlParams(url, { sessid: BX.bitrix_sessid(), internal: 'true', grid_id: this.parent.getId() });\n\n\t\tif ('apply_filter' in data && data.apply_filter === 'Y')\n\t\t{\n\t\t\turl = BX.Grid.Utils.addUrlParams(url, {apply_filter: 'Y'});\n\t\t}\n\t\telse\n\t\t{\n\t\t\turl = BX.util.remove_url_param(url, 'apply_filter');\n\t\t}\n\n\t\tif ('clear_nav' in data && data.clear_nav === 'Y')\n\t\t{\n\t\t\turl = BX.Grid.Utils.addUrlParams(url, {clear_nav: 'Y'});\n\t\t}\n\t\telse\n\t\t{\n\t\t\turl = BX.util.remove_url_param(url, 'clear_nav');\n\t\t}\n\n\t\turl = BX.Grid.Utils.addUrlParams(url, {grid_action: action || 'showpage'});\n\n\t\tmethod = eventArgs.method;\n\t\tdata = eventArgs.data;\n\n\t\tthis.reset();\n\n\t\tvar self = this;\n\n\t\tsetTimeout(function() {\n\t\t\tvar formData = BX.Http.Data.convertObjectToFormData(data);\n\n\t\t\tdisableBxAjaxUpdatePageData();\n\n\t\t\tvar xhr = BX.ajax({\n\t\t\t\turl: BX.Grid.Utils.ajaxUrl(url, self.getParent().getAjaxId()),\n\t\t\t\tdata: formData,\n\t\t\t\tmethod: method,\n\t\t\t\tdataType: 'html',\n\t\t\t\theaders: [\n\t\t\t\t\t{name: 'X-Ajax-Grid-UID', value: self.getParent().getAjaxId()},\n\t\t\t\t\t{name: 'X-Ajax-Grid-Req', value: JSON.stringify({action: action || 'showpage'})}\n\t\t\t\t],\n\t\t\t\tprocessData: true,\n\t\t\t\tscriptsRunFirst: false,\n\t\t\t\tstart: false,\n\t\t\t\tpreparePost: false,\n\t\t\t\tonsuccess: function(response) {\n\t\t\t\t\tself.response = BX.create('div', {html: response});\n\t\t\t\t\tself.response = self.response.querySelector('#'+self.parent.getContainerId());\n\t\t\t\t\tself.xhr = xhr;\n\n\t\t\t\t\tif (self.parent.getParam('HANDLE_RESPONSE_ERRORS'))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar res;\n\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tres = JSON.parse(response);\n\t\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\t\tres = {messages: []};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.messages.length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.parent.arParams['MESSAGES'] = res.messages;\n\t\t\t\t\t\t\tself.parent.messages.show();\n\n\t\t\t\t\t\t\tself.parent.tableUnfade();\n\n\t\t\t\t\t\t\tif (BX.type.isFunction(error))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.delegate(error, self)(xhr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (BX.type.isFunction(then))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.parent.enableCheckAllCheckboxes();\n\t\t\t\t\t\tBX.delegate(then, self)(response, xhr);\n\t\t\t\t\t}\n\n\t\t\t\t\tenableBxAjaxUpdatePageData();\n\t\t\t\t},\n\t\t\t\tonerror: function(err) {\n\t\t\t\t\tself.error = error;\n\t\t\t\t\tself.xhr = xhr;\n\n\t\t\t\t\tif (BX.type.isFunction(error))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.parent.enableCheckAllCheckboxes();\n\t\t\t\t\t\tBX.delegate(error, self)(xhr, err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\txhr.send(formData);\n\t\t}, 0);\n\t};\n\n\n\t/**\n\t * Gets server response\n\t * @return {?Element}\n\t */\n\tBX.Grid.Data.prototype.getResponse = function()\n\t{\n\t\treturn this.response;\n\t};\n\n\t/**\n\t * Returns a grid container\n\t * @return {?Element}\n\t */\n\tBX.Grid.Data.prototype.getContainer = function()\n\t{\n\t\tconst className = this.getParent().settings.get('classContainer');\n\t\tif (BX.Dom.hasClass(this.getResponse(), className))\n\t\t{\n\t\t\treturn this.getResponse();\n\t\t}\n\n\t\treturn BX.Grid.Utils.getByClass(this.getResponse(), className, true);\n\t};\n\n\t/**\n\t * Gets head rows of grid from server response\n\t * @return {?HTMLTableRowElement[]}\n\t */\n\tBX.Grid.Data.prototype.getHeadRows = function()\n\t{\n\t\tif (!this.headRows)\n\t\t{\n\t\t\tthis.headRows = BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classHeadRow'));\n\t\t}\n\n\t\treturn this.headRows;\n\t};\n\n\n\t/**\n\t * Gets body rows of grid form server request\n\t * @return {?HTMLTableRowElement[]}\n\t */\n\tBX.Grid.Data.prototype.getBodyRows = function()\n\t{\n\t\tif (!this.bodyRows)\n\t\t{\n\t\t\tthis.bodyRows = BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classBodyRow'));\n\t\t}\n\n\t\treturn this.bodyRows;\n\t};\n\n\n\t/**\n\t * Gets rows by parent id\n\t * @param {string|number} id\n\t * @return {?HTMLTableRowElement[]}\n\t */\n\tBX.Grid.Data.prototype.getRowsByParentId = function(id)\n\t{\n\t\tif (!(id in this.rowsByParentId))\n\t\t{\n\t\t\tthis.rowsByParentId[id] = BX.Grid.Utils.getBySelector(\n\t\t\t\tthis.getResponse(),\n\t\t\t\t'.'+this.getParent().settings.get('classBodyRow')+'[data-parent-id=\"'+id+'\"]'\n\t\t\t);\n\t\t}\n\n\t\treturn this.rowsByParentId[id];\n\t};\n\n\n\t/**\n\t * Gets row by row id\n\t * @param {string|number} id\n\t * @return {?HTMLTableRowElement}\n\t */\n\tBX.Grid.Data.prototype.getRowById = function(id)\n\t{\n\t\tif (!(id in this.rowById))\n\t\t{\n\t\t\tthis.rowById[id] = BX.Grid.Utils.getBySelector(\n\t\t\t\tthis.getResponse(),\n\t\t\t\t'.'+this.getParent().settings.get('classBodyRow')+'[data-id=\"'+id+'\"]',\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.rowById[id];\n\t};\n\n\n\t/**\n\t * Gets tfoot rows of grid from request\n\t * @return {?HTMLTableRowElement[]}\n\t */\n\tBX.Grid.Data.prototype.getFootRows = function()\n\t{\n\t\tif (!this.footRows)\n\t\t{\n\t\t\tthis.footRows = BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classFootRow'));\n\t\t}\n\n\t\treturn this.footRows;\n\t};\n\n\n\t/**\n\t * Gets more button from request\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getMoreButton = function()\n\t{\n\t\tif (!this.moreButton)\n\t\t{\n\t\t\tthis.moreButton = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classMoreButton'),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.moreButton;\n\t};\n\n\n\t/**\n\t * Gets pagination of grid from request\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getPagination = function()\n\t{\n\t\tif (!this.pagination)\n\t\t{\n\t\t\tthis.pagination = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classPagination'),\n\t\t\t\ttrue\n\t\t\t);\n\n\t\t\tif (BX.type.isDomNode(this.pagination))\n\t\t\t{\n\t\t\t\tthis.pagination = BX.firstChild(this.pagination);\n\t\t\t}\n\t\t}\n\n\t\treturn this.pagination;\n\t};\n\n\n\t/**\n\t * Gets counter of displayed rows\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getCounterDisplayed = function()\n\t{\n\t\tif (!this.counterDisplayed)\n\t\t{\n\t\t\tthis.counterDisplayed = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classCounterDisplayed'),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.counterDisplayed;\n\t};\n\n\n\t/**\n\t * Gets counter of selected rows\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getCounterSelected = function()\n\t{\n\t\tif (!this.counterSelected)\n\t\t{\n\t\t\tthis.counterSelected = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classCounterSelected'),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.counterSelected;\n\t};\n\n\n\t/**\n\t * Gets counter of total rows count\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getCounterTotal = function()\n\t{\n\t\tif (!BX.type.isDomNode(this.counterTotal))\n\t\t{\n\t\t\tvar selector = '.'+this.getParent().settings.get('classCounterTotal')+' .'+this.getParent().settings.get('classPanelCellContent');\n\t\t\tthis.counterTotal = BX.Grid.Utils.getBySelector(this.getResponse(), selector, true);\n\t\t}\n\n\t\treturn this.counterTotal;\n\t};\n\n\n\t/**\n\t * Gets dropdown of pagesize\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getLimit = function()\n\t{\n\t\tif (!this.limit)\n\t\t{\n\t\t\tthis.limit = BX.Grid.Utils.getByClass(this.getResponse(), this.getParent().settings.get('classPageSize'), true);\n\t\t}\n\n\t\treturn this.limit;\n\t};\n\n\n\t/**\n\t * Gets dropdown of pagesize\n\t * @alias BX.Grid.Data.prototype.getLimit\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getPageSize = function()\n\t{\n\t\treturn this.getLimit();\n\t};\n\n\n\t/**\n\t * Gets action panel of grid\n\t * @return {?HTMLElement}\n\t */\n\tBX.Grid.Data.prototype.getActionPanel = function()\n\t{\n\t\tif (!this.actionPanel)\n\t\t{\n\t\t\tthis.actionPanel = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getResponse(),\n\t\t\t\tthis.getParent().settings.get('classActionPanel'),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\treturn this.actionPanel;\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Main');\n\n\n\t/**\n\t * BX.Main.dropdown\n\t * @param dropdown\n\t */\n\tBX.Main.dropdown = function(dropdown)\n\t{\n\t\tthis.id = null;\n\t\tthis.dropdown = null;\n\t\tthis.items = null;\n\t\tthis.value = null;\n\t\tthis.menuId = null;\n\t\tthis.menu = null;\n\t\tthis.menuItems = null;\n\t\tthis.multiple = null;\n\t\tthis.emptyText = null;\n\t\tthis.dataItems = 'items';\n\t\tthis.dataValue = 'value';\n\t\tthis.dataPseudo = 'pseudo';\n\t\tthis.dropdownItemClass = 'main-dropdown-item';\n\t\tthis.activeClass = 'main-dropdown-active';\n\t\tthis.selectedClass = 'main-dropdown-item-selected';\n\t\tthis.notSelectedClass = 'main-dropdown-item-not-selected';\n\t\tthis.lockedClass = 'main-dropdown-item-locked';\n\t\tthis.menuItemClass = 'menu-popup-item';\n\t\tthis.init(dropdown);\n\t};\n\n\tBX.Main.dropdown.prototype = {\n\t\tinit(dropdown)\n\t\t{\n\t\t\tthis.id = dropdown.id;\n\t\t\tthis.dropdown = dropdown;\n\t\t\tthis.items = this.getItems();\n\t\t\tthis.value = this.getValue();\n\t\t\tthis.menuId = this.getMenuId();\n\t\t\tthis.multiple = this.getMultiple();\n\t\t\tthis.emptyText = this.getEmptyText();\n\t\t\tthis.menu = this.createMenu();\n\t\t\tthis.menu.popupWindow.show();\n\t\t\tthis.adjustPosition();\n\n\t\t\tBX.bind(this.dropdown, 'click', BX.delegate(this.showMenu, this));\n\t\t},\n\n\t\tgetMenuId()\n\t\t{\n\t\t\treturn this.id + '_menu';\n\t\t},\n\n\t\tgetItems()\n\t\t{\n\t\t\tlet result;\n\n\t\t\ttry {\n\t\t\t\tconst str = BX.data(this.dropdown, this.dataItems);\n\t\t\t\tresult = eval(str);\n\t\t\t} catch (err) {\n\t\t\t\tresult = [];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t// single\n\t\tgetValue()\n\t\t{\n\t\t\treturn BX.data(this.dropdown, this.dataValue);\n\t\t},\n\n\t\tgetValueItem()\n\t\t{\n\t\t\tconst value = this.getValue();\n\t\t\treturn this.getItems().find((item) => item.VALUE === value);\n\t\t},\n\n\t\t// multiple\n\t\tgetValueAsArray()\n\t\t{\n\t\t\tlet value = this.getValue();\n\t\t\tif (value === undefined)\n\t\t\t{\n\t\t\t\tvalue = '';\n\t\t\t}\n\t\t\treturn value.toString().split(',').filter((i) => i !== '');\n\t\t},\n\n\t\tgetValueItems()\n\t\t{\n\t\t\tconst values = this.getValueAsArray();\n\t\t\treturn this.getItems().filter((item) => values.includes(item.VALUE));\n\t\t},\n\n\t\ttoggleValue(value)\n\t\t{\n\t\t\tif (this.multiple)\n\t\t\t{\n\t\t\t\tif (value || value === 0 || value === '0')\n\t\t\t\t{\n\t\t\t\t\tconst values = this.getValueAsArray();\n\t\t\t\t\tconst index = values.indexOf(value);\n\n\t\t\t\t\tif (index < 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tvalues.push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dropdown.dataset[this.dataValue] = values.join(',');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.dropdown.dataset[this.dataValue] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.dropdown.dataset[this.dataValue] = value;\n\t\t\t}\n\t\t},\n\n\t\tgetValueText()\n\t\t{\n\t\t\tif (this.multiple)\n\t\t\t{\n\t\t\t\treturn this.getValueItems().map((item) => item.NAME).filter((i) => !!i).join(\", \") || this.emptyText;\n\t\t\t}\n\n\t\t\tconst item = this.getValueItem();\n\t\t\treturn item ? item.NAME : this.emptyText;\n\t\t},\n\n\t\tgetMultiple()\n\t\t{\n\t\t\treturn this.dropdown.dataset.multiple === 'Y';\n\t\t},\n\n\t\tgetEmptyText()\n\t\t{\n\t\t\treturn this.dropdown.dataset.emptyText || null;\n\t\t},\n\n\t\tprepareMenuItems()\n\t\t{\n\t\t\tconst self = this;\n\t\t\tlet attrs, subItem;\n\t\t\tconst currentValue = this.multiple ? this.getValueAsArray() : this.getValue();\n\n\t\t\tfunction prepareItems(items)\n\t\t\t{\n\t\t\t\tconst isHtmlEntity = self.dropdown.dataset['htmlEntity'] === 'true';\n\t\t\t\treturn items.map(function(item) {\n\t\t\t\t\tattrs = {};\n\t\t\t\t\tattrs['data-'+self.dataValue] = item.VALUE;\n\t\t\t\t\tattrs['data-'+self.dataPseudo] = 'PSEUDO' in item && item.PSEUDO ? 'true' : 'false';\n\n\t\t\t\t\tsubItem = BX.create('div', {children: [\n\t\t\t\t\t\tBX.create('span', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: self.dropdownItemClass\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tattrs: attrs,\n\t\t\t\t\t\t\thtml: isHtmlEntity ? item.NAME: null,\n\t\t\t\t\t\t\ttext: isHtmlEntity ? null: item.NAME\n\t\t\t\t\t\t})\n\t\t\t\t\t]});\n\n\t\t\t\t\tconst selected =\n\t\t\t\t\t\tself.multiple\n\t\t\t\t\t\t? currentValue.includes(item.VALUE)\n\t\t\t\t\t\t: currentValue === item.VALUE\n\t\t\t\t\t;\n\t\t\t\t\treturn {\n\t\t\t\t\t\thtml: subItem.innerHTML,\n\t\t\t\t\t\tclassName: selected ? self.selectedClass : self.notSelectedClass,\n\t\t\t\t\t\tdelimiter: item.DELIMITER,\n\t\t\t\t\t\titems: 'ITEMS' in item ? prepareItems(item.ITEMS) : null\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst items = prepareItems(this.getItems());\n\t\t\tBX.onCustomEvent(window, 'Dropdown::onPrepareItems', [this.id, this.menuId, items])\n\t\t\treturn items;\n\t\t},\n\n\t\tcreateMenu()\n\t\t{\n\t\t\tconst self = this;\n\n\t\t\treturn BX.PopupMenu.create(\n\t\t\t\tthis.getMenuId(),\n\t\t\t\tthis.dropdown,\n\t\t\t\tthis.prepareMenuItems(),\n\t\t\t\t{\n\t\t\t\t\t'autoHide': true,\n\t\t\t\t\t'offsetTop': -8,\n\t\t\t\t\t'offsetLeft': +(this.dropdown.dataset.menuOffsetLeft || 40),\n\t\t\t\t\t'maxHeight': +(this.dropdown.dataset.menuMaxHeight || 170),\n\t\t\t\t\t'angle': {\n\t\t\t\t\t\t'position': 'bottom',\n\t\t\t\t\t\t'offset': 0\n\t\t\t\t\t},\n\t\t\t\t\t'events': {\n\t\t\t\t\t\t'onPopupClose': BX.delegate(this._onCloseMenu, this),\n\t\t\t\t\t\t'onPopupShow'() {\n\t\t\t\t\t\t\tself._onShowMenu();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\tshowMenu()\n\t\t{\n\t\t\tthis.menu = BX.PopupMenu.getMenuById(this.menuId);\n\n\t\t\tif (!this.menu)\n\t\t\t{\n\t\t\t\tthis.menu = this.createMenu();\n\t\t\t\tthis.menu.popupWindow.show();\n\t\t\t}\n\n\t\t\tthis.adjustPosition();\n\t\t},\n\n\t\tadjustPosition()\n\t\t{\n\t\t\tif (this.dropdown.dataset.popupPosition === 'fixed')\n\t\t\t{\n\t\t\t\tvar container = this.menu.popupWindow.popupContainer;\n\n\t\t\t\tcontainer.style.setProperty('top', 'auto');\n\t\t\t\tcontainer.style.setProperty('bottom', '45px');\n\t\t\t\tcontainer.style.setProperty('left', '0px');\n\n\t\t\t\tthis.dropdown.appendChild(container);\n\t\t\t}\n\t\t},\n\n\t\tgetSubItem(node)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(node, this.dropdownItemClass, true);\n\t\t},\n\n\t\trefresh(item)\n\t\t{\n\t\t\tconst subItem = this.getSubItem(item);\n\t\t\tlet value = BX.data(subItem, this.dataValue);\n\t\t\tif (BX.Type.isUndefined(value))\n\t\t\t{\n\t\t\t\tvalue = '';\n\t\t\t}\n\n\t\t\tthis.toggleValue(value);\n\t\t\tif (this.dropdown.dataset['htmlEntity'] === 'true')\n\t\t\t{\n\t\t\t\tBX.firstChild(this.dropdown).innerHTML = this.getValueText();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.firstChild(this.dropdown).innerText = this.getValueText();\n\t\t\t}\n\t\t},\n\n\t\tselectItem(node)\n\t\t{\n\t\t\tconst self = this;\n\n\t\t\t(this.menu.menuItems || []).forEach(function(current) {\n\t\t\t\t// multiple\n\t\t\t\tif (self.multiple)\n\t\t\t\t{\n\t\t\t\t\tif (node === current.layout.item)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (BX.hasClass(node, self.selectedClass))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.addClass(current.layout.item, self.notSelectedClass);\n\t\t\t\t\t\t\tBX.removeClass(current.layout.item, self.selectedClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.removeClass(current.layout.item, self.notSelectedClass);\n\t\t\t\t\t\t\tBX.addClass(current.layout.item, self.selectedClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// single\n\t\t\t\tBX.removeClass(current.layout.item, self.selectedClass);\n\n\t\t\t\tif (node !== current.layout.item)\n\t\t\t\t{\n\t\t\t\t\tBX.addClass(current.layout.item, self.notSelectedClass);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.removeClass(current.layout.item, self.notSelectedClass);\n\t\t\t\t\tBX.addClass(current.layout.item, self.selectedClass);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlockedItem(node) {\n\n\t\t\tBX.addClass(node, this.lockedClass);\n\t\t},\n\n\t\tgetDataItemIndexByValue(items, value)\n\t\t{\n\t\t\tlet result;\n\n\t\t\tif (BX.type.isArray(items))\n\t\t\t{\n\t\t\t\titems.map(function(current, index) {\n\t\t\t\t\tif (current.VALUE === value)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult = index;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\tgetDataItemByValue(value)\n\t\t{\n\t\t\tconst result = this.getItems().filter(function(current) {\n\t\t\t\treturn current.VALUE === value;\n\t\t\t});\n\n\t\t\treturn result.length > 0 ? result[0] : null;\n\t\t},\n\n\t\t_onShowMenu()\n\t\t{\n\t\t\tconst self = this;\n\n\t\t\tBX.addClass(this.dropdown, this.activeClass);\n\t\t\t(this.menu.menuItems || []).forEach(function(current) {\n\t\t\t\tBX.bind(current.layout.item, 'click', BX.delegate(self._onItemClick, self));\n\t\t\t});\n\t\t},\n\n\t\t_onCloseMenu()\n\t\t{\n\t\t\tBX.removeClass(this.dropdown, this.activeClass);\n\t\t\tBX.PopupMenu.destroy(this.menuId);\n\t\t},\n\n\t\t_onItemClick(event)\n\t\t{\n\t\t\tconst item = this.getMenuItem(event.target);\n\t\t\tlet value, dataItem;\n\t\t\tconst subItem = this.getSubItem(item);\n\t\t\tconst isPseudo = BX.data(subItem, 'pseudo');\n\n\t\t\tif (!(isPseudo === 'true'))\n\t\t\t{\n\t\t\t\tthis.refresh(item);\n\t\t\t\tthis.selectItem(item);\n\n\t\t\t\tif (!this.multiple)\n\t\t\t\t{\n\t\t\t\t\tthis.menu.popupWindow.close();\n\t\t\t\t}\n\n\t\t\t\tvalue = this.getValue();\n\t\t\t\tdataItem = this.getDataItemByValue(value);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvalue = BX.data(subItem, 'value');\n\t\t\t\tdataItem = this.getDataItemByValue(value);\n\t\t\t}\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tBX.onCustomEvent(window, 'Dropdown::change', [this.dropdown.id, event, item, dataItem, value]);\n\t\t},\n\n\t\tgetMenuItem(node)\n\t\t{\n\t\t\tlet item = node;\n\n\t\t\tif (!BX.hasClass(item, this.menuItemClass))\n\t\t\t{\n\t\t\t\titem = BX.findParent(item, {class: this.menuItemClass});\n\t\t\t}\n\n\t\t\treturn item;\n\t\t}\n\t};\n})();\n",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Main');\n\n\tBX.Main.dropdownManager = {\n\t\tdropdownClass: 'main-dropdown',\n\t\tdata: {},\n\t\tinit: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar result;\n\t\t\tvar onLoadItems;\n\t\t\tvar items;\n\n\t\t\tBX.bind(document, 'click', BX.delegate(function(event) {\n\t\t\t\tif (BX.hasClass(event.target, this.dropdownClass))\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tresult = this.getById(event.target.id);\n\n\t\t\t\t\tif (result && result.dropdown === event.target)\n\t\t\t\t\t{\n\t\t\t\t\t\tself.push(event.target.id, this.getById(event.target.id));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tself.push(event.target.id, new BX.Main.dropdown(event.target));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this));\n\n\t\t\tonLoadItems = BX.Grid.Utils.getByClass(document.body, this.dropdownClass);\n\n\t\t\tif (BX.type.isArray(onLoadItems))\n\t\t\t{\n\t\t\t\tonLoadItems.forEach(function(current) {\n\t\t\t\t\tresult = self.getById(current.id);\n\t\t\t\t\ttry {\n\t\t\t\t\t\titems = eval(BX.data(current, 'items'));\n\t\t\t\t\t} catch (err) {}\n\n\t\t\t\t\tBX.onCustomEvent(window, 'Dropdown::load', [current.id, {}, null, BX.type.isArray(items) && items.length ? items[0] : [], BX.data(current, 'value')]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tpush: function(id, instance)\n\t\t{\n\t\t\tthis.data[id] = instance;\n\t\t},\n\n\t\tgetById: function(id)\n\t\t{\n\t\t\treturn (id in this.data) ? this.data[id] : null;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * @param {HtmlElement} node\n\t * @param {BX.Main.grid} [parent]\n\t * @constructor\n\t */\n\tBX.Grid.Element = function(node, parent)\n\t{\n\t\tthis.node = null;\n\t\tthis.href = null;\n\t\tthis.parent = null;\n\t\tthis.init(node, parent);\n\t};\n\n\tBX.Grid.Element.prototype = {\n\t\tinit: function(node, parent)\n\t\t{\n\t\t\tthis.node = node;\n\t\t\tthis.parent = parent;\n\t\t\tthis.resetOnclickAttr();\n\t\t},\n\n\t\tgetParent: function()\n\t\t{\n\t\t\treturn this.parent;\n\t\t},\n\n\t\tload: function()\n\t\t{\n\t\t\tBX.addClass(this.getNode(), this.getParent().settings.get('classLoad'));\n\t\t},\n\n\t\tunload: function()\n\t\t{\n\t\t\tBX.removeClass(this.getNode(), this.getParent().settings.get('classLoad'));\n\t\t},\n\n\t\tisLoad: function()\n\t\t{\n\t\t\treturn BX.hasClass(this.getNode(), this.getParent().settings.get('classLoad'));\n\t\t},\n\n\t\tresetOnclickAttr: function()\n\t\t{\n\t\t\tif (BX.type.isDomNode(this.getNode()))\n\t\t\t{\n\t\t\t\tthis.getNode().onclick = null;\n\t\t\t}\n\t\t},\n\n\t\tgetObserver: function()\n\t\t{\n\t\t\treturn BX.Grid.observer;\n\t\t},\n\n\t\tgetNode: function()\n\t\t{\n\t\t\treturn this.node;\n\t\t},\n\n\t\tgetLink: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = this.getNode().href;\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * BX.Grid.Fader\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Fader = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.table = null;\n\t\tthis.container = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Fader.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.table = this.parent.getTable();\n\t\t\tthis.container = this.table.parentNode;\n\t\t\tthis.scrollStartEventName = this.parent.isTouch() ? 'touchstart' : 'mouseenter';\n\t\t\tthis.scrollEndEventName = this.parent.isTouch() ? 'touchend' : 'mouseleave';\n\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.fixedTable = this.parent.getPinHeader().getFixedTable();\n\t\t\t}\n\n\t\t\tthis.debounceScrollHandler = BX.debounce(this._onWindowScroll, 400, this);\n\n\t\t\tBX.bind(window, 'resize', BX.proxy(this.toggle, this));\n\t\t\tdocument.addEventListener('scroll', this.debounceScrollHandler, BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tthis.container.addEventListener('scroll', BX.proxy(this.toggle, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tBX.addCustomEvent(window, 'Grid::updated', BX.proxy(this.toggle, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::resize', BX.proxy(this.toggle, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this._onHeaderUpdated, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::columnResize', BX.proxy(this.toggle, this));\n\t\t\tBX.bind(this.getEarLeft(), this.scrollStartEventName, BX.proxy(this._onMouseoverLeft, this));\n\t\t\tBX.bind(this.getEarRight(), this.scrollStartEventName, BX.proxy(this._onMouseoverRight, this));\n\t\t\tBX.bind(this.getEarLeft(), this.scrollEndEventName, BX.proxy(this.stopScroll, this));\n\t\t\tBX.bind(this.getEarRight(), this.scrollEndEventName, BX.proxy(this.stopScroll, this));\n\n\t\t\tthis.toggle();\n\t\t\tthis.adjustEarOffset(true);\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.unbind(window, 'resize', BX.proxy(this.toggle, this));\n\t\t\tdocument.removeEventListener('scroll', this.debounceScrollHandler, BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tthis.container.removeEventListener('scroll', BX.proxy(this.toggle, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tBX.removeCustomEvent(window, 'Grid::updated', BX.proxy(this.toggle, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this._onHeaderUpdated, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::columnResize', BX.proxy(this.toggle, this));\n\t\t\tBX.unbind(this.getEarLeft(), this.scrollStartEventName, BX.proxy(this._onMouseoverLeft, this));\n\t\t\tBX.unbind(this.getEarRight(), this.scrollStartEventName, BX.proxy(this._onMouseoverRight, this));\n\t\t\tBX.unbind(this.getEarLeft(), this.scrollEndEventName, BX.proxy(this.stopScroll, this));\n\t\t\tBX.unbind(this.getEarRight(), this.scrollEndEventName, BX.proxy(this.stopScroll, this));\n\t\t\tthis.hideLeftEar();\n\t\t\tthis.hideRightEar();\n\t\t\tthis.stopScroll();\n\t\t},\n\n\t\t_onHeaderUpdated: function()\n\t\t{\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.fixedTable = this.parent.getPinHeader().getFixedTable();\n\t\t\t}\n\t\t},\n\n\t\t_onMouseoverLeft: function(event)\n\t\t{\n\t\t\tthis.parent.isTouch() && event.preventDefault();\n\t\t\tthis.startScrollByDirection('left');\n\t\t},\n\n\t\t_onMouseoverRight: function(event)\n\t\t{\n\t\t\tthis.parent.isTouch() && event.preventDefault();\n\t\t\tthis.startScrollByDirection('right');\n\t\t},\n\n\t\tstopScroll: function()\n\t\t{\n\t\t\tclearTimeout(this.scrollTimer);\n\t\t\tclearInterval(this.scrollInterval);\n\t\t},\n\n\t\tstartScrollByDirection: function(direction)\n\t\t{\n\t\t\tvar container = this.container;\n\t\t\tvar offset = container.scrollLeft;\n\t\t\tvar self = this;\n\t\t\tvar stepLength = 8;\n\t\t\tvar stepTime = ((1000 / 60) / 2);\n\n\t\t\tthis.scrollTimer = setTimeout(function() {\n\t\t\t\tself.scrollInterval = setInterval(function() {\n\t\t\t\t\tcontainer.scrollLeft = direction == 'right' ? (offset += stepLength) : (offset -= stepLength);\n\t\t\t\t}, stepTime);\n\t\t\t}, 100);\n\t\t},\n\n\t\tgetEarLeft: function()\n\t\t{\n\t\t\tif (!this.earLeft)\n\t\t\t{\n\t\t\t\tthis.earLeft = BX.Grid.Utils.getByClass(this.parent.getContainer(), this.parent.settings.get('classEarLeft'), true);\n\t\t\t}\n\n\t\t\treturn this.earLeft;\n\t\t},\n\n\t\tgetEarRight: function()\n\t\t{\n\t\t\tif (!this.earRight)\n\t\t\t{\n\t\t\t\tthis.earRight = BX.Grid.Utils.getByClass(this.parent.getContainer(), this.parent.settings.get('classEarRight'), true);\n\t\t\t}\n\n\t\t\treturn this.earRight;\n\t\t},\n\n\t\tgetShadowLeft: function()\n\t\t{\n\t\t\treturn this.parent.getContainer().querySelector(\".main-grid-fade-shadow-left\");\n\t\t},\n\n\t\tgetShadowRight: function()\n\t\t{\n\t\t\treturn this.parent.getContainer().querySelector(\".main-grid-fade-shadow-right\");\n\t\t},\n\n\t\tadjustEarOffset: function(prepare)\n\t\t{\n\t\t\tif (prepare)\n\t\t\t{\n\t\t\t\tthis.windowHeight = BX.height(window);\n\t\t\t\tthis.tbodyPos = BX.pos(this.table.tBodies[0]);\n\t\t\t\tthis.headerPos = BX.pos(this.table.tHead);\n\t\t\t}\n\n\t\t\tvar scrollY = window.scrollY;\n\n\t\t\tif (this.parent.isIE())\n\t\t\t{\n\t\t\t\tscrollY = document.documentElement.scrollTop;\n\t\t\t}\n\n\t\t\tvar bottomPos = (scrollY + this.windowHeight) - this.tbodyPos.top;\n\t\t\tvar posTop = scrollY - this.tbodyPos.top;\n\n\t\t\tif (bottomPos > (this.tbodyPos.bottom - this.tbodyPos.top))\n\t\t\t{\n\t\t\t\tbottomPos = this.tbodyPos.bottom - this.tbodyPos.top;\n\t\t\t}\n\n\t\t\tif (posTop < this.headerPos.height)\n\t\t\t{\n\t\t\t\tposTop = this.headerPos.height;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbottomPos -= posTop;\n\t\t\t\tbottomPos += this.headerPos.height;\n\t\t\t}\n\n\t\t\tBX.Grid.Utils.requestAnimationFrame(BX.proxy(function() {\n\t\t\t\tif (posTop !== this.lastPosTop)\n\t\t\t\t{\n\t\t\t\t\tvar translate = 'translate3d(0px, ' + posTop + 'px, 0)';\n\t\t\t\t\tthis.getEarLeft().style.transform = translate;\n\t\t\t\t\tthis.getEarRight().style.transform = translate;\n\t\t\t\t}\n\n\t\t\t\tif (bottomPos !== this.lastBottomPos)\n\t\t\t\t{\n\t\t\t\t\tthis.getEarLeft().style.height = bottomPos + 'px';\n\t\t\t\t\tthis.getEarRight().style.height = bottomPos + 'px';\n\t\t\t\t}\n\n\t\t\t\tthis.lastPosTop = posTop;\n\t\t\t\tthis.lastBottomPos = bottomPos;\n\t\t\t}, this));\n\t\t},\n\n\t\t_onWindowScroll: function()\n\t\t{\n\t\t\tthis.adjustEarOffset();\n\t\t},\n\n\t\thasScroll: function()\n\t\t{\n\t\t\treturn this.table.offsetWidth > this.container.clientWidth;\n\t\t},\n\n\t\thasScrollLeft: function()\n\t\t{\n\t\t\treturn this.container.scrollLeft > 0;\n\t\t},\n\n\t\thasScrollRight: function()\n\t\t{\n\t\t\treturn this.table.offsetWidth > (this.container.scrollLeft + this.container.clientWidth);\n\t\t},\n\n\t\tshowLeftEar: function()\n\t\t{\n\t\t\tBX.addClass(this.container.parentNode, this.parent.settings.get('classFadeContainerLeft'));\n\t\t\tBX.addClass(this.getEarLeft(), this.parent.settings.get('classShow'));\n\t\t},\n\n\t\thideLeftEar: function()\n\t\t{\n\t\t\tBX.removeClass(this.container.parentNode, this.parent.settings.get('classFadeContainerLeft'));\n\t\t\tBX.removeClass(this.getEarLeft(), this.parent.settings.get('classShow'));\n\t\t},\n\n\t\tshowRightEar: function()\n\t\t{\n\t\t\tBX.addClass(this.container.parentNode, this.parent.settings.get('classFadeContainerRight'));\n\t\t\tBX.addClass(this.getEarRight(), this.parent.settings.get('classShow'));\n\t\t},\n\n\t\thideRightEar: function()\n\t\t{\n\t\t\tBX.removeClass(this.container.parentNode, this.parent.settings.get('classFadeContainerRight'));\n\t\t\tBX.removeClass(this.getEarRight(), this.parent.settings.get('classShow'));\n\t\t},\n\n\t\tadjustFixedTablePosition: function()\n\t\t{\n\t\t\tvar left = this.container.scrollLeft;\n\n\t\t\tBX.Grid.Utils.requestAnimationFrame(BX.delegate(function() {\n\t\t\t\tthis.fixedTable.style.marginLeft = -left + 'px';\n\t\t\t}, this));\n\t\t},\n\n\t\ttoggle: function()\n\t\t{\n\t\t\tthis.adjustEarOffset(true);\n\t\t\tthis.fixedTable && this.adjustFixedTablePosition();\n\n\t\t\tif (this.hasScroll())\n\t\t\t{\n\t\t\t\tthis.hasScrollLeft() ? this.showLeftEar() : this.hideLeftEar();\n\t\t\t\tthis.hasScrollRight() ? this.showRightEar() : this.hideRightEar();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.hideLeftEar();\n\t\t\t\tthis.hideRightEar();\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * Updates grid\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Updater = function(parent)\n\t{\n\t\tthis.parent = parent;\n\t};\n\n\n\t/**\n\t * Gets parent object\n\t * @return {?BX.Main.grid}\n\t */\n\tBX.Grid.Updater.prototype.getParent = function()\n\t{\n\t\treturn this.parent;\n\t};\n\n\n\t/**\n\t * Updates head rows\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.updateHeadRows = function(rows)\n\t{\n\t\tvar headers;\n\n\t\tif (BX.type.isArray(rows) && rows.length)\n\t\t{\n\t\t\theaders = this.getParent().getHeaders();\n\t\t\theaders.forEach(function(header) {\n\t\t\t\theader = BX.cleanNode(header);\n\t\t\t\trows.forEach(function(row) {\n\t\t\t\t\tif (BX.type.isDomNode(row))\n\t\t\t\t\t{\n\t\t\t\t\t\theader.appendChild(BX.clone(row));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Appends head rows\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.appendHeadRows = function(rows)\n\t{\n\t\tvar headers;\n\n\t\tif (BX.type.isArray(rows) && rows.length)\n\t\t{\n\t\t\theaders = this.getParent().getHeaders();\n\n\t\t\theaders.forEach(function(header) {\n\t\t\t\trows.forEach(function(row) {\n\t\t\t\t\tif (BX.type.isDomNode(row))\n\t\t\t\t\t{\n\t\t\t\t\t\theader.appendChild(BX.clone(row));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Prepends head rows\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.prependHeadRows = function(rows)\n\t{\n\t\tvar headers;\n\n\t\tif (BX.type.isArray(rows) && rows.length)\n\t\t{\n\t\t\theaders = this.getParent().getHeaders();\n\n\t\t\theaders.forEach(function(header) {\n\t\t\t\theader = BX.cleanNode(header);\n\t\t\t\trows.forEach(function(row) {\n\t\t\t\t\tif (BX.type.isDomNode(row))\n\t\t\t\t\t{\n\t\t\t\t\t\theader.prepend(BX.clone(row));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates body row by row id\n\t * @param {?string|number} id\n\t * @param {HTMLTableRowElement} row\n\t */\n\tBX.Grid.Updater.prototype.updateBodyRowById = function(id, row)\n\t{\n\t\tif ((BX.type.isNumber(id) || BX.type.isNotEmptyString(id)) && BX.type.isDomNode(row))\n\t\t{\n\t\t\tvar currentRow = this.getParent().getRows().getById(id);\n\n\t\t\tif (currentRow)\n\t\t\t{\n\t\t\t\tvar currentNode = currentRow.getNode();\n\t\t\t\tBX.insertAfter(row, currentNode);\n\t\t\t\tBX.remove(currentNode);\n\t\t\t}\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates all body rows.\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.updateBodyRows = function(rows)\n\t{\n\t\tif (BX.type.isArray(rows))\n\t\t{\n\t\t\tvar body = this.getParent().getBody();\n\t\t\tbody.innerHTML = '';\n\n\t\t\trows.forEach(function(current) {\n\t\t\t\t!!current && body.appendChild(current);\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Appends body rows.\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.appendBodyRows = function(rows)\n\t{\n\t\tvar body;\n\n\t\tif (BX.type.isArray(rows))\n\t\t{\n\t\t\tbody = this.getParent().getBody();\n\t\t\trows.forEach(function(current) {\n\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t{\n\t\t\t\t\tbody.appendChild(current);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Prepends body rows\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.prependBodyRows = function(rows)\n\t{\n\t\tvar body;\n\n\t\tif (BX.type.isArray(rows))\n\t\t{\n\t\t\tbody = this.getParent().getBody();\n\t\t\trows.forEach(function(current) {\n\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t{\n\t\t\t\t\tBX.prepend(body, current);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates table footer rows.\n\t * @param {?HTMLTableRowElement[]} rows\n\t */\n\tBX.Grid.Updater.prototype.updateFootRows = function(rows)\n\t{\n\t\tvar foot;\n\n\t\tif (BX.type.isArray(rows))\n\t\t{\n\t\t\tfoot = BX.cleanNode(this.getParent().getFoot());\n\t\t\trows.forEach(function(current) {\n\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t{\n\t\t\t\t\tfoot.appendChild(current);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates total rows counter\n\t * @param {?HTMLElement} counter\n\t */\n\tBX.Grid.Updater.prototype.updateCounterTotal = function(counter)\n\t{\n\t\tvar counterCell;\n\n\t\tif (BX.type.isDomNode(counter))\n\t\t{\n\t\t\tcounterCell = BX.cleanNode(this.getParent().getCounterTotal());\n\t\t\tcounterCell.appendChild(counter);\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates grid pagination\n\t * @param {?HTMLElement} pagination\n\t */\n\tBX.Grid.Updater.prototype.updatePagination = function(pagination)\n\t{\n\t\tvar paginationCell = this.getParent().getPagination().getContainer();\n\n\t\tif (!!paginationCell)\n\t\t{\n\t\t\tpaginationCell.innerHTML = '';\n\n\t\t\tif (BX.type.isDomNode(pagination))\n\t\t\t{\n\t\t\t\tpaginationCell.appendChild(pagination);\n\t\t\t}\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates more button\n\t * @param {?HTMLElement} button\n\t */\n\tBX.Grid.Updater.prototype.updateMoreButton = function(button)\n\t{\n\t\tif (BX.type.isDomNode(button))\n\t\t{\n\t\t\tvar buttonParent = BX.Grid.Utils.closestParent(this.getParent().getMoreButton().getNode());\n\t\t\tbuttonParent.innerHTML = '';\n\t\t\tbuttonParent.appendChild(button);\n\t\t}\n\t};\n\n\n\t/**\n\t * Updates group actions panel\n\t * @param {HTMLElement} panel\n\t */\n\tBX.Grid.Updater.prototype.updateGroupActions = function(panel)\n\t{\n\t\tvar GroupActions = this.parent.getActionsPanel();\n\n\t\tif (!!GroupActions && BX.type.isDomNode(panel))\n\t\t{\n\t\t\tvar panelNode = GroupActions.getPanel();\n\n\t\t\tif (BX.type.isDomNode(panelNode))\n\t\t\t{\n\t\t\t\tpanelNode.innerHTML = '';\n\n\t\t\t\tvar panelChild = BX.firstChild(panel);\n\n\t\t\t\tif (BX.type.isDomNode(panelChild))\n\t\t\t\t{\n\t\t\t\t\tpanelNode.appendChild(panelChild);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Updates a grid container\n\t * @param {?HTMLElement} container\n\t */\n\tBX.Grid.Updater.prototype.updateContainer = function(container)\n\t{\n\t\tif (BX.Type.isDomNode(container))\n\t\t{\n\t\t\tthis.getParent().getContainer().className = container.className;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.Reflection.namespace('BX.Grid');\n\n\tBX.Grid.ImageField = function(parent, options) {\n\t\tthis.parent = parent;\n\t\tthis.options = options;\n\t\tthis.cache = new BX.Cache.MemoryCache();\n\t};\n\n\tBX.Grid.ImageField.prototype = {\n\t\tgetPreview: function()\n\t\t{\n\t\t\treturn this.cache.remember('preview', function() {\n\t\t\t\treturn BX.create('img', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: 'main-grid-image-editor-preview'\n\t\t\t\t\t},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tsrc: this.options.VALUE\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetFileInput: function()\n\t\t{\n\t\t\treturn this.cache.remember('fileInput', function() {\n\t\t\t\treturn BX.create(\"input\", {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"main-grid-image-editor-file-input\"\n\t\t\t\t\t},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\ttype: \"file\",\n\t\t\t\t\t\taccept: \"image/*\",\n\t\t\t\t\t\tname: this.options.NAME\n\t\t\t\t\t},\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tchange: function(event) {\n\t\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\t\treader.onload = function(event) {\n\t\t\t\t\t\t\t\tthis.getPreview().src = event.currentTarget.result;\n\t\t\t\t\t\t\t}.bind(this);\n\n\t\t\t\t\t\t\treader.readAsDataURL(event.target.files[0]);\n\n\t\t\t\t\t\t\tBX.Dom.remove(this.getFakeField());\n\t\t\t\t\t\t\tBX.Dom.append(this.getFileInput(), this.getLayout());\n\t\t\t\t\t\t\tBX.Dom.removeClass(this.getRemoveButton(), 'ui-btn-disabled');\n\t\t\t\t\t\t\tBX.Dom.style(this.getPreview(), null);\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetUploadButton: function()\n\t\t{\n\t\t\treturn this.cache.remember('uploadButton', function() {\n\t\t\t\treturn BX.create('button', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"ui-btn ui-btn-xs\"\n\t\t\t\t\t},\n\t\t\t\t\ttext: this.parent.getParam(\"MAIN_UI_GRID_IMAGE_EDITOR_BUTTON_EDIT\"),\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: function(event) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tthis.getFileInput().click();\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetRemoveButton: function()\n\t\t{\n\t\t\treturn this.cache.remember('removeButton', function() {\n\t\t\t\treturn BX.create('button', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"ui-btn ui-btn-xs ui-btn-danger\"\n\t\t\t\t\t},\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: function(event) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tBX.Dom.append(this.getFakeField(), this.getLayout());\n\t\t\t\t\t\t\tBX.Dom.remove(this.getFileInput());\n\t\t\t\t\t\t\tBX.Dom.addClass(this.getRemoveButton(), 'ui-btn-disabled');\n\t\t\t\t\t\t\tBX.Dom.style(this.getPreview(), {\n\t\t\t\t\t\t\t\topacity: .4\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t},\n\t\t\t\t\ttext: this.parent.getParam('MAIN_UI_GRID_IMAGE_EDITOR_BUTTON_REMOVE')\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetFakeField: function()\n\t\t{\n\t\t\treturn this.cache.remember('deleted', function() {\n\t\t\t\treturn BX.create(\"input\", {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"main-grid-image-editor-fake-file-input\"\n\t\t\t\t\t},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\ttype: \"hidden\",\n\t\t\t\t\t\tname: this.options.NAME,\n\t\t\t\t\t\tvalue: 'null'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetLayout: function()\n\t\t{\n\t\t\treturn this.cache.remember('layout', function() {\n\t\t\t\treturn BX.create(\"div\", {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: \"main-grid-image-editor main-grid-editor\"\n\t\t\t\t\t},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tname: this.options.NAME\n\t\t\t\t\t},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tBX.create(\"div\", {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: \"main-grid-image-editor-left\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tthis.getPreview()\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tBX.create(\"div\", {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: \"main-grid-image-editor-right\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tthis.getUploadButton(),\n\t\t\t\t\t\t\t\tthis.getRemoveButton()\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tthis.getFileInput()\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t}\n\t};\n})();","import {Event} from \"main.core\";\nimport {EventEmitter} from \"main.core.events\";\n\n;(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.InlineEditor\n\t * @param {BX.Main.grid} parent\n\t * @param {Object} types\n\t * @constructor\n\t */\n\tBX.Grid.InlineEditor = function(parent, types)\n\t{\n\t\tthis.parent = null;\n\t\tthis.types = null;\n\t\tthis.isDropdownChangeEventSubscribed = false;\n\t\tthis.init(parent, types);\n\t};\n\n\tBX.Grid.InlineEditor.prototype = {\n\t\tinit: function(parent, types)\n\t\t{\n\t\t\tthis.parent = parent;\n\n\t\t\ttry {\n\t\t\t\tthis.types = eval(types);\n\t\t\t} catch (err) {\n\t\t\t\tthis.types = null;\n\t\t\t}\n\t\t},\n\n\t\tcreateContainer: function()\n\t\t{\n\t\t\treturn BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: this.parent.settings.get('classEditorContainer')\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tcreateTextarea: function(editObject, height)\n\t\t{\n\t\t\tvar textarea = BX.create('textarea', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: [\n\t\t\t\t\t\tthis.parent.settings.get('classEditor'),\n\t\t\t\t\t\tthis.parent.settings.get('classEditorTextarea')\n\t\t\t\t\t].join(' ')\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tname: editObject.NAME,\n\t\t\t\t\tstyle: 'height:' + height + 'px'\n\t\t\t\t},\n\t\t\t\thtml: editObject.VALUE\n\t\t\t});\n\n\t\t\treturn textarea;\n\t\t},\n\n\t\tcreateInput: function(editObject)\n\t\t{\n\t\t\tvar className = this.parent.settings.get('classEditorText');\n\t\t\tvar attrs =\n\t\t\t\t{\n\t\t\t\t\tvalue: (editObject.VALUE !== undefined && editObject.VALUE !== null) ? BX.util.htmlspecialcharsback(editObject.VALUE) : '',\n\t\t\t\t\tname: (editObject.NAME !== undefined && editObject.NAME !== null) ? editObject.NAME : ''\n\t\t\t\t};\n\n\t\t\tif (editObject.TYPE === this.types.CHECKBOX)\n\t\t\t{\n\t\t\t\tclassName = this.parent.settings.get('classEditorCheckbox');\n\t\t\t\tattrs.type = 'checkbox';\n\t\t\t\tattrs.checked = (attrs.value == 'Y');\n\t\t\t}\n\n\t\t\tif (editObject.TYPE === this.types.DATE)\n\t\t\t{\n\t\t\t\tclassName = [className, this.parent.settings.get('classEditorDate')].join(' ');\n\t\t\t}\n\n\t\t\tif (editObject.TYPE === this.types.NUMBER)\n\t\t\t{\n\t\t\t\tclassName = [className, this.parent.settings.get('classEditorNumber')].join(' ');\n\t\t\t\tattrs.type = 'number';\n\t\t\t}\n\n\t\t\tif (editObject.TYPE === this.types.RANGE)\n\t\t\t{\n\t\t\t\tclassName = [className, this.parent.settings.get('classEditorRange')].join(' ');\n\t\t\t\tattrs.type = 'range';\n\n\t\t\t\tif (BX.type.isPlainObject(editObject.DATA))\n\t\t\t\t{\n\t\t\t\t\tattrs.min = editObject.DATA.MIN || '0';\n\t\t\t\t\tattrs.max = editObject.DATA.MAX || 99999;\n\t\t\t\t\tattrs.step = editObject.DATA.STEP || '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (BX.type.isNotEmptyString(editObject.PLACEHOLDER))\n\t\t\t{\n\t\t\t\tattrs.placeholder = BX.util.htmlspecialchars(editObject.PLACEHOLDER);\n\t\t\t}\n\n\t\t\tif (editObject.DISABLED)\n\t\t\t{\n\t\t\t\tattrs.disabled = true;\n\t\t\t}\n\n\t\t\tclassName = [this.parent.settings.get('classEditor'), className].join(' ');\n\n\t\t\treturn BX.create('input', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tid: editObject.NAME + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: attrs\n\t\t\t});\n\t\t},\n\n\t\tcreateCustom: function(editObject)\n\t\t{\n\t\t\tvar className = this.parent.settings.get('classEditorCustom');\n\t\t\tclassName = [this.parent.settings.get('classEditor'), className].join(' ');\n\n\t\t\treturn BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: className\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\t'data-name': editObject.NAME\n\t\t\t\t},\n\t\t\t\thtml: editObject.VALUE || \"\"\n\t\t\t});\n\t\t},\n\n\t\tcreateMoney: function(editObject)\n\t\t{\n\t\t\tconst value = editObject.VALUE;\n\t\t\tconst fieldChildren = [];\n\n\t\t\tconst priceObject = value.PRICE || {};\n\t\t\tpriceObject.PLACEHOLDER = editObject.PLACEHOLDER || '';\n\t\t\tfieldChildren.push(this.createMoneyPrice(priceObject));\n\n\t\t\tif ((BX.type.isArray(editObject.CURRENCY_LIST) && editObject.CURRENCY_LIST.length > 0))\n\t\t\t{\n\t\t\t\tconst currencyObject = value.CURRENCY || {};\n\t\t\t\tcurrencyObject.DATA = {\n\t\t\t\t\tITEMS: editObject.CURRENCY_LIST\n\t\t\t\t};\n\t\t\t\tcurrencyObject.HTML_ENTITY = editObject.HTML_ENTITY || false;\n\t\t\t\tfieldChildren.push(this.createMoneyCurrency(currencyObject));\n\t\t\t}\n\n\t\t\tif (BX.type.isNotEmptyObject(value.HIDDEN))\n\t\t\t{\n\t\t\t\tfor (let fieldName in value.HIDDEN)\n\t\t\t\t{\n\t\t\t\t\tif (value.HIDDEN.hasOwnProperty(fieldName) && BX.type.isNotEmptyString(fieldName))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst hidden = this.createInput({\n\t\t\t\t\t\t\tNAME: fieldName,\n\t\t\t\t\t\t\tVALUE: value['HIDDEN'][fieldName],\n\t\t\t\t\t\t\tTYPE: this.types.TEXT,\n\t\t\t\t\t\t});\n\t\t\t\t\t\thidden.type = 'hidden';\n\t\t\t\t\t\tfieldChildren.push(hidden);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet className = this.parent.settings.get('classEditorMoney');\n\t\t\tclassName = [this.parent.settings.get('classEditor'), className].join(' ');\n\t\t\tconst attrs = value.ATTRIBUTES || {};\n\t\t\tattrs['data-name'] = editObject.NAME;\n\n\t\t\treturn BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: className\n\t\t\t\t},\n\t\t\t\tattrs: attrs,\n\t\t\t\tchildren: fieldChildren,\n\t\t\t});\n\t\t},\n\n\t\tcreateMoneyPrice: function(priceObject)\n\t\t{\n\t\t\tpriceObject.TYPE = this.types.NUMBER;\n\n\t\t\tconst priceInput = this.createInput(priceObject);\n\t\t\tpriceInput.classList.add('main-grid-editor-money-price');\n\t\t\tEvent.bind(priceInput, 'change', (event) => {\n\t\t\t\tconst fieldNode = event.target.parentNode;\n\t\t\t\tconst currencyDropdown = fieldNode.querySelector('.main-grid-editor-money-currency');\n\t\t\t\tconst eventData = {\n\t\t\t\t\tfield: fieldNode,\n\t\t\t\t\tvalues: {\n\t\t\t\t\t\tprice: event.target.value || '',\n\t\t\t\t\t\tcurrency: currencyDropdown.dataset.value || '',\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tEventEmitter.emit('Grid.MoneyField::change', eventData);\n\t\t\t});\n\n\t\t\treturn priceInput;\n\t\t},\n\n\t\tcreateMoneyCurrency: function(currencyObject)\n\t\t{\n\t\t\tconst currencyBlock = this.createDropdown(currencyObject);\n\t\t\tcurrencyBlock.dataset.menuOffsetLeft = 15;\n\t\t\tcurrencyBlock.dataset.menuMaxHeight = 200;\n\t\t\tcurrencyBlock.classList.add('main-grid-editor-money-currency');\n\t\t\tif (currencyObject.DISABLED === true)\n\t\t\t{\n\t\t\t\tcurrencyBlock.classList.remove('main-dropdown');\n\t\t\t\tcurrencyBlock.dataset.disabled = true;\n\t\t\t}\n\n\t\t\tif (!this.isDropdownChangeEventSubscribed)\n\t\t\t{\n\t\t\t\tthis.isDropdownChangeEventSubscribed = true;\n\t\t\t\tEventEmitter.subscribe('Dropdown::change', (event) => {\n\t\t\t\t\tconst [controlId] = event.getData();\n\t\t\t\t\tif (!BX.type.isNotEmptyString(controlId))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst dropdownObject = BX.Main.dropdownManager.getById(controlId);\n\t\t\t\t\tif (dropdownObject.dropdown && dropdownObject.dropdown.classList.contains('main-grid-editor-money-currency'))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst fieldNode = dropdownObject.dropdown.parentNode;\n\t\t\t\t\t\tconst priceField = fieldNode.querySelector('.main-grid-editor-money-price')\n\t\t\t\t\t\tconst eventData = {\n\t\t\t\t\t\t\tfield: fieldNode,\n\t\t\t\t\t\t\tvalues: {\n\t\t\t\t\t\t\t\tprice: priceField.value || '',\n\t\t\t\t\t\t\t\tcurrency: dropdownObject.dropdown.dataset.value || '',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tEventEmitter.emit('Grid.MoneyField::change', eventData);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn currencyBlock;\n\t\t},\n\n\t\tcreateOutput: function(editObject)\n\t\t{\n\t\t\treturn BX.create('output', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: this.parent.settings.get('classEditorOutput') || ''\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tfor: editObject.NAME + '_control'\n\t\t\t\t},\n\t\t\t\ttext: editObject.VALUE || ''\n\t\t\t});\n\t\t},\n\n\t\tgetDropdownValueItemByValue: function(items, value)\n\t\t{\n\t\t\tvar result = items.filter(function(current) {\n\t\t\t\treturn current.VALUE === value;\n\t\t\t});\n\n\t\t\treturn result.length > 0 ? result[0] : items[0];\n\t\t},\n\n\t\tcreateDropdown: function(editObject)\n\t\t{\n\t\t\tvar valueItem = this.getDropdownValueItemByValue(\n\t\t\t\teditObject.DATA.ITEMS,\n\t\t\t\teditObject.VALUE\n\t\t\t);\n\t\t\tvar isHtmlEntity = 'HTML_ENTITY' in editObject && editObject.HTML_ENTITY === true;\n\n\t\t\treturn BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: [\n\t\t\t\t\t\tthis.parent.settings.get('classEditor'),\n\t\t\t\t\t\t'main-dropdown main-grid-editor-dropdown'\n\t\t\t\t\t].join(' '),\n\t\t\t\t\tid: editObject.NAME + '_control'\n\t\t\t\t},\n\t\t\t\tattrs: {\n\t\t\t\t\tname: editObject.NAME,\n\t\t\t\t\ttabindex: '0',\n\t\t\t\t\t'data-items': JSON.stringify(editObject.DATA.ITEMS),\n\t\t\t\t\t'data-value': valueItem.VALUE,\n\t\t\t\t\t'data-html-entity': editObject.HTML_ENTITY\n\t\t\t\t},\n\t\t\t\tchildren: [BX.create('span', {\n\t\t\t\t\tprops: {className: 'main-dropdown-inner'},\n\t\t\t\t\thtml: isHtmlEntity ? valueItem.NAME : null,\n\t\t\t\t\ttext: isHtmlEntity ? null : valueItem.NAME,\n\t\t\t\t})]\n\t\t\t});\n\n\t\t},\n\n\t\tcreateMultiselect: function(editObject)\n\t\t{\n\t\t\tconst selectedValues = [];\n\t\t\tconst squares = (() => {\n\t\t\t\tif (BX.Type.isArrayFilled(editObject.VALUE))\n\t\t\t\t{\n\t\t\t\t\treturn editObject.VALUE.map((value) => {\n\t\t\t\t\t\tconst item = this.getDropdownValueItemByValue(editObject.DATA.ITEMS, value);\n\t\t\t\t\t\tselectedValues.push(item);\n\t\t\t\t\t\tconst itemName = item.HTML ?? BX.util.htmlspecialchars(item.NAME);\n\t\t\t\t\t\tconst renderedItem = BX.Tag.render`\n\t\t\t\t\t\t\t<span class=\"main-ui-square\">\n\t\t\t\t\t\t\t\t<span class=\"main-ui-square-item\">${itemName}</span>\n\t\t\t\t\t\t\t\t<span class=\"main-ui-item-icon main-ui-square-delete\"></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t`;\n\n\t\t\t\t\t\tBX.Dom.attr(renderedItem, 'data-item', item);\n\n\t\t\t\t\t\treturn renderedItem;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t})();\n\t\t\tconst layout = BX.Tag.render`\n\t\t\t\t<div \n\t\t\t\t\tclass=\"main-grid-editor main-ui-control main-ui-multi-select\"\n\t\t\t\t\tname=\"${BX.Text.encode(editObject.NAME)}\"\n\t\t\t\t\tid=\"${`${BX.Text.encode(editObject.NAME)}_control`}\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"main-ui-square-container\">${squares}</span>\n\t\t\t\t\t<span class=\"main-ui-hide main-ui-control-value-delete\">\n\t\t\t\t\t\t<span class=\"main-ui-control-value-delete-item\"></span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class=\"main-ui-square-search\">\n\t\t\t\t\t\t<input type=\"text\" class=\"main-ui-square-search-item\">\n\t\t\t\t\t</span>\t\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tBX.Dom.attr(\n\t\t\t\tlayout,\n\t\t\t\t{\n\t\t\t\t\t'data-params': {isMulti: true},\n\t\t\t\t\t'data-items': editObject.DATA.ITEMS,\n\t\t\t\t\t'data-value': selectedValues,\n\t\t\t\t},\n\t\t\t);\n\n\t\t\treturn layout;\n\t\t},\n\n\t\tvalidateEditObject: function(editObject)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.type.isPlainObject(editObject) &&\n\t\t\t\t('TYPE' in editObject) &&\n\t\t\t\t('NAME' in editObject) &&\n\t\t\t\t('VALUE' in editObject) &&\n\t\t\t\t(!('items' in editObject) || (BX.type.isArray(editObject.items) && editObject.items.length))\n\t\t\t);\n\t\t},\n\n\t\tinitCalendar: function(event)\n\t\t{\n\t\t\tBX.calendar({node: event.target, field: event.target});\n\t\t},\n\n\t\tbindOnRangeChange: function(control, output)\n\t\t{\n\t\t\tfunction bubble(control, output)\n\t\t\t{\n\t\t\t\tBX.html(output, control.value);\n\n\t\t\t\tvar value = parseFloat(control.value);\n\t\t\t\tvar max = parseFloat(control.getAttribute('max'));\n\t\t\t\tvar min = parseFloat(control.getAttribute('min'));\n\t\t\t\tvar thumbWidth = 16;\n\t\t\t\tvar range = (max - min);\n\t\t\t\tvar position = (((value - min) / range) * 100);\n\t\t\t\tvar positionOffset = (Math.round(thumbWidth * position / 100) - (thumbWidth / 2));\n\n\t\t\t\toutput.style.left = position + '%';\n\t\t\t\toutput.style.marginLeft = -positionOffset + 'px';\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tbubble(control, output);\n\t\t\t}, 0);\n\n\t\t\tBX.bind(control, 'input', function() {\n\t\t\t\tbubble(control, output);\n\t\t\t});\n\t\t},\n\n\t\tcreateImageEditor: function(editObject)\n\t\t{\n\t\t\treturn (new BX.Grid.ImageField(this.parent, editObject)).getLayout();\n\t\t},\n\n\t\tgetEditor: function(editObject, height)\n\t\t{\n\t\t\tvar control, span;\n\t\t\tvar container = this.createContainer();\n\n\t\t\tif (this.validateEditObject(editObject))\n\t\t\t{\n\t\t\t\teditObject.VALUE = editObject.VALUE === null ? '' : editObject.VALUE;\n\n\t\t\t\tswitch (editObject.TYPE) {\n\t\t\t\t\tcase this.types.TEXT : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.DATE : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tBX.bind(control, 'click', this.initCalendar);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.NUMBER : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.RANGE : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tspan = this.createOutput(editObject);\n\t\t\t\t\t\tthis.bindOnRangeChange(control, span);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.CHECKBOX : {\n\t\t\t\t\t\tcontrol = this.createInput(editObject);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.TEXTAREA : {\n\t\t\t\t\t\tcontrol = this.createTextarea(editObject, height);\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.DROPDOWN : {\n\t\t\t\t\t\tcontrol = this.createDropdown(editObject);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.MULTISELECT : {\n\t\t\t\t\t\tcontrol = this.createMultiselect(editObject);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.IMAGE : {\n\t\t\t\t\t\tcontrol = this.createImageEditor(editObject);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.MONEY : {\n\t\t\t\t\t\tcontrol = this.createMoney(editObject);\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase this.types.CUSTOM : {\n\t\t\t\t\t\tcontrol = this.createCustom(editObject);\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\tconst html = editObject.HTML || editObject.VALUE || null;\n\n\t\t\t\t\t\t\tif (html)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst res = BX.processHTML(html);\n\n\t\t\t\t\t\t\t\tres.SCRIPT.forEach(function(item) {\n\t\t\t\t\t\t\t\t\tif (item.isInternal && item.JS)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.evalGlobal(item.JS);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tBX.bind(control, 'click', function(event) { event.stopPropagation(); });\n\t\t\t\t\t\tBX.bind(control, 'keydown', BX.delegate(this._onControlKeydown, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault : {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (BX.type.isDomNode(span))\n\t\t\t{\n\t\t\t\tcontainer.appendChild(span);\n\t\t\t}\n\n\t\t\tif (BX.type.isDomNode(control))\n\t\t\t{\n\t\t\t\tcontainer.appendChild(control);\n\t\t\t}\n\n\t\t\treturn container;\n\t\t},\n\n\t\t_onControlKeydown: function(event)\n\t\t{\n\t\t\tif (event.code === 'Enter')\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar saveButton = BX.Grid.Utils.getBySelector(this.parent.getContainer(), '#grid_save_button > button', true);\n\n\t\t\t\tif (saveButton)\n\t\t\t\t{\n\t\t\t\t\tBX.fireEvent(saveButton, 'click');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.Loader = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.container = null;\n\t\tthis.windowHeight = null;\n\t\tthis.tbodyPos = null;\n\t\tthis.headerPos = null;\n\t\tthis.lastPosTop = null;\n\t\tthis.lastBottomPos = null;\n\t\tthis.table = null;\n\t\tthis.loader = null;\n\t\tthis.adjustLoaderOffset = this.adjustLoaderOffset.bind(this);\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Loader.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.table = this.parent.getTable();\n\t\t\tthis.loader = new BX.Loader({\n\t\t\t\ttarget: this.getContainer()\n\t\t\t});\n\t\t},\n\n\t\tadjustLoaderOffset: function()\n\t\t{\n\t\t\tthis.windowHeight = BX.height(window);\n\t\t\tthis.tbodyPos = BX.pos(this.table.tBodies[0]);\n\t\t\tthis.headerPos = BX.pos(this.table.tHead);\n\n\t\t\tvar scrollY = window.scrollY;\n\n\t\t\tif (this.parent.isIE())\n\t\t\t{\n\t\t\t\tscrollY = document.documentElement.scrollTop;\n\t\t\t}\n\n\t\t\tvar bottomPos = (scrollY + this.windowHeight) - this.tbodyPos.top;\n\t\t\tvar posTop = scrollY - this.tbodyPos.top;\n\n\t\t\tif (bottomPos > (this.tbodyPos.bottom - this.tbodyPos.top))\n\t\t\t{\n\t\t\t\tbottomPos = this.tbodyPos.bottom - this.tbodyPos.top;\n\t\t\t}\n\n\t\t\tif (posTop < this.headerPos.height)\n\t\t\t{\n\t\t\t\tposTop = this.headerPos.height;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbottomPos -= posTop;\n\t\t\t\tbottomPos += this.headerPos.height;\n\t\t\t}\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tif (posTop !== this.lastPosTop)\n\t\t\t\t{\n\t\t\t\t\tthis.getContainer().style.transform = 'translate3d(0px, ' + posTop + 'px, 0)';\n\t\t\t\t}\n\n\t\t\t\tif (bottomPos !== this.lastBottomPos)\n\t\t\t\t{\n\t\t\t\t\tthis.getContainer().style.height = bottomPos + 'px';\n\t\t\t\t}\n\n\t\t\t\tthis.lastPosTop = posTop;\n\t\t\t\tthis.lastBottomPos = bottomPos;\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tgetContainer: function()\n\t\t{\n\t\t\tif (!this.container)\n\t\t\t{\n\t\t\t\tthis.container = BX.Grid.Utils.getByClass(this.parent.getContainer(), this.parent.settings.get('classLoader'), true);\n\t\t\t}\n\n\t\t\treturn this.container;\n\t\t},\n\n\t\tshow: function()\n\t\t{\n\t\t\tif (!this.loader.isShown())\n\t\t\t{\n\t\t\t\tthis.adjustLoaderOffset();\n\t\t\t\tthis.getContainer().style.display = \"block\";\n\t\t\t\tthis.getContainer().style.opacity = \"1\";\n\t\t\t\tthis.getContainer().style.visibility = \"visible\";\n\n\t\t\t\tvar rowsCount = this.parent.getRows().getCountDisplayed();\n\n\t\t\t\tif (rowsCount > 0 && rowsCount <= 2)\n\t\t\t\t{\n\t\t\t\t\tthis.loader.setOptions({size: 60});\n\t\t\t\t\tthis.loader.show();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.loader.setOptions({size: 110});\n\t\t\t\t\tthis.loader.show();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thide: function()\n\t\t{\n\t\t\tif (this.loader.isShown())\n\t\t\t{\n\t\t\t\tthis.adjustLoaderOffset();\n\t\t\t\tthis.loader.hide().then(function() {\n\t\t\t\t\tthis.getContainer().style.display = \"none\";\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Main');\n\n\t/**\n\t * Works with grid instances\n\t * @type {{data: Array, push: BX.Main.gridManager.push, getById: BX.Main.gridManager.getById}}\n\t */\n\n\tif (BX.Main.gridManager)\n\t{\n\t\treturn;\n\t}\n\n\tBX.Main.gridManager = {\n\t\tdata: [],\n\n\t\tpush: function(id, instance)\n\t\t{\n\t\t\tif (BX.type.isNotEmptyString(id) && instance)\n\t\t\t{\n\t\t\t\tvar object = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tinstance: instance,\n\t\t\t\t\told: null\n\t\t\t\t};\n\n\t\t\t\tif (this.getById(id) === null)\n\t\t\t\t{\n\t\t\t\t\tthis.data.push(object);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.data[0] = object;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetById: function(id)\n\t\t{\n\t\t\tvar result = this.data.filter(function(current) {\n\t\t\t\treturn (current.id === id) || (current.id.replace('main_grid_', '') === id);\n\t\t\t});\n\n\t\t\treturn result.length === 1 ? result[0] : null;\n\t\t},\n\n\t\tgetInstanceById: function(id)\n\t\t{\n\t\t\tvar result = this.getById(id);\n\t\t\treturn BX.type.isPlainObject(result) ? result[\"instance\"] : null;\n\t\t},\n\n\t\treload: function(id, url)\n\t\t{\n\t\t\tvar instance = this.getInstanceById(id);\n\t\t\tif(instance)\n\t\t\t{\n\t\t\t\tinstance.reload(url);\n\t\t\t}\n\t\t},\n\n\t\tgetDataIndex: function(id)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tthis.data.forEach(function(item, index) {\n\t\t\t\tif (item.id === id)\n\t\t\t\t{\n\t\t\t\t\tresult = index;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\tdestroy: function(id)\n\t\t{\n\t\t\tif (BX.type.isNotEmptyString(id))\n\t\t\t{\n\t\t\t\tvar grid = this.getInstanceById(id);\n\n\t\t\t\tif (grid instanceof BX.Main.grid)\n\t\t\t\t{\n\t\t\t\t\tgrid.destroy();\n\t\t\t\t\tvar index = this.getDataIndex(id);\n\n\t\t\t\t\tif (index !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete this.data[index];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * Works with message\n\t * @param {BX.Main.grid} parent\n\t * @param {object} types - Types of message\n\t * @constructor\n\t */\n\tBX.Grid.Message = function(parent, types)\n\t{\n\t\tthis.parent = null;\n\t\tthis.types = null;\n\t\tthis.messages = null;\n\t\tthis.popup = null;\n\t\tthis.init(parent, types);\n\t};\n\n\tBX.Grid.Message.prototype = {\n\n\t\t/**\n\t\t * @private\n\t\t * @param {BX.Main.grid} parent\n\t\t * @param {object} types\n\t\t */\n\t\tinit: function(parent, types)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.types = types;\n\t\t\tthis.show();\n\t\t\tBX.addCustomEvent('BX.Main.grid:paramsUpdated', BX.proxy(this.onUpdated, this));\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonUpdated: function()\n\t\t{\n\t\t\tthis.show();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets data for messages\n\t\t * @return {object[]}\n\t\t */\n\t\tgetData: function()\n\t\t{\n\t\t\treturn this.parent.arParams.MESSAGES;\n\t\t},\n\n\n\t\t/**\n\t\t * Checks is need show message\n\t\t * @return {boolean}\n\t\t */\n\t\tisNeedShow: function()\n\t\t{\n\t\t\treturn this.getData().length > 0;\n\t\t},\n\n\n\t\t/**\n\t\t * Show message\n\t\t */\n\t\tshow: function()\n\t\t{\n\t\t\tif (this.isNeedShow())\n\t\t\t{\n\t\t\t\tthis.getPopup().setContent(this.getContent());\n\t\t\t\tthis.getPopup().show();\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Gets content for message popup\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetContent: function()\n\t\t{\n\t\t\tvar data = this.getData();\n\t\t\tvar content = null;\n\n\t\t\tif (BX.type.isArray(data) && data.length)\n\t\t\t{\n\t\t\t\tvar messagesDecl = {\n\t\t\t\t\tblock: 'main-grid-messages',\n\t\t\t\t\tcontent: []\n\t\t\t\t};\n\n\t\t\t\tdata.forEach(function(message) {\n\t\t\t\t\tvar messageDecl = {\n\t\t\t\t\t\tblock: 'main-grid-message',\n\t\t\t\t\t\tmix: 'main-grid-message-' + message.TYPE.toLowerCase(),\n\t\t\t\t\t\tcontent: []\n\t\t\t\t\t};\n\n\t\t\t\t\tif (BX.type.isNotEmptyString(message.TITLE))\n\t\t\t\t\t{\n\t\t\t\t\t\tmessageDecl.content.push({\n\t\t\t\t\t\t\tblock: 'main-grid-message-title',\n\t\t\t\t\t\t\tcontent: BX.create(\"div\", {html: message.TITLE}).innerText\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (BX.type.isNotEmptyString(message.TEXT))\n\t\t\t\t\t{\n\t\t\t\t\t\tmessageDecl.content.push({\n\t\t\t\t\t\t\tblock: 'main-grid-message-text',\n\t\t\t\t\t\t\tcontent: BX.create(\"div\", {html: message.TEXT}).innerText\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tmessagesDecl.content.push(messageDecl);\n\t\t\t\t});\n\n\t\t\t\tcontent = BX.decl(messagesDecl);\n\t\t\t}\n\n\t\t\treturn content;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup of message\n\t\t * @return {BX.PopupWindow}\n\t\t */\n\t\tgetPopup: function()\n\t\t{\n\t\t\tif (this.popup === null)\n\t\t\t{\n\t\t\t\tthis.popup = new BX.PopupWindow(\n\t\t\t\t\tthis.getPopupId(),\n\t\t\t\t\tnull,\n\t\t\t\t\t{\n\t\t\t\t\t\tautoHide: true,\n\t\t\t\t\t\toverlay: 0.3,\n\t\t\t\t\t\tminWidth: 400,\n\t\t\t\t\t\tmaxWidth: 800,\n\t\t\t\t\t\tcontentNoPaddings: true,\n\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\t\t\t\ttext: this.parent.getParam('CLOSE'),\n\t\t\t\t\t\t\t\tclassName: 'webform-small-button-blue webform-small-button',\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.close();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.popup;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup id\n\t\t * @return {string}\n\t\t */\n\t\tgetPopupId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-main-grid-message';\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.observer = {\n\t\thandlers: [],\n\t\tadd: function(node, event, handler, context)\n\t\t{\n\t\t\tBX.bind(node, event, context ? BX.proxy(handler, context) : handler);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.Pagesize = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Pagesize.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tBX.addCustomEvent('Dropdown::change', BX.proxy(this.onChange, this));\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent('Dropdown::change', BX.proxy(this.onChange, this));\n\t\t},\n\n\t\tonChange: function(id, event, item, dataValue, value)\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tif (id === this.parent.getContainerId() + '_' + this.parent.settings.get('pageSizeId'))\n\t\t\t{\n\t\t\t\tif (value >= 0)\n\t\t\t\t{\n\t\t\t\t\tthis.parent.tableFade();\n\t\t\t\t\tthis.parent.getUserOptions().setPageSize(value, function() {\n\t\t\t\t\t\tself.parent.reloadTable();\n\t\t\t\t\t\tBX.onCustomEvent(self.parent.getContainer(), 'Grid::pageSizeChanged', [self.parent]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.Pagination\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Pagination = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.container = null;\n\t\tthis.links = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Pagination.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t},\n\n\t\tgetParent: function()\n\t\t{\n\t\t\treturn this.parent;\n\t\t},\n\n\t\tgetContainer: function()\n\t\t{\n\t\t\tif (!this.container)\n\t\t\t{\n\t\t\t\tthis.container = BX.Grid.Utils.getByClass(this.getParent().getContainer(), this.getParent().settings.get('classPagination'), true);\n\t\t\t}\n\n\t\t\treturn this.container;\n\t\t},\n\n\t\tgetLinks: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar result = BX.Grid.Utils.getByTag(this.getContainer(), 'a');\n\n\t\t\tthis.links = [];\n\n\t\t\tif (result)\n\t\t\t{\n\t\t\t\tthis.links = result.map(function(current) {\n\t\t\t\t\treturn new BX.Grid.Element(current, self.getParent());\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.links;\n\t\t},\n\n\t\tgetLink: function(node)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tvar filter;\n\n\t\t\tif (BX.type.isDomNode(node))\n\t\t\t{\n\t\t\t\tfilter = this.getLinks().filter(function(current) {\n\t\t\t\t\treturn node === current.getNode();\n\t\t\t\t});\n\n\t\t\t\tif (filter.length)\n\t\t\t\t{\n\t\t\t\t\tresult = filter[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * BX.Grid.PinHeader\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.PinHeader = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.table = null;\n\t\tthis.header = null;\n\t\tthis.container = null;\n\t\tthis.parentNodeResizeObserver = null;\n\n\t\tvar adminPanel = this.getAdminPanel();\n\n\t\tif (adminPanel)\n\t\t{\n\t\t\tthis.mo = new MutationObserver(this.onAdminPanelMutation.bind(this));\n\t\t\tthis.mo.observe(document.documentElement, {attributes: true});\n\t\t}\n\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.PinHeader.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.rect = BX.pos(this.parent.getHead());\n\t\t\tthis.gridRect = BX.pos(this.parent.getTable());\n\n\t\t\tvar workArea = BX.Grid.Utils.getBySelector(document, '#workarea-content', true);\n\n\t\t\tif (!workArea)\n\t\t\t{\n\t\t\t\tworkArea = this.parent.getContainer().parentNode;\n\t\t\t\tworkArea = !!workArea ? workArea.parentNode : workArea;\n\t\t\t}\n\n\t\t\tif (!!workArea)\n\t\t\t{\n\t\t\t\tthis.parentNodeResizeObserver = new BX.ResizeObserver(BX.proxy(this.refreshRect, this));\n\t\t\t\tthis.parentNodeResizeObserver.observe(workArea);\n\t\t\t}\n\n\t\t\tthis.create(true);\n\n\t\t\tdocument.addEventListener('scroll', BX.proxy(this._onScroll, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tdocument.addEventListener('resize', BX.proxy(this._onResize, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tBX.addCustomEvent('Grid::updated', BX.proxy(this._onGridUpdate, this));\n\t\t\tBX.addCustomEvent('Grid::resize', BX.proxy(this._onGridUpdate, this));\n\t\t\tBX.bind(window, 'resize', BX.proxy(this._onGridUpdate, this));\n\t\t},\n\n\t\trefreshRect: function()\n\t\t{\n\t\t\tthis.gridRect = BX.pos(this.parent.getTable());\n\t\t\tthis.rect = BX.pos(this.parent.getHead());\n\t\t},\n\n\t\t_onGridUpdate: function()\n\t\t{\n\t\t\tvar isPinned = this.isPinned();\n\n\t\t\tBX.remove(this.getContainer());\n\t\t\tthis.create();\n\n\t\t\tisPinned && this.pin();\n\n\t\t\tthis.table = null;\n\t\t\tthis.refreshRect();\n\n\t\t\tthis._onScroll();\n\n\t\t\tBX.onCustomEvent(window, 'Grid::headerUpdated', []);\n\t\t},\n\n\t\tcreate: function(async)\n\t\t{\n\t\t\tvar cells = BX.Grid.Utils.getByTag(this.parent.getHead(), 'th');\n\t\t\tvar cloneThead = BX.clone(this.parent.getHead());\n\t\t\tvar cloneCells = BX.Grid.Utils.getByTag(cloneThead, 'th');\n\n\t\t\tvar resizeCloneCells = function ()\n\t\t\t{\n\t\t\t\tcells.forEach(\n\t\t\t\t\tfunction (cell, index)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar width = BX.width(cell);\n\n\t\t\t\t\t\tif (index > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth -= parseInt(BX.style(cell, 'border-left-width'));\n\t\t\t\t\t\t\twidth -= parseInt(BX.style(cell, 'border-right-width'));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcloneCells[index].firstElementChild && (cloneCells[index].firstElementChild.style.width = width + 'px');\n\n\t\t\t\t\t\tif (cells.length - 1 > index)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcloneCells[index].style.width = width + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tasync ? setTimeout(resizeCloneCells, 0) : resizeCloneCells();\n\n\t\t\tthis.container = BX.decl({\n\t\t\t\tblock: 'main-grid-fixed-bar',\n\t\t\t\tmix: 'main-grid-fixed-top',\n\t\t\t\tattrs: {\n\t\t\t\t\tstyle: 'width: ' + BX.width(this.parent.getContainer()) + 'px'\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tblock: 'main-grid-table',\n\t\t\t\t\ttag: 'table',\n\t\t\t\t\tcontent: cloneThead\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.container.hidden = true;\n\n\t\t\tthis.parent.getWrapper().appendChild(this.container);\n\t\t},\n\n\t\tgetContainer: function()\n\t\t{\n\t\t\treturn this.container;\n\t\t},\n\n\t\tgetFixedTable: function()\n\t\t{\n\t\t\treturn this.table || (this.table = BX.Grid.Utils.getByTag(this.getContainer(), 'table', true));\n\t\t},\n\n\t\tgetAdminPanel: function()\n\t\t{\n\t\t\tif (!this.adminPanel)\n\t\t\t{\n\t\t\t\tthis.adminPanel = document.querySelector('.adm-header');\n\t\t\t}\n\n\t\t\treturn this.adminPanel;\n\t\t},\n\n\t\tisAdminPanelPinned: function()\n\t\t{\n\t\t\treturn BX.hasClass(document.documentElement, 'adm-header-fixed');\n\t\t},\n\n\t\tgetPinOffset: function()\n\t\t{\n\t\t\tvar adminPanel = this.getAdminPanel();\n\n\t\t\tif (adminPanel && this.isAdminPanelPinned())\n\t\t\t{\n\t\t\t\treturn BX.Text.toNumber(BX.style(adminPanel, 'height'));\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t},\n\n\t\tpin: function()\n\t\t{\n\t\t\tvar container = this.getContainer();\n\n\t\t\tif (container)\n\t\t\t{\n\t\t\t\tcontainer.hidden = false;\n\t\t\t}\n\n\t\t\tBX.onCustomEvent(window, 'Grid::headerPinned', []);\n\t\t},\n\n\t\tunpin: function()\n\t\t{\n\t\t\tvar container = this.getContainer();\n\n\t\t\tif (container)\n\t\t\t{\n\t\t\t\tcontainer.hidden = true;\n\t\t\t}\n\n\t\t\tBX.onCustomEvent(window, 'Grid::headerUnpinned', []);\n\t\t},\n\n\t\tstopPin: function()\n\t\t{\n\t\t\tBX.Grid.Utils.styleForEach([this.getContainer()], {\n\t\t\t\t'position': 'absolute',\n\t\t\t\t'top': ((this.gridRect.bottom - this.rect.height - this.gridRect.top) + 'px'),\n\t\t\t\t'box-shadow': 'none'\n\t\t\t});\n\t\t},\n\n\t\tstartPin: function()\n\t\t{\n\t\t\tBX.Grid.Utils.styleForEach([this.getContainer()], {\n\t\t\t\t'position': 'fixed',\n\t\t\t\t'top': this.getPinOffset() + 'px',\n\t\t\t\t'box-shadow': ''\n\t\t\t});\n\t\t},\n\n\t\tisPinned: function()\n\t\t{\n\t\t\treturn !this.getContainer().hidden;\n\t\t},\n\n\t\t_onScroll: function()\n\t\t{\n\t\t\tvar scrollY = 0;\n\n\t\t\tif (this.scrollRect)\n\t\t\t{\n\t\t\t\tscrollY = this.scrollRect.scrollTop;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (document.scrollingElement)\n\t\t\t\t{\n\t\t\t\t\tthis.scrollRect = document.scrollingElement;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (document.documentElement.scrollTop > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.scrollRect = document.documentElement;\n\t\t\t\t\t}\n\t\t\t\t\telse if (document.body.scrollTop > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.scrollRect = document.body;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.gridRect.bottom > (scrollY + this.rect.height))\n\t\t\t{\n\t\t\t\tthis.startPin();\n\n\t\t\t\tvar offset = this.getPinOffset();\n\n\t\t\t\tif ((this.rect.top - offset) <= scrollY)\n\t\t\t\t{\n\t\t\t\t\t!this.isPinned() && this.pin();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.isPinned() && this.unpin();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.stopPin();\n\t\t\t}\n\t\t},\n\n\t\tonAdminPanelMutation: function()\n\t\t{\n\t\t\tthis._onScroll();\n\t\t},\n\n\t\t_onResize: function()\n\t\t{\n\t\t\tthis.rect = BX.pos(this.parent.getHead());\n\t\t}\n\t}\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.PinPanel\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.PinPanel = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.panel = null;\n\t\tthis.isSelected = null;\n\t\tthis.offset = null;\n\t\tthis.animationDuration = null;\n\t\tthis.pinned = false;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.PinPanel.prototype = {\n\t\tinit: function(parent) {\n\t\t\tthis.parent = parent;\n\t\t\tthis.offset = 10;\n\t\t\tthis.animationDuration = 200;\n\t\t\tthis.panel = this.getPanel();\n\t\t\tthis.bindOnRowsEvents();\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tthis.unbindOnRowsEvents();\n\t\t},\n\n\t\tbindOnRowsEvents: function()\n\t\t{\n\t\t\tBX.addCustomEvent('Grid::thereSelectedRows', BX.proxy(this._onThereSelectedRows, this));\n\t\t\tBX.addCustomEvent('Grid::allRowsSelected', BX.proxy(this._onThereSelectedRows, this));\n\t\t\tBX.addCustomEvent('Grid::noSelectedRows', BX.proxy(this._onNoSelectedRows, this));\n\t\t\tBX.addCustomEvent('Grid::allRowsUnselected', BX.proxy(this._onNoSelectedRows, this));\n\t\t\tBX.addCustomEvent('Grid::updated', BX.proxy(this._onNoSelectedRows, this));\n\t\t},\n\n\t\tunbindOnRowsEvents: function()\n\t\t{\n\t\t\tBX.removeCustomEvent('Grid::thereSelectedRows', BX.proxy(this._onThereSelectedRows, this));\n\t\t\tBX.removeCustomEvent('Grid::allRowsSelected', BX.proxy(this._onThereSelectedRows, this));\n\t\t\tBX.removeCustomEvent('Grid::noSelectedRows', BX.proxy(this._onNoSelectedRows, this));\n\t\t\tBX.removeCustomEvent('Grid::allRowsUnselected', BX.proxy(this._onNoSelectedRows, this));\n\t\t\tBX.removeCustomEvent('Grid::updated', BX.proxy(this._onNoSelectedRows, this));\n\t\t},\n\n\t\tbindOnWindowEvents: function()\n\t\t{\n\t\t\tBX.bind(window, 'resize', BX.proxy(this._onResize, this));\n\t\t\tdocument.addEventListener('scroll', BX.proxy(this._onScroll, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t},\n\n\t\tunbindOnWindowEvents: function()\n\t\t{\n\t\t\tBX.unbind(window, 'resize', BX.proxy(this._onResize, this));\n\t\t\tdocument.removeEventListener('scroll', BX.proxy(this._onScroll, this), BX.Grid.Utils.listenerParams({passive: true}));\n\t\t},\n\n\t\tgetPanel: function() {\n\t\t\tthis.panel = this.panel || this.parent.getActionsPanel().getPanel();\n\t\t\treturn this.panel;\n\t\t},\n\n\t\tgetScrollBottom: function()\n\t\t{\n\t\t\treturn (BX.scrollTop(window) + this.getWindowHeight());\n\t\t},\n\n\t\tgetPanelRect: function()\n\t\t{\n\t\t\tif (!BX.type.isPlainObject(this.panelRect))\n\t\t\t{\n\t\t\t\tthis.panelRect = BX.pos(this.getPanel());\n\t\t\t}\n\n\t\t\treturn this.panelRect;\n\t\t},\n\n\t\tgetPanelPrevBottom: function()\n\t\t{\n\t\t\tvar prev = BX.previousSibling(this.getPanel());\n\t\t\treturn BX.pos(prev).bottom + parseFloat(BX.style(prev, 'margin-bottom'));\n\t\t},\n\n\t\tgetWindowHeight: function()\n\t\t{\n\t\t\tthis.windowHeight = this.windowHeight || BX.height(window);\n\t\t\treturn this.windowHeight;\n\t\t},\n\n\t\tpinPanel: function(withAnimation)\n\t\t{\n\t\t\tvar panel = this.getPanel();\n\t\t\tvar width = BX.width(this.getPanel().parentNode);\n\t\t\tvar height = BX.height(this.getPanel().parentNode);\n\t\t\tvar bodyRect = BX.pos(this.parent.getBody());\n\t\t\tvar offset = this.getStartDiffPanelPosition();\n\n\t\t\tpanel.parentNode.style.setProperty('height', height + 'px');\n\n\t\t\tpanel.style.setProperty('transform', 'translateY('+ offset + 'px)');\n\t\t\tpanel.classList.add('main-grid-fixed-bottom');\n\t\t\tpanel.style.setProperty('width', width + 'px');\n\t\t\tpanel.style.removeProperty('position');\n\t\t\tpanel.style.removeProperty('top');\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tif (withAnimation !== false)\n\t\t\t\t{\n\t\t\t\t\tpanel.style.setProperty('transition', 'transform 200ms ease');\n\t\t\t\t}\n\n\t\t\t\tpanel.style.setProperty('transform', 'translateY(0)');\n\t\t\t});\n\n\t\t\tif (this.isNeedPinAbsolute() && !this.absolutePin)\n\t\t\t{\n\t\t\t\tthis.absolutePin = true;\n\t\t\t\tpanel.style.removeProperty('transition');\n\t\t\t\tpanel.style.setProperty('position', 'absolute');\n\t\t\t\tpanel.style.setProperty('top', bodyRect.top + 'px');\n\t\t\t}\n\n\t\t\tif (!this.isNeedPinAbsolute() && this.absolutePin)\n\t\t\t{\n\t\t\t\tthis.absolutePin = false;\n\t\t\t}\n\n\t\t\tthis.adjustPanelPosition();\n\t\t\tthis.pinned = true;\n\t\t},\n\n\t\tunpinPanel: function(withAnimation)\n\t\t{\n\t\t\tvar panel = this.getPanel();\n\t\t\tvar panelRect = BX.pos(panel);\n\t\t\tvar parentRect = BX.pos(panel.parentNode);\n\t\t\tvar offset = Math.abs(panelRect.bottom - parentRect.bottom);\n\n\t\t\tif (withAnimation !== false)\n\t\t\t{\n\t\t\t\tpanel.style.setProperty('transition', 'transform 200ms ease');\n\t\t\t}\n\n\t\t\tvar translateOffset = offset < panelRect.height ? offset + 'px' : '100%';\n\t\t\tpanel.style.setProperty('transform', 'translateY('+translateOffset+')');\n\n\t\t\tvar delay = function(cb, delay)\n\t\t\t{\n\t\t\t\tif (withAnimation !== false)\n\t\t\t\t{\n\t\t\t\t\treturn setTimeout(cb, delay);\n\t\t\t\t}\n\n\t\t\t\tcb();\n\t\t\t};\n\n\t\t\tdelay(function() {\n\t\t\t\tpanel.parentNode.style.removeProperty('height');\n\t\t\t\tpanel.classList.remove('main-grid-fixed-bottom');\n\t\t\t\tpanel.style.removeProperty('transition');\n\t\t\t\tpanel.style.removeProperty('transform');\n\t\t\t\tpanel.style.removeProperty('width');\n\t\t\t\tpanel.style.removeProperty('position');\n\t\t\t\tpanel.style.removeProperty('top');\n\t\t\t}, withAnimation !== false ? 200 : 0);\n\n\t\t\tthis.pinned = false;\n\t\t},\n\n\t\tisSelectedRows: function()\n\t\t{\n\t\t\treturn this.isSelected;\n\t\t},\n\n\t\tisNeedPinAbsolute: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\t((BX.pos(this.parent.getBody()).top + this.getPanelRect().height) >= this.getScrollBottom())\n\t\t\t);\n\t\t},\n\n\t\tisNeedPin: function()\n\t\t{\n\t\t\treturn (this.getScrollBottom() - this.getPanelRect().height) <= this.getPanelPrevBottom();\n\t\t},\n\n\t\tadjustPanelPosition: function()\n\t\t{\n\t\t\tvar scrollX = window.pageXOffset;\n\t\t\tthis.lastScrollX = this.lastScrollX !== null ? this.lastScrollX : scrollX;\n\n\t\t\tBX.Grid.Utils.requestAnimationFrame(BX.proxy(function() {\n\t\t\t\tif (scrollX !== this.lastScrollX)\n\t\t\t\t{\n\t\t\t\t\tvar panelPos = this.getPanelRect();\n\t\t\t\t\tBX.style(this.getPanel(), 'left', panelPos.left - scrollX + 'px');\n\t\t\t\t}\n\t\t\t}, this));\n\n\t\t\tthis.lastScrollX = scrollX;\n\t\t},\n\n\t\tpinController: function(withAnimation)\n\t\t{\n\t\t\tif (this.getPanel())\n\t\t\t{\n\t\t\t\tif (!this.isPinned() && this.isNeedPin() && this.isSelectedRows())\n\t\t\t\t{\n\t\t\t\t\treturn this.pinPanel(withAnimation);\n\t\t\t\t}\n\n\t\t\t\tif (this.isPinned() && !this.isNeedPin() || !this.isSelectedRows())\n\t\t\t\t{\n\t\t\t\t\tthis.unpinPanel(withAnimation);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetEndDiffPanelPosition: function()\n\t\t{\n\t\t\tvar panelPos = BX.pos(this.getPanel());\n\t\t\tvar prevPanelPos = BX.pos(BX.previousSibling(this.getPanel()));\n\t\t\tvar scrollTop = BX.scrollTop(window);\n\t\t\tvar scrollBottom = scrollTop + BX.height(window);\n\t\t\tvar diff = panelPos.height + this.offset;\n\t\t\tvar prevPanelBottom = (prevPanelPos.bottom + parseFloat(BX.style(this.getPanel(), 'margin-top')));\n\n\t\t\tif (prevPanelBottom < scrollBottom && (prevPanelBottom + panelPos.height) > scrollBottom)\n\t\t\t{\n\t\t\t\tdiff = Math.abs(scrollBottom - (prevPanelBottom + panelPos.height));\n\t\t\t}\n\n\t\t\treturn diff;\n\t\t},\n\n\t\tgetStartDiffPanelPosition: function()\n\t\t{\n\t\t\tvar panelPos = BX.pos(this.getPanel());\n\t\t\tvar scrollTop = BX.scrollTop(window);\n\t\t\tvar scrollBottom = scrollTop + BX.height(window);\n\t\t\tvar diff = panelPos.height;\n\n\t\t\tif (panelPos.bottom > scrollBottom && panelPos.top < scrollBottom)\n\t\t\t{\n\t\t\t\tdiff = panelPos.bottom - scrollBottom;\n\t\t\t}\n\n\t\t\treturn diff;\n\t\t},\n\n\t\tisPinned: function()\n\t\t{\n\t\t\treturn this.pinned;\n\t\t},\n\n\t\t_onThereSelectedRows: function()\n\t\t{\n\t\t\tthis.bindOnWindowEvents();\n\t\t\tthis.isSelected = true;\n\n\t\t\tif (this.lastIsSelected)\n\t\t\t{\n\t\t\t\tthis.pinController();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.lastIsSelected = true;\n\t\t\t\tthis.pinController();\n\t\t\t}\n\n\t\t},\n\n\t\t_onNoSelectedRows: function()\n\t\t{\n\t\t\tthis.unbindOnWindowEvents();\n\t\t\tthis.isSelected = false;\n\t\t\tthis.pinController();\n\t\t\tthis.lastIsSelected = false;\n\t\t},\n\n\t\t_onScroll: function()\n\t\t{\n\t\t\tthis.pinController(false);\n\t\t},\n\n\t\t_onResize: function()\n\t\t{\n\t\t\tthis.windowHeight = BX.height(window);\n\t\t\tthis.panel = this.parent.getActionsPanel().getPanel();\n\t\t\tthis.panelRect = this.getPanel().getBoundingClientRect();\n\t\t\tthis.pinController(false);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.Resize = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.lastRegisterButtons = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Resize.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\n\t\t\tBX.addCustomEvent(window, 'Grid::updated', BX.proxy(this.registerTableButtons, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this.registerPinnedTableButtons, this));\n\n\t\t\tthis.registerTableButtons();\n\t\t\tthis.registerPinnedTableButtons();\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent(window, 'Grid::updated', BX.proxy(this.registerTableButtons, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this.registerPinnedTableButtons, this));\n\t\t\tBX.type.isArray(this.lastRegisterButtons) && this.lastRegisterButtons.forEach(jsDD.unregisterObject);\n\t\t\t(this.getButtons() || []).forEach(jsDD.unregisterObject);\n\t\t},\n\n\t\tregisterTableButtons: function()\n\t\t{\n\t\t\t(this.getButtons() || []).forEach(this.register, this);\n\t\t\tthis.registerPinnedTableButtons();\n\t\t},\n\n\t\tregister: function(item)\n\t\t{\n\t\t\tif (BX.type.isDomNode(item))\n\t\t\t{\n\t\t\t\titem.onbxdragstart = BX.delegate(this._onDragStart, this);\n\t\t\t\titem.onbxdragstop = BX.delegate(this._onDragEnd, this);\n\t\t\t\titem.onbxdrag = BX.delegate(this._onDrag, this);\n\t\t\t\tjsDD.registerObject(item);\n\t\t\t}\n\t\t},\n\n\t\tregisterPinnedTableButtons: function()\n\t\t{\n\t\t\tif (this.parent.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tvar pinnedTableButtons = this.getPinnedTableButtons();\n\n\t\t\t\tif (BX.type.isArray(this.lastRegisterButtons) && this.lastRegisterButtons.length)\n\t\t\t\t{\n\t\t\t\t\tthis.lastRegisterButtons.forEach(jsDD.unregisterObject);\n\t\t\t\t}\n\n\t\t\t\tthis.lastRegisterButtons = pinnedTableButtons;\n\n\t\t\t\t(this.getPinnedTableButtons() || []).forEach(this.register, this);\n\t\t\t}\n\t\t},\n\n\t\tgetButtons: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.parent.getRows().getHeadFirstChild().getNode(), this.parent.settings.get('classResizeButton'));\n\t\t},\n\n\t\tgetPinnedTableButtons: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.parent.getPinHeader().getFixedTable(), this.parent.settings.get('classResizeButton'));\n\t\t},\n\n\t\t_onDragStart: function()\n\t\t{\n\t\t\tvar cell = BX.findParent(jsDD.current_node, {className: this.parent.settings.get('classHeadCell')});\n\t\t\tvar cells = this.parent.getRows().getHeadFirstChild().getCells();\n\t\t\tvar cellsKeys = Object.keys(cells);\n\t\t\tvar cellContainer;\n\n\t\t\tthis.__overlay = BX.create('div', {props: {className: 'main-grid-cell-overlay'}});\n\t\t\tBX.append(this.__overlay, cell);\n\t\t\tthis.__resizeCell = cell.cellIndex;\n\n\t\t\tcellsKeys.forEach(function(key) {\n\t\t\t\tif (!BX.hasClass(cells[key], 'main-grid-special-empty'))\n\t\t\t\t{\n\t\t\t\t\tvar width = BX.width(cells[key]);\n\n\t\t\t\t\tif (key > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\twidth -= parseInt(BX.style(cells[key], 'border-left-width'));\n\t\t\t\t\t\twidth -= parseInt(BX.style(cells[key], 'border-right-width'));\n\t\t\t\t\t}\n\n\t\t\t\t\tBX.width(cells[key], width);\n\t\t\t\t\tcellContainer = BX.firstChild(cells[key]);\n\t\t\t\t\tBX.width(cellContainer, width);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_onDrag: function(x)\n\t\t{\n\t\t\tvar table = this.parent.getTable();\n\t\t\tvar fixedTable = this.parent.getParam('ALLOW_PIN_HEADER') ? this.parent.getPinHeader().getFixedTable() : null;\n\t\t\tvar cell = table.rows[0].cells[this.__resizeCell];\n\t\t\tvar fixedCell, fixedCellContainer;\n\n\t\t\tvar cpos = BX.pos(cell);\n\t\t\tvar cellAttrWidth = parseFloat(cell.style.width);\n\t\t\tvar sX;\n\n\t\t\tx -= cpos.left;\n\t\t\tsX = x;\n\n\t\t\tif (cpos.width > cellAttrWidth)\n\t\t\t{\n\t\t\t\tx = cpos.width;\n\t\t\t}\n\n\t\t\tx = sX > x ? sX : x;\n\n\t\t\tx = Math.max(x, 80);\n\n\t\t\tif (x !== cpos.width)\n\t\t\t{\n\t\t\t\tvar fixedCells = this.parent.getAllRows()[0]\n\t\t\t\t\t.querySelectorAll('.main-grid-fixed-column').length;\n\t\t\t\tvar column = this.parent.getColumnByIndex(this.__resizeCell - fixedCells);\n\n\t\t\t\t// Resize current column\n\t\t\t\tcolumn.forEach(function(item) {\n\t\t\t\t\titem.style.width = x+'px';\n\t\t\t\t\titem.style.minWidth = x+'px';\n\t\t\t\t\titem.style.maxWidth = x+'px';\n\t\t\t\t\tBX.Dom.style(item.firstElementChild, 'width', x+'px');\n\t\t\t\t});\n\n\t\t\t\t// Resize false columns\n\t\t\t\tif (column[0].classList.contains('main-grid-fixed-column'))\n\t\t\t\t{\n\t\t\t\t\tcolumn = this.parent.getColumnByIndex(this.__resizeCell - fixedCells + 1);\n\n\t\t\t\t\tcolumn.forEach(function(item) {\n\t\t\t\t\t\titem.style.width = x+'px';\n\t\t\t\t\t\titem.style.minWidth = x+'px';\n\t\t\t\t\t\titem.style.maxWidth = x+'px';\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.parent.adjustFixedColumnsPosition();\n\t\t\t\tthis.parent.adjustFadePosition(this.parent.getFadeOffset());\n\n\t\t\t\tif (BX.type.isDomNode(fixedTable) && BX.type.isDomNode(fixedTable.rows[0]))\n\t\t\t\t{\n\t\t\t\t\tfixedCell = fixedTable.rows[0].cells[this.__resizeCell];\n\t\t\t\t\tfixedCellContainer = BX.firstChild(fixedCell);\n\t\t\t\t\tfixedCellContainer.style.width = x+'px';\n\t\t\t\t\tfixedCellContainer.style.minWidth = x+'px';\n\t\t\t\t\tfixedCell.style.width = x+'px';\n\t\t\t\t\tfixedCell.style.minWidth = x+'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tBX.onCustomEvent(window, 'Grid::columnResize', []);\n\t\t},\n\n\t\t_onDragEnd: function()\n\t\t{\n\t\t\tthis.saveSizes();\n\t\t\tconst cell = BX.findParent(jsDD.current_node, {className: this.parent.settings.get('classHeadCell')});\n\t\t\tconst overlay = cell.querySelector('.main-grid-cell-overlay');\n\t\t\tif (overlay)\n\t\t\t{\n\t\t\t\tBX.Dom.remove(overlay);\n\t\t\t}\n\t\t},\n\n\t\tgetColumnSizes: function()\n\t\t{\n\t\t\tvar cells = this.parent.getRows().getHeadFirstChild().getCells();\n\t\t\tvar columns = {};\n\t\t\tvar name;\n\n\t\t\t[].forEach.call(cells, function(current) {\n\t\t\t\tname = BX.data(current, 'name');\n\n\t\t\t\tif (BX.type.isNotEmptyString(name))\n\t\t\t\t{\n\t\t\t\t\tcolumns[name] = BX.width(current);\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\treturn columns;\n\t\t},\n\n\t\tsaveSizes: function()\n\t\t{\n\t\t\tthis.parent.getUserOptions().setColumnSizes(this.getColumnSizes(), 1);\n\t\t}\n\t};\n})();","import {Type} from \"main.core\";\n\n;(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.Row\n\t * @param {BX.Main.Grid} parent\n\t * @param {HtmlElement} node\n\t * @constructor\n\t */\n\tBX.Grid.Row = function(parent, node)\n\t{\n\t\tthis.node = null;\n\t\tthis.checkbox = null;\n\t\tthis.sort = null;\n\t\tthis.actions = null;\n\t\tthis.settings = null;\n\t\tthis.index = null;\n\t\tthis.actionsButton = null;\n\t\tthis.parent = null;\n\t\tthis.depth = null;\n\t\tthis.parentId = null;\n\t\tthis.editData = null;\n\t\tthis.custom = null;\n\t\tthis.onElementClick = this.onElementClick.bind(this);\n\t\tthis.init(parent, node);\n\t\tthis.initElementsEvents();\n\t};\n\n\t//noinspection JSUnusedGlobalSymbols,JSUnusedGlobalSymbols\n\tBX.Grid.Row.prototype = {\n\t\tinit: function(parent, node)\n\t\t{\n\t\t\tif (BX.type.isDomNode(node))\n\t\t\t{\n\t\t\t\tthis.node = node;\n\t\t\t\tthis.parent = parent;\n\t\t\t\tthis.settings = new BX.Grid.Settings();\n\t\t\t\tthis.bindNodes = [];\n\n\t\t\t\tif (this.isBodyChild())\n\t\t\t\t{\n\t\t\t\t\tthis.bindNodes = [].slice.call(this.node.parentNode.querySelectorAll(\"tr[data-bind=\\\"\"+this.getId()+\"\\\"]\"));\n\t\t\t\t\tif (this.bindNodes.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.node.addEventListener(\"mouseover\", this.onMouseOver.bind(this));\n\t\t\t\t\t\tthis.node.addEventListener(\"mouseleave\", this.onMouseLeave.bind(this));\n\t\t\t\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\t\t\t\trow.addEventListener(\"mouseover\", this.onMouseOver.bind(this));\n\t\t\t\t\t\t\trow.addEventListener(\"mouseleave\", this.onMouseLeave.bind(this));\n\t\t\t\t\t\t\trow.addEventListener(\"click\", function() {\n\t\t\t\t\t\t\t\tif (this.isSelected())\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.unselect();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.select();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.parent.getParam('ALLOW_CONTEXT_MENU'))\n\t\t\t\t{\n\t\t\t\t\tBX.bind(this.getNode(), 'contextmenu', BX.delegate(this._onRightClick, this));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonMouseOver: function()\n\t\t{\n\t\t\tthis.node.classList.add(\"main-grid-row-over\");\n\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\trow.classList.add(\"main-grid-row-over\");\n\t\t\t});\n\t\t},\n\n\t\tonMouseLeave: function()\n\t\t{\n\t\t\tthis.node.classList.remove(\"main-grid-row-over\");\n\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\trow.classList.remove(\"main-grid-row-over\");\n\t\t\t});\n\t\t},\n\n\t\tisCustom: function()\n\t\t{\n\t\t\tif (this.custom === null)\n\t\t\t{\n\t\t\t\tthis.custom = BX.hasClass(this.getNode(), this.parent.settings.get('classRowCustom'));\n\t\t\t}\n\n\t\t\treturn this.custom;\n\t\t},\n\n\t\t_onRightClick: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tif (!this.isHeadChild())\n\t\t\t{\n\t\t\t\tthis.showActionsMenu(event);\n\t\t\t}\n\t\t},\n\n\t\tgetDefaultAction: function()\n\t\t{\n\t\t\treturn BX.data(this.getNode(), 'default-action');\n\t\t},\n\n\t\tgetEditorValue: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar cells = this.getCells();\n\t\t\tvar values = {};\n\t\t\tvar cellValues;\n\n\t\t\t[].forEach.call(cells, function(current) {\n\t\t\t\tcellValues = self.getCellEditorValue(current);\n\t\t\t\tif (BX.type.isArray(cellValues))\n\t\t\t\t{\n\t\t\t\t\tcellValues.forEach(function(cellValue) {\n\t\t\t\t\t\tvalues[cellValue.NAME] = cellValue.VALUE !== undefined ? cellValue.VALUE : \"\";\n\n\t\t\t\t\t\tif (cellValue.hasOwnProperty(\"RAW_NAME\") && cellValue.hasOwnProperty(\"RAW_VALUE\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalues[cellValue.NAME + \"_custom\"] = values[cellValue.NAME + \"_custom\"] || {};\n\t\t\t\t\t\t\tvalues[cellValue.NAME + \"_custom\"][cellValue.RAW_NAME] =\n\t\t\t\t\t\t\t\tvalues[cellValue.NAME + \"_custom\"][cellValue.RAW_NAME] || cellValue.RAW_VALUE;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (cellValues)\n\t\t\t\t{\n\t\t\t\t\tvalues[cellValues.NAME] = cellValues.VALUE !== undefined ? cellValues.VALUE : \"\";\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn values;\n\t\t},\n\n\t\t/**\n\t\t * @deprecated\n\t\t * @use this.getEditorValue()\n\t\t */\n\t\teditGetValues: function()\n\t\t{\n\t\t\treturn this.getEditorValue();\n\t\t},\n\n\t\tgetCellEditorValue: function(cell)\n\t\t{\n\t\t\tvar editor = BX.Grid.Utils.getByClass(cell, this.parent.settings.get('classEditor'), true);\n\t\t\tvar result = null;\n\n\t\t\tif (BX.type.isDomNode(editor))\n\t\t\t{\n\t\t\t\tif (BX.hasClass(editor, 'main-grid-editor-checkbox'))\n\t\t\t\t{\n\t\t\t\t\tresult = {\n\t\t\t\t\t\t'NAME': editor.getAttribute('name'),\n\t\t\t\t\t\t'VALUE': editor.checked ? 'Y' : 'N'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if(BX.hasClass(editor, 'main-grid-editor-custom'))\n\t\t\t\t{\n\t\t\t\t\tresult = this.getCustomValue(editor);\n\t\t\t\t}\n\t\t\t\telse if(BX.hasClass(editor, 'main-grid-editor-money'))\n\t\t\t\t{\n\t\t\t\t\tresult = this.getMoneyValue(editor);\n\t\t\t\t}\n\t\t\t\telse if(BX.hasClass(editor, 'main-ui-multi-select'))\n\t\t\t\t{\n\t\t\t\t\tresult = this.getMultiSelectValues(editor);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = this.getImageValue(editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tisEdit: function()\n\t\t{\n\t\t\treturn BX.hasClass(this.getNode(), 'main-grid-row-edit');\n\t\t},\n\n\t\thide: function()\n\t\t{\n\t\t\tBX.addClass(this.getNode(), this.parent.settings.get('classHide'));\n\t\t},\n\n\t\tshow: function()\n\t\t{\n\t\t\tBX.Dom.attr(this.getNode(), 'hidden', null);\n\t\t\tBX.removeClass(this.getNode(), this.parent.settings.get('classHide'));\n\t\t},\n\n\t\tisShown: function()\n\t\t{\n\t\t\treturn !BX.hasClass(this.getNode(), this.parent.settings.get('classHide'));\n\t\t},\n\n\t\tisNotCount: function()\n\t\t{\n\t\t\treturn BX.hasClass(this.getNode(), this.parent.settings.get('classNotCount'));\n\t\t},\n\n\t\tgetContentContainer: function(target)\n\t\t{\n\t\t\tif (BX.Type.isDomNode(target))\n\t\t\t{\n\t\t\t\tconst cell = target.closest('.main-grid-cell');\n\t\t\t\tif (BX.Type.isDomNode(cell))\n\t\t\t\t{\n\t\t\t\t\treturn cell.querySelector('.main-grid-cell-content');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn target;\n\t\t},\n\n\t\tgetContent: function(cell)\n\t\t{\n\t\t\tvar container = this.getContentContainer(cell);\n\t\t\tvar content;\n\n\t\t\tif (BX.type.isDomNode(container))\n\t\t\t{\n\t\t\t\tcontent = BX.html(container);\n\t\t\t}\n\n\t\t\treturn content;\n\t\t},\n\t\tgetMoneyValue: function(editor)\n\t\t{\n\t\t\tconst result = [];\n\t\t\tconst filteredValue = {\n\t\t\t\tPRICE: {},\n\t\t\t\tCURRENCY: {},\n\t\t\t\tHIDDEN: {},\n\t\t\t};\n\t\t\tconst fieldName = editor.getAttribute('data-name');\n\n\t\t\tconst inputs = [].slice.call(editor.querySelectorAll('input'));\n\t\t\tinputs.forEach(function(element) {\n\t\t\t\tresult.push({\n\t\t\t\t\tNAME: fieldName,\n\t\t\t\t\tRAW_NAME: element.name,\n\t\t\t\t\tRAW_VALUE: element.value || '',\n\t\t\t\t\tVALUE: element.value || '',\n\t\t\t\t});\n\n\t\t\t\tif (element.classList.contains('main-grid-editor-money-price'))\n\t\t\t\t{\n\t\t\t\t\tfilteredValue.PRICE = {\n\t\t\t\t\t\tNAME: element.name,\n\t\t\t\t\t\tVALUE: element.value,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if (element.type ===' hidden')\n\t\t\t\t{\n\t\t\t\t\tfilteredValue.HIDDEN[element.name] = element.value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst currencySelector = editor.querySelector('.main-grid-editor-dropdown');\n\t\t\tif (currencySelector)\n\t\t\t{\n\t\t\t\tconst currencyFieldName = currencySelector.getAttribute('name');\n\t\t\t\tif (BX.type.isNotEmptyString(currencyFieldName))\n\t\t\t\t{\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tNAME: fieldName,\n\t\t\t\t\t\tRAW_NAME: currencyFieldName,\n\t\t\t\t\t\tRAW_VALUE: currencySelector.dataset.value || '',\n\t\t\t\t\t\tVALUE: currencySelector.dataset.value || '',\n\t\t\t\t\t});\n\t\t\t\t\tfilteredValue.CURRENCY = {\n\t\t\t\t\t\tNAME: currencyFieldName,\n\t\t\t\t\t\tVALUE: currencySelector.dataset.value,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push({\n\t\t\t\tNAME: fieldName,\n\t\t\t\tVALUE: filteredValue,\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tgetCustomValue: function(editor)\n\t\t{\n\t\t\tvar map = new Map(), name = editor.getAttribute('data-name');\n\t\t\tvar inputs = [].slice.call(editor.querySelectorAll('input, select, checkbox, textarea'));\n\t\t\tinputs.forEach(function(element) {\n\n\t\t\t\tvar resultObject = {\n\t\t\t\t\t'NAME': name,\n\t\t\t\t\t'RAW_NAME': element.name,\n\t\t\t\t\t'RAW_VALUE': element.value,\n\t\t\t\t\t'VALUE': element.value\n\t\t\t\t};\n\n\t\t\t\tswitch (element.tagName)\n\t\t\t\t{\n\t\t\t\t\tcase 'SELECT':\n\t\t\t\t\t\tif (element.multiple)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar selectValues = [];\n\t\t\t\t\t\t\telement.querySelectorAll('option').forEach(function(option) {\n\t\t\t\t\t\t\t\tif (option.selected)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tselectValues.push(option.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresultObject['RAW_VALUE'] = selectValues;\n\t\t\t\t\t\t\tresultObject['VALUE'] = selectValues;\n\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'INPUT':\n\t\t\t\t\t\tswitch(element.type.toUpperCase())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcase 'RADIO':\n\t\t\t\t\t\t\t\tif (element.checked)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tresultObject['RAW_VALUE'] = element.value;\n\t\t\t\t\t\t\t\t\tresultObject['VALUE'] = element.value;\n\t\t\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'CHECKBOX':\n\t\t\t\t\t\t\t\tresultObject['RAW_VALUE'] = element.checked ? element.value : '';\n\t\t\t\t\t\t\t\tresultObject['VALUE'] = element.checked ? element.value : '';\n\t\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'FILE':\n\t\t\t\t\t\t\t\tresultObject['RAW_VALUE'] = element.files[0];\n\t\t\t\t\t\t\t\tresultObject['VALUE'] = element.files[0];\n\t\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmap.set(element.name, resultObject);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar result = [];\n\t\t\tmap.forEach(function(value) {\n\t\t\t\tresult.push(value);\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetImageValue: function(editor)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tif (BX.hasClass(editor, 'main-grid-image-editor'))\n\t\t\t{\n\t\t\t\tvar input = editor.querySelector('.main-grid-image-editor-file-input');\n\n\t\t\t\tif (input)\n\t\t\t\t{\n\t\t\t\t\tresult = {\n\t\t\t\t\t\t'NAME': input.name,\n\t\t\t\t\t\t'VALUE': input.files[0]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar fakeInput = editor.querySelector('.main-grid-image-editor-fake-file-input');\n\n\t\t\t\t\tif (fakeInput)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult = {\n\t\t\t\t\t\t\t'NAME': fakeInput.name,\n\t\t\t\t\t\t\t'VALUE': fakeInput.value\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (editor.value)\n\t\t\t{\n\t\t\t\tresult = {\n\t\t\t\t\t'NAME': editor.getAttribute('name'),\n\t\t\t\t\t'VALUE': editor.value\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult = {\n\t\t\t\t\t'NAME': editor.getAttribute('name'),\n\t\t\t\t\t'VALUE': BX.data(editor, 'value')\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetMultiSelectValues: function(editor)\n\t\t{\n\t\t\tconst value = JSON.parse(BX.data(editor, 'value'));\n\t\t\treturn {\n\t\t\t\t'NAME': editor.getAttribute('name'),\n\t\t\t\t'VALUE': Type.isArrayFilled(value) ? value : ''\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * @param {HTMLTableCellElement} cell\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetEditorContainer: function(cell)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(cell, this.parent.settings.get('classEditorContainer'), true);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement}\n\t\t */\n\t\tgetCollapseButton: function()\n\t\t{\n\t\t\tif (!this.collapseButton)\n\t\t\t{\n\t\t\t\tthis.collapseButton = BX.Grid.Utils.getByClass(this.getNode(), this.parent.settings.get('classCollapseButton'), true);\n\t\t\t}\n\n\t\t\treturn this.collapseButton;\n\t\t},\n\n\t\tstateLoad: function()\n\t\t{\n\t\t\tBX.addClass(this.getNode(), this.parent.settings.get('classRowStateLoad'));\n\t\t},\n\n\t\tstateUnload: function()\n\t\t{\n\t\t\tBX.removeClass(this.getNode(), this.parent.settings.get('classRowStateLoad'));\n\t\t},\n\n\t\tstateExpand: function()\n\t\t{\n\t\t\tBX.addClass(this.getNode(), this.parent.settings.get('classRowStateExpand'));\n\t\t},\n\n\t\tstateCollapse: function()\n\t\t{\n\t\t\tBX.removeClass(this.getNode(), this.parent.settings.get('classRowStateExpand'));\n\t\t},\n\n\t\tgetParentId: function()\n\t\t{\n\t\t\tif (this.parentId === null)\n\t\t\t{\n\t\t\t\tthis.parentId = BX.data(this.getNode(), 'parent-id');\n\n\t\t\t\tif (typeof this.parentId !== 'undefined' && this.parentId !== null)\n\t\t\t\t{\n\t\t\t\t\tthis.parentId = this.parentId.toString();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.parentId;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {DOMStringMap}\n\t\t */\n\t\tgetDataset: function()\n\t\t{\n\t\t\treturn this.getNode().dataset;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets row depth level\n\t\t * @return {?number}\n\t\t */\n\t\tgetDepth: function()\n\t\t{\n\t\t\tif (this.depth === null)\n\t\t\t{\n\t\t\t\tthis.depth = BX.data(this.getNode(), 'depth');\n\t\t\t}\n\n\t\t\treturn this.depth;\n\t\t},\n\n\n\t\t/**\n\t\t * Set row depth\n\t\t * @param {number} depth\n\t\t */\n\t\tsetDepth: function(depth)\n\t\t{\n\t\t\tdepth = parseInt(depth);\n\n\t\t\tif (BX.type.isNumber(depth))\n\t\t\t{\n\t\t\t\tvar depthOffset = depth - parseInt(this.getDepth());\n\t\t\t\tvar Rows = this.parent.getRows();\n\n\t\t\t\tthis.getDataset().depth = depth;\n\n\t\t\t\tthis.getShiftCells().forEach(function(cell) {\n\t\t\t\t\tBX.data(cell, 'depth', depth);\n\t\t\t\t\tBX.style(cell, 'padding-left', (depth * 20) + 'px');\n\t\t\t\t}, this);\n\n\t\t\t\tRows.getRowsByParentId(this.getId(), true).forEach(function(row) {\n\t\t\t\t\tvar childDepth = parseInt(depthOffset) + parseInt(row.getDepth());\n\t\t\t\t\trow.getDataset().depth = childDepth;\n\t\t\t\t\trow.getShiftCells().forEach(function(cell) {\n\t\t\t\t\t\tBX.data(cell, 'depth', childDepth);\n\t\t\t\t\t\tBX.style(cell, 'padding-left', (childDepth * 20) + 'px');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Sets parent id\n\t\t * @param {string|number} id\n\t\t */\n\t\tsetParentId: function(id)\n\t\t{\n\t\t\tthis.getDataset()['parentId'] = id;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLTableRowElement}\n\t\t */\n\t\tgetShiftCells: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getNode(), 'td[data-shift=\"true\"]');\n\t\t},\n\n\t\tshowChildRows: function()\n\t\t{\n\t\t\tvar rows = this.getChildren();\n\t\t\tvar isCustom = this.isCustom();\n\n\t\t\trows.forEach(function(row) {\n\t\t\t\trow.show();\n\t\t\t\tif (!isCustom && row.isExpand())\n\t\t\t\t{\n\t\t\t\t\trow.showChildRows();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.parent.updateCounterDisplayed();\n\t\t\tthis.parent.updateCounterSelected();\n\t\t\tthis.parent.adjustCheckAllCheckboxes();\n\t\t\tthis.parent.adjustRows();\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetChildren: function()\n\t\t{\n\t\t\tvar functionName = this.isCustom() ? 'getRowsByGroupId' : 'getRowsByParentId';\n\t\t\tvar id = this.isCustom() ? this.getGroupId() : this.getId();\n\t\t\treturn this.parent.getRows()[functionName](id, true);\n\t\t},\n\n\t\thideChildRows: function()\n\t\t{\n\t\t\tvar rows = this.getChildren();\n\t\t\trows.forEach(function(row) { row.hide(); });\n\t\t\tthis.parent.updateCounterDisplayed();\n\t\t\tthis.parent.updateCounterSelected();\n\t\t\tthis.parent.adjustCheckAllCheckboxes();\n\t\t\tthis.parent.adjustRows();\n\t\t},\n\n\t\tisChildsLoaded: function()\n\t\t{\n\t\t\tif (!BX.type.isBoolean(this.childsLoaded))\n\t\t\t{\n\t\t\t\tthis.childsLoaded = this.isCustom() || BX.data(this.getNode(), 'child-loaded') === 'true';\n\t\t\t}\n\n\t\t\treturn this.childsLoaded;\n\t\t},\n\n\t\texpand: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tthis.stateExpand();\n\n\t\t\tif (this.isChildsLoaded())\n\t\t\t{\n\t\t\t\tthis.showChildRows();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.stateLoad();\n\t\t\t\tthis.loadChildRows(function(rows) {\n\t\t\t\t\trows.reverse().forEach(function(current) {\n\t\t\t\t\t\tBX.insertAfter(current, self.getNode());\n\t\t\t\t\t});\n\t\t\t\t\tself.parent.getRows().reset();\n\t\t\t\t\tself.parent.bindOnRowEvents();\n\n\t\t\t\t\tif (self.parent.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.parent.getRowsSortable().reinit();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.parent.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.parent.getColsSortable().reinit();\n\t\t\t\t\t}\n\n\t\t\t\t\tself.stateUnload();\n\t\t\t\t\tBX.data(self.getNode(), 'child-loaded', 'true');\n\t\t\t\t\tself.parent.updateCounterDisplayed();\n\t\t\t\t\tself.parent.updateCounterSelected();\n\t\t\t\t\tself.parent.adjustCheckAllCheckboxes();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tcollapse: function()\n\t\t{\n\t\t\tthis.stateCollapse();\n\t\t\tthis.hideChildRows();\n\t\t},\n\n\t\tisExpand: function()\n\t\t{\n\t\t\treturn BX.hasClass(this.getNode(), this.parent.settings.get('classRowStateExpand'));\n\t\t},\n\n\t\ttoggleChildRows: function()\n\t\t{\n\t\t\tif (!this.isExpand())\n\t\t\t{\n\t\t\t\tthis.expand();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.collapse();\n\t\t\t}\n\t\t},\n\n\t\tloadChildRows: function(callback)\n\t\t{\n\t\t\tif (BX.type.isFunction(callback))\n\t\t\t{\n\t\t\t\tvar self = this;\n\t\t\t\tvar depth = parseInt(this.getDepth());\n\t\t\t\tvar action = this.parent.getUserOptions().getAction('GRID_GET_CHILD_ROWS');\n\t\t\t\tdepth = BX.type.isNumber(depth) ? depth+1 : 1;\n\t\t\t\tthis.parent.getData().request('', 'POST', {action: action, parent_id: this.getId(), depth: depth}, null, function() {\n\t\t\t\t\tvar rows = this.getRowsByParentId(self.getId());\n\t\t\t\t\tcallback.apply(null, [rows]);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tupdate: function(data, url, callback)\n\t\t{\n\t\t\tdata = !!data ? data : '';\n\n\t\t\tvar action = this.parent.getUserOptions().getAction('GRID_UPDATE_ROW');\n\t\t\tvar depth = this.getDepth();\n\t\t\tvar id = this.getId();\n\t\t\tvar parentId = this.getParentId();\n\t\t\tvar rowData = {id: id, parentId: parentId, action: action, depth: depth, data: data};\n\t\t\tvar self = this;\n\n\t\t\tthis.stateLoad();\n\t\t\tthis.parent.getData().request(url, 'POST', rowData, null, function() {\n\t\t\t\tvar bodyRows = this.getBodyRows();\n\t\t\t\tself.parent.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\tself.stateUnload();\n\t\t\t\tself.parent.getRows().reset();\n\t\t\t\tself.parent.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\tself.parent.getUpdater().updatePagination(this.getPagination());\n\t\t\t\tself.parent.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.parent.getUpdater().updateCounterTotal(this.getCounterTotal());\n\t\t\t\tself.parent.bindOnRowEvents();\n\t\t\t\tself.parent.adjustEmptyTable(bodyRows);\n\n\t\t\t\tself.parent.bindOnMoreButtonEvents();\n\t\t\t\tself.parent.bindOnClickPaginationLinks();\n\t\t\t\tself.parent.updateCounterDisplayed();\n\t\t\t\tself.parent.updateCounterSelected();\n\n\t\t\t\tif (self.parent.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.parent.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.parent.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.parent.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::rowUpdated', [{id: id, data: data, grid: self.parent, response: this}]);\n\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self.parent]);\n\n\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t{\n\t\t\t\t\tcallback({id: id, data: data, grid: self.parent, response: this});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tremove: function(data, url, callback)\n\t\t{\n\t\t\tdata = !!data ? data : '';\n\n\t\t\tvar action = this.parent.getUserOptions().getAction('GRID_DELETE_ROW');\n\t\t\tvar depth = this.getDepth();\n\t\t\tvar id = this.getId();\n\t\t\tvar parentId = this.getParentId();\n\t\t\tvar rowData = {id: id, parentId: parentId, action: action, depth: depth, data: data};\n\t\t\tvar self = this;\n\n\t\t\tthis.stateLoad();\n\t\t\tthis.parent.getData().request(url, 'POST', rowData, null, function() {\n\t\t\t\tvar bodyRows = this.getBodyRows();\n\t\t\t\tself.parent.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\tself.stateUnload();\n\t\t\t\tself.parent.getRows().reset();\n\t\t\t\tself.parent.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\tself.parent.getUpdater().updatePagination(this.getPagination());\n\t\t\t\tself.parent.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.parent.getUpdater().updateCounterTotal(this.getCounterTotal());\n\t\t\t\tself.parent.bindOnRowEvents();\n\t\t\t\tself.parent.adjustEmptyTable(bodyRows);\n\n\t\t\t\tself.parent.bindOnMoreButtonEvents();\n\t\t\t\tself.parent.bindOnClickPaginationLinks();\n\t\t\t\tself.parent.updateCounterDisplayed();\n\t\t\t\tself.parent.updateCounterSelected();\n\n\t\t\t\tif (self.parent.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.parent.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.parent.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.parent.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::rowRemoved', [{id: id, data: data, grid: self.parent, response: this}]);\n\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self.parent]);\n\n\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t{\n\t\t\t\t\tcallback({id: id, data: data, grid: self.parent, response: this});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\teditCancel: function()\n\t\t{\n\t\t\tvar cells = this.getCells();\n\t\t\tvar self = this;\n\t\t\tvar editorContainer;\n\n\t\t\t[].forEach.call(cells, function(current) {\n\t\t\t\teditorContainer = self.getEditorContainer(current);\n\n\t\t\t\tif (BX.type.isDomNode(editorContainer))\n\t\t\t\t{\n\t\t\t\t\tBX.remove(self.getEditorContainer(current));\n\t\t\t\t\tBX.show(self.getContentContainer(current));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBX.removeClass(this.getNode(), 'main-grid-row-edit');\n\t\t},\n\n\t\tgetCellByIndex: function(index)\n\t\t{\n\t\t\treturn this.getCells()[index];\n\t\t},\n\n\t\tgetEditDataByCellIndex: function(index)\n\t\t{\n\t\t\treturn eval(BX.data(this.getCellByIndex(index), 'edit'));\n\t\t},\n\n\t\tgetCellNameByCellIndex: function(index)\n\t\t{\n\t\t\treturn BX.data(this.getCellByIndex(index), 'name');\n\t\t},\n\n\t\tresetEditData: function()\n\t\t{\n\t\t\tthis.editData = null;\n\t\t},\n\n\t\tsetEditData: function(editData)\n\t\t{\n\t\t\tthis.editData = editData;\n\t\t},\n\n\t\tgetEditData: function()\n\t\t{\n\t\t\tif (this.editData === null)\n\t\t\t{\n\t\t\t\tvar editableData = this.parent.getParam('EDITABLE_DATA');\n\t\t\t\tvar rowId = this.getId();\n\n\t\t\t\tif (BX.type.isPlainObject(editableData) && rowId in editableData)\n\t\t\t\t{\n\t\t\t\t\tthis.editData = editableData[rowId];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.editData = {};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.editData\n\t\t},\n\n\t\tgetCellEditDataByCellIndex: function(cellIndex)\n\t\t{\n\t\t\tvar editData = this.getEditData();\n\t\t\tvar result = null;\n\t\t\tcellIndex = parseInt(cellIndex);\n\n\t\t\tif (BX.type.isNumber(cellIndex) && BX.type.isPlainObject(editData))\n\t\t\t{\n\t\t\t\tvar columnEditData = this.parent.getRows().getHeadFirstChild().getEditDataByCellIndex(cellIndex);\n\n\t\t\t\tif (BX.type.isPlainObject(columnEditData))\n\t\t\t\t{\n\t\t\t\t\tresult = columnEditData;\n\t\t\t\t\tresult.VALUE = editData[columnEditData.NAME];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tedit: function()\n\t\t{\n\t\t\tvar cells = this.getCells();\n\t\t\tvar self = this;\n\t\t\tvar editObject, editor, height, contentContainer;\n\n\t\t\t[].forEach.call(cells, function(current, index) {\n\t\t\t\tif (current.dataset.editable === 'true')\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\teditObject = self.getCellEditDataByCellIndex(index);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.parent.getEditor().validateEditObject(editObject))\n\t\t\t\t\t{\n\t\t\t\t\t\tcontentContainer = self.getContentContainer(current);\n\t\t\t\t\t\theight = BX.height(contentContainer);\n\t\t\t\t\t\teditor = self.parent.getEditor().getEditor(editObject, height);\n\n\t\t\t\t\t\tif (!self.getEditorContainer(current) && BX.type.isDomNode(editor))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcurrent.appendChild(editor);\n\t\t\t\t\t\t\tBX.hide(contentContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBX.addClass(this.getNode(), 'main-grid-row-edit');\n\t\t},\n\n\t\tsetDraggable: function(value)\n\t\t{\n\t\t\tif (!value)\n\t\t\t{\n\t\t\t\tBX.addClass(this.getNode(), this.parent.settings.get('classDisableDrag'));\n\t\t\t\tthis.parent.getRowsSortable().unregister(this.getNode());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.removeClass(this.getNode(), this.parent.settings.get('classDisableDrag'));\n\t\t\t\tthis.parent.getRowsSortable().register(this.getNode());\n\t\t\t}\n\t\t},\n\n\t\tisDraggable: function()\n\t\t{\n\t\t\treturn !BX.hasClass(this.getNode(), this.parent.settings.get('classDisableDrag'));\n\t\t},\n\n\t\tgetNode: function()\n\t\t{\n\t\t\treturn this.node;\n\t\t},\n\n\t\tgetIndex: function()\n\t\t{\n\t\t\treturn this.getNode().rowIndex;\n\t\t},\n\n\t\tgetId: function()\n\t\t{\n\t\t\treturn String(BX.data(this.getNode(), 'id'));\n\t\t},\n\n\t\tgetGroupId: function()\n\t\t{\n\t\t\treturn (BX.data(this.getNode(), 'group-id')).toString();\n\t\t},\n\n\t\tgetObserver: function()\n\t\t{\n\t\t\treturn BX.Grid.observer;\n\t\t},\n\n\t\tgetCheckbox: function()\n\t\t{\n\t\t\tif (!this.checkbox)\n\t\t\t{\n\t\t\t\tthis.checkbox = BX.Grid.Utils.getByClass(this.getNode(), this.settings.get('classRowCheckbox'), true);\n\t\t\t}\n\n\t\t\treturn this.checkbox;\n\t\t},\n\n\t\tgetActionsMenu: function()\n\t\t{\n\t\t\tif (!this.actionsMenu)\n\t\t\t{\n\t\t\t\tvar buttonRect = this.getActionsButton().getBoundingClientRect();\n\n\t\t\t\tthis.actionsMenu = BX.PopupMenu.create(\n\t\t\t\t\t'main-grid-actions-menu-' + this.getId(),\n\t\t\t\t\tthis.getActionsButton(),\n\t\t\t\t\tthis.getMenuItems(),\n\t\t\t\t\t{\n\t\t\t\t\t\t'autoHide': true,\n\t\t\t\t\t\t'offsetTop': -((buttonRect.height / 2) + 26),\n\t\t\t\t\t\t'offsetLeft': 30,\n\t\t\t\t\t\t'angle': {\n\t\t\t\t\t\t\t'position': 'left',\n\t\t\t\t\t\t\t'offset': ((buttonRect.height / 2) - 8)\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'events': {\n\t\t\t\t\t\t\t'onPopupClose': BX.delegate(this._onCloseMenu, this),\n\t\t\t\t\t\t\t'onPopupShow': BX.delegate(this._onPopupShow, this)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tBX.addCustomEvent('Grid::updated', function() {\n\t\t\t\t\tif(this.actionsMenu)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.actionsMenu.destroy();\n\t\t\t\t\t\tthis.actionsMenu = null;\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t\tBX.bind(this.actionsMenu.popupWindow.popupContainer, 'click', BX.delegate(function(event) {\n\t\t\t\t\tvar actionsMenu = this.getActionsMenu();\n\t\t\t\t\tif (actionsMenu)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar target = BX.getEventTarget(event);\n\t\t\t\t\t\tvar item = BX.findParent(target, {\n\t\t\t\t\t\t\tclassName: 'menu-popup-item'\n\t\t\t\t\t\t}, 10);\n\n\t\t\t\t\t\tif (!item || !item.dataset.preventCloseContextMenu)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactionsMenu.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\t\t\t}\n\n\t\t\treturn this.actionsMenu;\n\t\t},\n\n\t\t_onCloseMenu: function()\n\t\t{\n\t\t},\n\n\t\t_onPopupShow: function(popupMenu)\n\t\t{\n\t\t\tpopupMenu.setBindElement(this.getActionsButton());\n\t\t},\n\n\t\tactionsMenuIsShown: function()\n\t\t{\n\t\t\treturn this.getActionsMenu().popupWindow.isShown();\n\t\t},\n\n\t\tshowActionsMenu: function(event)\n\t\t{\n\t\t\tBX.fireEvent(document.body, 'click');\n\n\t\t\tthis.getActionsMenu().popupWindow.show();\n\n\t\t\tif (event)\n\t\t\t{\n\t\t\t\tthis.getActionsMenu().popupWindow.popupContainer.style.top = ((event.pageY - 25) + BX.PopupWindow.getOption(\"offsetTop\")) + \"px\";\n\t\t\t\tthis.getActionsMenu().popupWindow.popupContainer.style.left = ((event.pageX + 20) + BX.PopupWindow.getOption(\"offsetLeft\")) + \"px\";\n\t\t\t}\n\t\t},\n\n\t\tcloseActionsMenu: function()\n\t\t{\n\t\t\tif (this.actionsMenu)\n\t\t\t{\n\t\t\t\tif (this.actionsMenu.popupWindow)\n\t\t\t\t{\n\t\t\t\t\tthis.actionsMenu.popupWindow.close();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetMenuItems: function()\n\t\t{\n\t\t\treturn this.getActions() || [];\n\t\t},\n\n\t\tgetActions: function()\n\t\t{\n\t\t\ttry {\n\t\t\t\tthis.actions = this.actions || eval(BX.data(this.getActionsButton(), this.settings.get('dataActionsKey')));\n\t\t\t} catch (err) {\n\t\t\t\tthis.actions = null;\n\t\t\t}\n\n\t\t\treturn this.actions;\n\t\t},\n\n\t\tgetActionsButton: function()\n\t\t{\n\t\t\tif (!this.actionsButton)\n\t\t\t{\n\t\t\t\tthis.actionsButton = BX.Grid.Utils.getByClass(this.getNode(), this.settings.get('classRowActionButton'), true);\n\t\t\t}\n\n\t\t\treturn this.actionsButton;\n\t\t},\n\n\t\tinitSelect: function()\n\t\t{\n\t\t\tif (this.isSelected() && !BX.hasClass(this.getNode(), this.settings.get('classCheckedRow')))\n\t\t\t{\n\t\t\t\tBX.addClass(this.getNode(), this.settings.get('classCheckedRow'))\n\t\t\t}\n\t\t},\n\n\t\tgetParentNode: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = (this.getNode()).parentNode;\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetParentNodeName: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = (this.getParentNode()).nodeName;\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tisSelectable: function()\n\t\t{\n\t\t\treturn !this.isEdit() || this.parent.getParam('ALLOW_EDIT_SELECTION');\n\t\t},\n\n\t\tselect: function()\n\t\t{\n\t\t\tvar checkbox;\n\n\t\t\tif (\n\t\t\t\tthis.isSelectable()\n\t\t\t\t&& (this.parent.getParam('ADVANCED_EDIT_MODE') || !this.parent.getRows().hasEditable())\n\t\t\t)\n\t\t\t{\n\t\t\t\tcheckbox = this.getCheckbox();\n\n\t\t\t\tif (checkbox)\n\t\t\t\t{\n\t\t\t\t\tif (!BX.data(checkbox, 'disabled'))\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.addClass(this.getNode(), this.settings.get('classCheckedRow'));\n\t\t\t\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\t\t\t\tBX.addClass(row, this.settings.get('classCheckedRow'));\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t\tcheckbox.checked = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tunselect: function()\n\t\t{\n\t\t\tif (this.isSelectable())\n\t\t\t{\n\t\t\t\tBX.removeClass(this.getNode(), this.settings.get('classCheckedRow'));\n\t\t\t\tthis.bindNodes.forEach(function(row) {\n\t\t\t\t\tBX.removeClass(row, this.settings.get('classCheckedRow'));\n\t\t\t\t}, this);\n\t\t\t\tif (this.getCheckbox())\n\t\t\t\t{\n\t\t\t\t\tthis.getCheckbox().checked = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetCells: function()\n\t\t{\n\t\t\treturn this.getNode().cells;\n\t\t},\n\n\t\tisSelected: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\t(this.getCheckbox() && (this.getCheckbox()).checked) ||\n\t\t\t\t(BX.hasClass(this.getNode(), this.settings.get('classCheckedRow')))\n\t\t\t);\n\t\t},\n\n\t\tisHeadChild: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\tthis.getParentNodeName() === 'THEAD' &&\n\t\t\t\tBX.hasClass(this.getNode(), this.settings.get('classHeadRow'))\n\t\t\t);\n\t\t},\n\n\t\tisBodyChild: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.hasClass(this.getNode(), this.settings.get('classBodyRow')) && !BX.hasClass(this.getNode(), this.settings.get('classEmptyRows'))\n\t\t\t);\n\t\t},\n\n\t\tisFootChild: function()\n\t\t{\n\t\t\treturn (\n\t\t\t\tthis.getParentNodeName() === 'TFOOT' &&\n\t\t\t\tBX.hasClass(this.getNode(), this.settings.get('classFootRow'))\n\t\t\t);\n\t\t},\n\n\t\tprependTo: function(target)\n\t\t{\n\t\t\tBX.Dom.prepend(this.getNode(), target);\n\t\t},\n\n\t\tappendTo: function(target)\n\t\t{\n\t\t\tBX.Dom.append(this.getNode(), target);\n\t\t},\n\n\t\tsetId: function(id)\n\t\t{\n\t\t\tBX.Dom.attr(this.getNode(), 'data-id', id);\n\t\t},\n\n\t\tsetActions: function(actions)\n\t\t{\n\t\t\tconst actionCell = this.getNode().querySelector('.main-grid-cell-action');\n\t\t\tif (actionCell)\n\t\t\t{\n\t\t\t\tlet actionButton = actionCell.querySelector('.main-grid-row-action-button');\n\t\t\t\tif (!actionButton)\n\t\t\t\t{\n\t\t\t\t\tactionButton = BX.Dom.create({\n\t\t\t\t\t\ttag: 'div',\n\t\t\t\t\t\tprops: {className: 'main-grid-row-action-button'},\n\t\t\t\t\t});\n\n\t\t\t\t\tconst container = this.getContentContainer(actionCell);\n\t\t\t\t\tBX.Dom.append(actionButton, container);\n\t\t\t\t}\n\n\t\t\t\tBX.Dom.attr(actionButton, {\n\t\t\t\t\thref: '#',\n\t\t\t\t\t'data-actions': actions,\n\t\t\t\t});\n\n\t\t\t\tthis.actions = actions;\n\n\t\t\t\tif (this.actionsMenu)\n\t\t\t\t{\n\t\t\t\t\tthis.actionsMenu.destroy();\n\t\t\t\t\tthis.actionsMenu = null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tmakeCountable: function()\n\t\t{\n\t\t\tBX.Dom.removeClass(this.getNode(), 'main-grid-not-count');\n\t\t},\n\n\t\tmakeNotCountable: function()\n\t\t{\n\t\t\tBX.Dom.addClass(this.getNode(), 'main-grid-not-count');\n\t\t},\n\n\t\tgetColumnOptions: function(columnId)\n\t\t{\n\t\t\tconst columns = this.parent.getParam('COLUMNS_ALL');\n\t\t\tif (\n\t\t\t\tBX.Type.isPlainObject(columns)\n\t\t\t\t&& Reflect.has(columns, columnId)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn columns[columnId];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\tsetCellsContent: function(content)\n\t\t{\n\t\t\tconst headRow = this.parent.getRows().getHeadFirstChild();\n\n\t\t\t[...this.getCells()].forEach((cell, cellIndex) => {\n\t\t\t\tconst cellName = headRow.getCellNameByCellIndex(cellIndex);\n\n\t\t\t\tif (Reflect.has(content, cellName))\n\t\t\t\t{\n\t\t\t\t\tconst columnOptions = this.getColumnOptions(cellName);\n\t\t\t\t\tconst container = this.getContentContainer(cell);\n\t\t\t\t\tconst cellContent = content[cellName];\n\t\t\t\t\tif (\n\t\t\t\t\t\tcolumnOptions.type === 'labels'\n\t\t\t\t\t\t&& BX.Type.isArray(cellContent)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst labels = cellContent.map((labelOptions) => {\n\t\t\t\t\t\t\tconst label = BX.Tag.render`\n\t\t\t\t\t\t\t\t<span class=\"ui-label ${labelOptions.color}\"></span>\n\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\tif (labelOptions.light !== true)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.Dom.addClass(label, 'ui-label-fill');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (BX.Type.isPlainObject(labelOptions.events))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (Reflect.has(labelOptions.events, 'click'))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tBX.Dom.addClass(label, 'ui-label-link');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.bindOnEvents(label, labelOptions.events);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst labelContent = (() => {\n\t\t\t\t\t\t\t\tif (BX.Type.isStringFilled(labelOptions.html))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn labelOptions.html;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn labelOptions.text;\n\t\t\t\t\t\t\t})();\n\n\t\t\t\t\t\t\tconst inner = BX.Tag.render`\n\t\t\t\t\t\t\t\t<span class=\"ui-label-inner\">${labelContent}</span>\n\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\tBX.Dom.append(inner, label);\n\n\t\t\t\t\t\t\tif (BX.Type.isPlainObject(labelOptions.removeButton))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst button = (() => {\n\t\t\t\t\t\t\t\t\tif (labelOptions.removeButton.type === BX.Grid.Label.RemoveButtonType.INSIDE)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\treturn BX.Tag.render`\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"ui-label-icon\"></span>\t\n\t\t\t\t\t\t\t\t\t\t`;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn BX.Tag.render`\n\t\t\t\t\t\t\t\t\t\t<span class=\"main-grid-label-remove-button ${labelOptions.removeButton.type}\"></span>\t\n\t\t\t\t\t\t\t\t\t`;\n\t\t\t\t\t\t\t\t})();\n\n\t\t\t\t\t\t\t\tif (BX.Type.isPlainObject(labelOptions.removeButton.events))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.bindOnEvents(button, labelOptions.removeButton.events);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tBX.Dom.append(button, label);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn label;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst labelsContainer = BX.Tag.render`\n\t\t\t\t\t\t\t<div class=\"main-grid-labels\">${labels}</div>\n\t\t\t\t\t\t`;\n\n\t\t\t\t\t\tBX.Dom.clean(container);\n\t\t\t\t\t\tconst oldLabelsContainer = container.querySelector('.main-grid-labels');\n\t\t\t\t\t\tif (BX.Type.isDomNode(oldLabelsContainer))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.Dom.replace(oldLabelsContainer, labelsContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.Dom.append(labelsContainer, container);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (\n\t\t\t\t\t\tcolumnOptions.type === 'tags'\n\t\t\t\t\t\t&& BX.Type.isPlainObject(cellContent)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst tags = cellContent.items.map((tagOptions) => {\n\t\t\t\t\t\t\tconst tag = BX.Tag.render`\n\t\t\t\t\t\t\t\t<span class=\"main-grid-tag\"></span>\n\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\tthis.bindOnEvents(tag, tagOptions.events);\n\n\t\t\t\t\t\t\tif (tagOptions.active === true)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.Dom.addClass(tag, 'main-grid-tag-active');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst tagContent = (() => {\n\t\t\t\t\t\t\t\tif (BX.Type.isStringFilled(tagOptions.html))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn tagOptions.html;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn BX.Text.encode(tagOptions.text);\n\t\t\t\t\t\t\t})();\n\n\t\t\t\t\t\t\tconst tagInner = BX.Tag.render`\n\t\t\t\t\t\t\t\t<span class=\"main-grid-tag-inner\">${tagContent}</span>\n\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\tBX.Dom.append(tagInner, tag);\n\n\t\t\t\t\t\t\tif (tagOptions.active === true)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst removeButton = BX.Tag.render`\n\t\t\t\t\t\t\t\t\t<span class=\"main-grid-tag-remove\"></span>\n\t\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\t\tBX.Dom.append(removeButton, tag);\n\n\t\t\t\t\t\t\t\tif (BX.Type.isPlainObject(tagOptions.removeButton))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.bindOnEvents(removeButton, tagOptions.removeButton.events);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn tag;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst tagsContainer = BX.Tag.render`\n\t\t\t\t\t\t\t<span class=\"main-grid-tags\">${tags}</span>\n\t\t\t\t\t\t`;\n\n\t\t\t\t\t\tconst addButton = BX.Tag.render`\n\t\t\t\t\t\t\t<span class=\"main-grid-tag-add\"></span>\n\t\t\t\t\t\t`;\n\t\t\t\t\t\tif (BX.Type.isPlainObject(cellContent.addButton))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.bindOnEvents(addButton, cellContent.addButton.events);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tBX.Dom.append(addButton, tagsContainer);\n\n\t\t\t\t\t\tconst oldTagsContainer = container.querySelector('.main-grid-tags');\n\t\t\t\t\t\tif (BX.Type.isDomNode(oldTagsContainer))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.Dom.replace(oldTagsContainer, tagsContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.Dom.append(tagsContainer, container);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.Runtime.html(container, cellContent);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgetCellById: function(id)\n\t\t{\n\t\t\tconst headRow = this.parent.getRows().getHeadFirstChild();\n\n\t\t\treturn [...this.getCells()].find((cell, index) => {\n\t\t\t\treturn headRow.getCellNameByCellIndex(index) === id;\n\t\t\t});\n\t\t},\n\n\t\tisTemplate: function()\n\t\t{\n\t\t\treturn this.isBodyChild() && /^template_[0-9]$/.test(this.getId());\n\t\t},\n\n\t\tenableAbsolutePosition: function()\n\t\t{\n\t\t\tconst headCells = [...this.parent.getRows().getHeadFirstChild().getCells()];\n\t\t\tconst cellsWidth = headCells.map((cell) => {\n\t\t\t\treturn BX.Dom.style(cell, 'width');\n\t\t\t});\n\n\t\t\tconst cells = this.getCells();\n\t\t\tcellsWidth.forEach((width, index) => {\n\t\t\t\tBX.Dom.style(cells[index], 'width', width);\n\t\t\t});\n\n\t\t\tBX.Dom.style(this.getNode(), 'position', 'absolute');\n\t\t},\n\n\t\tdisableAbsolutePosition: function()\n\t\t{\n\t\t\tBX.Dom.style(this.getNode(), 'position', null);\n\t\t},\n\n\t\tgetHeight: function()\n\t\t{\n\t\t\treturn BX.Text.toNumber(BX.Dom.style(this.getNode(), 'height'));\n\t\t},\n\n\t\tsetCellActions: function(cellActions)\n\t\t{\n\t\t\tObject.entries(cellActions).forEach(([cellId, actions]) => {\n\t\t\t\tconst cell = this.getCellById(cellId);\n\t\t\t\tif (cell)\n\t\t\t\t{\n\t\t\t\t\tconst inner = cell.querySelector('.main-grid-cell-inner');\n\t\t\t\t\tif (inner)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst container = (() => {\n\t\t\t\t\t\t\tconst currentContainer = inner.querySelector('.main-grid-cell-content-actions');\n\t\t\t\t\t\t\tif (currentContainer)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.Dom.clean(currentContainer);\n\t\t\t\t\t\t\t\treturn currentContainer;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst newContainer = BX.Tag.render`\n\t\t\t\t\t\t\t\t<div class=\"main-grid-cell-content-actions\"></div>\n\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\tBX.Dom.append(newContainer, inner);\n\n\t\t\t\t\t\t\treturn newContainer;\n\t\t\t\t\t\t})();\n\n\t\t\t\t\t\tif (BX.Type.isArrayFilled(actions))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactions.forEach((action) => {\n\t\t\t\t\t\t\t\tconst actionClass = (() => {\n\t\t\t\t\t\t\t\t\tif (BX.Type.isArrayFilled(action.class))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\treturn action.class.join(' ');\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn action.class;\n\t\t\t\t\t\t\t\t})();\n\n\t\t\t\t\t\t\t\tconst button = BX.Tag.render`\n\t\t\t\t\t\t\t\t\t<span class=\"main-grid-cell-content-action ${actionClass}\"></span>\n\t\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\t\tif (BX.Type.isPlainObject(action.events))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.bindOnEvents(button, action.events);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (BX.Type.isPlainObject(action.attributes))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tBX.Dom.attr(button, action.attributes);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tBX.Dom.append(button, container);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tinitElementsEvents: function()\n\t\t{\n\t\t\tconst buttons = [\n\t\t\t\t...this.getNode().querySelectorAll('.main-grid-cell [data-events]'),\n\t\t\t];\n\t\t\tif (BX.Type.isArrayFilled(buttons))\n\t\t\t{\n\t\t\t\tbuttons.forEach((button) => {\n\t\t\t\t\tconst events = eval(BX.Dom.attr(button, 'data-events'));\n\t\t\t\t\tif (BX.Type.isPlainObject(events))\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.Dom.attr(button, 'data-events', null);\n\t\t\t\t\t\tthis.bindOnEvents(button, events);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t * @param event\n\t\t */\n\t\tonElementClick: function(event)\n\t\t{\n\t\t\tevent.stopPropagation();\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tbindOnEvents: function(button, events)\n\t\t{\n\t\t\tif (\n\t\t\t\tBX.Type.isDomNode(button)\n\t\t\t\t&& BX.Type.isPlainObject(events)\n\t\t\t)\n\t\t\t{\n\t\t\t\tBX.Event.bind(button, 'click', this.onElementClick.bind(this));\n\n\t\t\t\tconst target = (() => {\n\t\t\t\t\tconst selector = BX.Dom.attr(button, 'data-target');\n\t\t\t\t\tif (selector)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn button.closest(selector);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn button;\n\t\t\t\t})();\n\n\t\t\t\tconst event = new BX.Event.BaseEvent({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tbutton,\n\t\t\t\t\t\ttarget,\n\t\t\t\t\t\trow: this,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tevent.setTarget(target);\n\n\t\t\t\tObject.entries(events).forEach(([eventName, handler]) => {\n\t\t\t\t\tconst preparedHandler = eval(handler);\n\t\t\t\t\tBX.Event.bind(button, eventName, preparedHandler.bind(null, event));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tsetCounters: function(counters)\n\t\t{\n\t\t\tif (BX.Type.isPlainObject(counters))\n\t\t\t{\n\t\t\t\tObject.entries(counters).forEach(([columnId, counter]) => {\n\t\t\t\t\tconst cell = this.getCellById(columnId);\n\t\t\t\t\tif (BX.Type.isDomNode(cell))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst cellInner = cell.querySelector('.main-grid-cell-inner');\n\t\t\t\t\t\tconst counterContainer = (() => {\n\t\t\t\t\t\t\tconst container = cell.querySelector('.main-grid-cell-counter');\n\t\t\t\t\t\t\tif (BX.Type.isDomNode(container))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn container;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn BX.Tag.render`\n\t\t\t\t\t\t\t\t<span class=\"main-grid-cell-counter\"></span>\n\t\t\t\t\t\t\t`;\n\t\t\t\t\t\t})();\n\n\t\t\t\t\t\tconst uiCounter = (() => {\n\t\t\t\t\t\t\tconst currentCounter = counterContainer.querySelector('.ui-counter');\n\t\t\t\t\t\t\tif (BX.Type.isDomNode(currentCounter))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn currentCounter;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst newCounter = BX.Tag.render`\n\t\t\t\t\t\t\t\t<span class=\"ui-counter\"></span>\n\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\tBX.Dom.append(newCounter, counterContainer);\n\n\t\t\t\t\t\t\treturn newCounter;\n\t\t\t\t\t\t})();\n\n\t\t\t\t\t\tif (BX.Type.isPlainObject(counter.events))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.bindOnEvents(uiCounter, counter.events);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst counterInner = (() => {\n\t\t\t\t\t\t\tconst currentInner = uiCounter.querySelector('.ui-counter-inner');\n\t\t\t\t\t\t\tif (BX.Type.isDomNode(currentInner))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn currentInner;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst newInner = BX.Tag.render`\n\t\t\t\t\t\t\t\t<span class=\"ui-counter-inner\"></span>\n\t\t\t\t\t\t\t`;\n\n\t\t\t\t\t\t\tBX.Dom.append(newInner, uiCounter);\n\n\t\t\t\t\t\t\treturn newInner;\n\t\t\t\t\t\t})();\n\n\t\t\t\t\t\tif (BX.Type.isStringFilled(counter.type))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tObject.values(BX.Grid.Counters.Type).forEach((type) => {\n\t\t\t\t\t\t\t\tBX.Dom.removeClass(counterContainer, `main-grid-cell-counter-${type}`);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tBX.Dom.addClass(counterContainer, `main-grid-cell-counter-${counter.type}`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (BX.Type.isStringFilled(counter.color))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tObject.values(BX.Grid.Counters.Color).forEach((color) => {\n\t\t\t\t\t\t\t\tBX.Dom.removeClass(uiCounter, color);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tBX.Dom.addClass(uiCounter, counter.color);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (BX.Type.isStringFilled(counter.size))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tObject.values(BX.Grid.Counters.Size).forEach((size) => {\n\t\t\t\t\t\t\t\tBX.Dom.removeClass(uiCounter, size);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tBX.Dom.addClass(uiCounter, counter.size);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (BX.Type.isStringFilled(counter.class))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.Dom.addClass(uiCounter, counter.class);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tBX.Type.isStringFilled(counter.value)\n\t\t\t\t\t\t\t|| BX.Type.isNumber(counter.value)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst currentValue = BX.Text.toNumber(counterInner.innerText);\n\t\t\t\t\t\t\tconst value = BX.Text.toNumber(counter.value);\n\n\t\t\t\t\t\t\tif (value > 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (value < 100)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcounterInner.innerText = counter.value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcounterInner.innerText = '99+';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (counter.animation !== false)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (value !== currentValue)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif (value > currentValue)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tBX.Dom.addClass(counterInner, 'ui-counter-plus');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tBX.Dom.addClass(counterInner, 'ui-counter-minus');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tBX.Event.bindOnce(counterInner, 'animationend', (event) => {\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tevent.animationName === 'uiCounterPlus'\n\t\t\t\t\t\t\t\t\t\t\t|| event.animationName === 'uiCounterMinus'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tBX.Dom.removeClass(counterInner, ['ui-counter-plus', 'ui-counter-minus']);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (BX.Text.toNumber(counter.value) > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst align = counter.type === BX.Grid.Counters.Type.RIGHT ? 'right' : 'left';\n\t\t\t\t\t\t\tif (align === 'left')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.Dom.prepend(counterContainer, cellInner);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (align === 'right')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.Dom.append(counterContainer, cellInner);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst leftAlignedClass = (\n\t\t\t\t\t\t\t\t`main-grid-cell-counter-${BX.Grid.Counters.Type.LEFT_ALIGNED}`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (BX.Dom.hasClass(counterContainer, leftAlignedClass))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.remove(uiCounter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.remove(counterContainer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * BX.Grid.Rows\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.Rows = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.rows = null;\n\t\tthis.headChild = null;\n\t\tthis.bodyChild = null;\n\t\tthis.footChild = null;\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.Rows.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t},\n\n\t\treset: function()\n\t\t{\n\t\t\tthis.rows = null;\n\t\t\tthis.headChild = null;\n\t\t\tthis.bodyChild = null;\n\t\t\tthis.footChild = null;\n\t\t},\n\n\t\tenableDragAndDrop: function()\n\t\t{\n\t\t\tthis.parent.arParams[\"ALLOW_ROWS_SORT\"] = true;\n\n\t\t\tif (!(this.parent.getRowsSortable() instanceof BX.Grid.RowsSortable))\n\t\t\t{\n\t\t\t\tthis.parent.rowsSortable = new BX.Grid.RowsSortable(this.parent);\n\t\t\t}\n\t\t},\n\n\t\tdisableDragAndDrop: function()\n\t\t{\n\t\t\tthis.parent.arParams[\"ALLOW_ROWS_SORT\"] = false;\n\t\t\tif (this.parent.getRowsSortable() instanceof BX.Grid.RowsSortable)\n\t\t\t{\n\t\t\t\tthis.parent.getRowsSortable().destroy();\n\t\t\t\tthis.parent.rowsSortable = null;\n\t\t\t}\n\t\t},\n\n\t\tgetFootLastChild: function()\n\t\t{\n\t\t\treturn this.getLast(this.getFootChild());\n\t\t},\n\n\t\tgetFootFirstChild: function()\n\t\t{\n\t\t\treturn this.getFirst(this.getFootChild());\n\t\t},\n\n\t\tgetBodyLastChild: function()\n\t\t{\n\t\t\treturn this.getLast(this.getBodyChild());\n\t\t},\n\n\t\tgetBodyFirstChild: function()\n\t\t{\n\t\t\treturn this.getFirst(this.getBodyChild());\n\t\t},\n\n\t\tgetHeadLastChild: function()\n\t\t{\n\t\t\treturn this.getLast(this.getHeadChild());\n\t\t},\n\n\t\tgetHeadFirstChild: function()\n\t\t{\n\t\t\treturn this.getFirst(this.getHeadChild());\n\t\t},\n\n\t\tgetEditSelectedValues: function(withTemplate)\n\t\t{\n\t\t\tvar selectedRows = this.getSelected(withTemplate);\n\t\t\tvar values = {};\n\n\t\t\tselectedRows.forEach(\n\t\t\t\tfunction(current)\n\t\t\t\t{\n\t\t\t\t\tvalues[current.getId()] = current.editGetValues();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn values;\n\t\t},\n\n\t\tgetSelectedIds: function(withTemplate)\n\t\t{\n\t\t\treturn this.getSelected(withTemplate).map(function(current) {\n\t\t\t\treturn current.getId();\n\t\t\t});\n\t\t},\n\n\t\tinitSelected: function()\n\t\t{\n\t\t\tvar selected = this.getSelected();\n\n\t\t\tif (BX.type.isArray(selected) && selected.length)\n\t\t\t{\n\t\t\t\tselected.forEach(function(row) {\n\t\t\t\t\trow.initSelect();\n\t\t\t\t});\n\n\t\t\t\tthis.parent.enableActionsPanel();\n\t\t\t}\n\t\t},\n\n\t\teditSelected: function()\n\t\t{\n\t\t\tthis.getSelected().forEach(function(current) {\n\t\t\t\tcurrent.edit();\n\t\t\t});\n\n\t\t\tBX.onCustomEvent(window, 'Grid::thereEditedRows', []);\n\t\t},\n\n\t\teditSelectedCancel: function(withTemplate)\n\t\t{\n\t\t\tthis.getSelected(withTemplate).forEach(function(current) {\n\t\t\t\tcurrent.editCancel();\n\t\t\t});\n\n\t\t\tBX.onCustomEvent(window, 'Grid::noEditedRows', []);\n\t\t},\n\n\t\tisSelected: function()\n\t\t{\n\t\t\treturn this.getBodyChild().some(function(current) {\n\t\t\t\treturn current.isShown() && current.isSelected();\n\t\t\t});\n\t\t},\n\n\t\tisAllSelected: function()\n\t\t{\n\t\t\treturn !this.getBodyChild()\n\t\t\t\t.filter(function(current) {\n\t\t\t\t\treturn !!current.getCheckbox();\n\t\t\t\t})\n\t\t\t\t.some(function(current) {\n\t\t\t\t\treturn !current.isSelected();\n\t\t\t\t});\n\t\t},\n\n\t\tgetParent: function()\n\t\t{\n\t\t\treturn this.parent;\n\t\t},\n\n\t\tgetCountSelected: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = this.getSelected().filter(function(row) {\n\t\t\t\t\treturn !row.isNotCount() && row.isShown();\n\t\t\t\t}).length;\n\t\t\t} catch(err) {\n\t\t\t\tresult = 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetCountDisplayed: function()\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = this.getBodyChild().filter(function(row) { return row.isShown() && !row.isNotCount(); }).length;\n\t\t\t} catch(err) {\n\t\t\t\tresult = 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\taddRows: function(rows)\n\t\t{\n\t\t\tvar body = BX.findChild(\n\t\t\t\tthis.getParent().getTable(),\n\t\t\t\t{tag: 'TBODY'},\n\t\t\t\ttrue,\n\t\t\t\tfalse\n\t\t\t);\n\n\t\t\trows.forEach(function(current) {\n\t\t\t\tbody.appendChild(current);\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Gets all rows of table\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetRows: function()\n\t\t{\n\t\t\tvar result;\n\t\t\tvar self = this;\n\n\t\t\tif (!this.rows)\n\t\t\t{\n\t\t\t\tresult = [].slice.call(this.getParent().getTable().querySelectorAll('tr[data-id], thead > tr'));\n\n\t\t\t\tthis.rows = result.map(function(current) {\n\t\t\t\t\treturn new BX.Grid.Row(self.parent, current);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.rows;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets selected rows\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetSelected: function(withTemplate)\n\t\t{\n\t\t\treturn this.getBodyChild(withTemplate).filter(function(current) {\n\t\t\t\treturn current.isShown() && current.isSelected();\n\t\t\t});\n\t\t},\n\n\t\tnormalizeNode: function(node)\n\t\t{\n\t\t\tif (!BX.hasClass(node, this.getParent().settings.get('classBodyRow')))\n\t\t\t{\n\t\t\t\tnode = BX.findParent(node, {className: this.getParent().settings.get('classBodyRow')}, true, false);\n\t\t\t}\n\n\t\t\treturn node;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets BX.Grid.Row by id\n\t\t * @param {string|number} id\n\t\t * @return {?BX.Grid.Row}\n\t\t */\n\t\tgetById: function(id)\n\t\t{\n\t\t\treturn this.getBodyChild().find(function(current) {\n\t\t\t\treturn String(current.getId()) === String(id);\n\t\t\t}) || null;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets BX.Grid.Row for tr node\n\t\t * @param {HTMLTableRowElement} node\n\t\t * @return {?BX.Grid.Row}\n\t\t */\n\t\tget: function(node)\n\t\t{\n\t\t\tif (BX.Type.isDomNode(node))\n\t\t\t{\n\t\t\t\tconst rowNode = node.closest('.main-grid-row');\n\t\t\t\tif (BX.Type.isDomNode(rowNode))\n\t\t\t\t{\n\t\t\t\t\tconst rowInstance = this.getRows().find((row) => {\n\t\t\t\t\t\treturn row.getNode() === rowNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (rowInstance)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn rowInstance;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/** @static @method getLast */\n\t\tgetLast: function(array)\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = array[array.length-1];\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/** @static @method getFirst */\n\t\tgetFirst: function(array)\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = array[0];\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetHeadChild: function()\n\t\t{\n\t\t\tthis.headChild = this.headChild || this.getRows().filter(function(current) {\n\t\t\t\t\treturn current.isHeadChild();\n\t\t\t\t});\n\n\t\t\treturn this.headChild;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets child rows of tbody\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetBodyChild: function(withTemplates)\n\t\t{\n\t\t\treturn this.getRows().filter(function(current) {\n\t\t\t\treturn current.isBodyChild() && (!current.isTemplate() || withTemplates);\n\t\t\t});\n\t\t},\n\n\t\tgetFootChild: function()\n\t\t{\n\t\t\tthis.footChild = this.footChild || this.getRows().filter(function(current) {\n\t\t\t\treturn current.isFootChild();\n\t\t\t});\n\n\t\t\treturn this.footChild;\n\t\t},\n\n\n\t\tselectAll: function()\n\t\t{\n\t\t\tthis.getRows().map(function(current) {\n\t\t\t\tcurrent.isShown() && current.select();\n\t\t\t});\n\t\t},\n\n\t\tunselectAll: function()\n\t\t{\n\t\t\tthis.getRows().map(function(current) {\n\t\t\t\tcurrent.unselect();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Gets row by rowIndex\n\t\t * @param {number} rowIndex\n\t\t * @return {?BX.Grid.Row}\n\t\t */\n\t\tgetByIndex: function(rowIndex)\n\t\t{\n\t\t\tvar filter = this.getBodyChild()\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn item;\n\t\t\t\t})\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn item.getNode().rowIndex === rowIndex;\n\t\t\t\t});\n\n\t\t\treturn filter.length ? filter[0] : null;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets child rows\n\t\t * @param {number|string} parentId\n\t\t * @param {boolean} [recursive]\n\t\t * @return {BX.Grid.Row[]}\n\t\t */\n\t\tgetRowsByParentId: function(parentId, recursive)\n\t\t{\n\t\t\tvar result = [];\n\t\t\tvar self = this;\n\n\t\t\tif (!parentId)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tparentId = parentId.toString();\n\n\t\t\tfunction getByParentId(parentId)\n\t\t\t{\n\t\t\t\tself.getBodyChild().forEach(function(row) {\n\t\t\t\t\tif (row.getParentId() === parentId) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t\trecursive && getByParentId(row.getId());\n\t\t\t\t\t}\n\t\t\t\t}, self);\n\t\t\t}\n\n\t\t\tgetByParentId(parentId);\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetRowsByGroupId: function(groupId)\n\t\t{\n\t\t\tvar result = [];\n\t\t\tvar self = this;\n\n\t\t\tif (!groupId)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tgroupId = groupId.toString();\n\n\t\t\tfunction getByParentId(groupId)\n\t\t\t{\n\t\t\t\tself.getBodyChild().forEach(function(row) {\n\t\t\t\t\tif (row.getGroupId() === groupId && !row.isCustom()) {\n\t\t\t\t\t\tresult.push(row);\n\t\t\t\t\t}\n\t\t\t\t}, self);\n\t\t\t}\n\n\t\t\tgetByParentId(groupId);\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetExpandedRows: function()\n\t\t{\n\t\t\treturn this.getRows().filter(function(row) {\n\t\t\t\treturn row.isShown() && row.isExpand();\n\t\t\t});\n\t\t},\n\n\t\tgetIdsExpandedRows: function()\n\t\t{\n\t\t\treturn this.getExpandedRows().map(function(row) {\n\t\t\t\treturn row.getId();\n\t\t\t});\n\t\t},\n\n\n\t\tgetIdsCollapsedGroups: function()\n\t\t{\n\t\t\treturn this.getRows().filter(function(row) {\n\t\t\t\treturn row.isCustom() && !row.isExpand();\n\t\t\t}).map(function(row) {\n\t\t\t\treturn row.getId();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetSourceRows: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getParent().getTable(), [\n\t\t\t\t'.main-grid-header > tr',\n\t\t\t\t'.main-grid-header + tbody > tr'\n\t\t\t].join(', '));\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetSourceBodyChild: function()\n\t\t{\n\t\t\treturn this.getSourceRows().filter(function(current) {\n\t\t\t\treturn BX.Grid.Utils.closestParent(current).nodeName === 'TBODY';\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetSourceHeadChild: function()\n\t\t{\n\t\t\treturn this.getSourceRows().filter(function(current) {\n\t\t\t\treturn BX.Grid.Utils.closestParent(current).nodeName === 'THEAD';\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetSourceFootChild: function()\n\t\t{\n\t\t\treturn this.getSourceRows().filter(function(current) {\n\t\t\t\treturn BX.Grid.Utils.closestParent(current).nodeName === 'TFOOT';\n\t\t\t});\n\t\t},\n\n\t\thasEditable: function()\n\t\t{\n\t\t\treturn this.getBodyChild().some(function(current) {\n\t\t\t\treturn current.isEdit();\n\t\t\t});\n\t\t},\n\n\t\tinsertAfter: function(currentId, targetId)\n\t\t{\n\t\t\tconst currentRow = this.getById(currentId);\n\t\t\tconst targetRow = this.getById(targetId);\n\n\t\t\tif (currentRow && targetRow)\n\t\t\t{\n\t\t\t\tBX.Dom.insertAfter(currentRow.getNode(), targetRow.getNode());\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t},\n\n\t\tinsertBefore: function(currentId, targetId)\n\t\t{\n\t\t\tconst currentRow = this.getById(currentId);\n\t\t\tconst targetRow = this.getById(targetId);\n\n\t\t\tif (currentRow && targetRow)\n\t\t\t{\n\t\t\t\tBX.Dom.insertBefore(currentRow.getNode(), targetRow.getNode());\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t};\n})();\n",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.RowDragEvent = function(eventName)\n\t{\n\t\tthis.allowMoveRow = true;\n\t\tthis.allowInsertBeforeTarget = true;\n\t\tthis.dragItem = null;\n\t\tthis.targetItem = null;\n\t\tthis.eventName = !!eventName ? eventName : '';\n\t\tthis.errorMessage = '';\n\t};\n\n\tBX.Grid.RowDragEvent.prototype = {\n\t\tallowMove: function() { this.allowMoveRow = true; this.errorMessage = ''; },\n\t\tallowInsertBefore: function() { this.allowInsertBeforeTarget = true; },\n\t\tdisallowMove: function(errorMessage) { this.allowMoveRow = false; this.errorMessage = errorMessage || ''; },\n\t\tdisallowInsertBefore: function() { this.allowInsertBeforeTarget = false; },\n\t\tgetDragItem: function() { return this.dragItem; },\n\t\tgetTargetItem: function() { return this.targetItem; },\n\t\tgetEventName: function() { return this.eventName; },\n\t\tsetDragItem: function(item) { return this.dragItem = item; },\n\t\tsetTargetItem: function(item) { return this.targetItem = item; },\n\t\tsetEventName: function(name) { return this.eventName = name; },\n\t\tisAllowedMove: function() { return this.allowMoveRow; },\n\t\tisAllowedInsertBefore: function() { return this.allowInsertBeforeTarget; },\n\t\tgetErrorMessage: function() { return this.errorMessage; }\n\t};\n\n\n\tBX.Grid.RowsSortable = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.list = null;\n\t\tthis.setDefaultProps();\n\t\tthis.init(parent);\n\t};\n\n\tBX.Grid.RowsSortable.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.list = this.getList();\n\t\t\tthis.prepareListItems();\n\t\t\tjsDD.Enable();\n\n\t\t\tif (!this.inited)\n\t\t\t{\n\t\t\t\tthis.inited = true;\n\t\t\t\tthis.onscrollDebounceHandler = BX.debounce(this._onWindowScroll, 300, this);\n\n\t\t\t\tif (!this.parent.getParam('ALLOW_ROWS_SORT_IN_EDIT_MODE', false))\n\t\t\t\t{\n\t\t\t\t\tBX.addCustomEvent('Grid::thereEditedRows', BX.proxy(this.disable, this));\n\t\t\t\t\tBX.addCustomEvent('Grid::noEditedRows', BX.proxy(this.enable, this));\n\t\t\t\t}\n\n\t\t\t\tdocument.addEventListener('scroll', this.onscrollDebounceHandler, BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tif (!this.parent.getParam('ALLOW_ROWS_SORT_IN_EDIT_MODE', false))\n\t\t\t{\n\t\t\t\tBX.removeCustomEvent('Grid::thereEditedRows', BX.proxy(this.disable, this));\n\t\t\t\tBX.removeCustomEvent('Grid::noEditedRows', BX.proxy(this.enable, this));\n\t\t\t}\n\n\t\t\tdocument.removeEventListener('scroll', this.onscrollDebounceHandler, BX.Grid.Utils.listenerParams({passive: true}));\n\t\t\tthis.unregisterObjects();\n\t\t},\n\n\t\t_onWindowScroll: function()\n\t\t{\n\t\t\tthis.windowScrollTop = BX.scrollTop(window);\n\t\t\tthis.rowsRectList = null;\n\t\t},\n\n\t\tdisable: function()\n\t\t{\n\t\t\tthis.unregisterObjects();\n\t\t},\n\n\t\tenable: function()\n\t\t{\n\t\t\tthis.reinit();\n\t\t},\n\n\t\treinit: function()\n\t\t{\n\t\t\tthis.unregisterObjects();\n\t\t\tthis.setDefaultProps();\n\t\t\tthis.init(this.parent);\n\t\t},\n\n\t\tgetList: function()\n\t\t{\n\t\t\treturn this.parent.getRows().getSourceBodyChild();\n\t\t},\n\n\t\tunregisterObjects: function()\n\t\t{\n\t\t\tthis.list.forEach(this.unregister, this);\n\t\t},\n\n\t\tprepareListItems: function()\n\t\t{\n\t\t\tthis.list.forEach(this.register, this);\n\t\t},\n\n\t\tregister: function(row)\n\t\t{\n\t\t\tvar Rows = this.parent.getRows();\n\t\t\tvar rowInstance = Rows.get(row);\n\t\t\tif (rowInstance && rowInstance.isDraggable())\n\t\t\t{\n\t\t\t\trow.onbxdragstart = BX.delegate(this._onDragStart, this);\n\t\t\t\trow.onbxdrag = BX.delegate(this._onDrag, this);\n\t\t\t\trow.onbxdragstop = BX.delegate(this._onDragEnd, this);\n\t\t\t\tjsDD.registerObject(row);\n\t\t\t}\n\t\t},\n\n\t\tunregister: function(row)\n\t\t{\n\t\t\tjsDD.unregisterObject(row);\n\t\t},\n\n\t\tgetIndex: function(item)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getIndex(this.list, item);\n\t\t},\n\n\t\tcalcOffset: function()\n\t\t{\n\t\t\tvar offset = this.dragRect.height;\n\n\t\t\tif (this.additionalDragItems.length)\n\t\t\t{\n\t\t\t\tthis.additionalDragItems.forEach(function(row) {\n\t\t\t\t\toffset += row.clientHeight;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn offset;\n\t\t},\n\n\t\tgetTheadCells: function(sourceCells)\n\t\t{\n\t\t\treturn [].map.call(sourceCells, function(cell, index) {\n\t\t\t\treturn {\n\t\t\t\t\tblock: '',\n\t\t\t\t\ttag: 'th',\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tstyle: 'width: '+BX.width(sourceCells[index])+'px;'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tcreateFake: function()\n\t\t{\n\t\t\tvar content = [];\n\t\t\tthis.cloneDragItem = BX.clone(this.dragItem);\n\t\t\tthis.cloneDragAdditionalDragItems = [];\n\t\t\tthis.cloneDragAdditionalDragItemRows = [];\n\n\t\t\tvar theadCellsDecl = this.getTheadCells(this.dragItem.cells);\n\t\t\tcontent.push(this.cloneDragItem);\n\n\t\t\tthis.additionalDragItems.forEach(function(row) {\n\t\t\t\tvar cloneRow = BX.clone(row);\n\t\t\t\tcontent.push(cloneRow);\n\t\t\t\tthis.cloneDragAdditionalDragItems.push(cloneRow);\n\t\t\t\tthis.cloneDragAdditionalDragItemRows.push(new BX.Grid.Row(this.parent, cloneRow));\n\t\t\t}, this);\n\n\t\t\tvar tableWidth = BX.width(this.parent.getTable());\n\n\t\t\tthis.fake = BX.decl({\n\t\t\t\tblock: 'main-grid-fake-container',\n\t\t\t\tattrs: {\n\t\t\t\t\tstyle: 'position: absolute; top: '+this.getDragStartRect().top+'px; width: ' + tableWidth + 'px'\n\t\t\t\t},\n\t\t\t\tcontent: {\n\t\t\t\t\tblock: 'main-grid-table',\n\t\t\t\t\tmix: 'main-grid-table-fake',\n\t\t\t\t\ttag: 'table',\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tstyle: 'width: ' + tableWidth + 'px'\n\t\t\t\t\t},\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tblock: 'main-grid-header',\n\t\t\t\t\t\t\ttag: 'thead',\n\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\tblock: 'main-grid-row-head',\n\t\t\t\t\t\t\t\ttag: 'tr',\n\t\t\t\t\t\t\t\tcontent: theadCellsDecl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tblock: '',\n\t\t\t\t\t\t\ttag: 'tbody',\n\t\t\t\t\t\t\tcontent: content\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBX.insertAfter(this.fake, this.parent.getTable());\n\n\t\t\tthis.cloneDragItem = new BX.Grid.Row(this.parent, this.cloneDragItem);\n\t\t\treturn this.fake;\n\t\t},\n\n\t\tgetDragStartRect: function()\n\t\t{\n\t\t\treturn BX.pos(this.dragItem, this.parent.getTable());\n\t\t},\n\n\t\t_onDragStart: function()\n\t\t{\n\t\t\tthis.moved = false;\n\t\t\tthis.dragItem = jsDD.current_node;\n\t\t\tthis.targetItem = this.dragItem;\n\t\t\tthis.additionalDragItems = this.getAdditionalDragItems(this.dragItem);\n\t\t\tthis.dragIndex = this.getIndex(this.dragItem);\n\t\t\tthis.dragRect = this.getRowRect(this.dragItem, this.dragIndex);\n\t\t\tthis.offset = this.calcOffset();\n\t\t\tthis.dragStartOffset = (jsDD.start_y - this.dragRect.top);\n\t\t\tthis.dragEvent = new BX.Grid.RowDragEvent();\n\t\t\tthis.dragEvent.setEventName('BX.Main.grid:rowDragStart');\n\t\t\tthis.dragEvent.setDragItem(this.dragItem);\n\t\t\tthis.dragEvent.setTargetItem(this.targetItem);\n\t\t\tthis.dragEvent.allowInsertBefore();\n\n\t\t\tvar dragRow = this.parent.getRows().get(this.dragItem);\n\t\t\tthis.startDragDepth = dragRow.getDepth();\n\t\t\tthis.startDragParentId = dragRow.getParentId();\n\n\t\t\tthis.createFake();\n\n\t\t\tBX.addClass(this.parent.getContainer(), this.parent.settings.get('classOnDrag'));\n\t\t\tBX.addClass(this.dragItem, this.parent.settings.get('classDragActive'));\n\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragStart', [this.dragEvent, this.parent]);\n\t\t},\n\n\t\tgetAdditionalDragItems: function(dragItem)\n\t\t{\n\t\t\tvar Rows = this.parent.getRows();\n\t\t\treturn Rows.getRowsByParentId(Rows.get(dragItem).getId(), true).map(function(row) {\n\t\t\t\treturn row.getNode();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * @param {?HTMLElement} row\n\t\t * @param {int} offset\n\t\t * @param {?int} [transition] css transition-duration in ms\n\t\t */\n\t\tmoveRow: function(row, offset, transition)\n\t\t{\n\t\t\tif (!!row)\n\t\t\t{\n\t\t\t\tvar transitionDuration = BX.type.isNumber(transition) ? transition : 300;\n\t\t\t\trow.style.transition = transitionDuration + 'ms';\n\t\t\t\trow.style.transform = 'translate3d(0px, '+offset+'px, 0px)';\n\t\t\t}\n\t\t},\n\n\t\tgetDragOffset: function()\n\t\t{\n\t\t\treturn jsDD.y - this.dragRect.top - this.dragStartOffset;\n\t\t},\n\n\t\tgetWindowScrollTop: function()\n\t\t{\n\t\t\tif (this.windowScrollTop === null)\n\t\t\t{\n\t\t\t\tthis.windowScrollTop = BX.scrollTop(window);\n\t\t\t}\n\n\t\t\treturn this.windowScrollTop;\n\t\t},\n\n\t\tgetSortOffset: function()\n\t\t{\n\t\t\treturn jsDD.y;\n\t\t},\n\n\t\tgetRowRect: function(row, index)\n\t\t{\n\t\t\tif (!this.rowsRectList)\n\t\t\t{\n\t\t\t\tthis.rowsRectList = {};\n\n\t\t\t\tthis.list.forEach(function(current, i) {\n\t\t\t\t\tthis.rowsRectList[i] = current.getBoundingClientRect();\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\treturn this.rowsRectList[index];\n\t\t},\n\n\t\tgetRowCenter: function(row, index)\n\t\t{\n\t\t\tvar rect = this.getRowRect(row, index);\n\t\t\treturn rect.top + this.getWindowScrollTop() + (rect.height / 2);\n\t\t},\n\n\t\tisDragToBottom: function(row, index)\n\t\t{\n\t\t\tvar rowCenter = this.getRowCenter(row, index);\n\t\t\tvar sortOffset = this.getSortOffset();\n\t\t\treturn index > this.dragIndex && rowCenter < sortOffset;\n\t\t},\n\n\t\tisMovedToBottom: function(row)\n\t\t{\n\t\t\treturn row.style.transform === 'translate3d(0px, '+(-this.offset)+'px, 0px)';\n\t\t},\n\n\t\tisDragToTop: function(row, index)\n\t\t{\n\t\t\tvar rowCenter = this.getRowCenter(row, index);\n\t\t\tvar sortOffset = this.getSortOffset();\n\t\t\treturn index < this.dragIndex && rowCenter > sortOffset;\n\t\t},\n\n\t\tisMovedToTop: function(row)\n\t\t{\n\t\t\treturn row.style.transform === 'translate3d(0px, '+this.offset+'px, 0px)';\n\t\t},\n\n\t\tisDragToBack: function(row, index)\n\t\t{\n\t\t\tvar rowCenter = this.getRowCenter(row, index);\n\t\t\tvar dragIndex = this.dragIndex;\n\t\t\tvar y = jsDD.y;\n\n\t\t\treturn (index > dragIndex && y < rowCenter) || (index < dragIndex && y > rowCenter);\n\t\t},\n\n\t\tisMoved: function(row)\n\t\t{\n\t\t\treturn (row.style.transform !== 'translate3d(0px, 0px, 0px)' && row.style.transform !== '');\n\t\t},\n\n\t\t_onDrag: function()\n\t\t{\n\t\t\tvar dragTransitionDuration = 0;\n\t\t\tvar defaultOffset = 0;\n\n\t\t\tthis.moveRow(this.dragItem, this.getDragOffset(), dragTransitionDuration);\n\t\t\tthis.moveRow(this.fake, this.getDragOffset(), dragTransitionDuration);\n\t\t\tBX.Grid.Utils.styleForEach(this.additionalDragItems, {\n\t\t\t\t'transition': dragTransitionDuration + 'ms',\n\t\t\t\t'transform': 'translate3d(0px, '+(this.getDragOffset())+'px, 0px)'\n\t\t\t});\n\n\t\t\tthis.list.forEach(function(current, index) {\n\t\t\t\tif (!!current && current !== this.dragItem && this.additionalDragItems.indexOf(current) === -1)\n\t\t\t\t{\n\t\t\t\t\tif (this.isDragToTop(current, index) && !this.isMovedToTop(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetItem = current;\n\t\t\t\t\t\tthis.moveRow(current, this.offset);\n\t\t\t\t\t\tthis.dragEvent.setEventName('BX.Main.grid:rowDragMove');\n\t\t\t\t\t\tthis.dragEvent.setTargetItem(this.targetItem);\n\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragMove', [this.dragEvent, this.parent]);\n\t\t\t\t\t\tthis.checkError(this.dragEvent);\n\t\t\t\t\t\tthis.updateProperties(this.dragItem, this.targetItem);\n\t\t\t\t\t\tthis.isDragetToTop = true;\n\t\t\t\t\t\tthis.moved = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isDragToBottom(current, index) && !this.isMovedToBottom(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.targetItem = this.findNextVisible(this.list, index);\n\t\t\t\t\t\tthis.moveRow(current, -this.offset);\n\t\t\t\t\t\tthis.dragEvent.setEventName('BX.Main.grid:rowDragMove');\n\t\t\t\t\t\tthis.dragEvent.setTargetItem(this.targetItem);\n\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragMove', [this.dragEvent, this.parent]);\n\t\t\t\t\t\tthis.checkError(this.dragEvent);\n\t\t\t\t\t\tthis.updateProperties(this.dragItem, this.targetItem);\n\t\t\t\t\t\tthis.isDragetToTop = false;\n\n\t\t\t\t\t\tif (this.targetItem)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.moved = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.isDragToBack(current, index) && this.isMoved(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.moveRow(current, defaultOffset);\n\t\t\t\t\t\tthis.targetItem = current;\n\n\t\t\t\t\t\tif (this.isDragetToTop)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.targetItem = this.findNextVisible(this.list, index);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.moved = true;\n\n\t\t\t\t\t\tthis.dragEvent.setEventName('BX.Main.grid:rowDragMove');\n\t\t\t\t\t\tthis.dragEvent.setTargetItem(this.targetItem);\n\n\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragMove', [this.dragEvent, this.parent]);\n\t\t\t\t\t\tthis.checkError(this.dragEvent);\n\t\t\t\t\t\tthis.updateProperties(this.dragItem, this.targetItem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\n\t\tcreateError: function(target, message)\n\t\t{\n\t\t\tvar error = BX.decl({\n\t\t\t\tblock: 'main-grid-error',\n\t\t\t\tcontent: !!message ? message : ''\n\t\t\t});\n\n\t\t\t!!target && target.appendChild(error);\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tBX.addClass(error, 'main-grid-error-show');\n\t\t\t}, 0);\n\n\t\t\treturn error;\n\t\t},\n\n\t\tcheckError: function(event)\n\t\t{\n\t\t\tif (!event.isAllowedMove() && !this.error)\n\t\t\t{\n\t\t\t\tthis.error = this.createError(this.fake, event.getErrorMessage());\n\t\t\t}\n\n\t\t\tif (event.isAllowedMove() && this.error)\n\t\t\t{\n\t\t\t\tBX.remove(this.error);\n\t\t\t\tthis.error = null;\n\t\t\t}\n\t\t},\n\n\t\tfindNextVisible: function(list, index)\n\t\t{\n\t\t\tvar result = null;\n\t\t\tvar Rows = this.parent.getRows();\n\n\t\t\tlist.forEach(function(item, currentIndex) {\n\t\t\t\tif (!result && currentIndex > index)\n\t\t\t\t{\n\t\t\t\t\tvar row = Rows.get(item);\n\t\t\t\t\tif (row && row.isShown())\n\t\t\t\t\t{\n\t\t\t\t\t\tresult = item;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\n\t\t/**\n\t\t * Updates row properties\n\t\t * @param {?HTMLTableRowElement} dragItem\n\t\t * @param {?HTMLTableRowElement} targetItem\n\t\t */\n\t\tupdateProperties: function(dragItem, targetItem)\n\t\t{\n\t\t\tvar Rows = this.parent.getRows();\n\t\t\tvar dragRow = Rows.get(dragItem);\n\t\t\tvar depth = 0;\n\t\t\tvar parentId = 0;\n\n\t\t\tif (!!targetItem)\n\t\t\t{\n\t\t\t\tvar targetRow = Rows.get(targetItem);\n\t\t\t\tdepth = targetRow.getDepth();\n\t\t\t\tparentId = targetRow.getParentId();\n\t\t\t}\n\n\t\t\tdragRow.setDepth(depth);\n\t\t\tdragRow.setParentId(parentId);\n\n\t\t\tthis.cloneDragItem.setDepth(depth);\n\t\t\tthis.cloneDragAdditionalDragItemRows.forEach(function(row, index) {\n\t\t\t\trow.setDepth(BX.data(this.additionalDragItems[index], 'depth'));\n\t\t\t}, this);\n\t\t},\n\n\n\t\tresetDragProperties: function()\n\t\t{\n\t\t\tvar dragRow = this.parent.getRows().get(this.dragItem);\n\t\t\tdragRow.setDepth(this.startDragDepth);\n\t\t\tdragRow.setParentId(this.startDragParentId);\n\t\t},\n\n\t\t_onDragOver: function() {},\n\n\t\t_onDragLeave: function() {},\n\n\t\t_onDragEnd: function()\n\t\t{\n\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:rowDragEnd', [this.dragEvent, this.parent]);\n\n\t\t\tBX.removeClass(this.parent.getContainer(), this.parent.settings.get('classOnDrag'));\n\t\t\tBX.removeClass(this.dragItem, this.parent.settings.get('classDragActive'));\n\n\t\t\tBX.Grid.Utils.styleForEach(this.list, {'transition': '', 'transform': ''});\n\n\t\t\tif (this.dragEvent.isAllowedMove())\n\t\t\t{\n\t\t\t\tthis.sortRows(this.dragItem, this.targetItem);\n\t\t\t\tthis.sortAdditionalDragItems(this.dragItem, this.additionalDragItems);\n\n\t\t\t\tthis.list = this.getList();\n\t\t\t\tthis.parent.getRows().reset();\n\n\t\t\t\tvar dragItem = this.parent.getRows().get(this.dragItem);\n\t\t\t\tvar ids = this.parent.getRows().getBodyChild().map(function(row) {\n\t\t\t\t\treturn row.getId();\n\t\t\t\t});\n\n\t\t\t\tif (this.parent.getParam('ALLOW_ROWS_SORT_INSTANT_SAVE', true))\n\t\t\t\t{\n\t\t\t\t\tthis.saveRowsSort(ids);\n\t\t\t\t}\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::rowMoved', [ids, dragItem, this.parent]);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.resetDragProperties();\n\t\t\t}\n\n\t\t\tBX.remove(this.fake);\n\n\t\t\tthis.setDefaultProps();\n\t\t},\n\n\t\tsortAdditionalDragItems: function(dragItem, additional)\n\t\t{\n\t\t\tadditional.reduce(function(prev, current) {\n\t\t\t\t!!current && BX.insertAfter(current, prev);\n\t\t\t\treturn current;\n\t\t\t}, dragItem);\n\t\t},\n\n\t\tsortRows: function(current, target)\n\t\t{\n\t\t\tif (!!target)\n\t\t\t{\n\t\t\t\ttarget.parentNode.insertBefore(current, target);\n\t\t\t}\n\t\t\telse if (this.moved)\n\t\t\t{\n\t\t\t\tcurrent.parentNode.appendChild(current);\n\t\t\t}\n\t\t},\n\n\t\tsaveRowsSort: function(rows)\n\t\t{\n\t\t\tvar data = {\n\t\t\t\tids: rows,\n\t\t\t\taction: this.parent.getUserOptions().getAction('GRID_SAVE_ROWS_SORT')\n\t\t\t};\n\n\t\t\tthis.parent.getData().request(null, 'POST', data);\n\t\t},\n\n\t\tsetDefaultProps: function()\n\t\t{\n\t\t\tthis.moved = false;\n\t\t\tthis.dragItem = null;\n\t\t\tthis.targetItem = null;\n\t\t\tthis.dragRect = null;\n\t\t\tthis.dragIndex = null;\n\t\t\tthis.offset = null;\n\t\t\tthis.realX = null;\n\t\t\tthis.realY = null;\n\t\t\tthis.dragStartOffset = null;\n\t\t\tthis.windowScrollTop = null;\n\t\t\tthis.rowsRectList = null;\n\t\t\tthis.error = false;\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.Settings\n\t * @constructor\n\t */\n\tBX.Grid.Settings = function()\n\t{\n\t\tthis.settings = {};\n\t\tthis.defaultSettings = {\n\t\t\tclassContainer: 'main-grid',\n\t\t\tclassWrapper: 'main-grid-wrapper',\n\t\t\tclassTable: 'main-grid-table',\n\t\t\tclassScrollContainer: 'main-grid-container',\n\t\t\tclassFadeContainer: 'main-grid-fade',\n\t\t\tclassFadeContainerRight: 'main-grid-fade-right',\n\t\t\tclassFadeContainerLeft: 'main-grid-fade-left',\n\t\t\tclassNavPanel: 'main-grid-nav-panel',\n\t\t\tclassActionPanel: 'main-grid-action-panel',\n\t\t\tclassCursor: 'main-grid-cursor',\n\t\t\tclassRowCustom: 'main-grid-row-custom',\n\t\t\tclassMoreButton: 'main-grid-more-btn',\n\t\t\tclassRow: 'main-grid-row',\n\t\t\tclassHeadRow: 'main-grid-row-head',\n\t\t\tclassBodyRow: 'main-grid-row-body',\n\t\t\tclassFootRow: 'main-grid-row-foot',\n\t\t\tclassDataRows: 'main-grid-row-data',\n\t\t\tclassPanels: 'main-grid-bottom-panels',\n\t\t\tclassCellHeadContainer: 'main-grid-cell-head-container',\n\t\t\tclassCellHeadOndrag: 'main-grid-cell-head-ondrag',\n\t\t\tclassEmptyRows: 'main-grid-row-empty',\n\t\t\tclassEmptyBlock: 'main-grid-empty-block',\n\t\t\tclassCheckAllCheckboxes: 'main-grid-check-all',\n\t\t\tclassCheckedRow: 'main-grid-row-checked',\n\t\t\tclassRowCheckbox: 'main-grid-row-checkbox',\n\t\t\tclassPagination: 'main-grid-panel-cell-pagination',\n\t\t\tclassActionCol: 'main-grid-cell-action',\n\t\t\tclassCounterDisplayed: 'main-grid-counter-displayed',\n\t\t\tclassCounterSelected: 'main-grid-counter-selected',\n\t\t\tclassCounterTotal: 'main-grid-panel-total',\n\t\t\tclassTableFade: 'main-grid-table-fade',\n\t\t\tclassDragActive: 'main-grid-on-row-drag',\n\t\t\tclassResizeButton: 'main-grid-resize-button',\n\t\t\tclassOnDrag: 'main-grid-ondrag',\n\t\t\tclassDisableDrag: 'main-grid-row-drag-disabled',\n\t\t\tclassPanelCellContent: 'main-grid-panel-content',\n\t\t\tclassCollapseButton: 'main-grid-plus-button',\n\t\t\tclassRowStateLoad: 'main-grid-load-row',\n\t\t\tclassRowStateExpand: 'main-grid-row-expand',\n\t\t\tclassHeaderSortable: 'main-grid-col-sortable',\n\t\t\tclassHeaderNoSortable: 'main-grid-col-no-sortable',\n\t\t\tclassCellStatic: 'main-grid-cell-static',\n\t\t\tclassHeadCell: 'main-grid-cell-head',\n\t\t\tclassPageSize: 'main-grid-panel-select-pagesize',\n\t\t\tclassGroupEditButton: 'main-grid-control-panel-action-edit',\n\t\t\tclassGroupDeleteButton: 'main-grid-control-panel-action-remove',\n\t\t\tclassGroupActionsDisabled: 'main-grid-control-panel-action-icon-disable',\n\t\t\tclassPanelButton: 'main-grid-buttons',\n\t\t\tclassPanelApplyButton: 'main-grid-control-panel-apply-button',\n\t\t\tclassPanelCheckbox: 'main-grid-panel-checkbox',\n\t\t\tclassEditor: 'main-grid-editor',\n\t\t\tclassEditorContainer: 'main-grid-editor-container',\n\t\t\tclassEditorText: 'main-grid-editor-text',\n\t\t\tclassEditorDate: 'main-grid-editor-date',\n\t\t\tclassEditorNumber: 'main-grid-editor-number',\n\t\t\tclassEditorRange: 'main-grid-editor-range',\n\t\t\tclassEditorCheckbox: 'main-grid-editor-checkbox',\n\t\t\tclassEditorTextarea: 'main-grid-editor-textarea',\n\t\t\tclassEditorCustom: 'main-grid-editor-custom',\n\t\t\tclassEditorMoney: 'main-grid-editor-money',\n\t\t\tclassCellContainer: 'main-grid-cell-content',\n\t\t\tclassEditorOutput: 'main-grid-editor-output',\n\t\t\tclassSettingsWindow: 'main-grid-settings-window',\n\t\t\tclassSettingsWindowColumn: 'main-grid-settings-window-list-item',\n\t\t\tclassSettingsWindowColumnLabel: 'main-grid-settings-window-list-item-label',\n\t\t\tclassSettingsWindowColumnEditState: 'main-grid-settings-window-list-item-edit',\n\t\t\tclassSettingsWindowColumnEditInput: 'main-grid-settings-window-list-item-edit-input',\n\t\t\tclassSettingsWindowColumnEditButton: 'main-grid-settings-window-list-item-edit-button',\n\t\t\tclassSettingsWindowColumnCheckbox: 'main-grid-settings-window-list-item-checkbox',\n\t\t\tclassSettingsWindowShow: 'main-grid-settings-window-show',\n\t\t\tclassSettingsWindowSelectAll: 'main-grid-settings-window-select-all',\n\t\t\tclassSettingsWindowUnselectAll: 'main-grid-settings-window-unselect-all',\n\t\t\tclassSettingsWindowSearchSectionsWrapper: 'main-grid-settings-window-search-section-wrapper',\n\t\t\tclassSettingsWindowSearchActiveSectionIcon: 'main-grid-settings-window-search-section-item-icon-active',\n\t\t\tclassSettingsWindowSearchSectionInput: 'main-grid-settings-window-search-section-input',\n\t\t\tclassSettingsWindowSearchSectionItemHidden: 'main-grid-settings-window-list-item-hidden',\n\t\t\tclassSettingsWindowSearchSectionItemVisible: 'main-grid-settings-window-list-item-visible',\n\t\t\tclassSettingsButton: 'main-grid-interface-settings-icon',\n\t\t\tclassSettingsButtonActive: 'main-grid-interface-settings-icon-active',\n\t\t\tclassSettingsWindowClose: 'main-grid-settings-window-actions-item-close',\n\t\t\tclassSettingsWindowReset: 'main-grid-settings-window-actions-item-reset',\n\t\t\tclassSettingsWindowColumnChecked: 'main-grid-settings-window-list-item-checked',\n\t\t\tclassShowAnimation: 'main-grid-show-popup-animation',\n\t\t\tclassCloseAnimation: 'main-grid-close-popup-animation',\n\t\t\tclassLoader: 'main-grid-loader-container',\n\t\t\tclassLoaderShow: 'main-grid-show-loader',\n\t\t\tclassLoaderHide: 'main-grid-hide-loader',\n\t\t\tclassRowError: 'main-grid-error',\n\t\t\tloaderHideAnimationName: 'hideLoader',\n\t\t\tclassHide: 'main-grid-hide',\n\t\t\tclassEar: 'main-grid-ear',\n\t\t\tclassEarLeft: 'main-grid-ear-left',\n\t\t\tclassEarRight: 'main-grid-ear-right',\n\t\t\tclassNotCount: 'main-grid-not-count',\n\t\t\tclassCounter: 'main-grid-panel-counter',\n\t\t\tclassForAllCounterEnabled: 'main-grid-panel-counter-for-all-enable',\n\t\t\tclassLoad: 'load',\n\t\t\tclassRowActionButton: 'main-grid-row-action-button',\n\t\t\tclassDropdown: 'main-dropdown',\n\t\t\tclassPanelControl: 'main-grid-panel-control',\n\t\t\tclassPanelControlContainer: 'main-grid-panel-control-container',\n\t\t\tclassForAllCheckbox: 'main-grid-for-all-checkbox',\n\t\t\tclassDisable: 'main-grid-disable',\n\t\t\tdataActionsKey: 'actions',\n\t\t\tupdateActionMore: 'more',\n\t\t\tclassShow: 'show',\n\t\t\tclassGridShow: 'main-grid-show',\n\t\t\tupdateActionPagination: 'pagination',\n\t\t\tupdateActionSort: 'sort',\n\t\t\tajaxIdDataProp: 'ajaxid',\n\t\t\tpageSizeId: 'grid_page_size',\n\t\t\tsortableRows: true,\n\t\t\tsortableColumns: true,\n\t\t\tanimationDuration: 300\n\t\t};\n\t\tthis.prepare();\n\t};\n\n\n\tBX.Grid.Settings.prototype = {\n\t\tprepare: function()\n\t\t{\n\t\t\tthis.settings = this.defaultSettings;\n\t\t},\n\n\t\tgetDefault: function()\n\t\t{\n\t\t\treturn this.defaultSettings;\n\t\t},\n\n\t\tget: function(name)\n\t\t{\n\t\t\tvar result;\n\n\t\t\ttry {\n\t\t\t\tresult = (this.getDefault())[name];\n\t\t\t} catch (err) {\n\t\t\t\tresult = null;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetList: function()\n\t\t{\n\t\t\treturn this.getDefault();\n\t\t}\n\t};\n})();\n",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * @param {BX.Main.grid} parent\n\t * @constructor\n\t */\n\tBX.Grid.SettingsWindow = function(parent)\n\t{\n\t\tthis.parent = null;\n\t\tthis.popupItems = null;\n\t\tthis.items = null;\n\t\tthis.popup = null;\n\t\tthis.sourceContent = null;\n\t\tthis.applyButton = null;\n\t\tthis.resetButton = null;\n\t\tthis.cancelButton = null;\n\t\tthis.filterSections = null;\n\t\tthis.filterSectionsSearchInput = null;\n\t\tthis.init(parent);\n\t\tBX.onCustomEvent(window, 'BX.Grid.SettingsWindow:init', [this]);\n\t};\n\n\n\tBX.Grid.SettingsWindow.prototype = {\n\t\tinit: function(parent)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tBX.bind(this.parent.getContainer(), 'click', BX.proxy(this._onContainerClick, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::columnMoved', BX.proxy(this._onColumnMoved, this));\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.unbind(this.parent.getContainer(), 'click', BX.proxy(this._onContainerClick, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::columnMoved', BX.proxy(this._onColumnMoved, this));\n\t\t\tthis.getPopup().close();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets select all button\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetSelectAllButton: function()\n\t\t{\n\t\t\tif (!this.selectAllButton)\n\t\t\t{\n\t\t\t\tthis.selectAllButton = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.getPopup().contentContainer,\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindowSelectAll'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.selectAllButton;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets unselect all button\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetUnselectAllButton: function()\n\t\t{\n\t\t\tif (!this.unselectAllButton)\n\t\t\t{\n\t\t\t\tthis.unselectAllButton = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.getPopup().contentContainer,\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindowUnselectAll'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.unselectAllButton;\n\t\t},\n\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\treset: function()\n\t\t{\n\t\t\tthis.popupItems = null;\n\t\t\tthis.allColumns = null;\n\t\t\tthis.items = null;\n\t\t},\n\n\n\t\t_onContainerClick: function(event)\n\t\t{\n\t\t\tif (BX.hasClass(event.target, this.parent.settings.get('classSettingsButton')))\n\t\t\t{\n\t\t\t\tthis._onSettingsButtonClick(event);\n\t\t\t}\n\t\t},\n\n\t\t_onSettingsButtonClick: function()\n\t\t{\n\t\t\tBX.onCustomEvent(window, 'BX.Grid.SettingsWindow:show', [this]);\n\t\t\tthis.getPopup().show();\n\t\t},\n\n\n\t\tfetchColumns: function()\n\t\t{\n\t\t\tconst promise = new BX.Promise();\n\t\t\tconst lazyLoadParams = this.parent.getParam(\"LAZY_LOAD\");\n\t\t\tif (BX.Type.isPlainObject(lazyLoadParams))\n\t\t\t{\n\t\t\t\tif (!BX.Type.isNil(lazyLoadParams.CONTROLLER))\n\t\t\t\t{\n\t\t\t\t\tBX.ajax\n\t\t\t\t\t\t.runAction(\n\t\t\t\t\t\t\t`${lazyLoadParams.CONTROLLER}.getColumnsList`,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tgridId: this.parent.getId(),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then(promise.fulfill.bind(promise));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.ajax({\n\t\t\t\t\t\turl: this.parent.getParam(\"LAZY_LOAD\")[\"GET_LIST\"],\n\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\tonsuccess: promise.fulfill.bind(promise),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn promise;\n\t\t},\n\n\n\t\tprepareColumnOptions: function(options)\n\t\t{\n\t\t\tvar customNames = this.parent.getUserOptions().getCurrentOptions().custom_names;\n\n\t\t\tif (BX.type.isPlainObject(options))\n\t\t\t{\n\t\t\t\tif (BX.type.isPlainObject(customNames))\n\t\t\t\t{\n\t\t\t\t\tif (options.id in customNames)\n\t\t\t\t\t{\n\t\t\t\t\t\toptions.name = customNames[options.id];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.parent.getColumnHeaderCellByName(options.id))\n\t\t\t\t{\n\t\t\t\t\toptions.selected = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn options;\n\t\t},\n\n\n\t\t/**\n\t\t * Creates column element\n\t\t * @param {{id: string, name: string}} options\n\t\t * @return {HTMLElement}\n\t\t */\n\t\tcreateColumnElement: function(options)\n\t\t{\n\t\t\tvar html = \"<div data-name=\\\"\"+options.id+\"\\\" class=\\\"main-grid-settings-window-list-item\\\">\" +\n\t\t\t\t\"<input id=\\\"\"+options.id+\"-checkbox\\\" type=\\\"checkbox\\\" class=\\\"main-grid-settings-window-list-item-checkbox\\\"\"+(options.selected ? \" checked\" : \"\")+\">\" +\n\t\t\t\t\"<label for=\\\"\"+options.id+\"-checkbox\\\" class=\\\"main-grid-settings-window-list-item-label\\\">\"+options.name+\"</label>\" +\n\t\t\t\t\"<span class=\\\"main-grid-settings-window-list-item-edit-button\\\"></span>\" +\n\t\t\t\"</div>\";\n\n\t\t\treturn BX.create(\"div\", {html: html}).firstElementChild;\n\t\t},\n\n\n\t\tuseLazyLoadColumns: function()\n\t\t{\n\t\t\treturn !!this.parent.getParam(\"LAZY_LOAD\");\n\t\t},\n\n\n\t\t/**\n\t\t * @private\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetSourceContent: function()\n\t\t{\n\t\t\tif (!this.sourceContent)\n\t\t\t{\n\t\t\t\tthis.sourceContent = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.parent.getContainer(),\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindow'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\n\t\t\t\tif (this.useLazyLoadColumns())\n\t\t\t\t{\n\t\t\t\t\t// Clear columns list\n\t\t\t\t\tthis.contentList = this.sourceContent.querySelector(\".main-grid-settings-window-list\");\n\t\t\t\t\tthis.contentList.innerHTML = \"\";\n\n\t\t\t\t\t// Make and show loader\n\t\t\t\t\tvar loader = new BX.Loader({\n\t\t\t\t\t\ttarget: this.contentList\n\t\t\t\t\t});\n\n\t\t\t\t\tloader.show();\n\n\t\t\t\t\t// Fetch all columns list\n\t\t\t\t\tthis.fetchColumns()\n\t\t\t\t\t\t// Make list items\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tresponse.forEach(function(columnOptions) {\n\t\t\t\t\t\t\t\tcolumnOptions = this.prepareColumnOptions(columnOptions);\n\t\t\t\t\t\t\t\tthis.contentList.appendChild(this.createColumnElement(columnOptions));\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\t// Remove loader\n\t\t\t\t\t\t\tloader.hide().then(function() {\n\t\t\t\t\t\t\t\tloader.destroy();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t// Reset cached items\n\t\t\t\t\t\t\tthis.reset();\n\n\t\t\t\t\t\t\t// Init new item\n\t\t\t\t\t\t\tthis.getItems().forEach(function(item) {\n\t\t\t\t\t\t\t\tBX.bind(item.getNode(), 'click', BX.delegate(this.onItemClick, this));\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\tthis.fixedFooter = BX.create(\"div\", {\n\t\t\t\t\t\t\t\tprops: {className: \"main-grid-popup-window-buttons-wrapper\"},\n\t\t\t\t\t\t\t\tchildren: [this.sourceContent.querySelector(\".popup-window-buttons\")]\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tthis.popup.popupContainer.appendChild(this.fixedFooter);\n\t\t\t\t\t\t\t\tthis.fixedFooter.style.width = this.popup.popupContainer.clientWidth + \"px\";\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.sourceContent;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup items of columns\n\t\t * @return {?HTMLElement[]}\n\t\t */\n\t\tgetPopupItems: function()\n\t\t{\n\t\t\tvar popupContainer;\n\n\t\t\tif (!this.popupItems)\n\t\t\t{\n\t\t\t\tpopupContainer = this.getPopup().contentContainer;\n\t\t\t\tthis.popupItems = BX.Grid.Utils.getByClass(popupContainer, this.parent.settings.get('classSettingsWindowColumn'));\n\t\t\t}\n\n\t\t\treturn this.popupItems;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets selected columns ids\n\t\t * @return {string[]}\n\t\t */\n\t\tgetSelectedColumns: function()\n\t\t{\n\t\t\tvar columns = [];\n\n\t\t\tthis.getItems().forEach(function(column) {\n\t\t\t\tcolumn.isSelected() && columns.push(column.getId());\n\t\t\t});\n\n\t\t\treturn columns;\n\t\t},\n\n\n\t\t/**\n\t\t * Restores columns to default state\n\t\t */\n\t\trestoreColumns: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(column) {\n\t\t\t\tcolumn.restore();\n\t\t\t});\n\n\t\t\tthis.sortItems();\n\t\t\tthis.reset();\n\t\t},\n\n\n\t\t/**\n\t\t * Restores columns to saved state\n\t\t */\n\t\trestoreLastColumns: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(current) {\n\t\t\t\tcurrent.restoreState();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Updates columns state\n\t\t */\n\t\tupdateColumnsState: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(current) {\n\t\t\t\tcurrent.updateState();\n\t\t\t});\n\t\t},\n\n\t\tgetStickedColumns: function()\n\t\t{\n\t\t\treturn this.getItems().reduce(function(accumulator, item) {\n\t\t\t\tif (item.isSticked())\n\t\t\t\t{\n\t\t\t\t\taccumulator.push(item.getId());\n\t\t\t\t}\n\n\t\t\t\treturn accumulator;\n\t\t\t}, []);\n\t\t},\n\n\t\t/**\n\t\t * Saves columns settings\n\t\t * @param {string[]} columns - ids\n\t\t * @param {?function} callback\n\t\t */\n\t\tsaveColumns: function(columns, callback)\n\t\t{\n\t\t\tvar options = this.parent.getUserOptions();\n\t\t\tvar columnNames = this.getColumnNames();\n\t\t\tvar stickedColumns = this.getStickedColumns();\n\t\t\tvar batch = [];\n\n\t\t\tbatch.push({\n\t\t\t\taction: options.getAction('GRID_SET_COLUMNS'),\n\t\t\t\tcolumns: columns.join(',')\n\t\t\t});\n\n\t\t\tbatch.push({\n\t\t\t\taction: options.getAction('SET_CUSTOM_NAMES'),\n\t\t\t\tcustom_names: columnNames\n\t\t\t});\n\n\t\t\tbatch.push({\n\t\t\t\taction: options.getAction('GRID_SET_STICKED_COLUMNS'),\n\t\t\t\tstickedColumns: stickedColumns\n\t\t\t});\n\n\t\t\tif (this.isForAll())\n\t\t\t{\n\t\t\t\tbatch.push({\n\t\t\t\t\taction: options.getAction('GRID_SAVE_SETTINGS'),\n\t\t\t\t\tview_id: 'default',\n\t\t\t\t\tset_default_settings: 'Y',\n\t\t\t\t\tdelete_user_settings: 'Y'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\toptions.batch(batch, BX.delegate(function() {\n\t\t\t\tthis.parent.reloadTable(null, null, callback);\n\t\t\t}, this));\n\n\t\t\tthis.updateColumnsState();\n\t\t},\n\n\n\t\t/**\n\t\t * Disables edit for all columns\n\t\t */\n\t\tdisableAllColumnslabelEdit: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(column) {\n\t\t\t\tcolumn.disableEdit();\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Gets all columns ids\n\t\t * @return {string[]}\n\t\t */\n\t\tgetAllColumns: function()\n\t\t{\n\t\t\tif (!this.allColumns)\n\t\t\t{\n\t\t\t\tthis.allColumns = this.getItems().map(function(column) {\n\t\t\t\t\treturn column.getId();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.allColumns;\n\t\t},\n\n\t\tisShowedColumn: function(columnName)\n\t\t{\n\t\t\treturn this.getSelectedColumns().some(function(name) {\n\t\t\t\treturn name === columnName;\n\t\t\t});\n\t\t},\n\n\t\tgetShowedColumns: function()\n\t\t{\n\t\t\tvar result = [];\n\t\t\tvar cells = this.parent.getRows().getHeadFirstChild().getCells();\n\n\t\t\t[].slice.call(cells).forEach(function(column) {\n\t\t\t\tif (\"name\" in column.dataset)\n\t\t\t\t{\n\t\t\t\t\tresult.push(column.dataset.name);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\tsortItems: function()\n\t\t{\n\t\t\tvar showedColumns = this.getShowedColumns();\n\t\t\tvar allColumns = {};\n\n\t\t\tthis.getAllColumns().forEach(function(name) {\n\t\t\t\tallColumns[name] = name;\n\t\t\t}, this);\n\n\t\t\tvar counter = 0;\n\t\t\tObject.keys(allColumns).forEach(function(name) {\n\t\t\t\tif (this.isShowedColumn(name))\n\t\t\t\t{\n\t\t\t\t\tallColumns[name] = showedColumns[counter];\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\n\t\t\t\tvar current = this.getColumnByName(allColumns[name]);\n\t\t\t\tcurrent && current.parentNode.appendChild(current);\n\t\t\t}, this);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets current columns names\n\t\t * @return {object}\n\t\t */\n\t\tgetColumnNames: function()\n\t\t{\n\t\t\tvar names = {};\n\t\t\tthis.getItems().map(function(column) {\n\t\t\t\tif (column.isEdited())\n\t\t\t\t{\n\t\t\t\t\tnames[column.getId()] = column.getTitle();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn names;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column node by name\n\t\t * @param {string} name\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetColumnByName: function(name)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(\n\t\t\t\tthis.getPopup().popupContainer,\n\t\t\t\t'.' + this.parent.settings.get('classSettingsWindowColumn') + '[data-name=\"'+name+'\"]',\n\t\t\t\ttrue\n\t\t\t);\n\t\t},\n\n\t\t_onColumnMoved: function()\n\t\t{\n\t\t\tthis.sortItems();\n\t\t\tthis.reset();\n\t\t},\n\n\n\t\tonResetButtonClick: function()\n\t\t{\n\t\t\tthis.parent.confirmDialog(\n\t\t\t\t{\n\t\t\t\t\tCONFIRM: true,\n\t\t\t\t\tCONFIRM_MESSAGE: this.parent.arParams.CONFIRM_RESET_MESSAGE\n\t\t\t\t},\n\t\t\t\tBX.delegate(function() {\n\t\t\t\t\tthis.enableWait(this.getApplyButton());\n\n\t\t\t\t\tthis.parent.getUserOptions().reset(this.isForAll(), BX.delegate(function() {\n\t\t\t\t\t\tthis.parent.reloadTable(null, null, BX.delegate(function() {\n\t\t\t\t\t\t\tthis.restoreColumns();\n\t\t\t\t\t\t\tthis.disableWait(this.getApplyButton());\n\t\t\t\t\t\t\tthis.getPopup().close();\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t}, this));\n\t\t\t\t}, this)\n\t\t\t);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets reset button id\n\t\t * @return {string}\n\t\t */\n\t\tgetResetButtonId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-grid-settings-reset-button';\n\t\t},\n\n\n\t\tonApplyButtonClick: function()\n\t\t{\n\t\t\tthis.parent.confirmDialog(\n\t\t\t\t{\n\t\t\t\t\tCONFIRM: this.isForAll(),\n\t\t\t\t\tCONFIRM_MESSAGE: this.parent.getParam('SETTINGS_FOR_ALL_CONFIRM_MESSAGE')\n\t\t\t\t},\n\t\t\t\tBX.delegate(function() {\n\t\t\t\t\tthis.enableWait(this.getApplyButton());\n\t\t\t\t\tthis.saveColumns(this.getSelectedColumns(), BX.delegate(function() {\n\t\t\t\t\t\tthis.getPopup().close();\n\t\t\t\t\t\tthis.disableWait(this.getApplyButton());\n\t\t\t\t\t\tthis.unselectForAllCheckbox();\n\t\t\t\t\t}, this));\n\t\t\t\t\tBX.onCustomEvent(window, 'BX.Grid.SettingsWindow:save', [this]);\n\t\t\t\t}, this),\n\t\t\t\tBX.delegate(function() {\n\t\t\t\t\tthis.unselectForAllCheckbox();\n\t\t\t\t}, this)\n\t\t\t);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets apply button id\n\t\t * @return {string}\n\t\t */\n\t\tgetApplyButtonId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-grid-settings-apply-button';\n\t\t},\n\n\n\t\t/**\n\t\t * Gets apply button\n\t\t * @return {HTMLElement}\n\t\t */\n\t\tgetApplyButton: function()\n\t\t{\n\t\t\tif (this.applyButton === null)\n\t\t\t{\n\t\t\t\tthis.applyButton = BX(this.getApplyButtonId());\n\t\t\t}\n\n\t\t\treturn this.applyButton;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets cancel button id\n\t\t * @return {string}\n\t\t */\n\t\tgetCancelButtonId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-grid-settings-cancel-button';\n\t\t},\n\n\n\t\t/**\n\t\t * Gets cancel button\n\t\t * @return {HTMLElement}\n\t\t */\n\t\tgetCancelButton: function()\n\t\t{\n\t\t\tif (this.cancelButton === null)\n\t\t\t{\n\t\t\t\tthis.cancelButton = BX(this.getCancelButtonId());\n\t\t\t}\n\n\t\t\treturn this.cancelButton;\n\t\t},\n\n\n\t\t/**\n\t\t * Unselect for all checkbox\n\t\t */\n\t\tunselectForAllCheckbox: function()\n\t\t{\n\t\t\tvar checkbox = this.getForAllCheckbox();\n\t\t\tcheckbox && (checkbox.checked = null);\n\t\t},\n\n\n\t\t/**\n\t\t * Enables wait animation for button\n\t\t * @param {HTMLElement} buttonNode\n\t\t */\n\t\tenableWait: function(buttonNode)\n\t\t{\n\t\t\tBX.addClass(buttonNode, 'ui-btn-wait');\n\t\t\tBX.removeClass(buttonNode, 'popup-window-button');\n\t\t},\n\n\n\t\t/**\n\t\t * Disables wait animation for button\n\t\t * @param {HTMLElement} buttonNode\n\t\t */\n\t\tdisableWait: function(buttonNode)\n\t\t{\n\t\t\tBX.removeClass(buttonNode, 'ui-btn-wait');\n\t\t\tBX.addClass(buttonNode, 'popup-window-button');\n\t\t},\n\n\n\t\t/**\n\t\t * Creates title of settings popup window\n\t\t * @return {string}\n\t\t */\n\t\tcreateTitle: function()\n\t\t{\n\t\t\tvar tmpDiv = BX.create('div');\n\t\t\tvar customSettingsTitle = this.parent.getParam('SETTINGS_WINDOW_TITLE');\n\n\t\t\tif (customSettingsTitle !== \"\")\n\t\t\t{\n\t\t\t\tcustomSettingsTitle = '&laquo;' + customSettingsTitle + '&raquo;';\n\t\t\t\ttmpDiv.innerHTML = '<span>' + this.parent.getParam('SETTINGS_TITLE') + ' ' + customSettingsTitle + '</span>';\n\n\t\t\t\treturn tmpDiv.firstChild.innerText;\n\t\t\t}\n\n\t\t\tvar gridsCount = BX.Main.gridManager.data.length;\n\n\t\t\tif (gridsCount === 1)\n\t\t\t{\n\t\t\t\tvar pageTitleNode = BX('pagetitle');\n\t\t\t\tvar pageTitle = (\n\t\t\t\t\tBX.Type.isDomNode(pageTitleNode) && BX.Type.isStringFilled(pageTitleNode.innerText)\n\t\t\t\t\t\t? '&laquo;' + BX.Text.encode(pageTitleNode.innerText) + '&raquo;'\n\t\t\t\t\t\t: ''\n\t\t\t\t);\n\t\t\t\ttmpDiv.innerHTML = '<span>'+this.parent.getParam('SETTINGS_TITLE')+' '+pageTitle+'</span>';\n\t\t\t\treturn tmpDiv.firstChild.innerText;\n\t\t\t}\n\n\t\t\treturn this.parent.getParam('SETTINGS_TITLE');\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup id\n\t\t * @return {string}\n\t\t */\n\t\tgetPopupId: function()\n\t\t{\n\t\t\treturn this.parent.getContainerId() + '-grid-settings-window';\n\t\t},\n\n\n\t\t/**\n\t\t * Creates grid settings popup window\n\t\t * @return {BX.PopupWindow}\n\t\t */\n\t\tcreatePopup: function()\n\t\t{\n\t\t\tif (!this.popup)\n\t\t\t{\n\t\t\t\tconsole.log('create popup', document.body.offsetWidth);\n\t\t\t\tconst leftIndentFromWindow = 20;\n\t\t\t\tconst rightIndentFromWindow = 20;\n\t\t\t\tconst popupWidth = document.body.offsetWidth > 1000\n\t\t\t\t\t? 1000\n\t\t\t\t\t: document.body.offsetWidth - leftIndentFromWindow - rightIndentFromWindow;\n\t\t\t\tthis.popup = new BX.PopupWindow(\n\t\t\t\t\tthis.getPopupId(),\n\t\t\t\t\tnull,\n\t\t\t\t\t{\n\t\t\t\t\t\ttitleBar: this.createTitle(),\n\t\t\t\t\t\tautoHide: false,\n\t\t\t\t\t\toverlay: 0.6,\n\t\t\t\t\t\twidth: popupWidth,\n\t\t\t\t\t\tcloseIcon: true,\n\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\tcontentNoPaddings: true,\n\t\t\t\t\t\tcontent: this.getSourceContent(),\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonPopupClose: BX.delegate(this.onPopupClose, this)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tthis.getItems().forEach(function(item) {\n\t\t\t\t\tBX.bind(item.getNode(), 'click', BX.delegate(this.onItemClick, this));\n\t\t\t\t\tBX.bind(item.getNode(), 'animationend', this.onAnimationEnd.bind(this, item.getNode()));\n\t\t\t\t}, this);\n\n\t\t\t\tBX.bind(this.getResetButton(), 'click', BX.proxy(this.onResetButtonClick, this));\n\t\t\t\tBX.bind(this.getApplyButton(), 'click', BX.proxy(this.onApplyButtonClick, this));\n\t\t\t\tBX.bind(this.getCancelButton(), 'click', BX.proxy(this.popup.close, this.popup));\n\t\t\t\tBX.bind(this.getSelectAllButton(), 'click', BX.delegate(this.onSelectAll, this));\n\t\t\t\tBX.bind(this.getUnselectAllButton(), 'click', BX.delegate(this.onUnselectAll, this));\n\n\t\t\t\tif (\n\t\t\t\t\tthis.parent.arParams['COLUMNS_ALL_WITH_SECTIONS']\n\t\t\t\t\t&& Object.keys(this.parent.arParams['COLUMNS_ALL_WITH_SECTIONS']).length\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tthis.prepareFilterSections();\n\t\t\t\t}\n\n\t\t\t\tif (this.parent.arParams['ENABLE_FIELDS_SEARCH'])\n\t\t\t\t{\n\t\t\t\t\tthis.prepareFilterSectionsSearchInput();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.popup;\n\t\t},\n\n\t\tonItemClick: function()\n\t\t{\n\t\t\tthis.adjustActionButtonsState();\n\t\t},\n\n\t\tonAnimationEnd: function(node: HTMLElement)\n\t\t{\n\t\t\tnode.style.display = (\n\t\t\t\tBX.Dom.hasClass(node, this.parent.settings.get('classSettingsWindowSearchSectionItemHidden'))\n\t\t\t\t? 'none'\n\t\t\t\t: 'inline-block'\n\t\t\t);\n\t\t},\n\n\t\tprepareFilterSections: function()\n\t\t{\n\t\t\tvar filterSections = this.getFilterSections();\n\t\t\tfor (var item of filterSections) {\n\t\t\t\tBX.bind(item, 'click', this.onFilterSectionClick.bind(this, item));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets all filter section items\n\t\t * @return {HTMLCollection}\n\t\t */\n\t\tgetFilterSections: function()\n\t\t{\n\t\t\t\tif (!this.filterSections)\n\t\t\t\t{\n\t\t\t\t\tvar wrapper = BX.Grid.Utils.getByClass(\n\t\t\t\t\t\tthis.getPopup().contentContainer,\n\t\t\t\t\t\tthis.parent.settings.get('classSettingsWindowSearchSectionsWrapper'),\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.filterSections = (wrapper.children ?? new HTMLCollection());\n\t\t\t\t}\n\n\t\t\t\treturn this.filterSections;\n\t\t},\n\n\t\tonFilterSectionClick: function(item: HTMLElement)\n\t\t{\n\t\t\tvar activeClass = this.parent.settings.get('classSettingsWindowSearchActiveSectionIcon');\n\t\t\tvar sectionId = item.dataset.uiGridFilterSectionButton;\n\t\t\tvar section = document.querySelectorAll(\"[data-ui-grid-filter-section='\"+sectionId+\"']\");\n\n\t\t\tif (BX.Dom.hasClass(item.firstChild, activeClass))\n\t\t\t{\n\t\t\t\tBX.Dom.removeClass(item.firstChild, activeClass);\n\t\t\t\tBX.Dom.hide(section[0]);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.Dom.addClass(item.firstChild, activeClass);\n\t\t\t\tBX.Dom.show(section[0]);\n\t\t\t}\n\t\t},\n\n\t\tprepareFilterSectionsSearchInput: function()\n\t\t{\n\t\t\tvar input = this.getFilterSectionsSearchInput();\n\t\t\tBX.bind(input, 'input', this.onFilterSectionSearchInput.bind(this));\n\t\t\tBX.bind(input.previousElementSibling, 'click', this.onFilterSectionSearchInputClear.bind(this));\n\t\t},\n\n\t\tgetFilterSectionsSearchInput: function()\n\t\t{\n\t\t\tif (!this.filterSectionsSearchInput)\n\t\t\t{\n\t\t\t\tthis.filterSectionsSearchInput = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.getPopup().contentContainer,\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindowSearchSectionInput'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.filterSectionsSearchInput;\n\t\t},\n\n\t\tonFilterSectionSearchInput: function()\n\t\t{\n\t\t\tvar search = this.filterSectionsSearchInput.value;\n\t\t\tif (search.length)\n\t\t\t{\n\t\t\t\tsearch = search.toLowerCase();\n\t\t\t}\n\n\t\t\tthis.items.forEach(function (item){\n\t\t\t\tvar title = item.lastTitle.toLowerCase();\n\n\t\t\t\tif (search.length && title.indexOf(search) === -1)\n\t\t\t\t{\n\t\t\t\t\tBX.Dom.removeClass(\n\t\t\t\t\t\titem.getNode(),\n\t\t\t\t\t\tthis.parent.settings.get('classSettingsWindowSearchSectionItemVisible')\n\t\t\t\t\t);\n\t\t\t\t\tBX.Dom.addClass(\n\t\t\t\t\t\titem.getNode(),\n\t\t\t\t\t\tthis.parent.settings.get('classSettingsWindowSearchSectionItemHidden')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.Dom.removeClass(\n\t\t\t\t\t\titem.getNode(),\n\t\t\t\t\t\tthis.parent.settings.get('classSettingsWindowSearchSectionItemHidden')\n\t\t\t\t\t);\n\t\t\t\t\tBX.Dom.addClass(\n\t\t\t\t\t\titem.getNode(),\n\t\t\t\t\t\tthis.parent.settings.get('classSettingsWindowSearchSectionItemVisible')\n\t\t\t\t\t);\n\t\t\t\t\titem.getNode().style.display = 'inline-block';\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tonFilterSectionSearchInputClear: function()\n\t\t{\n\t\t\tthis.filterSectionsSearchInput.value = '';\n\t\t\tthis.onFilterSectionSearchInput();\n\t\t},\n\n\t\t/**\n\t\t * Gets columns collection\n\t\t * @return {BX.Grid.SettingsWindowColumn[]}\n\t\t */\n\t\tgetItems: function()\n\t\t{\n\t\t\tif (this.items === null)\n\t\t\t{\n\t\t\t\tthis.items = this.getPopupItems().map(function(current) {\n\t\t\t\t\treturn new BX.Grid.SettingsWindowColumn(this.parent, current);\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\treturn this.items;\n\t\t},\n\n\t\tonPopupClose: function()\n\t\t{\n\t\t\tBX.onCustomEvent(window, 'BX.Grid.SettingsWindow:close', [this]);\n\t\t\tthis.restoreLastColumns();\n\t\t\tthis.disableAllColumnslabelEdit();\n\t\t\tthis.adjustActionButtonsState();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets popup window\n\t\t * @return {BX.PopupWindow}\n\t\t */\n\t\tgetPopup: function()\n\t\t{\n\t\t\treturn !!this.popup ? this.popup : this.popup = this.createPopup();\n\t\t},\n\n\t\tonSelectAll: function()\n\t\t{\n\t\t\tthis.selectAll();\n\t\t\tthis.enableActions();\n\t\t},\n\n\t\tonUnselectAll: function()\n\t\t{\n\t\t\tthis.unselectAll();\n\t\t\tthis.disableActions();\n\t\t},\n\n\t\t/**\n\t\t * Select all columns\n\t\t */\n\t\tselectAll: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(column) { column.select(); });\n\t\t},\n\n\n\t\t/**\n\t\t * Unselect all columns\n\t\t */\n\t\tunselectAll: function()\n\t\t{\n\t\t\tthis.getItems().forEach(function(column) { column.unselect(); });\n\t\t},\n\n\n\t\tisForAll: function()\n\t\t{\n\t\t\tvar checkbox = this.getForAllCheckbox();\n\t\t\treturn checkbox && !!checkbox.checked;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets for all checkbox\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetForAllCheckbox: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getPopup().popupContainer, 'main-grid-settings-window-for-all-checkbox', true);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets reset button\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetResetButton: function()\n\t\t{\n\t\t\tif (this.resetButton === null)\n\t\t\t{\n\t\t\t\tthis.resetButton = BX(this.getResetButtonId());\n\t\t\t}\n\n\t\t\treturn this.resetButton;\n\t\t},\n\n\t\tdisableActions: function()\n\t\t{\n\t\t\tvar applyButton = this.getApplyButton();\n\n\t\t\tif (!!applyButton)\n\t\t\t{\n\t\t\t\tBX.addClass(applyButton, this.parent.settings.get('classDisable'));\n\t\t\t}\n\t\t},\n\n\t\tenableActions: function()\n\t\t{\n\t\t\tvar applyButton = this.getApplyButton();\n\n\t\t\tif (!!applyButton)\n\t\t\t{\n\t\t\t\tBX.removeClass(applyButton, this.parent.settings.get('classDisable'));\n\t\t\t}\n\t\t},\n\n\t\tadjustActionButtonsState: function()\n\t\t{\n\t\t\tif (this.getSelectedColumns().length)\n\t\t\t{\n\t\t\t\tthis.enableActions();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.disableActions();\n\t\t\t}\n\t\t}\n\t};\n\n})();\n",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\n\t/**\n\t * @param {BX.Main.grid} parent\n\t * @param {HTMLElement} node\n\t * @constructor\n\t */\n\tBX.Grid.SettingsWindowColumn = function(parent, node)\n\t{\n\t\tthis.node = null;\n\t\tthis.label = null;\n\t\tthis.checkbox = null;\n\t\tthis.editButton = null;\n\t\tthis.settings = null;\n\t\tthis.parent = null;\n\t\tthis.default = null;\n\t\tthis.defaultTitle = null;\n\t\tthis.state = null;\n\t\tthis.lastTitle = null;\n\t\tthis.init(parent, node);\n\t};\n\n\tBX.Grid.SettingsWindowColumn.inited = {};\n\n\tBX.Grid.SettingsWindowColumn.prototype = {\n\t\tinit: function(parent, node)\n\t\t{\n\t\t\tthis.parent = parent;\n\t\t\tthis.node = node;\n\n\t\t\ttry {\n\t\t\t\tthis.lastTitle = node.querySelector(\"label\").innerText.trim();\n\t\t\t} catch (err) {}\n\n\t\t\tthis.updateState();\n\n\t\t\tif (!BX.Grid.SettingsWindowColumn.inited[this.getId()])\n\t\t\t{\n\t\t\t\tBX.Grid.SettingsWindowColumn.inited[this.getId()] = true;\n\t\t\t\tBX.bind(this.getEditButton(), 'click', BX.proxy(this.onEditButtonClick, this));\n\t\t\t\tBX.bind(this.getStickyButton(), 'click', BX.proxy(this.onStickyButtonClick, this));\n\t\t\t}\n\t\t},\n\n\t\tgetStickyButton: function()\n\t\t{\n\t\t\treturn this.node.querySelector(\".main-grid-settings-window-list-item-sticky-button\");\n\t\t},\n\n\t\tisSticked: function()\n\t\t{\n\t\t\treturn this.node.classList.contains(\"main-grid-settings-window-list-item-sticked\");\n\t\t},\n\n\t\tonStickyButtonClick: function()\n\t\t{\n\t\t\tif (this.isSticked())\n\t\t\t{\n\t\t\t\tthis.unstick();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.stick();\n\t\t\t}\n\t\t},\n\n\t\tstick: function()\n\t\t{\n\t\t\tthis.node.classList.add(\"main-grid-settings-window-list-item-sticked\");\n\t\t},\n\n\t\tunstick: function()\n\t\t{\n\t\t\tthis.node.classList.remove(\"main-grid-settings-window-list-item-sticked\");\n\t\t},\n\n\t\tonEditButtonClick: function(event)\n\t\t{\n\t\t\tevent.stopPropagation();\n\t\t\tthis.isEditEnabled() ? this.disableEdit() : this.enableEdit();\n\t\t},\n\n\n\t\t/**\n\t\t * @private\n\t\t * @param {object} state\n\t\t * @property {boolean} state.selected\n\t\t * @property {title} state.title\n\t\t */\n\t\tsetState: function(state)\n\t\t{\n\t\t\tthis.state = state;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets state of column\n\t\t * @return {object}\n\t\t */\n\t\tgetState: function()\n\t\t{\n\t\t\treturn this.state;\n\t\t},\n\n\n\t\t/**\n\t\t * Updates default state\n\t\t */\n\t\tupdateState: function()\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tselected: this.isSelected(),\n\t\t\t\tsticked: this.isSticked(),\n\t\t\t\ttitle: this.getTitle()\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Restores last state\n\t\t */\n\t\trestoreState: function()\n\t\t{\n\t\t\tvar state = this.getState();\n\n\t\t\tstate.selected ? this.select() : this.unselect();\n\t\t\tstate.sticked ? this.stick() : this.unstick();\n\t\t\tthis.setTitle(state.title);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column id\n\t\t * @return {string}\n\t\t */\n\t\tgetId: function()\n\t\t{\n\t\t\treturn this.getNode().dataset.name;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column title\n\t\t * @return {string}\n\t\t */\n\t\tgetTitle: function()\n\t\t{\n\t\t\treturn this.getLabel().innerText;\n\t\t},\n\n\n\t\t/**\n\t\t * Sets column title\n\t\t * @param {string} title\n\t\t */\n\t\tsetTitle: function(title)\n\t\t{\n\t\t\tthis.getLabel().innerText = !!title && title !== \"undefined\" ? title : this.getDefaultTitle();\n\t\t},\n\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisEdited: function()\n\t\t{\n\t\t\treturn this.getTitle() !== this.getDefaultTitle();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column settings\n\t\t * @return {?object}\n\t\t */\n\t\tgetSettings: function()\n\t\t{\n\t\t\tif (this.settings === null)\n\t\t\t{\n\t\t\t\tvar columns = this.parent.getParam('DEFAULT_COLUMNS');\n\t\t\t\tthis.settings = this.getId() in columns ? columns[this.getId()] : {};\n\t\t\t}\n\n\t\t\treturn this.settings;\n\t\t},\n\n\n\t\t/**\n\t\t * Checks column is default\n\t\t * @return {boolean}\n\t\t */\n\t\tisDefault: function()\n\t\t{\n\t\t\tif (this.default === null)\n\t\t\t{\n\t\t\t\tvar settings = this.getSettings();\n\t\t\t\tthis.default = 'default' in settings ? settings.default : false;\n\t\t\t}\n\n\t\t\treturn this.default;\n\t\t},\n\n\n\t\t/**\n\t\t * Restore column to default state\n\t\t */\n\t\trestore: function()\n\t\t{\n\t\t\tthis.isDefault() ? this.select() : this.unselect();\n\t\t\tthis.setTitle(this.getDefaultTitle());\n\t\t\tthis.node.dataset.stickedDefault === \"true\" ? this.stick() : this.unstick();\n\t\t\tthis.disableEdit();\n\t\t\tthis.updateState();\n\t\t},\n\n\n\t\t/**\n\t\t * Gets default column title\n\t\t * @return {?string}\n\t\t */\n\t\tgetDefaultTitle: function()\n\t\t{\n\t\t\tif (this.defaultTitle === null)\n\t\t\t{\n\t\t\t\tvar settings = this.getSettings();\n\t\t\t\tthis.defaultTitle = 'name' in settings ? settings.name : this.lastTitle;\n\t\t\t}\n\n\t\t\treturn this.defaultTitle;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column node\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetNode: function()\n\t\t{\n\t\t\treturn this.node;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column label node\n\t\t * @return {?HTMLLabelElement}\n\t\t */\n\t\tgetLabel: function()\n\t\t{\n\t\t\tif (this.label === null)\n\t\t\t{\n\t\t\t\tthis.label = BX.Grid.Utils.getByTag(this.getNode(), 'label', true);\n\t\t\t\tBX.Event.bind(this.label, 'paste', this.onLabelPaste.bind(this));\n\t\t\t\tBX.Event.bind(this.label, 'keydown', this.onLabelKeydown.bind(this));\n\t\t\t}\n\n\t\t\treturn this.label;\n\t\t},\n\n\t\tonLabelPaste: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tif (event.clipboardData && event.clipboardData.getData)\n\t\t\t{\n\t\t\t\tvar sourceText = event.clipboardData.getData(\"text/plain\");\n\t\t\t\tvar encodedText = BX.Text.encode(sourceText);\n\t\t\t\tvar formattedHtml = encodedText\n\t\t\t\t\t.trim()\n\t\t\t\t\t.replace(new RegExp('\\t', 'g'), \" \")\n\t\t\t\t\t.replace(new RegExp('\\n', 'g'), \" \")\n\t\t\t\t\t.replace(/ +(?= )/g,'');\n\t\t\t\tdocument.execCommand(\"insertHTML\", false, formattedHtml);\n\t\t\t}\n\t\t},\n\n\t\tonLabelKeydown: function(event)\n\t\t{\n\t\t\tif (event.keyCode === 13)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Gets column checkbox node\n\t\t * @return {?HTMLInputElement}\n\t\t */\n\t\tgetCheckbox: function()\n\t\t{\n\t\t\tif (this.checkbox === null)\n\t\t\t{\n\t\t\t\tthis.checkbox = BX.Grid.Utils.getBySelector(this.getNode(), 'input[type=\"checkbox\"]', true);\n\t\t\t}\n\n\t\t\treturn this.checkbox;\n\t\t},\n\n\n\t\t/**\n\t\t * Gets edit button\n\t\t * @return {?HTMLElement}\n\t\t */\n\t\tgetEditButton: function()\n\t\t{\n\t\t\tif (this.editButton === null)\n\t\t\t{\n\t\t\t\tthis.editButton = BX.Grid.Utils.getByClass(\n\t\t\t\t\tthis.getNode(),\n\t\t\t\t\tthis.parent.settings.get('classSettingsWindowColumnEditButton'),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.editButton;\n\t\t},\n\n\n\t\t/**\n\t\t * Enables edit mode\n\t\t */\n\t\tenableEdit: function()\n\t\t{\n\t\t\tthis.getLabel().contentEditable = true;\n\t\t\tthis.getCheckbox().disabled = true;\n\t\t\tthis.adjustCaret();\n\t\t},\n\n\n\t\t/**\n\t\t * Disables edit mode\n\t\t */\n\t\tdisableEdit: function()\n\t\t{\n\t\t\tthis.getLabel().contentEditable = false;\n\t\t\tthis.getCheckbox().disabled = false;\n\t\t},\n\n\n\t\t/**\n\t\t * Checks is edit enabled\n\t\t * @return {boolean}\n\t\t */\n\t\tisEditEnabled: function()\n\t\t{\n\t\t\treturn this.getLabel().isContentEditable;\n\t\t},\n\n\n\t\t/**\n\t\t * Checks column is active\n\t\t * @return {boolean}\n\t\t */\n\t\tisSelected: function()\n\t\t{\n\t\t\treturn this.getCheckbox().checked;\n\t\t},\n\n\n\t\t/**\n\t\t * Selects column\n\t\t */\n\t\tselect: function()\n\t\t{\n\t\t\tthis.getCheckbox().checked = true;\n\t\t},\n\n\n\t\t/**\n\t\t * Unselects column\n\t\t */\n\t\tunselect: function()\n\t\t{\n\t\t\tthis.getCheckbox().checked = false;\n\t\t},\n\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tadjustCaret: function()\n\t\t{\n\t\t\tvar range = document.createRange();\n\t\t\tvar selection = window.getSelection();\n\t\t\tvar elementTextLength = this.getLabel().innerText.length;\n\t\t\tvar textNodes = this.getLabel().childNodes;\n\t\t\tvar lastTextNode = textNodes[textNodes.length - 1];\n\n\t\t\trange.setStart(lastTextNode, elementTextLength);\n\t\t\trange.setEnd(lastTextNode, elementTextLength);\n\t\t\trange.collapse(true);\n\n\t\t\tselection.removeAllRanges();\n\t\t\tselection.addRange(range);\n\t\t\tBX.fireEvent(this.getNode(), 'focus');\n\t\t}\n\t};\n\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\t/**\n\t * BX.Grid.UserOptions\n\t * @param {BX.Main.grid} parent\n\t * @param {Object} userOptions\n\t * @param {Object} userOptionsActions\n\t * @param {String} url\n\t * @constructor\n\t */\n\tBX.Grid.UserOptions = function(parent, userOptions, userOptionsActions, url)\n\t{\n\t\tthis.options = null;\n\t\tthis.actions = null;\n\t\tthis.parent = null;\n\t\tthis.url = null;\n\t\tthis.init(parent, userOptions, userOptionsActions, url);\n\t};\n\n\tBX.Grid.UserOptions.prototype = {\n\t\tinit: function(parent, userOptions, userOptionsActions, url)\n\t\t{\n\t\t\tthis.url = url;\n\t\t\tthis.parent = parent;\n\n\t\t\ttry {\n\t\t\t\tthis.options = eval(userOptions);\n\t\t\t} catch(err) {\n\t\t\t\tconsole.warn('BX.Grid.UserOptions.init: Failed parse user options json string');\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.actions = eval(userOptionsActions);\n\t\t\t} catch(err) {\n\t\t\t\tconsole.warn('BX.Grid.UserOptions.init: Failed parse user options actions json string');\n\t\t\t}\n\t\t},\n\n\t\tgetCurrentViewName: function()\n\t\t{\n\t\t\tvar options = this.getOptions();\n\n\t\t\treturn 'current_view' in options ? options.current_view : null;\n\t\t},\n\n\t\tgetViewsList: function()\n\t\t{\n\t\t\tvar options = this.getOptions();\n\n\t\t\treturn 'views' in options ? options.views : {};\n\t\t},\n\n\t\tgetCurrentOptions: function()\n\t\t{\n\t\t\tvar name = this.getCurrentViewName();\n\t\t\tvar views = this.getViewsList();\n\t\t\tvar result = null;\n\n\t\t\tif (name in views)\n\t\t\t{\n\t\t\t\tresult = views[name];\n\t\t\t}\n\n\t\t\tif (!BX.type.isPlainObject(result))\n\t\t\t{\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetUrl: function(action)\n\t\t{\n\t\t\treturn BX.util.add_url_param(this.url, {\n\t\t\t\tGRID_ID: this.parent.getContainerId(),\n\t\t\t\tbxajaxid: this.parent.getAjaxId(),\n\t\t\t\taction: action\n\t\t\t});\n\t\t},\n\n\t\tgetOptions: function()\n\t\t{\n\t\t\treturn this.options || {};\n\t\t},\n\n\t\tgetActions: function()\n\t\t{\n\t\t\treturn this.actions;\n\t\t},\n\n\t\tgetAction: function(name)\n\t\t{\n\t\t\tvar action = null;\n\n\t\t\ttry {\n\t\t\t\taction = this.getActions()[name];\n\t\t\t} catch (err) {\n\t\t\t\taction = null;\n\t\t\t}\n\n\t\t\treturn action;\n\t\t},\n\n\t\tupdate: function(newOptions)\n\t\t{\n\t\t\tthis.options = newOptions;\n\t\t},\n\n\t\tsetColumns: function(columns, callback)\n\t\t{\n\t\t\tvar options = this.getCurrentOptions();\n\n\t\t\tif (BX.type.isPlainObject(options))\n\t\t\t{\n\t\t\t\toptions.columns = columns.join(',');\n\n\t\t\t\tthis.save(this.getAction('GRID_SET_COLUMNS'), {columns: options.columns}, callback);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tsetColumnsNames: function(columns, callback)\n\t\t{\n\t\t\tvar options = {view_id: 'default'};\n\n\t\t\tif (BX.type.isPlainObject(options))\n\t\t\t{\n\t\t\t\toptions.custom_names = columns;\n\n\t\t\t\tthis.save(this.getAction('SET_CUSTOM_NAMES'), options, callback);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tsetColumnSizes: function(sizes, expand)\n\t\t{\n\t\t\tthis.save(this.getAction('GRID_SET_COLUMN_SIZES'), {sizes: sizes, expand: expand});\n\t\t},\n\n\t\treset: function(forAll, callback)\n\t\t{\n\t\t\tvar data = {};\n\n\t\t\tif (!!forAll)\n\t\t\t{\n\t\t\t\tdata = {\n\t\t\t\t\tview_id: 'default',\n\t\t\t\t\tset_default_settings: 'Y',\n\t\t\t\t\tdelete_user_settings: 'Y',\n\t\t\t\t\tview_settings: this.getCurrentOptions()\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.save(this.getAction('GRID_RESET'), data, callback);\n\t\t},\n\n\t\tsetSort: function(by, order, callback)\n\t\t{\n\t\t\tif (by && order)\n\t\t\t{\n\t\t\t\tthis.save(this.getAction('GRID_SET_SORT'), {by: by, order: order}, callback);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tsetPageSize: function(pageSize, callback)\n\t\t{\n\t\t\tif (BX.type.isNumber(parseInt(pageSize)))\n\t\t\t{\n\t\t\t\tthis.save(this.getAction('GRID_SET_PAGE_SIZE'), {pageSize: pageSize}, callback);\n\t\t\t}\n\t\t},\n\n\t\tsetExpandedRows: function(ids, callback)\n\t\t{\n\t\t\tBX.type.isArray(ids) && this.save(this.getAction('GRID_SET_EXPANDED_ROWS'), {ids: ids}, callback);\n\t\t},\n\n\t\tsetCollapsedGroups: function(ids, callback)\n\t\t{\n\t\t\tBX.type.isArray(ids) && this.save(this.getAction('GRID_SET_COLLAPSED_GROUPS'), {ids: ids}, callback);\n\t\t},\n\n\t\tresetExpandedRows: function()\n\t\t{\n\t\t\tthis.save(this.getAction('GRID_RESET_EXPANDED_ROWS'), {});\n\t\t},\n\n\t\tsaveForAll: function(callback)\n\t\t{\n\t\t\tthis.save(\n\t\t\t\tthis.getAction('GRID_SAVE_SETTINGS'),\n\t\t\t\t{\n\t\t\t\t\tview_id: 'default',\n\t\t\t\t\tset_default_settings: 'Y',\n\t\t\t\t\tdelete_user_settings: 'Y',\n\t\t\t\t\tview_settings: this.getCurrentOptions()\n\t\t\t\t},\n\t\t\t\tcallback\n\t\t\t);\n\t\t},\n\n\t\tbatch: function(data, callback)\n\t\t{\n\t\t\tthis.save(this.getAction('GRID_SAVE_BATH'), {bath: data}, callback);\n\t\t},\n\n\t\tsave: function(action, data, callback)\n\t\t{\n\t\t\tvar self = this;\n\t\t\tBX.ajax.post(\n\t\t\t\tthis.getUrl(action),\n\t\t\t\tdata,\n\t\t\t\tfunction(res)\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\tres = JSON.parse(res);\n\t\t\t\t\t\tif (!res.error)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.update(res);\n\t\t\t\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcallback(res);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tBX.onCustomEvent(self.parent.getContainer(), 'Grid::optionsChanged', [self.parent]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n})();",";(function() {\n\t'use strict';\n\n\tBX.namespace('BX.Grid');\n\n\tBX.Grid.Utils = {\n\t\t/**\n\t\t * Prepares url for ajax request\n\t\t * @param {string} url\n\t\t * @param {string} ajaxId Bitrix ajax id\n\t\t * @returns {string} Prepares ajax url with ajax id\n\t\t */\n\t\tajaxUrl: function(url, ajaxId)\n\t\t{\n\t\t\treturn this.addUrlParams(url, {'bxajaxid': ajaxId});\n\t\t},\n\n\t\taddUrlParams: function(url, params)\n\t\t{\n\t\t\treturn BX.util.add_url_param(url, params);\n\t\t},\n\n\t\t/**\n\t\t * Moves array item currentIndex to newIndex\n\t\t * @param {array} array\n\t\t * @param {int} currentIndex\n\t\t * @param {int} newIndex\n\t\t * @returns {*}\n\t\t */\n\t\tarrayMove: function(array, currentIndex, newIndex)\n\t\t{\n\t\t\tif (newIndex >= array.length)\n\t\t\t{\n\t\t\t\tvar k = newIndex - array.length;\n\t\t\t\twhile ((k--) + 1)\n\t\t\t\t{\n\t\t\t\t\tarray.push(undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t\tarray.splice(newIndex, 0, array.splice(currentIndex, 1)[0]);\n\n\t\t\treturn array;\n\t\t},\n\n\t\t/**\n\t\t * Gets item index in array or HTMLCollection\n\t\t * @param {array|HTMLCollection} collection\n\t\t * @param {*} item\n\t\t * @returns {number}\n\t\t */\n\t\tgetIndex: function(collection, item)\n\t\t{\n\t\t\treturn [].indexOf.call((collection || []), item);\n\t\t},\n\n\t\t/**\n\t\t * Gets nextElementSibling\n\t\t * @param {Element} currentItem\n\t\t * @returns {Element|null}\n\t\t */\n\t\tgetNext: function(currentItem)\n\t\t{\n\t\t\tif (currentItem) { return currentItem.nextElementSibling || null; }\n\t\t},\n\n\t\t/**\n\t\t * Gets previousElementSibling\n\t\t * @param {Element} currentItem\n\t\t * @returns {Element|null}\n\t\t */\n\t\tgetPrev: function(currentItem)\n\t\t{\n\t\t\tif (currentItem) { return currentItem.previousElementSibling || null; }\n\t\t},\n\n\t\t/**\n\t\t * Gets closest parent element of node\n\t\t * @param {Node} item\n\t\t * @param {string} [className]\n\t\t * @returns {*|null|Node}\n\t\t */\n\t\tclosestParent: function(item, className)\n\t\t{\n\t\t\tif (item)\n\t\t\t{\n\t\t\t\tif (!className)\n\t\t\t\t{\n\t\t\t\t\treturn item.parentNode || null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn BX.findParent(\n\t\t\t\t\t\titem,\n\t\t\t\t\t\t{className: className}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets closest childs of node\n\t\t * @param item\n\t\t * @returns {Array|null}\n\t\t */\n\t\tclosestChilds: function(item)\n\t\t{\n\t\t\tif (item) { return item.children || null; }\n\t\t},\n\n\t\t/**\n\t\t * Sorts collection\n\t\t * @param current\n\t\t * @param target\n\t\t */\n\t\tcollectionSort: function(current, target)\n\t\t{\n\t\t\tvar root, collection, collectionLength, currentIndex, targetIndex;\n\n\t\t\tif (current && target && current !== target && current.parentNode === target.parentNode)\n\t\t\t{\n\t\t\t\troot = this.closestParent(target);\n\t\t\t\tcollection = this.closestChilds(root);\n\t\t\t\tcollectionLength = collection.length;\n\t\t\t\tcurrentIndex = this.getIndex(collection, current);\n\t\t\t\ttargetIndex = this.getIndex(collection, target);\n\n\t\t\t\tif (collectionLength === targetIndex) {\n\t\t\t\t\troot.appendChild(target);\n\t\t\t\t}\n\n\t\t\t\tif (currentIndex > targetIndex) {\n\t\t\t\t\troot.insertBefore(current, target);\n\t\t\t\t}\n\n\t\t\t\tif (currentIndex < targetIndex && collectionLength !== targetIndex)\n\t\t\t\t{\n\t\t\t\t\troot.insertBefore(current, this.getNext(target));\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t * Gets table collumn\n\t\t * @param table\n\t\t * @param cell\n\t\t * @returns {Array}\n\t\t */\n\t\tgetColumn: function(table, cell)\n\t\t{\n\t\t\tvar currentIndex = this.getIndex(\n\t\t\t\tthis.closestChilds(this.closestParent(cell)),\n\t\t\t\tcell\n\t\t\t);\n\t\t\tvar column = [];\n\n\t\t\t[].forEach.call(table.rows, function(current) {\n\t\t\t\tcolumn.push(current.cells[currentIndex]);\n\t\t\t});\n\n\t\t\treturn column;\n\t\t},\n\n\t\t/**\n\t\t * Sets style properties and values for each item in collection\n\t\t * @param {HTMLElement[]|HTMLCollection} collection\n\t\t * @param {object} properties\n\t\t */\n\t\tstyleForEach: function(collection, properties)\n\t\t{\n\t\t\tproperties = BX.type.isPlainObject(properties) ? properties : null;\n\t\t\tvar keys = Object.keys(properties);\n\n\t\t\t[].forEach.call((collection || []), function(current) {\n\t\t\t\tkeys.forEach(function(propKey) {\n\t\t\t\t\tBX.style(current, propKey, properties[propKey]);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\trequestAnimationFrame: function()\n\t\t{\n\t\t\tvar raf = (\n\t\t\t\twindow.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\tfunction(callback){ window.setTimeout(callback, 1000/60) }\n\t\t\t);\n\n\t\t\traf.apply(window, arguments);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets elements by class name\n\t\t * @param rootElement\n\t\t * @param className\n\t\t * @param first\n\t\t * @returns {Array|null}\n\t\t */\n\t\tgetByClass: function(rootElement, className, first)\n\t\t{\n\t\t\tvar result = [];\n\n\t\t\tif (className)\n\t\t\t{\n\t\t\t\tresult = rootElement ? rootElement.getElementsByClassName(className) : [];\n\n\t\t\t\tif (first)\n\t\t\t\t{\n\t\t\t\t\tresult = result.length ? result[0] : null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = [].slice.call(result);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetByTag: function(rootElement, tag, first)\n\t\t{\n\t\t\tvar result = [];\n\n\t\t\tif (tag)\n\t\t\t{\n\t\t\t\tresult = rootElement ? rootElement.getElementsByTagName(tag) : [];\n\n\t\t\t\tif (first)\n\t\t\t\t{\n\t\t\t\t\tresult = result.length ? result[0] : null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = [].slice.call(result);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tgetBySelector: function(rootElement, selector, first)\n\t\t{\n\t\t\tvar result = [];\n\n\t\t\tif (selector)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t{\n\t\t\t\t\tresult = rootElement ? rootElement.querySelector(selector) : null;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult = rootElement ? rootElement.querySelectorAll(selector) : [];\n\t\t\t\t\tresult = [].slice.call(result);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tlistenerParams: function(params)\n\t\t{\n\t\t\ttry {\n\t\t\t\twindow.addEventListener('test', null, params);\n\t\t\t} catch (e) {\n\t\t\t\tparams = false;\n\t\t\t}\n\n\t\t\treturn params;\n\t\t}\n\t};\n})();","import {EventEmitter} from 'main.core.events';\nimport {Dom, Reflection, Type, Event, Tag, Text} from 'main.core';\n\ntype RealtimeOptions = {\n\tgrid: BX.Main.grid,\n};\n\ntype AddRowOptions = {\n\tid: number | string,\n\tactions?: Array<{[key: string]: any}>,\n\tcolumns?: {[key: string]: any},\n\tcellActions?: {[key: string]: any},\n\tappend?: true,\n\tprepend?: true,\n\tinsertBefore?: number | string,\n\tinsertAfter?: number | string,\n\tanimation?: boolean,\n\tcounters?: {\n\t\t[colId: string]: {\n\t\t\ttype: $Values<BX.Grid.Counters.Type>,\n\t\t\tcolor?: $Values<BX.Grid.Counters.Color>,\n\t\t\tvalue: string | number,\n\t\t},\n\t},\n};\n\ntype ShowStubOptions = {\n\tcontent?: HTMLElement | string | {title?: string, description?: string},\n};\n\n/**\n * @memberOf BX.Grid\n */\nexport class Realtime extends EventEmitter\n{\n\tconstructor(options: RealtimeOptions)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Grid.Realtime');\n\t\tthis.options = {...options};\n\t}\n\n\taddRow(options: AddRowOptions)\n\t{\n\t\tconst {grid} = this.options;\n\t\tconst row = grid.getTemplateRow();\n\t\trow.makeCountable();\n\t\tgrid.hideEmptyStub();\n\n\t\tif (Type.isNumber(options.id) || Type.isStringFilled(options.id))\n\t\t{\n\t\t\trow.setId(options.id);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthrow new ReferenceError('id is not number or string');\n\t\t}\n\n\t\tif (Type.isArrayFilled(options.actions))\n\t\t{\n\t\t\trow.setActions(options.actions);\n\t\t}\n\n\t\tif (Type.isPlainObject(options.columns))\n\t\t{\n\t\t\trow.setCellsContent(options.columns);\n\t\t}\n\n\t\tif (Type.isPlainObject(options.cellActions))\n\t\t{\n\t\t\trow.setCellActions(options.cellActions);\n\t\t}\n\n\t\tif (Type.isPlainObject(options.counters))\n\t\t{\n\t\t\tconst preparedCounters = Object.entries(options.counters).reduce((acc, [columnId, counter]) => {\n\t\t\t\tif (Type.isPlainObject(counter))\n\t\t\t\t{\n\t\t\t\t\tacc[columnId] = {\n\t\t\t\t\t\t...counter,\n\t\t\t\t\t\tanimation: Text.toBoolean(counter.animation),\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\n\t\t\trow.setCounters(preparedCounters);\n\t\t}\n\n\t\tif (options.prepend === true)\n\t\t{\n\t\t\trow.prependTo(grid.getBody());\n\t\t}\n\t\telse if (options.append === true)\n\t\t{\n\t\t\trow.appendTo(grid.getBody());\n\t\t}\n\t\telse if (Type.isNumber(options.insertBefore) || Type.isStringFilled(options.insertBefore))\n\t\t{\n\t\t\tconst targetRow = grid.getRows().getById(options.insertBefore);\n\t\t\tif (targetRow)\n\t\t\t{\n\t\t\t\tBX.Dom.insertBefore(row.getNode(), targetRow.getNode());\n\t\t\t}\n\t\t}\n\t\telse if (Type.isNumber(options.insertAfter) || Type.isStringFilled(options.insertAfter))\n\t\t{\n\t\t\tconst targetRow = grid.getRows().getById(options.insertAfter);\n\t\t\tif (targetRow)\n\t\t\t{\n\t\t\t\tBX.Dom.insertAfter(row.getNode(), targetRow.getNode());\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthrow new ReferenceError('prepend, append, insertBefore or insertAfter not filled');\n\t\t}\n\n\t\trow.show();\n\n\t\tif (options.animation !== false)\n\t\t{\n\t\t\trow.enableAbsolutePosition();\n\n\t\t\tconst movedElements = grid.getRows().getSourceBodyChild().filter((currentRow) => {\n\t\t\t\treturn currentRow.rowIndex > row.getIndex();\n\t\t\t});\n\n\t\t\tconst fakeRowNode = document.createElement('tr');\n\t\t\tDom.style(fakeRowNode, {\n\t\t\t\theight: '0px',\n\t\t\t\ttransition: '200ms height linear',\n\t\t\t});\n\t\t\tDom.append(fakeRowNode, grid.getBody());\n\n\t\t\tconst offset = row.getHeight();\n\t\t\tDom.style(fakeRowNode, 'height', `${offset}px`);\n\t\t\tmovedElements.forEach((element) => {\n\t\t\t\tDom.style(element, {\n\t\t\t\t\ttransition: '200ms transform linear',\n\t\t\t\t\ttransform: `translateY(${offset}px) translateZ(0)`,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tDom.addClass(row.getNode(), 'main-ui-grid-show-new-row');\n\n\t\t\tEvent.bind(row.getNode(), 'animationend', (event: AnimationEvent) => {\n\t\t\t\tif (event.animationName === 'showNewRow')\n\t\t\t\t{\n\t\t\t\t\tmovedElements.forEach((element) => {\n\t\t\t\t\t\tDom.style(element, {\n\t\t\t\t\t\t\ttransition: null,\n\t\t\t\t\t\t\ttransform: null,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tDom.remove(fakeRowNode);\n\t\t\t\t\trow.disableAbsolutePosition();\n\n\t\t\t\t\tDom.removeClass(row.getNode(), 'main-ui-grid-show-new-row');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tgrid.getRows().reset();\n\t\tgrid.bindOnRowEvents();\n\t\tgrid.updateCounterDisplayed();\n\t\tgrid.updateCounterSelected();\n\n\t\tif (grid.getParam('ALLOW_ROWS_SORT'))\n\t\t{\n\t\t\tgrid.rowsSortable.reinit();\n\t\t}\n\n\t\tif (grid.getParam('ALLOW_COLUMNS_SORT'))\n\t\t{\n\t\t\tgrid.colsSortable.reinit();\n\t\t}\n\t}\n\n\tshowStub(options: ShowStubOptions = {})\n\t{\n\t\tconst tr = document.createElement('tr');\n\t\tDom.addClass(tr, 'main-grid-row main-grid-row-empty main-grid-row-body');\n\n\t\tconst td = document.createElement('td');\n\t\tDom.addClass(td, 'main-grid-cell main-grid-cell-center');\n\t\tconst colspan = this.options.grid.getRows().getHeadFirstChild().getCells().length;\n\t\tDom.attr(td, 'colspan', colspan);\n\n\t\tconst content = (() => {\n\t\t\tif (Type.isPlainObject(options.content))\n\t\t\t{\n\t\t\t\tconst result = [];\n\t\t\t\tif (Type.isStringFilled(options.content.title))\n\t\t\t\t{\n\t\t\t\t\tresult.push(\n\t\t\t\t\t\tTag.render`\n\t\t\t\t\t\t\t<div class=\"main-grid-empty-block-title\">\n\t\t\t\t\t\t\t\t${options.content.title}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isStringFilled(options.content.description))\n\t\t\t\t{\n\t\t\t\t\tresult.push(\n\t\t\t\t\t\tTag.render`\n\t\t\t\t\t\t\t<div class=\"main-grid-empty-block-description\">\n\t\t\t\t\t\t\t\t${options.content.description}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tType.isStringFilled(options.content)\n\t\t\t\t|| Type.isDomNode(options.content)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn options.content;\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\tTag.render`<div class=\"main-grid-empty-image\"></div>`,\n\t\t\t\tTag.render`<div class=\"main-grid-empty-text\">${this.options.grid.getParam('EMPTY_STUB_TEXT')}</div>`,\n\t\t\t];\n\t\t})();\n\n\t\tconst container = Tag.render`\n\t\t\t<div class=\"main-grid-empty-block\">\n\t\t\t\t<div class=\"main-grid-empty-inner\">\n\t\t\t\t\t${content}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tDom.append(container, td);\n\t\tDom.append(td, tr);\n\n\t\tconst oldStub = this.options.grid.getBody().querySelector('.main-grid-row-empty');\n\t\tif (oldStub)\n\t\t{\n\t\t\tDom.remove(oldStub);\n\t\t}\n\n\t\tDom.append(tr, this.options.grid.getBody());\n\n\t\tthis.options.grid.getRows().getBodyChild().forEach((row) => {\n\t\t\trow.hide();\n\t\t});\n\n\t\tthis.options.grid.adjustEmptyTable(this.options.grid.getRows().getSourceBodyChild());\n\t}\n}\n\nconst namespace = Reflection.namespace('BX.Grid');\nnamespace.Realtime = Realtime;","import {Reflection} from 'main.core';\n\n/**\n * @memberOf BX.Grid\n */\nexport class CellActions\n{\n\tstatic PIN = 'main-grid-cell-content-action-pin';\n\tstatic MUTE = 'main-grid-cell-content-action-mute';\n}\n\nconst namespace = Reflection.namespace('BX.Grid');\nnamespace.CellActions = CellActions;","import {Reflection} from 'main.core';\n\n/**\n * @memberOf BX.Grid\n */\nexport class CellActionState\n{\n\tstatic SHOW_BY_HOVER = 'main-grid-cell-content-action-by-hover';\n\tstatic ACTIVE = 'main-grid-cell-content-action-active';\n}\n\nconst namespace = Reflection.namespace('BX.Grid');\nnamespace.CellActionState = CellActionState;","import 'ui.cnt';\nimport {Reflection} from 'main.core';\n\n/**\n * @memberOf BX.Grid\n */\nexport class Counters\n{\n\tstatic Type = {\n\t\tLEFT: 'left',\n\t\tLEFT_ALIGNED: 'left-aligned',\n\t\tRIGHT: 'right',\n\t};\n\n\tstatic Color = {\n\t\tDANGER: 'ui-counter-danger',\n\t\tSUCCESS: 'ui-counter-success',\n\t\tPRIMARY: 'ui-counter-primary',\n\t\tGRAY: 'ui-counter-gray',\n\t\tLIGHT: 'ui-counter-light',\n\t\tDARK: 'ui-counter-dark',\n\t};\n\n\tstatic Size = {\n\t\tLARGE: 'ui-counter-lg',\n\t\tMEDIUM: 'ui-counter-md',\n\t};\n}\n\nconst namespace = Reflection.namespace('BX.Grid');\nnamespace.Counters = Counters;","import {Reflection} from 'main.core';\n\n/**\n * @memberOf BX.Grid\n */\nexport class Label\n{\n\tstatic Color = {\n\t\tDEFAULT: 'ui-label-default',\n\t\tDANGER: 'ui-label-danger',\n\t\tSUCCESS: 'ui-label-success',\n\t\tWARNING: 'ui-label-warning',\n\t\tPRIMARY: 'ui-label-primary',\n\t\tSECONDARY: 'ui-label-secondary',\n\t\tLIGHTGREEN: 'ui-label-lightgreen',\n\t\tLIGHTBLUE: 'ui-label-lightblue',\n\t\tLIGHT: 'ui-label-light',\n\t};\n\n\tstatic RemoveButtonType = {\n\t\tINSIDE: 'main-grid-tag-remove-inside',\n\t\tOUTSIDE: 'main-grid-tag-remove-outside',\n\t};\n}\n\nconst namespace = Reflection.namespace('BX.Grid');\nnamespace.Label = Label;",";(function() {\n\t\"use strict\";\n\n\tBX.namespace('BX.Main');\n\n\t/**\n\t * @event Grid::ready\n\t * @event Grid::columnMoved\n\t * @event Grid::rowMoved\n\t * @event Grid::pageSizeChanged\n\t * @event Grid::optionsUpdated\n\t * @event Grid::dataSorted\n\t * @event Grid::thereSelectedRows\n\t * @event Grid::allRowsSelected\n\t * @event Grid::allRowsUnselected\n\t * @event Grid::noSelectedRows\n\t * @event Grid::updated\n\t * @event Grid::headerPinned\n\t * @event Grid::headerUnpinned\n\t * @event Grid::beforeRequest\n\t * @param {string} containerId\n\t * @param {object} arParams\n\t * @param {boolean} arParams.ALLOW_COLUMNS_SORT\n\t * @param {boolean} arParams.ALLOW_ROWS_SORT\n\t * @param {boolean} arParams.ALLOW_COLUMNS_RESIZE\n\t * @param {boolean} arParams.SHOW_ROW_CHECKBOXES\n\t * @param {boolean} arParams.ALLOW_HORIZONTAL_SCROLL\n\t * @param {boolean} arParams.ALLOW_PIN_HEADER\n\t * @param {boolean} arParams.SHOW_ACTION_PANEL\n\t * @param {boolean} arParams.PRESERVE_HISTORY\n\t * @param {boolean} arParams.ALLOW_CONTEXT_MENU\n\t * @param {object} arParams.DEFAULT_COLUMNS\n\t * @param {boolean} arParams.ENABLE_COLLAPSIBLE_ROWS\n\t * @param {object} arParams.EDITABLE_DATA\n\t * @param {string} arParams.SETTINGS_TITLE\n\t * @param {string} arParams.APPLY_SETTINGS\n\t * @param {string} arParams.CANCEL_SETTINGS\n\t * @param {string} arParams.CONFIRM_APPLY\n\t * @param {string} arParams.CONFIRM_CANCEL\n\t * @param {string} arParams.CONFIRM_MESSAGE\n\t * @param {string} arParams.CONFIRM_FOR_ALL_MESSAGE\n\t * @param {string} arParams.CONFIRM_RESET_MESSAGE\n\t * @param {object} arParams.COLUMNS_ALL_WITH_SECTIONS\n\t * @param {boolean} arParams.ENABLE_FIELDS_SEARCH\n\t * @param {string} arParams.RESET_DEFAULT\n\t * @param {object} userOptions\n\t * @param {object} userOptionsActions\n\t * @param {object} userOptionsHandlerUrl\n\t * @param {object} panelActions\n\t * @param {object} panelTypes\n\t * @param {object} editorTypes\n\t * @param {object} messageTypes\n\t * @constructor\n\t */\n\tBX.Main.grid = function(\n\t\tcontainerId,\n\t\tarParams,\n\t\tuserOptions,\n\t\tuserOptionsActions,\n\t\tuserOptionsHandlerUrl,\n\t\tpanelActions,\n\t\tpanelTypes,\n\t\teditorTypes,\n\t\tmessageTypes\n\t)\n\t{\n\t\tBX.Event.EventEmitter.makeObservable(this, 'BX.Main.Grid');\n\t\tthis.settings = null;\n\t\tthis.containerId = '';\n\t\tthis.container = null;\n\t\tthis.wrapper = null;\n\t\tthis.fadeContainer = null;\n\t\tthis.scrollContainer = null;\n\t\tthis.pagination = null;\n\t\tthis.moreButton = null;\n\t\tthis.table = null;\n\t\tthis.rows = null;\n\t\tthis.history = false;\n\t\tthis.userOptions = null;\n\t\tthis.checkAll = null;\n\t\tthis.sortable = null;\n\t\tthis.updater = null;\n\t\tthis.data = null;\n\t\tthis.fader = null;\n\t\tthis.editor = null;\n\t\tthis.isEditMode = null;\n\t\tthis.pinHeader = null;\n\t\tthis.pinPanel = null;\n\t\tthis.arParams = null;\n\t\tthis.resize = null;\n\t\tthis.editableRows = [];\n\n\t\tthis.init(\n\t\t\tcontainerId,\n\t\t\tarParams,\n\t\t\tuserOptions,\n\t\t\tuserOptionsActions,\n\t\t\tuserOptionsHandlerUrl,\n\t\t\tpanelActions,\n\t\t\tpanelTypes,\n\t\t\teditorTypes,\n\t\t\tmessageTypes\n\t\t);\n\t};\n\n\tBX.Main.grid.prototype = {\n\t\tinit: function(containerId, arParams, userOptions, userOptionsActions, userOptionsHandlerUrl, panelActions, panelTypes, editorTypes, messageTypes)\n\t\t{\n\t\t\tthis.baseUrl = window.location.pathname + window.location.search;\n\t\t\tthis.container = BX(containerId);\n\n\t\t\tif (!BX.type.isNotEmptyString(containerId))\n\t\t\t{\n\t\t\t\tthrow 'BX.Main.grid.init: parameter containerId is empty';\n\t\t\t}\n\n\t\t\tif (BX.type.isPlainObject(arParams))\n\t\t\t{\n\t\t\t\tthis.arParams = arParams;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow new Error('BX.Main.grid.init: arParams isn\\'t object');\n\t\t\t}\n\n\t\t\tthis.settings = new BX.Grid.Settings();\n\t\t\tthis.containerId = containerId;\n\t\t\tthis.userOptions = new BX.Grid.UserOptions(this, userOptions, userOptionsActions, userOptionsHandlerUrl);\n\t\t\tthis.gridSettings = new BX.Grid.SettingsWindow(this);\n\t\t\tthis.messages = new BX.Grid.Message(this, messageTypes);\n\t\t\tthis.cache = new BX.Cache.MemoryCache();\n\n\t\t\tif (this.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.pinHeader = new BX.Grid.PinHeader(this);\n\t\t\t\tBX.addCustomEvent(window, 'Grid::headerUpdated', BX.proxy(this.bindOnCheckAll, this));\n\t\t\t}\n\n\t\t\tthis.bindOnCheckAll();\n\n\t\t\tif (this.getParam('ALLOW_HORIZONTAL_SCROLL'))\n\t\t\t{\n\t\t\t\tthis.fader = new BX.Grid.Fader(this);\n\t\t\t}\n\n\t\t\tthis.pageSize = new BX.Grid.Pagesize(this);\n\t\t\tthis.editor = new BX.Grid.InlineEditor(this, editorTypes);\n\n\t\t\tif (this.getParam('SHOW_ACTION_PANEL'))\n\t\t\t{\n\t\t\t\tthis.actionPanel = new BX.Grid.ActionPanel(this, panelActions, panelTypes);\n\t\t\t\tthis.pinPanel = new BX.Grid.PinPanel(this);\n\t\t\t}\n\n\t\t\tthis.isEditMode = false;\n\n\t\t\tif (!BX.type.isDomNode(this.getContainer()))\n\t\t\t{\n\t\t\t\tthrow 'BX.Main.grid.init: Failed to find container with id ' + this.getContainerId();\n\t\t\t}\n\n\t\t\tif (!BX.type.isDomNode(this.getTable()))\n\t\t\t{\n\t\t\t\tthrow 'BX.Main.grid.init: Failed to find table';\n\t\t\t}\n\n\t\t\tthis.bindOnRowEvents();\n\n\t\t\tif (this.getParam('ALLOW_COLUMNS_RESIZE'))\n\t\t\t{\n\t\t\t\tthis.resize = new BX.Grid.Resize(this);\n\t\t\t}\n\n\t\t\tthis.bindOnMoreButtonEvents();\n\t\t\tthis.bindOnClickPaginationLinks();\n\t\t\tthis.bindOnClickHeader();\n\n\t\t\tif (this.getParam('ALLOW_ROWS_SORT'))\n\t\t\t{\n\t\t\t\tthis.initRowsDragAndDrop();\n\t\t\t}\n\n\t\t\tif (this.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t{\n\t\t\t\tthis.initColsDragAndDrop();\n\t\t\t}\n\n\t\t\tthis.getRows().initSelected();\n\t\t\tthis.adjustEmptyTable(this.getRows().getSourceBodyChild());\n\t\t\tBX.onCustomEvent(this.getContainer(), 'Grid::ready', [this]);\n\t\t\tBX.addCustomEvent(window, 'Grid::unselectRow', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::unselectRows', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::allRowsUnselected', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.addCustomEvent(window, 'Grid::updated', BX.proxy(this._onGridUpdated, this));\n\t\t\twindow.frames[this.getFrameId()].onresize = BX.throttle(this._onFrameResize, 20, this);\n\n\t\t\tif (this.getParam('ALLOW_STICKED_COLUMNS'))\n\t\t\t{\n\t\t\t\tthis.initStickedColumns();\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function()\n\t\t{\n\t\t\tBX.removeCustomEvent(window, 'Grid::unselectRow', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::unselectRows', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::allRowsUnselected', BX.proxy(this._onUnselectRows, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::headerPinned', BX.proxy(this.bindOnCheckAll, this));\n\t\t\tBX.removeCustomEvent(window, 'Grid::updated', BX.proxy(this._onGridUpdated, this));\n\t\t\tthis.getPinHeader() && this.getPinHeader().destroy();\n\t\t\tthis.getFader() && this.getFader().destroy();\n\t\t\tthis.getResize() && this.getResize().destroy();\n\t\t\tthis.getColsSortable() && this.getColsSortable().destroy();\n\t\t\tthis.getRowsSortable() && this.getRowsSortable().destroy();\n\t\t\tthis.getSettingsWindow() && this.getSettingsWindow().destroy();\n\t\t\tthis.getActionsPanel() && this.getActionsPanel().destroy();\n\t\t\tthis.getPinPanel() && this.getPinPanel().destroy();\n\t\t\tthis.getPageSize() && this.getPageSize().destroy();\n\t\t},\n\n\t\t_onFrameResize: function()\n\t\t{\n\t\t\tBX.onCustomEvent(window, 'Grid::resize', [this]);\n\t\t},\n\n\t\t_onGridUpdated: function()\n\t\t{\n\t\t\tthis.initStickedColumns();\n\t\t\tthis.adjustFadePosition(this.getFadeOffset());\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t * @return {string}\n\t\t */\n\t\tgetFrameId: function()\n\t\t{\n\t\t\treturn \"main-grid-tmp-frame-\"+this.getContainerId();\n\t\t},\n\n\t\tenableActionsPanel: function()\n\t\t{\n\t\t\tif (this.getParam('SHOW_ACTION_PANEL'))\n\t\t\t{\n\t\t\t\tvar panel = this.getActionsPanel().getPanel();\n\n\t\t\t\tif (BX.type.isDomNode(panel))\n\t\t\t\t{\n\t\t\t\t\tBX.removeClass(panel, this.settings.get('classDisable'));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdisableActionsPanel: function()\n\t\t{\n\t\t\tif (this.getParam('SHOW_ACTION_PANEL'))\n\t\t\t{\n\t\t\t\tvar panel = this.getActionsPanel().getPanel();\n\n\t\t\t\tif (BX.type.isDomNode(panel))\n\t\t\t\t{\n\t\t\t\t\tBX.addClass(panel, this.settings.get('classDisable'));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSettingsWindow: function()\n\t\t{\n\t\t\treturn this.gridSettings;\n\t\t},\n\n\t\t_onUnselectRows: function()\n\t\t{\n\t\t\tvar panel = this.getActionsPanel();\n\t\t\tvar checkbox;\n\n\t\t\tif (panel instanceof BX.Grid.ActionPanel)\n\t\t\t{\n\t\t\t\tcheckbox = panel.getForAllCheckbox();\n\n\t\t\t\tif (BX.type.isDomNode(checkbox))\n\t\t\t\t{\n\t\t\t\t\tcheckbox.checked = null;\n\t\t\t\t\tthis.disableForAllCounter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.adjustCheckAllCheckboxes();\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisIE: function()\n\t\t{\n\t\t\tif (!BX.type.isBoolean(this.ie))\n\t\t\t{\n\t\t\t\tthis.ie = BX.hasClass(document.documentElement, 'bx-ie');\n\t\t\t}\n\n\t\t\treturn this.ie;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisTouch: function()\n\t\t{\n\t\t\tif (!BX.type.isBoolean(this.touch))\n\t\t\t{\n\t\t\t\tthis.touch = BX.hasClass(document.documentElement, 'bx-touch');\n\t\t\t}\n\n\t\t\treturn this.touch;\n\t\t},\n\n\n\t\t/**\n\t\t * @param {string} paramName\n\t\t * @param {*} [defaultValue]\n\t\t * @return {*}\n\t\t */\n\t\tgetParam: function(paramName, defaultValue)\n\t\t{\n\t\t\tif(defaultValue === undefined)\n\t\t\t{\n\t\t\t\tdefaultValue = null;\n\t\t\t}\n\t\t\treturn (this.arParams.hasOwnProperty(paramName) ? this.arParams[paramName] : defaultValue);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {HTMLElement[]}\n\t\t */\n\t\tgetCounterTotal: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCounterTotal'), true);\n\t\t},\n\n\t\tgetActionKey: function()\n\t\t{\n\t\t\treturn ('action_button_' + this.getId());\n\t\t},\n\n\n\t\t/**\n\t\t * @return {?BX.Grid.PinHeader}\n\t\t */\n\t\tgetPinHeader: function()\n\t\t{\n\t\t\tif (this.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.pinHeader = this.pinHeader || new BX.Grid.PinHeader(this);\n\t\t\t}\n\n\t\t\treturn this.pinHeader;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Resize}\n\t\t */\n\t\tgetResize: function()\n\t\t{\n\t\t\tif (!(this.resize instanceof BX.Grid.Resize) && this.getParam('ALLOW_COLUMNS_RESIZE'))\n\t\t\t{\n\t\t\t\tthis.resize = new BX.Grid.Resize(this);\n\t\t\t}\n\n\t\t\treturn this.resize;\n\t\t},\n\n\t\tconfirmForAll: function(container)\n\t\t{\n\t\t\tvar checkbox;\n\t\t\tvar self = this;\n\n\t\t\tif (BX.type.isDomNode(container))\n\t\t\t{\n\t\t\t\tcheckbox = BX.Grid.Utils.getByTag(container, 'input', true);\n\t\t\t}\n\n\t\t\tif (checkbox.checked)\n\t\t\t{\n\t\t\t\tthis.getActionsPanel().confirmDialog(\n\t\t\t\t\t{CONFIRM: true, CONFIRM_MESSAGE: this.arParams.CONFIRM_FOR_ALL_MESSAGE},\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tif (BX.type.isDomNode(checkbox))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcheckbox.checked = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.selectAllCheckAllCheckboxes();\n\t\t\t\t\t\tself.getRows().selectAll();\n\t\t\t\t\t\tself.enableForAllCounter();\n\t\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\t\tself.enableActionsPanel();\n\t\t\t\t\t\tself.adjustCheckAllCheckboxes();\n\t\t\t\t\t\tself.lastRowAction = null;\n\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::allRowsSelected', []);\n\t\t\t\t\t},\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tif (BX.type.isDomNode(checkbox))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcheckbox.checked = null;\n\t\t\t\t\t\t\tself.disableForAllCounter();\n\t\t\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\t\t\tself.adjustCheckAllCheckboxes();\n\t\t\t\t\t\t\tself.lastRowAction = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t\tthis.adjustCheckAllCheckboxes();\n\t\t\t\tthis.getRows().unselectAll();\n\t\t\t\tthis.disableForAllCounter();\n\t\t\t\tthis.updateCounterDisplayed();\n\t\t\t\tthis.updateCounterSelected();\n\t\t\t\tthis.disableActionsPanel();\n\t\t\t\tBX.onCustomEvent(window, 'Grid::allRowsUnselected', []);\n\t\t\t}\n\t\t},\n\n\t\tdisableCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(checkbox) {\n\t\t\t\tcheckbox.getNode().disabled = true;\n\t\t\t});\n\t\t},\n\n\t\tenableCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(checkbox) {\n\t\t\t\tcheckbox.getNode().disabled = false;\n\t\t\t});\n\t\t},\n\n\t\tindeterminateCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(checkbox) {\n\t\t\t\tcheckbox.getNode().indeterminate = true;\n\t\t\t});\n\t\t},\n\n\t\tdeterminateCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(checkbox) {\n\t\t\t\tcheckbox.getNode().indeterminate = false;\n\t\t\t});\n\t\t},\n\n\t\teditSelected: function()\n\t\t{\n\t\t\tthis.disableCheckAllCheckboxes();\n\t\t\tthis.getRows().editSelected();\n\n\t\t\tif (this.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.getPinHeader()._onGridUpdate();\n\t\t\t}\n\n\t\t\tBX.onCustomEvent(window, 'Grid::resize', [this]);\n\t\t},\n\n\t\teditSelectedSave: function()\n\t\t{\n\t\t\tvar data = {'FIELDS': this.getRows().getEditSelectedValues(true)};\n\n\t\t\tif (this.getParam(\"ALLOW_VALIDATE\"))\n\t\t\t{\n\t\t\t\tthis.tableFade();\n\t\t\t\tdata[this.getActionKey()] = 'validate';\n\t\t\t\tthis.getData().request('', 'POST', data, 'validate', function(res) {\n\t\t\t\t\tres = JSON.parse(res);\n\n\t\t\t\t\tif (res.messages.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.arParams['MESSAGES'] = res.messages;\n\t\t\t\t\t\tthis.messages.show();\n\n\t\t\t\t\t\tvar editButton = this.getActionsPanel().getButtons()\n\t\t\t\t\t\t\t.find(function(button) {\n\t\t\t\t\t\t\t\treturn button.id === \"grid_edit_button_control\";\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.tableUnfade();\n\t\t\t\t\t\tBX.fireEvent(editButton, 'click');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdata[this.getActionKey()] = 'edit';\n\t\t\t\t\t\tthis.reloadTable('POST', data);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.getParam('HANDLE_RESPONSE_ERRORS'))\n\t\t\t{\n\t\t\t\tdata[this.getActionKey()] = 'edit';\n\n\t\t\t\tvar self = this;\n\t\t\t\tthis.tableFade();\n\n\t\t\t\tthis.getData().request(\n\t\t\t\t\t'',\n\t\t\t\t\t\"POST\",\n\t\t\t\t\tdata,\n\t\t\t\t\t'',\n\t\t\t\t\tfunction(res) {\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tres = JSON.parse(res);\n\t\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\t\tres = {messages: []};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.messages.length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.arParams['MESSAGES'] = res.messages;\n\t\t\t\t\t\t\tself.messages.show();\n\n\t\t\t\t\t\t\tvar editButton = self.getActionsPanel().getButtons()\n\t\t\t\t\t\t\t\t.find(function(button) {\n\t\t\t\t\t\t\t\t\treturn button.id === \"grid_edit_button_control\";\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tself.tableUnfade();\n\t\t\t\t\t\t\tBX.fireEvent(editButton, 'click');\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.getRows().reset();\n\t\t\t\t\t\tvar bodyRows = this.getBodyRows();\n\n\t\t\t\t\t\tself.getUpdater().updateContainer(this.getContainer());\n\t\t\t\t\t\tself.getUpdater().updateHeadRows(this.getHeadRows());\n\t\t\t\t\t\tself.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\t\t\tself.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\t\t\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\t\t\tself.getUpdater().updateCounterTotal(this.getCounterTotal());\n\n\t\t\t\t\t\tself.adjustEmptyTable(bodyRows);\n\n\t\t\t\t\t\tself.bindOnRowEvents();\n\n\t\t\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\t\t\tself.bindOnClickHeader();\n\t\t\t\t\t\tself.bindOnCheckAll();\n\t\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\t\tself.disableActionsPanel();\n\t\t\t\t\t\tself.disableForAllCounter();\n\n\t\t\t\t\t\tif (self.getParam('SHOW_ACTION_PANEL'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.getUpdater().updateGroupActions(this.getActionPanel());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.tableUnfade();\n\n\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\t\t\t\t\t},\n\t\t\t\t\tfunction(res) {\n\t\t\t\t\t\tvar editButton = self.getActionsPanel().getButtons()\n\t\t\t\t\t\t\t.find(function(button) {\n\t\t\t\t\t\t\t\treturn button.id === \"grid_edit_button_control\";\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.tableUnfade();\n\t\t\t\t\t\tBX.fireEvent(editButton, 'click');\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdata[this.getActionKey()] = 'edit';\n\t\t\tthis.reloadTable('POST', data);\n\t\t},\n\n\t\tgetForAllKey: function()\n\t\t{\n\t\t\treturn 'action_all_rows_' + this.getId();\n\t\t},\n\n\t\tupdateRow: function(id, data, url, callback)\n\t\t{\n\t\t\tvar row = this.getRows().getById(id);\n\n\t\t\tif (row instanceof BX.Grid.Row)\n\t\t\t{\n\t\t\t\trow.update(data, url, callback);\n\t\t\t}\n\t\t},\n\n\t\tremoveRow: function(id, data, url, callback)\n\t\t{\n\t\t\tvar row = this.getRows().getById(id);\n\n\t\t\tif (row instanceof BX.Grid.Row)\n\t\t\t{\n\t\t\t\trow.remove(data, url, callback);\n\t\t\t}\n\t\t},\n\n\t\taddRow: function(data, url, callback)\n\t\t{\n\t\t\tvar action = this.getUserOptions().getAction('GRID_ADD_ROW');\n\t\t\tvar rowData = {action: action, data: data};\n\t\t\tvar self = this;\n\n\t\t\tthis.tableFade();\n\t\t\tthis.getData().request(url, 'POST', rowData, null, function() {\n\t\t\t\tvar bodyRows = this.getBodyRows();\n\t\t\t\tself.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\tself.tableUnfade();\n\t\t\t\tself.getRows().reset();\n\t\t\t\tself.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.getUpdater().updateCounterTotal(this.getCounterTotal());\n\t\t\t\tself.bindOnRowEvents();\n\t\t\t\tself.adjustEmptyTable(bodyRows);\n\n\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\tself.updateCounterSelected();\n\n\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::rowAdded', [{data: data, grid: self, response: this}]);\n\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\n\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t{\n\t\t\t\t\tcallback({data: data, grid: self, response: this});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\teditSelectedCancel: function()\n\t\t{\n\t\t\tthis.getRows().editSelectedCancel();\n\n\t\t\tif (this.getParam('ALLOW_PIN_HEADER'))\n\t\t\t{\n\t\t\t\tthis.getPinHeader()._onGridUpdate();\n\t\t\t}\n\t\t},\n\n\t\tremoveSelected: function()\n\t\t{\n\t\t\tvar data = { 'ID': this.getRows().getSelectedIds() };\n\t\t\tvar values = this.getActionsPanel().getValues();\n\t\t\tdata[this.getActionKey()] = 'delete';\n\t\t\tdata[this.getForAllKey()] = this.getForAllKey() in values ? values[this.getForAllKey()] : 'N';\n\t\t\tthis.reloadTable('POST', data);\n\t\t},\n\n\t\tsendSelected: function()\n\t\t{\n\t\t\tvar values = this.getActionsPanel().getValues();\n\t\t\tvar selectedRows = this.getRows().getSelectedIds();\n\t\t\tvar data = {\n\t\t\t\trows: selectedRows,\n\t\t\t\tcontrols: values\n\t\t\t};\n\n\t\t\tthis.reloadTable('POST', data);\n\t\t},\n\n\t\tsendRowAction: function(action, data)\n\t\t{\n\t\t\tif(!BX.type.isPlainObject(data))\n\t\t\t{\n\t\t\t\tdata = {};\n\t\t\t}\n\n\t\t\tdata[this.getActionKey()] = action;\n\n\t\t\tthis.reloadTable('POST', data);\n\t\t},\n\n\t\t/**\n\t\t * @return {?BX.Grid.ActionPanel}\n\t\t */\n\t\tgetActionsPanel: function()\n\t\t{\n\t\t\treturn this.actionPanel;\n\t\t},\n\n\t\tgetPinPanel: function()\n\t\t{\n\t\t\treturn this.pinPanel;\n\t\t},\n\n\t\tgetApplyButton: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classPanelButton'), true);\n\t\t},\n\n\t\tgetEditor: function()\n\t\t{\n\t\t\treturn this.editor;\n\t\t},\n\n\t\treload: function(url)\n\t\t{\n\t\t\tthis.reloadTable(\"GET\", {}, null, url);\n\t\t},\n\n\t\tgetPanels: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classPanels'), true);\n\t\t},\n\n\t\tgetEmptyBlock: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classEmptyBlock'), true);\n\t\t},\n\n\t\tadjustEmptyTable: function(rows)\n\t\t{\n\t\t\tfunction adjustEmptyBlockPosition(event) {\n\t\t\t\tvar target = event.currentTarget;\n\t\t\t\tBX.style(emptyBlock, 'transform', 'translate3d(' + BX.scrollLeft(target) + 'px, 0px, 0');\n\t\t\t}\n\n\t\t\tvar filteredRows = rows.filter(function(row) {\n\t\t\t\treturn (\n\t\t\t\t\tBX.Dom.attr(row, 'data-id') !== 'template_0'\n\t\t\t\t\t&& !BX.Dom.hasClass(row, 'main-grid-hide')\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\t!BX.hasClass(document.documentElement, 'bx-ie')\n\t\t\t\t&& filteredRows.length === 1\n\t\t\t\t&& BX.hasClass(filteredRows[0], this.settings.get('classEmptyRows'))\n\t\t\t)\n\t\t\t{\n\t\t\t\tvar gridRect = BX.pos(this.getContainer());\n\t\t\t\tvar scrollBottom = BX.scrollTop(window) + BX.height(window);\n\t\t\t\tvar diff = gridRect.bottom - scrollBottom;\n\t\t\t\tvar panelsHeight = BX.height(this.getPanels());\n\t\t\t\tvar emptyBlock = this.getEmptyBlock();\n\t\t\t\tvar containerWidth = BX.width(this.getContainer());\n\n\t\t\t\tif (containerWidth)\n\t\t\t\t{\n\t\t\t\t\tBX.width(emptyBlock, containerWidth);\n\t\t\t\t}\n\n\t\t\t\tBX.style(emptyBlock, 'transform', 'translate3d(' + BX.scrollLeft(this.getScrollContainer()) + 'px, 0px, 0');\n\n\t\t\t\tBX.unbind(this.getScrollContainer(), 'scroll', adjustEmptyBlockPosition);\n\t\t\t\tBX.bind(this.getScrollContainer(), 'scroll', adjustEmptyBlockPosition);\n\n\t\t\t\tvar parent = this.getContainer();\n\t\t\t\tvar paddingOffset = 0;\n\n\t\t\t\twhile (parent = parent.parentElement)\n\t\t\t\t{\n\t\t\t\t\tvar parentPaddingTop = parseFloat(BX.style(parent, \"padding-top\"));\n\t\t\t\t\tvar parentPaddingBottom = parseFloat(BX.style(parent, \"padding-bottom\"));\n\n\t\t\t\t\tif (!isNaN(parentPaddingTop))\n\t\t\t\t\t{\n\t\t\t\t\t\tpaddingOffset += parentPaddingTop;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isNaN(parentPaddingBottom))\n\t\t\t\t\t{\n\t\t\t\t\t\tpaddingOffset += parentPaddingBottom;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (diff > 0)\n\t\t\t\t{\n\t\t\t\t\tBX.style(this.getTable(), 'min-height', (gridRect.height - diff - panelsHeight - paddingOffset) + 'px');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.style(this.getTable(), 'min-height', (gridRect.height + Math.abs(diff) - panelsHeight - paddingOffset) + 'px');\n\t\t\t\t}\n\n\t\t\t\tBX.Dom.addClass(this.getContainer(), 'main-grid-empty-stub');\n\n\t\t\t\tif (this.getCurrentPage() <= 1)\n\t\t\t\t{\n\t\t\t\t\tthis.hidePanels();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.style(this.getTable(), 'min-height', '');\n\n\t\t\t\t// Chrome hack for 0116845 bug. @todo refactoring\n\t\t\t\tBX.style(this.getTable(), 'height', '1px');\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tBX.style(this.getTable(), 'height', '1px');\n\t\t\t\t}.bind(this));\n\n\t\t\t\tthis.showPanels();\n\t\t\t\tBX.Dom.removeClass(this.getContainer(), 'main-grid-empty-stub');\n\t\t\t}\n\t\t},\n\n\t\treloadTable: function(method, data, callback, url)\n\t\t{\n\t\t\tvar bodyRows;\n\n\t\t\tif(!BX.type.isNotEmptyString(method))\n\t\t\t{\n\t\t\t\tmethod = \"GET\";\n\t\t\t}\n\n\t\t\tif(!BX.type.isPlainObject(data))\n\t\t\t{\n\t\t\t\tdata = {};\n\t\t\t}\n\n\t\t\tvar self = this;\n\t\t\tthis.tableFade();\n\n\t\t\tif(!BX.type.isString(url))\n\t\t\t{\n\t\t\t\turl = \"\";\n\t\t\t}\n\n\t\t\tthis.getData().request(url, method, data, '', function() {\n\t\t\t\tBX.onCustomEvent(window, 'BX.Main.Grid:onBeforeReload', [self]);\n\t\t\t\tself.getRows().reset();\n\t\t\t\tbodyRows = this.getBodyRows();\n\n\t\t\t\tself.getUpdater().updateContainer(this.getContainer());\n\t\t\t\tself.getUpdater().updateHeadRows(this.getHeadRows());\n\t\t\t\tself.getUpdater().updateBodyRows(bodyRows);\n\t\t\t\tself.getUpdater().updateFootRows(this.getFootRows());\n\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.getUpdater().updateCounterTotal(this.getCounterTotal());\n\n\t\t\t\tself.adjustEmptyTable(bodyRows);\n\n\t\t\t\tself.bindOnRowEvents();\n\n\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\tself.bindOnClickHeader();\n\t\t\t\tself.bindOnCheckAll();\n\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\tself.updateCounterSelected();\n\t\t\t\tself.disableActionsPanel();\n\t\t\t\tself.disableForAllCounter();\n\n\t\t\t\tif (self.getParam('SHOW_ACTION_PANEL'))\n\t\t\t\t{\n\t\t\t\t\tself.getUpdater().updateGroupActions(this.getActionPanel());\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tself.tableUnfade();\n\n\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\n\t\t\t\tif (BX.type.isFunction(callback))\n\t\t\t\t{\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t\tif (self.getParam('ALLOW_PIN_HEADER'))\n\t\t\t\t{\n\t\t\t\t\tself.getPinHeader()._onGridUpdate();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgetGroupEditButton: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classGroupEditButton'), true);\n\t\t},\n\n\t\tgetGroupDeleteButton: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classGroupDeleteButton'), true);\n\t\t},\n\n\t\tenableGroupActions: function()\n\t\t{\n\t\t\tvar editButton = this.getGroupEditButton();\n\t\t\tvar deleteButton = this.getGroupDeleteButton();\n\n\t\t\tif (BX.type.isDomNode(editButton))\n\t\t\t{\n\t\t\t\tBX.removeClass(editButton, this.settings.get('classGroupActionsDisabled'));\n\t\t\t}\n\n\t\t\tif (BX.type.isDomNode(deleteButton))\n\t\t\t{\n\t\t\t\tBX.removeClass(deleteButton, this.settings.get('classGroupActionsDisabled'));\n\t\t\t}\n\t\t},\n\n\t\tdisableGroupActions: function()\n\t\t{\n\t\t\tvar editButton = this.getGroupEditButton();\n\t\t\tvar deleteButton = this.getGroupDeleteButton();\n\n\t\t\tif (BX.type.isDomNode(editButton))\n\t\t\t{\n\t\t\t\tBX.addClass(editButton, this.settings.get('classGroupActionsDisabled'));\n\t\t\t}\n\n\t\t\tif (BX.type.isDomNode(deleteButton))\n\t\t\t{\n\t\t\t\tBX.addClass(deleteButton, this.settings.get('classGroupActionsDisabled'));\n\t\t\t}\n\t\t},\n\n\t\tcloseActionsMenu: function()\n\t\t{\n\t\t\tvar rows = this.getRows().getRows();\n\t\t\tfor(var i = 0, l = rows.length; i < l; i++)\n\t\t\t{\n\t\t\t\trows[i].closeActionsMenu();\n\t\t\t}\n\t\t},\n\n\t\tgetPageSize: function()\n\t\t{\n\t\t\treturn this.pageSize;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {?BX.Grid.Fader}\n\t\t */\n\t\tgetFader: function()\n\t\t{\n\t\t\treturn this.fader;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Data}\n\t\t */\n\t\tgetData: function()\n\t\t{\n\t\t\tthis.data = this.data || new BX.Grid.Data(this);\n\t\t\treturn this.data;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Updater}\n\t\t */\n\t\tgetUpdater: function()\n\t\t{\n\t\t\tthis.updater = this.updater || new BX.Grid.Updater(this);\n\t\t\treturn this.updater;\n\t\t},\n\n\t\tisSortableHeader: function(item)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.hasClass(item, this.settings.get('classHeaderSortable'))\n\t\t\t);\n\t\t},\n\n\t\tisNoSortableHeader: function(item)\n\t\t{\n\t\t\treturn (\n\t\t\t\tBX.hasClass(item, this.settings.get('classHeaderNoSortable'))\n\t\t\t);\n\t\t},\n\n\t\tbindOnClickHeader: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar cell;\n\n\t\t\tBX.bind(this.getContainer(), 'click', function(event) {\n\t\t\t\tcell = BX.findParent(event.target, {tag: 'th'}, true, false);\n\n\t\t\t\tif (cell && self.isSortableHeader(cell) && !self.preventSortableClick)\n\t\t\t\t{\n\t\t\t\t\tvar onBeforeSortEvent = new BX.Event.BaseEvent({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tgrid: self,\n\t\t\t\t\t\t\tcolumnName: BX.data(cell, 'name')\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tBX.Event.EventEmitter.emit('BX.Main.grid:onBeforeSort', onBeforeSortEvent);\n\t\t\t\t\tif (onBeforeSortEvent.isDefaultPrevented())\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tself.preventSortableClick = false;\n\t\t\t\t\tself._clickOnSortableHeader(cell, event);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tenableEditMode: function()\n\t\t{\n\t\t\tthis.isEditMode = true;\n\t\t},\n\n\t\tdisableEditMode: function()\n\t\t{\n\t\t\tthis.isEditMode = false;\n\t\t},\n\n\t\tisEditMode: function()\n\t\t{\n\t\t\treturn this.isEditMode;\n\t\t},\n\n\t\tgetColumnHeaderCellByName: function(name)\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(\n\t\t\t\tthis.getContainer(),\n\t\t\t\t'#'+this.getId()+' th[data-name=\"'+name+'\"]',\n\t\t\t\ttrue\n\t\t\t);\n\t\t},\n\n\t\tgetColumnByName: function(name)\n\t\t{\n\t\t\tvar columns = this.getParam('DEFAULT_COLUMNS');\n\t\t\treturn !!name && name in columns ? columns[name] : null;\n\t\t},\n\n\t\tadjustIndex: function(index)\n\t\t{\n\t\t\tvar fixedCells = this.getAllRows()[0]\n\t\t\t\t.querySelectorAll('.main-grid-fixed-column').length;\n\t\t\treturn (index + fixedCells);\n\t\t},\n\n\t\tgetColumnByIndex: function(index)\n\t\t{\n\t\t\tindex = this.adjustIndex(index);\n\n\t\t\treturn this.getAllRows()\n\t\t\t\t.reduce(function(accumulator, row) {\n\t\t\t\t\tif (!row.classList.contains('main-grid-row-custom') && !row.classList.contains('main-grid-row-empty'))\n\t\t\t\t\t{\n\t\t\t\t\t\taccumulator.push(row.children[index]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn accumulator;\n\t\t\t\t}, []);\n\t\t},\n\n\t\tgetAllRows: function()\n\t\t{\n\t\t\tvar rows = [].slice.call(this.getTable().rows);\n\t\t\tvar fixedTable = this.getContainer().parentElement.querySelector(\".main-grid-fixed-bar table\");\n\n\t\t\tif (fixedTable)\n\t\t\t{\n\t\t\t\trows.push(fixedTable.rows[0]);\n\t\t\t}\n\n\t\t\treturn rows;\n\t\t},\n\n\t\tinitStickedColumns: function()\n\t\t{\n\t\t\t[].slice.call(this.getAllRows()[0].children).forEach(function(cell, index) {\n\t\t\t\tif (cell.classList.contains('main-grid-sticked-column'))\n\t\t\t\t{\n\t\t\t\t\tthis.stickyColumnByIndex(index);\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tif (this.getParam('ALLOW_COLUMNS_RESIZE'))\n\t\t\t{\n\t\t\t\tthis.getResize().destroy();\n\t\t\t\tthis.getResize().init(this);\n\t\t\t}\n\t\t},\n\n\t\tsetStickedColumns: function(columns)\n\t\t{\n\t\t\tif (BX.type.isArray(columns))\n\t\t\t{\n\t\t\t\tvar options = this.getUserOptions();\n\t\t\t\tvar actions = [\n\t\t\t\t\t{\n\t\t\t\t\t\taction: options.getAction('GRID_SET_STICKED_COLUMNS'),\n\t\t\t\t\t\tstickedColumns: columns\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\toptions.batch(actions, function() {\n\t\t\t\t\tthis.reloadTable();\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t},\n\n\t\tgetStickedColumns: function()\n\t\t{\n\t\t\tvar columns = [].slice.call(this.getHead().querySelectorAll('.main-grid-cell-head'));\n\n\t\t\treturn columns.reduce(function(acc, column) {\n\t\t\t\tif (\n\t\t\t\t\tBX.hasClass(column, 'main-grid-fixed-column')\n\t\t\t\t\t&& !BX.hasClass(column, 'main-grid-cell-checkbox')\n\t\t\t\t\t&& !BX.hasClass(column, 'main-grid-cell-action')\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tacc.push(column.dataset.name);\n\t\t\t\t}\n\n\t\t\t\treturn acc;\n\t\t\t}.bind(this), []);\n\t\t},\n\n\t\tstickyColumnByIndex: function(index)\n\t\t{\n\t\t\tvar column = this.getColumnByIndex(index);\n\t\t\tvar cellWidth = column[0].clientWidth;\n\n\t\t\tvar heights = column.map(function(cell) {\n\t\t\t\treturn BX.height(cell);\n\t\t\t});\n\n\t\t\tcolumn.forEach(function(cell, cellIndex) {\n\t\t\t\tcell.style.minWidth = cellWidth + 'px';\n\t\t\t\tcell.style.width = cellWidth + 'px';\n\t\t\t\tcell.style.minHeight = heights[cellIndex] + 'px';\n\n\t\t\t\tvar clone = BX.clone(cell);\n\n\t\t\t\tvar lastStickyCell = this.getLastStickyCellFromRowByIndex(cellIndex);\n\n\t\t\t\tif (lastStickyCell)\n\t\t\t\t{\n\t\t\t\t\tvar lastStickyCellLeft = parseInt(BX.style(lastStickyCell, 'left'));\n\t\t\t\t\tvar lastStickyCellWidth = parseInt(BX.style(lastStickyCell, 'width'));\n\n\t\t\t\t\tlastStickyCellLeft = isNaN(lastStickyCellLeft) ? 0 : lastStickyCellLeft;\n\t\t\t\t\tlastStickyCellWidth = isNaN(lastStickyCellWidth) ? 0 : lastStickyCellWidth;\n\n\t\t\t\t\tcell.style.left = (lastStickyCellLeft + lastStickyCellWidth) + 'px';\n\t\t\t\t}\n\n\t\t\t\tcell.classList.add('main-grid-fixed-column');\n\t\t\t\tcell.classList.add('main-grid-cell-static');\n\t\t\t\tclone.classList.add('main-grid-cell-static');\n\n\t\t\t\tif (this.getColsSortable())\n\t\t\t\t{\n\t\t\t\t\tthis.getColsSortable().unregister(cell);\n\t\t\t\t\tthis.getColsSortable().unregister(clone);\n\t\t\t\t}\n\n\t\t\t\tBX.insertAfter(clone, cell);\n\n\t\t\t}, this);\n\n\t\t\tthis.adjustFadePosition(this.getFadeOffset());\n\t\t},\n\n\t\tadjustFixedColumnsPosition: function()\n\t\t{\n\t\t\tvar fixedCells = this.getAllRows()[0]\n\t\t\t\t.querySelectorAll('.main-grid-fixed-column').length;\n\n\t\t\tvar columnsPosition = [].slice.call(this.getAllRows()[0].children)\n\t\t\t\t.reduce(function(accumulator, cell, index, columns) {\n\t\t\t\t\tvar cellLeft;\n\t\t\t\t\tvar cellWidth;\n\n\t\t\t\t\tif (columns[index-1] && columns[index-1].classList.contains('main-grid-fixed-column'))\n\t\t\t\t\t{\n\t\t\t\t\t\tcellLeft = parseInt(BX.style(columns[index-1], 'left'));\n\t\t\t\t\t\tcellWidth = parseInt(BX.style(columns[index-1], 'width'));\n\n\t\t\t\t\t\tcellLeft = isNaN(cellLeft) ? 0 : cellLeft;\n\t\t\t\t\t\tcellWidth = isNaN(cellWidth) ? 0 : cellWidth;\n\n\t\t\t\t\t\taccumulator.push({index: index+1, left: (cellLeft + cellWidth)});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn accumulator;\n\t\t\t\t}, []);\n\n\t\t\tcolumnsPosition\n\t\t\t\t.forEach(function(item) {\n\t\t\t\t\tvar column = this.getColumnByIndex(item.index - fixedCells);\n\n\t\t\t\t\tcolumn.forEach(function(cell) {\n\t\t\t\t\t\tif (item.index !== columnsPosition[columnsPosition.length-1].index)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcell.style.left = item.left + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, this);\n\n\t\t\tthis.getAllRows()\n\t\t\t\t.forEach(function(row) {\n\t\t\t\t\tvar height = BX.height(row);\n\t\t\t\t\tvar cells = [].slice.call(row.children);\n\n\t\t\t\t\tcells.forEach(function(cell) {\n\t\t\t\t\t\tcell.style.minHeight = height + 'px';\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tgetLastStickyCellFromRowByIndex: function(index)\n\t\t{\n\t\t\treturn [].slice.call(this.getAllRows()[index].children)\n\t\t\t\t.reduceRight(function(accumulator, cell) {\n\t\t\t\t\tif (!accumulator && cell.classList.contains('main-grid-fixed-column'))\n\t\t\t\t\t{\n\t\t\t\t\t\taccumulator = cell;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn accumulator;\n\t\t\t\t}, null);\n\t\t},\n\n\t\tgetFadeOffset: function()\n\t\t{\n\t\t\tvar fadeOffset = 0;\n\t\t\tvar lastStickyCell = this.getLastStickyCellFromRowByIndex(0);\n\n\t\t\tif (lastStickyCell)\n\t\t\t{\n\t\t\t\tvar lastStickyCellLeft = parseInt(BX.style(lastStickyCell, 'left'));\n\t\t\t\tvar lastStickyCellWidth = lastStickyCell.offsetWidth;\n\n\t\t\t\tlastStickyCellLeft = isNaN(lastStickyCellLeft) ? 0 : lastStickyCellLeft;\n\t\t\t\tlastStickyCellWidth = isNaN(lastStickyCellWidth) ? 0 : lastStickyCellWidth;\n\n\t\t\t\tfadeOffset = lastStickyCellLeft + lastStickyCellWidth;\n\t\t\t}\n\n\t\t\treturn fadeOffset;\n\t\t},\n\n\t\tadjustFadePosition: function(offset)\n\t\t{\n\t\t\tvar earLeft = this.getFader().getEarLeft();\n\t\t\tvar shadowLeft = this.getFader().getShadowLeft();\n\n\t\t\tearLeft.style.left = offset + 'px';\n\t\t\tshadowLeft.style.left = offset + 'px';\n\t\t},\n\n\t\t/**\n\t\t * @param {string|object} column\n\t\t */\n\t\tsortByColumn: function(column)\n\t\t{\n\t\t\tvar headerCell = null;\n\t\t\tvar header = null;\n\n\t\t\tif (!BX.type.isPlainObject(column))\n\t\t\t{\n\t\t\t\theaderCell = this.getColumnHeaderCellByName(column);\n\t\t\t\theader = this.getColumnByName(column);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\theader = column;\n\t\t\t\theader.sort_url = this.prepareSortUrl(column);\n\t\t\t}\n\n\t\t\tif (header && (!!headerCell && !BX.hasClass(headerCell, this.settings.get('classLoad')) || !headerCell))\n\t\t\t{\n\t\t\t\t!!headerCell && BX.addClass(headerCell, this.settings.get('classLoad'));\n\t\t\t\tthis.tableFade();\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tthis.getUserOptions().setSort(header.sort_by, header.sort_order, function() {\n\t\t\t\t\tself.getData().request(header.sort_url, null, null, 'sort', function() {\n\t\t\t\t\t\tself.rows = null;\n\t\t\t\t\t\tself.getUpdater().updateHeadRows(this.getHeadRows());\n\t\t\t\t\t\tself.getUpdater().updateBodyRows(this.getBodyRows());\n\t\t\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\t\t\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\n\t\t\t\t\t\tself.bindOnRowEvents();\n\n\t\t\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\t\t\tself.bindOnCheckAll();\n\t\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\t\tself.disableActionsPanel();\n\t\t\t\t\t\tself.disableForAllCounter();\n\n\t\t\t\t\t\tif (self.getParam('SHOW_ACTION_PANEL'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.getActionsPanel().resetForAllCheckbox();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Main.grid:sort', [header, self]);\n\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\t\t\t\t\t\tself.tableUnfade();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tprepareSortUrl: function(header)\n\t\t{\n\t\t\tvar url = window.location.toString();\n\n\t\t\tif ('sort_by' in header)\n\t\t\t{\n\t\t\t\turl = BX.util.add_url_param(url, {by: header.sort_by});\n\t\t\t}\n\n\t\t\tif ('sort_order' in header)\n\t\t\t{\n\t\t\t\turl = BX.util.add_url_param(url, {order: header.sort_order});\n\t\t\t}\n\n\t\t\treturn url;\n\t\t},\n\n\t\t_clickOnSortableHeader: function(header, event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.sortByColumn(BX.data(header, 'name'));\n\t\t},\n\n\t\tgetObserver: function()\n\t\t{\n\t\t\treturn BX.Grid.observer;\n\t\t},\n\n\t\tinitRowsDragAndDrop: function()\n\t\t{\n\t\t\tthis.rowsSortable = new BX.Grid.RowsSortable(this);\n\t\t},\n\n\t\tinitColsDragAndDrop: function()\n\t\t{\n\t\t\tthis.colsSortable = new BX.Grid.ColsSortable(this);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.RowsSortable}\n\t\t */\n\t\tgetRowsSortable: function()\n\t\t{\n\t\t\treturn this.rowsSortable;\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.ColsSortable}\n\t\t */\n\t\tgetColsSortable: function()\n\t\t{\n\t\t\treturn this.colsSortable;\n\t\t},\n\n\t\tgetUserOptionsHandlerUrl: function()\n\t\t{\n\t\t\treturn this.userOptionsHandlerUrl || '';\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.UserOptions}\n\t\t */\n\t\tgetUserOptions: function()\n\t\t{\n\t\t\treturn this.userOptions;\n\t\t},\n\n\t\tgetCheckAllCheckboxes: function()\n\t\t{\n\t\t\tvar checkAllNodes = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCheckAllCheckboxes'));\n\t\t\treturn checkAllNodes.map(function(current) {\n\t\t\t\treturn new BX.Grid.Element(current);\n\t\t\t});\n\t\t},\n\n\t\tselectAllCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(current) {\n\t\t\t\tcurrent.getNode().checked = true;\n\t\t\t});\n\t\t},\n\n\t\tunselectAllCheckAllCheckboxes: function()\n\t\t{\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(current) {\n\t\t\t\tcurrent.getNode().checked = false;\n\t\t\t});\n\t\t},\n\n\t\tadjustCheckAllCheckboxes: function()\n\t\t{\n\t\t\tvar total = this.getRows().getBodyChild().filter(function(row) {\n\t\t\t\treturn row.isShown() && !!row.getCheckbox();\n\t\t\t}).length;\n\n\t\t\tvar selected = this.getRows().getSelected().filter(function(row) {\n\t\t\t\treturn row.isShown();\n\t\t\t}).length;\n\n\t\t\tif (total > 0 && selected > 0 && total === selected)\n\t\t\t{\n\t\t\t\tthis.selectAllCheckAllCheckboxes();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t}\n\n\t\t\tif (selected > 0 && selected < total)\n\t\t\t{\n\t\t\t\tthis.indeterminateCheckAllCheckboxes();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.determinateCheckAllCheckboxes();\n\t\t\t}\n\t\t},\n\n\t\tbindOnCheckAll: function()\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tthis.getCheckAllCheckboxes().forEach(function(current) {\n\t\t\t\tcurrent.getObserver().add(\n\t\t\t\t\tcurrent.getNode(),\n\t\t\t\t\t'change',\n\t\t\t\t\tself._clickOnCheckAll,\n\t\t\t\t\tself\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t_clickOnCheckAll: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.toggleSelectionAll();\n\t\t\tthis.determinateCheckAllCheckboxes();\n\t\t},\n\n\t\ttoggleSelectionAll: function()\n\t\t{\n\t\t\tif (!this.getRows().isAllSelected() &&\n\t\t\t\t(this.lastRowAction === 'select' || !this.lastRowAction))\n\t\t\t{\n\t\t\t\tthis.getRows().selectAll();\n\t\t\t\tthis.selectAllCheckAllCheckboxes();\n\t\t\t\tthis.enableActionsPanel();\n\t\t\t\tBX.onCustomEvent(window, 'Grid::allRowsSelected', [this]);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getRows().unselectAll();\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t\tthis.disableActionsPanel();\n\t\t\t\tBX.onCustomEvent(window, 'Grid::allRowsUnselected', [this]);\n\t\t\t}\n\n\t\t\tdelete this.lastRowAction;\n\n\t\t\tthis.updateCounterSelected();\n\t\t},\n\n\t\tbindOnClickPaginationLinks: function()\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tthis.getPagination().getLinks().forEach(function(current) {\n\t\t\t\tcurrent.getObserver().add(\n\t\t\t\t\tcurrent.getNode(),\n\t\t\t\t\t'click',\n\t\t\t\t\tself._clickOnPaginationLink,\n\t\t\t\t\tself\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\tbindOnMoreButtonEvents: function()\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tthis.getMoreButton().getObserver().add(\n\t\t\t\tthis.getMoreButton().getNode(),\n\t\t\t\t'click',\n\t\t\t\tself._clickOnMoreButton,\n\t\t\t\tself\n\t\t\t);\n\t\t},\n\n\t\tbindOnRowEvents: function()\n\t\t{\n\t\t\tvar observer = this.getObserver();\n\t\t\tvar showCheckboxes = this.getParam('SHOW_ROW_CHECKBOXES');\n\t\t\tvar enableCollapsibleRows = this.getParam('ENABLE_COLLAPSIBLE_ROWS');\n\n\t\t\tthis.getRows().getBodyChild().forEach(function(current) {\n\t\t\t\tshowCheckboxes && observer.add(current.getNode(), 'click', this._onClickOnRow, this);\n\t\t\t\tcurrent.getDefaultAction() && observer.add(current.getNode(), 'dblclick', this._onRowDblclick, this);\n\t\t\t\tcurrent.getActionsButton() && observer.add(current.getActionsButton(), 'click', this._clickOnRowActionsButton, this);\n\t\t\t\tenableCollapsibleRows && current.getCollapseButton() && observer.add(current.getCollapseButton(), 'click', this._onCollapseButtonClick, this);\n\t\t\t}, this);\n\t\t},\n\n\t\t_onCollapseButtonClick: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar row = this.getRows().get(event.currentTarget);\n\t\t\trow.toggleChildRows();\n\n\t\t\tif (row.isCustom())\n\t\t\t{\n\t\t\t\tthis.getUserOptions().setCollapsedGroups(this.getRows().getIdsCollapsedGroups());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getUserOptions().setExpandedRows(this.getRows().getIdsExpandedRows());\n\t\t\t}\n\n\t\t\tBX.fireEvent(document.body, 'click');\n\t\t},\n\n\t\t_clickOnRowActionsButton: function(event)\n\t\t{\n\t\t\tvar row = this.getRows().get(event.target);\n\t\t\tevent.preventDefault();\n\n\t\t\tif (!row.actionsMenuIsShown())\n\t\t\t{\n\t\t\t\trow.showActionsMenu();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\trow.closeActionsMenu();\n\t\t\t}\n\t\t},\n\n\t\t_onRowDblclick: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tvar row = this.getRows().get(event.target);\n\t\t\tvar defaultJs = '';\n\n\t\t\tif (!row.isEdit())\n\t\t\t{\n\t\t\t\tclearTimeout(this.clickTimer);\n\t\t\t\tthis.clickPrevent = true;\n\n\t\t\t\ttry {\n\t\t\t\t\tdefaultJs = row.getDefaultAction();\n\t\t\t\t\teval(defaultJs);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.warn(err);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_onClickOnRow: function(event)\n\t\t{\n\t\t\tvar clickDelay = 50;\n\t\t\tvar selection = window.getSelection();\n\n\t\t\tif (event.target.nodeName === 'LABEL')\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tif (event.shiftKey || selection.toString().length === 0)\n\t\t\t{\n\t\t\t\tif (event.shiftKey)\n\t\t\t\t{\n\t\t\t\t\tselection.removeAllRanges();\n\t\t\t\t}\n\n\t\t\t\tthis.clickTimer = setTimeout(BX.delegate(function() {\n\t\t\t\t\tif (!this.clickPrevent) {\n\t\t\t\t\t\tclickActions.apply(this, [event]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.clickPrevent = false;\n\t\t\t\t}, this), clickDelay);\n\t\t\t}\n\n\t\t\tfunction clickActions(event)\n\t\t\t{\n\t\t\t\tvar rows, row, containsNotSelected, min, max, contentContainer;\n\t\t\t\tvar isPrevent = true;\n\n\t\t\t\tif (event.target.nodeName !== 'A' && event.target.nodeName !== 'INPUT')\n\t\t\t\t{\n\t\t\t\t\trow = this.getRows().get(event.target);\n\t\t\t\t\tif (row)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontentContainer = row.getContentContainer(event.target);\n\n\t\t\t\t\t\tif (BX.type.isDomNode(contentContainer) && event.target.nodeName !== 'TD' && event.target !== contentContainer)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisPrevent = BX.data(contentContainer, 'prevent-default') === 'true';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isPrevent)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (row.getCheckbox())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trows = [];\n\n\t\t\t\t\t\t\t\tthis.currentIndex = 0;\n\n\t\t\t\t\t\t\t\tthis.getRows().getRows().forEach(function(currentRow, index) {\n\t\t\t\t\t\t\t\t\tif (currentRow === row)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.currentIndex = index;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\t\tthis.lastIndex = this.lastIndex || this.currentIndex;\n\n\t\t\t\t\t\t\t\tif (!event.shiftKey)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (!row.isSelected())\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.lastRowAction = 'select';\n\t\t\t\t\t\t\t\t\t\trow.select();\n\t\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::selectRow', [row, this]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.lastRowAction = 'unselect';\n\t\t\t\t\t\t\t\t\t\trow.unselect();\n\t\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::unselectRow', [row, this]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmin = Math.min(this.currentIndex, this.lastIndex);\n\t\t\t\t\t\t\t\t\tmax = Math.max(this.currentIndex, this.lastIndex);\n\n\t\t\t\t\t\t\t\t\twhile (min <= max)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trows.push(this.getRows().getRows()[min]);\n\t\t\t\t\t\t\t\t\t\tmin++;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcontainsNotSelected = rows.some(function(current) {\n\t\t\t\t\t\t\t\t\t\treturn !current.isSelected();\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tif (containsNotSelected)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trows.forEach(function(current) {\n\t\t\t\t\t\t\t\t\t\t\tcurrent.select();\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tthis.lastRowAction = 'select';\n\t\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::selectRows', [rows, this]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trows.forEach(function(current) {\n\t\t\t\t\t\t\t\t\t\t\tcurrent.unselect();\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tthis.lastRowAction = 'unselect';\n\t\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::unselectRows', [rows, this]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.updateCounterSelected();\n\t\t\t\t\t\t\t\tthis.lastIndex = this.currentIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.adjustRows();\n\t\t\t\t\t\t\tthis.adjustCheckAllCheckboxes();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tadjustRows: function()\n\t\t{\n\t\t\tif (this.getRows().isSelected())\n\t\t\t{\n\t\t\t\tBX.onCustomEvent(window, 'Grid::thereSelectedRows', [this]);\n\t\t\t\tthis.enableActionsPanel();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.onCustomEvent(window, 'Grid::noSelectedRows', []);\n\t\t\t\tthis.disableActionsPanel();\n\t\t\t}\n\t\t},\n\n\t\tgetPagination: function()\n\t\t{\n\t\t\treturn new BX.Grid.Pagination(this);\n\t\t},\n\n\t\tgetState: function()\n\t\t{\n\t\t\treturn window.history.state;\n\t\t},\n\n\t\ttableFade: function()\n\t\t{\n\t\t\tBX.addClass(this.getTable(), this.settings.get('classTableFade'));\n\t\t\tthis.getLoader().show();\n\t\t\tBX.onCustomEvent('Grid::disabled', [this]);\n\t\t},\n\n\t\ttableUnfade: function()\n\t\t{\n\t\t\tBX.removeClass(this.getTable(), this.settings.get('classTableFade'));\n\t\t\tthis.getLoader().hide();\n\t\t\tBX.onCustomEvent('Grid::enabled', [this]);\n\t\t},\n\n\t\t_clickOnPaginationLink: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tvar self = this;\n\t\t\tvar link = this.getPagination().getLink(event.target);\n\n\t\t\tif (!link.isLoad())\n\t\t\t{\n\t\t\t\tthis.getUserOptions().resetExpandedRows();\n\n\t\t\t\tlink.load();\n\t\t\t\tthis.tableFade();\n\n\t\t\t\tthis.getData().request(link.getLink(), null, null, 'pagination', function() {\n\t\t\t\t\tself.rows = null;\n\t\t\t\t\tself.getUpdater().updateBodyRows(this.getBodyRows());\n\t\t\t\t\tself.getUpdater().updateHeadRows(this.getHeadRows());\n\t\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\n\t\t\t\t\tself.bindOnRowEvents();\n\t\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\t\tself.bindOnCheckAll();\n\t\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\t\tself.updateCounterSelected();\n\t\t\t\t\tself.disableActionsPanel();\n\t\t\t\t\tself.disableForAllCounter();\n\n\t\t\t\t\tif (self.getParam('SHOW_ACTION_PANEL'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.getActionsPanel().resetForAllCheckbox();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t\t}\n\n\t\t\t\t\tlink.unload();\n\t\t\t\t\tself.tableUnfade();\n\n\t\t\t\t\tBX.onCustomEvent(window, 'Grid::updated', [self]);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_clickOnMoreButton: function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\n\t\t\tvar self = this;\n\t\t\tvar moreButton = this.getMoreButton();\n\n\t\t\tmoreButton.load();\n\n\t\t\tthis.getData().request(moreButton.getLink(), null, null, 'more', function() {\n\t\t\t\tself.getUpdater().appendBodyRows(this.getBodyRows());\n\t\t\t\tself.getUpdater().updateMoreButton(this.getMoreButton());\n\t\t\t\tself.getUpdater().updatePagination(this.getPagination());\n\n\t\t\t\tself.getRows().reset();\n\t\t\t\tself.bindOnRowEvents();\n\n\t\t\t\tself.bindOnMoreButtonEvents();\n\t\t\t\tself.bindOnClickPaginationLinks();\n\t\t\t\tself.bindOnCheckAll();\n\t\t\t\tself.updateCounterDisplayed();\n\t\t\t\tself.updateCounterSelected();\n\n\t\t\t\tif (self.getParam('ALLOW_PIN_HEADER'))\n\t\t\t\t{\n\t\t\t\t\tself.getPinHeader()._onGridUpdate();\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_ROWS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.rowsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tif (self.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t\t{\n\t\t\t\t\tself.colsSortable.reinit();\n\t\t\t\t}\n\n\t\t\t\tself.unselectAllCheckAllCheckboxes();\n\t\t\t});\n\t\t},\n\n\t\tgetAjaxId: function()\n\t\t{\n\t\t\treturn BX.data(\n\t\t\t\tthis.getContainer(),\n\t\t\t\tthis.settings.get('ajaxIdDataProp')\n\t\t\t);\n\t\t},\n\n\t\tupdate: function(data, action)\n\t\t{\n\t\t\tvar newRows, newHeadRows, newNavPanel, thisBody, thisHead, thisNavPanel;\n\n\t\t\tif (!BX.type.isNotEmptyString(data))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthisBody = BX.Grid.Utils.getByTag(this.getTable(), 'tbody', true);\n\t\t\tthisHead = BX.Grid.Utils.getByTag(this.getTable(), 'thead', true);\n\t\t\tthisNavPanel = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classNavPanel'), true);\n\n\t\t\tdata = BX.create('div', {html: data});\n\t\t\tnewHeadRows = BX.Grid.Utils.getByClass(data, this.settings.get('classHeadRow'));\n\t\t\tnewRows = BX.Grid.Utils.getByClass(data, this.settings.get('classDataRows'));\n\t\t\tnewNavPanel = BX.Grid.Utils.getByClass(data, this.settings.get('classNavPanel'), true);\n\n\t\t\tif (action === this.settings.get('updateActionMore'))\n\t\t\t{\n\t\t\t\tthis.getRows().addRows(newRows);\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t}\n\n\t\t\tif (action === this.settings.get('updateActionPagination'))\n\t\t\t{\n\t\t\t\tBX.cleanNode(thisBody);\n\t\t\t\tthis.getRows().addRows(newRows);\n\t\t\t\tthis.unselectAllCheckAllCheckboxes();\n\t\t\t}\n\n\t\t\tif (action === this.settings.get('updateActionSort'))\n\t\t\t{\n\t\t\t\tBX.cleanNode(thisHead);\n\t\t\t\tBX.cleanNode(thisBody);\n\t\t\t\tthisHead.appendChild(newHeadRows[0]);\n\t\t\t\tthis.getRows().addRows(newRows);\n\n\t\t\t}\n\n\t\t\tthisNavPanel.innerHTML = newNavPanel.innerHTML;\n\n\t\t\tthis.bindOnRowEvents();\n\n\t\t\tthis.bindOnMoreButtonEvents();\n\t\t\tthis.bindOnClickPaginationLinks();\n\t\t\tthis.bindOnClickHeader();\n\t\t\tthis.bindOnCheckAll();\n\t\t\tthis.updateCounterDisplayed();\n\t\t\tthis.updateCounterSelected();\n\t\t\tthis.sortable.reinit();\n\t\t},\n\n\t\tgetCounterDisplayed: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCounterDisplayed'));\n\t\t},\n\n\t\tgetCounterSelected: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCounterSelected'));\n\t\t},\n\n\t\tupdateCounterDisplayed: function()\n\t\t{\n\t\t\tvar counterDisplayed = this.getCounterDisplayed();\n\t\t\tvar rows;\n\n\t\t\tif (BX.type.isArray(counterDisplayed))\n\t\t\t{\n\t\t\t\trows = this.getRows();\n\t\t\t\tcounterDisplayed.forEach(function(current) {\n\t\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrent.innerText = rows.getCountDisplayed();\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\n\t\tupdateCounterSelected: function()\n\t\t{\n\t\t\tvar counterSelected = this.getCounterSelected();\n\t\t\tvar rows;\n\n\t\t\tif (BX.type.isArray(counterSelected))\n\t\t\t{\n\t\t\t\trows = this.getRows();\n\t\t\t\tcounterSelected.forEach(function(current) {\n\t\t\t\t\tif (BX.type.isDomNode(current))\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrent.innerText = rows.getCountSelected();\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\n\t\tgetContainerId: function()\n\t\t{\n\t\t\treturn this.containerId;\n\t\t},\n\n\t\tgetId: function()\n\t\t{\n\t\t\t//ID is equals to container Id\n\t\t\treturn this.containerId;\n\t\t},\n\n\t\tgetContainer: function()\n\t\t{\n\t\t\treturn BX(this.getContainerId());\n\t\t},\n\n\t\tgetCounter: function()\n\t\t{\n\t\t\tif (!this.counter)\n\t\t\t{\n\t\t\t\tthis.counter = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classCounter'));\n\t\t\t}\n\n\t\t\treturn this.counter;\n\t\t},\n\n\t\tenableForAllCounter: function()\n\t\t{\n\t\t\tvar counter = this.getCounter();\n\n\t\t\tif (BX.type.isArray(counter))\n\t\t\t{\n\t\t\t\tcounter.forEach(function(current) {\n\t\t\t\t\tBX.addClass(current, this.settings.get('classForAllCounterEnabled'));\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\n\t\tdisableForAllCounter: function()\n\t\t{\n\t\t\tvar counter = this.getCounter();\n\n\t\t\tif (BX.type.isArray(counter))\n\t\t\t{\n\t\t\t\tcounter.forEach(function(current) {\n\t\t\t\t\tBX.removeClass(current, this.settings.get('classForAllCounterEnabled'));\n\t\t\t\t}, this);\n\t\t\t}\n\t\t},\n\n\t\tgetScrollContainer: function()\n\t\t{\n\t\t\tif (!this.scrollContainer)\n\t\t\t{\n\t\t\t\tthis.scrollContainer = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classScrollContainer'), true);\n\t\t\t}\n\n\t\t\treturn this.scrollContainer;\n\t\t},\n\n\t\tgetWrapper: function()\n\t\t{\n\t\t\tif (!this.wrapper)\n\t\t\t{\n\t\t\t\tthis.wrapper = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classWrapper'), true);\n\t\t\t}\n\n\t\t\treturn this.wrapper;\n\t\t},\n\n\t\tgetFadeContainer: function()\n\t\t{\n\t\t\tif (!this.fadeContainer)\n\t\t\t{\n\t\t\t\tthis.fadeContainer = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classFadeContainer'), true);\n\t\t\t}\n\n\t\t\treturn this.fadeContainer;\n\t\t},\n\n\t\tgetTable: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classTable'), true);\n\t\t},\n\n\t\tgetHeaders: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getBySelector(this.getWrapper(), '.main-grid-header[data-relative=\"' + this.getContainerId() + '\"]');\n\t\t},\n\n\t\tgetHead: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByTag(this.getContainer(), 'thead', true);\n\t\t},\n\n\t\tgetBody: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByTag(this.getContainer(), 'tbody', true);\n\t\t},\n\n\t\tgetFoot: function()\n\t\t{\n\t\t\treturn BX.Grid.Utils.getByTag(this.getContainer(), 'tfoot', true);\n\t\t},\n\n\n\t\t/**\n\t\t * @return {BX.Grid.Rows}\n\t\t */\n\t\tgetRows: function()\n\t\t{\n\t\t\tif (!(this.rows instanceof BX.Grid.Rows))\n\t\t\t{\n\t\t\t\tthis.rows = new BX.Grid.Rows(this)\n\t\t\t}\n\t\t\treturn this.rows;\n\t\t},\n\n\t\tgetMoreButton: function()\n\t\t{\n\t\t\tvar node = BX.Grid.Utils.getByClass(this.getContainer(), this.settings.get('classMoreButton'), true);\n\t\t\treturn new BX.Grid.Element(node, this);\n\t\t},\n\n\n\t\t/**\n\t\t * Gets loader instance\n\t\t * @return {BX.Grid.Loader}\n\t\t */\n\t\tgetLoader: function()\n\t\t{\n\t\t\tif (!(this.loader instanceof BX.Grid.Loader))\n\t\t\t{\n\t\t\t\tthis.loader = new BX.Grid.Loader(this);\n\t\t\t}\n\n\t\t\treturn this.loader;\n\t\t},\n\n\t\tblockSorting: function()\n\t\t{\n\t\t\tvar headerCells = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getContainer(),\n\t\t\t\tthis.settings.get('classHeadCell')\n\t\t\t);\n\n\t\t\theaderCells.forEach(function(header) {\n\t\t\t\tif (this.isSortableHeader(header))\n\t\t\t\t{\n\t\t\t\t\tBX.removeClass(header, this.settings.get('classHeaderSortable'));\n\t\t\t\t\tBX.addClass(header, this.settings.get('classHeaderNoSortable'));\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\n\t\tunblockSorting: function()\n\t\t{\n\t\t\tvar headerCells = BX.Grid.Utils.getByClass(\n\t\t\t\tthis.getContainer(),\n\t\t\t\tthis.settings.get('classHeadCell')\n\t\t\t);\n\n\t\t\theaderCells.forEach(function(header) {\n\t\t\t\tif (this.isNoSortableHeader(header) && header.dataset.sortBy)\n\t\t\t\t{\n\t\t\t\t\tBX.addClass(header, this.settings.get('classHeaderSortable'));\n\t\t\t\t\tBX.removeClass(header, this.settings.get('classHeaderNoSortable'));\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\n\t\tconfirmDialog: function(action, then, cancel)\n\t\t{\n\t\t\tvar dialog, popupContainer, applyButton, cancelButton;\n\n\t\t\tif ('CONFIRM' in action && action.CONFIRM)\n\t\t\t{\n\t\t\t\taction.CONFIRM_MESSAGE = action.CONFIRM_MESSAGE || this.arParams.CONFIRM_MESSAGE;\n\t\t\t\taction.CONFIRM_APPLY_BUTTON = action.CONFIRM_APPLY_BUTTON || this.arParams.CONFIRM_APPLY;\n\t\t\t\taction.CONFIRM_CANCEL_BUTTON = action.CONFIRM_CANCEL_BUTTON || this.arParams.CONFIRM_CANCEL;\n\n\t\t\t\tdialog = new BX.PopupWindow(\n\t\t\t\t\tthis.getContainerId() + '-confirm-dialog',\n\t\t\t\t\tnull,\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: '<div class=\"main-grid-confirm-content\">'+action.CONFIRM_MESSAGE+'</div>',\n\t\t\t\t\t\ttitleBar: 'CONFIRM_TITLE' in action ? action.CONFIRM_TITLE : '',\n\t\t\t\t\t\tautoHide: false,\n\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\toverlay: 0.4,\n\t\t\t\t\t\toffsetTop: -100,\n\t\t\t\t\t\tcloseIcon : true,\n\t\t\t\t\t\tcloseByEsc : true,\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonClose: function()\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.unbind(window, 'keydown', hotKey);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\t\t\t\ttext: action.CONFIRM_APPLY_BUTTON,\n\t\t\t\t\t\t\t\tid: this.getContainerId() + '-confirm-dialog-apply-button',\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.type.isFunction(then) ? then() : null;\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.close();\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.destroy();\n\t\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::confirmDialogApply', [this]);\n\t\t\t\t\t\t\t\t\t\tBX.unbind(window, 'keydown', hotKey);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew BX.PopupWindowButtonLink({\n\t\t\t\t\t\t\t\ttext: action.CONFIRM_CANCEL_BUTTON,\n\t\t\t\t\t\t\t\tid: this.getContainerId() + '-confirm-dialog-cancel-button',\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.type.isFunction(cancel) ? cancel() : null;\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.close();\n\t\t\t\t\t\t\t\t\t\tthis.popupWindow.destroy();\n\t\t\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'Grid::confirmDialogCancel', [this]);\n\t\t\t\t\t\t\t\t\t\tBX.unbind(window, 'keydown', hotKey);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (!dialog.isShown())\n\t\t\t\t{\n\t\t\t\t\tdialog.show();\n\t\t\t\t\tpopupContainer = dialog.popupContainer;\n\t\t\t\t\tBX.removeClass(popupContainer, this.settings.get('classCloseAnimation'));\n\t\t\t\t\tBX.addClass(popupContainer, this.settings.get('classShowAnimation'));\n\t\t\t\t\tapplyButton = BX(this.getContainerId() + '-confirm-dialog-apply-button');\n\t\t\t\t\tcancelButton = BX(this.getContainerId() + '-confirm-dialog-cancel-button');\n\n\t\t\t\t\tBX.bind(window, 'keydown', hotKey);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tBX.type.isFunction(then) ? then() : null;\n\t\t\t}\n\n\t\t\tfunction hotKey(event)\n\t\t\t{\n\t\t\t\tif (event.code === 'Enter')\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tBX.fireEvent(applyButton, 'click');\n\t\t\t\t}\n\n\t\t\t\tif (event.code === 'Escape')\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tBX.fireEvent(cancelButton, 'click');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetCurrentPage: function()\n\t\t{\n\t\t\tvar currentPage = parseInt(this.arParams.CURRENT_PAGE);\n\t\t\tif (BX.Type.isNumber(currentPage))\n\t\t\t{\n\t\t\t\treturn currentPage;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t * @return {Element | any}\n\t\t */\n\t\tgetEmptyStub: function()\n\t\t{\n\t\t\treturn this.getTable().querySelector('.main-grid-row-empty');\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tshowEmptyStub: function()\n\t\t{\n\t\t\tconst stub = this.getEmptyStub();\n\t\t\tif (stub)\n\t\t\t{\n\t\t\t\tBX.Dom.attr(stub, 'hidden', null);\n\t\t\t\tBX.Dom.addClass(this.getContainer(), 'main-grid-empty-stub');\n\t\t\t\tif (this.getCurrentPage() <= 1)\n\t\t\t\t{\n\t\t\t\t\tthis.hidePanels();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\thideEmptyStub: function()\n\t\t{\n\t\t\tconst stub = this.getEmptyStub();\n\t\t\tif (stub)\n\t\t\t{\n\t\t\t\tBX.Dom.attr(stub, 'hidden', true);\n\t\t\t\tBX.Dom.removeClass(this.getContainer(), 'main-grid-empty-stub');\n\t\t\t\tBX.Dom.style(this.getTable(), 'min-height', null);\n\t\t\t\tthis.showPanels();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tshowPanels: function()\n\t\t{\n\t\t\tBX.Dom.show(this.getPanels());\n\t\t\tif (this.getPanels().offsetHeight > 0)\n\t\t\t{\n\t\t\t\tBX.Dom.removeClass(this.getContainer(), 'main-grid-empty-footer');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\thidePanels: function()\n\t\t{\n\t\t\tBX.Dom.hide(this.getPanels());\n\t\t\tBX.Dom.addClass(this.getContainer(), 'main-grid-empty-footer');\n\t\t},\n\n\t\t/**\n\t\t * @return {BX.Grid.Row}\n\t\t */\n\t\tgetTemplateRow: function()\n\t\t{\n\t\t\tconst templateRow = BX.Runtime.clone(\n\t\t\t\tthis.getRows().getBodyChild(true).find((row) => {\n\t\t\t\t\treturn row.getId() === 'template_0';\n\t\t\t\t}),\n\t\t\t);\n\t\t\tconst cloned = BX.Runtime.clone(templateRow.getNode());\n\t\t\tBX.Dom.prepend(cloned, this.getBody());\n\n\t\t\tconst checkbox = cloned.querySelector('[type=\"checkbox\"]');\n\t\t\tif (checkbox)\n\t\t\t{\n\t\t\t\tBX.Dom.attr(checkbox, 'disabled', null);\n\t\t\t\tBX.Dom.attr(checkbox, 'data-disabled', null);\n\t\t\t}\n\n\t\t\treturn new BX.Grid.Row(this, cloned);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t * @return {{}[]}\n\t\t */\n\t\tgetRowEditorValue: function(withTemplate)\n\t\t{\n\t\t\tthis.rows = null;\n\t\t\treturn this.getRows().getSelected(withTemplate).map((row) => {\n\t\t\t\treturn row.getEditorValue();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t * @return {HTMLElement|HTMLBodyElement}\n\t\t */\n\t\tgetRowEditorActionPanel: function()\n\t\t{\n\t\t\tif (!this.rowEditorActionPanel)\n\t\t\t{\n\t\t\t\tthis.rowEditorActionPanel = BX.Dom.create({\n\t\t\t\t\ttag: 'div',\n\t\t\t\t\tprops: {className: 'main-ui-grid-row-editor-actions-panel'},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tBX.Dom.create({\n\t\t\t\t\t\t\ttag: 'span',\n\t\t\t\t\t\t\tprops: {className: 'ui-btn ui-btn-success'},\n\t\t\t\t\t\t\ttext: this.arParams.SAVE_BUTTON_LABEL,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tclick: this.saveRows.bind(this),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tBX.Dom.create({\n\t\t\t\t\t\t\ttag: 'span',\n\t\t\t\t\t\t\tprops: {className: 'ui-btn ui-btn-link'},\n\t\t\t\t\t\t\ttext: this.arParams.CANCEL_BUTTON_LABEL,\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tclick: this.hideRowsEditor.bind(this),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\t\t],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.rowEditorActionPanel;\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tshowRowEditorActionsPanel: function()\n\t\t{\n\t\t\tconst panel = this.getRowEditorActionPanel();\n\t\t\tBX.Dom.append(panel, this.actionPanel.getPanel());\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\thideRowEditorActionsPanel: function()\n\t\t{\n\t\t\tBX.Dom.remove(this.getRowEditorActionPanel());\n\t\t},\n\n\t\t/**\n\t\t * @return {BX.Grid.Row}\n\t\t */\n\t\tprependRowEditor: function()\n\t\t{\n\t\t\treturn this.addRowEditor('prepend');\n\t\t},\n\n\t\t/**\n\t\t * @return {BX.Grid.Row}\n\t\t */\n\t\tappendRowEditor: function()\n\t\t{\n\t\t\treturn this.addRowEditor('append');\n\t\t},\n\n\t\t/**\n\t\t * @return {BX.Grid.Row}\n\t\t */\n\t\taddRowEditor: function(direction = 'prepend')\n\t\t{\n\t\t\tBX.Dom.style(this.getTable(), 'min-height', null);\n\t\t\tconst templateRow = this.getTemplateRow();\n\t\t\tthis.editableRows.push(templateRow);\n\n\t\t\tif (direction === 'prepend')\n\t\t\t{\n\t\t\t\ttemplateRow.prependTo(this.getBody());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttemplateRow.appendTo(this.getBody());\n\t\t\t}\n\n\t\t\ttemplateRow.show();\n\t\t\ttemplateRow.select();\n\t\t\ttemplateRow.edit();\n\n\t\t\tthis.getRows().reset();\n\n\t\t\tif (this.getParam('ALLOW_ROWS_SORT'))\n\t\t\t{\n\t\t\t\tthis.rowsSortable.reinit();\n\t\t\t}\n\n\t\t\tif (this.getParam('ALLOW_COLUMNS_SORT'))\n\t\t\t{\n\t\t\t\tthis.colsSortable.reinit();\n\t\t\t}\n\n\t\t\tthis.hideEmptyStub();\n\n\t\t\treturn templateRow;\n\t\t},\n\n\t\thideRowsEditor: function()\n\t\t{\n\t\t\tthis.editableRows.forEach((row) => {\n\t\t\t\tBX.Dom.remove(row.getNode());\n\t\t\t});\n\t\t\tthis.editableRows = [];\n\t\t},\n\n\t\tsaveRows: function()\n\t\t{\n\t\t\tconst value = this.getRowEditorValue(true);\n\n\t\t\tthis.emitAsync('onAddRowsAsync', {rows: value})\n\t\t\t\t.then((result) => {\n\t\t\t\t\tresult.forEach((rowData, rowIndex) => {\n\t\t\t\t\t\tconst row = this.editableRows[rowIndex];\n\t\t\t\t\t\tif (row)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.editCancel();\n\t\t\t\t\t\t\trow.unselect();\n\t\t\t\t\t\t\trow.makeCountable();\n\n\t\t\t\t\t\t\trow.setId(rowData.id);\n\t\t\t\t\t\t\trow.setActions(rowData.actions);\n\t\t\t\t\t\t\trow.setCellsContent(rowData.columns);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.bindOnRowEvents();\n\t\t\t\t\tthis.updateCounterDisplayed();\n\t\t\t\t\tthis.updateCounterSelected();\n\n\t\t\t\t\tthis.editableRows = [];\n\t\t\t\t});\n\t\t},\n\n\t\tgetRealtime(): BX.Grid.Realtime\n\t\t{\n\t\t\treturn this.cache.remember('realtime', () => {\n\t\t\t\treturn new BX.Grid.Realtime({\n\t\t\t\t\tgrid: this,\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t};\n})();\n"],"names":["BX","namespace","Grid","ActionPanel","parent","actions","types","rel","lastActivated","init","button","elements","buttonOnChange","buttonData","prototype","eval","addCustomEvent","window","proxy","_dropdownEventHandle","panel","getPanel","bind","delegate","_checkboxChange","_clickOnButton","_gridUpdatedEventHandle","destroy","removeCustomEvent","cancelButton","fireEvent","firstChild","id","event","item","dataItem","isPanelControl","_dropdownChange","resetForAllCheckbox","checkbox","getForAllCheckbox","type","isDomNode","checked","Utils","getByClass","settings","get","getContainer","getApplyButton","node","hasClass","getTextInputs","getBySelector","getHiddenInputs","getSelects","getDropdowns","getCheckboxes","getButtons","isDropdown","isCheckbox","isTextInput","isHiddenInput","isSelect","tagName","createDropdown","data","relative","emptyText","EMPTY_TEXT","isMultiple","MULTIPLE","container","createContainer","ID","dropdown","create","props","className","attrs","name","NAME","JSON","stringify","ITEMS","VALUE","children","html","appendChild","createCheckbox","inner","titleSpan","input","value","title","TITLE","ONCHANGE","CHECKED","LABEL","createText","isNotEmptyString","text","placeholder","PLACEHOLDER","createHidden","CLASS","createButton","createButtonNode","prepareButton","SETTINGS","buttonId","TEXT","isSetButtonDisabled","Dom","attr","addClass","removeClass","minSelectedRows","getSelectedIds","length","createLink","link","href","HREF","createCustom","custom","options","replace","removeItemsRelativeCurrent","element","result","dataRelative","includes","push","nextElementSibling","forEach","current","remove","validateData","isArray","activateControl","disabled","deactivateControl","showControl","control","show","hideControl","hide","validateActionObject","action","isPlainObject","ACTION","RESET_CONTROLS","DATA","validateControlObject","controlObject","createDate","date","decl","block","mix","calendarButton","valueDelete","tabindex","TABINDEX","enableTime","TIME","createControl","relativeId","newElement","TYPE","DROPDOWN","CHECKBOX","HIDDEN","BUTTON","LINK","CUSTOM","DATE","onChangeHandler","isPseudo","callback","self","CREATE","reverse","insertAfter","ACTIVATE","currentId","SHOW","showCurrent","HIDE","hideCurrent","HIDE_ALL_EXPECT","getControls","some","el","SHOW_ALL","REMOVE","removeCurrent","CALLBACK","confirmDialog","currentCallback","JS","indexOf","err","Error","then","cancel","parentNode","onChange","PSEUDO","target","findParent","isButton","preventDefault","rows","getRows","getSelected","filter","row","isShown","map","getId","findChild","getValues","controls","concat","dropdownValue","multiple","undefined","split","getAttribute","selectedIndex","BaseClass","getParent","ColsSortable","dragItem","targetItem","rowsList","colsList","dragRect","offset","startDragOffset","dragColumn","targetColumn","isDrag","getColsList","getRowsList","inited","reinit","registerObjects","unregisterObjects","reset","fixedTableColsList","isActive","register","getFixedHeaderColsList","unregister","column","jsDD","unregisterObject","onbxdragstart","_onDragStart","onbxdrag","_onDrag","onbxdragstop","_onDragEnd","registerObject","getByTag","getHeadFirstChild","getNode","isStatic","getParam","getPinHeader","getFixedTable","getSourceRows","getDragOffset","getScrollContainer","scrollLeft","startScrollOffset","x","left","getColumn","cell","HTMLTableCellElement","cells","cellIndex","isPinned","current_node","getBoundingClientRect","Math","ceil","width","start_x","dragIndex","getIndex","preventSortableClick","isDragToRight","index","nodeClientRect","nodeCenter","isDragToLeft","isDragToBack","isMovedToRight","style","transform","isMovedToLeft","isMoved","moveColumn","transition","isNumber","styleForEach","dragOffset","leftOffset","rightOffset","defaultOffset","dragTransitionDuration","call","classList","contains","collectionSort","columns","getUserOptions","setColumns","onCustomEvent","setTimeout","originalUpdatePageData","ajax","UpdatePageData","disableBxAjaxUpdatePageData","enableBxAjaxUpdatePageData","Data","response","xhr","headRows","bodyRows","footRows","moreButton","pagination","counterDisplayed","counterSelected","counterTotal","limit","actionPanel","rowsByParentId","rowById","isValidResponse","validateResponse","isBoolean","getResponse","request","url","method","error","isString","eventArgs","gridId","disableCheckAllCheckboxes","hasOwnProperty","cancelRequest","baseUrl","addUrlParams","sessid","bitrix_sessid","internal","grid_id","apply_filter","util","remove_url_param","clear_nav","grid_action","formData","Http","convertObjectToFormData","ajaxUrl","getAjaxId","dataType","headers","processData","scriptsRunFirst","start","preparePost","onsuccess","querySelector","getContainerId","res","parse","messages","arParams","tableUnfade","isFunction","enableCheckAllCheckboxes","onerror","send","getHeadRows","getBodyRows","getRowsByParentId","getRowById","getFootRows","getMoreButton","getPagination","getCounterDisplayed","getCounterSelected","getCounterTotal","selector","getLimit","getPageSize","getActionPanel","Main","items","menuId","menu","menuItems","dataItems","dataValue","dataPseudo","dropdownItemClass","activeClass","selectedClass","notSelectedClass","lockedClass","menuItemClass","getItems","getValue","getMenuId","getMultiple","getEmptyText","createMenu","popupWindow","adjustPosition","showMenu","str","getValueItem","find","getValueAsArray","toString","i","getValueItems","values","toggleValue","splice","dataset","join","getValueText","prepareMenuItems","subItem","currentValue","prepareItems","isHtmlEntity","selected","innerHTML","delimiter","DELIMITER","PopupMenu","menuOffsetLeft","menuMaxHeight","_onCloseMenu","onPopupShow","_onShowMenu","getMenuById","popupPosition","popupContainer","setProperty","getSubItem","refresh","Type","isUndefined","innerText","selectItem","layout","lockedItem","getDataItemIndexByValue","getDataItemByValue","_onItemClick","getMenuItem","close","stopPropagation","dropdownManager","dropdownClass","onLoadItems","document","getById","body","instance","Element","resetOnclickAttr","load","unload","isLoad","onclick","getObserver","observer","getLink","Fader","table","getTable","scrollStartEventName","isTouch","scrollEndEventName","fixedTable","debounceScrollHandler","debounce","_onWindowScroll","toggle","addEventListener","listenerParams","passive","_onHeaderUpdated","getEarLeft","_onMouseoverLeft","getEarRight","_onMouseoverRight","stopScroll","adjustEarOffset","unbind","removeEventListener","hideLeftEar","hideRightEar","startScrollByDirection","clearTimeout","scrollTimer","clearInterval","scrollInterval","direction","stepLength","stepTime","setInterval","earLeft","earRight","getShadowLeft","getShadowRight","prepare","windowHeight","height","tbodyPos","pos","tBodies","headerPos","tHead","scrollY","isIE","documentElement","scrollTop","bottomPos","top","posTop","bottom","requestAnimationFrame","lastPosTop","translate","lastBottomPos","hasScroll","offsetWidth","clientWidth","hasScrollLeft","hasScrollRight","showLeftEar","showRightEar","adjustFixedTablePosition","marginLeft","Updater","updateHeadRows","getHeaders","header","cleanNode","clone","appendHeadRows","prependHeadRows","prepend","updateBodyRowById","currentRow","currentNode","updateBodyRows","getBody","appendBodyRows","prependBodyRows","updateFootRows","foot","getFoot","updateCounterTotal","counter","counterCell","updatePagination","paginationCell","updateMoreButton","buttonParent","closestParent","updateGroupActions","GroupActions","getActionsPanel","panelNode","panelChild","updateContainer","Reflection","ImageField","cache","Cache","MemoryCache","getPreview","remember","src","getFileInput","accept","events","change","reader","FileReader","onload","currentTarget","readAsDataURL","files","getFakeField","append","getLayout","getRemoveButton","getUploadButton","click","opacity","InlineEditor","isDropdownChangeEventSubscribed","createTextarea","editObject","textarea","createInput","htmlspecialcharsback","NUMBER","RANGE","min","MIN","max","MAX","step","STEP","htmlspecialchars","DISABLED","createMoney","fieldChildren","priceObject","PRICE","createMoneyPrice","CURRENCY_LIST","currencyObject","CURRENCY","HTML_ENTITY","createMoneyCurrency","isNotEmptyObject","fieldName","hidden","ATTRIBUTES","priceInput","add","Event","fieldNode","currencyDropdown","eventData","field","price","currency","EventEmitter","emit","currencyBlock","subscribe","_event$getData","getData","_event$getData2","babelHelpers","slicedToArray","controlId","dropdownObject","priceField","createOutput","getDropdownValueItemByValue","valueItem","createMultiselect","_this","selectedValues","squares","isArrayFilled","_item$HTML","itemName","HTML","renderedItem","Tag","render","_templateObject","taggedTemplateLiteral","_templateObject2","Text","encode","isMulti","validateEditObject","initCalendar","calendar","bindOnRangeChange","output","bubble","parseFloat","thumbWidth","range","position","positionOffset","round","createImageEditor","getEditor","span","_onControlKeydown","TEXTAREA","MULTISELECT","IMAGE","MONEY","processHTML","SCRIPT","isInternal","evalGlobal","code","saveButton","Loader","loader","adjustLoaderOffset","display","visibility","rowsCount","getCountDisplayed","setOptions","size","gridManager","object","old","getInstanceById","reload","getDataIndex","grid","Message","popup","onUpdated","MESSAGES","isNeedShow","getPopup","setContent","getContent","content","messagesDecl","message","messageDecl","toLowerCase","PopupWindow","getPopupId","autoHide","overlay","minWidth","maxWidth","contentNoPaddings","closeByEsc","buttons","PopupWindowButton","handlers","handler","context","Pagesize","tableFade","setPageSize","reloadTable","Pagination","links","getLinks","PinHeader","parentNodeResizeObserver","adminPanel","getAdminPanel","mo","MutationObserver","onAdminPanelMutation","observe","attributes","rect","getHead","gridRect","workArea","ResizeObserver","refreshRect","_onScroll","_onResize","_onGridUpdate","pin","async","cloneThead","cloneCells","resizeCloneCells","parseInt","firstElementChild","tag","getWrapper","isAdminPanelPinned","getPinOffset","toNumber","unpin","stopPin","startPin","scrollRect","scrollingElement","PinPanel","isSelected","animationDuration","pinned","bindOnRowsEvents","unbindOnRowsEvents","_onThereSelectedRows","_onNoSelectedRows","bindOnWindowEvents","unbindOnWindowEvents","getScrollBottom","getWindowHeight","getPanelRect","panelRect","getPanelPrevBottom","prev","previousSibling","pinPanel","withAnimation","bodyRect","getStartDiffPanelPosition","removeProperty","isNeedPinAbsolute","absolutePin","adjustPanelPosition","unpinPanel","parentRect","abs","translateOffset","delay","cb","isSelectedRows","isNeedPin","scrollX","pageXOffset","lastScrollX","panelPos","pinController","getEndDiffPanelPosition","prevPanelPos","scrollBottom","diff","prevPanelBottom","lastIsSelected","Resize","lastRegisterButtons","registerTableButtons","registerPinnedTableButtons","pinnedTableButtons","getPinnedTableButtons","getCells","cellsKeys","Object","keys","cellContainer","__overlay","__resizeCell","key","fixedCell","fixedCellContainer","cpos","cellAttrWidth","sX","fixedCells","getAllRows","querySelectorAll","getColumnByIndex","adjustFixedColumnsPosition","adjustFadePosition","getFadeOffset","saveSizes","getColumnSizes","setColumnSizes","Row","sort","actionsButton","depth","parentId","editData","onElementClick","initElementsEvents","Settings","bindNodes","isBodyChild","slice","onMouseOver","onMouseLeave","unselect","select","_onRightClick","isCustom","isHeadChild","showActionsMenu","getDefaultAction","getEditorValue","cellValues","getCellEditorValue","cellValue","RAW_NAME","RAW_VALUE","editGetValues","editor","getCustomValue","getMoneyValue","getMultiSelectValues","getImageValue","isEdit","isNotCount","getContentContainer","closest","filteredValue","inputs","currencySelector","currencyFieldName","Map","resultObject","selectValues","option","set","toUpperCase","fakeInput","getEditorContainer","getCollapseButton","collapseButton","stateLoad","stateUnload","stateExpand","stateCollapse","getParentId","getDataset","getDepth","setDepth","depthOffset","Rows","getShiftCells","childDepth","setParentId","showChildRows","getChildren","isExpand","updateCounterDisplayed","updateCounterSelected","adjustCheckAllCheckboxes","adjustRows","functionName","getGroupId","hideChildRows","isChildsLoaded","childsLoaded","expand","loadChildRows","bindOnRowEvents","getRowsSortable","getColsSortable","collapse","toggleChildRows","getAction","parent_id","apply","update","rowData","getUpdater","adjustEmptyTable","bindOnMoreButtonEvents","bindOnClickPaginationLinks","colsSortable","rowsSortable","editCancel","editorContainer","getCellByIndex","getEditDataByCellIndex","getCellNameByCellIndex","resetEditData","setEditData","getEditData","editableData","rowId","getCellEditDataByCellIndex","columnEditData","edit","contentContainer","editable","setDraggable","isDraggable","rowIndex","String","getCheckbox","getActionsMenu","actionsMenu","buttonRect","getActionsButton","getMenuItems","_onPopupShow","getEventTarget","preventCloseContextMenu","popupMenu","setBindElement","actionsMenuIsShown","pageY","getOption","pageX","closeActionsMenu","getActions","initSelect","getParentNode","getParentNodeName","nodeName","isSelectable","hasEditable","isFootChild","prependTo","appendTo","setId","setActions","actionCell","actionButton","makeCountable","makeNotCountable","getColumnOptions","columnId","Reflect","has","setCellsContent","headRow","toConsumableArray","cellName","columnOptions","cellContent","labels","labelOptions","label","color","light","bindOnEvents","labelContent","isStringFilled","removeButton","Label","RemoveButtonType","INSIDE","_templateObject3","_templateObject4","labelsContainer","_templateObject5","clean","oldLabelsContainer","tags","tagOptions","_templateObject6","active","tagContent","tagInner","_templateObject7","_templateObject8","tagsContainer","_templateObject9","addButton","_templateObject10","oldTagsContainer","Runtime","getCellById","isTemplate","test","enableAbsolutePosition","headCells","cellsWidth","disableAbsolutePosition","getHeight","setCellActions","cellActions","_this2","entries","_ref","_ref2","cellId","currentContainer","newContainer","_templateObject11","actionClass","_templateObject12","_this3","BaseEvent","setTarget","_ref3","_ref4","eventName","preparedHandler","setCounters","counters","_this4","_ref5","_ref6","cellInner","counterContainer","_templateObject13","uiCounter","currentCounter","newCounter","_templateObject14","counterInner","currentInner","newInner","_templateObject15","Counters","Color","Size","animation","bindOnce","animationName","align","RIGHT","leftAlignedClass","LEFT_ALIGNED","headChild","bodyChild","footChild","enableDragAndDrop","RowsSortable","disableDragAndDrop","getFootLastChild","getLast","getFootChild","getFootFirstChild","getFirst","getBodyLastChild","getBodyChild","getBodyFirstChild","getHeadLastChild","getHeadChild","getEditSelectedValues","withTemplate","selectedRows","initSelected","enableActionsPanel","editSelected","editSelectedCancel","isAllSelected","getCountSelected","addRows","normalizeNode","rowNode","rowInstance","array","withTemplates","selectAll","unselectAll","getByIndex","recursive","getByParentId","getRowsByGroupId","groupId","getExpandedRows","getIdsExpandedRows","getIdsCollapsedGroups","getSourceBodyChild","getSourceHeadChild","getSourceFootChild","targetId","targetRow","insertBefore","RowDragEvent","allowMoveRow","allowInsertBeforeTarget","errorMessage","allowMove","allowInsertBefore","disallowMove","disallowInsertBefore","getDragItem","getTargetItem","getEventName","setDragItem","setTargetItem","setEventName","isAllowedMove","isAllowedInsertBefore","getErrorMessage","list","setDefaultProps","getList","prepareListItems","Enable","onscrollDebounceHandler","disable","enable","windowScrollTop","rowsRectList","calcOffset","additionalDragItems","clientHeight","getTheadCells","sourceCells","createFake","cloneDragItem","cloneDragAdditionalDragItems","cloneDragAdditionalDragItemRows","theadCellsDecl","cloneRow","tableWidth","fake","getDragStartRect","moved","getAdditionalDragItems","getRowRect","dragStartOffset","start_y","dragEvent","dragRow","startDragDepth","startDragParentId","moveRow","transitionDuration","y","getWindowScrollTop","getSortOffset","getRowCenter","isDragToBottom","rowCenter","sortOffset","isMovedToBottom","isDragToTop","isMovedToTop","checkError","updateProperties","isDragetToTop","findNextVisible","createError","currentIndex","resetDragProperties","_onDragOver","_onDragLeave","sortRows","sortAdditionalDragItems","ids","saveRowsSort","additional","reduce","realX","realY","defaultSettings","classContainer","classWrapper","classTable","classScrollContainer","classFadeContainer","classFadeContainerRight","classFadeContainerLeft","classNavPanel","classActionPanel","classCursor","classRowCustom","classMoreButton","classRow","classHeadRow","classBodyRow","classFootRow","classDataRows","classPanels","classCellHeadContainer","classCellHeadOndrag","classEmptyRows","classEmptyBlock","classCheckAllCheckboxes","classCheckedRow","classRowCheckbox","classPagination","classActionCol","classCounterDisplayed","classCounterSelected","classCounterTotal","classTableFade","classDragActive","classResizeButton","classOnDrag","classDisableDrag","classPanelCellContent","classCollapseButton","classRowStateLoad","classRowStateExpand","classHeaderSortable","classHeaderNoSortable","classCellStatic","classHeadCell","classPageSize","classGroupEditButton","classGroupDeleteButton","classGroupActionsDisabled","classPanelButton","classPanelApplyButton","classPanelCheckbox","classEditor","classEditorContainer","classEditorText","classEditorDate","classEditorNumber","classEditorRange","classEditorCheckbox","classEditorTextarea","classEditorCustom","classEditorMoney","classCellContainer","classEditorOutput","classSettingsWindow","classSettingsWindowColumn","classSettingsWindowColumnLabel","classSettingsWindowColumnEditState","classSettingsWindowColumnEditInput","classSettingsWindowColumnEditButton","classSettingsWindowColumnCheckbox","classSettingsWindowShow","classSettingsWindowSelectAll","classSettingsWindowUnselectAll","classSettingsWindowSearchSectionsWrapper","classSettingsWindowSearchActiveSectionIcon","classSettingsWindowSearchSectionInput","classSettingsWindowSearchSectionItemHidden","classSettingsWindowSearchSectionItemVisible","classSettingsButton","classSettingsButtonActive","classSettingsWindowClose","classSettingsWindowReset","classSettingsWindowColumnChecked","classShowAnimation","classCloseAnimation","classLoader","classLoaderShow","classLoaderHide","classRowError","loaderHideAnimationName","classHide","classEar","classEarLeft","classEarRight","classNotCount","classCounter","classForAllCounterEnabled","classLoad","classRowActionButton","classDropdown","classPanelControl","classPanelControlContainer","classForAllCheckbox","classDisable","dataActionsKey","updateActionMore","classShow","classGridShow","updateActionPagination","updateActionSort","ajaxIdDataProp","pageSizeId","sortableRows","sortableColumns","getDefault","SettingsWindow","popupItems","sourceContent","applyButton","resetButton","filterSections","filterSectionsSearchInput","_onContainerClick","_onColumnMoved","getSelectAllButton","selectAllButton","getUnselectAllButton","unselectAllButton","allColumns","_onSettingsButtonClick","fetchColumns","promise","Promise","lazyLoadParams","isNil","CONTROLLER","runAction","fulfill","prepareColumnOptions","customNames","getCurrentOptions","custom_names","getColumnHeaderCellByName","createColumnElement","useLazyLoadColumns","getSourceContent","contentList","onItemClick","fixedFooter","getPopupItems","getSelectedColumns","restoreColumns","restore","sortItems","restoreLastColumns","restoreState","updateColumnsState","updateState","getStickedColumns","accumulator","isSticked","saveColumns","columnNames","getColumnNames","stickedColumns","batch","isForAll","view_id","set_default_settings","delete_user_settings","disableAllColumnslabelEdit","disableEdit","getAllColumns","isShowedColumn","columnName","getShowedColumns","showedColumns","getColumnByName","names","isEdited","getTitle","onResetButtonClick","CONFIRM","CONFIRM_MESSAGE","CONFIRM_RESET_MESSAGE","enableWait","disableWait","getResetButtonId","onApplyButtonClick","unselectForAllCheckbox","getApplyButtonId","getCancelButtonId","getCancelButton","buttonNode","createTitle","tmpDiv","customSettingsTitle","gridsCount","pageTitleNode","pageTitle","createPopup","console","log","leftIndentFromWindow","rightIndentFromWindow","popupWidth","titleBar","closeIcon","onPopupClose","onAnimationEnd","getResetButton","onSelectAll","onUnselectAll","prepareFilterSections","prepareFilterSectionsSearchInput","adjustActionButtonsState","getFilterSections","_iterator","_createForOfIteratorHelper","_step","s","n","done","onFilterSectionClick","e","f","_wrapper$children","wrapper","HTMLCollection","sectionId","uiGridFilterSectionButton","section","getFilterSectionsSearchInput","onFilterSectionSearchInput","previousElementSibling","onFilterSectionSearchInputClear","search","lastTitle","SettingsWindowColumn","enableActions","disableActions","editButton","defaultTitle","state","trim","getEditButton","onEditButtonClick","getStickyButton","onStickyButtonClick","unstick","stick","isEditEnabled","enableEdit","setState","getState","sticked","setTitle","getLabel","getDefaultTitle","getSettings","isDefault","stickedDefault","onLabelPaste","onLabelKeydown","clipboardData","sourceText","encodedText","formattedHtml","RegExp","execCommand","keyCode","contentEditable","adjustCaret","isContentEditable","createRange","selection","getSelection","elementTextLength","textNodes","childNodes","lastTextNode","setStart","setEnd","removeAllRanges","addRange","UserOptions","userOptions","userOptionsActions","warn","getCurrentViewName","getOptions","current_view","getViewsList","views","getUrl","add_url_param","GRID_ID","bxajaxid","newOptions","save","setColumnsNames","sizes","forAll","view_settings","setSort","by","order","pageSize","setExpandedRows","setCollapsedGroups","resetExpandedRows","saveForAll","bath","post","ajaxId","params","arrayMove","newIndex","k","collection","getNext","currentItem","getPrev","closestChilds","root","collectionLength","targetIndex","properties","propKey","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","arguments","rootElement","first","getElementsByClassName","getElementsByTagName","Realtime","_EventEmitter","inherits","classCallCheck","possibleConstructorReturn","getPrototypeOf","setEventNamespace","_objectSpread","createClass","addRow","getTemplateRow","hideEmptyStub","ReferenceError","preparedCounters","acc","toBoolean","movedElements","fakeRowNode","createElement","showStub","tr","td","colspan","description","oldStub","CellActions","defineProperty","CellActionState","LEFT","DANGER","SUCCESS","PRIMARY","GRAY","LIGHT","DARK","LARGE","MEDIUM","DEFAULT","WARNING","SECONDARY","LIGHTGREEN","LIGHTBLUE","OUTSIDE","containerId","userOptionsHandlerUrl","panelActions","panelTypes","editorTypes","messageTypes","makeObservable","fadeContainer","scrollContainer","history","checkAll","sortable","updater","fader","isEditMode","pinHeader","resize","editableRows","location","pathname","gridSettings","bindOnCheckAll","bindOnClickHeader","initRowsDragAndDrop","initColsDragAndDrop","_onUnselectRows","_onGridUpdated","frames","getFrameId","onresize","throttle","_onFrameResize","initStickedColumns","getFader","getResize","getSettingsWindow","getPinPanel","disableActionsPanel","disableForAllCounter","ie","touch","paramName","defaultValue","getActionKey","confirmForAll","CONFIRM_FOR_ALL_MESSAGE","selectAllCheckAllCheckboxes","enableForAllCounter","lastRowAction","unselectAllCheckAllCheckboxes","getCheckAllCheckboxes","indeterminateCheckAllCheckboxes","indeterminate","determinateCheckAllCheckboxes","editSelectedSave","getForAllKey","updateRow","removeRow","removeSelected","sendSelected","sendRowAction","getPanels","getEmptyBlock","adjustEmptyBlockPosition","emptyBlock","filteredRows","panelsHeight","containerWidth","paddingOffset","parentElement","parentPaddingTop","parentPaddingBottom","isNaN","getCurrentPage","hidePanels","showPanels","getGroupEditButton","getGroupDeleteButton","enableGroupActions","deleteButton","disableGroupActions","l","isSortableHeader","isNoSortableHeader","onBeforeSortEvent","isDefaultPrevented","_clickOnSortableHeader","enableEditMode","disableEditMode","adjustIndex","stickyColumnByIndex","setStickedColumns","cellWidth","heights","minHeight","lastStickyCell","getLastStickyCellFromRowByIndex","lastStickyCellLeft","lastStickyCellWidth","columnsPosition","cellLeft","reduceRight","fadeOffset","shadowLeft","sortByColumn","headerCell","sort_url","prepareSortUrl","sort_by","sort_order","getUserOptionsHandlerUrl","checkAllNodes","total","_clickOnCheckAll","toggleSelectionAll","_clickOnPaginationLink","_clickOnMoreButton","showCheckboxes","enableCollapsibleRows","_onClickOnRow","_onRowDblclick","_clickOnRowActionsButton","_onCollapseButtonClick","defaultJs","clickTimer","clickPrevent","clickDelay","shiftKey","clickActions","containsNotSelected","isPrevent","lastIndex","getLoader","newRows","newHeadRows","newNavPanel","thisBody","thisHead","thisNavPanel","getCounter","getFadeContainer","blockSorting","headerCells","unblockSorting","sortBy","dialog","CONFIRM_APPLY_BUTTON","CONFIRM_APPLY","CONFIRM_CANCEL_BUTTON","CONFIRM_CANCEL","CONFIRM_TITLE","zIndex","offsetTop","onClose","hotKey","PopupWindowButtonLink","currentPage","CURRENT_PAGE","getEmptyStub","showEmptyStub","stub","offsetHeight","templateRow","cloned","getRowEditorValue","getRowEditorActionPanel","rowEditorActionPanel","SAVE_BUTTON_LABEL","saveRows","CANCEL_BUTTON_LABEL","hideRowsEditor","showRowEditorActionsPanel","hideRowEditorActionsPanel","prependRowEditor","addRowEditor","appendRowEditor","emitAsync","getRealtime"],"mappings":"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"}