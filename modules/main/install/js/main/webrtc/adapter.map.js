{"version":3,"file":"adapter.min.js","sources":["adapter.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","adapter","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"SDPUtils","generateIdentifier","Math","random","toString","substr","localCName","splitLines","blob","trim","split","map","line","splitSections","parts","part","index","matchPrefix","prefix","filter","indexOf","parseCandidate","substring","candidate","foundation","component","protocol","toLowerCase","priority","parseInt","ip","port","type","relatedAddress","relatedPort","tcpType","writeCandidate","sdp","push","toUpperCase","join","parseRtpMap","parsed","payloadType","shift","name","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","undefined","parseExtmap","id","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","Object","keys","params","forEach","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","value","getDtlsParameters","mediaSection","sessionpart","concat","fpLine","dtlsParameters","role","fingerprints","algorithm","writeDtlsParameters","setupType","fp","getIceParameters","iceParameters","usernameFragment","password","writeIceParameters","parseRtpParameters","description","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","kind","caps","parseRtpEncodingParameters","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","secondarySsrc","flows","apt","encParam","codecPayloadType","rtx","JSON","parse","stringify","fec","mechanism","bandwidth","maxBitrate","writeSessionBoilerplate","writeMediaSection","transceiver","stream","iceGatherer","getLocalParameters","dtlsTransport","mid","rtpSender","rtpReceiver","msid","track","sendEncodingParameters","getDirection",2,"logging","log","browserDetails","extractVersion","disableLog","chromeShim","edgeShim","firefoxShim","safariShim","browser","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","./chrome/chrome_shim","./edge/edge_shim","./firefox/firefox_shim","./safari/safari_shim","./utils",3,"MediaStream","webkitMediaStream","RTCPeerConnection","prototype","defineProperty","get","_ontrack","set","removeEventListener","_ontrackpoly","addEventListener","te","event","Event","receiver","streams","dispatchEvent","getTracks","bind","HTMLMediaElement","_srcObject","src","URL","revokeObjectURL","createObjectURL","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","pc","webkitRTCPeerConnection","origGetStats","getStats","selector","successCallback","errorCallback","args","arguments","fixChromeStats_","response","standardReport","reports","result","report","standardStats","timestamp","names","stat","makeMapStats","stats","legacyStats","Map","key","successCallbackWrapper_","apply","Promise","resolve","reject","then","generateCertificate","method","nativeMethod","opts","version","promise","err","RTCIceCandidate","RTCSessionDescription","nativeAddIceCandidate","addIceCandidate","../utils.js","./getusermedia",4,"constraintsToChrome_","c","mandatory","optional","cc","ideal","exact","min","max","oldname_","charAt","slice","oc","mix","advanced","shimConstraints_","constraints","func","audio","video","face","facingMode","navigator","mediaDevices","getSupportedConstraints","enumerateDevices","devices","d","back","find","label","deviceId","shimError_","PermissionDeniedError","ConstraintNotSatisfiedError","message","constraint","constraintName","getUserMedia_","onSuccess","onError","webkitGetUserMedia","getUserMedia","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","device","groupId","origGetUserMedia","cs","catch",5,"RTCIceGatherer","config","_eventTarget","document","createDocumentFragment","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onnegotiationneeded","ondatachannel","localStreams","remoteStreams","getLocalStreams","getRemoteStreams","localDescription","remoteDescription","signalingState","iceConnectionState","iceGatheringState","iceOptions","gatherPolicy","iceServers","TypeError","usingBundle","bundlePolicy","server","urls","url","transceivers","_localIceCandidatesBuffer","_emitBufferedCandidates","sections","end","sdpMLineIndex","complete","every","state","addStream","clone","_maybeFireNegotiationNeeded","removeStream","idx","splice","getSenders","getReceivers","_getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","lCodec","rCodec","lHeaderExtension","rHeaderExtension","_createIceAndDtlsTransports","iceTransport","RTCIceTransport","onlocalcandidate","evt","sdpMid","cand","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_transceive","send","recv","encodings","cname","recvEncodingParameters","receive","setLocalDescription","_pendingOffer","isIceLite","rejected","isDatachannel","remoteIceParameters","cands","setRemoteCandidates","remoteDtlsParameters","start","_updateSignalingState","hasCallback","cb","setTimeout","p","setRemoteDescription","receiverList","direction","remoteSsrc","obj","isComplete","transports","RTCRtpReceiver","getCapabilities","addTrack","localTrack","getAudioTracks","getVideoTracks","RTCRtpSender","item","trackEvent","close","stop","newState","states","new","closed","connecting","checking","connected","completed","failed","disconnected","createOffer","offerOptions","tracks","numAudioTracks","numVideoTracks","offerToReceiveAudio","offerToReceiveVideo","wantReceive","desc","createAnswer","addRemoteCandidate","mLineIndex","promises","results","all","res","../utils",6,7,"mozSrcObject","mozRTCPeerConnection","newIceServers","hasOwnProperty","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","nativeGetStats","onSucc","onErr",8,"SecurityError","The operation is insecure.","constraintsToFF37_","mozGetUserMedia","infos","orgEnumerateDevices","console","warn",9,10,"logDisabled_","utils","bool","uastring","expr","pos","match","detectBrowser","userAgent"],"mappings":"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"}