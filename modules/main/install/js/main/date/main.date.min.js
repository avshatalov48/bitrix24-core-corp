(function(e){if(!e.BX){e.BX={}}if(!e.BX.Main){e.BX.Main={}}else if(e.BX.Main.Date){return}var t=e.BX;t.Main.Date={AM_PM_MODE:{UPPER:1,LOWER:2,NONE:false},format:function(e,t,_,n){var D=this;var a=r.isDate(t)?new Date(t.getTime()):r.isNumber(t)?new Date(t*1e3):new Date;var i=r.isDate(_)?new Date(_.getTime()):r.isNumber(_)?new Date(_*1e3):new Date;var o=!!n;if(r.isArray(e))return M(e,a,i,o);else if(!r.isNotEmptyString(e))return"";var O=/\\?(sago|iago|isago|Hago|dago|mago|Yago|sdiff|idiff|Hdiff|ddiff|mdiff|Ydiff|sshort|ishort|Hshort|dshort|mhort|Yshort|yesterday|today|tommorow|tomorrow|[a-z])/gi;var s={d:function(){return r.strPadLeft(g(a).toString(),2,"0")},D:function(){return D._getMessage("DOW_"+m(a))},j:function(){return g(a)},l:function(){return D._getMessage("DAY_OF_WEEK_"+m(a))},N:function(){return m(a)||7},S:function(){if(g(a)%10==1&&g(a)!=11)return"st";else if(g(a)%10==2&&g(a)!=12)return"nd";else if(g(a)%10==3&&g(a)!=13)return"rd";else return"th"},w:function(){return m(a)},z:function(){var e=new Date(F(a),0,1);var t=new Date(F(a),c(a),g(a));return Math.ceil((t-e)/(24*3600*1e3))},W:function(){var e=new Date(a.getTime());var t=(m(a)+6)%7;R(e,g(e)-t+3);var _=e.getTime();H(e,0,1);if(m(e)!=4)H(e,0,1+(4-m(e)+7)%7);var n=1+Math.ceil((_-e)/(7*24*3600*1e3));return r.strPadLeft(n.toString(),2,"0")},F:function(){return D._getMessage("MONTH_"+(c(a)+1)+"_S")},f:function(){return D._getMessage("MONTH_"+(c(a)+1))},m:function(){return r.strPadLeft((c(a)+1).toString(),2,"0")},M:function(){return D._getMessage("MON_"+(c(a)+1))},n:function(){return c(a)+1},t:function(){var e=o?new Date(Date.UTC(F(a),c(a)+1,0)):new Date(F(a),c(a)+1,0);return g(e)},L:function(){var e=F(a);return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=new Date(a.getTime());R(e,g(e)-(m(a)+6)%7+3);return F(e)},Y:function(){return F(a)},y:function(){return F(a).toString().slice(2)},a:function(){return T(a)>11?"pm":"am"},A:function(){return T(a)>11?"PM":"AM"},B:function(){var e=(a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/3600;return r.strPadLeft(Math.floor(e*1e3/24).toString(),3,"0")},g:function(){return T(a)%12||12},G:function(){return T(a)},h:function(){return r.strPadLeft((T(a)%12||12).toString(),2,"0")},H:function(){return r.strPadLeft(T(a).toString(),2,"0")},i:function(){return r.strPadLeft(E(a).toString(),2,"0")},s:function(){return r.strPadLeft(A(a).toString(),2,"0")},u:function(){return r.strPadLeft((l(a)*1e3).toString(),6,"0")},e:function(){if(o)return"UTC";return""},I:function(){if(o)return 0;var e=new Date(F(a),0,1);var t=Date.UTC(F(a),0,1);var r=new Date(F(a),6,0);var _=Date.UTC(F(a),6,0);return 0+(e-t!==r-_)},O:function(){if(o)return"+0000";var e=a.getTimezoneOffset();var t=Math.abs(e);return(e>0?"-":"+")+r.strPadLeft((Math.floor(t/60)*100+t%60).toString(),4,"0")},P:function(){if(o)return"+00:00";var e=this.O();return e.substr(0,3)+":"+e.substr(3)},Z:function(){if(o)return 0;return-a.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(O,S)},r:function(){return"D, d M Y H:i:s O".replace(O,S)},U:function(){return Math.floor(a.getTime()/1e3)},sago:function(){return d(I((i-a)/1e3),{0:"FD_SECOND_AGO_0",1:"FD_SECOND_AGO_1","10_20":"FD_SECOND_AGO_10_20",MOD_1:"FD_SECOND_AGO_MOD_1",MOD_2_4:"FD_SECOND_AGO_MOD_2_4",MOD_OTHER:"FD_SECOND_AGO_MOD_OTHER"})},sdiff:function(){return d(I((i-a)/1e3),{0:"FD_SECOND_DIFF_0",1:"FD_SECOND_DIFF_1","10_20":"FD_SECOND_DIFF_10_20",MOD_1:"FD_SECOND_DIFF_MOD_1",MOD_2_4:"FD_SECOND_DIFF_MOD_2_4",MOD_OTHER:"FD_SECOND_DIFF_MOD_OTHER"})},sshort:function(){return D._getMessage("FD_SECOND_SHORT").replace(/#VALUE#/g,I((i-a)/1e3))},iago:function(){return d(I((i-a)/60/1e3),{0:"FD_MINUTE_AGO_0",1:"FD_MINUTE_AGO_1","10_20":"FD_MINUTE_AGO_10_20",MOD_1:"FD_MINUTE_AGO_MOD_1",MOD_2_4:"FD_MINUTE_AGO_MOD_2_4",MOD_OTHER:"FD_MINUTE_AGO_MOD_OTHER"})},idiff:function(){return d(I((i-a)/60/1e3),{0:"FD_MINUTE_DIFF_0",1:"FD_MINUTE_DIFF_1","10_20":"FD_MINUTE_DIFF_10_20",MOD_1:"FD_MINUTE_DIFF_MOD_1",MOD_2_4:"FD_MINUTE_DIFF_MOD_2_4",MOD_OTHER:"FD_MINUTE_DIFF_MOD_OTHER"})},isago:function(){var e=I((i-a)/60/1e3);var t=d(e,{0:"FD_MINUTE_0",1:"FD_MINUTE_1","10_20":"FD_MINUTE_10_20",MOD_1:"FD_MINUTE_MOD_1",MOD_2_4:"FD_MINUTE_MOD_2_4",MOD_OTHER:"FD_MINUTE_MOD_OTHER"});t+=" ";var r=I((i-a)/1e3)-e*60;t+=d(r,{0:"FD_SECOND_AGO_0",1:"FD_SECOND_AGO_1","10_20":"FD_SECOND_AGO_10_20",MOD_1:"FD_SECOND_AGO_MOD_1",MOD_2_4:"FD_SECOND_AGO_MOD_2_4",MOD_OTHER:"FD_SECOND_AGO_MOD_OTHER"});return t},ishort:function(){return D._getMessage("FD_MINUTE_SHORT").replace(/#VALUE#/g,I((i-a)/60/1e3))},Hago:function(){return d(I((i-a)/60/60/1e3),{0:"FD_HOUR_AGO_0",1:"FD_HOUR_AGO_1","10_20":"FD_HOUR_AGO_10_20",MOD_1:"FD_HOUR_AGO_MOD_1",MOD_2_4:"FD_HOUR_AGO_MOD_2_4",MOD_OTHER:"FD_HOUR_AGO_MOD_OTHER"})},Hdiff:function(){return d(I((i-a)/60/60/1e3),{0:"FD_HOUR_DIFF_0",1:"FD_HOUR_DIFF_1","10_20":"FD_HOUR_DIFF_10_20",MOD_1:"FD_HOUR_DIFF_MOD_1",MOD_2_4:"FD_HOUR_DIFF_MOD_2_4",MOD_OTHER:"FD_HOUR_DIFF_MOD_OTHER"})},Hshort:function(){return D._getMessage("FD_HOUR_SHORT").replace(/#VALUE#/g,I((i-a)/60/60/1e3))},yesterday:function(){return D._getMessage("FD_YESTERDAY")},today:function(){return D._getMessage("FD_TODAY")},tommorow:function(){return D._getMessage("FD_TOMORROW")},tomorrow:function(){return D._getMessage("FD_TOMORROW")},dago:function(){return d(I((i-a)/60/60/24/1e3),{0:"FD_DAY_AGO_0",1:"FD_DAY_AGO_1","10_20":"FD_DAY_AGO_10_20",MOD_1:"FD_DAY_AGO_MOD_1",MOD_2_4:"FD_DAY_AGO_MOD_2_4",MOD_OTHER:"FD_DAY_AGO_MOD_OTHER"})},ddiff:function(){return d(I((i-a)/60/60/24/1e3),{0:"FD_DAY_DIFF_0",1:"FD_DAY_DIFF_1","10_20":"FD_DAY_DIFF_10_20",MOD_1:"FD_DAY_DIFF_MOD_1",MOD_2_4:"FD_DAY_DIFF_MOD_2_4",MOD_OTHER:"FD_DAY_DIFF_MOD_OTHER"})},dshort:function(){return D._getMessage("FD_DAY_SHORT").replace(/#VALUE#/g,I((i-a)/60/60/24/1e3))},mago:function(){return d(I((i-a)/60/60/24/31/1e3),{0:"FD_MONTH_AGO_0",1:"FD_MONTH_AGO_1","10_20":"FD_MONTH_AGO_10_20",MOD_1:"FD_MONTH_AGO_MOD_1",MOD_2_4:"FD_MONTH_AGO_MOD_2_4",MOD_OTHER:"FD_MONTH_AGO_MOD_OTHER"})},mdiff:function(){return d(I((i-a)/60/60/24/31/1e3),{0:"FD_MONTH_DIFF_0",1:"FD_MONTH_DIFF_1","10_20":"FD_MONTH_DIFF_10_20",MOD_1:"FD_MONTH_DIFF_MOD_1",MOD_2_4:"FD_MONTH_DIFF_MOD_2_4",MOD_OTHER:"FD_MONTH_DIFF_MOD_OTHER"})},mshort:function(){return D._getMessage("FD_MONTH_SHORT").replace(/#VALUE#/g,I((i-a)/60/60/24/31/1e3))},Yago:function(){return d(I((i-a)/60/60/24/365/1e3),{0:"FD_YEARS_AGO_0",1:"FD_YEARS_AGO_1","10_20":"FD_YEARS_AGO_10_20",MOD_1:"FD_YEARS_AGO_MOD_1",MOD_2_4:"FD_YEARS_AGO_MOD_2_4",MOD_OTHER:"FD_YEARS_AGO_MOD_OTHER"})},Ydiff:function(){return d(I((i-a)/60/60/24/365/1e3),{0:"FD_YEARS_DIFF_0",1:"FD_YEARS_DIFF_1","10_20":"FD_YEARS_DIFF_10_20",MOD_1:"FD_YEARS_DIFF_MOD_1",MOD_2_4:"FD_YEARS_DIFF_MOD_2_4",MOD_OTHER:"FD_YEARS_DIFF_MOD_OTHER"})},Yshort:function(){return d(I((i-a)/60/60/24/365/1e3),{0:"FD_YEARS_SHORT_0",1:"FD_YEARS_SHORT_1","10_20":"FD_YEARS_SHORT_10_20",MOD_1:"FD_YEARS_SHORT_MOD_1",MOD_2_4:"FD_YEARS_SHORT_MOD_2_4",MOD_OTHER:"FD_YEARS_SHORT_MOD_OTHER"})},x:function(){var e=D.isAmPmMode(true);var t=e===D.AM_PM_MODE.LOWER?"g:i a":e===D.AM_PM_MODE.UPPER?"g:i A":"H:i";return D.format([["tomorrow","tomorrow, "+t],["-",D.convertBitrixFormat(D._getMessage("FORMAT_DATETIME")).replace(/:s/g,"")],["s","sago"],["i","iago"],["today","today, "+t],["yesterday","yesterday, "+t],["",D.convertBitrixFormat(D._getMessage("FORMAT_DATETIME")).replace(/:s/g,"")]],a,i,o)},X:function(){var e=D.isAmPmMode(true);var t=e===D.AM_PM_MODE.LOWER?"g:i a":e===D.AM_PM_MODE.UPPER?"g:i A":"H:i";var r=D.format([["tomorrow","tomorrow"],["-",D.convertBitrixFormat(D._getMessage("FORMAT_DATE"))],["today","today"],["yesterday","yesterday"],["",D.convertBitrixFormat(D._getMessage("FORMAT_DATE"))]],a,i,o);var _=D.format([["tomorrow",t],["today",t],["yesterday",t],["",""]],a,i,o);if(_.length>0)return D._getMessage("FD_DAY_AT_TIME").replace(/#DAY#/g,r).replace(/#TIME#/g,_);else return r},Q:function(){var e=I((i-a)/60/60/24/1e3);if(e==0)return D._getMessage("FD_DAY_DIFF_1").replace(/#VALUE#/g,1);else return D.format([["d","ddiff"],["m","mdiff"],["","Ydiff"]],a,i)}};var u=false;if(e[0]&&e[0]=="^"){u=true;e=e.substr(1)}var f=e.replace(O,S);if(u){f=f.replace(/\s*00:00:00\s*/g,"").replace(/(\d\d:\d\d)(:00)/g,"$1").replace(/(\s*00:00\s*)(?!:)/g,"")}return f;function M(e,t,r,_){var n=I((r-t)/1e3);for(var a=0;a<e.length;a++){var i=e[a][0];var o=e[a][1];var O=null;if(i=="s"){if(n<60)return D.format(o,t,r,_)}else if((O=/^s(\d+)\>?(\d+)?/.exec(i))!=null){if(O[1]&&O[2]){if(n<O[1]&&n>O[2]){return D.format(o,t,r,_)}}else if(n<O[1]){return D.format(o,t,r,_)}}else if(i=="i"){if(n<60*60)return D.format(o,t,r,_)}else if((O=/^i(\d+)\>?(\d+)?/.exec(i))!=null){if(O[1]&&O[2]){if(n<O[1]*60&&n>O[2]*60){return D.format(o,t,r,_)}}else if(n<O[1]*60){return D.format(o,t,r,_)}}else if(i=="H"){if(n<24*60*60)return D.format(o,t,r,_)}else if((O=/^H(\d+)\>?(\d+)?/.exec(i))!=null){if(O[1]&&O[2]){if(n<O[1]*60*60&&n>O[2]*60*60){return D.format(o,t,r,_)}}else if(n<O[1]*60*60){return D.format(o,t,r,_)}}else if(i=="d"){if(n<31*24*60*60)return D.format(o,t,r,_)}else if((O=/^d(\d+)\>?(\d+)?/.exec(i))!=null){if(O[1]&&O[2]){if(n<O[1]*24*60*60&&n>O[2]*24*60*60){return D.format(o,t,r,_)}}else if(n<O[1]*24*60*60){return D.format(o,t,r,_)}}else if(i=="m"){if(n<365*24*60*60)return D.format(o,t,r,_)}else if((O=/^m(\d+)\>?(\d+)?/.exec(i))!=null){if(O[1]&&O[2]){if(n<O[1]*31*24*60*60&&n>O[2]*31*24*60*60){return D.format(o,t,r,_)}}else if(n<O[1]*31*24*60*60){return D.format(o,t,r,_)}}else if(i=="now"){if(t.getTime()==r.getTime()){return D.format(o,t,r,_)}}else if(i=="today"){var s=F(r),u=c(r),f=g(r);var M=_?new Date(Date.UTC(s,u,f,0,0,0,0)):new Date(s,u,f,0,0,0,0);var T=_?new Date(Date.UTC(s,u,f+1,0,0,0,0)):new Date(s,u,f+1,0,0,0,0);if(t>=M&&t<T)return D.format(o,t,r,_)}else if(i=="todayFuture"){var s=F(r),u=c(r),f=g(r);var M=r.getTime();var T=_?new Date(Date.UTC(s,u,f+1,0,0,0,0)):new Date(s,u,f+1,0,0,0,0);if(t>=M&&t<T)return D.format(o,t,r,_)}else if(i=="yesterday"){s=F(r);u=c(r);f=g(r);var E=_?new Date(Date.UTC(s,u,f-1,0,0,0,0)):new Date(s,u,f-1,0,0,0,0);var A=_?new Date(Date.UTC(s,u,f,0,0,0,0)):new Date(s,u,f,0,0,0,0);if(t>=E&&t<A)return D.format(o,t,r,_)}else if(i=="tommorow"||i=="tomorrow"){s=F(r);u=c(r);f=g(r);var l=_?new Date(Date.UTC(s,u,f+1,0,0,0,0)):new Date(s,u,f+1,0,0,0,0);var m=_?new Date(Date.UTC(s,u,f+2,0,0,0,0)):new Date(s,u,f+2,0,0,0,0);if(t>=l&&t<m)return D.format(o,t,r,_)}else if(i=="-"){if(n<0)return D.format(o,t,r,_)}}return e.length>0?D.format(e[e.length-1][1],t,r,_):""}function F(e){return o?e.getUTCFullYear():e.getFullYear()}function g(e){return o?e.getUTCDate():e.getDate()}function c(e){return o?e.getUTCMonth():e.getMonth()}function T(e){return o?e.getUTCHours():e.getHours()}function E(e){return o?e.getUTCMinutes():e.getMinutes()}function A(e){return o?e.getUTCSeconds():e.getSeconds()}function l(e){return o?e.getUTCMilliseconds():e.getMilliseconds()}function m(e){return o?e.getUTCDay():e.getDay()}function R(e,t){return o?e.setUTCDate(t):e.setDate(t)}function H(e,t,r){return o?e.setUTCMonth(t,r):e.setMonth(t,r)}function d(e,t){var r=e<100?Math.abs(e):Math.abs(e%100);var _=r%10;var n="";if(r==0)n=D._getMessage(t["0"]);else if(r==1)n=D._getMessage(t["1"]);else if(r>=10&&r<=20)n=D._getMessage(t["10_20"]);else if(_==1)n=D._getMessage(t["MOD_1"]);else if(2<=_&&_<=4)n=D._getMessage(t["MOD_2_4"]);else n=D._getMessage(t["MOD_OTHER"]);return n.replace(/#VALUE#/g,e)}function S(e,t){if(s[e])return s[e]();else return t}function I(e){return e>=0?Math.floor(e):Math.ceil(e)}},convertBitrixFormat:function(e){if(!r.isNotEmptyString(e))return"";return e.replace("YYYY","Y").replace("MMMM","F").replace("MM","m").replace("M","M").replace("DD","d").replace("G","g").replace(/GG/i,"G").replace("H","h").replace(/HH/i,"H").replace("MI","i").replace("SS","s").replace("TT","A").replace("T","a")},convertToUTC:function(e){if(!r.isDate(e))return null;return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},getNewDate:function(e){return new Date(this.getBrowserTimestamp(e))},getBrowserTimestamp:function(e){e=parseInt(e,10);var t=new Date(e*1e3).getTimezoneOffset()*60;return(parseInt(e,10)+parseInt(this._getMessage("SERVER_TZ_OFFSET"))+t)*1e3},getServerTimestamp:function(e){e=parseInt(e,10);var t=new Date(e).getTimezoneOffset()*60;return Math.round(e/1e3-(parseInt(this._getMessage("SERVER_TZ_OFFSET"),10)+parseInt(t,10)))},formatLastActivityDate:function(e,t,r){var _=this.isAmPmMode(true);var n=_===this.AM_PM_MODE.LOWER?"g:i a":_===this.AM_PM_MODE.UPPER?"g:i A":"H:i";var D=[["tomorrow","#01#"+n],["now","#02#"],["todayFuture","#03#"+n],["yesterday","#04#"+n],["-",this.convertBitrixFormat(this._getMessage("FORMAT_DATETIME")).replace(/:s/g,"")],["s60","sago"],["i60","iago"],["H5","Hago"],["H24","#03#"+n],["d31","dago"],["m12>1","mago"],["m12>0","dago"],["","#05#"]];var a=this.format(D,e,t,r);if((match=/^#(\d+)#(.*)/.exec(a))!=null){switch(match[1]){case"01":a=this._getMessage("FD_LAST_SEEN_TOMORROW").replace("#TIME#",match[2]);break;case"02":a=this._getMessage("FD_LAST_SEEN_NOW");break;case"03":a=this._getMessage("FD_LAST_SEEN_TODAY").replace("#TIME#",match[2]);break;case"04":a=this._getMessage("FD_LAST_SEEN_YESTERDAY").replace("#TIME#",match[2]);break;case"05":a=this._getMessage("FD_LAST_SEEN_MORE_YEAR");break;default:a=match[2];break}}return a},isAmPmMode:function(e){if(e===true){return this._getMessage("AMPM_MODE")}return this._getMessage("AMPM_MODE")!==false},_getMessage:function(e){return t.message(e)}};var r={isDate:function(e){return e&&Object.prototype.toString.call(e)=="[object Date]"},isNumber:function(e){return e===0?true:e?typeof e=="number"||e instanceof Number:false},isArray:function(e){return e&&Object.prototype.toString.call(e)=="[object Array]"},isString:function(e){return e===""?true:e?typeof e=="string"||e instanceof String:false},isNotEmptyString:function(e){return this.isString(e)?e.length>0:false},strPadLeft:function(e,t,r){var _=e.length,n=r.length;if(_>=t)return e;for(;_<t;_+=n)e=r+e;return e}}})(window);
//# sourceMappingURL=main.date.map.js