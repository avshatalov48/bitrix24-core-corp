(function(){BX.FixFontSize=function(t){var e,i,s;this.node=null;this.prevWindowSize=0;this.prevWrapperSize=0;this.mainWrapper=null;this.textWrapper=null;this.objList=t.objList;this.minFontSizeList=[];this.minFontSize=0;if(t.onresize){this.prevWindowSize=window.innerWidth||document.documentElement.clientWidth;BX.bind(window,"resize",BX.throttle(this.onResize,350,this))}if(t.onAdaptiveResize){e=this.objList[0].scaleBy||this.objList[0].node;i=getComputedStyle(e);this.prevWrapperSize=parseInt(i["width"])-parseInt(i["paddingLeft"])-parseInt(i["paddingRight"]);BX.bind(window,"resize",BX.throttle(this.onAdaptiveResize,350,this))}this.createTestNodes();this.decrease()};BX.FixFontSize.prototype={createTestNodes:function(){this.textWrapper=BX.create("div",{style:{display:"inline-block",whiteSpace:"nowrap"}});this.mainWrapper=BX.create("div",{style:{height:0,overflow:"hidden"},children:[this.textWrapper]})},insertTestNodes:function(){document.body.appendChild(this.mainWrapper)},removeTestNodes:function(){document.body.removeChild(this.mainWrapper)},decrease:function(){var t,e,i,s;this.insertTestNodes();for(var n=this.objList.length-1;n>=0;n--){i=this.objList[n].scaleBy||this.objList[n].node;s=getComputedStyle(i);t=parseInt(s["width"])-parseInt(s["paddingLeft"])-parseInt(s["paddingRight"]);e=parseInt(getComputedStyle(this.objList[n].node)["font-size"]);this.textWrapperSetStyle(this.objList[n].node);if(this.textWrapperInsertText(this.objList[n].node)){while(this.textWrapper.offsetWidth>t&&e>0){this.textWrapper.style.fontSize=--e+"px"}if(this.objList[n].smallestValue){this.minFontSize=this.minFontSize?Math.min(this.minFontSize,e):e;this.minFontSizeList.push(this.objList[n].node)}else{this.objList[n].node.style.fontSize=e+"px"}}}if(this.minFontSizeList.length>0)this.setMinFont();this.removeTestNodes()},increase:function(){this.insertTestNodes();var t,e,i,s;this.insertTestNodes();for(var n=this.objList.length-1;n>=0;n--){i=this.objList[n].scaleBy||this.objList[n].node;s=getComputedStyle(i);t=parseInt(s["width"])-parseInt(s["paddingLeft"])-parseInt(s["paddingRight"]);e=parseInt(getComputedStyle(this.objList[n].node)["font-size"]);this.textWrapperSetStyle(this.objList[n].node);if(this.textWrapperInsertText(this.objList[n].node)){while(this.textWrapper.offsetWidth<t&&e<this.objList[n].maxFontSize){this.textWrapper.style.fontSize=++e+"px"}e--;if(this.objList[n].smallestValue){this.minFontSize=this.minFontSize?Math.min(this.minFontSize,e):e;this.minFontSizeList.push(this.objList[n].node)}else{this.objList[n].node.style.fontSize=e+"px"}}}if(this.minFontSizeList.length>0)this.setMinFont();this.removeTestNodes()},setMinFont:function(){for(var t=this.minFontSizeList.length-1;t>=0;t--){this.minFontSizeList[t].style.fontSize=this.minFontSize+"px"}this.minFontSize=0},onResize:function(){var t=window.innerWidth||document.documentElement.clientWidth;if(this.prevWindowSize>t)this.decrease();else if(this.prevWindowSize<t)this.increase();this.prevWindowSize=t},onAdaptiveResize:function(){var t=this.objList[0].scaleBy||this.objList[0].node,e=getComputedStyle(t),i=parseInt(e["width"])-parseInt(e["paddingLeft"])-parseInt(e["paddingRight"]);if(this.prevWrapperSize>i)this.decrease();else if(this.prevWrapperSize<i)this.increase();this.prevWrapperSize=i},textWrapperInsertText:function(t){if(t.textContent){this.textWrapper.textContent=t.textContent;return true}else if(t.innerText){this.textWrapper.innerText=t.innerText;return true}else{return false}},textWrapperSetStyle:function(t){this.textWrapper.style.fontFamily=getComputedStyle(t)["font-family"];this.textWrapper.style.fontSize=getComputedStyle(t)["font-size"];this.textWrapper.style.fontStyle=getComputedStyle(t)["font-style"];this.textWrapper.style.fontWeight=getComputedStyle(t)["font-weight"];this.textWrapper.style.lineHeight=getComputedStyle(t)["line-height"]}};BX.FixFontSize.init=function(t){return new BX.FixFontSize(t)}})();
//# sourceMappingURL=fixfontsize.bundle.map.js