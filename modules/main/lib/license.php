<? namespace Bitrix\Main;$GLOBALS['____2008158173']= array(base64_decode('Zmls'.'ZV9le'.'GlzdHM='),base64_decode('c3RydG91cHBlcg='.'='),base64_decode('bWQ1'),base64_decode(''.'bWQ'.'1'),base64_decode('aW'.'5fYXJyYXk='),base64_decode('aW5fY'.'X'.'JyYXk'.'='),base64_decode('a'.'W5f'.'YXJy'.'YXk='),base64_decode('ZGV'.'maW5l'.'ZA=='),base64_decode('ZGVma'.'W5lZA'.'=='),base64_decode('ZGVmaW5l'.'ZA=='),base64_decode('Zm'.'lsZV9'.'leG'.'lzdHM'.'='),base64_decode('Z'.'mls'.'ZV9leGlzdHM='),base64_decode('ZmlsZV9l'.'eGlzdH'.'M='),base64_decode('ZmlsZV'.'9'.'leGlzdH'.'M'.'='),base64_decode(''.'ZX'.'hwbG9kZ'.'Q=='));if(!function_exists(__NAMESPACE__.'\\___2035217546')){function ___2035217546($_214143305){static $_350092751= false; if($_350092751 == false) $_350092751=array('L'.'2JpdH'.'Jpe'.'C9s'.'aWNl'.'bn'.'NlX2tleS5waHA=','','','REV'.'NTw==','REVNTw==','QklU'.'U'.'klY',''.'TE'.'lDRU5DRQ==','REVN'.'Tw==','L'.'2tleV91cG'.'Rh'.'dGUu'.'c'.'GhwP2xpY2Vuc2Vf'.'a2V5PQ==',''.'JnRvYmF'.'z'.'a2'.'V0PX'.'km'.'bGF'.'uZz0'.'=','c'.'nU'.'=',''.'a3o'.'=','Ynk=','aHR'.'0cHM6Ly9'.'kZ'.'XY'.'uMW'.'MtY'.'ml0cml4LnJ1L2xlYXJu'.'aW5'.'nL2NvdXJzZS9pbmRleC5waH'.'A/Q'.'09'.'VU'.'lNFX0lEPTEzNSZMR'.'V'.'NT'.'T05fSUQ'.'9'.'MjU3MjA'.'=',''.'aHR0'.'cHM'.'6L'.'y90cmFpbm'.'luZ'.'y5'.'i'.'aXR'.'yaXg'.'yNC5'.'jb'.'20'.'vc3VwcG9y'.'dC90cm'.'FpbmluZy9'.'jb3'.'Vyc2UvaW'.'5kZXguc'.'G'.'h'.'wP'.'0'.'N'.'P'.'VVJTR'.'V9JRD0x'.'Nzg'.'m'.'TEVTU09OX0lEPTI'.'1'.'OT'.'MyJk'.'xF'.'U1N'.'PT'.'l9'.'QQV'.'RIPT'.'E3'.'NTIwLj'.'E3'.'NT'.'Y'.'yL'.'jI1OT'.'M'.'wLj'.'I'.'1OTMy','c'.'nU'.'=',''.'Ynk=',''.'a3'.'o=','ZG'.'U=','ZX'.'U=','Zn'.'I'.'=',''.'cG'.'w=','aXQ=','dWs=','Z'.'XU=','Y2'.'9'.'t','ZW4=','REVNTw'.'==','WQ==','V'.'ElNR'.'UxJTUl'.'UX0VE'.'S'.'VRJT04=','W'.'Q==','RU'.'5'.'DT0RF',''.'W'.'Q'.'==','U2l0'.'ZU'.'V4cGl'.'yZURhdGU'.'=',''.'bWFpbg==',''.'fnN1c'.'HBvcn'.'R'.'f'.'Zml'.'u'.'a'.'X'.'NoX2Rhd'.'GU=','W'.'S1tLWQ=','WS1tL'.'W'.'Q=','Y'.'ml0cml'.'4MjQ=','bWF'.'pbg='.'=','f'.'lBB'.'U'.'kFNX0'.'NM'.'SUV'.'OV'.'F9M'.'QU5H','aW50cmFuZXQ=','ZW4=','cn'.'U=',''.'b'.'WFpb'.'g='.'=',''.'dmVuZG9y','dWFf'.'Yml0cml4X3BvcnRhbA='.'=','dWE=','Yml0cml4X3BvcnR'.'hb'.'A==','ZW'.'4'.'=','MWNfYml0cml4'.'X'.'3'.'Bvc'.'nRhbA==','cnU=','L2Jpd'.'HJ'.'peC9'.'tb2R1'.'bGV'.'z'.'L'.'21haW4vbGFuZy'.'91YQ==','dWE=','L'.'2'.'Jpd'.'HJpeC9t'.'b2R1b'.'GVz'.'L21haW4v'.'bGF'.'uZy9ieQ='.'=',''.'Y'.'n'.'k'.'=','L2Jpd'.'HJpe'.'C9tb2R'.'1'.'bGVzL'.'21ha'.'W'.'4vbGF'.'uZy'.'9re'.'g==','a3'.'o=','L2JpdH'.'J'.'p'.'e'.'C'.'9tb2R'.'1'.'bGV'.'z'.'L21haW4'.'vbG'.'FuZy9y'.'dQ==','cnU=','b'.'W'.'Fpbg'.'==','flB'.'BUk'.'FN'.'X1BBU'.'lRORVJf'.'SUQ=','bWFpbg'.'==',''.'UEFSQ'.'U1fTUFYX'.'1VTRVJT','bW'.'Fpbg==','fkNPVU'.'5UX'.'0'.'VYVFJ'.'B','Tg==','WQ==','ZXh0cmFuZXQ=','QU5'.'E'.'I'.'FUuTE'.'F'.'T'.'VF'.'9MT0'.'dJT'.'iA+IA'.'==','QU5E'.'I'.'FU'.'u'.'TEF'.'TVF9M'.'T0dJ'.'T'.'i'.'BJU'.'yBO'.'T1Qg'.'TlVM'.'TA==','aW5'.'0cmFuZX'.'Q=','bWFpbg==','fmxpY2Vuc2V'.'f'.'bmFtZ'.'Q==','b'.'W'.'Fpbg==',''.'fmxpY2V'.'uc2VfY'.'29kZXM=','','L'.'A'.'==');return base64_decode($_350092751[$_214143305]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_72767277= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_72767277 === null){ $_1191411727= Loader::getDocumentRoot(). ___2035217546(0); $LICENSE_KEY= ___2035217546(1); if($GLOBALS['____2008158173'][0]($_1191411727)){ include($_1191411727);} $this->_72767277=($LICENSE_KEY == ___2035217546(2) || $GLOBALS['____2008158173'][1]($LICENSE_KEY) == ___2035217546(3)? ___2035217546(4): $LICENSE_KEY);} return $this->_72767277;} public function getHashLicenseKey(): string{ return $GLOBALS['____2008158173'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____2008158173'][3](___2035217546(5). $this->getKey(). ___2035217546(6));} public function isDemoKey(): bool{ return $this->getKey() == ___2035217546(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___2035217546(8). $this->getHashLicenseKey(). ___2035217546(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_826723798= $this->getRegion(); if($GLOBALS['____2008158173'][4]($_826723798,[___2035217546(10), ___2035217546(11), ___2035217546(12)])){ return ___2035217546(13);} return ___2035217546(14);} public function getRenewalLink(): string{ $_826723798= $this->getRegion(); if($GLOBALS['____2008158173'][5]($_826723798,[___2035217546(15), ___2035217546(16), ___2035217546(17), ___2035217546(18)])){ return self::URL_RENEWAL_LICENSE[$_826723798];} if($GLOBALS['____2008158173'][6]($_826723798,[___2035217546(19), ___2035217546(20), ___2035217546(21), ___2035217546(22), ___2035217546(23)])){ return self::URL_RENEWAL_LICENSE[___2035217546(24)];} return self::URL_RENEWAL_LICENSE[___2035217546(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___2035217546(26)];} public function isDemo(): bool{ return $GLOBALS['____2008158173'][7](___2035217546(27)) && DEMO === ___2035217546(28);} public function isTimeBound(): bool{ return $GLOBALS['____2008158173'][8](___2035217546(29)) && TIMELIMIT_EDITION === ___2035217546(30);} public function isEncoded(): bool{ return $GLOBALS['____2008158173'][9](___2035217546(31)) && ENCODE === ___2035217546(32);} public function getExpireDate():?Date{ $_1254099480= (int)($GLOBALS[___2035217546(33)] ?? min(138,0,46)); if($_1254099480>(918-2*459)){ return Date::createFromTimestamp($_1254099480);} return null;} public function getSupportExpireDate():?Date{ $_1254099480= Option::get(___2035217546(34), ___2035217546(35)); if(Date::isCorrect($_1254099480, ___2035217546(36))){ return new Date($_1254099480, ___2035217546(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___2035217546(38))){ return \CBitrix24::getPortalZone();} $_826723798= Option::get(___2035217546(39), ___2035217546(40)); if(!empty($_826723798)){ return $_826723798;} $_826723798= $this->__1391903663(); if(!empty($_826723798)){ return $_826723798;} return $this->__1570566736();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___2035217546(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___2035217546(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___2035217546(43)];} private function __1391903663():?string{ $_1951678052= Option::get(___2035217546(44), ___2035217546(45)); if($_1951678052 === ___2035217546(46)){ return ___2035217546(47);} if($_1951678052 === ___2035217546(48)){ return ___2035217546(49);} if($_1951678052 === ___2035217546(50)){ return ___2035217546(51);} return null;} private function __1570566736():?string{ $_23670798= Application::getDocumentRoot(); if($GLOBALS['____2008158173'][10]($_23670798. ___2035217546(52))){ return ___2035217546(53);} if($GLOBALS['____2008158173'][11]($_23670798. ___2035217546(54))){ return ___2035217546(55);} if($GLOBALS['____2008158173'][12]($_23670798. ___2035217546(56))){ return ___2035217546(57);} if($GLOBALS['____2008158173'][13]($_23670798. ___2035217546(58))){ return ___2035217546(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___2035217546(60), ___2035217546(61),(1008/2-504));} public function getMaxUsers(): int{ return (int)Option::get(___2035217546(62), ___2035217546(63),(998-2*499));} public function isExtraCountable(): bool{ return Option::get(___2035217546(64), ___2035217546(65), ___2035217546(66)) === ___2035217546(67) && ModuleManager::isModuleInstalled(___2035217546(68));} public function getActiveUsersCount(Date $_1517011595= null): int{ $_400412552= Application::getConnection(); $_1635436381=(784-2*392); if($_1517011595 !== null){  $_1848536685= ___2035217546(69).$_400412552->getSqlHelper()->convertToDbDate($_1517011595);} else{  $_1848536685= ___2035217546(70);} if(ModuleManager::isModuleInstalled(___2035217546(71))){ $_274483222="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1848536685}
			"; $_1635436381= (int)$_400412552->queryScalar($_274483222); if($this->isExtraCountable()){ $_274483222="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1848536685}
							AND D.VALUE_ID IS NULL
					"; $_1635436381 += (int)$_400412552->queryScalar($_274483222);}} return $_1635436381;}  public function getName(): string{ return Option::get(___2035217546(72), ___2035217546(73));}  public function getCodes(): array{ $_790727375= Option::get(___2035217546(74), ___2035217546(75)); if($_790727375 != ___2035217546(76)){ return $GLOBALS['____2008158173'][14](___2035217546(77), $_790727375);} return[];}}?>