<? namespace Bitrix\Main;$GLOBALS['____1589306904']= array(base64_decode('ZmlsZV'.'9le'.'Glzd'.'HM'.'='),base64_decode('c3RydG91cHBlcg=='),base64_decode('bWQ'.'1'),base64_decode('bWQ1'),base64_decode('a'.'W'.'5fYXJ'.'yYXk='),base64_decode(''.'aW5f'.'YX'.'J'.'yYXk='),base64_decode('aW5fYXJyY'.'Xk='),base64_decode('ZG'.'Vma'.'W'.'5lZ'.'A=='),base64_decode('ZGV'.'ma'.'W5lZA='.'='),base64_decode('ZGVma'.'W5lZA=='),base64_decode('ZmlsZV9leGlzdH'.'M'.'='),base64_decode('Zmls'.'ZV9leGlzdHM='),base64_decode(''.'ZmlsZ'.'V9leG'.'lzdHM='),base64_decode('Z'.'mlsZV9leGlzdH'.'M'.'='),base64_decode('ZXhwbG9k'.'Z'.'Q='.'='));if(!function_exists(__NAMESPACE__.'\\___817491898')){function ___817491898($_1757025750){static $_1434838640= false; if($_1434838640 == false) $_1434838640=array(''.'L2JpdH'.'JpeC9saWNlbn'.'Nl'.'X2tleS'.'5'.'waHA=','','','REVN'.'Tw='.'=',''.'R'.'EVNTw==',''.'Q'.'klUUk'.'lY',''.'TE'.'lDRU5D'.'RQ==','REVNTw==',''.'L'.'2t'.'leV9'.'1cGR'.'hdGUuc'.'Gh'.'w'.'P2'.'xpY2Vuc2Vfa'.'2V5PQ'.'==','J'.'nR'.'v'.'YmFza2V0PXkmb'.'GF'.'uZz0=','cnU=','a3o=','Yn'.'k=','aHR0cH'.'M6Ly'.'9'.'kZXYu'.'MWMtYm'.'l0cml4L'.'nJ'.'1'.'L2x'.'lYX'.'Jua'.'W5nL2Nv'.'d'.'X'.'JzZS'.'9pbm'.'Rle'.'C5waHA/Q09VUlN'.'FX0lE'.'PTEzNS'.'ZM'.'RVNTT05fSU'.'Q9MjU3Mj'.'A=',''.'aHR0cHM6'.'Ly90'.'cmFpbm'.'luZy'.'5'.'i'.'aXRyaXgyNC5j'.'b20vc3VwcG9ydC90cmFp'.'bm'.'luZ'.'y'.'9jb3'.'V'.'yc2UvaW5'.'kZXgu'.'cGhwP0N'.'P'.'VV'.'JTRV9JRD0xNzgm'.'TE'.'VTU09OX'.'0'.'l'.'E'.'PTI1O'.'T'.'My'.'J'.'k'.'x'.'FU1NPTl'.'9QQV'.'RIPT'.'E3NTIwLjE3NTYyLj'.'I'.'1O'.'TMwL'.'jI1OT'.'My','cn'.'U=','Y'.'nk=','a3o=','ZGU=',''.'ZXU=',''.'Z'.'nI'.'=','c'.'Gw'.'=','aX'.'Q=','dWs=','Z'.'XU=','Y29t','ZW4'.'=','REVNTw==',''.'WQ='.'=',''.'VElN'.'RUxJTU'.'lUX'.'0VESVRJT04=','WQ'.'==','RU5DT0'.'R'.'F','WQ==','U'.'2'.'l'.'0'.'ZUV4cGlyZURhdGU=','b'.'WF'.'pbg'.'==','fn'.'N'.'1c'.'HBvcnRfZml'.'u'.'aXN'.'oX2RhdGU=','W'.'S1tLWQ'.'=',''.'W'.'S'.'1tLW'.'Q'.'=','Y'.'ml0cml4'.'M'.'jQ=','bWF'.'pbg==','flB'.'B'.'UkF'.'NX'.'0NMSUVOVF'.'9MQU5H','aW50cmFuZXQ=','ZW4=','cnU=','bWFp'.'bg'.'='.'=','dm'.'VuZG9y','d'.'WFfY'.'m'.'l0cml4'.'X3B'.'vcn'.'R'.'hbA'.'==','dWE=','Yml0cml4X3B'.'vcnRhb'.'A==',''.'ZW4=','MWN'.'fYml0cml4X3BvcnRhbA==','cnU=','L2J'.'pdH'.'JpeC9tb'.'2'.'R1bGV'.'zL21haW4vbGFuZy91YQ==','dWE=','L2JpdH'.'JpeC9'.'tb2R1b'.'G'.'VzL'.'2'.'1ha'.'W4'.'vbGF'.'uZ'.'y9'.'ieQ='.'=',''.'Yn'.'k=',''.'L'.'2JpdHJp'.'eC9tb2R1bGVzL21haW4v'.'b'.'GF'.'uZy'.'9'.'reg==',''.'a3'.'o'.'=','L2JpdHJpeC9tb2'.'R1b'.'GVzL21haW4vbGFuZy9yd'.'Q==','c'.'nU'.'=',''.'bWFpbg==','flBBUkF'.'NX1BBUlRORVJ'.'fSUQ=','bWFpb'.'g==','U'.'EFSQU1'.'f'.'T'.'U'.'FYX1VTRVJ'.'T','bW'.'Fpbg==',''.'f'.'kN'.'PVU5UX0VYVFJB','Tg='.'=','WQ==','ZX'.'h0cm'.'FuZ'.'X'.'Q'.'=',''.'QU5EIFUuTEFTVF9M'.'T'.'0dJ'.'TiA+I'.'A='.'=','QU5EIFUuT'.'EFTVF9MT0dJTi'.'B'.'JUy'.'BOT1Q'.'gTlV'.'MT'.'A==','aW50cm'.'FuZXQ=','ZXh0cmFuZXQ=','Z'.'Xh0c'.'mFuZXRfZ3JvdXA=',''.'bWFpbg'.'==','fm'.'xpY2'.'V'.'uc'.'2Vfb'.'mFtZQ='.'=','bWFpbg='.'=','fmxpY2Vuc'.'2VfY29kZXM=','','L'.'A==');return base64_decode($_1434838640[$_1757025750]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1010989275= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1010989275 === null){ $_241267956= Loader::getDocumentRoot(). ___817491898(0); $LICENSE_KEY= ___817491898(1); if($GLOBALS['____1589306904'][0]($_241267956)){ include($_241267956);} $this->_1010989275=($LICENSE_KEY == ___817491898(2) || $GLOBALS['____1589306904'][1]($LICENSE_KEY) == ___817491898(3)? ___817491898(4): $LICENSE_KEY);} return $this->_1010989275;} public function getHashLicenseKey(): string{ return $GLOBALS['____1589306904'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1589306904'][3](___817491898(5). $this->getKey(). ___817491898(6));} public function isDemoKey(): bool{ return $this->getKey() == ___817491898(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___817491898(8). $this->getHashLicenseKey(). ___817491898(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1840199904= $this->getRegion(); if($GLOBALS['____1589306904'][4]($_1840199904,[___817491898(10), ___817491898(11), ___817491898(12)])){ return ___817491898(13);} return ___817491898(14);} public function getRenewalLink(): string{ $_1840199904= $this->getRegion(); if($GLOBALS['____1589306904'][5]($_1840199904,[___817491898(15), ___817491898(16), ___817491898(17), ___817491898(18)])){ return self::URL_RENEWAL_LICENSE[$_1840199904];} if($GLOBALS['____1589306904'][6]($_1840199904,[___817491898(19), ___817491898(20), ___817491898(21), ___817491898(22), ___817491898(23)])){ return self::URL_RENEWAL_LICENSE[___817491898(24)];} return self::URL_RENEWAL_LICENSE[___817491898(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___817491898(26)];} public function isDemo(): bool{ return $GLOBALS['____1589306904'][7](___817491898(27)) && DEMO === ___817491898(28);} public function isTimeBound(): bool{ return $GLOBALS['____1589306904'][8](___817491898(29)) && TIMELIMIT_EDITION === ___817491898(30);} public function isEncoded(): bool{ return $GLOBALS['____1589306904'][9](___817491898(31)) && ENCODE === ___817491898(32);} public function getExpireDate():?Date{ $_1103318184= (int)($GLOBALS[___817491898(33)] ?? min(248,0,82.666666666667)); if($_1103318184> min(90,0,30)){ return Date::createFromTimestamp($_1103318184);} return null;} public function getSupportExpireDate():?Date{ $_1103318184= Option::get(___817491898(34), ___817491898(35)); if(Date::isCorrect($_1103318184, ___817491898(36))){ return new Date($_1103318184, ___817491898(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___817491898(38))){ return \CBitrix24::getPortalZone();} $_1840199904= Option::get(___817491898(39), ___817491898(40)); if(!empty($_1840199904)){ return $_1840199904;} $_1840199904= $this->__532897783(); if(!empty($_1840199904)){ return $_1840199904;} return $this->__2092008919();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___817491898(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___817491898(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___817491898(43)];} private function __532897783():?string{ $_1810713102= Option::get(___817491898(44), ___817491898(45)); if($_1810713102 === ___817491898(46)){ return ___817491898(47);} if($_1810713102 === ___817491898(48)){ return ___817491898(49);} if($_1810713102 === ___817491898(50)){ return ___817491898(51);} return null;} private function __2092008919():?string{ $_500864953= Application::getDocumentRoot(); if($GLOBALS['____1589306904'][10]($_500864953. ___817491898(52))){ return ___817491898(53);} if($GLOBALS['____1589306904'][11]($_500864953. ___817491898(54))){ return ___817491898(55);} if($GLOBALS['____1589306904'][12]($_500864953. ___817491898(56))){ return ___817491898(57);} if($GLOBALS['____1589306904'][13]($_500864953. ___817491898(58))){ return ___817491898(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___817491898(60), ___817491898(61),(864-2*432));} public function getMaxUsers(): int{ return (int)Option::get(___817491898(62), ___817491898(63),(145*2-290));} public function isExtraCountable(): bool{ return Option::get(___817491898(64), ___817491898(65), ___817491898(66)) === ___817491898(67) && ModuleManager::isModuleInstalled(___817491898(68));} public function getActiveUsersCount(Date $_440366162= null): int{ $_846543766= Application::getConnection(); $_370096634=(914-2*457); if($_440366162 !== null){  $_1151187051= ___817491898(69).$_846543766->getSqlHelper()->convertToDbDate($_440366162);} else{  $_1151187051= ___817491898(70);} if(ModuleManager::isModuleInstalled(___817491898(71))){ $_613028953="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1151187051}
			"; $_370096634= (int)$_846543766->queryScalar($_613028953); $_1233000782= (int)Option::get(___817491898(72), ___817491898(73)); if($_1233000782>(237*2-474) && $this->isExtraCountable()){ $_613028953="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1233000782}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1151187051}
							AND D.VALUE_ID IS NULL
					"; $_370096634 += (int)$_846543766->queryScalar($_613028953);}} return $_370096634;}  public function getName(): string{ return Option::get(___817491898(74), ___817491898(75));}  public function getCodes(): array{ $_324544606= Option::get(___817491898(76), ___817491898(77)); if($_324544606 != ___817491898(78)){ return $GLOBALS['____1589306904'][14](___817491898(79), $_324544606);} return[];}}?>