<? namespace Bitrix\Main;$GLOBALS['____1603027229']= array(base64_decode(''.'ZmlsZV9'.'leG'.'lz'.'dHM'.'='),base64_decode('c3Ry'.'dG9'.'1cHBlc'.'g'.'=='),base64_decode(''.'bW'.'Q1'),base64_decode('bWQ1'),base64_decode('aW5fYXJyYXk='),base64_decode('aW5'.'f'.'Y'.'XJy'.'Y'.'Xk='),base64_decode('aW5fYX'.'JyYX'.'k='),base64_decode('ZGVm'.'aW5lZ'.'A=='),base64_decode(''.'ZG'.'V'.'m'.'a'.'W'.'5l'.'ZA=='),base64_decode('ZGV'.'maW'.'5l'.'ZA=='),base64_decode('Z'.'ml'.'s'.'ZV9leGlzd'.'H'.'M='),base64_decode('Z'.'m'.'l'.'s'.'Z'.'V9leGlzdH'.'M'.'='),base64_decode('Zml'.'sZV9l'.'eGlz'.'dHM='),base64_decode('Z'.'m'.'lsZV'.'9'.'leG'.'lzdH'.'M='),base64_decode('ZX'.'hw'.'bG9'.'k'.'ZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___842915173')){function ___842915173($_1390807993){static $_444207093= false; if($_444207093 == false) $_444207093=array('L2JpdH'.'JpeC9saW'.'NlbnNlX'.'2t'.'leS'.'5waHA=','','','R'.'EV'.'N'.'Tw==','REVNTw==',''.'QklU'.'UklY','TElDRU'.'5DRQ==','R'.'EVNTw==','L'.'2tle'.'V91cGR'.'h'.'dGU'.'ucGhw'.'P2xpY'.'2Vu'.'c'.'2V'.'fa'.'2V'.'5P'.'Q==','JnRvYmF'.'z'.'a2V0PXkmbGFuZz0=','cnU'.'=','a3'.'o=',''.'Y'.'nk=',''.'a'.'HR0cHM6'.'Ly9kZXY'.'uMWMt'.'Yml0c'.'ml4'.'LnJ1'.'L2xlYXJ'.'u'.'aW5nL2'.'Nvd'.'X'.'JzZS9pbmRleC5w'.'aHA/Q09VUlNFX'.'0lEPT'.'EzNSZMRVNTT05f'.'S'.'U'.'Q'.'9'.'MjU3M'.'jA=','aHR0c'.'HM6Ly90'.'cmF'.'pbmluZy5iaXRyaXg'.'yNC5j'.'b20'.'v'.'c3V'.'wcG'.'9yd'.'C9'.'0cmFpbm'.'luZ'.'y9jb3'.'Vy'.'c'.'2Uv'.'aW5k'.'ZXgucGh'.'wP'.'0NPV'.'VJTRV9JRD0xNzgmT'.'EVTU'.'09OX0l'.'EPTI1'.'OT'.'MyJkxFU'.'1N'.'PTl9QQV'.'RIP'.'T'.'E3N'.'TIwLjE3NTYy'.'LjI1'.'OTMw'.'LjI1O'.'TMy','cnU=','Ynk'.'=',''.'a'.'3o=','ZGU=','ZXU'.'=','ZnI'.'=','cGw'.'=','aXQ=','dW'.'s=',''.'ZXU=','Y29t','ZW4=','REV'.'NTw'.'==','WQ==','VEl'.'NRUxJT'.'UlUX0VESVR'.'J'.'T04=','WQ==',''.'RU5DT'.'0R'.'F','WQ==','U2l'.'0'.'ZUV4cGlyZURhdGU=','bWFpbg==','f'.'nN1cHBvcn'.'RfZ'.'ml'.'uaXNoX2RhdGU=','WS1tLWQ=','WS'.'1'.'tLW'.'Q=','Yml'.'0'.'cml4MjQ=','bW'.'F'.'pbg==','flBBU'.'kFN'.'X0'.'NMSUVOVF'.'9MQ'.'U5H',''.'aW'.'5'.'0cm'.'Fu'.'ZXQ=','ZW'.'4=','c'.'n'.'U'.'=',''.'bWF'.'pbg==','d'.'mVuZG9y','d'.'WFfYml0'.'cml4X3Bv'.'cnRhbA==',''.'d'.'WE=',''.'Yml0cml'.'4X3Bvc'.'nRhbA'.'='.'=',''.'ZW4=','M'.'W'.'NfYml0cml4X3'.'Bvc'.'nR'.'hbA==','c'.'n'.'U'.'=','L2JpdH'.'Jpe'.'C'.'9tb2R1bGV'.'zL21haW4vbGFuZy91'.'YQ==','dWE=','L2JpdHJpe'.'C9tb2R'.'1b'.'GV'.'zL21haW4vbGFuZ'.'y9ieQ==','Y'.'n'.'k=','L2J'.'pdHJpeC9tb2R1bGVzL21'.'h'.'aW4v'.'bGFuZy9re'.'g==','a3o=','L2J'.'p'.'dH'.'JpeC'.'9tb2R1bGVzL'.'21haW'.'4vbGFuZy'.'9'.'ydQ==','cnU=',''.'bWFpbg==',''.'fl'.'B'.'B'.'U'.'kFN'.'X1BBUlRORVJ'.'fSU'.'Q=','bW'.'Fpbg==','UE'.'FSQU1fTUFYX'.'1VTR'.'VJT',''.'bWF'.'p'.'b'.'g==','fkNP'.'VU5UX0'.'V'.'YVFJB','Tg'.'==',''.'WQ'.'==','ZXh0c'.'m'.'FuZXQ'.'=','QU'.'5EIFUuTEF'.'TVF9MT0d'.'JTiA'.'+IA==','Q'.'U5'.'EI'.'FUuT'.'EF'.'T'.'V'.'F9MT0dJTi'.'BJU'.'y'.'BOT1QgTlVM'.'T'.'A==','aW'.'50cmFuZ'.'XQ=','Z'.'X'.'h0cmF'.'u'.'ZXQ'.'=','ZXh0'.'cm'.'Fu'.'ZXRfZ3Jvd'.'XA'.'=','bW'.'F'.'pbg='.'=','fmxpY2Vuc2VfbmFt'.'ZQ'.'='.'=','bWFpbg'.'==','f'.'mxpY'.'2Vu'.'c2VfY29k'.'ZX'.'M=','',''.'L'.'A'.'='.'=');return base64_decode($_444207093[$_1390807993]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1228405580= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1228405580 === null){ $_41484438= Loader::getDocumentRoot(). ___842915173(0); $LICENSE_KEY= ___842915173(1); if($GLOBALS['____1603027229'][0]($_41484438)){ include($_41484438);} $this->_1228405580=($LICENSE_KEY == ___842915173(2) || $GLOBALS['____1603027229'][1]($LICENSE_KEY) == ___842915173(3)? ___842915173(4): $LICENSE_KEY);} return $this->_1228405580;} public function getHashLicenseKey(): string{ return $GLOBALS['____1603027229'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1603027229'][3](___842915173(5). $this->getKey(). ___842915173(6));} public function isDemoKey(): bool{ return $this->getKey() == ___842915173(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___842915173(8). $this->getHashLicenseKey(). ___842915173(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_580971645= $this->getRegion(); if($GLOBALS['____1603027229'][4]($_580971645,[___842915173(10), ___842915173(11), ___842915173(12)])){ return ___842915173(13);} return ___842915173(14);} public function getRenewalLink(): string{ $_580971645= $this->getRegion(); if($GLOBALS['____1603027229'][5]($_580971645,[___842915173(15), ___842915173(16), ___842915173(17), ___842915173(18)])){ return self::URL_RENEWAL_LICENSE[$_580971645];} if($GLOBALS['____1603027229'][6]($_580971645,[___842915173(19), ___842915173(20), ___842915173(21), ___842915173(22), ___842915173(23)])){ return self::URL_RENEWAL_LICENSE[___842915173(24)];} return self::URL_RENEWAL_LICENSE[___842915173(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___842915173(26)];} public function isDemo(): bool{ return $GLOBALS['____1603027229'][7](___842915173(27)) && DEMO === ___842915173(28);} public function isTimeBound(): bool{ return $GLOBALS['____1603027229'][8](___842915173(29)) && TIMELIMIT_EDITION === ___842915173(30);} public function isEncoded(): bool{ return $GLOBALS['____1603027229'][9](___842915173(31)) && ENCODE === ___842915173(32);} public function getExpireDate():?Date{ $_721197282= (int)($GLOBALS[___842915173(33)] ??(1476/2-738)); if($_721197282>(932-2*466)){ return Date::createFromTimestamp($_721197282);} return null;} public function getSupportExpireDate():?Date{ $_721197282= Option::get(___842915173(34), ___842915173(35)); if(Date::isCorrect($_721197282, ___842915173(36))){ return new Date($_721197282, ___842915173(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___842915173(38))){ return \CBitrix24::getPortalZone();} $_580971645= Option::get(___842915173(39), ___842915173(40)); if(!empty($_580971645)){ return $_580971645;} $_580971645= $this->__1527006325(); if(!empty($_580971645)){ return $_580971645;} return $this->__736270253();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___842915173(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___842915173(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___842915173(43)];} private function __1527006325():?string{ $_1489769768= Option::get(___842915173(44), ___842915173(45)); if($_1489769768 === ___842915173(46)){ return ___842915173(47);} if($_1489769768 === ___842915173(48)){ return ___842915173(49);} if($_1489769768 === ___842915173(50)){ return ___842915173(51);} return null;} private function __736270253():?string{ $_89736596= Application::getDocumentRoot(); if($GLOBALS['____1603027229'][10]($_89736596. ___842915173(52))){ return ___842915173(53);} if($GLOBALS['____1603027229'][11]($_89736596. ___842915173(54))){ return ___842915173(55);} if($GLOBALS['____1603027229'][12]($_89736596. ___842915173(56))){ return ___842915173(57);} if($GLOBALS['____1603027229'][13]($_89736596. ___842915173(58))){ return ___842915173(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___842915173(60), ___842915173(61), min(156,0,52));} public function getMaxUsers(): int{ return (int)Option::get(___842915173(62), ___842915173(63),(249*2-498));} public function isExtraCountable(): bool{ return Option::get(___842915173(64), ___842915173(65), ___842915173(66)) === ___842915173(67) && ModuleManager::isModuleInstalled(___842915173(68));} public function getActiveUsersCount(Date $_1144848892= null): int{ $_874318819= Application::getConnection(); $_1009622736= min(62,0,20.666666666667); if($_1144848892 !== null){  $_1751164371= ___842915173(69).$_874318819->getSqlHelper()->convertToDbDate($_1144848892);} else{  $_1751164371= ___842915173(70);} if(ModuleManager::isModuleInstalled(___842915173(71))){ $_516017376="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1751164371}
			"; $_1009622736= (int)$_874318819->queryScalar($_516017376); $_615613520= (int)Option::get(___842915173(72), ___842915173(73)); if($_615613520> min(188,0,62.666666666667) && $this->isExtraCountable()){ $_516017376="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_615613520}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1751164371}
							AND D.VALUE_ID IS NULL
					"; $_1009622736 += (int)$_874318819->queryScalar($_516017376);}} return $_1009622736;}  public function getName(): string{ return Option::get(___842915173(74), ___842915173(75));}  public function getCodes(): array{ $_2137284654= Option::get(___842915173(76), ___842915173(77)); if($_2137284654 != ___842915173(78)){ return $GLOBALS['____1603027229'][14](___842915173(79), $_2137284654);} return[];}}?>