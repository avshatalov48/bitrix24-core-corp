this.BX=this.BX||{};(function(e,r,t){"use strict";var a=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"isErrorOccurred",value:function e(a){if(a.status==="error"){if(r.Type.isArray(a.errors)){a.errors.map((function(e){if(e.code==="invalid_csrf"&&a.data.sessid){r.Loc.setMessage("bitrix_sessid",a.data.sessid)}t.Error.getInstance().addError(e)}))}return true}return false}},{key:"controller",value:function t(a){var s=this;a.getData=a.getData||{};a.postData=a.postData||{};var i=a.command,n=a.postData,o=a.getData;return new Promise((function(t,c){n.sessid=r.Loc.getMessage("bitrix_sessid");o.action=(a.module||"sign")+".api."+i;var u=n instanceof FormData?n:r.Http.Data.convertObjectToFormData(n);var l=r.ajax({method:"POST",dataType:"json",timeout:a.timeout||60,url:new r.Uri(e.controllerUri).setQueryParams(o).toString(),data:u,start:false,preparePost:false,onsuccess:function e(r){if(s.isErrorOccurred(r)){c(r);return}t(r.data)},onfailure:function e(r){c(r)}});l.send(u)}))}}]);return e}();babelHelpers.defineProperty(a,"controllerUri","/bitrix/services/main/ajax.php");e.Backend=a})(this.BX.Sign=this.BX.Sign||{},BX,BX.Sign);
//# sourceMappingURL=index.bundle.map.js