this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};this.BX.Sign.V2=this.BX.Sign.V2||{};(function(e,t,s,i,o){"use strict";var a=babelHelpers.classPrivateFieldLooseKey("api");var n=babelHelpers.classPrivateFieldLooseKey("changeVisibility");class l{constructor(){Object.defineProperty(this,n,{value:c});Object.defineProperty(this,a,{writable:true,value:new t.Api})}async deleteTemplate(e){const t=document.createElement("div");t.innerHTML=s.Loc.getMessage("SIGN_TEMPLATE_DELETE_CONFIRMATION_MESSAGE");s.Dom.style(t,"margin-top","5%");s.Dom.style(t,"color","#535C69");i.MessageBox.show({title:s.Loc.getMessage("SIGN_TEMPLATE_DELETE_CONFIRMATION_TITLE"),message:t.outerHTML,modal:true,buttons:[new BX.UI.Button({text:s.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_POPUP_YES"),color:BX.UI.Button.Color.PRIMARY,onclick:async t=>{try{const t=babelHelpers.classPrivateFieldLooseBase(this,a)[a];await t.deleteTemplate(e);window.top.BX.UI.Notification.Center.notify({content:s.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_HINT_SUCCESS")})}catch{window.top.BX.UI.Notification.Center.notify({content:s.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_HINT_FAIL")})}await this.reload();t.getContext().close()}}),new BX.UI.Button({text:s.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_POPUP_NO"),color:BX.UI.Button.Color.LINK,onclick:e=>{e.getContext().close()}})]})}async renderSwitcher(e,t,i,a){const l=document.getElementById(`switcher_b2e_template_grid_${e}`);const c=new o.Switcher({node:l,checked:t,size:o.SwitcherSize.medium,disabled:i,handlers:{toggled:async()=>{c.setLoading(true);const t=c.isChecked()?"visible":"invisible";try{await babelHelpers.classPrivateFieldLooseBase(this,n)[n](e,t)}catch{c.setLoading(false);c.check(!c.isChecked(),false)}finally{c.setLoading(false)}}}});if(!i){return}const r=a?s.Loc.getMessage("SIGN_TEMPLATE_BLOCKED_SWITCHER_HINT"):s.Loc.getMessage("SIGN_TEMPLATE_BLOCKED_SWITCHER_HINT_NO_ACCESS");l.setAttribute("title",r)}reload(){s.Event.ready((()=>{var e;const t=(e=BX.Main.gridManager.getById("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_GRID"))==null?void 0:e.instance;if(s.Type.isObject(t)){t.reload()}}))}reloadAfterSliderClose(e){BX.Event.EventEmitter.subscribe("SidePanel.Slider:onCloseComplete",(async t=>{const i="/sign/b2e/doc/0/";const o=t.getData()[0].getSlider().getUrl();const a=new s.Uri(o);const n=a.getPath();if(o===e||n.startsWith(i)||o==="sign-settings-template-created"){await this.reload()}}))}}function c(e,t){const s=babelHelpers.classPrivateFieldLooseBase(this,a)[a];return s.changeTemplateVisibility(e,t)}e.TemplateGrid=l})(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX.Sign.V2,BX,BX.UI.Dialogs,BX.UI);
//# sourceMappingURL=index.bundle.map.js