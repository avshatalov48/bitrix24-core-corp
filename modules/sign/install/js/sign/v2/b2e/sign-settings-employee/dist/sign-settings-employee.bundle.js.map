{"version":3,"file":"sign-settings-employee.bundle.js","sources":["../src/images/no-templates-state-image.svg","../src/index.js"],"sourcesContent":["export default \"/bitrix/js/sign/v2/b2e/sign-settings-employee/dist/images/no-templates-state-image.svg\"","import { Dom, Loc, Tag, Type } from 'main.core';\nimport { MemoryCache } from 'main.core.cache';\nimport { type AnalyticsOptions, Analytics } from 'sign.v2.analytics';\nimport type { Template, TemplateField } from 'sign.v2.api';\nimport { StartProcess } from 'sign.v2.b2e.start-process';\nimport { DocumentSendedSuccessFullyEvent, SubmitDocumentInfo } from 'sign.v2.b2e.submit-document-info';\nimport { Helpdesk, SignSettingsItemCounter } from 'sign.v2.helper';\nimport { type Metadata, Wizard } from 'ui.wizard';\nimport { Loader } from 'main.loader';\nimport { EventEmitter } from 'main.core.events';\n\nimport noTemplatesStateImage from './images/no-templates-state-image.svg';\nimport './style.css';\nimport './../../sign-settings/src/style.css';\nimport './../../../sign-settings/src/style.css';\n\ntype StepsContext = {\n\tselectedTemplateUid?: string;\n\ttemplatesList?: Template[];\n\tfields?: TemplateField[];\n}\n\nconst emptyStateHelpdeskCode = '23174934';\n\nexport class B2EEmployeeSignSettings\n{\n\t#cache: MemoryCache<any> = new MemoryCache();\n\t#containerId: string;\n\t#wizard: Wizard;\n\t#startProcess: StartProcess;\n\t#stepsContext: StepsContext = {};\n\t#analytics: Analytics;\n\n\tconstructor(containerId: string = '', analyticsContext: Partial<AnalyticsOptions> = {})\n\t{\n\t\tthis.#containerId = containerId;\n\t\tconst currentSlider = BX.SidePanel.Instance.getTopSlider();\n\t\tthis.#startProcess = new StartProcess();\n\t\tthis.#wizard = new Wizard(this.#getStepsMetadata(this), {\n\t\t\tback: { className: 'ui-btn-light-border' },\n\t\t\tnext: { className: 'ui-btn-success' },\n\t\t\tcomplete: {\n\t\t\t\tclassName: 'ui-btn-success',\n\t\t\t\ttitle: Loc.getMessage('SIGN_SETTINGS_EMPLOYEE_COMPLETE_TITLE'),\n\t\t\t\tonComplete: () => currentSlider?.close(),\n\t\t\t},\n\t\t\tswapButtons: true,\n\t\t});\n\t\tthis.#analytics = new Analytics({ contextOptions: analyticsContext });\n\t\tthis.#subscribeOnEvents();\n\t}\n\n\t#createHead(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('headLayout', () => {\n\t\t\tconst { root, titleHelp } = Tag.render`\n\t\t\t\t<div class=\"sign-settings__head\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p class=\"sign-settings__head_title\">\n\t\t\t\t\t\t\t${Loc.getMessage('SIGN_SETTINGS_EMPLOYEE_TITLE')}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class=\"sign-settings__head_title --sub\">\n\t\t\t\t\t\t\t<span>${Loc.getMessage('SIGN_SETTINGS_EMPLOYEE_TITLE_SUB')}</span>\n\t\t\t\t\t\t\t<a ref=\"titleHelp\" class=\"sign-settings__head_title-help\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SIGN_SETTINGS_EMPLOYEE_TITLE_SUB_HELP')}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tHelpdesk.bindHandler(titleHelp, '23052076');\n\n\t\t\treturn root;\n\t\t});\n\t}\n\n\t#getStartProcessStep(signSettings: B2EEmployeeSignSettings): Metadata[string]\n\t{\n\t\tconst startProcess = signSettings.#startProcess;\n\n\t\treturn {\n\t\t\tget content(): HTMLElement\n\t\t\t{\n\t\t\t\tif (Type.isUndefined(signSettings.#stepsContext.selectedTemplateUid))\n\t\t\t\t{\n\t\t\t\t\tsignSettings.#wizard.toggleBtnActiveState('next', true);\n\t\t\t\t\tif (Type.isStringFilled(startProcess.getSelectedTemplateUid()))\n\t\t\t\t\t{\n\t\t\t\t\t\tsignSettings.#wizard.toggleBtnActiveState('next', false);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tstartProcess.subscribe(\n\t\t\t\t\t\t\tstartProcess.events.onProcessTypeSelect,\n\t\t\t\t\t\t\t() => signSettings.#wizard.toggleBtnActiveState('next', false),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst layout = startProcess.getLayout();\n\t\t\t\tSignSettingsItemCounter.numerate(layout);\n\t\t\t\tsignSettings.#disableNoStepMode();\n\n\t\t\t\treturn layout;\n\t\t\t},\n\t\t\ttitle: Loc.getMessage('SIGN_SETTINGS_EMPLOYEE_START_PROCESS'),\n\t\t\tbeforeCompletion: async () => {\n\t\t\t\tthis.#stepsContext.selectedTemplateUid = startProcess.getSelectedTemplateUid();\n\t\t\t\tthis.#stepsContext.templatesList = await startProcess.getTemplates();\n\t\t\t\tthis.#stepsContext.fields = (await startProcess.getFields(this.#stepsContext.selectedTemplateUid))\n\t\t\t\t\t.fields\n\t\t\t\t;\n\t\t\t},\n\t\t};\n\t}\n\n\t#getSubmitDocumentInfoStep(signSettings: B2EEmployeeSignSettings): Metadata[string]\n\t{\n\t\tlet submitDocumentInfo: SubmitDocumentInfo = null;\n\n\t\treturn {\n\t\t\tget content(): HTMLElement\n\t\t\t{\n\t\t\t\tconst currentTemplateSelected: Template = signSettings.#stepsContext.templatesList\n\t\t\t\t\t.find((template) => template.uid === signSettings.#stepsContext.selectedTemplateUid)\n\t\t\t\t;\n\n\t\t\t\tsubmitDocumentInfo = new SubmitDocumentInfo({\n\t\t\t\t\ttemplate: {\n\t\t\t\t\t\tuid: currentTemplateSelected.uid,\n\t\t\t\t\t\ttitle: currentTemplateSelected.title,\n\t\t\t\t\t},\n\t\t\t\t\tcompany: currentTemplateSelected.company,\n\t\t\t\t\tfields: signSettings.#stepsContext.fields,\n\t\t\t\t});\n\n\t\t\t\tconst layout = submitDocumentInfo.getLayout();\n\t\t\t\tif (signSettings.#stepsContext.fields.length > 0)\n\t\t\t\t{\n\t\t\t\t\tSignSettingsItemCounter.numerate(layout);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsignSettings.#enableNoStepMode();\n\t\t\t\t}\n\n\t\t\t\treturn layout;\n\t\t\t},\n\t\t\ttitle: Loc.getMessage('SIGN_SETTINGS_EMPLOYEE_SUBMIT_INFO'),\n\t\t\tbeforeCompletion: async () => {\n\t\t\t\tsubmitDocumentInfo.subscribeOnce(\n\t\t\t\t\tsubmitDocumentInfo.events.documentSendedSuccessFully,\n\t\t\t\t\t(event: DocumentSendedSuccessFullyEvent) => {\n\t\t\t\t\t\tthis.#analytics.sendWithProviderTypeAndDocId(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tevent: 'sent_document_to_sign',\n\t\t\t\t\t\t\t\tc_element: 'create_button',\n\t\t\t\t\t\t\t\tstatus: 'success',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tevent.getData().documentId,\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tlet result: boolean = false;\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tresult = await submitDocumentInfo.sendForSign();\n\t\t\t\t}\n\t\t\t\tcatch (error)\n\t\t\t\t{\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\tresult = false;\n\t\t\t\t\tthis.#analytics.send({\n\t\t\t\t\t\tevent: 'sent_document_to_sign',\n\t\t\t\t\t\tc_element: 'create_button',\n\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t};\n\t}\n\n\t#getStepsMetadata(signSettings: B2EEmployeeSignSettings): Metadata\n\t{\n\t\treturn {\n\t\t\tstartProcess: this.#getStartProcessStep(signSettings),\n\t\t\tsubmitDocumentInfo: this.#getSubmitDocumentInfoStep(signSettings),\n\t\t};\n\t}\n\n\t#getLayout(): HTMLElement\n\t{\n\t\treturn this.#cache.remember('headLayout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"sign-settings__scope sign-settings --b2e --employee\">\n\t\t\t\t\t<div class=\"sign-settings__sidebar\">\n\t\t\t\t\t\t${this.#createHead()}\n\t\t\t\t\t\t${this.#wizard.getLayout()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tasync render(): void\n\t{\n\t\tconst container = document.getElementById(this.#containerId);\n\t\tif (container === null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.renderToContainer(container);\n\t}\n\n\tasync renderToContainer(container: HTMLElement): void\n\t{\n\t\tif (Type.isNull(container))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst loader = new Loader({ target: container });\n\t\tvoid loader.show();\n\t\tconst templates = await this.#startProcess.getTemplates();\n\n\t\tif (templates.length === 0)\n\t\t{\n\t\t\tthis.#analytics.send({ event: 'show_empty_state', c_element: 'create_button' });\n\t\t\tDom.append(this.#getZeroTemplatesEmptyState(), container);\n\t\t\tvoid loader.hide();\n\n\t\t\treturn;\n\t\t}\n\n\t\tvoid loader.hide();\n\t\tDom.append(this.#getLayout(), container);\n\t\tthis.#wizard.moveOnStep(0);\n\n\t\tthis.#analytics.send({ event: 'click_create_document', c_element: 'create_button' });\n\t}\n\n\t#getZeroTemplatesEmptyState(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"sign-settings__scope sign-settings --b2e --employee\">\n\t\t\t\t<div class=\"sign-settings__sidebar\">\n\t\t\t\t\t<div class=\"sign-settings__empty-state\">\n\t\t\t\t\t\t<div class=\"sign-settings__empty-state_icon\">\n\t\t\t\t\t\t\t<img src=\"${noTemplatesStateImage}\" alt=\"${Loc.getMessage('SIGN_SETTINGS_EMPTY_STATE_ICON_ALT')}\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"sign-settings__empty-state_title\">\n\t\t\t\t\t\t\t${Loc.getMessage('SIGN_SETTINGS_EMPTY_STATE_TITLE')}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class=\"sign-settings__empty-state_text\">\n\t\t\t\t\t\t\t${Helpdesk.replaceLink(\n\t\t\t\t\t\t\t\tLoc.getMessage('SIGN_SETTINGS_EMPTY_STATE_DESCRIPTION'),\n\t\t\t\t\t\t\t\temptyStateHelpdeskCode,\n\t\t\t\t\t\t\t\tHelpdesk.defaultRedirectValue,\n\t\t\t\t\t\t\t\t['sign-settings__empty-state_link'],\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#enableNoStepMode(): void\n\t{\n\t\tDom.addClass(this.#getLayout(), 'no-step-mode');\n\t}\n\n\t#disableNoStepMode(): void\n\t{\n\t\tDom.removeClass(this.#getLayout(), 'no-step-mode');\n\t}\n\n\t#subscribeOnEvents(): void\n\t{\n\t\tEventEmitter.subscribe('BX.Sign.SignSettingsEmployee:onBeforeTemplateSend', () => {\n\t\t\tthis.#wizard.toggleBtnActiveState('back', true);\n\t\t});\n\t\tEventEmitter.subscribe('BX.Sign.SignSettingsEmployee:onAfterTemplateSend', () => {\n\t\t\tthis.#wizard.toggleBtnActiveState('back', false);\n\t\t});\n\t}\n\n\tclearCache(): void\n\t{\n\t\tthis.#startProcess.resetCache();\n\t\tthis.#stepsContext = {};\n\t}\n}\n"],"names":["emptyStateHelpdeskCode","B2EEmployeeSignSettings","constructor","containerId","analyticsContext","MemoryCache","currentSlider","BX","SidePanel","Instance","getTopSlider","StartProcess","Wizard","back","className","next","complete","title","Loc","getMessage","onComplete","close","swapButtons","Analytics","contextOptions","render","container","document","getElementById","renderToContainer","Type","isNull","loader","Loader","target","show","templates","getTemplates","length","send","event","c_element","Dom","append","hide","moveOnStep","clearCache","resetCache","remember","root","titleHelp","Tag","Helpdesk","bindHandler","signSettings","startProcess","content","isUndefined","selectedTemplateUid","toggleBtnActiveState","isStringFilled","getSelectedTemplateUid","subscribe","events","onProcessTypeSelect","layout","getLayout","SignSettingsItemCounter","numerate","beforeCompletion","templatesList","fields","getFields","submitDocumentInfo","currentTemplateSelected","find","template","uid","SubmitDocumentInfo","company","subscribeOnce","documentSendedSuccessFully","sendWithProviderTypeAndDocId","status","getData","documentId","result","sendForSign","error","console","noTemplatesStateImage","replaceLink","defaultRedirectValue","addClass","removeClass","EventEmitter"],"mappings":"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"}