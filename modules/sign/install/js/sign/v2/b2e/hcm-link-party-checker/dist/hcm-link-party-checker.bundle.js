this.BX=this.BX||{},this.BX.Sign=this.BX.Sign||{},this.BX.Sign.V2=this.BX.Sign.V2||{},function(e,s,a,i,l,t){"use strict";let r,o,b=e=>e;var c=babelHelpers.classPrivateFieldLooseKey("container"),d=babelHelpers.classPrivateFieldLooseKey("loaderContainer"),n=babelHelpers.classPrivateFieldLooseKey("documentGroupUids"),p=babelHelpers.classPrivateFieldLooseKey("enabled"),h=babelHelpers.classPrivateFieldLooseKey("hcmLinkMapping"),v=babelHelpers.classPrivateFieldLooseKey("hcmLinkEmployeeSelector"),P=babelHelpers.classPrivateFieldLooseKey("loader"),L=babelHelpers.classPrivateFieldLooseKey("api"),B=babelHelpers.classPrivateFieldLooseKey("subscribeToEvents"),H=babelHelpers.classPrivateFieldLooseKey("showLoader"),F=babelHelpers.classPrivateFieldLooseKey("getLoaderContainer"),u=babelHelpers.classPrivateFieldLooseKey("getLoader"),y=babelHelpers.classPrivateFieldLooseKey("getContainer");class f extends a.EventEmitter{constructor(e){super(),Object.defineProperty(this,y,{value:X}),Object.defineProperty(this,u,{value:w}),Object.defineProperty(this,F,{value:k}),Object.defineProperty(this,H,{value:g}),Object.defineProperty(this,B,{value:m}),Object.defineProperty(this,c,{writable:!0,value:null}),Object.defineProperty(this,d,{writable:!0,value:null}),Object.defineProperty(this,n,{writable:!0,value:[]}),Object.defineProperty(this,p,{writable:!0,value:!1}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e.api,babelHelpers.classPrivateFieldLooseBase(this,h)[h]=new l.HcmLinkMapping({api:babelHelpers.classPrivateFieldLooseBase(this,L)[L]}),babelHelpers.classPrivateFieldLooseBase(this,v)[v]=new t.HcmLinkEmployeeSelector({api:babelHelpers.classPrivateFieldLooseBase(this,L)[L]}),babelHelpers.classPrivateFieldLooseBase(this,c)[c]=babelHelpers.classPrivateFieldLooseBase(this,y)[y](),babelHelpers.classPrivateFieldLooseBase(this,B)[B](),this.setEventNamespace("BX.Sign.V2.B2e.HcmLinkPartyChecker")}render(){return babelHelpers.classPrivateFieldLooseBase(this,p)[p]?babelHelpers.classPrivateFieldLooseBase(this,y)[y]():null}setDocumentGroupUids(e){babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e;const a=babelHelpers.classPrivateFieldLooseBase(this,n)[n].at(-1);s.Type.isStringFilled(a)&&(babelHelpers.classPrivateFieldLooseBase(this,h)[h].setDocumentUid(a),babelHelpers.classPrivateFieldLooseBase(this,v)[v].setDocumentGroupUids(babelHelpers.classPrivateFieldLooseBase(this,n)[n]))}setEnabled(e){babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e,babelHelpers.classPrivateFieldLooseBase(this,h)[h].setEnabled(babelHelpers.classPrivateFieldLooseBase(this,p)[p]),babelHelpers.classPrivateFieldLooseBase(this,v)[v].setEnabled(babelHelpers.classPrivateFieldLooseBase(this,p)[p]),babelHelpers.classPrivateFieldLooseBase(this,u)[u]().destroy(),s.Dom.hide(babelHelpers.classPrivateFieldLooseBase(this,y)[y]()),babelHelpers.classPrivateFieldLooseBase(this,p)[p]&&s.Dom.show(babelHelpers.classPrivateFieldLooseBase(this,y)[y]())}async check(){if(!babelHelpers.classPrivateFieldLooseBase(this,p)[p])return void this.emit("updateValidation",!0);this.emit("updateValidation",!1);const e=[babelHelpers.classPrivateFieldLooseBase(this,h)[h],babelHelpers.classPrivateFieldLooseBase(this,v)[v]];for(const s of e)s.hide();babelHelpers.classPrivateFieldLooseBase(this,H)[H]();for(const s of e){if(!await s.check())return babelHelpers.classPrivateFieldLooseBase(this,u)[u]().destroy(),s.show(),void this.emit("updateValidation",!1)}babelHelpers.classPrivateFieldLooseBase(this,u)[u]().destroy(),this.emit("updateValidation",!0)}}function m(){babelHelpers.classPrivateFieldLooseBase(this,h)[h].subscribe("update",()=>{this.check()}),babelHelpers.classPrivateFieldLooseBase(this,v)[v].subscribe("update",()=>{this.check()})}function g(){babelHelpers.classPrivateFieldLooseBase(this,u)[u]().show(babelHelpers.classPrivateFieldLooseBase(this,F)[F]())}function k(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]||(babelHelpers.classPrivateFieldLooseBase(this,d)[d]=s.Tag.render(r||(r=b`
				<div 
					class="sign-b2e-hcmlink-party-check__loader"
				></div>
			`))),babelHelpers.classPrivateFieldLooseBase(this,d)[d]}function w(){return babelHelpers.classPrivateFieldLooseBase(this,P)[P]||(babelHelpers.classPrivateFieldLooseBase(this,P)[P]=new i.Loader({size:30,mode:"inline"})),babelHelpers.classPrivateFieldLooseBase(this,P)[P]}function X(){return babelHelpers.classPrivateFieldLooseBase(this,c)[c]||(babelHelpers.classPrivateFieldLooseBase(this,c)[c]=s.Tag.render(o||(o=b`
				<div class="sign-b2e-hcmlink-party-check">
					${0}
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,h)[h].render(),babelHelpers.classPrivateFieldLooseBase(this,v)[v].render(),babelHelpers.classPrivateFieldLooseBase(this,F)[F]())),babelHelpers.classPrivateFieldLooseBase(this,c)[c]}e.HcmLinkPartyChecker=f}(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX,BX.Event,BX,BX.Sign.V2.B2e,BX.Sign.V2.B2e);
//# sourceMappingURL=hcm-link-party-checker.bundle.js.map
