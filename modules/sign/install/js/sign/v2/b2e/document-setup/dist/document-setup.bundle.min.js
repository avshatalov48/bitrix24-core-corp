this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};this.BX.Sign.V2=this.BX.Sign.V2||{};(function(e,t,s,i,a,l,o,r,n,d,c){"use strict";let b=e=>e,u,p;var v=babelHelpers.classPrivateFieldLooseKey("documentDateField");var h=babelHelpers.classPrivateFieldLooseKey("selectedDate");var m=babelHelpers.classPrivateFieldLooseKey("formatDate");var P=babelHelpers.classPrivateFieldLooseKey("getDateField");var L=babelHelpers.classPrivateFieldLooseKey("selectDate");class g{constructor(){Object.defineProperty(this,L,{value:y});Object.defineProperty(this,P,{value:T});Object.defineProperty(this,m,{value:_});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,v)[v]=babelHelpers.classPrivateFieldLooseBase(this,P)[P]();const e=new Date;babelHelpers.classPrivateFieldLooseBase(this,L)[L](e);this.setDateInCalendar(e)}setDateInCalendar(e){const t=babelHelpers.classPrivateFieldLooseBase(this,m)[m](e,"DAY_MONTH_FORMAT");const s=babelHelpers.classPrivateFieldLooseBase(this,v)[v].firstElementChild;s.textContent=t;s.title=t}getLayout(){return d.Tag.render(u||(u=b`
			<div class="sign-b2e-document-setup__date-selector">
				<span class="sign-b2e-document-setup__date-selector_label">
					${0}
				</span>
				${0}
			</div>
		`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_DATE_LABEL"),babelHelpers.classPrivateFieldLooseBase(this,v)[v])}getSelectedDate(){return babelHelpers.classPrivateFieldLooseBase(this,h)[h]}}function _(e,t){const s=c.DateTimeFormat.getFormat(t);return c.DateTimeFormat.format(s,e)}function T(){return d.Tag.render(p||(p=b`
			<div
				class="sign-b2e-document-setup__date-selector_field"
				onclick="${0}"
			>
				<span class="sign-b2e-document-setup__date-selector_field-text"></span>
			</div>
		`),(()=>{BX.calendar({node:babelHelpers.classPrivateFieldLooseBase(this,v)[v],field:babelHelpers.classPrivateFieldLooseBase(this,v)[v],bTime:false,callback_after:e=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L](e);this.setDateInCalendar(e)}})}))}function y(e){const t=babelHelpers.classPrivateFieldLooseBase(this,m)[m](e,"SHORT_DATE_FORMAT");babelHelpers.classPrivateFieldLooseBase(this,h)[h]=t}let D=e=>e,H,B,F,f,E,S,M,N,O,C,I,U,A,w,k,$,j,K,x,G;const R=Object.freeze({HowToWorkWithTemplates:"23174934"});var X=babelHelpers.classPrivateFieldLooseKey("cache");var V=babelHelpers.classPrivateFieldLooseKey("api");var Y=babelHelpers.classPrivateFieldLooseKey("region");var q=babelHelpers.classPrivateFieldLooseKey("regionDocumentTypes");var W=babelHelpers.classPrivateFieldLooseKey("senderDocumentTypes");var z=babelHelpers.classPrivateFieldLooseKey("documentTypeDropdown");var J=babelHelpers.classPrivateFieldLooseKey("documentSenderTypeDropdown");var Q=babelHelpers.classPrivateFieldLooseKey("documentNumberInput");var Z=babelHelpers.classPrivateFieldLooseKey("documentTitleInput");var ee=babelHelpers.classPrivateFieldLooseKey("dateSelector");var te=babelHelpers.classPrivateFieldLooseKey("b2eDocumentLimitCount");var se=babelHelpers.classPrivateFieldLooseKey("currentEditedId");var ie=babelHelpers.classPrivateFieldLooseKey("currentEditButton");var ae=babelHelpers.classPrivateFieldLooseKey("currentEditBlock");var le=babelHelpers.classPrivateFieldLooseKey("init");var oe=babelHelpers.classPrivateFieldLooseKey("isDocumentTypeVisible");var re=babelHelpers.classPrivateFieldLooseKey("initDocumentType");var ne=babelHelpers.classPrivateFieldLooseKey("getDocumentTypeLayout");var de=babelHelpers.classPrivateFieldLooseKey("initDocumentSenderType");var ce=babelHelpers.classPrivateFieldLooseKey("getDocumentSenderTypeLayout");var be=babelHelpers.classPrivateFieldLooseKey("getHelpLink");var ue=babelHelpers.classPrivateFieldLooseKey("getDocumentNumberLayout");var pe=babelHelpers.classPrivateFieldLooseKey("getDocumentTitleLayout");var ve=babelHelpers.classPrivateFieldLooseKey("getAddDocumentLayout");var he=babelHelpers.classPrivateFieldLooseKey("getAddDocumentButtonText");var me=babelHelpers.classPrivateFieldLooseKey("onClickAddDocument");var Pe=babelHelpers.classPrivateFieldLooseKey("createDocumentBlock");var Le=babelHelpers.classPrivateFieldLooseKey("getDocumentTypeDropdownLayout");var ge=babelHelpers.classPrivateFieldLooseKey("getDocumentHintLayout");var _e=babelHelpers.classPrivateFieldLooseKey("onClickDeleteDocument");var Te=babelHelpers.classPrivateFieldLooseKey("onClickEditDocument");var ye=babelHelpers.classPrivateFieldLooseKey("getDocumentTitleFullClass");var De=babelHelpers.classPrivateFieldLooseKey("sendDocumentType");var He=babelHelpers.classPrivateFieldLooseKey("sendDocumentSenderType");var Be=babelHelpers.classPrivateFieldLooseKey("sendDocumentNumber");var Fe=babelHelpers.classPrivateFieldLooseKey("sendDocumentDate");var fe=babelHelpers.classPrivateFieldLooseKey("validateInput");var Ee=babelHelpers.classPrivateFieldLooseKey("enableDocumentInputs");var Se=babelHelpers.classPrivateFieldLooseKey("disableDocumentInputs");class Me extends o.DocumentSetup{constructor(e){super(e);Object.defineProperty(this,Se,{value:tt});Object.defineProperty(this,Ee,{value:et});Object.defineProperty(this,fe,{value:Ze});Object.defineProperty(this,Fe,{value:Qe});Object.defineProperty(this,Be,{value:Je});Object.defineProperty(this,He,{value:ze});Object.defineProperty(this,De,{value:We});Object.defineProperty(this,ye,{value:qe});Object.defineProperty(this,Te,{value:Ye});Object.defineProperty(this,_e,{value:Ve});Object.defineProperty(this,ge,{value:Xe});Object.defineProperty(this,Le,{value:Re});Object.defineProperty(this,Pe,{value:Ge});Object.defineProperty(this,me,{value:xe});Object.defineProperty(this,he,{value:Ke});Object.defineProperty(this,ve,{value:je});Object.defineProperty(this,pe,{value:$e});Object.defineProperty(this,ue,{value:ke});Object.defineProperty(this,be,{value:we});Object.defineProperty(this,ce,{value:Ae});Object.defineProperty(this,de,{value:Ue});Object.defineProperty(this,ne,{value:Ie});Object.defineProperty(this,re,{value:Ce});Object.defineProperty(this,oe,{value:Oe});Object.defineProperty(this,le,{value:Ne});Object.defineProperty(this,X,{writable:true,value:new d.Cache.MemoryCache});Object.defineProperty(this,V,{writable:true,value:void 0});Object.defineProperty(this,Y,{writable:true,value:void 0});Object.defineProperty(this,q,{writable:true,value:void 0});Object.defineProperty(this,W,{writable:true,value:void 0});Object.defineProperty(this,z,{writable:true,value:void 0});Object.defineProperty(this,J,{writable:true,value:void 0});Object.defineProperty(this,Q,{writable:true,value:null});Object.defineProperty(this,Z,{writable:true,value:void 0});Object.defineProperty(this,ee,{writable:true,value:null});this.documentCounters=null;Object.defineProperty(this,te,{writable:true,value:void 0});Object.defineProperty(this,se,{writable:true,value:void 0});Object.defineProperty(this,ie,{writable:true,value:void 0});Object.defineProperty(this,ae,{writable:true,value:void 0});const{region:t,regionDocumentTypes:i,documentMode:a,b2eDocumentLimitCount:l}=e;babelHelpers.classPrivateFieldLooseBase(this,V)[V]=new s.Api;babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]=t;babelHelpers.classPrivateFieldLooseBase(this,q)[q]=i;babelHelpers.classPrivateFieldLooseBase(this,W)[W]=Object.values(o.DocumentInitiated);babelHelpers.classPrivateFieldLooseBase(this,te)[te]=l;this.editMode=false;this.onClickShowHintPopup=this.showHintPopup.bind(this);babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]=d.Tag.render(H||(H=D`
			<input
				type="text"
				class="ui-ctl-element"
				maxlength="255"
				oninput="${0}"
			/>
		`),(({target:e})=>this.setDocumentTitle(e.value)));if(this.isRuRegion()&&!n.isTemplateMode(a)){babelHelpers.classPrivateFieldLooseBase(this,Q)[Q]=d.Tag.render(B||(B=D`<input type="text" class="ui-ctl-element" maxlength="255" />`));babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]=new g}babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]();this.blankSelector.subscribe("toggleSelection",(({data:e})=>{this.setDocumentTitle(e.title);if(e.selected){babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]()}}));this.blankSelector.subscribe("addFile",(({data:e})=>{this.isFileAdded=true;this.setDocumentTitle(e.title);babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]()}));babelHelpers.classPrivateFieldLooseBase(this,le)[le]()}isRuRegion(){return babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]==="ru"}getAddDocumentButton(){return babelHelpers.classPrivateFieldLooseBase(this,X)[X].remember("addDocumentButton",(()=>d.Tag.render(F||(F=D`
				<button type="button" class="sign-b2e-document-setup__add-button" onclick="${0}">
					${0}
				</button>
			`),babelHelpers.classPrivateFieldLooseBase(this,me)[me].bind(this),babelHelpers.classPrivateFieldLooseBase(this,he)[he]())))}getAddDocumentNotice(){return babelHelpers.classPrivateFieldLooseBase(this,X)[X].remember("addDocumentNotice",(()=>d.Tag.render(f||(f=D`
				<p class="sign-b2e-document-setup__add-notice">${0}</p>
			`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_DOCUMENT_NOTICE"))))}switchAddDocumentButtonLoadingState(e){if(e){d.Dom.addClass(this.getAddDocumentButton(),"ui-btn-wait")}else{d.Dom.removeClass(this.getAddDocumentButton(),"ui-btn-wait")}}disableAddButton(){d.Dom.addClass(this.getAddDocumentButton(),"--disabled");this.getAddDocumentNotice().textContent=d.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_LIMIT_NOTICE")}enableAddButton(){d.Dom.removeClass(this.getAddDocumentButton(),"--disabled");this.getAddDocumentNotice().textContent=d.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_DOCUMENT_NOTICE")}toggleDeleteBtnLoadingState(e){d.Dom.toggleClass(e,"ui-btn-wait")}renderDocumentBlock(e){if(!e){return}d.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe](e),this.headerLayout)}updateDocumentBlock(e){const t=this.layout.querySelector(`[data-id="document-id-${e}"]`);const s=t.querySelector(".sign-b2e-document-setup__document-block_title");s.textContent=babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].title;if(babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]()){const e=t.querySelector(".sign-b2e-document-setup__document-block_info");e.textContent=babelHelpers.classPrivateFieldLooseBase(this,z)[z].getSelectedCaption()}}replaceDocumentBlock(e,t){const s=this.layout.querySelector(`[data-id="document-id-${e.id}"]`);d.Dom.replace(s,babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe](t))}toggleEditMode(e,t){if(babelHelpers.classPrivateFieldLooseBase(this,se)[se]!==e){this.resetEditMode()}const s=t.closest(`[data-id="document-id-${e}"]`);d.Dom.toggleClass(s,"--edit");if(this.editMode){t.textContent=d.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_EDIT_BUTTON");babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]();this.editMode=false}else{t.textContent=d.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_CANCEL_BUTTON");this.editMode=true;babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]();babelHelpers.classPrivateFieldLooseBase(this,se)[se]=e;babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]=t;babelHelpers.classPrivateFieldLooseBase(this,ae)[ae]=s}}resetEditMode(){if(!babelHelpers.classPrivateFieldLooseBase(this,se)[se]){return}babelHelpers.classPrivateFieldLooseBase(this,ie)[ie].textContent=d.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_EDIT_BUTTON");d.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ae)[ae],"--edit");this.editMode=false;babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]=null;babelHelpers.classPrivateFieldLooseBase(this,ae)[ae]=null;babelHelpers.classPrivateFieldLooseBase(this,se)[se]=null}getHeaderLayout(){const e=this.isTemplateMode()?d.Loc.getMessage("SIGN_DOCUMENT_SETUP_TEMPLATE_HEADER"):d.Loc.getMessage("SIGN_DOCUMENT_SETUP_HEADER");this.headerLayout=d.Tag.render(E||(E=D`
			<h1 class="sign-b2e-settings__header">${0}</h1>
		`),e);return this.headerLayout}setDocumentNumber(e){babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].value=e}setDocumentTitle(e=""){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].value=e;babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].title=e}setDocumentType(e=""){if(!babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]()){return}const t=babelHelpers.classPrivateFieldLooseBase(this,q)[q].some((t=>t.code===e));const s=t?e:babelHelpers.classPrivateFieldLooseBase(this,q)[q][0].code;babelHelpers.classPrivateFieldLooseBase(this,z)[z].selectItem(s)}setDocumentSenderType(e){if(!this.isTemplateMode()||!this.isSenderTypeAvailable()){return}const t=babelHelpers.classPrivateFieldLooseBase(this,W)[W].includes(e)?e:"employee";babelHelpers.classPrivateFieldLooseBase(this,J)[J].selectItem(t)}initLayout(){this.layout=d.Tag.render(S||(S=D`
			<div class="sign-document-setup">
				${0}
				${0}
			</div>
		`),this.getHeaderLayout(),this.getDocumentSectionLayout())}getDocumentSectionLayout(){this.documentSectionLayout=d.Tag.render(M||(M=D`
			<div class="sign-b2e-settings__item">
				${0}
			</div>
		`),this.getDocumentSectionInnerLayout());this.createHintPopup();return this.documentSectionLayout}getDocumentSectionInnerLayout(){const e=this.isTemplateMode()?d.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_TEMPLATE_TITLE"):d.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_TITLE");this.documentSectionInnerLayout=d.Tag.render(N||(N=D`
			<div class="sign-b2e-settings__item-inner">
				<p class="sign-b2e-settings__item_title">
					${0}
				</p>
				${0}
			</div>
		`),e,this.blankSelector.getLayout());return this.documentSectionInnerLayout}createHintPopup(){this.hintPopup=new t.Popup({content:d.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_LIMIT_POPUP"),autoHide:true,darkMode:true})}setAvailabilityDocumentSection(e){if(e){d.Dom.removeClass(this.documentSectionInnerLayout,"--disabled");d.Event.unbind(this.documentSectionLayout,"click",this.onClickShowHintPopup);this.hintPopup.close();return}d.Dom.addClass(this.documentSectionInnerLayout,"--disabled");d.Event.bind(this.documentSectionLayout,"click",this.onClickShowHintPopup)}showHintPopup(e){this.hintPopup.setBindElement(e);this.hintPopup.show()}async setup(e){try{await super.setup(e,this.isTemplateMode());if(!this.setupData||this.blankIsNotSelected){this.ready=true;return}if(e){const{title:e,externalId:t,externalDateCreate:s,initiatedByType:i,regionDocumentType:a}=this.setupData;this.setDocumentTitle(e);this.setDocumentSenderType(i);this.setDocumentType(a);if(this.isRuRegion()&&!this.isTemplateMode()){this.setDocumentNumber(t);babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].setDateInCalendar(new Date(s))}return}this.ready=false;this.setupData=await this.updateDocumentData(this.setupData)}catch{const{blankId:e}=this.setupData;this.handleError(e)}this.ready=true}async updateDocumentData(e){var t;if(!e){return}await Promise.all([babelHelpers.classPrivateFieldLooseBase(this,De)[De](e.uid),babelHelpers.classPrivateFieldLooseBase(this,He)[He](e.uid),babelHelpers.classPrivateFieldLooseBase(this,Be)[Be](e.uid),babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe](e.uid)]);const{value:s}=babelHelpers.classPrivateFieldLooseBase(this,Z)[Z];const{templateUid:i}=this.setupData;const a=(t=babelHelpers.classPrivateFieldLooseBase(this,Q)[Q])==null?void 0:t.value;let l=null;if(babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]()){l=babelHelpers.classPrivateFieldLooseBase(this,z)[z].getSelectedId()}const o=await babelHelpers.classPrivateFieldLooseBase(this,V)[V].modifyTitle(e.uid,s);const{blankTitle:r}=o;if(r){const{blankId:t}=e;this.blankSelector.modifyBlankTitle(t,r)}e={...e,title:s,externalId:a,regionDocumentType:l,templateUid:i};return e}validate(){const e=babelHelpers.classPrivateFieldLooseBase(this,fe)[fe](babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]);const t=babelHelpers.classPrivateFieldLooseBase(this,fe)[fe](babelHelpers.classPrivateFieldLooseBase(this,Q)[Q]);return e&&t}isSenderTypeAvailable(){const e=d.Extension.getSettings("sign.v2.b2e.document-setup");return e.get("isSenderTypeAvailable")}resetDocument(){this.blankSelector.resetSelectedBlank();this.setDocumentTitle("");if(this.isRuRegion()){this.setDocumentNumber("")}this.isFileAdded=false;babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]()}}function Ne(){babelHelpers.classPrivateFieldLooseBase(this,re)[re]();babelHelpers.classPrivateFieldLooseBase(this,de)[de]();const e=babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]();const t=this.isTemplateMode()?d.Loc.getMessage("SIGN_DOCUMENT_SETUP_TITLE_TEMPLATE_HEAD_LABEL"):d.Loc.getMessage("SIGN_DOCUMENT_SETUP_TITLE_HEAD_LABEL");const s=d.Tag.render(O||(O=D`
			<div class="sign-b2e-settings__item">
				<p class="sign-b2e-settings__item_title">
					${0}
				</p>
				${0}
			</div>
		`),t,babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]());d.Dom.append(e,this.layout);d.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce](),this.layout);d.Dom.append(s,this.layout);if(!this.isTemplateMode()&&a.FeatureStorage.isGroupSendingEnabled()){this.documentCounters=new l.DocumentCounters({documentCountersLimit:babelHelpers.classPrivateFieldLooseBase(this,te)[te]});this.documentCounters.subscribe("limitNotExceeded",(()=>{this.enableAddButton();this.emit("documentsLimitNotExceeded")}));this.documentCounters.subscribe("limitExceeded",(()=>{this.disableAddButton();this.emit("documentsLimitExceeded")}));d.Dom.append(this.documentCounters.getLayout(),this.layout);const e=babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]();d.Dom.append(e,this.layout)}r.Hint.create(this.layout)}function Oe(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,q)[q])==null?void 0:e.length}function Ce(){if(!babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]()){return}babelHelpers.classPrivateFieldLooseBase(this,z)[z]=new i.SignDropdown({tabs:[{id:"b2e-document-codes",title:" "}],entities:[{id:"b2e-document-code",searchFields:[{name:"caption",system:true}]}],className:"sign-b2e-document-setup__type-selector",withCaption:true,isEnableSearch:true});babelHelpers.classPrivateFieldLooseBase(this,q)[q].forEach((e=>{if(d.Type.isPlainObject(e)&&d.Type.isStringFilled(e.code)&&d.Type.isStringFilled(e.description)){const{code:t,description:s}=e;babelHelpers.classPrivateFieldLooseBase(this,z)[z].addItem({id:t,title:t,caption:`(${s})`,entityId:"b2e-document-code",tabs:"b2e-document-codes",deselectable:false})}}));babelHelpers.classPrivateFieldLooseBase(this,z)[z].selectItem(babelHelpers.classPrivateFieldLooseBase(this,q)[q][0].code)}function Ie(){if(!babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]()){return null}return d.Tag.render(C||(C=D`
			<div class="sign-b2e-settings__item">
				<p class="sign-b2e-settings__item_title">
					<span>${0}</span>
					<span
						data-hint="${0}"
					></span>
				</p>
				${0}
			</div>
		`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_TYPE"),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_TYPE_HINT"),babelHelpers.classPrivateFieldLooseBase(this,z)[z].getLayout())}function Ue(){if(!this.isTemplateMode()||!this.isSenderTypeAvailable()){return}babelHelpers.classPrivateFieldLooseBase(this,J)[J]=new i.SignDropdown({tabs:[{id:"b2e-document-sender-types",title:" "}],entities:[{id:"b2e-document-sender-type",searchFields:[{name:"caption",system:true}]}],className:"sign-b2e-document-setup__sender-type-selector",withCaption:true,isEnableSearch:false});babelHelpers.classPrivateFieldLooseBase(this,W)[W].forEach((e=>{if(d.Type.isStringFilled(e)){const t=`SIGN_DOCUMENT_SETUP_SENDER_TYPE_${e.toUpperCase()}`;babelHelpers.classPrivateFieldLooseBase(this,J)[J].addItem({id:e,title:d.Loc.getMessage(t),entityId:"b2e-document-sender-type",tabs:"b2e-document-sender-types",deselectable:false})}}));babelHelpers.classPrivateFieldLooseBase(this,J)[J].selectItem(babelHelpers.classPrivateFieldLooseBase(this,W)[W][0])}function Ae(){if(!this.isTemplateMode()||!this.isSenderTypeAvailable()){return null}return d.Tag.render(I||(I=D`
			<div class="sign-b2e-settings__item">
				<p class="sign-b2e-settings__item_title">
					<span>${0}</span>
				</p>
				${0}
				${0}
			</div>
		`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_SENDER_TYPE_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,J)[J].getLayout(),babelHelpers.classPrivateFieldLooseBase(this,be)[be]())}function we(){return r.Helpdesk.replaceLink(d.Loc.getMessage("SIGN_DOCUMENT_SETUP_SENDER_TYPE_HELP_LINK"),R.HowToWorkWithTemplates,"detail",["ui-link"])}function ke(){if(!this.isRuRegion()||this.isTemplateMode()){return null}return d.Tag.render(U||(U=D`
			<div class="sign-b2e-document-setup__title-item --num">
				<p class="sign-b2e-document-setup__title-text">
					<span>${0}</span>
					<span
						data-hint="${0}"
					></span>
				</p>
				<div class="ui-ctl ui-ctl-textbox">
					${0}
				</div>
			</div>
		`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_NUM_LABEL"),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_NUM_LABEL_HINT"),babelHelpers.classPrivateFieldLooseBase(this,Q)[Q])}function $e(){var e;return d.Tag.render(A||(A=D`
			<div>
				<div class="sign-b2e-document-setup__title-item ${0}">
					<p class="sign-b2e-document-setup__title-text">
						${0}
					</p>
					<div class="ui-ctl ui-ctl-textbox">
						${0}
					</div>
				</div>
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_TITLE_LABEL"),babelHelpers.classPrivateFieldLooseBase(this,Z)[Z],babelHelpers.classPrivateFieldLooseBase(this,ue)[ue](),babelHelpers.classPrivateFieldLooseBase(this,ge)[ge](),(e=babelHelpers.classPrivateFieldLooseBase(this,ee)[ee])==null?void 0:e.getLayout())}function je(){return babelHelpers.classPrivateFieldLooseBase(this,X)[X].remember("addDocumentLayout",(()=>d.Tag.render(w||(w=D`
				<div class="sign-b2e-settings__item --add">
					<div class="sign-b2e-settings__item_title">
						<span>${0}</span>
						${0}
					</div>
					${0}
					${0}
				</div>
			`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_DOCUMENT"),this.documentCounters.getLayout(),this.getAddDocumentButton(),this.getAddDocumentNotice())))}function Ke(){return babelHelpers.classPrivateFieldLooseBase(this,X)[X].remember("addDocumentButtonText",(()=>d.Tag.render(k||(k=D`
				<span class="sign-b2e-document-setup__add-button_text">${0}</span>
			`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_ANOTHER_DOCUMENT"))))}function xe(){this.emit("addDocument")}function Ge(e){const t=d.Tag.render($||($=D`
			<button class="sign-b2e-document-setup__document-block_delete" type="button"></button>
		`));const s=d.Tag.render(j||(j=D`
			<button class="ui-btn ui-btn-round ui-btn-sm ui-btn-light-border" type="button">
				${0}
			</button>
		`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_EDIT_BUTTON"));d.Event.bind(t,"click",(t=>{babelHelpers.classPrivateFieldLooseBase(this,_e)[_e](e,t)}));d.Event.bind(s,"click",(t=>{babelHelpers.classPrivateFieldLooseBase(this,Te)[Te](e,t)}));const i=babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]()?babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]():"";return d.Tag.render(K||(K=D`
			<div class="sign-b2e-document-setup__document-block" data-id="document-id-${0}">
				<div class="sign-b2e-document-setup__document-block_inner">
					<div class="sign-b2e-document-setup__document-block_title">${0}</div>
					${0}
				</div>
				<div class="sign-b2e-document-setup__document-block_btn">
					${0}
					${0}
				</div>
				<div class="sign-b2e-document-setup__document-block_hint">
					${0}
				</div>
			</div>
		`),e.id,e.title,i,s,t,d.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_DOCUMENT_HINT"))}function Re(){return d.Tag.render(x||(x=D`
			<div class="sign-b2e-document-setup__document-block_info">${0}</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,z)[z].getSelectedCaption())}function Xe(){if(this.isTemplateMode()){return null}return babelHelpers.classPrivateFieldLooseBase(this,X)[X].remember("documentHintLayout",(()=>d.Tag.render(G||(G=D`
				<p class="sign-b2e-document-setup__title-text">
					${0}
				</p>
			`),d.Loc.getMessage("SIGN_DOCUMENT_SETUP_TITLE_HINT"))))}function Ve(e,t){this.setupData=null;const{id:s,uid:i,blankId:a}=e;const l=t.target;this.toggleDeleteBtnLoadingState(l);this.emit("deleteDocument",{id:s,uid:i,blankId:a,deleteButton:l})}function Ye(e,t){const{id:s,uid:i}=e;this.toggleEditMode(s,t.target);this.emit("editDocument",{uid:i})}function qe(){if(this.isTemplateMode()){return"--full"}return this.isRuRegion()?"":"--full"}function We(e){if(!babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]()){return Promise.resolve()}const t=babelHelpers.classPrivateFieldLooseBase(this,z)[z].getSelectedId();return babelHelpers.classPrivateFieldLooseBase(this,V)[V].changeRegionDocumentType(e,t)}function ze(e){if(!this.isTemplateMode()||!this.isSenderTypeAvailable()){return Promise.resolve()}const t=babelHelpers.classPrivateFieldLooseBase(this,J)[J].getSelectedId();this.setupData.initiatedByType=t;return babelHelpers.classPrivateFieldLooseBase(this,V)[V].changeSenderDocumentType(e,t)}function Je(e){if(!this.isRuRegion()||this.isTemplateMode()){return Promise.resolve()}return babelHelpers.classPrivateFieldLooseBase(this,V)[V].changeExternalId(e,babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].value)}function Qe(e){if(!this.isRuRegion()||this.isTemplateMode()){return Promise.resolve()}return babelHelpers.classPrivateFieldLooseBase(this,V)[V].changeExternalDate(e,babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].getSelectedDate())}function Ze(e){if(!e){return true}const{parentNode:t,value:s}=e;if(s.trim()!==""){d.Dom.removeClass(t,"ui-ctl-warning");return true}d.Dom.addClass(t,"ui-ctl-warning");e.focus();return false}function et(){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].disabled=false;if(babelHelpers.classPrivateFieldLooseBase(this,Q)[Q]){babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].disabled=false}this.blankIsNotSelected=false}function tt(){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].disabled=true;if(babelHelpers.classPrivateFieldLooseBase(this,Q)[Q]){babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].disabled=true}this.blankIsNotSelected=true}e.DocumentSetup=Me})(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX.Main,BX.Sign.V2,BX.Sign.V2.B2e,BX.Sign,BX.Sign.V2.B2e,BX.Sign.V2,BX.Sign.V2,BX.Sign.V2,BX,BX.Main);
//# sourceMappingURL=document-setup.bundle.map.js