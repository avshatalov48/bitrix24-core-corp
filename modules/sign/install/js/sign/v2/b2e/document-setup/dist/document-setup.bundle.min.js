this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};this.BX.Sign.V2=this.BX.Sign.V2||{};(function(e,t,s,i,a,l,o,r,n,d,c,b){"use strict";let u=e=>e,p,h;var v=babelHelpers.classPrivateFieldLooseKey("documentDateField");var m=babelHelpers.classPrivateFieldLooseKey("selectedDate");var P=babelHelpers.classPrivateFieldLooseKey("formatDate");var L=babelHelpers.classPrivateFieldLooseKey("getDateField");var g=babelHelpers.classPrivateFieldLooseKey("selectDate");class _{constructor(){Object.defineProperty(this,g,{value:y});Object.defineProperty(this,L,{value:D});Object.defineProperty(this,P,{value:T});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,m,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,v)[v]=babelHelpers.classPrivateFieldLooseBase(this,L)[L]();const e=new Date;babelHelpers.classPrivateFieldLooseBase(this,g)[g](e);this.setDateInCalendar(e)}setDateInCalendar(e){const t=babelHelpers.classPrivateFieldLooseBase(this,P)[P](e,"DAY_MONTH_FORMAT");const s=babelHelpers.classPrivateFieldLooseBase(this,v)[v].firstElementChild;s.textContent=t;s.title=t}getLayout(){return c.Tag.render(p||(p=u`
			<div class="sign-b2e-document-setup__date-selector">
				<span class="sign-b2e-document-setup__date-selector_label">
					${0}
				</span>
				${0}
			</div>
		`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_DATE_LABEL"),babelHelpers.classPrivateFieldLooseBase(this,v)[v])}getSelectedDate(){return babelHelpers.classPrivateFieldLooseBase(this,m)[m]}}function T(e,t){const s=b.DateTimeFormat.getFormat(t);return b.DateTimeFormat.format(s,e)}function D(){return c.Tag.render(h||(h=u`
			<div
				class="sign-b2e-document-setup__date-selector_field"
				onclick="${0}"
			>
				<span class="sign-b2e-document-setup__date-selector_field-text"></span>
			</div>
		`),(()=>{BX.calendar({node:babelHelpers.classPrivateFieldLooseBase(this,v)[v],field:babelHelpers.classPrivateFieldLooseBase(this,v)[v],bTime:false,callback_after:e=>{babelHelpers.classPrivateFieldLooseBase(this,g)[g](e);this.setDateInCalendar(e)}})}))}function y(e){const t=babelHelpers.classPrivateFieldLooseBase(this,P)[P](e,"SHORT_DATE_FORMAT");babelHelpers.classPrivateFieldLooseBase(this,m)[m]=t}let H=e=>e,B,F,f,E,S,N,M,O,C,I,U,A,w,j,k,$,K,x,G,R;const X=Object.freeze({HowToWorkWithTemplates:"23174934"});var V=babelHelpers.classPrivateFieldLooseKey("cache");var Y=babelHelpers.classPrivateFieldLooseKey("api");var q=babelHelpers.classPrivateFieldLooseKey("region");var W=babelHelpers.classPrivateFieldLooseKey("regionDocumentTypes");var z=babelHelpers.classPrivateFieldLooseKey("senderDocumentTypes");var J=babelHelpers.classPrivateFieldLooseKey("documentTypeDropdown");var Q=babelHelpers.classPrivateFieldLooseKey("documentSenderTypeDropdown");var Z=babelHelpers.classPrivateFieldLooseKey("documentNumberInput");var ee=babelHelpers.classPrivateFieldLooseKey("documentTitleInput");var te=babelHelpers.classPrivateFieldLooseKey("dateSelector");var se=babelHelpers.classPrivateFieldLooseKey("b2eDocumentLimitCount");var ie=babelHelpers.classPrivateFieldLooseKey("currentEditedId");var ae=babelHelpers.classPrivateFieldLooseKey("currentEditButton");var le=babelHelpers.classPrivateFieldLooseKey("currentEditBlock");var oe=babelHelpers.classPrivateFieldLooseKey("init");var re=babelHelpers.classPrivateFieldLooseKey("isDocumentTypeVisible");var ne=babelHelpers.classPrivateFieldLooseKey("initDocumentType");var de=babelHelpers.classPrivateFieldLooseKey("getDocumentTypeLayout");var ce=babelHelpers.classPrivateFieldLooseKey("initDocumentSenderType");var be=babelHelpers.classPrivateFieldLooseKey("getDocumentSenderTypeLayout");var ue=babelHelpers.classPrivateFieldLooseKey("getHelpLink");var pe=babelHelpers.classPrivateFieldLooseKey("getDocumentNumberLayout");var he=babelHelpers.classPrivateFieldLooseKey("getDocumentTitleLayout");var ve=babelHelpers.classPrivateFieldLooseKey("getAddDocumentLayout");var me=babelHelpers.classPrivateFieldLooseKey("getAddDocumentButtonText");var Pe=babelHelpers.classPrivateFieldLooseKey("setDocumentLimitNoticeText");var Le=babelHelpers.classPrivateFieldLooseKey("setAddDocumentNoticeText");var ge=babelHelpers.classPrivateFieldLooseKey("onClickAddDocument");var _e=babelHelpers.classPrivateFieldLooseKey("createDocumentBlock");var Te=babelHelpers.classPrivateFieldLooseKey("getDocumentTypeDropdownLayout");var De=babelHelpers.classPrivateFieldLooseKey("getDocumentHintLayout");var ye=babelHelpers.classPrivateFieldLooseKey("onClickDeleteDocument");var He=babelHelpers.classPrivateFieldLooseKey("onClickEditDocument");var Be=babelHelpers.classPrivateFieldLooseKey("getDocumentTitleFullClass");var Fe=babelHelpers.classPrivateFieldLooseKey("sendDocumentType");var fe=babelHelpers.classPrivateFieldLooseKey("sendDocumentSenderType");var Ee=babelHelpers.classPrivateFieldLooseKey("sendDocumentNumber");var Se=babelHelpers.classPrivateFieldLooseKey("sendDocumentDate");var Ne=babelHelpers.classPrivateFieldLooseKey("validateInput");var Me=babelHelpers.classPrivateFieldLooseKey("enableDocumentInputs");var Oe=babelHelpers.classPrivateFieldLooseKey("disableDocumentInputs");class Ce extends r.DocumentSetup{constructor(e){super(e);Object.defineProperty(this,Oe,{value:ot});Object.defineProperty(this,Me,{value:lt});Object.defineProperty(this,Ne,{value:at});Object.defineProperty(this,Se,{value:it});Object.defineProperty(this,Ee,{value:st});Object.defineProperty(this,fe,{value:tt});Object.defineProperty(this,Fe,{value:et});Object.defineProperty(this,Be,{value:Ze});Object.defineProperty(this,He,{value:Qe});Object.defineProperty(this,ye,{value:Je});Object.defineProperty(this,De,{value:ze});Object.defineProperty(this,Te,{value:We});Object.defineProperty(this,_e,{value:qe});Object.defineProperty(this,ge,{value:Ye});Object.defineProperty(this,Le,{value:Ve});Object.defineProperty(this,Pe,{value:Xe});Object.defineProperty(this,me,{value:Re});Object.defineProperty(this,ve,{value:Ge});Object.defineProperty(this,he,{value:xe});Object.defineProperty(this,pe,{value:Ke});Object.defineProperty(this,ue,{value:$e});Object.defineProperty(this,be,{value:ke});Object.defineProperty(this,ce,{value:je});Object.defineProperty(this,de,{value:we});Object.defineProperty(this,ne,{value:Ae});Object.defineProperty(this,re,{value:Ue});Object.defineProperty(this,oe,{value:Ie});Object.defineProperty(this,V,{writable:true,value:new c.Cache.MemoryCache});Object.defineProperty(this,Y,{writable:true,value:void 0});Object.defineProperty(this,q,{writable:true,value:void 0});Object.defineProperty(this,W,{writable:true,value:void 0});Object.defineProperty(this,z,{writable:true,value:void 0});Object.defineProperty(this,J,{writable:true,value:void 0});Object.defineProperty(this,Q,{writable:true,value:void 0});Object.defineProperty(this,Z,{writable:true,value:null});Object.defineProperty(this,ee,{writable:true,value:void 0});Object.defineProperty(this,te,{writable:true,value:null});this.documentCounters=null;Object.defineProperty(this,se,{writable:true,value:void 0});Object.defineProperty(this,ie,{writable:true,value:void 0});Object.defineProperty(this,ae,{writable:true,value:void 0});Object.defineProperty(this,le,{writable:true,value:void 0});const{region:t,regionDocumentTypes:i,documentMode:a,b2eDocumentLimitCount:l}=e;babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]=new s.Api;babelHelpers.classPrivateFieldLooseBase(this,q)[q]=t;babelHelpers.classPrivateFieldLooseBase(this,W)[W]=i;babelHelpers.classPrivateFieldLooseBase(this,z)[z]=Object.values(o.DocumentInitiated);babelHelpers.classPrivateFieldLooseBase(this,se)[se]=l;this.editMode=false;this.onClickShowHintPopup=this.showHintPopup.bind(this);babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]=c.Tag.render(B||(B=H`
			<input
				type="text"
				class="ui-ctl-element"
				maxlength="255"
				oninput="${0}"
			/>
		`),(({target:e})=>this.setDocumentTitle(e.value)));if(this.isRuRegion()&&!d.isTemplateMode(a)){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]=c.Tag.render(F||(F=H`<input type="text" class="ui-ctl-element" maxlength="255" />`));babelHelpers.classPrivateFieldLooseBase(this,te)[te]=new _}babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]();this.disableAddButton();this.blankSelector.subscribe("toggleSelection",(({data:e})=>{this.setDocumentTitle(e.title);if(e.selected){babelHelpers.classPrivateFieldLooseBase(this,Me)[Me]();this.enableAddButton()}}));this.blankSelector.subscribe("addFile",(({data:e})=>{this.isFileAdded=true;this.setDocumentTitle(e.title);babelHelpers.classPrivateFieldLooseBase(this,Me)[Me]();this.enableAddButton()}));babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]()}isRuRegion(){return babelHelpers.classPrivateFieldLooseBase(this,q)[q]==="ru"}getAddDocumentButton(){return babelHelpers.classPrivateFieldLooseBase(this,V)[V].remember("addDocumentButton",(()=>c.Tag.render(f||(f=H`
				<button type="button" class="sign-b2e-document-setup__add-button" onclick="${0}">
					${0}
				</button>
			`),babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].bind(this),babelHelpers.classPrivateFieldLooseBase(this,me)[me]())))}getAddDocumentNotice(){return babelHelpers.classPrivateFieldLooseBase(this,V)[V].remember("addDocumentNotice",(()=>c.Tag.render(E||(E=H`
				<p class="sign-b2e-document-setup__add-notice">${0}</p>
			`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_DOCUMENT_NOTICE"))))}switchAddDocumentButtonLoadingState(e){if(e){c.Dom.addClass(this.getAddDocumentButton(),"ui-btn-wait")}else{c.Dom.removeClass(this.getAddDocumentButton(),"ui-btn-wait")}}disableAddButton(){c.Dom.addClass(this.getAddDocumentButton(),"--disabled")}enableAddButton(){c.Dom.removeClass(this.getAddDocumentButton(),"--disabled")}toggleDeleteBtnLoadingState(e){c.Dom.toggleClass(e,"ui-btn-wait")}renderDocumentBlock(e){if(!e){return}c.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,_e)[_e](e),this.headerLayout)}updateDocumentBlock(e){const t=this.layout.querySelector(`[data-id="document-id-${e}"]`);const s=t.querySelector(".sign-b2e-document-setup__document-block_title");s.textContent=babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].title;if(babelHelpers.classPrivateFieldLooseBase(this,re)[re]()){const e=t.querySelector(".sign-b2e-document-setup__document-block_info");e.textContent=babelHelpers.classPrivateFieldLooseBase(this,J)[J].getSelectedCaption()}}replaceDocumentBlock(e,t){const s=this.layout.querySelector(`[data-id="document-id-${e.id}"]`);c.Dom.replace(s,babelHelpers.classPrivateFieldLooseBase(this,_e)[_e](t))}toggleEditMode(e,t){if(babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]!==e){this.resetEditMode()}const s=t.closest(`[data-id="document-id-${e}"]`);c.Dom.toggleClass(s,"--edit");if(this.editMode){t.textContent=c.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_EDIT_BUTTON");babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]();this.disableAddButton();this.editMode=false}else{t.textContent=c.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_CANCEL_BUTTON");this.editMode=true;babelHelpers.classPrivateFieldLooseBase(this,Me)[Me]();this.enableAddButton();babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]=e;babelHelpers.classPrivateFieldLooseBase(this,ae)[ae]=t;babelHelpers.classPrivateFieldLooseBase(this,le)[le]=s}}resetEditMode(){if(!babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]){return}babelHelpers.classPrivateFieldLooseBase(this,ae)[ae].textContent=c.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_EDIT_BUTTON");c.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,le)[le],"--edit");this.editMode=false;babelHelpers.classPrivateFieldLooseBase(this,ae)[ae]=null;babelHelpers.classPrivateFieldLooseBase(this,le)[le]=null;babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]=null}getHeaderLayout(){const e=this.isTemplateMode()?c.Loc.getMessage("SIGN_DOCUMENT_SETUP_TEMPLATE_HEADER"):c.Loc.getMessage("SIGN_DOCUMENT_SETUP_HEADER");this.headerLayout=c.Tag.render(S||(S=H`
			<h1 class="sign-b2e-settings__header">${0}</h1>
		`),e);return this.headerLayout}setDocumentNumber(e){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].value=e}setDocumentTitle(e=""){babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].value=e;babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].title=e}setDocumentType(e=""){if(!babelHelpers.classPrivateFieldLooseBase(this,re)[re]()){return}const t=babelHelpers.classPrivateFieldLooseBase(this,W)[W].some((t=>t.code===e));const s=t?e:babelHelpers.classPrivateFieldLooseBase(this,W)[W][0].code;babelHelpers.classPrivateFieldLooseBase(this,J)[J].selectItem(s)}setDocumentSenderType(e){if(!this.isTemplateMode()||!this.isSenderTypeAvailable()){return}const t=babelHelpers.classPrivateFieldLooseBase(this,z)[z].includes(e)?e:"employee";babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].selectItem(t)}initLayout(){this.layout=c.Tag.render(N||(N=H`
			<div class="sign-document-setup">
				${0}
				${0}
			</div>
		`),this.getHeaderLayout(),this.getDocumentSectionLayout())}getDocumentSectionLayout(){if(!this.documentSectionLayout){this.documentSectionLayout=c.Tag.render(M||(M=H`
				<div class="sign-b2e-settings__item">
					${0}
				</div>
			`),this.getDocumentSectionInnerLayout());this.createHintPopup()}return this.documentSectionLayout}getDocumentSectionInnerLayout(){const e=this.isTemplateMode()?c.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_TEMPLATE_TITLE"):c.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_TITLE");this.documentSectionInnerLayout=c.Tag.render(O||(O=H`
			<div class="sign-b2e-settings__item-inner">
				<p class="sign-b2e-settings__item_title">
					${0}
				</p>
				${0}
			</div>
		`),e,this.blankSelector.getLayout());return this.documentSectionInnerLayout}createHintPopup(){this.hintPopup=new t.Popup({content:c.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_LIMIT_POPUP"),autoHide:true,darkMode:true})}setAvailabilityDocumentSection(e){if(e){c.Dom.removeClass(this.documentSectionInnerLayout,"--disabled");c.Event.unbind(this.documentSectionLayout,"click",this.onClickShowHintPopup);this.hintPopup.close();return}c.Dom.addClass(this.documentSectionInnerLayout,"--disabled");c.Event.bind(this.documentSectionLayout,"click",this.onClickShowHintPopup)}showHintPopup(e){this.hintPopup.setBindElement(e);this.hintPopup.show()}async setup(e){try{await super.setup(e,this.isTemplateMode());if(!this.setupData||this.blankIsNotSelected){this.ready=true;return}if(e){const{title:e,externalId:t,externalDateCreate:s,initiatedByType:i,regionDocumentType:a}=this.setupData;this.setDocumentTitle(e);this.setDocumentSenderType(i);this.setDocumentType(a);if(this.isRuRegion()&&!this.isTemplateMode()){this.setDocumentNumber(t);babelHelpers.classPrivateFieldLooseBase(this,te)[te].setDateInCalendar(new Date(s))}return}this.ready=false;this.setupData=await this.updateDocumentData(this.setupData)}catch{const{blankId:e}=this.setupData;this.handleError(e)}this.ready=true}async updateDocumentData(e){var t;if(!e){return}await Promise.all([babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe](e.uid),babelHelpers.classPrivateFieldLooseBase(this,fe)[fe](e.uid),babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee](e.uid),babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](e.uid)]);const{value:s}=babelHelpers.classPrivateFieldLooseBase(this,ee)[ee];const{templateUid:i}=this.setupData;const a=(t=babelHelpers.classPrivateFieldLooseBase(this,Z)[Z])==null?void 0:t.value;let l=null;if(babelHelpers.classPrivateFieldLooseBase(this,re)[re]()){l=babelHelpers.classPrivateFieldLooseBase(this,J)[J].getSelectedId()}const o=await babelHelpers.classPrivateFieldLooseBase(this,Y)[Y].modifyTitle(e.uid,s);const{blankTitle:r}=o;if(r){const{blankId:t}=e;this.blankSelector.modifyBlankTitle(t,r)}e={...e,title:s,externalId:a,regionDocumentType:l,templateUid:i};return e}validate(){const e=babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne](babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]);const t=babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne](babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]);return e&&t}isSenderTypeAvailable(){const e=c.Extension.getSettings("sign.v2.b2e.document-setup");return e.get("isSenderTypeAvailable")}resetDocument(){this.blankSelector.resetSelectedBlank();this.setDocumentTitle("");if(this.isRuRegion()){this.setDocumentNumber("")}this.isFileAdded=false;babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]();this.disableAddButton()}}function Ie(){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]();babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]();const e=babelHelpers.classPrivateFieldLooseBase(this,de)[de]();const t=this.isTemplateMode()?c.Loc.getMessage("SIGN_DOCUMENT_SETUP_TITLE_TEMPLATE_HEAD_LABEL"):c.Loc.getMessage("SIGN_DOCUMENT_SETUP_TITLE_HEAD_LABEL");const s=c.Tag.render(C||(C=H`
			<div class="sign-b2e-settings__item">
				<p class="sign-b2e-settings__item_title">
					${0}
				</p>
				${0}
			</div>
		`),t,babelHelpers.classPrivateFieldLooseBase(this,he)[he]());c.Dom.append(e,this.layout);c.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,be)[be](),this.layout);c.Dom.append(s,this.layout);if(!this.isTemplateMode()&&a.FeatureStorage.isGroupSendingEnabled()){this.documentCounters=new l.DocumentCounters({documentCountersLimit:babelHelpers.classPrivateFieldLooseBase(this,se)[se]});this.documentCounters.subscribe("limitNotExceeded",(()=>{this.enableAddButton();babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]();this.emit("documentsLimitNotExceeded")}));this.documentCounters.subscribe("limitExceeded",(()=>{this.disableAddButton();babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]();this.emit("documentsLimitExceeded")}));c.Dom.append(this.documentCounters.getLayout(),this.layout);const e=babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]();c.Dom.append(e,this.layout)}n.Hint.create(this.layout)}function Ue(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,W)[W])==null?void 0:e.length}function Ae(){if(!babelHelpers.classPrivateFieldLooseBase(this,re)[re]()){return}babelHelpers.classPrivateFieldLooseBase(this,J)[J]=new i.SignDropdown({tabs:[{id:"b2e-document-codes",title:" "}],entities:[{id:"b2e-document-code",searchFields:[{name:"caption",system:true}]}],className:"sign-b2e-document-setup__type-selector",withCaption:true,isEnableSearch:true});babelHelpers.classPrivateFieldLooseBase(this,W)[W].forEach((e=>{if(c.Type.isPlainObject(e)&&c.Type.isStringFilled(e.code)&&c.Type.isStringFilled(e.description)){const{code:t,description:s}=e;babelHelpers.classPrivateFieldLooseBase(this,J)[J].addItem({id:t,title:t,caption:`(${s})`,entityId:"b2e-document-code",tabs:"b2e-document-codes",deselectable:false})}}));babelHelpers.classPrivateFieldLooseBase(this,J)[J].selectItem(babelHelpers.classPrivateFieldLooseBase(this,W)[W][0].code)}function we(){if(!babelHelpers.classPrivateFieldLooseBase(this,re)[re]()){return null}return c.Tag.render(I||(I=H`
			<div class="sign-b2e-settings__item">
				<p class="sign-b2e-settings__item_title">
					<span>${0}</span>
					<span
						data-hint="${0}"
					></span>
				</p>
				${0}
			</div>
		`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_TYPE"),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_TYPE_HINT"),babelHelpers.classPrivateFieldLooseBase(this,J)[J].getLayout())}function je(){if(!this.isTemplateMode()||!this.isSenderTypeAvailable()){return}babelHelpers.classPrivateFieldLooseBase(this,Q)[Q]=new i.SignDropdown({tabs:[{id:"b2e-document-sender-types",title:" "}],entities:[{id:"b2e-document-sender-type",searchFields:[{name:"caption",system:true}]}],className:"sign-b2e-document-setup__sender-type-selector",withCaption:true,isEnableSearch:false,height:110,width:350});babelHelpers.classPrivateFieldLooseBase(this,z)[z].forEach((e=>{if(c.Type.isStringFilled(e)){const t=`SIGN_DOCUMENT_SETUP_SENDER_TYPE_${e.toUpperCase()}`;babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].addItem({id:e,title:c.Loc.getMessage(t),entityId:"b2e-document-sender-type",tabs:"b2e-document-sender-types",deselectable:false})}}));babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].selectItem(babelHelpers.classPrivateFieldLooseBase(this,z)[z][0])}function ke(){if(!this.isTemplateMode()||!this.isSenderTypeAvailable()){return null}return c.Tag.render(U||(U=H`
			<div class="sign-b2e-settings__item">
				<p class="sign-b2e-settings__item_title">
					<span>${0}</span>
				</p>
				${0}
				${0}
			</div>
		`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_SENDER_TYPE_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].getLayout(),babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]())}function $e(){return n.Helpdesk.replaceLink(c.Loc.getMessage("SIGN_DOCUMENT_SETUP_SENDER_TYPE_HELP_LINK"),X.HowToWorkWithTemplates,"detail",["ui-link"])}function Ke(){if(!this.isRuRegion()||this.isTemplateMode()){return null}return c.Tag.render(A||(A=H`
			<div class="sign-b2e-document-setup__title-item --num">
				<p class="sign-b2e-document-setup__title-text">
					<span>${0}</span>
					<span
						data-hint="${0}"
					></span>
				</p>
				<div class="ui-ctl ui-ctl-textbox">
					${0}
				</div>
			</div>
		`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_NUM_LABEL"),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_NUM_LABEL_HINT"),babelHelpers.classPrivateFieldLooseBase(this,Z)[Z])}function xe(){var e;return c.Tag.render(w||(w=H`
			<div>
				<div class="sign-b2e-document-setup__title-item ${0}">
					<p class="sign-b2e-document-setup__title-text">
						${0}
					</p>
					<div class="ui-ctl ui-ctl-textbox">
						${0}
					</div>
				</div>
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Be)[Be](),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_TITLE_LABEL"),babelHelpers.classPrivateFieldLooseBase(this,ee)[ee],babelHelpers.classPrivateFieldLooseBase(this,pe)[pe](),babelHelpers.classPrivateFieldLooseBase(this,De)[De](),(e=babelHelpers.classPrivateFieldLooseBase(this,te)[te])==null?void 0:e.getLayout())}function Ge(){return babelHelpers.classPrivateFieldLooseBase(this,V)[V].remember("addDocumentLayout",(()=>c.Tag.render(j||(j=H`
				<div class="sign-b2e-settings__item --add">
					<div class="sign-b2e-settings__item_title">
						<span>${0}</span>
						${0}
					</div>
					${0}
					${0}
				</div>
			`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_DOCUMENT"),this.documentCounters.getLayout(),this.getAddDocumentButton(),this.getAddDocumentNotice())))}function Re(){return babelHelpers.classPrivateFieldLooseBase(this,V)[V].remember("addDocumentButtonText",(()=>c.Tag.render(k||(k=H`
				<span class="sign-b2e-document-setup__add-button_text">${0}</span>
			`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_ANOTHER_DOCUMENT"))))}function Xe(){c.Dom.addClass(this.getAddDocumentNotice(),"--warning");this.getAddDocumentNotice().textContent=c.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_LIMIT_NOTICE")}function Ve(){c.Dom.removeClass(this.getAddDocumentNotice(),"--warning");this.getAddDocumentNotice().textContent=c.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_DOCUMENT_NOTICE")}function Ye(){this.emit("addDocument")}function qe(e){const t=c.Tag.render($||($=H`
			<button class="sign-b2e-document-setup__document-block_delete" type="button"></button>
		`));const s=c.Tag.render(K||(K=H`
			<button class="ui-btn ui-btn-round ui-btn-sm ui-btn-light-border" type="button">
				${0}
			</button>
		`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_DOCUMENT_EDIT_BUTTON"));c.Event.bind(t,"click",(t=>{babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](e,t)}));c.Event.bind(s,"click",(t=>{babelHelpers.classPrivateFieldLooseBase(this,He)[He](e,t)}));const i=babelHelpers.classPrivateFieldLooseBase(this,re)[re]()?babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]():"";return c.Tag.render(x||(x=H`
			<div class="sign-b2e-document-setup__document-block" data-id="document-id-${0}">
				<div class="sign-b2e-document-setup__document-block_inner">
					<div class="sign-b2e-document-setup__document-block_title">${0}</div>
					${0}
				</div>
				<div class="sign-b2e-document-setup__document-block_btn">
					${0}
					${0}
				</div>
				<div class="sign-b2e-document-setup__document-block_hint">
					${0}
				</div>
			</div>
		`),e.id,e.title,i,s,t,c.Loc.getMessage("SIGN_DOCUMENT_SETUP_ADD_DOCUMENT_HINT"))}function We(){return c.Tag.render(G||(G=H`
			<div class="sign-b2e-document-setup__document-block_info">${0}</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,J)[J].getSelectedCaption())}function ze(){if(this.isTemplateMode()){return null}return babelHelpers.classPrivateFieldLooseBase(this,V)[V].remember("documentHintLayout",(()=>c.Tag.render(R||(R=H`
				<p class="sign-b2e-document-setup__title-text">
					${0}
				</p>
			`),c.Loc.getMessage("SIGN_DOCUMENT_SETUP_TITLE_HINT"))))}function Je(e,t){this.setupData=null;const{id:s,uid:i,blankId:a}=e;const l=t.target;this.toggleDeleteBtnLoadingState(l);this.emit("deleteDocument",{id:s,uid:i,blankId:a,deleteButton:l})}function Qe(e,t){const{id:s,uid:i}=e;this.toggleEditMode(s,t.target);this.emit("editDocument",{uid:i})}function Ze(){if(this.isTemplateMode()){return"--full"}return this.isRuRegion()?"":"--full"}function et(e){if(!babelHelpers.classPrivateFieldLooseBase(this,re)[re]()){return Promise.resolve()}const t=babelHelpers.classPrivateFieldLooseBase(this,J)[J].getSelectedId();return babelHelpers.classPrivateFieldLooseBase(this,Y)[Y].changeRegionDocumentType(e,t)}function tt(e){if(!this.isTemplateMode()||!this.isSenderTypeAvailable()){return Promise.resolve()}const t=babelHelpers.classPrivateFieldLooseBase(this,Q)[Q].getSelectedId();this.setupData.initiatedByType=t;return babelHelpers.classPrivateFieldLooseBase(this,Y)[Y].changeSenderDocumentType(e,t)}function st(e){if(!this.isRuRegion()||this.isTemplateMode()){return Promise.resolve()}return babelHelpers.classPrivateFieldLooseBase(this,Y)[Y].changeExternalId(e,babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].value)}function it(e){if(!this.isRuRegion()||this.isTemplateMode()){return Promise.resolve()}return babelHelpers.classPrivateFieldLooseBase(this,Y)[Y].changeExternalDate(e,babelHelpers.classPrivateFieldLooseBase(this,te)[te].getSelectedDate())}function at(e){if(!e){return true}const{parentNode:t,value:s}=e;if(s.trim()!==""){c.Dom.removeClass(t,"ui-ctl-warning");return true}c.Dom.addClass(t,"ui-ctl-warning");e.focus();return false}function lt(){babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].disabled=false;if(babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].disabled=false}this.blankIsNotSelected=false}function ot(){babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].disabled=true;if(babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z].disabled=true}this.blankIsNotSelected=true}e.DocumentSetup=Ce})(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX.Main,BX.Sign.V2,BX.Sign.V2.B2e,BX.Sign,BX.Sign.V2.B2e,BX.Sign,BX.Sign.V2,BX.Sign.V2,BX.Sign.V2,BX,BX.Main);
//# sourceMappingURL=document-setup.bundle.map.js