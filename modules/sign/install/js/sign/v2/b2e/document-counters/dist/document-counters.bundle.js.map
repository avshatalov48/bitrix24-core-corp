{"version":3,"file":"document-counters.bundle.js","sources":["../src/index.js"],"sourcesContent":["import { Dom, Tag } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Icon, Main } from 'ui.icon-set.api.core';\n\nimport './style.css';\n\ntype DocumentCountersOption = {\n\tsizeLimit: Number,\n}\n\nexport class DocumentCounters extends EventEmitter\n{\n\t#sizeLimit: Number;\n\t#container: HTMLDivElement;\n\t#counterNode: HTMLSpanElement;\n\n\tconstructor(options: DocumentCountersOption)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Sign.V2.B2e.DocumentCounters');\n\t\tthis.#sizeLimit = Number(options.documentCountersLimit);\n\t\tthis.#counterNode = Tag.render`<span class=\"sign-b2e-settings__document-counter-select\">0</span>`;\n\t\tthis.#container = Tag.render`\n\t\t\t<div class=\"sign-b2e-settings__document-counter\">\n\t\t\t\t${this.#getIcon().render()}\n\t\t\t\t<div class=\"sign-b2e-settings__document-counter_limit-block\">\n\t\t\t\t\t${this.#counterNode}\n\t\t\t\t\t${this.#getLimitContainer()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\treturn this.#container;\n\t}\n\n\t#getIcon(): Icon\n\t{\n\t\treturn new Icon({\n\t\t\ticon: Main.DOCUMENT,\n\t\t\tsize: 18,\n\t\t\tcolor: getComputedStyle(document.body).getPropertyValue('--ui-color-palette-gray-60'),\n\t\t});\n\t}\n\n\t#getLimitContainer(): HTMLElement\n\t{\n\t\treturn Tag.render`<span class=\"sign-b2e-settings__document-counter-limit\">/ ${this.#sizeLimit}</span>`;\n\t}\n\n\tgetCount(): number\n\t{\n\t\treturn Number(this.#counterNode.textContent);\n\t}\n\n\tupdate(size: number): void\n\t{\n\t\tthis.#counterNode.textContent = size;\n\n\t\tif (size >= this.#sizeLimit)\n\t\t{\n\t\t\tthis.emit('limitExceeded');\n\t\t\tDom.addClass(this.#container, '--alert');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.emit('limitNotExceeded');\n\t\t\tDom.removeClass(this.#container, '--alert');\n\t\t}\n\t}\n}\n"],"names":["DocumentCounters","EventEmitter","constructor","options","setEventNamespace","Number","documentCountersLimit","Tag","render","getLayout","getCount","textContent","update","size","emit","Dom","addClass","removeClass","Icon","icon","Main","DOCUMENT","color","getComputedStyle","document","body","getPropertyValue"],"mappings":";;;;;;;;;;;AAAA,CAIqB;CAAA;CAAA;CAAA;CAAA;AAMrB,CAAO,MAAMA,gBAAgB,SAASC,6BAAY,CAClD;GAKCC,WAAW,CAACC,OAA+B,EAC3C;KACC,KAAK,EAAE;KAAC;OAAA;;KAAA;OAAA;;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA;;KACR,IAAI,CAACC,iBAAiB,CAAC,iCAAiC,CAAC;KACzD,4CAAI,4BAAcC,MAAM,CAACF,OAAO,CAACG,qBAAqB,CAAC;KACvD,4CAAI,gCAAgBC,aAAG,CAACC,MAAM,cAAC,mEAAiE,EAAC;KACjG,4CAAI,4BAAcD,aAAG,CAACC,MAAM,gBAAC;;MAE3B,CAA2B;;OAE1B,CAAoB;OACpB,CAA4B;;;GAG/B,GANI,4CAAI,wBAAYA,MAAM,EAAE,0CAEvB,IAAI,uEACJ,IAAI,4CAGR;;GAGFC,SAAS,GACT;KACC,+CAAO,IAAI;;GAiBZC,QAAQ,GACR;KACC,OAAOL,MAAM,CAAC,4CAAI,8BAAcM,WAAW,CAAC;;GAG7CC,MAAM,CAACC,IAAY,EACnB;KACC,4CAAI,8BAAcF,WAAW,GAAGE,IAAI;KAEpC,IAAIA,IAAI,4CAAI,IAAI,yBAAW,EAC3B;OACC,IAAI,CAACC,IAAI,CAAC,eAAe,CAAC;OAC1BC,aAAG,CAACC,QAAQ,yCAAC,IAAI,2BAAa,SAAS,CAAC;MACxC,MAED;OACC,IAAI,CAACF,IAAI,CAAC,kBAAkB,CAAC;OAC7BC,aAAG,CAACE,WAAW,yCAAC,IAAI,2BAAa,SAAS,CAAC;;;CAG9C;CAAC,qBAjCA;GACC,OAAO,IAAIC,wBAAI,CAAC;KACfC,IAAI,EAAEC,wBAAI,CAACC,QAAQ;KACnBR,IAAI,EAAE,EAAE;KACRS,KAAK,EAAEC,gBAAgB,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,gBAAgB,CAAC,4BAA4B;IACpF,CAAC;CACH;CAAC,+BAGD;GACC,OAAOnB,aAAG,CAACC,MAAM,gBAAC,6DAA0D,CAAkB,SAAO,2CAAvB,IAAI;CACnF;;;;;;;;"}