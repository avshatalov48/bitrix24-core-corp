this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};this.BX.Sign.V2=this.BX.Sign.V2||{};(function(e,s,l){"use strict";let a=e=>e,t,i,r;const o=Object.freeze({Order:"order",Default:"default",Unset:"unset"});var c=babelHelpers.classPrivateFieldLooseKey("ui");var n=babelHelpers.classPrivateFieldLooseKey("selectedType");var b=babelHelpers.classPrivateFieldLooseKey("availableSchemes");var d=babelHelpers.classPrivateFieldLooseKey("api");var v=babelHelpers.classPrivateFieldLooseKey("renderSelectOptions");var p=babelHelpers.classPrivateFieldLooseKey("getSchemeOptions");var h=babelHelpers.classPrivateFieldLooseKey("getAvailableSchemes");var u=babelHelpers.classPrivateFieldLooseKey("isValidScheme");var L=babelHelpers.classPrivateFieldLooseKey("selectItem");class P{constructor(){Object.defineProperty(this,L,{value:S});Object.defineProperty(this,u,{value:f});Object.defineProperty(this,h,{value:F});Object.defineProperty(this,p,{value:H});Object.defineProperty(this,v,{value:B});Object.defineProperty(this,c,{writable:true,value:{container:HTMLElement=null,select:HTMLSelectElement=null}});Object.defineProperty(this,n,{writable:true,value:o.Unset});Object.defineProperty(this,b,{writable:true,value:[]});Object.defineProperty(this,d,{writable:true,value:new l.Api})}getLayout(){if(babelHelpers.classPrivateFieldLooseBase(this,c)[c].container){return babelHelpers.classPrivateFieldLooseBase(this,c)[c].container}babelHelpers.classPrivateFieldLooseBase(this,c)[c].select=s.Tag.render(t||(t=a`
			<select
				class="ui-ctl-element"
				onchange="${0}"
			>
		`),(({target:e})=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L](e.options[e.selectedIndex].value)}));babelHelpers.classPrivateFieldLooseBase(this,c)[c].container=s.Tag.render(i||(i=a`
			<div class="ui-ctl ui-ctl-after-icon ui-ctl-dropdown sign-b2e-scheme-selector__dropdown">
				<div class="ui-ctl-after ui-ctl-icon-angle"></div>
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,c)[c].select);return babelHelpers.classPrivateFieldLooseBase(this,c)[c].container}validate(){s.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,c)[c].container,"--invalid");const e=babelHelpers.classPrivateFieldLooseBase(this,n)[n]!==o.Unset;if(!e){s.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,c)[c].container,"--invalid")}return babelHelpers.classPrivateFieldLooseBase(this,n)[n]!==o.Unset}async save(e){await babelHelpers.classPrivateFieldLooseBase(this,d)[d].modifyB2eDocumentScheme(e,babelHelpers.classPrivateFieldLooseBase(this,n)[n])}async load(e){const{schemes:l}=await babelHelpers.classPrivateFieldLooseBase(this,d)[d].loadB2eAvaialbleSchemes(e);const a=l.filter((e=>babelHelpers.classPrivateFieldLooseBase(this,u)[u](e)));if(!s.Type.isArrayFilled(a)){babelHelpers.classPrivateFieldLooseBase(this,L)[L](o.Unset)}babelHelpers.classPrivateFieldLooseBase(this,b)[b]=a;babelHelpers.classPrivateFieldLooseBase(this,v)[v]();babelHelpers.classPrivateFieldLooseBase(this,L)[L](babelHelpers.classPrivateFieldLooseBase(this,b)[b][0])}getSelectedType(){return babelHelpers.classPrivateFieldLooseBase(this,n)[n]}}function B(){babelHelpers.classPrivateFieldLooseBase(this,c)[c].select.innerHTML="";const e=babelHelpers.classPrivateFieldLooseBase(this,h)[h]().map((e=>s.Tag.render(r||(r=a`
					<option value="${0}">
						${0}
					</option>
				`),e.value,s.Text.encode(e.text))));e.forEach((e=>s.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,c)[c].select)));babelHelpers.classPrivateFieldLooseBase(this,c)[c].select.selectedIndex=e.length>0?1:0}function H(){return[{value:o.Unset,text:s.Loc.getMessage("SIGN_V2_B2E_SCHEME_SELECTOR_VALUE_TYPE_UNSET")},{value:o.Default,text:s.Loc.getMessage("SIGN_V2_B2E_SCHEME_SELECTOR_VALUE_TYPE_DEFAULT")},{value:o.Order,text:s.Loc.getMessage("SIGN_V2_B2E_SCHEME_SELECTOR_VALUE_TYPE_ORDER")}]}function F(){return babelHelpers.classPrivateFieldLooseBase(this,p)[p]().filter((e=>babelHelpers.classPrivateFieldLooseBase(this,b)[b].includes(e.value)||e.value===o.Unset))}function f(e){return Object.values(o).includes(e)}function S(e){if(!babelHelpers.classPrivateFieldLooseBase(this,u)[u](e)){return}babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e}e.SchemeType=o;e.SchemeSelector=P})(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX,BX.Sign.V2);
//# sourceMappingURL=scheme-selector.bundle.map.js