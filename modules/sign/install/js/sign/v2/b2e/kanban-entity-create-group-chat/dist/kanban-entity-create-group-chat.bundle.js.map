{"version":3,"file":"kanban-entity-create-group-chat.bundle.js","sources":["../src/index.js"],"sourcesContent":["import { Messenger } from 'im.public';\nimport { Api } from 'sign.v2.api';\nimport { FeatureResolver } from 'sign.feature-resolver';\n\nimport './style.css';\n\nexport class KanbanEntityCreateGroupChat\n{\n\t#api: Api;\n\tinit(): void\n\t{\n\t\tthis.#api = new Api();\n\t}\n\n\tasync onCreateGroupChatButtonClickHandler(event): Promise<void>\n\t{\n\t\tconst featureResolver = FeatureResolver.instance();\n\t\tif (featureResolver.released('createDocumentChat'))\n\t\t{\n\t\t\tconst button = event.currentTarget;\n\t\t\tconst parentElement = button.closest('[data-id]');\n\t\t\tconst documentId = parentElement.getAttribute('data-id');\n\t\t\tconst chatType = button.getAttribute('chat-type');\n\t\t\tconst chatId = (await this.#api.createDocumentChat(chatType, documentId, true)).chatId;\n\t\t\tMessenger.openChat(`chat${chatId}`);\n\t\t}\n\t}\n}\n"],"names":["KanbanEntityCreateGroupChat","init","Api","onCreateGroupChatButtonClickHandler","event","featureResolver","FeatureResolver","instance","released","button","currentTarget","parentElement","closest","documentId","getAttribute","chatType","chatId","createDocumentChat","Messenger","openChat"],"mappings":";;;;;;;CAIqB;AAErB,CAAO,MAAMA,2BAA2B,CACxC;GAAA;KAAA;OAAA;OAAA;;;GAECC,IAAI,GACJ;KACC,4CAAI,gBAAQ,IAAIC,eAAG,EAAE;;GAGtB,MAAMC,mCAAmC,CAACC,KAAK,EAC/C;KACC,MAAMC,eAAe,GAAGC,oCAAe,CAACC,QAAQ,EAAE;KAClD,IAAIF,eAAe,CAACG,QAAQ,CAAC,oBAAoB,CAAC,EAClD;OACC,MAAMC,MAAM,GAAGL,KAAK,CAACM,aAAa;OAClC,MAAMC,aAAa,GAAGF,MAAM,CAACG,OAAO,CAAC,WAAW,CAAC;OACjD,MAAMC,UAAU,GAAGF,aAAa,CAACG,YAAY,CAAC,SAAS,CAAC;OACxD,MAAMC,QAAQ,GAAGN,MAAM,CAACK,YAAY,CAAC,WAAW,CAAC;OACjD,MAAME,MAAM,GAAG,CAAC,MAAM,4CAAI,cAAMC,kBAAkB,CAACF,QAAQ,EAAEF,UAAU,EAAE,IAAI,CAAC,EAAEG,MAAM;OACtFE,mBAAS,CAACC,QAAQ,CAAE,OAAMH,MAAO,EAAC,CAAC;;;CAGtC;;;;;;;;"}