this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};(function(e,s,t){"use strict";let i=e=>e,a,l,o,n,c,r;var d=babelHelpers.classPrivateFieldLooseKey("focusedItem");var p=babelHelpers.classPrivateFieldLooseKey("templates");var b=babelHelpers.classPrivateFieldLooseKey("renderUploadButtons");var u=babelHelpers.classPrivateFieldLooseKey("renderDocumentTemplates");var v=babelHelpers.classPrivateFieldLooseKey("waitForConnectTemplate");var _=babelHelpers.classPrivateFieldLooseKey("upload");var m=babelHelpers.classPrivateFieldLooseKey("resetFocus");class g extends t.EventEmitter{constructor(){super();Object.defineProperty(this,m,{value:F});Object.defineProperty(this,_,{value:f});Object.defineProperty(this,v,{value:L});Object.defineProperty(this,u,{value:P});Object.defineProperty(this,b,{value:h});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,d)[d]="";babelHelpers.classPrivateFieldLooseBase(this,p)[p]=new Map}setFocus(e){babelHelpers.classPrivateFieldLooseBase(this,m)[m]();babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e;const t=babelHelpers.classPrivateFieldLooseBase(this,p)[p].get(babelHelpers.classPrivateFieldLooseBase(this,d)[d]);s.Dom.addClass(t,"--active")}render(){const e=s.Loc.getMessage("SIGN_DOCUMENT_ADD_TITLE");const t=s.Loc.getMessage("SIGN_DOCUMENT_RECENT_TEMPLATES_TITLE");const l=babelHelpers.classPrivateFieldLooseBase(this,u)[u]();babelHelpers.classPrivateFieldLooseBase(this,v)[v](l);return s.Tag.render(a||(a=i`
			<div class="sign-document">
				<p class="sign-document__add-title">
					${0}
				</p>
				${0}
				<p class="sign-document__templates_title">
					${0}
				</p>
				${0}
			</div>
		`),e,babelHelpers.classPrivateFieldLooseBase(this,b)[b](),t,l)}}function h(){const e=s.Tag.render(l||(l=i`<input type="file" />`));const t={img:{title:s.Loc.getMessage("SIGN_DOCUMENT_CREATE_NEW_PIC"),info:"jpeg, png"},pdf:{title:s.Loc.getMessage("SIGN_DOCUMENT_NEW_PDF"),info:"Adobe Acrobat"},doc:{title:s.Loc.getMessage("SIGN_DOCUMENT_CREATE_NEW_DOC"),info:"Microsoft Word"}};s.Event.bind(e,"change",(async({target:e})=>{if(e.files.length>0){await babelHelpers.classPrivateFieldLooseBase(this,_)[_]()}}));const a=Object.entries(t);const c=s.Tag.render(o||(o=i`<div class="sign-document__list"></div>`));const r=a.map((([t,{title:a,info:l}])=>s.Tag.render(n||(n=i`
				<div
					class="sign-document__list_item --${0}"
					onclick="${0}"
				>
					<span class="sign-document__list_item-title">
						${0}
					</span>
					<span class="sign-document__list_item-info">
						${0}
					</span>
				</div>`),t,(()=>e.click()),a,l)));c.append(...r);return c}function P(){const e=s.Tag.render(c||(c=i`<div class="sign-document__list"></div>`));const t=[...Array(10).keys()].map((e=>{const t=`doc-${++e}`;const a="contact.png";const l="27.04.2023 16:55";const o=s.Tag.render(r||(r=i`
				<div
					class="sign-document__list_item sign-document__templates-list_item"
					tabindex="0"
					onfocusin="${0}"
					onfocusout="${0}"
				>
					<span class="sign-document__list_item-title">
						${0}
					</span>
					<span class="sign-document__list_item-info">
						${0}
					</span>
				</div>`),(()=>{this.setFocus(t);this.emit("selectDocument")}),(({relatedTarget:e})=>{babelHelpers.classPrivateFieldLooseBase(this,m)[m]();this.emit("applyDocument",{documentId:t,focusedNode:e})}),a,l);babelHelpers.classPrivateFieldLooseBase(this,p)[p].set(t,o);return o}));e.append(...t);return e}function L(e){const s=new MutationObserver((()=>{if(e.isConnected){const e=babelHelpers.classPrivateFieldLooseBase(this,p)[p].get(babelHelpers.classPrivateFieldLooseBase(this,d)[d]);e==null?void 0:e.focus();s.disconnect()}}));s.observe(document.body,{childList:true,subtree:true})}async function f(){await new Promise((e=>setTimeout(e,500)));this.emit("applyDocument",{upload:true,documentId:"doc-1"})}function F(){const e=babelHelpers.classPrivateFieldLooseBase(this,p)[p].get(babelHelpers.classPrivateFieldLooseBase(this,d)[d]);e&&s.Dom.removeClass(e,"--active");babelHelpers.classPrivateFieldLooseBase(this,d)[d]=""}e.DocumentUploader=g})(this.BX.Sign.V2=this.BX.Sign.V2||{},BX,BX.Event);
//# sourceMappingURL=document.bundle.map.js