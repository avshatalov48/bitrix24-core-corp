this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};(function(e,s,i,t){"use strict";async function a(e,a,n,r=true){const o={method:e};if(e==="POST"){Object.assign(o,{data:n},{preparePost:false,headers:[{name:"Content-Type",value:"application/json"}]})}try{var l;const e=await s.ajax.runAction(a,o);if(((l=e.errors)==null?void 0:l.length)>0){throw new Error(e.errors[0].message)}return e.data}catch(e){var d,c,u,m;if(!r){return e}const{message:n=`Error in ${a}`,errors:o=[]}=e;const l=(d=(c=o[0])==null?void 0:c.code)!=null?d:"";if(l==="SIGN_CLIENT_CONNECTION_ERROR"){const i=new t.StubNotAvailable({title:s.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_TITLE"),desc:s.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_DESC"),type:t.StubType.noConnection,link:{text:s.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_LINK_TEXT"),value:"18740976",type:t.StubLinkType.helpdesk}});i.openSlider();throw e}if(l==="LICENSE_LIMITATIONS"){top.BX.UI.InfoHelper.show("limit_office_e_signature_box");throw e}if(l==="SIGN_DOCUMENT_INCORRECT_STATUS"){const i=new t.StubNotAvailable({title:s.Loc.getMessage("SIGN_DOCUMENT_INCORRECT_STATUS_STUB_TITLE"),desc:s.Loc.getMessage("SIGN_DOCUMENT_INCORRECT_STATUS_STUB_DESC"),type:t.StubType.notAvailable});i.openSlider();const a=BX.SidePanel.Instance.getTopSlider();const n=e=>{if(a!==e.getSlider()){return}window.top.BX.removeCustomEvent(a.getWindow(),"SidePanel.Slider:onClose",n);const s=window.top.BX.SidePanel.Instance.getOpenSliders();for(let e=s.length-2;e>=0;e--){if(s[e].getUrl().startsWith("/sign/doc/")){s[e].close();return}}};window.top.BX.addCustomEvent(a.getWindow(),"SidePanel.Slider:onClose",n);throw e}if(l==="B2E_RESTRICTED_ON_TARIFF"||l==="B2E_SIGNERS_LIMIT_REACHED_ON_TARIFF"){top.BX.UI.InfoHelper.show("limit_office_e_signature");throw e}const p=(u=(m=o[0])==null?void 0:m.message)!=null?u:n;i.UI.Notification.Center.notify({content:s.Text.encode(p),autoHideDelay:4e3});throw e}}function n(e,s=null,i=true){return a("POST",e,s,i)}class r{getList(){return n("sign.api_v1.b2e.document.template.list")}completeTemplate(e){return n("sign.api_v1.b2e.document.template.complete",{uid:e})}send(e){return n("sign.api_v1.b2e.document.template.send",{uid:e})}}const o=Object.freeze({assignee:"assignee",signer:"signer",editor:"editor",reviewer:"reviewer"});const l=Object.freeze({done:"done",wait:"wait",ready:"ready",refused:"refused",stopped:"stopped",stoppableReady:"stoppable_ready",processing:"processing"});var d=babelHelpers.classPrivateFieldLooseKey("post");class c{constructor(){Object.defineProperty(this,d,{value:u});this.template=new r}register(e,s=null,i=false){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.register",{blankId:e,scenarioType:s,asTemplate:i})}upload(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.upload",{uid:e})}getPages(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.pages.list",{uid:e},false)}loadBlanks(e,s=null){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.list",{page:e,scenario:s})}createBlank(e,s=null,i=false){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.create",{files:e,scenario:s,forTemplate:i})}saveBlank(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.block.save",{documentUid:e,blocks:s},false)}loadBlocksData(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.block.loadData",{documentUid:e,blocks:s})}changeDocument(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.changeBlank",{uid:e,blankId:s})}changeDocumentLanguages(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.changeDocumentLanguages",{uid:e,lang:s})}changeRegionDocumentType(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyRegionDocumentType",{uid:e,type:s})}changeExternalId(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyExternalId",{uid:e,id:s})}changeExternalDate(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyExternalDate",{uid:e,externalDate:s})}loadDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.load",{uid:e})}configureDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.configure",{uid:e})}loadBlocksByDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.block.loadByDocument",{documentUid:e})}startSigning(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.signing.start",{uid:e})}addMember(e,s,i,t,a){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.add",{documentUid:e,entityType:s,entityId:i,party:t,presetId:a})}removeMember(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.remove",{uid:e})}loadMembers(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.load",{documentUid:e})}modifyCommunicationChannel(e,s,i){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.modifyCommunicationChannel",{uid:e,channelType:s,channelValue:i})}loadCommunications(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.loadCommunications",{uid:e})}modifyTitle(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyTitle",{uid:e,title:s})}modifyInitiator(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyInitiator",{uid:e,initiator:s})}modifyLanguageId(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyLangId",{uid:e,langId:s})}modifyReminderTypeForMemberRole(e,s,i){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.member.reminder.set",{documentUid:e,memberRole:s,type:i})}loadLanguages(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.loadLanguage")}refreshEntityNumber(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.refreshEntityNumber",{documentUid:e})}changeDomain(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.portal.changeDomain")}loadRestrictions(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.portal.hasRestrictions")}saveStamp(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.saveStamp",{memberUid:e,fileId:s})}setupB2eParties(e,s,i){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.setupB2eParties",{documentUid:e,representativeId:s,members:i})}updateChannelTypeToB2eMembers(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.member.communication.updateMembersChannelType",{members:e,channelType:s})}loadB2eCompanyList(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.crm.b2ecompany.list")}modifyB2eCompany(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyCompany",{documentUid:e,companyUid:s})}modifyB2eDocumentScheme(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyScheme",{uid:e,scheme:s})}loadB2eAvaialbleSchemes(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.scheme.load",{documentUid:e})}deleteB2eCompany(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.crm.b2ecompany.delete",{id:e})}getLinkForSigning(e,s=true){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.member.link.getLinkForSigning",{memberId:e},s)}memberLoadReadyForMessageStatus(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.send.getMembersForResend",{memberIds:e})}memberResendMessage(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.send.resendMessage",{memberIds:e})}getBlankById(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.getById",{id:e})}registerB2eCompany(e,s,i,t){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.crm.b2ecompany.register",{providerCode:e,taxId:s,companyId:i,externalProviderId:t})}setDecisionToSesB2eAgreement(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.member.communication.setAgreementDecision",{})}createDocumentChat(e,s,i){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.im.groupChat.createDocumentChat",{chatType:e,documentId:s,isEntityId:i})}getDocumentFillAndStartProgress(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.getFillAndStartProgress",{uid:e})}getMember(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.get",{uid:e})}}function u(e,s=null,i=true){return n(e,s,i)}e.Api=c;e.MemberRole=o;e.MemberStatus=l})(this.BX.Sign.V2=this.BX.Sign.V2||{},BX,BX,BX.UI.Sidepanel.Content);
//# sourceMappingURL=api.bundle.map.js