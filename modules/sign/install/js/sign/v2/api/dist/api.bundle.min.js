this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};(function(e,s,t,i){"use strict";async function a(e,a,r,n=true){const o={method:e};if(e==="POST"){Object.assign(o,{data:r},{preparePost:false,headers:[{name:"Content-Type",value:"application/json"}]})}try{var l;const e=await s.ajax.runAction(a,o);if(((l=e.errors)==null?void 0:l.length)>0){throw new Error(e.errors[0].message)}return e.data}catch(e){var d,c,u,m;if(!n){return e}const{message:r=`Error in ${a}`,errors:o=[]}=e;const l=(d=(c=o[0])==null?void 0:c.code)!=null?d:"";if(l==="SIGN_CLIENT_CONNECTION_ERROR"){const t=new i.StubNotAvailable({title:s.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_TITLE"),desc:s.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_DESC"),type:i.StubType.noConnection,link:{text:s.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_LINK_TEXT"),value:"18740976",type:i.StubLinkType.helpdesk}});t.openSlider();throw e}if(l==="LICENSE_LIMITATIONS"){top.BX.UI.InfoHelper.show("limit_office_e_signature_box");throw e}if(l==="SIGN_DOCUMENT_INCORRECT_STATUS"){const t=new i.StubNotAvailable({title:s.Loc.getMessage("SIGN_DOCUMENT_INCORRECT_STATUS_STUB_TITLE"),desc:s.Loc.getMessage("SIGN_DOCUMENT_INCORRECT_STATUS_STUB_DESC"),type:i.StubType.notAvailable});t.openSlider();const a=BX.SidePanel.Instance.getTopSlider();const r=e=>{if(a!==e.getSlider()){return}window.top.BX.removeCustomEvent(a.getWindow(),"SidePanel.Slider:onClose",r);const s=window.top.BX.SidePanel.Instance.getOpenSliders();for(let e=s.length-2;e>=0;e--){if(s[e].getUrl().startsWith("/sign/doc/")){s[e].close();return}}};window.top.BX.addCustomEvent(a.getWindow(),"SidePanel.Slider:onClose",r);throw e}if(l==="B2E_RESTRICTED_ON_TARIFF"||l==="B2E_SIGNERS_LIMIT_REACHED_ON_TARIFF"){top.BX.UI.InfoHelper.show("limit_office_e_signature");throw e}const p=(u=(m=o[0])==null?void 0:m.message)!=null?u:r;t.UI.Notification.Center.notify({content:s.Text.encode(p),autoHideDelay:4e3});throw e}}function r(e,s=null,t=true){return a("POST",e,s,t)}class n{getList(){return r("sign.api_v1.b2e.document.template.list")}completeTemplate(e){return r("sign.api_v1.b2e.document.template.complete",{uid:e})}send(e,s){return r("sign.api_v1.b2e.document.template.send",{uid:e,fields:s})}getFields(e){return r("sign.api_v1.b2e.document.template.getFields",{uid:e})}exportBlank(e){return r("sign.api_v1.b2e.document.template.export",{templateId:e},true)}importBlank(e){return r("sign.api_v1.b2e.document.template.import",{serializedTemplate:e},true)}}const o=Object.freeze({assignee:"assignee",signer:"signer",editor:"editor",reviewer:"reviewer"});const l=Object.freeze({done:"done",wait:"wait",ready:"ready",refused:"refused",stopped:"stopped",stoppableReady:"stoppable_ready",processing:"processing"});var d=babelHelpers.classPrivateFieldLooseKey("post");class c{constructor(){Object.defineProperty(this,d,{value:u});this.template=new n}register(e,s=null,t=false,i=0){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.register",{blankId:e,scenarioType:s,asTemplate:t,chatId:i})}upload(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.upload",{uid:e})}getPages(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.pages.list",{uid:e},false)}loadBlanks(e,s=null,t=null){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.list",{page:e,scenario:s,countPerPage:t})}createBlank(e,s=null,t=false){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.create",{files:e,scenario:s,forTemplate:t})}saveBlank(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.block.save",{documentUid:e,blocks:s},false)}loadBlocksData(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.block.loadData",{documentUid:e,blocks:s})}changeDocument(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.changeBlank",{uid:e,blankId:s})}changeDocumentLanguages(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.changeDocumentLanguages",{uid:e,lang:s})}changeRegionDocumentType(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyRegionDocumentType",{uid:e,type:s})}changeSenderDocumentType(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyInitiatedByType",{uid:e,initiatedByType:s})}changeExternalId(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyExternalId",{uid:e,id:s})}changeExternalDate(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyExternalDate",{uid:e,externalDate:s})}changeIntegrationId(e,s=null){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyIntegrationId",{uid:e,integrationId:s})}loadDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.load",{uid:e})}loadDocumentById(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.loadById",{id:e})}configureDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.configure",{uid:e})}configureDocumentGroup(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.document.group.configure",{groupId:e})}loadBlocksByDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.block.loadByDocument",{documentUid:e})}startSigning(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.signing.start",{uid:e})}addMember(e,s,t,i,a){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.add",{documentUid:e,entityType:s,entityId:t,party:i,presetId:a})}removeMember(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.remove",{uid:e})}loadMembers(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.load",{documentUid:e})}modifyCommunicationChannel(e,s,t){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.modifyCommunicationChannel",{uid:e,channelType:s,channelValue:t})}loadCommunications(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.loadCommunications",{uid:e})}modifyTitle(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyTitle",{uid:e,title:s})}modifyInitiator(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyInitiator",{uid:e,initiator:s})}modifyLanguageId(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyLangId",{uid:e,langId:s})}modifyReminderTypeForMemberRole(e,s,t){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.member.reminder.set",{documentUid:e,memberRole:s,type:t})}loadLanguages(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.loadLanguage")}refreshEntityNumber(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.refreshEntityNumber",{documentUid:e})}changeDomain(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.portal.changeDomain")}loadRestrictions(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.portal.hasRestrictions")}saveStamp(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.saveStamp",{memberUid:e,fileId:s})}setupB2eParties(e,s,t){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.setupB2eParties",{documentUid:e,representativeId:s,members:t})}syncB2eMembersWithDepartments(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.syncB2eMembersWithDepartments",{documentUid:e,currentParty:s})}getUniqUserCountForMembers(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.getUniqSignersCount",{members:e})}getUniqUserCountForDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.getUniqSignersCountForDocument",{documentUid:e})}getDepartmentsForDocument(e,s,t){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.getDepartmentsForDocument",{documentUid:e,page:s,pageSize:t})}getMembersForDocument(e,s,t){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.getMembersForDocument",{documentUid:e,page:s,pageSize:t})}updateChannelTypeToB2eMembers(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.member.communication.updateMembersChannelType",{members:e,channelType:s})}loadB2eCompanyList(e=null){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.crm.b2ecompany.list",{forDocumentInitiatedByType:e})}modifyB2eCompany(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyCompany",{documentUid:e,companyUid:s})}modifyB2eDocumentScheme(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.modifyScheme",{uid:e,scheme:s})}loadB2eAvaialbleSchemes(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.scheme.load",{documentUid:e})}deleteB2eCompany(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.crm.b2ecompany.delete",{id:e})}getLinkForSigning(e,s=true){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.member.link.getLinkForSigning",{memberId:e},s)}memberLoadReadyForMessageStatus(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.send.getMembersForResend",{memberIds:e})}memberResendMessage(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.send.resendMessage",{memberIds:e})}getBlankById(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.blank.getById",{id:e})}registerB2eCompany(e,s,t,i){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.crm.b2ecompany.register",{providerCode:e,taxId:s,companyId:t,externalProviderId:i})}setDecisionToSesB2eAgreement(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.member.communication.setAgreementDecision",{})}createDocumentChat(e,s,t){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.im.groupChat.createDocumentChat",{chatType:e,documentId:s,isEntityId:t})}getDocumentFillAndStartProgress(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.getFillAndStartProgress",{uid:e})}getDocumentGroupFillAndStartProgress(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.document.group.getFillAndStartProgress",{groupId:e})}getMember(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.member.get",{uid:e})}createDocumentsGroup(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.document.group.create")}removeDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.document.remove",{uid:e})}attachGroupToDocument(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.document.group.attach",{documentUid:e,groupId:s})}getDocumentListInGroup(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.document.group.documentList",{groupId:e})}changeTemplateVisibility(e,s){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.document.template.changeVisibility",{templateId:e,visibility:s})}deleteTemplate(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.b2e.document.template.delete",{templateId:e})}checkCompanyHrIntegration(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.humanresources.hcmLink.checkCompany",{id:e})}checkNotMappedMembersHrIntegration(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]("sign.api_v1.integration.humanresources.hcmLink.loadNotMappedMembers",{documentUid:e})}}function u(e,s=null,t=true){return r(e,s,t)}e.Api=c;e.MemberRole=o;e.MemberStatus=l})(this.BX.Sign.V2=this.BX.Sign.V2||{},BX,BX,BX.UI.Sidepanel.Content);
//# sourceMappingURL=api.bundle.map.js