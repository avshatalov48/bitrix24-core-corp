this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};(function(e,s,t,i,a){"use strict";var r=babelHelpers.classPrivateFieldLooseKey("options");class o{constructor(e={}){Object.defineProperty(this,r,{writable:true,value:{}});babelHelpers.classPrivateFieldLooseBase(this,r)[r]=e}update(e){babelHelpers.classPrivateFieldLooseBase(this,r)[r]={...babelHelpers.classPrivateFieldLooseBase(this,r)[r],...e}}getOptions(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r]}}var l=babelHelpers.classPrivateFieldLooseKey("context");var n=babelHelpers.classPrivateFieldLooseKey("api");var d=babelHelpers.classPrivateFieldLooseKey("sendWithProviderType");var c=babelHelpers.classPrivateFieldLooseKey("convertProviderCodeToP1IntegrationType");class b{constructor(e={}){var s;Object.defineProperty(this,c,{value:v});Object.defineProperty(this,d,{value:p});Object.defineProperty(this,l,{writable:true,value:void 0});Object.defineProperty(this,n,{writable:true,value:new t.Api});babelHelpers.classPrivateFieldLooseBase(this,l)[l]=new o((s=e.contextOptions)!=null?s:{})}send(e){a.sendData({...babelHelpers.classPrivateFieldLooseBase(this,l)[l].getOptions(),...e,tool:"sign"})}setContext(e){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=e}getContext(){return babelHelpers.classPrivateFieldLooseBase(this,l)[l]}sendWithProviderTypeAndDocId(e,s){void babelHelpers.classPrivateFieldLooseBase(this,d)[d](e,s)}sendWithDocId(e,t){if(s.Type.isNumber(t)){this.send({...e,p5:`docId_${t}`});return}(async()=>{const s=await babelHelpers.classPrivateFieldLooseBase(this,n)[n].loadDocument(t);this.send({...e,p5:`docId_${s.id}`})})()}}async function p(e,t){const i=s.Type.isString(t)?await babelHelpers.classPrivateFieldLooseBase(this,n)[n].loadDocument(t):await babelHelpers.classPrivateFieldLooseBase(this,n)[n].loadDocumentById(t);if(!i){console.warn("Document not found by identifier",t);return}this.send({...e,p1:babelHelpers.classPrivateFieldLooseBase(this,c)[c](i.providerCode),p5:`docId_${i.id}`})}function v(e){switch(e){case i.ProviderCode.sesRu:case i.ProviderCode.sesCom:return"integration_bitrix24KEDO";case i.ProviderCode.goskey:return"integration_Goskluch";case i.ProviderCode.external:return"integration_external";default:return"integration_N"}}e.Context=o;e.Analytics=b})(this.BX.Sign.V2=this.BX.Sign.V2||{},BX,BX.Sign.V2,BX.Sign.V2.B2e,BX.UI.Analytics);
//# sourceMappingURL=analytics.bundle.map.js