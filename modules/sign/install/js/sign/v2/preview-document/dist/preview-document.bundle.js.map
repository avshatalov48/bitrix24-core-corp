{"version":3,"file":"preview-document.bundle.js","sources":["../src/index.js"],"sourcesContent":["import { Dom, Type } from 'main.core';\nimport { Api } from 'sign.v2.api';\nimport { Preview } from 'sign.v2.preview';\n\ntype Options = {\n\tdocumentId: string,\n\tcontainer: HTMLElement\n}\nexport class PreviewDocument\n{\n\t#documentId: Number;\n\t#container: HTMLElement;\n\t#preview: Preview;\n\t#api: Api;\n\n\tconstructor(options: Options)\n\t{\n\t\tthis.#documentId = options.documentId;\n\t\tthis.#container = options.container;\n\t\tthis.#preview = new Preview();\n\t\tthis.#api = new Api();\n\t}\n\n\tasync render(): void\n\t{\n\t\tconst pagesResponse = await this.#api.getPages(this.#documentId);\n\t\tif (Type.isObject(pagesResponse) && Type.isArrayFilled(pagesResponse.pages))\n\t\t{\n\t\t\tthis.#preview.urls = pagesResponse.pages.map((page) => page.url);\n\t\t\tthis.#preview.ready = true;\n\t\t}\n\n\t\tDom.append(this.#preview.getLayout(), this.#container);\n\t}\n}\n"],"names":["PreviewDocument","constructor","options","documentId","container","Preview","Api","render","pagesResponse","getPages","Type","isObject","isArrayFilled","pages","urls","map","page","url","ready","Dom","append","getLayout"],"mappings":";;;;;;CAE0C;CAAA;CAAA;CAAA;AAM1C,CAAO,MAAMA,eAAe,CAC5B;GAMCC,WAAW,CAACC,OAAgB,EAC5B;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA;;KACC,4CAAI,8BAAeA,OAAO,CAACC,UAAU;KACrC,4CAAI,4BAAcD,OAAO,CAACE,SAAS;KACnC,4CAAI,wBAAY,IAAIC,uBAAO,EAAE;KAC7B,4CAAI,gBAAQ,IAAIC,eAAG,EAAE;;GAGtB,MAAMC,MAAM,GACZ;KACC,MAAMC,aAAa,GAAG,MAAM,4CAAI,cAAMC,QAAQ,yCAAC,IAAI,4BAAa;KAChE,IAAIC,cAAI,CAACC,QAAQ,CAACH,aAAa,CAAC,IAAIE,cAAI,CAACE,aAAa,CAACJ,aAAa,CAACK,KAAK,CAAC,EAC3E;OACC,4CAAI,sBAAUC,IAAI,GAAGN,aAAa,CAACK,KAAK,CAACE,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,CAAC;OAChE,4CAAI,sBAAUC,KAAK,GAAG,IAAI;;KAG3BC,aAAG,CAACC,MAAM,CAAC,4CAAI,sBAAUC,SAAS,EAAE,0CAAE,IAAI,0BAAY;;CAExD;;;;;;;;"}