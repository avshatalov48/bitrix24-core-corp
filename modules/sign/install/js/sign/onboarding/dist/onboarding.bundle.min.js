this.BX=this.BX||{};(function(e,t,s,o,a,i,n,r){"use strict";var l="/bitrix/js/sign/onboarding/dist/video/b2e_welcome.gif";let c=e=>e,_,b;const d=16571388;const u=20338910;const p=23174934;const g="sign-b2e-onboarding-tour-id";var B=babelHelpers.classPrivateFieldLooseKey("backend");var v=babelHelpers.classPrivateFieldLooseKey("getB2eByEmployeeGuide");var P=babelHelpers.classPrivateFieldLooseKey("getB2eWelcomeGuide");var E=babelHelpers.classPrivateFieldLooseKey("getB2eFallbackGuide");var L=babelHelpers.classPrivateFieldLooseKey("createB2eByEmployeePopup");var O=babelHelpers.classPrivateFieldLooseKey("createB2eWelcomePopup");var T=babelHelpers.classPrivateFieldLooseKey("renderIcon");var N=babelHelpers.classPrivateFieldLooseKey("createB2eNewDocumentButtonStep");var h=babelHelpers.classPrivateFieldLooseKey("createB2eTemplatesStep");var I=babelHelpers.classPrivateFieldLooseKey("createB2eKanbanRouteStep");var y=babelHelpers.classPrivateFieldLooseKey("shouldStartB2eOnboarding");class S{constructor(){Object.defineProperty(this,y,{value:D});Object.defineProperty(this,I,{value:w});Object.defineProperty(this,h,{value:H});Object.defineProperty(this,N,{value:A});Object.defineProperty(this,T,{value:R});Object.defineProperty(this,O,{value:m});Object.defineProperty(this,L,{value:M});Object.defineProperty(this,E,{value:F});Object.defineProperty(this,P,{value:f});Object.defineProperty(this,v,{value:G});Object.defineProperty(this,B,{writable:true,value:new o.Backend})}async startB2eByEmployeeOnboarding(e){const t=await babelHelpers.classPrivateFieldLooseBase(this,y)[y]();if(!t){return}a.BannerDispatcher.high.toQueue((t=>{const s=babelHelpers.classPrivateFieldLooseBase(this,v)[v](e,t);const o=babelHelpers.classPrivateFieldLooseBase(this,L)[L](s);babelHelpers.classPrivateFieldLooseBase(this,B)[B].saveVisit(g);o.show()}))}async startB2eWelcomeOnboarding(e){const t=await babelHelpers.classPrivateFieldLooseBase(this,y)[y]();if(!t){return}a.BannerDispatcher.high.toQueue((t=>{const s=babelHelpers.classPrivateFieldLooseBase(this,P)[P](e,t);const o=babelHelpers.classPrivateFieldLooseBase(this,O)[O](s);babelHelpers.classPrivateFieldLooseBase(this,B)[B].saveVisit(g);o.show()}))}async startB2eFallbackOnboarding(e){a.BannerDispatcher.high.toQueue((t=>{const s=babelHelpers.classPrivateFieldLooseBase(this,E)[E](e,t);s.startOnce()}))}getB2bGuide(e){return new o.Guide({id:"sign-tour-guide-sign-start-kanban",autoSave:true,simpleMode:true,steps:[{target:e,title:t.Loc.getMessage("SIGN_ONBOARDING_B2B_BTN_TITLE"),text:t.Loc.getMessage("SIGN_ONBOARDING_B2B_BTN_TEXT"),article:d}]})}}function G(e,t){var s;return new o.Guide({id:(s=e.tourId)!=null?s:"sign-tour-guide-sign-start-kanban-b2e-by-employee",autoSave:true,simpleMode:false,events:{onFinish:t},steps:[babelHelpers.classPrivateFieldLooseBase(this,I)[I](".ui-toolbar-after-title-buttons > button.sign-b2e-onboarding-route"),babelHelpers.classPrivateFieldLooseBase(this,h)[h]("div#sign_sign_b2e_employee_template_list")]})}function f(e,t){var s;return new o.Guide({id:(s=e.tourId)!=null?s:"sign-tour-guide-sign-start-kanban-b2e-by-employee",autoSave:true,simpleMode:false,events:{onFinish:t},steps:[babelHelpers.classPrivateFieldLooseBase(this,N)[N](".ui-toolbar-after-title-buttons > .sign-b2e-onboarding-create",e.region),babelHelpers.classPrivateFieldLooseBase(this,I)[I](".ui-toolbar-after-title-buttons > .sign-b2e-onboarding-route"),babelHelpers.classPrivateFieldLooseBase(this,h)[h]("div#sign_sign_b2e_employee_template_list")]})}function F(e,t){var s;return new o.Guide({id:(s=e.tourId)!=null?s:"sign-tour-guide-sign-start-kanban-b2e",autoSave:true,simpleMode:true,events:{onFinish:t},steps:[babelHelpers.classPrivateFieldLooseBase(this,N)[N](".ui-toolbar-after-title-buttons > .sign-b2e-onboarding-create",e.region)]})}function M(e){const o=new s.Popup({content:t.Tag.render(_||(_=c`
				<div>
					<div class="sign__b2e_by_employee_onboarding_popup-title">${0}</div>
					<div class="sign__b2e_by_employee_onboarding_popup-text">${0}</div>
				</div>
			`),t.Loc.getMessage("SIGN_ONBOARDING_B2E_BY_EMPLOYEE_POPUP_TITLE"),t.Loc.getMessage("SIGN_ONBOARDING_B2E_BY_EMPLOYEE_POPUP_TEXT")),closeIcon:false,width:371,height:180,padding:20,overlay:true,className:"sign__b2e_by_employee_onboarding_popup",contentColor:"white",buttons:[new i.Button({color:i.Button.Color.PRIMARY,size:i.Button.Size.SMALL,round:true,noCaps:true,text:t.Loc.getMessage("SIGN_ONBOARDING_B2E_BY_EMPLOYEE_POPUP_BTN_TEXT"),events:{click(){o.close();e.start()}}})]});return o}function m(e){const o=new s.Popup({className:"sign__b2e-onboarding-welcome-popup",closeIcon:false,width:500,height:517,padding:20,buttons:[new i.Button({color:i.Button.Color.PRIMARY,size:i.Button.Size.SMALL,round:true,noCaps:true,text:t.Loc.getMessage("SIGN_ONBOARDING_B2E_WELCOME_POPUP_BTN_TEXT"),className:"sign__b2e-onboarding-welcome-popup_start-guide",events:{click(){o.close();e.start()}}})],content:t.Tag.render(b||(b=c`
				<div class="sign__onboarding-popup-content">
					<div class="sign__onboarding-popup-content_header">
						<div class="sign__onboarding-popup-content_header-icon">
							${0}
						</div>
						<div class="sign__onboarding-popup-content_header-title">
							${0}
						</div>
					</div>
					<div class="sign__onboarding-popup-content_promo-video-wrapper">
						<img src="${0}" alt="video">
					</div>
					<div class="sign__onboarding-popup-content_footer">
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,T)[T](),t.Loc.getMessage("SIGN_ONBOARDING_B2E_WELCOME_POPUP_TITLE"),l,t.Loc.getMessage("SIGN_ONBOARDING_B2E_WELCOME_POPUP_TEXT"))});return o}function R(){const e=getComputedStyle(document.body).getPropertyValue("--ui-color-on-primary");const t=new r.Icon({color:e,size:18,icon:r.Actions.PENCIL_DRAW});return t.render()}function A(e,s){const o=s==="ru"?t.Loc.getMessage("SIGN_ONBOARDING_B2E_STEP_CREATE_TITLE_RU"):t.Loc.getMessage("SIGN_ONBOARDING_B2E_STEP_CREATE_TITLE");const a=s==="ru"?t.Loc.getMessage("SIGN_ONBOARDING_B2E_STEP_CREATE_TEXT_RU"):t.Loc.getMessage("SIGN_ONBOARDING_B2E_STEP_CREATE_TEXT");return{target:e,title:o,text:a,article:u}}function H(e){return{target:e,title:t.Loc.getMessage("SIGN_ONBOARDING_B2E_STEP_TEMPLATES_TITLE"),text:t.Loc.getMessage("SIGN_ONBOARDING_B2E_STEP_TEMPLATES_TEXT"),article:p}}function w(e){return{target:e,title:t.Loc.getMessage("SIGN_ONBOARDING_B2E_STEP_ROUTE_TITLE"),text:t.Loc.getMessage("SIGN_ONBOARDING_B2E_STEP_ROUTE_TEXT")}}async function D(){const{lastVisitDate:e}=await babelHelpers.classPrivateFieldLooseBase(this,B)[B].getLastVisitDate(g);return t.Type.isNull(e)}e.Onboarding=S})(this.BX.Sign=this.BX.Sign||{},BX,BX.Main,BX.Sign.Tour,BX.UI,BX.UI,BX,BX.UI.IconSet);
//# sourceMappingURL=onboarding.bundle.map.js