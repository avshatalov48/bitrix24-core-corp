this.BX=this.BX||{};(function(e,s,t,l,a){"use strict";var i=babelHelpers.classPrivateFieldLooseKey("targetElement");var r=babelHelpers.classPrivateFieldLooseKey("spotlight");class o{constructor(){Object.defineProperty(this,i,{writable:true,value:void 0});Object.defineProperty(this,r,{writable:true,value:null});if(new.target===o){throw new Error("This class is abstract and cannot be instantiated directly")}}getWidth(){return o.WIDTH}getAngleOffset(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i].offsetWidth/2}isAutoHide(){return true}setTargetElement(e){babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e}showLight(){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=new BX.SpotLight({targetElement:babelHelpers.classPrivateFieldLooseBase(this,i)[i],targetVertex:"middle-center",color:this.getSpotlightColor()});babelHelpers.classPrivateFieldLooseBase(this,r)[r].show()}close(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].close()}getIconSrc(){return null}getSpotlightColor(){return null}getConditionColor(){return"primary"}getTitle(){}getText(){}}o.WIDTH=380;o.PATH_TO_IMAGES="/bitrix/js/tasks/clue/images/spot/";class b extends o{getWidth(){return 340}getIconSrc(){return null}getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_COPILOT_ADVICE_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_COPILOT_ADVICE_TEXT")}getSpotlightColor(){return"#8e52ec"}getConditionColor(){return"copilot"}}class c extends o{getIconSrc(){return`${o.PATH_TO_IMAGES}my-tasks.svg`}getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_MY_TASKS_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_MY_TASKS_TEXT")}}class n extends o{getIconSrc(){return`${o.PATH_TO_IMAGES}task-start.svg`}getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_TASK_START_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_TASK_START_TEXT")}}var d=babelHelpers.classPrivateFieldLooseKey("params");var L=babelHelpers.classPrivateFieldLooseKey("spot");var h=babelHelpers.classPrivateFieldLooseKey("guide");class p{constructor(e){Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:null});Object.defineProperty(this,h,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e}show(e,l){babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e;babelHelpers.classPrivateFieldLooseBase(this,L)[L].setTargetElement(l);babelHelpers.classPrivateFieldLooseBase(this,h)[h]=new s.Guide({id:babelHelpers.classPrivateFieldLooseBase(this,d)[d].id,autoSave:babelHelpers.classPrivateFieldLooseBase(this,d)[d].autoSave===true,overlay:babelHelpers.classPrivateFieldLooseBase(this,d)[d].overlay===true,simpleMode:true,onEvents:true,steps:[{target:l,iconSrc:babelHelpers.classPrivateFieldLooseBase(this,L)[L].getIconSrc(),title:babelHelpers.classPrivateFieldLooseBase(this,L)[L].getTitle(),text:babelHelpers.classPrivateFieldLooseBase(this,L)[L].getText(),position:"bottom",condition:{top:true,bottom:false,color:babelHelpers.classPrivateFieldLooseBase(this,L)[L].getConditionColor()}}]});t.BannerDispatcher.normal.toQueue((e=>{const s=babelHelpers.classPrivateFieldLooseBase(this,h)[h].getPopup();const t=()=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L].close();e()};s.setWidth(babelHelpers.classPrivateFieldLooseBase(this,L)[L].getWidth());s.setAngle({offset:babelHelpers.classPrivateFieldLooseBase(this,L)[L].getAngleOffset()});s.setAutoHide(babelHelpers.classPrivateFieldLooseBase(this,L)[L].isAutoHide());s.subscribe("onClose",t);s.subscribe("onDestroy",t);babelHelpers.classPrivateFieldLooseBase(this,L)[L].showLight();babelHelpers.classPrivateFieldLooseBase(this,h)[h].start()}))}isShown(){if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]===null){return false}return babelHelpers.classPrivateFieldLooseBase(this,h)[h].getPopup().isShown()}close(){if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]){babelHelpers.classPrivateFieldLooseBase(this,h)[h].close()}if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]){babelHelpers.classPrivateFieldLooseBase(this,L)[L].close()}}adjustPosition(e){if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]){babelHelpers.classPrivateFieldLooseBase(this,h)[h].getPopup().setBindElement(e);babelHelpers.classPrivateFieldLooseBase(this,h)[h].getPopup().adjustPosition()}if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]){babelHelpers.classPrivateFieldLooseBase(this,L)[L].setTargetElement(e);babelHelpers.classPrivateFieldLooseBase(this,L)[L].showLight()}}}p.SPOT=Object.freeze({MY_TASKS:new c,TASK_START:new n,FLOW_COPILOT_ADVICE:new b});e.Clue=p})(this.BX.Tasks=this.BX.Tasks||{},BX.UI.Tour,BX.UI,BX,BX);
//# sourceMappingURL=clue.bundle.map.js