this.BX=this.BX||{};(function(e,s,t,l,a){"use strict";var i=babelHelpers.classPrivateFieldLooseKey("targetElement");var r=babelHelpers.classPrivateFieldLooseKey("spotlight");class o{constructor(){Object.defineProperty(this,i,{writable:true,value:void 0});Object.defineProperty(this,r,{writable:true,value:null});if(new.target===o){throw new Error("This class is abstract and cannot be instantiated directly")}}getWidth(){return o.WIDTH}getAngleOffset(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i].offsetWidth/2}isAutoHide(){return true}setTargetElement(e){babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e}showLight(){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=new BX.SpotLight({targetElement:babelHelpers.classPrivateFieldLooseBase(this,i)[i],targetVertex:"middle-center"});babelHelpers.classPrivateFieldLooseBase(this,r)[r].show()}close(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].close()}getIconSrc(){return null}getTitle(){}getText(){}}o.WIDTH=380;o.PATH_TO_IMAGES="/bitrix/js/tasks/clue/images/spot/";class b extends o{getIconSrc(){return`${o.PATH_TO_IMAGES}my-tasks.svg`}getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_MY_TASKS_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_MY_TASKS_TEXT")}}class c extends o{getIconSrc(){return`${o.PATH_TO_IMAGES}task-start.svg`}getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_TASK_START_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_TASK_START_TEXT")}}var n=babelHelpers.classPrivateFieldLooseKey("params");var d=babelHelpers.classPrivateFieldLooseKey("spot");var p=babelHelpers.classPrivateFieldLooseKey("guide");class h{constructor(e){Object.defineProperty(this,n,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:null});Object.defineProperty(this,p,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e}show(e,l){babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e;babelHelpers.classPrivateFieldLooseBase(this,d)[d].setTargetElement(l);babelHelpers.classPrivateFieldLooseBase(this,p)[p]=new s.Guide({id:babelHelpers.classPrivateFieldLooseBase(this,n)[n].id,autoSave:babelHelpers.classPrivateFieldLooseBase(this,n)[n].autoSave===true,overlay:babelHelpers.classPrivateFieldLooseBase(this,n)[n].overlay===true,simpleMode:true,onEvents:true,steps:[{target:l,iconSrc:babelHelpers.classPrivateFieldLooseBase(this,d)[d].getIconSrc(),title:babelHelpers.classPrivateFieldLooseBase(this,d)[d].getTitle(),text:babelHelpers.classPrivateFieldLooseBase(this,d)[d].getText(),position:"bottom",condition:{top:true,bottom:false,color:"primary"}}]});t.BannerDispatcher.normal.toQueue((e=>{const s=babelHelpers.classPrivateFieldLooseBase(this,p)[p].getPopup();const t=()=>{babelHelpers.classPrivateFieldLooseBase(this,d)[d].close();e()};s.setWidth(babelHelpers.classPrivateFieldLooseBase(this,d)[d].getWidth());s.setAngle({offset:babelHelpers.classPrivateFieldLooseBase(this,d)[d].getAngleOffset()});s.setAutoHide(babelHelpers.classPrivateFieldLooseBase(this,d)[d].isAutoHide());s.subscribe("onClose",t);s.subscribe("onDestroy",t);babelHelpers.classPrivateFieldLooseBase(this,d)[d].showLight();babelHelpers.classPrivateFieldLooseBase(this,p)[p].start()}))}isShown(){if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]===null){return false}return babelHelpers.classPrivateFieldLooseBase(this,p)[p].getPopup().isShown()}close(){if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]){babelHelpers.classPrivateFieldLooseBase(this,p)[p].close()}if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]){babelHelpers.classPrivateFieldLooseBase(this,d)[d].close()}}adjustPosition(e){if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]){babelHelpers.classPrivateFieldLooseBase(this,p)[p].getPopup().setBindElement(e);babelHelpers.classPrivateFieldLooseBase(this,p)[p].getPopup().adjustPosition()}if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]){babelHelpers.classPrivateFieldLooseBase(this,d)[d].setTargetElement(e);babelHelpers.classPrivateFieldLooseBase(this,d)[d].showLight()}}}h.SPOT=Object.freeze({MY_TASKS:new b,TASK_START:new c});e.Clue=h})(this.BX.Tasks=this.BX.Tasks||{},BX.UI.Tour,BX.UI,BX,BX);
//# sourceMappingURL=clue.bundle.map.js