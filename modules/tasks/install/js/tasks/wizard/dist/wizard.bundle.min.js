this.BX=this.BX||{};(function(e,s,t){"use strict";let a=e=>e,l,i,o,r,n,d,c,b,v,p,u;var B=babelHelpers.classPrivateFieldLooseKey("params");var h=babelHelpers.classPrivateFieldLooseKey("layout");var P=babelHelpers.classPrivateFieldLooseKey("steps");var L=babelHelpers.classPrivateFieldLooseKey("getPreviousStep");var F=babelHelpers.classPrivateFieldLooseKey("updateStepsAvailability");var H=babelHelpers.classPrivateFieldLooseKey("getCurrentStepIndex");var f=babelHelpers.classPrivateFieldLooseKey("renderStepHeader");var y=babelHelpers.classPrivateFieldLooseKey("renderStepTitle");var C=babelHelpers.classPrivateFieldLooseKey("renderStepContainer");var g=babelHelpers.classPrivateFieldLooseKey("renderButtonsContainer");var _=babelHelpers.classPrivateFieldLooseKey("renderArticle");var D=babelHelpers.classPrivateFieldLooseKey("openHelpDesk");var S=babelHelpers.classPrivateFieldLooseKey("renderStep");var w=babelHelpers.classPrivateFieldLooseKey("updateFade");var k=babelHelpers.classPrivateFieldLooseKey("renderBackButton");var O=babelHelpers.classPrivateFieldLooseKey("renderCancelButton");var m=babelHelpers.classPrivateFieldLooseKey("renderContinueButton");var T=babelHelpers.classPrivateFieldLooseKey("onContinueButtonClickHandler");var K=babelHelpers.classPrivateFieldLooseKey("renderFinishButton");var z=babelHelpers.classPrivateFieldLooseKey("renderSaveChangesButton");var $=babelHelpers.classPrivateFieldLooseKey("openStep");class j{constructor(e){Object.defineProperty(this,$,{value:ee});Object.defineProperty(this,z,{value:Y});Object.defineProperty(this,K,{value:V});Object.defineProperty(this,T,{value:Q});Object.defineProperty(this,m,{value:J});Object.defineProperty(this,O,{value:q});Object.defineProperty(this,k,{value:Z});Object.defineProperty(this,w,{value:U});Object.defineProperty(this,S,{value:W});Object.defineProperty(this,D,{value:G});Object.defineProperty(this,_,{value:x});Object.defineProperty(this,g,{value:M});Object.defineProperty(this,C,{value:X});Object.defineProperty(this,y,{value:N});Object.defineProperty(this,f,{value:R});Object.defineProperty(this,H,{value:A});Object.defineProperty(this,F,{value:I});Object.defineProperty(this,L,{value:E});Object.defineProperty(this,B,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,B)[B]=e;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e.steps;babelHelpers.classPrivateFieldLooseBase(this,h)[h]={}}render(){const e=s.Tag.render(l||(l=a`
			<div class="tasks-wizard__container tasks-wizard__scope">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,f)[f](babelHelpers.classPrivateFieldLooseBase(this,P)[P]),babelHelpers.classPrivateFieldLooseBase(this,C)[C](babelHelpers.classPrivateFieldLooseBase(this,P)[P]));babelHelpers.classPrivateFieldLooseBase(this,$)[$](babelHelpers.classPrivateFieldLooseBase(this,P)[P][0]);return e}getCurrentStep(){return babelHelpers.classPrivateFieldLooseBase(this,P)[P][babelHelpers.classPrivateFieldLooseBase(this,H)[H]()]}update(){babelHelpers.classPrivateFieldLooseBase(this,F)[F]()}}function E(){return babelHelpers.classPrivateFieldLooseBase(this,P)[P][babelHelpers.classPrivateFieldLooseBase(this,H)[H]()-1]}function I(){let e=true;for(const a of babelHelpers.classPrivateFieldLooseBase(this,P)[P]){if(e){s.Dom.removeClass(a.titleNode,"--unavailable")}else{s.Dom.addClass(a.titleNode,"--unavailable")}const l=s.Type.isFunction(a.isFilled)&&!a.isFilled();e=e&&!l;if(a.selected){babelHelpers.classPrivateFieldLooseBase(this,h)[h].continueButton.setState(e?null:t.ButtonState.DISABLED)}}babelHelpers.classPrivateFieldLooseBase(this,h)[h].finishButton.setState(e?null:t.ButtonState.DISABLED);if(babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton){babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton.setState(e?null:t.ButtonState.DISABLED)}}function A(){for(const[e,s]of babelHelpers.classPrivateFieldLooseBase(this,P)[P].entries()){if(s.selected){return e}}return 0}function R(e){const t=e.slice(0,-1);const l=e.slice(-1)[0];return s.Tag.render(i||(i=a`
			<div class="tasks-wizard__step_header">
				${0}
				${0}
			</div>
		`),t.map((e=>babelHelpers.classPrivateFieldLooseBase(this,y)[y](e,false))),babelHelpers.classPrivateFieldLooseBase(this,y)[y](l,true))}function N(e,t){const l=t?null:s.Tag.render(o||(o=a`
			<div class="ui-icon-set --chevron-right" style="--ui-icon-set__icon-size: 15px;"></div>
		`));e.titleNode=s.Tag.render(r||(r=a`
			<span
				class="tasks-wizard__step_name ${0}"
				data-id="tasks-wizard-step-${0}"
			>${0}</span>
		`),e.selected?"--selected":"",e.id,e.title);s.Event.bind(e.titleNode,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,$)[$](e)));return s.Tag.render(n||(n=a`
			<span class="tasks-wizard__step_name-container">
				${0}
				${0}
			</span>
		`),e.titleNode,l)}function X(e){return s.Tag.render(d||(d=a`
			<div class="tasks-wizard__step_container">
				${0}
				${0}
			</div>
		`),e.map((e=>babelHelpers.classPrivateFieldLooseBase(this,S)[S](e))),babelHelpers.classPrivateFieldLooseBase(this,g)[g]())}function M(){return s.Tag.render(c||(c=a`
			<div class="tasks-wizard__step_buttons-container">
				${0}
				${0}
				${0}
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,k)[k](),babelHelpers.classPrivateFieldLooseBase(this,O)[O](),babelHelpers.classPrivateFieldLooseBase(this,m)[m](),babelHelpers.classPrivateFieldLooseBase(this,K)[K](),babelHelpers.classPrivateFieldLooseBase(this,z)[z](),babelHelpers.classPrivateFieldLooseBase(this,_)[_]())}function x(){if(!s.Type.isNumber(babelHelpers.classPrivateFieldLooseBase(this,B)[B].article)){return""}const e=s.Tag.render(b||(b=a`
			<div class="tasks-wizard__article">
				<span class="ui-icon-set --help"></span>
				${0}
			</div>
		`),s.Loc.getMessage("TASKS_WIZARD_HELP"));s.Event.bind(e,"click",babelHelpers.classPrivateFieldLooseBase(this,D)[D].bind(this));return e}function G(){top.BX.Helper.show(`redirect=detail&code=${babelHelpers.classPrivateFieldLooseBase(this,B)[B].article}`)}function W(e){const t=s.Tag.render(v||(v=a`
			<div class="tasks-wizard__step_fade --top"></div>
		`));const l=s.Tag.render(p||(p=a`
			<div class="tasks-wizard__step_fade"></div>
		`));e.node=s.Tag.render(u||(u=a`
			<div class="tasks-wizard__step ${0}">
				${0}
				${0}
				${0}
			</div>
		`),e.selected?"--selected":"",t,e.content,l);const i=new IntersectionObserver((()=>{if(e.node.offsetWidth>0){babelHelpers.classPrivateFieldLooseBase(this,w)[w](e.node,t,l);i.disconnect()}}));i.observe(e.node);s.Event.bind(e.node,"scroll",(()=>babelHelpers.classPrivateFieldLooseBase(this,w)[w](e.node,t,l)));return e.node}function U(e,t,a){const l=e.scrollTop;const i=e.scrollHeight-e.offsetHeight;const o=Math.abs(l-i)<1;if(l===0){s.Dom.removeClass(t,"--show")}else{s.Dom.addClass(t,"--show")}if(o){s.Dom.removeClass(a,"--show")}else{s.Dom.addClass(a,"--show")}}function Z(){babelHelpers.classPrivateFieldLooseBase(this,h)[h].backButton=new t.Button({text:s.Loc.getMessage("TASKS_FLOW_EDIT_FORM_BACK"),color:t.Button.Color.LIGHT_BORDER,round:true,size:BX.UI.Button.Size.LARGE,onclick:()=>{babelHelpers.classPrivateFieldLooseBase(this,$)[$](babelHelpers.classPrivateFieldLooseBase(this,L)[L]())}});babelHelpers.classPrivateFieldLooseBase(this,h)[h].backButton.setDataSet({id:"tasks-wizard-flow-back"});return babelHelpers.classPrivateFieldLooseBase(this,h)[h].backButton.render()}function q(){babelHelpers.classPrivateFieldLooseBase(this,h)[h].cancelButton=new t.Button({text:s.Loc.getMessage("TASKS_FLOW_EDIT_FORM_CANCEL"),color:t.Button.Color.LIGHT_BORDER,round:true,size:BX.UI.Button.Size.LARGE,onclick:()=>babelHelpers.classPrivateFieldLooseBase(this,B)[B].onCancel()});babelHelpers.classPrivateFieldLooseBase(this,h)[h].cancelButton.setDataSet({id:"tasks-wizard-flow-cancel"});return babelHelpers.classPrivateFieldLooseBase(this,h)[h].cancelButton.render()}function J(){babelHelpers.classPrivateFieldLooseBase(this,h)[h].continueButton=new t.Button({text:s.Loc.getMessage("TASKS_FLOW_EDIT_FORM_CONTINUE"),color:t.Button.Color.LIGHT_BORDER,round:true,size:BX.UI.Button.Size.LARGE,onclick:babelHelpers.classPrivateFieldLooseBase(this,T)[T].bind(this)});babelHelpers.classPrivateFieldLooseBase(this,h)[h].continueButton.setDataSet({id:"tasks-wizard-flow-continue"});return babelHelpers.classPrivateFieldLooseBase(this,h)[h].continueButton.render()}async function Q(){if(babelHelpers.classPrivateFieldLooseBase(this,h)[h].continueButton.getState()===t.ButtonState.DISABLED){var e,a;(e=(a=babelHelpers.classPrivateFieldLooseBase(this,B)[B]).onDisabledContinueButtonClick)==null?void 0:e.call(a);return}if(s.Type.isFunction(babelHelpers.classPrivateFieldLooseBase(this,B)[B].onContinueHandler)&&babelHelpers.classPrivateFieldLooseBase(this,h)[h].continueButton.getState()===null){const e=await babelHelpers.classPrivateFieldLooseBase(this,B)[B].onContinueHandler();if(!e){return}}const l=babelHelpers.classPrivateFieldLooseBase(this,H)[H]();const i=l+1;babelHelpers.classPrivateFieldLooseBase(this,$)[$](babelHelpers.classPrivateFieldLooseBase(this,P)[P][i])}function V(){var e;babelHelpers.classPrivateFieldLooseBase(this,h)[h].finishButton=babelHelpers.classPrivateFieldLooseBase(this,B)[B].finishButton;(e=babelHelpers.classPrivateFieldLooseBase(this,h)[h].finishButton)==null?void 0:e.setDataSet({id:"tasks-wizard-flow-finish"});return babelHelpers.classPrivateFieldLooseBase(this,h)[h].finishButton.render()}function Y(){var e,s;babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton=babelHelpers.classPrivateFieldLooseBase(this,B)[B].saveChangesButton;(e=babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton)==null?void 0:e.setDataSet({id:"tasks-wizard-flow-save"});return(s=babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton)==null?void 0:s.render()}function ee(e){const t=babelHelpers.classPrivateFieldLooseBase(this,P)[P].findIndex((s=>s.id===e.id));babelHelpers.classPrivateFieldLooseBase(this,P)[P].forEach((e=>{e.selected=false;s.Dom.removeClass(e.titleNode,"--selected");s.Dom.removeClass(e.node,"--selected")}));e.selected=true;s.Dom.addClass(e.titleNode,"--selected");s.Dom.addClass(e.node,"--selected");s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].finishButton.getContainer(),"display","none");s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].continueButton.getContainer(),"display","");if(babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton){s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton.getContainer(),"display","")}if(t===babelHelpers.classPrivateFieldLooseBase(this,P)[P].length-1){s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].finishButton.getContainer(),"display","");s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].continueButton.getContainer(),"display","none");if(babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton){s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].saveChangesButton.getContainer(),"display","none")}}if(t>0){s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].backButton.getContainer(),"display","");s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].cancelButton.getContainer(),"display","none")}else{s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].backButton.getContainer(),"display","none");s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,h)[h].cancelButton.getContainer(),"display","")}babelHelpers.classPrivateFieldLooseBase(this,F)[F]()}e.Wizard=j})(this.BX.Tasks=this.BX.Tasks||{},BX,BX.UI);
//# sourceMappingURL=wizard.bundle.map.js