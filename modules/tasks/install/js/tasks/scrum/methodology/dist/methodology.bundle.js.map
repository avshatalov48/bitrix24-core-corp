{"version":3,"file":"methodology.bundle.js","sources":["../src/request.sender.js","../src/side.panel.js","../src/methodology.js"],"sourcesContent":["import {Loc, Type, ajax} from 'main.core';\nimport {MessageBox} from 'ui.dialogs.messagebox';\n\ntype RequestParams = {\n\tgroupId: number,\n\ttaskId: number,\n\ttypeId?: number\n}\n\ntype ErrorResponse = {\n\tdata: string,\n\terrors: Array,\n\tstatus: string\n}\n\nexport class RequestSender\n{\n\tsendRequest(controller: string, action: string, data = {}): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction(\n\t\t\t\t'bitrix:tasks.scrum.' + controller + '.' + action,\n\t\t\t\t{\n\t\t\t\t\tdata: data\n\t\t\t\t}\n\t\t\t).then(resolve, reject);\n\t\t});\n\t}\n\n\tgetEpicInfo(data: RequestParams): Promise\n\t{\n\t\treturn this.sendRequest('epic', 'getEpicInfo', data);\n\t}\n\n\tgetDodInfo(data: RequestParams): Promise\n\t{\n\t\treturn this.sendRequest('dod', 'getDodInfo', data);\n\t}\n\n\tgetTeamSpeedInfo(data: RequestParams): Promise\n\t{\n\t\treturn this.sendRequest('sprint', 'getTeamSpeedInfo', data);\n\t}\n\n\tgetTutorInfo(data: RequestParams): Promise\n\t{\n\t\treturn this.sendRequest('info', 'getTutorInfo', data);\n\t}\n\n\tgetBurnDownInfo(data: RequestParams): Promise\n\t{\n\t\treturn this.sendRequest('sprint', 'getBurnDownInfo', data);\n\t}\n\n\tshowErrorAlert(response: ErrorResponse, alertTitle?: string)\n\t{\n\t\tif (Type.isUndefined(response.errors))\n\t\t{\n\t\t\tconsole.error(response);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (response.errors.length)\n\t\t{\n\t\t\tconst firstError = response.errors.shift();\n\t\t\tif (firstError)\n\t\t\t{\n\t\t\t\tconst errorCode = (firstError.code ? firstError.code : '');\n\n\t\t\t\tconst message = firstError.message + ' ' + errorCode;\n\t\t\t\tconst title = (alertTitle ? alertTitle : Loc.getMessage('TSM_ERROR_POPUP_TITLE'));\n\n\t\t\t\tMessageBox.alert(message, title);\n\t\t\t}\n\t\t}\n\t}\n}","import {EventEmitter} from 'main.core.events';\n\nexport class SidePanel extends EventEmitter\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis.setEventNamespace('BX.Tasks.Scrum.Methodology.SidePanel');\n\n\t\t/* eslint-disable */\n\t\tthis.sidePanelManager = BX.SidePanel.Instance;\n\t\t/* eslint-enable */\n\t}\n\n\topenSidePanelByUrl(url)\n\t{\n\t\tthis.sidePanelManager.open(url);\n\t}\n\n\topenSidePanel(id, options)\n\t{\n\t\tthis.sidePanelManager.open(id, options);\n\t}\n\n\tshowByExtension(name: string, params: Object): Promise\n\t{\n\t\tconst extensionName = 'tasks.scrum.' + name.toLowerCase();\n\n\t\treturn top.BX.Runtime.loadExtension(extensionName)\n\t\t\t.then((exports) => {\n\n\t\t\t\tname = name.replaceAll('-', '');\n\n\t\t\t\tif (exports && exports[name])\n\t\t\t\t{\n\t\t\t\t\tconst extension = new exports[name](params);\n\n\t\t\t\t\textension.show();\n\n\t\t\t\t\treturn extension;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t})\n\t\t;\n\t}\n}","import {ajax, Event, Loc, Tag, Uri, Type} from 'main.core';\n\nimport {Manual} from 'ui.manual';\nimport {PopupComponentsMaker} from 'ui.popupcomponentsmaker';\n\nimport {RequestSender} from './request.sender';\nimport {SidePanel} from './side.panel';\n\nimport 'ui.hint';\nimport 'ui.fonts.opensans';\n\nimport '../css/base.css';\n\ntype Params = {\n\tgroupId: number,\n\tteamSpeedPath: string,\n\tburnDownPath: string\n}\n\ntype EpicInfoResponse = {\n\tdata: {\n\t\texistsEpic: boolean\n\t}\n}\n\ntype DodInfoResponse = {\n\tdata: {\n\t\texistsDod: boolean\n\t}\n}\n\ntype TeamSpeedResponse = {\n\tdata: {\n\t\texistsCompletedSprint: boolean\n\t}\n}\n\ntype TutorResponse = {\n\tdata: {\n\t\turl: string,\n\t\turlParams: Object\n\t}\n}\n\ntype BurnDownResponse = {\n\tdata: {\n\t\tsprint: ?SprintData\n\t}\n}\n\ntype SprintData = {\n\tid: number,\n\tname: string\n}\n\nexport class Methodology\n{\n\tconstructor(params: Params)\n\t{\n\t\tthis.groupId = parseInt(params.groupId, 10);\n\n\t\tthis.teamSpeedPath = Type.isString(params.teamSpeedPath) ? params.teamSpeedPath : '';\n\t\tthis.burnDownPath = Type.isString(params.burnDownPath) ? params.burnDownPath : '';\n\t\tthis.pathToTask = Type.isString(params.pathToTask) ? params.pathToTask : '';\n\n\t\tthis.requestSender = new RequestSender();\n\t\tthis.sidePanel = new SidePanel();\n\n\t\tthis.menu = null;\n\t\tthis.hintManager = null;\n\t}\n\n\tshowMenu(targetNode: HTMLElement)\n\t{\n\t\tif (this.menu)\n\t\t{\n\t\t\tif (this.menu.isShown())\n\t\t\t{\n\t\t\t\tthis.menu.close();\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.menu = new PopupComponentsMaker({\n\t\t\tid: 'tasks-scrum-methodology-widget',\n\t\t\ttarget: targetNode,\n\t\t\tcacheable: false,\n\t\t\tcontent: [\n\t\t\t\t{\n\t\t\t\t\thtml: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderEpics(),\n\t\t\t\t\t\t\tbackgroundColor: '#fafafa'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderDod(),\n\t\t\t\t\t\t\tbackgroundColor: '#fafafa'\n\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\thtml: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderTeamSpeed()\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\thtml: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderBurnDown()\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\thtml: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderTutor(),\n\t\t\t\t\t\t\tbackgroundColor: '#fafafa'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\thtml: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderMigration()\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\tthis.menu.show();\n\t}\n\n\trenderEpics(): Promise\n\t{\n\t\treturn this.requestSender.getEpicInfo({\n\t\t\tgroupId: this.groupId\n\t\t})\n\t\t\t.then((response: EpicInfoResponse) => {\n\n\t\t\t\tconst existsEpic = response.data.existsEpic;\n\n\t\t\t\tconst buttonText = existsEpic\n\t\t\t\t\t? Loc.getMessage('TSF_EPIC_OPEN_BUTTON')\n\t\t\t\t\t: Loc.getMessage('TSF_EPIC_CREATE_BUTTON')\n\t\t\t\t;\n\n\t\t\t\tconst buttonClass = existsEpic\n\t\t\t\t\t? '--border'\n\t\t\t\t\t: ''\n\t\t\t\t;\n\n\t\t\t\tconst iconClass = existsEpic\n\t\t\t\t\t? 'ui-icon-service-epics'\n\t\t\t\t\t: 'ui-icon-service-light-epics'\n\t\t\t\t;\n\n\t\t\t\tconst blockClass = existsEpic\n\t\t\t\t\t? '--active'\n\t\t\t\t\t: ''\n\t\t\t\t;\n\n\t\t\t\tconst baseClasses = 'tasks-scrum__widget-methodology tasks-scrum__widget-methodology--scope';\n\n\t\t\t\tconst node = Tag.render`\n\t\t\t\t\t<div class=\"${baseClasses} tasks-scrum__widget-methodology--bg ${blockClass}\">\n\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--conteiner\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"ui-icon ${iconClass} tasks-scrum__widget-methodology--icon\"\n\t\t\t\t\t\t\t><i></i></div>\n\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--content\">\n\t\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--name\">\n\t\t\t\t\t\t\t\t\t<span>${Loc.getMessage('TSF_EPIC_TITLE')}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"ui-hint\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"ui-hint-icon\" data-hint=\"${Loc.getMessage('TSF_EPIC_HINT')}\"></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--btn-box\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"ui-qr-popupcomponentmaker__btn ${buttonClass}\"\n\t\t\t\t\t\t\t\t\t\tdata-role=\"open-epics\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t${buttonText}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tthis.initHints(node);\n\n\t\t\t\tEvent.bind(node.querySelector('button'), 'click', () => {\n\t\t\t\t\tif (existsEpic)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.showEpics();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.createEpic();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn node;\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t})\n\t\t;\n\t}\n\n\trenderDod(): Promise\n\t{\n\t\treturn this.requestSender.getDodInfo({\n\t\t\tgroupId: this.groupId\n\t\t})\n\t\t\t.then((response: DodInfoResponse) => {\n\n\t\t\t\tconst existsDod = response.data.existsDod;\n\n\t\t\t\tconst buttonText = existsDod\n\t\t\t\t\t? Loc.getMessage('TSF_DOD_OPEN_BUTTON')\n\t\t\t\t\t: Loc.getMessage('TSF_DOD_CREATE_BUTTON')\n\t\t\t\t;\n\n\t\t\t\tconst buttonClass = existsDod\n\t\t\t\t\t? '--border'\n\t\t\t\t\t: ''\n\t\t\t\t;\n\n\t\t\t\tconst iconClass = existsDod\n\t\t\t\t\t? 'ui-icon-service-dod'\n\t\t\t\t\t: 'ui-icon-service-light-dod'\n\t\t\t\t;\n\n\t\t\t\tconst blockClass = existsDod\n\t\t\t\t\t? '--active'\n\t\t\t\t\t: ''\n\t\t\t\t;\n\n\t\t\t\tconst node = Tag.render`\n\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology tasks-scrum__widget-methodology--scope tasks-scrum__widget-methodology--bg ${blockClass}\">\n\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--conteiner\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"ui-icon ${iconClass} tasks-scrum__widget-methodology--icon\"\n\t\t\t\t\t\t\t><i></i></div>\n\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--content\">\n\t\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--name\">\n\t\t\t\t\t\t\t\t\t<span>${Loc.getMessage('TSF_DOD_TITLE_NEW')}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"ui-hint\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"ui-hint-icon\" data-hint=\"${Loc.getMessage('TSF_DOD_HINT_NEW')}\"></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--btn-box\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"ui-qr-popupcomponentmaker__btn ${buttonClass}\"\n\t\t\t\t\t\t\t\t\t\tdata-role=\"open-dod\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t${buttonText}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tthis.initHints(node);\n\n\t\t\t\tEvent.bind(node.querySelector('button'), 'click', this.showDodSettings.bind(this));\n\n\t\t\t\treturn node;\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t})\n\t\t;\n\t}\n\n\trenderTeamSpeed(): Promise\n\t{\n\t\treturn this.requestSender.getTeamSpeedInfo({\n\t\t\tgroupId: this.groupId\n\t\t})\n\t\t\t.then((response: TeamSpeedResponse) => {\n\n\t\t\t\tconst isDisabled = (!response.data.existsCompletedSprint);\n\n\t\t\t\tconst btnUiClasses = 'ui-qr-popupcomponentmaker__btn --border';\n\t\t\t\tconst disableClass = isDisabled ? '--disabled' : '';\n\n\t\t\t\tconst node = Tag.render`\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"tasks-scrum__widget-methodology tasks-scrum__widget-methodology--scope\"\n\t\t\t\t\t\tdata-role=\"show-team-speed-chart\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--btn-box-center\">\n\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--image ${disableClass}\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button class=\"${btnUiClasses} ${disableClass}\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('TSF_TEAM_SPEED_BUTTON')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tif (!isDisabled)\n\t\t\t\t{\n\t\t\t\t\tEvent.bind(node, 'click', this.showTeamSpeedChart.bind(this));\n\t\t\t\t}\n\n\t\t\t\treturn node;\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t})\n\t\t;\n\t}\n\n\trenderBurnDown(): Promise\n\t{\n\t\treturn this.requestSender.getBurnDownInfo({\n\t\t\tgroupId: this.groupId\n\t\t})\n\t\t\t.then((response: BurnDownResponse) => {\n\t\t\t\tconst existsChart = !Type.isNull(response.data.sprint);\n\t\t\t\tconst btnUiClasses = 'ui-qr-popupcomponentmaker__btn --border';\n\t\t\t\tconst disableClass = existsChart ? '' : '--disabled';\n\n\t\t\t\tconst node = Tag.render`\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"tasks-scrum__widget-methodology tasks-scrum__widget-methodology--scope\"\n\t\t\t\t\t\tdata-role=\"show-burn-down-chart\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--btn-box-center\">\n\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--image-diagram ${disableClass}\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button class=\"${btnUiClasses} ${disableClass}\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('TSF_TEAM_SPEED_DIAGRAM')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tif (existsChart)\n\t\t\t\t{\n\t\t\t\t\tEvent.bind(node, 'click', this.showBurnDownChart.bind(this, response.data.sprint.id));\n\t\t\t\t}\n\n\t\t\t\treturn node;\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t})\n\t\t;\n\t}\n\n\trenderTutor(): HTMLElement\n\t{\n\t\treturn this.requestSender.getTutorInfo({\n\t\t\tgroupId: this.groupId\n\t\t})\n\t\t\t.then((response: TutorResponse) => {\n\t\t\t\tconst baseClasses = 'tasks-scrum__widget-methodology tasks-scrum__widget-methodology--scope';\n\t\t\t\tconst tutorClasses = 'tasks-scrum__widget-methodology--training tasks-scrum__widget-methodology--bg';\n\n\t\t\t\tconst node = Tag.render`\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"${baseClasses} ${tutorClasses} --active\"\n\t\t\t\t\t\tdata-role=\"open-tutor\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--conteiner\">\n\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--conteiner\">\n\t\t\t\t\t\t\t\t<div class=\"ui-icon ui-icon-service-tutorial tasks-scrum__widget-methodology--icon\">\n\t\t\t\t\t\t\t\t\t<i></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--content\">\n\t\t\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--name\">\n\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('TSF_TUTORIAL_TITLE')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--description\">\n\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('TSF_TUTORIAL_TEXT')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--label --hidden\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('TSF_TEAM_SPEED_LABEL')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tEvent.bind(node, 'click', () => {\n\t\t\t\t\tManual.show(\n\t\t\t\t\t\t'scrum',\n\t\t\t\t\t\tresponse.data.urlParams,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tscrum: 'Y',\n\t\t\t\t\t\t\taction: 'guide_open'\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\treturn node;\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t})\n\t\t;\n\t}\n\n\trenderMigration()\n\t{\n\t\tconst baseClasses = 'tasks-scrum__widget-methodology tasks-scrum__widget-methodology--scope';\n\t\tconst migrationClasses = 'tasks-scrum__widget-methodology--migration tasks-scrum__widget-methodology--bg';\n\t\tconst iconClass = 'ui-icon-service-tutorial tasks-scrum__widget-methodology--migration-btn';\n\n\t\tconst node = Tag.render`\n\t\t\t<div class=\"${baseClasses} ${migrationClasses}\" data-role=\"open-migration\">\n\t\t\t\t<div class=\"tasks-scrum__widget-methodology--conteiner\">\n\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--conteiner\">\n\t\t\t\t\t\t<div class=\"ui-icon ${iconClass} tasks-scrum__widget-methodology--icon\">\n\t\t\t\t\t\t\t<i></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--content\">\n\t\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--name\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('TSF_MIGRATION_TITLE')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"tasks-scrum__widget-methodology--label --migration\">\n\t\t\t\t\t\t\t${Loc.getMessage('TSF_MIGRATION_LABEL')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(node, 'click', () => {\n\t\t\tconst uri = new Uri('/marketplace/');\n\t\t\turi.setQueryParam('tag', ['migrator', 'tasks']);\n\n\t\t\tthis.sidePanel.openSidePanelByUrl(uri.toString());\n\n\t\t\tthis.menu.close();\n\t\t});\n\n\t\treturn node;\n\t}\n\n\tshowEpics()\n\t{\n\t\tthis.sidePanel.showByExtension(\n\t\t\t'Epic',\n\t\t\t{\n\t\t\t\tview: 'list',\n\t\t\t\tgroupId: this.groupId,\n\t\t\t\tpathToTask: this.pathToTask\n\t\t\t}\n\t\t)\n\t\t\t.then((extension) => {\n\t\t\t\tBX.Tasks.Scrum.EpicInstance = extension;\n\t\t\t})\n\t\t;\n\n\t\tthis.menu.close();\n\t}\n\n\tcreateEpic()\n\t{\n\t\tthis.sidePanel.showByExtension(\n\t\t\t'Epic',\n\t\t\t{\n\t\t\t\tview: 'add',\n\t\t\t\tgroupId: this.groupId\n\t\t\t}\n\t\t);\n\n\t\tthis.menu.close();\n\t}\n\n\tshowDodSettings()\n\t{\n\t\tthis.sidePanel.showByExtension(\n\t\t\t'Dod',\n\t\t\t{\n\t\t\t\tview: 'settings',\n\t\t\t\tgroupId: this.groupId\n\t\t\t}\n\t\t);\n\n\t\tthis.menu.close();\n\t}\n\n\tshowTeamSpeedChart()\n\t{\n\t\tif (this.teamSpeedPath)\n\t\t{\n\t\t\tthis.sidePanel.openSidePanel(this.teamSpeedPath);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthrow new Error('Could not find a page to display the chart.');\n\t\t}\n\n\t\tthis.menu.close();\n\n\t\tajax.runAction(\n\t\t\t'bitrix:tasks.scrum.info.saveAnalyticsLabel',\n\t\t\t{\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tscrum: 'Y',\n\t\t\t\t\taction: 'open_team_speed_diag'\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tshowBurnDownChart(sprintId: number)\n\t{\n\t\tif (this.burnDownPath)\n\t\t{\n\t\t\tthis.sidePanel.openSidePanel(this.burnDownPath.replace('#sprint_id#', sprintId));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthrow new Error('Could not find a page to display the chart.');\n\t\t}\n\n\t\tthis.menu.close();\n\n\t\tajax.runAction(\n\t\t\t'bitrix:tasks.scrum.info.saveAnalyticsLabel',\n\t\t\t{\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tscrum: 'Y',\n\t\t\t\t\taction: 'open_burn_diag'\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tinitHints(node: HTMLElement)\n\t{\n\t\tthis.hintManager = BX.UI.Hint.createInstance({\n\t\t\tpopupParameters: {\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tautoHide: true\n\t\t\t}\n\t\t});\n\n\t\tthis.hintManager.init(node);\n\t}\n}"],"names":["RequestSender","controller","action","data","Promise","resolve","reject","ajax","runAction","then","sendRequest","response","alertTitle","Type","isUndefined","errors","console","error","length","firstError","shift","errorCode","code","message","title","Loc","getMessage","MessageBox","alert","SidePanel","setEventNamespace","sidePanelManager","BX","Instance","url","open","id","options","name","params","extensionName","toLowerCase","top","Runtime","loadExtension","exports","replaceAll","extension","show","EventEmitter","Methodology","groupId","parseInt","teamSpeedPath","isString","burnDownPath","pathToTask","requestSender","sidePanel","menu","hintManager","targetNode","isShown","close","PopupComponentsMaker","target","cacheable","content","html","renderEpics","backgroundColor","renderDod","renderTeamSpeed","renderBurnDown","renderTutor","renderMigration","getEpicInfo","existsEpic","buttonText","buttonClass","iconClass","blockClass","baseClasses","node","Tag","render","initHints","Event","bind","querySelector","showEpics","createEpic","showErrorAlert","getDodInfo","existsDod","showDodSettings","getTeamSpeedInfo","isDisabled","existsCompletedSprint","btnUiClasses","disableClass","showTeamSpeedChart","getBurnDownInfo","existsChart","isNull","sprint","showBurnDownChart","getTutorInfo","tutorClasses","Manual","urlParams","scrum","migrationClasses","uri","Uri","setQueryParam","openSidePanelByUrl","toString","showByExtension","view","Tasks","Scrum","EpicInstance","openSidePanel","Error","analyticsLabel","sprintId","replace","UI","Hint","createInstance","popupParameters","closeByEsc","autoHide","init"],"mappings":"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"}