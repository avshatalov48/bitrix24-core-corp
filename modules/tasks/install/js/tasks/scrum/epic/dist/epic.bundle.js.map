{"version":3,"file":"epic.bundle.js","sources":["../src/request.sender.js","../src/epic.js"],"sourcesContent":["import {Loc, Type, ajax} from 'main.core';\nimport {MessageBox} from 'ui.dialogs.messagebox';\n\ntype ErrorResponse = {\n\tdata: string,\n\terrors: Array,\n\tstatus: string\n}\n\nexport class RequestSender\n{\n\tsendRequest(controller: string, action: string, data = {}): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction(\n\t\t\t\t'bitrix:tasks.scrum.' + controller + '.' + action,\n\t\t\t\t{\n\t\t\t\t\tdata: data\n\t\t\t\t}\n\t\t\t).then(resolve, reject);\n\t\t});\n\t}\n\n\tshowErrorAlert(response: ErrorResponse, alertTitle?: string)\n\t{\n\t\tif (Type.isUndefined(response.errors))\n\t\t{\n\t\t\tconsole.error(response);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (response.errors.length)\n\t\t{\n\t\t\tconst firstError = response.errors.shift();\n\t\t\tif (firstError)\n\t\t\t{\n\t\t\t\tconst errorCode = (firstError.code ? firstError.code : '');\n\n\t\t\t\tconst message = firstError.message + ' ' + errorCode;\n\t\t\t\tconst title = (alertTitle ? alertTitle : Loc.getMessage('TSE_ERROR_POPUP_TITLE'));\n\n\t\t\t\tMessageBox.alert(message, title);\n\t\t\t}\n\t\t}\n\t}\n}","import {ajax, Dom, Event, Loc, Runtime, Tag, Text, Type} from 'main.core';\nimport {BaseEvent, EventEmitter} from 'main.core.events';\n\nimport {Layout} from 'ui.sidepanel.layout';\nimport {Label} from 'ui.label';\nimport {UI} from 'ui.notification';\n\nimport {RequestSender} from './request.sender';\n\nimport 'ui.design-tokens';\nimport 'ui.fonts.opensans';\nimport '../css/base.css';\n\ntype Params = {\n\tview: 'list' | 'add' | 'view' | 'edit',\n\tgroupId: number,\n\tepicId?: number,\n\tgridId?: string\n}\n\ntype ResponseAfter = {\n\tdata: EpicType\n}\n\ntype EpicType = {\n\tid: number,\n\tgroupId: number,\n\tname: string,\n\tdescription: string,\n\tcreatedBy: number,\n\tmodifiedBy: number,\n\tcolor: string\n}\n\nexport class Epic extends EventEmitter\n{\n\tconstructor(params: Params = {})\n\t{\n\t\tsuper(params);\n\n\t\tthis.setEventNamespace('BX.Tasks.Scrum.Epic');\n\n\t\tthis.view = Type.isString(params.view) ? params.view : '';\n\n\t\tthis.groupId = parseInt(params.groupId, 10);\n\t\tthis.epicId = Type.isUndefined(params.epicId) ? 0 : parseInt(params.epicId, 10);\n\t\tthis.gridId = Type.isUndefined(params.gridId) ? '' : params.gridId;\n\n\t\tthis.pathToTask = Type.isString(params.pathToTask) ? params.pathToTask : '';\n\n\t\tthis.requestSender = new RequestSender();\n\n\t\t/* eslint-disable */\n\t\tthis.sidePanelManager = BX.SidePanel.Instance;\n\t\t/* eslint-enable */\n\t\tthis.sidePanel = null;\n\n\t\tthis.id = Text.getRandom();\n\n\t\tthis.form = null;\n\t\tthis.formData = null;\n\n\t\tthis.listData = null;\n\n\t\tthis.editorHandler = null;\n\n\t\tthis.colorPickers = new Map();\n\t\tthis.defaultColor = '#69dafc';\n\t\tthis.selectedColor = '';\n\t}\n\n\tshow()\n\t{\n\t\tswitch(this.view)\n\t\t{\n\t\t\tcase 'add':\n\t\t\t\tthis.showAddForm();\n\t\t\t\tbreak;\n\t\t\tcase 'list':\n\t\t\t\tthis.showList();\n\t\t\t\tbreak;\n\t\t\tcase 'view':\n\t\t\t\tthis.showViewForm();\n\t\t\t\tbreak;\n\t\t\tcase 'edit':\n\t\t\t\tthis.showEditForm();\n\t\t\t\tbreak;\n\t\t\tcase 'tasks':\n\t\t\t\tthis.showTasksList();\n\t\t\t\tbreak;\n\t\t\tcase 'completedTasks':\n\t\t\t\tthis.showTasksList(true);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tstatic showView(groupId: number, epicId: number)\n\t{\n\t\tconst epic = new Epic({\n\t\t\tview: 'view',\n\t\t\tgroupId: groupId,\n\t\t\tepicId: epicId\n\t\t});\n\n\t\tepic.show();\n\t}\n\n\tstatic showEdit(groupId: number, epicId: number)\n\t{\n\t\tconst epic = new Epic({\n\t\t\tview: 'edit',\n\t\t\tgroupId: groupId,\n\t\t\tepicId: epicId\n\t\t});\n\n\t\tepic.show();\n\t}\n\n\tstatic removeEpic(groupId: number, epicId: number, gridId?: string)\n\t{\n\t\tconst epic = new Epic({\n\t\t\tview: 'edit',\n\t\t\tgroupId: groupId,\n\t\t\tgridId: gridId,\n\t\t\tepicId: epicId\n\t\t});\n\n\t\tepic.removeEpic()\n\t\t\t.then(() => {\n\t\t\t\tepic.reloadGrid();\n\t\t\t})\n\t\t;\n\t}\n\n\tstatic showTasks(groupId: number, epicId: number)\n\t{\n\t\tconst epic = new Epic({\n\t\t\tview: 'tasks',\n\t\t\tgroupId: groupId,\n\t\t\tepicId: epicId\n\t\t});\n\n\t\tepic.show();\n\t}\n\n\tstatic showCompletedTasks(groupId: number, epicId: number)\n\t{\n\t\tconst epic = new Epic({\n\t\t\tview: 'completedTasks',\n\t\t\tgroupId: groupId,\n\t\t\tepicId: epicId\n\t\t});\n\n\t\tepic.show();\n\t}\n\n\tstatic showTask(taskId: number)\n\t{\n\t\tconst sidePanelManager = BX.SidePanel.Instance;\n\n\t\tsidePanelManager.getOpenSliders()\n\t\t\t.forEach((openSlider) => {\n\t\t\t\tconst frameWindow = openSlider.getWindow();\n\t\t\t\tif (\n\t\t\t\t\t!Type.isNil(frameWindow)\n\t\t\t\t\t&& !Type.isNil(frameWindow.BX.Tasks.Scrum.EpicInstance)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tframeWindow.BX.Tasks.Scrum.EpicInstance.showTask(taskId);\n\t\t\t\t}\n\t\t\t})\n\t\t;\n\t}\n\n\tshowAddForm()\n\t{\n\t\tthis.sidePanelManager.open(\n\t\t\t'tasks-scrum-epic-add-form-side-panel',\n\t\t\t{\n\t\t\t\tcacheable: false,\n\t\t\t\twidth: 800,\n\t\t\t\tcontentCallback: () => {\n\t\t\t\t\treturn Layout.createContent({\n\t\t\t\t\t\textensions: ['tasks.scrum.epic'],\n\t\t\t\t\t\ttitle: Loc.getMessage('TASKS_SCRUM_ADD_EPIC_FORM_TITLE'),\n\t\t\t\t\t\tcontent: this.createAddContent.bind(this),\n\t\t\t\t\t\tdesign: {\n\t\t\t\t\t\t\tsection: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbuttons: ({cancelButton, SaveButton}) => {\n\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\tnew SaveButton({\n\t\t\t\t\t\t\t\t\tonclick: this.onSaveAddForm.bind(this)\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tcancelButton\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonLoad: this.onLoadAddForm.bind(this)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tshowList()\n\t{\n\t\tthis.gridId = 'EntityEpicsGrid_' + this.groupId;\n\n\t\tconst sidePanelId = 'tasks-scrum-epic-list-side-panel';\n\n\t\tthis.subscribeListToEvents(sidePanelId);\n\n\t\tthis.sidePanelManager.open(\n\t\t\tsidePanelId,\n\t\t\t{\n\t\t\t\tcacheable: false,\n\t\t\t\tcontentCallback: () => {\n\t\t\t\t\treturn Layout.createContent({\n\t\t\t\t\t\textensions: ['tasks.scrum.epic'],\n\t\t\t\t\t\ttitle: Loc.getMessage('TASKS_SCRUM_SPRINT_ADD_EPIC_LIST_TITLE'),\n\t\t\t\t\t\ttoolbar: ({Button}) => {\n\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\t\t\ttext: Loc.getMessage('TASKS_SCRUM_SPRINT_ADD_EPIC_LIST_TOOLBAR_BUTTON'),\n\t\t\t\t\t\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\t\t\t\tthis.showAddForm();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent: this.createListContent.bind(this),\n\t\t\t\t\t\tdesign: {\n\t\t\t\t\t\t\tsection: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbuttons: []\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonLoad: this.onLoadList.bind(this)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tshowTasksList(completed: boolean = false)\n\t{\n\t\tthis.gridId = 'EpicTasksGrid_' + this.groupId;\n\n\t\tthis.sidePanelManager.open(\n\t\t\t'tasks-scrum-epic-tasks-list-side-panel',\n\t\t\t{\n\t\t\t\tcacheable: false,\n\t\t\t\tcontentCallback: () => {\n\t\t\t\t\treturn Layout.createContent({\n\t\t\t\t\t\textensions: ['tasks.scrum.epic'],\n\t\t\t\t\t\ttitle: completed ?\n\t\t\t\t\t\t\tLoc.getMessage('TASKS_SCRUM_SPRINT_ADD_EPIC_COMPLETED_TASKS_LIST_TITLE')\n\t\t\t\t\t\t\t: Loc.getMessage('TASKS_SCRUM_SPRINT_ADD_EPIC_TASKS_LIST_TITLE')\n\t\t\t\t\t\t,\n\t\t\t\t\t\tcontent: this.createTasksListContent.bind(this, completed),\n\t\t\t\t\t\tdesign: {\n\t\t\t\t\t\t\tsection: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbuttons: []\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonLoad: this.onLoadTasksList.bind(this)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tshowViewForm()\n\t{\n\t\tthis.subscribeViewToEvents();\n\n\t\tthis.sidePanelManager.open(\n\t\t\t'tasks-scrum-epic-view-form-side-panel',\n\t\t\t{\n\t\t\t\tcacheable: false,\n\t\t\t\twidth: 800,\n\t\t\t\tcontentCallback: () => {\n\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\tthis.getEpic().then((response) => {\n\t\t\t\t\t\t\tconst epic: EpicType = response.data;\n\t\t\t\t\t\t\tresolve(Layout.createContent({\n\t\t\t\t\t\t\t\textensions: ['tasks.scrum.epic'],\n\t\t\t\t\t\t\t\ttitle: Loc.getMessage('TASKS_SCRUM_VIEW_EPIC_FORM_TITLE'),\n\t\t\t\t\t\t\t\tcontent: this.createViewContent.bind(this, epic),\n\t\t\t\t\t\t\t\tdesign: {\n\t\t\t\t\t\t\t\t\tsection: false\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbuttons: ({cancelButton, SaveButton}) => {\n\t\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\t\tnew SaveButton({\n\t\t\t\t\t\t\t\t\t\t\ttext: Loc.getMessage('TASKS_SCRUM_EPIC_EDIT_BUTTON'),\n\t\t\t\t\t\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.sidePanel.close(false, () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tEventEmitter.emit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getEventNamespace() + ':' + 'openEdit',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tepic.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\tcancelButton\n\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonLoad: this.onLoadViewForm.bind(this)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tshowEditForm()\n\t{\n\t\tthis.sidePanelManager.open(\n\t\t\t'tasks-scrum-epic-edit-form-side-panel',\n\t\t\t{\n\t\t\t\tcacheable: false,\n\t\t\t\twidth: 800,\n\t\t\t\tcontentCallback: () => {\n\t\t\t\t\treturn Layout.createContent({\n\t\t\t\t\t\textensions: ['tasks.scrum.epic'],\n\t\t\t\t\t\ttitle: Loc.getMessage('TASKS_SCRUM_EDIT_EPIC_FORM_TITLE'),\n\t\t\t\t\t\tcontent: this.createEditContent.bind(this),\n\t\t\t\t\t\tdesign: {\n\t\t\t\t\t\t\tsection: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbuttons: ({cancelButton, SaveButton}) => {\n\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\tnew SaveButton({\n\t\t\t\t\t\t\t\t\tonclick: this.onSaveEditForm.bind(this)\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tcancelButton\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonLoad: this.onLoadEditForm.bind(this)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tremoveEpic(): Promise\n\t{\n\t\treturn ajax.runAction(\n\t\t\t'bitrix:tasks.scrum.epic.removeEpic',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\tepicId: this.epicId\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t\t\t.then((response) => {\n\t\t\t\tEventEmitter.emit(this.getEventNamespace() + ':' + 'afterRemove', response.data);\n\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t})\n\t\t;\n\t}\n\n\tshowTask(taskId: number)\n\t{\n\t\tif (this.pathToTask)\n\t\t{\n\t\t\tthis.sidePanelManager.open(\n\t\t\t\tthis.pathToTask\n\t\t\t\t\t.replace('#action#', 'view')\n\t\t\t\t\t.replace('#task_id#', parseInt(taskId, 10))\n\t\t\t);\n\t\t}\n\t}\n\n\tsubscribeListToEvents(sidePanelId: string)\n\t{\n\t\tEventEmitter.subscribe(\n\t\t\tthis.getEventNamespace() + ':' + 'afterAdd',\n\t\t\t() => this.reloadGrid())\n\t\t;\n\t\tEventEmitter.subscribe(\n\t\t\tthis.getEventNamespace() + ':' + 'afterEdit',\n\t\t\t() => this.reloadGrid())\n\t\t;\n\t}\n\n\tsubscribeViewToEvents()\n\t{\n\t\tEventEmitter.subscribe(\n\t\t\tthis.getEventNamespace() + ':' + 'openEdit',\n\t\t\t(baseEvent: BaseEvent) => {\n\t\t\t\tEpic.showEdit(this.groupId, baseEvent.getData());\n\t\t\t})\n\t\t;\n\t}\n\n\treloadSidePanel(sidePanelId?: string)\n\t{\n\t\tif (Type.isUndefined(sidePanelId))\n\t\t{\n\t\t\tthis.sidePanelManager.reload();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst openSliders = this.sidePanelManager.getOpenSliders();\n\t\t\tif (openSliders.length > 0)\n\t\t\t{\n\t\t\t\topenSliders.forEach((slider) => {\n\t\t\t\t\tif (slider.getUrl() === sidePanelId)\n\t\t\t\t\t{\n\t\t\t\t\t\tslider.reload();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateAddContent(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction(\n\t\t\t\t'bitrix:tasks.scrum.epic.getDescriptionEditor',\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\t\teditorId: this.id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.formData = response.data;\n\t\t\t\t\tresolve(this.renderAddForm());\n\t\t\t\t})\n\t\t\t\t.catch((response) => {\n\t\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t\t})\n\t\t\t;\n\t\t});\n\t}\n\n\tcreateListContent(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction(\n\t\t\t\t'bitrix:tasks.scrum.epic.getList',\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\t\tgridId: this.gridId\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.listData = response.data;\n\t\t\t\t\tresolve(this.renderList());\n\t\t\t\t})\n\t\t\t\t.catch((response) => {\n\t\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t\t})\n\t\t\t;\n\t\t});\n\t}\n\n\tcreateTasksListContent(completed: boolean): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction(\n\t\t\t\t'bitrix:tasks.scrum.epic.getTasksList',\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\t\tepicId: this.epicId,\n\t\t\t\t\t\tgridId: this.gridId,\n\t\t\t\t\t\tcompleted: completed ? 'Y' : 'N'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.listData = response.data;\n\t\t\t\t\tresolve(this.renderTasksList());\n\t\t\t\t})\n\t\t\t\t.catch((response) => {\n\t\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t\t})\n\t\t\t;\n\t\t});\n\t}\n\n\tcreateViewContent(epic: EpicType): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction(\n\t\t\t\t'bitrix:tasks.scrum.epic.getEpicFiles',\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\t\tepicId: epic.id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.epicFiles = Type.isUndefined(response.data.html) ? '' : response.data.html;\n\t\t\t\t\tresolve(this.renderViewForm(epic));\n\t\t\t\t})\n\t\t\t\t.catch((response) => {\n\t\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t\t})\n\t\t\t;\n\t\t});\n\t}\n\n\tcreateEditContent(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.getEpic().then((response) => {\n\t\t\t\tconst epic: EpicType = response.data;\n\t\t\t\tajax.runAction(\n\t\t\t\t\t'bitrix:tasks.scrum.epic.getDescriptionEditor',\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\t\t\teditorId: this.id,\n\t\t\t\t\t\t\tepicId: epic.id,\n\t\t\t\t\t\t\ttext: epic.description\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.currentEpic = epic;\n\t\t\t\t\t\tthis.formData = response.data;\n\t\t\t\t\t\tresolve(this.renderEditForm(epic));\n\t\t\t\t\t})\n\t\t\t\t\t.catch((response) => {\n\t\t\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t});\n\t\t});\n\t}\n\n\tgetEpic(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction(\n\t\t\t\t'bitrix:tasks.scrum.epic.getEpic',\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\t\tepicId: this.epicId\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then(resolve, reject);\n\t\t});\n\t}\n\n\tonLoadAddForm(event)\n\t{\n\t\tthis.sidePanel = event.getSlider();\n\n\t\tthis.form = this.sidePanel.getContainer().querySelector('.tasks-scrum-epic-form');\n\n\t\tconst descriptionContainer = this.form.querySelector('.tasks-scrum-epic-form-description');\n\n\t\tif (Type.isUndefined(this.formData.html))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.renderEditor(descriptionContainer);\n\t}\n\n\tonSaveAddForm()\n\t{\n\t\tajax.runAction(\n\t\t\t'bitrix:tasks.scrum.epic.createEpic',\n\t\t\t{\n\t\t\t\tdata: this.getRequestData()\n\t\t\t}\n\t\t)\n\t\t\t.then((response: ResponseAfter) => {\n\t\t\t\tthis.sidePanel.close(false, () => {\n\t\t\t\t\tEventEmitter.emit(this.getEventNamespace() + ':' + 'afterAdd', response.data);\n\t\t\t\t\tUI.Notification.Center.notify({\n\t\t\t\t\t\tcontent: Loc.getMessage('TASKS_SCRUM_ADD_EPIC_NOTIFY')\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t})\n\t\t;\n\t}\n\n\tonLoadList(event)\n\t{\n\t\tthis.sidePanel = event.getSlider();\n\n\t\tconst listContainer = this.sidePanel.getContainer().querySelector('.tasks-scrum-epic-list');\n\n\t\tif (Type.isUndefined(this.listData.html))\n\t\t{\n\t\t\tDom.append(this.renderListBlank(), listContainer);\n\n\t\t\tEvent.bind(\n\t\t\t\tlistContainer.querySelector('.tasks-scrum-epics-empty-button'),\n\t\t\t\t'click',\n\t\t\t\tthis.showAddForm.bind(this)\n\t\t\t);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tRuntime.html(listContainer, this.listData.html)\n\t\t\t\t.then(() => {\n\t\t\t\t\tEventEmitter.subscribe('Grid::beforeRequest', this.onBeforeGridRequest.bind(this));\n\t\t\t\t\tthis.prepareTagsList(listContainer);\n\t\t\t\t})\n\t\t\t;\n\t\t}\n\t}\n\n\tonLoadTasksList(event)\n\t{\n\t\tthis.sidePanel = event.getSlider();\n\n\t\tconst listContainer = this.sidePanel.getContainer().querySelector('.tasks-scrum-epic-tasks-list');\n\n\t\tRuntime.html(listContainer, this.listData.html)\n\t\t\t.then(() => {\n\t\t\t\tEventEmitter.subscribe('Grid::beforeRequest', this.onBeforeGridRequest.bind(this));\n\t\t\t})\n\t\t;\n\t}\n\n\tonLoadViewForm(event)\n\t{\n\t\tthis.sidePanel = event.getSlider();\n\n\t\tif (this.epicFiles)\n\t\t{\n\t\t\tconst filesContainer = this.sidePanel.getContainer().querySelector('.tasks-scrum-epic-form-files');\n\n\t\t\tRuntime.html(filesContainer, this.epicFiles);\n\t\t}\n\t}\n\n\tonLoadEditForm(event)\n\t{\n\t\tthis.sidePanel = event.getSlider();\n\n\t\tthis.form = this.sidePanel.getContainer().querySelector('.tasks-scrum-epic-form');\n\n\t\tconst descriptionContainer = this.form.querySelector('.tasks-scrum-epic-form-description');\n\n\t\tif (Type.isUndefined(this.formData.html))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.renderEditor(descriptionContainer);\n\t}\n\n\tonSaveEditForm()\n\t{\n\t\tajax.runAction(\n\t\t\t'bitrix:tasks.scrum.epic.editEpic',\n\t\t\t{\n\t\t\t\tdata: this.getRequestData()\n\t\t\t}\n\t\t)\n\t\t\t.then((response: ResponseAfter) => {\n\t\t\t\tthis.sidePanel.close(false, () => {\n\t\t\t\t\tEventEmitter.emit(this.getEventNamespace() + ':' + 'afterEdit', response.data);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tthis.requestSender.showErrorAlert(response);\n\t\t\t})\n\t\t;\n\t}\n\n\tonBeforeGridRequest(event: BaseEvent)\n\t{\n\t\tconst [gridObject, eventArgs] = event.getCompatData();\n\n\t\t/* eslint-disable */\n\t\teventArgs.sessid = BX.bitrix_sessid();\n\t\t/* eslint-enable */\n\n\t\teventArgs.method = 'POST';\n\n\t\tif (!eventArgs.url)\n\t\t{\n\t\t\teventArgs.url = this.getListUrl();\n\t\t}\n\n\t\teventArgs.data = {\n\t\t\t...eventArgs.data,\n\t\t\tgroupId: this.groupId,\n\t\t\tgridId: this.gridId,\n\t\t\tepicId: this.epicId\n\t\t};\n\t}\n\n\tgetListUrl(): string\n\t{\n\t\treturn '/bitrix/services/main/ajax.php?action=bitrix:tasks.scrum.epic.getList';\n\t}\n\n\trenderAddForm(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"tasks-scrum-epic-form\">\n\t\t\t\t<div class=\"tasks-scrum-epic-form-container\">\n\t\t\t\t\t${this.renderNameField(0, '', this.defaultColor)}\n\t\t\t\t\t${this.renderDescriptionField()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\trenderList(): HTMLElement\n\t{\n\t\treturn Tag.render`<div class=\"tasks-scrum-epic-list\"></div>`;\n\t}\n\n\trenderTasksList(): HTMLElement\n\t{\n\t\treturn Tag.render`<div class=\"tasks-scrum-epic-tasks-list\"></div>`;\n\t}\n\n\trenderViewForm(epic: EpicType): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"tasks-scrum-epic-form\">\n\t\t\t\t<div class=\"tasks-scrum-epic-form-container\">\n\t\t\t\t\t<div class=\"tasks-scrum-epic-form-header\">\n\t\t\t\t\t\t<div class=\"tasks-scrum-epic-form-header-title\">\n\t\t\t\t\t\t\t${Text.encode(epic.name)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"tasks-scrum-epic-form-header-separate\"></div>\n\t\t\t\t\t\t<div class=\"tasks-scrum-epic-header-color\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"tasks-scrum-epic-header-color-current\"\n\t\t\t\t\t\t\t\tstyle=\"background-color: ${Text.encode(epic.color)};\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tasks-scrum-epic-form-body\">\n\t\t\t\t\t\t<div class=\"tasks-scrum-epic-form-description\">\n\t\t\t\t\t\t\t${epic.description}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"tasks-scrum-epic-form-files\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\trenderEditForm(epic: EpicType): HTMLElement\n\t{\n\t\tthis.selectedColor = epic.color;\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"tasks-scrum-epic-form\">\n\t\t\t\t<div class=\"tasks-scrum-epic-form-container\">\n\t\t\t\t\t${this.renderNameField(epic.id, epic.name, this.selectedColor)}\n\t\t\t\t\t${this.renderDescriptionField()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\trenderNameField(epicId: number, name: string, color: string): HTMLElement\n\t{\n\t\tconst nameField = Tag.render`\n\t\t\t<div class=\"tasks-scrum-epic-form-header\">\n\t\t\t\t<div class=\"tasks-scrum-epic-form-header-title\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tvalue=\"${Text.encode(name)}\"\n\t\t\t\t\t\tclass=\"tasks-scrum-epic-form-header-title-control\"\n\t\t\t\t\t\tplaceholder=\"${Loc.getMessage('TASKS_SCRUM_SPRINT_ADD_EPIC_NAME_PLACEHOLDER')}\"\n\t\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-scrum-epic-form-header-separate\"></div>\n\t\t\t\t<div class=\"tasks-scrum-epic-header-color\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tdata-epic-id=\"${parseInt(epicId, 10)}\"\n\t\t\t\t\t\tclass=\"tasks-scrum-epic-header-color-current\"\n\t\t\t\t\t\tstyle=\"background-color: ${Text.encode(color)};\"\n\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tasks-scrum-epic-header-color-btn-angle\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tconst pickerContainer = nameField.querySelector('.tasks-scrum-epic-header-color');\n\n\t\tEvent.bind(pickerContainer, 'click', () => {\n\t\t\tconst colorNode = pickerContainer.querySelector('.tasks-scrum-epic-header-color-current');\n\t\t\tconst picker = this.getColorPicker(colorNode);\n\t\t\tpicker.open();\n\t\t});\n\n\t\treturn nameField;\n\t}\n\n\trenderDescriptionField(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"tasks-scrum-epic-form-body\">\n\t\t\t\t<div class=\"tasks-scrum-epic-form-description --editing\"></div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\trenderEditor(container: HTMLElement)\n\t{\n\t\tsetTimeout(() => {\n\t\t\tRuntime.html(container, this.formData.html)\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (window.LHEPostForm)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.editorHandler = window.LHEPostForm.getHandler(this.id);\n\n\t\t\t\t\t\tEventEmitter.emit(this.editorHandler.eventNode, 'OnShowLHE', [true]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.focusToName();\n\t\t\t\t})\n\t\t\t;\n\t\t}, 300);\n\t}\n\n\trenderListBlank(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"tasks-scrum-epics-empty\">\n\t\t\t\t<div class=\"tasks-scrum-epics-empty-first-title\">\n\t\t\t\t\t${Loc.getMessage('TASKS_SCRUM_EPICS_EMPTY_FIRST_TITLE')}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-scrum-epics-empty-image\">\n\t\t\t\t\t<svg width=\"124px\" height=\"123px\" viewBox=\"0 0 124 123\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n\t\t\t\t\t\t<g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" opacity=\"0.28\">\n\t\t\t\t\t\t\t<path d=\"M83,105 L83,81.4375 L105,81.4375 L105,18 L17,18 L17,81.4375 L39,81.4375 L39,105 L83,105 Z M10.9411765,0 L113.058824,0 C119.101468,0 124,4.85902727 124,10.8529412 L124,112.147059 C124,118.140973 119.101468,123 113.058824,123 L10.9411765,123 C4.89853156,123 0,118.140973 0,112.147059 L0,10.8529412 C0,4.85902727 4.89853156,0 10.9411765,0 Z M44.0142862,47.0500004 L54.2142857,57.4416671 L79.7142857,32 L87,42.75 L54.2142857,75 L36,57.0833333 L44.0142862,47.0500004 Z\" fill=\"#A8ADB4\" />\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-scrum-epics-empty-second-title\">\n\t\t\t\t\t${Loc.getMessage('TASKS_SCRUM_EPICS_EMPTY_SECOND_TITLE')}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-scrum-epics-empty-button\">\n\t\t\t\t\t<button class=\"ui-btn ui-btn-primary ui-btn-lg\">\n\t\t\t\t\t\t${Loc.getMessage('TASKS_SCRUM_SPRINT_ADD_EPIC_LIST_TOOLBAR_BUTTON')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetGrid()\n\t{\n\t\t/* eslint-disable */\n\t\tif (BX && BX.Main && BX.Main.gridManager)\n\t\t{\n\t\t\treturn BX.Main.gridManager.getById(this.gridId);\n\t\t}\n\t\t/* eslint-enable */\n\n\t\treturn null;\n\t}\n\n\treloadGrid()\n\t{\n\t\tif (BX && BX.Main && BX.Main.gridManager)\n\t\t{\n\t\t\tBX.Main.gridManager.reload(this.gridId);\n\t\t}\n\t}\n\n\tprepareTagsList(container: HTMLElement)\n\t{\n\t\tconst tagsContainers = container.querySelectorAll('.tasks-scrum-epic-grid-tags');\n\n\t\ttagsContainers.forEach((tagsContainer) => {\n\t\t\tconst tags = this.getTagsFromNode(tagsContainer);\n\t\t\tDom.clean(tagsContainer);\n\t\t\ttags.forEach((tag) => {\n\t\t\t\tDom.append(this.getTagNode(tag), tagsContainer);\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTagsFromNode(node: HTMLElement): Array\n\t{\n\t\tconst tags = [];\n\n\t\tnode.childNodes.forEach((childNode) => {\n\t\t\ttags.push(childNode.textContent.trim());\n\t\t});\n\n\t\treturn tags;\n\t}\n\n\tgetTagNode(tag: string): HTMLElement\n\t{\n\t\tconst tagLabel = new Label({\n\t\t\ttext: tag,\n\t\t\tcolor: Label.Color.TAG_LIGHT,\n\t\t\tfill: true,\n\t\t\tsize: Label.Size.SM,\n\t\t\tcustomClass: ''\n\t\t});\n\n\t\treturn tagLabel.getContainer();\n\t}\n\n\tgetColorPicker(colorNode): Object\n\t{\n\t\tconst epicId = Dom.attr(colorNode, 'data-epic-id');\n\n\t\tif (!this.colorPickers.has(epicId))\n\t\t{\n\t\t\t/* eslint-disable */\n\t\t\tconst picker =  new BX.ColorPicker({\n\t\t\t\tbindElement: colorNode,\n\t\t\t\tdefaultColor: this.defaultColor,\n\t\t\t\tselectedColor: this.selectedColor ? this.selectedColor : this.defaultColor,\n\t\t\t\tonColorSelected: (color, picker) => {\n\t\t\t\t\tthis.selectedColor = color;\n\t\t\t\t\tcolorNode.style.backgroundColor = color;\n\t\t\t\t},\n\t\t\t\tpopupOptions: {\n\t\t\t\t\tangle: {\n\t\t\t\t\t\tposition: 'top',\n\t\t\t\t\t\toffset: 33\n\t\t\t\t\t},\n\t\t\t\t\tclassName: 'tasks-scrum-epic-color-popup'\n\t\t\t\t},\n\t\t\t\tallowCustomColor: false,\n\t\t\t\tcolors: [\n\t\t\t\t\t['#aae9fc', '#bbecf1', '#98e1dc', '#e3f299', '#ffee95', '#ffdd93', '#dfd3b6', '#e3c6bb'],\n\t\t\t\t\t['#ffad97', '#ffbdbb', '#ffcbd8', '#ffc4e4', '#c4baed', '#dbdde0', '#bfc5cd', '#a2a8b0']\n\t\t\t\t]\n\t\t\t});\n\n\t\t\tthis.colorPickers.set(epicId, picker);\n\t\t\t/* eslint-enable */\n\t\t}\n\n\t\treturn this.colorPickers.get(epicId);\n\t}\n\n\tfocusToName()\n\t{\n\t\tsetTimeout(() => {\n\t\t\tthis.form.querySelector('.tasks-scrum-epic-form-header-title-control').focus();\n\t\t}, 50);\n\t}\n\n\tgetRequestData()\n\t{\n\t\tconst requestData = {};\n\n\t\tif (this.currentEpic)\n\t\t{\n\t\t\trequestData.epicId = this.currentEpic.id;\n\t\t}\n\n\t\trequestData.groupId = this.groupId;\n\t\trequestData.name = (this.form.querySelector('[name=name]').value).trim();\n\t\trequestData.description = this.editorHandler.getEditor().GetContent();\n\t\trequestData.color = this.selectedColor ? this.selectedColor : this.defaultColor;\n\t\trequestData.files = this.getAttachmentsFiles();\n\n\t\treturn requestData;\n\t}\n\n\tgetAttachmentsFiles(): Array\n\t{\n\t\tconst files = [];\n\n\t\tif (\n\t\t\t!this.editorHandler\n\t\t\t|| !Type.isPlainObject(this.editorHandler.arFiles)\n\t\t\t|| !Type.isPlainObject(this.editorHandler.controllers)\n\t\t)\n\t\t{\n\t\t\treturn files;\n\t\t}\n\n\t\tconst fileControllers = [];\n\t\tObject.values(this.editorHandler.arFiles)\n\t\t\t.forEach((controller) => {\n\t\t\t\tif(!fileControllers.includes(controller))\n\t\t\t\t{\n\t\t\t\t\tfileControllers.push(controller);\n\t\t\t\t}\n\t\t\t})\n\t\t;\n\n\t\tfileControllers.forEach((fileController) => {\n\t\t\tif (\n\t\t\t\tthis.editorHandler.controllers[fileController]\n\t\t\t\t&& Type.isPlainObject(this.editorHandler.controllers[fileController].values)\n\t\t\t)\n\t\t\t{\n\t\t\t\tObject.keys(this.editorHandler.controllers[fileController].values)\n\t\t\t\t\t.forEach((fileId) => {\n\t\t\t\t\t\tif (!files.includes(fileId))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfiles.push(fileId);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t}\n\t\t});\n\n\t\treturn files;\n\t}\n}"],"names":["RequestSender","controller","action","data","Promise","resolve","reject","ajax","runAction","then","response","alertTitle","Type","isUndefined","errors","console","error","length","firstError","shift","errorCode","code","message","title","Loc","getMessage","MessageBox","alert","Epic","params","setEventNamespace","view","isString","groupId","parseInt","epicId","gridId","pathToTask","requestSender","sidePanelManager","BX","SidePanel","Instance","sidePanel","id","Text","getRandom","form","formData","listData","editorHandler","colorPickers","Map","defaultColor","selectedColor","showAddForm","showList","showViewForm","showEditForm","showTasksList","open","cacheable","width","contentCallback","Layout","createContent","extensions","content","createAddContent","bind","design","section","buttons","cancelButton","SaveButton","onclick","onSaveAddForm","events","onLoad","onLoadAddForm","sidePanelId","subscribeListToEvents","toolbar","Button","text","color","Color","PRIMARY","createListContent","onLoadList","completed","createTasksListContent","onLoadTasksList","subscribeViewToEvents","getEpic","epic","createViewContent","close","EventEmitter","emit","getEventNamespace","onLoadViewForm","createEditContent","onSaveEditForm","onLoadEditForm","showErrorAlert","taskId","replace","subscribe","reloadGrid","baseEvent","showEdit","getData","reload","openSliders","getOpenSliders","forEach","slider","getUrl","editorId","renderAddForm","renderList","renderTasksList","epicFiles","html","renderViewForm","description","currentEpic","renderEditForm","event","getSlider","getContainer","querySelector","descriptionContainer","renderEditor","getRequestData","UI","Notification","Center","notify","listContainer","Dom","append","renderListBlank","Event","Runtime","onBeforeGridRequest","prepareTagsList","filesContainer","getCompatData","gridObject","eventArgs","sessid","bitrix_sessid","method","url","getListUrl","Tag","render","renderNameField","renderDescriptionField","encode","name","nameField","pickerContainer","colorNode","picker","getColorPicker","container","setTimeout","window","LHEPostForm","getHandler","eventNode","focusToName","Main","gridManager","getById","tagsContainers","querySelectorAll","tagsContainer","tags","getTagsFromNode","clean","tag","getTagNode","node","childNodes","childNode","push","textContent","trim","tagLabel","Label","TAG_LIGHT","fill","size","Size","SM","customClass","attr","has","ColorPicker","bindElement","onColorSelected","style","backgroundColor","popupOptions","angle","position","offset","className","allowCustomColor","colors","set","get","focus","requestData","value","getEditor","GetContent","files","getAttachmentsFiles","isPlainObject","arFiles","controllers","fileControllers","Object","values","includes","fileController","keys","fileId","show","removeEpic","openSlider","frameWindow","getWindow","isNil","Tasks","Scrum","EpicInstance","showTask"],"mappings":"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"}