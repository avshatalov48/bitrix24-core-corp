{"version":3,"file":"tasks-entity-selector.bundle.js","sources":["../src/footer.js"],"sourcesContent":["import { DefaultFooter, Dialog } from 'ui.entity-selector';\nimport { Loc, Tag } from 'main.core';\n\nexport default class Footer extends DefaultFooter\n{\n\tconstructor(dialog: Dialog, options: { [option: string]: any })\n\t{\n\t\tsuper(dialog, options);\n\t\tthis.userId = options.userId\n\t\t\t? options.userId.toString()\n\t\t\t: BX.message('USER_ID')\n\t\t;\n\t\tthis.taskId = options.taskId\n\t\t\t? options.taskId.toString()\n\t\t\t: 0\n\t\t;\n\t\tthis.groupId = options.groupId\n\t\t\t? options.groupId.toString()\n\t\t\t: 0\n\t\t;\n\t}\n\n\tgetContent(): HTMLElement | HTMLElement[] | string | null\n\t{\n\t\tlet url = '/company/personal/user/' + this.userId + '/tasks/tags/';\n\t\tconst task = this.taskId;\n\t\tconst group = this.groupId;\n\t\tif (group !== 0)\n\t\t{\n\t\t\turl = '/company/personal/user/' + this.userId + '/tasks/tags/?GROUP_ID=' + group;\n\t\t}\n\t\treturn this.cache.remember('content', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"tags-widget-custom-footer\">\n\t\t\t\t\t<a class=\"ui-selector-footer-link ui-selector-footer-link-add\"  \n\t\t\t\t\t\tid=\"tags-widget-custom-footer-add-new\" hidden=\"true\">\n\t\t\t\t\t\t\t${Loc.getMessage('TASKS_ENTITY_SELECTOR_TAG_FOOTER_CREATE')}\n\t\t\t\t\t</a>\n\t\t\t\t\t<span class=\"ui-selector-footer-conjunction\" \n\t\t\t\t\t\tid=\"tags-widget-custom-footer-conjunction\" hidden=\"true\">\n\t\t\t\t\t\t\t${Loc.getMessage('TASKS_ENTITY_SELECTOR_TAG_FOOTER_OR')}\n\t\t\t\t\t</span>\n\t\t\t\t\t<a class=\"ui-selector-footer-link\" \n\t\t\t\t\t\tonclick=\"BX.SidePanel.Instance.open(\\'${url}\\', {\n\t\t\t\t\t\t\t\t\twidth: 1000,\n\t\t\t\t\t\t\t\t\trequestMethod: 'post',\n\t\t\t\t\t\t\t\t\trequestParams: {\n\t\t\t\t\t\t\t\t\t\ttaskId: ${task},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t${Loc.getMessage('TASKS_ENTITY_SELECTOR_TAG_FOOTER_GET_TAG_SLIDER')}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}"],"names":["Footer","dialog","options","userId","toString","BX","message","taskId","groupId","url","task","group","cache","remember","Tag","render","Loc","getMessage","DefaultFooter"],"mappings":";;;;;;;AAAA,KAGqBA,MAAM;GAAA;GAE1B,gBAAYC,MAAc,EAAEC,OAAkC,EAC9D;KAAA;KAAA;KACC,oGAAMD,MAAM,EAAEC,OAAO;KACrB,MAAKC,MAAM,GAAGD,OAAO,CAACC,MAAM,GACzBD,OAAO,CAACC,MAAM,CAACC,QAAQ,EAAE,GACzBC,EAAE,CAACC,OAAO,CAAC,SAAS,CAAC;KAExB,MAAKC,MAAM,GAAGL,OAAO,CAACK,MAAM,GACzBL,OAAO,CAACK,MAAM,CAACH,QAAQ,EAAE,GACzB,CAAC;KAEJ,MAAKI,OAAO,GAAGN,OAAO,CAACM,OAAO,GAC3BN,OAAO,CAACM,OAAO,CAACJ,QAAQ,EAAE,GAC1B,CAAC;KACH;;GACD;KAAA;KAAA,6BAGD;OACC,IAAIK,GAAG,GAAG,yBAAyB,GAAG,IAAI,CAACN,MAAM,GAAG,cAAc;OAClE,IAAMO,IAAI,GAAG,IAAI,CAACH,MAAM;OACxB,IAAMI,KAAK,GAAG,IAAI,CAACH,OAAO;OAC1B,IAAIG,KAAK,KAAK,CAAC,EACf;SACCF,GAAG,GAAG,yBAAyB,GAAG,IAAI,CAACN,MAAM,GAAG,wBAAwB,GAAGQ,KAAK;;OAEjF,OAAO,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAC,SAAS,EAAE,YAAM;SAC3C,OAAOC,aAAG,CAACC,MAAM,wnDAIXC,aAAG,CAACC,UAAU,CAAC,yCAAyC,CAAC,EAIzDD,aAAG,CAACC,UAAU,CAAC,qCAAqC,CAAC,EAGhBR,GAAG,EAI7BC,IAAI,EAIfM,aAAG,CAACC,UAAU,CAAC,iDAAiD,CAAC;QAIvE,CAAC;;;GACF;CAAA,EArDkCC,+BAAa;;;;;;;;"}