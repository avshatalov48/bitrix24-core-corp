this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};(function(e,s,a,l,i,t,r,o,d,b){"use strict";let c=e=>e,n,v;var p=babelHelpers.classPrivateFieldLooseKey("params");var F=babelHelpers.classPrivateFieldLooseKey("segments");var P=babelHelpers.classPrivateFieldLooseKey("renderSegment");var h=babelHelpers.classPrivateFieldLooseKey("selectSegment");class L{constructor(e){Object.defineProperty(this,h,{value:f});Object.defineProperty(this,P,{value:u});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e;babelHelpers.classPrivateFieldLooseBase(this,F)[F]=e.segments}render(){return r.Tag.render(n||(n=c`
			<div class="tasks-flow__segment-button">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,F)[F].map((e=>babelHelpers.classPrivateFieldLooseBase(this,P)[P](e))))}}function u(e){e.node=r.Tag.render(v||(v=c`
			<div class="tasks-flow__segment-button-segment ${0}">
				${0}
			</div>
		`),e.isActive?"--active":"",e.title);r.Event.bind(e.node,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,h)[h](e)));return e.node}function f(e){babelHelpers.classPrivateFieldLooseBase(this,F)[F].forEach((s=>{r.Dom.removeClass(s.node,"--active");if(s.id===e.id){r.Dom.addClass(s.node,"--active")}}));babelHelpers.classPrivateFieldLooseBase(this,p)[p].onSegmentSelected(e)}var H=babelHelpers.classPrivateFieldLooseKey("flowId");var w=babelHelpers.classPrivateFieldLooseKey("pageSize");var B=babelHelpers.classPrivateFieldLooseKey("pageNum");var _=babelHelpers.classPrivateFieldLooseKey("pages");var m=babelHelpers.classPrivateFieldLooseKey("convertUserToEntity");class y{constructor(e){Object.defineProperty(this,m,{value:g});Object.defineProperty(this,H,{writable:true,value:void 0});Object.defineProperty(this,w,{writable:true,value:7});Object.defineProperty(this,B,{writable:true,value:1});Object.defineProperty(this,_,{writable:true,value:{}});babelHelpers.classPrivateFieldLooseBase(this,H)[H]=e}async getViewFormData(){const{data:e}=await r.ajax.runAction("tasks.flow.View.Flow.get",{data:{flowId:babelHelpers.classPrivateFieldLooseBase(this,H)[H]}});return{flow:e.flow,team:e.team.map((e=>babelHelpers.classPrivateFieldLooseBase(this,m)[m](e))),teamCount:e.teamCount,owner:babelHelpers.classPrivateFieldLooseBase(this,m)[m](e.owner),creator:babelHelpers.classPrivateFieldLooseBase(this,m)[m](e.creator),project:e.project}}async getSimilarFlows(){if(babelHelpers.classPrivateFieldLooseBase(this,_)[_][babelHelpers.classPrivateFieldLooseBase(this,B)[B]]){return{page:[],similarFlows:Object.values(babelHelpers.classPrivateFieldLooseBase(this,_)[_]).flat()}}const{data:e}=await r.ajax.runAction("tasks.flow.View.SimilarFlow.list",{data:{flowId:babelHelpers.classPrivateFieldLooseBase(this,H)[H]},navigation:{page:babelHelpers.classPrivateFieldLooseBase(this,B)[B],size:babelHelpers.classPrivateFieldLooseBase(this,w)[w]}});babelHelpers.classPrivateFieldLooseBase(this,_)[_][babelHelpers.classPrivateFieldLooseBase(this,B)[B]]=e;if(e.length>=babelHelpers.classPrivateFieldLooseBase(this,w)[w]){babelHelpers.classPrivateFieldLooseBase(this,B)[B]++}return{page:e,similarFlows:Object.values(babelHelpers.classPrivateFieldLooseBase(this,_)[_]).flat()}}}function g(e){return{name:e.name,avatar:e.avatar,url:e.pathToProfile}}let O=e=>e,T,S,K,E;var I=babelHelpers.classPrivateFieldLooseKey("flowId");var j=babelHelpers.classPrivateFieldLooseKey("viewAjax");var k=babelHelpers.classPrivateFieldLooseKey("createTaskButtonClickHandler");var M=babelHelpers.classPrivateFieldLooseKey("similarFlows");var A=babelHelpers.classPrivateFieldLooseKey("layout");var $=babelHelpers.classPrivateFieldLooseKey("load");var W=babelHelpers.classPrivateFieldLooseKey("renderSimilarFlowsListTitle");var R=babelHelpers.classPrivateFieldLooseKey("renderSimilarFlow");var C=babelHelpers.classPrivateFieldLooseKey("renderEmptyState");class D{constructor(e){var s;Object.defineProperty(this,C,{value:N});Object.defineProperty(this,R,{value:X});Object.defineProperty(this,W,{value:V});Object.defineProperty(this,$,{value:x});Object.defineProperty(this,I,{writable:true,value:void 0});Object.defineProperty(this,j,{writable:true,value:void 0});Object.defineProperty(this,k,{writable:true,value:void 0});Object.defineProperty(this,M,{writable:true,value:[]});Object.defineProperty(this,A,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,I)[I]=e.flowId;babelHelpers.classPrivateFieldLooseBase(this,A)[A]={};this.isFeatureEnabled=e.isFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,j)[j]=new y(e.flowId);babelHelpers.classPrivateFieldLooseBase(this,k)[k]=(s=e.createTaskButtonClickHandler)!=null?s:null}show(){r.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap,"display","");if(!r.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,M)[M])){r.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap,"overflow","hidden");babelHelpers.classPrivateFieldLooseBase(this,$)[$]().then((()=>r.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap,"overflow","")))}}hide(){r.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap,"display","none")}render(){babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap=r.Tag.render(T||(T=O`
			<div class="tasks-flow__view-form_similar-flows">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,M)[M].map((e=>babelHelpers.classPrivateFieldLooseBase(this,R)[R](e))));r.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap,"scroll",(()=>{const e=babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap.scrollTop;const s=babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap.scrollHeight-babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap.offsetHeight;if(Math.abs(e-s)<1){void babelHelpers.classPrivateFieldLooseBase(this,$)[$]()}}));return babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap}}async function x(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,A)[A].emptyState)==null?void 0:e.remove();const s=new o.Loader({target:babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap,size:60});void s.show();const{page:a,similarFlows:l}=await babelHelpers.classPrivateFieldLooseBase(this,j)[j].getSimilarFlows();const i=!r.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,M)[M])&&r.Type.isArrayFilled(l);if(i){r.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,W)[W](),babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap)}babelHelpers.classPrivateFieldLooseBase(this,M)[M]=l;a.forEach((e=>r.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,R)[R](e),babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap)));if(!r.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,M)[M])){r.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,C)[C](),babelHelpers.classPrivateFieldLooseBase(this,A)[A].wrap)}s.destroy()}function V(){return r.Tag.render(S||(S=O`
			<div class="tasks-flow__view-form_similar-flows-title">
				${0}
			</div>
		`),r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_SIMILAR_FLOWS_TITLE"))}function X(e){const s=new d.Button({color:d.Button.Color.SECONDARY_LIGHT,size:d.Button.Size.EXTRA_SMALL,round:true,text:r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_CREATE_TASK"),noCaps:true,onclick:()=>{var s,a;(s=(a=babelHelpers.classPrivateFieldLooseBase(this,k))[k])==null?void 0:s.call(a);if(this.isFeatureEnabled){BX.SidePanel.Instance.open(e.createTaskUri)}else{b.FeaturePromotersRegistry.getPromoter({code:"limit_tasks_flows"}).show()}}});return r.Tag.render(K||(K=O`
			<div class="tasks-flow__view-form_similar-flow">
				<div class="tasks-flow__view-form_similar-flow-name" title="${0}">
					${0}
				</div>
				${0}
			</div>
		`),r.Text.encode(e.name),r.Text.encode(e.name),s.render())}function N(){babelHelpers.classPrivateFieldLooseBase(this,A)[A].emptyState=r.Tag.render(E||(E=O`
			<div class="tasks-flow__view-form_similar-flows-empty-state">
				<div class="tasks-flow__view-form_similar-flows-empty-state-icon"></div>
				<div class="tasks-flow__view-form_similar-flows-empty-state-text">
					${0}
				</div>
			</div>
		`),r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_NO_SIMILAR_FLOWS"));return babelHelpers.classPrivateFieldLooseBase(this,A)[A].emptyState}let U=e=>e,z,J,Y,G,q,Q,Z,ee,se,ae,le,ie;var te=babelHelpers.classPrivateFieldLooseKey("params");var re=babelHelpers.classPrivateFieldLooseKey("layout");var oe=babelHelpers.classPrivateFieldLooseKey("notificationList");var de=babelHelpers.classPrivateFieldLooseKey("viewAjax");var be=babelHelpers.classPrivateFieldLooseKey("selectedSegment");var ce=babelHelpers.classPrivateFieldLooseKey("viewFormData");var ne=babelHelpers.classPrivateFieldLooseKey("subscribeEvents");var ve=babelHelpers.classPrivateFieldLooseKey("load");var pe=babelHelpers.classPrivateFieldLooseKey("render");var Fe=babelHelpers.classPrivateFieldLooseKey("renderLoader");var Pe=babelHelpers.classPrivateFieldLooseKey("renderHeader");var he=babelHelpers.classPrivateFieldLooseKey("renderDescription");var Le=babelHelpers.classPrivateFieldLooseKey("renderEfficiencyLabel");var ue=babelHelpers.classPrivateFieldLooseKey("renderTitle");var fe=babelHelpers.classPrivateFieldLooseKey("renderContent");var He=babelHelpers.classPrivateFieldLooseKey("renderSegmentButton");var we=babelHelpers.classPrivateFieldLooseKey("updateSegmentsVisibility");var Be=babelHelpers.classPrivateFieldLooseKey("renderDetails");var _e=babelHelpers.classPrivateFieldLooseKey("renderProjectField");var me=babelHelpers.classPrivateFieldLooseKey("renderField");var ye=babelHelpers.classPrivateFieldLooseKey("renderEntity");var ge=babelHelpers.classPrivateFieldLooseKey("renderTeam");var Oe=babelHelpers.classPrivateFieldLooseKey("renderAvatar");var Te=babelHelpers.classPrivateFieldLooseKey("isAvatar");var Se=babelHelpers.classPrivateFieldLooseKey("renderShowTeamButton");var Ke=babelHelpers.classPrivateFieldLooseKey("getShowTeamButtonText");var Ee=babelHelpers.classPrivateFieldLooseKey("onShowTeamButtonClickHandler");var Ie=babelHelpers.classPrivateFieldLooseKey("renderSimilarFlows");class je{constructor(e){Object.defineProperty(this,Ie,{value:ss});Object.defineProperty(this,Ee,{value:es});Object.defineProperty(this,Ke,{value:Ze});Object.defineProperty(this,Se,{value:Qe});Object.defineProperty(this,Te,{value:qe});Object.defineProperty(this,Oe,{value:Ge});Object.defineProperty(this,ge,{value:Ye});Object.defineProperty(this,ye,{value:Je});Object.defineProperty(this,me,{value:ze});Object.defineProperty(this,_e,{value:Ue});Object.defineProperty(this,Be,{value:Ne});Object.defineProperty(this,we,{value:Xe});Object.defineProperty(this,He,{value:Ve});Object.defineProperty(this,fe,{value:xe});Object.defineProperty(this,ue,{value:De});Object.defineProperty(this,Le,{value:Ce});Object.defineProperty(this,he,{value:Re});Object.defineProperty(this,Pe,{value:We});Object.defineProperty(this,Fe,{value:$e});Object.defineProperty(this,pe,{value:Ae});Object.defineProperty(this,ve,{value:Me});Object.defineProperty(this,ne,{value:ke});Object.defineProperty(this,te,{writable:true,value:void 0});Object.defineProperty(this,re,{writable:true,value:void 0});Object.defineProperty(this,oe,{writable:true,value:new Set});Object.defineProperty(this,de,{writable:true,value:void 0});Object.defineProperty(this,be,{writable:true,value:void 0});Object.defineProperty(this,ce,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,te)[te]=e;babelHelpers.classPrivateFieldLooseBase(this,re)[re]={};babelHelpers.classPrivateFieldLooseBase(this,de)[de]=new y(babelHelpers.classPrivateFieldLooseBase(this,te)[te].flowId);this.isFeatureEnabled=e.isFeatureEnabled==="Y";this.flowUrl=e.flowUrl;void babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]();babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]()}static showInstance(e){this.getInstance(e).show(e.bindElement)}static getInstance(e){var s,a,l;(l=(s=this.instances)[a=e.flowId])!=null?l:s[a]=new this(e);return this.instances[e.flowId]}static removeInstance(e){if(Object.hasOwn(this.instances,e)){delete this.instances[e]}}show(e){babelHelpers.classPrivateFieldLooseBase(this,re)[re].popup=this.getPopup();babelHelpers.classPrivateFieldLooseBase(this,re)[re].popup.setContent(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]());babelHelpers.classPrivateFieldLooseBase(this,re)[re].popup.setBindElement(e);babelHelpers.classPrivateFieldLooseBase(this,re)[re].popup.show()}getPopup(){const e=`tasks-flow-view-popup-${babelHelpers.classPrivateFieldLooseBase(this,te)[te].flowId}`;if(a.PopupManager.getPopupById(e)){return a.PopupManager.getPopupById(e)}const s=new a.Popup({id:e,className:"tasks-flow__view-popup",animation:"fading-slide",minWidth:347,maxWidth:347,padding:0,borderRadius:12,autoHide:true,overlay:true,closeByEsc:true,autoHideHandler:({target:e})=>{var a;const l=s.getPopupContainer().contains(e);const i=(a=babelHelpers.classPrivateFieldLooseBase(this,re)[re].teamPopup)==null?void 0:a.getPopup().getPopupContainer().contains(e);return!l&&!i}});new i.SidePanelIntegration(s);return s}}function ke(){s.EventEmitter.subscribe("BX.Tasks.Flow.EditForm:afterSave",(e=>{var s,a;const l=(s=(a=e.data)==null?void 0:a.id)!=null?s:0;je.removeInstance(l)}))}async function Me(){babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=await babelHelpers.classPrivateFieldLooseBase(this,de)[de].getViewFormData();babelHelpers.classPrivateFieldLooseBase(this,re)[re].popup.setContent(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]())}function Ae(){if(!babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]){return babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]()}return r.Tag.render(z||(z=U`
			<div class="tasks-flow__view-form">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe](),babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]())}function $e(){const e=r.Tag.render(J||(J=U`
			<div class="tasks-flow__view-form-loader" style="width: 347px; height: 300px;">
			</div>
		`));void new o.Loader({target:e}).show();return e}function We(){return r.Tag.render(Y||(Y=U`
			<div class="tasks-flow__view-form_header">
				<div class="tasks-flow__view-form_header-title">
					${0}
					<div class="tasks-flow__view-form-header_title-efficiency">
						${0}
					</div>
				</div>
				<div class="tasks-flow__view-form-header_description">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,ue)[ue](),babelHelpers.classPrivateFieldLooseBase(this,Le)[Le](babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].flow.efficiency),babelHelpers.classPrivateFieldLooseBase(this,he)[he](babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].flow.description))}function Re(e){const s=r.Tag.render(G||(G=U`
			<div 
				class="tasks-flow__view-form_header-description" 
				title="${0}"
			></div>
		`),r.Text.encode(e));s.innerText=e;return s}function Ce(e){return new t.Label({text:`${e}%`,color:e<60?t.LabelColor.DANGER:t.LabelColor.SUCCESS,size:t.LabelSize.SM,fill:true}).render()}function De(){const e=r.Tag.render(q||(q=U`
			<div class="tasks-flow__view-form-header_title-link">
				<div
					class="tasks-flow__view-form-header_title-text"
					title="${0}"
				>
					${0}
				</div>
				<div 
					class="tasks-flow__view-form-header_title-link-icon ui-icon-set --link-3"
					style="--ui-icon-set__icon-size: 16px;"
					title="${0}"
				></div>
			</div>
		`),r.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].flow.name),r.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].flow.name),r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_LINK_TITLE"));r.Event.bind(e,"click",(()=>{const e="copy-link";if(!babelHelpers.classPrivateFieldLooseBase(this,oe)[oe].has(e)){const a=window.location.protocol+this.flowUrl;BX.clipboard.copy(a);BX.UI.Notification.Center.notify({id:e,content:r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_TITLE_COPY_LINK")});babelHelpers.classPrivateFieldLooseBase(this,oe)[oe].add(e);s.EventEmitter.subscribeOnce("UI.Notification.Balloon:onClose",(s=>{const a=s.getTarget();if(a.getId()===e){babelHelpers.classPrivateFieldLooseBase(this,oe)[oe].delete(e)}}))}}));return e}function xe(){const e=r.Tag.render(Q||(Q=U`
			<div class="tasks-flow__view-form-content">
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,He)[He](),babelHelpers.classPrivateFieldLooseBase(this,Be)[Be](),babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]());babelHelpers.classPrivateFieldLooseBase(this,we)[we]();return e}function Ve(){babelHelpers.classPrivateFieldLooseBase(this,be)[be]="details";return new L({segments:[{id:"details",title:r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_DETAILS"),isActive:true},{id:"similarFlows",title:r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_SIMILAR_FLOWS")}],onSegmentSelected:e=>{if(babelHelpers.classPrivateFieldLooseBase(this,be)[be]!==e.id){babelHelpers.classPrivateFieldLooseBase(this,be)[be]=e.id;babelHelpers.classPrivateFieldLooseBase(this,we)[we]()}}}).render()}function Xe(){r.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,re)[re].details,"display","none");babelHelpers.classPrivateFieldLooseBase(this,re)[re].similarFlows.hide();if(babelHelpers.classPrivateFieldLooseBase(this,be)[be]==="details"){r.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,re)[re].details,"display","")}if(babelHelpers.classPrivateFieldLooseBase(this,be)[be]==="similarFlows"){babelHelpers.classPrivateFieldLooseBase(this,re)[re].similarFlows.show()}}function Ne(){babelHelpers.classPrivateFieldLooseBase(this,re)[re].details=r.Tag.render(Z||(Z=U`
			<div class="tasks-flow__view-form-details">
				${0}
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,me)[me](r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_CREATOR"),babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].creator)),babelHelpers.classPrivateFieldLooseBase(this,me)[me](r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_ADMINISTRATOR"),babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].owner)),babelHelpers.classPrivateFieldLooseBase(this,me)[me](r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_TEAM"),babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]()),babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]());return babelHelpers.classPrivateFieldLooseBase(this,re)[re].details}function Ue(){if(!babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].project){const e=babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].flow.demo===true?r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_PROJECT_DEMO"):r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_PROJECT_HIDDEN");return babelHelpers.classPrivateFieldLooseBase(this,me)[me](r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_PROJECT"),e)}return babelHelpers.classPrivateFieldLooseBase(this,me)[me](r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_PROJECT"),babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].project))}function ze(e,s){return r.Tag.render(ee||(ee=U`
			<div class="tasks-flow__view-form_field-name">
				${0}
			</div>
			<div class="tasks-flow__view-form_field-value">
				${0}
			</div>
		`),e,s)}function Je(e){return r.Tag.render(se||(se=U`
			<a class="tasks-flow__view-form_entity" href="${0}">
				${0}
				<div class="tasks-flow__view-form_entity-name" title="${0}">
					${0}
				</div>
			</a>
		`),encodeURI(e.url),babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](e),r.Text.encode(e.name),r.Text.encode(e.name))}function Ye(){if(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].flow.demo===true){return r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_PROJECT_DEMO")}if(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].team.length===1){return babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].team[0])}babelHelpers.classPrivateFieldLooseBase(this,re)[re].teamNode=r.Tag.render(ae||(ae=U`
			<div class="tasks-flow__view-form_line-avatars">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].team.map((e=>babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](e))),babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]());if(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].teamCount===babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].team.length){r.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,re)[re].teamNode,"click",babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,re)[re].teamNode}function Ge(e){const s=babelHelpers.classPrivateFieldLooseBase(this,Te)[Te](e.avatar)?`background-image: url('${encodeURI(e.avatar)}');`:"";return r.Tag.render(le||(le=U`
			<span class="ui-icon ui-icon-common-user tasks-flow__view-form_avatar" title="${0}">
				<i style="${0}"></i>
			</span>
		`),r.Text.encode(e.name),s)}function qe(e){return r.Type.isStringFilled(e)}function Qe(){if(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].teamCount===babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].team.length){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,re)[re].showTeamButton)==null?void 0:e.remove();babelHelpers.classPrivateFieldLooseBase(this,re)[re].showTeamButton=null;return""}babelHelpers.classPrivateFieldLooseBase(this,re)[re].showTeamButton=r.Tag.render(ie||(ie=U`
			<div class="tasks-flow__view-form_show-team-button">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]());r.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,re)[re].showTeamButton,"click",babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee].bind(this));return babelHelpers.classPrivateFieldLooseBase(this,re)[re].showTeamButton}function Ze(){return r.Loc.getMessage("TASKS_FLOW_VIEW_FORM_ALL_N",{"#NUM#":babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].teamCount})}function es(){var e,s,a;const i=babelHelpers.classPrivateFieldLooseBase(this,te)[te].flowId;const t=(e=babelHelpers.classPrivateFieldLooseBase(this,re)[re].showTeamButton)!=null?e:babelHelpers.classPrivateFieldLooseBase(this,re)[re].teamNode;(a=(s=babelHelpers.classPrivateFieldLooseBase(this,re)[re]).teamPopup)!=null?a:s.teamPopup=l.TeamPopup.getInstance({flowId:i});babelHelpers.classPrivateFieldLooseBase(this,re)[re].teamPopup.show(t)}function ss(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,re)[re]).similarFlows)!=null?s:e.similarFlows=new D({flowId:babelHelpers.classPrivateFieldLooseBase(this,te)[te].flowId,isFeatureEnabled:this.isFeatureEnabled,createTaskButtonClickHandler:()=>{var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,re)[re].popup)==null?void 0:e.destroy()}});return babelHelpers.classPrivateFieldLooseBase(this,re)[re].similarFlows.render()}je.instances={};e.ViewForm=je})(this.BX.Tasks.Flow=this.BX.Tasks.Flow||{},BX.Event,BX.Main,BX.Tasks.Flow,BX.Tasks,BX.UI,BX,BX,BX.UI,BX.UI);
//# sourceMappingURL=view-form.bundle.map.js