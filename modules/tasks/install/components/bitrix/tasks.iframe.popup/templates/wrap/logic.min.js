"use strict";BX.namespace("Tasks.Component");(function(){if(typeof BX.Tasks.Component.IframePopup!="undefined"){return}BX.Tasks.Component.IframePopup={};BX.Tasks.Component.IframePopup.SideSlider=BX.Tasks.Component.extend({sys:{code:"iframe-popup-side-slider"},methods:{bindEvents:function(){BX.addCustomEvent(window,"tasksTaskEvent",this.onTaskGlobalEvent.bind(this));BX.bindDelegate(this.scope(),"click",{className:"js-id-copy-page-url"},this.onCopyUrl.bind(this))},onCopyUrl:function(e){e=e||window.event;this.onCopyUrlByNode(e.target,this.getWindowHref())},onCopyUrlByNode:function(e,o){this.timeoutIds=this.timeoutIds||[];if(!BX.clipboard.copy(o)){return}var t={content:BX.message("TASKS_TIP_TEMPLATE_LINK_COPIED"),darkMode:true,autoHide:true,zIndex:1e3,angle:true,offsetLeft:20,bindOptions:{position:"top"}};var n=new BX.PopupWindow("tasks_clipboard_copy",e,t);n.show();var i;while(i=this.timeoutIds.pop())clearTimeout(i);i=setTimeout((function(){n.close()}),1500);this.timeoutIds.push(i)},getWindowHref:function(){return BX.util.remove_url_param(window.location.href,["IFRAME","IFRAME_TYPE"])},onTaskGlobalEvent:function(e,o){if(BX.type.isNotEmptyString(e)){o=o||{};if(!o.options.STAY_AT_PAGE){const e=window.top.BX.SidePanel.Instance.getTopSlider();window.top.BX.SidePanel.Instance.close(false,(()=>{e.destroy()}))}}}}})}).call(this);
//# sourceMappingURL=logic.map.js