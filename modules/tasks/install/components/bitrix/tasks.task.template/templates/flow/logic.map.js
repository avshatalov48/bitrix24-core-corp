{"version":3,"file":"logic.map.js","names":["BX","namespace","Tasks","Component","TasksTaskTemplate","extend","sys","code","methods","bindEvents","this","analyticsData","bindControl","delegate","onSubmitClick","onToCheckListClick","bind","createTemplateMenu","Util","hintManager","bindHelp","scope","bindNestedControls","addCustomEvent","errors","alert","Event","EventEmitter","subscribe","eventData","action","data","allowedActions","util","in_array","value","Object","keys","join","processEditorInit","isEditMode","ready","handler","onFormKeyDown","document","editorId","option","editor","BXHtmlEditor","Get","bindEditorEvents","setFocusOnTitle","window","eventEditor","id","Dispatcher","bindEvent","onFrameBlockToggle","name","way","treeStructure","CheckListInstance","getTreeStructure","getDescendantsCount","addCheckList","then","newCheckList","addCheckListItem","setTimeout","input","control","Focus","focus","selectionStart","length","isFlagEnabled","node","checked","ID","e","event","vars","submitting","PreventDefault","csrf","bitrix_sessid","call","IFRAME","hintPopup","PopupWindow","bindElement","content","message","className","darkMode","autoHide","closeByEsc","angle","offsetLeft","offsetWidth","events","onPopupClose","destroy","text","container","getElementsByClassName","isBbCode","querySelector","style","display","textArea","start","end","selectionEnd","substring","contentDocument","getSelection","toString","selection","createRange","titles","split","menu","PopupMenuWindow","items","getToCheckListPopupMenuItems","show","close","self","popupMenuItems","onclick","item","getMenuWindow","getCheckListItemsFromTitles","forEach","handleTaskOptions","checkListContainer","hasClass","fadeSlideToggleByClass","delimiter","getDescendants","descendant","push","fields","getTitle","title","parsedTitle","htmlspecialchars","trim","newCheckListItem","CheckListItem","TITLE","menuItemsList","tabId","toggleClass","layout","optionManager","setShowCompleted","getShowCompleted","setShowOnlyMine","getShowOnlyMine","PopupMenu","create","getBoundingClientRect","width","popupWindow","getInstanceDispatcher","find"],"sources":["logic.js"],"mappings":"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"}