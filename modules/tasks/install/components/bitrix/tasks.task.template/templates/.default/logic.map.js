{"version":3,"sources":["logic.js"],"names":["BX","namespace","Tasks","Component","TasksTaskTemplate","extend","sys","code","methods","bindEvents","this","option","vars","prevResponsibles","parentType","parseInt","BASE_TEMPLATE_ID","PARENT_ID","currentLock","bindDelegateControl","passCtx","onToggleFlag","delegate","onPinFooterClick","bindControl","onForumSubmit","Util","hintManager","bindHelp","scope","bindNestedControls","addCustomEvent","errors","alert","toggleReplicationLock","way","replFlagNode","control","disable","isFlagEnabled","checked","enable","data","toggleBaseTemplateLock","templateButton","onParentTypeClick","addClass","removeClass","switchOption","name","Dispatcher","find","id","then","ctrl","bind","toggleTypeNewLock","isEditMode","solveFieldOpLock","field","value","unLockAll","processEditorInit","ready","handler","onFormKeyDown","document","editorId","editor","BXHtmlEditor","Get","bindEditorEvents","setFocusOnTitle","window","eventEditor","bindEvent","onFrameBlockToggle","onResponsibleChange","processToggleFlag","getInstanceDispatcher","subInstance","onParentChange","getDeadline","getStartDate","updateEndDatePlan","getDuration","getValue","count","openForm","showDisposable","message","hide","setTimeout","input","Focus","focus","selectionStart","length","node","target","type","isNotEmptyString","flagNode","flagName","yesValue","noValue","isElementNode","panel","fadeSlideToggleByClass","fadeToggleByClass","export","replaceAll","ID","NAME","entityType","URL","readOnly","Object","keys","instances","forEach","instanceKey","instance","updateRealValue","getDisplayValue","unit","DurationPicker","UNIT","displayValue","VALUE","companyWorkTime","COMPANY_WORKTIME","start","duration","e","event","submitting","PreventDefault","csrf","bitrix_sessid","call","items","parentTask","parentTemplate","parentCtrl","newId","getIdByValue","hasClass","setCSSMode","setTypes","TASK","TEMPLATE","Widget","options","controlBind","construct","callConstruct","onUnitChange","calendar","realValue","calculateRealValue","getUnit","onDisplayKeydown","onDisplayInput","onDisplayChange","valueInput","fireEvent","isNaN","getMatchWorkTime","getWorkDayDuration","getCalendar","Calendar","adaptSettings","elements","getElementsByClassName","key","which","keyCode","charCode","preventDefault","toString","replace"],"mappings":"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","file":""}