"use strict";BX.namespace("Tasks.Component");(function(){if(typeof BX.Tasks.Component.TasksWidgetTagSelector!="undefined"){return}BX.Tasks.Component.TasksWidgetTagSelector=BX.Tasks.Component.extend({sys:{code:"tag-sel-is"},methods:{construct:function(){this.callConstruct(BX.Tasks.Component);this.subInstance("items",function(){return new this.constructor.Items({scope:this.scope(),data:this.option("data"),preRendered:true})})}}});BX.Tasks.Component.TasksWidgetTagSelector.Items=BX.Tasks.Util.ItemSet.extend({sys:{code:"tag-sel"},options:{controlBind:"class",itemFx:"horizontal",itemFxHoverDelete:true},methods:{bindEvents:function(){this.callMethod(BX.Tasks.Util.ItemSet,"bindEvents");BX.addCustomEvent(window,"onTaskTagSelectAlt",this.onTagsChange.bind(this))},onTagsChange:function(t){for(var e=0;e<t.length;e++){var s={NAME:t[e]};this.addItem(s)}this.each(function(e){if(!BX.util.in_array(e.display(),t)){this.deleteItem(e.value())}})},openAddForm:function(t){if(!window.tasksTagsPopUp){BX.debug("tasksTagsPopUp is not defined");return}window.tasksTagsPopUp.popupWindow.setBindElement(t);window.tasksTagsPopUp.showPopup()},onItemDeleteByCross:function(t){BX.onCustomEvent("onTaskTagDeleteByCross",[t.opts.data]);this.callMethod(BX.Tasks.Util.ItemSet,"onItemDeleteByCross",arguments)},extractItemDisplay:function(t){return t.NAME},extractItemValue:function(t){if("VALUE"in t){return t.VALUE}return Math.abs(this.hashCode(t.NAME))},hashCode:function(t){if(!BX.type.isNotEmptyString(t)){return 0}var e=0;for(var s=0;s<t.length;s++){var n=t.charCodeAt(s);if(n>255){n-=848}e=(e<<5)-e+n;e=e&e}return e}}})}).call(this);
//# sourceMappingURL=logic.map.js