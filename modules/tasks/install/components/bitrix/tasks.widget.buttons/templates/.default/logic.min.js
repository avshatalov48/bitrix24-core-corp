"use strict";BX.namespace("Tasks.Component");(function(){if(typeof BX.Tasks.Component.TasksWidgetButtons!="undefined"){return}BX.Tasks.Component.TasksWidgetButtons=BX.Tasks.Component.extend({sys:{code:"buttons"},methods:{bindEvents:function(){this.bindDelegateControl("group","click",this.passCtx(this.onGroupClick))},onGroupClick:function(t){var e=BX.data(t,"code");if(e){e=e.toString().replace("GROUP_","");BX.PopupMenu.show(this.id()+e,t,this.getGroupMenu(e))}},getGroupMenu:function(t){var e=[];BX.Tasks.each(this.option("groups")[t],function(t){if(!t.ACTIVE){return}var n={code:t.CODE,text:t.TITLE,title:t.TITLE,onclick:this.passCtx(this.doMenuAction)};if(t.TYPE=="link"&&t.URL!=""){n.href=t.URL}if(t.MENU_CLASS){n.className=t.MENU_CLASS}e.push(n)}.bind(this));return e},doMenuAction:function(t,e,n){var s=n.code;if(s){if(s==="CREATE_SUB"&&this.option("templateSubtaskLimitExceeded")){BX.Runtime.loadExtension("tasks.limit").then((t=>{const{Limit:e}=t;e.showInstance({featureId:"tasks_templates_subtasks",bindElement:null,limitAnalyticsLabels:{module:"tasks",source:"templateView"}})}));return}this.fireEvent("button-click",[s])}t.popupWindow.close()}}})}).call(this);
//# sourceMappingURL=logic.map.js