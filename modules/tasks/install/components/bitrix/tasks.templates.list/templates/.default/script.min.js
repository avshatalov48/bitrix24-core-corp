var tasksMenuPopup={};var quickInfoData={};var loadedTasks={};var preOrder={};function DeleteTemplate(e){DeleteTask(e,{mode:"delete-subtree"})}function ShowMenuPopup(e,t){if(tasksMenuPopup[e]){BX.PopupMenu.show(e,t,tasksMenuPopup[e],{events:{onPopupClose:__onMenuPopupClose}})}BX.addClass(t,"task-menu-button-selected");return false}function __onMenuPopupClose(){BX.removeClass(this.bindElement,"task-menu-button-selected")}function ShowMenuPopupContext(e,t){var s=t.target||t.srcElement;if(s&&s.tagName.toUpperCase()=="A"){return true}if(tasksMenuPopup[e]){BX.PopupMenu.show("c"+e,t,tasksMenuPopup[e],{});BX.PopupMenu.getCurrentMenu().popupWindow.setBindElement(t);BX.PopupMenu.getCurrentMenu().popupWindow.adjustPosition()}BX.PreventDefault(t)}function SwitchTaskFilter(e){if(BX.hasClass(e,"task-filter-mode-selected"))return false;BX.toggleClass(e.parentNode.parentNode.parentNode,"task-filter-advanced-mode");var t=e.parentNode.getElementsByTagName("a");for(var s=0;s<t.length;s++)BX.toggleClass(t[s],"task-filter-mode-selected");return false}function SortTable(e,t){if(!t)t=window.event;window.location=e;BX.PreventDefault(t)}function ToggleSubtasks(e,t,s){if(!tasksListNS||!tasksListNS.isReady){window.setTimeout(function(e,t,s){return function(){ToggleSubtasks(e,t,s)}}(e,t,s),500);return}if(loadedTasks[s]){var a=BX.findNextSibling(e,{tagName:"tr"});while(a&&Depth(a)>t){if(BX.hasClass(e,"task-list-item-opened")){BX.addClass(a,"task-list-item-hidden");BX.removeClass(a,"task-list-item-opened")}else if(BX.hasClass(a,"task-depth-"+(t+1))){BX.removeClass(a,"task-list-item-hidden")}a=BX.findNextSibling(a,{tagName:"tr"})}BX.toggleClass(e,"task-list-item-opened")}else{var n={sessid:BX.message("bitrix_sessid"),id:s,depth:t,filter:tasksListNS.arFilter,order:preOrder,columnsOrder:tasksListNS.getColumnsOrder(),path_to_user:BX.message("TASKS_PATH_TO_USER_PROFILE"),path_to_task:BX.message("TASKS_PATH_TO_TASK"),path_to_templates_template:BX.message("TASKS_PATH_TO_TEMPLATES_TEMPLATE"),mode:"load"};loadedTasks[s]=true;BX.ajax({method:"POST",dataType:"html",url:tasksListAjaxUrl,data:n,processData:false,onsuccess:function(){var a=function(a){var n=document.createElement("div");n.innerHTML="<table>"+a+"</table>";var o=n.firstChild.getElementsByTagName("TR");var r=n.firstChild.getElementsByTagName("SCRIPT");for(var i=o.length-1;i>=0;i--){if(!BX(o[i].id)){e.parentNode.insertBefore(o[i],e.nextSibling);if(!BX.browser.IsIE()||!!document.documentMode&&document.documentMode>=10){var l=BX.create("script",{props:{type:"text/javascript"},html:r[i].innerHTML})}else{var l=r[i]}e.parentNode.insertBefore(l,e.nextSibling)}}ToggleSubtasks(e,t,s)};return a}()})}}function Depth(e){var t=/task-depth-([0-9]+)/;var s=t.exec(e.className);if(s){return parseInt(s[1])}else{return 0}}
//# sourceMappingURL=script.map.js