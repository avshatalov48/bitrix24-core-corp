{"version":3,"sources":["script.js"],"names":["this","BX","Tasks","exports","main_core_events","main_core","KanbanComponent","params","babelHelpers","classCallCheck","filterId","defaultPresetId","ajaxComponentPath","ajaxComponentParams","createClass","key","value","onClickSort","item","order","Dom","hasClass","refreshIcons","saveSelection","parentElement","childNodes","forEach","element","removeClass","addClass","ajax","method","dataType","url","data","action","sessid","bitrix_sessid","onsuccess","onCustomEvent","_templateObject2","taggedTemplateLiteral","_templateObject","KanbanManager","_this","siteTemplateId","sprintSelected","kanban","kanbanGroupedByParentTasks","Map","parentTasks","kanbanComponent","EventEmitter","subscribe","event","_event$getCompatData","getCompatData","_event$getCompatData2","slicedToArray","values","filterInstance","promise","onApplyFilter","drawKanban","renderTo","_this2","showNotSprintMessage","inputRenderTo","inputKanbanParams","drawKanbanWithoutGrouping","drawKanbanInGroupingMode","fillNeighborKanbans","adjustGroupHeadersWidth","setTimeout","getKanban","getKanbansGroupedByParentTasks","_this3","isParentTaskGrouping","_loop","parentTaskId","kanbanNode","createParentTaskKanbanNode","parentTaskCompleted","setTextDecorationToParentTaskName","append","tickButtonNode","querySelector","Event","bind","toggleGroupingVisibility","container","drawKanbanGroupedByParentTasks","Kanban","Grid","getKanbanParams","draw","_this4","parseInt","columns","items","getRenderToContainer","closest","downGroupingVisibility","onCompleteParentTask","onRenewParentTask","set","_this5","addNeighborKanban","parentTaskKanban","addNeighborGrid","isGroupingMode","itemType","columnType","canAddColumn","canEditColumn","canRemoveColumn","canSortColumn","canAddItem","canSortItem","bgColor","kanbanType","ajaxHandlerPath","pathToTask","pathToTaskCreate","pathToUser","addItemInSlider","gridId","newTaskOrder","setClientDate","clientDate","date","format","convertBitrixFormat","Loc","getMessage","clientTime","rights","admins","messages","ITEM_TITLE_PLACEHOLDER","COLUMN_TITLE_PLACEHOLDER","ownerId","groupId","isSprintView","onClickGroup","mode","_this6","fadeOutKanbans","refreshKanban","existsTasksGroupedBySubTasks","refreshParentTasksKanbans","hideParentTaskKanban","fadeInKanbans","error","removeItems","loadData","_this7","parentTasksToRefresh","parentTasksToCreate","Object","entries","parentTask","_parentTask","parentTaskData","has","push","get","id","refreshParentTaskKanban","createParentTaskKanban","getInnerContainer","showElement","upGroupingVisibility","_this8","hideElement","fadeOut","fadeIn","Tag","render","Type","isArray","response","style","display","getTaskUrl","Text","encode","name","storyPoints","_this9","groupHeaders","querySelectorAll","groupHeader","width","getColumnsWidth","baseContainer","firstElementChild","classList","toggle","gridContainer","scrollLeft","getGridContainer","unsetTextDecorationToParentTaskName","parentTaskNameNode","taskId","replace","Scrum"],"mappings":"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","file":"script.map.js"}