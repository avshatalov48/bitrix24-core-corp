{"version":3,"file":"logic.map.js","names":["BX","namespace","Tasks","Component","TaskDetailPartsReminder","Util","ItemSet","extend","sys","code","constants","UNIT_DAY","UNIT_HOUR","methods","construct","this","callConstruct","vars","editItemValue","instances","windows","form","Form","scope","control","id","parent","setTaskId","option","setTaskDeadLine","bindEvent","delegate","onItemApply","addCustomEvent","window","onTaskDeadLineChange","openAddForm","extractItemValue","idOffset","extractItemDisplay","openUpdateForm","item","items","open","data","createItem","Item","prepareData","getNodeByTemplate","append","auxData","taskId","dateString","stamp","type","isNotEmptyString","dateStringToStamp","setDeadLineStamp","node","update","syncAllIfCan","addItem","fireChangeEvent","parameters","callMethod","arguments","load","getDateDiff","from","to","isNumber","diff","unit","Math","floor","dateStampToString","format","d","Date","date","string","parsed","parseDate","parseInt","getTime","syncAll","k","push","ajax","runComponentAction","mode","then","response","bind","catch","errors","alert","randomTag","round","random","bindEvents","bindDelegateControl","onEditClick","TRANSPORT","TYPE","REMIND_DATE","RECEPIENT_TYPE","value","VALUE","display","DISPLAY","innerHTML","REMINDER_TEXT","mergeEx","delete","remove","ctrls","e","PreventDefault","onDeleteClick","deleteItem","text","version","message","TRANSPORT_CLASS","Widget","REMINDER_TYPE_DEADLINE","REMINDER_TYPE_COMMON","deadLine","formatValue","convertBitrixFormat","setType","setRecipientType","setTransportType","setUnit","setMultiplier","setDate","reset","win","getWindow","changeCSSFlag","show","close","PopupWindow","autoHide","closeByEsc","content","overlay","lightShadow","closeIcon","draggable","titleBar","angle","position","offsetTop","offsetLeft","events","onPopupClose","onFormClose","bindControl","passCtx","onChangeType","onChangeRecipientType","onChangeTransportType","onSubmit","datepicker","isElementNode","dp","DatePicker","defaultTime","optionP","COMPANY_WORKTIME","HOURS","START","calendarSettings","CALENDAR_SETTINGS","onChangeRemindDate","closeTypeSubWindow","setBindElement","toggleDeadLineMode","setPicker","setValue","setCSSMode","toLowerCase","noDeadline","getDeadLineOffset","mp","isNaN","seconds","length","fireEvent","clone","closeCalendarSubWindow","typeWindow","popupWindow","closeCalendar","self","menu","title","className","onclick","menuId","PopupMenu","onPopupShow","getMenuById"],"sources":["logic.js"],"mappings":"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"}