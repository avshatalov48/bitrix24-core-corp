{"version":3,"sources":["logic.js"],"names":["BX","namespace","Tasks","Component","TaskDetailPartsReminder","Util","ItemSet","extend","sys","code","constants","UNIT_DAY","UNIT_HOUR","methods","construct","this","callConstruct","vars","editItemValue","instances","windows","form","Form","scope","control","id","parent","setTaskId","option","setTaskDeadLine","bindEvent","delegate","onItemApply","addCustomEvent","window","onTaskDeadLineChange","openAddForm","extractItemValue","idOffset","extractItemDisplay","openUpdateForm","item","items","open","data","createItem","Item","prepareData","getNodeByTemplate","append","auxData","taskId","dateString","stamp","type","isNotEmptyString","dateStringToStamp","setDeadLineStamp","node","update","syncAllIfCan","addItem","fireChangeEvent","parameters","callMethod","arguments","load","getDateDiff","from","to","isNumber","diff","unit","Math","floor","dateStampToString","format","d","Date","date","string","parsed","parseDate","parseInt","getTime","syncAll","k","push","ajax","runComponentAction","mode","then","response","bind","catch","errors","alert","randomTag","round","random","bindEvents","bindDelegateControl","onEditClick","TRANSPORT","TYPE","REMIND_DATE","RECEPIENT_TYPE","value","VALUE","display","DISPLAY","innerHTML","REMINDER_TEXT","mergeEx","delete","remove","ctrls","e","PreventDefault","onDeleteClick","deleteItem","text","message","TRANSPORT_CLASS","Widget","REMINDER_TYPE_DEADLINE","REMINDER_TYPE_COMMON","deadLine","formatValue","convertBitrixFormat","setType","setRecipientType","setTransportType","setUnit","setMultiplier","setDate","reset","win","getWindow","changeCSSFlag","show","close","PopupWindow","autoHide","closeByEsc","content","overlay","lightShadow","closeIcon","draggable","titleBar","angle","position","offsetTop","offsetLeft","events","onPopupClose","onFormClose","bindControl","passCtx","onChangeType","onChangeRecipientType","onChangeTransportType","onSubmit","datepicker","isElementNode","dp","DatePicker","defaultTime","optionP","COMPANY_WORKTIME","HOURS","START","calendarSettings","CALENDAR_SETTINGS","onChangeRemindDate","closeTypeSubWindow","setBindElement","toggleDeadLineMode","setPicker","setValue","setCSSMode","toLowerCase","noDeadline","getDeadLineOffset","mp","isNaN","seconds","length","fireEvent","clone","closeCalendarSubWindow","typeWindow","popupWindow","closeCalendar","self","menu","title","className","onclick","menuId","PopupMenu","onPopupShow","getMenuById"],"mappings":"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","file":"logic.map.js"}