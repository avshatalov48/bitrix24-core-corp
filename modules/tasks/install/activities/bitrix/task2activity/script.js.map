{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import { SelectorManager } from \"bizproc.automation\";\nimport { Reflection, Type, Tag, Dom, Text } from 'main.core';\nimport { BaseEvent } from 'main.core.events';\nimport { TagSelector } from 'ui.entity-selector';\nimport { Footer} from \"tasks.entity-selector\";\n\nconst namespace = Reflection.namespace('BX.Tasks.Automation.Activity');\n\nconst TagType = {\n\tEXPRESSION: 'expression',\n\tNEW:  'new',\n\tSIMPLE: 'simple',\n}\n\nclass Task2Activity\n{\n\t#form: HTMLFormElement;\n\t#selectedGroupId: ?(number | string);\n\t#groupIdSelector: ?TagSelector;\n\n\t#selectedTags: Map<number, string> = new Map();\n\t#expressionTags: Set<string> = new Set();\n\t#newTags: Set<string> = new Set();\n\t#tagsSelector: ?TagSelector;\n\n\t#dependsOnSelector: ?TagSelector;\n\t#selectedDependentTasks: Set<string | number>;\n\n\tconstructor(options: {\n\t\tuserId: number,\n\t\tformName: string,\n\t\tselectedGroupId: ?(number | string),\n\t\tselectedTags: Array<{ type: string, id: ?number, name: string } | string>,\n\t\tdependsOn: Array<string | number>,\n\t})\n\t{\n\t\tthis.#form = document.forms.namedItem(options.formName);\n\t\tif (!Type.isDomNode(this.#form['GROUP_ID']))\n\t\t{\n\t\t\tthis.#form.appendChild(Tag.render`<select name=\"GROUP_ID\" hidden=\"true\"></select>`);\n\t\t}\n\n\t\tthis.#selectedGroupId = options.selectedGroupId;\n\n\t\toptions.selectedTags.forEach((tag) => {\n\t\t\tif (tag.type === TagType.EXPRESSION)\n\t\t\t{\n\t\t\t\tthis.#expressionTags.add(tag.name);\n\t\t\t}\n\t\t\telse if (tag.type === TagType.SIMPLE && Type.isNumber(tag.id))\n\t\t\t{\n\t\t\t\tthis.#selectedTags.set(tag.id, tag.name);\n\t\t\t}\n\t\t\telse if (tag.type === TagType.NEW)\n\t\t\t{\n\t\t\t\tthis.#newTags.add(tag.name)\n\t\t\t}\n\t\t});\n\n\t\tthis.#selectedDependentTasks = new Set(options.dependsOn);\n\t}\n\n\trender(): void\n\t{\n\t\tthis.watchAllowTimeTracking();\n\n\t\tthis.renderGroupId();\n\t\tthis.renderTags();\n\t\tthis.renderDependsOn();\n\t}\n\n\twatchAllowTimeTracking()\n\t{\n\t\tconst allowTrackingElement = this.#form['ALLOW_TIME_TRACKING'][1];\n\n\t\tconst timeEstimateElements = [this.#form['TIME_ESTIMATE_H'], this.#form['TIME_ESTIMATE_M']];\n\t\tconst timeEstimateFieldElements = timeEstimateElements.map(element => element.parentElement.parentElement);\n\n\t\tif (allowTrackingElement)\n\t\t{\n\t\t\tconst manageTimeEstimateFields = () => {\n\t\t\t\tif (allowTrackingElement.checked)\n\t\t\t\t{\n\t\t\t\t\ttimeEstimateFieldElements.forEach((element) => {\n\t\t\t\t\t\telement.style.display = '';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttimeEstimateFieldElements.forEach((element) => {\n\t\t\t\t\t\telement.style.display = 'none';\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tmanageTimeEstimateFields();\n\t\t\tallowTrackingElement.onchange = manageTimeEstimateFields;\n\t\t}\n\t}\n\n\trenderGroupId(): void\n\t{\n\t\tconst groupIdElement = document.getElementById('bizproc-task2activity-group-id');\n\t\tif (groupIdElement)\n\t\t{\n\t\t\tconst selector = SelectorManager.getSelectorByTarget(groupIdElement);\n\n\t\t\tif (selector)\n\t\t\t{\n\t\t\t\tselector.subscribe('Field:Selected', (event) => {\n\t\t\t\t\tconst { field } = event.getData();\n\n\t\t\t\t\tthis.#selectedGroupId = field.Expression;\n\t\t\t\t\tthis.#getGroupIdSelector().addTag({\n\t\t\t\t\t\tid: field.Expression,\n\t\t\t\t\t\ttitle: field.Expression,\n\t\t\t\t\t\tentityId: 'project',\n\t\t\t\t\t});\n\t\t\t\t\tthis.#recreateTagSelector();\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.#getGroupIdSelector().renderTo(groupIdElement);\n\t\t}\n\t}\n\n\t#getGroupIdSelector(): TagSelector\n\t{\n\t\tif (Type.isNil(this.#groupIdSelector))\n\t\t{\n\t\t\tconst self = this;\n\n\t\t\tthis.#groupIdSelector = new TagSelector({\n\t\t\t\tmultiple: false,\n\t\t\t\tevents: {\n\t\t\t\t\tonTagAdd(event: BaseEvent)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst { tag } = event.getData();\n\n\t\t\t\t\t\tDom.clean(self.#form['GROUP_ID']);\n\t\t\t\t\t\tself.#selectedGroupId = tag.id;\n\t\t\t\t\t\tself.#form['GROUP_ID'].append(new Option(tag.getTitle(), tag.getId(), true, true));\n\t\t\t\t\t\tself.#recreateTagSelector();\n\t\t\t\t\t},\n\t\t\t\t\tonTagRemove(event: BaseEvent)\n\t\t\t\t\t{\n\t\t\t\t\t\tDom.clean(self.#form['GROUP_ID']);\n\t\t\t\t\t\tself.#selectedGroupId = undefined;\n\t\t\t\t\t\tself.#recreateTagSelector();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tpreselectedItems: (\n\t\t\t\t\t\tType.isNumber(this.#selectedGroupId)\n\t\t\t\t\t\t\t? [['project', this.#selectedGroupId]]\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t),\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'project',\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (Type.isString(this.#selectedGroupId))\n\t\t\t{\n\t\t\t\tthis.#groupIdSelector.addTag({\n\t\t\t\t\tid: this.#selectedGroupId,\n\t\t\t\t\tentityId: 'project',\n\t\t\t\t\ttitle: this.#selectedGroupId,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\treturn this.#groupIdSelector;\n\t}\n\n\trenderTags()\n\t{\n\t\tconst tagsElement = document.getElementById('bizproc-task2activity-tags');\n\t\tif (tagsElement)\n\t\t{\n\t\t\tconst selector = SelectorManager.getSelectorByTarget(tagsElement);\n\t\t\tif (selector)\n\t\t\t{\n\t\t\t\tselector.subscribe('Field:Selected', (event) => {\n\t\t\t\t\tconst { field } = event.getData();\n\n\t\t\t\t\tthis.#getTagsSelector().addTag({\n\t\t\t\t\t\tid: field.Expression,\n\t\t\t\t\t\ttitle: field.Expression,\n\t\t\t\t\t\tentityId: 'task-tag',\n\t\t\t\t\t\tcustomData: {\n\t\t\t\t\t\t\ttype: TagType.EXPRESSION,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.#getTagsSelector().renderTo(tagsElement);\n\t\t}\n\t}\n\n\tasync #recreateTagSelector(): Promise\n\t{\n\t\tawait this.#loadTagsDialog();\n\n\t\tif (!Type.isNil(this.#tagsSelector))\n\t\t{\n\t\t\t// Due to the display of the dialog loader by timeout, have to wait for the timer\n\t\t\tawait new Promise((resolve, reject) => setTimeout(400, resolve));\n\t\t\tthis.#tagsSelector.getDialog().destroy();\n\t\t\tDom.remove(this.#tagsSelector.getOuterContainer());\n\t\t\tthis.#tagsSelector = null;\n\t\t}\n\t\tthis.#form\n\t\t\t.querySelectorAll(`input[name=\"TAG_NAMES[]\"]`)\n\t\t\t.forEach(element => Dom.remove(element));\n\n\t\tthis.renderTags();\n\t}\n\n\tasync #loadTagsDialog(): Promise\n\t{\n\t\tif (this.#tagsSelector.getDialog().isLoading())\n\t\t{\n\t\t\tawait this.#fetchTags();\n\t\t}\n\t}\n\n\t#getTagsSelector(): TagSelector\n\t{\n\t\tif (Type.isNil(this.#tagsSelector))\n\t\t{\n\t\t\tconst self = this;\n\t\t\tconst selectedGroupId = !Type.isString(this.#selectedGroupId) ? this.#selectedGroupId : undefined;\n\n\t\t\tthis.#tagsSelector = new TagSelector({\n\t\t\t\tmultiple: true,\n\t\t\t\tevents: {\n\t\t\t\t\tonTagAdd(event: BaseEvent)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {tag} = event.getData();\n\t\t\t\t\t\tconst type = tag.getCustomData().get('type') ?? TagType.SIMPLE;\n\n\t\t\t\t\t\tself.#addTag(type, tag.getId(), tag.getTitle());\n\t\t\t\t\t},\n\t\t\t\t\tonTagRemove(event: BaseEvent)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst {tag} = event.getData();\n\n\t\t\t\t\t\tself.#removeTag(tag.getId());\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdialogOptions: {\n\t\t\t\t\twidth: 400,\n\t\t\t\t\theight: 300,\n\t\t\t\t\tdropdownMode: true,\n\t\t\t\t\tenableSearch: true,\n\t\t\t\t\tcompactView: true,\n\t\t\t\t\tsearchOptions: {\n\t\t\t\t\t\tallowCreateItem: false,\n\t\t\t\t\t},\n\t\t\t\t\tfooter: Footer,\n\t\t\t\t\tfooterOptions: {\n\t\t\t\t\t\tgroupId: selectedGroupId,\n\t\t\t\t\t},\n\t\t\t\t\toffsetTop: 12,\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'task-tag',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tgroupId: selectedGroupId,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.#fillTagsSelector();\n\t\t}\n\n\t\treturn this.#tagsSelector;\n\t}\n\n\t#fillTagsSelector()\n\t{\n\t\tthis.#updateSavedTags().then(({newTags, newSelectedTags}) => {\n\t\t\tconst expressionTags = this.#expressionTags;\n\t\t\tthis.#expressionTags = new Set();\n\n\t\t\tfor (const [tagId, tagName] of newSelectedTags.entries())\n\t\t\t{\n\t\t\t\tthis.#tagsSelector.addTag({\n\t\t\t\t\tid: tagId,\n\t\t\t\t\ttitle: tagName,\n\t\t\t\t\tentityId: 'task-tag',\n\t\t\t\t\tcustomData: {\n\t\t\t\t\t\ttype: TagType.SIMPLE,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (const tagName of newTags.values())\n\t\t\t{\n\t\t\t\tthis.#tagsSelector.addTag({\n\t\t\t\t\tid: String(Math.random()),\n\t\t\t\t\ttitle: tagName,\n\t\t\t\t\tentityId: 'task-tag',\n\t\t\t\t\tcustomData: {\n\t\t\t\t\t\ttype: TagType.NEW,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (const tagName of expressionTags.values())\n\t\t\t{\n\t\t\t\tthis.#tagsSelector.addTag({\n\t\t\t\t\tid: tagName,\n\t\t\t\t\ttitle: tagName,\n\t\t\t\t\tentityId: 'task-tag',\n\t\t\t\t\tcustomData: {\n\t\t\t\t\t\ttype: TagType.EXPRESSION,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// const preselectedItems = Array.from(this.#selectedTags.keys()).map(tagId => ['task-tag', tagId]);\n\t\t\t// this.#tagsSelector.getDialog().setPreselectedItems(preselectedItems);\n\t\t});\n\t}\n\n\tasync #updateSavedTags(): Promise<{ newTags: Set<string>, newSelectedTags: Map<number, string> }>\n\t{\n\t\tawait this.#fetchTags();\n\n\t\tconst knownTags = new Set();\n\t\tconst knownTagNames = new Map();\n\t\tfor (const tag of this.#tagsSelector.getDialog().getItems())\n\t\t{\n\t\t\tknownTags.add(tag.getId());\n\t\t\tknownTagNames.set(tag.getTitle(), tag.getId());\n\t\t}\n\n\t\tconst newSelectedTags = new Map();\n\t\tconst newTags = new Set();\n\t\tfor (const [tagId, tagName] of this.#selectedTags.entries())\n\t\t{\n\t\t\tif (knownTags.has(tagId))\n\t\t\t{\n\t\t\t\tnewSelectedTags.set(tagId, tagName);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tnewTags.add(tagName);\n\t\t\t}\n\t\t}\n\t\tfor (const tagName of this.#newTags.values())\n\t\t{\n\t\t\tif (knownTagNames.has(tagName))\n\t\t\t{\n\t\t\t\tnewSelectedTags.set(knownTagNames.get(tagName), tagName);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tnewTags.add(tagName);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tnewSelectedTags,\n\t\t\tnewTags,\n\t\t};\n\t}\n\n\tasync #fetchTags(): Promise\n\t{\n\t\tconst tagsDialog = this.#tagsSelector.getDialog();\n\t\tif (!tagsDialog.isLoaded())\n\t\t{\n\t\t\tawait new Promise((resolve, reject) => {\n\t\t\t\tconst onLoad = () => {\n\t\t\t\t\ttagsDialog.unsubscribe('onLoadError', onLoadError);\n\t\t\t\t\tresolve();\n\t\t\t\t};\n\t\t\t\tconst onLoadError = () => {\n\t\t\t\t\ttagsDialog.unsubscribe('onLoad', onLoad);\n\t\t\t\t\treject();\n\t\t\t\t};\n\n\t\t\t\ttagsDialog.subscribeOnce('onLoad', onLoad);\n\t\t\t\ttagsDialog.subscribeOnce('onLoadError', onLoadError);\n\n\t\t\t\ttagsDialog.load();\n\t\t\t});\n\t\t}\n\t}\n\n\t#addTag(type: string, id: ?(number | string), name: string)\n\t{\n\t\tif (type === TagType.SIMPLE)\n\t\t{\n\t\t\tthis.#selectedTags.set(id, name);\n\t\t}\n\t\telse if (type === TagType.EXPRESSION)\n\t\t{\n\t\t\tthis.#expressionTags.add(name);\n\t\t}\n\t\telse if (type === TagType.NEW)\n\t\t{\n\t\t\tthis.#newTags.add(name);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#form.appendChild(Tag.render`\n\t\t\t<input name=\"TAG_NAMES[]\" value=\"${Text.encode(name)}\" hidden/>\n\t\t`);\n\t}\n\n\t#removeTag(id: string | number)\n\t{\n\t\tlet name = null;\n\t\tif (this.#expressionTags.has(id))\n\t\t{\n\t\t\tname = id;\n\t\t\tthis.#expressionTags.delete(id);\n\t\t}\n\t\telse if (this.#selectedTags.has(id))\n\t\t{\n\t\t\tname = this.#selectedTags.get(id);\n\t\t\tthis.#selectedTags.delete(id);\n\t\t}\n\t\telse if (this.#newTags.has(id))\n\t\t{\n\t\t\tname = id;\n\t\t\tthis.#newTags.delete(id);\n\t\t}\n\n\t\tconst tagValueElement= this.#form.querySelector(\n\t\t\t`input[name=\"TAG_NAMES[]\"][value=\"${Text.encode(name)}\"]`\n\t\t);\n\t\tif (tagValueElement)\n\t\t{\n\t\t\tDom.remove(tagValueElement);\n\t\t}\n\t}\n\n\trenderDependsOn()\n\t{\n\t\tconst dependsOnElement = document.getElementById('bizproc-task2activity-depends-on');\n\t\tif (dependsOnElement)\n\t\t{\n\t\t\tconst selector = SelectorManager.getSelectorByTarget(dependsOnElement);\n\t\t\tif (selector)\n\t\t\t{\n\t\t\t\tselector.subscribe('Field:Selected', (event) => {\n\t\t\t\t\tconst { field } = event.getData();\n\n\t\t\t\t\tthis.#getDependsOnSelector().addTag({\n\t\t\t\t\t\tid: field.Expression,\n\t\t\t\t\t\ttitle: field.Expression,\n\t\t\t\t\t\tentityId: 'task',\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.#getDependsOnSelector().renderTo(dependsOnElement);\n\t\t}\n\t}\n\n\t#getDependsOnSelector(): TagSelector\n\t{\n\t\tif (Type.isNil(this.#dependsOnSelector))\n\t\t{\n\t\t\tconst self = this;\n\n\t\t\tthis.#dependsOnSelector = new TagSelector({\n\t\t\t\tmultiple: true,\n\t\t\t\tevents: {\n\t\t\t\t\tonTagAdd(event: BaseEvent)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst { tag } = event.getData();\n\n\t\t\t\t\t\tself.#addDependsOnTaskId(tag.getId());\n\t\t\t\t\t},\n\t\t\t\t\tonTagRemove(event: BaseEvent)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst { tag } = event.getData();\n\n\t\t\t\t\t\tself.#removeDependsOnTaskId(tag.getId());\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdialogOptions: {\n\t\t\t\t\twidth: 400,\n\t\t\t\t\theight: 300,\n\t\t\t\t\tdropdownMode: true,\n\t\t\t\t\tcompactView: true,\n\t\t\t\t\tenableSearch: true,\n\t\t\t\t\tsearchOptions: {\n\t\t\t\t\t\tallowCreateItem: false,\n\t\t\t\t\t},\n\t\t\t\t\toffsetTop: 12,\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'task',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tpreselectedItems: (\n\t\t\t\t\t\tArray.from(this.#selectedDependentTasks)\n\t\t\t\t\t\t\t.filter(taskId => Type.isNumber(taskId))\n\t\t\t\t\t\t\t.map(taskId => ['task', taskId])\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tfor (const taskId of this.#selectedDependentTasks.values())\n\t\t\t{\n\t\t\t\tif (Type.isString(taskId))\n\t\t\t\t{\n\t\t\t\t\tthis.#dependsOnSelector.addTag({\n\t\t\t\t\t\tid: taskId,\n\t\t\t\t\t\ttitle: taskId,\n\t\t\t\t\t\tentityId: 'task',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.#dependsOnSelector;\n\t}\n\n\t#addDependsOnTaskId(id: string | number)\n\t{\n\t\tthis.#selectedDependentTasks.add(id);\n\n\t\tthis.#form.appendChild(Tag.render`\n\t\t\t<input name=\"DEPENDS_ON[]\" value=\"${Text.encode(id)}\" hidden/>\n\t\t`);\n\t}\n\n\t#removeDependsOnTaskId(id: string | number)\n\t{\n\t\tthis.#selectedDependentTasks.delete(id);\n\n\t\tconst taskIdElement = this.#form.querySelector(\n\t\t\t`input[name=\"DEPENDS_ON[]\"][value=\"${Text.encode(id)}\"]`\n\t\t);\n\n\t\tif (taskIdElement)\n\t\t{\n\t\t\tDom.remove(taskIdElement);\n\t\t}\n\t}\n}\n\nnamespace.Task2Activity = Task2Activity;"],"names":["namespace","Reflection","TagType","EXPRESSION","NEW","SIMPLE","Task2Activity","options","Map","Set","document","forms","namedItem","formName","Type","isDomNode","appendChild","Tag","render","selectedGroupId","selectedTags","forEach","tag","type","add","name","isNumber","id","set","dependsOn","watchAllowTimeTracking","renderGroupId","renderTags","renderDependsOn","allowTrackingElement","timeEstimateElements","timeEstimateFieldElements","map","element","parentElement","manageTimeEstimateFields","checked","style","display","onchange","groupIdElement","getElementById","selector","SelectorManager","getSelectorByTarget","subscribe","event","getData","field","Expression","addTag","title","entityId","renderTo","tagsElement","customData","dependsOnElement","isNil","self","TagSelector","multiple","events","onTagAdd","Dom","clean","append","Option","getTitle","getId","onTagRemove","undefined","dialogOptions","preselectedItems","entities","isString","Promise","resolve","reject","setTimeout","getDialog","destroy","remove","getOuterContainer","querySelectorAll","isLoading","getCustomData","get","width","height","dropdownMode","enableSearch","compactView","searchOptions","allowCreateItem","footer","Footer","footerOptions","groupId","offsetTop","then","newTags","newSelectedTags","expressionTags","entries","tagId","tagName","values","String","Math","random","knownTags","knownTagNames","getItems","has","tagsDialog","isLoaded","onLoad","unsubscribe","onLoadError","subscribeOnce","load","Text","encode","tagValueElement","querySelector","Array","from","filter","taskId","taskIdElement"],"mappings":"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"}