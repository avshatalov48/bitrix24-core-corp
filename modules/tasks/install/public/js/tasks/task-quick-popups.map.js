{"version":3,"file":"task-quick-popups.min.js","sources":["task-quick-popups.js"],"names":["BX","Tasks","lwPopup","ajaxUrl","onTaskAdded","onTaskAddedMultiple","loggedInUserId","loggedInUserFormattedName","garbageAreaId","functions","functionsCount","firstRunDone","createForm","objPopup","objTemplate","callbacks","onAfterPopupCreated","onBeforePopupShow","onAfterPopupShow","onAfterEditorInited","onPopupClose","anyForm","anyFormsCount","registerForm","params","anyFormIndex","this","formIndex","__runAnyFormCallback","callbackName","args","Error","hasOwnProperty","apply","showForm","pData","oForm","__firstRun","isPopupJustCreated","buildForm","show","zIndexIn","zIndex","PopupWindow","autoHide","buttons","prepareButtons","closeByEsc","overlay","draggable","bindOnResize","titleBar","prepareTitleBar","closeIcon","right","top","events","onPopupFirstShow","onPopupShow","content","prepareContent","__runCreateFormCallback","showCreateForm","pTaskData","RESPONSIBLE_ID","parseInt","popupContainer","style","_createTask","onceMore","callbackOnSuccess","callbackOnFailure","columnsIds","taskData","TITLE","CJSTask","createItem","callback","oTask","precachedData","legacyDataFormat","legacyHtmlTaskItem","newDataPack","allowedTaskActions","allowedTaskActionsAsStrings","data","__initSelectors","arParams","cnt","length","bUserSelectorPresents","i","userSelectorAreaId","newFuncIndex","appendChild","create","props","id","ajaxData","sessid","message","requestsCount","sData","selectors","__prepareUserSelectorsData","__prepareGroupsSelectorsData","__prepareLheData","__prepareUserFieldData","key","__prepareUserFieldDataWebdav","ajax","method","dataType","url","processData","autoAuth","onsuccess","reply","innerHTML","onLoadedViaAjax","nameContainerId","dataContainerId","ajaxParams","requestedObject","userFieldName","taskId","values","newArr","push","allParams","ready","available","timeoutId","valuesBuffer","fieldLabel","remove","callbackOnRedraw","getValue","itemsIds","arItems","document","getElementsByName","value","setValue","cA","slice","sort","join","cB","__delayedSetContent","delay","window","clearTimeout","setTimeout","newDelay","urlParams","data_0","selfObj","html","rc","object","postData","UF_CRM_TASK","UF_TASK_WEBDAV_FILES","jsObjectName","elementId","inputId","editor","getContent","SaveContent","GetContent","setContent","type","isString","SetContent","ResizeSceleton","browser","IsChrome","IsIE11","IsIE","input","isElementNode","Focus","focus","addCustomEvent","attachTo","inited","attachToNode","dom","cont","CheckAndReInit","bindElement","bind","obj","e","event","oGroupObject","popupWindow","PreventDefault","setSelected","groupData","currentItem","selected","deselect","select","groupId","onSelectFunctionName","callbackOnSelect","arGroups","onSelectFuncName","userInputId","bindClickTo","GROUP_ID_FOR_SITE","selectedUsersIds","anchorId","multiple","nsObjectName","popupId","userPopupWindow","showUserSelector","onReady","objName","callbackOnReady","wait","timeout","O_USER_DATA","emp","arSelected","pop","searchInput","name","setSelectedUsers","selectedUsers","timeCalled","display","anchor","PopupWindowButton","text","btnSelectText","className","click","btnSelectClick","close","PopupWindowButtonLink","btnCancelText","PopupWindowManager","offsetTop","uniquePopupId","onUserSelect","arUser","arAllUsers","arAllUsersCount","arUsers","namespace","callbackOnChange","onUsersChange","onChangeFunctionName","_getDefaultTimeForInput","isDomNode","defaultTime","dtParts","toString","split","h","m","s","_showCalendar","node","field","bTime","bHideTime","callback_after","calendar","ui","getInputDateTimeValue","body","getElementsByTagName"],"mappings":"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"}