{"version":3,"file":"task-reminders.min.js","sources":["task-reminders.js"],"names":["window","__windows","BX","TaskReminders","create","uniquePopupId","bindElement","reminders","deadline","params","this","calendar","unchangedReminders","restoreReminders","events","eventName","addCustomEvent","i","length","addReminder","newDeadlineReminderTitle","html","message","newDeadlineReminderTextbox","props","className","type","newDeadlineReminderPopup","children","text","bind","firstChild","proxy","e","event","__showTransportMenu","newDeadlineReminderButton","click","__onAddDeadlineReminderClick","arBefore","split","newDeadlineReminderForm","deadlineRemindersContainer","newReminderTitle","attrs","data-default-hour","defaultTime","hour","toString","data-default-minute","minute","newReminderTextbox","id","__showCalendar","readOnly","newReminderPopup","newReminderButton","__onAddReminderClick","newReminderForm","remindersContainer","content","popupWindow","PopupWindow","closeIcon","right","top","offsetTop","offsetLeft","buttons","PopupWindowButton","__onOKButtonClick","PopupWindowButtonLink","__onCancelButtonClick","onPopupFirstShow","setContent","onPopupShow","push","redraw","onPopupClose","onCustomEvent","setDeadline","parseDate","prototype","reminder","tmpReminder","date","removeReminder","num","splice","show","close","adjust","style","display","tmpDeadline","deadlineSpan","findChild","tag","format","convertBitrixFormat","cleanNode","sortReminders","reminderNode","transport","insertBefore","sort","__sortReminders","node","cTime","CJSTask","ui","getInputDateTimeValue","field","form","bTime","value","bHideTimebar","a","b","__addDeadlineReminder","__addReminder","reminderDate","tmpCurDate","Date","tmpCurDayStart","getFullYear","getMonth","getDate","alert","innerHTML","focus","days","parseInt","isNaN","time","getTime","button","taskId","menu","title","onclick","PopupMenu"],"mappings":"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"}