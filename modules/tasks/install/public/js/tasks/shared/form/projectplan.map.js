{"version":3,"sources":["projectplan.js"],"names":["BX","namespace","Tasks","Shared","Form","ProjectPlan","Util","Widget","extend","sys","code","options","matchWorkTime","companyWorkTime","methods","construct","this","callConstruct","instances","vars","blockSignal","option","data","optionP","cwt","COMPANY_WORKTIME","TIME_UNIT_TYPE_DAY","TIME_UNIT_TYPE_HOUR","TIME_UNIT_TYPE_MINUTE","WORKDAY_DURATION","getWorkDayDuration","unit","TASK","DURATION_TYPE","d","getDeadlinePicker","sdpp","getStartDatePlanPicker","edpp","getEndDatePlanPicker","duration","start","getTimeStamp","startDate","Date","end","endDate","calculateDuration","setDurationSeconds","bindInstantChange","getDurationControl","passCtx","debounce","onDurationChange","bindDelegateControl","preventEnter","onUnitChange","control","startDatePlanPicker","scope","type","isElementNode","DatePicker","defaultTime","HOURS","START","bindEvent","delegate","onStartDatePlanChange","endDatePlanPicker","END","onEndDatePlanChange","deadlinePicker","calendarSettings","onDeadLineChange","stamp","checkNoWorkDays","solveDeadline","fireEvent","getValue","solveTriangle","e","isEnter","PreventDefault","result","calender","getCalendar","weekends","dayNumbers","forEach","dayNumber","setMatchWorkTime","way","startProjectPlanPicker","endProjectPlanPicker","recalculateDuration","parent","calendar","Calendar","adaptSettings","setDeadline","date","disableChangeEvent","setTimeStamp","getTime","enableChangeEvent","fixDeadline","isWorkTime","getClosestWorkTime","setStartDate","fixStartDate","setEndDate","fixEndDate","showHintPopup","picker","hintManager","show","message","autoHide","calculateStartDate","calculateEndDate","deadline","fixedDeadline","startChange","endChange","durationChange","durationMs","defaultDuration","getMultiplier","defaultDurationMs","isMaxDurationReached","fixedStartDate","fixedEndDate","node","getDuration","value","isNotEmptyString","setDurationUnit","isNaN","getMaxDuration","switchControlMode","parentElement","isErrorMode","addClass","removeClass","recalc","dropCSSFlags","setCSSFlag","getUnitByDuration","units","i","length","durationInUnit","Math","floor","parseInt"],"mappings":"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","file":"projectplan.map.js"}