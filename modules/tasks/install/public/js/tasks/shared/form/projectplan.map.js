{"version":3,"sources":["projectplan.js"],"names":["BX","namespace","Tasks","Shared","Form","ProjectPlan","Util","Widget","extend","sys","code","options","matchWorkTime","companyWorkTime","methods","construct","this","callConstruct","instances","vars","blockSignal","option","data","optionP","cwt","COMPANY_WORKTIME","TIME_UNIT_TYPE_DAY","TIME_UNIT_TYPE_HOUR","TIME_UNIT_TYPE_MINUTE","WORKDAY_DURATION","getWorkDayDuration","unit","TASK","DURATION_TYPE","d","getDeadlinePicker","sdpp","getStartDatePlanPicker","edpp","getEndDatePlanPicker","duration","start","getTimeStamp","startDate","Date","end","endDate","calculateDuration","setDurationSeconds","bindInstantChange","getDurationControl","passCtx","debounce","onDurationChange","bindDelegateControl","preventEnter","onUnitChange","control","startDatePlanPicker","scope","type","isElementNode","DatePicker","defaultTime","HOURS","START","bindEvent","delegate","onStartDatePlanChange","endDatePlanPicker","END","onEndDatePlanChange","deadlinePicker","calendarSettings","onDeadLineChange","stamp","value","display","local","checkNoWorkDays","solveDeadline","fireEvent","getValue","solveTriangle","e","isEnter","PreventDefault","result","calender","getCalendar","weekends","dayNumbers","forEach","dayNumber","setMatchWorkTime","way","startProjectPlanPicker","endProjectPlanPicker","recalculateDuration","parent","calendar","Calendar","adaptSettings","setDeadline","date","disableChangeEvent","setTimeStamp","getTime","enableChangeEvent","fixDeadline","isWorkTime","getClosestWorkTime","setStartDate","fixStartDate","setEndDate","fixEndDate","showHintPopup","picker","hintManager","show","message","autoHide","calculateStartDate","calculateEndDate","deadline","fixedDeadline","startChange","endChange","durationChange","durationMs","defaultDuration","getMultiplier","defaultDurationMs","isMaxDurationReached","fixedStartDate","fixedEndDate","node","getDuration","isNotEmptyString","setDurationUnit","isNaN","getMaxDuration","switchControlMode","parentElement","isErrorMode","addClass","removeClass","recalc","dropCSSFlags","setCSSFlag","getUnitByDuration","units","i","length","durationInUnit","Math","floor","parseInt"],"mappings":"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","file":"projectplan.map.js"}