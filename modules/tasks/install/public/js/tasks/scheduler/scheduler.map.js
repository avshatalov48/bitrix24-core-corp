{"version":3,"sources":["scheduler.js"],"names":["BX","namespace","Scheduler","View","config","this","timeline","Timeline","eventLayout","EventLayout","resourceStore","ResourceStore","eventStore","EventStore","setEventStore","setView","setResourceStore","scrollDate","addCustomEvent","proxy","onBeforeZoomChange","onZoomChange","prototype","clearAll","getResourceStore","getEventStore","render","expandTimeline","root","getRoot","rows","renderRecursive","getChildNodes","clearItems","clearRows","appendRows","firstRender","type","isDomNode","layout","parentNode","draw","autoScroll","nodes","i","l","length","node","resource","getData","timelineRow","renderTimelineRow","push","childNodes","Array","apply","getEventLayout","getTimeline","events","getEvents","minDate","getCurrentDate","maxDate","eventId","event","getStartDate","getEndDate","autoExpandTimeline","getCurrentScrollDate","calculateScrollDate","scrollLeft","Tasks","Date","floorDate","getDateFromPixels","Unit","Day","zoomLevel","scrollToDate","onCustomEvent","superclass","constructor","arguments","view","extend","Tree","getDefaultDataType","Resource","onNodeAdded","id","getUniqueId","name","isNotEmptyString","link","store","TimelineRow","collapsed","arrow","globalResourceId","resourceRow","getResourceRow","eventRow","getEventRow","cleanNode","appendChild","renderResource","renderEvents","createLayout","create","props","className","children","click","onArrowClick","href","target","text","getName","updatelayout","getView","nbrOfSubRows","layoutEvents","fragment","document","createDocumentFragment","removeClass","setRowHeight","getRowHeight","addClass","getResourceEvents","getId","getTimelineRow","isCollapsed","index","slice","sort","sortEvents","eventIndex","util","array_search","splice","getClosestEvent","eventA","eventB","startA","endA","startB","endB","minGap","getMinGap","maxGap","Infinity","closest","eventEnd","curEvent","gap","getUnitRatio","Milli","snapUnit","ResourceGroup","byIdMap","load","data","getById","add","Event","resourceId","getResourceId","join","remove","removeByResourceId","isArray","exception","debug","isDate","startDate","Error","endDate","convertToUTC","onclick","isFunction","globalEventId","getResource","getClassName","unjoin","left","getPixelsFromDate","right","minBarWidth","width","Math","max","top","attrs","title","style"],"mappings":"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","file":""}