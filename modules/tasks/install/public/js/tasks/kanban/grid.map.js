{"version":3,"file":"grid.min.js","sources":["grid.js"],"names":["BX","namespace","Tasks","Kanban","Grid","options","apply","this","arguments","addCustomEvent","delegate","onItemMoved","onItemAddedAsync","onColumnMoved","onColumnUpdated","onColumnLoadAsync","onColumnRemovedAsync","onColumnAddedAsync","onGridRender","onApplyFilter","onTaskTimerChange","onTasksGroupSelectorChange","onTaskSortChanged","tasksTaskEvent","tasksTaskPull","prototype","__proto__","constructor","accessNotifyDialog","ajax","data","onsuccess","onfailure","url","getAjaxHandlerPath","sessid","bitrix_sessid","params","getData","action","indexOf","PERSONAL","method","dataType","accessNotify","Intranet","NotifyDialog","listUserData","notificationHandlerUrl","popupTexts","sendButton","message","title","header","description","setUsersForNotify","admins","show","onItemDragStart","item","setDragMode","DragMode","ITEM","gridData","rights","canSortItem","addItemOrder","column","getColumn","columnId","columnItems","getItems","newTaskOrder","length","targetId","getId","addItem","total","updateItem","notDestroy","Bitrix24","Slider","destroy","getItem","getTaskUrl","promises","push","addTask","getColumnItems","removeStage","addStage","promise","Promise","pageId","getPagination","getPage","type","isArray","items","error","fulfill","Utils","showErrorDialog","fatal","reject","bind","fields","id","delete","targetColumn","getPreviousColumnSibling","targetColumnId","columnName","getName","columnColor","getColor","afterColumnId","nextItem","getNextItemSibling","taskName","beforeItemId","beforeItem","itemId","afterItemId","getPreviousItemSibling","afterColumn","color","isNotEmptyString","ajaxHandlerPath","filterId","values","filterInstance","fadeOut","autoResolve","removeItems","loadData","fadeIn","taskId","TIMER","TIMER_STARTED_AT","task","timestamp","Math","floor","Date","now","delta","parseInt","setDataKey","time_logs_start","render","currentGroup","GROUP_ID","setData","columns","getColumns","i","c","removeColumn","canAddColumn","canEditColumn","canRemoveColumn","canAddItem","onCustomEvent","ID","removeItem","getColumnId","STAGE_ID","command","operation","grid","getGridContainer","columnsWidth","reduce","width","getContainer","offsetWidth","showBorder","getRenderToContainer","classList","changeDemoView","viewId"],"mappings":"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"}