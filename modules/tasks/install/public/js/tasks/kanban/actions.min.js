(function(){"use strict";BX.namespace("BX.Tasks.Kanban");BX.Tasks.Kanban.Actions={notifySimpleAction:function(e,t){e="TASKS_KANBAN_PANEL_"+e;if(typeof BX.message[e]!=="undefined"){var i=BX.message[e];if(BX.type.isPlainObject(t)){for(var n in t){i=i.replace("#"+n+"#",t[n])}}BX.UI.Notification.Center.notify({content:i})}},simpleAction:function(e,t,i){t["groupAction"]="Y";t["taskId"]=this.getMapKeys(e.getSelectedItems());e.ajax(t,function(n){var a=e.getData();if(n&&!n.error){if(!i){e.onApplyFilter()}e.stopActionPanel();this.notifySimpleAction(t.action.toUpperCase(),t)}else if(n){BX.Kanban.Utils.showErrorDialog(n.error,n.fatal)}}.bind(this),function(e){BX.Kanban.Utils.showErrorDialog("Error: "+e,true)}.bind(this))},getMapKeys:function(e){var t=[];e.forEach(function(e,i){t.push(i)});return t},deadline:function(e,t){BX.calendar({node:t,bTime:true,callback:function(t){var i=BX.date.convertBitrixFormat(BX.message("FORMAT_DATETIME"));this.simpleAction(e,{action:"deadlineTask",deadline:BX.date.format(i,t)})}.bind(this)})},member:function(e,t,i,n){if(typeof n==="undefined"){n="user"}var a=new BX.Tasks.Integration.Socialnetwork.NetworkSelector({scope:t,id:i,mode:n,query:false,useSearch:true,useAdd:false,parent:this,popupOffsetTop:5,popupOffsetLeft:40});a.bindEvent("item-selected",function(t){var o={action:i};if(n==="group"){o["groupId"]=t["id"]}else if(n==="user"){o["userId"]=t["id"]}o["entityName"]=t["nameFormatted"];this.simpleAction(e,o);a.close()}.bind(this));a.open()}}})();
//# sourceMappingURL=actions.map.js