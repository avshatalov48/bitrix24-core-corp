{"version":3,"file":"draganddrop.min.js","sources":["draganddrop.js"],"names":["BX","namespace","Tasks","UI","DragAndDrop","Base","extend","options","createFlying","DoNothing","autoMarkItemBefore","autoMarkItemAfter","autoMarkZoneTopBottom","methods","construct","this","ctrls","zones","items","flyingNode","currentZoneNodeCache","insertNodeScope","prevInserNodeScope","vars","flyingOverZone","ghostItem","dragStartHandleCoords","x","y","MouseTracker","getCoordinates","bind","document","throttle","trackMouse","stickToMouse","makeFlyingNode","node","baseOnNode","option","apply","flying","clone","addClass","makeAbsolute","getNodeMouseOffset","append","getElementsByTagName","makeItemGhost","k","embodyCurrentItem","removeClass","makeZoneIn","makeCurrentZoneCache","zoneNode","makeCurrentZoneOut","nodes","childNodes","nodeType","checkNodeBound","pos","width","height","push","getCurrentZoneNodeScope","mc","zonePos","mOffs","left","top","prevNode","nodePos","nodeOffs","yHalf","Math","floor","after","before","bindDropZone","type","isElementNode","TypeError","jsDD","registerDest","unBindDropZone","zone","unregisterDest","splice","bindNode","parameters","handle","length","registerObject","onbxdragstart","passCtx","onDragStart","onbxdrag","onDrag","onbxdragstop","delegate","onDragStop","onbxdraghover","onDragHover","onbxdraghout","onDragHout","unBindNode","j","unregisterObject","getItemIndexByHandle","getCurrentZone","toggleNodeScopeClass","toggleZoneClass","fireEvent","ghostNode","insertBefore","clearNodeScopeClass","remove","checkZoneIsLegal","scope","way","autoBefore","autoAfter","hasClass","search","source","style","position","margin","box-sizing","z-index","w","offsetWidth","h","offsetHeight","adjust","coords","offs","e","pageX","clientX","documentElement","scrollLeft","body","clientLeft","pageY","clientY","scrollTop","clientTop","makeInstance","Instances","mouseTracker"],"mappings":"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"}