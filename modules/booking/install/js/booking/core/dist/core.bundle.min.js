this.BX=this.BX||{};(function(e,s,a,l,i,o,t,r,d,n,b,c,B,u,v){"use strict";var P=babelHelpers.classPrivateFieldLooseKey("params");var p=babelHelpers.classPrivateFieldLooseKey("store");var h=babelHelpers.classPrivateFieldLooseKey("builder");var F=babelHelpers.classPrivateFieldLooseKey("initPromise");var H=babelHelpers.classPrivateFieldLooseKey("pullManager");var L=babelHelpers.classPrivateFieldLooseKey("initStore");var M=babelHelpers.classPrivateFieldLooseKey("initPull");class g{constructor(){Object.defineProperty(this,M,{value:k});Object.defineProperty(this,L,{value:y});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:null})}setParams(e){babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e}getParams(){return babelHelpers.classPrivateFieldLooseBase(this,P)[P]}getStore(){return babelHelpers.classPrivateFieldLooseBase(this,p)[p]}async init(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,F))[F])!=null?s:e[F]=new Promise((async e=>{babelHelpers.classPrivateFieldLooseBase(this,p)[p]=await babelHelpers.classPrivateFieldLooseBase(this,L)[L]();babelHelpers.classPrivateFieldLooseBase(this,M)[M]();e()}));return babelHelpers.classPrivateFieldLooseBase(this,F)[F]}async addDynamicModule(e){if(!(babelHelpers.classPrivateFieldLooseBase(this,h)[h]instanceof a.Builder)){throw new TypeError("Builder has not been init")}if(babelHelpers.classPrivateFieldLooseBase(this,p)[p].hasModule(e.getName())){return}await babelHelpers.classPrivateFieldLooseBase(this,h)[h].addDynamicModel(e)}removeDynamicModule(e){if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]instanceof a.Builder&&babelHelpers.classPrivateFieldLooseBase(this,p)[p].hasModule(e)){babelHelpers.classPrivateFieldLooseBase(this,h)[h].removeDynamicModel(e)}}}async function y(){const e=s.Extension.getSettings("booking.core");babelHelpers.classPrivateFieldLooseBase(this,h)[h]=a.Builder.init().addModel(i.Bookings.create()).addModel(o.MessageStatus.create()).addModel(t.Clients.create()).addModel(r.Counters.create()).addModel(d.Interface.create().setVariables({schedule:e.schedule,editingBookingId:babelHelpers.classPrivateFieldLooseBase(this,P)[P].editingBookingId,timezone:babelHelpers.classPrivateFieldLooseBase(this,P)[P].timezone,totalClients:babelHelpers.classPrivateFieldLooseBase(this,P)[P].totalClients,totalNewClientsToday:babelHelpers.classPrivateFieldLooseBase(this,P)[P].totalClientsToday,moneyStatistics:babelHelpers.classPrivateFieldLooseBase(this,P)[P].moneyStatistics,isFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,P)[P].isFeatureEnabled,canTurnOnTrial:babelHelpers.classPrivateFieldLooseBase(this,P)[P].canTurnOnTrial,canTurnOnDemo:babelHelpers.classPrivateFieldLooseBase(this,P)[P].canTurnOnDemo})).addModel(n.ResourceTypes.create()).addModel(b.Resources.create()).addModel(c.Favorites.create()).addModel(B.Dictionary.create()).addModel(u.MainResources.create());const l=await babelHelpers.classPrivateFieldLooseBase(this,h)[h].build();return l.store}function k(){babelHelpers.classPrivateFieldLooseBase(this,H)[H]=new v.BookingPullManager({currentUserId:babelHelpers.classPrivateFieldLooseBase(this,P)[P].currentUserId});babelHelpers.classPrivateFieldLooseBase(this,H)[H].initQueueManager()}const m=new g;e.Core=m})(this.BX.Booking=this.BX.Booking||{},BX,BX.Vue3.Vuex,BX.Booking.Const,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Provider.Pull);
//# sourceMappingURL=core.bundle.map.js