{"version":3,"file":"resources-date-cache.bundle.js","sources":["../src/resources-date-cache.js"],"sourcesContent":["class ResourcesDateCache\n{\n\t#cache: { [dateTs: number]: number[] } = {};\n\n\tupsertIds(dateTs: number, ids: number[]): void\n\t{\n\t\tconst currentIds = this.getIdsByDateTs(dateTs);\n\t\tconst newIds = ids.filter((id: number) => !currentIds.includes(id));\n\n\t\tthis.#cache[dateTs].push(...newIds);\n\t}\n\n\tisDateLoaded(dateTs: number, ids: number[]): boolean\n\t{\n\t\tconst loadedResourcesIds = this.getIdsByDateTs(dateTs);\n\n\t\treturn ids.every((id: number) => loadedResourcesIds.includes(id));\n\t}\n\n\tgetIdsByDateTs(dateTs: number): number[]\n\t{\n\t\tthis.#cache[dateTs] ??= [];\n\n\t\treturn this.#cache[dateTs];\n\t}\n}\n\nexport const resourcesDateCache = new ResourcesDateCache();\n"],"names":["ResourcesDateCache","upsertIds","dateTs","ids","currentIds","getIdsByDateTs","newIds","filter","id","includes","push","isDateLoaded","loadedResourcesIds","every","resourcesDateCache"],"mappings":";;;;;;;CAAA,MAAMA,kBAAkB,CACxB;GAAA;KAAA;OAAA;OAAA,OAC0C;;;GAEzCC,SAAS,CAACC,MAAc,EAAEC,GAAa,EACvC;KACC,MAAMC,UAAU,GAAG,IAAI,CAACC,cAAc,CAACH,MAAM,CAAC;KAC9C,MAAMI,MAAM,GAAGH,GAAG,CAACI,MAAM,CAAEC,EAAU,IAAK,CAACJ,UAAU,CAACK,QAAQ,CAACD,EAAE,CAAC,CAAC;KAEnE,4CAAI,kBAAQN,MAAM,CAAC,CAACQ,IAAI,CAAC,GAAGJ,MAAM,CAAC;;GAGpCK,YAAY,CAACT,MAAc,EAAEC,GAAa,EAC1C;KACC,MAAMS,kBAAkB,GAAG,IAAI,CAACP,cAAc,CAACH,MAAM,CAAC;KAEtD,OAAOC,GAAG,CAACU,KAAK,CAAEL,EAAU,IAAKI,kBAAkB,CAACH,QAAQ,CAACD,EAAE,CAAC,CAAC;;GAGlEH,cAAc,CAACH,MAAc,EAC7B;KAAA;KACC,+FAAI,mBAAQA,MAAM,CAAC,qCAAnB,sBAAYA,MAAM,CAAC,GAAK,EAAE;KAE1B,OAAO,4CAAI,kBAAQA,MAAM,CAAC;;CAE5B;AAEA,OAAaY,kBAAkB,GAAG,IAAId,kBAAkB,EAAE;;;;;;;;"}