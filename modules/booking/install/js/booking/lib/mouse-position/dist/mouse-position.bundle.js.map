{"version":3,"file":"mouse-position.bundle.js","sources":["../src/mouse-position.js"],"sourcesContent":["import { Event } from 'main.core';\nimport { Core } from 'booking.core';\nimport { Model } from 'booking.const';\n\nclass MousePosition\n{\n\t#isMousePressed: boolean = false;\n\n\tinit(): void\n\t{\n\t\tthis.#bindMouseMove();\n\t\tthis.#bindMousePressed();\n\t}\n\n\tdestroy(): void\n\t{\n\t\tEvent.unbind(window, 'mousemove', this.onMouseMove);\n\t\tEvent.unbind(window, 'mousedown', this.onMouseDown);\n\t\tEvent.unbind(window, 'mouseup', this.onMouseUp);\n\t}\n\n\tisMousePressed(): boolean\n\t{\n\t\treturn this.#isMousePressed;\n\t}\n\n\t#bindMousePressed(): void\n\t{\n\t\tif (this.onMouseDown)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onMouseDown = this.#onMouseDown.bind(this);\n\t\tthis.onMouseUp = this.#onMouseUp.bind(this);\n\n\t\tEvent.bind(window, 'mousedown', this.onMouseDown);\n\t\tEvent.bind(window, 'mouseup', this.onMouseUp);\n\t}\n\n\t#bindMouseMove(): void\n\t{\n\t\tif (this.onMouseMove)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onMouseMove = this.#update.bind(this);\n\n\t\tEvent.bind(window, 'mousemove', this.onMouseMove);\n\t}\n\n\t#update(event: MouseEvent): void\n\t{\n\t\tvoid Core.getStore().dispatch(`${Model.Interface}/setMousePosition`, {\n\t\t\ttop: event.clientY + window.scrollY,\n\t\t\tleft: event.clientX + window.scrollX,\n\t\t});\n\t}\n\n\t#onMouseDown(): void\n\t{\n\t\tthis.#isMousePressed = true;\n\t}\n\n\t#onMouseUp(): void\n\t{\n\t\tthis.#isMousePressed = false;\n\t}\n}\n\nexport const mousePosition = new MousePosition();\n"],"names":["MousePosition","init","destroy","Event","unbind","window","onMouseMove","onMouseDown","onMouseUp","isMousePressed","bind","event","Core","getStore","dispatch","Model","Interface","top","clientY","scrollY","left","clientX","scrollX","mousePosition"],"mappings":";;;;;;CAEsC;CAAA;CAAA;CAAA;CAAA;CAAA;CAEtC,MAAMA,aAAa,CACnB;GAAA;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;OAAA,OAC4B;;;GAE3BC,IAAI,GACJ;KACC,4CAAI;KACJ,4CAAI;;GAGLC,OAAO,GACP;KACCC,eAAK,CAACC,MAAM,CAACC,MAAM,EAAE,WAAW,EAAE,IAAI,CAACC,WAAW,CAAC;KACnDH,eAAK,CAACC,MAAM,CAACC,MAAM,EAAE,WAAW,EAAE,IAAI,CAACE,WAAW,CAAC;KACnDJ,eAAK,CAACC,MAAM,CAACC,MAAM,EAAE,SAAS,EAAE,IAAI,CAACG,SAAS,CAAC;;GAGhDC,cAAc,GACd;KACC,+CAAO,IAAI;;CA8Cb;CAAC,8BA1CA;GACC,IAAI,IAAI,CAACF,WAAW,EACpB;KACC;;GAGD,IAAI,CAACA,WAAW,GAAG,4CAAI,8BAAcG,IAAI,CAAC,IAAI,CAAC;GAC/C,IAAI,CAACF,SAAS,GAAG,4CAAI,0BAAYE,IAAI,CAAC,IAAI,CAAC;GAE3CP,eAAK,CAACO,IAAI,CAACL,MAAM,EAAE,WAAW,EAAE,IAAI,CAACE,WAAW,CAAC;GACjDJ,eAAK,CAACO,IAAI,CAACL,MAAM,EAAE,SAAS,EAAE,IAAI,CAACG,SAAS,CAAC;CAC9C;CAAC,2BAGD;GACC,IAAI,IAAI,CAACF,WAAW,EACpB;KACC;;GAGD,IAAI,CAACA,WAAW,GAAG,4CAAI,oBAASI,IAAI,CAAC,IAAI,CAAC;GAE1CP,eAAK,CAACO,IAAI,CAACL,MAAM,EAAE,WAAW,EAAE,IAAI,CAACC,WAAW,CAAC;CAClD;CAAC,kBAEOK,KAAiB,EACzB;GACC,KAAKC,iBAAI,CAACC,QAAQ,EAAE,CAACC,QAAQ,CAAE,GAAEC,mBAAK,CAACC,SAAU,mBAAkB,EAAE;KACpEC,GAAG,EAAEN,KAAK,CAACO,OAAO,GAAGb,MAAM,CAACc,OAAO;KACnCC,IAAI,EAAET,KAAK,CAACU,OAAO,GAAGhB,MAAM,CAACiB;IAC7B,CAAC;CACH;CAAC,yBAGD;GACC,4CAAI,sCAAmB,IAAI;CAC5B;CAAC,uBAGD;GACC,4CAAI,sCAAmB,KAAK;CAC7B;AAGD,OAAaC,aAAa,GAAG,IAAIvB,aAAa,EAAE;;;;;;;;"}