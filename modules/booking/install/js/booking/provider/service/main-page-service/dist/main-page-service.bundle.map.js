{"version":3,"file":"main-page-service.bundle.map.js","names":["this","BX","Booking","Provider","exports","booking_core","booking_lib_resourcesDateCache","booking_lib_apiClient","booking_const","booking_provider_service_bookingService","booking_provider_service_clientService","booking_provider_service_resourcesService","booking_provider_service_resourcesTypeService","_response","babelHelpers","classPrivateFieldLooseKey","_extractClients","_extractClientsFromBookings","MainPageDataExtractor","constructor","response","Object","defineProperty","value","_extractClientsFromBookings2","_extractClients2","writable","classPrivateFieldLooseBase","getFavoriteIds","favorites","resources","map","resource","id","getBookings","bookings","booking","BookingMappers","mapDtoToModel","getClientsProviderModuleId","clients","providerModuleId","getClients","CrmEntity","Contact","Company","getCounters","counters","getResources","_babelHelpers$classPr","_babelHelpers$classPr2","resourcesIds","Set","resourcesModels","resourceDto","add","ResourceMappers","flatMap","forEach","has","push","getResourceTypes","resourceTypes","resourceTypeDto","ResourceTypeMappers","getIntersectionMode","isIntersectionForAll","getIsCurrentSenderAvailable","isCurrentSenderAvailable","code","module","values","recent","client","type","ClientMappers","_response$1","CountersExtractor","getTotalClients","clientStatistics","total","getTotalNewClientsToday","totalToday","getMoneyStatistics","moneyStatistics","_dateCache","_requestData","_requestDataForBooking","MainPageService","_requestDataForBooking2","_requestData2","clearCache","ids","filter","date","resourcesDateCache","isDateLoaded","fetchData","dateTs","includes","loadData","Core","getStore","getters","Model","Interface","error","console","fetchCounters","data","ApiClient","get","extractor","Promise","all","dispatch","Counters","activateDemo","resolve","async","upsertIds","it","Favorites","Resources","ResourceTypes","Bookings","Clients","bookingId","getParams","editingBookingId","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","promises","editingBooking","find","selectedDate","Date","dateFrom","dateFromTs","getFullYear","getMonth","getDate","getTime","selectedResourcesIds","length","mainPageService","Service","Lib","Const"],"sources":["main-page-service.bundle.js"],"mappings":"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","ignoreList":[]}