{"version":3,"file":"main-page-service.bundle.map.js","names":["this","BX","Booking","Provider","exports","booking_core","booking_lib_resourcesDateCache","booking_lib_apiClient","booking_const","booking_provider_service_bookingService","booking_provider_service_clientService","booking_provider_service_resourcesService","booking_provider_service_resourcesTypeService","_response","babelHelpers","classPrivateFieldLooseKey","_extractClients","_extractClientsFromBookings","MainPageDataExtractor","constructor","response","Object","defineProperty","value","_extractClientsFromBookings2","_extractClients2","writable","classPrivateFieldLooseBase","getFavoriteIds","favorites","resources","map","resource","id","getBookings","bookings","booking","BookingMappers","mapDtoToModel","getClientsProviderModuleId","clients","providerModuleId","getClients","CrmEntity","Contact","Company","getCounters","counters","getResources","_babelHelpers$classPr","_babelHelpers$classPr2","favoriteResources","bookingResources","flatMap","result","forEach","resourceDto","_resourceDto$id","_result$_resourceDto$","ResourceMappers","values","getResourceTypes","resourceTypes","resourceTypeDto","ResourceTypeMappers","getIntersectionMode","isIntersectionForAll","getIsCurrentSenderAvailable","isCurrentSenderAvailable","code","module","recent","client","type","ClientMappers","_response$1","CountersExtractor","getTotalClients","clientStatistics","total","getTotalNewClientsToday","totalToday","getMoneyStatistics","moneyStatistics","_dateCache","_requestData","_requestDataForBooking","MainPageService","_requestDataForBooking2","_requestData2","clearCache","ids","filter","date","resourcesDateCache","isDateLoaded","fetchData","dateTs","includes","push","loadData","Core","getStore","getters","Model","Interface","error","console","fetchCounters","data","ApiClient","get","extractor","Promise","all","dispatch","Counters","activateDemo","resolve","async","upsertIds","Favorites","Resources","ResourceTypes","Bookings","Clients","bookingId","getParams","editingBookingId","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","resourcesIds","promises","editingBooking","find","selectedDate","Date","dateFrom","dateFromTs","getFullYear","getMonth","getDate","getTime","selectedResourcesIds","length","mainPageService","Service","Lib","Const"],"sources":["main-page-service.bundle.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,QAAUF,KAAKC,GAAGC,SAAW,CAAC,EACtCF,KAAKC,GAAGC,QAAQC,SAAWH,KAAKC,GAAGC,QAAQC,UAAY,CAAC,GACvD,SAAUC,EAAQC,EAAaC,EAA+BC,EAAsBC,EAAcC,EAAwCC,EAAuCC,EAA0CC,GAC3N,aAEA,IAAIC,EAAyBC,aAAaC,0BAA0B,YACpE,IAAIC,EAA+BF,aAAaC,0BAA0B,kBAC1E,IAAIE,EAA2CH,aAAaC,0BAA0B,8BACtF,MAAMG,EACJ,WAAAC,CAAYC,GACVC,OAAOC,eAAetB,KAAMiB,EAA6B,CACvDM,MAAOC,IAETH,OAAOC,eAAetB,KAAMgB,EAAiB,CAC3CO,MAAOE,IAETJ,OAAOC,eAAetB,KAAMa,EAAW,CACrCa,SAAU,KACVH,WAAY,IAEdT,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAaO,CACxE,CACA,cAAAQ,GACE,OAAOd,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWgB,UAAUC,UAAUC,KAAIC,GAAYA,EAASC,IAC1H,CACA,WAAAC,GACE,OAAOpB,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWsB,SAASJ,KAAIK,GAC/E3B,EAAwC4B,eAAeC,cAAcF,IAEhF,CACA,0BAAAG,GACE,OAAOzB,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAW2B,QAAQC,gBACrF,CACA,UAAAC,GACE,MAAO,IAAI5B,aAAaa,2BAA2B3B,KAAMgB,GAAiBA,GAAiBR,EAAcmC,UAAUC,YAAa9B,aAAaa,2BAA2B3B,KAAMgB,GAAiBA,GAAiBR,EAAcmC,UAAUE,YAAa/B,aAAaa,2BAA2B3B,KAAMiB,GAA6BA,KAClU,CACA,WAAA6B,GACE,OAAOhC,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWkC,QAC7E,CACA,YAAAC,GACE,IAAIC,EAAuBC,EAC3B,MAAMC,GAAqBF,GAAyBC,EAAyBpC,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWgB,YAAc,UAAY,EAAIqB,EAAuBpB,YAAc,KAAOmB,EAAwB,GACnP,MAAMG,EAAmBtC,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWsB,SAASkB,SAAQ,EAC5GvB,eACIA,IACN,MAAMwB,EAAS,CAAC,EAChB,IAAIH,KAAsBC,GAAkBG,SAAQC,IAClD,IAAIC,EAAiBC,GACpBA,EAAwBJ,EAAOG,EAAkBD,EAAYvB,MAAQ,KAAOyB,EAAwBJ,EAAOG,GAAmB9C,EAA0CgD,gBAAgBrB,cAAckB,EAAY,IAErN,OAAOnC,OAAOuC,OAAON,EACvB,CACA,gBAAAO,GACE,OAAO/C,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWiD,cAAc/B,KAAIgC,GACpFnD,EAA8CoD,oBAAoB1B,cAAcyB,IAE3F,CACA,mBAAAE,GACE,OAAOnD,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWqD,oBAC7E,CACA,2BAAAC,GACE,OAAOrD,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWuD,wBAC7E,EAEF,SAAS3C,EAAiB4C,GACxB,MAAMC,EAASxD,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAW2B,QAAQC,iBAC3F,IAAK6B,EAAQ,CACX,MAAO,EACT,CACA,OAAOjD,OAAOuC,OAAO9C,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAW2B,QAAQ+B,OAAOF,IAAOtC,KAAIyC,IAAU,IACxHA,EACHC,KAAM,CACJH,SACAD,WAGN,CACA,SAAS7C,IACP,OAAOV,aAAaa,2BAA2B3B,KAAMa,GAAWA,GAAWsB,SAASkB,SAAQ,EAC1Fb,aACIA,EAAQT,KAAIyC,GACT9D,EAAuCgE,cAAcpC,cAAckC,MAE9E,CAEA,IAAIG,EAA2B7D,aAAaC,0BAA0B,YACtE,MAAM6D,EACJ,WAAAzD,CAAYC,GACVC,OAAOC,eAAetB,KAAM2E,EAAa,CACvCjD,SAAU,KACVH,WAAY,IAEdT,aAAaa,2BAA2B3B,KAAM2E,GAAaA,GAAevD,CAC5E,CACA,WAAA0B,GACE,OAAOhC,aAAaa,2BAA2B3B,KAAM2E,GAAaA,GAAa5B,QACjF,CACA,eAAA8B,GACE,OAAO/D,aAAaa,2BAA2B3B,KAAM2E,GAAaA,GAAaG,iBAAiBC,KAClG,CACA,uBAAAC,GACE,OAAOlE,aAAaa,2BAA2B3B,KAAM2E,GAAaA,GAAaG,iBAAiBG,UAClG,CACA,kBAAAC,GACE,OAAOpE,aAAaa,2BAA2B3B,KAAM2E,GAAaA,GAAaQ,eACjF,EAGF,IAAIC,EAA0BtE,aAAaC,0BAA0B,aACrE,IAAIsE,EAA4BvE,aAAaC,0BAA0B,eACvE,IAAIuE,EAAsCxE,aAAaC,0BAA0B,yBACjF,MAAMwE,EACJ,WAAApE,GACEE,OAAOC,eAAetB,KAAMsF,EAAwB,CAClD/D,MAAOiE,IAETnE,OAAOC,eAAetB,KAAMqF,EAAc,CACxC9D,MAAOkE,IAETpE,OAAOC,eAAetB,KAAMoF,EAAY,CACtC1D,SAAU,KACVH,MAAO,IAEX,CACA,UAAAmE,CAAWC,GACT7E,aAAaa,2BAA2B3B,KAAMoF,GAAYA,GAActE,aAAaa,2BAA2B3B,KAAMoF,GAAYA,GAAYQ,QAAOC,GAAQvF,EAA+BwF,mBAAmBC,aAAaF,EAAMF,IACpO,CACA,eAAMK,CAAUC,GACd,GAAInF,aAAaa,2BAA2B3B,KAAMoF,GAAYA,GAAYc,SAASD,GAAS,CAC1F,MACF,CACAnF,aAAaa,2BAA2B3B,KAAMoF,GAAYA,GAAYe,KAAKF,SACrEjG,KAAKoG,SAASH,EACtB,CACA,cAAMG,CAASH,GACb,IACE,GAAI5F,EAAagG,KAAKC,WAAWC,QAAQ,GAAG/F,EAAcgG,MAAMC,kCAAmC,OAC3F3F,aAAaa,2BAA2B3B,KAAMsF,GAAwBA,GAAwBW,EACtG,KAAO,OACCnF,aAAaa,2BAA2B3B,KAAMqF,GAAcA,GAAcY,EAClF,CACF,CAAE,MAAOS,GACPC,QAAQD,MAAM,mCAAoCA,EACpD,CACF,CACA,mBAAME,GACJ,IACE,MAAMC,QAAa,IAAItG,EAAsBuG,WAAYC,IAAI,wBAC7D,MAAMC,EAAY,IAAIpC,EAAkBiC,SAClCI,QAAQC,IAAI,CAAC7G,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,4BAA6BO,EAAUnC,mBAAoBxE,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,oCAAqCO,EAAUhC,2BAA4B3E,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,+BAAgCO,EAAU9B,sBAAuB7E,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMY,eAAgBJ,EAAUlE,gBAC1e,CAAE,MAAO4D,GACPC,QAAQD,MAAM,2CAA4CA,EAC5D,CACF,CACA,kBAAMW,GACJ,IACE,aAAa,IAAI9G,EAAsBuG,WAAYC,IAAI,wBACzD,CAAE,MAAOL,GACPC,QAAQD,MAAM,4CAA6CA,EAC7D,CACA,OAAOO,QAAQK,QAAQ,MACzB,EAEFC,eAAe9B,EAAcQ,GAC3B,MAAMY,QAAa,IAAItG,EAAsBuG,WAAYC,IAAI,eAAgB,CAC3Ed,WAEF,MAAMe,EAAY,IAAI9F,EAAsB2F,GAC5CvG,EAA+BwF,mBAAmB0B,UAAUvB,EAAQe,EAAUpF,wBACxEqF,QAAQC,IAAI,CAAC7G,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMiB,gBAAiBT,EAAUpF,kBAAmBvB,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,4BAA6BO,EAAUpF,kBAAmBvB,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,gCAAiCO,EAAU/C,uBAAwB5D,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMkB,uBAAwBV,EAAUhE,gBAAiB3C,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMmB,2BAA4BX,EAAUnD,oBAAqBxD,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMY,eAAgBJ,EAAUlE,eAAgBzC,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMoB,sBAAuBZ,EAAU9E,eAAgB7B,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMqB,qBAAsBb,EAAUtE,cAAerC,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMqB,8BAA+Bb,EAAUzE,8BAA+BlC,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,wCAAyCO,EAAU7C,gCACrpC,CACAoD,eAAe/B,EAAwBS,GACrC,MAAM6B,EAAYzH,EAAagG,KAAK0B,YAAYC,iBAChD,MAAMC,EAAWC,KAAKC,iBAAiBC,kBAAkBC,SACzD,MAAMC,EAAejI,EAAagG,KAAKC,WAAWC,QAAQ,GAAG/F,EAAcgG,MAAMiB,iBACjF,MAAMZ,QAAa,IAAItG,EAAsBuG,WAAYC,IAAI,yBAA0B,CACrFd,SACA6B,YACAG,WACAK,iBAEF,MAAMtB,EAAY,IAAI9F,EAAsB2F,GAC5C,MAAM0B,EAAW,CAAClI,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,gCAAiCO,EAAU/C,uBAAwB5D,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMkB,uBAAwBV,EAAUhE,gBAAiB3C,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMmB,2BAA4BX,EAAUnD,oBAAqBxD,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMY,eAAgBJ,EAAUlE,eAAgBzC,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMoB,sBAAuBZ,EAAU9E,eAAgB7B,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMqB,qBAAsBb,EAAUtE,cAAerC,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMqB,8BAA+Bb,EAAUzE,8BAA+BlC,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,wCAAyCO,EAAU7C,gCACh7B,MAAMqE,EAAiBxB,EAAU9E,cAAcuG,MAAKrG,GAAWA,EAAQH,KAAO6F,IAC9E,IAAKU,GAAkBvC,IAAW,EAAG,CACnCsC,EAASpC,KAAK9F,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,gCAAiC,GAC9G,CACA,IAAIiC,EAAe,IAAIC,KAAK1C,EAAS,KACrC,GAAIuC,GAAkBvC,IAAW,EAAG,CAClC,MAAM2C,EAAW,IAAID,KAAKH,EAAeK,YACzCH,EAAe,IAAIC,KAAKC,EAASE,cAAeF,EAASG,WAAYH,EAASI,WAC9ET,EAASpC,KAAK9F,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,8BAA+BiC,EAAaO,YACvHnI,aAAaa,2BAA2B3B,KAAMoF,GAAYA,GAAYe,KAAKuC,EAAaO,UAAY,IACtG,CACA,IAAIC,EAAuBZ,EAC3B,GAAIE,GAAkBF,EAAaa,SAAW,EAAG,CAC/CD,EAAuB,CAACV,EAAeF,aAAa,IACpDC,EAASpC,KAAK9F,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMiB,gBAAiB,CAACe,EAAeF,aAAa,KAAMjI,EAAagG,KAAKC,WAAWa,SAAS,GAAG3G,EAAcgG,MAAMC,4BAA6B,CAAC+B,EAAeF,aAAa,KACxP,CACAhI,EAA+BwF,mBAAmB0B,UAAUkB,EAAaO,UAAY,IAAMC,SACrFjC,QAAQC,IAAIqB,EACpB,CACA,MAAMa,EAAkB,IAAI7D,EAE5BnF,EAAQgJ,gBAAkBA,CAE3B,EA5MA,CA4MGpJ,KAAKC,GAAGC,QAAQC,SAASkJ,QAAUrJ,KAAKC,GAAGC,QAAQC,SAASkJ,SAAW,CAAC,EAAGpJ,GAAGC,QAAQD,GAAGC,QAAQoJ,IAAIrJ,GAAGC,QAAQoJ,IAAIrJ,GAAGC,QAAQqJ,MAAMtJ,GAAGC,QAAQC,SAASkJ,QAAQpJ,GAAGC,QAAQC,SAASkJ,QAAQpJ,GAAGC,QAAQC,SAASkJ,QAAQpJ,GAAGC,QAAQC,SAASkJ","ignoreList":[]}