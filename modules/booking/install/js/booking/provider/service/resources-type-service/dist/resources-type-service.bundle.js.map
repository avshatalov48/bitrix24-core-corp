{"version":3,"file":"resources-type-service.bundle.js","sources":["../src/mappers.js","../src/resources-type-service.js","../src/index.js"],"sourcesContent":["import { ResourceTypeModel } from 'booking.model.resource-types';\nimport { ResourceTypeDto } from './types';\n\nexport function mapDtoToModel(resourceDto: ResourceTypeDto): ResourceTypeModel\n{\n\treturn {\n\t\tid: resourceDto.id,\n\t\tmoduleId: resourceDto.moduleId,\n\t\tname: resourceDto.name,\n\t\tcode: resourceDto.code,\n\t\tisConfirmationNotificationOn: resourceDto.isConfirmationNotificationOn,\n\t\tisFeedbackNotificationOn: resourceDto.isFeedbackNotificationOn,\n\t\tisInfoNotificationOn: resourceDto.isInfoNotificationOn,\n\t\tisDelayedNotificationOn: resourceDto.isDelayedNotificationOn,\n\t\tisReminderNotificationOn: resourceDto.isReminderNotificationOn,\n\t\ttemplateTypeConfirmation: resourceDto.templateTypeConfirmation,\n\t\ttemplateTypeFeedback: resourceDto.templateTypeFeedback,\n\t\ttemplateTypeInfo: resourceDto.templateTypeInfo,\n\t\ttemplateTypeDelayed: resourceDto.templateTypeDelayed,\n\t\ttemplateTypeReminder: resourceDto.templateTypeReminder,\n\t};\n}\n\nexport function mapModelToDto(resourceType: ResourceTypeModel): ResourceTypeDto\n{\n\treturn {\n\t\tid: resourceType.id,\n\t\tmoduleId: resourceType.moduleId,\n\t\tname: resourceType.name,\n\t\tcode: resourceType.code,\n\t\tisConfirmationNotificationOn: resourceType.isConfirmationNotificationOn,\n\t\tisFeedbackNotificationOn: resourceType.isFeedbackNotificationOn,\n\t\tisInfoNotificationOn: resourceType.isInfoNotificationOn,\n\t\tisDelayedNotificationOn: resourceType.isDelayedNotificationOn,\n\t\tisReminderNotificationOn: resourceType.isReminderNotificationOn,\n\t\ttemplateTypeConfirmation: resourceType.templateTypeConfirmation,\n\t\ttemplateTypeFeedback: resourceType.templateTypeFeedback,\n\t\ttemplateTypeInfo: resourceType.templateTypeInfo,\n\t\ttemplateTypeDelayed: resourceType.templateTypeDelayed,\n\t\ttemplateTypeReminder: resourceType.templateTypeReminder,\n\t};\n}\n","import { Core } from 'booking.core';\nimport { ApiClient } from 'booking.lib.api-client';\nimport { ResourceTypeModel } from 'booking.model.resource-types';\nimport { mapModelToDto, mapDtoToModel } from './mappers';\nimport type { ResourceTypeDto } from './types';\n\nclass ResourceTypeService\n{\n\tasync add(resourceType: ResourceTypeModel): Promise<ResourceTypeModel>\n\t{\n\t\tlet createdResourceType = null;\n\n\t\ttry\n\t\t{\n\t\t\tconst resourceDto: ResourceTypeDto = mapModelToDto(resourceType);\n\t\t\tconst data = await (new ApiClient()).post(\n\t\t\t\t'ResourceType.add',\n\t\t\t\t{ resourceType: resourceDto },\n\t\t\t);\n\t\t\tcreatedResourceType = mapDtoToModel(data);\n\n\t\t\tvoid Core.getStore().dispatch('resourceTypes/upsert', createdResourceType);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('ResourceTypeService: add error', error);\n\t\t}\n\n\t\treturn createdResourceType;\n\t}\n\n\tasync update(resourceType: ResourceTypeModel): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst resourceDto: ResourceTypeDto = mapModelToDto(resourceType);\n\t\t\tconst data = await (new ApiClient()).post(\n\t\t\t\t'ResourceType.update',\n\t\t\t\t{ resourceType: resourceDto },\n\t\t\t);\n\n\t\t\tvoid Core.getStore().dispatch('resourceTypes/upsert', mapDtoToModel(data));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('ResourceTypeService: update error', error);\n\t\t}\n\t}\n\n\tasync delete(resourceTypeId: number): Promise<void>\n\t{\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport const resourceTypeService = new ResourceTypeService();\n","import { mapModelToDto, mapDtoToModel } from './mappers';\n\nexport { resourceTypeService } from './resources-type-service';\nexport const ResourceTypeMappers = { mapModelToDto, mapDtoToModel };\nexport type { ResourceTypeDto } from './types';\n"],"names":["mapDtoToModel","resourceDto","id","moduleId","name","code","isConfirmationNotificationOn","isFeedbackNotificationOn","isInfoNotificationOn","isDelayedNotificationOn","isReminderNotificationOn","templateTypeConfirmation","templateTypeFeedback","templateTypeInfo","templateTypeDelayed","templateTypeReminder","mapModelToDto","resourceType","ResourceTypeService","add","createdResourceType","data","ApiClient","post","Core","getStore","dispatch","error","console","update","delete","resourceTypeId","Promise","resolve","resourceTypeService","ResourceTypeMappers"],"mappings":"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"}