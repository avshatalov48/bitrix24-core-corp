{"version":3,"file":"statistics-popup.bundle.js","sources":["../src/statistics-popup.js"],"sourcesContent":["import { PopupOptions } from 'main.popup';\nimport { Button, ButtonSize, ButtonColor } from 'booking.component.button';\nimport { Popup } from 'booking.component.popup';\nimport './statistics-popup.css';\n\nexport const StatisticsPopup = {\n\temits: ['close'],\n\tprops: {\n\t\tpopupId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tbindElement: {\n\t\t\ttype: HTMLElement,\n\t\t\trequired: true,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\trows: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tbutton: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t},\n\t\tdataset: {\n\t\t\ttype: Object,\n\t\t\tdefault: {},\n\t\t},\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tButtonSize,\n\t\t\tButtonColor,\n\t\t};\n\t},\n\tcomputed: {\n\t\tconfig(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\tminWidth: 200,\n\t\t\t\toffsetTop: 10,\n\t\t\t\toffsetLeft: this.bindElement.offsetWidth / 2,\n\t\t\t\tbackground: '#2878ca',\n\t\t\t\tpadding: 13,\n\t\t\t\tangle: true,\n\t\t\t\tangleBorderRadius: '4px 0',\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\tprepareDataset(dataset?: Object): Object\n\t\t{\n\t\t\tif (!dataset)\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn Object.fromEntries(\n\t\t\t\tObject.entries(dataset).map(([key, value]) => [\n\t\t\t\t\t`data-${key.replaceAll(/([A-Z])/g, '-$1').toLowerCase()}`,\n\t\t\t\t\tvalue,\n\t\t\t\t]),\n\t\t\t);\n\t\t},\n\t},\n\tcomponents: {\n\t\tPopup,\n\t\tButton,\n\t},\n\ttemplate: `\n\t\t<Popup\n\t\t\t:id=\"popupId\"\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\tref=\"popup\"\n\t\t>\n\t\t\t<div class=\"booking-statistics-popup\" v-bind=\"prepareDataset(dataset)\">\n\t\t\t\t<div class=\"booking-statistics-popup-title\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</div>\n\t\t\t\t<template v-for=\"(row, index) of rows\" :key=\"index\">\n\t\t\t\t\t<div class=\"booking-statistics-popup-row\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{{ row.title }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"booking-statistics-popup-row-value\"\n\t\t\t\t\t\t\tv-bind=\"prepareDataset(row.dataset)\"\n\t\t\t\t\t\t\tv-html=\"row.value\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-if=\"button\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass=\"booking-statistics-popup-button bitrix24-light-theme\"\n\t\t\t\t\t\tbuttonClass=\"ui-btn-themes\"\n\t\t\t\t\t\t:text=\"button.title\"\n\t\t\t\t\t\t:size=\"ButtonSize.EXTRA_SMALL\"\n\t\t\t\t\t\t:color=\"ButtonColor.LIGHT_BORDER\"\n\t\t\t\t\t\t@click=\"button.click\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</Popup>\n\t`,\n};\n"],"names":["StatisticsPopup","emits","props","popupId","type","String","required","bindElement","HTMLElement","title","rows","Array","button","Object","dataset","default","data","ButtonSize","ButtonColor","computed","config","minWidth","offsetTop","offsetLeft","offsetWidth","background","padding","angle","angleBorderRadius","methods","prepareDataset","fromEntries","entries","map","key","value","replaceAll","toLowerCase","components","Popup","Button","template"],"mappings":";;;;;;OAKaA,eAAe,GAAG;GAC9BC,KAAK,EAAE,CAAC,OAAO,CAAC;GAChBC,KAAK,EAAE;KACNC,OAAO,EAAE;OACRC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACDC,WAAW,EAAE;OACZH,IAAI,EAAEI,WAAW;OACjBF,QAAQ,EAAE;MACV;KACDG,KAAK,EAAE;OACNL,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACDI,IAAI,EAAE;OACLN,IAAI,EAAEO,KAAK;OACXL,QAAQ,EAAE;MACV;KACDM,MAAM,EAAE;OACPR,IAAI,EAAES,MAAM;OACZP,QAAQ,EAAE;MACV;KACDQ,OAAO,EAAE;OACRV,IAAI,EAAES,MAAM;OACZE,OAAO,EAAE;;IAEV;GACDC,IAAI,GACJ;KACC,OAAO;mBACNC,mCAAU;oBACVC;MACA;IACD;GACDC,QAAQ,EAAE;KACTC,MAAM,GACN;OACC,OAAO;SACNb,WAAW,EAAE,IAAI,CAACA,WAAW;SAC7Bc,QAAQ,EAAE,GAAG;SACbC,SAAS,EAAE,EAAE;SACbC,UAAU,EAAE,IAAI,CAAChB,WAAW,CAACiB,WAAW,GAAG,CAAC;SAC5CC,UAAU,EAAE,SAAS;SACrBC,OAAO,EAAE,EAAE;SACXC,KAAK,EAAE,IAAI;SACXC,iBAAiB,EAAE;QACnB;;IAEF;GACDC,OAAO,EAAE;KACRC,cAAc,CAAChB,OAAgB,EAC/B;OACC,IAAI,CAACA,OAAO,EACZ;SACC,OAAO,EAAE;;OAGV,OAAOD,MAAM,CAACkB,WAAW,CACxBlB,MAAM,CAACmB,OAAO,CAAClB,OAAO,CAAC,CAACmB,GAAG,CAAC,CAAC,CAACC,GAAG,EAAEC,KAAK,CAAC,KAAK,CAC5C,QAAOD,GAAG,CAACE,UAAU,CAAC,UAAU,EAAE,KAAK,CAAC,CAACC,WAAW,EAAG,EAAC,EACzDF,KAAK,CACL,CAAC,CACF;;IAEF;GACDG,UAAU,EAAE;YACXC,6BAAK;aACLC;IACA;GACDC,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAoCZ,CAAC;;;;;;;;"}