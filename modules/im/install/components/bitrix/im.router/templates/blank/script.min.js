function BlankBackend(i){this.init=function(i){this.initParams=i;this.timeout={};this.postMessageDomain=null;this.postMessageOrigin=null;this.postMessageSource=null;this.initFrameParameters();this.initEvent()};this.initFrameParameters=function(){if(!this.isFrame()){return}if(!window.location.hash){return}var i={};try{i=JSON.parse(decodeURIComponent(window.location.hash.substring(1)))}catch(t){}if(i.domain){this.postMessageDomain=i.domain}};this.isFrame=function(){return window!=window.top};this.initEvent=function(){if(!this.isFrame()){return}if(typeof window.postMessage==="function"){BX.bind(window,"message",BX.proxy(function(i){if(i&&i.origin==this.postMessageDomain){var t={};try{t=JSON.parse(i.data)}catch(s){}if(t.action=="init"){this.uniqueLoadId=t.uniqueLoadId;this.postMessageSource=i.source;this.postMessageOrigin=i.origin;this.postMessageStartShowed=t.showed;var e={};e["uniqueLoadId"]=this.uniqueLoadId;e["action"]="blank";this.sendDataToFrameHolder(e)}}},this))}};this.sendDataToFrameHolder=function(i){var t=JSON.stringify(i);if(!this.postMessageOrigin){clearTimeout(this.timeout[t]);this.timeout[t]=setTimeout(BX.delegate(function(){this.sendDataToFrameHolder(i)},this),10);return true}if(typeof window.postMessage==="function"){if(this.postMessageSource){this.postMessageSource.postMessage(t,this.postMessageOrigin)}}var s=0;if(s){var e=window.location.hash.substring(1);top.location=e.substring(0,e.indexOf("#"))+"#"+t}};this.init(i)}
//# sourceMappingURL=script.map.js