(function(){BX.namespace("BX.Call");var e={onClose:"onClose",onDestroy:"onDestroy",onCloseClicked:"onCloseClicked"};BX.Call.Sidebar=function(e){this.container=e.container;this.width=BX.prop.getInteger(e,"width",200);this.elements={root:null,close:null,contentContainer:null};this.eventEmitter=new BX.Event.EventEmitter(this,"BX.Call.Sidebar");if(e.events){for(var t in e.events){if(e.events.hasOwnProperty(t)){this.eventEmitter.subscribe(t,e.events[t])}}}};BX.Call.Sidebar.prototype.render=function(){if(this.elements.root){return this.elements.root}this.elements.root=BX.create("div",{props:{className:"bx-messenger-call-sidebar-root"},children:[BX.create("div",{props:{className:"bx-messenger-call-sidebar-labels"},style:{top:"39px"},children:[BX.create("div",{props:{className:"bx-messenger-call-sidebar-label"},style:{maxWidth:"40px"},children:[BX.create("div",{props:{className:"bx-messenger-call-sidebar-label-icon-box"},attrs:{title:BX.message("IM_M_CALL_BTN_CLOSE")},children:[BX.create("div",{props:{className:"bx-messenger-call-sidebar-label-icon bx-messenger-call-sidebar-label-icon-close"}})]})],events:{click:function(){this.eventEmitter.emit(e.onCloseClicked)}.bind(this)}})]}),this.elements.contentContainer=BX.create("div",{props:{className:"bx-messenger-call-sidebar-content-container"}})]});this.elements.root.style.setProperty("--sidebar-width",this.width+"px");return this.elements.root};BX.Call.Sidebar.prototype.setWidth=function(e){if(this.width==e){return}this.width=e;this.elements.root.style.setProperty("--sidebar-width",this.width+"px")};BX.Call.Sidebar.prototype.open=function(e){e=e!==false;return new Promise(function(t){this.container.appendChild(this.render());if(e){this.elements.root.classList.add("opening");this.elements.root.addEventListener("animationend",function(){this.elements.root.classList.remove("opening");t()}.bind(this),{once:true})}else{t()}}.bind(this))};BX.Call.Sidebar.prototype.close=function(t){t=t!==false;return new Promise(function(s){if(t){this.elements.root.classList.add("closing");this.elements.root.addEventListener("animationend",function(){this.container.removeChild(this.elements.root);this.eventEmitter.emit(e.onClose);s()}.bind(this),{once:true})}else{this.container.removeChild(this.elements.root);this.eventEmitter.emit(e.onClose);s()}}.bind(this))};BX.Call.Sidebar.prototype.toggleHidden=function(e){this.elements.root.classList.toggle("hidden",e)};BX.Call.Sidebar.prototype.destroy=function(){this.eventEmitter.emit(e.onDestroy);this.eventEmitter.unsubscribeAll(e.onClose);this.eventEmitter.unsubscribeAll(e.onDestroy);this.eventEmitter=null;this.elements=null;this.container=null};BX.Call.Sidebar.Events=e})();
//# sourceMappingURL=sidebar.map.js