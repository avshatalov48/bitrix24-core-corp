{"version":3,"sources":["floating_video.js"],"names":["BX","namespace","Call","FloatingVideo","Events","setStream","setAudioMuted","onMainAreaClick","onMicButtonClick","onHangupButtonClick","VIDEO_WIDTH","VIDEO_HEIGHT","AUDIO_WIDTH","AUDIO_HEIGHT","config","this","stream","Util","containsVideoTrack","URL","createObjectURL","audioMuted","window","visible","callbacks","type","isFunction","DoNothing","onButtonClick","_onContentMainAreaClickHandler","_onContentMainAreaClick","bind","_onContentMicButtonClickHandler","_onContentMicButtonClick","_onContentHangupButtonClickHandler","_onContentHangupButtonClick","bindEventHandlers","prototype","desktop","addCustomEvent","buttonName","muted","onCustomEvent","show","BXDesktopWindow","ExecuteCommand","params","BXDesktopSystem","getHtmlPage","JSON","stringify","hide","document","close","destroy","removeCustomEvents","FloatingVideoContent","elements","container","video","micButton","micButtonText","hangupButton","render","adjustWindow","callAspectHorizontal","callAspectCheckInterval","setInterval","checkVideoAspect","addEventListener","minCallWidth","minCallHeight","callOverlayStyle","width","height","create","props","className","style","events","click","children","text","message","attrs","autoplay","src","volume","prepend","body","appendChild","setWindowMinSize","Width","Height","setWindowResizable","setWindowClosable","setWindowTitle","QuerySettings","setWindowPosition","X","parseInt","STP_RIGHT","Y","STP_TOP","Mode","STP_FRONT","browser","IsMac","videoWidth","videoHeight","addClass","setWindowSize","removeClass","clearInterval","parentNode","remove","adjust","e","stopPropagation"],"mappings":"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","file":"floating_video.map.js"}