{"version":3,"sources":["invite_popup.js"],"names":["BX","namespace","Call","InvitePopup","config","type","isPlainObject","this","idleUsers","recentUsers","bindElement","viewElement","document","body","allowNewUsers","elements","root","inputBox","input","destinationContainer","contactList","moreButton","popup","zIndex","searchPhrase","searchNext","searchResult","searchTotalCount","searchTimeout","fetching","callbacks","onSelect","isFunction","DoNothing","onClose","onDestroy","prototype","show","render","createPopup","showLoader","getRecent","then","updateContactList","bind","close","clearTimeout","self","PopupWindow","targetContainer","lightShadow","darkMode","MessengerTheme","isDark","autoHide","closeByEsc","content","bindOptions","position","angle","offset","buttons","PopupWindowButton","text","message","className","events","click","e","selectedUser","user","onPopupClose","destroy","onPopupDestroy","addClass","popupContainer","Promise","resolve","reject","CallEngine","getRestClient","callMethod","SKIP_OPENLINES","SKIP_CHAT","response","answer","Object","values","result","map","r","filter","bot","network","search","element","name","toString","toLowerCase","includes","length","FIND","total","next","existsUserId","parseInt","id","concat","fetchMoreSearchResults","OFFSET","create","props","children","attrs","placeholder","value","disabled","keyup","_onInputKeyUp","appendChild","updateDestination","cleanNode","renderDestinationUser","style","display","removeProperty","focus","renderContactList","createDocumentFragment","i","renderSeparator","renderUser","renderMoreButton","userData","MessengerCommon","drawContactListElement","data","escapeUserData","showUserLastActivityDate","showLastMessage","showCounter","setSelectedUser","removeSelectedUser","_onMoreButtonClick","util","htmlspecialchars","first_name","last_name","work_position","external_auth_id","status","moreUsers","df","newMoreButton","replace","event","keyCode","preventDefault","setTimeout"],"mappings":"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","file":"invite_popup.map.js"}