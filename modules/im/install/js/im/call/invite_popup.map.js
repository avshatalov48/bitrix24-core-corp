{"version":3,"sources":["invite_popup.js"],"names":["BX","namespace","Call","InvitePopup","config","type","isPlainObject","this","idleUsers","recentUsers","bindElement","viewElement","document","body","allowNewUsers","elements","root","inputBox","input","destinationContainer","contactList","moreButton","popup","zIndex","searchPhrase","searchNext","searchResult","searchTotalCount","searchTimeout","fetching","callbacks","onSelect","isFunction","DoNothing","onClose","onDestroy","prototype","show","render","createPopup","showLoader","getRecent","then","updateContactList","bind","close","clearTimeout","self","PopupWindow","targetContainer","lightShadow","darkMode","MessengerTheme","isDark","autoHide","closeByEsc","content","bindOptions","position","angle","offset","buttons","PopupWindowButton","text","message","className","events","click","e","selectedUser","user","onPopupClose","destroy","onPopupDestroy","addClass","popupContainer","Promise","resolve","reject","CallEngine","getRestClient","callMethod","SKIP_OPENLINES","SKIP_CHAT","response","answer","Object","values","result","map","r","filter","bot","network","search","element","name","toString","toLowerCase","includes","length","FIND","total","next","existsUserId","parseInt","id","concat","fetchMoreSearchResults","OFFSET","create","props","children","attrs","placeholder","value","disabled","keyup","_onInputKeyUp","appendChild","updateDestination","cleanNode","renderDestinationUser","style","display","removeProperty","focus","renderContactList","createDocumentFragment","i","renderSeparator","renderUser","renderMoreButton","userData","MessengerCommon","drawContactListElement","data","showUserLastActivityDate","showLastMessage","showCounter","setSelectedUser","removeSelectedUser","_onMoreButtonClick","moreUsers","df","newMoreButton","replace","event","keyCode","preventDefault","setTimeout"],"mappings":"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","file":"invite_popup.map.js"}