{"version":3,"sources":["invite_popup.js"],"names":["BX","namespace","Call","InvitePopup","config","type","isPlainObject","this","idleUsers","recentUsers","bindElement","viewElement","document","body","allowNewUsers","elements","root","inputBox","input","destinationContainer","contactList","moreButton","popup","zIndex","searchPhrase","searchNext","searchResult","searchTotalCount","searchTimeout","fetching","callbacks","onSelect","isFunction","DoNothing","onClose","onDestroy","prototype","show","render","createPopup","showLoader","getRecent","then","updateContactList","bind","close","clearTimeout","self","PopupWindow","targetContainer","lightShadow","darkMode","BXIM","settings","enableDarkTheme","autoHide","closeByEsc","content","bindOptions","position","angle","offset","buttons","PopupWindowButton","text","message","className","events","click","e","selectedUser","user","onPopupClose","destroy","onPopupDestroy","addClass","popupContainer","Promise","resolve","reject","CallEngine","getRestClient","callMethod","SKIP_OPENLINES","SKIP_CHAT","response","answer","Object","values","result","map","r","filter","bot","network","search","element","name","toString","toLowerCase","includes","length","FIND","total","next","existsUserId","parseInt","id","concat","fetchMoreSearchResults","OFFSET","create","props","children","attrs","placeholder","value","disabled","keyup","_onInputKeyUp","appendChild","updateDestination","cleanNode","renderDestinationUser","style","display","removeProperty","focus","renderContactList","createDocumentFragment","i","renderSeparator","renderUser","renderMoreButton","userData","description","work_position","avatarNode","dataset","status","avatar","setSelectedUser","backgroundColor","color","src","removeSelectedUser","_onMoreButtonClick","moreUsers","df","newMoreButton","replace","event","keyCode","MessengerCommon","preventDefault","setTimeout"],"mappings":"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","file":"invite_popup.map.js"}