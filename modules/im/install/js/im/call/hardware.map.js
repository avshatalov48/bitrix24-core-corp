{"version":3,"sources":["hardware.js"],"names":["lsKey","defaultMicrophone","defaultCamera","defaultSpeaker","enableMicAutoParameters","preferHd","Events","initialized","deviceChanged","HardwareManager","this","_currentDeviceList","updating","Object","defineProperty","get","_getDeviceMap","bind","microphoneId","localStorage","getItem","microphoneList","set","setItem","cameraId","cameraList","speakerId","audioOutputList","preferHdQuality","eventEmitter","BX","Event","EventEmitter","prototype","init","Promise","resolve","reject","enumerateDevices","then","deviceList","filterDeviceList","navigator","mediaDevices","addEventListener","debounce","onNavigatorDeviceChanged","emit","catch","devices","hasCamera","Error","keys","length","getMicrophoneList","values","filter","deviceInfo","kind","getCameraList","getSpeakerList","canSelectSpeaker","HTMLMediaElement","updateDeviceList","e","removedDevices","addedDevices","shouldSkipDeviceChangedEvent","every","deviceId","label","forEach","index","findIndex","dev","splice","push","added","removed","browserDeviceList","device","subscribe","eventName","listener","unsubscribe","deviceKind","result","i","BackgroundDialog","isAvailable","getClass","desktop","getApiVersion","Messenger","Lib","Utils","platform","getDesktopVersion","open","window","Helper","show","html","js","opener","top","createWindow","delegate","controller","SetProperty","message","Width","Height","ExecuteCommand","BXIM","getHtmlPage","Call","Hardware"],"mappings":"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","file":"hardware.map.js"}