{"version":3,"file":"hardware.map.js","names":["lsKey","defaultMicrophone","defaultCamera","defaultSpeaker","enableMicAutoParameters","preferHd","enableMirroring","Events","initialized","deviceChanged","onChangeMirroringVideo","HardwareManager","constructor","this","_currentDeviceList","updating","eventEmitter","BX","Event","EventEmitter","init","Promise","resolve","initPromise","reject","enumerateDevices","then","deviceList","filterDeviceList","navigator","mediaDevices","addEventListener","debounce","onNavigatorDeviceChanged","bind","emit","catch","e","devices","cameraList","_getDeviceMap","microphoneList","audioOutputList","microphoneId","localStorage","getItem","setItem","cameraId","speakerId","preferHdQuality","desktop","onCustomEvent","hasCamera","Error","Object","keys","length","getMicrophoneList","values","filter","deviceInfo","kind","getCameraList","getSpeakerList","canSelectSpeaker","HTMLMediaElement","prototype","updateDeviceList","removedDevices","addedDevices","shouldSkipDeviceChangedEvent","every","deviceId","label","forEach","index","findIndex","dev","splice","push","added","removed","browserDeviceList","device","subscribe","eventName","listener","unsubscribe","deviceKind","result","i","BackgroundDialog","isAvailable","getClass","getApiVersion","Messenger","Lib","Utils","platform","getDesktopVersion","isMaskAvailable","isFeatureEnabled","isDesktopFeatureEnabled","open","options","type","isPlainObject","tab","isStringFilled","window","Helper","show","html","js","opener","top","createWindow","delegate","controller","title","message","SetProperty","Width","Height","ExecuteCommand","BXIM","getHtmlPage","Call","Hardware"],"sources":["hardware.js"],"mappings":"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"}