{"version":3,"sources":["engine.js"],"names":["BX","namespace","Call","State","Incoming","UserState","Idle","Calling","Declined","Ready","Connecting","Connected","Failed","Type","Instant","Permanent","Provider","Plain","Voximplant","Janus","StreamTag","Main","Screen","Direction","Outgoing","Event","onUserInvited","onUserStateChanged","onUserVoiceStarted","onUserVoiceStopped","onLocalMediaReceived","onLocalMediaStopped","onDeviceListUpdated","onRTCStatsReceived","onCallFailure","onStreamReceived","onStreamRemoved","onDestroy","ajaxActions","createCall","createChildCall","getPublicChannels","getCall","__allowConstructing","Engine","Error","this","calls","userId","message","init","getInstance","CallEngine","prototype","addCustomEvent","__onPullEvent","bind","__onPullClientEvent","getCurrentUserId","config","self","Promise","resolve","reject","callType","type","callProvider","provider","getDefaultProvider","callParameters","entityType","entityId","userIds","isArray","batchParameters","callParams","publicChannels","USERS","rest","callBatch","response","error","getError","code","error_description","createCallResponse","data","callFields","call","callFabric","__getCallFabric","id","instanceId","getUuidv4","direction","users","videoEnabled","enableMicAutoParameters","associatedEntity","ASSOCIATED_ENTITY","events","__onCallDestroy","debug","PULL","setPublicIds","Object","values","userData","MessengerCommon","updateUserData","isNew","parentId","newProvider","newUsers","parentCall","isVideoEnabled","getCallWithId","ajax","runAction","callId","then","answer","state","errors","replace","c","r","Math","random","v","toString","command","params","extra","handlers","Call::incoming","__onPullIncomingCall","substr","server_time_ago","console","ID","publicIds","PROVIDER","PARENT_ID","initiatorId","senderId","onCustomEvent","window","video","isMobile","e","providerType","PlainCallFabric","VoximplantCallFabric","JanusCallFabric","PlainCall","VoximplantCall","JanusCall"],"mappings":"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","file":"engine.map.js"}