{"version":3,"sources":["simple_vad.js"],"names":["BX","SimpleVAD","VOLUME_THRESHOLD","INACTIVITY_TIME","AVERAGING_COEFFICIENT","config","mediaStream","MediaStream","Error","getAudioTracks","length","this","addTrack","clone","audioContext","mediaStreamNode","analyserNode","audioTimeDomainData","voiceState","measureInterval","inactivityTimeout","currentVolume","callbacks","voiceStarted","type","isFunction","onVoiceStarted","DoNothing","voiceStopped","onVoiceStopped","isSupported","init","window","AudioContext","webkitAudioContext","AnalyserNode","prototype","createAnalyser","fftSize","createMediaStreamSource","connect","Float32Array","setInterval","analyzeAudioStream","bind","getFloatTimeDomainData","updateCurrentVolume","setVoiceState","clearTimeout","setTimeout","onInactivityTimeout","sum","i","rms","Math","sqrt","max","destroy","disconnect","close","getTracks","forEach","track","stop","clearInterval"],"mappings":"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","file":"simple_vad.map.js"}