{"version":3,"sources":["video_strategy.js"],"names":["BX","namespace","Call","VideoStrategy","Type","AllowAll","AllowNone","OnlySpeaker","CurrentlyTalking","HOLD_VIDEO_SECONDS","config","this","call","callView","strategyType","onCallUserVoiceStartedHandler","onCallUserVoiceStarted","bind","onCallUserVoiceStoppedHandler","onCallUserVoiceStopped","onCallViewSetCentralUserHandler","onCallViewSetCentralUser","onCallViewLayoutChangeHandler","onCallViewLayoutChange","users","init","prototype","allowVideoFrom","UserMnemonic","all","none","bindEvents","addEventListener","Event","onUserVoiceStarted","onUserVoiceStopped","subscribe","View","onSetCentralUser","onLayoutChange","removeEvents","removeEventListener","unsubscribe","setType","applyVideoLimit","talkingUsers","getActiveUsers","console","log","length","result","userId","user","active","push","id","onUserActiveChanged","data","User","onActiveChanged","setTalking","event","destroy","hasOwnProperty","talking","sharing","callbacks","type","isFunction","DoNothing","turnOffVideoTimeout","cancelTurnOffVideo","updateActive","scheduleTurnOffVideo","setSharing","newActive","clearTimeout","setTimeout"],"mappings":"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","file":"video_strategy.map.js"}