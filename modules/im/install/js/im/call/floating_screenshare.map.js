{"version":3,"sources":["floating_screenshare.js"],"names":["BX","namespace","Call","FloatingScreenShare","Events","onBackToCallClick","onStopSharingClick","POPUP_WIDTH","POPUP_HEIGHT","POPUP_OFFSET_X","POPUP_OFFSET_Y","config","this","desktop","window","sharedWindowX","sharedWindowY","sharedWindowHeight","sharedWindowWidth","title","app","screens","screenToUse","callbacks","type","isFunction","DoNothing","_onBackToCallClickHandler","_onBackToCallClick","bind","_onStopSharingClickHandler","_onStopSharingClick","bindEventHandlers","prototype","addCustomEvent","saveExistingScreens","Promise","resolve","reject","length","BXDesktopSystem","ListScreenMedia","result","forEach","item","id","slice","push","x","y","width","height","setSharingData","data","then","i","catch","error","console","log","show","BXDesktopWindow","ExecuteCommand","params","getHtmlPage","JSON","stringify","hide","document","close","visible","destroy","removeCustomEvents","FloatingScreenShareContent","elements","container","render","adjustWindow","create","props","className","children","text","message","events","click","body","appendChild","classList","add","dispatchEvent","leftBlockWidth","querySelector","scrollWidth","rightBlockWidth","fullWidth","style","SetProperty","Width","Height","X","Y","Mode","STP_FRONT","name","convertedParams","mainWindow","opener","top","BXWindows","windowItem","DispatchCustomEvent"],"mappings":"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","file":"floating_screenshare.map.js"}