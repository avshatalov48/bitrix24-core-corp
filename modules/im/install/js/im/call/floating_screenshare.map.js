{"version":3,"sources":["floating_screenshare.js"],"names":["BX","namespace","Call","FloatingScreenShare","Events","onBackToCallClick","onStopSharingClick","onChangeScreenClick","POPUP_WIDTH","POPUP_HEIGHT","POPUP_OFFSET_X","POPUP_OFFSET_Y","config","this","desktop","darkMode","window","sharedWindowX","sharedWindowY","sharedWindowHeight","sharedWindowWidth","title","app","screens","screenToUse","callbacks","type","isFunction","DoNothing","_onBackToCallClickHandler","_onBackToCallClick","bind","_onStopSharingClickHandler","_onStopSharingClick","_onChangeScreenClickHandler","_onChangeScreenClick","bindEventHandlers","prototype","addCustomEvent","saveExistingScreens","Promise","resolve","reject","length","BXDesktopSystem","ListScreenMedia","result","forEach","item","id","slice","push","x","y","width","height","close","setSharingData","data","then","i","catch","error","console","log","show","BXDesktopWindow","ExecuteCommand","params","getHtmlPage","JSON","stringify","hide","document","visible","destroy","removeCustomEvents","FloatingScreenShareContent","elements","container","render","adjustWindow","create","props","className","children","text","message","events","click","body","appendChild","classList","add","dispatchEvent","blockOffset","popupPadding","leftBlockWidth","querySelector","scrollWidth","centerBlockWidth","rightBlockWidth","fullWidth","style","SetProperty","Width","Height","X","Y","Mode","STP_FRONT","name","convertedParams","mainWindow","opener","top","BXWindows","windowItem","DispatchCustomEvent"],"mappings":"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","file":"floating_screenshare.map.js"}