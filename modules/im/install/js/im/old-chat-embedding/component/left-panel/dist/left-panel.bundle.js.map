{"version":3,"file":"left-panel.bundle.js","sources":["../src/left-panel.js"],"sourcesContent":["import {EventEmitter} from 'main.core.events';\n\nimport {RecentList as RecentListComponent} from 'im.old-chat-embedding.component.recent-list';\nimport {Search as SearchComponent} from 'im.old-chat-embedding.component.search';\nimport {EventType} from 'im.old-chat-embedding.const';\n\n// @vue/component\nexport const LeftPanel = {\n\tcomponents: {RecentListComponent, SearchComponent},\n\tdata: function()\n\t{\n\t\treturn {\n\t\t\tsearchMode: false,\n\t\t\tsearchQuery: '',\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.registerSearchEvents();\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.unregisterSearchEvents();\n\t},\n\tmethods:\n\t{\n\t\tregisterSearchEvents()\n\t\t{\n\t\t\tthis.onOpenSearchHandler = this.onOpenSearch.bind(this);\n\t\t\tthis.onUpdateSearchHandler = this.onUpdateSearch.bind(this);\n\t\t\tthis.onCloseSearchHandler = this.onCloseSearch.bind(this);\n\t\t\tEventEmitter.subscribe(EventType.recent.openSearch, this.onOpenSearchHandler);\n\t\t\tEventEmitter.subscribe(EventType.recent.updateSearch, this.onUpdateSearchHandler);\n\t\t\tEventEmitter.subscribe(EventType.recent.closeSearch, this.onCloseSearchHandler);\n\t\t},\n\t\tunregisterSearchEvents()\n\t\t{\n\t\t\tEventEmitter.unsubscribe(EventType.recent.openSearch, this.onOpenSearchHandler);\n\t\t\tEventEmitter.unsubscribe(EventType.recent.updateSearch, this.onUpdateSearchHandler);\n\t\t\tEventEmitter.unsubscribe(EventType.recent.closeSearch, this.onCloseSearchHandler);\n\t\t},\n\t\tonOpenSearch(event)\n\t\t{\n\t\t\tif (this.searchMode)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.searchMode = true;\n\t\t\tthis.searchQuery = event.data.query;\n\t\t},\n\t\tonUpdateSearch(event)\n\t\t{\n\t\t\tthis.searchMode = true;\n\t\t\tthis.searchQuery = event.data.query;\n\t\t},\n\t\tonCloseSearch()\n\t\t{\n\t\t\tthis.searchQuery = '';\n\t\t\tthis.searchMode = false;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-left-panel-wrap\">\n\t\t\t<SearchComponent v-show=\"searchMode\" :searchMode=\"searchMode\" :searchQuery=\"searchQuery\" />\n\t\t\t<RecentListComponent v-show=\"!searchMode\" />\n\t\t</div>\n\t`\n};"],"names":["LeftPanel","components","RecentListComponent","SearchComponent","data","searchMode","searchQuery","created","registerSearchEvents","beforeUnmount","unregisterSearchEvents","methods","onOpenSearchHandler","onOpenSearch","bind","onUpdateSearchHandler","onUpdateSearch","onCloseSearchHandler","onCloseSearch","EventEmitter","subscribe","EventType","recent","openSearch","updateSearch","closeSearch","unsubscribe","event","query","template"],"mappings":";;;;;;;CAMA;AACA,OAAaA,SAAS,GAAG;GACxBC,UAAU,EAAE;0BAACC,mDAAmB;sBAAEC;IAAgB;GAClDC,IAAI,EAAE,YACN;KACC,OAAO;OACNC,UAAU,EAAE,KAAK;OACjBC,WAAW,EAAE;MACb;IACD;GACDC,OAAO,GACP;KACC,IAAI,CAACC,oBAAoB,EAAE;IAC3B;GACDC,aAAa,GACb;KACC,IAAI,CAACC,sBAAsB,EAAE;IAC7B;GACDC,OAAO,EACP;KACCH,oBAAoB,GACpB;OACC,IAAI,CAACI,mBAAmB,GAAG,IAAI,CAACC,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC;OACvD,IAAI,CAACC,qBAAqB,GAAG,IAAI,CAACC,cAAc,CAACF,IAAI,CAAC,IAAI,CAAC;OAC3D,IAAI,CAACG,oBAAoB,GAAG,IAAI,CAACC,aAAa,CAACJ,IAAI,CAAC,IAAI,CAAC;OACzDK,6BAAY,CAACC,SAAS,CAACC,mCAAS,CAACC,MAAM,CAACC,UAAU,EAAE,IAAI,CAACX,mBAAmB,CAAC;OAC7EO,6BAAY,CAACC,SAAS,CAACC,mCAAS,CAACC,MAAM,CAACE,YAAY,EAAE,IAAI,CAACT,qBAAqB,CAAC;OACjFI,6BAAY,CAACC,SAAS,CAACC,mCAAS,CAACC,MAAM,CAACG,WAAW,EAAE,IAAI,CAACR,oBAAoB,CAAC;MAC/E;KACDP,sBAAsB,GACtB;OACCS,6BAAY,CAACO,WAAW,CAACL,mCAAS,CAACC,MAAM,CAACC,UAAU,EAAE,IAAI,CAACX,mBAAmB,CAAC;OAC/EO,6BAAY,CAACO,WAAW,CAACL,mCAAS,CAACC,MAAM,CAACE,YAAY,EAAE,IAAI,CAACT,qBAAqB,CAAC;OACnFI,6BAAY,CAACO,WAAW,CAACL,mCAAS,CAACC,MAAM,CAACG,WAAW,EAAE,IAAI,CAACR,oBAAoB,CAAC;MACjF;KACDJ,YAAY,CAACc,KAAK,EAClB;OACC,IAAI,IAAI,CAACtB,UAAU,EACnB;SACC;;OAED,IAAI,CAACA,UAAU,GAAG,IAAI;OACtB,IAAI,CAACC,WAAW,GAAGqB,KAAK,CAACvB,IAAI,CAACwB,KAAK;MACnC;KACDZ,cAAc,CAACW,KAAK,EACpB;OACC,IAAI,CAACtB,UAAU,GAAG,IAAI;OACtB,IAAI,CAACC,WAAW,GAAGqB,KAAK,CAACvB,IAAI,CAACwB,KAAK;MACnC;KACDV,aAAa,GACb;OACC,IAAI,CAACZ,WAAW,GAAG,EAAE;OACrB,IAAI,CAACD,UAAU,GAAG,KAAK;;IAExB;GACDwB,QAAQ,EAAG;;;;;;CAMZ,CAAC;;;;;;;;"}