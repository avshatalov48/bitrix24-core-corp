{"version":3,"file":"registry.bundle.map.js","names":["this","BX","Messenger","Embedding","Provider","exports","pull_client","main_core","im_oldChatEmbedding_application_core","im_oldChatEmbedding_lib_logger","im_oldChatEmbedding_lib_user","im_oldChatEmbedding_const","BasePullHandler","constructor","store","Core","getStore","userManager","UserManager","getModuleId","getSubscriptionType","PullClient","SubscriptionType","Server","handleMessage","params","extra","handleMessageAdd","handleMessageChat","Logger","warn","lines","chat","chatId","chatToAdd","dialogId","dispatch","users","setUsersToModel","Object","values","userId","message","senderId","getUserId","fields","counter","handleMessageUpdate","command","execMessageUpdateOrDelete","handleMessageDelete","handleMessageDeleteComplete","handleChatOwner","ownerId","handleChatManagers","managerList","list","handleChatUpdateParams","handleChatUserAdd","userCounter","userCount","handleChatUserLeave","handleStartWriting","userName","handleReadMessage","handleReadMessageChat","handleUnreadMessage","handleUnreadMessageChat","handleUnreadMessageOpponent","execUnreadMessageOpponent","handleUnreadMessageChatOpponent","handleReadAllChats","handleChatMuteNotify","muted","handleUserInvite","invited","id","user","handleChatRename","dialog","getters","name","handleChatAvatar","avatar","RecentPullHandler","currentUserId","state","application","common","userInChat","includes","attach","Type","isArray","file","files","newRecentItem","text","date","recentItem","options","birthdayPlaceholder","liked","usersModel","botList","type","setTimeout","getWaitTimeForHumanBot","Loc","getMessage","status","withFile","withAttach","handleReadMessageOpponent","lastReadMessage","Number","parseInt","lastId","MessageStatus","delivered","handleReadMessageChatOpponent","received","chatMessageStatus","handleMessageLike","isUndefined","MessengerProxy","currentDialogId","getCurrentDialogId","isOwnLike","isOwnLastMessage","messageId","set","handleChatPin","action","active","handleChatUnread","handleChatHide","_params$invited","INITIAL_WAIT","WAIT_PER_WORD","WAIT_LIMIT","waitTime","split","length","Pull","Application","Lib","Const"],"sources":["registry.bundle.js"],"mappings":"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"}