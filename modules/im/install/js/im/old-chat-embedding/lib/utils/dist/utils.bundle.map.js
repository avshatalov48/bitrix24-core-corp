{"version":3,"file":"utils.bundle.map.js","names":["this","BX","Messenger","Embedding","exports","main_date","im_oldChatEmbedding_const","main_core","UA","navigator","userAgent","toLowerCase","BrowserUtil","isChrome","Browser","isFirefox","isIe","isIE","isSafari","includes","isSafariBased","findParent","item","findTag","isHtmlElement","HTMLElement","Type","isString","document","parentNode","Dom","hasClass","openLink","link","target","window","open","DateUtil","getFormatType","type","DateFormat","default","format","groupTitle","Loc","getMessage","message","recentTitle","recentLinesTitle","readedTitle","vacationTitle","getDateFunction","localize","dateFormatFunction","Object","create","Main","Date","_getMessage","phrase","timestamp","cast","date","def","result","isNumber","Number","isNaN","getTime","getTimeToNextMidnight","nextMidnight","setHours","now","getStartOfTheDay","isToday","toDateString","UA$1","DeviceUtil","isDesktop","isMobile","isUndefined","isMobileStatic","orientationHorizontal","orientationPortrait","getOrientation","Math","abs","orientation","UA$2","PlatformUtil","isMac","isLinux","isWindows","isWin","isBitrixMobile","isBitrixDesktop","getDesktopVersion","getDesktopVersionStatic","BXDesktopSystem","version","GetProperty","isDesktopFeatureEnabled","code","isFunction","FeatureEnabled","isAndroid","isIos","isIOS","getIosVersion","matches","match","parseFloat","openNewPage","url","MobileTools","openWidget","resolveOpenFunction","app","RestUtil","getLogTrackingParams","params","name","data","dialog","files","encodeURIComponent","isPlainObject","dataArray","hasOwnProperty","push","isArray","isObjectLike","entityId","split","isNull","length","join","TextUtil","convertHtmlEntities","text","tag","html","innerText","convertSnakeToCamelCase","replace","$1","toUpperCase","escapeRegex","string","getLocalizeForNumber","number","language","pluralFormType","parseInt","getFirstLetters","validSymbolsPattern","words","filter","word","firstLetter","charAt","test","insertUnseenWhitespace","splitIndex","UNSEEN_SPACE","firstPart","slice","secondPart","hasWhitespace","hasUserCode","getUuidV4","c","r","random","v","toString","isUuidV4","uuid","uuidV4pattern","RegExp","search","isTempMessage","messageId","startsWith","checkUrl","allowList","checkCorrectStartLink","find","protocol","element","attrs","href","indexOf","htmlspecialchars","Text","encode","htmlspecialcharsback","decode","settings","Extension","getSettings","UserUtil","getLastDateText","bot","network","lastActivityDate","isOnline","isMobileOnline","mobileLastDate","lastSeenText","getLastSeenText","idle","getIdleText","getStatusTextForLastDate","status","phraseCode","gender","absent","dateFunction","vacationFormat","vacationText","getOnlineLimit","FIVE_MINUTES","_Loc$getMessage","getStatusText","_Loc$getMessage2","formatLastActivityDate","isBirthdayToday","birthday","limitOnline","get","FIFTEEN_MINUTES","getProfileLink","userId","getCalendarLink","path","getMentionBbCode","FileUtil","getFileExtension","fileName","splice","getIconTypeByFilename","extension","getIconTypeByExtension","icon","getFileTypeByExtension","FileType","file","image","video","audio","formatFileSize","fileSize","sizes","KILOBYTE_SIZE","position","roundedSize","round","getShortFileName","maxLength","DOT_LENGTH","SYMBOLS_TO_TAKE_BEFORE_EXTENSION","symbolsToTakeFromEnd","trim","getViewerDataAttributes","viewerAttributes","viewerType","objectId","src","viewerGroupBy","title","actions","isImage","fileType","DomUtil","recursiveBackwardNodeSearch","node","className","maxNodeLevel","DialogUtil","isDialogId","dialogId","Utils","browser","device","platform","rest","user","dom","Lib","Const"],"sources":["utils.bundle.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,UAAYF,KAAKC,GAAGC,WAAa,CAAC,EAC1CF,KAAKC,GAAGC,UAAUC,UAAYH,KAAKC,GAAGC,UAAUC,WAAa,CAAC,GAC7D,SAAUC,EAAQC,EAAUC,EAA0BC,GACtD,aAEA,MAAMC,EAAKC,UAAUC,UAAUC,cAC/B,MAAMC,EAAc,CAClBC,WACE,OAAON,EAAUO,QAAQD,UAC3B,EACAE,YACE,OAAOR,EAAUO,QAAQC,WAC3B,EACAC,OACE,OAAOT,EAAUO,QAAQG,MAC3B,EACAC,WACE,GAAIlB,KAAKa,WAAY,CACnB,OAAO,KACT,CACA,IAAKL,EAAGW,SAAS,UAAW,CAC1B,OAAO,KACT,CACA,OAAQnB,KAAKoB,eACf,EACAA,gBACE,IAAKZ,EAAGW,SAAS,eAAgB,CAC/B,OAAO,KACT,CACA,OAAOX,EAAGW,SAAS,cAAgBX,EAAGW,SAAS,sBAAwBX,EAAGW,SAAS,QACrF,EACAE,WAAWC,EAAMC,GACf,MAAMC,EAAgBD,aAAmBE,YACzC,IAAKF,IAAYhB,EAAUmB,KAAKC,SAASJ,KAAaC,EAAe,CACnE,OAAO,IACT,CACA,KAAOF,GAAQA,IAASM,SAAUN,EAAOA,EAAKO,WAAY,CACxD,GAAItB,EAAUmB,KAAKC,SAASJ,GAAU,CACpC,GAAIhB,EAAUuB,IAAIC,SAASR,GAAU,CACnC,OAAOD,CACT,CACF,MAAO,GAAIE,GAAiBF,IAASC,EAAS,CAC5C,OAAOD,CACT,CACF,CACA,OAAO,IACT,EACAU,SAASC,EAAMC,EAAS,UACtBC,OAAOC,KAAKH,EAAMC,EAAQ,GAAI,MAC9B,OAAO,IACT,GAGF,MAAMG,EAAW,CACfC,cAAcC,EAAOjC,EAA0BkC,WAAWC,SACxD,IAAIC,EAAS,GACb,GAAIH,IAASjC,EAA0BkC,WAAWG,WAAY,CAC5DD,EAAS,CAAC,CAAC,WAAY,YAAa,CAAC,QAAS,SAAU,CAAC,YAAa,aAAc,CAAC,GAAInC,EAAUqC,IAAIC,WAAW,yBACpH,MAAO,GAAIN,IAASjC,EAA0BkC,WAAWM,QAAS,CAChEJ,EAAS,CAAC,CAAC,GAAInC,EAAUqC,IAAIC,WAAW,yBAC1C,MAAO,GAAIN,IAASjC,EAA0BkC,WAAWO,YAAa,CACpEL,EAAS,CAAC,CAAC,WAAY,SAAU,CAAC,QAAS,SAAU,CAAC,YAAa,aAAc,CAAC,GAAInC,EAAUqC,IAAIC,WAAW,gCACjH,MAAO,GAAIN,IAASjC,EAA0BkC,WAAWQ,iBAAkB,CACzEN,EAAS,CAAC,CAAC,WAAY,YAAa,CAAC,QAAS,SAAU,CAAC,YAAa,aAAc,CAAC,GAAInC,EAAUqC,IAAIC,WAAW,gCACpH,MAAO,GAAIN,IAASjC,EAA0BkC,WAAWS,YAAa,CACpEP,EAAS,CAAC,CAAC,WAAY,aAAenC,EAAUqC,IAAIC,WAAW,yBAA0B,CAAC,QAAS,UAAYtC,EAAUqC,IAAIC,WAAW,yBAA0B,CAAC,YAAa,cAAgBtC,EAAUqC,IAAIC,WAAW,yBAA0B,CAAC,GAAItC,EAAUqC,IAAIC,WAAW,2BACnR,MAAO,GAAIN,IAASjC,EAA0BkC,WAAWU,cAAe,CACtER,EAAS,CAAC,CAAC,GAAInC,EAAUqC,IAAIC,WAAW,+BAC1C,KAAO,CACLH,EAAS,CAAC,CAAC,WAAY,aAAenC,EAAUqC,IAAIC,WAAW,yBAA0B,CAAC,QAAS,UAAYtC,EAAUqC,IAAIC,WAAW,yBAA0B,CAAC,YAAa,cAAgBtC,EAAUqC,IAAIC,WAAW,yBAA0B,CAAC,GAAItC,EAAUqC,IAAIC,WAAW,8BACnR,CACA,OAAOH,CACT,EACAS,gBAAgBC,EAAW,MACzB,GAAIpD,KAAKqD,mBAAoB,CAC3B,OAAOrD,KAAKqD,kBACd,CACArD,KAAKqD,mBAAqBC,OAAOC,OAAOtD,GAAGuD,KAAKC,MAChD,GAAIL,EAAU,CAEZpD,KAAKqD,mBAAmBK,YAAcC,GAAUP,EAASO,EAC3D,CACA,OAAO3D,KAAKqD,kBACd,EACAX,OAAOkB,EAAWlB,EAAS,KAAMU,EAAW,MAC1C,IAAKV,EAAQ,CACXA,EAAS1C,KAAKsC,cAAchC,EAA0BkC,WAAWC,QAASW,EAC5E,CACA,OAAOpD,KAAKmD,gBAAgBC,GAAUV,OAAOA,EAAQkB,EACvD,EACAC,KAAKC,EAAMC,EAAM,IAAIN,MACnB,IAAIO,EAASD,EACb,GAAID,aAAgBL,KAAM,CACxBO,EAASF,CACX,MAAO,GAAIvD,EAAUmB,KAAKC,SAASmC,GAAO,CACxCE,EAAS,IAAIP,KAAKK,EACpB,MAAO,GAAIvD,EAAUmB,KAAKuC,SAASH,GAAO,CACxCE,EAAS,IAAIP,KAAKK,EAAO,IAC3B,CACA,GAAIE,aAAkBP,MAAQS,OAAOC,MAAMH,EAAOI,WAAY,CAC5DJ,EAASD,CACX,CACA,OAAOC,CACT,EACAK,wBACE,MAAMC,EAAe,IAAIb,MAAK,IAAIA,MAAOc,SAAS,GAAI,EAAG,IAAIH,UAC7D,OAAOE,EAAeb,KAAKe,KAC7B,EACAC,mBACE,OAAO,IAAIhB,MAAK,IAAIA,MAAOc,SAAS,EAAG,GACzC,EACAG,QAAQZ,GACN,OAAO9D,KAAK6D,KAAKC,GAAMa,kBAAmB,IAAIlB,MAAOkB,cACvD,GAGF,MAAMC,EAAOnE,UAAUC,UAAUC,cACjC,MAAMkE,EAAa,CACjBC,YACE,OAAQ9E,KAAK+E,UACf,EACAA,WACE,IAAKxE,EAAUmB,KAAKsD,YAAYhF,KAAKiF,gBAAiB,CACpD,OAAOjF,KAAKiF,cACd,CACAjF,KAAKiF,eAAiBL,EAAKzD,SAAS,YAAcyD,EAAKzD,SAAS,UAAYyD,EAAKzD,SAAS,WAAayD,EAAKzD,SAAS,SAAWyD,EAAKzD,SAAS,SAAWyD,EAAKzD,SAAS,eAAiByD,EAAKzD,SAAS,iBACtM,OAAOnB,KAAKiF,cACd,EACAC,sBAAuB,aACvBC,oBAAqB,WACrBC,iBACE,IAAKpF,KAAK+E,WAAY,CACpB,OAAO/E,KAAKkF,qBACd,CACA,OAAOG,KAAKC,IAAInD,OAAOoD,eAAiB,EAAIvF,KAAKmF,oBAAsBnF,KAAKkF,qBAC9E,GAGF,MAAMM,EAAO/E,UAAUC,UAAUC,cACjC,MAAM8E,EAAe,CACnBC,QACE,OAAOnF,EAAUO,QAAQ4E,OAC3B,EACAC,UACE,OAAOpF,EAAUO,QAAQ6E,SAC3B,EACAC,YACE,OAAOrF,EAAUO,QAAQ+E,UAAY7F,KAAK0F,UAAY1F,KAAK2F,SAC7D,EACAG,iBACE,OAAON,EAAKrE,SAAS,eACvB,EACA4E,kBACE,OAAOP,EAAKrE,SAAS,gBACvB,EACA6E,oBACE,IAAKzF,EAAUmB,KAAKsD,YAAYhF,KAAKiG,yBAA0B,CAC7D,OAAOjG,KAAKiG,uBACd,CACA,GAAI1F,EAAUmB,KAAKsD,YAAY7C,OAAO+D,iBAAkB,CACtD,OAAO,CACT,CACA,MAAMC,EAAUhE,OAAO+D,gBAAgBE,YAAY,gBACnDpG,KAAKiG,wBAA0BE,EAAQ,GACvC,OAAOnG,KAAKiG,uBACd,EACAI,wBAAwBC,GACtB,IAAKtG,KAAK+F,oBAAsBxF,EAAUmB,KAAK6E,WAAWL,gBAAgBM,gBAAiB,CACzF,OAAO,KACT,CACA,QAASN,gBAAgBM,eAAeF,EAC1C,EACAvB,WACE,OAAO/E,KAAKyG,aAAezG,KAAK0G,SAAW1G,KAAK8F,gBAClD,EACAY,QACE,OAAOnG,EAAUO,QAAQ6F,OAC3B,EACAC,gBACE,IAAK5G,KAAK0G,QAAS,CACjB,OAAO,IACT,CACA,MAAMG,EAAUrB,EAAKsB,MAAM,mDAC3B,IAAKD,IAAYA,EAAQ,GAAI,CAC3B,OAAO,IACT,CACA,OAAOE,WAAWF,EAAQ,GAAK,KAAOA,EAAQ,GAAKA,EAAQ,GAAK,GAClE,EACAJ,YACE,OAAOlG,EAAUO,QAAQ2F,WAC3B,EACAO,YAAYC,GACV,IAAKA,EAAK,CACR,OAAO,KACT,CACA,GAAIjH,KAAK8F,iBAAkB,CACzB,MAAMoB,EAAc/E,OAAOlC,GAAGiH,YAC9B,GAAI3G,EAAUmB,KAAKsD,cAAe,CAChC,MAAMmC,EAAaD,EAAYE,oBAAoBH,GACnD,GAAIE,EAAY,CACdA,IACA,OAAO,IACT,CACF,CACAhF,OAAOkF,IAAIL,YAAYC,GACvB,OAAO,IACT,CACA9E,OAAOC,KAAK6E,EAAK,UACjB,OAAO,IACT,GAGF,MAAMK,EAAW,CACfC,qBAAqBC,EAAS,CAAC,GAC7B,MAAMxD,EAAS,GACf,IAAIyD,KACFA,EAAO,WAAUC,KACjBA,EAAO,IACLF,EACJ,MAAMG,OACJA,EAAS,KAAI7E,QACbA,EAAU,KAAI8E,MACdA,EAAQ,MACNJ,EACJC,EAAOI,mBAAmBJ,GAC1B,GAAIlH,EAAUmB,KAAKoG,cAAcJ,GAAO,CACtC,MAAMK,EAAY,GAClB,IAAK,MAAMN,KAAQC,EAAM,CACvB,GAAIA,EAAKM,eAAeP,GAAO,CAC7BM,EAAUE,KAAKJ,mBAAmBJ,GAAQ,IAAMI,mBAAmBH,EAAKD,IAC1E,CACF,CACAC,EAAOK,CACT,MAAO,IAAKxH,EAAUmB,KAAKwG,QAAQR,GAAO,CACxCA,EAAO,EACT,CACA,GAAInH,EAAUmB,KAAKyG,aAAaR,GAAS,CACvC3D,EAAOiE,KAAK,WAAaN,EAAOpF,MAChC,GAAIoF,EAAOpF,OAAS,QAAS,CAC3ByB,EAAOiE,KAAK,gBAAkBN,EAAOS,SAASC,MAAM,KAAK,GAC3D,CACF,CACA,IAAK9H,EAAUmB,KAAK4G,OAAOV,GAAQ,CACjC,IAAIrF,EAAO,OACX,GAAIhC,EAAUmB,KAAKwG,QAAQN,IAAUA,EAAM,GAAI,CAC7CrF,EAAOqF,EAAM,GAAGrF,IAClB,MAAO,GAAIhC,EAAUmB,KAAKyG,aAAaP,GAAQ,CAC7CrF,EAAOqF,EAAMrF,IACf,CACAyB,EAAOiE,KAAK,kBAAoB1F,EAClC,MAAO,IAAKhC,EAAUmB,KAAK4G,OAAOxF,GAAU,CAC1CkB,EAAOiE,KAAK,sBACd,CACA,GAAIxC,EAAaK,iBAAkB,CACjC9B,EAAOiE,KAAK,yBACd,MAAO,GAAIxC,EAAaM,kBAAmB,CACzC/B,EAAOiE,KAAK,0BACd,MAAO,GAAIxC,EAAaiB,SAAWjB,EAAagB,YAAa,CAC3DzC,EAAOiE,KAAK,mBACd,KAAO,CACLjE,EAAOiE,KAAK,gBACd,CACA,OAAOR,GAAQC,EAAKa,OAAS,IAAMb,EAAKc,KAAK,KAAO,KAAOxE,EAAOuE,OAAS,IAAMvE,EAAOwE,KAAK,KAAO,GACtG,GAGF,MAAMC,EAAW,CACfC,oBAAoBC,GAClB,OAAOpI,EAAUuB,IAAIyB,OAAO,CAC1BqF,IAAK,OACLC,KAAMF,IACLG,SACL,EACAC,wBAAwBJ,GACtB,OAAOA,EAAKK,QAAQ,cAAcC,GACzBA,EAAGC,cAAcF,QAAQ,IAAK,KAEzC,EACAG,YAAYC,GACV,OAAOA,EAAOJ,QAAQ,yBAA0B,OAClD,EACAK,qBAAqB1F,EAAQ2F,EAAQC,EAAW,MAC9C,IAAIC,EAAiB,EACrBF,EAASG,SAASH,GAClB,GAAIA,EAAS,EAAG,CACdA,EAASA,GAAU,CACrB,CACA,GAAIC,EAAU,CACZ,OAAQA,GACN,IAAK,KACL,IAAK,KACHC,EAAiBF,IAAW,EAAI,EAAI,EACpC,MACF,IAAK,KACL,IAAK,KACHE,EAAiBF,EAAS,KAAO,GAAKA,EAAS,MAAQ,GAAK,EAAIA,EAAS,IAAM,GAAKA,EAAS,IAAM,IAAMA,EAAS,IAAM,IAAMA,EAAS,KAAO,IAAM,EAAI,EACxJ,MAEN,CACA,OAAO/I,EAAUqC,IAAIC,WAAWc,EAAS,WAAa6F,EACxD,EACAE,gBAAgBf,GACd,MAAMgB,EAAsB,iBAC5B,MAAMC,EAAQjB,EAAKN,MAAM,SAASwB,QAAOC,IACvC,MAAMC,EAAcD,EAAKE,OAAO,GAChC,OAAOL,EAAoBM,KAAKF,EAAY,IAE9C,GAAIH,EAAMrB,SAAW,EAAG,CACtB,MAAO,EACT,CACA,GAAIqB,EAAMrB,OAAS,EAAG,CACpB,OAAOqB,EAAM,GAAGI,OAAO,GAAKJ,EAAM,GAAGI,OAAO,EAC9C,CACA,OAAOJ,EAAM,GAAGI,OAAO,EACzB,EACAE,uBAAuBvB,EAAMwB,GAC3B,GAAIxB,EAAKJ,QAAU4B,EAAY,CAC7B,OAAOxB,CACT,CACA,MAAMyB,EAAe,SACrB,IAAIC,EAAY1B,EAAK2B,MAAM,EAAGH,EAAa,GAC3C,MAAMI,EAAa5B,EAAK2B,MAAMH,EAAa,GAC3C,MAAMK,EAAgB,KAAKP,KAAKI,GAChC,MAAMI,EAAc,+CAA+CR,KAAKtB,GACxE,GAAI0B,EAAU9B,SAAW4B,EAAa,IAAMK,IAAkBC,EAAa,CACzEJ,GAAaD,CACf,CACA,OAAOC,EAAYE,CACrB,EACAG,YACE,MAAO,uCAAuC1B,QAAQ,SAAS2B,IAC7D,IAAIC,EAAIvF,KAAKwF,SAAW,GAAK,EAC3BC,EAAIH,GAAK,IAAMC,EAAIA,EAAI,EAAM,EAC/B,OAAOE,EAAEC,SAAS,GAAG,GAEzB,EACAC,SAASC,GACP,IAAK1K,EAAUmB,KAAKC,SAASsJ,GAAO,CAClC,OAAO,KACT,CACA,MAAMC,EAAgB,IAAIC,OAAO,0EACjC,OAAOF,EAAKG,OAAOF,KAAmB,CACxC,EACAG,cAAcC,GACZ,OAAOtL,KAAKgL,SAASM,IAAcA,EAAUP,WAAWQ,WAAW,OACrE,EACAC,SAASvE,GACP,MAAMwE,EAAY,CAAC,QAAS,SAAU,OAAQ,QAAS,OAAQ,UAAW,UAAW,SAAU,UAC/F,MAAMC,EAAwB,CAAC,OAAQD,GAAWE,MAAKC,GAC9C3E,EAAIsE,WAAWK,KAExB,IAAKF,EAAuB,CAC1B,OAAO,KACT,CACA,MAAMG,EAAUtL,EAAUuB,IAAIyB,OAAO,CACnCqF,IAAK,IACLkD,MAAO,CACLC,KAAM9E,KAGV,OAAOwE,EAAUO,QAAQH,EAAQD,WAAa,CAChD,EAKAK,iBAAiBtD,GACf,OAAOpI,EAAU2L,KAAKC,OAAOxD,EAC/B,EAKAyD,qBAAqBzD,GACnB,OAAOpI,EAAU2L,KAAKG,OAAO1D,EAC/B,GAGF,MAAM2D,EAAW/L,EAAUgM,UAAUC,YAAY,mCACjD,MAAMC,EAAW,CACfC,gBAAgBlF,EAAS,CAAC,GACxB,GAAIA,EAAOmF,KAAOnF,EAAOoF,UAAYpF,EAAOqF,iBAAkB,CAC5D,MAAO,EACT,CACA,MAAMC,EAAW9M,KAAK8M,SAAStF,EAAOqF,kBACtC,MAAME,EAAiB/M,KAAK+M,eAAevF,EAAOqF,iBAAkBrF,EAAOwF,gBAC3E,IAAIrE,EAAO,GACX,MAAMsE,EAAejN,KAAKkN,gBAAgB1F,EAAOqF,kBAGjD,GAAIC,GAAYtF,EAAO2F,OAASJ,EAAgB,CAC9CpE,EAAOpI,EAAUqC,IAAIC,WAAW,wBAAwBmG,QAAQ,SAAUhJ,KAAKoN,YAAY5F,EAAO2F,MACpG,MAEK,GAAIL,IAAaG,EAAc,CAClCtE,EAAO3I,KAAKqN,yBAAyB7F,EAAO8F,OAC9C,MAEK,GAAIL,EAAc,CACrB,MAAMM,EAAa,gBAAgB/F,EAAOgG,SAC1C7E,EAAOpI,EAAUqC,IAAIC,WAAW0K,GAAYvE,QAAQ,eAAgB,IAAIA,QAAQ,cAAeiE,EACjG,CAGA,GAAIzF,EAAOiG,OAAQ,CACjB,MAAMC,EAAerL,EAASc,kBAC9B,MAAMwK,EAAiBtL,EAASC,cAAchC,EAA0BkC,WAAWU,eACnF,MAAM0K,EAAerN,EAAUqC,IAAIC,WAAW,4BAA4BmG,QAAQ,SAAU0E,EAAahL,OAAOiL,EAAgBnG,EAAOiG,OAAOrJ,UAAY,MAC1JuE,EAAOA,EAAO,GAAGA,MAASiF,IAAiBA,CAC7C,CACA,OAAOjF,CACT,EACAyE,YAAYD,EAAO,IACjB,IAAKA,EAAM,CACT,MAAO,EACT,CACA,OAAO9K,EAASc,kBAAkBT,OAAO,CAAC,CAAC,MAAO,SAAU,CAAC,MAAO,SAAU,CAAC,MAAO,SAAU,CAAC,GAAI,UAAWyK,EAClH,EACAL,SAASD,GACP,IAAKA,EAAkB,CACrB,OAAO,KACT,CACA,OAAOpJ,KAAKe,MAAQqI,EAAiBzI,WAAapE,KAAK6N,iBAAmB,GAC5E,EACAd,eAAeF,EAAkBG,GAC/B,IAAKH,IAAqBG,EAAgB,CACxC,OAAO,KACT,CACA,MAAMc,EAAe,EAAI,GAAK,IAC9B,OAAOrK,KAAKe,MAAQwI,EAAe5I,UAAYpE,KAAK6N,iBAAmB,KAAQhB,EAAmBG,EAAiBc,CACrH,EACAT,yBAAyBC,GACvB,IAAIS,EACJT,EAASA,EAAOpE,cAChB,OAAQ6E,EAAkBxN,EAAUqC,IAAIC,WAAW,aAAayK,OAAc,KAAOS,EAAkBT,CACzG,EACAU,cAAcV,GACZ,IAAIW,EACJX,EAASA,EAAOpE,cAChB,OAAQ+E,EAAmB1N,EAAUqC,IAAIC,WAAW,kBAAkByK,OAAc,KAAOW,EAAmBX,CAChH,EACAJ,gBAAgBL,GACd,IAAKA,EAAkB,CACrB,MAAO,EACT,CACA,MAAMiB,EAAe,EAAI,GAAK,IAC9B,GAAIrK,KAAKe,MAAQqI,EAAiBzI,UAAY0J,EAAc,CAC1D,OAAOzL,EAASc,kBAAkB+K,uBAAuBrB,EAC3D,CACA,MAAO,EACT,EACAsB,gBAAgBC,GACd,OAAOA,IAAa/L,EAASK,OAAO,IAAIe,KAAQ,MAClD,EACAoK,iBACE,MAAMQ,EAAc/B,EAASgC,IAAI,cAAe,OAChD,MAAMC,EAAkB,GAAK,GAC7B,OAAOF,EAAcnK,OAAOuF,SAAS4E,EAAa,IAAME,CAC1D,EACAC,eAAeC,GACb,GAAIlO,EAAUmB,KAAKC,SAAS8M,GAAS,CACnCA,EAASvK,OAAOuF,SAASgF,EAAQ,GACnC,CACA,MAAO,0BAA0BA,IACnC,EACAC,gBAAgBD,GACd,GAAIlO,EAAUmB,KAAKC,SAAS8M,GAAS,CACnCA,EAASvK,OAAOuF,SAASgF,EAAQ,GACnC,CACA,MAAME,EAAOpO,EAAUgM,UAAUC,YAAY,mCAAmC8B,IAAI,sBACpF,OAAOK,EAAK3F,QAAQ,YAAayF,EACnC,EACAG,iBAAiBH,EAAQhH,GACvB,GAAIlH,EAAUmB,KAAKC,SAAS8M,GAAS,CACnCA,EAASvK,OAAOuF,SAASgF,EAAQ,GACnC,CACA,MAAO,SAASA,KAAUhH,UAC5B,GAGF,MAAMoH,EAAW,CACfC,iBAAiBC,GACf,OAAOA,EAAS1G,MAAM,KAAK2G,QAAQ,GAAG,EACxC,EACAC,sBAAsBF,GACpB,MAAMG,EAAYlP,KAAK8O,iBAAiBC,GACxC,OAAO/O,KAAKmP,uBAAuBD,EACrC,EACAC,uBAAuBD,GACrB,IAAIE,EAAO,QACX,OAAQF,EAAUnE,YAChB,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,OACHqE,EAAO,MACP,MACF,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACHA,EAAO,MACP,MACF,IAAK,MACHA,EAAO,MACP,MACF,IAAK,MACL,IAAK,OACHA,EAAO,MACP,MACF,IAAK,MACL,IAAK,OACHA,EAAO,MACP,MACF,IAAK,MACHA,EAAO,MACP,MACF,IAAK,MACHA,EAAO,MACP,MACF,IAAK,MACL,IAAK,OACHA,EAAO,MACP,MACF,IAAK,MACHA,EAAO,MACP,MACF,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,OACHA,EAAO,MACP,MACF,IAAK,MACHA,EAAO,MACP,MACF,IAAK,OACL,IAAK,MACL,IAAK,QACHA,EAAO,MACP,MAEJ,OAAOA,CACT,EACAC,uBAAuBH,GACrB,IAAI3M,EAAOjC,EAA0BgP,SAASC,KAC9C,OAAQL,GACN,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,OACH3M,EAAOjC,EAA0BgP,SAASE,MAC1C,MACF,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACHjN,EAAOjC,EAA0BgP,SAASG,MAC1C,MACF,IAAK,MACHlN,EAAOjC,EAA0BgP,SAASI,MAC1C,MAEJ,OAAOnN,CACT,EACAoN,eAAeC,GACb,IAAKA,GAAYA,GAAY,EAAG,CAC9BA,EAAW,CACb,CACA,MAAMC,EAAQ,CAAC,OAAQ,KAAM,KAAM,KAAM,MACzC,MAAMC,EAAgB,KACtB,IAAIC,EAAW,EACf,MAAOH,GAAYE,GAAiBC,EAAWF,EAAMtH,OAAS,EAAG,CAC/DqH,GAAYE,EACZC,GACF,CACA,MAAMpM,EAASpD,EAAUqC,IAAIC,WAAW,sBAAsBgN,EAAME,MACpE,MAAMC,EAAc3K,KAAK4K,MAAML,GAC/B,MAAO,GAAGI,KAAerM,GAC3B,EACAuM,iBAAiBnB,EAAUoB,GACzB,IAAKpB,GAAYA,EAASxG,OAAS4H,EAAW,CAC5C,OAAOpB,CACT,CACA,MAAMqB,EAAa,EACnB,MAAMC,EAAmC,GACzC,MAAMnB,EAAYlP,KAAK8O,iBAAiBC,GACxC,MAAMuB,EAAuBpB,EAAU3G,OAAS6H,EAAaC,EAC7D,MAAM9F,EAAawE,EAASzE,OAAOgG,GACnC,MAAMjG,EAAY0E,EAASzE,MAAM,EAAG6F,EAAY5F,EAAWhC,OAAS6H,EAAa,GACjF,MAAO,GAAG/F,EAAUkG,YAAYhG,EAAWgG,QAC7C,EACAC,wBAAwBC,GACtB,IAAKA,EAAkB,CACrB,MAAO,CAAC,CACV,CACA,MAAO,CACL,cAAe,KACf,mBAAoBA,EAAiBC,WACrC,iBAAkBD,EAAiBE,SACnC,WAAYF,EAAiBG,IAC7B,uBAAwBH,EAAiBI,cACzC,aAAcJ,EAAiBK,MAC/B,eAAgBL,EAAiBM,QAErC,EACAC,QAAQjC,GACN,MAAMG,EAAYL,EAASC,iBAAiBC,GAC5C,MAAMkC,EAAWpC,EAASQ,uBAAuBH,GACjD,OAAO+B,IAAa3Q,EAA0BgP,SAASE,KACzD,GAGF,MAAM0B,EAAU,CACdC,4BAA4BC,EAAMC,EAAWC,EAAe,IAC1D,MAAOA,EAAe,EAAG,CACvB,GAAI/Q,EAAUuB,IAAIC,SAASqP,EAAMC,GAAY,CAC3C,OAAOD,CACT,CACA,IAAKA,IAASA,EAAKvP,WAAY,CAC7B,OAAO,IACT,CACAuP,EAAOA,EAAKvP,WACZyP,GACF,CACA,OAAO,IACT,GAGF,MAAMC,EAAa,CACjBC,WAAWC,GACT,MAAO,iBAAiBxH,KAAKwH,EAC/B,GAGF,MAAMC,EAAQ,CACZC,QAAS/Q,EACTkD,KAAMzB,EACNuP,OAAQ/M,EACRgN,SAAUpM,EACVqM,KAAMxK,EACNqB,KAAMF,EACNsJ,KAAMtF,EACN8C,KAAMV,EACNmD,IAAKd,EACLvJ,OAAQ4J,GAGVnR,EAAQsR,MAAQA,CAEjB,EAjqBA,CAiqBG1R,KAAKC,GAAGC,UAAUC,UAAU8R,IAAMjS,KAAKC,GAAGC,UAAUC,UAAU8R,KAAO,CAAC,EAAGhS,GAAGuD,KAAKvD,GAAGC,UAAUC,UAAU+R,MAAMjS"}