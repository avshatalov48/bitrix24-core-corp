this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,i,s){"use strict";var n=babelHelpers.classPrivateFieldLooseKey("applicationName");class r{constructor(e={}){this.inited=false;this.initPromise=null;this.initPromiseResolver=null;this.rootNode=null;this.vueInstance=null;this.controller=null;this.bitrixVue=null;Object.defineProperty(this,n,{writable:true,value:"Messenger"});this.initPromise=new Promise((e=>{this.initPromiseResolver=e}));this.params=e;this.rootNode=this.params.node||document.createElement("div");this.initCore().then((()=>this.initPullHandlers())).then((()=>this.initComplete()))}async initCore(){t.Core.setApplicationData(this.params);this.controller=await t.Core.ready();return true}initPullHandlers(){this.controller.pullClient.subscribe(new s.SidebarPullHandler);return Promise.resolve()}initComplete(){this.inited=true;this.initPromiseResolver(this)}async initComponent(e){this.unmountComponent();this.vueInstance=await this.controller.createVue(this,{name:babelHelpers.classPrivateFieldLooseBase(this,n)[n],el:e||this.rootNode,components:{MessengerComponent:i.Messenger},template:"<MessengerComponent />"});return true}unmountComponent(){if(!this.vueInstance){return}this.bitrixVue.unmount();this.vueInstance=null}ready(){if(this.inited){return Promise.resolve(this)}return this.initPromise}}e.MessengerApplication=r})(this.BX.Messenger.v2.Application=this.BX.Messenger.v2.Application||{},BX.Messenger.v2.Application,BX.Messenger.v2.Component,BX.Messenger.v2.Provider.Pull);
//# sourceMappingURL=messenger.bundle.map.js