{"version":3,"file":"launch.bundle.js","sources":["../src/launch.js"],"sourcesContent":["import {Logger} from 'im.v2.lib.logger';\n\nconst ApplicationLauncher = function (app, params = {})\n{\n\tlet application = '';\n\tlet name = '';\n\n\tif (typeof app === 'object')\n\t{\n\t\tname = app.name.toString();\n\t\tapplication = app.application.toString();\n\t}\n\telse\n\t{\n\t\tname = app.toString();\n\t\tapplication = app;\n\t}\n\n\tapplication = application.slice(0, 1).toUpperCase() + application.slice(1);\n\n\tif (application === 'Launch' || application === 'Core' || application.endsWith('Application'))\n\t{\n\t\tLogger.error('BX.Messenger.Application.Launch: specified name is forbidden.');\n\n\t\treturn Promise.reject();\n\t}\n\n\tconst launch = function()\n\t{\n\t\ttry {\n\t\t\tBX.Messenger.v2.Application[name] = new BX.Messenger.v2.Application[`${application}Application`](params);\n\n\t\t\treturn BX.Messenger.v2.Application[name].ready();\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tLogger.error(`BX.Messenger.Application.Launch: application \"${application}\" is not initialized.`, error);\n\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tif (!BX.Messenger.v2.Application[`${application}Application`] && BX?.Runtime?.loadExtension)\n\t{\n\t\tconst loadExtension = `im.application.${application.toString().toLowerCase()}`;\n\n\t\treturn BX.Runtime.loadExtension(loadExtension).then(() => launch());\n\t}\n\n\treturn launch();\n};\n\nexport {ApplicationLauncher as Launch};"],"names":["ApplicationLauncher","app","params","application","name","toString","slice","toUpperCase","endsWith","Logger","error","Promise","reject","launch","BX","Messenger","v2","Application","ready","Runtime","loadExtension","toLowerCase","then"],"mappings":";;;;;;OAEMA,mBAAmB,GAAG,UAAUC,GAAV,EAAeC,MAAM,GAAG,EAAxB,EAC5B;CAAA;;CACC,MAAIC,WAAW,GAAG,EAAlB;CACA,MAAIC,IAAI,GAAG,EAAX;;CAEA,MAAI,OAAOH,GAAP,KAAe,QAAnB,EACA;CACCG,IAAAA,IAAI,GAAGH,GAAG,CAACG,IAAJ,CAASC,QAAT,EAAP;CACAF,IAAAA,WAAW,GAAGF,GAAG,CAACE,WAAJ,CAAgBE,QAAhB,EAAd;CACA,GAJD,MAMA;CACCD,IAAAA,IAAI,GAAGH,GAAG,CAACI,QAAJ,EAAP;CACAF,IAAAA,WAAW,GAAGF,GAAd;CACA;;CAEDE,EAAAA,WAAW,GAAGA,WAAW,CAACG,KAAZ,CAAkB,CAAlB,EAAqB,CAArB,EAAwBC,WAAxB,KAAwCJ,WAAW,CAACG,KAAZ,CAAkB,CAAlB,CAAtD;;CAEA,MAAIH,WAAW,KAAK,QAAhB,IAA4BA,WAAW,KAAK,MAA5C,IAAsDA,WAAW,CAACK,QAAZ,CAAqB,aAArB,CAA1D,EACA;CACCC,IAAAA,uBAAM,CAACC,KAAP,CAAa,+DAAb;CAEA,WAAOC,OAAO,CAACC,MAAR,EAAP;CACA;;CAED,QAAMC,MAAM,GAAG,YACf;CACC,QAAI;CACHC,MAAAA,EAAE,CAACC,SAAH,CAAaC,EAAb,CAAgBC,WAAhB,CAA4Bb,IAA5B,IAAoC,IAAIU,EAAE,CAACC,SAAH,CAAaC,EAAb,CAAgBC,WAAhB,CAA6B,GAAEd,WAAY,aAA3C,CAAJ,CAA6DD,MAA7D,CAApC;CAEA,aAAOY,EAAE,CAACC,SAAH,CAAaC,EAAb,CAAgBC,WAAhB,CAA4Bb,IAA5B,EAAkCc,KAAlC,EAAP;CACA,KAJD,CAKA,OAAOR,KAAP,EACA;CACCD,MAAAA,uBAAM,CAACC,KAAP,CAAc,iDAAgDP,WAAY,uBAA1E,EAAkGO,KAAlG;CAEA,aAAO,KAAP;CACA;CACD,GAbD;;CAeA,MAAI,CAACI,EAAE,CAACC,SAAH,CAAaC,EAAb,CAAgBC,WAAhB,CAA6B,GAAEd,WAAY,aAA3C,CAAD,WAA6DW,EAA7D,4BAA6D,IAAIK,OAAjE,aAA6D,YAAaC,aAA9E,EACA;CACC,UAAMA,aAAa,GAAI,kBAAiBjB,WAAW,CAACE,QAAZ,GAAuBgB,WAAvB,EAAqC,EAA7E;CAEA,WAAOP,EAAE,CAACK,OAAH,CAAWC,aAAX,CAAyBA,aAAzB,EAAwCE,IAAxC,CAA6C,MAAMT,MAAM,EAAzD,CAAP;CACA;;CAED,SAAOA,MAAM,EAAb;CACA,CAhDD;;;;;;;;"}