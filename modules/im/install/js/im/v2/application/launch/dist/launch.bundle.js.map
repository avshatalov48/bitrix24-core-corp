{"version":3,"file":"launch.bundle.js","sources":["../src/launch.js"],"sourcesContent":["import {Logger} from 'im.v2.lib.logger';\n\nconst ApplicationLauncher = function (app, params = {})\n{\n\tlet application = '';\n\tlet name = '';\n\n\tif (typeof app === 'object')\n\t{\n\t\tname = app.name.toString();\n\t\tapplication = app.application.toString();\n\t}\n\telse\n\t{\n\t\tname = app.toString();\n\t\tapplication = app;\n\t}\n\n\tapplication = application.slice(0, 1).toUpperCase() + application.slice(1);\n\n\tif (application === 'Launch' || application === 'Core' || application.endsWith('Application'))\n\t{\n\t\tLogger.error('BX.Messenger.Application.Launch: specified name is forbidden.');\n\n\t\treturn Promise.reject();\n\t}\n\n\tconst launch = function()\n\t{\n\t\ttry {\n\t\t\tBX.Messenger.v2.Application[name] = new BX.Messenger.v2.Application[`${application}Application`](params);\n\n\t\t\treturn BX.Messenger.v2.Application[name].ready();\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tLogger.error(`BX.Messenger.Application.Launch: application \"${application}\" is not initialized.`, error);\n\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tif (!BX.Messenger.v2.Application[`${application}Application`] && BX?.Runtime?.loadExtension)\n\t{\n\t\tconst loadExtension = `im.v2.application.${application.toString().toLowerCase()}`;\n\n\t\treturn BX.Runtime.loadExtension(loadExtension).then(() => launch());\n\t}\n\n\treturn launch();\n};\n\nexport {ApplicationLauncher as Launch};"],"names":["ApplicationLauncher","app","params","application","name","toString","slice","toUpperCase","endsWith","Logger","error","Promise","reject","launch","BX","Messenger","v2","Application","ready","Runtime","loadExtension","toLowerCase","then"],"mappings":";;;;;;;OAEMA,mBAAmB,GAAG,UAAUC,GAAG,EAAEC,MAAM,GAAG,EAAE,EACtD;GAAA;GACC,IAAIC,WAAW,GAAG,EAAE;GACpB,IAAIC,IAAI,GAAG,EAAE;GAEb,IAAI,OAAOH,GAAG,KAAK,QAAQ,EAC3B;KACCG,IAAI,GAAGH,GAAG,CAACG,IAAI,CAACC,QAAQ,EAAE;KAC1BF,WAAW,GAAGF,GAAG,CAACE,WAAW,CAACE,QAAQ,EAAE;IACxC,MAED;KACCD,IAAI,GAAGH,GAAG,CAACI,QAAQ,EAAE;KACrBF,WAAW,GAAGF,GAAG;;GAGlBE,WAAW,GAAGA,WAAW,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGJ,WAAW,CAACG,KAAK,CAAC,CAAC,CAAC;GAE1E,IAAIH,WAAW,KAAK,QAAQ,IAAIA,WAAW,KAAK,MAAM,IAAIA,WAAW,CAACK,QAAQ,CAAC,aAAa,CAAC,EAC7F;KACCC,uBAAM,CAACC,KAAK,CAAC,+DAA+D,CAAC;KAE7E,OAAOC,OAAO,CAACC,MAAM,EAAE;;GAGxB,MAAMC,MAAM,GAAG,YACf;KACC,IAAI;OACHC,EAAE,CAACC,SAAS,CAACC,EAAE,CAACC,WAAW,CAACb,IAAI,CAAC,GAAG,IAAIU,EAAE,CAACC,SAAS,CAACC,EAAE,CAACC,WAAW,CAAE,GAAEd,WAAY,aAAY,CAAC,CAACD,MAAM,CAAC;OAExG,OAAOY,EAAE,CAACC,SAAS,CAACC,EAAE,CAACC,WAAW,CAACb,IAAI,CAAC,CAACc,KAAK,EAAE;MAChD,CACD,OAAOR,KAAK,EACZ;OACCD,uBAAM,CAACC,KAAK,CAAE,iDAAgDP,WAAY,uBAAsB,EAAEO,KAAK,CAAC;OAExG,OAAO,KAAK;;IAEb;GAED,IAAI,CAACI,EAAE,CAACC,SAAS,CAACC,EAAE,CAACC,WAAW,CAAE,GAAEd,WAAY,aAAY,CAAC,WAAIW,EAAE,4BAAF,IAAIK,OAAO,aAAX,YAAaC,aAAa,EAC3F;KACC,MAAMA,aAAa,GAAI,qBAAoBjB,WAAW,CAACE,QAAQ,EAAE,CAACgB,WAAW,EAAG,EAAC;KAEjF,OAAOP,EAAE,CAACK,OAAO,CAACC,aAAa,CAACA,aAAa,CAAC,CAACE,IAAI,CAAC,MAAMT,MAAM,EAAE,CAAC;;GAGpE,OAAOA,MAAM,EAAE;CAChB,CAAC;;;;;;;;"}