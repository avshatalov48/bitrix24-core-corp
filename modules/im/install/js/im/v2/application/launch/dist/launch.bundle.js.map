{"version":3,"file":"launch.bundle.js","sources":["../src/launch.js"],"sourcesContent":["import { Logger } from 'im.v2.lib.logger';\n\nimport type { JsonObject } from 'main.core';\n\nconst ApplicationLauncher = (app: string, params: JsonObject = {}) => {\n\tlet application = app;\n\tconst name = app.toString();\n\n\tapplication = application.slice(0, 1).toUpperCase() + application.slice(1);\n\n\tif (application === 'Launch' || application === 'Core' || application.endsWith('Application'))\n\t{\n\t\tLogger.error('BX.Messenger.Application.Launch: specified name is forbidden.');\n\n\t\treturn Promise.reject();\n\t}\n\n\tconst launch = (): Promise => {\n\t\ttry\n\t\t{\n\t\t\tBX.Messenger.v2.Application[name] = new BX.Messenger.v2.Application[`${application}Application`](params);\n\n\t\t\treturn BX.Messenger.v2.Application[name].ready();\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconst errorMessage = `BX.Messenger.Application.Launch: application \"${application}\" is not initialized.`;\n\t\t\tLogger.error(errorMessage, error);\n\n\t\t\treturn Promise.reject(errorMessage);\n\t\t}\n\t};\n\n\tif (!BX.Messenger.v2.Application[`${application}Application`] && BX?.Runtime?.loadExtension)\n\t{\n\t\tconst loadExtension = `im.v2.application.${application.toString().toLowerCase()}`;\n\n\t\treturn BX.Runtime.loadExtension(loadExtension).then(() => launch());\n\t}\n\n\treturn launch();\n};\n\nexport { ApplicationLauncher as Launch };\n"],"names":["ApplicationLauncher","app","params","application","name","toString","slice","toUpperCase","endsWith","Logger","error","Promise","reject","launch","BX","Messenger","v2","Application","ready","errorMessage","Runtime","loadExtension","toLowerCase","then"],"mappings":";;;;;;;OAIMA,mBAAmB,GAAG,CAACC,GAAW,EAAEC,MAAkB,GAAG,EAAE,KAAK;GAAA;GACrE,IAAIC,WAAW,GAAGF,GAAG;GACrB,MAAMG,IAAI,GAAGH,GAAG,CAACI,QAAQ,EAAE;GAE3BF,WAAW,GAAGA,WAAW,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGJ,WAAW,CAACG,KAAK,CAAC,CAAC,CAAC;GAE1E,IAAIH,WAAW,KAAK,QAAQ,IAAIA,WAAW,KAAK,MAAM,IAAIA,WAAW,CAACK,QAAQ,CAAC,aAAa,CAAC,EAC7F;KACCC,uBAAM,CAACC,KAAK,CAAC,+DAA+D,CAAC;KAE7E,OAAOC,OAAO,CAACC,MAAM,EAAE;;GAGxB,MAAMC,MAAM,GAAG,MAAe;KAC7B,IACA;OACCC,EAAE,CAACC,SAAS,CAACC,EAAE,CAACC,WAAW,CAACb,IAAI,CAAC,GAAG,IAAIU,EAAE,CAACC,SAAS,CAACC,EAAE,CAACC,WAAW,CAAE,GAAEd,WAAY,aAAY,CAAC,CAACD,MAAM,CAAC;OAExG,OAAOY,EAAE,CAACC,SAAS,CAACC,EAAE,CAACC,WAAW,CAACb,IAAI,CAAC,CAACc,KAAK,EAAE;MAChD,CACD,OAAOR,KAAK,EACZ;OACC,MAAMS,YAAY,GAAI,iDAAgDhB,WAAY,uBAAsB;OACxGM,uBAAM,CAACC,KAAK,CAACS,YAAY,EAAET,KAAK,CAAC;OAEjC,OAAOC,OAAO,CAACC,MAAM,CAACO,YAAY,CAAC;;IAEpC;GAED,IAAI,CAACL,EAAE,CAACC,SAAS,CAACC,EAAE,CAACC,WAAW,CAAE,GAAEd,WAAY,aAAY,CAAC,WAAIW,EAAE,4BAAF,IAAIM,OAAO,aAAX,YAAaC,aAAa,EAC3F;KACC,MAAMA,aAAa,GAAI,qBAAoBlB,WAAW,CAACE,QAAQ,EAAE,CAACiB,WAAW,EAAG,EAAC;KAEjF,OAAOR,EAAE,CAACM,OAAO,CAACC,aAAa,CAACA,aAAa,CAAC,CAACE,IAAI,CAAC,MAAMV,MAAM,EAAE,CAAC;;GAGpE,OAAOA,MAAM,EAAE;CAChB,CAAC;;;;;;;;"}