{"version":3,"sources":["core.bundle.js"],"names":["this","BX","Messenger","v2","exports","im_v2_application_launch","pull_client","rest_client","main_core","ui_vue3","ui_vue3_vuex","im_v2_model","im_v2_const","im_v2_provider_pull","im_v2_lib_logger","im_v2_lib_utils","CoreApplication","constructor","params","inited","initPromise","Promise","resolve","initPromiseResolver","offline","vuexAdditionalModel","store","storeBuilder","pullHandlers","prepareParams","initStorage","then","initPullClient","initComplete","catch","error","Logger","_params$host","Type","isUndefined","localize","message","host","location","origin","userId","prepareUserId","siteId","getLocalize","isStringFilled","siteDir","languageId","initPull","initRest","initVuexBuilder","applicationVariables","common","getHost","getUserId","getSiteId","getLanguageId","dialog","messageLimit","enableReadMessages","device","type","Utils","isMobile","DeviceType","mobile","desktop","orientation","getOrientation","builder","Builder","init","addModel","ApplicationModel","create","useDatabase","setVariables","MessagesModel","DialoguesModel","FilesModel","UsersModel","RecentModel","forEach","model","setDatabaseConfig","name","vuexBuilder","databaseName","databaseType","build","result","pullClient","subscribe","pullBaseHandler","ImBasePullHandler","controller","pullInstance","SubscriptionType","Status","callback","eventStatusInteraction","bind","Online","eventOnlineInteraction","restInstance","RestClient","restClient","rest","instance","client","PullClient","PULL","pull","database","BuilderDatabaseType","indexedDb","isBoolean","isArray","models","addVuexModel","parsedUserId","Number","parseInt","data","status","PullStatus","Offline","includes","command","Object","values","users","userInfo","dispatch","id","fields","createVue","application","config","beforeCreateFunction","beforeCreate","unmountedFunction","unmounted","createdFunction","created","initConfig","$bitrix","Data","set","Application","Loc","setMessage","el","template","computed","components","initConfigCreatedFunction","bitrixVue","BitrixVue","createApp","errorHandler","err","vm","info","console","warnHandler","warn","trace","use","mount","getStore","push","isOnline","ready","setError","code","description","localizeDescription","endsWith","commit","active","clearError","addLocalize","phrases","isPlainObject","entries","key","value","phrase","toString","Core","Vue3","Vuex","Model","Const","Provider","Pull","Lib"],"mappings":"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","file":"core.bundle.map.js"}