{"version":3,"file":"navigation.bundle.js","sources":["../src/components/settings/button-panel.js","../src/classes/status-service.js","../src/components/status/user-status-content.js","../src/components/status/user-status-popup.js","../src/classes/background-service.js","../src/components/background/background-content.js","../src/components/background/background-popup.js","../src/classes/version-service.js","../src/components/settings/user-settings-content.js","../src/components/settings/user-settings-popup.js","../src/components/user-settings.js","../src/components/market-apps.js","../src/navigation.js"],"sourcesContent":["import {Button, ButtonSize, ButtonColor} from 'im.v2.component.elements';\n\n// @vue/component\nexport const ButtonPanel = {\n\tcomponents: {Button},\n\temits: ['openProfile', 'logout'],\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tButtonSize: () => ButtonSize,\n\t\tButtonColor: () => ButtonColor\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-user-settings-popup__button-panel\">\n\t\t\t<div class=\"bx-im-user-settings-popup__button-panel_button\">\n\t\t\t\t<Button\n\t\t\t\t\t:color=\"ButtonColor.PrimaryBorder\"\n\t\t\t\t\t:size=\"ButtonSize.M\"\n\t\t\t\t\t:isUppercase=\"false\"\n\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t:text=\"loc('IM_USER_SETTINGS_OPEN_PROFILE')\"\n\t\t\t\t\t@click=\"$emit('openProfile')\"\n\t\t\t\t/>\n\t\t\t</div>\n<!--\t\t\t<div class=\"bx-im-user-settings-popup__button-panel_button\">-->\n<!--\t\t\t\t<Button-->\n<!--\t\t\t\t\t:color=\"ButtonColor.DangerBorder\"-->\n<!--\t\t\t\t\t:size=\"ButtonSize.M\"-->\n<!--\t\t\t\t\t:isUppercase=\"false\"-->\n<!--\t\t\t\t\t:isRounded=\"true\"-->\n<!--\t\t\t\t\t:text=\"loc('IM_USER_SETTINGS_LOGOUT')\"-->\n<!--\t\t\t\t\t@click=\"$emit('logout')\"-->\n<!--\t\t\t\t/>-->\n<!--\t\t\t</div>-->\n\t\t</div>\n\t`\n};","import {Core} from 'im.v2.application.core';\nimport {Logger} from 'im.v2.lib.logger';\nimport {RestMethod, UserStatus} from 'im.v2.const';\n\nexport class StatusService\n{\n\tstore: Object = null;\n\trestClient: Object = null;\n\n\tconstructor()\n\t{\n\t\tthis.store = Core.getStore();\n\t\tthis.restClient = Core.getRestClient();\n\t}\n\n\tchangeStatus(status: string): Promise\n\t{\n\t\tif (!UserStatus[status])\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tLogger.warn(`StatusService: change current user status to ${status}`);\n\t\tthis.store.dispatch('users/setStatus', {status});\n\t\treturn this.restClient.callMethod(RestMethod.imUserStatusSet, {\n\t\t\t'STATUS': status\n\t\t}).catch(error => {\n\t\t\tconsole.error('StatusService: changeStatus error', error);\n\t\t});\n\t}\n}","import {UserStatus, UserStatusSize} from 'im.v2.component.elements';\nimport {UserStatus as UserStatusType} from 'im.v2.const';\nimport {Utils} from 'im.v2.lib.utils';\n\nimport {StatusService} from '../../classes/status-service';\n\n// @vue/component\nexport const UserStatusContent = {\n\tname: 'UserStatusContent',\n\tcomponents: {UserStatus},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tUserStatusSize: () => UserStatusSize,\n\t\tUserStatusType: () => UserStatusType,\n\t\tstatusList(): string[]\n\t\t{\n\t\t\treturn [UserStatusType.online, UserStatusType.break, UserStatusType.away, UserStatusType.dnd];\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tonStatusClick(statusName: string)\n\t\t{\n\t\t\tthis.getStatusService().changeStatus(statusName);\n\t\t\tthis.$emit('close');\n\t\t},\n\t\tgetStatusService(): StatusService\n\t\t{\n\t\t\tif (!this.statusService)\n\t\t\t{\n\t\t\t\tthis.statusService = new StatusService();\n\t\t\t}\n\n\t\t\treturn this.statusService;\n\t\t},\n\t\tgetStatusText(status: string): string\n\t\t{\n\t\t\treturn Utils.user.getStatusText(status);\n\t\t}\n\t},\n\ttemplate:\n\t`\n\t\t<div class=\"bx-im-user-status-popup__scope bx-im-user-status-popup__container\">\n\t\t\t<div\n\t\t\t\tv-for=\"status in statusList\"\n\t\t\t\t:key=\"status\"\n\t\t\t\t@click=\"onStatusClick(status)\"\n\t\t\t\tclass=\"bx-im-user-status-popup__item\"\n\t\t\t>\n\t\t\t\t<UserStatus :status=\"status\" :size=\"UserStatusSize.M\" />\n\t\t\t\t<div class=\"bx-im-user-status-popup__text\">{{ getStatusText(status) }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import {MessengerPopup} from 'im.v2.component.elements';\n\nimport {UserStatusContent} from './user-status-content';\n\nconst POPUP_ID = 'im-user-status-popup';\n\n// @vue/component\nexport const UserStatusPopup = {\n\tname: 'UserStatusPopup',\n\tcomponents: {MessengerPopup, UserStatusContent},\n\tprops:\n\t{\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: 190,\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\toffsetTop: 4,\n\t\t\t\tpadding: 0,\n\t\t\t};\n\t\t}\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"POPUP_ID\"\n\t\t>\n\t\t\t<UserStatusContent @close=\"$emit('close')\" />\n\t\t</MessengerPopup>\n\t`\n};","import {Core} from 'im.v2.application.core';\nimport {RestMethod, Settings} from 'im.v2.const';\nimport {runAction} from 'im.v2.lib.rest';\nimport {Logger} from 'im.v2.lib.logger';\n\nexport const BackgroundService = {\n\tchangeBackground(backgroundId: string)\n\t{\n\t\tLogger.warn('Navigation: BackgroundService: changeBackground', backgroundId);\n\n\t\tconst preparedBackgroundId = Number.parseInt(backgroundId, 10);\n\t\tCore.getStore().dispatch('application/settings/set', {\n\t\t\t[Settings.dialog.background]: preparedBackgroundId\n\t\t});\n\n\t\trunAction(RestMethod.imV2SettingsGeneralUpdate, {\n\t\t\tdata: {\n\t\t\t\tuserId: Core.getUserId(),\n\t\t\t\tname: Settings.dialog.background,\n\t\t\t\tvalue: preparedBackgroundId\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tconsole.error('Navigation: BackgroundService: error changing background', error);\n\t\t});\n\t}\n};","import { Settings } from 'im.v2.const';\nimport { ThemeColorScheme, ThemeManager } from 'im.v2.lib.theme';\n\nimport { BackgroundService } from '../../classes/background-service';\n\nimport '../../css/background.css';\n\n// @vue/component\nexport const BackgroundContent = {\n\tname: 'BackgroundContent',\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tcurrentBackgroundId(): string\n\t\t{\n\t\t\treturn this.$store.getters['application/settings/get'](Settings.dialog.background).toString();\n\t\t},\n\t\tbackgroundIdList(): string[]\n\t\t{\n\t\t\treturn Object.keys(ThemeColorScheme);\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tgetBackgroundStyleById(backgroundId: string)\n\t\t{\n\t\t\treturn ThemeManager.getBackgroundStyleById(backgroundId);\n\t\t},\n\t\tonBackgroundClick(backgroundId: string)\n\t\t{\n\t\t\tBackgroundService.changeBackground(backgroundId);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-background-select-popup__container\">\n\t\t\t<!-- <div class=\"bx-im-background-select-popup__title\">Chat background</div> -->\n\t\t\t<div class=\"bx-im-background-select-popup__list\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"id in backgroundIdList\"\n\t\t\t\t\t:key=\"id\"\n\t\t\t\t\t:style=\"getBackgroundStyleById(id)\"\n\t\t\t\t\tclass=\"bx-im-background-select-popup__item\"\n\t\t\t\t\t:class=\"{'--active': id === currentBackgroundId}\"\n\t\t\t\t\t@click=\"onBackgroundClick(id)\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<!-- <div @click=\"$emit('close')\" class=\"bx-im-background-select-popup__close bx-im-messenger__cross-icon\"></div> -->\n\t\t</div>\n\t`\n};","import {MessengerPopup} from 'im.v2.component.elements';\n\nimport {BackgroundContent} from './background-content';\n\nconst POPUP_ID = 'im-background-select-popup';\n\n// @vue/component\nexport const BackgroundPopup = {\n\tname: 'BackgroundPopup',\n\tcomponents: {MessengerPopup, BackgroundContent},\n\tprops:\n\t{\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\toffsetTop: 4,\n\t\t\t\tpadding: 0,\n\t\t\t};\n\t\t}\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"POPUP_ID\"\n\t\t>\n\t\t\t<BackgroundContent @close=\"$emit('close')\" />\n\t\t</MessengerPopup>\n\t`\n};","import { Core } from 'im.v2.application.core';\nimport { Logger } from 'im.v2.lib.logger';\nimport { runAction } from 'im.v2.lib.rest';\nimport { RestMethod } from 'im.v2.const';\n\nexport class VersionService\n{\n\tstore: Object = null;\n\trestClient: Object = null;\n\n\tconstructor()\n\t{\n\t\tthis.store = Core.getStore();\n\t\tthis.restClient = Core.getRestClient();\n\t}\n\n\tdisableBeta(): Promise\n\t{\n\t\tLogger.warn('VersionService: disable v2');\n\n\t\treturn runAction(RestMethod.imV2BetaDisable).catch((error) => {\n\t\t\tLogger.error('VersionService: disable v2 error', error);\n\t\t});\n\t}\n}\n","import { Core } from 'im.v2.application.core';\nimport { Avatar, AvatarSize, UserStatus, UserStatusSize } from 'im.v2.component.elements';\nimport { Utils } from 'im.v2.lib.utils';\nimport { DesktopManager } from 'im.v2.lib.desktop';\nimport { Logger } from 'im.v2.lib.logger';\n\nimport { ButtonPanel } from './button-panel';\nimport { UserStatusPopup } from '../status/user-status-popup';\nimport { BackgroundPopup } from '../background/background-popup';\nimport { VersionService } from '../../classes/version-service';\n\nimport 'ui.buttons';\nimport 'ui.feedback.form';\n\nimport type { ImModelUser } from 'im.v2.model';\nimport { UserStatus as UserStatusType } from 'im.v2.const';\n\n// @vue/component\nexport const UserSettingsContent = {\n\tname: 'UserSettingsContent',\n\tcomponents: { Avatar, UserStatus, ButtonPanel, UserStatusPopup, BackgroundPopup },\n\temits: ['closePopup', 'enableAutoHide', 'disableAutoHide'],\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tshowStatusPopup: false,\n\t\t\tshowBackgroundPopup: false,\n\t\t\tisChangingVersion: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tAvatarSize: () => AvatarSize,\n\t\tUserStatusSize: () => UserStatusSize,\n\t\tcurrentUserId(): number\n\t\t{\n\t\t\treturn Core.getUserId();\n\t\t},\n\t\tcurrentUser(): ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.currentUserId, true);\n\t\t},\n\t\tcurrentUserPosition(): string\n\t\t{\n\t\t\treturn this.$store.getters['users/getPosition'](this.currentUserId);\n\t\t},\n\t\tuserStatus(): string\n\t\t{\n\t\t\tconst user = this.$store.getters['users/get'](this.currentUserId, true);\n\t\t\tif (user)\n\t\t\t{\n\t\t\t\treturn user.status;\n\t\t\t}\n\n\t\t\treturn UserStatusType.online;\n\t\t},\n\t\tcurrentHost(): string\n\t\t{\n\t\t\treturn location.hostname;\n\t\t},\n\t\tuserStatusText(): string\n\t\t{\n\t\t\treturn Utils.user.getStatusText(this.currentUser.status);\n\t\t},\n\t\tprofileUri(): string\n\t\t{\n\t\t\treturn Utils.user.getProfileLink(this.currentUserId);\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonBackToOldChatClick()\n\t\t{\n\t\t\tthis.isChangingVersion = true;\n\t\t\tthis.getVersionService().disableBeta().then(() => {\n\t\t\t\tif (DesktopManager.isDesktop())\n\t\t\t\t{\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\twindow.location.replace('/online/');\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tLogger.error('Error while switching version', error);\n\t\t\t});\n\t\t},\n\t\tonStatusClick()\n\t\t{\n\t\t\tthis.showStatusPopup = true;\n\t\t\tthis.$emit('disableAutoHide');\n\t\t},\n\t\tonStatusPopupClose()\n\t\t{\n\t\t\tthis.showStatusPopup = false;\n\t\t\tthis.$emit('enableAutoHide');\n\t\t},\n\t\tonBackgroundSelectClick()\n\t\t{\n\t\t\tthis.showBackgroundPopup = true;\n\t\t\tthis.$emit('disableAutoHide');\n\t\t},\n\t\tonBackgroundPopupClose()\n\t\t{\n\t\t\tthis.showBackgroundPopup = false;\n\t\t\tthis.$emit('enableAutoHide');\n\t\t},\n\t\tonHelpClick()\n\t\t{\n\t\t\tconst ARTICLE_CODE = '17373696';\n\t\t\tBX.Helper?.show(`redirect=detail&code=${ARTICLE_CODE}`);\n\t\t\tthis.$emit('closePopup');\n\t\t},\n\t\tonFeedbackClick()\n\t\t{\n\t\t\tBX.UI.Feedback.Form.open({\n\t\t\t\tid: 'im-v2-feedback',\n\t\t\t\tforms: [\n\t\t\t\t\t{ zones: ['ru'], id: 550, sec: '50my2x', lang: 'ru' },\n\t\t\t\t\t{ zones: ['en'], id: 560, sec: '621lbr', lang: 'ru' },\n\t\t\t\t],\n\t\t\t\tpresets: {\n\t\t\t\t\tsender_page: 'profile',\n\t\t\t\t},\n\t\t\t});\n\t\t\tthis.$emit('closePopup');\n\t\t},\n\t\tgetVersionService(): VersionService\n\t\t{\n\t\t\tif (!this.versionService)\n\t\t\t{\n\t\t\t\tthis.versionService = new VersionService();\n\t\t\t}\n\n\t\t\treturn this.versionService;\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-user-settings-popup__scope bx-im-user-settings-popup__container\">\n\t\t\t<div class=\"bx-im-user-settings-popup__header\">\n\t\t\t\t<div class=\"bx-im-user-settings-popup__header_left\">\n\t\t\t\t\t<Avatar :dialogId=\"currentUserId\" :size=\"AvatarSize.XL\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-user-settings-popup__header_right\">\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__domain\">{{ currentHost }}</div>\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__user_name\" :title=\"currentUser.name\">{{ currentUser.name }}</div>\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__user_title\" :title=\"currentUserPosition\">{{ currentUserPosition }}</div>\n\t\t\t\t\t<a :href=\"profileUri\" target=\"_blank\" class=\"bx-im-user-settings-popup__user_link\">\n\t\t\t\t\t\t<ButtonPanel @openProfile=\"$emit('closePopup')\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-user-settings-popup__list\">\n\t\t\t\t<div class=\"bx-im-user-settings-popup__separator\"></div>\n\t\t\t\t<!-- Status select -->\n\t\t\t\t<div @click=\"onStatusClick\" class=\"bx-im-user-settings-popup__list-item --with-icon\">\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_left\">\n\t\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_status\">\n\t\t\t\t\t\t\t<UserStatus :status=\"userStatus\" :size=\"UserStatusSize.M\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_text\">{{ userStatusText }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_icon --chevron\" ref=\"status-select\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-user-settings-popup__separator\"></div>\n\t\t\t\t<!-- Background select -->\n\t\t\t\t<div @click=\"onBackgroundSelectClick\" class=\"bx-im-user-settings-popup__list-item --with-icon\">\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_left\">\n\t\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_icon --background\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_text\">{{ loc('IM_USER_SETTINGS_CHAT_BACKGROUND') }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_icon --chevron\" ref=\"background-select\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-user-settings-popup__separator\"></div>\n\t\t\t\t<!-- Help -->\n\t\t\t\t<div @click=\"onHelpClick\" class=\"bx-im-user-settings-popup__list-item\">\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_left\">\n\t\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_icon --help\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_text\">{{ loc('IM_USER_SETTINGS_HELP') }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-user-settings-popup__separator\"></div>\n\t\t\t\t<!-- Feedback -->\n\t\t\t\t<div @click=\"onFeedbackClick\" class=\"bx-im-user-settings-popup__list-item\">\n\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_left\">\n\t\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_icon --feedback\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_text\">{{ loc('IM_USER_SETTINGS_FEEDBACK') }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- Back to old chat -->\n\t\t\t<div :class=\"{'--loading': isChangingVersion}\" class=\"bx-im-user-settings-popup__old-chat\">\n\t\t\t\t<div class=\"bx-im-user-settings-popup__list-item_icon --arrow-left\"></div>\n\t\t\t\t<div @click=\"onBackToOldChatClick\" class=\"bx-im-user-settings-popup__old-chat_text\">\n\t\t\t\t\t{{ loc('IM_USER_SETTINGS_OLD_CHAT') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<UserStatusPopup\n\t\t\tv-if=\"showStatusPopup\"\n\t\t\t:bindElement=\"$refs['status-select'] || {}\"\n\t\t\t@close=\"onStatusPopupClose\"\n\t\t/>\n\t\t<BackgroundPopup\n\t\t\tv-if=\"showBackgroundPopup\"\n\t\t\t:bindElement=\"$refs['background-select'] || {}\"\n\t\t\t@close=\"onBackgroundPopupClose\"\n\t\t/>\n\t`,\n};\n","import {MessengerPopup} from 'im.v2.component.elements';\n\nimport {UserSettingsContent} from './user-settings-content';\n\nconst POPUP_ID = 'im-user-settings-popup';\n\n// @vue/component\nexport const UserSettingsPopup = {\n\tname: 'UserSettingsPopup',\n\tcomponents: {MessengerPopup, UserSettingsContent},\n\tprops:\n\t{\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: 313,\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\toffsetTop: 4,\n\t\t\t\tpadding: 0,\n\t\t\t};\n\t\t}\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\tv-slot=\"{enableAutoHide, disableAutoHide}\"\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"POPUP_ID\"\n\t\t>\n\t\t\t<UserSettingsContent @closePopup=\"$emit('close')\" @enableAutoHide=\"enableAutoHide\" @disableAutoHide=\"disableAutoHide\" />\n\t\t</MessengerPopup>\n\t`\n};","import { Core } from 'im.v2.application.core';\nimport { UserStatus as UserStatusType } from 'im.v2.const';\nimport { Avatar, AvatarSize } from 'im.v2.component.elements';\n\nimport { UserSettingsPopup } from './settings/user-settings-popup';\nimport { UserStatusPopup } from './status/user-status-popup';\n\nimport '../css/user-settings.css';\nimport '../css/user-status.css';\n\n// @vue/component\nexport const UserSettings = {\n\tname: 'UserSettings',\n\tcomponents: { UserSettingsPopup, UserStatusPopup, Avatar },\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tshowSettingsPopup: false,\n\t\t\tshowStatusPopup: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tAvatarSize: () => AvatarSize,\n\t\tcurrentUserId(): number\n\t\t{\n\t\t\treturn Core.getUserId();\n\t\t},\n\t\tuserStatus(): string\n\t\t{\n\t\t\tconst user = this.$store.getters['users/get'](this.currentUserId, true);\n\t\t\tif (user)\n\t\t\t{\n\t\t\t\treturn user.status;\n\t\t\t}\n\n\t\t\treturn UserStatusType.online;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonAvatarClick()\n\t\t{\n\t\t\tthis.showSettingsPopup = true;\n\t\t},\n\t\tonStatusClick()\n\t\t{\n\t\t\tthis.showStatusPopup = true;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-navigation__user\">\n\t\t\t<div @click=\"onAvatarClick\" class=\"bx-im-navigation__user_avatar\" ref=\"avatar\">\n\t\t\t\t<Avatar :dialogId=\"currentUserId.toString()\" :size=\"AvatarSize.M\" />\n\t\t\t\t<div @click.stop=\"onStatusClick\" :class=\"'--' + userStatus\" class=\"bx-im-navigation__user_status\" ref=\"status\"></div>\n\t\t\t</div>\n\t\t\t<UserStatusPopup\n\t\t\t\tv-if=\"showStatusPopup\"\n\t\t\t\t:bindElement=\"$refs['status'] || {}\"\n\t\t\t\t@close=\"showStatusPopup = false\"\n\t\t\t/>\n\t\t\t<UserSettingsPopup\n\t\t\t\tv-if=\"showSettingsPopup\"\n\t\t\t\t:bindElement=\"$refs['avatar'] || {}\"\n\t\t\t\t@close=\"showSettingsPopup = false\" \n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import 'ui.fontawesome4';\n\nimport {Core} from 'im.v2.application.core';\nimport {Layout, PlacementType} from 'im.v2.const';\nimport {MarketManager} from 'im.v2.lib.market';\n\nimport type {ImModelMarketApplication, ImModelLayout} from 'im.v2.model';\n\nexport type MarketMenuItem = {\n\tid: string,\n\ttext: string,\n\tcounter: number,\n\tactive: boolean,\n\ticonName: string,\n\tloadConfiguration?: ImModelMarketApplication['loadConfiguration']\n};\n\n// @vue/component\nexport const MarketApps = {\n\tname: 'MarketApps',\n\temits: ['clickMarketItem'],\n\tcomputed:\n\t{\n\t\tmarketMenuItems(): MarketMenuItem[]\n\t\t{\n\t\t\tconst navigationApps = MarketManager.getInstance().getAvailablePlacementsByType(PlacementType.navigation);\n\n\t\t\treturn navigationApps.map((item: ImModelMarketApplication) => {\n\t\t\t\treturn {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\ttext: item.title,\n\t\t\t\t\tcounter: 0,\n\t\t\t\t\tactive: true,\n\t\t\t\t\ticonName: item.options.iconName ? item.options.iconName : '',\n\t\t\t\t\tloadConfiguration: item.loadConfiguration\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\tlayout(): ImModelLayout\n\t\t{\n\t\t\treturn this.$store.getters['application/getLayout'];\n\t\t},\n\t\tcanShowMarket(): boolean\n\t\t{\n\t\t\treturn Core.isCloud();\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tonMarketClick()\n\t\t{\n\t\t\tMarketManager.openMarketplace();\n\t\t},\n\t\tonMarketItemClick(item: MarketMenuItem)\n\t\t{\n\t\t\tthis.$emit('clickMarketItem', {\n\t\t\t\tlayoutName: Layout.market.name,\n\t\t\t\tlayoutEntityId: item.id\n\t\t\t});\n\t\t},\n\t\tgetMenuItemClasses(item: MarketMenuItem)\n\t\t{\n\t\t\treturn {\n\t\t\t\t'--selected': this.isItemSelected(item.id),\n\t\t\t\t'--active': item.active\n\t\t\t};\n\t\t},\n\t\tisItemSelected(itemId: string): boolean\n\t\t{\n\t\t\treturn this.layout.name === Layout.market.name && this.layout.entityId === itemId;\n\t\t},\n\t\tgetIconClassNames(item: MarketMenuItem): string\n\t\t{\n\t\t\treturn item.iconName.toString();\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tv-if=\"canShowMarket\"\n\t\t\t@click=\"onMarketClick\"\n\t\t\tclass=\"bx-im-navigation__item_container\"\n\t\t>\n\t\t\t<div class=\"bx-im-navigation__item --active\">\n\t\t\t\t<div class=\"bx-im-navigation__item_icon --market\"></div>\n\t\t\t\t<div class=\"bx-im-navigation__item_text\" :title=\"$Bitrix.Loc.getMessage('IM_NAVIGATION_MARKET_TITLE')\">\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage('IM_NAVIGATION_MARKET_TITLE') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div\n\t\t\tv-for=\"item in marketMenuItems\"\n\t\t\t@click=\"onMarketItemClick(item)\"\n\t\t\tclass=\"bx-im-navigation__item_container\"\n\t\t>\n\t\t\t<div :class=\"getMenuItemClasses(item)\" class=\"bx-im-navigation__item\">\n\t\t\t\t<div class=\"bx-im-navigation__market-item_icon-container\">\n\t\t\t\t\t<i \n\t\t\t\t\t\tclass=\"bx-im-navigation__market-item_icon fa\" \n\t\t\t\t\t\t:class=\"getIconClassNames(item)\" \n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t></i>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-navigation__item_text\" :title=\"item.text\">{{item.text}}</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import { Type } from 'main.core';\nimport { hint } from 'ui.vue3.directives.hint';\nimport { MessageBox, MessageBoxButtons } from 'ui.dialogs.messagebox';\nimport { Monitor } from 'timeman.monitor';\n\nimport { Logger } from 'im.v2.lib.logger';\nimport { MessengerSlider } from 'im.v2.lib.slider';\nimport { CallManager } from 'im.v2.lib.call';\nimport { Layout } from 'im.v2.const';\nimport { DesktopManager } from 'im.v2.lib.desktop';\n\nimport { UserSettings } from './components/user-settings';\nimport { MarketApps } from './components/market-apps';\n\nimport './css/navigation.css';\n\ntype MenuItem = {\n\tid: string,\n\ttext: string,\n\tcounter: number,\n\tactive: boolean,\n\tclickHandler: Function,\n};\n\n// @vue/component\nexport const MessengerNavigation = {\n\tname: 'MessengerNavigation',\n\tdirectives: { hint },\n\tcomponents: { UserSettings, MarketApps },\n\tprops: {\n\t\tcurrentLayoutName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['navigationClick'],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tneedTopShadow: false,\n\t\t\tneedBottomShadow: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tmenuItems(): MenuItem[]\n\t\t{\n\t\t\tconst menuItems = [\n\t\t\t\t{\n\t\t\t\t\tid: Layout.chat.name,\n\t\t\t\t\ttext: this.prepareNavigationText('IM_NAVIGATION_CHATS'),\n\t\t\t\t\tcounter: this.formatCounter(this.$store.getters['recent/getTotalCounter']),\n\t\t\t\t\tactive: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: Layout.notification.name,\n\t\t\t\t\ttext: this.prepareNavigationText('IM_NAVIGATION_NOTIFICATIONS'),\n\t\t\t\t\tcounter: this.formatCounter(this.$store.getters['notifications/getCounter']),\n\t\t\t\t\tactive: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: Layout.openline.name,\n\t\t\t\t\ttext: this.prepareNavigationText('IM_NAVIGATION_OPENLINES'),\n\t\t\t\t\tcounter: 0,\n\t\t\t\t\tactive: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: Layout.call.name,\n\t\t\t\t\ttext: this.prepareNavigationText('IM_NAVIGATION_CALLS'),\n\t\t\t\t\tcounter: 0,\n\t\t\t\t\tactive: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'settings',\n\t\t\t\t\ttext: this.prepareNavigationText('IM_NAVIGATION_SETTINGS'),\n\t\t\t\t\tcounter: 0,\n\t\t\t\t\tactive: false,\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tif (this.isTimeManagerActive())\n\t\t\t{\n\t\t\t\tmenuItems.push({\n\t\t\t\t\tid: 'timemanager',\n\t\t\t\t\ttext: this.prepareNavigationText('IM_NAVIGATION_TIMEMANAGER'),\n\t\t\t\t\tcounter: 0,\n\t\t\t\t\tactive: true,\n\t\t\t\t\tclickHandler: this.onTimeManagerClick,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn menuItems;\n\t\t},\n\t\tisDesktop(): boolean\n\t\t{\n\t\t\treturn DesktopManager.isDesktop();\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tLogger.warn('Navigation created');\n\t},\n\tmounted()\n\t{\n\t\tconst container = this.$refs.navigation;\n\t\tthis.needBottomShadow = container.scrollTop + container.clientHeight !== container.scrollHeight;\n\t},\n\tmethods:\n\t{\n\t\tonMenuItemClick(item: MenuItem, event: PointerEvent)\n\t\t{\n\t\t\tif (!item.active)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (Type.isFunction(item.clickHandler))\n\t\t\t{\n\t\t\t\titem.clickHandler();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$emit('navigationClick', { layoutName: item.id, layoutEntityId: '' });\n\t\t},\n\t\tonMarketMenuItemClick({ layoutName, layoutEntityId })\n\t\t{\n\t\t\tthis.$emit('navigationClick', {\n\t\t\t\tlayoutName,\n\t\t\t\tlayoutEntityId,\n\t\t\t});\n\t\t},\n\t\tcloseSlider()\n\t\t{\n\t\t\tconst hasCall = CallManager.getInstance().hasCurrentCall();\n\t\t\tif (hasCall)\n\t\t\t{\n\t\t\t\tthis.showExitConfirm();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tMessengerSlider.getInstance().getCurrent().close();\n\t\t},\n\t\tgetMenuItemClasses(item: MenuItem): Object<string, boolean>\n\t\t{\n\t\t\treturn {\n\t\t\t\t'--selected': item.id === this.currentLayoutName,\n\t\t\t\t'--with-counter': item.counter && item.id !== this.currentLayoutName,\n\t\t\t\t'--active': item.active,\n\t\t\t};\n\t\t},\n\t\tformatCounter(counter: number): string\n\t\t{\n\t\t\tif (counter === 0)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn counter > 99 ? '99+' : String(counter);\n\t\t},\n\t\tgetHintContent(item: MenuItem): ?{text: string, popupOptions: Object<string, any>}\n\t\t{\n\t\t\tif (item.active)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttext: this.loc('IM_MESSENGER_NOT_AVAILABLE'),\n\t\t\t\tpopupOptions: {\n\t\t\t\t\tangle: { position: 'left' },\n\t\t\t\t\ttargetContainer: document.body,\n\t\t\t\t\toffsetLeft: 80,\n\t\t\t\t\toffsetTop: -54,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tprepareNavigationText(phraseCode: string): string\n\t\t{\n\t\t\treturn this.loc(phraseCode, {\n\t\t\t\t'#BR#': '</br>',\n\t\t\t});\n\t\t},\n\t\tshowExitConfirm()\n\t\t{\n\t\t\tMessageBox.show({\n\t\t\t\tmessage: this.loc('IM_NAVIGATION_ACTIVE_CALL_CONFIRM'),\n\t\t\t\tmodal: true,\n\t\t\t\tbuttons: MessageBoxButtons.OK_CANCEL,\n\t\t\t\tonOk: (messageBox: MessageBox) => {\n\t\t\t\t\tCallManager.getInstance().leaveCurrentCall();\n\t\t\t\t\tMessengerSlider.getInstance().getCurrent().close();\n\t\t\t\t\tmessageBox.close();\n\t\t\t\t},\n\t\t\t\tonCancel: (messageBox: MessageBox) => {\n\t\t\t\t\tmessageBox.close();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t\tonScroll(event: Event)\n\t\t{\n\t\t\tconst scrollPosition = Math.round(event.target.scrollTop + event.target.clientHeight);\n\t\t\tthis.needBottomShadow = scrollPosition !== event.target.scrollHeight;\n\n\t\t\tif (event.target.scrollTop === 0)\n\t\t\t{\n\t\t\t\tthis.needTopShadow = false;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.needTopShadow = true;\n\t\t},\n\t\tonClickScrollDown()\n\t\t{\n\t\t\tthis.$refs.navigation.scrollTo({\n\t\t\t\ttop: this.$refs.navigation.scrollHeight,\n\t\t\t\tbehavior: 'smooth',\n\t\t\t});\n\t\t},\n\t\tonClickScrollUp()\n\t\t{\n\t\t\tthis.$refs.navigation.scrollTo({\n\t\t\t\ttop: 0,\n\t\t\t\tbehavior: 'smooth',\n\t\t\t});\n\t\t},\n\t\tisTimeManagerActive(): boolean\n\t\t{\n\t\t\treturn Boolean(Monitor?.isEnabled());\n\t\t},\n\t\tonTimeManagerClick()\n\t\t{\n\t\t\tMonitor?.openReport();\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-navigation__scope bx-im-navigation__container\">\n\t\t\t<div v-if=\"needTopShadow\" class=\"bx-im-navigation__shadow --top\">\n\t\t\t\t<div class=\"bx-im-navigation__scroll-button\" @click=\"onClickScrollUp\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-navigation__top\" @scroll=\"onScroll\" ref=\"navigation\">\n\t\t\t\t<template v-if=\"!isDesktop\">\n\t\t\t\t\t<!-- Close -->\n\t\t\t\t\t<div class=\"bx-im-navigation__close_container\" @click=\"closeSlider\">\n\t\t\t\t\t\t<div class=\"bx-im-navigation__close\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- Separator -->\n\t\t\t\t\t<div class=\"bx-im-navigation__separator_container\">\n\t\t\t\t\t\t<div class=\"bx-im-navigation__close_separator\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<!-- Menu items -->\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"item in menuItems\"\n\t\t\t\t\tv-hint=\"getHintContent(item)\"\n\t\t\t\t\t@click=\"onMenuItemClick(item, $event)\"\n\t\t\t\t\tclass=\"bx-im-navigation__item_container\"\n\t\t\t\t>\n\t\t\t\t\t<div :class=\"getMenuItemClasses(item)\" class=\"bx-im-navigation__item\">\n\t\t\t\t\t\t<div :class=\"'--' + item.id\" class=\"bx-im-navigation__item_icon\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-navigation__item_text\" :title=\"item.text\" v-html=\"item.text\"></div>\n\t\t\t\t\t\t<div v-if=\"item.active && item.counter\" class=\"bx-im-navigation__item_counter\">\n\t\t\t\t\t\t\t<div class=\"bx-im-navigation__item_counter-text\">\n\t\t\t\t\t\t\t\t{{ item.counter }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<MarketApps @clickMarketItem=\"onMarketMenuItemClick\"/>\n\t\t\t</div>\n\t\t\t<div v-if=\"needBottomShadow\" class=\"bx-im-navigation__shadow --bottom\">\n\t\t\t\t<div class=\"bx-im-navigation__scroll-button --bottom\" @click=\"onClickScrollDown\"></div>\n\t\t\t</div>\n\t\t\t<!-- Avatar -->\n\t\t\t<div class=\"bx-im-navigation__user_container\">\n\t\t\t\t<UserSettings />\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n"],"names":["ButtonPanel","components","Button","emits","data","computed","ButtonSize","ButtonColor","methods","loc","phraseCode","$Bitrix","Loc","getMessage","template","StatusService","constructor","store","restClient","Core","getStore","getRestClient","changeStatus","status","UserStatus","Logger","warn","dispatch","callMethod","RestMethod","imUserStatusSet","catch","error","console","UserStatusContent","name","UserStatusSize","UserStatusType","statusList","online","break","away","dnd","onStatusClick","statusName","getStatusService","$emit","statusService","getStatusText","Utils","user","POPUP_ID","UserStatusPopup","MessengerPopup","props","bindElement","type","Object","required","config","width","offsetTop","padding","BackgroundService","changeBackground","backgroundId","preparedBackgroundId","Number","parseInt","Settings","dialog","background","runAction","imV2SettingsGeneralUpdate","userId","getUserId","value","BackgroundContent","currentBackgroundId","$store","getters","toString","backgroundIdList","keys","ThemeColorScheme","getBackgroundStyleById","ThemeManager","onBackgroundClick","BackgroundPopup","VersionService","disableBeta","imV2BetaDisable","UserSettingsContent","Avatar","showStatusPopup","showBackgroundPopup","isChangingVersion","AvatarSize","currentUserId","currentUser","currentUserPosition","userStatus","currentHost","location","hostname","userStatusText","profileUri","getProfileLink","onBackToOldChatClick","getVersionService","then","DesktopManager","isDesktop","window","reload","replace","onStatusPopupClose","onBackgroundSelectClick","onBackgroundPopupClose","onHelpClick","ARTICLE_CODE","BX","Helper","show","onFeedbackClick","UI","Feedback","Form","open","id","forms","zones","sec","lang","presets","sender_page","versionService","UserSettingsPopup","UserSettings","showSettingsPopup","onAvatarClick","MarketApps","marketMenuItems","navigationApps","MarketManager","getInstance","getAvailablePlacementsByType","PlacementType","navigation","map","item","text","title","counter","active","iconName","options","loadConfiguration","layout","canShowMarket","isCloud","onMarketClick","openMarketplace","onMarketItemClick","layoutName","Layout","market","layoutEntityId","getMenuItemClasses","isItemSelected","itemId","entityId","getIconClassNames","MessengerNavigation","directives","hint","currentLayoutName","String","needTopShadow","needBottomShadow","menuItems","chat","prepareNavigationText","formatCounter","notification","openline","call","isTimeManagerActive","push","clickHandler","onTimeManagerClick","created","mounted","container","$refs","scrollTop","clientHeight","scrollHeight","onMenuItemClick","event","Type","isFunction","onMarketMenuItemClick","closeSlider","hasCall","CallManager","hasCurrentCall","showExitConfirm","MessengerSlider","getCurrent","close","getHintContent","popupOptions","angle","position","targetContainer","document","body","offsetLeft","MessageBox","message","modal","buttons","MessageBoxButtons","OK_CANCEL","onOk","messageBox","leaveCurrentCall","onCancel","replacements","onScroll","scrollPosition","Math","round","target","onClickScrollDown","scrollTo","top","behavior","onClickScrollUp","Boolean","Monitor","isEnabled","openReport"],"mappings":"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"}