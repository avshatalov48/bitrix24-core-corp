{"version":3,"file":"openline-content.bundle.js","sources":["../src/openline-content.js"],"sourcesContent":["import { Event } from 'main.core';\n\nimport { Logger } from 'im.v2.lib.logger';\nimport { EventType } from 'im.v2.const';\n\nimport './css/openline-content.css';\n\nconst IFRAME_PATH = '/desktop_app/';\nconst IFRAME_PARAMS = {\n\tIFRAME: 'Y',\n\tIM_BACKGROUND: 'light',\n\tIM_LINES: 'Y',\n\tIM_MENU: 'N',\n\tIM_STATUS: 'N',\n\tIM_V2_LAYOUT: 'Y',\n};\n\n// @vue/component\nexport const OpenlineContent = {\n\tname: 'OpenlineContent',\n\tprops: {\n\t\tentityId: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisLoading: true,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tiframeLink(): string\n\t\t{\n\t\t\tconst params = new URLSearchParams(IFRAME_PARAMS);\n\n\t\t\treturn `${IFRAME_PATH}?${params.toString()}`;\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tLogger.warn('Content: Openline created');\n\t\tthis.subscribeToLinesInitEvent();\n\t},\n\tmethods:\n\t{\n\t\tsubscribeToLinesInitEvent()\n\t\t{\n\t\t\tEvent.bind(window, EventType.lines.onInit, async () => {\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tthis.isLoading = false;\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-openline__container\">\n\t\t\t<iframe class=\"bx-im-content-openline__iframe\" :src=\"iframeLink\" ref=\"frame\" />\n\t\t\t<div v-if=\"isLoading\" class=\"bx-im-content-openline__loader\">Loading...</div>\n\t\t</div>\n\t`,\n};\n"],"names":["IFRAME_PATH","IFRAME_PARAMS","IFRAME","IM_BACKGROUND","IM_LINES","IM_MENU","IM_STATUS","IM_V2_LAYOUT","OpenlineContent","name","props","entityId","type","String","default","data","isLoading","computed","iframeLink","params","URLSearchParams","toString","created","Logger","warn","subscribeToLinesInitEvent","methods","Event","bind","window","EventType","lines","onInit","$nextTick","template"],"mappings":";;;;;;;;CAOA,MAAMA,WAAW,GAAG,eAAe;CACnC,MAAMC,aAAa,GAAG;GACrBC,MAAM,EAAE,GAAG;GACXC,aAAa,EAAE,OAAO;GACtBC,QAAQ,EAAE,GAAG;GACbC,OAAO,EAAE,GAAG;GACZC,SAAS,EAAE,GAAG;GACdC,YAAY,EAAE;CACf,CAAC;;CAED;AACA,OAAaC,eAAe,GAAG;GAC9BC,IAAI,EAAE,iBAAiB;GACvBC,KAAK,EAAE;KACNC,QAAQ,EAAE;OACTC,IAAI,EAAEC,MAAM;OACZC,OAAO,EAAE;;IAEV;GACDC,IAAI,GACJ;KACC,OAAO;OACNC,SAAS,EAAE;MACX;IACD;GACDC,QAAQ,EACR;KACCC,UAAU,GACV;OACC,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAACnB,aAAa,CAAC;OAEjD,OAAQ,GAAED,WAAY,IAAGmB,MAAM,CAACE,QAAQ,EAAG,EAAC;;IAE7C;GACDC,OAAO,GACP;KACCC,uBAAM,CAACC,IAAI,CAAC,2BAA2B,CAAC;KACxC,IAAI,CAACC,yBAAyB,EAAE;IAChC;GACDC,OAAO,EACP;KACCD,yBAAyB,GACzB;OACCE,eAAK,CAACC,IAAI,CAACC,MAAM,EAAEC,qBAAS,CAACC,KAAK,CAACC,MAAM,EAAE,YAAY;SACtD,MAAM,IAAI,CAACC,SAAS,EAAE;SACtB,IAAI,CAACjB,SAAS,GAAG,KAAK;QACtB,CAAC;;IAEH;GACDkB,QAAQ,EAAG;;;;;;CAMZ,CAAC;;;;;;;;"}