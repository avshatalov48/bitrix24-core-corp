{"version":3,"file":"call-background.bundle.map.js","names":["this","BX","Messenger","v2","exports","ui_buttons","ui_fonts_opensans","im_v2_lib_progressbar","ui_infoHelper","im_v2_lib_utils","rest_client","im_v2_const","main_core","main_core_events","im_v2_lib_logger","im_lib_uploader","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","babelHelpers","defineProperty","getOwnPropertyDescriptors","defineProperties","Background","params","classCallCheck","assign","createClass","value","setUploadProgress","progress","uploadState","setUploadError","status","FileStatus","error","onUploadComplete","fileResult","id","isVideo","background","links","download","isLoading","canRemove","createDefaultFromRest","restItem","includes","isCustom","isSupported","createCustomFromRest","title","Loc","getMessage","createCustomFromUploaderEvent","uploaderData","filePreview","file","preview","type","startsWith","upload","size","BackgroundComponent","props","element","required","isSelected","Boolean","emits","data","computed","containerClasses","classes","imageStyle","backgroundImage","concat","watch","backgroundUploadStateStatus","getProgressBarManager","update","backgroundUploadStateProgress","mounted","initProgressBar","beforeUnmount","removeProgressBar","methods","_this","progressBarManager","ProgressBarManager","container","$refs","subscribe","event","cancel","$emit","destroy","progressBar","start","loc","phraseCode","$Bitrix","template","Action","none","gaussianBlur","blur","isEmpty","isBlur","isUpload","ActionComponent","action","Mask","createEmpty","active","mask","createFromRest","rawMask","MaskComponent","Loader","name","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","privateCollection","has","TypeError","_classPrivateMethodGet","receiver","fn","_initLimits","WeakSet","_initInfoHelper","_limitIsActive","LimitManager","_limits","limits","_infoHelperUrlTemplate","infoHelperUrlTemplate","_initLimits2","call","_initInfoHelper2","isLimitedAction","_limitIsActive2","limitCode","isLimitedBackground","image","showLimitSlider","window","UI","InfoHelper","show","articleCode","isMaskFeatureAvailable","Utils","platform","isBitrixDesktop","isDesktopFeatureEnabled","DesktopFeature","isMaskFeatureSupportedByDesktopVersion","getDesktopVersion","availableFromVersion","showHelpArticle","_window$BX$Helper","Helper","limit","isInited","init","frameUrlTemplate","_this$limits$limitCod","_this$limits$limitCod2","limitIsActive","articleIsActive","TabId","MASK_HELP_ARTICLE_CODE","TabPanel","selectedTab","String","tabs","isNew","ownKeys$1","_objectSpread$1","VIDEO_CONSTRAINT_WIDTH","VIDEO_CONSTRAINT_HEIGHT","VideoPreview","noVideo","videoClasses","Call","Hardware","enableMirroring","created","initHardware","then","getDefaultDevices","console","videoStream","getTracks","tr","stop","_this2","constraints","audio","video","width","ideal","height","defaultCamera","selectedCamera","deviceId","exact","cameraList","navigator","mediaDevices","getUserMedia","stream","getVideoTracks","getSettings","playLocalVideo","Logger","warn","volume","srcObject","play","BackgroundService","getElementsList","_query","query","RestMethod","imCallBackgroundGet","imCallMaskGet","Promise","resolve","reject","rest","callBatch","response","backgroundResult","maskResult","commitBackground","fileId","callMethod","imCallBackgroundCommit","deleteFile","imCallBackgroundDelete","_classPrivateMethodInitSpec$1","_checkPrivateRedeclaration$1","_classPrivateMethodGet$1","FILE_MAX_SIZE","FILE_MAX_SIZE_PHRASE_NUMBER","UPLOAD_CHUNK_SIZE","NOTIFICATION_HIDE_DELAY","CUSTOM_BG_TASK_PREFIX","EVENT_NAMESPACE","_bindEvents","_onFileMaxSizeExceeded","_onSelectFile","_onStartUpload","_onProgress","_onComplete","_onUploadError","_addUploadTask","_isAllowedType","_showNotification","UploadManager","_EventEmitter","inherits","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","setEventNamespace","inputNode","uploader","Uploader","generatePreview","fileMaxSize","_bindEvents2","setDiskFolderId","diskFolderId","cancelUpload","deleteTask","EventEmitter","_onFileMaxSizeExceeded2","bind","_onSelectFile2","_onStartUpload2","_onProgress2","_onComplete2","_onUploadError2","eventData","getData","phrase","replace","_showNotification2","_event$getData","previewData","_isAllowedType2","_addUploadTask2","_event$getData2","URL","createObjectURL","emit","uploadStart","_event$getData3","uploadProgress","_event$getData4","result","uploadComplete","uploadError","addTask","taskId","Date","now","chunkSize","fileData","fileName","generateUniqueName","previewBlob","fileType","allowedFileTypes","text","Notification","Center","notify","content","autoHideDelay","CallBackground","components","tab","default","selectedBackgroundId","selectedMaskId","loadingItems","actions","defaultBackgrounds","customBackgrounds","masks","listIsScrolled","TabId$$1","backgrounds","toConsumableArray","isDesktop","uploadTypes","join","descriptionText","replaces","initSelectedTab","getBackgroundService","initLimitManager","initBackgroundList","uploadManager","folderId","uploadActionIsAvailable","initActions","initMasks","initMaskLoadEventHandler","initPreviouslySelectedItem","hideLoader","initUploader","initPreviouslySelectedMask","initPreviouslySelectedBackground","_window$BX$desktop$ge","desktop","getMask","maskId","foundMask","find","previouslySelectedMask","_window$BX$desktop$ge2","getBackgroundImage","backgroundId","itemsToSearch","foundBackground","item","previouslySelectedBackground","restResult","custom","infoHelperParams","limitManager","_this3","backgroundsInstance","unshift","findCustomBackgroundById","onBackgroundClick","_this4","maskLoadTimeouts","setCallMaskLoadHandlers","onMaskLoad","onActionClick","getLimitManager","click","removeCallBackground","setCallBlur","setCallBackground","onBackgroundRemove","onMaskClick","removeCallMask","setCallMask","onSaveButtonClick","close","onCancelButtonClick","_this5","backgroundWasChanged","maskWasChanged","backgroundPromise","isWaitingForMaskToCancel","onListScroll","scrollTop","onTabChange","newTabId","url","masksWithoutEmpty","loadedMask","clearTimeout","lastRequestedMaskId","backgroundInstance","MASK_LOAD_STATUS_DELAY","setTimeout","backgroundService","replacements","undefined","Component","Lib","Const","Event"],"sources":["call-background.bundle.js"],"mappings":"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"}