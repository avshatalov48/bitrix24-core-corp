{"version":3,"file":"copilot-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","ui_designTokens","im_v2_lib_slider","im_v2_lib_draft","im_v2_component_elements","main_date","im_v2_application_core","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_const","im_v2_lib_logger","im_v2_provider_service","main_core","im_public","im_v2_lib_menu","MessageText","props","item","type","Object","required","data","computed","recentItem","dialog","$store","getters","dialogId","user","showLastMessage","Settings","recent","hiddenMessageText","$Bitrix","Loc","getMessage","isLastMessageAuthor","message","senderId","Core","getUserId","lastMessageAuthorAvatar","authorDialog","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","preparedDraftContent","phrase","loc","PLACEHOLDER_LENGTH","length","prefix","slice","formattedDraftText","purify","draft","showIconIfEmptyText","methods","phraseCode","replacements","template","CopilotItem","name","components","Avatar","ChatTitle","AvatarSize","formattedDate","formatDate","date","formattedCounter","counter","toString","layout","isChatSelected","Layout","copilot","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","showPinnedIcon","pinned","unread","showCounter","wrapClasses","itemClasses","DateFormatter","formatByTemplate","DateTemplate","CopilotRecentService","RecentService","getQueryParams","firstPage","ONLY_COPILOT","LIMIT","itemsPerPage","LAST_MESSAGE_DATE","lastMessageDate","GET_ORIGINAL_TEXT","getModelSaveMethod","getCollection","store","getExtractorOptions","withBirthdays","hideChat","Logger","warn","dispatch","id","chatIsOpened","openCopilot","restClient","callMethod","RestMethod","imRecentHide","DIALOG_ID","catch","error","console","CopilotRecentMenu","RecentMenu","getMenuItems","getOpenItem","getPinMessageItem","getHideItem","onclick","context","menuInstance","close","getRecentService","service","CopilotList","LoadingState","RecentLoadingState","emits","isLoading","isCreatingChat","collection","sortedItems","sort","a","b","firstDate","secondDate","pinnedItems","filter","generalItems","async","contextMenuManager","loadFirstPage","CopilotDraftManager","getInstance","initDraftHistory","beforeUnmount","destroy","event","oneScreenRemaining","hasMoreItemsToLoad","loadNextPage","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","bottomPointOfVisibleContent","target","scrollTop","clientHeight","containerHeight","scrollHeight","oneScreenHeight","List","Lib","Elements","Main","Application","Const","Provider","Service"],"sources":["copilot-list.bundle.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,UAAYF,KAAKC,GAAGC,WAAa,CAAC,EAC1CF,KAAKC,GAAGC,UAAUC,GAAKH,KAAKC,GAAGC,UAAUC,IAAM,CAAC,EAChDH,KAAKC,GAAGC,UAAUC,GAAGC,UAAYJ,KAAKC,GAAGC,UAAUC,GAAGC,WAAa,CAAC,GACnE,SAAUC,EAAQC,EAAgBC,EAAiBC,EAAgBC,EAAyBC,EAAUC,EAAuBC,EAAgBC,EAAiBC,EAAwBC,EAAYC,EAAiBC,EAAuBC,EAAUC,EAAUC,GAC9P,aAGA,MAAMC,EAAc,CAClBC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,SAAU,OAGdC,OACE,MAAO,CAAC,CACV,EACAC,SAAU,CACRC,aACE,OAAO7B,KAAKuB,IACd,EACAO,SACE,OAAO9B,KAAK+B,OAAOC,QAAQ,aAAahC,KAAK6B,WAAWI,SAAU,KACpE,EACAC,OACE,OAAOlC,KAAK+B,OAAOC,QAAQ,aAAahC,KAAK6B,WAAWI,SAAU,KACpE,EACAE,kBACE,OAAOnC,KAAK+B,OAAOC,QAAQ,4BAA4BjB,EAAYqB,SAASC,OAAOF,gBACrF,EACAG,oBACE,OAAOtC,KAAKuC,QAAQC,IAAIC,WAAW,oCACrC,EACAC,sBACE,IAAK1C,KAAK6B,WAAWc,QAAS,CAC5B,OAAO,KACT,CACA,OAAO3C,KAAK6B,WAAWc,QAAQC,WAAajC,EAAuBkC,KAAKC,WAC1E,EACAC,0BACE,MAAMC,EAAehD,KAAK+B,OAAOC,QAAQ,aAAahC,KAAK6B,WAAWc,QAAQC,UAC9E,IAAKI,EAAc,CACjB,MAAO,EACT,CACA,OAAOA,EAAaC,MACtB,EACAC,+BACE,MAAO,CACLC,gBAAiB,QAAQnD,KAAK+C,4BAElC,EACAK,cACE,MAAMC,EAAgBxC,EAAiByC,OAAOC,aAAavD,KAAK6B,YAChE,IAAKwB,EAAe,CAClB,OAAOrD,KAAKsC,iBACd,CACA,OAAOe,CACT,EACAG,uBACE,MAAMC,EAAc,GACpB,OAAO7C,EAAgB8C,MAAMC,KAAKC,uBAAuB5D,KAAKoD,YAAaK,EAC7E,EACAI,uBACE,MAAMC,EAAS9D,KAAK+D,IAAI,kCACxB,MAAMC,EAAqB,SAASC,OACpC,MAAMC,EAASJ,EAAOK,MAAM,GAAIH,GAChC,MAAO,yEACoDE,iFACAlE,KAAKoE,mCAElE,EACAA,qBACE,OAAOvD,EAAiByC,OAAOe,OAAO,CACpCV,KAAM3D,KAAK6B,WAAWyC,MAAMX,KAC5BY,oBAAqB,OAEzB,GAEFC,QAAS,CACPT,IAAIU,EAAYC,EAAe,CAAC,GAC9B,OAAO1E,KAAKuC,QAAQC,IAAIC,WAAWgC,EAAYC,EACjD,GAEFC,SAAU,o7BAmBZ,MAAMC,EAAc,CAClBC,KAAM,cACNC,WAAY,CACVC,OAAQtE,EAAyBsE,OACjCC,UAAWvE,EAAyBuE,UACpC3D,eAEFC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,SAAU,OAGdC,OACE,MAAO,CAAC,CACV,EACAC,SAAU,CACRqD,WAAY,IAAMxE,EAAyBwE,WAC3CpD,aACE,OAAO7B,KAAKuB,IACd,EACA2D,gBACE,OAAOlF,KAAKmF,WAAWnF,KAAK6B,WAAWc,QAAQyC,KACjD,EACAC,mBACE,OAAOrF,KAAK8B,OAAOwD,QAAU,GAAK,MAAQtF,KAAK8B,OAAOwD,QAAQC,UAChE,EACAzD,SACE,OAAO9B,KAAK+B,OAAOC,QAAQ,aAAahC,KAAK6B,WAAWI,SAAU,KACpE,EACAuD,SACE,OAAOxF,KAAK+B,OAAOC,QAAQ,wBAC7B,EACAyD,iBACE,GAAIzF,KAAKwF,OAAOX,OAAS9D,EAAY2E,OAAOC,QAAQd,KAAM,CACxD,OAAO,KACT,CACA,OAAO7E,KAAKwF,OAAOI,WAAa5F,KAAK6B,WAAWI,QAClD,EACA4D,cACE,MAAMC,EAAU9F,KAAK8B,OAAOiE,SAASC,MAAKC,GACjCA,IAAYtF,EAAuBkC,KAAKC,cAEjD,OAAOoD,QAAQJ,EACjB,EACAK,kBACE,OAAOnG,KAAK8B,OAAOsE,YAAYnC,OAAS,CAC1C,EACA9B,kBACE,OAAOnC,KAAK+B,OAAOC,QAAQ,4BAA4BjB,EAAYqB,SAASC,OAAOF,gBACrF,EACAkE,iBACE,OAAOrG,KAAK6B,WAAWyE,QAAUtG,KAAK8B,OAAOwD,UAAY,IAAMtF,KAAK6B,WAAW0E,MACjF,EACAC,cACE,OAAOxG,KAAK8B,OAAOwD,QAAU,CAC/B,EACAmB,cACE,MAAO,CACL,WAAYzG,KAAK6B,WAAWyE,OAC5B,aAActG,KAAKyF,eAEvB,EACAiB,cACE,MAAO,CACL,aAAc1G,KAAKmC,gBAEvB,GAEFqC,QAAS,CACPW,WAAWC,GACT,OAAOtE,EAAwB6F,cAAcC,iBAAiBxB,EAAMtE,EAAwB+F,aAAaxE,OAC3G,EACA0B,IAAIU,GACF,OAAOzE,KAAKuC,QAAQC,IAAIC,WAAWgC,EACrC,GAGFE,SAAU,ihDAiCZ,MAAMmC,UAA6B7F,EAAuB8F,cACxDC,eAAeC,GACb,MAAO,CACLC,aAAc,IACdC,MAAOnH,KAAKoH,aACZC,kBAAmBJ,EAAY,KAAOjH,KAAKsH,gBAC3CC,kBAAmB,IAEvB,CACAC,qBACE,MAAO,mBACT,CACAC,gBACE,OAAOzH,KAAK0H,MAAM1F,QAAQ,8BAC5B,CACA2F,sBACE,MAAO,CACLC,cAAe,MAEnB,CACAC,SAAS5F,GACPjB,EAAiB8G,OAAOC,KAAK,kCAAmC9F,GAChE,MAAMJ,EAAa7B,KAAK0H,MAAM1F,QAAQ,cAAcC,GACpD,IAAKJ,EAAY,CACf,MACF,CACA7B,KAAK0H,MAAMM,SAAS,gBAAiB,CACnCC,GAAIhG,IAEN,MAAMiG,EAAelI,KAAK0H,MAAM1F,QAAQ,0BAA0BC,GAClE,GAAIiG,EAAc,CAChB/G,EAAUjB,UAAUiI,aACtB,CACAnI,KAAKoI,WAAWC,WAAWtH,EAAYuH,WAAWC,aAAc,CAC9DC,UAAWvG,IACVwG,OAAMC,IAEPC,QAAQD,MAAM,wCAAyCA,EAAM,GAEjE,EAGF,MAAME,UAA0BxH,EAAeyH,WAC7CC,eACE,MAAO,CAAC9I,KAAK+I,cAAe/I,KAAKgJ,oBAAqBhJ,KAAKiJ,cAC7D,CACAF,cACE,MAAO,CACLpF,KAAMzC,EAAUsB,IAAIC,WAAW,oBAC/ByG,QAAS,KACP/H,EAAUjB,UAAUiI,YAAYnI,KAAKmJ,QAAQlH,UAC7CjC,KAAKoJ,aAAaC,OAAO,EAG/B,CACAJ,cACE,MAAO,CACLtF,KAAMzC,EAAUsB,IAAIC,WAAW,6BAC/ByG,QAAS,KACPlJ,KAAKsJ,mBAAmBzB,SAAS7H,KAAKmJ,QAAQlH,UAC9CjC,KAAKoJ,aAAaC,OAAO,EAG/B,CACAC,mBACE,IAAKtJ,KAAKuJ,QAAS,CACjBvJ,KAAKuJ,QAAU,IAAIzC,CACrB,CACA,OAAO9G,KAAKuJ,OACd,EAIF,MAAMC,EAAc,CAClB3E,KAAM,cACNC,WAAY,CACV2E,aAAchJ,EAAyBiJ,mBACvC9E,eAEF+E,MAAO,CAAC,aACRhI,OACE,MAAO,CACLiI,UAAW,MACXC,eAAgB,MAEpB,EACAjI,SAAU,CACRkI,aACE,OAAO9J,KAAKsJ,mBAAmB7B,eACjC,EACAsC,cACE,MAAO,IAAI/J,KAAK8J,YAAYE,MAAK,CAACC,EAAGC,KACnC,MAAMC,EAAYnK,KAAK+B,OAAOC,QAAQ,yBAAyBiI,EAAEhI,UACjE,MAAMmI,EAAapK,KAAK+B,OAAOC,QAAQ,yBAAyBkI,EAAEjI,UAClE,OAAOmI,EAAaD,CAAS,GAEjC,EACAE,cACE,OAAOrK,KAAK+J,YAAYO,QAAO/I,GACtBA,EAAK+E,SAAW,MAE3B,EACAiE,eACE,OAAOvK,KAAK+J,YAAYO,QAAO/I,GACtBA,EAAK+E,SAAW,OAE3B,GAEFkE,gBACExK,KAAKyK,mBAAqB,IAAI7B,EAC9B5I,KAAK4J,UAAY,WACX5J,KAAKsJ,mBAAmBoB,gBAC9B1K,KAAK4J,UAAY,MACjBpJ,EAAgBmK,oBAAoBC,cAAcC,kBACpD,EACAC,gBACE9K,KAAKyK,mBAAmBM,SAC1B,EACAvG,QAAS,CACPgG,eAAeQ,GACbhL,KAAKyK,mBAAmBpB,QACxB,IAAKrJ,KAAKiL,mBAAmBD,KAAWhL,KAAKsJ,mBAAmB4B,mBAAoB,CAClF,MACF,CACAlL,KAAK4J,UAAY,WACX5J,KAAKsJ,mBAAmB6B,eAC9BnL,KAAK4J,UAAY,KACnB,EACAwB,QAAQ7J,EAAMyJ,GACZhL,KAAKqL,MAAM,YAAa9J,EAAKU,SAC/B,EACAqJ,aAAa/J,EAAMyJ,GACjBA,EAAMO,iBACNvL,KAAKyK,mBAAmBe,SAASjK,EAAMyJ,EAAMS,cAC/C,EACAR,mBAAmBD,GACjB,MAAMU,EAA8BV,EAAMW,OAAOC,UAAYZ,EAAMW,OAAOE,aAC1E,MAAMC,EAAkBd,EAAMW,OAAOI,aACrC,MAAMC,EAAkBhB,EAAMW,OAAOE,aACrC,OAAOH,GAA+BI,EAAkBE,CAC1D,EACA1C,mBACE,IAAKtJ,KAAKuJ,QAAS,CACjBvJ,KAAKuJ,QAAU,IAAIzC,CACrB,CACA,OAAO9G,KAAKuJ,OACd,EACAxF,IAAIU,GACF,OAAOzE,KAAKuC,QAAQC,IAAIC,WAAWgC,EACrC,GAEFE,SAAU,6pCA+BZtE,EAAQmJ,YAAcA,CAEvB,EA1YA,CA0YGxJ,KAAKC,GAAGC,UAAUC,GAAGC,UAAU6L,KAAOjM,KAAKC,GAAGC,UAAUC,GAAGC,UAAU6L,MAAQ,CAAC,EAAGhM,GAAGA,GAAGC,UAAUC,GAAG+L,IAAIjM,GAAGC,UAAUC,GAAG+L,IAAIjM,GAAGC,UAAUC,GAAGC,UAAU+L,SAASlM,GAAGmM,KAAKnM,GAAGC,UAAUC,GAAGkM,YAAYpM,GAAGC,UAAUC,GAAG+L,IAAIjM,GAAGC,UAAUC,GAAG+L,IAAIjM,GAAGC,UAAUC,GAAG+L,IAAIjM,GAAGC,UAAUC,GAAGmM,MAAMrM,GAAGC,UAAUC,GAAG+L,IAAIjM,GAAGC,UAAUC,GAAGoM,SAASC,QAAQvM,GAAGA,GAAGC,UAAUC,GAAG+L,IAAIjM,GAAGC,UAAUC,GAAG+L"}