{"version":3,"file":"copilot-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","ui_designTokens","im_v2_lib_draft","im_v2_component_elements","main_date","im_v2_application_core","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_const","im_v2_lib_logger","im_v2_provider_service","main_core","im_public","im_v2_lib_menu","MessageText","props","item","type","Object","required","data","computed","recentItem","dialog","$store","getters","dialogId","user","showLastMessage","Settings","recent","hiddenMessageText","$Bitrix","Loc","getMessage","isLastMessageAuthor","message","senderId","Core","getUserId","lastMessageAuthorAvatar","authorDialog","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","preparedDraftContent","phrase","loc","PLACEHOLDER_LENGTH","length","prefix","slice","formattedDraftText","purify","draft","showIconIfEmptyText","methods","phraseCode","replacements","template","CopilotItem","name","components","Avatar","ChatTitle","AvatarSize","formattedDate","formatDate","date","formattedCounter","counter","toString","layout","isChatSelected","Layout","copilot","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","showPinnedIcon","pinned","unread","showCounter","wrapClasses","itemClasses","DateFormatter","formatByTemplate","DateTemplate","CopilotRecentService","RecentService","getQueryParams","firstPage","ONLY_COPILOT","LIMIT","itemsPerPage","LAST_MESSAGE_DATE","lastMessageDate","GET_ORIGINAL_TEXT","getModelSaveMethod","getCollection","store","getExtractorOptions","withBirthdays","hideChat","Logger","warn","dispatch","id","chatIsOpened","openCopilot","restClient","callMethod","RestMethod","imRecentHide","DIALOG_ID","catch","error","console","CopilotRecentMenu","RecentMenu","getMenuItems","getOpenItem","getPinMessageItem","getHideItem","onclick","context","menuInstance","close","getRecentService","service","CopilotList","LoadingState","RecentLoadingState","emits","isLoading","isCreatingChat","collection","sortedItems","sort","a","b","firstDate","secondDate","pinnedItems","filter","generalItems","async","contextMenuManager","loadFirstPage","CopilotDraftManager","getInstance","initDraftHistory","beforeUnmount","destroy","event","oneScreenRemaining","hasMoreItemsToLoad","loadNextPage","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","bottomPointOfVisibleContent","target","scrollTop","clientHeight","containerHeight","scrollHeight","oneScreenHeight","List","Lib","Elements","Main","Application","Const","Provider","Service"],"sources":["copilot-list.bundle.js"],"mappings":"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"}