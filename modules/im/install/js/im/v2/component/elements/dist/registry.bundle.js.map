{"version":3,"file":"registry.bundle.js","sources":["../src/user-status/user-status.js","../src/avatar/avatar.js","../src/recent-loading-state/recent-loading-state.js","../src/chat-title/chat-title.js","../src/button/button.js","../src/popup/popup.js","../src/menu/menu-item.js","../src/menu/menu.js","../src/attach/components/delimiter/delimiter.js","../src/attach/components/file/file-item.js","../src/attach/components/file/file.js","../src/attach/components/grid/grid-item.js","../src/attach/components/grid/grid.js","../src/attach/components/html/html.js","../src/attach/components/image/image-item.js","../src/attach/components/image/image.js","../src/attach/components/link/link-item.js","../src/attach/components/link/link.js","../src/attach/components/message/message.js","../src/attach/components/rich/rich-item.js","../src/attach/components/rich/rich.js","../src/attach/components/user/user-item.js","../src/attach/components/user/user.js","../src/attach/attach.js","../src/chat-info-popup/chat-info-content.js","../src/chat-info-popup/chat-info-popup.js","../src/user-list-popup/classes/user-list-service.js","../src/loader/loader.js","../src/user-list-popup/user-item.js","../src/user-list-popup/user-list-content.js","../src/user-list-popup/user-list-popup.js","../src/keyboard/keyboard.js","../src/dropdown/dropdown.js","../src/loader/spinner.js","../src/toggle/toggle.js","../src/media/file.js","../src/media/image.js","../src/media/audio.js","../src/media/video.js","../src/tabs/tabs.js"],"sourcesContent":["import {UserStatus as UserStatusType} from 'im.v2.const';\n\nimport './user-status.css';\n\nexport const UserStatusSize = {\n\tS: 'S',\n\tM: 'M',\n\tL: 'L',\n\tXL: 'XL',\n\tXXL: 'XXL'\n};\n\n// @vue/component\nexport const UserStatus = {\n\tname: 'UserStatus',\n\tprops: {\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t\tvalidator(value) {\n\t\t\t\treturn Object.values(UserStatusType).includes(value);\n\t\t\t}\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: UserStatusSize.M,\n\t\t\tvalidator(value) {\n\t\t\t\treturn Object.values(UserStatusSize).includes(value);\n\t\t\t}\n\t\t}\n\t},\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tcontainerClasses()\n\t\t{\n\t\t\treturn [`--size-${this.size.toLowerCase()}`, `--${this.status}`];\n\t\t}\n\t},\n\ttemplate:\n\t`\n\t\t<div :class=\"containerClasses\" class=\"bx-im-user-status__container bx-im-user-status__scope\"></div>\n\t`\n};","import { Core } from 'im.v2.application.core';\nimport { DialogType, UserStatus as UserStatusType } from 'im.v2.const';\nimport { Utils } from 'im.v2.lib.utils';\n\nimport { UserStatus, UserStatusSize } from '../user-status/user-status';\n\nimport 'ui.fonts.opensans';\nimport './avatar.css';\n\nimport type { ImModelUser, ImModelDialog } from 'im.v2.model';\n\nexport const AvatarSize = Object.freeze({\n\tXS: 'XS',\n\tS: 'S',\n\tM: 'M',\n\tL: 'L',\n\tXL: 'XL',\n\tXXL: 'XXL',\n\tXXXL: 'XXXL',\n});\n\n// @vue/component\nexport const Avatar = {\n\tname: 'MessengerAvatar',\n\tcomponents: { UserStatus },\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithStatus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\timageLoadError: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelDialog\n\t\t{\n\t\t\treturn this.$store.getters['dialogues/get'](this.dialogId, true);\n\t\t},\n\t\tuser(): ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.dialogId, true);\n\t\t},\n\t\tisUser(): boolean\n\t\t{\n\t\t\treturn this.dialog.type === DialogType.user;\n\t\t},\n\t\tisBot(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.user.bot;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tisSpecialType(): boolean\n\t\t{\n\t\t\tconst commonTypes = [DialogType.user, DialogType.chat, DialogType.open];\n\n\t\t\treturn !commonTypes.includes(this.dialog.type);\n\t\t},\n\t\tcontainerTitle(): string\n\t\t{\n\t\t\tif (!this.withTooltip)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--size-${this.size.toLowerCase()}`];\n\t\t\tif (this.withSpecialTypes && this.isSpecialType)\n\t\t\t{\n\t\t\t\tclasses.push('--special');\n\t\t\t}\n\t\t\tconst typeClass = DialogType[this.dialog.type] ? `--${this.dialog.type}` : '--default';\n\t\t\tclasses.push(typeClass);\n\n\t\t\treturn classes;\n\t\t},\n\t\tbackgroundColorStyle(): {backgroundColor: string}\n\t\t{\n\t\t\treturn { backgroundColor: this.dialog.color };\n\t\t},\n\t\tavatarText(): string\n\t\t{\n\t\t\tif (this.isSpecialType || !this.isEnoughSizeForText)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn Utils.text.getFirstLetters(this.dialog.name);\n\t\t},\n\t\tuserStatusIcon(): string\n\t\t{\n\t\t\tif (!this.isUser || this.isBot || this.user.id === Core.getUserId() || !this.isEnoughSizeForStatus)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst status = this.$store.getters['users/getStatus'](this.dialogId);\n\t\t\tif (status && status !== UserStatusType.online)\n\t\t\t{\n\t\t\t\treturn status;\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t\tuserStatusSize(): string\n\t\t{\n\t\t\t// avatar size: status size\n\t\t\tconst sizesMap = {\n\t\t\t\t[AvatarSize.M]: UserStatusSize.S,\n\t\t\t\t[AvatarSize.L]: UserStatusSize.M,\n\t\t\t\t[AvatarSize.XL]: UserStatusSize.L,\n\t\t\t\t[AvatarSize.XXL]: UserStatusSize.XL,\n\t\t\t\t[AvatarSize.XXXL]: UserStatusSize.XXL,\n\t\t\t};\n\n\t\t\treturn sizesMap[this.size];\n\t\t},\n\t\tisEnoughSizeForText(): boolean\n\t\t{\n\t\t\tconst avatarSizesWithText = [AvatarSize.L, AvatarSize.XL, AvatarSize.XXL, AvatarSize.XXXL];\n\n\t\t\treturn avatarSizesWithText.includes(this.size.toUpperCase());\n\t\t},\n\t\tisEnoughSizeForStatus(): boolean\n\t\t{\n\t\t\tconst avatarSizesWithText = [AvatarSize.M, AvatarSize.L, AvatarSize.XL, AvatarSize.XXL, AvatarSize.XXXL];\n\n\t\t\treturn avatarSizesWithText.includes(this.size.toUpperCase());\n\t\t},\n\t\tavatarUrl(): string\n\t\t{\n\t\t\treturn this.dialog.avatar;\n\t\t},\n\t\thasImage(): boolean\n\t\t{\n\t\t\treturn this.avatarUrl && !this.imageLoadError;\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tavatarUrl()\n\t\t{\n\t\t\tthis.imageLoadError = false;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonImageLoadError()\n\t\t{\n\t\t\tthis.imageLoadError = true;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div :title=\"containerTitle\" :class=\"containerClasses\" class=\"bx-im-avatar__scope bx-im-avatar__container\">\n\t\t\t<!-- Avatar -->\n\t\t\t<template v-if=\"hasImage\">\n\t\t\t\t<img :src=\"avatarUrl\" :alt=\"dialog.name\" class=\"bx-im-avatar__content --image\" @error=\"onImageLoadError\"/>\n\t\t\t\t<div v-if=\"withSpecialTypes && isSpecialType\" :style=\"backgroundColorStyle\" class=\"bx-im-avatar__special-type_icon\"></div>\n\t\t\t</template>\n\t\t\t<div v-else-if=\"withAvatarLetters && avatarText\" :style=\"backgroundColorStyle\" class=\"bx-im-avatar__content --text\">\n\t\t\t\t{{ avatarText }}\n\t\t\t</div>\n\t\t\t<div v-else :style=\"backgroundColorStyle\" class=\"bx-im-avatar__content bx-im-avatar__icon\"></div>\n\t\t\t<!-- Status icons -->\n\t\t\t<div v-if=\"withStatus && userStatusIcon\" class=\"bx-im-avatar__status-icon\">\n\t\t\t\t<UserStatus :status=\"userStatusIcon\" :size=\"userStatusSize\" />\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import './recent-loading-state.css';\n\nexport const RecentLoadingState = {\n\tname: 'RecentLoadingState',\n\tprops: {\n\t\tcompactMode: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\titemsToShow: {\n\t\t\ttype: Number,\n\t\t\tdefault: 50\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tisThreeLineVersion()\n\t\t{\n\t\t\treturn Math.random() < 0.5;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div v-if=\"!compactMode\" class=\"bx-im-component-recent-loading-state\">\n\t\t\t<div v-for=\"index in itemsToShow\" class=\"bx-im-component-recent-loading-state-item\">\n\t\t\t\t<div class=\"bx-im-component-recent-loading-state-avatar-wrap\">\n\t\t\t\t\t<div class=\"bx-im-component-recent-loading-state-avatar-placeholder\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-component-recent-loading-state-content\">\n\t\t\t\t\t<div class=\"bx-im-component-recent-loading-state-line bx-im-component-recent-loading-state-line-long\"></div>\n\t\t\t\t\t<div class=\"bx-im-component-recent-loading-state-line bx-im-component-recent-loading-state-line-short\"></div>\n\t\t\t\t\t<div v-if=\"isThreeLineVersion()\" class=\"bx-im-component-recent-loading-state-line bx-im-component-recent-loading-state-line-short\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"compactMode\" class=\"bx-im-component-recent-loading-state bx-im-component-recent-loading-state-compact\">\n\t\t\t<div v-for=\"index in itemsToShow\" class=\"bx-im-component-recent-loading-state-item\">\n\t\t\t\t<div class=\"bx-im-component-recent-loading-state-avatar-wrap\">\n\t\t\t\t\t<div class=\"bx-im-component-recent-loading-state-avatar-placeholder\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n","import {Core} from 'im.v2.application.core';\nimport {DialogType, Settings} from 'im.v2.const';\n\nimport './chat-title.css';\n\nimport type {ImModelDialog, ImModelUser} from 'im.v2.model';\n\nconst DialogSpecialType = {\n\tbot: 'bot',\n\textranet: 'extranet',\n\tnetwork: 'network',\n\tsupport24: 'support24'\n};\n\nconst TitleIcons = {\n\tabsent: 'absent',\n\tbirthday: 'birthday',\n};\n\nexport const ChatTitle = {\n\tname: 'ChatTitle',\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 0\n\t\t},\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tshowItsYou: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\twithLeftIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\twithColor: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\twithMute: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tonlyFirstName: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\ttwoLine: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelDialog\n\t\t{\n\t\t\treturn this.$store.getters['dialogues/get'](this.dialogId, true);\n\t\t},\n\t\tuser(): ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.dialogId, true);\n\t\t},\n\t\tbotType(): string\n\t\t{\n\t\t\tif (!this.isUser)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.$store.getters['users/getBotType'](this.dialogId);\n\t\t},\n\t\tisUser(): boolean\n\t\t{\n\t\t\treturn this.dialog.type === DialogType.user;\n\t\t},\n\t\tisSelfChat(): boolean\n\t\t{\n\t\t\treturn this.isUser && this.user.id === Core.getUserId();\n\t\t},\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\tconst classes = [];\n\n\t\t\tif (this.twoLine)\n\t\t\t{\n\t\t\t\tclasses.push('--twoline');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tdialogName(): string\n\t\t{\n\t\t\tif (!this.dialogId && this.text)\n\t\t\t{\n\t\t\t\treturn this.text;\n\t\t\t}\n\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\tif (this.onlyFirstName)\n\t\t\t\t{\n\t\t\t\t\treturn this.user.firstName;\n\t\t\t\t}\n\n\t\t\t\treturn this.user.name;\n\t\t\t}\n\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tdialogSpecialType(): string\n\t\t{\n\t\t\tif (!this.isUser)\n\t\t\t{\n\t\t\t\tif (this.isExtranet)\n\t\t\t\t{\n\t\t\t\t\treturn DialogSpecialType.extranet;\n\t\t\t\t}\n\t\t\t\telse if ([DialogType.support24Notifier, DialogType.support24Question].includes(this.dialog.type))\n\t\t\t\t{\n\t\t\t\t\treturn DialogSpecialType.support24;\n\t\t\t\t}\n\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tif (this.isBot)\n\t\t\t{\n\t\t\t\treturn this.botType;\n\t\t\t}\n\t\t\telse if (this.isExtranet)\n\t\t\t{\n\t\t\t\treturn DialogSpecialType.extranet;\n\t\t\t}\n\t\t\telse if (this.isNetwork)\n\t\t\t{\n\t\t\t\treturn DialogSpecialType.network;\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t\tleftIcon(): string\n\t\t{\n\t\t\tif (!this.withLeftIcon)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tif (this.dialogSpecialType)\n\t\t\t{\n\t\t\t\treturn this.dialogSpecialType;\n\t\t\t}\n\n\t\t\tif (!this.isUser)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tif (this.showBirthdays && this.user.isBirthday)\n\t\t\t{\n\t\t\t\treturn TitleIcons.birthday;\n\t\t\t}\n\t\t\telse if (this.user.isAbsent)\n\t\t\t{\n\t\t\t\treturn TitleIcons.absent;\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t\tcolor(): string\n\t\t{\n\t\t\tif (!this.withColor || this.specialColor)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.dialog.color;\n\t\t},\n\t\tspecialColor(): string\n\t\t{\n\t\t\treturn this.dialogSpecialType;\n\t\t},\n\t\tisBot(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.user.bot;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tisExtranet(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.user.extranet;\n\t\t\t}\n\n\t\t\treturn this.dialog.extranet;\n\t\t},\n\t\tisNetwork(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.user.network;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tisChatMuted(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst isMuted = this.dialog.muteList.find(element => {\n\t\t\t\treturn element === Core.getUserId();\n\t\t\t});\n\n\t\t\treturn !!isMuted;\n\t\t},\n\t\ttooltipText(): string\n\t\t{\n\t\t\tif (this.isSelfChat && this.showItsYou)\n\t\t\t{\n\t\t\t\treturn `${this.dialog.name} (${this.$Bitrix.Loc.getMessage('IM_LIST_RECENT_CHAT_SELF')})`;\n\t\t\t}\n\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tshowBirthdays(): boolean\n\t\t{\n\t\t\treturn this.$store.getters['application/settings/get'](Settings.recent.showBirthday);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div :class=\"containerClasses\" class=\"bx-im-chat-title__scope bx-im-chat-title__container\">\n\t\t\t<span class=\"bx-im-chat-title__content\">\n\t\t\t\t<span v-if=\"leftIcon\" :class=\"'--' + leftIcon\" class=\"bx-im-chat-title__icon\"></span>\n\t\t\t\t<span\n\t\t\t\t\t:class=\"[specialColor? '--' + specialColor : '']\"\n\t\t\t\t\t:style=\"{color: color}\"\n\t\t\t\t\t:title=\"tooltipText\"\n\t\t\t\t\tclass=\"bx-im-chat-title__text\"\n\t\t\t\t>\n\t\t\t\t\t{{ dialogName }}\n\t\t\t\t</span>\n\t\t\t\t<strong v-if=\"isSelfChat && showItsYou\">\n\t\t\t\t\t<span class=\"bx-im-chat-title__text --self\">({{ $Bitrix.Loc.getMessage('IM_LIST_RECENT_CHAT_SELF') }})</span>\n\t\t\t\t</strong>\n\t\t\t\t<div v-if=\"withMute && isChatMuted\" class=\"bx-im-chat-title__muted-icon\"></div>\n\t\t\t</span>\n\t\t</div>\n\t`\n};","import {Type} from 'main.core';\n\nimport './button.css';\n\nexport const ButtonSize = {\n\tS: 'S',\n\tM: 'M',\n\tL: 'L',\n\tXL: 'XL',\n\tXXL: 'XXL'\n};\n\nexport const ButtonColor = {\n\tPrimary: 'primary',\n\tPrimaryLight: 'primary-light',\n\tSuccess: 'success',\n\tDanger: 'danger',\n\tLightBorder: 'light-border',\n\tDangerBorder: 'danger-border',\n\tPrimaryBorder: 'primary-border',\n\tLink: 'link'\n};\n\nexport const ButtonIcon = {\n\tPlus: 'plus',\n\tLink: 'link',\n\tCall: 'call',\n\tEndCall: 'end-call',\n\tAddUser: 'add-user',\n};\n\nexport type CustomColorScheme = {\n\tborderColor: string,\n\tbackgroundColor: string,\n\ticonColor: string,\n\ttextColor: string,\n\thoverColor: string\n};\n\n// @vue/component\nexport const Button = {\n\tname: 'MessengerButton',\n\tprops:\n\t{\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ''\n\t\t},\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ''\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ButtonColor.Primary\n\t\t},\n\t\tcustomColorScheme: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: (): CustomColorScheme => {\n\t\t\t\treturn {\n\t\t\t\t\tborderColor: '',\n\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\ticonColor: '',\n\t\t\t\t\ttextColor: '',\n\t\t\t\t\thoverColor: ''\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tisRounded: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tisDisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tisLoading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tisUppercase: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t}\n\t},\n\temits: ['click'],\n\tcomputed:\n\t{\n\t\tbuttonStyles()\n\t\t{\n\t\t\tconst result = {};\n\t\t\tif (this.hasCustomColorScheme)\n\t\t\t{\n\t\t\t\tresult['borderColor'] = this.customColorScheme.borderColor;\n\t\t\t\tresult['backgroundColor'] = this.customColorScheme.backgroundColor;\n\t\t\t\tresult['color'] = this.customColorScheme.textColor;\n\t\t\t\tresult['--im-button__background-color_hover'] = this.customColorScheme.hoverColor;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tbuttonClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--size-${this.size.toLowerCase()}`];\n\t\t\tif (!this.hasCustomColorScheme)\n\t\t\t{\n\t\t\t\tclasses.push(`--color-${this.color.toLowerCase()}`);\n\t\t\t}\n\t\t\tif (this.isRounded)\n\t\t\t{\n\t\t\t\tclasses.push('--rounded');\n\t\t\t}\n\t\t\tif (this.isDisabled)\n\t\t\t{\n\t\t\t\tclasses.push('--disabled');\n\t\t\t}\n\t\t\tif (this.isLoading)\n\t\t\t{\n\t\t\t\tclasses.push('--loading');\n\t\t\t}\n\t\t\tif (this.isUppercase && this.size !== ButtonSize.S)\n\t\t\t{\n\t\t\t\tclasses.push('--uppercase');\n\t\t\t}\n\t\t\tif (this.text === '')\n\t\t\t{\n\t\t\t\tclasses.push('--no-text');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\ticonStyles()\n\t\t{\n\t\t\tconst result = {};\n\t\t\tif (this.hasCustomColorScheme)\n\t\t\t{\n\t\t\t\tresult['backgroundColor'] = this.customColorScheme.iconColor;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\ticonClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--${this.icon}`];\n\t\t\tif (this.hasCustomColorScheme)\n\t\t\t{\n\t\t\t\tclasses.push('--custom-color');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\thasCustomColorScheme(): boolean\n\t\t{\n\t\t\treturn Type.isStringFilled(this.customColorScheme.borderColor)\n\t\t\t\t&& Type.isStringFilled(this.customColorScheme.iconColor)\n\t\t\t\t&& Type.isStringFilled(this.customColorScheme.textColor)\n\t\t\t\t&& Type.isStringFilled(this.customColorScheme.hoverColor);\n\t\t}\n\t},\n\tmethods: {\n\t\tonClick(event: PointerEvent)\n\t\t{\n\t\t\tif (this.isDisabled || this.isLoading)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$emit('click', event);\n\t\t}\n\t},\n\ttemplate:\n\t`\n\t\t<button\n\t\t\t:class=\"buttonClasses\"\n\t\t\t:style=\"buttonStyles\"\n\t\t\t@click.stop=\"onClick\"\n\t\t\tclass=\"bx-im-button__scope bx-im-button__container\"\n\t\t>\n\t\t\t<span v-if=\"icon\" :style=\"iconStyles\" :class=\"iconClasses\" class=\"bx-im-button__icon\"></span>\n\t\t\t<span class=\"bx-im-button__text\">{{ text }}</span>\n\t\t</button>\n\t`\n};","import {Popup, PopupManager} from 'main.popup';\nimport {Type} from 'main.core';\n\nimport {Logger} from 'im.v2.lib.logger';\n\nconst POPUP_CONTAINER_PREFIX = '#popup-window-content-';\n\n// @vue/component\nexport const MessengerPopup = {\n\tname: 'MessengerPopup',\n\tprops:\n\t{\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: function() {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t}\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tpopupContainer()\n\t\t{\n\t\t\treturn `${POPUP_CONTAINER_PREFIX}${this.id}`;\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tLogger.warn(`Popup: ${this.id} created`);\n\t\tthis.instance = this.getPopupInstance();\n\t\tthis.instance.show();\n\t},\n\tmounted()\n\t{\n\t\tthis.instance.adjustPosition({\n\t\t\tforceBindPosition: true,\n\t\t\tposition: this.getPopupConfig().bindOptions.position\n\t\t});\n\t},\n\tbeforeUnmount()\n\t{\n\t\tif (!this.instance)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.closePopup();\n\t},\n\tmethods:\n\t{\n\t\tgetPopupInstance(): Popup\n\t\t{\n\t\t\tif (!this.instance)\n\t\t\t{\n\t\t\t\tPopupManager.getPopupById(this.id)?.destroy();\n\n\t\t\t\tthis.instance = new Popup(this.getPopupConfig());\n\t\t\t}\n\t\t\treturn this.instance;\n\t\t},\n\t\tgetDefaultConfig(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: this.id,\n\t\t\t\tbindOptions: {\n\t\t\t\t\tposition: 'bottom'\n\t\t\t\t},\n\t\t\t\toffsetTop: 0,\n\t\t\t\toffsetLeft: 0,\n\t\t\t\tclassName: 'bx-im-messenger__scope',\n\t\t\t\tcacheable: false,\n\t\t\t\tcloseIcon: false,\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tanimation: 'fading',\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: this.closePopup.bind(this)\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tgetPopupConfig(): Object\n\t\t{\n\t\t\tconst defaultConfig = this.getDefaultConfig();\n\t\t\tconst modifiedOptions = {};\n\n\t\t\tconst defaultClassName = defaultConfig.className;\n\t\t\tif (this.config.className)\n\t\t\t{\n\t\t\t\tmodifiedOptions['className'] = `${defaultClassName} ${this.config.className}`;\n\t\t\t}\n\n\t\t\tconst offsetTop = this.config.offsetTop ?? defaultConfig.offsetTop;\n\t\t\t// adjust for default popup margin for shadow\n\t\t\tif (this.config.bindOptions?.position === 'top' && Type.isNumber(this.config.offsetTop))\n\t\t\t{\n\t\t\t\tmodifiedOptions['offsetTop'] = offsetTop - 10;\n\t\t\t}\n\n\t\t\treturn {...defaultConfig, ...this.config, ...modifiedOptions};\n\t\t},\n\t\tclosePopup()\n\t\t{\n\t\t\tLogger.warn(`Popup: ${this.id} closing`);\n\t\t\tthis.$emit('close');\n\t\t\tthis.instance.destroy();\n\t\t\tthis.instance = null;\n\t\t},\n\t\tenableAutoHide()\n\t\t{\n\t\t\tthis.getPopupInstance().setAutoHide(true);\n\t\t},\n\t\tdisableAutoHide()\n\t\t{\n\t\t\tthis.getPopupInstance().setAutoHide(false);\n\t\t},\n\t\tadjustPosition()\n\t\t{\n\t\t\tthis.getPopupInstance().adjustPosition({\n\t\t\t\tforceBindPosition: true,\n\t\t\t\tposition: this.getPopupConfig().bindOptions.position\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<Teleport :to=\"popupContainer\">\n\t\t\t<slot\n\t\t\t\t:adjustPosition=\"adjustPosition\"\n\t\t\t\t:enableAutoHide=\"enableAutoHide\"\n\t\t\t\t:disableAutoHide=\"disableAutoHide\"\n\t\t\t></slot>\n\t\t</Teleport>\n\t`\n};","import './css/menu-item.css';\n\nexport const MenuItemIcon = {\n\tchat: 'chat',\n\tchannel: 'channel',\n\tconference: 'conference',\n\tdisk: 'disk',\n\tupload: 'upload',\n\ttask: 'task',\n\tmeeting: 'meeting',\n\tsummary: 'summary',\n\tvote: 'vote',\n\taiText: 'ai-text',\n\taiImage: 'ai-image',\n};\n\n// @vue/component\nexport const MenuItem = {\n\tname: 'MenuItem',\n\tprops:\n\t{\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ''\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tsubtitle: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ''\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tcounter: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 0\n\t\t}\n\t},\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tformattedCounter(): string\n\t\t{\n\t\t\tif (this.counter === 0)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.counter > 99 ? '99+' : `${this.counter}`;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-menu-item__container\" :class=\"{'--disabled': disabled}\">\n\t\t\t<div class=\"bx-im-menu-item__content\" :class=\"{'--with-icon': !!icon}\">\n\t\t\t\t<div v-if=\"icon\" class=\"bx-im-menu_item__icon\" :class=\"'--' + icon\"></div>\n\t\t\t\t<div class=\"bx-im-menu-item__text-content\" :class=\"{'--with-subtitle': !!subtitle}\">\n\t\t\t\t\t<div class=\"bx-im-menu-item__title\">\n\t\t\t\t\t\t<div class=\"bx-im-menu-item__title_text\">{{ title }}</div>\n\t\t\t\t\t\t<div v-if=\"counter\" class=\"bx-im-menu-item__title_counter\">{{ formattedCounter }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"subtitle\" :title=\"subtitle\" class=\"bx-im-menu-item__subtitle\">{{ subtitle }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import {Utils} from 'im.v2.lib.utils';\n\nimport {MessengerPopup} from '../popup/popup';\nimport './css/menu.css';\n\nexport {MenuItem, MenuItemIcon} from './menu-item';\n\nconst ID_PREFIX = 'im-v2-menu';\n\n// @vue/component\nexport const MessengerMenu = {\n\tname: 'MessengerMenu',\n\tcomponents: {MessengerPopup},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tclassName: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ''\n\t\t}\n\t},\n\temits: ['close'],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tid: ''\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.id = this.config.id ?? `${ID_PREFIX}-${Utils.text.getUuidV4()}`;\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"id\"\n\t\t>\n\t\t\t<div class=\"bx-im-menu__container\" :class=\"className\">\n\t\t\t\t<slot name=\"header\"></slot>\n\t\t\t\t<slot></slot>\n\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t</div>\n\t\t</MessengerPopup>\n\t`\n};","import {Color} from 'im.v2.const';\n\nimport './delimiter.css';\n\nimport type {AttachDelimiterConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachDelimiter = {\n\tname: 'AttachDelimiter',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachDelimiterConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tstyles(): Object\n\t\t{\n\t\t\tconst result = {\n\t\t\t\tbackgroundColor: this.internalConfig.DELIMITER.COLOR ?? this.color\n\t\t\t};\n\n\t\t\tif (this.internalConfig.DELIMITER.SIZE)\n\t\t\t{\n\t\t\t\tresult.width = `${this.internalConfig.DELIMITER.SIZE}px`;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-delimiter__container\" :style=\"styles\"></div>\n\t`\n};","import {Utils} from 'im.v2.lib.utils';\n\nimport 'ui.icons.disk';\nimport './file.css';\n\nimport type {AttachFileItemConfig} from 'im.v2.const';\n\nexport const AttachFileItem = {\n\tname: 'AttachFileItem',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachFileItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tfileName(): string\n\t\t{\n\t\t\treturn this.internalConfig.NAME;\n\t\t},\n\t\tfileSize(): number\n\t\t{\n\t\t\treturn this.internalConfig.SIZE;\n\t\t},\n\t\tlink()\n\t\t{\n\t\t\treturn this.internalConfig.LINK;\n\t\t},\n\t\tfileShortName(): string\n\t\t{\n\t\t\tconst NAME_MAX_LENGTH = 70;\n\n\t\t\treturn Utils.file.getShortFileName(this.fileName, NAME_MAX_LENGTH);\n\t\t},\n\t\tformattedFileSize(): string\n\t\t{\n\t\t\treturn Utils.file.formatFileSize(this.fileSize);\n\t\t},\n\t\ticonClasses()\n\t\t{\n\t\t\treturn ['ui-icon', `ui-icon-file-${this.fileIcon}`];\n\t\t},\n\t\tfileIcon(): string\n\t\t{\n\t\t\treturn Utils.file.getIconTypeByFilename(this.fileName);\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\topenLink()\n\t\t{\n\t\t\tif (!this.link)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\twindow.open(this.link, '_blank');\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div @click=\"openLink\" class=\"bx-im-attach-file__container\">\n\t\t\t<div class=\"bx-im-attach-file__item\">\n\t\t\t\t<div class=\"bx-im-attach-file__icon\">\n\t\t\t\t\t<div :class=\"iconClasses\"><i></i></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-attach-file__block\">\n\t\t\t\t\t<div class=\"bx-im-attach-file__name\" :title=\"fileName\">\n\t\t\t\t\t\t{{ fileShortName }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-attach-file__size\">\n\t\t\t\t\t\t{{ formattedFileSize }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import {Color} from 'im.v2.const';\n\nimport {AttachFileItem} from './file-item';\n\nimport 'ui.icons.disk';\nimport './file.css';\n\nimport type {AttachFileConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachFile = {\n\tname: 'AttachFile',\n\tcomponents: {AttachFileItem},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachFileConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-file__container\">\n\t\t\t<AttachFileItem\n\t\t\t\tv-for=\"(fileItem, index) in internalConfig.FILE\"\n\t\t\t\t:config=\"fileItem\"\n\t\t\t\t:key=\"index\"\n\t\t\t/>\n\t\t</div>\n\t`\n};","import {Parser} from 'im.v2.lib.parser';\n\nimport type {AttachGridItemConfig} from 'im.v2.const';\n\nexport const AttachGridItemDisplayType = {\n\tblock: 'block',\n\tline: 'line',\n\trow: 'row'\n};\nconst DisplayType = AttachGridItemDisplayType;\n\n// @vue/component\nexport const AttachGridItem = {\n\tname: 'AttachGridItem',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tDisplayType: () => DisplayType,\n\t\tinternalConfig(): AttachGridItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tdisplay(): $Values<typeof DisplayType>\n\t\t{\n\t\t\treturn this.internalConfig.DISPLAY.toLowerCase();\n\t\t},\n\t\twidth(): string\n\t\t{\n\t\t\tif (!this.value || !this.internalConfig.WIDTH)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn `${this.internalConfig.WIDTH}px`;\n\t\t},\n\t\tvalue(): string\n\t\t{\n\t\t\tif (!this.internalConfig.VALUE)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn Parser.decodeText(this.internalConfig.VALUE);\n\t\t},\n\t\tcolor(): string\n\t\t{\n\t\t\treturn this.internalConfig.COLOR || '';\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn this.internalConfig.NAME;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.LINK;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div v-if=\"display === DisplayType.block\" :style=\"{width}\" class=\"bx-im-attach-grid__item --block\">\n\t\t\t<div class=\"bx-im-attach-grid__name\">{{ name }}</div>\n\t\t\t<div v-if=\"link\" class=\"bx-im-attach-grid__value --link\">\n\t\t\t\t<a :href=\"link\" target=\"_blank\" :style=\"{color}\" v-html=\"value\"></a>\n\t\t\t</div>\n\t\t\t<div v-else v-html=\"value\" :style=\"{color}\" class=\"bx-im-attach-grid__value\"></div>\n\t\t</div>\n\t\t<div v-if=\"display === DisplayType.line\" :style=\"{width}\" class=\"bx-im-attach-grid__item --line\">\n\t\t\t<div class=\"bx-im-attach-grid__name\">{{ name }}</div>\n\t\t\t<div v-if=\"link\" :style=\"{color}\" class=\"bx-im-attach-grid__value --link\">\n\t\t\t\t<a :href=\"link\" target=\"_blank\" v-html=\"value\"></a>\n\t\t\t</div>\n\t\t\t<div v-else class=\"bx-im-attach-grid__value\" :style=\"{color}\" v-html=\"value\"></div>\n\t\t</div>\n\t\t<div v-if=\"display === DisplayType.row\" class=\"bx-im-attach-grid__item --row\">\n\t\t\t<table>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td v-if=\"name\" :colspan=\"value? 1: 2\" :style=\"{width}\" class=\"bx-im-attach-grid__name\">\n\t\t\t\t\t\t\t{{ name }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tv-if=\"value && link\"\n\t\t\t\t\t\t\t:colspan=\"name? 1: 2\"\n\t\t\t\t\t\t\t:style=\"{color}\"\n\t\t\t\t\t\t\tclass=\"bx-im-attach-grid__value --link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a :href=\"link\" target=\"_blank\" v-html=\"value\"></a>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tv-if=\"value && !link\"\n\t\t\t\t\t\t\t:colspan=\"name? 1: 2\"\n\t\t\t\t\t\t\t:style=\"{color}\"\n\t\t\t\t\t\t\tv-html=\"value\"\n\t\t\t\t\t\t\tclass=\"bx-im-attach-grid__value\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t`\n};","import {Color} from 'im.v2.const';\n\nimport {AttachGridItem} from './grid-item';\n\nimport './grid.css';\n\nimport type {AttachGridConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachGrid = {\n\tname: 'AttachGrid',\n\tcomponents: {AttachGridItem},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachGridConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-grid__container\">\n\t\t\t<AttachGridItem\n\t\t\t\tv-for=\"(gridItem, index) in internalConfig.GRID\"\n\t\t\t\t:config=\"gridItem\"\n\t\t\t\t:key=\"index\"\n\t\t\t/>\n\t\t</div>\n\t`\n};","import './html.css';\nimport {Parser} from 'im.v2.lib.parser';\n\nimport type {AttachHtmlConfig} from 'im.v2.const';\n\nexport const AttachHtml = {\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachHtmlConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\thtml()\n\t\t{\n\t\t\treturn Parser.decodeHtml(this.internalConfig.HTML);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-element-attach-type-html\" v-html=\"html\"></div>\n\t`\n};","import {Dom} from 'main.core';\nimport {lazyload} from 'ui.vue3.directives.lazyload';\n\nimport type {AttachImageItemConfig} from 'im.v2.const';\n\nconst MAX_IMAGE_SIZE = 250;\n\n// @vue/component\nexport const AttachImageItem = {\n\tname: 'AttachImageItem',\n\tdirectives:\n\t{\n\t\tlazyload\n\t},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachImageItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\twidth(): number\n\t\t{\n\t\t\treturn this.internalConfig.WIDTH;\n\t\t},\n\t\theight(): number\n\t\t{\n\t\t\treturn this.internalConfig.HEIGHT;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.LINK;\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn this.internalConfig.NAME;\n\t\t},\n\t\tpreview(): string\n\t\t{\n\t\t\treturn this.internalConfig.PREVIEW;\n\t\t},\n\t\tsource()\n\t\t{\n\t\t\treturn this.preview ?? this.link;\n\t\t},\n\t\timageSize(): Object\n\t\t{\n\t\t\tif (!this.width && !this.height)\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tconst aspectRatio = this.width > MAX_IMAGE_SIZE ? MAX_IMAGE_SIZE / this.width : 1;\n\n\t\t\tconst sizes = {\n\t\t\t\twidth: this.width * aspectRatio,\n\t\t\t\theight: this.height * aspectRatio\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\twidth: `${sizes.width}px`,\n\t\t\t\theight: `${sizes.height}px`,\n\t\t\t\tbackgroundSize: (sizes.width < 100 || sizes.height < 100)? 'contain': 'initial'\n\t\t\t};\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\topen()\n\t\t{\n\t\t\tif (!this.link)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\twindow.open(this.link, '_blank');\n\t\t},\n\t\tlazyLoadCallback(event: {element: HTMLElement, state: string})\n\t\t{\n\t\t\tconst {element} = event;\n\t\t\tif (!Dom.style(element, 'width'))\n\t\t\t{\n\t\t\t\tDom.style(element, 'width', `${element.offsetWidth}px`);\n\t\t\t}\n\t\t\tif (!Dom.style(element, 'height'))\n\t\t\t{\n\t\t\t\tDom.style(element, 'height', `${element.offsetHeight}px`);\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-image__item\" @click=\"open\">\n\t\t\t<img\n\t\t\t\tv-lazyload=\"{callback: lazyLoadCallback}\"\n\t\t\t\t:data-lazyload-src=\"source\"\n\t\t\t\t:style=\"imageSize\"\n\t\t\t\t:title=\"name\"\n\t\t\t\t:alt=\"name\"\n\t\t\t\tclass=\"bx-im-attach-image__source\"\n\t\t\t/>\n\t\t</div>\n\t`\n};","import {Color} from 'im.v2.const';\n\nimport {AttachImageItem} from './image-item';\n\nimport './image.css';\n\nimport type {AttachImageConfig} from 'im.v2.const';\n\nexport const AttachImage = {\n\tname: 'AttachImage',\n\tcomponents: {AttachImageItem},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachImageConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-image__container\">\n\t\t\t<AttachImageItem v-for=\"(image, index) in internalConfig.IMAGE\" :config=\"image\" :key=\"index\" />\n\t\t</div>\n\t`\n};","import {Parser} from 'im.v2.lib.parser';\nimport {Color} from 'im.v2.const';\n\nimport {AttachImage} from '../image/image';\n\nimport type {AttachLinkItemConfig, AttachImageConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachLinkItem = {\n\tname: 'AttachLinkItem',\n\tcomponents: {AttachImage},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachLinkItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.LINK;\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn this.internalConfig.NAME ?? this.link;\n\t\t},\n\t\tdescription(): string\n\t\t{\n\t\t\treturn this.internalConfig.DESC;\n\t\t},\n\t\thtml(): string\n\t\t{\n\t\t\tconst content = this.internalConfig.HTML || this.description;\n\n\t\t\treturn Parser.decodeText(content);\n\t\t},\n\t\tpreview(): string\n\t\t{\n\t\t\treturn this.internalConfig.PREVIEW;\n\t\t},\n\t\timageConfig(): AttachImageConfig\n\t\t{\n\t\t\treturn {\n\t\t\t\tIMAGE: [{\n\t\t\t\t\tNAME: this.internalConfig.NAME,\n\t\t\t\t\tPREVIEW: this.internalConfig.PREVIEW,\n\t\t\t\t\tWIDTH: this.internalConfig.WIDTH,\n\t\t\t\t\tHEIGHT: this.internalConfig.HEIGHT,\n\t\t\t\t}]\n\t\t\t};\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-link__item\">\n\t\t\t<a v-if=\"link\" :href=\"link\" target=\"_blank\" class=\"bx-im-attach-link__link\">\n\t\t\t\t{{ name }}\n\t\t\t</a>\n\t\t\t<span v-else class=\"bx-im-attach-link__name\">\n\t\t\t\t{{ name }}\n\t\t\t</span>\n\t\t\t<div v-if=\"internalConfig.HTML || description\" class=\"bx-im-attach-link__desc\" v-html=\"html\"></div>\n\t\t\t<div v-if=\"preview\" class=\"bx-im-attach-link__image\">\n\t\t\t\t<AttachImage :config=\"imageConfig\" :color=\"color\" />\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import {Color} from 'im.v2.const';\n\nimport {AttachLinkItem} from './link-item';\n\nimport './link.css';\n\nimport type {AttachLinkConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachLink = {\n\tname: 'AttachLink',\n\tcomponents: {AttachLinkItem},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachLinkConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-link__container\">\n\t\t\t<AttachLinkItem v-for=\"(link, index) in internalConfig.LINK\" :config=\"link\" :key=\"index\" />\n\t\t</div>\n\t`\n};","import {Color} from 'im.v2.const';\nimport {Parser} from 'im.v2.lib.parser';\n\nimport './message.css';\n\nimport type {AttachMessageConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachMessage = {\n\tname: 'AttachMessage',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachMessageConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tmessage()\n\t\t{\n\t\t\treturn Parser.decodeText(this.internalConfig.MESSAGE);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-message__container\" v-html=\"message\"></div>\n\t`\n};","import {Color} from 'im.v2.const';\nimport {Utils} from 'im.v2.lib.utils';\n\nimport {AttachImage} from '../image/image';\n\nimport type {AttachRichItemConfig, AttachImageConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachRichItem = {\n\tname: 'AttachRichItem',\n\tcomponents: {AttachImage},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachRichItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.LINK;\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn Utils.text.convertHtmlEntities(this.internalConfig.NAME);\n\t\t},\n\t\tdescription(): string\n\t\t{\n\t\t\treturn Utils.text.convertHtmlEntities(this.internalConfig.DESC);\n\t\t},\n\t\thtml(): string\n\t\t{\n\t\t\treturn this.internalConfig.HTML;\n\t\t},\n\t\tpreview(): string\n\t\t{\n\t\t\treturn this.internalConfig.PREVIEW;\n\t\t},\n\t\timageConfig(): AttachImageConfig\n\t\t{\n\t\t\treturn {\n\t\t\t\tIMAGE: [{\n\t\t\t\t\tNAME: this.name,\n\t\t\t\t\tPREVIEW: this.preview,\n\t\t\t\t}]\n\t\t\t};\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\topenLink()\n\t\t{\n\t\t\tif (!this.link)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\twindow.open(this.link, '_blank');\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-rich__item\">\n\t\t\t<div v-if=\"preview\" class=\"bx-im-attach-rich__image\">\n\t\t\t\t<AttachImage :config=\"imageConfig\" :color=\"color\" />\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-attach-rich__block\">\n\t\t\t\t<div class=\"bx-im-attach-rich__name\" @click=\"openLink\">{{ name }}</div>\n\t\t\t\t<div v-if=\"html || description\" class=\"bx-im-attach-rich__desc\">{{ html || description }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import {Color} from 'im.v2.const';\n\nimport {AttachRichItem} from './rich-item';\n\nimport './rich.css';\n\nimport type {AttachRichConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachRich = {\n\tcomponents: {AttachRichItem},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachRichConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-rich__container\">\n\t\t\t<AttachRichItem v-for=\"(rich, index) in internalConfig.RICH_LINK\" :config=\"rich\" :color=\"color\" :key=\"index\" />\n\t\t</div>\n\t`\n};","import {lazyload} from 'ui.vue3.directives.lazyload';\n\nimport {Color} from 'im.v2.const';\n\nimport type {AttachUserItemConfig} from 'im.v2.const';\n\nconst AVATAR_TYPE = {\n\tuser: 'user',\n\tchat: 'chat',\n\tbot: 'bot'\n};\n\n// @vue/component\nexport const AttachUserItem = {\n\tname: 'AttachUserItem',\n\tdirectives: {lazyload},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachUserItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn this.internalConfig.NAME;\n\t\t},\n\t\tavatar(): string\n\t\t{\n\t\t\treturn this.internalConfig.AVATAR;\n\t\t},\n\t\tavatarType(): string\n\t\t{\n\t\t\treturn this.internalConfig.AVATAR_TYPE;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.LINK;\n\t\t},\n\t\tavatarTypeClass()\n\t\t{\n\t\t\tif (this.avatar)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tlet avatarType = AVATAR_TYPE.user;\n\n\t\t\tif (this.avatarType === AVATAR_TYPE.chat)\n\t\t\t{\n\t\t\t\tavatarType = AVATAR_TYPE.chat;\n\t\t\t}\n\t\t\telse if (this.avatarType === AVATAR_TYPE.bot)\n\t\t\t{\n\t\t\t\tavatarType = AVATAR_TYPE.bot;\n\t\t\t}\n\n\t\t\treturn `--${avatarType}`;\n\t\t},\n\t\tavatarTypeStyle(): {backgroundColor: string}\n\t\t{\n\t\t\treturn {backgroundColor: !this.avatar ? this.color : ''};\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-user__item\">\n\t\t\t<div class=\"bx-im-attach-user__avatar\" :class=\"avatarTypeClass\" :style=\"avatarTypeStyle\">\n\t\t\t\t<img v-if=\"avatar\" v-lazyload :data-lazyload-src=\"avatar\" class=\"bx-im-attach-user__source\" alt=\"name\" />\n\t\t\t</div>\n\t\t\t<a v-if=\"link\" :href=\"link\" class=\"bx-im-attach-user__name\" target=\"_blank\">\n\t\t\t\t{{ name }}\n\t\t\t</a>\n\t\t\t<span class=\"bx-im-attach-user__name\" v-else>\n\t\t\t\t{{ name }}\n\t\t\t</span>\n\t\t</div>\n\t`\n};","import {Color} from 'im.v2.const';\n\nimport {AttachUserItem} from './user-item';\n\nimport './user.css';\n\nimport type {AttachUserConfig} from 'im.v2.const';\n\n// @vue/component\nexport const AttachUser = {\n\tname: 'AttachUser',\n\tcomponents: {AttachUserItem},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.transparent\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachUserConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-user__container\">\n\t\t\t<AttachUserItem v-for=\"(user, index) in internalConfig.USER\" :config=\"user\" :color=\"color\" :key=\"index\" />\n\t\t</div>\n\t`\n};","import {Color, AttachType} from 'im.v2.const';\n\nimport {AttachDelimiter} from './components/delimiter/delimiter';\nimport {AttachFile} from './components/file/file';\nimport {AttachGrid} from './components/grid/grid';\nimport {AttachHtml} from './components/html/html';\nimport {AttachImage} from './components/image/image';\nimport {AttachLink} from './components/link/link';\nimport {AttachMessage} from './components/message/message';\nimport {AttachRich} from './components/rich/rich';\nimport {AttachUser} from './components/user/user';\n\nimport './attach.css';\n\nimport type {AttachConfig, AttachConfigBlock} from 'im.v2.const';\n\nconst PropertyToComponentMap = {\n\t[AttachType.Delimiter]: AttachDelimiter,\n\t[AttachType.File]: AttachFile,\n\t[AttachType.Grid]: AttachGrid,\n\t[AttachType.Html]: AttachHtml,\n\t[AttachType.Image]: AttachImage,\n\t[AttachType.Link]: AttachLink,\n\t[AttachType.Message]: AttachMessage,\n\t[AttachType.Rich]: AttachRich,\n\t[AttachType.User]: AttachUser\n};\n\n// @vue/component\nexport const Attach = {\n\tname: 'MessengerAttach',\n\tcomponents: {\n\t\tAttachDelimiter,\n\t\tAttachFile,\n\t\tAttachGrid,\n\t\tAttachHtml,\n\t\tAttachImage,\n\t\tAttachLink,\n\t\tAttachMessage,\n\t\tAttachRich,\n\t\tAttachUser\n\t},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t},\n\t\tbaseColor: {\n\t\t\ttype: String,\n\t\t\tdefault: Color.base\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tblocks()\n\t\t{\n\t\t\treturn this.internalConfig.BLOCKS;\n\t\t},\n\t\tcolor()\n\t\t{\n\t\t\tif (!this.internalConfig.COLOR)\n\t\t\t{\n\t\t\t\treturn this.baseColor;\n\t\t\t}\n\n\t\t\tif (this.internalConfig.COLOR === Color.transparent)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.internalConfig.COLOR;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tgetComponentForBlock(block: AttachConfigBlock)\n\t\t{\n\t\t\tconst [blockType] = Object.keys(block);\n\t\t\tif (!PropertyToComponentMap[blockType])\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn PropertyToComponentMap[blockType];\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach__container bx-im-attach__scope\">\n\t\t\t<div v-if=\"color\" class=\"bx-im-attach__border\" :style=\"{borderColor: color}\"></div>\n\t\t\t<div class=\"bx-im-attach__content\">\n\t\t\t\t<component\n\t\t\t\t\tv-for=\"(block, index) in blocks\"\n\t\t\t\t\t:is=\"getComponentForBlock(block)\"\n\t\t\t\t\t:config=\"block\"\n\t\t\t\t\t:color=\"color\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import {Messenger} from 'im.public';\nimport {ChatService} from 'im.v2.provider.service';\nimport {DialogType} from 'im.v2.const';\nimport {Utils} from 'im.v2.lib.utils';\n\nimport {Avatar, ChatTitle, Button, ButtonColor, ButtonSize} from '../registry';\n\nimport './chat-info-content.css';\n\n// @vue/component\nexport const ChatInfoContent = {\n\tcomponents: {Avatar, ChatTitle, Button},\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\thasError: false,\n\t\t\tisLoading: false\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tButtonColor: () => ButtonColor,\n\t\tButtonSize: () => ButtonSize,\n\t\tdialog(): ?Object\n\t\t{\n\t\t\treturn this.$store.getters['dialogues/get'](this.dialogId);\n\t\t},\n\t\tuser()\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.dialogId, true);\n\t\t},\n\t\tisUser()\n\t\t{\n\t\t\treturn this.dialog?.type === DialogType.user;\n\t\t},\n\t\tisChat()\n\t\t{\n\t\t\treturn !this.isUser;\n\t\t},\n\t\tchatType(): string\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.$store.getters['users/getPosition'](this.dialogId);\n\t\t\t}\n\n\t\t\treturn this.$Bitrix.Loc.getMessage('IM_LIST_RECENT_CHAT_TYPE_GROUP_V2');\n\t\t},\n\t\topenChatButtonText()\n\t\t{\n\t\t\tif (this.isChat)\n\t\t\t{\n\t\t\t\treturn this.$Bitrix.Loc.getMessage('IM_ELEMENTS_CHAT_INFO_POPUP_OPEN_CHAT');\n\t\t\t}\n\n\t\t\treturn this.$Bitrix.Loc.getMessage('IM_ELEMENTS_CHAT_INFO_POPUP_WRITE_A_MESSAGE');\n\t\t},\n\t\tuserProfileLink(): string\n\t\t{\n\t\t\treturn Utils.user.getProfileLink(this.dialogId);\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.chatService = new ChatService();\n\t\tif (!this.dialog)\n\t\t{\n\t\t\tthis.loadChat();\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tloadChat()\n\t\t{\n\t\t\tthis.isLoading = true;\n\t\t\tthis.chatService.loadChat(this.dialogId).then(() => {\n\t\t\t\tthis.isLoading = false;\n\t\t\t}).catch((error) => {\n\t\t\t\tthis.isLoading = false;\n\t\t\t\tthis.hasError = true;\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t},\n\t\tonOpenChat()\n\t\t{\n\t\t\tMessenger.openChat(this.dialogId);\n\t\t},\n\t\tonClickVideoCall()\n\t\t{\n\t\t\tMessenger.startVideoCall(this.dialogId);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-chat-info-content__container\">\n\t\t\t<template v-if=\"!isLoading && !hasError\">\n\t\t\t\t<div class=\"bx-im-chat-info-content__detail-info-container\">\n\t\t\t\t\t<div class=\"bx-im-chat-info-content__avatar-container\">\n\t\t\t\t\t\t<Avatar :dialogId=\"dialogId\" size=\"XL\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-chat-info-content__title-container\">\n\t\t\t\t\t\t<ChatTitle v-if=\"isChat\" :dialogId=\"dialogId\" />\n\t\t\t\t\t\t<a v-else :href=\"userProfileLink\" target=\"_blank\">\n\t\t\t\t\t\t\t<ChatTitle :dialogId=\"dialogId\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class=\"bx-im-chat-info-content__chat-description_text\">\n\t\t\t\t\t\t\t{{ chatType }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-chat-info-content__buttons-container\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t:size=\"ButtonSize.M\"\n\t\t\t\t\t\t:color=\"ButtonColor.PrimaryBorder\"\n\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t:text=\"openChatButtonText\"\n\t\t\t\t\t\t:isUppercase=\"false\"\n\t\t\t\t\t\t@click=\"onOpenChat\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tv-if=\"isUser\"\n\t\t\t\t\t\t:size=\"ButtonSize.M\"\n\t\t\t\t\t\t:color=\"ButtonColor.PrimaryBorder\"\n\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t:isUppercase=\"false\"\n\t\t\t\t\t\t:text=\"$Bitrix.Loc.getMessage('IM_ELEMENTS_CHAT_INFO_POPUP_VIDEOCALL')\"\n\t\t\t\t\t\t@click=\"onClickVideoCall\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"isLoading\">\n\t\t\t\t<div class=\"bx-im-chat-info-content__loader-container\">\n\t\t\t\t\t<div class=\"bx-im-chat-info-content__loader_icon\"></div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"hasError\">\n\t\t\t\t<div class=\"bx-im-chat-info-content__error-container\">\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage('IM_ELEMENTS_CHAT_INFO_POPUP_NO_ACCESS') }}\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`\n};\n","import {ChatInfoContent} from './chat-info-content';\nimport {MessengerPopup} from '../popup/popup';\n\nconst POPUP_ID = 'im-chat-info-popup';\n\n// @vue/component\nexport const ChatInfoPopup = {\n\tname: 'ChatInfoPopup',\n\tcomponents: {MessengerPopup, ChatInfoContent},\n\tprops:\n\t{\n\t\tshowPopup: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\tminWidth: 313,\n\t\t\t\theight: 134,\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\toffsetTop: 0,\n\t\t\t\tpadding: 16,\n\t\t\t\tangle: true\n\t\t\t};\n\t\t}\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\tv-if=\"showPopup\" \n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"POPUP_ID\"\n\t\t>\n\t\t\t<ChatInfoContent :dialogId=\"dialogId\"/>\n\t\t</MessengerPopup>\n\t`\n};","import {Core} from 'im.v2.application.core';\nimport {RestMethod} from 'im.v2.const';\nimport {UserManager} from 'im.v2.lib.user';\n\nimport type {Store} from 'ui.vue3.vuex';\nimport type {RestClient} from 'rest.client';\n\nexport class UserListService\n{\n\t#store: Store;\n\t#restClient: RestClient;\n\t#userManager: UserManager;\n\n\tconstructor()\n\t{\n\t\tthis.#store = Core.getStore();\n\t\tthis.#restClient = Core.getRestClient();\n\t\tthis.#userManager = new UserManager();\n\t}\n\n\tloadUsers(userIds: number[]): Promise\n\t{\n\t\treturn this.#restClient.callMethod(RestMethod.imUserListGet, {ID: userIds})\n\t\t\t.then(response => {\n\t\t\t\treturn this.#userManager.setUsersToModel(Object.values(response.data()));\n\t\t\t});\n\t}\n}","import {Loader as UILoader} from 'ui.loader';\nimport './loader.css';\n\nconst LOADER_SIZE = 'xs';\nconst LOADER_TYPE = 'BULLET';\n\n// @vue/component\nexport const Loader = {\n\tname: 'MessengerLoader',\n\tmounted()\n\t{\n\t\tthis.loader = new UILoader({\n\t\t\ttarget: this.$refs['messenger-loader'],\n\t\t\ttype: LOADER_TYPE,\n\t\t\tsize: LOADER_SIZE,\n\t\t});\n\t\tthis.loader.render();\n\t\tthis.loader.show();\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.loader.hide();\n\t\tthis.loader = null;\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-elements-loader__container\" ref=\"messenger-loader\"></div>\n\t`\n};","import {Messenger} from 'im.public';\nimport {ImModelUser} from 'im.v2.model';\nimport {Layout} from 'im.v2.const';\n\nimport {Avatar, AvatarSize} from '../avatar/avatar';\nimport {ChatTitle} from '../chat-title/chat-title';\n\nimport './user-list-content.css';\n\n// @vue/component\nexport const UserItem = {\n\tname: 'UserItem',\n\tcomponents: {Avatar, ChatTitle},\n\tprops: {\n\t\tuserId: {\n\t\t\ttype: Number,\n\t\t\trequired: true\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tAvatarSize: () => AvatarSize,\n\t\tuser(): ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.userId, true);\n\t\t},\n\t\tuserDialogId(): string\n\t\t{\n\t\t\treturn this.userId.toString();\n\t\t},\n\t\tuserStatusClasses(): string[]\n\t\t{\n\t\t\tif (this.user.bot)\n\t\t\t{\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst status = this.$store.getters['users/getStatus'](this.userId);\n\t\t\tif (status === '')\n\t\t\t{\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t'bx-im-user-list-content__avatar-status',\n\t\t\t\t`--${status}`,\n\t\t\t];\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonUserClick()\n\t\t{\n\t\t\tMessenger.openChat(this.userDialogId);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-user-list-content__user-container\" @click=\"onUserClick\">\n\t\t\t<div class=\"bx-im-user-list-content__avatar-container\" :class=\"userStatusClasses\">\n\t\t\t\t<Avatar :size=\"AvatarSize.XS\" :dialogId=\"userDialogId\" />\n\t\t\t</div>\n\t\t\t<ChatTitle class=\"bx-im-user-list-content__chat-title-container\" :dialogId=\"userDialogId\" />\n\t\t</div>\n\t`\n};","import {ImModelUser} from 'im.v2.model';\n\nimport {UserListService} from './classes/user-list-service';\n\nimport {Loader} from '../loader/loader';\nimport {UserItem} from './user-item';\n\nimport './user-list-content.css';\n\n// @vue/component\nexport const UserListContent = {\n\tcomponents: {UserItem, Loader},\n\tprops: {\n\t\tuserIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tadjustPopupFunction: {\n\t\t\ttype: Function,\n\t\t\trequired: true\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\thasError: false,\n\t\t\tisLoadingUsers: false\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tisLoading(): boolean\n\t\t{\n\t\t\treturn this.loading || this.isLoadingUsers;\n\t\t}\n\t},\n\twatch:\n\t{\n\t\tuserIds()\n\t\t{\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.adjustPopupFunction();\n\t\t\t});\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tif (this.needUserRequest())\n\t\t{\n\t\t\tthis.requestUserData();\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tgetUserListService(): UserListService\n\t\t{\n\t\t\tif (!this.userListService)\n\t\t\t{\n\t\t\t\tthis.userListService = new UserListService();\n\t\t\t}\n\n\t\t\treturn this.userListService;\n\t\t},\n\t\tgetUser(userId): ?ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](userId);\n\t\t},\n\t\tneedUserRequest(): boolean\n\t\t{\n\t\t\treturn this.userIds.some(userId => !this.getUser(userId));\n\t\t},\n\t\trequestUserData()\n\t\t{\n\t\t\tthis.isLoadingUsers = true;\n\t\t\tthis.getUserListService().loadUsers(this.userIds)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.isLoadingUsers = false;\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\tthis.hasError = true;\n\t\t\t\t\tthis.isLoadingUsers = false;\n\t\t\t\t});\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-user-list-content__container bx-im-user-list-content__scope\">\n\t\t\t<template v-if=\"!isLoading && !hasError\">\n\t\t\t\t<UserItem v-for=\"userId in userIds\" :userId=\"userId\" />\n\t\t\t</template>\n\t\t\t<div v-else-if=\"isLoading\" class=\"bx-im-user-list-content__loader-container\">\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t\t<div v-else-if=\"hasError\">\n\t\t\t\t{{ loc('IM_ELEMENTS_CHAT_INFO_POPUP_NO_ACCESS') }}\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import {UserListContent} from './user-list-content';\nimport {MessengerPopup} from '../popup/popup';\n\nconst POPUP_ID = 'im-user-list-popup';\n\n// @vue/component\nexport const UserListPopup = {\n\tname: 'UserListPopup',\n\tcomponents: {MessengerPopup, UserListContent},\n\tprops:\n\t{\n\t\tshowPopup: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: POPUP_ID\n\t\t},\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tuserIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\twithAngle: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tforceTop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\toffsetLeft: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 0\n\t\t}\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig()\n\t\t{\n\t\t\tconst config = {\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\toffsetTop: 4,\n\t\t\t\toffsetLeft: this.offsetLeft,\n\t\t\t\tpadding: 0,\n\t\t\t\tangle: this.withAngle\n\t\t\t};\n\n\t\t\tif (this.forceTop)\n\t\t\t{\n\t\t\t\tconfig.bindOptions = {position: 'top'};\n\t\t\t}\n\n\t\t\treturn config;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\tv-if=\"showPopup\"\n\t\t\tv-slot=\"{adjustPosition}\"\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"id\"\n\t\t>\n\t\t\t<UserListContent :userIds=\"userIds\" :loading=\"loading\" :adjustPopupFunction=\"adjustPosition\"/>\n\t\t</MessengerPopup>\n\t`\n};","/**\n * Bitrix Messenger\n * Attach element Vue component\n *\n * @package bitrix\n * @subpackage im\n * @copyright 2001-2019 Bitrix\n */\n\nimport './keyboard.css';\nimport {Utils} from 'im.v2.lib.utils';\nimport {Logger} from 'im.v2.lib.logger';\n\nconst ButtonType = Object.freeze({\n\tnewline: 'NEWLINE',\n\tbutton: 'BUTTON'\n});\n\nexport const Keyboard = {\n\t/*\n\t * @emits 'click' {action: string, params: Object}\n\t */\n\tprops:\n\t{\n\t\tbuttons: {type: Array, default: () => []},\n\t\tmessageId: {default: 0},\n\t\tuserId: {default: 0},\n\t\tdialogId: {default: 0},\n\t},\n\tdata: function()\n\t{\n\t\treturn {\n\t\t\tisMobile: Utils.platform.isMobile(),\n\t\t\tisBlocked: false,\n\t\t\tlocalButtons: [],\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.localButtons = this.prepareButtons(this.buttons);\n\t},\n\twatch:\n\t{\n\t\tbuttons()\n\t\t{\n\t\t\tclearTimeout(this.recoverStateButton);\n\n\t\t\tthis.isBlocked = false;\n\t\t\tthis.localButtons = this.prepareButtons(this.buttons);\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tclick(button)\n\t\t{\n\t\t\tif (this.isBlocked)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (button.DISABLED && button.DISABLED === 'Y')\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (button.ACTION && button.ACTION_VALUE.toString())\n\t\t\t{\n\t\t\t\tthis.$emit('click', {action: 'ACTION', params: {\n\t\t\t\t\tdialogId: this.dialogId,\n\t\t\t\t\tmessageId: this.messageId,\n\t\t\t\t\tbotId: button.BOT_ID,\n\t\t\t\t\taction: button.ACTION,\n\t\t\t\t\tvalue: button.ACTION_VALUE,\n\t\t\t\t}});\n\t\t\t}\n\t\t\telse if (button.FUNCTION)\n\t\t\t{\n\t\t\t\tconst execFunction = button.FUNCTION.toString()\n\t\t\t\t\t.replace('#MESSAGE_ID#', this.messageId)\n\t\t\t\t\t.replace('#DIALOG_ID#', this.dialogId)\n\t\t\t\t\t.replace('#USER_ID#', this.userId);\n\t\t\t\teval(execFunction);\n\t\t\t}\n\t\t\telse if (button.APP_ID)\n\t\t\t{\n\t\t\t\tLogger.warn('Messenger keyboard: open app is not implemented.');\n\t\t\t}\n\t\t\telse if (button.LINK)\n\t\t\t{\n\t\t\t\tif (Utils.platform.isBitrixMobile())\n\t\t\t\t{\n\t\t\t\t\tapp.openNewPage(button.LINK);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\twindow.open(button.LINK, '_blank');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (button.WAIT !== 'Y')\n\t\t\t{\n\t\t\t\tif (button.BLOCK === 'Y')\n\t\t\t\t{\n\t\t\t\t\tthis.isBlocked = true;\n\t\t\t\t}\n\n\t\t\t\tbutton.WAIT = 'Y';\n\n\t\t\t\tthis.$emit('click', {action: 'COMMAND', params: {\n\t\t\t\t\tdialogId: this.dialogId,\n\t\t\t\t\tmessageId: this.messageId,\n\t\t\t\t\tbotId: button.BOT_ID,\n\t\t\t\t\tcommand: button.COMMAND,\n\t\t\t\t\tparams: button.COMMAND_PARAMS,\n\t\t\t\t}});\n\n\t\t\t\tthis.recoverStateButton = setTimeout(() => {\n\t\t\t\t\tthis.isBlocked = false;\n\t\t\t\t\tbutton.WAIT = 'N';\n\t\t\t\t}, 10000);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t\tgetStyles(button)\n\t\t{\n\t\t\tconst styles = {};\n\t\t\tif (button.WIDTH)\n\t\t\t{\n\t\t\t\tstyles['width'] = `${button.WIDTH}px`;\n\t\t\t}\n\t\t\telse if (button.DISPLAY === 'BLOCK')\n\t\t\t{\n\t\t\t\tstyles['width'] = '225px';\n\t\t\t}\n\t\t\tif (button.BG_COLOR)\n\t\t\t{\n\t\t\t\tstyles['backgroundColor'] = button.BG_COLOR;\n\t\t\t}\n\t\t\tif (button.TEXT_COLOR)\n\t\t\t{\n\t\t\t\tstyles['color'] = button.TEXT_COLOR;\n\t\t\t}\n\n\t\t\treturn styles;\n\t\t},\n\n\t\tprepareButtons(buttons)\n\t\t{\n\t\t\treturn buttons.filter(button =>\n\t\t\t{\n\t\t\t\tif (!button.CONTEXT)\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif (Utils.platform.isBitrixMobile() && button.CONTEXT === 'DESKTOP')\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (!Utils.platform.isBitrixMobile() && button.CONTEXT === 'MOBILE')\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// TODO activate this buttons\n\t\t\t\tif (\n\t\t\t\t\t!Utils.platform.isBitrixMobile()\n\t\t\t\t\t&& (button.ACTION === 'DIALOG' || button.ACTION === 'CALL')\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tButtonType: () => ButtonType,\n\t},\n\ttemplate: `\n\t\t<div :class=\"['bx-im-element-keyboard', {'bx-im-element-keyboard-mobile': isMobile}]\">\n\t\t\t<template v-for=\"(button, index) in localButtons\">\n\t\t\t\t<div v-if=\"button.TYPE === ButtonType.newline\" class=\"bx-im-element-keyboard-button-separator\"></div>\n\t\t\t\t<span v-else-if=\"button.TYPE === ButtonType.button\" :class=\"[\n\t\t\t\t\t'bx-im-element-keyboard-button', \n\t\t\t\t\t'bx-im-element-keyboard-button-'+button.DISPLAY.toLowerCase(), \n\t\t\t\t\t{\n\t\t\t\t\t\t'bx-im-element-keyboard-button-disabled': isBlocked || button.DISABLED === 'Y',\n\t\t\t\t\t\t'bx-im-element-keyboard-button-progress': button.WAIT === 'Y',\n\t\t\t\t\t}\n\t\t\t\t]\" @click=\"click(button)\">\n\t\t\t\t\t<span class=\"bx-im-element-keyboard-button-text\" :style=\"getStyles(button)\">{{button.TEXT}}</span>\n\t\t\t\t</span>\n\t\t\t</template>\n\t\t</div>\n\t`\n};","import {MenuManager} from 'main.popup';\n\nimport 'dropdown.css';\n\n// @vue/component\nexport const Dropdown = {\n\tname: 'ChatDropdown',\n\tprops:\n\t{\n\t\titems: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\temits: ['itemChange'],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tselectedElement: '',\n\t\t\tmenuOpened: false\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tformattedItems(): {[value: string]: DropdownItem}\n\t\t{\n\t\t\tconst map = {};\n\t\t\tthis.items.forEach(item => {\n\t\t\t\tmap[item.value] = item;\n\t\t\t});\n\n\t\t\treturn map;\n\t\t},\n\t\tdefaultItem(): DropdownItem\n\t\t{\n\t\t\treturn this.items.find(item => {\n\t\t\t\treturn item.default === true;\n\t\t\t});\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tthis.menuInstance = null;\n\t\tif (this.defaultItem)\n\t\t{\n\t\t\tthis.selectedElement = this.defaultItem.value;\n\t\t}\n\t\tthis.$emit('itemChange', this.selectedElement);\n\t},\n\tmethods:\n\t{\n\t\ttoggleMenu()\n\t\t{\n\t\t\tif (!this.menuInstance)\n\t\t\t{\n\t\t\t\tthis.menuInstance = this.getMenuInstance();\n\t\t\t}\n\n\t\t\tif (this.menuOpened)\n\t\t\t{\n\t\t\t\tthis.menuInstance.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.menuInstance.show();\n\t\t\tconst width = this.$refs['container'].clientWidth;\n\t\t\tthis.menuInstance.getPopupWindow().setWidth(width);\n\t\t\tthis.menuOpened = true;\n\t\t},\n\t\tgetMenuInstance()\n\t\t{\n\t\t\treturn MenuManager.create({\n\t\t\t\tid: this.id,\n\t\t\t\tbindOptions: {forceBindPosition: true, position: 'bottom'},\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\tbindElement: this.$refs['container'],\n\t\t\t\titems: this.getMenuItems(),\n\t\t\t\tevents: {\n\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\tthis.menuOpened = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetMenuItems()\n\t\t{\n\t\t\treturn Object.values(this.formattedItems).map(item => {\n\t\t\t\treturn {\n\t\t\t\t\ttext: item.text,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tthis.selectedElement = item.value;\n\t\t\t\t\t\tthis.$emit('itemChange', item.value);\n\t\t\t\t\t\tthis.menuInstance.close();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t},\n\ttemplate:\n\t`\n\t\t<div class=\"bx-im-dropdown__container bx-im-dropdown__scope\">\n\t\t\t<div @click=\"toggleMenu\" class=\"ui-ctl ui-ctl-xl ui-ctl-w100 ui-ctl-after-icon ui-ctl-dropdown\" ref=\"container\">\n\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t<div class=\"ui-ctl-element\">{{ formattedItems[selectedElement].text }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n\ntype DropdownItem = {\n\tvalue: string,\n\ttext: string,\n\tdefault?: boolean\n};","import './spinner.css';\n\nexport const SpinnerSize = Object.freeze({\n\tXXS: 'XXS',\n\tS: 'S',\n\tL: 'L',\n});\n\nexport const SpinnerColor = Object.freeze({\n\tgrey: 'grey',\n\tblue: 'blue',\n});\n\n// @vue/component\nexport const Spinner = {\n\tname: 'MessengerSpinner',\n\tprops: {\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: SpinnerSize.S,\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: SpinnerColor.blue,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tsizeClassName(): string\n\t\t{\n\t\t\treturn `--size-${this.size.toLowerCase()}`;\n\t\t},\n\t\tcolorClassName(): string\n\t\t{\n\t\t\treturn `--color-${this.color.toLowerCase()}`;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-elements-spinner__container\">\n\t\t\t<div class=\"bx-im-elements-spinner__spinner\" :class=\"[sizeClassName, colorClassName]\"></div>\n\t\t</div>\n\t`\n};","import './toggle.css';\n\nexport const ToggleSize = {\n\tS: 'S',\n\tM: 'M'\n};\n\n// @vue/component\nexport const Toggle = {\n\tname: 'ToggleControl',\n\tprops: {\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tisEnabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\temits: ['change'],\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcomputed: {\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--size-${this.size.toLowerCase()}`];\n\t\t\tif (!this.isEnabled)\n\t\t\t{\n\t\t\t\tclasses.push('--off');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\ttoggle()\n\t\t{\n\t\t\tthis.$emit('change', !this.isEnabled);\n\t\t}\n\t},\n\ttemplate:\n\t`\n\t\t<div @click=\"toggle\" :class=\"containerClasses\" class=\"bx-im-toggle__container bx-im-toggle__scope\">\n\t\t\t<span class=\"bx-im-toggle__cursor\"></span>\n\t\t\t<span class=\"bx-im-toggle__enabled\"></span>\n\t\t\t<span class=\"bx-im-toggle__disabled\"></span>\n\t\t</div>\n\t`\n};","import {EventEmitter} from 'main.core.events';\nimport {Utils} from 'im.v2.lib.utils';\nimport {ProgressBarManager} from 'im.v2.lib.progressbar';\nimport {EventType, FileType} from 'im.v2.const';\n\nimport 'ui.icons.disk';\nimport './css/file.css';\n\nimport type {ImModelFile} from 'im.v2.model';\n\n// @vue/component\nexport const File = {\n\tname: 'FileComponent',\n\tprops:\n\t{\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tfile(): ImModelFile\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tfileShortName(): string\n\t\t{\n\t\t\tconst NAME_MAX_LENGTH = 70;\n\n\t\t\treturn Utils.file.getShortFileName(this.file.name, NAME_MAX_LENGTH);\n\t\t},\n\t\tfileSize(): string\n\t\t{\n\t\t\treturn Utils.file.formatFileSize(this.file.size);\n\t\t},\n\t\ticonClass(): string\n\t\t{\n\t\t\tconst iconType = Utils.file.getIconTypeByFilename(this.file.name);\n\n\t\t\treturn `ui-icon-file-${iconType}`;\n\t\t},\n\t\tisImage(): boolean\n\t\t{\n\t\t\treturn this.file.type !== FileType.image;\n\t\t},\n\t\tisVideo(): boolean\n\t\t{\n\t\t\treturn this.file.type !== FileType.video;\n\t\t},\n\t\tcanBeOpenedWithViewer(): boolean\n\t\t{\n\t\t\treturn this.file.viewerAttrs && BX.UI?.Viewer;\n\t\t},\n\t\tviewerAttributes(): Object\n\t\t{\n\t\t\treturn Utils.file.getViewerDataAttributes(this.file.viewerAttrs);\n\t\t},\n\t},\n\twatch:\n\t{\n\t\t'file.status'()\n\t\t{\n\t\t\tthis.getProgressBarManager().update();\n\t\t},\n\t\t'file.progress'()\n\t\t{\n\t\t\tthis.getProgressBarManager().update();\n\t\t}\n\t},\n\tmounted()\n\t{\n\t\tthis.initProgressBar();\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.removeProgressBar();\n\t},\n\tmethods:\n\t{\n\t\tdownload()\n\t\t{\n\t\t\tif (this.file.progress !== 100 || this.canBeOpenedWithViewer)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst url = this.file.urlDownload ?? this.file.urlShow;\n\t\t\twindow.open(url, '_blank');\n\t\t},\n\t\tinitProgressBar()\n\t\t{\n\t\t\tif (this.file.progress === 100)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet blurElement;\n\t\t\tif (this.file.progress < 0 || (!this.isImage && !this.isVideo))\n\t\t\t{\n\t\t\t\tblurElement = false;\n\t\t\t}\n\n\t\t\tthis.progressBarManager = new ProgressBarManager({\n\t\t\t\tcontainer: this.$refs['container'],\n\t\t\t\tuploadState: this.file,\n\t\t\t\tcustomConfig: {blurElement}\n\t\t\t});\n\n\t\t\tthis.progressBarManager.subscribe(ProgressBarManager.event.cancel, () => {\n\t\t\t\tEventEmitter.emit(EventType.uploader.cancel, {\n\t\t\t\t\ttempFileId: this.file.id,\n\t\t\t\t\ttempMessageId: this.messageId\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.progressBarManager.subscribe(ProgressBarManager.event.destroy, () => {\n\t\t\t\tif (this.progressBar)\n\t\t\t\t{\n\t\t\t\t\tthis.progressBar = null;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.progressBarManager.start();\n\t\t},\n\t\tremoveProgressBar()\n\t\t{\n\t\t\tif (!this.progressBarManager)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progressBarManager.destroy();\n\t\t},\n\t\tgetProgressBarManager(): ProgressBarManager\n\t\t{\n\t\t\treturn this.progressBarManager;\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div @click=\"download\" v-bind=\"viewerAttributes\" class=\"bx-im-media-file__container bx-im-media-file__scope\" ref=\"container\">\n\t\t\t<div class=\"bx-im-media-file__icon\">\n\t\t\t\t<div :class=\"iconClass\" class=\"ui-icon\"><i></i></div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-media-file__right\">\n\t\t\t\t<div :title=\"file.name\" class=\"bx-im-element-file-name bx-im-media-file__name\">\n\t\t\t\t\t{{ fileShortName }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-element-file-size bx-im-media-file__size\">{{ fileSize }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import { BitrixVue } from 'ui.vue3';\nimport { lazyload } from 'ui.vue3.directives.lazyload';\n\nimport { File } from './file';\n\nimport './css/image.css';\n\nconst MAX_IMAGE_SIZE = 250;\n\n// @vue/component\nexport const Image = BitrixVue.cloneComponent(File, {\n\tname: 'ImageComponent',\n\tdirectives: { lazyload },\n\tcomputed:\n\t{\n\t\timageSize(): {width: string, height: string, backgroundSize: string}\n\t\t{\n\t\t\tconst aspectRatio = this.file.width > MAX_IMAGE_SIZE ? MAX_IMAGE_SIZE / this.file.width : 1;\n\n\t\t\tconst sizes = {\n\t\t\t\twidth: this.file.width * aspectRatio,\n\t\t\t\theight: this.file.height * aspectRatio,\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\twidth: `${sizes.width}px`,\n\t\t\t\theight: `${sizes.height}px`,\n\t\t\t\tbackgroundSize: (sizes.width < 100 || sizes.height < 100) ? 'contain' : 'initial',\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div v-bind=\"viewerAttributes\" class=\"bx-im-media-image__container\" @click=\"download\" ref=\"container\">\n\t\t\t<img\n\t\t\t\tv-lazyload\n\t\t\t\tdata-lazyload-dont-hide\n\t\t\t\t:data-lazyload-src=\"file.urlPreview\"\n\t\t\t\t:title=\"loc('IM_ELEMENTS_MEDIA_IMAGE_TITLE', {'#NAME#': file.name, '#SIZE#': file.size})\"\n\t\t\t\t:style=\"imageSize\"\n\t\t\t\t:alt=\"file.name\"\n\t\t\t\tclass=\"bx-im-media-image__source\"\n\t\t\t/>\n\t\t</div>\n\t`,\n});\n","import {AudioPlayer} from 'ui.vue3.components.audioplayer';\n\nimport {MessageType} from 'im.v2.const';\n\nimport './css/audio.css';\n\nimport type {ImModelFile} from 'im.v2.model';\n\n// @vue/component\nexport const Audio = {\n\tname: 'AudioComponent',\n\tcomponents: {AudioPlayer},\n\tprops:\n\t{\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tmessageType: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tfile(): ImModelFile\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tplayerBackgroundType(): string\n\t\t{\n\t\t\treturn this.messageType === MessageType.self ? 'dark' : 'light';\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-media-audio__container\">\n\t\t\t<AudioPlayer :id=\"file.id\" :src=\"file.urlShow\" :background=\"playerBackgroundType\" />\n\t\t</div>\n\t`\n};","import {BitrixVue} from 'ui.vue3';\nimport {SocialVideo} from 'ui.vue3.components.socialvideo';\n\nimport {Image} from './image';\n\nimport './css/video.css';\n\nconst VIDEO_SIZE_TO_AUTOPLAY = 5000000;\n\n// @vue/component\nexport const Video = BitrixVue.cloneComponent(Image, {\n\tname: 'VideoComponent',\n\tcomponents: {SocialVideo},\n\tcomputed:\n\t{\n\t\tautoplay()\n\t\t{\n\t\t\treturn this.file.size < VIDEO_SIZE_TO_AUTOPLAY;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div @click=\"download\" class=\"bx-im-media-video__container\" ref=\"container\">\n\t\t\t<SocialVideo\n\t\t\t\tv-bind=\"viewerAttributes\"\n\t\t\t\t:id=\"file.id\"\n\t\t\t\t:src=\"file.urlShow\"\n\t\t\t\t:preview=\"file.urlPreview\"\n\t\t\t\t:containerStyle=\"{height: '162px'}\"\n\t\t\t\t:elementStyle=\"imageSize\"\n\t\t\t\t:autoplay=\"autoplay\"\n\t\t\t\t:showControls=\"!file.viewerAttrs\"\n\t\t\t/>\n\t\t</div>\n\t`\n});","import {Dom} from 'main.core';\nimport './tabs.css';\n\nconst ARROW_CONTROL_SIZE = 50;\n\nexport const TabsColorScheme = Object.freeze({\n\twhite: 'white',\n\tgray: 'gray',\n});\n\n// @vue/component\nexport const MessengerTabs = {\n\tname: 'MessengerTabs',\n\tprops: {\n\t\tcolorScheme: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t\tdefault: TabsColorScheme.white,\n\t\t\tvalidator: (value) => Object.values(TabsColorScheme).includes(value.toLowerCase())\n\t\t},\n\t\ttabs: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasLeftControl: false,\n\t\t\thasRightControl: false,\n\t\t\tcurrentElementIndex: 0,\n\t\t\thighlightOffsetLeft: 0,\n\t\t\thighlightWidth: 0,\n\t\t\tisFirstCall: true,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\thighlightStyle(): {left: string, width: string}\n\t\t{\n\t\t\treturn {\n\t\t\t\tleft: `${this.highlightOffsetLeft}px`,\n\t\t\t\twidth: `${this.highlightWidth}px`,\n\t\t\t};\n\t\t},\n\t\tcolorSchemeClass(): string\n\t\t{\n\t\t\treturn this.colorScheme === TabsColorScheme.white ? '--white' : '--gray';\n\t\t}\n\t},\n\twatch:\n\t{\n\t\tcurrentElementIndex(newIndex: number)\n\t\t{\n\t\t\tthis.updateHighlightPosition(newIndex);\n\t\t\tthis.$emit('tabSelect', this.tabs[newIndex]);\n\t\t\tthis.scrollToElement(newIndex);\n\t\t}\n\t},\n\tmounted()\n\t{\n\t\tconst savedTabIndex = localStorage.getItem('lastOpenedTabIndex');\n\t\tif (this.$refs.tabs.scrollWidth > this.$refs.tabs.offsetWidth)\n\t\t{\n\t\t\tthis.hasRightControl = true;\n\t\t}\n\n\t\tif (savedTabIndex)\n\t\t{\n\t\t\tthis.currentElementIndex = parseInt(savedTabIndex, 10);\n\t\t}\n\n\t\tthis.updateHighlightPosition(this.currentElementIndex);\n\n\t\tsetTimeout(() => {\n\t\t\tthis.isFirstCall = false;\n\t\t}, 100);\n\n\t},\n\tbeforeUnmount()\n\t{\n\t\tlocalStorage.setItem('lastOpenedTabIndex', this.currentElementIndex.toString());\n\t},\n\tmethods:\n\t{\n\t\tgetElementNodeByIndex(index: number): HTMLElement\n\t\t{\n\t\t\treturn [...this.$refs.tabs.children].filter(\n\t\t\t\t(node) => !Dom.hasClass(node, 'bx-im-elements-tabs__highlight')\n\t\t\t)[index];\n\t\t},\n\t\tupdateHighlightPosition(index: number)\n\t\t{\n\t\t\tconst element = this.getElementNodeByIndex(index);\n\t\t\tthis.highlightOffsetLeft = element.offsetLeft;\n\t\t\tthis.highlightWidth = element.offsetWidth;\n\t\t},\n\t\tscrollToElement(elementIndex: number)\n\t\t{\n\t\t\tconst element = this.getElementNodeByIndex(elementIndex);\n\t\t\tthis.$refs.tabs.scroll({left: element.offsetLeft - ARROW_CONTROL_SIZE, behavior: 'smooth'});\n\t\t},\n\t\tonTabClick(event): {index: number}\n\t\t{\n\t\t\tthis.currentElementIndex = event.index;\n\t\t},\n\t\tisSelectedTab(index: number): boolean\n\t\t{\n\t\t\treturn index === this.currentElementIndex;\n\t\t},\n\t\tonLeftClick()\n\t\t{\n\t\t\tif (this.currentElementIndex <= 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.currentElementIndex--;\n\t\t},\n\t\tonRightClick()\n\t\t{\n\t\t\tif (this.currentElementIndex >= this.tabs.length - 1)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.currentElementIndex++;\n\t\t},\n\t\tupdateControlsVisibility()\n\t\t{\n\t\t\tthis.hasRightControl = this.$refs.tabs.scrollWidth > this.$refs.tabs.scrollLeft + this.$refs.tabs.clientWidth;\n\t\t\tthis.hasLeftControl = this.$refs.tabs.scrollLeft > 0;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-elements-tabs__container bx-im-elements-tabs__scope\" :class=\"colorSchemeClass\">\n\t\t\t<div v-if=\"hasLeftControl\" @click.stop=\"onLeftClick\" class=\"bx-im-elements-tabs__control --left\">\n\t\t\t\t<div class=\"bx-im-elements-tabs__forward-icon\"></div>\n\t\t\t</div>\n\t\t\t<div v-if=\"hasRightControl\" @click.stop=\"onRightClick\" class=\"bx-im-elements-tabs__control --right\">\n\t\t\t\t<div class=\"bx-im-elements-tabs__forward-icon\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-elements-tabs__elements\" ref=\"tabs\" @scroll.passive=\"updateControlsVisibility\">\n\t\t\t\t<div class=\"bx-im-elements-tabs__highlight\" :class=\"isFirstCall ? '' : '--transition'\" :style=\"highlightStyle\"></div>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(tab, index) in tabs\"\n\t\t\t\t\t:key=\"tab.id\"\n\t\t\t\t\tclass=\"bx-im-elements-tabs__item\"\n\t\t\t\t\t:class=\"[isSelectedTab(index) ? '--selected' : '']\"\n\t\t\t\t\t@click=\"onTabClick({index: index})\"\n\t\t\t\t\t:title=\"tab.title\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"bx-im-elements-tabs__item-title\" :class=\"isFirstCall ? '' : '--transition'\">{{ tab.title }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};"],"names":["UserStatusSize","S","M","L","XL","XXL","UserStatus","name","props","status","type","String","required","validator","value","Object","values","UserStatusType","includes","size","default","data","computed","containerClasses","toLowerCase","template","AvatarSize","freeze","XS","XXXL","Avatar","components","dialogId","Number","withAvatarLetters","Boolean","withStatus","withSpecialTypes","withTooltip","imageLoadError","dialog","$store","getters","user","isUser","DialogType","isBot","bot","isSpecialType","commonTypes","chat","open","containerTitle","classes","push","typeClass","backgroundColorStyle","backgroundColor","color","avatarText","isEnoughSizeForText","Utils","text","getFirstLetters","userStatusIcon","id","Core","getUserId","isEnoughSizeForStatus","online","userStatusSize","sizesMap","avatarSizesWithText","toUpperCase","avatarUrl","avatar","hasImage","watch","methods","onImageLoadError","RecentLoadingState","compactMode","itemsToShow","isThreeLineVersion","Math","random","DialogSpecialType","extranet","network","support24","TitleIcons","absent","birthday","ChatTitle","showItsYou","withLeftIcon","withColor","withMute","onlyFirstName","twoLine","botType","isSelfChat","dialogName","firstName","dialogSpecialType","isExtranet","support24Notifier","support24Question","isNetwork","leftIcon","showBirthdays","isBirthday","isAbsent","specialColor","isChatMuted","isMuted","muteList","find","element","tooltipText","$Bitrix","Loc","getMessage","Settings","recent","showBirthday","ButtonSize","ButtonColor","Primary","PrimaryLight","Success","Danger","LightBorder","DangerBorder","PrimaryBorder","Link","ButtonIcon","Plus","Call","EndCall","AddUser","Button","icon","customColorScheme","borderColor","iconColor","textColor","hoverColor","isRounded","isDisabled","isLoading","isUppercase","emits","buttonStyles","result","hasCustomColorScheme","buttonClasses","iconStyles","iconClasses","Type","isStringFilled","onClick","event","$emit","POPUP_CONTAINER_PREFIX","MessengerPopup","config","popupContainer","created","Logger","warn","instance","getPopupInstance","show","mounted","adjustPosition","forceBindPosition","position","getPopupConfig","bindOptions","beforeUnmount","closePopup","PopupManager","getPopupById","destroy","Popup","getDefaultConfig","offsetTop","offsetLeft","className","cacheable","closeIcon","autoHide","closeByEsc","animation","events","onPopupClose","bind","defaultConfig","modifiedOptions","defaultClassName","isNumber","enableAutoHide","setAutoHide","disableAutoHide","MenuItemIcon","channel","conference","disk","upload","task","meeting","summary","vote","aiText","aiImage","MenuItem","title","subtitle","disabled","counter","formattedCounter","ID_PREFIX","MessengerMenu","getUuidV4","AttachDelimiter","Color","transparent","internalConfig","styles","DELIMITER","COLOR","SIZE","width","AttachFileItem","fileName","NAME","fileSize","link","LINK","fileShortName","NAME_MAX_LENGTH","file","getShortFileName","formattedFileSize","formatFileSize","fileIcon","getIconTypeByFilename","openLink","window","AttachFile","AttachGridItemDisplayType","block","line","row","DisplayType","AttachGridItem","display","DISPLAY","WIDTH","VALUE","Parser","decodeText","AttachGrid","AttachHtml","html","decodeHtml","HTML","MAX_IMAGE_SIZE","AttachImageItem","directives","lazyload","height","HEIGHT","preview","PREVIEW","source","imageSize","aspectRatio","sizes","backgroundSize","lazyLoadCallback","Dom","style","offsetWidth","offsetHeight","AttachImage","AttachLinkItem","description","DESC","content","imageConfig","IMAGE","AttachLink","AttachMessage","message","MESSAGE","AttachRichItem","convertHtmlEntities","AttachRich","AVATAR_TYPE","AttachUserItem","AVATAR","avatarType","avatarTypeClass","avatarTypeStyle","AttachUser","PropertyToComponentMap","AttachType","Delimiter","File","Grid","Html","Image","Message","Rich","User","Attach","baseColor","base","blocks","BLOCKS","getComponentForBlock","blockType","keys","ChatInfoContent","hasError","isChat","chatType","openChatButtonText","userProfileLink","getProfileLink","chatService","ChatService","loadChat","then","catch","error","console","onOpenChat","Messenger","openChat","onClickVideoCall","startVideoCall","POPUP_ID","ChatInfoPopup","showPopup","bindElement","minWidth","targetContainer","document","body","padding","angle","UserListService","constructor","getStore","getRestClient","UserManager","loadUsers","userIds","callMethod","RestMethod","imUserListGet","ID","response","setUsersToModel","LOADER_SIZE","LOADER_TYPE","Loader","loader","UILoader","target","$refs","render","hide","UserItem","userId","userDialogId","toString","userStatusClasses","onUserClick","UserListContent","Array","adjustPopupFunction","Function","loading","isLoadingUsers","$nextTick","needUserRequest","requestUserData","getUserListService","userListService","getUser","some","loc","phraseCode","UserListPopup","withAngle","forceTop","ButtonType","newline","button","Keyboard","buttons","messageId","isMobile","platform","isBlocked","localButtons","prepareButtons","clearTimeout","recoverStateButton","click","DISABLED","ACTION","ACTION_VALUE","action","params","botId","BOT_ID","FUNCTION","execFunction","replace","eval","APP_ID","isBitrixMobile","app","openNewPage","WAIT","BLOCK","command","COMMAND","COMMAND_PARAMS","setTimeout","getStyles","BG_COLOR","TEXT_COLOR","filter","CONTEXT","Dropdown","items","selectedElement","menuOpened","formattedItems","map","forEach","item","defaultItem","menuInstance","toggleMenu","getMenuInstance","close","clientWidth","getPopupWindow","setWidth","MenuManager","create","getMenuItems","onClose","onclick","SpinnerSize","XXS","SpinnerColor","grey","blue","Spinner","sizeClassName","colorClassName","ToggleSize","Toggle","isEnabled","toggle","iconClass","iconType","isImage","FileType","image","isVideo","video","canBeOpenedWithViewer","viewerAttrs","BX","UI","Viewer","viewerAttributes","getViewerDataAttributes","getProgressBarManager","update","initProgressBar","removeProgressBar","download","progress","url","urlDownload","urlShow","blurElement","progressBarManager","ProgressBarManager","container","uploadState","customConfig","subscribe","cancel","EventEmitter","emit","EventType","uploader","tempFileId","tempMessageId","progressBar","start","replacements","BitrixVue","cloneComponent","Audio","AudioPlayer","messageType","playerBackgroundType","MessageType","self","VIDEO_SIZE_TO_AUTOPLAY","Video","SocialVideo","autoplay","ARROW_CONTROL_SIZE","TabsColorScheme","white","gray","MessengerTabs","colorScheme","tabs","hasLeftControl","hasRightControl","currentElementIndex","highlightOffsetLeft","highlightWidth","isFirstCall","highlightStyle","left","colorSchemeClass","newIndex","updateHighlightPosition","scrollToElement","savedTabIndex","localStorage","getItem","scrollWidth","parseInt","setItem","getElementNodeByIndex","index","children","node","hasClass","elementIndex","scroll","behavior","onTabClick","isSelectedTab","onLeftClick","onRightClick","length","updateControlsVisibility","scrollLeft"],"mappings":"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"}