{"version":3,"file":"search-experimental.bundle.map.js","names":["this","BX","Messenger","v2","exports","ui_designTokens","ui_fonts_opensans","im_public","im_v2_lib_slider","im_v2_lib_utils","im_v2_lib_logger","im_v2_provider_service","im_v2_lib_menu","im_v2_application_core","main_core_events","main_core","im_v2_const","im_v2_lib_dateFormatter","im_v2_lib_textHighlighter","im_v2_component_elements","SearchContextMenu","RecentMenu","getMenuItems","getOpenItem","getCallItem","getOpenProfileItem","CarouselUser","name","components","Avatar","props","userId","type","Number","required","emits","computed","AvatarSize","dialogId","toString","user","$store","getters","_this$user$firstName","firstName","isExtranet","extranet","created","contextMenuManager","beforeUnmount","destroy","methods","onClick","event","$emit","nativeEvent","onRightClick","altKey","shiftKey","item","EventEmitter","emit","EventType","search","openContextMenu","template","recentUsersLimit","RecentUsersCarousel","users","recentUsers","forEach","recentItem","isChat","push","filter","bot","id","Core","getUserId","slice","startsWith","SearchExperimentalItem","ChatTitleWithHighlighting","String","withDate","Boolean","default","query","dialog","isUser","DialogType","position","workPosition","userItemText","$Bitrix","Loc","getMessage","highlightText","Text","encode","chatItemText","itemText","itemTextForTitle","formattedDate","dateUpdate","formatDate","date","DateFormatter","formatByTemplate","DateTemplate","recent","LatestSearchResult","Loader","dialogIds","Array","isLoading","title","EmptyState","subTitle","SearchExperimentalResult","isEmptyState","length","SearchExperimental","searchQuery","searchMode","data","isRecentLoading","isServerLoading","currentServerQueries","result","usersAndChats","cleanQuery","trim","toLowerCase","showLatestSearchResult","watch","newQuery","previousQuery","searchService","clearSessionResult","startSearch","initSettings","SearchService","searchOnServerDelayed","Runtime","debounce","searchOnServer","subscribe","onOpenContextMenu","errors","accessDenied","onDelete","keyPressed","onPressEnterKey","loadRecentSearchFromServer","unsubscribe","loadLatestResults","then","recentItemsFromServer","catch","error","Logger","settings","Extension","getSettings","defaultMinTokenSize","minTokenSize","get","searchLocal","sortByDate","cleanSearchResult","stopLoader","mergedItems","mergeResults","console","finally","originalItems","newItems","newItem","includes","getData","Utils","key","isAltOrOption","openMenu","currentTarget","eventData","dialogIdFromSearch","onScroll","onClickItem","addItemToRecent","isCmdOrCtrl","MessengerSlider","getInstance","openNewTab","PathPlaceholder","replace","openChat","close","keyboardEvent","isCombination","firstItem","getFirstItemFromSearchResults","Component","Lib","Provider","Service","Application","Event","Const","Im","V2","Elements"],"sources":["search-experimental.bundle.js"],"mappings":"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"}