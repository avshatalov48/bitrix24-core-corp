this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,s,i){"use strict";const n={props:{searchMode:{type:Boolean,required:true}},emits:["closeSearch","openSearch","updateSearch"],data(){return{isActive:false,searchQuery:""}},computed:{isEmptyQuery(){return this.searchQuery.length===0}},watch:{searchMode(e,t){if(e===true&&t===false){this.focus()}}},created(){t.EventEmitter.subscribe(s.EventType.search.close,this.onCloseClick)},beforeUnmount(){t.EventEmitter.unsubscribe(s.EventType.search.close,this.onCloseClick)},methods:{onInputClick(){this.isActive=true;this.$emit("openSearch")},onCloseClick(){this.isActive=false;this.searchQuery="";this.$emit("closeSearch")},onClearInput(){this.isActive=true;this.searchQuery="";this.$emit("updateSearch",this.searchQuery)},onInputUpdate(){this.isActive=true;this.$emit("updateSearch",this.searchQuery)},onKeyUp(e){if(i.Utils.key.isCombination(e,"Escape")){this.onEscapePressed();return}t.EventEmitter.emit(s.EventType.search.keyPressed,{keyboardEvent:e})},onEscapePressed(){if(this.isEmptyQuery){this.onCloseClick();this.$refs["searchInput"].blur()}else{this.onClearInput()}},focus(){this.isActive=true;this.$refs.searchInput.focus()}},template:`\n\t\t<div class="bx-im-search-input__scope bx-im-search-input__container">\n\t\t\t<div class="bx-im-search-input__search-icon"></div>\n\t\t\t<input\n\t\t\t\t@click="onInputClick"\n\t\t\t\t@input="onInputUpdate"\n\t\t\t\t@keyup="onKeyUp"\n\t\t\t\tv-model="searchQuery"\n\t\t\t\tclass="bx-im-search-input__element"\n\t\t\t\t:placeholder="$Bitrix.Loc.getMessage('IM_SEARCH_INPUT_PLACEHOLDER')"\n\t\t\t\tref="searchInput"\n\t\t\t/>\n\t\t\t<div v-if="isActive" @click="onCloseClick" class="bx-im-search-input__close-icon"></div>\n\t\t</div>\n\t`};e.SearchInput=n})(this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{},BX.Event,BX.Messenger.v2.Const,BX.Messenger.v2.Lib);
//# sourceMappingURL=search-input.bundle.map.js