{"version":3,"file":"base-message.bundle.js","sources":["../src/base-message.js"],"sourcesContent":["import { Core } from 'im.v2.application.core';\nimport { Parser } from 'im.v2.lib.parser';\nimport { ContextMenu } from 'im.v2.component.message.elements';\nimport { UserRole } from 'im.v2.const';\n\nimport './css/base-message.css';\n\nimport type { ImModelMessage, ImModelDialog } from 'im.v2.model';\n\n// @vue/component\nexport const BaseMessage = {\n\tname: 'BaseMessage',\n\tcomponents: { ContextMenu },\n\tprops:\n\t{\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\twithBackground: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithDefaultContextMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tmenuIsActiveForId: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 0,\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tisSystemMessage(): boolean\n\t\t{\n\t\t\treturn this.message.authorId === 0;\n\t\t},\n\t\tisSelfMessage(): boolean\n\t\t{\n\t\t\treturn this.message.authorId === Core.getUserId();\n\t\t},\n\t\tisOpponentMessage(): boolean\n\t\t{\n\t\t\treturn !this.isSystemMessage && !this.isSelfMessage;\n\t\t},\n\t\tcontainerClasses(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\t'--self': this.isSelfMessage,\n\t\t\t\t'--opponent': this.isOpponentMessage,\n\t\t\t};\n\t\t},\n\t\tbodyClasses(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\t'--transparent': !this.withBackground,\n\t\t\t\t'--with-default-context-menu': this.withDefaultContextMenu,\n\t\t\t};\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonContainerClick(event: PointerEvent)\n\t\t{\n\t\t\tParser.executeClickEvent(event);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div \n\t\t\t:data-id=\"message.id\"\n\t\t\tclass=\"bx-im-message-base__scope bx-im-message-base__container\" \n\t\t\t:class=\"containerClasses\"\n\t\t\t@click=\"onContainerClick\"\n\t\t>\n\t\t\t<div class=\"bx-im-message-base__body\" :class=\"bodyClasses\">\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t\t<ContextMenu v-if=\"withDefaultContextMenu\" :message=\"message\" :menuIsActiveForId=\"menuIsActiveForId\" />\n\t\t</div>\n\t`,\n};\n"],"names":["BaseMessage","name","components","ContextMenu","props","item","type","Object","required","withBackground","Boolean","default","withDefaultContextMenu","menuIsActiveForId","Number","String","dialogId","computed","message","isSystemMessage","authorId","isSelfMessage","Core","getUserId","isOpponentMessage","containerClasses","bodyClasses","methods","onContainerClick","event","Parser","executeClickEvent","template"],"mappings":";;;;;;;;CASA;AACA,OAAaA,WAAW,GAAG;GAC1BC,IAAI,EAAE,aAAa;GACnBC,UAAU,EAAE;kBAAEC;IAAa;GAC3BC,KAAK,EACL;KACCC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACDC,cAAc,EAAE;OACfH,IAAI,EAAEI,OAAO;OACbC,OAAO,EAAE;MACT;KACDC,sBAAsB,EAAE;OACvBN,IAAI,EAAEI,OAAO;OACbC,OAAO,EAAE;MACT;KACDE,iBAAiB,EAAE;OAClBP,IAAI,EAAE,CAACQ,MAAM,EAAEC,MAAM,CAAC;OACtBJ,OAAO,EAAE;MACT;KACDK,QAAQ,EAAE;OACTV,IAAI,EAAES,MAAM;OACZP,QAAQ,EAAE;;IAEX;GACDS,QAAQ,EACR;KACCC,OAAO,GACP;OACC,OAAO,IAAI,CAACb,IAAI;MAChB;KACDc,eAAe,GACf;OACC,OAAO,IAAI,CAACD,OAAO,CAACE,QAAQ,KAAK,CAAC;MAClC;KACDC,aAAa,GACb;OACC,OAAO,IAAI,CAACH,OAAO,CAACE,QAAQ,KAAKE,2BAAI,CAACC,SAAS,EAAE;MACjD;KACDC,iBAAiB,GACjB;OACC,OAAO,CAAC,IAAI,CAACL,eAAe,IAAI,CAAC,IAAI,CAACE,aAAa;MACnD;KACDI,gBAAgB,GAChB;OACC,OAAO;SACN,QAAQ,EAAE,IAAI,CAACJ,aAAa;SAC5B,YAAY,EAAE,IAAI,CAACG;QACnB;MACD;KACDE,WAAW,GACX;OACC,OAAO;SACN,eAAe,EAAE,CAAC,IAAI,CAACjB,cAAc;SACrC,6BAA6B,EAAE,IAAI,CAACG;QACpC;;IAEF;GACDe,OAAO,EACP;KACCC,gBAAgB,CAACC,KAAmB,EACpC;OACCC,uBAAM,CAACC,iBAAiB,CAACF,KAAK,CAAC;;IAEhC;GACDG,QAAQ,EAAG;;;;;;;;;;;;;CAaZ,CAAC;;;;;;;;"}