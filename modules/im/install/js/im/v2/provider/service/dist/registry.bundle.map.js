{"version":3,"sources":["registry.bundle.js"],"names":["this","BX","Messenger","v2","Provider","exports","main_core_events","im_v2_const","im_v2_lib_logger","RecentService","static","$Bitrix","instance","constructor","store","restClient","dataIsPreloaded","itemsPerPage","isLoading","pagesLoaded","hasMoreItemsToLoad","lastMessageDate","controller","Data","get","RestClient","onUpdateStateHandler","onUpdateState","bind","onUserRequestHandler","onUserRequest","EventEmitter","subscribe","EventType","recent","updateState","requestUser","loadFirstPage","Logger","warn","Promise","resolve","requestItems","firstPage","loadNextPage","setPreloadedData","params","items","hasMore","getLastMessageDate","updateModels","queryParams","SKIP_OPENLINES","LIMIT","LAST_MESSAGE_DATE","GET_ORIGINAL_TEXT","callMethod","RestMethod","imRecentList","then","result","data","catch","error","console","rawData","users","dialogues","prepareDataForModels","usersPromise","dispatch","botList","dialoguesPromise","recentPromise","all","userId","imUserGet","id","birthdayList","forEach","item","user","isAddedAlready","push","chat","prepareGroupChat","prepareChatForAdditionalUser","prepareChatForUser","getBirthdayPlaceholder","type","some","dialogId","counter","chatId","chat_id","avatar","color","name","ChatTypes","options","birthdayPlaceholder","length","slice","message","date","Service","Event","Const","Lib"],"mappings":"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","file":"registry.bundle.map.js"}