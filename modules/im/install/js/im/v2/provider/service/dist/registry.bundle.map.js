{"version":3,"file":"registry.bundle.map.js","names":["this","BX","Messenger","v2","Provider","exports","main_core_events","im_v2_const","im_v2_lib_logger","RecentService","static","$Bitrix","instance","constructor","store","restClient","dataIsPreloaded","itemsPerPage","isLoading","pagesLoaded","hasMoreItemsToLoad","lastMessageDate","controller","Data","get","RestClient","onUpdateStateHandler","onUpdateState","bind","onUserRequestHandler","onUserRequest","EventEmitter","subscribe","EventType","recent","updateState","requestUser","loadFirstPage","ignorePreloadedItems","Logger","warn","Promise","resolve","requestItems","firstPage","loadNextPage","setPreloadedData","params","items","hasMore","getLastMessageDate","updateModels","queryParams","SKIP_OPENLINES","LIMIT","LAST_MESSAGE_DATE","GET_ORIGINAL_TEXT","callMethod","RestMethod","imRecentList","then","result","data","catch","error","console","rawData","users","dialogues","prepareDataForModels","usersPromise","dispatch","botList","dialoguesPromise","recentPromise","all","userId","imUserGet","id","birthdayList","forEach","item","user","isAddedAlready","push","chat","prepareGroupChat","prepareChatForAdditionalUser","existingRecentItem","getters","options","default_user_record","prepareChatForUser","getBirthdayPlaceholder","type","some","dialogId","counter","chatId","chat_id","avatar","color","name","ChatTypes","birthdayPlaceholder","length","slice","message","date","Service","Event","Const","Lib"],"sources":["registry.bundle.js"],"mappings":"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"}