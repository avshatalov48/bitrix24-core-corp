{"version":3,"sources":["registry.bundle.js"],"names":["this","BX","Messenger","v2","Provider","exports","main_core_events","im_v2_const","im_v2_lib_logger","RecentService","static","$Bitrix","instance","constructor","store","restClient","dataIsPreloaded","itemsPerPage","isLoading","pagesLoaded","hasMoreItemsToLoad","lastMessageDate","controller","Data","get","RestClient","onUpdateStateHandler","onUpdateState","bind","onUserRequestHandler","onUserRequest","EventEmitter","subscribe","EventType","recent","updateState","requestUser","loadFirstPage","ignorePreloadedItems","Logger","warn","Promise","resolve","requestItems","firstPage","loadNextPage","setPreloadedData","params","items","hasMore","getLastMessageDate","updateModels","queryParams","SKIP_OPENLINES","LIMIT","LAST_MESSAGE_DATE","GET_ORIGINAL_TEXT","callMethod","RestMethod","imRecentList","then","result","data","catch","error","console","rawData","users","dialogues","prepareDataForModels","usersPromise","dispatch","botList","dialoguesPromise","recentPromise","all","userId","imUserGet","id","birthdayList","forEach","item","user","isAddedAlready","push","chat","prepareGroupChat","prepareChatForAdditionalUser","existingRecentItem","getters","options","default_user_record","prepareChatForUser","getBirthdayPlaceholder","type","some","dialogId","counter","chatId","chat_id","avatar","color","name","ChatTypes","birthdayPlaceholder","length","slice","message","date","Service","Event","Const","Lib"],"mappings":"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","file":"registry.bundle.map.js"}