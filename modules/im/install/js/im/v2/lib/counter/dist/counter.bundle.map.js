{"version":3,"file":"counter.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","main_core_events","ui_vue3_vuex","im_v2_application_core","im_v2_lib_desktop","im_v2_lib_logger","im_v2_const","_instance","babelHelpers","classPrivateFieldLooseKey","_store","_init","_prepareChatCounters","_subscribeToCountersChange","_sendNotificationCounterChangeEvent","_sendChatCounterChangeEvent","_sendLinesCounterChangeEvent","_onTotalCounterChange","_updateBrowserTitleCounter","CounterManager","static","classPrivateFieldLooseBase","getInstance","constructor","Object","defineProperty","value","_updateBrowserTitleCounter2","_onTotalCounterChange2","_sendLinesCounterChangeEvent2","_sendChatCounterChangeEvent2","_sendNotificationCounterChangeEvent2","_subscribeToCountersChange2","_prepareChatCounters2","_init2","writable","Core","getStore","counters","_counters","getApplicationData","Logger","warn","removeBrowserTitleCounter","regexp","matchResult","document","title","match","groups","counterWithWhitespace","counterPrefixLength","slice","dispatch","LINES","TYPE","NOTIFY","chatCounters","Type","isArray","CHAT","markedChats","CHAT_UNREAD","forEach","markedChatId","unreadChatHasCounter","Boolean","watch","notificationCounterWatch","newValue","chatCounterWatch","linesCounterWatch","notificationsCounter","event","BaseEvent","compatData","EventEmitter","emit","window","EventType","counter","onNotificationCounterChange","chatCounter","onChatCounterChange","linesCounter","LINES_TYPE","onLinesCounterChange","notificationCounter","getters","totalCounter","DesktopManager","isDesktopActive","newCounter","currentCounter","Number","parseInt","counterPrefix","text","state","Lib","Event","Vue3","Vuex","Application","Const"],"sources":["counter.bundle.js"],"mappings":"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"}