{"version":3,"file":"background.bundle.js","sources":["../src/color-scheme.js","../src/background.js"],"sourcesContent":["export const ThemeType = Object.freeze({\n\tlight: 'light',\n\tdark: 'dark'\n});\n\nexport const ThemeFontColor = Object.freeze({\n\twhite: '#fff',\n\tgray: 'gray'\n});\n\nexport const BackgroundColorScheme = Object.freeze({\n\t// dark ones\n\t1: {\n\t\tcolor: '#9fcfff',\n\t\ttype: ThemeType.dark\n\t},\n\t2: {\n\t\tcolor: '#81d8bf',\n\t\ttype: ThemeType.dark\n\t},\n\t3: {\n\t\tcolor: '#7fadd1',\n\t\ttype: ThemeType.dark\n\t},\n\t4: {\n\t\tcolor: '#7a90b6',\n\t\ttype: ThemeType.dark\n\t},\n\t5: {\n\t\tcolor: '#5f9498',\n\t\ttype: ThemeType.dark\n\t},\n\t6: {\n\t\tcolor: '#799fe1',\n\t\ttype: ThemeType.dark\n\t},\n\t// light ones\n\t7: {\n\t\tcolor: '#cfeefa',\n\t\ttype: ThemeType.light\n\t},\n\t8: {\n\t\tcolor: '#c5ecde',\n\t\ttype: ThemeType.light\n\t},\n\t9: {\n\t\tcolor: '#efded3',\n\t\ttype: ThemeType.light\n\t},\n\t10: {\n\t\tcolor: '#dff0bc',\n\t\ttype: ThemeType.light\n\t},\n\t11: {\n\t\tcolor: '#eff4f6',\n\t\ttype: ThemeType.light\n\t},\n\t12: {\n\t\tcolor: '#f5f3e1',\n\t\ttype: ThemeType.light\n\t}\n});\n\nexport type BackgroundColorSchemeItem = {\n\tcolor: string,\n\ttype: $Values<typeof ThemeType>\n};","import {Core} from 'im.v2.application.core';\nimport {Settings} from 'im.v2.const';\nimport {BackgroundColorScheme, ThemeType, ThemeFontColor} from './color-scheme';\n\nimport type {BackgroundColorSchemeItem} from './color-scheme';\n\nexport type {BackgroundColorSchemeItem} from './color-scheme';\n\nconst IMAGE_FOLDER_PATH = '/bitrix/js/im/images/chat-v2-background';\n\ntype BackgroundStyle = {\n\tbackgroundColor: string,\n\tbackgroundImage: string,\n\tbackgroundRepeat: string,\n\tbackgroundSize: string\n};\n\nconst BackgroundManager = {\n\tgetCurrentBackgroundStyle(): BackgroundStyle\n\t{\n\t\tconst selectedBackgroundId = Core.getStore().getters['application/settings/get'](Settings.dialog.background);\n\n\t\treturn this.getBackgroundStyleById(selectedBackgroundId);\n\t},\n\n\tgetBackgroundStyleById(backgroundId: string | number): BackgroundStyle\n\t{\n\t\tconst colorScheme: BackgroundColorSchemeItem = BackgroundColorScheme[backgroundId];\n\t\tif (!colorScheme)\n\t\t{\n\t\t\treturn {};\n\t\t}\n\n\t\tconst patternImage = `url('${IMAGE_FOLDER_PATH}/pattern-${colorScheme.patternColor}.svg')`;\n\t\tconst highlightImage = `url('${IMAGE_FOLDER_PATH}/${backgroundId}.png')`;\n\n\t\treturn {\n\t\t\tbackgroundColor: colorScheme.color,\n\t\t\tbackgroundImage: `${highlightImage}, ${patternImage}`,\n\t\t\tbackgroundPosition: 'center, top right',\n\t\t\tbackgroundRepeat: 'no-repeat, repeat',\n\t\t\tbackgroundSize: 'cover, auto'\n\t\t};\n\t}\n};\n\nexport {BackgroundColorScheme, ThemeType, ThemeFontColor, BackgroundManager};"],"names":["ThemeType","Object","freeze","light","dark","ThemeFontColor","white","gray","BackgroundColorScheme","color","type","IMAGE_FOLDER_PATH","BackgroundManager","getCurrentBackgroundStyle","selectedBackgroundId","Core","getStore","getters","Settings","dialog","background","getBackgroundStyleById","backgroundId","colorScheme","patternImage","patternColor","highlightImage","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize"],"mappings":";;;;;;OAAaA,SAAS,GAAGC,MAAM,CAACC,MAAM,CAAC;GACtCC,KAAK,EAAE,OAAO;GACdC,IAAI,EAAE;CACP,CAAC,CAAC;AAEF,OAAaC,cAAc,GAAGJ,MAAM,CAACC,MAAM,CAAC;GAC3CI,KAAK,EAAE,MAAM;GACbC,IAAI,EAAE;CACP,CAAC,CAAC;AAEF,OAAaC,qBAAqB,GAAGP,MAAM,CAACC,MAAM,CAAC;;GAElD,CAAC,EAAE;KACFO,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACI;IAChB;GACD,CAAC,EAAE;KACFK,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACI;IAChB;GACD,CAAC,EAAE;KACFK,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACI;IAChB;GACD,CAAC,EAAE;KACFK,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACI;IAChB;GACD,CAAC,EAAE;KACFK,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACI;IAChB;GACD,CAAC,EAAE;KACFK,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACI;IAChB;;GAED,CAAC,EAAE;KACFK,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACG;IAChB;GACD,CAAC,EAAE;KACFM,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACG;IAChB;GACD,CAAC,EAAE;KACFM,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACG;IAChB;GACD,EAAE,EAAE;KACHM,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACG;IAChB;GACD,EAAE,EAAE;KACHM,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACG;IAChB;GACD,EAAE,EAAE;KACHM,KAAK,EAAE,SAAS;KAChBC,IAAI,EAAEV,SAAS,CAACG;;CAElB,CAAC,CAAC;;CCrDF,MAAMQ,iBAAiB,GAAG,yCAAyC;AASnE,OAAMC,iBAAiB,GAAG;GACzBC,yBAAyB,GACzB;KACC,MAAMC,oBAAoB,GAAGC,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,0BAA0B,CAAC,CAACC,oBAAQ,CAACC,MAAM,CAACC,UAAU,CAAC;KAE5G,OAAO,IAAI,CAACC,sBAAsB,CAACP,oBAAoB,CAAC;IACxD;GAEDO,sBAAsB,CAACC,YAA6B,EACpD;KACC,MAAMC,WAAsC,GAAGf,qBAAqB,CAACc,YAAY,CAAC;KAClF,IAAI,CAACC,WAAW,EAChB;OACC,OAAO,EAAE;;KAGV,MAAMC,YAAY,GAAI,QAAOb,iBAAkB,YAAWY,WAAW,CAACE,YAAa,QAAO;KAC1F,MAAMC,cAAc,GAAI,QAAOf,iBAAkB,IAAGW,YAAa,QAAO;KAExE,OAAO;OACNK,eAAe,EAAEJ,WAAW,CAACd,KAAK;OAClCmB,eAAe,EAAG,GAAEF,cAAe,KAAIF,YAAa,EAAC;OACrDK,kBAAkB,EAAE,mBAAmB;OACvCC,gBAAgB,EAAE,mBAAmB;OACrCC,cAAc,EAAE;MAChB;;CAEH,CAAC;;;;;;;;;;;"}