{"version":3,"file":"uploader.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core_events","main_core","SENDER_STATUSES","PENDING","PROGRESS","DONE","CANCELLED","FAILED","_uploaderTask","babelHelpers","classPrivateFieldLooseKey","_status","_listener","_requestToDelete","_token","_nextDataChunkToSend","_readOffset","_init","_createFileFromUploadedChunks","_updateProgress","_readNext","_isEndOfFile","_getUploadContentEndpoint","_getCreateFileEndpoint","_getDeleteContentEndpoint","_getBaseEndpoint","_getFileName","_sendPostRequest","_getContentRangeHeader","_getBitrixSessid","FileSender","constructor","task","Object","defineProperty","value","_getBitrixSessid2","_getContentRangeHeader2","_sendPostRequest2","_getFileName2","_getBaseEndpoint2","_getDeleteContentEndpoint2","_getCreateFileEndpoint2","_getUploadContentEndpoint2","_isEndOfFile2","_readNext2","_updateProgress2","_createFileFromUploadedChunks2","_init2","writable","classPrivateFieldLooseBase","listener","abortController","AbortController","uploadContent","url","headers","fileData","type","requestParams","body","signal","then","response","errors","length","Uploader","EVENTS","uploadFileError","result","console","error","message","data","token","chunkSize","catch","warn","deleteContent","abort","isPending","getTaskId","taskId","progress","startUpload","FormData","previewBlob","append","createFileError","complete","Math","round","size","progressUpdate","slice","UPLOAD_CHUNK_DEFAULT_ACTION","generateUniqueName","COMMIT_FILE_DEFAULT_ACTION","diskFolderId","ROLLBACK_UPLOAD_DEFAULT_ACTION","action","encodeURIComponent","fileName","name","request","requestPrams","method","credentials","Promise","resolve","reject","fetch","json","range","bitrix_sessid","PreviewManager","get","file","File","startsWith","getVideoPreviewBlob","blob","getImageDimensions","Blob","Error","fileBlob","image","Image","Event","bind","width","height","src","URL","createObjectURL","seekTime","video","document","createElement","setAttribute","load","duration","currentTime","canvas","videoWidth","videoHeight","context","getContext","drawImage","toBlob","resultBlob","_queue","_inputNode","_dropNode","_fileMaxSize","_isCloud","_phpUploadMaxFilesize","_phpPostMaxSize","_calculateChunkSize","_handleUploaderOptions","_initSettings","EventEmitter","_options","super","_initSettings2","_handleUploaderOptions2","_calculateChunkSize2","setEventNamespace","addTask","checkTaskParams","eventName","onUploadEvent","push","checkUploadQueue","deleteTask","filter","queueItem","getTask","queue","find","inProgressTasks","queueTask","event","emit","fileMaxSizeExceeded","maxFileSizeLimit","chunk","maxAvailableBoxChinkSize","min","minChunkSize","CLOUD_MIN_CHUNK_SIZE","BOX_MIN_CHUNK_SIZE","maxChunkSize","CLOUD_MAX_CHUNK_SIZE","max","options","inputNode","HTMLInputElement","Type","isArrayFilled","dropNode","HTMLElement","settings","Extension","getSettings","Lib"],"sources":["uploader.bundle.js"],"mappings":"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"}