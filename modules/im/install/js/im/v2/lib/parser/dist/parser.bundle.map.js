{"version":3,"file":"parser.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core_events","main_core","ParserSlashCommand","decode","text","startsWith","substr","purify","isDesktop","Type","isObject","window","BXDesktopSystem","settings","Extension","getSettings","get","getCore","Application","Core","Embedding","getUtils","Lib","Utils","getLogger","Logger","getConst","Const","getSmileManager","SmileManager","getBigSmileOption","settingName","Settings","dialog","bigSmiles","getStore","getters","RECURSIVE_LIMIT","ParserUtils","recursiveReplace","pattern","replacement","isStringFilled","count","deep","replace","params","getFinalContextTag","contextTag","match","dialogId","user1","user2","messageId","toString","Number","parseInt","getUserId","FileType","FileIconType","AttachDescription","ParserIcon","getIcon","icon","fallbackText","addIconToShortText","config","attach","files","isArray","length","getTextForFile","getTextForAttach","trim","getQuoteBlock","quote","Loc","getMessage","getCodeBlock","code","getImageBlock","image","getFileBlock","file","firstFile","getIconTextForFile","getIconTextForFileType","attachDescription","firstAttach","DESCRIPTION","SKIP_MESSAGE","Parser","purifyText","showPhraseMessageWasDeleted","type","result","iconText","toUpperCase","withText","textDescription","audio","video","name","_","t","_t","_t2","EventType","QUOTE_SIGN","ParserQuote","decodeArrowQuote","includes","isProcessed","textLines","split","i","quoteStartIndex","outerContainerStart","innerContainerStart","containerEnd","quoteEndIndex","join","purifyArrowQuote","spaceLetter","RegExp","decodeQuote","whole","userBlock","userName","timeTag","skipUserBlock","userContainer","Tag","render","quoteBaseClass","slice","layout","outerHTML","purifyQuote","decodeCode","br","Dom","create","tag","attrs","className","html","purifyCode","executeClickEvent","event","target","parentNode","dom","recursiveBackwardNodeSearch","dataset","context","EventEmitter","emit","goToMessageContext","ParserImage","decodeLink","letter","url","Text","toLowerCase","indexOf","checkUrl","children","src","events","error","_hideErrorImage","purifyLink","decodeIcon","textElementSize","enableBigSmile","border","size","width","height","title","purifyIcon","element","innerHTML","encodeURI","_$1","_t$1","RatioConfig","Object","freeze","Default","Big","getSmileRatio","replacedText","replaceAll","hasOnlySmiles","matchOnlySmiles","test","mapTypings","smiles","typings","reduce","acc","smile","typing","definition","smileImg","lookBehind","offset","substring","escaped","escapeRegex","regExp","ParserSmile","loadSmilePatterns","_smileManager$smileLi","_smileManager$smileLi2","smileManager","getInstance","smileList","sortedSmiles","sort","a","b","localeCompare","map","decodeSmile","options","isBoolean","ratioConfig","isObjectLike","ratio","behindMatching","call","cloneNode","style","ParserUrl","urlTarget","removeLinks","link","href","lastIndexOf","urlPart","removeSimpleUrlTag","ParserFont","number","fontSize","hex","color","removeStrike","ParserLines","rating","group","atomRegExpPart","ParserAction","decodePut","command","_getHtmlForAction","purifyPut","decodeSend","purifySend","decodeDate","date","purifyDate","atomRegexp","atomRegexpString","method","data","ParserCall","historyId","EventType$1","MessageMentionType","ParserMention","userId","isNumber","user","openlines","chatId","chatName","store","message","purifyMessage","authorId","hasClass","chat","mention","openChatInfo","value","ParserCommon","decodeNewLine","purifyNewLine","replaceSymbol","purifyBreakLine","replaceLetter","decodeTabulation","purifyTabulation","purifyNbsp","removeDuplicateTags","ParserRecursionPrevention","_startTagReplacement","_putReplacement","_sendReplacement","_codeReplacement","clean","cutStartTag","id","push","recoverStartTag","forEach","index","cutPutTag","recoverPutTag","cutSendTag","recoverSendTag","cutCodeTag","recoverCodeTag","recoverRecursionTag","ParserReplace","item","replaceDate","originalText","start","end","left","right","FileIconType$1","ParserDisk","diskText","decodeMessage","messageFiles","replaces","showIconIfEmptyText","decodeNotification","notification","_notification$params$","ATTACH","showImageFromLink","decodeText","decodeHtml","decodeSmileForLegacyCore","isPlainObject","isString","encode","purifyNotification","_notification$params$2","purifyRecent","recentMessage","prepareConfigForRecent","prepareQuote","prepareEdit","prepareCopy","fileField","withFile","attachField","withAttach","Event"],"sources":["parser.bundle.js"],"mappings":"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"}