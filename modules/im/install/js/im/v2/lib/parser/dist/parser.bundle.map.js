{"version":3,"file":"parser.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core_events","im_public","main_core","ParserSlashCommand","decode","text","startsWith","substr","purify","ParserRecursionPrevention","_tagsReplacement","_putReplacement","_sendReplacement","_codeReplacement","clean","cutTags","replaceAll","tag","id","length","push","recoverTags","forEach","index","replace","cutPutTag","whole","recoverPutTag","value","cutSendTag","recoverSendTag","cutCodeTag","recoverCodeTag","includes","recoverRecursionTag","split","join","settings","Extension","getSettings","get","getCore","Application","Core","Embedding","getUtils","Lib","Utils","getLogger","Logger","getConst","Const","getSmileManager","SmileManager","getBigSmileOption","settingName","Settings","message","bigSmiles","getStore","getters","RECURSIVE_LIMIT","ParserUtils","recursiveReplace","pattern","replacement","Type","isStringFilled","count","deep","params","getFinalContextTag","contextTag","match","dialogId","user1","user2","messageId","toString","Number","parseInt","getUserId","FileType","FileIconType","AttachDescription","ParserIcon","getIcon","icon","fallbackText","addIconToShortText","config","attach","files","isArrayFilled","getTextForFile","getTextForAttach","trim","getQuoteBlock","quote","Loc","getMessage","getCodeBlock","code","getImageBlock","image","getFileBlock","file","rawText","preparedText","isArray","firstFile","getIconTextForFile","getIconTextForFileType","attachDescription","firstAttach","DESCRIPTION","SKIP_MESSAGE","Parser","purifyText","showPhraseMessageWasDeleted","type","result","iconText","toUpperCase","withText","textDescription","audio","video","name","_","t","_t","_t2","EventType","QUOTE_SIGN","ParserQuote","decodeArrowQuote","isProcessed","textLines","i","quoteStartIndex","outerContainerStart","innerContainerStart","containerEnd","quoteEndIndex","purifyArrowQuote","spaceLetter","RegExp","decodeQuote","userBlock","userName","timeTag","skipUserBlock","userContainer","Tag","render","quoteBaseClass","slice","layout","outerHTML","purifyQuote","decodeCode","br","Dom","create","attrs","className","html","purifyCode","executeClickEvent","event","target","parentNode","dom","recursiveBackwardNodeSearch","dataset","context","EventEmitter","emit","dialog","goToMessageContext","ParserImage","decodeLink","urlParsed","url","Text","test","toLowerCase","indexOf","checkUrl","children","src","events","error","hideErrorImage","purifyLink","letter","decodeIcon","textElementSize","enableBigSmile","border","size","width","height","title","Math","max","alt","purifyIcon","element","innerHTML","encodeURI","_$1","_t$1","RatioConfig","Object","freeze","Default","Big","getSmileRatio","replacedText","hasOnlySmiles","matchOnlySmiles","mapTypings","smiles","typings","reduce","acc","smile","typing","definition","smileImg","lookBehind","offset","substring","escaped","escapeRegex","regExp","ParserSmile","loadSmilePatterns","_smileManager$smileLi","_smileManager$smileLi2","smileManager","getInstance","smileList","sortedSmiles","sort","a","b","localeCompare","map","decodeSmile","options","isBoolean","ratioConfig","isObjectLike","ratio","behindMatching","call","cloneNode","style","ParserUrl","urlTarget","removeLinks","link","href","lastIndexOf","urlPart","removeSimpleUrlTag","ParserFont","number","fontSize","hex","color","removeStrike","_$2","_t$2","ParserLines","rating","atomRegExpPart","ParserAction","decodePut","command","_getHtmlForAction","purifyPut","decodeSend","purifySend","decodeDate","date","purifyDate","atomRegexp","atomRegexpString","method","data","MessageMentionType","ParserCall","destination","isNumber","historyId","EventType$1","MessageMentionType$1","ParserMention","userId","user","isLines","chatId","chatNameParsed","chatName","store","lines","chat","purifyMessage","authorId","openlines","hasClass","mention","openChatInfo","isLinesHistoryId","openLinesHistory","isLinesExternalId","openLines","startPhoneCall","ParserCommon","decodeNewLine","purifyNewLine","replaceSymbol","purifyBreakLine","replaceLetter","decodeTabulation","purifyTabulation","purifyNbsp","removeDuplicateTags","FileIconType$1","ParserDisk","diskText","decodeMessage","messageFiles","replaces","showIconIfEmptyText","decodeNotification","notification","_notification$params$","ATTACH","showImageFromLink","decodeText","decodeHtml","decodeSmileForLegacyCore","legacyConfig","isPlainObject","isString","encode","purifyNotification","_notification$params$2","purifyRecent","recentMessage","prepareConfigForRecent","prepareQuote","quoteText","prepareEdit","prepareCopy","fileField","withFile","attachField","withAttach","Event"],"sources":["parser.bundle.js"],"mappings":"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"}