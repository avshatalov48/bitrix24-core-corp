{"version":3,"file":"draft.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","main_core_events","im_v2_application_core","im_v2_lib_localStorage","im_v2_lib_logger","im_v2_const","WRITE_TO_STORAGE_TIMEOUT","SHOW_DRAFT_IN_RECENT_TIMEOUT","DraftManager","static","instance","constructor","inited","drafts","initPromise","Promise","resolve","initPromiseResolver","EventEmitter","subscribe","EventType","layout","onLayoutChange","bind","initDraftHistory","draftHistory","LocalStorageManager","getInstance","get","getLocalStorageKey","fillDraftsFromStorage","Logger","warn","setRecentListDraftText","ready","Type","isPlainObject","Object","entries","forEach","dialogId","draft","setDraftText","text","trim","refreshSaveTimeout","setDraftPanel","panelType","messageId","panelMessageId","setDraftMentions","mentions","async","_this$drafts$dialogId","clearDraft","setRecentItemDraftText","_draft$text","Core","getStore","dispatch","getDraftMethodName","id","event","from","getData","name","getLayoutName","entityId","setTimeout","getDraft","clearTimeout","writeToStorageTimeout","saveToLocalStorage","set","prepareDrafts","result","TextareaPanelType","edit","Layout","chat","LocalStorageKey","recentDraft","CopilotDraftManager","copilot","copilotDraft","Lib","Event","Application","Const"],"sources":["draft.bundle.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,UAAYF,KAAKC,GAAGC,WAAa,CAAC,EAC1CF,KAAKC,GAAGC,UAAUC,GAAKH,KAAKC,GAAGC,UAAUC,IAAM,CAAC,GAC/C,SAAUC,EAAQC,EAAUC,EAAiBC,EAAuBC,EAAuBC,EAAiBC,GAC5G,aAEA,MAAMC,EAA2B,IACjC,MAAMC,EAA+B,KACrC,MAAMC,EACJC,qBACE,IAAKD,EAAaE,SAAU,CAC1BF,EAAaE,SAAW,IAAIF,CAC9B,CACA,OAAOA,EAAaE,QACtB,CACAC,cACEhB,KAAKiB,OAAS,MACdjB,KAAKkB,OAAS,CAAC,EACflB,KAAKmB,YAAc,IAAIC,SAAQC,IAC7BrB,KAAKsB,oBAAsBD,CAAO,IAEpCf,EAAiBiB,aAAaC,UAAUd,EAAYe,UAAUC,OAAOC,eAAgB3B,KAAK2B,eAAeC,KAAK5B,MAChH,CACA6B,mBACE,GAAI7B,KAAKiB,OAAQ,CACf,MACF,CACAjB,KAAKiB,OAAS,KACd,MAAMa,EAAetB,EAAuBuB,oBAAoBC,cAAcC,IAAIjC,KAAKkC,qBAAsB,CAAC,GAC9GlC,KAAKmC,sBAAsBL,GAC3BrB,EAAiB2B,OAAOC,KAAK,4BAA6BrC,KAAKkB,QAC/DlB,KAAKsB,sBACLtB,KAAKsC,wBACP,CACAC,QACE,OAAOvC,KAAKmB,WACd,CACAgB,sBAAsBL,GACpB,IAAKzB,EAAUmC,KAAKC,cAAcX,GAAe,CAC/C,MACF,CACAY,OAAOC,QAAQb,GAAcc,SAAQ,EAAEC,EAAUC,MAC/C,IAAKzC,EAAUmC,KAAKC,cAAcK,GAAQ,CACxC,MACF,CACA9C,KAAKkB,OAAO2B,GAAYC,CAAK,GAEjC,CACAC,aAAaF,EAAUG,GACrB,IAAKhD,KAAKkB,OAAO2B,GAAW,CAC1B7C,KAAKkB,OAAO2B,GAAY,CAAC,CAC3B,CACA7C,KAAKkB,OAAO2B,GAAUG,KAAOA,EAAKC,OAClCjD,KAAKkD,oBACP,CACAC,cAAcN,EAAUO,EAAWC,GACjC,IAAKrD,KAAKkB,OAAO2B,GAAW,CAC1B7C,KAAKkB,OAAO2B,GAAY,CAAC,CAC3B,CACA7C,KAAKkB,OAAO2B,GAAUO,UAAYA,EAClCpD,KAAKkB,OAAO2B,GAAUS,eAAiBD,EACvCrD,KAAKkD,oBACP,CACAK,iBAAiBV,EAAUW,GACzB,IAAKxD,KAAKkB,OAAO2B,GAAW,CAC1B7C,KAAKkB,OAAO2B,GAAY,CAAC,CAC3B,CACA7C,KAAKkB,OAAO2B,GAAUW,SAAWA,EACjCxD,KAAKkD,oBACP,CACAO,eAAeZ,GACb,IAAIa,QACE1D,KAAKmB,YACX,MAAM2B,GAASY,EAAwB1D,KAAKkB,OAAO2B,KAAc,KAAOa,EAAwB,CAAC,EACjG,OAAOtC,QAAQC,QAAQyB,EACzB,CACAa,WAAWd,UACF7C,KAAKkB,OAAO2B,GACnB7C,KAAK4D,uBAAuBf,EAAU,GACxC,CACAP,yBACEI,OAAOC,QAAQ3C,KAAKkB,QAAQ0B,SAAQ,EAAEC,EAAUC,MAC9C,IAAIe,EACJ7D,KAAK4D,uBAAuBf,GAAWgB,EAAcf,EAAME,OAAS,KAAOa,EAAc,GAAG,GAEhG,CACAD,uBAAuBf,EAAUG,GAC/BzC,EAAuBuD,KAAKC,WAAWC,SAAShE,KAAKiE,qBAAsB,CACzEC,GAAIrB,EACJG,QAEJ,CACArB,eAAewC,GACb,MAAMC,KACJA,GACED,EAAME,UACV,GAAID,EAAKE,OAAStE,KAAKuE,iBAAmBH,EAAKI,WAAa,GAAI,CAC9D,MACF,CACA,MAAM3B,EAAWuB,EAAKI,SACtBC,YAAWhB,UACT,MAAMT,KACJA,EAAO,UACChD,KAAK0E,SAAS7B,GACxB7C,KAAK4D,uBAAuBf,EAAUG,EAAK,GAC1CpC,EACL,CACAsC,qBACEyB,aAAa3E,KAAK4E,uBAClB5E,KAAK4E,sBAAwBH,YAAW,KACtCzE,KAAK6E,oBAAoB,GACxBlE,EACL,CACAkE,qBACErE,EAAuBuB,oBAAoBC,cAAc8C,IAAI9E,KAAKkC,qBAAsBlC,KAAK+E,gBAC/F,CACAA,gBACE,MAAMC,EAAS,CAAC,EAChBtC,OAAOC,QAAQ3C,KAAKkB,QAAQ0B,SAAQ,EAAEC,EAAUC,MAC9C,IAAKA,EAAME,OAASF,EAAMM,UAAW,CACnC,MACF,CACA,GAAIN,EAAMM,YAAc1C,EAAYuE,kBAAkBC,KAAM,CAC1D,MACF,CACAF,EAAOnC,GAAY,CACjBG,KAAMF,EAAME,KACZQ,SAAUV,EAAMU,SACjB,IAEH,OAAOwB,CACT,CACAT,gBACE,OAAO7D,EAAYyE,OAAOC,KAAKd,IACjC,CACApC,qBACE,OAAOxB,EAAY2E,gBAAgBC,WACrC,CACArB,qBACE,MAAO,uBACT,EAEFpD,EAAaE,SAAW,KAExB,MAAMwE,UAA4B1E,EAChCC,qBACE,IAAKyE,EAAoBxE,SAAU,CACjCwE,EAAoBxE,SAAW,IAAIwE,CACrC,CACA,OAAOA,EAAoBxE,QAC7B,CACAwD,gBACE,OAAO7D,EAAYyE,OAAOK,QAAQlB,IACpC,CACApC,qBACE,OAAOxB,EAAY2E,gBAAgBI,YACrC,CACAxB,qBACE,MAAO,wBACT,EAEFsB,EAAoBxE,SAAW,KAE/BX,EAAQS,aAAeA,EACvBT,EAAQmF,oBAAsBA,CAE/B,EAnKA,CAmKGvF,KAAKC,GAAGC,UAAUC,GAAGuF,IAAM1F,KAAKC,GAAGC,UAAUC,GAAGuF,KAAO,CAAC,EAAGzF,GAAGA,GAAG0F,MAAM1F,GAAGC,UAAUC,GAAGyF,YAAY3F,GAAGC,UAAUC,GAAGuF,IAAIzF,GAAGC,UAAUC,GAAGuF,IAAIzF,GAAGC,UAAUC,GAAG0F"}