{"version":3,"file":"desktop.bundle.map.js","names":["this","BX","Messenger","v2","exports","im_v2_const","im_v2_lib_logger","main_core","DesktopApi","getApiVersion","isApiAvailable","version","window","BXDesktopSystem","GetProperty","Type","isObject","isFeatureEnabled","code","_window$BXDesktopSyst","FeatureEnabled","locationChangedToBx","checkTimeoutList","CHECK_IMAGE_URL","DESKTOP_PROTOCOL_VERSION","DesktopUtils","checkRunStatus","successCallback","failureCallback","isFunction","dateCheck","Date","now","Desktop","DesktopManager","getInstance","isDesktopActive","alreadyExecuteFailureCallback","imageForCheck","Dom","create","tag","attrs","src","props","className","events","error","checkId","dataset","id","clearTimeout","remove","load","document","body","append","setTimeout","goToBx","url","test","replace","location","hostname","onCustomEvent","href","isLocationChangedToBx","encodeParams","params","isPlainObject","stringParams","first","i","decodeParams","encodedParams","result","isStringFilled","chunks","split","length","encodeParamsJson","encodeURIComponent","JSON","stringify","console","decodeParamsJson","parse","decodeURIComponent","_desktopIsActive","babelHelpers","classPrivateFieldLooseKey","_desktopVersion","_initDesktopStatus","static","instance","constructor","Object","defineProperty","value","_initDesktopStatus2","writable","classPrivateFieldLooseBase","setDesktopActive","flag","getDesktopVersion","setDesktopVersion","isDesktopFeatureEnabled","startVideoCall","dialogId","withVideo","Logger","warn","callType","Promise","resolve","failure","settings","Extension","getSettings","get","Lib","Const"],"sources":["desktop.bundle.js"],"mappings":"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"}