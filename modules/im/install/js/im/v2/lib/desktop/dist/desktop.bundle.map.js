{"version":3,"file":"desktop.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core_events","im_v2_lib_logger","im_v2_const","main_core","DesktopApi","isApiAvailable","Type","isObject","window","BXDesktopSystem","getApiVersion","majorVersion","minorVersion","buildVersion","apiVersion","GetProperty","isFeatureEnabled","code","_window$BXDesktopSyst","FeatureEnabled","IMAGE_CHECK_URL","IMAGE_CHECK_TIMEOUT","IMAGE_CLASS","checkTimeoutList","Checker","testImageUpload","successCallback","failureCallback","dateCheck","Date","now","failureCallbackCalled","imageForCheck","Dom","create","tag","attrs","src","props","className","events","error","checkId","dataset","id","clearTimeout","remove","load","document","body","append","setTimeout","DESKTOP_PROTOCOL_VERSION","LOCATION_RESET_TIMEOUT","_desktopIsActive","babelHelpers","classPrivateFieldLooseKey","_locationChangedToBx","_goToBx","_prepareBxUrl","_initDesktopStatus","DesktopManager","static","instance","getInstance","constructor","Object","defineProperty","value","_initDesktopStatus2","_prepareBxUrl2","_goToBx2","writable","classPrivateFieldLooseBase","isDesktopActive","setDesktopActive","flag","getDesktopVersion","isLocationChangedToBx","startVideoCall","dialogId","withVideo","Logger","warn","callType","Promise","resolve","checkStatusInDifferentContext","url","event","BaseEvent","compatData","EventEmitter","emit","location","href","test","replace","hostname","settings","Extension","getSettings","get","Lib","Event","Const"],"sources":["desktop.bundle.js"],"mappings":"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"}