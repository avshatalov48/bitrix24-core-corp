this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,s){"use strict";const n="BX.Messenger.v2.Textarea.ResizeManager";var o=babelHelpers.classPrivateFieldLooseKey("observer");var i=babelHelpers.classPrivateFieldLooseKey("textareaHeight");var a=babelHelpers.classPrivateFieldLooseKey("initObserver");class l extends s.EventEmitter{constructor(){super();Object.defineProperty(this,a,{value:c});Object.defineProperty(this,o,{writable:true,value:void 0});Object.defineProperty(this,i,{writable:true,value:void 0});this.setEventNamespace(n);babelHelpers.classPrivateFieldLooseBase(this,a)[a]()}observeTextarea(e){babelHelpers.classPrivateFieldLooseBase(this,o)[o].observe(e);babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e.clientHeight}unobserveTextarea(e){babelHelpers.classPrivateFieldLooseBase(this,o)[o].unobserve(e);babelHelpers.classPrivateFieldLooseBase(this,i)[i]=0}}function c(){babelHelpers.classPrivateFieldLooseBase(this,o)[o]=new ResizeObserver((e=>{e.forEach((e=>{var s;const n=(s=e.borderBoxSize)==null?void 0:s[0].blockSize;if(t.Type.isNumber(n)&&n!==babelHelpers.classPrivateFieldLooseBase(this,i)[i]){this.emit(l.events.onHeightChange,{newHeight:n});babelHelpers.classPrivateFieldLooseBase(this,i)[i]=n}}))}))}l.events={onHeightChange:"onHeightChange"};const r="\t";const v="\n";const d="Key";const u={addTab(e){const t=e.selectionStart+1;const s=e.value.slice(0,e.selectionStart);const n=e.value.slice(e.selectionEnd);const o=`${s}${r}${n}`;e.value=o;e.selectionStart=t;e.selectionEnd=t;return o},removeTab(e){const t=e.value.slice(e.selectionStart-1,e.selectionStart);if(t!==r){return e.value}const s=e.selectionStart-1;const n=e.value.slice(0,e.selectionStart-1);const o=e.value.slice(e.selectionEnd);const i=`${n}${o}`;e.value=i;e.selectionStart=s;e.selectionEnd=s;return i},handleDecorationTag(e,t){t=t.replace(d,"").toLowerCase();const s=`[${t}]`;const n=`[/${t}]`;const o=e.value.slice(e.selectionStart,e.selectionEnd);if(!o){return e.value}const i=o.toLowerCase().startsWith(s)&&o.toLowerCase().endsWith(n);if(i){return this.removeDecorationTag(e,t)}else{return this.addDecorationTag(e,t)}},addDecorationTag(e,t){const s=`[${t}]`;const n=`[/${t}]`;const o=s.length+n.length;const i=e.selectionStart;const a=e.selectionEnd+o;const l=e.value.slice(0,e.selectionStart);const c=e.value.slice(e.selectionStart,e.selectionEnd);const r=e.value.slice(e.selectionEnd);const v=`${l}${s}${c}${n}${r}`;e.value=v;e.selectionStart=i;e.selectionEnd=a;return v},removeDecorationTag(e,t){const s=`[${t}]`;const n=`[/${t}]`;const o=s.length+n.length;const i=e.selectionStart;const a=e.selectionEnd-o;const l=e.value.slice(0,e.selectionStart);const c=e.selectionStart+s.length;const r=e.selectionEnd-n.length;const v=e.value.slice(c,r);const d=e.value.slice(e.selectionEnd);const u=`${l}${v}${d}`;e.value=u;e.selectionStart=i;e.selectionEnd=a;return u},addNewLine(e){const t=e.selectionStart+1;const s=e.value.slice(0,e.selectionStart);const n=e.value.slice(e.selectionEnd);const o=`${s}${v}${n}`;e.value=o;e.selectionStart=t;e.selectionEnd=t;return o}};e.Textarea=u;e.ResizeManager=l})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX,BX.Event);
//# sourceMappingURL=textarea.bundle.map.js