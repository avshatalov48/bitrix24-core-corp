{"version":3,"file":"utils.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_date","main_core","im_v2_const","UA","navigator","userAgent","toLowerCase","BrowserUtil","isChrome","Browser","isFirefox","isIe","isIE","isSafari","includes","isSafariBased","findParent","item","findTag","isHtmlElement","HTMLElement","Type","isString","document","parentNode","Dom","hasClass","DateUtil","getFormatType","type","DateFormat","default","format","groupTitle","Loc","getMessage","message","recentTitle","recentLinesTitle","readedTitle","vacationTitle","getDateFunction","localize","dateFormatFunction","Object","create","Main","Date","_getMessage","phrase","timestamp","cast","date","def","result","isNumber","Number","isNaN","getTime","getTimeToNextMidnight","nextMidnight","setHours","now","getStartOfTheDay","isToday","toDateString","UA$1","DeviceUtil","isDesktop","isMobile","isUndefined","isMobileStatic","orientationHorizontal","orientationPortrait","getOrientation","Math","abs","window","orientation","UA$2","PlatformUtil","isMac","isLinux","isWindows","isWin","isBitrixMobile","isBitrixDesktop","getDesktopVersion","getDesktopVersionStatic","BXDesktopSystem","version","GetProperty","isDesktopFeatureEnabled","code","isFunction","FeatureEnabled","isAndroid","isIos","isIOS","getIosVersion","matches","match","parseFloat","openNewPage","url","MobileTools","openWidget","resolveOpenFunction","app","open","RestUtil","getLogTrackingParams","params","name","data","dialog","files","encodeURIComponent","isPlainObject","dataArray","hasOwnProperty","push","isArray","isObjectLike","entityId","split","isNull","length","join","TextUtil","convertHtmlEntities","text","tag","html","innerText","convertSnakeToCamelCase","replace","$1","toUpperCase","escapeRegex","string","getLocalizeForNumber","number","language","pluralFormType","parseInt","getFirstLetters","validSymbolsPattern","words","filter","word","firstLetter","charAt","test","insertUnseenWhitespace","splitIndex","UNSEEN_SPACE","firstPart","slice","secondPart","hasWhitespace","hasUserCode","isUuidV4","uuid","uuidV4pattern","RegExp","search","checkUrl","allowList","checkCorrectStartLink","find","protocol","startsWith","element","attrs","href","indexOf","htmlspecialchars","Text","encode","htmlspecialcharsback","decode","settings","Extension","getSettings","UserUtil","getLastDateText","bot","network","lastActivityDate","isOnline","isMobileOnline","mobileLastDate","idle","getIdleText","lastSeenText","getLastSeenText","getStatusTextForLastDate","status","phraseCode","gender","absent","dateFunction","vacationFormat","vacationText","getOnlineLimit","FIVE_MINUTES","_Loc$getMessage","getStatusText","_Loc$getMessage2","formatLastActivityDate","isBirthdayToday","birthday","limitOnline","get","FIFTEEN_MINUTES","getProfileLink","userId","getCalendarLink","getMentionBbCode","FileUtil","getFileExtension","fileName","splice","getIconTypeByFilename","extension","getIconTypeByExtension","icon","toString","getFileTypeByExtension","FileType","file","image","video","audio","formatFileSize","fileSize","sizes","KILOBYTE_SIZE","position","roundedSize","round","getShortFileName","maxLength","DOT_LENGTH","SYMBOLS_TO_TAKE_BEFORE_EXTENSION","symbolsToTakeFromEnd","trim","getViewerDataAttributes","viewerAttributes","viewerType","objectId","src","viewerGroupBy","title","actions","Utils","browser","device","platform","rest","user","Lib","Const"],"sources":["utils.bundle.js"],"mappings":"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"}