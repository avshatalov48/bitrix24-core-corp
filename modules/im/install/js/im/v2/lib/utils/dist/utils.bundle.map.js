{"version":3,"file":"utils.bundle.map.js","names":["this","BX","Messenger","v2","exports","im_v2_const","main_core","Utils","browser","isSafari","isChrome","navigator","userAgent","toLowerCase","includes","isSafariBased","isFirefox","isIe","match","findParent","item","findTag","isHtmlElement","HTMLElement","document","parentNode","classList","contains","platform","isMac","isLinux","isWindows","isBitrixMobile","isBitrixDesktop","getDesktopVersion","getDesktopVersionStatic","BXDesktopSystem","version","GetProperty","isDesktopFeatureEnabled","code","Type","isFunction","FeatureEnabled","isMobile","isAndroid","isIos","getIosVersion","matches","parseFloat","openNewPage","url","MobileTools","openWidget","resolveOpenFunction","app","window","open","device","isDesktop","isMobileStatic","orientationHorizontal","orientationPortrait","getOrientation","Math","abs","orientation","text","quote","params","files","localize","toString","message","replace","whole","userId","imol","chatId","command","rating","IM_F_RATING","FILE_ID","length","filesText","forEach","fileId","type","push","name","join","ATTACH","trim","purify","startsWith","substr","codeReplacement","id","title","indexOf","element","index","WITH_ATTACH","WITH_FILE","htmlspecialchars","htmlspecialcharsback","getLocalizeForNumber","phrase","number","language","pluralFormType","parseInt","getFirstLetters","validSymbolsPattern","words","split","filter","word","firstLetter","charAt","test","convertSnakeToCamelCase","$1","toUpperCase","date","getFormatType","DateFormat","default","format","groupTitle","recentTitle","recentLinesTitle","readedTitle","vacationTitle","getDateFunction","dateFormatFunction","Object","create","Main","Date","_getMessage","timestamp","cast","def","result","Number","isNaN","getTime","getTimeToNextMidnight","nextMidnight","setHours","now","getStartOfTheDay","isToday","toDateString","user","getLastDateText","bot","network","lastActivityDate","isOnline","isMobileOnline","mobileLastDate","idle","Loc","getMessage","getIdleText","lastSeenText","getLastSeenText","getStatusText","status","phraseCode","gender","absent","dateFunction","vacationFormat","vacationText","getOnlineLimit","FIVE_MINUTES","_localize$phraseCode","formatLastActivityDate","isBirthdayToday","birthday","FIFTEEN_MINUTES","LIMIT_ONLINE","getLogTrackingParams","data","dialog","encodeURIComponent","Array","dataArray","hasOwnProperty","entityId","types","isUuidV4","uuid","uuidV4pattern","RegExp","search","Lib","Const"],"sources":["utils.bundle.js"],"mappings":"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"}