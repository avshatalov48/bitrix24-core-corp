{"version":3,"file":"animation.bundle.js","sources":["../src/animation.js"],"sourcesContent":["import {Type} from 'main.core';\n\ntype AnimationParams = {\n\tstart: number,\n\tend: number,\n\tincrement: number,\n\tduration: number,\n\telement: HTMLElement,\n\telementProperty: string,\n\tcallback: Function\n};\n\nconst DEFAULT_ANIMATION_PARAMS = {\n\tincrement: 20,\n\tcallback: () => {},\n\tduration: 500\n};\n\nexport const Animation = {\n\tstart(params: AnimationParams): number\n\t{\n\t\tif (Type.isUndefined(params.start) || Type.isUndefined(params.end) || !params.element || !params.elementProperty)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\tparams = {...DEFAULT_ANIMATION_PARAMS, ...params};\n\t\tconst diff = params.end - params.start;\n\t\tlet currentValue = 0;\n\n\t\tlet frameId;\n\t\tconst animate = () =>\n\t\t{\n\t\t\tcurrentValue += params.increment;\n\n\t\t\tparams.element[params.elementProperty] = easeFunction(currentValue, params.start, diff, params.duration);\n\t\t\tif (currentValue < params.duration)\n\t\t\t{\n\t\t\t\tframeId = requestAnimationFrame(animate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparams.callback();\n\t\t\t}\n\n\t\t\treturn frameId;\n\t\t};\n\n\t\treturn animate();\n\t},\n\n\tcancel()\n\t{\n\t\tcancelAnimationFrame();\n\t}\n};\n\nconst easeFunction = function (currentValue: number, start: number, diff: number, duration: number)\n{\n\tcurrentValue /= duration / 2;\n\n\tif (currentValue < 1)\n\t{\n\t\treturn (diff / 2) * (currentValue * currentValue) + start;\n\t}\n\n\tcurrentValue--;\n\n\treturn (-diff / 2) * (currentValue * (currentValue - 2) - 1) + start;\n};"],"names":["DEFAULT_ANIMATION_PARAMS","increment","callback","duration","Animation","start","params","Type","isUndefined","end","element","elementProperty","diff","currentValue","frameId","animate","easeFunction","requestAnimationFrame","cancel","cancelAnimationFrame"],"mappings":";;;;;;;CAYA,MAAMA,wBAAwB,GAAG;GAChCC,SAAS,EAAE,EAAE;GACbC,QAAQ,EAAE,MAAM,EAAE;GAClBC,QAAQ,EAAE;CACX,CAAC;AAED,OAAaC,SAAS,GAAG;GACxBC,KAAK,CAACC,MAAuB,EAC7B;KACC,IAAIC,cAAI,CAACC,WAAW,CAACF,MAAM,CAACD,KAAK,CAAC,IAAIE,cAAI,CAACC,WAAW,CAACF,MAAM,CAACG,GAAG,CAAC,IAAI,CAACH,MAAM,CAACI,OAAO,IAAI,CAACJ,MAAM,CAACK,eAAe,EAChH;OACC,OAAO,CAAC;;KAGTL,MAAM,GAAG;OAAC,GAAGN,wBAAwB;OAAE,GAAGM;MAAO;KACjD,MAAMM,IAAI,GAAGN,MAAM,CAACG,GAAG,GAAGH,MAAM,CAACD,KAAK;KACtC,IAAIQ,YAAY,GAAG,CAAC;KAEpB,IAAIC,OAAO;KACX,MAAMC,OAAO,GAAG,MAChB;OACCF,YAAY,IAAIP,MAAM,CAACL,SAAS;OAEhCK,MAAM,CAACI,OAAO,CAACJ,MAAM,CAACK,eAAe,CAAC,GAAGK,YAAY,CAACH,YAAY,EAAEP,MAAM,CAACD,KAAK,EAAEO,IAAI,EAAEN,MAAM,CAACH,QAAQ,CAAC;OACxG,IAAIU,YAAY,GAAGP,MAAM,CAACH,QAAQ,EAClC;SACCW,OAAO,GAAGG,qBAAqB,CAACF,OAAO,CAAC;QACxC,MAED;SACCT,MAAM,CAACJ,QAAQ,EAAE;;OAGlB,OAAOY,OAAO;MACd;KAED,OAAOC,OAAO,EAAE;IAChB;GAEDG,MAAM,GACN;KACCC,oBAAoB,EAAE;;CAExB,CAAC;CAED,MAAMH,YAAY,GAAG,UAAUH,YAAoB,EAAER,KAAa,EAAEO,IAAY,EAAET,QAAgB,EAClG;GACCU,YAAY,IAAIV,QAAQ,GAAG,CAAC;GAE5B,IAAIU,YAAY,GAAG,CAAC,EACpB;KACC,OAAQD,IAAI,GAAG,CAAC,IAAKC,YAAY,GAAGA,YAAY,CAAC,GAAGR,KAAK;;GAG1DQ,YAAY,EAAE;GAEd,OAAQ,CAACD,IAAI,GAAG,CAAC,IAAKC,YAAY,IAAIA,YAAY,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAGR,KAAK;CACrE,CAAC;;;;;;;;"}