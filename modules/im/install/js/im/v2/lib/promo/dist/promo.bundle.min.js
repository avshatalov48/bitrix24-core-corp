this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,t,a){"use strict";class r{static markAsWatched(e){a.Logger.warn("PromoService: markAsWatched:",e);return s.Core.getRestClient().callMethod(t.RestMethod.imPromotionRead,{id:e}).catch((e=>{console.error("PromoService: markAsWatched error:",e)}))}}var i=babelHelpers.classPrivateFieldLooseKey("instance");var o=babelHelpers.classPrivateFieldLooseKey("promoList");var l=babelHelpers.classPrivateFieldLooseKey("init");class n{static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,i)[i]){babelHelpers.classPrivateFieldLooseBase(this,i)[i]=new this}return babelHelpers.classPrivateFieldLooseBase(this,i)[i]}static init(){n.getInstance()}constructor(){Object.defineProperty(this,l,{value:c});Object.defineProperty(this,o,{writable:true,value:void 0});const{promoList:e}=s.Core.getApplicationData();a.Logger.warn("PromoManager: promoList",e);babelHelpers.classPrivateFieldLooseBase(this,l)[l](e)}needToShow(e){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].has(e)}async markAsWatched(e){if(!babelHelpers.classPrivateFieldLooseBase(this,o)[o].has(e)){return}await r.markAsWatched(e);babelHelpers.classPrivateFieldLooseBase(this,o)[o].delete(e)}}function c(e){babelHelpers.classPrivateFieldLooseBase(this,o)[o]=new Set(e)}Object.defineProperty(n,i,{writable:true,value:void 0});e.PromoManager=n})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Messenger.v2.Application,BX.Messenger.v2.Const,BX.Messenger.v2.Lib);
//# sourceMappingURL=promo.bundle.map.js