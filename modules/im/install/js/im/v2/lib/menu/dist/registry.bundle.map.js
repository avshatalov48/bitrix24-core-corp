{"version":3,"sources":["registry.bundle.js"],"names":["this","BX","Messenger","v2","exports","main_popup","main_core_events","ui_dialogs_messagebox","im_v2_const","main_core","BaseMenu","constructor","$Bitrix","menuInstance","context","target","store","restClient","id","Data","get","RestClient","onClosePopupHandler","onClosePopup","bind","EventEmitter","subscribe","EventType","dialog","closePopup","openMenu","destroy","getMenuInstance","show","MenuManager","create","getMenuOptions","bindOptions","forceBindPosition","position","targetContainer","document","body","bindElement","cacheable","className","getMenuClassName","items","getMenuItems","isDarkMode","state","application","options","darkTheme","close","unsubscribe","PinManager","pinDialog","dialogId","dispatch","action","queryParams","DIALOG_ID","ACTION","callMethod","RestMethod","imRecentPin","catch","error","console","unpinDialog","MuteManager","muteDialog","imChatMute","unmuteDialog","resendAction","cancelAction","InviteManager","resendInvite","userId","data","params","ajax","runAction","then","showNotification","Loc","getMessage","handleActionError","cancelInvite","text","autoHideDelay","UI","Notification","Center","notify","content","status","errors","length","errorContent","map","element","message","join","CallHelper","checkCallSupport","MessengerProxy","getPushServerStatus","Call","Util","isWebRTCSupported","Number","parseInt","checkUserCallSupport","checkChatCallSupport","user","getters","bot","network","getCurrentUserId","lastActivityDate","userCounter","getUserLimit","hasActiveCall","getCallController","common","RecentMenu","super","pinManager","muteManager","callHelper","angle","offsetLeft","compactMode","invitation","isActive","getInviteItems","getSendMessageItem","getPinMessageItem","getMuteItem","getCallItem","getHistoryItem","getOpenProfileItem","getHideItem","getLeaveItem","onclick","OpenTarget","current","auto","emit","open","chat","isPinned","pinned","isUser","type","ChatTypes","isAnnouncement","announcement","muteAllowed","ChatOption","mute","isMuted","muteList","includes","isChat","callAllowed","call","callSupport","isExternalTelephonyCall","openHistory","profileUri","href","default_user_record","hide","optionToCheck","leave","owner","leaveOwner","leaveAllowed","canManageInvite","canInvite","originator","push","getDelimiter","canResend","getResendInviteItem","getCancelInviteItem","MessageBox","modal","buttons","MessageBoxButtons","OK_CANCEL","onOk","messageBox","onCancel","delimiter","Lib","Main","Event","Dialogs","Const"],"mappings":"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","file":"registry.bundle.map.js"}