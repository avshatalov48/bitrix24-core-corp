{"version":3,"file":"text-highlighter.bundle.js","sources":["../src/text-highlighter.js"],"sourcesContent":["import { Utils } from 'im.v2.lib.utils';\n\nexport const highlightText = (text: string, textToHighlight: string = '') => {\n\tif (textToHighlight.length === 0)\n\t{\n\t\treturn text;\n\t}\n\n\tconst wordsToHighlight = getWordsToHighlight(textToHighlight);\n\tconst pattern = createRegExPatternFromWords(wordsToHighlight);\n\n\treturn text.replaceAll(new RegExp(pattern, 'ig'), wrapWithSpan);\n};\n\nconst wrapWithSpan = (text: string): string => `<span class=\"--highlight\">${text}</span>`;\n\nconst getWordsToHighlight = (textToHighlight: string): string[] => {\n\tconst wordsToHighlight = Utils.text.getWordsFromString(textToHighlight);\n\tconst result = new Set(wordsToHighlight);\n\n\treturn [...result];\n};\n\nconst createRegExPatternFromWords = (words: string[]): string => {\n\treturn words.map((word) => {\n\t\treturn BX.util.escapeRegExp(word);\n\t}).join('|');\n};\n"],"names":["highlightText","text","textToHighlight","length","wordsToHighlight","getWordsToHighlight","pattern","createRegExPatternFromWords","replaceAll","RegExp","wrapWithSpan","Utils","getWordsFromString","result","Set","words","map","word","BX","util","escapeRegExp","join"],"mappings":";;;;;;;OAEaA,aAAa,GAAG,CAACC,IAAY,EAAEC,eAAuB,GAAG,EAAE,KAAK;GAC5E,IAAIA,eAAe,CAACC,MAAM,KAAK,CAAC,EAChC;KACC,OAAOF,IAAI;;GAGZ,MAAMG,gBAAgB,GAAGC,mBAAmB,CAACH,eAAe,CAAC;GAC7D,MAAMI,OAAO,GAAGC,2BAA2B,CAACH,gBAAgB,CAAC;GAE7D,OAAOH,IAAI,CAACO,UAAU,CAAC,IAAIC,MAAM,CAACH,OAAO,EAAE,IAAI,CAAC,EAAEI,YAAY,CAAC;CAChE,CAAC;CAED,MAAMA,YAAY,GAAIT,IAAY,IAAc,6BAA4BA,IAAK,SAAQ;CAEzF,MAAMI,mBAAmB,GAAIH,eAAuB,IAAe;GAClE,MAAME,gBAAgB,GAAGO,qBAAK,CAACV,IAAI,CAACW,kBAAkB,CAACV,eAAe,CAAC;GACvE,MAAMW,MAAM,GAAG,IAAIC,GAAG,CAACV,gBAAgB,CAAC;GAExC,OAAO,CAAC,GAAGS,MAAM,CAAC;CACnB,CAAC;CAED,MAAMN,2BAA2B,GAAIQ,KAAe,IAAa;GAChE,OAAOA,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAK;KAC1B,OAAOC,EAAE,CAACC,IAAI,CAACC,YAAY,CAACH,IAAI,CAAC;IACjC,CAAC,CAACI,IAAI,CAAC,GAAG,CAAC;CACb,CAAC;;;;;;;;"}