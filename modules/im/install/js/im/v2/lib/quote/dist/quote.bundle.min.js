this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,s,r,n,i,o){"use strict";const a="-".repeat(54);const g={sendQuoteEvent(e,t){s.EventEmitter.emit(n.EventType.textarea.insertText,{text:this.prepareQuoteText(e,t),withNewLine:true,replace:false})},prepareQuoteText(e,s){let g=t.Loc.getMessage("IM_DIALOG_CHAT_QUOTE_DEFAULT_TITLE");if(e.authorId){const t=r.Core.getStore().getters["users/get"](e.authorId);g=t.name}const B=i.DateFormatter.formatByTemplate(e.date,i.DateTemplate.notification);const p=o.Parser.prepareQuote(e,s);let d="";const h=r.Core.getStore().getters["dialogues/getByChatId"](e.chatId);if(h&&h.type===n.DialogType.user){d=`#${h.dialogId}:${r.Core.getUserId()}/${e.id}`}else{d=`#${h.dialogId}/${e.id}`}return`${a}\n`+`${g} [${B}] ${d}\n`+`${p}\n`+`${a}\n`}};e.Quote=g})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX,BX.Event,BX.Messenger.v2.Application,BX.Messenger.v2.Const,BX.Im.V2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=quote.bundle.map.js