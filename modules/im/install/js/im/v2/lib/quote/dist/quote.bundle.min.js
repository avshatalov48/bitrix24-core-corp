this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,s,r,n,i,a){"use strict";const o="-".repeat(54);const g={sendQuoteEvent(e,t){s.EventEmitter.emit(n.EventType.textarea.insertText,{text:this.prepareQuoteText(e,t),withNewLine:true,replace:false})},prepareQuoteText(e,s){let g=t.Loc.getMessage("IM_DIALOG_CHAT_QUOTE_DEFAULT_TITLE");if(e.authorId){const t=r.Core.getStore().getters["users/get"](e.authorId);g=t.name}const h=i.DateFormatter.formatByTemplate(e.date,i.DateTemplate.notification);const B=a.Parser.prepareQuote(e,s);let p="";const c=r.Core.getStore().getters["chats/getByChatId"](e.chatId);if(c&&c.type===n.ChatType.user){p=`#${c.dialogId}:${r.Core.getUserId()}/${e.id}`}else{p=`#${c.dialogId}/${e.id}`}return`${o}\n`+`${g} [${h}] ${p}\n`+`${B}\n`+`${o}\n`}};e.Quote=g})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX,BX.Event,BX.Messenger.v2.Application,BX.Messenger.v2.Const,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=quote.bundle.map.js