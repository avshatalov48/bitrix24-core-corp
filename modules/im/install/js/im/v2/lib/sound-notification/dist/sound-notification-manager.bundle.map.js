{"version":3,"file":"sound-notification-manager.bundle.map.js","names":["this","BX","Messenger","v2","exports","ui_vue3_vuex","im_v2_application_core","im_v2_lib_desktop","im_v2_lib_call","main_core_events","im_v2_const","SoundFile","SoundType","reminder","newMessage1","newMessage2","send","dialtone","ringtone","start","stop","error","_isPlayingLoop","babelHelpers","classPrivateFieldLooseKey","_currentPlayingSound","_loopTimers","_notifyOtherTabs","SoundPlayer","constructor","Object","defineProperty","value","_notifyOtherTabs2","writable","EventEmitter","subscribe","event","changedLocalStorageData","getData","key","syncEvent","soundType","playSingle","type","classPrivateFieldLooseBase","Audio","play","catch","playLoop","timeout","setTimeout","skip","clearTimeout","src","endsWith","pause","currentTime","localStorageTtl","localStorage","set","_canPlayInContext","_isUserDnd","_hasActiveCall","_isSoundEnabled","SoundNotificationManager","static","instance","store","Core","getStore","desktopManager","DesktopManager","getInstance","callManager","CallManager","soundPlayer","_isSoundEnabled2","_hasActiveCall2","_isUserDnd2","_canPlayInContext2","playOnce","forcePlayOnce","force","isDesktop","isDesktopActive","status","getters","Settings","user","UserStatus","dnd","hasCurrentCall","notification","enableSound","Lib","Vue3","Vuex","Application","Event","Const"],"sources":["sound-notification-manager.bundle.js"],"mappings":"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"}