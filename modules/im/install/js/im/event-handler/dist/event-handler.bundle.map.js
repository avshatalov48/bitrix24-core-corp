{"version":3,"file":"event-handler.bundle.map.js","names":["this","BX","exports","im_lib_clipboard","im_lib_timer","im_lib_uploader","im_lib_utils","main_core","main_core_events","im_const","im_lib_logger","SendMessageHandler","$Bitrix","babelHelpers","classCallCheck","defineProperty","controller","Data","get","store","restClient","RestClient","loc","Loc","messages","onSendMessageHandler","onSendMessage","bind","onClickOnMessageRetryHandler","onClickOnMessageRetry","onClickOnCommandHandler","onClickOnCommand","onClickOnKeyboardHandler","onClickOnKeyboard","EventEmitter","subscribe","EventType","textarea","sendMessage","dialog","clickOnMessageRetry","clickOnCommand","clickOnKeyboardButton","createClass","key","value","_ref","data","text","file","_this","arguments","length","undefined","quoteId","getters","getDialogId","quoteMessage","getChatId","getMessageTextWithQuote","emit","quotePanelClose","application","isUnreadMessagesLoaded","sendMessageToServer","id","chatId","dialogId","processQueue","params","FILE_ID","addMessageToModel","sending","then","messageId","scrollToBottom","cancelIfScrollChange","addMessageToQueue","_this2","messagesToSend","filter","element","forEach","deleteFromQueue","stopWriting","uploader","addMessageWithFile","_ref2","dispatch","authorId","getUserId","_ref3","push","_this3","callMethod","RestMethod","imMessageAdd","TEMPLATE_ID","DIALOG_ID","MESSAGE","response","executeRestAnswer","RestMethodHandler","error","Logger","warn","_ref4","event","retrySendMessage","message","setSendingMessageFlag","_ref5","type","handlePutAction","handleSendAction","_ref6","action","_event$params","handleKeyboardAction","_event$params2","botId","command","imMessageCommand","MESSAGE_ID","BOT_ID","COMMAND","COMMAND_PARAMS","console","Clipboard","copy","UI","Notification","Center","notify","content","autoHideDelay","insertText","concat","_this4","setTimeout","duration","user","files","quoteDelimiter","repeat","quoteTitle","name","quoteDate","Utils","date","format","quoteContent","quote","join","state","common","userId","destroy","unsubscribe","ReadingHandler","timer","Timer","onReadMessageHandler","onReadMessage","readMessage","_ref$data","_ref$data$id","_ref$data$skipTimer","skipTimer","_ref$data$skipAjax","skipAjax","messagesToRead","Number","parseInt","stop","processMessagesToRead","Promise","resolve","reject","start","result","lastMessageToRead","getMaxMessageIdFromQueue","readMessageOnClient","readResult","decreaseChatCounter","count","lastId","readMessageOnServer","maxMessageId","readId","imDialogRead","getDialogIdByChatId","counter","ReactionHandler","onSetMessageReactionHandler","onSetMessageReaction","onOpenMessageReactionListHandler","onOpenMessageReactionList","setMessageReaction","openMessageReactionList","reactToMessage","reaction","values","actions","auto","set","plus","minus","imMessageLike","ACTION","none","like","kiss","laugh","wonder","cry","angry","QuoteHandler","onQuoteMessageHandler","onQuoteMessage","onQuotePanelCloseHandler","onQuotePanelClose","clearQuote","fields","TextareaHandler","subscribeToEvents","onStartWritingHandler","onStartWriting","onStopWritingHandler","onStopWriting","onAppButtonClickHandler","onAppButtonClick","onFocusHandler","onFocus","onBlurHandler","onBlur","onKeyUpHandler","onKeyUp","onEditHandler","onEdit","startWriting","appButtonClick","focus","blur","keyUp","edit","isEmptyDialogId","has","imDialogWriting","getDiskFolderId","diskFolderId","TextareaUploadHandler","initUploader","onTextareaFileSelectedHandler","onTextareaFileSelected","addMessageWithFileHandler","onClickOnUploadCancelHandler","onClickOnUploadCancel","fileSelected","clickOnUploadCancel","Uploader","generatePreview","sender","getUploaderSenderOptions","onStartUploadHandler","onProgressHandler","onSelectFileHandler","onCompleteHandler","onUploadFileErrorHandler","onCreateFileErrorHandler","commitFile","imDiskFileCommit","chat_id","upload_id","uploadId","messageText","template_id","file_template_id","fileId","setUploadError","status","FileStatus","progress","retry","fileInput","fileChangeEvent","target","uploadFile","getData","requestDiskFolderId","addTask","taskId","fileData","source","fileName","generateUniqueName","previewBlob","addFilesFromEvent","unsubscribeAll","getCurrentUser","getMessageByFileId","eventData","chatMessages","messageWithFile","find","_message$params","Type","isArray","includes","previewData","isRequestingDiskFolderId","imDiskFolderGet","log","upload","fileType","toString","startsWith","extension","split","splice","size","image","width","previewDataWidth","height","previewDataHeight","authorName","urlPreview","URL","createObjectURL","wait","deleteTask","getActionCommitFile","getActionUploadChunk","actionUploadChunk","actionCommitFile","TextareaDragHandler","_EventEmitter","inherits","events","possibleConstructorReturn","getPrototypeOf","call","assertThisInitialized","setEventNamespace","device","isMobile","maximumHeight","configEvents","isObject","Object","entries","slicedToArray","callback","isFunction","onStartDrag","currentHeight","isDragging","changedTouches","textareaDragCursorStartPoint","clientY","textareaDragHeightStartPoint","addTextareaDragEvents","onTextareaContinueDrag","textareaDragCursorControlPoint","maxPoint","Math","min","newTextareaHeight","max","minimumHeight","onHeightChange","newHeight","onTextareaStopDrag","removeTextareaDragEvents","onStopDrag","onContinueDragHandler","onStopDragHandler","document","addEventListener","removeEventListener","DialogActionHandler","clickOnMentionHandler","onClickOnMention","clickOnUserNameHandler","onClickOnUserName","clickOnMessageMenuHandler","onClickOnMessageMenu","clickOnReadListHandler","onClickOnReadList","clickOnChatTeaserHandler","onClickOnChatTeaser","clickOnDialogHandler","onClickOnDialog","clickOnMention","clickOnUserName","clickOnMessageMenu","clickOnReadList","clickOnChatTeaser","clickOnDialog","joinParentChat","CHAT_ID","tempJoinChat","imChatParentJoin","unsubscribeEvents","Messenger","Lib","Event","Const"],"sources":["event-handler.bundle.js"],"mappings":"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"}