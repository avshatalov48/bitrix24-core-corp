(function(e,t,i,l,n){"use strict";l.Vue.component("bx-messenger-element-file",{props:{userId:{default:0},file:{type:Object,default:n.FilesModel.create().getElementStore}},methods:{download:function e(t,i){if(t.image&&t.urlShow){window.open(t.urlShow,"_blank")}else if(t.video&&t.urlShow){window.open(t.urlShow,"_blank")}else if(t.urlDownload){window.open(t.urlDownload,"_self")}else{window.open(t.urlShow,"_blank")}}},computed:{localize:function e(){return l.Vue.getFilteredPhrases("IM_MESSENGER_ELEMENT_FILE_",this.$root.$bitrixMessages)},fileNameLeft:function e(){var t=this.file.name.length-this.fileNameRight.length;return this.file.name.substring(0,t)},fileNameRight:function e(){var t=this.file.extension.length+1;if(this.file.name.length>30){t=t+5}var i=this.file.name.length-1-t;return this.file.name.substring(i)},fileSize:function e(){var t=this.file.size;var i=["BYTE","KB","MB","GB","TB"];var l=0;while(t>=1024&&l<4){t/=1024;l++}return Math.round(t)+" "+this.localize["IM_MESSENGER_ELEMENT_FILE_SIZE_"+i[l]]}},template:'\n\t\t<div class="bx-im-element-file" @click="download(file, $event)">\n\t\t\t<div class="bx-im-element-file-icon">\n\t\t\t\t<div :class="[\'ui-icon\', \'ui-icon-file-\'+file.icon]"><i></i></div>\n\t\t\t</div>\n\t\t\t<div class="bx-im-element-file-block">\n\t\t\t\t<div class="bx-im-element-file-name" :title="file.name">\n\t\t\t\t\t<span class="bx-im-element-file-name-left">{{fileNameLeft}}</span><span class="bx-im-element-file-name-right">{{fileNameRight}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="bx-im-element-file-size">{{fileSize}}</div>\n\t\t\t</div>\n\t\t</div>\n\t'});l.Vue.cloneComponent("bx-messenger-element-file-image","bx-messenger-element-file",{methods:{getImageSize:function e(t,i,l){var n;if(t>l){n=l/t}else{n=1}return{width:t*n,height:i*n}}},computed:{styleFileSizes:function e(){var t=this.getImageSize(this.file.image.width,this.file.image.height,280);return{width:t.width+"px",height:t.height+"px",backgroundSize:t.width<100||t.height<100?"contain":"initial"}},styleBoxSizes:function e(){if(parseInt(this.styleFileSizes.height)<=280){return{}}return{height:"280px"}},fileSource:function e(){return this.file.urlPreview}},template:'\n\t\t<div class="bx-im-element-file-image" @click="download(file, $event)" :style="styleBoxSizes">\n\t\t\t<img v-bx-lazyload\n\t\t\t\tclass="bx-im-element-file-image-source"\n\t\t\t\t:data-lazyload-src="fileSource"\n\t\t\t\t:title="localize.IM_MESSENGER_ELEMENT_FILE_SHOW_TITLE.replace(\'#NAME#\', file.name).replace(\'#SIZE#\', fileSize)"\n\t\t\t\t:style="styleFileSizes"\n\t\t\t/>\n\t\t</div>\n\t'})})(this.window=this.window||{},window,BX,BX,BX.Messenger.Model);
//# sourceMappingURL=file.bundle.map.js