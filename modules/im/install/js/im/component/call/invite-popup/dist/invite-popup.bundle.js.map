{"version":3,"file":"invite-popup.bundle.js","sources":["../src/invite_popup.js"],"sourcesContent":["import {Dom, Text, Type} from 'main.core';\nimport {Popup} from 'main.popup';\n\nexport class InvitePopup\n{\n\tconstructor(config)\n\t{\n\t\tif (!Type.isPlainObject(config))\n\t\t{\n\t\t\tconfig = {};\n\t\t}\n\t\tthis.idleUsers = config.idleUsers || [];\n\t\tthis.recentUsers = [];\n\t\tthis.bindElement = config.bindElement;\n\t\tthis.viewElement = config.viewElement || document.body;\n\n\t\tthis.allowNewUsers = config.allowNewUsers;\n\n\t\tthis.elements = {\n\t\t\troot: null,\n\t\t\tinputBox: null,\n\t\t\tinput: null,\n\t\t\tdestinationContainer: null,\n\t\t\tcontactList: null,\n\t\t\tmoreButton: null\n\t\t};\n\n\t\tthis.popup = null;\n\t\tthis.zIndex = config.zIndex || 0;\n\t\tthis.darkMode = config.darkMode;\n\n\t\tthis.searchPhrase = '';\n\t\tthis.searchNext = 0;\n\t\tthis.searchResult = [];\n\t\tthis.searchTotalCount = 0;\n\n\t\tthis.searchTimeout = 0;\n\n\t\tthis.fetching = false;\n\n\t\tthis.callbacks = {\n\t\t\tonSelect: Type.isFunction(config.onSelect) ? config.onSelect : BX.DoNothing,\n\t\t\tonClose: Type.isFunction(config.onClose) ? config.onClose : BX.DoNothing,\n\t\t\tonDestroy: Type.isFunction(config.onDestroy) ? config.onDestroy : BX.DoNothing,\n\t\t}\n\t}\n\n\tshow()\n\t{\n\t\tif (!this.elements.root)\n\t\t{\n\t\t\tthis.render();\n\t\t}\n\t\tthis.createPopup();\n\t\tthis.popup.show();\n\n\t\tif (this.allowNewUsers)\n\t\t{\n\t\t\tthis.showLoader();\n\t\t\tthis.getRecent().then(this.updateContactList.bind(this));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.updateContactList();\n\t\t}\n\t}\n\n\tclose()\n\t{\n\t\tif (this.popup)\n\t\t{\n\t\t\tthis.popup.close();\n\t\t}\n\t\tclearTimeout(this.searchTimeout);\n\t}\n\n\tcreatePopup()\n\t{\n\t\tthis.popup = new Popup({\n\t\t\tid: 'bx-call-popup-invite',\n\t\t\tbindElement: this.bindElement,\n\t\t\ttargetContainer: this.viewElement,\n\t\t\tzIndex: this.zIndex,\n\t\t\tlightShadow: true,\n\t\t\tdarkMode: this.darkMode,\n\t\t\tautoHide: true,\n\t\t\tcloseByEsc: true,\n\t\t\tcontent: this.elements.root,\n\t\t\tbindOptions: {\n\t\t\t\tposition: \"top\"\n\t\t\t},\n\t\t\tangle: {position: \"bottom\", offset: 49},\n\t\t\tcacheable: false,\n\t\t\tbuttons: [\n\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\ttext: BX.message(\"IM_CALL_INVITE_INVITE\"),\n\t\t\t\t\tclassName: \"popup-window-button-accept\",\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (this.selectedUser)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.callbacks.onSelect({\n\t\t\t\t\t\t\t\t\tuser: this.selectedUser\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\ttext: BX.message(\"IM_CALL_INVITE_CANCEL\"),\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: () => this.popup.close()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t],\n\t\t\tevents: {\n\t\t\t\tonPopupDestroy: () =>\n\t\t\t\t{\n\t\t\t\t\tthis.popup = null;\n\t\t\t\t\tthis.elements.contactList = null;\n\t\t\t\t\tclearTimeout(this.searchTimeout);\n\t\t\t\t\tthis.callbacks.onDestroy();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tDom.addClass(this.popup.popupContainer, \"bx-messenger-mark\");\n\t}\n\n\tgetRecent()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tBX.rest.callMethod(\"im.recent.get\", {\n\t\t\t\t\"SKIP_OPENLINES\": \"Y\",\n\t\t\t\t\"SKIP_CHAT\": \"Y\"\n\t\t\t}).then((response) =>\n\t\t\t{\n\t\t\t\tconst answer = response.answer;\n\t\t\t\tthis.recentUsers = Object.values(answer.result).map(r => r.user).filter(user => !user.bot && !user.network);\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t}\n\n\tsearch()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tthis.searchResult = this.recentUsers.filter((element) =>\n\t\t\t{\n\t\t\t\treturn element.name.toString().toLowerCase().includes(this.searchPhrase.toLowerCase());\n\t\t\t});\n\t\t\tthis.searchTotalCount = this.searchResult.length;\n\t\t\tthis.searchNext = 0;\n\n\t\t\tif (this.searchPhrase.length < 3)\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tBX.rest.callMethod(\"im.search.user.list\", {\"FIND\": this.searchPhrase}).then((response) =>\n\t\t\t{\n\t\t\t\tconst answer = response.answer;\n\n\t\t\t\tthis.searchTotalCount = answer.total;\n\t\t\t\tthis.searchNext = answer.next;\n\n\t\t\t\tconst existsUserId = this.searchResult.map(element => parseInt(element.id));\n\t\t\t\tconst result = Object.values(answer.result).filter((element) =>\n\t\t\t\t{\n\t\t\t\t\tif (element.bot || element.network)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn !existsUserId.includes(parseInt(element.id));\n\t\t\t\t});\n\n\t\t\t\tthis.searchResult = this.searchResult.concat(result);\n\t\t\t\tthis.searchTotalCount = this.searchResult.length;\n\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t}\n\n\tfetchMoreSearchResults()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tBX.rest.callMethod(\"im.search.user.list\", {\n\t\t\t\t\"FIND\": this.searchPhrase,\n\t\t\t\t\"OFFSET\": this.searchNext\n\t\t\t}).then((response) =>\n\t\t\t{\n\t\t\t\tconst answer = response.answer;\n\n\t\t\t\tthis.searchTotalCount = answer.total;\n\t\t\t\tthis.searchNext = answer.next;\n\n\t\t\t\tconst existsUserId = this.searchResult.map(element => parseInt(element.id));\n\t\t\t\tconst result = Object.values(answer.result).filter((element) =>\n\t\t\t\t{\n\t\t\t\t\tif (element.bot || element.network)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn !existsUserId.includes(parseInt(element.id));\n\t\t\t\t});\n\n\t\t\t\tthis.searchResult = this.searchResult.concat(result);\n\t\t\t\tthis.searchTotalCount = this.searchResult.length;\n\n\t\t\t\tresolve(result);\n\t\t\t});\n\t\t})\n\t}\n\n\trender()\n\t{\n\t\tthis.elements.root = Dom.create(\"div\", {\n\t\t\tprops: {className: \"bx-messenger-popup-newchat-wrap\"},\n\t\t\tchildren: [\n\t\t\t\tDom.create(\"div\", {\n\t\t\t\t\tprops: {className: \"bx-messenger-popup-newchat-caption\"},\n\t\t\t\t\ttext: BX.message(\"IM_CALL_INVITE_INVITE_USER\")\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\n\t\tthis.elements.inputBox = Dom.create(\"div\", {\n\t\t\tprops: {className: \"bx-messenger-popup-newchat-box bx-messenger-popup-newchat-dest bx-messenger-popup-newchat-dest-even\"},\n\t\t\tchildren: [\n\t\t\t\tthis.elements.destinationContainer = Dom.create(\"span\", {\n\t\t\t\t\tprops: {className: \"bx-messenger-dest-items\"}\n\t\t\t\t}),\n\t\t\t\tthis.elements.input = Dom.create(\"input\", {\n\t\t\t\t\tprops: {className: \"bx-messenger-input\"},\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\tplaceholder: this.allowNewUsers ? BX.message('IM_M_SEARCH_PLACEHOLDER') : BX.message('IM_M_CALL_REINVITE_PLACEHOLDER'),\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\tdisabled: !this.allowNewUsers\n\t\t\t\t\t},\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tkeyup: this._onInputKeyUp.bind(this)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t\tthis.elements.root.appendChild(this.elements.inputBox);\n\n\t\tthis.elements.contactList = Dom.create(\"div\", {\n\t\t\tprops: {className: \"bx-messenger-popup-newchat-box bx-messenger-popup-newchat-cl bx-messenger-recent-wrap\"},\n\t\t\tchildren: []\n\t\t});\n\n\t\tthis.elements.root.appendChild(this.elements.contactList);\n\t}\n\n\tupdateDestination()\n\t{\n\t\tif (!this.elements.inputBox)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tDom.clean(this.elements.destinationContainer);\n\n\t\tif (this.selectedUser)\n\t\t{\n\t\t\tthis.elements.destinationContainer.appendChild(this.renderDestinationUser(this.selectedUser));\n\t\t\tthis.elements.input.style.display = \"none\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.elements.input.style.removeProperty(\"display\");\n\t\t\tthis.elements.input.focus();\n\t\t}\n\t}\n\n\tupdateContactList()\n\t{\n\t\tDom.clean(this.elements.contactList);\n\n\t\tif (this.elements.contactList)\n\t\t{\n\t\t\tthis.elements.contactList.appendChild(this.renderContactList());\n\t\t}\n\t}\n\n\tshowLoader()\n\t{\n\t\tDom.clean(this.elements.contactList);\n\n\t\tthis.elements.contactList.appendChild(Dom.create(\"div\", {\n\t\t\tprops: {className: \"bx-messenger-cl-item-load\"},\n\t\t\ttext: BX.message('IM_CL_LOAD')\n\t\t}));\n\t}\n\n\trenderContactList()\n\t{\n\t\tconst result = document.createDocumentFragment();\n\t\tif (this.idleUsers.length > 0)\n\t\t{\n\t\t\tresult.appendChild(this.renderSeparator(BX.message(\"IM_CALL_INVITE_CALL_PARTICIPANTS\")));\n\n\t\t\tfor (let i = 0; i < this.idleUsers.length; i++)\n\t\t\t{\n\t\t\t\tresult.appendChild(this.#renderUser(this.idleUsers[i]));\n\t\t\t}\n\t\t}\n\n\t\tif (Type.isStringFilled(this.searchPhrase))\n\t\t{\n\t\t\tif (this.searchResult.length > 0)\n\t\t\t{\n\t\t\t\tresult.appendChild(this.renderSeparator(BX.message(\"IM_CALL_INVITE_SEARCH_RESULTS\")));\n\t\t\t\tfor (let i = 0; i < this.searchResult.length; i++)\n\t\t\t\t{\n\t\t\t\t\tresult.appendChild(this.#renderUser(this.searchResult[i]));\n\t\t\t\t}\n\n\t\t\t\tif (this.searchTotalCount > this.searchResult.length)\n\t\t\t\t{\n\t\t\t\t\tthis.elements.moreButton = this.renderMoreButton();\n\t\t\t\t\tresult.appendChild(this.elements.moreButton);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\n\t\t\t}\n\t\t}\n\t\telse if (this.recentUsers.length > 0)\n\t\t{\n\t\t\tresult.appendChild(this.renderSeparator(BX.message(\"IM_CALL_INVITE_RECENT\")));\n\t\t\tfor (let i = 0; i < this.recentUsers.length; i++)\n\t\t\t{\n\t\t\t\tresult.appendChild(this.#renderUser(this.recentUsers[i]));\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @return {Element}\n\t */\n\trenderSeparator(text)\n\t{\n\t\treturn Dom.create(\"div\", {\n\t\t\tprops: {className: \"bx-messenger-chatlist-group\"},\n\t\t\tchildren: [\n\t\t\t\tDom.create(\"span\", {\n\t\t\t\t\tprops: {className: \"bx-messenger-chatlist-group-title\"},\n\t\t\t\t\ttext: text\n\t\t\t\t})\n\t\t\t]\n\t\t})\n\t}\n\n\t#renderUser(userData)\n\t{\n\t\tconst element = BX.MessengerCommon.drawContactListElement({\n\t\t\t'id': userData.id,\n\t\t\t'data': this.escapeUserData(userData),\n\t\t\t'showUserLastActivityDate': true,\n\t\t\t'showLastMessage': false,\n\t\t\t'showCounter': false,\n\t\t});\n\n\t\tBX.bind(element, 'click', () => this.setSelectedUser(userData));\n\n\t\treturn element;\n\t}\n\n\trenderDestinationUser(userData)\n\t{\n\t\treturn Dom.create(\"span\", {\n\t\t\tprops: {className: \"bx-messenger-dest-block\"},\n\t\t\tchildren: [\n\t\t\t\tDom.create(\"span\", {\n\t\t\t\t\tprops: {className: \"bx-messenger-dest-text\"},\n\t\t\t\t\ttext: Text.decode(userData.name),\n\t\t\t\t}),\n\t\t\t\tDom.create(\"span\", {\n\t\t\t\t\tprops: {className: \"bx-messenger-dest-del\"},\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: this.removeSelectedUser.bind(this)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t]\n\t\t})\n\t}\n\n\trenderMoreButton()\n\t{\n\t\treturn Dom.create(\"div\", {\n\t\t\tprops: {className: \"bx-messenger-chatlist-more-wrap\"},\n\t\t\tevents: {\n\t\t\t\tclick: this._onMoreButtonClick.bind(this)\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\tDom.create(\"span\", {\n\t\t\t\t\tprops: {className: \"bx-messenger-chatlist-more\"},\n\t\t\t\t\ttext: BX.message(\"IM_CALL_INVITE_MORE\") + \" \" + (this.searchTotalCount - this.searchResult.length)\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n\n\tsetSelectedUser(userData)\n\t{\n\t\tthis.selectedUser = userData;\n\t\tthis.updateDestination();\n\t}\n\n\tremoveSelectedUser()\n\t{\n\t\tthis.selectedUser = null;\n\t\tthis.updateDestination();\n\t}\n\n\tescapeUserData(userData)\n\t{\n\t\treturn {\n\t\t\t...userData,\n\n\t\t\tname: Text.encode(userData.name),\n\t\t\tfirst_name: Text.encode(userData.first_name),\n\t\t\tlast_name: Text.encode(userData.last_name),\n\t\t\twork_position: Text.encode(userData.work_position),\n\t\t\texternal_auth_id: Text.encode(userData.external_auth_id),\n\t\t\tstatus: Text.encode(userData.status),\n\t\t}\n\t}\n\n\t_onMoreButtonClick()\n\t{\n\t\tif (this.fetching)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.fetching = true;\n\t\tthis.fetchMoreSearchResults().then((moreUsers) =>\n\t\t{\n\t\t\tconst df = document.createDocumentFragment();\n\t\t\tlet newMoreButton = null;\n\t\t\tfor (let i = 0; i < moreUsers.length; i++)\n\t\t\t{\n\t\t\t\tdf.appendChild(this.#renderUser(moreUsers[i]));\n\t\t\t}\n\n\t\t\tif (this.searchTotalCount > this.searchResult.length)\n\t\t\t{\n\t\t\t\tnewMoreButton = this.renderMoreButton();\n\t\t\t\tdf.appendChild(newMoreButton);\n\t\t\t}\n\n\t\t\tBX.replace(this.elements.moreButton, df);\n\t\t\tthis.elements.moreButton = newMoreButton;\n\n\t\t\tthis.fetching = false;\n\t\t});\n\t}\n\n\t_onInputKeyUp(event: KeyboardEvent)\n\t{\n\t\tif (event.keyCode == 16 || event.keyCode == 17 || event.keyCode == 18 || event.keyCode == 20 || event.keyCode == 244 || event.keyCode == 224 || event.keyCode == 91)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.keyCode == 27 && this.elements.input.value !== '')\n\t\t{\n\t\t\tthis.elements.input.value = '';\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tif (this.searchTimeout)\n\t\t{\n\t\t\tclearTimeout(this.searchTimeout);\n\t\t}\n\n\t\tthis.searchTimeout = setTimeout(\n\t\t\t() =>\n\t\t\t{\n\t\t\t\tthis.searchPhrase = this.elements.input.value;\n\t\t\t\tif (!Type.isStringFilled(this.searchPhrase))\n\t\t\t\t{\n\t\t\t\t\tthis.updateContactList();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.search().then(() => this.updateContactList())\n\t\t\t\t}\n\t\t\t},\n\t\t\t300\n\t\t);\n\t}\n}\n"],"names":["InvitePopup","config","Type","isPlainObject","idleUsers","recentUsers","bindElement","viewElement","document","body","allowNewUsers","elements","root","inputBox","input","destinationContainer","contactList","moreButton","popup","zIndex","darkMode","searchPhrase","searchNext","searchResult","searchTotalCount","searchTimeout","fetching","callbacks","onSelect","isFunction","BX","DoNothing","onClose","onDestroy","render","createPopup","show","showLoader","getRecent","then","updateContactList","bind","close","clearTimeout","Popup","id","targetContainer","lightShadow","autoHide","closeByEsc","content","bindOptions","position","angle","offset","cacheable","buttons","PopupWindowButton","text","message","className","events","click","selectedUser","user","onPopupDestroy","Dom","addClass","popupContainer","Promise","resolve","rest","callMethod","response","answer","Object","values","result","map","r","filter","bot","network","element","name","toString","toLowerCase","includes","length","total","next","existsUserId","parseInt","concat","create","props","children","attrs","type","placeholder","value","disabled","keyup","_onInputKeyUp","appendChild","clean","renderDestinationUser","style","display","removeProperty","focus","renderContactList","createDocumentFragment","renderSeparator","i","isStringFilled","renderMoreButton","userData","Text","decode","removeSelectedUser","_onMoreButtonClick","updateDestination","encode","first_name","last_name","work_position","external_auth_id","status","fetchMoreSearchResults","moreUsers","df","newMoreButton","replace","event","keyCode","stopPropagation","setTimeout","search","MessengerCommon","drawContactListElement","escapeUserData","setSelectedUser"],"mappings":"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"}