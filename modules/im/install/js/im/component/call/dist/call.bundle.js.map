{"version":3,"file":"call.bundle.js","sources":["../src/component/bx-im-component-call-smiles.js","../src/component/utils/mic-level.js","../src/component/bx-im-component-call-check-devices.js","../src/component.js"],"sourcesContent":["/**\n * Bitrix Videoconf\n * Smiles component (Vue component)\n *\n * @package bitrix\n * @subpackage imopenlines\n * @copyright 2001-2019 Bitrix\n */\n\nimport {Vue} from \"ui.vue\";\nimport 'ui.vue.components.smiles';\n\nVue.cloneComponent('bx-im-component-call-smiles', 'bx-smiles',\n\t{\n\t\tmethods:\n\t\t\t{\n\t\t\t\thideForm(event)\n\t\t\t\t{\n\t\t\t\t\tthis.$parent.hideSmiles();\n\t\t\t\t},\n\t\t\t},\n\t\ttemplate: `\n\t\t<div class=\"bx-im-component-smiles-box\">\n\t\t\t<div class=\"bx-im-component-smiles-box-close\" @click=\"hideForm\"></div>\n\t\t\t<div class=\"bx-livechat-alert-smiles-box\">\n\t\t\t\t#PARENT_TEMPLATE#\n\t\t\t</div>\n\t\t</div>\n\t`\n\t});","const MicLevel = {\n\tprops: ['micId'],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tbars: [],\n\t\t\tbarDisabledColor: '#999',\n\t\t\tbarEnabledColor: '#86a732'\n\t\t}\n\t},\n\twatch:\n\t{\n\t\tmicId(newId)\n\t\t{\n\t\t\tthis.startAudioCheck();\n\t\t}\n\t},\n\tmounted()\n\t{\n\t\tthis.startAudioCheck();\n\t\tthis.bars = [...document.querySelectorAll('.bx-im-component-call-check-devices-micro-level-item')];\n\t},\n\tmethods:\n\t{\n\t\tstartAudioCheck()\n\t\t{\n\t\t\tif (this.micId === 0)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tnavigator.mediaDevices.getUserMedia({\n\t\t\t\t\taudio: {\n\t\t\t\t\t\tdeviceId: { exact: this.micId }\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t.then(stream => {\n\t\t\t\tthis.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n\t\t\t\tthis.analyser = this.audioContext.createAnalyser();\n\t\t\t\tthis.microphone = this.audioContext.createMediaStreamSource(stream);\n\t\t\t\tthis.scriptNode = this.audioContext.createScriptProcessor(2048, 1, 1);\n\n\t\t\t\tthis.analyser.smoothingTimeConstant = 0.8;\n\t\t\t\tthis.analyser.fftSize = 1024;\n\n\t\t\t\tthis.microphone.connect(this.analyser);\n\t\t\t\tthis.analyser.connect(this.scriptNode);\n\t\t\t\tthis.scriptNode.connect(this.audioContext.destination);\n\t\t\t\tthis.scriptNode.onaudioprocess = this.processVolume;\n\t\t\t});\n\t\t},\n\t\tprocessVolume()\n\t\t{\n\t\t\tlet arr = new Uint8Array(this.analyser.frequencyBinCount);\n\t\t\tthis.analyser.getByteFrequencyData(arr);\n\t\t\tlet values = 0;\n\n\t\t\tfor (let i = 0; i < arr.length; i++)\n\t\t\t{\n\t\t\t\tvalues += arr[i];\n\t\t\t}\n\t\t\tlet average = values / arr.length;\n\n\t\t\tlet oneBarValue = 100 / this.bars.length;\n\t\t\tlet barsToColor = Math.round(average / oneBarValue);\n\t\t\tlet elementsToColor = this.bars.slice(0, barsToColor);\n\t\t\tthis.bars.forEach(elem => {\n\t\t\t\telem.style.backgroundColor = this.barDisabledColor;\n\t\t\t});\n\t\t\telementsToColor.forEach(elem => {\n\t\t\t\telem.style.backgroundColor = this.barEnabledColor;\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-component-call-check-devices-row\">\n\t\t\t<div class=\"bx-im-component-call-check-devices-micro-icon\"></div>\n\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level\">\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-level-item\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n\nexport {MicLevel};","/**\n * Bitrix Videoconf\n * Check devices component (Vue component)\n *\n * @package bitrix\n * @subpackage imopenlines\n * @copyright 2001-2019 Bitrix\n */\n\nimport {Vue} from \"ui.vue\";\nimport {MicLevel} from './utils/mic-level';\n\nimport 'ui.forms';\n\nVue.component('bx-im-component-call-check-devices',\n\t{\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcameraList: [],\n\t\t\t\tmicrophoneList: [],\n\t\t\t\taudioOutputList: [],\n\t\t\t\tdefaultDevices: {\n\t\t\t\t\tcamera: 0,\n\t\t\t\t\tmicrophone: 0,\n\t\t\t\t\taudioOutput: 0\n\t\t\t\t},\n\t\t\t\tcurrentlySelected: {\n\t\t\t\t\tcamera: 0,\n\t\t\t\t\tmicrophone: 0,\n\t\t\t\t\taudioOutput: 0\n\t\t\t\t},\n\t\t\t\tdefaultOptions: {\n\t\t\t\t\tpreferHDQuality: true,\n\t\t\t\t\tenableMicAutoParameters: true\n\t\t\t\t},\n\t\t\t\tselectedOptions: {\n\t\t\t\t\tpreferHDQuality: true,\n\t\t\t\t\tenableMicAutoParameters: true\n\t\t\t\t},\n\t\t\t\tnoVideo: true\n\t\t\t}\n\t\t},\n\t\tcreated()\n\t\t{\n\t\t\tif (BX.Call.Hardware)\n\t\t\t{\n\t\t\t\tthis.cameraList = BX.Call.Hardware.cameraList;\n\t\t\t\tthis.microphoneList = BX.Call.Hardware.microphoneList;\n\t\t\t\tthis.audioOutputList = BX.Call.Hardware.audioOutputList;\n\n\t\t\t\tthis.defaultOptions.preferHDQuality = BX.Call.Hardware.preferHdQuality;\n\t\t\t\tthis.selectedOptions.preferHDQuality = this.defaultOptions.preferHDQuality;\n\t\t\t\tthis.defaultOptions.enableMicAutoParameters = BX.Call.Hardware.enableMicAutoParameters;\n\t\t\t\tthis.selectedOptions.enableMicAutoParameters = this.defaultOptions.enableMicAutoParameters;\n\t\t\t}\n\n\t\t\tthis.getDefaultDevices();\n\n\t\t\tthis.getVideoFromCamera(this.currentCamera);\n\t\t},\n\t\twatch:\n\t\t{\n\t\t\tcurrentCamera()\n\t\t\t{\n\t\t\t\tthis.getVideoFromCamera(this.currentCamera);\n\t\t\t}\n\t\t},\n\t\tcomputed:\n\t\t{\n\t\t\tcurrentCamera()\n\t\t\t{\n\t\t\t\treturn this.currentlySelected.camera;\n\t\t\t},\n\t\t\tlocalize()\n\t\t\t{\n\t\t\t\treturn Vue.getFilteredPhrases('BX_IM_COMPONENT_CALL_CHECK_DEVICES_', this.$root.$bitrixMessages);\n\t\t\t},\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tgetDefaultDevices()\n\t\t\t{\n\t\t\t\tif (BX.Call.Hardware.defaultCamera)\n\t\t\t\t{\n\t\t\t\t\tthis.defaultDevices.camera = BX.Call.Hardware.defaultCamera;\n\t\t\t\t\tthis.currentlySelected.camera = this.defaultDevices.camera;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tnavigator.mediaDevices.getUserMedia({video: true})\n\t\t\t\t\t.then(stream => {\n\t\t\t\t\t\tif (stream && stream.getVideoTracks()[0])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.noVideo = false;\n\t\t\t\t\t\t\tthis.defaultDevices.camera = stream.getVideoTracks()[0].getSettings().deviceId;\n\t\t\t\t\t\t\tthis.currentlySelected.camera = this.defaultDevices.camera;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tconsole.warn('error getting default video', e);\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tif (BX.Call.Hardware.defaultMicrophone)\n\t\t\t\t{\n\t\t\t\t\tthis.defaultDevices.microphone = BX.Call.Hardware.defaultMicrophone;\n\t\t\t\t\tthis.currentlySelected.microphone = this.defaultDevices.microphone;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tnavigator.mediaDevices.getUserMedia({audio: true})\n\t\t\t\t\t.then(stream => {\n\t\t\t\t\t\tif (stream && stream.getAudioTracks()[0])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.defaultDevices.microphone = stream.getAudioTracks()[0].getSettings().deviceId;\n\t\t\t\t\t\t\tthis.currentlySelected.microphone = this.defaultDevices.microphone;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tconsole.warn('error getting default audio', e);\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tif (BX.Call.Hardware.defaultSpeaker)\n\t\t\t\t{\n\t\t\t\t\tthis.defaultDevices.audioOutput = BX.Call.Hardware.defaultSpeaker;\n\t\t\t\t\tthis.currentlySelected.audioOutput = this.defaultDevices.audioOutput;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetVideoFromCamera(id)\n\t\t\t{\n\t\t\t\tif (id === 0)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tnavigator.mediaDevices.getUserMedia({\n\t\t\t\t\tvideo: {\n\t\t\t\t\t\tdeviceId: { exact: id },\n\t\t\t\t\t\twidth: 450,\n\t\t\t\t\t\theight: 338\n\t\t\t\t\t}\n\t\t\t\t}).then(stream => {\n\t\t\t\t\tthis.$refs['video'].volume = 0;\n\t\t\t\t\tthis.$refs['video'].srcObject = stream;\n\t\t\t\t\tthis.$refs['video'].play();\n\t\t\t\t}).catch(e => {\n\t\t\t\t\tconsole.warn('getting video from camera error', e);\n\t\t\t\t});\n\t\t\t},\n\t\t\tsave()\n\t\t\t{\n\t\t\t\tlet changedValues = {};\n\n\t\t\t\tif (this.currentlySelected.camera !== this.defaultDevices.camera)\n\t\t\t\t{\n\t\t\t\t\tchangedValues['camera'] = this.currentlySelected.camera;\n\t\t\t\t}\n\n\t\t\t\tif (this.currentlySelected.microphone !== this.defaultDevices.microphone)\n\t\t\t\t{\n\t\t\t\t\tchangedValues['microphone'] = this.currentlySelected.microphone;\n\t\t\t\t}\n\n\t\t\t\tif (this.currentlySelected.audioOutput !== this.defaultDevices.audioOutput)\n\t\t\t\t{\n\t\t\t\t\tchangedValues['audioOutput'] = this.currentlySelected.audioOutput;\n\t\t\t\t}\n\n\t\t\t\tif (this.selectedOptions.preferHDQuality !== this.defaultOptions.preferHDQuality)\n\t\t\t\t{\n\t\t\t\t\tchangedValues['preferHDQuality'] = this.selectedOptions.preferHDQuality;\n\t\t\t\t}\n\n\t\t\t\tif (this.selectedOptions.enableMicAutoParameters !== this.defaultOptions.enableMicAutoParameters)\n\t\t\t\t{\n\t\t\t\t\tchangedValues['enableMicAutoParameters'] = this.selectedOptions.enableMicAutoParameters;\n\t\t\t\t}\n\n\t\t\t\tif (!this.isEmptyObject(changedValues))\n\t\t\t\t{\n\t\t\t\t\tthis.$emit('save', changedValues);\n\t\t\t\t}\n\t\t\t},\n\t\t\texit()\n\t\t\t{\n\t\t\t\tthis.$emit('exit');\n\t\t\t},\n\t\t\tisEmptyObject(obj)\n\t\t\t{\n\t\t\t\treturn Object.keys(obj).length === 0;\n\t\t\t}\n\t\t},\n\t\tcomponents:\n\t\t\t{ MicLevel },\n\t\ttemplate: `\n\t\t<div class=\"bx-im-component-call-check-devices\">\n\t\t\t<h3 class=\"bx-im-component-call-check-devices-title\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_VIDEO_SETTINGS'] }}</h3>\n\t\t\t<!-- Camera select -->\n\t\t\t<div class=\"bx-im-component-call-check-devices-row bx-im-component-call-check-devices-camera-wrap\">\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-select-label\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_CAMERA'] }}</div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-camera-select ui-ctl ui-ctl-after-icon ui-ctl-dropdown\">\n\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t\t<select v-model=\"currentlySelected.camera\" class=\"ui-ctl-element\">\n\t\t\t\t\t\t<template v-if=\"isEmptyObject(cameraList)\">\n\t\t\t\t\t\t\t<option disabled value=\"0\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_NO_CAMERA'] }}</option>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<option disabled value=\"0\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_CHOOSE_CAMERA'] }}</option>\n\t\t\t\t\t\t\t<option v-for=\"(camera, id) in cameraList\" :value=\"id\" :key=\"id\">{{ camera }}</option>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- Video box -->\n\t\t\t<template v-if=\"noVideo\">\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-camera-no-video\">\n\t\t\t\t\t<div>{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_NO_VIDEO'] }}</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<video ref=\"video\" class=\"bx-im-component-call-check-devices-camera-video\"></video>\n\t\t\t</template>\n\t\t\t<!-- Receive HD -->\n\t\t\t<div class=\"bx-im-component-call-check-devices-row bx-im-component-call-check-devices-option-hd\">\n\t\t\t\t<label class=\"ui-ctl ui-ctl-checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" v-model=\"selectedOptions.preferHDQuality\" id=\"video_hd\" class=\"ui-ctl-element\"/>\n\t\t\t\t\t<div class=\"ui-ctl-label-text\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_RECEIVE_HD'] }}</div>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t\n\t\t\t<h3 class=\"bx-im-component-call-check-devices-title\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_AUDIO_SETTINGS'] }}</h3>\n\t\t\t<!-- Mic select -->\n\t\t\t<div class=\"bx-im-component-call-check-devices-row bx-im-component-call-check-devices-micro-wrap\">\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-select-label\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_MICRO'] }}</div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-micro-select ui-ctl ui-ctl-after-icon ui-ctl-dropdown\">\n\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t\t<select v-model=\"currentlySelected.microphone\" class=\"ui-ctl-element\">\n\t\t\t\t\t\t<template v-if=\"isEmptyObject(microphoneList)\">\n\t\t\t\t\t\t\t<option disabled value=\"0\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_NO_MICRO'] }}</option>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<option disabled value=\"0\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_CHOOSE_MICRO'] }}</option>\n\t\t\t\t\t\t\t<option v-for=\"(microphone, id) in microphoneList\" :value=\"id\" :key=\"id\">{{ microphone }}</option>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- Mic Level -->\n\t\t\t<mic-level :micId=\"currentlySelected.microphone\"/>\n\t\t\t<!-- Auto mic options -->\n\t\t\t<div class=\"bx-im-component-call-check-devices-row bx-im-component-call-check-devices-option-auto-mic\">\t\t\t\t\n\t\t\t\t<label class=\"ui-ctl ui-ctl-checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" v-model=\"selectedOptions.enableMicAutoParameters\" id=\"micro_auto_settings\" class=\"ui-ctl-element\"/>\n\t\t\t\t\t<div class=\"ui-ctl-label-text\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_AUTO_MIC_OPTIONS'] }}</div>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<!-- Output select -->\n\t\t\t<div class=\"bx-im-component-call-check-devices-row bx-im-component-call-check-devices-output-wrap\">\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-select-label\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_SPEAKER'] }}</div>\n\t\t\t\t<div class=\"bx-im-component-call-check-devices-output-select ui-ctl ui-ctl-after-icon ui-ctl-dropdown\">\n\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t\t<select v-model=\"currentlySelected.audioOutput\" class=\"ui-ctl-element\">\n\t\t\t\t\t\t<template v-if=\"isEmptyObject(audioOutputList)\">\n\t\t\t\t\t\t\t<option disabled value=\"0\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_NO_SPEAKER'] }}</option>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<option disabled value=\"0\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_CHOOSE_SPEAKER'] }}</option>\n\t\t\t\t\t\t\t<option v-for=\"(output, id) in audioOutputList\" :value=\"id\" :key=\"id\">{{ output }}</option>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- Buttons -->\n\t\t\t<div class=\"bx-im-component-call-check-devices-row bx-im-component-call-check-devices-buttons\">\n\t\t\t\t<button @click=\"save\" class=\"ui-btn ui-btn-sm ui-btn-success-dark ui-btn-no-caps bx-im-component-call-check-devices-button-back\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_BUTTON_SAVE'] }}</button>\n\t\t\t\t<button @click=\"exit\" class=\"ui-btn ui-btn-sm ui-btn-no-caps bx-im-component-call-check-devices-button-back\">{{ localize['BX_IM_COMPONENT_CALL_CHECK_DEVICES_BUTTON_BACK'] }}</button>\n\t\t\t</div>\n\t\t</div>\n\t`\n\t});","/**\n * Bitrix im\n * Pubic call vue component\n *\n * @package bitrix\n * @subpackage mobile\n * @copyright 2001-2019 Bitrix\n */\n\nimport {Vue} from \"ui.vue\";\nimport {Vuex} from \"ui.vue.vuex\";\nimport {Logger} from \"im.lib.logger\";\nimport {CallStateType, CallErrorCode, EventType} from \"im.const\";\n\n//global components\nimport \"im.view.textarea\";\n\n//internal components\nimport './component/bx-im-component-call-smiles';\nimport './component/bx-im-component-call-check-devices';\n\n//css\nimport \"./component.css\";\n\nconst popupModes = Object.freeze({\n\tpreparation: 'preparation',\n\tcheckDevices: 'checkDevices'\n});\n\n/**\n * @notice Do not mutate or clone this component! It is under development.\n */\nVue.component('bx-im-component-call',\n{\n\tprops:\n\t{\n\t\tchatId: { default: 0 },\n\t},\n\tdata: function()\n\t{\n\t\treturn {\n\t\t\tuserNewName: '',\n\t\t\tisSettingNewName: false,\n\t\t\tpopupMode: popupModes.preparation\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\twindow.addEventListener('beforeunload', this.onBeforeUnload.bind(this));\n\t},\n\twatch:\n\t{\n\t\tshowChat(newValue)\n\t\t{\n\t\t\tif (newValue === true)\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$root.$emit(EventType.textarea.focus);\n\t\t\t\t\tthis.$root.$emit(EventType.dialog.scrollToBottom);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.user && !this.userHasRealName)\n\t\t\t{\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$refs.nameInput.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdialogInited(newValue)\n\t\t{\n\t\t\tif (newValue === true)\n\t\t\t{\n\t\t\t\tthis.$root.$bitrixApplication.setDialogInited();\n\t\t\t}\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tEventType: () => EventType,\n\t\tuserId()\n\t\t{\n\t\t\treturn this.application.common.userId;\n\t\t},\n\t\tdialogId()\n\t\t{\n\t\t\treturn this.application.dialog.dialogId;\n\t\t},\n\t\tdialogInited()\n\t\t{\n\t\t\tif (this.dialog)\n\t\t\t{\n\t\t\t\treturn this.dialog.init;\n\t\t\t}\n\t\t},\n\t\tdialogName()\n\t\t{\n\t\t\tif (this.dialog)\n\t\t\t{\n\t\t\t\treturn this.dialog.name;\n\t\t\t}\n\t\t},\n\t\tuserInited()\n\t\t{\n\t\t\treturn this.callApplication.common.inited;\n\t\t},\n\t\tuserHasRealName()\n\t\t{\n\t\t\tif (this.user)\n\t\t\t{\n\t\t\t\treturn this.user.name !== this.localize['BX_IM_COMPONENT_CALL_DEFAULT_USER_NAME'];\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tshowChat()\n\t\t{\n\t\t\treturn this.callApplication.common.showChat;\n\t\t},\n\t\tuserCounter()\n\t\t{\n\t\t\treturn this.callApplication.common.userCount;\n\t\t},\n\t\tuserInCallCounter()\n\t\t{\n\t\t\treturn this.callApplication.common.userInCallCount;\n\t\t},\n\t\tisPreparationStep()\n\t\t{\n\t\t\treturn this.callApplication.common.state === CallStateType.preparation;\n\t\t},\n\t\tisPopupPreparation()\n\t\t{\n\t\t\treturn this.popupMode === popupModes.preparation;\n\t\t},\n\t\tisPopupCheckDevices()\n\t\t{\n\t\t\treturn this.popupMode === popupModes.checkDevices;\n\t\t},\n\t\tcallError()\n\t\t{\n\t\t\treturn this.callApplication.common.callError;\n\t\t},\n\t\tnoSignalFromCamera()\n\t\t{\n\t\t\treturn this.callError === CallErrorCode.noSignalFromCamera;\n\t\t},\n\t\tnewNameButtonClasses()\n\t\t{\n\t\t\treturn ['ui-btn' ,'ui-btn-sm' ,'ui-btn-success-dark', 'ui-btn-no-caps', {'ui-btn-wait': this.isSettingNewName}, {'ui-btn-disabled': this.isSettingNewName}];\n\t\t},\n\t\tstartCallButtonClasses()\n\t\t{\n\t\t\treturn ['ui-btn', 'ui-btn-sm', 'ui-btn-success-dark', 'ui-btn-no-caps', 'bx-im-component-call-left-preparation-buttons-start'];\n\t\t},\n\t\treloadButtonClasses()\n\t\t{\n\t\t\treturn ['ui-btn', 'ui-btn-sm', 'ui-btn-no-caps', 'bx-im-component-call-left-preparation-buttons-reload'];\n\t\t},\n\t\tcheckDevicesButtonClasses()\n\t\t{\n\t\t\treturn ['ui-btn', 'ui-btn-sm', 'ui-btn-no-caps', 'bx-im-component-call-left-preparation-buttons-check-devices'];\n\t\t},\n\t\tlocalize()\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('BX_IM_COMPONENT_CALL_', this.$root.$bitrixMessages);\n\t\t},\n\t\t...Vuex.mapState({\n\t\t\tcallApplication: state => state.callApplication,\n\t\t\tapplication: state => state.application,\n\t\t\tuser: state => state.users.collection[state.application.common.userId],\n\t\t\tdialog: state => state.dialogues.collection[state.application.dialog.dialogId]\n\t\t})\n\t},\n\tmethods:\n\t{\n\t\tonNewNameButtonClick(name)\n\t\t{\n\t\t\tthis.isSettingNewName = true;\n\t\t\tname = name.trim();\n\t\t\tif (name.length > 0)\n\t\t\t{\n\t\t\t\tthis.$root.$bitrixApplication.setUserName(name);\n\t\t\t}\n\t\t},\n\t\tonCloseChat()\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.toggleChat();\n\t\t},\n\t\treloadPage()\n\t\t{\n\t\t\tlocation.reload();\n\t\t},\n\t\tonTextareaSend(event)\n\t\t{\n\t\t\tif (!event.text)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.callApplication.common.showSmiles)\n\t\t\t{\n\t\t\t\tthis.$store.commit('callApplication/toggleSmiles');\n\t\t\t}\n\n\t\t\tthis.$root.$bitrixApplication.addMessage(event.text);\n\t\t},\n\t\tonTextareaFileSelected(event)\n\t\t{\n\t\t\tlet fileInput = event && event.fileInput ? event.fileInput : '';\n\t\t\tif (!fileInput)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (fileInput.files[0].size > this.application.disk.maxFileSize)\n\t\t\t{\n\t\t\t\t// TODO alert\n\t\t\t\t//alert(this.localize.BX_LIVECHAT_FILE_SIZE_EXCEEDED.replace('#LIMIT#', Math.round(this.application.disk.maxFileSize / 1024 / 1024)));\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.$root.$bitrixApplication.uploadFile(fileInput);\n\t\t},\n\t\tonTextareaWrites(event)\n\t\t{\n\t\t\tthis.$root.$bitrixController.application.startWriting();\n\t\t},\n\t\tstartCall()\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.startCall();\n\t\t},\n\t\tonTextareaAppButtonClick(event)\n\t\t{\n\t\t\tif (event.appId === 'smile')\n\t\t\t{\n\t\t\t\tthis.$store.commit('callApplication/toggleSmiles');\n\t\t\t}\n\t\t},\n\t\tonBeforeUnload(event)\n\t\t{\n\t\t\tif (!this.isPreparationStep)\n\t\t\t{\n\t\t\t\tconst message = this.localize['BX_IM_COMPONENT_CALL_CLOSE_CONFIRM'];\n\n\t\t\t\tevent.returnValue = message;\n\n\t\t\t\treturn message;\n\t\t\t}\n\t\t},\n\t\thideSmiles()\n\t\t{\n\t\t\tthis.$store.commit('callApplication/toggleSmiles');\n\t\t},\n\t\tonSmilesSelectSmile(event)\n\t\t{\n\t\t\tthis.$root.$emit(EventType.textarea.insertText, { text: event.text });\n\t\t},\n\t\tonSmilesSelectSet(event)\n\t\t{\n\t\t\tconsole.warn('select set');\n\t\t},\n\t\tcheckDevices()\n\t\t{\n\t\t\tthis.popupMode = popupModes.checkDevices;\n\t\t},\n\t\tonCheckDevicesSave(changedValues)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.onCheckDevicesSave(changedValues);\n\t\t\tthis.popupMode = popupModes.preparation;\n\t\t},\n\t\tonCheckDevicesExit()\n\t\t{\n\t\t\tthis.popupMode = popupModes.preparation;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-component-call\">\n\t\t\t<template v-if=\"!userInited\">\n\t\t\t\t<div class=\"bx-im-component-call-loading\">\n\t\t\t\t\t<div class=\"bx-im-component-call-loading-text\">{{ localize['BX_IM_COMPONENT_CALL_LOADING'] }}</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<div class=\"bx-im-component-call-left\">\n\t\t\t\t\t<div id=\"bx-im-component-call-container\"></div>\n\t\t\t\t\t<div v-if=\"isPreparationStep\" class=\"bx-im-component-call-left-preparation\">\n\t\t\t\t\t\t<template v-if=\"isPopupPreparation\">\n\t\t\t\t\t\t\t<template v-if=\"callError\">\n\t\t\t\t\t\t\t\t<template v-if=\"noSignalFromCamera\">\n\t\t\t\t\t\t\t\t\t<div class=\"bx-im-component-call-left-preparation-title\">{{ localize['BX_IM_COMPONENT_CALL_ERROR_NO_SIGNAL_FROM_CAMERA'] }}</div>\n\t\t\t\t\t\t\t\t\t<button @click=\"reloadPage\" :class=\"reloadButtonClasses\">{{ this.localize['BX_IM_COMPONENT_CALL_BUTTON_RELOAD'] }}</button>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else-if=\"!callError\">\n\t\t\t\t\t\t\t\t<template v-if=\"userInCallCounter > 0\">\n\t\t\t\t\t\t\t\t\t<div class=\"bx-im-component-call-left-preparation-title\">{{ localize['BX_IM_COMPONENT_CALL_PREPARE_TITLE_JOIN_CALL'] }}</div>\n\t\t\t\t\t\t\t\t\t<button @click=\"startCall\" :class=\"startCallButtonClasses\">{{ this.localize['BX_IM_COMPONENT_CALL_BUTTON_JOIN'] }}</button>\n\t\t\t\t\t\t\t\t\t<div class=\"bx-im-component-call-left-preparation-user-count\">{{ localize['BX_IM_COMPONENT_CALL_PREPARE_USER_COUNT'] }} {{ userInCallCounter }}</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else-if=\"userInCallCounter === 0 && userCounter > 1\">\n\t\t\t\t\t\t\t\t\t<div class=\"bx-im-component-call-left-preparation-title\">{{ localize['BX_IM_COMPONENT_CALL_PREPARE_TITLE_START_CALL'] }}</div>\n\t\t\t\t\t\t\t\t\t<button @click=\"startCall\" :class=\"startCallButtonClasses\">{{ this.localize['BX_IM_COMPONENT_CALL_BUTTON_START'] }}</button>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t<div class=\"bx-im-component-call-left-preparation-user-count\">{{ localize['BX_IM_COMPONENT_CALL_PREPARE_NO_USERS'] }}</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<button @click=\"checkDevices\" :class=\"checkDevicesButtonClasses\">{{ this.localize['BX_IM_COMPONENT_CALL_BUTTON_CHECK_DEVICES'] }}</button>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"isPopupCheckDevices\">\n\t\t\t\t\t\t\t<bx-im-component-call-check-devices @save=\"onCheckDevicesSave\" @exit=\"onCheckDevicesExit\"/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<transition name=\"videoconf-chat-slide\">\n\t\t\t\t\t<div v-show=\"showChat\" class=\"bx-im-component-call-right\">\n\t\t\t\t\t\t<div class=\"bx-im-component-call-right-header\">\n\t\t\t\t\t\t\t<div @click=\"onCloseChat\" class=\"bx-im-component-call-right-header-close\" :title=\"localize['BX_IM_COMPONENT_CALL_CHAT_CLOSE_TITLE']\"></div>\n\t\t\t\t\t\t\t<div class=\"bx-im-component-call-right-header-title\">{{ localize['BX_IM_COMPONENT_CALL_CHAT_TITLE'] }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"bx-im-component-call-right-chat\">\n\t\t\t\t\t\t\t<bx-im-component-dialog\n\t\t\t\t\t\t\t\t:userId=\"userId\"\n\t\t\t\t\t\t\t\t:dialogId=\"dialogId\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<keep-alive include=\"bx-im-component-call-smiles\">\n\t\t\t\t\t\t\t\t<template v-if=\"callApplication.common.showSmiles\">\n\t\t\t\t\t\t\t\t\t<bx-im-component-call-smiles @selectSmile=\"onSmilesSelectSmile\" @selectSet=\"onSmilesSelectSet\"/>\t\n\t\t\t\t\t\t\t\t</template>\t\n\t\t\t\t\t\t\t</keep-alive>\n\t\t\t\t\t\t\t<div v-if=\"user && userHasRealName\" class=\"bx-im-component-call-textarea\">\n\t\t\t\t\t\t\t\t<bx-im-view-textarea\n\t\t\t\t\t\t\t\t\t:userId=\"userId\"\n\t\t\t\t\t\t\t\t\t:dialogId=\"dialogId\" \n\t\t\t\t\t\t\t\t\t:enableFile=\"true\"\n\t\t\t\t\t\t\t\t\t:enableEdit=\"true\"\n\t\t\t\t\t\t\t\t\t:enableCommand=\"false\"\n\t\t\t\t\t\t\t\t\t:enableMention=\"false\"\n\t\t\t\t\t\t\t\t\t:autoFocus=\"true\"\n\t\t\t\t\t\t\t\t\t:listenEventInsertText=\"EventType.textarea.insertText\"\n\t\t\t\t\t\t\t\t\t:listenEventFocus=\"EventType.textarea.focus\"\n\t\t\t\t\t\t\t\t\t:listenEventBlur=\"EventType.textarea.blur\"\n\t\t\t\t\t\t\t\t\t@send=\"onTextareaSend\"\n\t\t\t\t\t\t\t\t\t@fileSelected=\"onTextareaFileSelected\"\n\t\t\t\t\t\t\t\t\t@writes=\"onTextareaWrites\"\n\t\t\t\t\t\t\t\t\t@appButtonClick=\"onTextareaAppButtonClick\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else-if=\"user && !userHasRealName\" class=\"bx-im-component-call-textarea-guest\">\n\t\t\t\t\t\t\t\t<div class=\"bx-im-component-call-textarea-guest-title\">{{ localize['BX_IM_COMPONENT_CALL_INTRODUCE_YOURSELF'] }}</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<input ref=\"nameInput\" v-model=\"userNewName\" @keyup.enter=\"onNewNameButtonClick(userNewName)\" type=\"text\" :placeholder=\"localize['BX_IM_COMPONENT_CALL_INTRODUCE_YOURSELF_PLACEHOLDER']\" class=\"bx-im-component-call-textarea-guest-input\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button @click=\"onNewNameButtonClick(userNewName)\" :class=\"newNameButtonClasses\">{{ localize['BX_IM_COMPONENT_CALL_INTRODUCE_YOURSELF_BUTTON'] }}</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t</template>\n\t\t</div>\n\t`\n});"],"names":["Vue","cloneComponent","methods","hideForm","event","$parent","hideSmiles","template","MicLevel","props","data","bars","barDisabledColor","barEnabledColor","watch","micId","newId","startAudioCheck","mounted","document","querySelectorAll","navigator","mediaDevices","getUserMedia","audio","deviceId","exact","then","stream","audioContext","window","AudioContext","webkitAudioContext","analyser","createAnalyser","microphone","createMediaStreamSource","scriptNode","createScriptProcessor","smoothingTimeConstant","fftSize","connect","destination","onaudioprocess","processVolume","arr","Uint8Array","frequencyBinCount","getByteFrequencyData","values","i","length","average","oneBarValue","barsToColor","Math","round","elementsToColor","slice","forEach","elem","style","backgroundColor","component","cameraList","microphoneList","audioOutputList","defaultDevices","camera","audioOutput","currentlySelected","defaultOptions","preferHDQuality","enableMicAutoParameters","selectedOptions","noVideo","created","BX","Call","Hardware","preferHdQuality","getDefaultDevices","getVideoFromCamera","currentCamera","computed","localize","getFilteredPhrases","$root","$bitrixMessages","defaultCamera","video","getVideoTracks","getSettings","catch","e","console","warn","defaultMicrophone","getAudioTracks","defaultSpeaker","id","width","height","$refs","volume","srcObject","play","save","changedValues","isEmptyObject","$emit","exit","obj","Object","keys","components","popupModes","freeze","preparation","checkDevices","chatId","default","userNewName","isSettingNewName","popupMode","addEventListener","onBeforeUnload","bind","showChat","newValue","$nextTick","EventType","textarea","focus","dialog","scrollToBottom","user","userHasRealName","nameInput","dialogInited","$bitrixApplication","setDialogInited","userId","application","common","dialogId","init","dialogName","name","userInited","callApplication","inited","userCounter","userCount","userInCallCounter","userInCallCount","isPreparationStep","state","CallStateType","isPopupPreparation","isPopupCheckDevices","callError","noSignalFromCamera","CallErrorCode","newNameButtonClasses","startCallButtonClasses","reloadButtonClasses","checkDevicesButtonClasses","Vuex","mapState","users","collection","dialogues","onNewNameButtonClick","trim","setUserName","onCloseChat","toggleChat","reloadPage","location","reload","onTextareaSend","text","showSmiles","$store","commit","addMessage","onTextareaFileSelected","fileInput","files","size","disk","maxFileSize","uploadFile","onTextareaWrites","$bitrixController","startWriting","startCall","onTextareaAppButtonClick","appId","message","returnValue","onSmilesSelectSmile","insertText","onSmilesSelectSet","onCheckDevicesSave","onCheckDevicesExit"],"mappings":"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"}