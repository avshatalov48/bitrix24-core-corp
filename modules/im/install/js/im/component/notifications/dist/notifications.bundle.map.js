{"version":3,"file":"notifications.bundle.map.js","names":["this","BX","exports","im_lib_animation","ui_forms","ui_designTokens","im_view_element_attach","im_view_element_keyboard","ui_vue","main_core","ui_vue_vuex","im_lib_logger","ui_vue_portal","im_view_popup","main_popup","im_lib_utils","im_const","im_lib_timer","main_core_events","NotificationQuickAnswer","props","data","quickAnswerText","quickAnswerResultMessage","showQuickAnswer","isSendingQuickAnswer","successSentQuickAnswer","methods","toggleQuickAnswer","_this","$nextTick","$refs","focus","sendQuickAnswer","event","_this2","trim","notificationId","item","id","$Bitrix","RestClient","get","callMethod","notify_id","answer_text","then","result","result_message","error","console","template","NotificationItemHeader","listItem","type","Object","required","isExtranet","Boolean","default","computed","moreUsers","phrase","Loc","getMessage","split","start","end","params","USERS","length","isMoreUsers","hasOwnProperty","isAbleToDelete","sectionCode","NotificationTypesCodes","simple","onDeleteClick","$emit","onMoreUsersClick","users","content","value","onUserTitleClick","window","top","userId","openMessenger","NotificationPlaceholder","NotificationItem","components","menuId","rawListItem","authorId","systemType","avatar","title","userTitle","subtitle","textConverted","url","color","defaultAvatarColor","notifyButtons","undefined","unread","settingName","date","Utils","format","getMessages","isRealItem","placeholder","isNeedQuickAnswer","CAN_ANSWER","userData","name","$store","getters","extranet","avatarStyles","backgroundImage","onDoubleClick","searchMode","onButtonsClick","action","onContentClick","Vue","testNode","target","className","dataset","onRightClick","platform","isBitrixDesktop","tagName","href","startsWith","hrefToCopy","menuPopup","destroy","existingMenu","PopupManager","getPopupById","menuItem","Dom","create","attrs","events","click","desktop","clipboardCopy","text","targetContainer","document","body","MessengerTheme","isDark","darkMode","bindElement","offsetLeft","autoHide","closeByEsc","onPopupClose","onPopupDestroy","setAngle","show","NotificationCore","placeholderCount","isReadyToLoadNewPage","leftSpaceBottom","scrollHeight","scrollTop","clientHeight","getLastItemId","collection","generatePlaceholders","amount","placeholders","i","push","concat","getRestClient","contentPopupType","toLowerCase","contentPopupValue","popupInstance","popupAngle","isDarkTheme","BXIM","messenger","openPopupExternalData","ID","MessengerCommon","linesGetSessionHistory","popup","lightShadow","offsetTop","bindOptions","position","popupIdSelector","getContentContainer","darkTheme","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","source","forEach","key","babelHelpers","defineProperty","getOwnPropertyDescriptors","defineProperties","NotificationSearchResult","MountingPortal","Popup","mixins","pageLimit","lastId","initialDataReceived","isLoadingNewPage","searchResultsTotal","searchPageLoaded","searchPagesRequested","remainingPages","Math","ceil","searchResults","Vuex","mapState","notification","state","notifications","searchCollection","watch","searchQuery","search","searchType","searchDate","parseDate","Date","created","searchServerDelayed","debounce","getSearchResultsFromServer","beforeDestroy","dispatch","resetSearchState","localResults","includes","itemDateForCompare","getTime","setHours","dateFromInput","isNeedPlaceholders","drawPlaceholders","queryParams","getSearchRequestParams","Logger","warn","processHistoryData","total_results","loadNextPage","_this3","newUsers","newItems","items","firstItem","onAfterLoadNextPageRequest","SEARCH_TEXT","SEARCH_TYPE","LIMIT","CONVERT_TEXT","toISOString","onScroll","_this4","pagesRequested","_this5","getConfirmRequestParams","itemId","NOTIFY_ID","unreadTotal","unreadCounter","fields","display","_this6","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","minLen","_arrayLikeToArray","prototype","toString","slice","constructor","from","test","arr","len","arr2","ownKeys$1","_objectSpread$1","ObserverType","freeze","read","none","BitrixVue","component","directives","inserted","element","bindings","vnode","context","observers","getObserver","observe","unbind","unobserve","perPage","isLoadingInitialData","pagesLoaded","lastType","confirm","notificationsOnScreen","notificationsToRead","notificationsToDelete","changeReadStatusBlockTimeout","firstUnreadNotificationOnInit","contextPopupInstance","showSearch","callViewState","total","localize","getFilteredPhrases","visibleNotifications","notificationItem","highestNotificationId","reduce","highestId","currentNotification","isNeedToReadAll","panelStyles","Call","Controller","ViewState","Folded","paddingBottom","filterBoxStyles","paddingTop","firstUnreadNotification","unreadNotification","maxNotificationIndex","firstUnreadNotificationBelowVisible","minIdOnScreen","max","toConsumableArray","unreadId","isUnreadNotificationVisible","unreadOnScreen","idOnScreen","notificationOnScreen","showScrollButton","settings","notifyAutoRead","hasUnreadBelowVisible","unreadCounterBeforeVisible","arrowButtonClass","arrowUp","filterTypes","originalSchema","assign","schema","modulesToReduceListItems","moduleId","LIST","NAME","modulesToShowInFilter","notificationFilterTypes","getInitialData","EventEmitter","subscribe","EventType","updateState","onUpdateState","addEventListener","onWindowFocus","onWindowBlur","callController","Events","onViewStateChanged","onCallViewStateChange","timer","Timer","readNotificationsQueue","Set","readNotificationsNodes","readVisibleNotificationsDelayed","readVisibleNotifications","mounted","windowFocused","hasFocus","removeEventListener","unsubscribe","getFirstUnreadNotificationOnInit","_ref","lastNotificationId","readNotifications","parseInt","clear","_queryParams","RestMethodHandler","imNotifyGet","RestMethod","imNotifySchemaGet","callBatch","response","processInitialData","processSchemaData","getLastItemType","total_unread_count","total_count","updateRecentList","LAST_ID","LAST_TYPE","changeReadStatus","ids","originalCounterBeforeUpdate","counterValue","clearTimeout","setTimeout","only_current","delete","_delete","_this7","stop","idsToDelete","config","_this8","IntersectionObserver","observerCallback","entries","entry","sendReadEvent","entryNotificationId","isIntersecting","intersectionRatio","intersectionRect","height","rootBounds","add","observerOptions","root","threshold","fill","map","zero","index","_this9","_this10","counterValueBeforeUpdate","_this11","_this12","closeContextMenuPopup","getContextMenu","MenuManager","onDateFilterClick","_this13","calendar","close","node","field","bTime","callback_after","_this14","unreadMenuItemText","blockMenuItemText","Type","isUndefined","settingsNotifyBlocked","onclick","log","options","NOTIFY_VALUE","_this15","idsToRead","canReadFromId","restMethod","requestParams","readFromId","min","getItemType","notify_type","getLatest","latestNotification","_iterator","_step","showConfirmPopupOnReadAll","readAll","bind","openConfirm","PopupWindowButton","popupWindow","_this16","setPreview","counter","message","onScrollButtonClick","notificationIdToScroll","firstUnreadNotificationNode","selector","querySelector","animatedScrollToPosition","_selector","latestNotificationNode","_this17","animateScrollId","Animation","cancel","scrollAnimating","callback","container","listNotifications","_params","_params$start","_params$end","_params$increment","increment","_callback","_params$duration","duration","offsetHeight","elementProperty","Messenger","Lib","View","Main","Const","Event"],"sources":["notifications.bundle.js"],"mappings":"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"}