{"version":3,"file":"conference-create.bundle.js","sources":["../src/conference-create.js"],"sourcesContent":["import { ajax as Ajax, Reflection, Runtime } from \"main.core\";\nimport {Vue} from \"ui.vue\";\nimport {Logger} from \"im.lib.logger\";\nimport {Clipboard} from \"im.lib.clipboard\";\n\nimport \"./conference-create.css\";\n\nVue.component('bx-im-component-conference-create',\n\t{\n\t\tprops: ['userId', 'darkTheme'],\n\t\tdata: function() {\n\t\t\treturn {\n\t\t\t\ttitle: '',\n\t\t\t\tdefaultTitle: '',\n\t\t\t\tlinkGenerated: false,\n\t\t\t\taliasData: null,\n\t\t\t\tuserSelectorLoaded: false,\n\t\t\t\tuserSelector: null,\n\t\t\t\tselectedUsers: [],\n\t\t\t\tchatId: null,\n\t\t\t\terrors: []\n\t\t\t};\n\t\t},\n\t\tcreated()\n\t\t{\n\t\t\tthis.checkRequirements();\n\t\t\tthis.selectedUsers.push(this.userId);\n\t\t\tthis.generateLink();\n\t\t},\n\t\tmounted()\n\t\t{\n\t\t\tthis.initUserSelector().then(() => {\n\t\t\t\tthis.userSelector.renderTo(this.$refs['userSelector']);\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$refs['titleInput'].focus();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tcomputed:\n\t\t{\n\t\t\tconferenceLink()\n\t\t\t{\n\t\t\t\tif (this.linkGenerated)\n\t\t\t\t{\n\t\t\t\t\treturn this.aliasData['LINK'];\n\t\t\t\t}\n\n\t\t\t\treturn this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_LINK_LOADING'];\n\t\t\t},\n\t\t\tdefaultTitlePlaceholder()\n\t\t\t{\n\t\t\t\tif (this.linkGenerated)\n\t\t\t\t{\n\t\t\t\t\treturn this.defaultTitle;\n\t\t\t\t}\n\n\t\t\t\treturn this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_PLACEHOLDER_TITLE_2'];\n\t\t\t},\n\t\t\tcontainerClasses()\n\t\t\t{\n\t\t\t\tconst classes = ['bx-conference-quick-create-wrap'];\n\n\t\t\t\tif (this.darkTheme)\n\t\t\t\t{\n\t\t\t\t\tclasses.push('bx-conference-quick-create-wrap-dark');\n\t\t\t\t}\n\n\t\t\t\treturn classes;\n\t\t\t},\n\t\t\tstartButtonClasses()\n\t\t\t{\n\t\t\t\tconst classes = ['ui-btn', 'ui-btn-primary', 'bx-conference-quick-create-button-start'];\n\n\t\t\t\tif (!this.userSelectorLoaded)\n\t\t\t\t{\n\t\t\t\t\tclasses.push('ui-btn-disabled');\n\t\t\t\t}\n\t\t\t\treturn classes;\n\t\t\t},\n\t\t\tlocalize()\n\t\t\t{\n\t\t\t\treturn BX.message;\n\t\t\t}\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tgenerateLink()\n\t\t\t{\n\t\t\t\tAjax.runAction('im.conference.prepare', {json: {}})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.aliasData = response.data['ALIAS_DATA'];\n\t\t\t\t\tthis.defaultTitle = response.data['DEFAULT_TITLE'];\n\t\t\t\t\tthis.linkGenerated = true;\n\t\t\t\t})\n\t\t\t\t.catch((response) => {\n\t\t\t\t\tLogger.warn('error', response[\"errors\"][0].message);\n\t\t\t\t});\n\t\t\t},\n\t\t\tcopyLink()\n\t\t\t{\n\t\t\t\tif (this.linkGenerated && Reflection.getClass('BX.UI.Notification.Center'))\n\t\t\t\t{\n\t\t\t\t\tClipboard.copy(this.aliasData['LINK']);\n\n\t\t\t\t\ttop.BX.UI.Notification.Center.notify({\n\t\t\t\t\t\tcontent: this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_COPY_CONFIRMATION']\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tstartConference()\n\t\t\t{\n\t\t\t\tif (this.linkGenerated)\n\t\t\t\t{\n\t\t\t\t\tconst fieldsToSubmit = {};\n\n\t\t\t\t\tfieldsToSubmit['title'] = this.title;\n\t\t\t\t\tfieldsToSubmit['id'] = 0;\n\t\t\t\t\tfieldsToSubmit['password_needed'] = false;\n\t\t\t\t\tfieldsToSubmit['users'] = this.selectedUsers;\n\n\t\t\t\t\tthis.clearErrors();\n\t\t\t\t\tAjax.runAction('im.conference.create', {\n\t\t\t\t\t\t\tjson: { fields: fieldsToSubmit, aliasData: this.aliasData }\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tthis.onSuccessfulSubmit(response);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((response) => {\n\t\t\t\t\t\t\tthis.onFailedSubmit(response);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancelCreation()\n\t\t\t{\n\t\t\t\tif (BXIM && BXIM.messenger)\n\t\t\t\t{\n\t\t\t\t\tBXIM.messenger.extraClose();\n\t\t\t\t}\n\t\t\t},\n\t\t\topenChat()\n\t\t\t{\n\t\t\t\tif (window.top[\"BXIM\"] && this.chatId)\n\t\t\t\t{\n\t\t\t\t\twindow.top[\"BXIM\"].openMessenger('chat' + this.chatId);\n\t\t\t\t}\n\t\t\t},\n\t\t\tinitUserSelector()\n\t\t\t{\n\t\t\t\treturn Runtime.loadExtension('ui.entity-selector').then((exports) => {\n\t\t\t\t\tconst {TagSelector} = exports;\n\t\t\t\t\tthis.userSelectorLoaded = true;\n\n\t\t\t\t\tthis.userSelector = new TagSelector({\n\t\t\t\t\t\tid: 'tag-selector',\n\t\t\t\t\t\tdialogOptions: {\n\t\t\t\t\t\t\tid: 'tag-selector',\n\t\t\t\t\t\t\tpreselectedItems: [['user', this.userId]],\n\t\t\t\t\t\t\tundeselectedItems: [['user', this.userId]],\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t'Item:onSelect': (event) => {\n\t\t\t\t\t\t\t\t\tthis.onUserSelect(event);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'Item:onDeselect': (event) => {\n\t\t\t\t\t\t\t\t\tthis.onUserDeselect(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tentities: [\n\t\t\t\t\t\t\t\t{id: 'user', options: {inviteEmployeeLink: false}},\n\t\t\t\t\t\t\t\t{id: 'department'}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tzIndex: 4000\n\t\t\t\t\t\t},\n\t\t\t\t\t\taddButtonCaption: this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_ADD_USERS'],\n\t\t\t\t\t\taddButtonCaptionMore: this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_ADD_USERS']\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tcheckRequirements()\n\t\t\t{\n\t\t\t\tif (!BX.PULL.isPublishingEnabled())\n\t\t\t\t{\n\t\t\t\t\tthis.disableButton();\n\t\t\t\t\tthis.addError(this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_PUSH_ERROR']);\n\t\t\t\t}\n\n\t\t\t\tif (!BX.Call.Util.isCallServerAllowed())\n\t\t\t\t{\n\t\t\t\t\tthis.disableButton();\n\t\t\t\t\tthis.addError(this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_VOXIMPLANT_ERROR']);\n\t\t\t\t}\n\t\t\t},\n\t\t\taddError(errorText)\n\t\t\t{\n\t\t\t\tthis.errors.push(errorText);\n\t\t\t},\n\t\t\tclearErrors()\n\t\t\t{\n\t\t\t\tthis.errors = [];\n\t\t\t},\n\t\t\tdisableButton()\n\t\t\t{\n\t\t\t\tthis.startButtonClasses.push('ui-btn-disabled', 'ui-btn-icon-lock');\n\t\t\t},\n\t\t\tonUserSelect(event)\n\t\t\t{\n\t\t\t\tconst index = this.selectedUsers.findIndex((userId) => {\n\t\t\t\t\treturn userId === event.data.item.id;\n\t\t\t\t});\n\n\t\t\t\tif (index === -1)\n\t\t\t\t{\n\t\t\t\t\tthis.selectedUsers.push(event.data.item.id);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonUserDeselect(event)\n\t\t\t{\n\t\t\t\tconst index = this.selectedUsers.findIndex((userId) => {\n\t\t\t\t\treturn userId === event.data.item.id;\n\t\t\t\t});\n\n\t\t\t\tif (index > -1)\n\t\t\t\t{\n\t\t\t\t\tthis.selectedUsers.splice(index, 1);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSuccessfulSubmit(response)\n\t\t\t{\n\t\t\t\tthis.chatId = response.data['CHAT_ID'];\n\t\t\t\tthis.openChat();\n\t\t\t\tif (BXIM)\n\t\t\t\t{\n\t\t\t\t\tBXIM.openVideoconf(this.aliasData['ALIAS']);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonFailedSubmit(response)\n\t\t\t{\n\t\t\t\tthis.addError(response[\"errors\"][0].message);\n\t\t\t}\n\t\t},\n\t\ttemplate:\n\t\t`\n\t\t\t<div :class=\"containerClasses\">\n\t\t\t\t<div class=\"bx-conference-quick-create-content\">\n\t\t\t\t\t<!-- Title -->\n\t\t\t\t\t<div class=\"bx-conference-quick-create-title\">\n\t\t\t\t\t\t{{ this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_HEADER_TITLE'] }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- Errors -->\n\t\t\t\t\t<template v-if=\"errors.length > 0\">\n\t\t\t\t\t\t<div class=\"ui-alert ui-alert-danger bx-conference-quick-create-error-wrap\">\n\t\t\t\t\t\t\t<span v-for=\"error in errors\" class=\"ui-alert-message\">{{ error }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<!-- Title field -->\n\t\t\t\t\t<div class=\"bx-conference-quick-create-field-block\">\n\t\t\t\t\t\t<div class=\"bx-conference-quick-create-field-label\">\n\t\t\t\t\t\t\t{{ this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_LABEL_TITLE'] }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tv-model=\"title\"\n\t\t\t\t\t\t\t:placeholder=\"defaultTitlePlaceholder\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclass=\"bx-conference-quick-create-field-input\"\n\t\t\t\t\t\t\tref=\"titleInput\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- User selector field -->\n\t\t\t\t\t<div class=\"bx-conference-quick-create-field-block\">\n\t\t\t\t\t\t<div class=\"bx-conference-quick-create-field-label\">\n\t\t\t\t\t\t\t{{ this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_LABEL_USERS'] }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<template v-if=\"userSelectorLoaded\">\n\t\t\t\t\t\t\t<div class=\"bx-conference-quick-create-selector-wrap\" ref=\"userSelector\"></div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<input type=\"text\" class=\"bx-conference-quick-create-field-input\" :placeholder=\"localize['BX_IM_COMPONENT_CONFERENCE_CREATE_USERS_LOADING']\" disabled>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- Link field -->\n\t\t\t\t\t<div class=\"bx-conference-quick-create-field-block\">\n\t\t\t\t\t\t<div class=\"bx-conference-quick-create-field-label\">\n\t\t\t\t\t\t\t{{ this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_LABEL_LINK'] }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"bx-conference-quick-create-link-wrap\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"bx-conference-quick-create-field-input\" :placeholder=\"conferenceLink\" disabled>\n\t\t\t\t\t\t\t<div @click=\"copyLink\" class=\"bx-conference-quick-create-link-copy\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- Create button -->\n\t\t\t\t\t<div class=\"bx-conference-quick-create-button\">\n\t\t\t\t\t\t<button @click=\"startConference\" :class=\"startButtonClasses\">{{ this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_BUTTON_START'] }}</button>\n\t\t\t\t\t\t<button @click=\"cancelCreation\" class=\"ui-btn ui-btn-link bx-conference-quick-create-button-cancel\">{{ this.localize['BX_IM_COMPONENT_CONFERENCE_CREATE_BUTTON_CANCEL'] }}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`\n\t}\n);"],"names":["Vue","component","props","data","title","defaultTitle","linkGenerated","aliasData","userSelectorLoaded","userSelector","selectedUsers","chatId","errors","created","checkRequirements","push","userId","generateLink","mounted","initUserSelector","then","renderTo","$refs","$nextTick","focus","computed","conferenceLink","localize","defaultTitlePlaceholder","containerClasses","classes","darkTheme","startButtonClasses","BX","message","methods","Ajax","runAction","json","response","catch","Logger","warn","copyLink","Reflection","getClass","Clipboard","copy","top","UI","Notification","Center","notify","content","startConference","fieldsToSubmit","clearErrors","fields","onSuccessfulSubmit","onFailedSubmit","cancelCreation","BXIM","messenger","extraClose","openChat","window","openMessenger","Runtime","loadExtension","exports","TagSelector","id","dialogOptions","preselectedItems","undeselectedItems","events","event","onUserSelect","onUserDeselect","entities","options","inviteEmployeeLink","zIndex","addButtonCaption","addButtonCaptionMore","PULL","isPublishingEnabled","disableButton","addError","Call","Util","isCallServerAllowed","errorText","index","findIndex","item","splice","openVideoconf","template"],"mappings":"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"}