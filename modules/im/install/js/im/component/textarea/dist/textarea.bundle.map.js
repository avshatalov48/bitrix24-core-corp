{"version":3,"sources":["textarea.bundle.js"],"names":["exports","ui_vue","im_lib_localstorage","im_lib_utils","main_core","ui_vue_vuex","main_core_events","im_const","BitrixVue","component","props","siteId","default","userId","dialogId","enableCommand","enableMention","desktopMode","enableEdit","enableFile","sendByEnter","autoFocus","writesEventLetter","styles","type","Object","_default","data","placeholderMessage","currentMessage","previousMessage","commandListen","mentionListen","stylesDefault","freeze","button","backgroundColor","iconColor","created","EventEmitter","subscribe","EventType","textarea","insertText","this","onInsertText","setFocus","onFocusSet","setBlur","onFocusClear","localStorage","LocalStorage","textareaHistory","get","beforeDestroy","unsubscribe","clearTimeout","messageStoreTimeout","set","computed","babelHelpers","objectSpread","textareaClassName","bx-im-textarea-dark-background","isDarkBackground","bx-im-textarea-mobile","isMobile","buttonStyle","assign","isIconDark","Utils","isDarkColor","className","style","application","options","darkBackground","device","DeviceType","mobile","localize","getFilteredPhrases","isIE11","Browser","Vuex","mapState","state","directives","bx-im-focus","inserted","element","params","value","focus","methods","text","breakline","arguments","length","undefined","position","cursor","$refs","selectionStart","selectionEnd","substring","trim","endsWith","textChangeEvent","sendMessage","event","preventDefault","emit","_this","startWriting","previousSelectionStart","previousSelectionEnd","toString","setTimeout","onKeyDown","$emit","target","isMac","platform","isCtrlTEnable","isBitrixDesktop","browser","isChrome","altKey","ctrlKey","shiftKey","keyCode","document","activeElement","stopPropagation","metaKey","key","includes","tagStart","toLowerCase","tagEnd","selected","startsWith","indexOf","edit","onKeyUp","keyUp","onPaste","$nextTick","onInput","onFocus","onBlur","blur","onAppButtonClick","appId","appButtonClick","_ref","_ref$data","onFileClick","onFileSelect","fileSelected","fileChangeEvent","fileInput","log","skip","console","warn","template","window","BX","Messenger","Lib","Event","Const"],"mappings":"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","file":"textarea.bundle.map.js"}