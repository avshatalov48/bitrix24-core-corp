{"version":3,"file":"notiications.bundle.js","sources":["../src/component/bx-messenger-notifications.js","../src/notifications.js"],"sourcesContent":["/**\n * Bitrix im\n * Notifications vue component\n *\n * @package bitrix\n * @subpackage mobile\n * @copyright 2001-2019 Bitrix\n */\n\nimport {Vue} from \"ui.vue\";\nimport {Vuex} from \"ui.vue.vuex\";\n//import \"im.view.list.recent\";\nimport {Logger} from \"im.lib.logger\";\nimport {EventType} from \"im.const\";\nimport {Utils} from \"im.lib.utils\";\n\n/**\n * @notice Do not mutate or clone this component! It is under development.\n */\nVue.component('bx-im-component-notifications',\n\t{\n\t\tprops: {\n\t\t},\n\t\tdata: function()\n\t\t{\n\t\t\treturn {\n\n\t\t\t};\n\t\t},\n\t\tcreated()\n\t\t{\n\n\t\t},\n\t\tcomputed:\n\t\t\t{\n\n\t\t\t},\n\t\tmethods:\n\t\t\t{\n\n\t\t\t},\n\t\ttemplate: `\n\t\t<div>\n\t\tBX-IM-COMPONENT-NOTIFICATIONS\n<!--\t\t\t<bx-im-view-list-recent-->\n<!--\t\t\t\t:recentData=\"recentData\"-->\n<!--\t\t\t\t@scroll=\"onScroll\"-->\n<!--\t\t\t\t@click=\"onClick\"-->\n<!--\t\t\t\t@rightClick=\"onRightClick\"-->\n<!--\t\t\t/>-->\n\t\t</div>\n\t`\n\t});\n","/**\n * Bitrix Im\n * Core application\n *\n * @package bitrix\n * @subpackage im\n * @copyright 2001-2020 Bitrix\n */\nimport {Core} from \"im.application.core\";\nimport {VueVendorV2} from \"ui.vue\";\n\n// vue components\n//import './recent.css';\nimport './component/bx-messenger-notifications';\n\nexport class NotificationsApplication\n{\n\t/* region 01. Initialize */\n\n\tconstructor(params = {})\n\t{\n\t\tthis.inited = false;\n\t\tthis.initPromise = new BX.Promise;\n\n\t\tthis.params = params;\n\n\t\tthis.template = null;\n\t\tthis.rootNode = this.params.node || document.createElement('div');\n\n\t\tthis.templateTemp = null;\n\n\t\tthis.eventBus = new VueVendorV2;\n\n\t\tthis.initCore()\n\t\t\t.then(() => this.initParams())\n\t\t\t.then(() => this.initComponent())\n\t\t\t.then(() => this.initComplete())\n\t\t;\n\t}\n\n\tinitCore()\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tCore.ready().then(controller => {\n\t\t\t\tthis.controller = controller;\n\t\t\t\tresolve();\n\t\t\t})\n\t\t});\n\t}\n\n\tinitParams(controller)\n\t{\n\t\treturn new Promise((resolve, reject) => resolve());\n\t}\n\n\tinitComponent()\n\t{\n\t\treturn this.controller.createVue(this, {\n\t\t\tel: this.rootNode,\n\t\t\ttemplate: `<bx-im-component-notifications/>`,\n\t\t})\n\t\t.then(vue => {\n\t\t\tthis.template = vue;\n\t\t\treturn new Promise((resolve, reject) => resolve());\n\t\t})\n\t}\n\n\tinitComplete()\n\t{\n\t\tthis.inited = true;\n\t\tthis.initPromise.resolve(this);\n\t}\n\n\tready()\n\t{\n\t\tif (this.inited)\n\t\t{\n\t\t\tlet promise = new BX.Promise;\n\t\t\tpromise.resolve(this);\n\n\t\t\treturn promise;\n\t\t}\n\n\t\treturn this.initPromise;\n\t}\n\n\t/* endregion 01. Initialize */\n\n\t/* region 02. Event Bus */\n\temit(eventName, params = {})\n\t{\n\t\tthis.eventBus.$emit(eventName, params);\n\n\t\treturn true;\n\t}\n\n\tlisten(eventName, callback)\n\t{\n\t\tif (typeof callback !== 'function')\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.eventBus.$on(eventName, callback);\n\n\t\treturn true;\n\t}\n\t/* endregion 02. Event Bus */\n}"],"names":["Vue","component","props","data","created","computed","methods","template","NotificationsApplication","params","inited","initPromise","BX","Promise","rootNode","node","document","createElement","templateTemp","eventBus","VueVendorV2","initCore","then","initParams","initComponent","initComplete","resolve","reject","Core","ready","controller","createVue","el","vue","promise","eventName","$emit","callback","$on"],"mappings":"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"}