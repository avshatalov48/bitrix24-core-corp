{"version":3,"sources":["messenger.bundle.js"],"names":["this","BX","Messenger","exports","im_application_core","im_controller","im_provider_rest","ui_vue","ui_vue_vuex","im_lib_utils","im_component_recent","im_component_dialog","im_component_textarea","pull_component_status","main_core_events","ui_entitySelector","im_const","im_eventHandler","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","babelHelpers","defineProperty","getOwnPropertyDescriptors","defineProperties","Search","_this","params","undefined","classCallCheck","store","dialog","UI","EntitySelector","Dialog","targetNode","enableSearch","context","multiple","entities","id","filters","options","searchableChatTypes","searchableBotTypes","events","ItemOnSelect","event","onItemSelect","onLoad","fillStore","createClass","value","deselectAll","item","getData","dialogId","getDialogIdByItem","EventEmitter","emit","EventType","open","$event","getTarget","items","getItems","users","dialogues","customData","getCustomData","entityId","getEntityId","get","_dialogId","dispatch","show","ownKeys$1","_objectSpread$1","BitrixVue","component","props","userId","type","Number","default","data","selectedDialogId","notificationsSelected","textareaHeight","computed","DeviceType","textareaHeightStyle","flex","concat","isDialog","Utils","isChatId","chatId","application","localize","getFilteredPhrases","Vuex","mapState","state","created","initEventHandlers","searchPopup","subscribeToEvents","beforeDestroy","unsubscribeEvents","destroyHandlers","methods","textareaDragHandler","getTextareaDragHandler","readingHandler","ReadingHandler","$Bitrix","reactionHandler","ReactionHandler","quoteHandler","QuoteHandler","textareaHandler","TextareaHandler","sendMessageHandler","SendMessageHandler","textareaUploadHandler","TextareaUploadHandler","dialogActionHandler","DialogActionHandler","destroy","_TextareaDragHandler","TextareaDragHandler","onHeightChange","_ref","newHeight","onStopDrag","scrollToBottom","force","openSearch","document","querySelector","$store","openMessenger","toString","subscribe","onOpenMessenger","unsubscribe","_ref2","onTextareaStartDrag","onStartDrag","textarea","setBlur","template","MessengerApplication","initPromise","Promise","resolve","initPromiseResolver","rootNode","node","createElement","initCore","then","initComponent","initComplete","_this2","Core","ready","controller","_this3","setInitialApplicationInfo","setDialogRestHandler","setApplicationDialogInfo","createVue","el","getUserId","vue","vueInstance","inited","getStore","commit","getDialogId","quoteEnable","autoplayVideo","darkBackground","getters","diskFolderId","addRestAnswerHandler","DialogRestHandler","create","getLocalize","parseInt","getHost","location","origin","getSiteId","addLocalize","phrases","name","Application","Provider","Rest","Lib","window","Event","Const"],"mappings":"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","file":"messenger.bundle.map.js"}