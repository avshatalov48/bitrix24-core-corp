this.BX=this.BX||{};this.BX.IM=this.BX.IM||{};(function(e,t,s,o,a){"use strict";let i=e=>e,l,c;var n=babelHelpers.classPrivateFieldLooseKey("rows");var _=babelHelpers.classPrivateFieldLooseKey("createControlNode");var r=babelHelpers.classPrivateFieldLooseKey("onTemplateSelect");var E=babelHelpers.classPrivateFieldLooseKey("getTemplates");class p extends s.EventEmitter{constructor(e){super();Object.defineProperty(this,E,{value:M});Object.defineProperty(this,r,{value:d});Object.defineProperty(this,_,{value:T});Object.defineProperty(this,n,{writable:true,value:[]});this.setEventNamespace("BX.IM.Robot.MessageTemplateSelector")}show(e,s){const i=new o.Popup({bindElement:e,width:431,padding:20,content:babelHelpers.classPrivateFieldLooseBase(this,_)[_](s),closeByEsc:true,events:{onClose:()=>{babelHelpers.classPrivateFieldLooseBase(this,n)[n]=[]}},buttons:[new a.Button({text:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_BUTTON_OK"),color:a.Button.Color.PRIMARY,events:{click:()=>{const e=i.getContentContainer().querySelector("form");const t=new FormData(e).get("select-type-message");this.emit("select",{selected:t});i.close()}}}),new a.Button({text:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_BUTTON_CANCEL"),color:a.Button.Color.LINK,events:{click:()=>{i.close()}}})],autoHide:true,closeIcon:false,titleBar:false,angle:true});i.setCacheable(false);i.show()}}function T(e){const s=babelHelpers.classPrivateFieldLooseBase(this,E)[E]();s.forEach((s=>{const o=s.id===e;const{root:a,templateRadio:c}=t.Tag.render(l||(l=i`
				<div class="bizproc-automation-popup-settings__select-type_row ${0}">
						<label class="bizproc-automation-popup-settings__select-type_info">
							<div class="bizproc-automation-popup-settings__select-type_info-name ui-ctl ui-ctl-radio ui-ctl-wa">
								<input ref="templateRadio" type="radio" ${0} onclick="${0}" name="select-type-message" value="${0}" class="ui-ctl-element bizproc-automation-popup-settings__select-type_info-input">
								${0}
							</div>
							<div class="bizproc-automation-popup-settings__select-type_info-description">
								${0}
							</div>
						</label>
						<div class="bizproc-automation-popup-settings__select-type_images">
							<img src="/bitrix/js/im/robot/message-template-selector/images/template-${0}.svg" alt="${0}">
						</div>
					</div>
			`),o?"--active":"",o?"checked":"",babelHelpers.classPrivateFieldLooseBase(this,r)[r].bind(this),t.Text.encode(s.id),t.Text.encode(s.name),t.Text.encode(s.description),t.Text.encode(s.id),t.Text.encode(s.name));babelHelpers.classPrivateFieldLooseBase(this,n)[n].push({template:a,radioButton:c})}));return t.Tag.render(c||(c=i`
			<form class="bizproc-automation-popup-settings__select-type">
				${0}
			</form>
		`),babelHelpers.classPrivateFieldLooseBase(this,n)[n].map((e=>e.template)))}function d(){for(const e of babelHelpers.classPrivateFieldLooseBase(this,n)[n]){if(e.radioButton.checked){t.Dom.addClass(e.template,"--active")}else{t.Dom.removeClass(e.template,"--active")}}}function M(){return[{id:"plain",name:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_PLAIN_NAME"),description:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_PLAIN_DESC")},{id:"news",name:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_NEWS_NAME"),description:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_NEWS_DESC")},{id:"notify",name:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_NOTIFY_NAME"),description:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_NOTIFY_DESC")},{id:"important",name:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_IMPORTANT_NAME"),description:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_IMPORTANT_DESC")},{id:"alert",name:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_ALERT_NAME"),description:t.Loc.getMessage("BX_IM_ROBOT_MESSAGE_TEMPLATE_SELECTOR_ALERT_DESC")}]}e.MessageTemplateSelector=p})(this.BX.IM.Robot=this.BX.IM.Robot||{},BX,BX.Event,BX.Main,BX.UI);
//# sourceMappingURL=message-template-selector.bundle.map.js