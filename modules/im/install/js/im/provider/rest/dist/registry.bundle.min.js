this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.Provider=this.BX.Messenger.Provider||{};(function(e){"use strict";var s=function(){babelHelpers.createClass(e,null,[{key:"create",value:function e(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new this(s)}}]);function e(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);if(babelHelpers.typeof(s.controller)==="object"&&s.controller){this.controller=s.controller}if(babelHelpers.typeof(s.store)==="object"&&s.store){this.store=s.store}}babelHelpers.createClass(e,[{key:"execute",value:function e(s,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};s="handle"+s.split(".").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("");if(t.error()){if(typeof this[s+"Error"]==="function"){return this[s+"Error"](t.error(),r)}}else{if(typeof this[s+"Success"]==="function"){return this[s+"Success"](t.data(),r)}}return typeof this[s]==="function"?this[s](t,r):null}}]);return e}();var t=function(e){babelHelpers.inherits(s,e);function s(){babelHelpers.classCallCheck(this,s);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).apply(this,arguments))}babelHelpers.createClass(s,[{key:"handleImChatGetSuccess",value:function e(s){this.store.dispatch("dialogues/set",s)}},{key:"handleImDialogMessagesGetSuccess",value:function e(s){this.store.dispatch("messages/setBefore",s.messages);this.store.dispatch("users/set",s.users);this.store.dispatch("files/setBefore",this.controller.prepareFilesBeforeSave(s.files))}},{key:"handleImDialogMessagesUnreadSuccess",value:function e(s){this.store.dispatch("messages/set",s.messages);this.store.dispatch("users/set",s.users);this.store.dispatch("files/set",this.controller.prepareFilesBeforeSave(s.files))}},{key:"handleImDiskFolderGetSuccess",value:function e(s){this.store.commit("application/set",{dialog:{diskFolderId:s.ID}})}},{key:"handleImMessageAddSuccess",value:function e(s,t){if(typeof s==="number"){this.store.dispatch("messages/update",{id:t.id,chatId:this.controller.getChatId(),fields:{id:s,sending:false,error:false}});this.store.dispatch("messages/actionFinish",{id:s,chatId:this.controller.getChatId()})}else{this.store.dispatch("messages/actionError",{id:t.id,chatId:this.controller.getChatId()})}}},{key:"handleImMessageAddError",value:function e(s,t){this.store.dispatch("messages/actionError",{id:t.id,chatId:this.controller.getChatId()})}}]);return s}(s);e.ImRestAnswerHandler=t;e.BaseRestAnswerHandler=s})(this.BX.Messenger.Provider.Pull=this.BX.Messenger.Provider.Pull||{});
//# sourceMappingURL=registry.bundle.map.js