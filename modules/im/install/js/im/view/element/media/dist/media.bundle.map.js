{"version":3,"sources":["media.bundle.js"],"names":["exports","ui_progressbarjs_uploader","ui_vue_vuex","im_model","im_const","ui_vue_components_audioplayer","ui_vue_directives_lazyload","ui_icons","ui_vue_components_socialvideo","im_lib_utils","ui_vue","Vue","component","mounted","this","createProgressbar","beforeDestroy","removeProgressbar","props","userId","default","messageType","MessageType","self","file","type","Object","FilesModel","create","getElementState","methods","download","progress","BX","UI","Viewer","keys","viewerAttrs","length","FileType","image","urlShow","Utils","platform","isBitrixMobile","BXMobileApp","Photo","show","photos","files","collection","application","dialog","chatId","filter","map","url","replace","reverse","default_photo","window","open","video","app","openDocument","name","urlDownload","_this","uploader","blurElement","undefined","Uploader","container","$refs","direction","offsetHeight","vertical","horizontal","icon","cloud","cancel","sizes","circle","labels","loading","localize","completed","canceled","cancelTitle","megabyte","cancelCallback","event","$emit","destroyCallback","start","size","offsetWidth","setProgressTitleVisibility","updateProgressbar","result","status","FileStatus","error","setProgress","setCancelDisable","setIcon","setProgressTitle","wait","setByteSent","destroy","computed","babelHelpers","objectSpread","getFilteredPhrases","$root","$bitrixMessages","fileName","maxLength","endWordLength","secondPart","substring","extension","firstPart","trim","fileSize","position","Math","round","uploadProgress","Vuex","mapState","state","watch","template","cloneComponent","background","getImageSize","width","height","maxWidth","aspectRatio","styleFileSizes","backgroundSize","styleBoxSizes","parseInt","fileSource","urlPreview","isSafari","browser","styleVideoSizes","autoplay","options","autoplayVideo","ProgressBarJs","Messenger","Model","Const","Lib"],"mappings":"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","file":"media.bundle.map.js"}