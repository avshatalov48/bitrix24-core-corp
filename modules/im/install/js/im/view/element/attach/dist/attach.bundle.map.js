{"version":3,"sources":["attach.bundle.js"],"names":["exports","im_model","im_lib_utils","ui_vue","AttachTypeDelimiter","property","name","component","props","config","type","Object","default","color","String","computed","styles","width","this","DELIMITER","SIZE","backgroundColor","COLOR","template","AttachTypeFile","methods","openLink","element","Utils","platform","openNewPage","LINK","file","FILE","NAME","extension","split","splice","size","fileName","maxLength","length","endWordLength","secondPart","substring","firstPart","trim","fileNameFull","fileSize","sizes","position","Math","round","localize","fileIcon","FilesModel","getIconType","Vue","getFilteredPhrases","$root","$bitrixMessages","AttachTypeGrid","created","isBitrixMobile","maxCellWith","floor","min","screen","availWidth","availHeight","getWidth","WIDTH","VALUE","getValue","_this","text","htmlspecialchars","replace","whole","userId","userName","user","$store","getters","MessagesModel","decodeBbCode","GRID","DISPLAY","toLowerCase","AttachTypeHtml","AttachTypeImage","open","BXMobileApp","UI","Photo","show","photos","url","default_photo","window","getImageSize","height","maxWidth","aspectRatio","getElementSource","PREVIEW","getElementTitle","htmlspecialcharsback","lazyLoadCallback","event","style","offsetWidth","offsetHeight","styleFileSizes","image","HEIGHT","maxHeight","backgroundSize","styleBoxSizes","parseInt","AttachTypeLink","getImageConfig","IMAGE","getLinkName","imageComponentName","components","babelHelpers","defineProperty","AttachTypeMessage","message","MESSAGE","AttachTypeRich","AttachTypeUser","getAvatarType","AVATAR","avatarType","AVATAR_TYPE","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","minLen","_arrayLikeToArray","prototype","toString","call","slice","constructor","from","test","arr","len","arr2","AttachTypes","AttachComponents","forEach","attachType","baseColor","getComponentForBlock","block","_iterator","_step","BX","Messenger","Model","Lib"],"mappings":"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","file":"attach.bundle.map.js"}