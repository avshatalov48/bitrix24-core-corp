{"version":3,"sources":["message.bundle.js"],"names":["exports","im_view_message_body","im_model","ui_vue","im_const","im_lib_utils","im_lib_animation","main_core_events","BitrixVue","component","props","userId","default","dialogId","chatId","enableReactions","enableDateActions","enableCreateContent","enableGestureQuote","enableGestureQuoteFromRight","enableGestureMenu","showAvatar","showMenu","showName","showLargeFont","capturedMoveEvent","referenceContentClassName","referenceContentBodyClassName","referenceContentNameClassName","message","type","Object","MessagesModel","create","getElementState","data","componentBodyId","drag","dragWidth","dragPosition","dragIconShowLeft","dragIconShowRight","created","this","dragStartPositionX","dragStartPositionY","dragMovePositionX","dragMovePositionY","beforeDestroy","clearTimeout","dragStartTimeout1","dragStartTimeout2","dragBackAnimation","Animation","cancel","methods","clickByAvatar","event","EventEmitter","emit","EventType","dialog","clickOnUserName","clickByMessageMenu","clickOnMessageMenu","clickByMessageRetry","clickOnMessageRetry","gestureRouter","eventName","gestureQuote","gestureMenu","_this","gestureMenuStarted","gestureMenuPreventTouchEnd","target","tagName","gestureMenuStartPosition","x","changedTouches","clientX","y","clientY","gestureMenuTimeout","setTimeout","Math","abs","preventDefault","_this2","Utils","browser","findParent","platform","isAndroid","fromRight","layerX","getBoundingClientRect","left","layerY","top","dragCheck","dragStartInitialX","dragStartInitialY","$emit","result","$refs","body","offsetWidth","isBitrixMobile","app","exec","quoteMessage","start","end","increment","duration","element","elementProperty","callback","dragLayerPosition","undefined","watch","movementX","dragPositionMax","dragPositionIcon","_dragPositionMax","_dragPositionIcon","computed","MessageType","$store","getters","system","authorId","self","opponent","userData","userAvatar","params","AVATAR","concat","avatar","filesData","files","isEdited","IS_EDITED","isDeleted","IS_DELETED","isLargeFont","LARGE_FONT","template","window","BX","Messenger","Model","Const","Lib","Event"],"mappings":"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","file":"message.bundle.map.js"}