(function(t,e,i){"use strict";e.Vue.cloneComponent("bx-im-view-list-item-recent","bx-list-element",{props:["rawListItem","itemTypes"],methods:{formatDate:function t(e){var a=["pn","vt","sr","ch","py","sb","vs"];e=new Date(e);var s=new Date;var r=e.getDay()-(e.getDay()===0?-6:1);var n=s.getDay()-(s.getDay()===0?-6:1);var o=s.getDate()-n;var u=new Date(new Date((new Date).setDate(o)).setHours(0,0,0)).getTime();if(e.getFullYear()===s.getFullYear()&&e.getMonth()===s.getMonth()&&e.getDate()===s.getDate()){return i.Utils.date.format(e,"H:i")}else if(e.getTime()>u){return a[r]}else if(e.getFullYear()===s.getFullYear()){return i.Utils.date.format(e,"d.m")}else{return i.Utils.date.format(e,"d.m.Y")}}},computed:{listItem:function t(){return{id:this.rawListItem.id,template:this.rawListItem.template,type:this.rawListItem.chatType,sectionCode:this.rawListItem.sectionCode,title:{leftIcon:this.titleLeftIcon,value:this.titleValue},subtitle:{value:this.rawListItem.message.text},avatar:{url:this.avatarUrl,bottomRightIcon:this.avatarBottomRightIcon},message:this.rawListItem.message,date:{value:this.formatDate(this.rawListItem.message.date)},counter:{value:this.rawListItem.counter,leftIcon:this.rawListItem.pinned?"pinned":""},notification:false}},listItemStyle:function t(){if(this.rawListItem.sectionCode==="pinned"){return{backgroundColor:"#f7f7f7"}}return{}},imageStyle:function t(){var e="";if(!this.listItem.avatar.url){e=this.imageColor}return{backgroundColor:e}},imageClass:function t(){var e="bx-vue-list-item-image ";if(this.isGeneralChat){e+="bx-vue-list-item-image-general"}return e},imageColor:function t(){if(this.isUser&&this.userData){return this.userData.color}if(this.isChat&&this.dialogData){return this.dialogData.color}if(this.isNotificationChat){return this.rawListItem.color}},avatarUrl:function t(){if(this.isGeneralChat){return"/bitrix/js/im/images/blank.gif"}if(this.isUser&&this.userData){return this.userData.avatar}if(this.isChat&&this.dialogData){return this.dialogData.avatar}},avatarBottomRightIcon:function t(){if(this.isUser){if(this.userData.isMobileOnline){return"mobile-online"}else if(this.userData.isOnline&&(this.userData.status==="away"||this.userData.status==="dnd")){return this.userData.status}else if(this.userData.isOnline){return"online"}else{return"offline"}}},titleLeftIcon:function t(){if(this.isUser){if(this.userData.isAbsent){return"absent"}else if(this.userData.isBirthday){return"birthday"}else{return""}}if(this.isChat){return this.rawListItem.chatType}},titleValue:function t(){if(this.isUser&&this.userData){return this.userData.name}if(this.isChat&&this.dialogData){return this.dialogData.name}if(this.isNotificationChat){return this.rawListItem.title}},userData:function t(){return this.$root.$store.getters["users/get"](this.rawListItem.userId)},dialogData:function t(){return this.$root.$store.getters["dialogues/getByChatId"](this.rawListItem.chatId)},isChat:function t(){return["chat","open"].includes(this.rawListItem.chatType)},isUser:function t(){return this.rawListItem.chatType==="user"},isNotificationChat:function t(){return this.rawListItem.id==="notify"},isGeneralChat:function t(){return this.rawListItem.id==="chat1"}}})})(this.window=this.window||{},BX,BX.Messenger.Lib);
//# sourceMappingURL=recent.bundle.map.js