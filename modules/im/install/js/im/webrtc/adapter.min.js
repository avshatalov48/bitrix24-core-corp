(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.adapter=e()}})(function(){var e,t,n;return function r(e,t,n){function i(o,s){if(!t[o]){if(!e[o]){var c=typeof require=="function"&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(t){var n=e[o][1][t];return i(n?n:t)},f,f.exports,r,e,t,n)}return t[o].exports}var a=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){"use strict";var r={};r.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)};r.localCName=r.generateIdentifier();r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})};r.splitSections=function(e){var t=e.split("\nm=");return t.map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})};r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return e.indexOf(t)===0})};r.parseCandidate=function(e){var t;if(e.indexOf("a=candidate:")===0){t=e.substring(12).split(" ")}else{t=e.substring(10).split(" ")}var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]};for(var r=8;r<t.length;r+=2){switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;default:break}}return n};r.writeCandidate=function(e){var t=[];t.push(e.foundation);t.push(e.component);t.push(e.protocol.toUpperCase());t.push(e.priority);t.push(e.ip);t.push(e.port);var n=e.type;t.push("typ");t.push(n);if(n!=="host"&&e.relatedAddress&&e.relatedPort){t.push("raddr");t.push(e.relatedAddress);t.push("rport");t.push(e.relatedPort)}if(e.tcpType&&e.protocol.toLowerCase()==="tcp"){t.push("tcptype");t.push(e.tcpType)}return"candidate:"+t.join(" ")};r.parseRtpMap=function(e){var t=e.substr(9).split(" ");var n={payloadType:parseInt(t.shift(),10)};t=t[0].split("/");n.name=t[0];n.clockRate=parseInt(t[1],10);n.numChannels=t.length===3?parseInt(t[2],10):1;return n};r.writeRtpMap=function(e){var t=e.payloadType;if(e.preferredPayloadType!==undefined){t=e.preferredPayloadType}return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(e.numChannels!==1?"/"+e.numChannels:"")+"\r\n"};r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),uri:t[1]}};r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+" "+e.uri+"\r\n"};r.parseFmtp=function(e){var t={};var n;var r=e.substr(e.indexOf(" ")+1).split(";");for(var i=0;i<r.length;i++){n=r[i].trim().split("=");t[n[0].trim()]=n[1]}return t};r.writeFmtp=function(e){var t="";var n=e.payloadType;if(e.preferredPayloadType!==undefined){n=e.preferredPayloadType}if(e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){r.push(t+"="+e.parameters[t])});t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t};r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}};r.writeRtcpFb=function(e){var t="";var n=e.payloadType;if(e.preferredPayloadType!==undefined){n=e.preferredPayloadType}if(e.rtcpFeedback&&e.rtcpFeedback.length){e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})}return t};r.parseSsrcMedia=function(e){var t=e.indexOf(" ");var n={ssrc:parseInt(e.substr(7,t-7),10)};var r=e.indexOf(":",t);if(r>-1){n.attribute=e.substr(t+1,r-t-1);n.value=e.substr(r+1)}else{n.attribute=e.substr(t+1)}return n};r.getDtlsParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i=n.filter(function(e){return e.indexOf("a=fingerprint:")===0})[0].substr(14);var a={role:"auto",fingerprints:[{algorithm:i.split(" ")[0],value:i.split(" ")[1]}]};return a};r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"});return n};r.getIceParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i={usernameFragment:n.filter(function(e){return e.indexOf("a=ice-ufrag:")===0})[0].substr(12),password:n.filter(function(e){return e.indexOf("a=ice-pwd:")===0})[0].substr(10)};return i};r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\n"+"a=ice-pwd:"+e.password+"\r\n"};r.parseRtpParameters=function(e){var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]};var n=r.splitLines(e);var i=n[0].split(" ");for(var a=3;a<i.length;a++){var o=i[a];var s=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var c=r.parseRtpMap(s);var d=r.matchPrefix(e,"a=fmtp:"+o+" ");c.parameters=d.length?r.parseFmtp(d[0]):{};c.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb);t.codecs.push(c);switch(c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))});return t};r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ";n+=t.codecs.length>0?"9":"0";n+=" UDP/TLS/RTP/SAVPF ";n+=t.codecs.map(function(e){if(e.preferredPayloadType!==undefined){return e.preferredPayloadType}return e.payloadType}).join(" ")+"\r\n";n+="c=IN IP4 0.0.0.0\r\n";n+="a=rtcp:9 IN IP4 0.0.0.0\r\n";t.codecs.forEach(function(e){n+=r.writeRtpMap(e);n+=r.writeFmtp(e);n+=r.writeRtcpFb(e)});n+="a=rtcp-mux\r\n";return n};r.parseRtpEncodingParameters=function(e){var t=[];var n=r.parseRtpParameters(e);var i=n.fecMechanisms.indexOf("RED")!==-1;var a=n.fecMechanisms.indexOf("ULPFEC")!==-1;var o=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return e.attribute==="cname"});var s=o.length>0&&o[0].ssrc;var c;var d=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");t.shift();return t.map(function(e){return parseInt(e,10)})});if(d.length>0&&d[0].length>1&&d[0][0]===s){c=d[0][1]}n.codecs.forEach(function(e){if(e.name.toUpperCase()==="RTX"&&e.parameters.apt){var n={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{payloadType:e.payloadType,ssrc:c}};t.push(n);if(i){n=JSON.parse(JSON.stringify(n));n.fec={ssrc:c,mechanism:a?"red+ulpfec":"red"};t.push(n)}}});if(t.length===0&&s){t.push({ssrc:s})}var f=r.matchPrefix(e,"b=");if(f.length){if(f[0].indexOf("b=TIAS:")===0){f=parseInt(f[0].substr(7),10)}else if(f[0].indexOf("b=AS:")===0){f=parseInt(f[0].substr(5),10)}t.forEach(function(e){e.maxBitrate=f})}return t};r.writeSessionBoilerplate=function(){return"v=0\r\n"+"o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\n"+"s=-\r\n"+"t=0 0\r\n"};r.writeMediaSection=function(e,t,n,i){var a=r.writeRtpDescription(e.kind,t);a+=r.writeIceParameters(e.iceGatherer.getLocalParameters());a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),n==="offer"?"actpass":"active");a+="a=mid:"+e.mid+"\r\n";if(e.rtpSender&&e.rtpReceiver){a+="a=sendrecv\r\n"}else if(e.rtpSender){a+="a=sendonly\r\n"}else if(e.rtpReceiver){a+="a=recvonly\r\n"}else{a+="a=inactive\r\n"}if(e.rtpSender){var o="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";a+="a="+o;a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o}a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n";return a};r.getDirection=function(e,t){var n=r.splitLines(e);for(var i=0;i<n.length;i++){switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2);default:}}if(t){return r.getDirection(t)}return"sendrecv"};t.exports=r},{}],2:[function(e,t,n){"use strict";(function(){var n=e("./utils").log;var r=e("./utils").browserDetails;t.exports.browserDetails=r;t.exports.extractVersion=e("./utils").extractVersion;t.exports.disableLog=e("./utils").disableLog;var i=e("./chrome/chrome_shim")||null;var a=e("./edge/edge_shim")||null;var o=e("./firefox/firefox_shim")||null;var s=e("./safari/safari_shim")||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection){n("Chrome shim is not included in this adapter release.");return}n("adapter.js shimming chrome.");t.exports.browserShim=i;i.shimGetUserMedia();i.shimMediaStream();i.shimSourceObject();i.shimPeerConnection();i.shimOnTrack();break;case"firefox":if(!o||!o.shimPeerConnection){n("Firefox shim is not included in this adapter release.");return}n("adapter.js shimming firefox.");t.exports.browserShim=o;o.shimGetUserMedia();o.shimSourceObject();o.shimPeerConnection();o.shimOnTrack();break;case"edge":if(!a||!a.shimPeerConnection){n("MS edge shim is not included in this adapter release.");return}n("adapter.js shimming edge.");t.exports.browserShim=a;a.shimGetUserMedia();a.shimPeerConnection();break;case"safari":if(!s){n("Safari shim is not included in this adapter release.");return}n("adapter.js shimming safari.");t.exports.browserShim=s;s.shimGetUserMedia();break;default:n("Unsupported browser!")}})()},{"./chrome/chrome_shim":3,"./edge/edge_shim":5,"./firefox/firefox_shim":7,"./safari/safari_shim":9,"./utils":10}],3:[function(e,t,n){"use strict";var r=e("../utils.js").log;var i=e("../utils.js").browserDetails;var a={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){if(typeof window==="object"&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;if(this._ontrack){this.removeEventListener("track",this._ontrack);this.removeEventListener("addstream",this._ontrackpoly)}this.addEventListener("track",this._ontrack=e);this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(n){var r=new Event("track");r.track=n.track;r.receiver={track:n.track};r.streams=[e.stream];t.dispatchEvent(r)});e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t;n.receiver={track:t};n.streams=[e.stream];this.dispatchEvent(n)}.bind(this))}.bind(this))}})}},shimSourceObject:function(){if(typeof window==="object"){if(window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)){Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;this._srcObject=e;if(this.src){URL.revokeObjectURL(this.src)}if(!e){this.src="";return}this.src=URL.createObjectURL(e);e.addEventListener("addtrack",function(){if(t.src){URL.revokeObjectURL(t.src)}t.src=URL.createObjectURL(e)});e.addEventListener("removetrack",function(){if(t.src){URL.revokeObjectURL(t.src)}t.src=URL.createObjectURL(e)})}})}}},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){r("PeerConnection");if(e&&e.iceTransportPolicy){e.iceTransports=e.iceTransportPolicy}var n=new webkitRTCPeerConnection(e,t);var i=n.getStats.bind(n);n.getStats=function(e,t,n){var r=this;var a=arguments;if(arguments.length>0&&typeof e==="function"){return i(e,t)}var o=function(e){var t={};var n=e.result();n.forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){n[t]=e.stat(t)});t[n.id]=n});return t};var s=function(e,t){var n=new Map(Object.keys(e).map(function(t){return[t,e[t]]}));t=t||e;Object.keys(t).forEach(function(e){n[e]=t[e]});return n};if(arguments.length>=2){var c=function(e){a[1](s(o(e)))};return i.apply(this,[c,arguments[0]])}return new Promise(function(t,n){if(a.length===1&&typeof e==="object"){i.apply(r,[function(e){t(s(o(e)))},n])}else{i.apply(r,[function(e){t(s(o(e),e.result()))},n])}}).then(t,n)};return n};window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype;if(webkitRTCPeerConnection.generateCertificate){Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}})}["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||arguments.length===1&&typeof arguments[0]==="object"){var n=arguments.length===1?arguments[0]:undefined;return new Promise(function(r,i){t.apply(e,[r,i,n])})}return t.apply(this,arguments)}});if(i.version<51){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments;var n=this;var r=new Promise(function(r,i){t.apply(n,[e[0],r,i])});if(e.length<2){return r}return r.then(function(){e[1].apply(null,[])},function(t){if(e.length>=3){e[2].apply(null,[t])}})}})}["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){arguments[0]=new(e==="addIceCandidate"?RTCIceCandidate:RTCSessionDescription)(arguments[0]);return t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]===null?Promise.resolve():e.apply(this,arguments)}}};t.exports={shimMediaStream:a.shimMediaStream,shimOnTrack:a.shimOnTrack,shimSourceObject:a.shimSourceObject,shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils.js":10,"./getusermedia":4}],4:[function(e,t,n){"use strict";var r=e("../utils.js").log;t.exports=function(){var e=function(e){if(typeof e!=="object"||e.mandatory||e.optional){return e}var t={};Object.keys(e).forEach(function(n){if(n==="require"||n==="advanced"||n==="mediaSource"){return}var r=typeof e[n]==="object"?e[n]:{ideal:e[n]};if(r.exact!==undefined&&typeof r.exact==="number"){r.min=r.max=r.exact}var i=function(e,t){if(e){return e+t.charAt(0).toUpperCase()+t.slice(1)}return t==="deviceId"?"sourceId":t};if(r.ideal!==undefined){t.optional=t.optional||[];var a={};if(typeof r.ideal==="number"){a[i("min",n)]=r.ideal;t.optional.push(a);a={};a[i("max",n)]=r.ideal;t.optional.push(a)}else{a[i("",n)]=r.ideal;t.optional.push(a)}}if(r.exact!==undefined&&typeof r.exact!=="number"){t.mandatory=t.mandatory||{};t.mandatory[i("",n)]=r.exact}else{["min","max"].forEach(function(e){if(r[e]!==undefined){t.mandatory=t.mandatory||{};t.mandatory[i(e,n)]=r[e]}})}});if(e.advanced){t.optional=(t.optional||[]).concat(e.advanced)}return t};var t=function(t,n){t=JSON.parse(JSON.stringify(t));if(t&&t.audio){t.audio=e(t.audio)}if(t&&typeof t.video==="object"){var i=t.video.facingMode;i=i&&(typeof i==="object"?i:{ideal:i});if(i&&(i.exact==="user"||i.exact==="environment"||i.ideal==="user"||i.ideal==="environment")&&!(navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().facingMode)){delete t.video.facingMode;if(i.exact==="environment"||i.ideal==="environment"){return navigator.mediaDevices.enumerateDevices().then(function(a){a=a.filter(function(e){return e.kind==="videoinput"});var o=a.find(function(e){return e.label.toLowerCase().indexOf("back")!==-1})||a.length&&a[a.length-1];if(o){t.video.deviceId=i.exact?{exact:o.deviceId}:{ideal:o.deviceId}}t.video=e(t.video);r("chrome: "+JSON.stringify(t));return n(t)})}}t.video=e(t.video)}r("chrome: "+JSON.stringify(t));return n(t)};var n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};var i=function(e,r,i){t(e,function(e){navigator.webkitGetUserMedia(e,r,function(e){i(n(e))})})};navigator.getUserMedia=i;var a=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:a,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})}}}if(!navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia=function(e){return a(e)}}else{var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return o(e).catch(function(e){return Promise.reject(n(e))})})}}if(typeof navigator.mediaDevices.addEventListener==="undefined"){navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}}if(typeof navigator.mediaDevices.removeEventListener==="undefined"){navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")}}}},{"../utils.js":10}],5:[function(e,t,n){"use strict";var r=e("sdp");var i=e("../utils").browserDetails;var a={shimPeerConnection:function(){if(window.RTCIceGatherer){if(!window.RTCIceCandidate){window.RTCIceCandidate=function(e){return e}}if(!window.RTCSessionDescription){window.RTCSessionDescription=function(e){return e}}}window.RTCPeerConnection=function(e){var t=this;var n=document.createDocumentFragment();["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=n[e].bind(n)});this.onicecandidate=null;this.onaddstream=null;this.ontrack=null;this.onremovestream=null;this.onsignalingstatechange=null;this.oniceconnectionstatechange=null;this.onnegotiationneeded=null;this.ondatachannel=null;this.localStreams=[];this.remoteStreams=[];this.getLocalStreams=function(){return t.localStreams};this.getRemoteStreams=function(){return t.remoteStreams};this.localDescription=new RTCSessionDescription({type:"",sdp:""});this.remoteDescription=new RTCSessionDescription({type:"",sdp:""});this.signalingState="stable";this.iceConnectionState="new";this.iceGatheringState="new";this.iceOptions={gatherPolicy:"all",iceServers:[]};if(e&&e.iceTransportPolicy){switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported');default:break}}this.usingBundle=e&&e.bundlePolicy==="max-bundle";if(e&&e.iceServers){var r=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=r.filter(function(e){if(e&&e.urls){var t=e.urls;if(typeof t==="string"){t=[t]}t=t.filter(function(e){return e.indexOf("turn:")===0&&e.indexOf("transport=udp")!==-1&&e.indexOf("turn:[")===-1||e.indexOf("stun:")===0&&i.version>=14393})[0];return!!t}return false})}this.transceivers=[];this._localIceCandidatesBuffer=[]};window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this;var t=r.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){var r=!n.candidate||Object.keys(n.candidate).length===0;if(r){for(var i=1;i<t.length;i++){if(t[i].indexOf("\r\na=end-of-candidates\r\n")===-1){t[i]+="a=end-of-candidates\r\n"}}}else if(n.candidate.candidate.indexOf("typ endOfCandidates")===-1){t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n"}e.localDescription.sdp=t.join("");e.dispatchEvent(n);if(e.onicecandidate!==null){e.onicecandidate(n)}if(!n.candidate&&e.iceGatheringState!=="complete"){var a=e.transceivers.every(function(e){return e.iceGatherer&&e.iceGatherer.state==="completed"});if(a){e.iceGatheringState="complete"}}});this._localIceCandidatesBuffer=[]};window.RTCPeerConnection.prototype.addStream=function(e){this.localStreams.push(e.clone());this._maybeFireNegotiationNeeded()};window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);if(t>-1){this.localStreams.splice(t,1);this._maybeFireNegotiationNeeded()}};window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})};window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})};window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};e.codecs.forEach(function(e){for(var r=0;r<t.codecs.length;r++){var i=t.codecs[r];if(e.name.toLowerCase()===i.name.toLowerCase()&&e.clockRate===i.clockRate&&e.numChannels===i.numChannels){n.codecs.push(i);i.rtcpFeedback=i.rtcpFeedback.filter(function(t){for(var n=0;n<e.rtcpFeedback.length;n++){if(e.rtcpFeedback[n].type===t.type&&e.rtcpFeedback[n].parameter===t.parameter){return true}}return false});break}}});e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}});return n};window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this;var i=new RTCIceGatherer(n.iceOptions);var a=new RTCIceTransport(i);i.onlocalcandidate=function(o){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:t};var c=o.candidate;var d=!c||Object.keys(c).length===0;if(d){if(i.state===undefined){i.state="completed"}s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"}else{c.component=a.component==="RTCP"?2:1;s.candidate.candidate=r.writeCandidate(c)}var f=r.splitSections(n.localDescription.sdp);if(s.candidate.candidate.indexOf("typ endOfCandidates")===-1){f[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n"}else{f[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n"}n.localDescription.sdp=f.join("");var u=n.transceivers.every(function(e){return e.iceGatherer&&e.iceGatherer.state==="completed"});switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s);if(d&&u){n._localIceCandidatesBuffer.push(new Event("icecandidate"))}break;case"gathering":n._emitBufferedCandidates();n.dispatchEvent(s);if(n.onicecandidate!==null){n.onicecandidate(s)}if(u){n.dispatchEvent(new Event("icecandidate"));if(n.onicecandidate!==null){n.onicecandidate(new Event("icecandidate"))}n.iceGatheringState="complete"}break;case"complete":break;default:break}};a.onicestatechange=function(){n._updateConnectionState()};var o=new RTCDtlsTransport(a);o.ondtlsstatechange=function(){n._updateConnectionState()};o.onerror=function(){o.state="failed";n._updateConnectionState()};return{iceGatherer:i,iceTransport:a,dtlsTransport:o}};window.RTCPeerConnection.prototype._transceive=function(e,t,n){var i=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);if(t&&e.rtpSender){i.encodings=e.sendEncodingParameters;i.rtcp={cname:r.localCName};if(e.recvEncodingParameters.length){i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc}e.rtpSender.send(i)}if(n&&e.rtpReceiver){i.encodings=e.recvEncodingParameters;i.rtcp={cname:e.cname};if(e.sendEncodingParameters.length){i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc}e.rtpReceiver.receive(i)}};window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t=this;var n;var i;if(e.type==="offer"){if(this._pendingOffer){n=r.splitSections(e.sdp);i=n.shift();n.forEach(function(e,n){var i=r.parseRtpParameters(e);t._pendingOffer[n].localCapabilities=i});this.transceivers=this._pendingOffer;delete this._pendingOffer}}else if(e.type==="answer"){n=r.splitSections(t.remoteDescription.sdp);i=n.shift();var a=r.matchPrefix(i,"a=ice-lite").length>0;n.forEach(function(e,n){var o=t.transceivers[n];var s=o.iceGatherer;var c=o.iceTransport;var d=o.dtlsTransport;var f=o.localCapabilities;var u=o.remoteCapabilities;var p=e.split("\n",1)[0].split(" ",2)[1]==="0";if(!p&&!o.isDatachannel){var l=r.getIceParameters(e,i);if(a){var m=r.matchPrefix(e,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return e.component==="1"});if(m.length){c.setRemoteCandidates(m)}}var v=r.getDtlsParameters(e,i);if(a){v.role="server"}if(!t.usingBundle||n===0){c.start(s,l,a?"controlling":"controlled");d.start(v)}var h=t._getCommonCapabilities(f,u);t._transceive(o,h.codecs.length>0,false)}})}this.localDescription={type:e.type,sdp:e.sdp};switch(e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var o=arguments.length>1&&typeof arguments[1]==="function";if(o){var s=arguments[1];window.setTimeout(function(){s();if(t.iceGatheringState==="new"){t.iceGatheringState="gathering"}t._emitBufferedCandidates()},0)}var c=Promise.resolve();c.then(function(){if(!o){if(t.iceGatheringState==="new"){t.iceGatheringState="gathering"}window.setTimeout(t._emitBufferedCandidates.bind(t),500)}});return c};window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this;var n=new MediaStream;var i=[];var a=r.splitSections(e.sdp);var o=a.shift();var s=r.matchPrefix(o,"a=ice-lite").length>0;this.usingBundle=r.matchPrefix(o,"a=group:BUNDLE ").length>0;a.forEach(function(a,c){var d=r.splitLines(a);var f=d[0].substr(2).split(" ");var u=f[0];var p=f[1]==="0";var l=r.getDirection(a,o);var m=r.matchPrefix(a,"a=mid:");if(m.length){m=m[0].substr(6)}else{m=r.generateIdentifier()}if(u==="application"&&f[2]==="DTLS/SCTP"){t.transceivers[c]={mid:m,isDatachannel:true};return}var v;var h;var g;var w;var C;var y;var b;var T;var P;var S;var R=r.parseRtpParameters(a);var k;var E;if(!p){k=r.getIceParameters(a,o);E=r.getDtlsParameters(a,o);E.role="client"}T=r.parseRtpEncodingParameters(a);var x;var D=r.matchPrefix(a,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return e.attribute==="cname"})[0];if(D){x=D.value}var O=r.matchPrefix(a,"a=end-of-candidates",o).length>0;var M=r.matchPrefix(a,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return e.component==="1"});if(e.type==="offer"&&!p){var L=t.usingBundle&&c>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(m,c);if(O){L.iceTransport.setRemoteCandidates(M)}P=RTCRtpReceiver.getCapabilities(u);b=[{ssrc:(2*c+2)*1001}];y=new RTCRtpReceiver(L.dtlsTransport,u);S=y.track;i.push([S,y]);n.addTrack(S);if(t.localStreams.length>0&&t.localStreams[0].getTracks().length>=c){var j;if(u==="audio"){j=t.localStreams[0].getAudioTracks()[0]}else if(u==="video"){j=t.localStreams[0].getVideoTracks()[0]}if(j){C=new RTCRtpSender(j,L.dtlsTransport)}}t.transceivers[c]={iceGatherer:L.iceGatherer,iceTransport:L.iceTransport,dtlsTransport:L.dtlsTransport,localCapabilities:P,remoteCapabilities:R,rtpSender:C,rtpReceiver:y,kind:u,mid:m,cname:x,sendEncodingParameters:b,recvEncodingParameters:T};t._transceive(t.transceivers[c],false,l==="sendrecv"||l==="sendonly")}else if(e.type==="answer"&&!p){v=t.transceivers[c];h=v.iceGatherer;g=v.iceTransport;w=v.dtlsTransport;C=v.rtpSender;y=v.rtpReceiver;b=v.sendEncodingParameters;P=v.localCapabilities;t.transceivers[c].recvEncodingParameters=T;t.transceivers[c].remoteCapabilities=R;t.transceivers[c].cname=x;if((s||O)&&M.length){g.setRemoteCandidates(M)}if(!t.usingBundle||c===0){g.start(h,k,"controlling");w.start(E)}t._transceive(v,l==="sendrecv"||l==="recvonly",l==="sendrecv"||l==="sendonly");if(y&&(l==="sendrecv"||l==="sendonly")){S=y.track;i.push([S,y]);n.addTrack(S)}else{delete v.rtpReceiver}}});this.remoteDescription={type:e.type,sdp:e.sdp};switch(e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}if(n.getTracks().length){t.remoteStreams.push(n);window.setTimeout(function(){var e=new Event("addstream");e.stream=n;t.dispatchEvent(e);if(t.onaddstream!==null){window.setTimeout(function(){t.onaddstream(e)},0)}i.forEach(function(r){var i=r[0];var a=r[1];var o=new Event("track");o.track=i;o.receiver=a;o.streams=[n];t.dispatchEvent(e);if(t.ontrack!==null){window.setTimeout(function(){t.ontrack(o)},0)}})},0)}if(arguments.length>1&&typeof arguments[1]==="function"){window.setTimeout(arguments[1],0)}return Promise.resolve()};window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){if(e.iceTransport){e.iceTransport.stop()}if(e.dtlsTransport){e.dtlsTransport.stop()}if(e.rtpSender){e.rtpSender.stop()}if(e.rtpReceiver){e.rtpReceiver.stop()}});this._updateSignalingState("closed")};window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t);if(this.onsignalingstatechange!==null){this.onsignalingstatechange(t)}};window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e);if(this.onnegotiationneeded!==null){this.onnegotiationneeded(e)}};window.RTCPeerConnection.prototype._updateConnectionState=function(){var e=this;var t;var n={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this.transceivers.forEach(function(e){n[e.iceTransport.state]++;n[e.dtlsTransport.state]++});n.connected+=n.completed;t="new";if(n.failed>0){t="failed"}else if(n.connecting>0||n.checking>0){t="connecting"}else if(n.disconnected>0){t="disconnected"}else if(n.new>0){t="new"}else if(n.connected>0||n.completed>0){t="connected"}if(t!==e.iceConnectionState){e.iceConnectionState=t;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r);if(this.oniceconnectionstatechange!==null){this.oniceconnectionstatechange(r)}}};window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this._pendingOffer){throw new Error("createOffer called while there is a pending offer.")}var t;if(arguments.length===1&&typeof arguments[0]!=="function"){t=arguments[0]}else if(arguments.length===3){t=arguments[2]}var n=[];var i=0;var a=0;if(this.localStreams.length){i=this.localStreams[0].getAudioTracks().length;a=this.localStreams[0].getVideoTracks().length}if(t){if(t.mandatory||t.optional){throw new TypeError("Legacy mandatory/optional constraints not supported.")}if(t.offerToReceiveAudio!==undefined){i=t.offerToReceiveAudio}if(t.offerToReceiveVideo!==undefined){a=t.offerToReceiveVideo}}if(this.localStreams.length){this.localStreams[0].getTracks().forEach(function(e){n.push({kind:e.kind,track:e,wantReceive:e.kind==="audio"?i>0:a>0});if(e.kind==="audio"){i--}else if(e.kind==="video"){a--}})}while(i>0||a>0){if(i>0){n.push({kind:"audio",wantReceive:true});i--}if(a>0){n.push({kind:"video",wantReceive:true});a--}}var o=r.writeSessionBoilerplate();var s=[];n.forEach(function(t,n){var i=t.track;var a=t.kind;var o=r.generateIdentifier();var c=e.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:e._createIceAndDtlsTransports(o,n);var d=RTCRtpSender.getCapabilities(a);var f;var u;var p=[{ssrc:(2*n+1)*1001}];if(i){f=new RTCRtpSender(i,c.dtlsTransport)}if(t.wantReceive){u=new RTCRtpReceiver(c.dtlsTransport,a)}s[n]={iceGatherer:c.iceGatherer,iceTransport:c.iceTransport,dtlsTransport:c.dtlsTransport,localCapabilities:d,remoteCapabilities:null,rtpSender:f,rtpReceiver:u,kind:a,mid:o,sendEncodingParameters:p,recvEncodingParameters:null}});if(this.usingBundle){o+="a=group:BUNDLE "+s.map(function(e){return e.mid}).join(" ")+"\r\n"}n.forEach(function(t,n){var i=s[n];o+=r.writeMediaSection(i,i.localCapabilities,"offer",e.localStreams[0])});this._pendingOffer=s;var c=new RTCSessionDescription({type:"offer",sdp:o});if(arguments.length&&typeof arguments[0]==="function"){window.setTimeout(arguments[0],0,c)}return Promise.resolve(c)};window.RTCPeerConnection.prototype.createAnswer=function(){var e=this;var t=r.writeSessionBoilerplate();if(this.usingBundle){t+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"}this.transceivers.forEach(function(n){if(n.isDatachannel){t+="m=application 0 DTLS/SCTP 5000\r\n"+"c=IN IP4 0.0.0.0\r\n"+"a=mid:"+n.mid+"\r\n";

return}var i=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=r.writeMediaSection(n,i,"answer",e.localStreams[0])});var n=new RTCSessionDescription({type:"answer",sdp:t});if(arguments.length&&typeof arguments[0]==="function"){window.setTimeout(arguments[0],0,n)}return Promise.resolve(n)};window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e===null){this.transceivers.forEach(function(e){e.iceTransport.addRemoteCandidate({})})}else{var t=e.sdpMLineIndex;if(e.sdpMid){for(var n=0;n<this.transceivers.length;n++){if(this.transceivers[n].mid===e.sdpMid){t=n;break}}}var i=this.transceivers[t];if(i){var a=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if(a.protocol==="tcp"&&(a.port===0||a.port===9)){return}if(a.component!=="1"){return}if(a.type==="endOfCandidates"){a={}}i.iceTransport.addRemoteCandidate(a);var o=r.splitSections(this.remoteDescription.sdp);o[t+1]+=(a.type?e.candidate.trim():"a=end-of-candidates")+"\r\n";this.remoteDescription.sdp=o.join("")}}if(arguments.length>1&&typeof arguments[1]==="function"){window.setTimeout(arguments[1],0)}return Promise.resolve()};window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){if(t[n]){e.push(t[n].getStats())}})});var t=arguments.length>1&&typeof arguments[1]==="function"&&arguments[1];return new Promise(function(n){var r=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){r.set(t,e[t]);r[t]=e[t]})});if(t){window.setTimeout(t,0,r)}n(r)})})}}};t.exports={shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":10,"./getusermedia":6,sdp:1}],6:[function(e,t,n){"use strict";t.exports=function(){var e=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}};var t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return t(n).catch(function(t){return Promise.reject(e(t))})}}},{}],7:[function(e,t,n){"use strict";var r=e("../utils").browserDetails;var i={shimOnTrack:function(){if(typeof window==="object"&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){if(this._ontrack){this.removeEventListener("track",this._ontrack);this.removeEventListener("addstream",this._ontrackpoly)}this.addEventListener("track",this._ontrack=e);this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t;n.receiver={track:t};n.streams=[e.stream];this.dispatchEvent(n)}.bind(this))}.bind(this))}})}},shimSourceObject:function(){if(typeof window==="object"){if(window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)){Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})}}},shimPeerConnection:function(){if(typeof window!=="object"||!(window.RTCPeerConnection||window.mozRTCPeerConnection)){return}if(!window.RTCPeerConnection){window.RTCPeerConnection=function(e,t){if(r.version<38){if(e&&e.iceServers){var n=[];for(var i=0;i<e.iceServers.length;i++){var a=e.iceServers[i];if(a.hasOwnProperty("urls")){for(var o=0;o<a.urls.length;o++){var s={url:a.urls[o]};if(a.urls[o].indexOf("turn")===0){s.username=a.username;s.credential=a.credential}n.push(s)}}else{n.push(e.iceServers[i])}}e.iceServers=n}}return new mozRTCPeerConnection(e,t)};window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype;if(mozRTCPeerConnection.generateCertificate){Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}})}window.RTCSessionDescription=mozRTCSessionDescription;window.RTCIceCandidate=mozRTCIceCandidate}["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){arguments[0]=new(e==="addIceCandidate"?RTCIceCandidate:RTCSessionDescription)(arguments[0]);return t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]===null?Promise.resolve():e.apply(this,arguments)};var t=function(e){var t=new Map;Object.keys(e).forEach(function(n){t.set(n,e[n]);t[n]=e[n]});return t};var n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,r,i){return n.apply(this,[e||null]).then(function(e){return t(e)}).then(r,i)}}};t.exports={shimOnTrack:i.shimOnTrack,shimSourceObject:i.shimSourceObject,shimPeerConnection:i.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":10,"./getusermedia":8}],8:[function(e,t,n){"use strict";var r=e("../utils").log;var i=e("../utils").browserDetails;t.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the "+"user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}};var t=function(t,n,a){var o=function(e){if(typeof e!=="object"||e.require){return e}var t=[];Object.keys(e).forEach(function(n){if(n==="require"||n==="advanced"||n==="mediaSource"){return}var r=e[n]=typeof e[n]==="object"?e[n]:{ideal:e[n]};if(r.min!==undefined||r.max!==undefined||r.exact!==undefined){t.push(n)}if(r.exact!==undefined){if(typeof r.exact==="number"){r.min=r.max=r.exact}else{e[n]=r.exact}delete r.exact}if(r.ideal!==undefined){e.advanced=e.advanced||[];var i={};if(typeof r.ideal==="number"){i[n]={min:r.ideal,max:r.ideal}}else{i[n]=r.ideal}e.advanced.push(i);delete r.ideal;if(!Object.keys(r).length){delete e[n]}}});if(t.length){e.require=t}return e};t=JSON.parse(JSON.stringify(t));if(i.version<38){r("spec: "+JSON.stringify(t));if(t.audio){t.audio=o(t.audio)}if(t.video){t.video=o(t.video)}r("ff37: "+JSON.stringify(t))}return navigator.mozGetUserMedia(t,n,function(t){a(e(t))})};var n=function(e){return new Promise(function(n,r){t(e,n,r)})};if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}}navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){var t=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];e(t)})};if(i.version<41){var a=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return a().then(undefined,function(e){if(e.name==="NotFoundError"){return[]}throw e})}}if(i.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).catch(function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,n,r){if(i.version<44){return t(e,n,r)}console.warn("navigator.getUserMedia has been replaced by "+"navigator.mediaDevices.getUserMedia");navigator.mediaDevices.getUserMedia(e).then(n,r)}}},{"../utils":10}],9:[function(e,t,n){"use strict";var r={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};t.exports={shimGetUserMedia:r.shimGetUserMedia}},{}],10:[function(e,t,n){"use strict";var r=true;var i={disableLog:function(e){if(typeof e!=="boolean"){return new Error("Argument type: "+typeof e+". Please use a boolean.")}r=e;return e?"adapter.js logging disabled":"adapter.js logging enabled"},log:function(){if(typeof window==="object"){if(r){return}if(typeof console!=="undefined"&&typeof console.log==="function"){console.log.apply(console,arguments)}}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var e={};e.browser=null;e.version=null;if(typeof window==="undefined"||!window.navigator){e.browser="Not a browser.";return e}if(navigator.mozGetUserMedia){e.browser="firefox";e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1)}else if(navigator.webkitGetUserMedia){if(window.webkitRTCPeerConnection){e.browser="chrome";e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2)}else{if(navigator.userAgent.match(/Version\/(\d+).(\d+)/)){e.browser="safari";e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1)}else{e.browser="Unsupported webkit-based browser "+"with GUM support but no WebRTC support.";return e}}}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){e.browser="edge";e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2)}else{e.browser="Not a supported browser.";return e}return e}};t.exports={log:i.log,disableLog:i.disableLog,browserDetails:i.detectBrowser(),extractVersion:i.extractVersion}},{}]},{},[2])(2)});
//# sourceMappingURL=adapter.map.js