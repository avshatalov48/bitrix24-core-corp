{"version":3,"file":"uploader.bundle.map.js","names":["this","BX","Messenger","exports","main_core_events","main_core_minimal","FileSender","task","options","arguments","length","undefined","babelHelpers","classCallCheck","defineProperty","diskFolderId","listener","status","taskId","fileData","fileName","name","generateUniqueName","chunkSizeInBytes","chunkSize","previewBlob","requestToDelete","id","file","previewData","host","actionUploadChunk","actionCommitFile","actionRollbackUpload","customHeaders","createClass","key","value","uploadContent","_this","Uploader","STATUSES","CANCELLED","PROGRESS","readNext","url","concat","token","contentRangeHeader","readOffset","size","calculateProgress","headers","type","bitrix_sessid","customHeader","hasOwnProperty","fetch","method","credentials","body","nextDataChunkToSend","then","response","json","result","errors","FAILED","console","error","message","data","isEndOfFile","createFileFromUploadedChunks","err","deleteContent","log","_this2","formData","FormData","append","uploadResult","DONE","progress","Math","round","fileSize","slice","_EventEmitter","inherits","possibleConstructorReturn","getPrototypeOf","call","assertThisInitialized","isCloud","phpUploadMaxFilesize","phpPostMaxSize","setEventNamespace","generatePreview","inputNode","dropNode","fileMaxSize","fileMaxWidth","fileMaxHeight","sender","senderOptions","assignInput","assignDrop","setInputNode","node","HTMLInputElement","Array","isArray","addFilesFromEvent","event","from","target","files","forEach","emitSelectedFile","getPreview","_this3","Promise","resolve","reject","File","startsWith","getVideoPreviewBlob","blob","getImageDimensions","reason","Blob","addTask","_this4","isModernBrowser","warn","checkTaskParams","calculateChunkSize","onUploadEvent","PENDING","fileSender","queue","push","checkUploadQueue","deleteTask","filter","queueItem","getTask","find","inProgressTasks","queueTask","emit","maxFileSizeLimit","taskChunkSize","Type","isUndefined","chunk","CLOUD_MIN_CHUNK_SIZE","CLOUD_MAX_CHUNK_SIZE","maxBoxChunkSize","min","BOX_MIN_CHUNK_SIZE","_this5","setOnChangeEventListener","_this6","addEventListener","_this7","HTMLElement","setDropEventListener","_this8","preventDefault","stopPropagation","dataTransfer","_this9","width","height","isMaxWidthExceeded","isMaxHeightExceeded","eventData","maxWidth","maxHeight","fileWidth","fileHeight","fileBlob","resolved","rejected","img","Image","onload","onerror","src","URL","createObjectURL","seekTime","videoPlayer","document","createElement","setAttribute","load","duration","currentTime","canvas","videoWidth","videoHeight","context","getContext","drawImage","toBlob","EventEmitter","Lib","Event"],"sources":["uploader.bundle.js"],"mappings":"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"}