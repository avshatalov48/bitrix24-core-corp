{"version":3,"file":"requestcollector.bundle.js","sources":["../src/requestcollector.js"],"sourcesContent":["/**\n * Bitrix Messenger\n * Rest Request Collector\n *\n * @package bitrix\n * @subpackage im\n * @copyright 2001-2019 Bitrix\n */\n\nclass RequestCollector\n{\n\tconstructor()\n\t{\n\t\tthis.list = {};\n\t}\n\n\tregister(name, xhr)\n\t{\n\t\tthis.list[name] = xhr;\n\t\treturn true;\n\t}\n\n\tunregister(name, abort = false)\n\t{\n\t\tif (this.list[name])\n\t\t{\n\t\t\tif (abort)\n\t\t\t{\n\t\t\t\tthis.list[name].abort();\n\t\t\t}\n\t\t\tdelete this.list[name];\n\t\t}\n\t}\n\n\tget(name)\n\t{\n\t\treturn this.list[name]? this.list[name]: null;\n\t}\n\n\tabort(name)\n\t{\n\t\tif (this.list[name])\n\t\t{\n\t\t\tthis.list[name].abort();\n\t\t}\n\t\treturn true;\n\t}\n\n\tcleaner()\n\t{\n\t\tfor (let name in this.list)\n\t\t{\n\t\t\tif (this.list.hasOwnProperty(name))\n\t\t\t{\n\t\t\t\tthis.unregister(name, true);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport {RequestCollector};"],"names":["RequestCollector","list","name","xhr","abort","hasOwnProperty","unregister"],"mappings":";;;;;;CAAA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;AAPA,KASMA,gBAAgB;GAErB,4BACA;KAAA;KACC,IAAI,CAACC,IAAI,GAAG,EAAE;;GACd;KAAA;KAAA,yBAEQC,IAAI,EAAEC,GAAG,EAClB;OACC,IAAI,CAACF,IAAI,CAACC,IAAI,CAAC,GAAGC,GAAG;OACrB,OAAO,IAAI;;;KACX;KAAA,2BAEUD,IAAI,EACf;OAAA,IADiBE,KAAK,uEAAG,KAAK;OAE7B,IAAI,IAAI,CAACH,IAAI,CAACC,IAAI,CAAC,EACnB;SACC,IAAIE,KAAK,EACT;WACC,IAAI,CAACH,IAAI,CAACC,IAAI,CAAC,CAACE,KAAK,EAAE;;SAExB,OAAO,IAAI,CAACH,IAAI,CAACC,IAAI,CAAC;;;;KAEvB;KAAA,oBAEGA,IAAI,EACR;OACC,OAAO,IAAI,CAACD,IAAI,CAACC,IAAI,CAAC,GAAE,IAAI,CAACD,IAAI,CAACC,IAAI,CAAC,GAAE,IAAI;;;KAC7C;KAAA,sBAEKA,IAAI,EACV;OACC,IAAI,IAAI,CAACD,IAAI,CAACC,IAAI,CAAC,EACnB;SACC,IAAI,CAACD,IAAI,CAACC,IAAI,CAAC,CAACE,KAAK,EAAE;;OAExB,OAAO,IAAI;;;KACX;KAAA,0BAGD;OACC,KAAK,IAAIF,IAAI,IAAI,IAAI,CAACD,IAAI,EAC1B;SACC,IAAI,IAAI,CAACA,IAAI,CAACI,cAAc,CAACH,IAAI,CAAC,EAClC;WACC,IAAI,CAACI,UAAU,CAACJ,IAAI,EAAE,IAAI,CAAC;;;;;GAG7B;CAAA;;;;;;;;"}