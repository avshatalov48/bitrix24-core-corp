{"version":3,"file":"clipboard.bundle.js","sources":["../src/clipboard.js"],"sourcesContent":["/**\n * Bitrix Messenger\n * Clipboard manager\n *\n * @package bitrix\n * @subpackage im\n * @copyright 2001-2020 Bitrix\n */\n\nexport class Clipboard\n{\n\tstatic copy(text = '')\n\t{\n\t\tconst store = Clipboard.getStore();\n\n\t\tif (text)\n\t\t{\n\t\t\tstore.focus();\n\t\t\tstore.value = text;\n\t\t\tstore.selectionStart = 0;\n\t\t\tdocument.execCommand(\"copy\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.execCommand(\"copy\");\n\n\t\t\tstore.focus();\n\n\t\t\tdocument.execCommand(\"paste\");\n\t\t\ttext = store.value;\n\t\t}\n\n\t\tClipboard.removeStore();\n\n\t\treturn text;\n\t}\n\n\tstatic getStore()\n\t{\n\t\tif (Clipboard.store)\n\t\t{\n\t\t\treturn Clipboard.store;\n\t\t}\n\n\t\tClipboard.store = document.createElement('textarea');\n\t\tClipboard.store.style = \"position: absolute; opacity: 0; top: -1000px; left: -1000px;\";\n\t\tdocument.body.insertBefore(Clipboard.store, document.body.firstChild);\n\n\t\treturn Clipboard.store;\n\t}\n\n\tstatic removeStore()\n\t{\n\t\tif (!Clipboard.store)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tdocument.body.removeChild(Clipboard.store);\n\n\t\tClipboard.store = null;\n\n\t\treturn true;\n\t}\n}\n\nClipboard.store = null;"],"names":["Clipboard","text","store","getStore","focus","value","selectionStart","document","execCommand","removeStore","createElement","style","body","insertBefore","firstChild","removeChild"],"mappings":";;;;;CAAA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;AAEA,KAAaA,SAAb;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA,2BAGC;CAAA,UADYC,IACZ,uEADmB,EACnB;CACC,UAAMC,KAAK,GAAGF,SAAS,CAACG,QAAV,EAAd;;CAEA,UAAIF,IAAJ,EACA;CACCC,QAAAA,KAAK,CAACE,KAAN;CACAF,QAAAA,KAAK,CAACG,KAAN,GAAcJ,IAAd;CACAC,QAAAA,KAAK,CAACI,cAAN,GAAuB,CAAvB;CACAC,QAAAA,QAAQ,CAACC,WAAT,CAAqB,MAArB;CACA,OAND,MAQA;CACCD,QAAAA,QAAQ,CAACC,WAAT,CAAqB,MAArB;CAEAN,QAAAA,KAAK,CAACE,KAAN;CAEAG,QAAAA,QAAQ,CAACC,WAAT,CAAqB,OAArB;CACAP,QAAAA,IAAI,GAAGC,KAAK,CAACG,KAAb;CACA;;CAEDL,MAAAA,SAAS,CAACS,WAAV;CAEA,aAAOR,IAAP;CACA;CA1BF;CAAA;CAAA,+BA6BC;CACC,UAAID,SAAS,CAACE,KAAd,EACA;CACC,eAAOF,SAAS,CAACE,KAAjB;CACA;;CAEDF,MAAAA,SAAS,CAACE,KAAV,GAAkBK,QAAQ,CAACG,aAAT,CAAuB,UAAvB,CAAlB;CACAV,MAAAA,SAAS,CAACE,KAAV,CAAgBS,KAAhB,GAAwB,8DAAxB;CACAJ,MAAAA,QAAQ,CAACK,IAAT,CAAcC,YAAd,CAA2Bb,SAAS,CAACE,KAArC,EAA4CK,QAAQ,CAACK,IAAT,CAAcE,UAA1D;CAEA,aAAOd,SAAS,CAACE,KAAjB;CACA;CAxCF;CAAA;CAAA,kCA2CC;CACC,UAAI,CAACF,SAAS,CAACE,KAAf,EACA;CACC,eAAO,IAAP;CACA;;CAEDK,MAAAA,QAAQ,CAACK,IAAT,CAAcG,WAAd,CAA0Bf,SAAS,CAACE,KAApC;CAEAF,MAAAA,SAAS,CAACE,KAAV,GAAkB,IAAlB;CAEA,aAAO,IAAP;CACA;CAtDF;CAAA;CAAA;CAyDAF,SAAS,CAACE,KAAV,GAAkB,IAAlB;;;;;;;;"}