{"version":3,"file":"mixed-selector.bundle.js","sources":["../src/bp-mixed-selector/bp-mixed-selector.js","../src/index.js"],"sourcesContent":["import { Type, Tag, Loc, Dom, Event, Text} from 'main.core';\nimport { EventEmitter } from 'main.core.events'\nimport { Menu, MenuManager } from 'main.popup';\nimport type { BpMixedSelectorOptions } from 'bizproc.mixed-selector';\n\nexport class BpMixedSelector extends EventEmitter\n{\n\ttargetNode: HTMLElement = null;\n\ttargetTitle: string;\n\ttabs: Object<string, Object> = null;\n\ttemplate: Array = [];\n\tactivityName: string = '';\n\tmaxWidth: number = 300;\n\tmaxHeight: number = 500;\n\tminWidth: number = 100;\n\tminHeight: number = 60;\n\tobjectName: string = 'mixed_selector[object]';\n\tfieldName: string = 'mixed_selector[field]';\n\tcheckActivityChildren: boolean = true;\n\n\tmap: Object<string, Object> = null;\n\tmenuItems: Array = null;\n\tmenuTargetNode: HTMLElement = null;\n\tmenuId: string = null;\n\n\tobjectInputNode: HTMLInputElement = null;\n\tfieldInputNode: HTMLInputElement = null;\n\n\tconstructor(selectorOptions: BpMixedSelectorOptions)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Bizproc.MixedSelector.BpMixedSelector');\n\n\t\tconst options: BpMixedSelectorOptions = Type.isPlainObject(selectorOptions) ? selectorOptions : {};\n\n\t\tthis.setTargetNode(options.targetNode);\n\t\tthis.setObjectTabs(options.objectTabs);\n\t\tthis.setTemplate(options.template);\n\t\tthis.setActivityName(options.activityName);\n\t\tthis.setSize(options.size);\n\t\tthis.setInputNames(options.inputNames);\n\t\tthis.setTargetTitle(options.targetTitle);\n\t\tthis.setCheckActivityChildren(options.checkActivityChildren);\n\t}\n\n\tstatic getAvailableTabsName(): Array\n\t{\n\t\treturn ['Parameter', 'Variable', 'Constant', 'GlobalConst', 'GlobalVar', 'Document', 'Activity'];\n\t}\n\n\tstatic getAvailableTabsLocMessages(): Object\n\t{\n\t\treturn {\n\t\t\tParameter: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_PARAMETER'),\n\t\t\tVariable: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_VARIABLE'),\n\t\t\tConstant: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_CONSTANT'),\n\t\t\tGlobalConst: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_GLOBAL_CONSTANT'),\n\t\t\tGlobalVar: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_GLOBAL_VARIABLE'),\n\t\t\tDocument: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_DOCUMENT_FIELDS'),\n\t\t\tActivity: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_ADDITIONAL_RESULT'),\n\t\t};\n\t}\n\n\t/* region basic SET/GET */\n\n\tsetTargetNode(node: HTMLElement)\n\t{\n\t\tif (Type.isDomNode(node))\n\t\t{\n\t\t\tthis.targetNode = node;\n\t\t}\n\t}\n\n\tgetTargetNode(): HTMLElement | null\n\t{\n\t\treturn this.targetNode;\n\t}\n\n\tsetObjectTabs(tabs)\n\t{\n\t\tif (Type.isPlainObject(tabs))\n\t\t{\n\t\t\tthis.tabs = tabs;\n\t\t}\n\t}\n\n\tgetObjectTabs(): Object | null\n\t{\n\t\treturn this.tabs;\n\t}\n\n\tsetTemplate(template)\n\t{\n\t\tif (Type.isArrayFilled(template))\n\t\t{\n\t\t\tthis.template = template;\n\t\t}\n\t}\n\n\tgetTemplate(): Array\n\t{\n\t\treturn this.template;\n\t}\n\n\tsetActivityName(name)\n\t{\n\t\tif (Type.isStringFilled(name))\n\t\t{\n\t\t\tthis.activityName = name;\n\t\t}\n\t}\n\n\tgetActivityName(): string\n\t{\n\t\treturn this.activityName;\n\t}\n\n\tsetSize(size)\n\t{\n\t\tif (!Type.isPlainObject(size))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (Type.isNumber(size.maxWidth))\n\t\t{\n\t\t\tthis.maxWidth = size.maxWidth\n\t\t}\n\t\tif (Type.isNumber(size.minWidth))\n\t\t{\n\t\t\tthis.minWidth = size.minWidth\n\t\t}\n\t\tif (Type.isNumber(size.maxHeight))\n\t\t{\n\t\t\tthis.maxHeight = size.maxHeight\n\t\t}\n\t\tif (Type.isNumber(size.minHeight))\n\t\t{\n\t\t\tthis.minHeight = size.minHeight\n\t\t}\n\t}\n\n\tgetSize(): Object\n\t{\n\t\treturn {\n\t\t\tmaxWidth: this.maxWidth,\n\t\t\tminWidth: this.minWidth,\n\t\t\tmaxHeight: this.maxHeight,\n\t\t\tminHeight: this.minHeight,\n\t\t};\n\t}\n\n\tsetInputNames(names)\n\t{\n\t\tif (!Type.isPlainObject(names))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (Type.isStringFilled(names.object))\n\t\t{\n\t\t\tthis.objectName = names.object;\n\t\t}\n\n\t\tif (Type.isStringFilled(names.field))\n\t\t{\n\t\t\tthis.fieldName = names.field;\n\t\t}\n\t}\n\n\tgetInputNames(): Object\n\t{\n\t\treturn {\n\t\t\tobject: this.objectName,\n\t\t\tfield: this.fieldName\n\t\t};\n\t}\n\n\tsetTargetTitle(title)\n\t{\n\t\tif (Type.isStringFilled(title))\n\t\t{\n\t\t\tthis.targetTitle = title;\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.targetTitle = Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_CHOOSE_TARGET');\n\t}\n\n\tgetTargetTitle(): string\n\t{\n\t\treturn this.targetTitle;\n\t}\n\n\tsetCheckActivityChildren(check)\n\t{\n\t\tif (Type.isBoolean(check))\n\t\t{\n\t\t\tthis.checkActivityChildren = check;\n\t\t}\n\t}\n\n\tgetCheckActivityChildren(): boolean\n\t{\n\t\treturn this.checkActivityChildren;\n\t}\n\n\t/* endregion */\n\n\tgetMenu(): Menu | null\n\t{\n\t\tconst me = this;\n\t\tif (this.menuId)\n\t\t{\n\t\t\t//todo: modify popup position.\n\t\t\treturn MenuManager.getMenuById(this.menuId);\n\t\t}\n\t\tthis.menuId = BX.util.getRandomString();\n\n\t\tconst size = this.getSize();\n\n\t\treturn MenuManager.create(\n\t\t\tme.menuId,\n\t\t\tme.getMenuTargetNode(),\n\t\t\tme.getMenuItems(),\n\t\t\t{\n\t\t\t\tzIndex: 200,\n\t\t\t\tautoHide: true,\n\t\t\t\toffsetLeft: (Dom.getPosition(me.getMenuTargetNode())['width'] / 2),\n\t\t\t\tangle: { position: 'top', offset: 0 },\n\t\t\t\tmaxWidth: size.maxWidth,\n\t\t\t\tmaxHeight: size.maxHeight,\n\t\t\t\tminWidth: size.minWidth,\n\t\t\t\tminHeight: size.minHeight\n\t\t\t}\n\t\t);\n\t}\n\n\tgetMenuTargetNode(): HTMLElement | null\n\t{\n\t\treturn this.menuTargetNode;\n\t}\n\n\tgetMenuItems(): Array\n\t{\n\t\tif (this.menuItems)\n\t\t{\n\t\t\treturn this.menuItems;\n\t\t}\n\t\tthis.menuItems = [];\n\n\t\tthis.#fillMenuItems();\n\n\t\treturn this.menuItems;\n\t}\n\n\tgetMenuItemsByTabName(tabName: string): Array\n\t{\n\t\tconst tabsItems = this.getMenuItems();\n\n\t\tfor (const i in tabsItems)\n\t\t{\n\t\t\tif (tabsItems[i].tabName === tabName)\n\t\t\t{\n\t\t\t\treturn tabsItems[i].items;\n\t\t\t}\n\t\t}\n\n\t\treturn [];\n\t}\n\n\t#fillMenuItems()\n\t{\n\t\tconst me = this;\n\t\tconst map = this.#getTabsMap();\n\t\tconst locMapNames = BpMixedSelector.getAvailableTabsLocMessages();\n\t\tconst mapKeys = BX.util.object_keys(map);\n\t\tfor (const i in mapKeys)\n\t\t{\n\t\t\tif (mapKeys[i] !== 'Activity')\n\t\t\t{\n\t\t\t\tthis.menuItems.push({\n\t\t\t\t\ttext: locMapNames[mapKeys[i]],\n\t\t\t\t\titems: this.#extractMenuItem(map[mapKeys[i]], mapKeys[i]),\n\t\t\t\t\ttabName: mapKeys[i]\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst activitiesItems = this.#getTemplateActivitiesItems(this.template, map[mapKeys[i]]);\n\t\t\t\tconst groupByItemActivitiesItems = [];\n\t\t\t\tactivitiesItems.forEach((activityItem) => {\n\t\t\t\t\tif (!Type.isArrayFilled(activityItem))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst items = [];\n\t\t\t\t\tactivityItem.forEach((item) => {\n\t\t\t\t\t\tif (!Type.isStringFilled(item.description))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\ttext: Text.encode(item.text + ' (' + item.description + ')'),\n\t\t\t\t\t\t\tobject: item.object,\n\t\t\t\t\t\t\tfield: item.field,\n\t\t\t\t\t\t\tproperty: item,\n\t\t\t\t\t\t\tonclick: me.#onChooseFieldClick.bind(me),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t});\n\n\t\t\t\t\tif (Type.isArrayFilled(items))\n\t\t\t\t\t{\n\t\t\t\t\t\tgroupByItemActivitiesItems.push({\n\t\t\t\t\t\t\ttext: activityItem[0].description,\n\t\t\t\t\t\t\tobject: activityItem[0].object,\n\t\t\t\t\t\t\titems: items,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (Type.isArrayFilled(groupByItemActivitiesItems))\n\t\t\t\t{\n\t\t\t\t\tthis.menuItems.push({\n\t\t\t\t\t\ttext: locMapNames[mapKeys[i]],\n\t\t\t\t\t\titems: groupByItemActivitiesItems,\n\t\t\t\t\t\ttabName: 'Activity'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t#getTabsMap(): Object\n\t{\n\t\tif (this.map)\n\t\t{\n\t\t\treturn this.map;\n\t\t}\n\t\tthis.map = {};\n\n\t\tconst availableTabs = BpMixedSelector.getAvailableTabsName();\n\n\t\tconst keys = Object.keys(this.tabs);\n\t\tfor (const i in keys)\n\t\t{\n\t\t\tif (availableTabs.includes(keys[i]) && Object.keys(this.tabs[keys[i]]).length > 0)\n\t\t\t{\n\t\t\t\tthis.map[keys[i]] = this.tabs[keys[i]];\n\t\t\t}\n\t\t}\n\n\t\tif (this.template.length < 0)\n\t\t{\n\t\t\tif (this.map['Activity'])\n\t\t\t{\n\t\t\t\tdelete this.map['Activity'];\n\t\t\t}\n\t\t}\n\n\t\treturn this.map;\n\t}\n\n\t#extractMenuItem(items, object): Array\n\t{\n\t\tconst result = [];\n\t\tconst itemsKeys = Object.keys(items);\n\t\tfor (const i in itemsKeys)\n\t\t{\n\t\t\tresult.push({\n\t\t\t\ttext: BX.util.htmlspecialchars(items[itemsKeys[i]].Name),\n\t\t\t\tobject,\n\t\t\t\tfield: itemsKeys[i],\n\t\t\t\tproperty: items[itemsKeys[i]],\n\t\t\t\tonclick: this.#onChooseFieldClick.bind(this),\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t#getTemplateActivitiesItems(template, activities): Array\n\t{\n\t\tlet result = [];\n\n\t\tfor (let i = 0, s = template.length; i < s; ++i)\n\t\t{\n\t\t\tif (template[i].Name === this.activityName && !this.checkActivityChildren)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst activityType = template[i].Type.toLowerCase();\n\t\t\tconst activityData = activities[activityType] ?? {};\n\n\t\t\tconst returnActivityData = activityData['RETURN'];\n\t\t\tconst additionalResult = activityData['ADDITIONAL_RESULT'];\n\n\t\t\tif (returnActivityData)\n\t\t\t{\n\t\t\t\tconst keys = Object.keys(returnActivityData);\n\t\t\t\tconst activityResult = [];\n\n\t\t\t\tfor (const j in keys)\n\t\t\t\t{\n\t\t\t\t\tactivityResult.push({\n\t\t\t\t\t\ttext: returnActivityData[keys[j]].NAME,\n\t\t\t\t\t\tdescription: template[i].Properties.Title || activityData.NAME,\n\t\t\t\t\t\tvalue: '{=' + template[i].Name + ':' + keys[j] + '}',\n\t\t\t\t\t\tobject: template[i].Name,\n\t\t\t\t\t\tfield: keys[j],\n\t\t\t\t\t\tproperty: {\n\t\t\t\t\t\t\tName: returnActivityData[keys[j]].NAME,\n\t\t\t\t\t\t\tType: returnActivityData[keys[j]].TYPE,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (activityResult.length > 0)\n\t\t\t\t{\n\t\t\t\t\tresult.push(activityResult);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (Type.isArray(additionalResult))\n\t\t\t{\n\t\t\t\tconst properties = template[i]['Properties'];\n\t\t\t\tadditionalResult.forEach(function (addProp)\n\t\t\t\t{\n\t\t\t\t\tif (properties[addProp])\n\t\t\t\t\t{\n\t\t\t\t\t\tconst keys = Object.keys(properties[addProp]);\n\t\t\t\t\t\tconst activityResult = [];\n\n\t\t\t\t\t\tfor (const j in keys)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst field = properties[addProp][keys[j]];\n\t\t\t\t\t\t\tactivityResult.push({\n\t\t\t\t\t\t\t\ttext: field.Name,\n\t\t\t\t\t\t\t\tdescription: properties['Title'] || activityData['NAME'],\n\t\t\t\t\t\t\t\tvalue: '{=' + template[i]['Name'] + ':' + keys[j] + '}',\n\t\t\t\t\t\t\t\tobject: template[i]['Name'],\n\t\t\t\t\t\t\t\tfield: keys[j],\n\t\t\t\t\t\t\t\tproperty: field\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (activityResult.length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.push(activityResult);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\tif (template[i]['Children'] && template[i]['Children'].length > 0)\n\t\t\t{\n\t\t\t\tconst subResult = this.#getTemplateActivitiesItems(template[i]['Children'], activities);\n\t\t\t\tresult = result.concat(subResult);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t#onChooseFieldClick(event, item)\n\t{\n\t\tconst menu = this.getMenu();\n\t\tmenu.close();\n\n\t\t// todo: item.text htmlspecialchars applied twice\n\t\tthis.setSelectedObjectAndField(item.object, item.field, item.text);\n\t\tEventEmitter.emit(this, 'onSelect', {item: item});\n\t}\n\n\trenderMixedSelector()\n\t{\n\t\tconst link = Tag.render`<a href=\"#\">${BX.util.htmlspecialchars(this.getTargetTitle())}</a>`;\n\t\tthis.menuTargetNode = link;\n\t\tEvent.bind(link, 'click', this.#onChooseTargetClick.bind(this));\n\n\t\tconst objectInput = Tag.render`\n\t\t\t<input \n\t\t\t\ttype=\"hidden\" \n\t\t\t\tname=\"${this.objectName}\" \n\t\t\t\tdata-role=\"mixed-selector-object\"\n\t\t\t\tvalue=\"\"\n\t\t\t>\n\t\t`;\n\t\tthis.objectInputNode = objectInput;\n\n\t\tconst fieldInput = Tag.render`\n\t\t\t<input \n\t\t\t\ttype=\"hidden\" \n\t\t\t\tname=\"${this.fieldName}\" \n\t\t\t\tdata-role=\"mixed-selector-field\"\n\t\t\t\tvalue=\"\"\n\t\t\t>\n\t\t`;\n\t\tthis.fieldInputNode = fieldInput;\n\n\t\tDom.append(link, this.targetNode);\n\t\tDom.append(objectInput, this.targetNode);\n\t\tDom.append(fieldInput, this.targetNode);\n\t}\n\n\t#onChooseTargetClick(event)\n\t{\n\t\tconst menu = this.getMenu();\n\t\tmenu.show();\n\n\t\tevent.preventDefault();\n\t}\n\n\tgetSelectedObjectValue(): string | null\n\t{\n\t\tif (this.objectInputNode)\n\t\t{\n\t\t\treturn this.objectInputNode.value;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetSelectedFieldValue(): string | null\n\t{\n\t\tif (this.fieldInputNode)\n\t\t{\n\t\t\treturn this.fieldInputNode.value;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tsetSelectedObjectAndField(object: string, field: string, fieldTitle: string)\n\t{\n\t\tconst target = this.getMenuTargetNode();\n\t\tconst tabsLocMessage = BpMixedSelector.getAvailableTabsLocMessages();\n\n\t\tif (BpMixedSelector.getAvailableTabsName().includes(object))\n\t\t{\n\t\t\ttarget.innerText = tabsLocMessage[object] + ': ' + fieldTitle;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttarget.innerText = tabsLocMessage['Activity'] + ': ' + fieldTitle;\n\t\t}\n\n\t\tif (Type.isStringFilled(object) && Type.isStringFilled(field))\n\t\t{\n\t\t\tthis.objectInputNode.value = object;\n\t\t\tthis.fieldInputNode.value = field;\n\t\t}\n\t}\n}","import { BpMixedSelector } from \"./bp-mixed-selector/bp-mixed-selector\";\n\nimport type { BpMixedSelectorOptions } from './bp-mixed-selector/bp-mixed-selector-options';\n\nconst MixedSelector = {\n\tBpMixedSelector\n};\n\nexport {\n\tMixedSelector,\n\tBpMixedSelector\n}\n\nexport type {\n\tBpMixedSelectorOptions,\n}\n\n"],"names":["BpMixedSelector","selectorOptions","setEventNamespace","options","Type","isPlainObject","setTargetNode","targetNode","setObjectTabs","objectTabs","setTemplate","template","setActivityName","activityName","setSize","size","setInputNames","inputNames","setTargetTitle","targetTitle","setCheckActivityChildren","checkActivityChildren","node","isDomNode","tabs","isArrayFilled","name","isStringFilled","isNumber","maxWidth","minWidth","maxHeight","minHeight","names","object","objectName","field","fieldName","title","Loc","getMessage","check","isBoolean","me","menuId","MenuManager","getMenuById","BX","util","getRandomString","getSize","create","getMenuTargetNode","getMenuItems","zIndex","autoHide","offsetLeft","Dom","getPosition","angle","position","offset","menuTargetNode","menuItems","tabName","tabsItems","i","items","link","Tag","render","htmlspecialchars","getTargetTitle","Event","bind","objectInput","objectInputNode","fieldInput","fieldInputNode","append","value","fieldTitle","target","tabsLocMessage","getAvailableTabsLocMessages","getAvailableTabsName","includes","innerText","Parameter","Variable","Constant","GlobalConst","GlobalVar","Document","Activity","EventEmitter","map","locMapNames","mapKeys","object_keys","push","text","activitiesItems","groupByItemActivitiesItems","forEach","activityItem","item","description","Text","encode","property","onclick","availableTabs","keys","Object","length","result","itemsKeys","Name","activities","activityType","toLowerCase","activityData","returnActivityData","additionalResult","activityResult","j","NAME","Properties","Title","TYPE","isArray","properties","addProp","subResult","concat","s","event","menu","getMenu","close","setSelectedObjectAndField","emit","show","preventDefault","MixedSelector"],"mappings":"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"}