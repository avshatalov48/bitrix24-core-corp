{"version":3,"file":"mixed-selector.bundle.js","sources":["../src/bp-mixed-selector/bp-mixed-selector.js","../src/index.js"],"sourcesContent":["import { Type, Tag, Loc, Dom, Event, Text} from 'main.core';\nimport { EventEmitter } from 'main.core.events'\nimport { Menu, MenuManager } from 'main.popup';\nimport type { BpMixedSelectorOptions } from 'bizproc.mixed-selector';\n\nexport class BpMixedSelector extends EventEmitter\n{\n\ttargetNode: HTMLElement = null;\n\ttargetTitle: string;\n\ttabs: Object<string, Object> = null;\n\ttemplate: Array = [];\n\tactivityName: string = '';\n\tmaxWidth: number = 300;\n\tmaxHeight: number = 500;\n\tminWidth: number = 100;\n\tminHeight: number = 60;\n\tobjectName: string = 'mixed_selector[object]';\n\tfieldName: string = 'mixed_selector[field]';\n\tcheckActivityChildren: boolean = true;\n\n\tmap: Object<string, Object> = null;\n\tmenuItems: Array = null;\n\tmenuTargetNode: HTMLElement = null;\n\tmenuId: string = null;\n\n\tobjectInputNode: HTMLInputElement = null;\n\tfieldInputNode: HTMLInputElement = null;\n\n\tconstructor(selectorOptions: BpMixedSelectorOptions)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Bizproc.MixedSelector.BpMixedSelector');\n\n\t\tconst options: BpMixedSelectorOptions = Type.isPlainObject(selectorOptions) ? selectorOptions : {};\n\n\t\tthis.setTargetNode(options.targetNode);\n\t\tthis.setObjectTabs(options.objectTabs);\n\t\tthis.setTemplate(options.template);\n\t\tthis.setActivityName(options.activityName);\n\t\tthis.setSize(options.size);\n\t\tthis.setInputNames(options.inputNames);\n\t\tthis.setTargetTitle(options.targetTitle);\n\t\tthis.setCheckActivityChildren(options.checkActivityChildren);\n\t}\n\n\tstatic getAvailableTabsName(): Array\n\t{\n\t\treturn ['Parameter', 'Variable', 'Constant', 'GlobalConst', 'GlobalVar', 'Document', 'Activity'];\n\t}\n\n\tstatic getAvailableTabsLocMessages(): Object\n\t{\n\t\treturn {\n\t\t\tParameter: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_PARAMETER'),\n\t\t\tVariable: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_VARIABLE'),\n\t\t\tConstant: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_CONSTANT'),\n\t\t\tGlobalConst: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_GLOBAL_CONSTANT'),\n\t\t\tGlobalVar: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_GLOBAL_VARIABLE'),\n\t\t\tDocument: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_DOCUMENT_FIELDS'),\n\t\t\tActivity: Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_ADDITIONAL_RESULT'),\n\t\t};\n\t}\n\n\t/* region basic SET/GET */\n\n\tsetTargetNode(node: HTMLElement)\n\t{\n\t\tif (Type.isDomNode(node))\n\t\t{\n\t\t\tthis.targetNode = node;\n\t\t}\n\t}\n\n\tgetTargetNode(): HTMLElement | null\n\t{\n\t\treturn this.targetNode;\n\t}\n\n\tsetObjectTabs(tabs)\n\t{\n\t\tif (Type.isPlainObject(tabs))\n\t\t{\n\t\t\tthis.tabs = tabs;\n\t\t}\n\t}\n\n\tgetObjectTabs(): Object | null\n\t{\n\t\treturn this.tabs;\n\t}\n\n\tsetTemplate(template)\n\t{\n\t\tif (Type.isArrayFilled(template))\n\t\t{\n\t\t\tthis.template = template;\n\t\t}\n\t}\n\n\tgetTemplate(): Array\n\t{\n\t\treturn this.template;\n\t}\n\n\tsetActivityName(name)\n\t{\n\t\tif (Type.isStringFilled(name))\n\t\t{\n\t\t\tthis.activityName = name;\n\t\t}\n\t}\n\n\tgetActivityName(): string\n\t{\n\t\treturn this.activityName;\n\t}\n\n\tsetSize(size)\n\t{\n\t\tif (!Type.isPlainObject(size))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (Type.isNumber(size.maxWidth))\n\t\t{\n\t\t\tthis.maxWidth = size.maxWidth\n\t\t}\n\t\tif (Type.isNumber(size.minWidth))\n\t\t{\n\t\t\tthis.minWidth = size.minWidth\n\t\t}\n\t\tif (Type.isNumber(size.maxHeight))\n\t\t{\n\t\t\tthis.maxHeight = size.maxHeight\n\t\t}\n\t\tif (Type.isNumber(size.minHeight))\n\t\t{\n\t\t\tthis.minHeight = size.minHeight\n\t\t}\n\t}\n\n\tgetSize(): Object\n\t{\n\t\treturn {\n\t\t\tmaxWidth: this.maxWidth,\n\t\t\tminWidth: this.minWidth,\n\t\t\tmaxHeight: this.maxHeight,\n\t\t\tminHeight: this.minHeight,\n\t\t};\n\t}\n\n\tsetInputNames(names)\n\t{\n\t\tif (!Type.isPlainObject(names))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (Type.isStringFilled(names.object))\n\t\t{\n\t\t\tthis.objectName = names.object;\n\t\t}\n\n\t\tif (Type.isStringFilled(names.field))\n\t\t{\n\t\t\tthis.fieldName = names.field;\n\t\t}\n\t}\n\n\tgetInputNames(): Object\n\t{\n\t\treturn {\n\t\t\tobject: this.objectName,\n\t\t\tfield: this.fieldName\n\t\t};\n\t}\n\n\tsetTargetTitle(title)\n\t{\n\t\tif (Type.isStringFilled(title))\n\t\t{\n\t\t\tthis.targetTitle = title;\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.targetTitle = Loc.getMessage('BIZPROC_MIXED_SELECTOR_EXT_CHOOSE_TARGET');\n\t}\n\n\tgetTargetTitle(): string\n\t{\n\t\treturn this.targetTitle;\n\t}\n\n\tsetCheckActivityChildren(check)\n\t{\n\t\tif (Type.isBoolean(check))\n\t\t{\n\t\t\tthis.checkActivityChildren = check;\n\t\t}\n\t}\n\n\tgetCheckActivityChildren(): boolean\n\t{\n\t\treturn this.checkActivityChildren;\n\t}\n\n\t/* endregion */\n\n\tgetMenu(): Menu | null\n\t{\n\t\tconst me = this;\n\t\tif (this.menuId)\n\t\t{\n\t\t\t//todo: modify popup position.\n\t\t\treturn MenuManager.getMenuById(this.menuId);\n\t\t}\n\t\tthis.menuId = BX.util.getRandomString();\n\n\t\tconst size = this.getSize();\n\n\t\treturn MenuManager.create(\n\t\t\tme.menuId,\n\t\t\tme.getMenuTargetNode(),\n\t\t\tme.getMenuItems(),\n\t\t\t{\n\t\t\t\tzIndex: 200,\n\t\t\t\tautoHide: true,\n\t\t\t\toffsetLeft: (Dom.getPosition(me.getMenuTargetNode())['width'] / 2),\n\t\t\t\tangle: { position: 'top', offset: 0 },\n\t\t\t\tmaxWidth: size.maxWidth,\n\t\t\t\tmaxHeight: size.maxHeight,\n\t\t\t\tminWidth: size.minWidth,\n\t\t\t\tminHeight: size.minHeight\n\t\t\t}\n\t\t);\n\t}\n\n\tgetMenuTargetNode(): HTMLElement | null\n\t{\n\t\treturn this.menuTargetNode;\n\t}\n\n\tgetMenuItems(): Array\n\t{\n\t\tif (this.menuItems)\n\t\t{\n\t\t\treturn this.menuItems;\n\t\t}\n\t\tthis.menuItems = [];\n\n\t\tthis.#fillMenuItems();\n\n\t\treturn this.menuItems;\n\t}\n\n\tgetMenuItemsByTabName(tabName: string): Array\n\t{\n\t\tconst tabsItems = this.getMenuItems();\n\n\t\tfor (const i in tabsItems)\n\t\t{\n\t\t\tif (tabsItems[i].tabName === tabName)\n\t\t\t{\n\t\t\t\treturn tabsItems[i].items;\n\t\t\t}\n\t\t}\n\n\t\treturn [];\n\t}\n\n\t#fillMenuItems()\n\t{\n\t\tconst me = this;\n\t\tconst map = this.#getTabsMap();\n\t\tconst locMapNames = BpMixedSelector.getAvailableTabsLocMessages();\n\t\tconst mapKeys = BX.util.object_keys(map);\n\t\tfor (const i in mapKeys)\n\t\t{\n\t\t\tif (mapKeys[i] !== 'Activity')\n\t\t\t{\n\t\t\t\tthis.menuItems.push({\n\t\t\t\t\ttext: locMapNames[mapKeys[i]],\n\t\t\t\t\titems: this.#extractMenuItem(map[mapKeys[i]], mapKeys[i]),\n\t\t\t\t\ttabName: mapKeys[i]\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst activitiesItems = this.#getTemplateActivitiesItems(this.template, map[mapKeys[i]]);\n\t\t\t\tconst groupByItemActivitiesItems = [];\n\t\t\t\tactivitiesItems.forEach((activityItem) => {\n\t\t\t\t\tif (!Type.isArrayFilled(activityItem))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst items = [];\n\t\t\t\t\tactivityItem.forEach((item) => {\n\t\t\t\t\t\tif (!Type.isStringFilled(item.description))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\ttext: Text.encode(item.text + ' (' + item.description + ')'),\n\t\t\t\t\t\t\tobject: item.object,\n\t\t\t\t\t\t\tfield: item.field,\n\t\t\t\t\t\t\tproperty: item,\n\t\t\t\t\t\t\tonclick: me.#onChooseFieldClick.bind(me),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t});\n\n\t\t\t\t\tif (Type.isArrayFilled(items))\n\t\t\t\t\t{\n\t\t\t\t\t\tgroupByItemActivitiesItems.push({\n\t\t\t\t\t\t\ttext: activityItem[0].description,\n\t\t\t\t\t\t\tobject: activityItem[0].object,\n\t\t\t\t\t\t\titems: items,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (Type.isArrayFilled(groupByItemActivitiesItems))\n\t\t\t\t{\n\t\t\t\t\tthis.menuItems.push({\n\t\t\t\t\t\ttext: locMapNames[mapKeys[i]],\n\t\t\t\t\t\titems: groupByItemActivitiesItems,\n\t\t\t\t\t\ttabName: 'Activity'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t#getTabsMap(): Object\n\t{\n\t\tif (this.map)\n\t\t{\n\t\t\treturn this.map;\n\t\t}\n\t\tthis.map = {};\n\n\t\tconst availableTabs = BpMixedSelector.getAvailableTabsName();\n\n\t\tconst keys = Object.keys(this.tabs);\n\t\tfor (const i in keys)\n\t\t{\n\t\t\tif (availableTabs.includes(keys[i]) && Object.keys(this.tabs[keys[i]]).length > 0)\n\t\t\t{\n\t\t\t\tthis.map[keys[i]] = this.tabs[keys[i]];\n\t\t\t}\n\t\t}\n\n\t\tif (this.template.length < 0)\n\t\t{\n\t\t\tif (this.map['Activity'])\n\t\t\t{\n\t\t\t\tdelete this.map['Activity'];\n\t\t\t}\n\t\t}\n\n\t\treturn this.map;\n\t}\n\n\t#extractMenuItem(items, object): Array\n\t{\n\t\tconst result = [];\n\t\tconst itemsKeys = Object.keys(items);\n\t\tfor (const i in itemsKeys)\n\t\t{\n\t\t\tresult.push({\n\t\t\t\ttext: BX.util.htmlspecialchars(items[itemsKeys[i]].Name),\n\t\t\t\tobject,\n\t\t\t\tfield: itemsKeys[i],\n\t\t\t\tproperty: items[itemsKeys[i]],\n\t\t\t\tonclick: this.#onChooseFieldClick.bind(this),\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t#getTemplateActivitiesItems(template, activities): Array\n\t{\n\t\tlet result = [];\n\n\t\tfor (let i = 0, s = template.length; i < s; ++i)\n\t\t{\n\t\t\tif (template[i].Name === this.activityName && !this.checkActivityChildren)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst activityType = template[i].Type.toLowerCase();\n\t\t\tconst activityData = activities[activityType] ?? {};\n\n\t\t\tconst returnActivityData = activityData['RETURN'];\n\t\t\tconst additionalResult = activityData['ADDITIONAL_RESULT'];\n\n\t\t\tif (returnActivityData)\n\t\t\t{\n\t\t\t\tconst keys = Object.keys(returnActivityData);\n\t\t\t\tconst activityResult = [];\n\n\t\t\t\tfor (const j in keys)\n\t\t\t\t{\n\t\t\t\t\tactivityResult.push({\n\t\t\t\t\t\ttext: returnActivityData[keys[j]].NAME,\n\t\t\t\t\t\tdescription: template[i].Properties.Title || activityData.NAME,\n\t\t\t\t\t\tvalue: '{=' + template[i].Name + ':' + keys[j] + '}',\n\t\t\t\t\t\tobject: template[i].Name,\n\t\t\t\t\t\tfield: keys[j],\n\t\t\t\t\t\tproperty: {\n\t\t\t\t\t\t\tName: returnActivityData[keys[j]].NAME,\n\t\t\t\t\t\t\tType: returnActivityData[keys[j]].TYPE,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (activityResult.length > 0)\n\t\t\t\t{\n\t\t\t\t\tresult.push(activityResult);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (Type.isArray(additionalResult))\n\t\t\t{\n\t\t\t\tconst properties = template[i]['Properties'];\n\t\t\t\tadditionalResult.forEach(function (addProp)\n\t\t\t\t{\n\t\t\t\t\tif (properties[addProp])\n\t\t\t\t\t{\n\t\t\t\t\t\tconst keys = Object.keys(properties[addProp]);\n\t\t\t\t\t\tconst activityResult = [];\n\n\t\t\t\t\t\tfor (const j in keys)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst field = properties[addProp][keys[j]];\n\t\t\t\t\t\t\tactivityResult.push({\n\t\t\t\t\t\t\t\ttext: field.Name,\n\t\t\t\t\t\t\t\tdescription: properties['Title'] || activityData['NAME'],\n\t\t\t\t\t\t\t\tvalue: '{=' + template[i]['Name'] + ':' + keys[j] + '}',\n\t\t\t\t\t\t\t\tobject: template[i]['Name'],\n\t\t\t\t\t\t\t\tfield: keys[j],\n\t\t\t\t\t\t\t\tproperty: field\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (activityResult.length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.push(activityResult);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\tif (template[i]['Children'] && template[i]['Children'].length > 0)\n\t\t\t{\n\t\t\t\tconst subResult = this.#getTemplateActivitiesItems(template[i]['Children'], activities);\n\t\t\t\tresult = result.concat(subResult);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t#onChooseFieldClick(event, item)\n\t{\n\t\tconst menu = this.getMenu();\n\t\tmenu.close();\n\n\t\t// todo: item.text htmlspecialchars applied twice\n\t\tthis.setSelectedObjectAndField(item.object, item.field, item.text);\n\t\tEventEmitter.emit(this, 'onSelect', {item: item});\n\t}\n\n\trenderMixedSelector()\n\t{\n\t\tconst link = Tag.render`<a href=\"#\">${BX.util.htmlspecialchars(this.getTargetTitle())}</a>`;\n\t\tthis.menuTargetNode = link;\n\t\tEvent.bind(link, 'click', this.#onChooseTargetClick.bind(this));\n\n\t\tconst objectInput = Tag.render`\n\t\t\t<input \n\t\t\t\ttype=\"hidden\" \n\t\t\t\tname=\"${this.objectName}\" \n\t\t\t\tdata-role=\"mixed-selector-object\"\n\t\t\t\tvalue=\"\"\n\t\t\t>\n\t\t`;\n\t\tthis.objectInputNode = objectInput;\n\n\t\tconst fieldInput = Tag.render`\n\t\t\t<input \n\t\t\t\ttype=\"hidden\" \n\t\t\t\tname=\"${this.fieldName}\" \n\t\t\t\tdata-role=\"mixed-selector-field\"\n\t\t\t\tvalue=\"\"\n\t\t\t>\n\t\t`;\n\t\tthis.fieldInputNode = fieldInput;\n\n\t\tDom.append(link, this.targetNode);\n\t\tDom.append(objectInput, this.targetNode);\n\t\tDom.append(fieldInput, this.targetNode);\n\t}\n\n\t#onChooseTargetClick(event)\n\t{\n\t\tconst menu = this.getMenu();\n\t\tmenu.show();\n\n\t\tevent.preventDefault();\n\t}\n\n\tgetSelectedObjectValue(): string | null\n\t{\n\t\tif (this.objectInputNode)\n\t\t{\n\t\t\treturn this.objectInputNode.value;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetSelectedFieldValue(): string | null\n\t{\n\t\tif (this.fieldInputNode)\n\t\t{\n\t\t\treturn this.fieldInputNode.value;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tsetSelectedObjectAndField(object: string, field: string, fieldTitle: string)\n\t{\n\t\tconst target = this.getMenuTargetNode();\n\t\tconst tabsLocMessage = BpMixedSelector.getAvailableTabsLocMessages();\n\n\t\tif (BpMixedSelector.getAvailableTabsName().includes(object))\n\t\t{\n\t\t\ttarget.innerText = tabsLocMessage[object] + ': ' + fieldTitle;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttarget.innerText = tabsLocMessage['Activity'] + ': ' + fieldTitle;\n\t\t}\n\n\t\tif (Type.isStringFilled(object) && Type.isStringFilled(field))\n\t\t{\n\t\t\tthis.objectInputNode.value = object;\n\t\t\tthis.fieldInputNode.value = field;\n\t\t}\n\t}\n}","import { BpMixedSelector } from \"./bp-mixed-selector/bp-mixed-selector\";\n\nimport type { BpMixedSelectorOptions } from './bp-mixed-selector/bp-mixed-selector-options';\n\nconst MixedSelector = {\n\tBpMixedSelector\n};\n\nexport {\n\tMixedSelector,\n\tBpMixedSelector\n}\n\nexport type {\n\tBpMixedSelectorOptions,\n}\n\n"],"names":["BpMixedSelector","selectorOptions","setEventNamespace","options","Type","isPlainObject","setTargetNode","targetNode","setObjectTabs","objectTabs","setTemplate","template","setActivityName","activityName","setSize","size","setInputNames","inputNames","setTargetTitle","targetTitle","setCheckActivityChildren","checkActivityChildren","node","isDomNode","tabs","isArrayFilled","name","isStringFilled","isNumber","maxWidth","minWidth","maxHeight","minHeight","names","object","objectName","field","fieldName","title","Loc","getMessage","check","isBoolean","me","menuId","MenuManager","getMenuById","BX","util","getRandomString","getSize","create","getMenuTargetNode","getMenuItems","zIndex","autoHide","offsetLeft","Dom","getPosition","angle","position","offset","menuTargetNode","menuItems","tabName","tabsItems","i","items","link","Tag","render","htmlspecialchars","getTargetTitle","Event","bind","objectInput","objectInputNode","fieldInput","fieldInputNode","append","value","fieldTitle","target","tabsLocMessage","getAvailableTabsLocMessages","getAvailableTabsName","includes","innerText","Parameter","Variable","Constant","GlobalConst","GlobalVar","Document","Activity","EventEmitter","map","locMapNames","mapKeys","object_keys","push","text","activitiesItems","groupByItemActivitiesItems","forEach","activityItem","item","description","Text","encode","property","onclick","availableTabs","keys","Object","length","result","itemsKeys","Name","activities","s","activityType","toLowerCase","activityData","returnActivityData","additionalResult","activityResult","j","NAME","Properties","Title","TYPE","isArray","properties","addProp","subResult","concat","event","menu","getMenu","close","setSelectedObjectAndField","emit","show","preventDefault","MixedSelector"],"mappings":"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"}