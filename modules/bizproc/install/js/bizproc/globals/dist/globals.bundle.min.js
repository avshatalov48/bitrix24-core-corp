this.BX=this.BX||{};(function(e,t){"use strict";function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,l)}return i}function l(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?i(Object(l),!0).forEach((function(t){babelHelpers.defineProperty(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):i(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var r=null;var n=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"mode",{variable:"variable",constant:"constant"});babelHelpers.defineProperty(this,"listUrl","/bitrix/components/bitrix/bizproc.globalfield.list/");babelHelpers.defineProperty(this,"editUrl","/bitrix/components/bitrix/bizproc.globalfield.edit/");babelHelpers.defineProperty(this,"listSliderOptions",{width:1150,cacheable:false,allowChangeHistory:false});babelHelpers.defineProperty(this,"editSliderOptions",{width:500,cacheable:false,allowChangeHistory:false})}babelHelpers.createClass(e,[{key:"createGlobals",value:function i(l,r,n,a){var o=n!==null&&n!==void 0?n:"";var s=null;var c=[];if(a!==undefined){var d,b;s=(d=a["visibility"])!==null&&d!==void 0?d:null;c=(b=a["availableTypes"])!==null&&b!==void 0?b:[]}return e.openSlider(t.Uri.addParam(this.editUrl,{documentType:r,mode:this.mode[l],name:o,visibility:s,availableTypes:c}),this.editSliderOptions)}},{key:"editGlobals",value:function i(l,r,n){l=BX.util.htmlspecialcharsback(l);return e.openSlider(t.Uri.addParam(this.editUrl,{fieldId:l,mode:r,documentType:n}),this.editSliderOptions)}},{key:"showGlobals",value:function i(l,r){return e.openSlider(t.Uri.addParam(this.listUrl,{documentType:r,mode:l}),this.listSliderOptions)}},{key:"deleteGlobalsAction",value:function e(i,l,r){return t.ajax.runAction("bizproc.globalfield.delete",{analyticsLabel:"bizprocGlobalFieldDelete",data:{fieldId:i,mode:l,documentType:r}})}},{key:"upsertGlobalsAction",value:function e(i,l,r,n){return t.ajax.runAction("bizproc.globalfield.upsert",{analyticsLabel:"bizprocGlobalFieldUpsert",data:{fieldId:i,property:l,documentType:r,mode:n}})}}],[{key:"openSlider",value:function e(i,r){if(!t.Type.isPlainObject(r)){r={}}r=l(l({},{cacheable:false,allowChangeHistory:true,events:{}}),r);return new Promise((function(e){if(t.Type.isString(i)&&i.length>1){r.events.onClose=function(t){e(t.getSlider())};BX.SidePanel.Instance.open(i,r)}else{e()}}))}},{key:"Instance",get:function t(){if(r===null){r=new e}return r}}]);return e}();var a={Manager:n};e.Globals=a})(this.BX.Bizproc=this.BX.Bizproc||{},BX);
//# sourceMappingURL=globals.bundle.map.js