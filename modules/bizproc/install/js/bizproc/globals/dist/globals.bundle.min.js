this.BX=this.BX||{};(function(e,i){"use strict";var l=null;var t=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"mode",{variable:"variable",constant:"constant"});babelHelpers.defineProperty(this,"listUrl","/bitrix/components/bitrix/bizproc.globalfield.list/");babelHelpers.defineProperty(this,"editUrl","/bitrix/components/bitrix/bizproc.globalfield.edit/");babelHelpers.defineProperty(this,"listSliderOptions",{width:1150,cacheable:false,allowChangeHistory:false});babelHelpers.defineProperty(this,"editSliderOptions",{width:500,cacheable:false,allowChangeHistory:false})}babelHelpers.createClass(e,[{key:"createGlobals",value:function l(t,a,n,r){var o=n!==null&&n!==void 0?n:"";var s=null;var d=[];if(r!==undefined){var c,b;s=(c=r["visibility"])!==null&&c!==void 0?c:null;d=(b=r["availableTypes"])!==null&&b!==void 0?b:[]}return e.openSlider(i.Uri.addParam(this.editUrl,{documentType:a,mode:this.mode[t],name:o,visibility:s,availableTypes:d}),this.editSliderOptions)}},{key:"editGlobals",value:function l(t,a,n){t=BX.util.htmlspecialcharsback(t);return e.openSlider(i.Uri.addParam(this.editUrl,{fieldId:t,mode:a,documentType:n}),this.editSliderOptions)}},{key:"showGlobals",value:function l(t,a){return e.openSlider(i.Uri.addParam(this.listUrl,{documentType:a,mode:t}),this.listSliderOptions)}},{key:"deleteGlobalsAction",value:function e(l,t,a){return i.ajax.runAction("bizproc.globalfield.delete",{analyticsLabel:"bizprocGlobalFieldDelete",data:{fieldId:l,mode:t,documentType:a}})}},{key:"upsertGlobalsAction",value:function e(l,t,a,n){return i.ajax.runAction("bizproc.globalfield.upsert",{analyticsLabel:"bizprocGlobalFieldUpsert",data:{fieldId:l,property:t,documentType:a,mode:n}})}}],[{key:"openSlider",value:function e(l,t){if(!i.Type.isPlainObject(t)){t={}}t=babelHelpers.objectSpread({},{cacheable:false,allowChangeHistory:true,events:{}},t);return new Promise(function(e){if(i.Type.isString(l)&&l.length>1){t.events.onClose=function(i){e(i.getSlider())};BX.SidePanel.Instance.open(l,t)}else{e()}})}},{key:"Instance",get:function i(){if(l===null){l=new e}return l}}]);return e}();var a={Manager:t};e.Globals=a})(this.BX.Bizproc=this.BX.Bizproc||{},BX);
//# sourceMappingURL=globals.bundle.map.js