this.BX=this.BX||{};(function(e,t){"use strict";function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){babelHelpers.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=null;var n=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"mode",{variable:"variable",constant:"constant"});babelHelpers.defineProperty(this,"listUrl","/bitrix/components/bitrix/bizproc.globalfield.list/");babelHelpers.defineProperty(this,"editUrl","/bitrix/components/bitrix/bizproc.globalfield.edit/");babelHelpers.defineProperty(this,"listSliderOptions",{width:1150,cacheable:false,allowChangeHistory:false});babelHelpers.defineProperty(this,"editSliderOptions",{width:500,cacheable:false,allowChangeHistory:false})}babelHelpers.createClass(e,[{key:"createGlobals",value:function e(i,r,l,n){var o=t.Type.isStringFilled(l)?l:"";var a=null;var s=[];if(t.Type.isPlainObject(n)){a=t.Type.isStringFilled(n.visibility)?n.visibility:null;s=t.Type.isArrayFilled(n.availableTypes)?n.availableTypes:[]}return this.constructor.openSlider(t.Uri.addParam(this.editUrl,{documentType:r,mode:this.mode[i],name:o,visibility:a,availableTypes:s}),this.editSliderOptions)}},{key:"editGlobals",value:function e(i,r,l){i=t.Type.isStringFilled(i)?t.Text.decode(i):"";return this.constructor.openSlider(t.Uri.addParam(this.editUrl,{fieldId:i,mode:this.mode[r],documentType:l}),this.editSliderOptions)}},{key:"showGlobals",value:function e(i,r){return this.constructor.openSlider(t.Uri.addParam(this.listUrl,{documentType:r,mode:this.mode[i]}),this.listSliderOptions)}},{key:"deleteGlobalsAction",value:function e(i,r,l){return t.ajax.runAction("bizproc.globalfield.delete",{analyticsLabel:"bizprocGlobalFieldDelete",data:{fieldId:i,mode:r,documentType:l}})}},{key:"upsertGlobalsAction",value:function e(i,r,l,n){return t.ajax.runAction("bizproc.globalfield.upsert",{analyticsLabel:"bizprocGlobalFieldUpsert",data:{fieldId:i,property:r,documentType:l,mode:n}})}}],[{key:"openSlider",value:function e(i,l){if(!t.Type.isPlainObject(l)){l={}}l=r(r({},{cacheable:false,allowChangeHistory:true,events:{}}),l);return new Promise((function(e){if(t.Type.isStringFilled(i)){l.events.onClose=function(t){e(t.getSlider())};BX.SidePanel.Instance.open(i,l)}else{e()}}))}},{key:"Instance",get:function t(){if(l===null){l=new e}return l}}]);return e}();var o={Manager:n};e.Globals=o})(this.BX.Bizproc=this.BX.Bizproc||{},BX);
//# sourceMappingURL=globals.bundle.map.js