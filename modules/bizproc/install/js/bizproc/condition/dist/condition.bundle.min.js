this.BX=this.BX||{};(function(e,s){"use strict";class t{static getAll(){return[this.NOT_EMPTY,this.EMPTY,this.EQUAL,this.NOT_EQUAL,this.CONTAIN,this.NOT_CONTAIN,this.IN,this.NOT_IN,this.GREATER_THEN,this.GREATER_THEN_OR_EQUAL,this.LESS_THEN,this.LESS_THEN_OR_EQUAL,this.MODIFIED]}static getAllLabels(){return Object.fromEntries([[this.EMPTY,s.Loc.getMessage("BIZPROC_JS_CONDITION_EMPTY")],[this.NOT_EMPTY,s.Loc.getMessage("BIZPROC_JS_CONDITION_NOT_EMPTY")],[this.EQUAL,s.Loc.getMessage("BIZPROC_JS_CONDITION_EQ")],[this.NOT_EQUAL,s.Loc.getMessage("BIZPROC_JS_CONDITION_NE")],[this.CONTAIN,s.Loc.getMessage("BIZPROC_JS_CONDITION_CONTAIN")],[this.NOT_CONTAIN,s.Loc.getMessage("BIZPROC_JS_CONDITION_NOT_CONTAIN")],[this.IN,s.Loc.getMessage("BIZPROC_JS_CONDITION_IN")],[this.NOT_IN,s.Loc.getMessage("BIZPROC_JS_CONDITION_NOT_IN")],[this.GREATER_THEN,s.Loc.getMessage("BIZPROC_JS_CONDITION_GT")],[this.GREATER_THEN_OR_EQUAL,s.Loc.getMessage("BIZPROC_JS_CONDITION_GTE")],[this.LESS_THEN,s.Loc.getMessage("BIZPROC_JS_CONDITION_LT")],[this.LESS_THEN_OR_EQUAL,s.Loc.getMessage("BIZPROC_JS_CONDITION_LTE")],[this.MODIFIED,s.Loc.getMessage("BIZPROC_JS_CONDITION_MODIFIED")]])}static getOperatorLabel(e){var s;return(s=this.getAllLabels()[e])!=null?s:""}static getOperatorFieldTypeFilter(e,s=false){if(!this.getAll().includes(e)){return[]}return[]}static getAllSortedForBp(){return[this.EQUAL,this.NOT_EQUAL,this.GREATER_THEN,this.GREATER_THEN_OR_EQUAL,this.LESS_THEN,this.LESS_THEN_OR_EQUAL,this.IN,this.NOT_IN,this.CONTAIN,this.NOT_CONTAIN,this.NOT_EMPTY,this.EMPTY,this.MODIFIED]}static getOperatorsWithoutRenderValue(){return[this.EMPTY,this.NOT_EMPTY,this.MODIFIED]}}t.EMPTY="empty";t.NOT_EMPTY="!empty";t.EQUAL="=";t.NOT_EQUAL="!=";t.CONTAIN="contain";t.NOT_CONTAIN="!contain";t.IN="in";t.NOT_IN="!in";t.GREATER_THEN=">";t.GREATER_THEN_OR_EQUAL=">=";t.LESS_THEN="<";t.LESS_THEN_OR_EQUAL="<=";t.MODIFIED="modified";t.BETWEEN="between";let l=e=>e,a,i,r,o,d,b;var c=babelHelpers.classPrivateFieldLooseKey("operator");var n=babelHelpers.classPrivateFieldLooseKey("operatorName");var p=babelHelpers.classPrivateFieldLooseKey("valueName");var h=babelHelpers.classPrivateFieldLooseKey("value");var O=babelHelpers.classPrivateFieldLooseKey("documentType");var L=babelHelpers.classPrivateFieldLooseKey("useModified");var v=babelHelpers.classPrivateFieldLooseKey("operatorElement");var P=babelHelpers.classPrivateFieldLooseKey("valueElement");var T=babelHelpers.classPrivateFieldLooseKey("lastFieldProperty");var N=babelHelpers.classPrivateFieldLooseKey("onChangeOperator");var E=babelHelpers.classPrivateFieldLooseKey("getFilteredOperatorsByFieldType");var _=babelHelpers.classPrivateFieldLooseKey("renderBetweenValue");var B=babelHelpers.classPrivateFieldLooseKey("rerenderBetweenValue");var u=babelHelpers.classPrivateFieldLooseKey("getFieldControl");class F{constructor(e){Object.defineProperty(this,u,{value:y});Object.defineProperty(this,B,{value:f});Object.defineProperty(this,_,{value:g});Object.defineProperty(this,E,{value:I});Object.defineProperty(this,N,{value:H});Object.defineProperty(this,c,{writable:true,value:t.EQUAL});Object.defineProperty(this,n,{writable:true,value:""});Object.defineProperty(this,p,{writable:true,value:""});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,O,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:false});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,T,{writable:true,value:void 0});if(!s.Type.isPlainObject(e)){return}if(t.getAll().includes(e.operator)){babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e.operator}if(s.Type.isStringFilled(e.selectName)){babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e.selectName}if(s.Type.isStringFilled(e.inputName)){babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e.inputName}if(s.Type.isBoolean(e.useOperatorModified)){babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e.useOperatorModified}babelHelpers.classPrivateFieldLooseBase(this,h)[h]=e.value;babelHelpers.classPrivateFieldLooseBase(this,O)[O]=e.documentType}renderOperator(e){const o=s.Tag.render(a||(a=l`<select name="${0}"></select>`),s.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,n)[n]));s.Event.bind(o,"change",babelHelpers.classPrivateFieldLooseBase(this,N)[N].bind(this));babelHelpers.classPrivateFieldLooseBase(this,E)[E](e).forEach((e=>{s.Dom.append(s.Tag.render(i||(i=l`
					<option value="${0}"${0}>
						${0}
					</option>
				`),s.Text.encode(e),babelHelpers.classPrivateFieldLooseBase(this,c)[c]===e?" selected":"",s.Text.encode(t.getOperatorLabel(e))),o)}));babelHelpers.classPrivateFieldLooseBase(this,v)[v]=o;return s.Tag.render(r||(r=l`
			<tr>
				<td align="right" width="40%" class="adm-detail-content-cell-l">
					${0}
				</td>
				<td width="60%" class="adm-detail-content-cell-r">
					${0}
				</td>
			</tr>
		`),s.Loc.getMessage("BIZPROC_JS_CONDITION"),o)}rerenderOperator(e){const a=babelHelpers.classPrivateFieldLooseBase(this,E)[E](e);if(babelHelpers.classPrivateFieldLooseBase(this,v)[v].options.length===a.length){return}s.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,v)[v]);a.forEach((e=>{s.Dom.append(s.Tag.render(o||(o=l`
					<option value="${0}"${0}>
						${0}
					</option>
				`),s.Text.encode(e),babelHelpers.classPrivateFieldLooseBase(this,c)[c]===e?" selected":"",s.Text.encode(t.getOperatorLabel(e))),babelHelpers.classPrivateFieldLooseBase(this,v)[v])}));babelHelpers.classPrivateFieldLooseBase(this,c)[c]=babelHelpers.classPrivateFieldLooseBase(this,v)[v].selectedOptions[0].value}renderOperatorTo(e,t){s.Dom.append(this.renderOperator(e),t)}renderValue(e){babelHelpers.classPrivateFieldLooseBase(this,T)[T]=e;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=babelHelpers.classPrivateFieldLooseBase(this,c)[c]===t.BETWEEN?babelHelpers.classPrivateFieldLooseBase(this,_)[_](e,babelHelpers.classPrivateFieldLooseBase(this,h)[h]):babelHelpers.classPrivateFieldLooseBase(this,u)[u](e,babelHelpers.classPrivateFieldLooseBase(this,h)[h]);return s.Tag.render(d||(d=l`
			<tr${0}>
				<td align="right" width="40%" class="adm-detail-content-cell-l">
					${0}
				</td>
				<td width="60%" class="adm-detail-content-cell-r">
					${0}
				</td>
			</tr>
		`),t.getOperatorsWithoutRenderValue().includes(babelHelpers.classPrivateFieldLooseBase(this,c)[c])?" hidden":"",s.Loc.getMessage("BIZPROC_JS_CONDITION_VALUE"),babelHelpers.classPrivateFieldLooseBase(this,P)[P])}rerenderValue(e){babelHelpers.classPrivateFieldLooseBase(this,T)[T]=e;if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]===t.BETWEEN){return babelHelpers.classPrivateFieldLooseBase(this,B)[B](e)}const l=babelHelpers.classPrivateFieldLooseBase(this,u)[u](e,"");s.Dom.replace(babelHelpers.classPrivateFieldLooseBase(this,P)[P],l);babelHelpers.classPrivateFieldLooseBase(this,P)[P]=l}renderValueTo(e,t){s.Dom.append(this.renderValue(e),t)}destroy(){babelHelpers.classPrivateFieldLooseBase(this,c)[c]=null;babelHelpers.classPrivateFieldLooseBase(this,h)[h]=null;babelHelpers.classPrivateFieldLooseBase(this,O)[O]=null;babelHelpers.classPrivateFieldLooseBase(this,n)[n]=null;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=null;s.Dom.remove(babelHelpers.classPrivateFieldLooseBase(this,v)[v].parentElement.parentElement);babelHelpers.classPrivateFieldLooseBase(this,v)[v]=null;s.Dom.remove(babelHelpers.classPrivateFieldLooseBase(this,P)[P].parentElement.parentElement);babelHelpers.classPrivateFieldLooseBase(this,P)[P]=null;babelHelpers.classPrivateFieldLooseBase(this,T)[T]=null}}function H(e){const l=e.target;const a=String(babelHelpers.classPrivateFieldLooseBase(this,c)[c]);babelHelpers.classPrivateFieldLooseBase(this,c)[c]=l.selectedOptions[0].value;const i=babelHelpers.classPrivateFieldLooseBase(this,P)[P].closest("tr");if(t.getOperatorsWithoutRenderValue().includes(babelHelpers.classPrivateFieldLooseBase(this,c)[c])){if(s.Dom.isShown(i)){s.Dom.hide(i)}return}if(!s.Dom.isShown(i)){s.Dom.show(i)}const r=a===t.BETWEEN||babelHelpers.classPrivateFieldLooseBase(this,c)[c]===t.BETWEEN||t.getOperatorsWithoutRenderValue().includes(a);if(r){this.rerenderValue(babelHelpers.classPrivateFieldLooseBase(this,T)[T])}}function I(e){return t.getAllSortedForBp().filter((s=>{if(!babelHelpers.classPrivateFieldLooseBase(this,L)[L]&&s===t.MODIFIED){return false}const l=t.getOperatorFieldTypeFilter(s);return l.length===0||l.includes(e)}))}function g(e,t){e=Object.assign(e,{Multiple:false});const a=babelHelpers.classPrivateFieldLooseBase(this,u)[u](e,t[0]||"",babelHelpers.classPrivateFieldLooseBase(this,p)[p]+"_greater_then");const i=babelHelpers.classPrivateFieldLooseBase(this,u)[u](e,t[1]||"",babelHelpers.classPrivateFieldLooseBase(this,p)[p]+"_less_then");return s.Tag.render(b||(b=l`
			<table>
				<tbody>
					<tr><td>${0}</td></tr>
					<tr><td>${0}</td></tr>
					<tr><td>${0}</td></tr>
				</tbody>
			</table>
		`),a,s.Loc.getMessage("BIZPROC_JS_CONDITION_BETWEEN_JOINER"),i)}function f(e){const t=babelHelpers.classPrivateFieldLooseBase(this,_)[_](e,["",""]);s.Dom.replace(babelHelpers.classPrivateFieldLooseBase(this,P)[P],t);babelHelpers.classPrivateFieldLooseBase(this,P)[P]=t}function y(e,t,l){if(s.Type.isNil(l)){l=babelHelpers.classPrivateFieldLooseBase(this,p)[p]}return BX.Bizproc.FieldType.renderControl(babelHelpers.classPrivateFieldLooseBase(this,O)[O],e,l,t,"designer")}e.Operator=t;e.BpCondition=F})(this.BX.Bizproc=this.BX.Bizproc||{},BX);
//# sourceMappingURL=condition.bundle.map.js