{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import {Reflection, Type, Event, Tag, Dom, Loc} from 'main.core';\nimport {MessageBox} from 'ui.dialogs.messagebox';\nimport {Script} from 'bizproc.script';\n\nconst namespace = Reflection.namespace('BX.Bizproc');\n\nclass ScriptQueueListComponent\n{\n\tgridId;\n\n\tconstructor(options)\n\t{\n\t\tif(Type.isPlainObject(options))\n\t\t{\n\t\t\tthis.gridId = options.gridId;\n\t\t}\n\t}\n\n\tdeleteQueue(queueId: number)\n\t{\n\t\tMessageBox.confirm(\n\t\t\tLoc.getMessage('BIZPROC_SCRIPT_QUEUE_LIST_CONFIRM_DELETE'),\n\t\t\t() => {\n\t\t\t\tScript.Manager.Instance.deleteScriptQueue(queueId);\n\t\t\t\tthis.reloadGrid();\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tLoc.getMessage('BIZPROC_SCRIPT_QUEUE_LIST_BTN_DELETE')\n\t\t);\n\t}\n\n\tterminateQueue(queueId: number)\n\t{\n\t\tMessageBox.confirm(\n\t\t\tLoc.getMessage('BIZPROC_SCRIPT_QUEUE_LIST_CONFIRM_TERMINATE'),\n\t\t\t() => {\n\t\t\t\tScript.Manager.Instance.terminateScriptQueue(queueId);\n\t\t\t\tthis.reloadGrid();\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tLoc.getMessage('BIZPROC_SCRIPT_QUEUE_LIST_BTN_TERMINATE')\n\t\t);\n\t}\n\n\treloadGrid()\n\t{\n\t\tif (this.gridId)\n\t\t{\n\t\t\tconst grid = BX.Main.gridManager && BX.Main.gridManager.getInstanceById(this.gridId);\n\t\t\tif (grid)\n\t\t\t{\n\t\t\t\tgrid.reload();\n\t\t\t}\n\t\t}\n\t}\n}\n\nnamespace.ScriptQueueListComponent = ScriptQueueListComponent;"],"names":["namespace","Reflection","ScriptQueueListComponent","options","Type","isPlainObject","gridId","queueId","MessageBox","confirm","Loc","getMessage","Script","Manager","Instance","deleteScriptQueue","reloadGrid","terminateScriptQueue","grid","BX","Main","gridManager","getInstanceById","reload"],"mappings":";;;CAIA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAX,CAAqB,YAArB,CAAlB;;KAEME;CAIL,oCAAYC,OAAZ,EACA;CAAA;;CACC,QAAGC,cAAI,CAACC,aAAL,CAAmBF,OAAnB,CAAH,EACA;CACC,WAAKG,MAAL,GAAcH,OAAO,CAACG,MAAtB;CACA;CACD;;;;iCAEWC,SACZ;CAAA;;CACCC,MAAAA,gCAAU,CAACC,OAAX,CACCC,aAAG,CAACC,UAAJ,CAAe,0CAAf,CADD,EAEC,YAAM;CACLC,QAAAA,qBAAM,CAACC,OAAP,CAAeC,QAAf,CAAwBC,iBAAxB,CAA0CR,OAA1C;;CACA,QAAA,KAAI,CAACS,UAAL;;CACA,eAAO,IAAP;CACA,OANF,EAOCN,aAAG,CAACC,UAAJ,CAAe,sCAAf,CAPD;CASA;;;oCAEcJ,SACf;CAAA;;CACCC,MAAAA,gCAAU,CAACC,OAAX,CACCC,aAAG,CAACC,UAAJ,CAAe,6CAAf,CADD,EAEC,YAAM;CACLC,QAAAA,qBAAM,CAACC,OAAP,CAAeC,QAAf,CAAwBG,oBAAxB,CAA6CV,OAA7C;;CACA,QAAA,MAAI,CAACS,UAAL;;CACA,eAAO,IAAP;CACA,OANF,EAOCN,aAAG,CAACC,UAAJ,CAAe,yCAAf,CAPD;CASA;;;kCAGD;CACC,UAAI,KAAKL,MAAT,EACA;CACC,YAAMY,IAAI,GAAGC,EAAE,CAACC,IAAH,CAAQC,WAAR,IAAuBF,EAAE,CAACC,IAAH,CAAQC,WAAR,CAAoBC,eAApB,CAAoC,KAAKhB,MAAzC,CAApC;;CACA,YAAIY,IAAJ,EACA;CACCA,UAAAA,IAAI,CAACK,MAAL;CACA;CACD;CACD;;;;;CAGFvB,SAAS,CAACE,wBAAV,GAAqCA,wBAArC;;;;"}