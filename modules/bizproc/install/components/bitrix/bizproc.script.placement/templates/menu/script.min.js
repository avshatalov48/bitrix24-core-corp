if(!BX.getClass("BX.Bizproc.ScriptPlacementMenu"))(function(t){"use strict";t.namespace("BX.Bizproc");var e={scriptList:[],runScript:function(e,r){var i=this.getScript(e);if(!i){alert("error")}var n={moduleId:i.MODULE_ID,entity:i.ENTITY,documentType:i.DOCUMENT_TYPE,documentId:this.prepareDocumentId(r,[i.MODULE_ID,i.ENTITY,i.DOCUMENT_TYPE]),templateId:i.ID,templateName:i.NAME,hasParameters:Object.keys(i.PARAMETERS).length>0};t.Bizproc.Starter.singleStart(n)},onGridPanelButtonClick:function(e,r){var i=this;var n=t.Main.gridManager.getById(e);var c=n?n["instance"]:null;if(!c){return false}var a=c.getRows().getSelectedIds();if(!a||!a.length){window.alert("No items")}a.forEach(function(t){i.runScript(r,t)})},getScript:function(t){for(var e=0;e<this.scriptList.length;++e){if(this.scriptList[e]["ID"]==t){return this.scriptList[e]}}return null},createScript:function(e,r){t.ajax.runComponentAction("bitrix:bizproc.script.placement","createScript",{data:{fields:e}}).then(function(t){r()})},prepareDocumentId:function(t,e){if(e[0]==="crm"){t=e[2]+"_"+t}return t}};t.Bizproc.ScriptPlacementMenu=e})(window.BX||window.top.BX);
//# sourceMappingURL=script.map.js