this.BX=this.BX||{};this.BX.Bizproc=this.BX.Bizproc||{};(function(e,t,n,i){"use strict";function a(e,t){r(e,t);t.add(e)}function s(e,t,n){r(e,t);t.set(e,n)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function o(e,t,n){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return n}var l=t.Reflection.namespace("BX.Bizproc.Component");var c=new WeakMap;var u=new WeakMap;var h=new WeakSet;var b=new WeakSet;var v=new WeakSet;var d=new WeakSet;var f=function(){function e(t){babelHelpers.classCallCheck(this,e);a(this,d);a(this,v);a(this,b);a(this,h);s(this,c,{writable:true,value:""});s(this,u,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,c,t.documentSigned);babelHelpers.classPrivateFieldSet(this,u,t.activeSession?new i.Session(t.activeSession):null)}babelHelpers.createClass(e,[{key:"init",value:function e(){if(babelHelpers.classPrivateFieldGet(this,u)){o(this,h,p).call(this)}else{o(this,v,B).call(this)}}},{key:"buttons",get:function e(){var t={};t[i.Mode.experimental.id]=document.getElementById("bizproc-debugger-start-experimental-element");return t}}]);return e}();function p(){var e=this;var n=this.buttons;Object.keys(n).forEach((function(i){var a;t.Dom.addClass(n[i],"ui-btn-disabled");t.Dom.attr(n[i],"title",t.Text.encode((a=babelHelpers.classPrivateFieldGet(e,u))===null||a===void 0?void 0:a.shortDescription))}))}function m(){var e=this.buttons;Object.keys(e).forEach((function(n){t.Dom.removeClass(e[n],"ui-btn-disabled")}))}function B(){var e=this;var n=this.buttons;Object.keys(n).forEach((function(i){t.Event.bind(n[i],"click",(function(){o(e,d,w).call(e,n[i],i)}))}))}function w(e,i){var a=this;top.BX.Runtime.loadExtension("bizproc.debugger").then((function(s){o(a,h,p).call(a);t.Dom.addClass(e,"ui-btn-wait");var r=s.Manager;r.Instance.startSession(babelHelpers.classPrivateFieldGet(a,c),i).then((function(){o(a,b,m).call(a);BX.SidePanel.Instance.closeAll();return true}),(function(i){if(t.Type.isArrayFilled(i.errors)){var s="";i.errors.forEach((function(e){s=s+"\n"+e.message}));n.MessageBox.alert(s,(function(){o(a,b,m).call(a);t.Dom.removeClass(e,"ui-btn-wait");return true}))}return true}))}))}l.DebuggerStartComponent=f})(this.BX.Bizproc.Component=this.BX.Bizproc.Component||{},BX,BX.UI.Dialogs,BX.Bizproc);
//# sourceMappingURL=script.map.js