this.BX=this.BX||{};this.BX.Bizproc=this.BX.Bizproc||{};(function(e,t,n,i){"use strict";function a(e,t){s(e,t);t.add(e)}function r(e,t,n){s(e,t);t.set(e,n)}function s(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function o(e,t,n){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return n}var l=t.Reflection.namespace("BX.Bizproc.Component");var c=new WeakMap;var u=new WeakMap;var h=new WeakSet;var b=new WeakSet;var d=new WeakSet;var p=new WeakSet;var f=new WeakSet;var v=function(){function e(t){babelHelpers.classCallCheck(this,e);a(this,f);a(this,p);a(this,d);a(this,b);a(this,h);r(this,c,{writable:true,value:""});r(this,u,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,c,t.documentSigned);babelHelpers.classPrivateFieldSet(this,u,t.activeSession?new i.Session(t.activeSession):null)}babelHelpers.createClass(e,[{key:"init",value:function e(){if(babelHelpers.classPrivateFieldGet(this,u)){o(this,h,m).call(this);o(this,d,g).call(this)}else{o(this,p,w).call(this)}}},{key:"buttons",get:function e(){var t={};t[i.Mode.experimental.id]=document.getElementById("bizproc-debugger-start-experimental-element");t[i.Mode.interception.id]=document.getElementById("bizproc-debugger-start-interception-element");return t}}]);return e}();function m(){var e=this.buttons;Object.keys(e).forEach((function(n){t.Dom.addClass(e[n],"ui-btn-disabled")}))}function B(){var e=this.buttons;Object.keys(e).forEach((function(n){t.Dom.removeClass(e[n],"ui-btn-disabled")}))}function g(){var e=this;if(!babelHelpers.classPrivateFieldGet(this,u)){return}var n=this.buttons;Object.keys(n).forEach((function(i){t.Dom.attr(n[i],"data-hint",t.Text.encode(babelHelpers.classPrivateFieldGet(e,u).shortDescription));t.Dom.attr(n[i],"data-hint-no-icon","y");BX.UI.Hint.init(BX(n[i].id).parentElement)}))}function w(){var e=this;var n=this.buttons;Object.keys(n).forEach((function(i){t.Event.bind(n[i],"click",(function(){o(e,f,k).call(e,n[i],i)}))}))}function k(e,i){var a=this;top.BX.Runtime.loadExtension("bizproc.debugger").then((function(r){o(a,h,m).call(a);t.Dom.addClass(e,"ui-btn-wait");var s=r.Manager;s.Instance.startSession(babelHelpers.classPrivateFieldGet(a,c),t.Text.toInteger(i)).then((function(){o(a,b,B).call(a);BX.SidePanel.Instance.closeAll();return true}),(function(i){if(t.Type.isArrayFilled(i.errors)){var r="";i.errors.forEach((function(e){r=r+"\n"+e.message}));n.MessageBox.alert(r,(function(){o(a,b,B).call(a);t.Dom.removeClass(e,"ui-btn-wait");return true}))}return true}))}))}l.DebuggerStartComponent=v})(this.BX.Bizproc.Component=this.BX.Bizproc.Component||{},BX,BX.UI.Dialogs,BX.Bizproc.Debugger);
//# sourceMappingURL=script.map.js