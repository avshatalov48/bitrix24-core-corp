{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import {Reflection, Type, Loc} from 'main.core';\nimport {MessageBox, MessageBoxButtons} from \"ui.dialogs.messagebox\";\n\nconst namespace = Reflection.namespace('BX.Bizproc.Component');\n\nclass WorkflowInstances\n{\n\t#gridId;\n\n\tconstructor(options)\n\t{\n\t\tif (Type.isPlainObject(options))\n\t\t{\n\t\t\tthis.#gridId = options.gridId;\n\t\t}\n\t}\n\n\tdeleteItem(workflowId)\n\t{\n\t\tconst messageBox = new MessageBox({\n\t\t\tmessage: Loc.getMessage('BPWI_DELETE_MESS_CONFIRM'),\n\t\t\tokCaption: Loc.getMessage('BPWI_DELETE_BTN_LABEL'),\n\t\t\tonOk: () => {\n\t\t\t\tconst grid = this.#getGrid();\n\t\t\t\tif (grid)\n\t\t\t\t{\n\t\t\t\t\tgrid.removeRow(workflowId);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tbuttons: MessageBoxButtons.OK_CANCEL,\n\t\t\tpopupOptions: {\n\t\t\t\tevents: {\n\t\t\t\t\tonAfterShow: (event) => {\n\t\t\t\t\t\tconst okBtn = event.getTarget().getButton('ok');\n\t\t\t\t\t\tif (okBtn)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tokBtn.getContainer().focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tmessageBox.show();\n\t}\n\n\t#getGrid()\n\t{\n\t\tif (this.#gridId)\n\t\t{\n\t\t\treturn BX.Main.gridManager && BX.Main.gridManager.getInstanceById(this.#gridId);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nnamespace.WorkflowInstances = WorkflowInstances;"],"names":["namespace","Reflection","WorkflowInstances","options","Type","isPlainObject","gridId","workflowId","messageBox","MessageBox","message","Loc","getMessage","okCaption","onOk","grid","removeRow","buttons","MessageBoxButtons","OK_CANCEL","popupOptions","events","onAfterShow","event","okBtn","getTarget","getButton","getContainer","focus","show","BX","Main","gridManager","getInstanceById"],"mappings":";;;;;;;;AAAA,CAGA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAS,CAAC,sBAAsB,CAAC;CAAC;CAAA;CAAA,IAEzDE,iBAAiB;GAItB,2BAAYC,OAAO,EACnB;KAAA;KAAA;KAAA;OAAA;OAAA;;KACC,IAAIC,cAAI,CAACC,aAAa,CAACF,OAAO,CAAC,EAC/B;OACC,sCAAI,WAAWA,OAAO,CAACG,MAAM;;;GAE9B;KAAA;KAAA,2BAEUC,UAAU,EACrB;OAAA;OACC,IAAMC,UAAU,GAAG,IAAIC,gCAAU,CAAC;SACjCC,OAAO,EAAEC,aAAG,CAACC,UAAU,CAAC,0BAA0B,CAAC;SACnDC,SAAS,EAAEF,aAAG,CAACC,UAAU,CAAC,uBAAuB,CAAC;SAClDE,IAAI,EAAE,gBAAM;WACX,IAAMC,IAAI,0BAAG,KAAI,4BAAJ,KAAI,CAAW;WAC5B,IAAIA,IAAI,EACR;aACCA,IAAI,CAACC,SAAS,CAACT,UAAU,CAAC;;WAG3B,OAAO,IAAI;UACX;SACDU,OAAO,EAAEC,uCAAiB,CAACC,SAAS;SACpCC,YAAY,EAAE;WACbC,MAAM,EAAE;aACPC,WAAW,EAAE,qBAACC,KAAK,EAAK;eACvB,IAAMC,KAAK,GAAGD,KAAK,CAACE,SAAS,EAAE,CAACC,SAAS,CAAC,IAAI,CAAC;eAC/C,IAAIF,KAAK,EACT;iBACCA,KAAK,CAACG,YAAY,EAAE,CAACC,KAAK,EAAE;;;;;QAKhC,CAAC;OAEFpB,UAAU,CAACqB,IAAI,EAAE;;;GACjB;CAAA;CAAA,qBAGD;GACC,sCAAI,IAAI,YACR;KACC,OAAOC,EAAE,CAACC,IAAI,CAACC,WAAW,IAAIF,EAAE,CAACC,IAAI,CAACC,WAAW,CAACC,eAAe,mCAAC,IAAI,WAAS;;GAGhF,OAAO,IAAI;CACZ;CAGDjC,SAAS,CAACE,iBAAiB,GAAGA,iBAAiB;;;;"}