this.BX=this.BX||{};this.BX.Bizproc=this.BX.Bizproc||{};(function(e,t,a){"use strict";function i(e,t){r(e,t);t.add(e)}function l(e,t,a){r(e,t);t.set(e,a)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function s(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var n=t.Reflection.namespace("BX.Bizproc.Activity");var c=new WeakMap;var p=new WeakMap;var o=new WeakMap;var v=new WeakMap;var d=new WeakMap;var u=new WeakMap;var b=new WeakMap;var h=new WeakSet;var m=new WeakSet;var f=function(){function e(a){babelHelpers.classCallCheck(this,e);i(this,m);i(this,h);l(this,c,{writable:true,value:void 0});l(this,p,{writable:true,value:void 0});l(this,o,{writable:true,value:null});l(this,v,{writable:true,value:void 0});l(this,d,{writable:true,value:void 0});l(this,u,{writable:true,value:void 0});l(this,b,{writable:true,value:false});if(!t.Type.isElementNode(a.templateNode)){throw"templateNode must be HTML Element"}babelHelpers.classPrivateFieldSet(this,c,a.templateNode);if(!t.Type.isElementNode(a.templateInput)){throw"templateInput must be HTML Input Element"}babelHelpers.classPrivateFieldSet(this,p,a.templateInput);if(!t.Type.isElementNode(a.parametersNode)){throw"parametersNode must be HTML Element"}babelHelpers.classPrivateFieldSet(this,v,a.parametersNode);var r=t.Text.toInteger(a.templateId);if(r>0){babelHelpers.classPrivateFieldSet(this,o,r)}babelHelpers.classPrivateFieldSet(this,d,t.Type.isArrayFilled(a.documentType)?a.documentType:[]);babelHelpers.classPrivateFieldSet(this,u,t.Type.isStringFilled(a.formName)?a.formName:"");babelHelpers.classPrivateFieldSet(this,b,t.Type.isBoolean(a.isRobot)?a.isRobot:false)}babelHelpers.createClass(e,[{key:"init",value:function e(){s(this,h,w).call(this)}}]);return e}();function w(){var e=this;var t=[];if(babelHelpers.classPrivateFieldGet(this,o)){t.push(["bizproc-script-template",babelHelpers.classPrivateFieldGet(this,o)])}var i=new a.TagSelector({dialogOptions:{entities:[{id:"bizproc-script-template"}],multiple:false,dropdownMode:true,enableSearch:true,hideOnSelect:true,hideOnDeselect:false,clearSearchOnSelect:true,showAvatars:false,compactView:true,height:300,preselectedItems:t,events:{"Item:onSelect":function t(a){var i=a.getData(),l=i.item;s(e,m,H).call(e,l.getId());babelHelpers.classPrivateFieldGet(e,p).value=l.getId()},"Item:onDeselect":function t(){s(e,m,H).call(e,-1);babelHelpers.classPrivateFieldGet(e,p).value=""}}},multiple:false,tagMaxWidth:500});i.renderTo(babelHelpers.classPrivateFieldGet(this,c))}function H(e){var a=this;babelHelpers.classPrivateFieldGet(this,v).innerHTML="";e=t.Text.toInteger(e);if(e<=0){return}t.ajax.runAction("bizproc.activity.request",{data:{documentType:babelHelpers.classPrivateFieldGet(this,d),activity:"StartScriptActivity",params:{template_id:e,form_name:babelHelpers.classPrivateFieldGet(this,u),document_type:babelHelpers.classPrivateFieldGet(this,d)}}}).then((function(e){babelHelpers.classPrivateFieldGet(a,v).innerHTML=e.data}))}n.StartScriptActivity=f})(this.BX.Bizproc.Activity=this.BX.Bizproc.Activity||{},BX,BX.UI.EntitySelector);
//# sourceMappingURL=script.map.js