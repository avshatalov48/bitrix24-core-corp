(function(e,i){"use strict";let t=e=>e,s,l,a,r,o;const n=window.BizProcActivity;var c=babelHelpers.classPrivateFieldLooseKey("copyBranch");var d=babelHelpers.classPrivateFieldLooseKey("addBranch");var h=babelHelpers.classPrivateFieldLooseKey("createBranch");var v=babelHelpers.classPrivateFieldLooseKey("deleteBranch");var b=babelHelpers.classPrivateFieldLooseKey("drawVLine");var p=babelHelpers.classPrivateFieldLooseKey("drawMoveBranchButtons");var P=babelHelpers.classPrivateFieldLooseKey("moveBranchToLeft");var y=babelHelpers.classPrivateFieldLooseKey("moveBranchToRight");var f=babelHelpers.classPrivateFieldLooseKey("isEventWithCtrlKey");var u=babelHelpers.classPrivateFieldLooseKey("swapBranch");var B=babelHelpers.classPrivateFieldLooseKey("swapNodes");var w=babelHelpers.classPrivateFieldLooseKey("refreshDelButton");var C=babelHelpers.classPrivateFieldLooseKey("onHideClick");var A=babelHelpers.classPrivateFieldLooseKey("draw");var F=babelHelpers.classPrivateFieldLooseKey("renderActivityContent");var L=babelHelpers.classPrivateFieldLooseKey("drawHideContainer");var H=babelHelpers.classPrivateFieldLooseKey("drawChildrenContainer");var m=babelHelpers.classPrivateFieldLooseKey("removeChild");var g=babelHelpers.classPrivateFieldLooseKey("removeResources");class D extends n{constructor(){super();Object.defineProperty(this,g,{value:W});Object.defineProperty(this,m,{value:Y});Object.defineProperty(this,H,{value:X});Object.defineProperty(this,L,{value:V});Object.defineProperty(this,F,{value:$});Object.defineProperty(this,A,{value:I});Object.defineProperty(this,C,{value:N});Object.defineProperty(this,w,{value:k});Object.defineProperty(this,B,{value:M});Object.defineProperty(this,u,{value:z});Object.defineProperty(this,f,{value:S});Object.defineProperty(this,y,{value:j});Object.defineProperty(this,P,{value:E});Object.defineProperty(this,p,{value:K});Object.defineProperty(this,b,{value:O});Object.defineProperty(this,v,{value:R});Object.defineProperty(this,h,{value:x});Object.defineProperty(this,d,{value:T});Object.defineProperty(this,c,{value:_});this.allowSort=false;this.Type="ParallelActivity";this.childActivities=[];this.__parallelActivityInitType="SequenceActivity";this.allowSort=false;this.copyBranch=babelHelpers.classPrivateFieldLooseBase(this,c)[c].bind(this);this.addBranch=babelHelpers.classPrivateFieldLooseBase(this,d)[d].bind(this);this.createBranch=babelHelpers.classPrivateFieldLooseBase(this,h)[h].bind(this);this.delBranch=e=>{babelHelpers.classPrivateFieldLooseBase(this,v)[v](e.target.parentNode.parentNode)};this.DrawVLine=babelHelpers.classPrivateFieldLooseBase(this,b)[b].bind(this);this.RefreshDelButton=babelHelpers.classPrivateFieldLooseBase(this,w)[w].bind(this);this.OnHideClick=babelHelpers.classPrivateFieldLooseBase(this,C)[C].bind(this);this.BizProcActivityDraw=this.Draw;this.Draw=babelHelpers.classPrivateFieldLooseBase(this,A)[A].bind(this);this.ActivityRemoveChild=this.RemoveChild;this.RemoveChild=babelHelpers.classPrivateFieldLooseBase(this,m)[m].bind(this);this.BizProcActivityRemoveResources=this.RemoveResources;this.RemoveResources=babelHelpers.classPrivateFieldLooseBase(this,g)[g].bind(this);this.drawMoveElement=babelHelpers.classPrivateFieldLooseBase(this,p)[p].bind(this);this.moveToRight=e=>{babelHelpers.classPrivateFieldLooseBase(this,y)[y](e.target.parentNode.parentNode,e)};this.moveToLeft=e=>{babelHelpers.classPrivateFieldLooseBase(this,P)[P](e.target.parentNode.parentNode,e)};this.swapBranch=babelHelpers.classPrivateFieldLooseBase(this,u)[u].bind(this)}}function _(e,i){babelHelpers.classPrivateFieldLooseBase(this,h)[h](this.childActivities[e],i!=null?i:e)}function T(){const e=this.childsContainer.rows[2].cells.length;babelHelpers.classPrivateFieldLooseBase(this,h)[h](this.__parallelActivityInitType,e-1)}function x(e,t){const s=window.CreateActivity(e);s.parentActivity=this;s.setCanBeActivated(this.getCanBeActivatedChild());this.childActivities.splice(t,0,s);for(let e=0;e<this.childsContainer.rows.length;e++){const s=this.childsContainer.rows[e].insertCell(t);i.Dom.attr(s,{align:"center",vAlign:"top"})}babelHelpers.classPrivateFieldLooseBase(this,b)[b](t);s.Draw(this.childsContainer.rows[2].cells[t]);babelHelpers.classPrivateFieldLooseBase(this,w)[w]()}function R(e){this.RemoveChild(this.childActivities[e.ind])}function O(e){i.Dom.attr(this.childsContainer.rows[0],"class","trLine");i.Dom.attr(this.childsContainer.rows[3],"class","trLine");i.Dom.style(this.childsContainer.rows[1].cells[e],"background","url(/bitrix/images/bizproc/act_line_bg.gif) 50% top repeat-y");i.Dom.style(this.childsContainer.rows[2].cells[e],"background","url(/bitrix/images/bizproc/act_line_bg.gif) 50% top repeat-y");i.Dom.attr(this.childsContainer.rows[2].cells[e],"vAlign","top");const l=this.childsContainer.rows[1].cells[e];i.Dom.attr(l,{height:"20",vAlign:"bottom"});const{root:a,remove:r}=i.Tag.render(s||(s=t`
			<div style="margin-top: 14px; display: none;">
				<div class="bizproc-designer-parallel-activity__del_br"
					ref="remove"
					title="${0}"
					alt="${0}">
					<div class="ui-icon-set --minus-60"></div>
				</div>
			</div>
		`),i.Text.encode(window.BPMESS.PARA_DEL),i.Text.encode(window.BPMESS.PARA_DEL));i.Event.bind(r,"click",babelHelpers.classPrivateFieldLooseBase(this,v)[v].bind(this,l));i.Dom.append(a,l);if(this.allowSort){babelHelpers.classPrivateFieldLooseBase(this,p)[p](e,l)}}function K(e,s){const{root:a,left:r,right:o}=i.Tag.render(l||(l=t`
			<div class="move-thread">
				<div
					ref="left" 
					class="ui-icon-set --chevron-left bizproc-designer-parallel-activity-move-arrow"
					title="${0}"
				></div>
				<div
					ref="right"
					class="ui-icon-set --chevron-right bizproc-designer-parallel-activity-move-arrow"
					title="${0}"
				></div>
			</div>
		`),i.Text.encode(window.BPMESS.PARA_MOVE_LEFT),i.Text.encode(window.BPMESS.PARA_MOVE_RIGHT));i.Event.bind(r,"click",babelHelpers.classPrivateFieldLooseBase(this,P)[P].bind(this,s));i.Event.bind(o,"click",babelHelpers.classPrivateFieldLooseBase(this,y)[y].bind(this,s));i.Dom.append(a,s)}function E(e,i){const t=e.ind;if(t!==0){if(babelHelpers.classPrivateFieldLooseBase(this,f)[f](i)){babelHelpers.classPrivateFieldLooseBase(this,c)[c](t,t)}else{babelHelpers.classPrivateFieldLooseBase(this,u)[u](t-1,t)}window.BPTemplateIsModified=true}}function j(e,i){const t=e.ind;if(t!==this.childActivities.length){if(babelHelpers.classPrivateFieldLooseBase(this,f)[f](i)){babelHelpers.classPrivateFieldLooseBase(this,c)[c](t,t+1)}else{babelHelpers.classPrivateFieldLooseBase(this,u)[u](t,t+1)}window.BPTemplateIsModified=true}}function S(e){return e.ctrlKey===true||e.metaKey===true}function z(e,i){const t=this.childActivities[e];this.childActivities[e]=this.childActivities[i];this.childActivities[i]=t;for(let t=1;t<3;t++){this.childsContainer.rows[t].cells[e].ind=i;this.childsContainer.rows[t].cells[i].ind=e;babelHelpers.classPrivateFieldLooseBase(this,B)[B](this.childsContainer.rows[t].cells[e],this.childsContainer.rows[t].cells[i])}}function M(e,t){const s=t.nextElementSibling;e.replaceWith(t);if(s){i.Dom.insertBefore(e,s)}else{i.Dom.append(e,t.parentNode)}}function k(){this.childActivities.forEach(((e,t)=>{i.Dom.style(this.childsContainer.rows[1].cells[t].childNodes[0],"display",this.childActivities.length>2?"block":"none");this.childsContainer.rows[1].cells[t].ind=t}))}function N(){this.Properties._DesMinimized=this.Properties._DesMinimized==="Y"?"N":"Y";BX.Dom.toggle(this.childsContainer);BX.Dom.toggle(this.hideContainer)}function I(e){if(this.childActivities.length===0){this.childActivities=[window.CreateActivity(this.__parallelActivityInitType),window.CreateActivity(this.__parallelActivityInitType)];this.childActivities[0].parentActivity=this;this.childActivities[0].setCanBeActivated(this.getCanBeActivatedChild());this.childActivities[1].parentActivity=this;this.childActivities[1].setCanBeActivated(this.getCanBeActivatedChild())}this.container=i.Tag.render(a||(a=t`<div class="parallelcontainer">${0}</div>`),babelHelpers.classPrivateFieldLooseBase(this,F)[F]());i.Dom.append(this.container,e);this.BizProcActivityDraw(this.container);this.activityContent=null;i.Dom.style(this.div,{position:"relative",top:"12px"});babelHelpers.classPrivateFieldLooseBase(this,L)[L]();babelHelpers.classPrivateFieldLooseBase(this,H)[H]();if(this.Properties._DesMinimized==="Y"){i.Dom.hide(this.childsContainer)}else{i.Dom.hide(this.hideContainer)}this.childActivities.forEach(((e,i)=>{babelHelpers.classPrivateFieldLooseBase(this,b)[b](i);e.Draw(this.childsContainer.rows[2].cells[i])}));babelHelpers.classPrivateFieldLooseBase(this,w)[w]()}function $(){if(!this.activityContent){var e;const s=(e=this.Icon)!=null?e:"/bitrix/images/bizproc/act_icon.gif";const{root:l,add:a}=i.Tag.render(r||(r=t`
				<table 
					cellpadding="0"
					cellspacing="0"
					border="0"
					style="width: 100%; font-size: 11px;"
				>
					<tbody>
						<tr>
							<td 
								align="center"
								valign="center"
								style="
									background: url('${0}') 2px 2px no-repeat;
									height: 24px;
									width: 24px;
								"
							></td>
							<td align="left" valign="center">
								${0}
							</td>
							<td
								ref="add"
								class="bizproc-designer-parallel-activity-add-branch-icon"
								title="${0}"
							></td>
						</tr>
					</tbody>
				</table>
			`),s,i.Text.encode(this.Properties.Title),i.Text.encode(window.BPMESS.PARA_ADD));i.Event.bind(a,"click",babelHelpers.classPrivateFieldLooseBase(this,d)[d].bind(this));this.activityContent=l;return this.activityContent}return""}function V(){this.hideContainer=i.Tag.render(o||(o=t`
			<div 
				style="
					background: #FFFFFF;
					border: 1px #CCCCCC dotted;
					width: 250px;
					color: #AAAAAA;
					padding: 13px 0 3px 0;
					cursor: pointer;
				"
			>${0}</div>
		`),i.Text.encode(window.BPMESS.PARA_MIN));i.Event.bind(this.hideContainer,"click",babelHelpers.classPrivateFieldLooseBase(this,C)[C].bind(this));i.Dom.append(this.hideContainer,this.container)}function X(){this.childsContainer=window._crt(4,this.childActivities.length);i.Dom.attr(this.childsContainer,"id",i.Text.encode(this.Name));i.Dom.style(this.childsContainer,"background","#FFFFFF");i.Dom.append(this.childsContainer,this.container)}function Y(e){const i=this.childActivities.indexOf(e);if(i!==-1){this.ActivityRemoveChild(e);if(this.childsContainer){this.childsContainer.rows[0].deleteCell(i);this.childsContainer.rows[1].deleteCell(i);this.childsContainer.rows[2].deleteCell(i);this.childsContainer.rows[3].deleteCell(i);babelHelpers.classPrivateFieldLooseBase(this,w)[w]()}}}function W(){this.BizProcActivityRemoveResources();if(this.container&&this.container.parentNode){i.Dom.remove(this.container);this.container=null;this.childsContainer=null}}e.ParallelActivity=D})(this.window=this.window||{},BX);
//# sourceMappingURL=parallelactivity.map.js