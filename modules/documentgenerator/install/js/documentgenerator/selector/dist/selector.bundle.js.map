{"version":3,"file":"selector.bundle.js","sources":["../src/template.js","../src/document.js","../src/menu.js","../src/selector.js"],"sourcesContent":["import {Type} from 'main.core';\n\nexport class Template\n{\n\tdata;\n\n\tconstructor(data)\n\t{\n\t\tthis.data = data;\n\t}\n\n\tgetId(): number\n\t{\n\t\treturn parseInt(this.data.id);\n\t}\n\n\tgetName(): string\n\t{\n\t\treturn this.data.name;\n\t}\n\n\tstatic create(data): ?Template\n\t{\n\t\tif(Type.isPlainObject(data) && parseInt(data.id) > 0 && Type.isString(data.name))\n\t\t{\n\t\t\treturn new Template(data);\n\t\t}\n\n\t\treturn null;\n\t}\n}","import {Type} from 'main.core';\n\nexport class Document\n{\n\tdata;\n\n\tconstructor(data)\n\t{\n\t\tthis.data = data;\n\t}\n\n\tgetId(): number\n\t{\n\t\treturn parseInt(this.data.id);\n\t}\n\n\tgetTitle(): string\n\t{\n\t\treturn this.data.title;\n\t}\n\n\tgetPublicUrl(): ?string\n\t{\n\t\treturn this.data.publicUrl\n\t}\n\n\tstatic create(data): ?Document\n\t{\n\t\tif(Type.isPlainObject(data) && parseInt(data.id) > 0 && Type.isString(data.title))\n\t\t{\n\t\t\treturn new Document(data);\n\t\t}\n\n\t\treturn null;\n\t}\n}","import {ajax as Ajax, Type, Loc, Runtime} from 'main.core';\nimport {Loader} from 'main.loader';\nimport {PopupMenu, PopupWindow} from 'main.popup';\nimport {Template} from \"./template\";\nimport {Document} from \"./document\";\n\nimport 'documentpreview';\n\nimport './menu.css';\n\nexport class Menu\n{\n\tprogress = false;\n\ttemplates = null;\n\tdocuments = null;\n\tanalyticsLabelPrefix = 'documentgeneratorSelector';\n\tloader;\n\tnode;\n\tmoduleId;\n\tprovider;\n\tvalue;\n\tisDocumentsLimitReached = false;\n\n\tconstructor(params)\n\t{\n\t\tif(Type.isPlainObject(params))\n\t\t{\n\t\t\tif(Type.isDomNode(params.node))\n\t\t\t{\n\t\t\t\tthis.node = params.node;\n\t\t\t}\n\t\t\tif(Type.isString(params.moduleId))\n\t\t\t{\n\t\t\t\tthis.moduleId = params.moduleId;\n\t\t\t}\n\t\t\tif(Type.isString(params.provider))\n\t\t\t{\n\t\t\t\tthis.provider = params.provider;\n\t\t\t}\n\t\t\tif(Type.isString(params.analyticsLabelPrefix))\n\t\t\t{\n\t\t\t\tthis.analyticsLabelPrefix = params.analyticsLabelPrefix;\n\t\t\t}\n\t\t\tif(Type.isString(params.value) || Type.isNumber(params.value))\n\t\t\t{\n\t\t\t\tthis.value = params.value;\n\t\t\t}\n\t\t}\n\t}\n\n\tisValid(): boolean\n\t{\n\t\treturn (\n\t\t\t(Type.isString(this.moduleId) && this.moduleId.length > 0) &&\n\t\t\t(Type.isString(this.provider) && this.provider.length > 0) &&\n\t\t\t(!Type.isNil(this.value))\n\t\t);\n\t}\n\n\tcreateDocument(template)\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\treject('loading');\n\t\t\t}\n\t\t\tif(this.isValid() && template instanceof Template)\n\t\t\t{\n\t\t\t\tthis.progress = true;\n\t\t\t\tthis.showLoader();\n\t\t\t\tBX.DocumentGenerator.Document.askAboutUsingPreviousDocumentNumber(this.provider, template.getId(), this.value, (previousNumber) =>\n\t\t\t\t{\n\t\t\t\t\tconst data = {\n\t\t\t\t\t\ttemplateId: template.getId(),\n\t\t\t\t\t\tproviderClassName: this.provider,\n\t\t\t\t\t\tvalue: this.value,\n\t\t\t\t\t\tvalues: {}\n\t\t\t\t\t};\n\t\t\t\t\tif(previousNumber)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata.values.DocumentNumber = previousNumber;\n\t\t\t\t\t}\n\t\t\t\t\tAjax.runAction('documentgenerator.document.add', {\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tanalyticsLabel: this.analyticsLabelPrefix + 'CreateDocument',\n\t\t\t\t\t}).then((response) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = false;\n\t\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\t\tconst document = Document.create(response.data.document);\n\t\t\t\t\t\tif(document)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(Type.isArray(this.documents))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.documents.unshift(document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(document);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treject('error trying create document object');\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((response) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = false;\n\t\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t\t\t});\n\t\t\t\t}, () =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treject('error trying generate document');\n\t\t\t}\n\t\t});\n\t}\n\n\tgetDocumentPublicUrl(document)\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!(document instanceof Document))\n\t\t\t{\n\t\t\t\treject('wrong document');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(Type.isString(document.getPublicUrl()) && document.getPublicUrl().length > 0)\n\t\t\t{\n\t\t\t\tresolve(document.getPublicUrl());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(this.progress)\n\t\t\t\t{\n\t\t\t\t\treject('loading');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.progress = true;\n\t\t\t\t\tthis.showLoader();\n\t\t\t\t\tAjax.runAction('documentgenerator.document.enablePublicUrl', {\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tid: document.getId(),\n\t\t\t\t\t\t\tstatus: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tanalyticsLabel: this.analyticsLabelPrefix + 'GetPublicUrl',\n\t\t\t\t\t}).then((response) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = false;\n\t\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\t\tdocument.data.publicUrl = response.data.publicUrl;\n\t\t\t\t\t\tresolve(document.getPublicUrl());\n\t\t\t\t\t}).catch((response) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = false;\n\t\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tshow(node = null): Promise\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!node)\n\t\t\t{\n\t\t\t\tnode = this.node;\n\t\t\t}\n\t\t\tthis.getTemplates().then((templates) =>\n\t\t\t{\n\t\t\t\tPopupMenu.show(this.getPopupMenuId(), node, this.prepareTemplatesList(templates, (object) =>\n\t\t\t\t{\n\t\t\t\t\tconst menu = PopupMenu.getMenuById(this.getPopupMenuId());\n\t\t\t\t\tif(menu)\n\t\t\t\t\t{\n\t\t\t\t\t\tmenu.destroy();\n\t\t\t\t\t}\n\t\t\t\t\tresolve(object);\n\t\t\t\t}), {\n\t\t\t\t\toffsetLeft: 0,\n\t\t\t\t\toffsetTop: 0,\n\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t});\n\t\t\t}).catch((error) =>\n\t\t\t{\n\t\t\t\tif(error !== 'loading')\n\t\t\t\t{\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTemplates(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!this.isValid())\n\t\t\t{\n\t\t\t\treject('wrong data');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.templates === null)\n\t\t\t{\n\t\t\t\tif(this.progress)\n\t\t\t\t{\n\t\t\t\t\treject('loading');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.progress = true;\n\t\t\t\tthis.showLoader();\n\t\t\t\tAjax.runAction('documentgenerator.api.document.getButtonTemplates', {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t\t\tprovider: this.provider,\n\t\t\t\t\t\tvalue: this.value,\n\t\t\t\t\t},\n\t\t\t\t\tanalyticsLabel: this.analyticsLabelPrefix + 'LoadTemplates',\n\t\t\t\t}).then((response) =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\tthis.parseButtonResponse(response);\n\t\t\t\t\tresolve(this.templates);\n\t\t\t\t}).catch((response) =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve(this.templates);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetDocuments(node): Promise\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\treject('loading');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.documents === null)\n\t\t\t{\n\t\t\t\tthis.documents = [];\n\t\t\t\tthis.progress = true;\n\t\t\t\tthis.showLoader(node);\n\t\t\t\tAjax.runAction('documentgenerator.document.list', {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tselect: ['id', 'number', 'title'],\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\tprovider: this.provider.replace(/\\\\/g, '\\\\\\\\'),\n\t\t\t\t\t\t\tvalue: this.value\n\t\t\t\t\t\t},\n\t\t\t\t\t\torder: {id: 'desc'}\n\t\t\t\t\t},\n\t\t\t\t\tanalyticsLabel: this.analyticsLabelPrefix + 'LoadDocuments',\n\t\t\t\t}).then((response) =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\tresponse.data.documents.forEach((data) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tlet document = Document.create(data);\n\t\t\t\t\t\tif(document)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.documents.push(document);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tresolve(this.documents);\n\t\t\t\t}).catch((response) =>\n\t\t\t\t{\n\t\t\t\t\tthis.progress = false;\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve(this.documents);\n\t\t\t}\n\t\t});\n\t}\n\n\tprepareTemplatesList(templates, onclick): Array\n\t{\n\t\tconst result = [];\n\t\tif(this.isDocumentsLimitReached)\n\t\t{\n\t\t\tresult.push({\n\t\t\t\ttext: Loc.getMessage('DOCGEN_SELECTOR_MENU_DOCUMENTS_LIMIT_REACHED_ADD'),\n\t\t\t\tclassName: 'documentgenerator-selector-menu-item-with-lock',\n\t\t\t\tonclick: () =>\n\t\t\t\t{\n\t\t\t\t\tthis.showTariffPopup();\n\t\t\t\t\tonclick(null);\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t\telse if(Type.isArray(templates) && Type.isFunction(onclick))\n\t\t{\n\t\t\ttemplates.forEach((template) =>\n\t\t\t{\n\t\t\t\tresult.push({\n\t\t\t\t\ttext: template.getName(),\n\t\t\t\t\tonclick: () =>\n\t\t\t\t\t{\n\t\t\t\t\t\tonclick(template);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t\tif(result.length > 0)\n\t\t{\n\t\t\tresult.push({delimiter: true});\n\t\t}\n\t\tconst selector = this;\n\t\tresult.push({\n\t\t\ttext: Loc.getMessage('DOCGEN_SELECTOR_MENU_DOCUMENTS'),\n\t\t\tcacheable: true,\n\t\t\tevents: {\n\t\t\t\tonSubMenuShow: function()\n\t\t\t\t{\n\t\t\t\t\tif(this.isSubmenuLoaded)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.isSubmenuLoaded = true;\n\t\t\t\t\tconst submenu = this.getSubMenu();\n\t\t\t\t\tconst loadingItem = submenu.getMenuItem('loading');\n\t\t\t\t\tselector.getDocuments(loadingItem.getLayout().text).then((documents) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(documents.length <= 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(loadingItem)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tloadingItem.getLayout().text.innerText = Loc.getMessage('DOCGEN_SELECTOR_MENU_DOCUMENTS_EMPTY');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmenu.removeMenuItem('loading');\n\t\t\t\t\t\t\tconst menuItems = [];\n\t\t\t\t\t\t\tdocuments.forEach((document) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmenuItems.push({\n\t\t\t\t\t\t\t\t\ttext: document.getTitle(),\n\t\t\t\t\t\t\t\t\tonclick: () =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tonclick(document);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.addSubMenu(menuItems);\n\t\t\t\t\t\t\tthis.showSubMenu();\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((error) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(loadingItem)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tloadingItem.getLayout().text.innerText = error;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tid: 'loading',\n\t\t\t\t\ttext: Loc.getMessage('DOCGEN_SELECTOR_MENU_DOCUMENTS_LOADING')\n\t\t\t\t},\n\t\t\t]\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tparseButtonResponse(response): Array\n\t{\n\t\tthis.templates = [];\n\n\t\tif(response.data && response.data.isDocumentsLimitReached)\n\t\t{\n\t\t\tthis.isDocumentsLimitReached = response.data.isDocumentsLimitReached;\n\t\t}\n\t\tif(response.data && response.data.templates && Type.isArray(response.data.templates))\n\t\t{\n\t\t\tresponse.data.templates.forEach((data) =>\n\t\t\t{\n\t\t\t\tlet template = Template.create(data);\n\t\t\t\tif(template)\n\t\t\t\t{\n\t\t\t\t\tthis.templates.push(template);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this.templates;\n\t}\n\n\tgetErrorMessageFromResponse(response): string\n\t{\n\t\tlet error = '';\n\t\tif(response.errors && Type.isArray(response.errors))\n\t\t{\n\t\t\tresponse.errors.forEach(({message}) =>\n\t\t\t{\n\t\t\t\tif(error.length > 0)\n\t\t\t\t{\n\t\t\t\t\terror += ', ';\n\t\t\t\t}\n\t\t\t\terror += message;\n\t\t\t});\n\t\t}\n\n\t\treturn error;\n\t}\n\n\tgetLoader()\n\t{\n\t\tif(!this.loader)\n\t\t{\n\t\t\tthis.loader = new Loader({size: 50});\n\t\t}\n\n\t\treturn this.loader;\n\t}\n\n\tshowLoader(node)\n\t{\n\t\tif(!Type.isDomNode(node))\n\t\t{\n\t\t\tnode = this.node;\n\t\t}\n\t\tif(node && !this.getLoader().isShown())\n\t\t{\n\t\t\tthis.getLoader().show(node);\n\t\t}\n\t}\n\n\thideLoader()\n\t{\n\t\tif(this.getLoader().isShown())\n\t\t{\n\t\t\tthis.getLoader().hide();\n\t\t}\n\t}\n\n\tgetPopupMenuId(): string\n\t{\n\t\treturn 'documentgenerator-selector-popup-menu';\n\t}\n\n\tshowTariffPopup()\n\t{\n\t\tthis.getFeatureContent().then((content) =>\n\t\t{\n\t\t\tthis.getFeaturePopup(content).show();\n\t\t}).catch((error) =>\n\t\t{\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tgetFeaturePopup(content): PopupWindow\n\t{\n\t\tif(this.featurePopup != null)\n\t\t{\n\t\t\treturn this.featurePopup;\n\t\t}\n\t\tthis.featurePopup = new PopupWindow('bx-popup-documentgenerator-popup', null, {\n\t\t\tzIndex: 200,\n\t\t\tautoHide: true,\n\t\t\tcloseByEsc: true,\n\t\t\tcloseIcon: true,\n\t\t\toverlay : true,\n\t\t\tevents : {\n\t\t\t\tonPopupDestroy : () =>\n\t\t\t\t{\n\t\t\t\t\tthis.featurePopup = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontent : content,\n\t\t\tcontentColor: 'white',\n\t\t});\n\n\t\treturn this.featurePopup;\n\t}\n\n\tgetFeatureContent()\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(this.featureContent)\n\t\t\t{\n\t\t\t\tresolve(this.featureContent);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAjax.runAction('documentgenerator.document.getFeature').then((response) =>\n\t\t\t{\n\t\t\t\tthis.featureContent = document.createElement('div');\n\t\t\t\tthis.getFeaturePopup(this.featureContent);\n\t\t\t\tRuntime.html(this.featureContent, response.data.html, {\n\t\t\t\t\thtmlFirst: true,\n\t\t\t\t}).then(() =>\n\t\t\t\t{\n\t\t\t\t\tresolve(this.featureContent);\n\t\t\t\t});\n\t\t\t}).catch((response) =>\n\t\t\t{\n\t\t\t\treject(this.getErrorMessageFromResponse(response));\n\t\t\t})\n\t\t});\n\t}\n}","import {Menu} from './menu';\nimport {Document} from './document';\nimport {Template} from './template';\n\nexport const Selector = {\n\tMenu,\n\tTemplate,\n\tDocument\n};"],"names":["Template","data","parseInt","id","name","Type","isPlainObject","isString","Document","title","publicUrl","Menu","params","isDomNode","node","moduleId","provider","analyticsLabelPrefix","value","isNumber","length","isNil","template","Promise","resolve","reject","progress","isValid","showLoader","BX","DocumentGenerator","askAboutUsingPreviousDocumentNumber","getId","previousNumber","templateId","providerClassName","values","DocumentNumber","Ajax","runAction","analyticsLabel","then","response","hideLoader","document","create","isArray","documents","unshift","catch","getErrorMessageFromResponse","getPublicUrl","status","getTemplates","templates","PopupMenu","show","getPopupMenuId","prepareTemplatesList","object","menu","getMenuById","destroy","offsetLeft","offsetTop","closeByEsc","error","parseButtonResponse","select","filter","replace","order","forEach","push","onclick","result","isDocumentsLimitReached","text","Loc","getMessage","className","showTariffPopup","isFunction","getName","delimiter","selector","cacheable","events","onSubMenuShow","isSubmenuLoaded","submenu","getSubMenu","loadingItem","getMenuItem","getDocuments","getLayout","innerText","removeMenuItem","menuItems","getTitle","addSubMenu","showSubMenu","items","errors","message","loader","Loader","size","getLoader","isShown","hide","getFeatureContent","content","getFeaturePopup","console","featurePopup","PopupWindow","zIndex","autoHide","closeIcon","overlay","onPopupDestroy","contentColor","featureContent","createElement","Runtime","html","htmlFirst","Selector"],"mappings":"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"}