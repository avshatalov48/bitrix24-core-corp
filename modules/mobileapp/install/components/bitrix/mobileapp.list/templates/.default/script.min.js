__MobileAppList=function(t){for(var e in t)this[e]=t[e];this.itemIdPrefix="mobile-list-item-"};__MobileAppList.prototype.processItemsHtml=function(t,e){for(var i in t){var r=BX(this.itemIdPrefix+i);if(r)this.updateItem(i,t[i]);else this.addItem(t[i],e)}};__MobileAppList.prototype.getItemsHtml=function(t,e){var i=this;postData={ajax_mode:"Y",items:t,sessid:BX.bitrix_sessid()};app.showPopupLoader({text:"getting items html"});BX.ajax({timeout:30,method:"POST",dataType:"json",url:this.ajaxUrl,data:postData,onsuccess:function(t){app.hidePopupLoader();if(t){i.processItemsHtml(t,e)}}})};__MobileAppList.prototype.deleteItem=function(t){var e=BX(this.itemIdPrefix+t);if(e){e.parentNode.removeChild(e);return true}return false};__MobileAppList.prototype.makeDomObjFromHtml=function(t){var e=document.createElement("DIV");e.innerHTML=t;var i=BX.findChildren(e);if(!i[0])return false;return i[0]};__MobileAppList.prototype.updateItem=function(t,e){var i=BX(this.itemIdPrefix+t);if(!i)return false;i.id=i.id+"_old";var r=this.makeDomObjFromHtml(e);i.parentNode.replaceChild(r,i);return true};__MobileAppList.prototype.addItem=function(t,e){if(!t){alert("__MobileAppList.prototype.addItem !arItem");return false}var i=this.makeDomObjFromHtml(t);var r=BX("mobile-list");var o=r.innerHTML;if(e)o=o+t;else o=t+o;r.innerHTML=o;return true};__MobileAppList.prototype.toggleItem=function(t){var e=BX(t);if(!e)return;var i=BX.findChild(e,{className:"mapp_itemlist_item_content"},true);if(!i||!i.style)return;if(BX.hasClass(i,"closed")){BX.removeClass(e,"mapp_item_folded");BX.addClass(e,"mapp_item_gray")}else{BX.addClass(e,"mapp_item_folded");BX.removeClass(e,"mapp_item_gray")}BX.toggleClass(i,"closed")};__MobileAppList.prototype.makeFastButton=function(t){var e=this,i=BX(t);if(!i||!t)return;new FastButton(i,(function(i){e.toggleItem(t)}),false)};
//# sourceMappingURL=script.map.js