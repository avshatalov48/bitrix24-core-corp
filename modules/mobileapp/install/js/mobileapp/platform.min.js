(function(){const e={};const t=[];const n={};const r=".";function i(e){const t=e.factory;const n=function(t){let n=t;if(t.charAt(0)==="."){n=e.id.slice(0,e.id.lastIndexOf(r))+r+t.slice(2)}return o(n)};e.exports={};delete e.factory;t(n,e.exports,e);return e.exports}let o=function(r){if(r.startsWith("native/")){if(typeof nativeRequire==="function"){return nativeRequire(r.replace("native/",""))}return{}}if(!e[r]){throw new Error(`extension ${r} not found`)}else if(r in n){const e=`${t.slice(n[r]).join(" -> ")} -> ${r}`;throw new Error(`Cycle in require graph: ${e}`)}if(e[r].factory){try{n[r]=t.length;t.push(r);return i(e[r])}finally{delete n[r];t.pop()}}return e[r].exports};const s=()=>{const t=Object.keys(e);const n=t.length;const r=t.filter((t=>typeof e[t].factory==="undefined"));const i=r.length;const o=t.filter((e=>!r.includes(e)));const s=t=>Object.keys(e).filter((e=>e.startsWith(t)));return{defined:t,definedCount:n,used:r,usedCount:i,emptyUsage:o,findUsage:s}};const c=function(t,n){e[t]={id:t,factory:n}};c.remove=function(t){delete e[t]};c.moduleMap=e;const f={};this.jnExtensionData={set(e,t){f[e]=t},get(e){if(typeof f[e]!=="undefined"){return f[e]}return{}}};const l=this.jnexport=(...e)=>{e.forEach((e=>{if(Array.isArray(e)){if(e.length===2){this[e[1]]=e[0]}}else{this[e.name]=e}}))};const a={};let u=null;const d={};const p=(e,t=false)=>{if(u==null){u={};this.loadedExtensions.forEach((e=>{a[e]=true}))}return new Promise(((n,r)=>{if(Application.getApiVersion()<45){r({error:"API_VERSION is lower then 45"});return}if(a[e]&&t===false){n();return}if(!d[e]){d[e]=[]}d[e].push({fail:e=>{r(e)},success:()=>{n()}});if(u[e]){return}u[e]=true;const i={headers:{"Content-Type":"application/json"},data:Object.keys(a)};dynamicLoad(`/mobileapp/jn/${e}/?type=extension`,i).then((t=>{delete u[e];a[e]=true;if(d[e]){d[e].forEach((e=>e.success.call()))}})).catch((t=>{delete u[e];if(d[e]){d[e].forEach((e=>e.fail.call(null,t)))}}))}))};this.jn={moduleUsage:s,define:c,require:o,export:l,import:p}})();
//# sourceMappingURL=platform.map.js