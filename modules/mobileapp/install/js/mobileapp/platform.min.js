(function(){let e={};let t=[];let n={};let r=".";function i(e){let t=e.factory;let n=function(t){let n=t;if(t.charAt(0)==="."){n=e.id.slice(0,e.id.lastIndexOf(r))+r+t.slice(2)}return l(n)};e.exports={};delete e.factory;t(n,e.exports,e);return e.exports}let l=function(r){if(r.startsWith("native/")){if(typeof nativeRequire==="function"){return nativeRequire(r.replace("native/",""))}return{}}if(!e[r]){throw new Error("extension "+r+" not found")}else if(r in n){let e=t.slice(n[r]).join(" -> ")+" -> "+r;throw new Error("Cycle in require graph: "+e)}if(e[r].factory){try{n[r]=t.length;t.push(r);return i(e[r])}finally{delete n[r];t.pop()}}return e[r].exports};let o=()=>{let t=Object.keys(e);let n=t.length;let r=t.filter((t=>typeof e[t].factory=="undefined"));let i=r.length;let l=t.filter((e=>!r.includes(e)));return{defined:t,definedCount:n,used:r,usedCount:i,emptyUsage:l}};let f=function(t,n){if(Object.prototype.hasOwnProperty.call(e,t)){throw new Error("module "+t+" already defined")}e[t]={id:t,factory:n}};f.remove=function(t){delete e[t]};f.moduleMap=e;let a={};this.jnExtensionData={set:function(e,t){a[e]=t},get:function(e){if(typeof a[e]!=="undefined"){return a[e]}return{}}};let s=this.jnexport=(...e)=>{e.forEach((e=>{if(e instanceof Array){if(e.length===2){this[e[1]]=e[0]}}else{this[e.name]=e}}))};let u={};let c=null;let d={};let p=(e,t=false)=>{if(c==null){c={};this.loadedExtensions.forEach((e=>{u[e]=true}))}return new Promise(((n,r)=>{if(Application.getApiVersion()<45){r({error:"API_VERSION is lower then 45"});return}if(u[e]&&t===false){n();return}if(!d[e]){d[e]=[]}d[e].push({fail:e=>{r(e)},success:()=>{n()}});if(c[e]){return}c[e]=true;let i={headers:{"Content-Type":"application/json"},data:Object.keys(u)};dynamicLoad(`/mobileapp/jn/${e}/?type=extension`,i).then((t=>{delete c[e];u[e]=true;if(d[e]){d[e].forEach((e=>e.success.call()))}})).catch((t=>{delete c[e];if(d[e]){d[e].forEach((e=>e.fail.call(null,t)))}}))}))};this.jn={moduleUsage:o,define:f,require:l,export:s,import:p}})();
//# sourceMappingURL=platform.map.js