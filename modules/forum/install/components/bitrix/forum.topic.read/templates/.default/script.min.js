function forumActionComment(e,t){if(!BX.util.in_array(t,["DEL","MODERATE"]))return false;if(t=="DEL"&&!confirm(oText["cdm"]))return false;var i=e.getAttribute("href");i=i.replace(/.AJAX_CALL=Y/g,"").replace(/.sessid=[^&]*/g,"");i+=(i.indexOf("?")>-1?"&":"?")+"AJAX_CALL=Y&sessid="+BX.bitrix_sessid();if(linkParent=BX.findParent(e,{className:"forum-action-links"}))BX.hide(linkParent);var a=BX.create("a",{attrs:{className:"forum-action-note"}});a.innerHTML=oText["wait"];linkParent.parentNode.appendChild(a);var s=function(e){BX.remove(a);BX.show(e)};function r(e,t){if(!BX.type.isDomNode(e)||!BX.type.isDomNode(t))return false;while(e.childNodes.length>0)t.appendChild(e.childNodes[0]);return true}BX.ajax.loadJSON(i,function(o){if(o.status==true){var n=BX.findParent(e,{tag:"table"});if(n){var l=BX.findChild(n,{className:"forum-action-links"},true);if(t=="DEL"){var f=BX.findChild(n,{tagName:"tfoot"});if(!!f){lastMessage=n.previousSibling;while(!!lastMessage&&lastMessage.nodeType!=1)lastMessage=lastMessage.previousSibling}var d=BX.create("div",{style:{overflow:"hidden"}});n.parentNode.insertBefore(d,n);d.appendChild(n);if(!!f&&!!lastMessage)lastMessage.appendChild(f);BX.fx.hide(d,"scroll",{time:.35,callback_complete:function(){BX.remove(d);var e=BX.findChild(document,{"class":"forum-post-table"},true,true);if(!e||e.length<1)window.location=BX.message("topic_read_url");s(l)}})}else{var c=BX.hasClass(n,"forum-post-hidden");var u=c?oText["hide"]:oText["show"];var m=BX.findChild(n,{className:"forum-cell-post"},true);var d=BX.create("div");r(m,d);m.appendChild(d);BX.fx.hide(d,"fade",{time:.1,callback_complete:function(){BX.toggleClass(n,"forum-post-hidden");e.innerHTML=u;i=i.replace(new RegExp("ACTION="+(c?"SHOW":"HIDE")),"ACTION="+(c?"HIDE":"SHOW"));e.setAttribute("href",i);BX.fx.show(d,"fade",{time:.1,callback_complete:function(){r(d,m);m.removeChild(d)}});s(l)}})}}}else{BX.addClass(a,"error");a.innerHTML='<font class="errortext">'+o.message+"</font>"}});return false}var __forum_messages_selected=false;function SelectPosts(e){__forum_messages_selected=!__forum_messages_selected;form=document.forms["MESSAGES_"+e];if(typeof form!="object"||form==null)return false;var t=form.getElementsByTagName("input");if(t&&typeof t=="object"){if(!t.length||typeof t.length=="undefined"){t=[t]}for(ii=0;ii<t.length;ii++){if(!(t[ii].type=="checkbox"&&t[ii].name=="message_id[]"))continue;t[ii].checked=__forum_messages_selected;var i=t[ii].parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;if(t[ii].checked)i.className+=" forum-post-selected";else i.className=i.className.replace(/\s*forum-post-selected/gi,"")}}}function Validate(e){if(typeof e!="object"||e==null)return false;var t=[];if(e.type.value=="messages"){var i=e.getElementsByTagName("input");if(i&&typeof i=="object"){if(!i.length||typeof i.length=="undefined"){i=[i]}var a=true;for(ii=0;ii<i.length;ii++){if(!(i[ii].type=="checkbox"&&i[ii].name=="message_id[]"))continue;if(i[ii].checked){a=false;break}}if(a)t.push(oText["no_data"])}}if(e["ACTION"].value=="")t.push(oText["no_action"]);if(t.length>0){alert(t.join("\n"));return false}if(e["ACTION"].value=="DEL_TOPIC")return confirm(oText["cdt"]);else if(e["ACTION"].value=="DEL")return confirm(oText["cdms"]);return true}function fReplyForm(){var e=window["BXHtmlEditor"]?window["BXHtmlEditor"].Get("POST_MESSAGE"):false;if(e)setTimeout(function(){e.Focus()},100)}BX(function(){if(BX.browser.IsIE()){var e=BX.findChildren(document,{className:"forum-post-table"},true);if(!e)return;for(i in e){var t=e[i].getElementsByTagName("*"),i=t.length;while(i--){if(t[i].scrollWidth>t[i].offsetWidth){t[i].style["paddingBottom"]="20px";t[i].style["overflowY"]="hidden"}}}}});
//# sourceMappingURL=script.map.js