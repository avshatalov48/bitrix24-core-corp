(function(){"use strict";BX.namespace("BX.Voximplant.Report.Dashboard.Content");BX.Voximplant.Report.Dashboard.Content.EmployeesWorkload=function(){BX.Report.VisualConstructor.Widget.Content.AmCharts4.apply(this,arguments)};BX.Voximplant.Report.Dashboard.Content.EmployeesWorkload.prototype={__proto__:BX.Report.VisualConstructor.Widget.Content.AmCharts4.prototype,constructor:BX.Voximplant.Report.Dashboard.Content.EmployeesWorkload,onAfterChartCreate:function(){function e(e){e.background.disabled=true;e.children.clear();var r=e.createChild(am4core.Image);r.href="data:image/svg+xml;charset=US-ASCII,%3Csvg%20viewBox%3D%220%200%2036%2036%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%3E%3Cdefs%3E%3Cfilter%20x%3D%22-10.9%25%22%20y%3D%22-7.8%25%22%20width%3D%22121.9%25%22%20height%3D%22121.9%25%22%20filterUnits%3D%22objectBoundingBox%22%20id%3D%22a%22%3E%3CfeOffset%20dy%3D%221%22%20in%3D%22SourceAlpha%22%20result%3D%22shadowOffsetOuter1%22/%3E%3CfeGaussianBlur%20stdDeviation%3D%221%22%20in%3D%22shadowOffsetOuter1%22%20result%3D%22shadowBlurOuter1%22/%3E%3CfeColorMatrix%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.21131993%200%22%20in%3D%22shadowBlurOuter1%22/%3E%3C/filter%3E%3Ccircle%20id%3D%22b%22%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2216%22/%3E%3C/defs%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20transform%3D%22translate%282%201%29%22%3E%3Cuse%20fill%3D%22%23000%22%20filter%3D%22url%28%23a%29%22%20xlink%3Ahref%3D%22%23b%22/%3E%3Cuse%20fill%3D%22%23FFF%22%20xlink%3Ahref%3D%22%23b%22/%3E%3C/g%3E%3Cpath%20fill%3D%22%23C5C5C5%22%20d%3D%22M15.521%2011h1.5v12h-1.5zM19%2011h1.5v12H19z%22/%3E%3C/g%3E%3C/svg%3E";r.width=32;r.height=32;r.align="center";r.valign="middle"}if(this.chart.data.length>5){var r=new am4charts.XYChartScrollbar;r.id="scrollbar-box";r.height=70;this.chartWrapper.style.paddingTop="0px";this.chartWrapper.style.marginTop="-10px";r.dy=-14;r.series.push(this.chart.series._values[0]);r.series.push(this.chart.series._values[1]);r.series.push(this.chart.series._values[2]);r.scrollbarChart.series.getIndex(0).filters.clear();r.scrollbarChart.series.getIndex(1).filters.clear();r.scrollbarChart.series.getIndex(2).filters.clear();r.scrollbarChart.xAxes.getIndex(0).renderer.grid.template.disabled=true;r.scrollbarChart.xAxes.getIndex(0).renderer.labels.template.disabled=true;r.background.fill="#2fc6f6";r.background.fillOpacity=.12;r.thumb.background.states.getKey("hover").properties.fill=am4core.color("#2fc6f6");r.end=5/this.chart.data.length;this.chart.scrollbarX=r;var t=r.thumb.createChild(am4core.Rectangle);t.width=am4core.percent(100);t.height=2;t.dy=3;t.fill="#2fc6f6";t.align="center";t.valign="bottom";e(this.chart.scrollbarX.startGrip);e(this.chart.scrollbarX.endGrip)}this.chart.cursor=new am4charts.XYCursor;this.chart.cursor.behavior="none";this.chart.cursor.lineY.disabled=true;this.chart.cursor.lineX.disabled=true;this.chart.cursor.lineX.cursorTooltipEnabled=false;this.chart.yAxes.getIndex(0).renderer.labels.template.adapter.add("text",function(e){return e==="0.1"?"0":e});var l=this.chart.series.getIndex(1);l.columns.template.adapter.add("tooltipHTML",this.renderBalloon.bind(this))},renderBalloon:function(e,r){var t=r.dataItem.dataContext.balloon;var l=t.count;var a=t.compare;return'<div class="telephony-report-employees-workload-modal" style="border-color: #2fc6f5">'+'<div class="telephony-report-employees-workload-modal-title">'+BX.util.htmlspecialchars(r.dataItem.dataContext.groupingField)+"</div>"+'<div class="telephony-report-employees-workload-modal-subtitle-secondary">'+BX.message("TELEPHONY_REPORT_EMPLOYEES_WORKLOAD_INCOMING")+"<br>"+"</div>"+'<div class="telephony-report-employees-workload-modal-main">'+'<div class="telephony-report-employees-workload-modal-content">'+'<div class="telephony-report-employees-workload-modal-value">'+l["value_1"]+"</div>"+this.renderPercentBlock(a["value_1"])+"</div>"+"</div>"+'<div class="telephony-report-employees-workload-modal-subtitle-secondary">'+BX.message("TELEPHONY_REPORT_EMPLOYEES_WORKLOAD_OUTGOING")+"<br>"+"</div>"+'<div class="telephony-report-employees-workload-modal-main">'+'<div class="telephony-report-employees-workload-modal-content">'+'<div class="telephony-report-employees-workload-modal-value">'+l["value_2"]+"</div>"+this.renderPercentBlock(a["value_2"])+"</div>"+"</div>"+'<div class="telephony-report-employees-workload-modal-subtitle-secondary">'+BX.message("TELEPHONY_REPORT_EMPLOYEES_WORKLOAD_MISSED")+"<br>"+"</div>"+'<div class="telephony-report-employees-workload-modal-main">'+'<div class="telephony-report-employees-workload-modal-content">'+'<div class="telephony-report-employees-workload-modal-value">'+l["value_3"]+"</div>"+this.renderPercentBlock(a["value_3"],true)+"</div>"+"</div>"+"</div>"},renderPercentBlock:function(e,r){if(e===null||e==0){return'<div style="color:grey;">&mdash;</div>'}var t="telephony-report-employees-workload-modal-percent-value";var l;if(e>0){l=r?"red":"green";t+=" "+l}else{l=r?"green":"red";t+=" "+l}if(e%1===0){e=Math.round(e)}e=(e>0?"+":"")+e.toString();return'<div class="'+t+'">'+e+"%</div>"},handleItemClick:function(e){if(!e.target.hasOwnProperty("valueUrl")||!BX.type.isNotEmptyString(e.target.valueUrl)){return}if(BX.SidePanel){BX.SidePanel.Instance.open(e.target.valueUrl,{cacheable:false,loader:"voximplant:grid-loader"})}else{window.open(e.target.valueUrl)}}}})();
//# sourceMappingURL=view.map.js