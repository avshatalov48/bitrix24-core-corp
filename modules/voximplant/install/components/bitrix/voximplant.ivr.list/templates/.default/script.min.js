(function(n){BX.namespace("BX.Voximplant");var t=null;var e="/bitrix/components/bitrix/voximplant.ivr.list/ajax.php";var i="voximplant_ivr_list";var a={createUrl:"",isIvrEnabled:false};BX.Voximplant.IvrList=function(){this.bindEvents()};BX.Voximplant.IvrList.getInstance=function(){if(!t){t=new BX.Voximplant.IvrList}return t};BX.Voximplant.IvrList.setDefaults=function(n){for(var t in n){if(n.hasOwnProperty(t)&&a.hasOwnProperty(t)){a[t]=n[t]}}};BX.Voximplant.IvrList.prototype.bindEvents=function(){BX.bind(BX("add-ivr"),"click",this._onAddIvrButtonClick.bind(this));BX.addCustomEvent("SidePanel.Slider:onMessage",this._onSidePanelMessage.bind(this))};BX.Voximplant.IvrList.prototype.edit=function(n){BX.SidePanel.Instance.open(n,{cacheable:false})};BX.Voximplant.IvrList.prototype.delete=function(t){t=parseInt(t);var a={action:"delete",sessid:BX.bitrix_sessid(),id:t};var o=BX.showWait();BX.ajax({url:e,method:"POST",data:a,dataType:"json",onsuccess:function(t){BX.closeWait(null,o);if(!t.SUCCESS){var e=t.ERROR||"Unknown error";n.alert(e)}else{var a=BX.Main.gridManager.getInstanceById(i);if(a){a.reload()}}},onfailure:function(){BX.closeWait(null,o);n.alert("Network error")}})};BX.Voximplant.IvrList.prototype._onSidePanelMessage=function(n){if(n.getEventId()==="IvrEditor::onSave"){var t=BX.Main.gridManager.getInstanceById(i);if(t){t.reload()}}};BX.Voximplant.IvrList.prototype._onAddIvrButtonClick=function(n){if(a.isIvrEnabled){BX.SidePanel.Instance.open(a.createUrl,{cacheable:false})}else{BX.UI.InfoHelper.show("limit_contact_center_telephony_ivr")}}})(window);
//# sourceMappingURL=script.map.js