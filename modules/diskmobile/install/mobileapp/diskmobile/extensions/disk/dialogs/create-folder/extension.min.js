jn.define("disk/dialogs/create-folder",((e,t,n)=>{const{Loc:s}=e("loc");const{Alert:a}=e("alert");const{Indent:i}=e("tokens");const{StringInput:o,InputDesign:r,InputMode:d}=e("ui-system/form/inputs/string");const{BaseDialog:l}=e("disk/dialogs/base");class g extends l{constructor(e){super(e);this.nameFieldRef=null;this.state={name:"",pending:false}}get isLoading(){return this.state.pending}getTestId(e){return`create-folder-dialog-${e}`}isButtonDisabled(){return!this.#e()}getButtonText(){return s.getMessage("M_DISK_CREATE_FOLDER_DIALOG_CREATE_BUTTON")}componentDidMount(){super.componentDidMount();this.#t()}#t=()=>{void this.nameFieldRef?.focus()};#n=e=>{this.nameFieldRef=e};#s=e=>{this.setState({name:e})};#e=()=>this.state.name.length>0;save=()=>{if(this.state.pending){return}this.setState({pending:true});const e={id:this.props.parentFolderId,name:this.state.name};BX.ajax.runAction("disk.api.folder.addSubFolder",{data:e}).then((e=>{this.close();this.props.onCreate?.(e?.data?.folder)})).catch((e=>{console.error(e);a.alert(s.getMessage("M_DISK_CREATE_FOLDER_DIALOG_ERROR_TITLE"),s.getMessage("M_DISK_CREATE_FOLDER_DIALOG_ERROR_TEXT"),(()=>this.setState({pending:false})),s.getMessage("M_DISK_CREATE_FOLDER_DIALOG_ERROR_OK"))}))};static async open(e,t){super.open(e,t)}renderContent(){return View({style:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",paddingHorizontal:i.M.toNumber()}},this.renderNameInput())}renderNameInput(){return o({forwardRef:this.#n,testId:this.getTestId("name-field"),value:this.state.name,placeholder:s.getMessage("M_DISK_CREATE_FOLDER_DIALOG_NAME_PLACEHOLDER"),onChange:this.#s,design:r.GREY,mode:d.STROKE,focused:true})}}n.exports={CreateFolderDialog:g}}));
//# sourceMappingURL=extension.map.js