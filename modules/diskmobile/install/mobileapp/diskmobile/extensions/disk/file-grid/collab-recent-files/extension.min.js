jn.define("disk/file-grid/collab-recent-files",((e,t,s)=>{const{Loc:o}=e("loc");const{makeLibraryImagePath:i}=e("asset-manager");const{Link4:n,LinkMode:a,LinkDesign:r}=e("ui-system/blocks/link");const{RunActionExecutor:l}=e("rest/run-action-executor");const{BaseFileGrid:d}=e("disk/file-grid/base");const{FileGridMoreMenu:g}=e("disk/file-grid/navigation");const{DiskAnalyticsEvent:c}=e("disk/analytics");const{DiskPull:E,createRenameOnlyFilesMiddleware:h,createAddRecentFileOnlyFromCurrentStorageMiddleware:u}=e("disk/pull");class L extends d{constructor(e){super(e);this.images={};this.moreMenu=new g(this.sorting.getType(),this.sorting.getIsASC(),{onToggleFileExtensions:this.onToggleFileExtensions,onOpenTrashcan:this.onOpenTrashcan})}getId(){return"CollabRecentFiles"}isShowFloatingButton(){return this.state.folderRights?.canAdd}isCollabFolder(){return true}showFolders(){return false}getListActions(){return{loadItems:"diskmobile.Recent.getByCollabId"}}getListActionParams(){return{loadItems:{groupId:this.props.collabId,search:this.getSearchParams().searchString}}}fetchStorage(){const e={groupId:this.props.collabId};new l("diskmobile.Storage.getBySocialGroup",e).setCacheId(`disk.collabStorage${this.props.collabId}`).setCacheHandler((e=>this.onStorageLoaded(e,true))).setHandler((e=>this.onStorageLoaded(e,false))).call(true)}getFolderId(){return this.storage?.rootObjectId||null}onFloatingButtonLongClick=()=>{};onStorageLoaded(e,t){if(this.handleStorageLoadFailure(e,t)){return}this.storage=e.data.storage;this.setState({loading:false,folderRights:e.data.rootFolderRights})}getAllowedPullCommands(){return[E.Command.OBJECT_RENAMED,E.Command.CONTENT_UPDATED,E.Command.OBJECT_MARK_DELETED,E.Command.NEW_RECENTS_FILE,E.Command.RECENT_FILE_MOVED]}getPullCommandProcessors(){return[h(),u(this.getStorageId())]}getEmptyListComponentProps=()=>{let e=o.getMessage("M_DISK_COLLAB_FILES_EMPTY_TITLE");let t=o.getMessage("M_DISK_COLLAB_FILES_EMPTY_DESCRIPTION");let s=i("my-files.svg","empty-states","disk");let l=[n({testId:this.getTestId("empty-screen-read-more"),text:o.getMessage("M_DISK_COMMON_READ_MORE"),mode:a.SOLID,design:r.LIGHT_GREY,onClick:()=>helpdesk.openHelpArticle("22707648","helpdesk")})];if(this.isSearching()){e=o.getMessage("M_DISK_EMPTY_SEARCH_RESULT_GLOBAL_TITLE");t=o.getMessage("M_DISK_EMPTY_SEARCH_RESULT_GLOBAL_DESCRIPTION");s=i("search.svg","empty-states");l=undefined}else if(!this.isRootFolder()){e=o.getMessage("M_DISK_EMPTY_FOLDER_TITLE");t=undefined;l=undefined}return{title:e,description:t,imageUri:s,buttons:l}};sendUploadFileAnalytics(e=[]){e.forEach((e=>{c.createFromFile(e).setEvent(c.Event.UPLOAD_FILE).setSection(c.Section.COLLAB).setSubSection(c.Subsection.COLLAB_FILES).setCollabId(this.props.collabId).send()}))}}s.exports={CollabRecentFiles:L}}));
//# sourceMappingURL=extension.map.js