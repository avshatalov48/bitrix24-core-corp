jn.define("disk/file-grid/shared-files",((e,t,s)=>{const{Loc:i}=e("loc");const{BaseFileGrid:r}=e("disk/file-grid/base");const{RunActionExecutor:n}=e("rest/run-action-executor");const{makeLibraryImagePath:a}=e("asset-manager");const{DiskAnalyticsEvent:o}=e("disk/analytics");const{SearchType:S,SearchEntity:d}=e("disk/enum");const{Button:E,ButtonDesign:c,ButtonSize:l}=e("ui-system/form/buttons");class _ extends r{getId(){return"SharedFilesGrid"}fetchStorage(){new n("diskmobile.Storage.getSharedStorage",{}).setCacheId(`disk.commonStorage${env.userId}`).setCacheHandler((e=>this.onStorageLoaded(e,true))).setHandler((e=>this.onStorageLoaded(e,false))).call(true)}handleStorageLoadFailure(e,t){if(e.errors.length>0){this.setState({loading:false});return true}return false}isShowFloatingButton(){return this.state.folderRights?.canAdd}getListActions(){return{loadItems:this.getFolderId()?"diskmobile.Folder.getChildren":"diskmobile.Shared.getChildren"}}getSearchContext(){return{type:this.isRootFolder()||this.forcedGlobalSearch?S.GLOBAL:S.DIRECTORY,entities:[d.COMMON]}}getEmptyListComponentProps=()=>{let e=i.getMessage("M_DISK_SHARED_FILES_EMPTY_TITLE");let t=i.getMessage("M_DISK_SHARED_FILES_EMPTY_DESCRIPTION");let s=a("shared-files.svg","empty-states","disk");let r=[];if(this.isSearching()){const n=this.getSearchContext()?.type===S.GLOBAL;e=n?i.getMessage("M_DISK_EMPTY_SEARCH_RESULT_GLOBAL_TITLE"):i.getMessage("M_DISK_EMPTY_SEARCH_RESULT_TITLE_MSGVER_2");t=n?i.getMessage("M_DISK_EMPTY_SEARCH_RESULT_GLOBAL_DESCRIPTION"):i.getMessage("M_DISK_EMPTY_SEARCH_RESULT_DESCRIPTION_MSGVER_2");s=a("search.svg","empty-states");r=n?[]:[E({testId:this.getTestId("empty-screen-search-everywhere"),design:c.OUTLINE_ACCENT_2,size:l.M,text:i.getMessage("M_DISK_EMPTY_SEARCH_RESULT_SEARCH_EVERYWHERE"),onClick:()=>this.forceGlobalSearch()})]}else if(!this.isRootFolder()){e=i.getMessage("M_DISK_EMPTY_FOLDER_TITLE");t=undefined}return{title:e,description:t,imageUri:s,buttons:r}};getTrashWebUrl(){return"/docs/shared/trashcan/"}sendCreateFolderAnalytics(){(new o).setEvent(o.Event.ADD_FOLDER).setSection(o.Section.FILES).setSubSection(o.Subsection.COMPANY_FILES).send()}sendUploadFileAnalytics(e=[]){e.forEach((e=>{o.createFromFile(e).setEvent(o.Event.UPLOAD_FILE).setSection(o.Section.FILES).setSubSection(o.Subsection.COMPANY_FILES).send()}))}}s.exports={SharedFilesGrid:_}}));
//# sourceMappingURL=extension.map.js