(function(){"use strict";BX.namespace("BX.Report.VisualConstructor.Widget.Config.Fields");BX.Report.VisualConstructor.Widget.Config.Fields.DropDownResponsible=function(e){BX.Report.VisualConstructor.Widget.ConfigField.Base.apply(this,arguments);this.fieldScope=e.fieldScope;this.id=this.fieldScope.id;this.fullOptions=e.fullOptions;this.linesOperators=e.linesOperators;this.idOpenLinesOptions=e.idOpenLinesOptions;this.init()};BX.Report.VisualConstructor.Widget.Config.Fields.DropDownResponsible.prototype={__proto__:BX.Report.VisualConstructor.Field.Base.prototype,constructor:BX.Report.VisualConstructor.Widget.Config.Fields.DropDownResponsible,init:function(){delete this.fullOptions.__;for(var e in this.linesOperators){delete this.linesOperators[e].__}this.handlerCurrentValue=this.fieldScope.options[this.fieldScope.selectedIndex].value;BX.bind(this.fieldScope,"change",BX.delegate(this.handlerSelectChangeHandler,this));BX.addCustomEvent(BX(this.idOpenLinesOptions),this.idOpenLinesOptions+"_onChange",BX.delegate(function(e){var i=e.fieldScope.options[e.fieldScope.options.selectedIndex].value;if(!isNaN(i)&&this.linesOperators[i]){this.setOptions(this.linesOperators[i])}else{this.setOptions(this.fullOptions)}},this))},handlerSelectChangeHandler:function(e){BX.onCustomEvent(this.fieldScope,this.id+"_onChange",[this])},setOptions:function(e){if(typeof e==="object"){var i=[];for(var t in e){i.push([t,e[t]])}e=i}var s=this.fieldScope.options.selectedIndex;var o=this.fieldScope.options;var n="__";for(var l=o.length;l>1;l--){var p=l-1;if(p===s){n=o[p].value}o[p]=null}for(var r=0;r<e.length;r++){var a=this.fieldScope.options.length;var d=document.createElement("option");d.text=BX.util.htmlspecialcharsback(e[r][1]);d.value=e[r][0];this.fieldScope.options[a]=d;if(n===d.value){this.fieldScope.options.selectedIndex=a}}}}})();
//# sourceMappingURL=script.map.js