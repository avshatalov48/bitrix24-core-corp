(function(e){BX.Idea=!!BX.Idea?BX.Idea:{};BX.Idea.obj=!!BX.Idea.obj?BX.Idea.obj:{};if(!!BX.Idea["customizeEditor"]||!!top.BX.Idea["customizeEditor"])return;BX.Idea.customizeEditor=function(t){BX.addCustomEvent(e,"OnEditorInitedBefore",BX.Idea.onEditorInitedBefore)};BX.Idea.onEditorInitedBefore=function(e){var t="\nimg.bxed-cut{background: transparent url('/bitrix/images/blog/editor/cut_image.gif') left top repeat-x; margin: 2px; width: 100%; height: 12px;}\n";if(e.iframeCssText!=undefined&&e.iframeCssText.length>0)e.iframeCssText+=t;else e.iframeCssText=t;e.AddButton({id:"cut",name:BX.message.CutTitle,iconClassName:"cut",disabledForTextarea:false,src:"/bitrix/images/blog/editor/cut_button.png",toolbarSort:205,handler:function(){var t=this,i=false;if(!t.editor.bbCode||!t.editor.synchro.IsFocusedOnTextarea()){var a='<img id="'+e.SetBxTag(false,{tag:"cut"})+'" class="bxed-cut" src="'+e.EMPTY_IMAGE_SRC+'" title="'+BX.message.CutTitle+'">';i=t.editor.action.actions.insertHTML.exec("insertHTML",a)}else{i=t.editor.action.actions.formatBbCode.exec("formatBbCode",{tag:"CUT",singleTag:true})}return i}});e.AddParser({name:"cut",obj:{Parse:function(t,i){i=i.replace(/\[cut\]/gi,function(t,i,a){var r='<img id="'+e.SetBxTag(false,{tag:"cut"})+'" class="bxed-cut" src="'+e.EMPTY_IMAGE_SRC+'" title="'+BX.message.CutTitle+'">';return r});return i},UnParse:function(e,t){if(e.tag=="cut")return"[CUT]";else return""}}})}})(window);