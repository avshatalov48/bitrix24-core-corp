this.BX=this.BX||{};this.BX.Mail=this.BX.Mail||{};(function(e,t,a){"use strict";var l,i,s;function r(e,t,a){n(e,t);t.set(e,a)}function n(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var c=new WeakMap;var d=new WeakMap;var o=new WeakMap;var b=new WeakMap;var v=new WeakMap;var u=new WeakMap;var p=new WeakMap;var h=new WeakMap;var m=function(){function e(){var t=this;var l=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{wrapper:[],filter:[]};babelHelpers.classCallCheck(this,e);r(this,c,{writable:true,value:void 0});r(this,d,{writable:true,value:void 0});r(this,o,{writable:true,value:false});r(this,b,{writable:true,value:void 0});r(this,v,{writable:true,value:void 0});r(this,u,{writable:true,value:void 0});r(this,p,{writable:true,value:void 0});r(this,h,{writable:true,value:void 0});a.EventEmitter.subscribe("BX.Main.Filter:apply",(function(e){var a=babelHelpers.classPrivateFieldGet(t,d).getFilterFieldsValues()["IS_SEEN"];if(a==="N"){t.activateBtn()}else{t.deactivateBtn()}}));babelHelpers.classPrivateFieldSet(this,c,l["wrapper"]);babelHelpers.classPrivateFieldSet(this,d,l["filter"]);babelHelpers.classPrivateFieldSet(this,v,babelHelpers.classPrivateFieldGet(this,d).getApi())}babelHelpers.createClass(e,[{key:"setCount",value:function e(t){t=Number(t);t=isNaN(t)?0:t;if(t!==undefined){babelHelpers.classPrivateFieldGet(this,p).textContent=t;if(t!==0){babelHelpers.classPrivateFieldGet(this,p).classList.remove("mail-counter-zero")}else{babelHelpers.classPrivateFieldGet(this,p).classList.add("mail-counter-zero")}}}},{key:"activateBtn",value:function e(){babelHelpers.classPrivateFieldSet(this,o,true);babelHelpers.classPrivateFieldGet(this,b).classList.add("mail-msg-counter-number-selected")}},{key:"deactivateBtn",value:function e(){babelHelpers.classPrivateFieldSet(this,o,false);babelHelpers.classPrivateFieldGet(this,b).classList.remove("mail-msg-counter-number-selected")}},{key:"onClickFilterButton",value:function e(){if(!babelHelpers.classPrivateFieldGet(this,o)){this.activateBtn();this.setUnreadFilter()}else{this.deactivateBtn();this.removeUnreadFilter()}}},{key:"removeUnreadFilter",value:function e(){if(!!babelHelpers.classPrivateFieldGet(this,d)&&babelHelpers.classPrivateFieldGet(this,d)instanceof BX.Main.Filter){babelHelpers.classPrivateFieldGet(this,v).setFields({DIR:babelHelpers.classPrivateFieldGet(this,d).getFilterFieldsValues()["DIR"]});babelHelpers.classPrivateFieldGet(this,v).apply()}}},{key:"hideReadAllBtn",value:function e(){babelHelpers.classPrivateFieldGet(this,u).classList.add("mail-toolbar-hide-element")}},{key:"showReadAllBtn",value:function e(){babelHelpers.classPrivateFieldGet(this,u).classList.remove("mail-toolbar-hide-element")}},{key:"hideCounter",value:function e(){babelHelpers.classPrivateFieldGet(this,b).classList.add("mail-toolbar-hide-element");babelHelpers.classPrivateFieldGet(this,h).classList.add("mail-toolbar-hide-element")}},{key:"showCounter",value:function e(){babelHelpers.classPrivateFieldGet(this,b).classList.remove("mail-toolbar-hide-element");babelHelpers.classPrivateFieldGet(this,h).classList.remove("mail-toolbar-hide-element")}},{key:"setUnreadFilter",value:function e(){if(!!babelHelpers.classPrivateFieldGet(this,d)&&babelHelpers.classPrivateFieldGet(this,d)instanceof BX.Main.Filter){babelHelpers.classPrivateFieldGet(this,v).setFields({DIR:babelHelpers.classPrivateFieldGet(this,d).getFilterFieldsValues()["DIR"],IS_SEEN:"N"});babelHelpers.classPrivateFieldGet(this,v).apply()}}},{key:"build",value:function e(){var r=this;var n=t.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['<div class="mail-filter-toolbar">\n\t\t\t<div class="mail-filter-counter" data-role="mail-filter-counter">\n\t\t\t\t<div data-role="mail-filter-title">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>"])),t.Loc.getMessage("MAIL_FILTER_TOOLBAR_TITLE"));var d=t.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['<span class="mail-toolbar-counter">\n\t\t\t<span class="mail-msg-counter-number" data-role="unread-counter-number"></span>\n\t\t\t<span class="mail-msg-counter-text">','</span>\n\t\t\t<span class="mail-msg-counter-remove"></span>\n\t\t</span>'])),t.Loc.getMessage("MAIL_FILTER_NOT_READ"));var o=t.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<span class="mail-toolbar-counter">\n\t\t\t<span class="mail-msg-counter-text">',"</span>\n\t\t</span>"])),t.Loc.getMessage("MAIL_FILTER_READ_ALL"));babelHelpers.classPrivateFieldSet(this,p,d.querySelector('[data-role="unread-counter-number"]'));babelHelpers.classPrivateFieldSet(this,h,n.querySelector('[data-role="mail-filter-title"]'));babelHelpers.classPrivateFieldSet(this,u,o);babelHelpers.classPrivateFieldSet(this,b,d);d.onclick=function(){r.onClickFilterButton()};o.onclick=function(){BX.Mail.Client.Message.List["mail-client-list-manager"].onReadClick("all");r.removeUnreadFilter()};var v=n.querySelector('[data-role="mail-filter-counter"]');v.append(d);v.append(o);babelHelpers.classPrivateFieldGet(this,c).append(n);a.EventEmitter.subscribe("BX.Mail.Home:updatingCounters",function(e){if(e["data"]["name"]==="dirs"){var t=e["data"]["counters"];var a=e["data"]["hidden"];var l=e["data"]["selectedDirectory"];var i=t[l];if(l!==""){this.showReadAllBtn()}else{i=e["data"]["total"];this.hideReadAllBtn()}if(a[l]&&l!==""){this.hideCounter()}else{this.setCount(i);this.showCounter()}}}.bind(this))}}]);return e}();e.FilterToolbar=m})(this.BX.Mail.Client=this.BX.Mail.Client||{},BX,BX.Event);
//# sourceMappingURL=filtertoolbar.bundle.map.js