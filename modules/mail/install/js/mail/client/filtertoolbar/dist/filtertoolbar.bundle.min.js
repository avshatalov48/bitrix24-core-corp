this.BX=this.BX||{};this.BX.Mail=this.BX.Mail||{};(function(e,t,a){"use strict";var l,i,s;var r=new WeakMap;var n=new WeakMap;var c=new WeakMap;var d=new WeakMap;var b=new WeakMap;var v=new WeakMap;var o=new WeakMap;var u=new WeakMap;var p=function(){function e(){var t=this;var l=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{wrapper:[],filter:[],startDir:"INBOX"};babelHelpers.classCallCheck(this,e);r.set(this,{writable:true,value:void 0});n.set(this,{writable:true,value:void 0});c.set(this,{writable:true,value:false});d.set(this,{writable:true,value:void 0});b.set(this,{writable:true,value:void 0});v.set(this,{writable:true,value:void 0});o.set(this,{writable:true,value:void 0});u.set(this,{writable:true,value:void 0});a.EventEmitter.subscribe("BX.Main.Filter:apply",(function(e){var a=babelHelpers.classPrivateFieldGet(t,n).getFilterFieldsValues()["IS_SEEN"];if(a==="N"){t.activateBtn()}else{t.deactivateBtn()}}));babelHelpers.classPrivateFieldSet(this,r,l["wrapper"]);babelHelpers.classPrivateFieldSet(this,n,l["filter"]);babelHelpers.classPrivateFieldSet(this,b,babelHelpers.classPrivateFieldGet(this,n).getApi())}babelHelpers.createClass(e,[{key:"setCount",value:function e(t){t=Number(t);t=isNaN(t)?0:t;if(t!==undefined){babelHelpers.classPrivateFieldGet(this,o).textContent=t;if(t!==0){babelHelpers.classPrivateFieldGet(this,o).classList.remove("mail-counter-zero")}else{babelHelpers.classPrivateFieldGet(this,o).classList.add("mail-counter-zero")}}}},{key:"activateBtn",value:function e(){babelHelpers.classPrivateFieldSet(this,c,true);babelHelpers.classPrivateFieldGet(this,d).classList.add("mail-msg-counter-number-selected")}},{key:"deactivateBtn",value:function e(){babelHelpers.classPrivateFieldSet(this,c,false);babelHelpers.classPrivateFieldGet(this,d).classList.remove("mail-msg-counter-number-selected")}},{key:"onClickFilterButton",value:function e(){if(!babelHelpers.classPrivateFieldGet(this,c)){this.activateBtn();this.setUnreadFilter()}else{this.deactivateBtn();this.removeUnreadFilter()}}},{key:"removeUnreadFilter",value:function e(){if(!!babelHelpers.classPrivateFieldGet(this,n)&&babelHelpers.classPrivateFieldGet(this,n)instanceof BX.Main.Filter){babelHelpers.classPrivateFieldGet(this,b).setFields({DIR:babelHelpers.classPrivateFieldGet(this,n).getFilterFieldsValues()["DIR"]});babelHelpers.classPrivateFieldGet(this,b).apply()}}},{key:"hideCounter",value:function e(){babelHelpers.classPrivateFieldGet(this,d).classList.add("mail-toolbar-hide-element");babelHelpers.classPrivateFieldGet(this,u).classList.add("mail-toolbar-hide-element")}},{key:"showCounter",value:function e(){babelHelpers.classPrivateFieldGet(this,d).classList.remove("mail-toolbar-hide-element");babelHelpers.classPrivateFieldGet(this,u).classList.remove("mail-toolbar-hide-element")}},{key:"setUnreadFilter",value:function e(){if(!!babelHelpers.classPrivateFieldGet(this,n)&&babelHelpers.classPrivateFieldGet(this,n)instanceof BX.Main.Filter){babelHelpers.classPrivateFieldGet(this,b).setFields({DIR:babelHelpers.classPrivateFieldGet(this,n).getFilterFieldsValues()["DIR"],IS_SEEN:"N"});babelHelpers.classPrivateFieldGet(this,b).apply()}}},{key:"build",value:function e(){var n=this;var c=t.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['<div class="mail-filter-toolbar">\n\t\t\t<div class="mail-filter-counter" data-role="mail-filter-counter">\n\t\t\t\t<div class="mail-filter-counter-title"  data-role="mail-filter-title">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>"])),t.Loc.getMessage("MAIL_FILTER_TOOLBAR_TITLE"));var b=t.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['<span class="mail-toolbar-counter">\n\t\t\t<span class="mail-msg-counter-number" data-role="unread-counter-number"></span>\n\t\t\t<span class="mail-msg-counter-text">','</span>\n\t\t\t<span class="mail-msg-counter-remove"></span>\n\t\t</span>'])),t.Loc.getMessage("MAIL_FILTER_NOT_READ"));var p=t.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<span class="mail-toolbar-counter">\n\t\t\t<span class="mail-msg-counter-text">',"</span>\n\t\t</span>"])),t.Loc.getMessage("MAIL_FILTER_READ_ALL"));babelHelpers.classPrivateFieldSet(this,o,b.querySelector('[data-role="unread-counter-number"]'));babelHelpers.classPrivateFieldSet(this,u,c.querySelector('[data-role="mail-filter-title"]'));babelHelpers.classPrivateFieldSet(this,v,p);babelHelpers.classPrivateFieldSet(this,d,b);b.onclick=function(){n.onClickFilterButton()};p.onclick=function(){BX.Mail.Client.Message.List["mail-client-list-manager"].onReadClick("all");n.removeUnreadFilter()};var h=c.querySelector('[data-role="mail-filter-counter"]');h.append(b);h.append(p);babelHelpers.classPrivateFieldGet(this,r).append(c);a.EventEmitter.subscribe("BX.Mail.Home:updatingCounters",function(e){if(e["data"]["name"]==="dirs"){var t=e["data"]["counters"];var a=e["data"]["hidden"];var l=e["data"]["selectedDirectory"];var i=t[l];if(a[l]){this.hideCounter()}else{this.setCount(i);this.showCounter()}}}.bind(this))}}]);return e}();e.FilterToolbar=p})(this.BX.Mail.Client=this.BX.Mail.Client||{},BX,BX.Event);
//# sourceMappingURL=filtertoolbar.bundle.map.js