{"version":3,"file":"client.bundle.js","sources":["../src/client.js"],"sourcesContent":["import { FilterToolbar } from 'mail.client.filtertoolbar';\nimport { Binding } from 'mail.client.binding';\nimport { EventEmitter } from \"main.core.events\";\n\nexport class Client\n{\n\t#filter;\n\t#filterToolbar;\n\t#binding;\n\t#mailboxId;\n\n\tconstructor(config ={\n\t\tfilterId: '',\n\t\tmailboxId: 0,\n\t})\n\t{\n\t\tthis.#mailboxId = config['mailboxId'];\n\n\t\tthis.#filter = BX.Main.filterManager.getById(config['filterId']);\n\t\tconst mailCounterWrapper = document.querySelector('[data-role=\"mail-counter-toolbar\"]');\n\t\tconst filterToolbar = new FilterToolbar({\n\t\t\twrapper: mailCounterWrapper,\n\t\t\tfilter: this.#filter,\n\t\t});\n\t\tfilterToolbar.build();\n\t\tthis.#filterToolbar = filterToolbar;\n\n\t\tthis.#binding = new Binding(this.#mailboxId);\n\t\tBinding.initButtons();\n\n\t\tEventEmitter.subscribe('Grid::updated', (event) => {\n\t\t\tconst [grid] = event.getCompatData();\n\t\t\tif(grid !== {} && grid !== undefined && BX.Mail.Home.Grid.getId() === grid.getId())\n\t\t\t{\n\t\t\t\tBinding.initButtons();\n\t\t\t}\n\t\t});\n\n\t}\n\n\tgetFilterToolbar()\n\t{\n\t\treturn this.#filterToolbar;\n\t}\n}"],"names":["Client","config","filterId","mailboxId","BX","Main","filterManager","getById","mailCounterWrapper","document","querySelector","filterToolbar","FilterToolbar","wrapper","filter","build","Binding","initButtons","EventEmitter","subscribe","event","getCompatData","grid","undefined","Mail","Home","Grid","getId"],"mappings":";;;;;;;;;;;;AAIA,KAAaA,MAAb;CAOC,oBAIA;CAAA,QAJYC,MAIZ,uEAJoB;CACnBC,MAAAA,QAAQ,EAAE,EADS;CAEnBC,MAAAA,SAAS,EAAE;CAFQ,KAIpB;CAAA;;CAAA;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA;CAAA;;CAAA;CAAA;CAAA;CAAA;;CACC,wDAAkBF,MAAM,CAAC,WAAD,CAAxB;CAEA,qDAAeG,EAAE,CAACC,IAAH,CAAQC,aAAR,CAAsBC,OAAtB,CAA8BN,MAAM,CAAC,UAAD,CAApC,CAAf;CACA,QAAMO,kBAAkB,GAAGC,QAAQ,CAACC,aAAT,CAAuB,oCAAvB,CAA3B;CACA,QAAMC,aAAa,GAAG,IAAIC,uCAAJ,CAAkB;CACvCC,MAAAA,OAAO,EAAEL,kBAD8B;CAEvCM,MAAAA,MAAM,oCAAE,IAAF;CAFiC,KAAlB,CAAtB;CAIAH,IAAAA,aAAa,CAACI,KAAd;CACA,4DAAsBJ,aAAtB;CAEA,sDAAgB,IAAIK,2BAAJ,mCAAY,IAAZ,cAAhB;CACAA,IAAAA,2BAAO,CAACC,WAAR;CAEAC,IAAAA,6BAAY,CAACC,SAAb,CAAuB,eAAvB,EAAwC,UAACC,KAAD,EAAW;CAClD,iCAAeA,KAAK,CAACC,aAAN,EAAf;CAAA;CAAA,UAAOC,IAAP;;CACA,UAAGA,IAAI,KAAK,EAAT,IAAeA,IAAI,KAAKC,SAAxB,IAAqCnB,EAAE,CAACoB,IAAH,CAAQC,IAAR,CAAaC,IAAb,CAAkBC,KAAlB,OAA8BL,IAAI,CAACK,KAAL,EAAtE,EACA;CACCX,QAAAA,2BAAO,CAACC,WAAR;CACA;CACD,KAND;CAQA;;CAlCF;CAAA;CAAA,uCAqCC;CACC,+CAAO,IAAP;CACA;CAvCF;CAAA;CAAA;;;;;;;;"}