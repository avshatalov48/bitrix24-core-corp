this.BX=this.BX||{};(function(e,t){"use strict";function r(e,t){var r;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=n(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var a=0;var u=function e(){};return{s:u,n:function t(){if(a>=e.length)return{done:true};return{done:false,value:e[a++]}},e:function e(t){throw t},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,l=false,o;return{s:function t(){r=e[Symbol.iterator]()},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){l=true;o=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(l)throw o}}}}function n(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function u(){var e=babelHelpers.taggedTemplateLiteral(['<span class="mail-ui-avatar mail-ui-avatar-','">',"</span>"]);u=function t(){return e};return e}var i=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"stringToHashCode",value:function e(t){var r=0;for(var n=0;n<t.length;n++){r=t.charCodeAt(n)+((r<<5)-r)}return r}},{key:"numberToRGB",value:function e(t){var r=(t&16777215).toString(16);r=r.toUpperCase();return"00000".substring(0,6-r.length)+r}},{key:"stringToColor",value:function e(t){return this.numberToRGB(this.stringToHashCode(t))}},{key:"build",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{size:"small",fullName:"User Quest",email:"info@example.com"};var n=new Set(["small","big"]);if(r["size"]===undefined||!n.has(r["size"])){r["size"]="small"}r["fullName"]=r["fullName"].replace(/[\u0026\u005c\u002f\u005c\u005c\u0023\u002c\u002b\u0028\u0029\u0024\u007e\u0025\u002e\u0027\u0022\u003a\u002a\u003f\u003c\u003e\u007b\u007d\u00ab\u00bb]/g,"").toUpperCase();var a=r["fullName"].split(" ");var i=a[0][0];if(a.length>1){i+=a[1][0]}var l=t.Tag.render(u(),r["size"],i);l.style.backgroundColor=this.stringToColor(r["email"]);return l}},{key:"replaceElementWithAvatar",value:function e(t,r){var n=t.parentNode;n.insertBefore(r,t);n.removeChild(t)}},{key:"replaceTagsWithAvatars",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{className:"mail-ui-avatar"};var n=document.getElementsByClassName(t["className"]);var a=r(n),u;try{for(a.s();!(u=a.n()).done;){var i=u.value;this.replaceElementWithAvatar(i,this.build({fullName:i.getAttribute("user-name"),email:i.getAttribute("email")}))}}catch(e){a.e(e)}finally{a.f()}}}]);return e}();e.Avatar=i})(this.BX.Mail=this.BX.Mail||{},BX);
//# sourceMappingURL=avatar.bundle.map.js