this.BX=this.BX||{};(function(e,r){"use strict";var t;function a(e,r){var t=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=n(e))||r&&e&&typeof e.length==="number"){if(t)e=t;var a=0;var i=function e(){};return{s:i,n:function r(){if(a>=e.length)return{done:true};return{done:false,value:e[a++]}},e:function e(r){throw r},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,u=false,o;return{s:function r(){t=t.call(e)},n:function e(){var r=t.next();l=r.done;return r},e:function e(r){u=true;o=r},f:function e(){try{if(!l&&t["return"]!=null)t["return"]()}finally{if(u)throw o}}}}function n(e,r){if(!e)return;if(typeof e==="string")return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor)t=e.constructor.name;if(t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,r)}function i(e,r){if(r==null||r>e.length)r=e.length;for(var t=0,a=new Array(r);t<r;t++){a[t]=e[t]}return a}var l=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"stringToHashCode",value:function e(r){var t=0;for(var a=0;a<r.length;a++){t=r.charCodeAt(a)+((t<<5)-t)}return t}},{key:"alignChannelRangeColor",value:function e(r){if(r>255){return 255}else if(r<0){return 0}else{return Math.ceil(r)}}},{key:"hashToColor",value:function e(r){var t=255*3;var a=0;var n=.2;var i=(r&16711680)>>16;var l=(r&65280)>>8;var u=r&255;var o=1.5;var s=2.5;var f=2;if(t-(i+l+u)<100){i/=o;l/=o;u/=o}else if(i+l+u<200-a){i*=s;l*=s;u*=s}var c=[i,l,u];c.sort((function(e,r){return e-r}));if((c[c.length-1]-c[0])/c[0]<n){l/=f}i=this.alignChannelRangeColor(i);l=this.alignChannelRangeColor(l);u=this.alignChannelRangeColor(u);var v="#"+("0"+i.toString(16)).substr(-2)+("0"+l.toString(16)).substr(-2)+("0"+u.toString(16)).substr(-2);return v.toUpperCase()}},{key:"stringToColor",value:function e(r){return this.hashToColor(this.stringToHashCode(r))}},{key:"getInitials",value:function e(r,t){r=r.replace(/[0-9]|[-\u0026\u002f\u005c\u0023\u002c\u002b\u0028\u0029\u0024\u007e\u0025\u002e\u0027\u0022\u003a\u002a\u003f\u003c\u003e\u007b\u007d\u00ab\u00bb]/g,"");r=r.replace(/^\s+|\s+$/g,"");var a=r.split(" ");var n=a[0].substring(0,1).toUpperCase();if(a.length>1){n+=a[a.length-1].substring(0,1).toUpperCase()}if(n===""){n=t[0].toUpperCase()}return n}},{key:"getAvatarData",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{fullName:"User Quest",email:"info@example.com"};return{abbreviation:this.getInitials(r["fullName"],r["email"]),color:this.stringToColor(r["email"])}}},{key:"build",value:function e(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{size:"small",fullName:"User Quest",email:"info@example.com"};var n=new Set(["small","big"]);if(a["size"]===undefined||!n.has(a["size"])){a["size"]="small"}var i=this.getAvatarData(a);var l=r.Tag.render(t||(t=babelHelpers.taggedTemplateLiteral(['<span class="mail-ui-avatar mail-ui-avatar-','">',"</span>"])),a["size"],i["abbreviation"]);l.style.backgroundColor=i["color"];return l}},{key:"replaceElementWithAvatar",value:function e(r,t){var a=r.parentNode;a.insertBefore(t,r);a.removeChild(r)}},{key:"replaceTagsWithAvatars",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{className:"mail-ui-avatar"};var t=document.getElementsByClassName(r["className"]);var n=a(t),i;try{for(n.s();!(i=n.n()).done;){var l=i.value;this.replaceElementWithAvatar(l,this.build({fullName:l.getAttribute("user-name"),email:l.getAttribute("email")}))}}catch(e){n.e(e)}finally{n.f()}}}]);return e}();e.Avatar=l})(this.BX.Mail=this.BX.Mail||{},BX);
//# sourceMappingURL=avatar.bundle.map.js