{"version":3,"file":"directorymenu.bundle.js","sources":["../src/item.js","../src/directorymenu.js"],"sourcesContent":["import { Tag } from 'main.core';\n\nexport class Item\n{\n\t#count = 0;\n\t#nameOriginal = '';\n\t#name = '';\n\t#counterElement: null;\n\t#itemElement: null;\n\t#isActive: false;\n\t#path : '';\n\t#shiftWidthInPixels = 10;\n\t#zeroLevelShiftWidth = 29;\n\n\tsetCount(number)\n\t{\n\t\tthis.#count = number;\n\t\tthis.#counterElement.textContent = number;\n\n\t\tif (number === 0)\n\t\t{\n\t\t\tthis.#counterElement.classList.add('ui-sidepanel-menu-link-text-counter-hidden');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#counterElement.classList.remove('ui-sidepanel-menu-link-text-counter-hidden');\n\t\t}\n\t}\n\n\tgetCount()\n\t{\n\t\treturn Number(this.#count);\n\t}\n\n\tdisableActivity()\n\t{\n\t\tthis.#isActive = false;\n\t\tthis.#itemElement.classList.remove('ui-sidepanel-menu-active');\n\t}\n\n\tgetPath()\n\t{\n\t\treturn this.#path;\n\t}\n\n\tenableActivity()\n\t{\n\t\tthis.#isActive = true;\n\t\tthis.#itemElement.classList.add('ui-sidepanel-menu-active');\n\t}\n\n\tisActive()\n\t{\n\t\treturn this.#isActive;\n\t}\n\n\t/**\n\t * So as not to break the menu with incorrectly synchronized directories.\n\t *\n\t * @param directory (directory structure).\n\t * @returns {boolean}\n\t */\n\tstatic checkProperties(directory) {\n\t\tif(directory['path'] === undefined || directory['name'] === undefined || directory['name'] === undefined)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tconstructor(directory, menu, nestingLevel = 0)\n\t{\n\t\tthis.#path = directory['path'];\n\t\tthis.#nameOriginal = directory['name'];\n\n\t\tthis.#name = this.#nameOriginal.charAt(0).toUpperCase() + this.#nameOriginal.slice(1);\n\n\t\tconst itemContainer = Tag.render`<div class=\"mail-menu-directory-item-container\"></div>`;\n\t\tconst itemElement = Tag.render`<li class=\"ui-sidepanel-menu-item ui-sidepanel-menu-counter-white\">\n\t\t\t\t<a style=\"padding-left: ${this.#zeroLevelShiftWidth + (this.#shiftWidthInPixels*nestingLevel)}px\" class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">\n\t\t\t\t\t\t<span class=\"ui-sidepanel-menu-link-text-item\">${this.#name}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class=\"ui-sidepanel-menu-link-text-counter\">${directory['count']}</span>\n\t\t\t\t</a>\n\t\t\t</li>`;\n\t\titemContainer.append(itemElement);\n\n\t\titemElement.onclick = ()=>\n\t\t{\n\t\t\tif(!itemContainer.isActive())\n\t\t\t{\n\t\t\t\tmenu.chooseFunction(directory['path']);\n\t\t\t\titemContainer.enableActivity();\n\t\t\t}\n\t\t}\n\n\t\tconst counterElement = itemElement.querySelector(\".ui-sidepanel-menu-link-text-counter\");\n\n\t\tthis.#counterElement = counterElement;\n\t\tthis.#itemElement = itemElement;\n\n\t\titemContainer.getCount = () => this.getCount();\n\t\titemContainer.setCount = number => this.setCount(number);\n\t\titemContainer.enableActivity = () => this.enableActivity();\n\t\titemContainer.disableActivity = () => this.disableActivity();\n\t\titemContainer.isActive = () => this.isActive();\n\n\t\tthis.setCount(directory['count']);\n\n\t\tfor(let i=0; i<directory['items'].length; i++)\n\t\t{\n\t\t\tif(!Item.checkProperties(directory['items'][i]))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst subdirectory = new Item(directory['items'][i],menu,nestingLevel+1);\n\t\t\titemContainer.append(subdirectory);\n\t\t}\n\n\t\tmenu.includeItem(itemContainer, this.#path);\n\t\treturn itemContainer;\n\t}\n}","import { Tag } from 'main.core';\nimport { EventEmitter, BaseEvent } from 'main.core.events';\nimport { Item } from './item.js';\nimport './css/ui-wrappermenu.css';\nimport './css/style.css';\n\nexport class DirectoryMenu\n{\n\t#activeDir = '';\n\t#menu = Tag.render`<ul class=\"ui-mail-left-directory-menu\"></ul>`;\n\t#dirsWithUnseenMailCounters = new Map();\n\t#items = new Map();\n\n\tgetActiveDir()\n\t{\n\t\treturn this.#activeDir;\n\t}\n\n\tsetActiveDir(path)\n\t{\n\t\tthis.#activeDir = path;\n\t}\n\n\tclearActiveMenuButtons()\n\t{\n\t\tfor (let item of this.#items.values())\n\t\t{\n\t\t\titem.disableActivity();\n\t\t}\n\t}\n\n\trebuildMenu(dirsWithUnseenMailCounters)\n\t{\n\t\tthis.#dirsWithUnseenMailCounters = dirsWithUnseenMailCounters;\n\t\tthis.cleanItems();\n\t\tthis.buildMenu();\n\t\tthis.setDirectory(this.getActiveDir());\n\t}\n\n\tcleanItems()\n\t{\n\t\tfor (let item of this.#items.values())\n\t\t{\n\t\t\tthis.#menu.removeChild(item);\n\t\t}\n\t\tthis.#items.clear();\n\t}\n\n\tincludeItem(domItem, directoryPath)\n\t{\n\t\tthis.#items.set(directoryPath, domItem);\n\t\tthis.#menu.append(domItem);\n\t}\n\n\tchooseFunction(path)\n\t{\n\t\tthis.clearActiveMenuButtons();\n\t\tthis.setActiveDir(path);\n\t\tthis.setFilterDir(path);\n\t}\n\n\tbuildMenu()\n\t{\n\t\tfor (let i = 0; i < this.#dirsWithUnseenMailCounters.length; i++)\n\t\t{\n\t\t\tconst directory = this.#dirsWithUnseenMailCounters[i];\n\t\t\tconst path = directory['path'];\n\t\t\tif(!Item.checkProperties(directory))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst itemElement = new Item(directory,this);\n\t\t}\n\t}\n\n\tsetFilterDir(name)\n\t{\n\t\tconst event = new BaseEvent({ data: { directory: name } });\n\t\tEventEmitter.emit('BX.DirectoryMenu:onChangeFilter', event);\n\n\t\tname = this.convertPathForFilter(name);\n\n\t\tconst filter = this.filter;\n\t\tif (!!filter && (filter instanceof BX.Main.Filter))\n\t\t{\n\t\t\tconst FilterApi = filter.getApi();\n\t\t\tFilterApi.setFields({\n\t\t\t\t'DIR': name,\n\t\t\t});\n\t\t\tFilterApi.apply();\n\t\t}\n\t}\n\n\tchangeCounter(dirPath, number, mode)\n\t{\n\t\tconst item = this.#items.get(dirPath);\n\n\t\tif(item === undefined) return;\n\n\t\tif (mode !== 'set')\n\t\t{\n\t\t\titem.setCount(item.getCount() + Number(number));\n\t\t}\n\t\telse\n\t\t{\n\t\t\titem.setCount(Number(number));\n\t\t}\n\t}\n\n\tsetCounters(counters)\n\t{\n\t\tfor (let path in counters)\n\t\t{\n\t\t\tif (counters.hasOwnProperty(path))\n\t\t\t{\n\t\t\t\tthis.changeCounter(path, counters[path], 'set');\n\t\t\t}\n\t\t}\n\t}\n\n\tconvertPathForFilter(path)\n\t{\n\t\tif (path === 'INBOX' || path === undefined)\n\t\t{\n\t\t\tpath = '';\n\t\t}\n\n\t\treturn path;\n\t}\n\n\tconvertPathForMenu(path)\n\t{\n\t\tif (path === '' || path === undefined)\n\t\t{\n\t\t\tpath = 'INBOX';\n\t\t}\n\n\t\treturn path;\n\t}\n\n\tsetDirectory(path)\n\t{\n\t\tpath = this.convertPathForMenu(path);\n\n\t\tthis.clearActiveMenuButtons();\n\t\tif(path === undefined) return;\n\t\tconst item = this.#items.get(path);\n\t\tif(item)\n\t\t{\n\t\t\tthis.setActiveDir(path)\n\t\t\titem.enableActivity();\n\t\t}\n\t}\n\n\tconstructor(config = {\n\t\tdirsWithUnseenMailCounters: {},\n\t\tfilterId: '',\n\t})\n\t{\n\t\tthis.filter = BX.Main.filterManager.getById(config['filterId']);\n\n\t\tEventEmitter.subscribe('BX.Main.Filter:apply', (event) => {\n\t\t\tlet dir = this.filter.getFilterFieldsValues()['DIR'];\n\t\t\tdir = this.convertPathForMenu(dir);\n\t\t\tEventEmitter.emit('BX.DirectoryMenu:onChangeFilter', new BaseEvent({ data: { directory: dir } }));\n\t\t\tthis.setDirectory(dir)\n\t\t});\n\n\t\tthis.#dirsWithUnseenMailCounters = config['dirsWithUnseenMailCounters'];\n\n\t\tthis.buildMenu();\n\t}\n\n\tgetNode()\n\t{\n\t\treturn this.#menu;\n\t}\n}"],"names":["Item","number","textContent","classList","add","remove","Number","directory","undefined","menu","nestingLevel","charAt","toUpperCase","slice","itemContainer","Tag","render","itemElement","append","onclick","isActive","chooseFunction","enableActivity","counterElement","querySelector","getCount","setCount","disableActivity","i","length","checkProperties","subdirectory","includeItem","DirectoryMenu","path","values","item","dirsWithUnseenMailCounters","cleanItems","buildMenu","setDirectory","getActiveDir","removeChild","clear","domItem","directoryPath","set","clearActiveMenuButtons","setActiveDir","setFilterDir","name","event","BaseEvent","data","EventEmitter","emit","convertPathForFilter","filter","BX","Main","Filter","FilterApi","getApi","setFields","apply","dirPath","mode","get","counters","hasOwnProperty","changeCounter","convertPathForMenu","config","filterId","Map","filterManager","getById","subscribe","dir","getFilterFieldsValues"],"mappings":"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"}