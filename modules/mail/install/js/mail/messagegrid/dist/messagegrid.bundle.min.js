this.BX=this.BX||{};(function(e,t,i){"use strict";function a(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="mail-msg-list-grid-empty">\n\t\t\t\t\t\t<div class="mail-msg-list-grid-empty-inner">\n\t\t\t\t\t\t<div class="mail-msg-list-grid-empty-title">','</div>\n\t\t\t\t\t\t<p class="mail-msg-list-grid-empty-text">','</p>\n\t\t\t\t\t\t<p class="mail-msg-list-grid-empty-text">',"</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>"]);a=function t(){return e};return e}function l(){var e=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="mail-msg-list-grid-loader mail-msg-list-grid-loader-animate">\n\t\t\t\t\t<div class="mail-msg-list-grid-loader-inner">\n\t\t\t\t\t<div class="mail-msg-list-grid-loader-img">\n\t\t\t\t\t\t<div class="mail-msg-list-grid-loader-img-inner"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ui-progressbar-track">\n\t\t\t\t\t\t<div class="ui-progressbar-bar mail-message-grid-bar" data-role="mailGridFirstLoadingUIProgressbar"></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>']);l=function t(){return e};return e}function s(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var r=function(){function e(){var a=this;babelHelpers.classCallCheck(this,e);v.add(this);n.set(this,{writable:true,value:void 0});d.set(this,{writable:true,value:void 0});u.set(this,{writable:true,value:void 0});c.set(this,{writable:true,value:false});o.set(this,{writable:true,value:void 0});g.set(this,{writable:true,value:void 0});if(babelHelpers.typeof(e.instance)==="object"){return e.instance}e.instance=this;t.EventEmitter.subscribe("Grid::allRowsSelected",function(e){if(s(a,v,b).call(a,e))babelHelpers.classPrivateFieldSet(a,c,true)});t.EventEmitter.subscribe("Grid::allRowsUnselected",function(e){if(s(a,v,b).call(a,e))babelHelpers.classPrivateFieldSet(a,c,false)});t.EventEmitter.subscribe("Grid::updated",function(e){if(s(a,v,b).call(a,e)&&babelHelpers.classPrivateFieldGet(a,c)){if(babelHelpers.classPrivateFieldGet(a,g)!==undefined){babelHelpers.classPrivateFieldGet(a,g).checked=true}a.selectAll()}});t.EventEmitter.subscribe("Mail::resetGridSelection",function(e){babelHelpers.classPrivateFieldSet(a,c,false)});t.EventEmitter.subscribe("Mail::directoryChanged",function(){babelHelpers.classPrivateFieldSet(a,c,false)});t.EventEmitter.subscribe("Grid::thereSelectedRows",function(e){if(s(a,v,b).call(a,e))babelHelpers.classPrivateFieldSet(a,c,false)});t.EventEmitter.subscribe("Grid::updated",function(e){var t=e.getCompatData(),l=babelHelpers.slicedToArray(t,1),s=l[0];if(s!==undefined&&i.Type.isFunction(s.getId)&&s.getId()===a.getId()){a.replaceTheBlankEmailStub()}});this.replaceTheBlankEmailStub();return e.instance}babelHelpers.createClass(e,[{key:"setGridWrapper",value:function e(t){babelHelpers.classPrivateFieldSet(this,d,t)}},{key:"getGridWrapper",value:function e(){return babelHelpers.classPrivateFieldGet(this,d)}},{key:"enableLoadingMessagesStub",value:function e(){var t=this;if(this.getGridWrapper()!==undefined){babelHelpers.classPrivateFieldSet(this,n,this.getGridWrapper().appendChild(i.Tag.render(l())));setTimeout(function(){babelHelpers.classPrivateFieldGet(t,n).querySelector('[data-role="mailGridFirstLoadingUIProgressbar"]').classList.add("mail-message-grid-filling-bar")},0);setTimeout(function(){if(babelHelpers.classPrivateFieldGet(t,n)!==undefined){babelHelpers.classPrivateFieldGet(t,n).remove()}},1e4)}}},{key:"replaceTheBlankEmailStub",value:function e(){var t=document.getElementsByClassName("main-grid-row main-grid-row-empty main-grid-row-body");if(t.length>0){var l=t[0];if(l.firstElementChild.firstElementChild){l.firstElementChild.firstElementChild.replaceWith(i.Tag.render(a(),i.Loc.getMessage("MAIL_MSG_LIST_GRID_EMPTY_TITLE"),i.Loc.getMessage("MAIL_MSG_LIST_GRID_EMPTY_TEXT_1"),i.Loc.getMessage("MAIL_MSG_LIST_GRID_EMPTY_TEXT_2")))}}}},{key:"setCheckboxNodeForCheckAll",value:function e(t){babelHelpers.classPrivateFieldSet(this,g,t)}},{key:"setPanel",value:function e(t){babelHelpers.classPrivateFieldSet(this,o,t)}},{key:"getPanel",value:function e(){return babelHelpers.classPrivateFieldGet(this,o)}},{key:"hidePanel",value:function e(){var t=this.getPanel();if(t&&i.Type.isFunction(t.hidePanel())){this.getPanel().hidePanel()}}},{key:"setAllRowsSelectedStatus",value:function e(){babelHelpers.classPrivateFieldSet(this,c,true)}},{key:"unsetAllRowsSelectedStatus",value:function e(){babelHelpers.classPrivateFieldSet(this,c,false)}},{key:"reloadTable",value:function e(){this.getGrid().reloadTable();this.getGrid().tableUnfade()}},{key:"setGridId",value:function e(t){if(babelHelpers.classPrivateFieldGet(this,u)===t){return}babelHelpers.classPrivateFieldSet(this,u,t);this.grid=BX.Main.gridManager.getInstanceById(t)}},{key:"selectAll",value:function e(){this.getGrid().getRows().selectAll()}},{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,u)}},{key:"getCountDisplayed",value:function e(){if(this.getGrid()){return this.getGrid().getRows().getCountDisplayed()}}},{key:"getGrid",value:function e(){return this.grid}},{key:"getRows",value:function e(){return this.getGrid().getRows().getBodyChild()}},{key:"getRowById",value:function e(t){return this.getGrid().getRows().getById(t)}},{key:"getRowNodeById",value:function e(t){return this.getRowById(t).getNode()}},{key:"getSelectedIds",value:function e(){return this.getGrid().getRows().getSelectedIds()}},{key:"hideRowByIds",value:function e(t){for(var a=0;a<t.length;a++){var l=this.getRowNodeById(t[a]);i.Dom.style(l,"display","none")}}}]);return e}();var n=new WeakMap;var d=new WeakMap;var u=new WeakMap;var c=new WeakMap;var o=new WeakMap;var g=new WeakMap;var v=new WeakSet;var b=function e(t,a){if(this.getId()!==undefined){if(a===undefined&&t.getCompatData()){var l=t.getCompatData();var s=babelHelpers.slicedToArray(l,1);a=s[0]}if(a!==undefined&&i.Type.isFunction(a.getId)&&a.getId()===this.getId())return true}return false};e.MessageGrid=r})(this.BX.Mail=this.BX.Mail||{},BX.Event,BX);
//# sourceMappingURL=messagegrid.bundle.map.js