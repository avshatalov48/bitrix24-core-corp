this.BX=this.BX||{};this.BX.Intranet=this.BX.Intranet||{};(function(e,t,s,i){"use strict";let a=e=>e,l;var r=babelHelpers.classPrivateFieldLooseKey("id");var o=babelHelpers.classPrivateFieldLooseKey("value");var n=babelHelpers.classPrivateFieldLooseKey("userId");var d=babelHelpers.classPrivateFieldLooseKey("content");var p=babelHelpers.classPrivateFieldLooseKey("formNode");class b{constructor(e){Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,o,{writable:true,value:void 0});Object.defineProperty(this,n,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,r)[r]=`form-${e.id}`;babelHelpers.classPrivateFieldLooseBase(this,o)[o]=e.inputValue;babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e.userId}getTitleRender(){return new HTMLElement}getFieldRender(){return new HTMLElement}getFormNode(){return this.render().querySelector("form#"+babelHelpers.classPrivateFieldLooseBase(this,r)[r])}render(){if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]){return babelHelpers.classPrivateFieldLooseBase(this,d)[d]}babelHelpers.classPrivateFieldLooseBase(this,d)[d]=i.Tag.render(l||(l=a`
		<div class="intranet-reinvite-popup-wrapper">
			<form method="POST" id="${0}">
				<input type="hidden" name="userId" value="${0}">
				${0}
				${0}
			</form>
		</div>`),babelHelpers.classPrivateFieldLooseBase(this,r)[r],babelHelpers.classPrivateFieldLooseBase(this,n)[n],this.getTitleRender(),this.getFieldRender());return babelHelpers.classPrivateFieldLooseBase(this,d)[d]}getValue(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o]}getData(){return new FormData(this.getFormNode())}}let c=e=>e,u,v;class P extends b{getTitleRender(){return i.Tag.render(u||(u=c`<div class="intranet-reinvite-popup-title">
			${0}
		</div>`),i.Loc.getMessage("INTRANET_JS_PHONE_POPUP_TITLE",{"#CODE#":"redirect=detail&code=17729332"}))}getFieldRender(){const e=i.Tag.render(v||(v=c`
			<div class="ui-ctl ui-ctl-textbox ui-ctl-before-icon ui-ctl-after-icon intranet-reinvite-popup-field-row">
				<div class="intranet-reinvite-popup-field-label">
					<label>${0}</label>
				</div>
				<div class="ui-ctl ui-ctl-textbox">
					<div id="intranet_reinvite_phone_flag" class="ui-ctl-before --flag"></div>
					<input id="intranet_reinvite_phone_input" type="text" name="newPhone" value="${0}" class="ui-ctl-element">
				</div>
			</div>`),i.Loc.getMessage("INTRANET_JS_PHONE_FIELD_LABEL"),this.getValue());new BX.PhoneNumber.Input({node:e.querySelector("#intranet_reinvite_phone_input"),defaultCountry:"ru",flagNode:e.querySelector("#intranet_reinvite_phone_flag"),flagSize:24,onChange:function(e){}});return e}}let h=e=>e,L,F;class H extends b{getTitleRender(){return i.Tag.render(L||(L=h`<div class="intranet-reinvite-popup-title">
			${0}
			</div>`),i.Loc.getMessage("INTRANET_JS_EMAIL_POPUP_TITLE",{"#CODE#":"redirect=detail&code=17729332"}))}getFieldRender(){return i.Tag.render(F||(F=h`
			<div class="intranet-reinvite-popup-field-row">
				<div class="intranet-reinvite-popup-field-label">
					<label>${0}</label>
				</div>
				<div class="ui-ctl ui-ctl-textbox">
					<input type="text" name="newEmail" value="${0}" class="ui-ctl-element"> 
				</div>
			</div>`),i.Loc.getMessage("INTRANET_JS_EMAIL_FIELD_LABEL"),this.getValue())}}const B={EMAIL:"email",PHONE:"phone"};class f{constructor(){}static create(e,t){switch(e){case B.EMAIL:return new H(t);case B.PHONE:return new P(t);default:throw new Error("Unknown ContextType value: "+e)}}}var g=babelHelpers.classPrivateFieldLooseKey("popup");var y=babelHelpers.classPrivateFieldLooseKey("transport");var w=babelHelpers.classPrivateFieldLooseKey("userId");var E=babelHelpers.classPrivateFieldLooseKey("id");var T=babelHelpers.classPrivateFieldLooseKey("inputValue");var _=babelHelpers.classPrivateFieldLooseKey("bindElement");var I=babelHelpers.classPrivateFieldLooseKey("form");var m=babelHelpers.classPrivateFieldLooseKey("width");var N=babelHelpers.classPrivateFieldLooseKey("createPopup");class O{constructor(e){Object.defineProperty(this,N,{value:R});Object.defineProperty(this,g,{writable:true,value:void 0});Object.defineProperty(this,y,{writable:true,value:void 0});Object.defineProperty(this,w,{writable:true,value:void 0});Object.defineProperty(this,E,{writable:true,value:void 0});Object.defineProperty(this,T,{writable:true,value:void 0});Object.defineProperty(this,_,{writable:true,value:void 0});Object.defineProperty(this,I,{writable:true,value:void 0});Object.defineProperty(this,m,{writable:true,value:void 0});if(e.userId<=0){throw new Error('Invalide "userId" parameter')}babelHelpers.classPrivateFieldLooseBase(this,w)[w]=e.userId;babelHelpers.classPrivateFieldLooseBase(this,E)[E]="reinvite-popup-"+e.userId;babelHelpers.classPrivateFieldLooseBase(this,_)[_]=i.Type.isElementNode(e.bindElement)?e.bindElement:null;babelHelpers.classPrivateFieldLooseBase(this,y)[y]=i.Type.isFunction(e.transport)?e.transport:null;babelHelpers.classPrivateFieldLooseBase(this,m)[m]=348;babelHelpers.classPrivateFieldLooseBase(this,I)[I]=f.create(e.formType,{id:babelHelpers.classPrivateFieldLooseBase(this,E)[E],userId:babelHelpers.classPrivateFieldLooseBase(this,w)[w],inputValue:e.inputValue})}show(){this.getPopup().show()}getPopup(){if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]){return babelHelpers.classPrivateFieldLooseBase(this,g)[g]}babelHelpers.classPrivateFieldLooseBase(this,g)[g]=babelHelpers.classPrivateFieldLooseBase(this,N)[N]();return babelHelpers.classPrivateFieldLooseBase(this,g)[g]}send(){babelHelpers.classPrivateFieldLooseBase(this,y)[y](babelHelpers.classPrivateFieldLooseBase(this,I)[I].getData())}}function R(e){if(t.PopupManager.isPopupExists(babelHelpers.classPrivateFieldLooseBase(this,E)[E])){return t.PopupManager.getPopupById(babelHelpers.classPrivateFieldLooseBase(this,E)[E])}return new t.Popup(babelHelpers.classPrivateFieldLooseBase(this,E)[E],babelHelpers.classPrivateFieldLooseBase(this,_)[_],{content:babelHelpers.classPrivateFieldLooseBase(this,I)[I].render(),autoHide:true,angle:{offset:babelHelpers.classPrivateFieldLooseBase(this,m)[m]/2-16.5},width:babelHelpers.classPrivateFieldLooseBase(this,m)[m],padding:18,offsetLeft:(babelHelpers.classPrivateFieldLooseBase(this,_)[_].offsetWidth/2-babelHelpers.classPrivateFieldLooseBase(this,m)[m]/2)/2-10,closeIcon:false,closeByEsc:true,overlay:false,className:"reinvite-popup-container",bindOptions:{position:"top"},animation:"fading-slide",buttons:[new s.Button({text:i.Loc.getMessage("INTRANET_JS_BTN_SEND"),color:s.Button.Color.PRIMARY,round:true,noCaps:true,onclick:e=>{this.send();this.getPopup().close()}}),new s.Button({text:i.Loc.getMessage("INTRANET_JS_BTN_CANCEL"),color:s.Button.Color.LIGHT_BORDER,round:true,noCaps:true,onclick:e=>{this.getPopup().close()}})]})}e.ReinvitePopup=O;e.FormType=B})(this.BX.Intranet.Reinvite=this.BX.Intranet.Reinvite||{},BX.Main,BX.UI,BX);
//# sourceMappingURL=reinvite-popup.bundle.map.js