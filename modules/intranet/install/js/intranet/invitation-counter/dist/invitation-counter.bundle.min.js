this.BX=this.BX||{};(function(e,t,s,i){"use strict";var r=babelHelpers.classPrivateFieldLooseKey("counterPanel");var l=babelHelpers.classPrivateFieldLooseKey("presetRelation");var a=babelHelpers.classPrivateFieldLooseKey("onReceiveCounterValue");var o=babelHelpers.classPrivateFieldLooseKey("subscribeFilterEvents");var n=babelHelpers.classPrivateFieldLooseKey("prepareItems");class u{constructor(e){Object.defineProperty(this,n,{value:v});Object.defineProperty(this,o,{value:b});Object.defineProperty(this,a,{value:c});Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,l,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,r)[r]=new t.CounterPanel({target:e.target,items:babelHelpers.classPrivateFieldLooseBase(this,n)[n](e.items),title:e.title,multiselect:e.multiselect===true});babelHelpers.classPrivateFieldLooseBase(this,l)[l]=s.Type.isObject(e.presetRelation)?e.presetRelation:null;BX.addCustomEvent("onPullEvent-main",babelHelpers.classPrivateFieldLooseBase(this,a)[a].bind(this));babelHelpers.classPrivateFieldLooseBase(this,o)[o](e.filterEvents)}getCounterPanel(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r]}show(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].init()}}function c(e,t){if(e==="user_counter"&&t[BX.message("SITE_ID")]){const e=BX.clone(t[BX.message("SITE_ID")]);babelHelpers.classPrivateFieldLooseBase(this,r)[r].getItems().forEach((t=>{const i=e[t.id];if(!s.Type.isNumber(i)){return}t.updateValue(i);t.updateColor(i>0?"DANGER":"THEME")}))}}function b(e){if(s.Type.isObject(e)){for(const t in e){const r=e[t];if(s.Type.isFunction(r)){i.EventEmitter.subscribe("BX.Main.Filter:"+t,r)}}}}function v(e){return e.map(((e,t)=>{if(s.Type.isNil(e.id)){throw new Error('Field "id" is required')}e.value=s.Type.isNumber(e.value)?e.value:0;e.color=e.value>0?"DANGER":"THEME";return e}))}e.InvitationCounter=u})(this.BX.Intranet=this.BX.Intranet||{},BX.UI,BX,BX.Event);
//# sourceMappingURL=invitation-counter.bundle.map.js