function JCEC(e,t,a){this.arConfig=e;this.arEvents=t;this.arSPEvents=a||[];this.arCalendars=e.arCalendars;this.id=this.arConfig.id;this.iblockId=this.arConfig.iblockId;this.bLoadAllEvents=this.arConfig.load_all_events||false;this.bReadOnly=this.arConfig.bReadOnly;this.bOnunload=false;this.SessionLostStr="BX_EC_DUBLICATE_ACTION_REQUEST";this.ownerType=this.arConfig.ownerType||false;this.ownerId=this.arConfig.ownerId||false;this.section_id=this.arConfig.section_id||false;this.bSuperpose=this.arConfig.bSuperpose||false;this.StartupEvent=this.arConfig.startupEvent;this.actionUrl=this.arConfig.page;this.bUser=this.ownerType=="USER";this.meetingRooms=this.arConfig.meetingRooms||[];this.bUseMR=(this.arConfig.allowResMeeting||this.arConfig.allowVideoMeeting)&&this.meetingRooms.length>0;if(this.bUser){this.meetingCalendarId=this.arConfig.Settings.MeetCalId;this.arConfig.Settings.blink=this.arConfig.Settings.blink!==false}this.Init();window.BX_DATE_FORMAT=this.arConfig.dateFormat}JCEC.prototype={Init:function(){this.DaysTitleCont=BX(this.id+"_days_title");this.DaysGridCont=BX(this.id+"_days_grid");DenyDragEx(this.DaysGridCont);this.maxEventCount=3;this.activeDateDays={};this._bScelTableSixRows=false;this.oDate=new Date;this.accessColors=this.arConfig.accessColors;this.currentDate={date:this.oDate.getDate(),day:this.convertDayIndex(this.oDate.getDay()),month:this.oDate.getMonth(),year:this.oDate.getFullYear()};this.activeDate=clone(this.currentDate);if(this.arConfig.init_month&&this.arConfig.init_year){this.activeDate.month=this.arConfig.init_month-1;this.activeDate.year=this.arConfig.init_year}this.activeDate.week=this.GetWeekByDate(this.activeDate);this.LoadEventsCount=0;this.loadReqCount=0;this.arLoadedMonth={};this.arLoadedMonth[this.activeDate.month+"."+this.activeDate.year]=true;this.arLoadedEventsId={};this.arLoadedParentId={};var e,t;for(e=0,t=this.arEvents.length;e<t;e++){this.arLoadedEventsId[this.GetEventSmartId(this.arEvents[e])]=true;if(this.arEvents[e].HOST&&this.arEvents[e].HOST.parentId)this.arLoadedParentId[this.arEvents[e].HOST.parentId]=true}this.selectDaysMode=false;this.selectDaysStartObj=false;this.selectDaysEndObj=false;this.curTimeSelection={};this.curDayTSelection={};this.CalMenu=new ECCalMenu(this);if(!window.phpVars||!window.phpVars.ADMIN_THEME_ID)window.phpVars={ADMIN_THEME_ID:".default"};this.week_holidays={};var a=this.arConfig.week_holidays;for(e=0,t=a.length;e<t;e++)this.week_holidays[a[e]]=true;this.year_holidays={};var i=this,s,e,t,n=this.arConfig.year_holidays;for(e=0,t=n.length;e<t;e++){s=n[e].split(".");this.year_holidays[parseInt(s[0])+"."+(parseInt(s[1])-1)]=true}window.onbeforeunload=function(){i.bOnunload=true};this.BuildCalendarSelector();this.AddSuperposedEvents();this.BuildSPCalendarSelector();this.BuildButtonsCont();this.InitTabControl();this.InitDialogCore();BX.bind(window,"resize",function(){i.OnResize()});if(this.arConfig.bCalDAV){this.arConnections=this.arConfig.connections}if(this.arConfig.bShowBanner)new ECBanner(this)},InitTabControl:function(){this.Tabs={};if(!this._sceleton_table)this._sceleton_table=BX(this.id+"_sceleton_table");this.startTabId=this.arConfig.Settings.tabId;this.InitTab({id:"month",tabContId:this.id+"_tab_month",bodyContId:this.id+"_scel_table_month"});this.InitTab({id:"week",tabContId:this.id+"_tab_week",bodyContId:this.id+"_scel_table_week",daysCount:7});this.InitTab({id:"day",tabContId:this.id+"_tab_day",bodyContId:this.id+"_scel_table_day",daysCount:1});this.SetTab(this.startTabId,true)},InitTab:function(e){var t=BX(e.tabContId);if(!t)return;var a=this;t.onclick=function(){a.SetTab(e.id)};this.Tabs[e.id]={id:e.id,pTabCont:t,bodyContId:e.bodyContId,daysCount:e.daysCount||false,needRefresh:false,setActiveDate:false}},SetTab:function(e,t,a){var i=this.Tabs[e];if(e==this.activeTabId)return;var s=this.activeTabId;tblDis=BX.browser.IsIE()&&!BX.browser.IsIE9()?"inline":"table";if(!i.bLoaded||t){i.pBodyCont=BX(i.bodyContId);DenyDragEx(i.pBodyCont)}if(this.activeTabId){this.ShowSelector(this.activeTabId,false);BX.removeClass(this.Tabs[this.activeTabId].pTabCont,"bxec-tab-div-act");this.Tabs[this.activeTabId].pBodyCont.style.display="none"}BX.addClass(i.pTabCont,"bxec-tab-div-act");this.activeTabId=e;if(!i.bLoaded||t){var n=this.activeDate,r=this.currentDate,o,l,h,d;if(n.month&&n.month!=r.month||n.year&&n.year!=r.year){o=1;l=0;h=n.month;d=n.year}else{var c=s=="day"&&n?n:r;l=this.GetWeekByDate(c);o=c.date;h=c.month;d=c.year}this.activeTabId=e;switch(e){case"month":this.MonthSelector=new ECMonthSelector(this);this.BuildDaysTitle();this.SetMonth(h,d);break;case"week":this.BuildWeekSelector();this.BuildWeekDaysTable();this.SetWeek(l,h,d);break;case"day":this.BuildDaySelector();this.BuildSingleDayTable();if(!a||a.bSetDay!==false)this.SetDay(o,h,d);break}i.bLoaded=true}else if(!a||a.bSetDay!==false){if(s=="day"&&e=="week")i.setActiveDate=true;if(i.needRefresh){var f=this;if(e=="month")this.DisplayEventsMonth(true);else setTimeout(function(){f.RelBuildEvents(e)},20)}else if(i.setActiveDate){switch(e){case"month":this.SetMonth(this.activeDate.month,this.activeDate.year);break;case"week":this.SetWeek(this.GetWeekByDate(this.activeDate),this.activeDate.month,this.activeDate.year);break;case"day":this.SetDay(1,this.activeDate.month,this.activeDate.year);break}}}if(this.StartupEvent){for(var C=0,u=this.arEvents.length;C<u;C++){if(this.StartupEvent.id==this.arEvents[C].ID)this.ShowStartUpEvent(this.arEvents[C])}}i.needRefresh=false;i.setActiveDate=false;this.ShowSelector(e,true);i.pBodyCont.style.display=tblDis;i.bLoaded=true;if(this._bScelTableSixRows&&this._sceleton_table){if(this.activeTabId=="month")BX.addClass(this._sceleton_table,"BXECSceleton-six-rows");else BX.removeClass(this._sceleton_table,"BXECSceleton-six-rows")}if(!t)this.SaveSettings()},GetWeekByDate:function(e){var t=new Date;t.setFullYear(e.year,e.month,1);w=Math.floor((e.date+this.convertDayIndex(t.getDay())-1)/7);return w},SetTabNeedRefresh:function(e,t){var a,i;for(a in this.Tabs){i=this.Tabs[a];if(typeof i!="object"||i.id==e)continue;if(!t&&i.needRefresh===false)i.needRefresh=true;else if(t&&i.setActiveDate===false)i.setActiveDate=true}},BuildButtonsCont:function(){this.ButtonsCont=BX(this.id+"_buttons_cont");var e=this,t;if(!this.bReadOnly){this.ButtonsCont.appendChild(BX.create("IMG",{props:{src:"/bitrix/images/1.gif",className:"bxec-panel-but bxec-add-new-but",title:EC_MESS.AddNewEvent},events:{click:function(){e.ShowEditEventDialog({})}}}));if(this.arConfig.bSocNet){this.ButtonsCont.appendChild(BX.create("IMG",{props:{src:"/bitrix/images/1.gif",className:"bxec-panel-but bxec-add-pl-but",title:EC_MESS.AddNewEventPl},events:{click:function(){e.ShowEditEventDialog({bRunPlanner:true})}}}))}if(this.ownerType=="USER"){this.ButtonsCont.appendChild(BX.create("IMG",{props:{src:"/bitrix/images/1.gif",className:"bxec-panel-but bxec-user-set-but",title:EC_MESS.UserSettings},events:{click:function(){e.ShowUSetDialog()}}}))}}if(this.arConfig.reserveMeetingReadonlyMode){var a=this.ButtonsCont.appendChild(BX.create("DIV",{props:{className:"bx-reserve-meeting-cont"}}));a.appendChild(BX.create("I",{props:{className:"bx-reserve-meeting-icon"}}));a.appendChild(BX.create("A",{props:{className:"bx-reserve-meeting-link",href:this.arConfig.pathToReserveNew,title:EC_MESS.ReserveRoomTitle},text:EC_MESS.ReserveRoom}))}},ShowSelector:function(e,t){var a;switch(e){case"month":a=this.MonthSelector.pWnd;break;case"week":a=this.WeekSelector.pWnd;break;case"day":a=this.DaySelector.pWnd;break}a.style.display=t?"block":"none"},SetView:function(e){if(!bxInt(e.week)&&e.week!==0)e.week=this.activeDate.week;if(!bxInt(e.date))e.date=this.activeDate.date;switch(this.activeTabId){case"month":return this.SetMonth(e.month,e.year);case"week":return this.SetWeek(e.week,e.month,e.year);case"day":return this.SetDay(e.date||1,e.month,e.year)}},SetMonth:function(e,t){if(!this.arLoadedMonth[e+"."+t]&&!this.bLoadAllEvents)return this.LoadEvents(e,t);var a=this.activeDate.month!=e||this.activeDate.year!=t;this.activeDate.month=e;this.activeDate.year=t;if(!this.activeDate.week)this.activeDate.week=0;if(a)this.SetTabNeedRefresh("month",true);this.MonthSelector.OnChange(e,t);this.BuildDaysGrid(e,t)},BuildDaysTitle:function(){var e,t,a,i,s;this.arDaysTitle=[];i=this.DaysTitleCont.rows[0];for(e=0;e<7;e++){s=i.cells[e];s.innerHTML=this.arConfig.days[e][1];s.title=this.arConfig.days[e][0];if(this.week_holidays[e])s.className="bxec-holiday"}i.cells[6].style.border="0px"},BuildDaysGrid:function(e,t){BX.cleanNode(this.DaysGridCont);var a=new Date;a.setFullYear(t,e,1);this.activeDateDays={};this.activeDateDays=[];this.activeDateObjDays=[];this.arWeeks=[];this.oDaysGridTable=BX.create("TABLE",{props:{className:"bxec-days-grid-table",cellPadding:0,cellSpacing:0}});var i=this.convertDayIndex(a.getDay());if(i>0)this.BuildPrevMonthDays(i,e,t);var s,n;while(a.getMonth()==e){s=a.getDate();n=this.convertDayIndex(a.getDay());this.BuildDayCell(s,n,true,e,t);a.setDate(s+1)}if(n!=6)this.BuildNextMonthDays(n,e,t);this.maxEventCount=this.oDaysGridTable.rows.length>5?2:3;this.DaysGridCont.appendChild(this.oDaysGridTable);var r=this.oDaysGridTable.rows.length;if(r==6&&!this._bScelTableSixRows){if(!this._sceleton_table)this._sceleton_table=BX(this.id+"_sceleton_table");this._bScelTableSixRows=true;BX.addClass(this._sceleton_table,"BXECSceleton-six-rows")}else if(this._sceleton_table&&this._bScelTableSixRows&&r<6){this._bScelTableSixRows=false;BX.removeClass(this._sceleton_table,"BXECSceleton-six-rows")}this.BuildEventHolder()},BuildPrevMonthDays:function(e,t,a){var i,s,n,r;var o=new Date;o.setFullYear(a,t,1);o.setDate(o.getDate()-e);for(s=0;s<e;s++){i=o.getDate();n=o.getMonth();r=o.getFullYear();o.setDate(o.getDate()+1);this.BuildDayCell(i,s,false,n,r)}},BuildNextMonthDays:function(e,t,a){var i,s;if(t==11){t=0;a++}else t++;var n=new Date;n.setFullYear(a,t,1);for(s=e+1;s<7;s++){var i=n.getDate();n.setDate(n.getDate()+1);this.BuildDayCell(i,s,false,t,a)}},BuildDayCell:function(e,t,a,i,s){var n,r,o,l,h,d=this;if(t==0)this._curRow=this.oDaysGridTable.insertRow(-1);var c=this.week_holidays[t]||this.year_holidays[e+"."+i];h="bxec-day";if(!a&&!c)h+=" bxec-day-past";else if(!a)h+=" bxec-day-past-hol";else if(c)h+=" bxec-holiday";if(e==this.currentDate.date&&i==this.currentDate.month&&s==this.currentDate.year)h+=" bxec-current-day";l=this._curRow.insertCell(-1);l.className=h;l.innerHTML='<table class="bxec-daytbl"><tr><td valign="top"><a class="bxec-day-link" href="javascript:void(0)" title="'+EC_MESS.GoToDay+'">'+e+"</a></td></tr>"+'<tr><td class="bxec-more-events"><div>&nbsp;</div></td></tr>'+"</table>";var f=l.firstChild.rows[0].cells[0].firstChild;f.onmousedown=function(e){return BX.PreventDefault(e)};f.onclick=function(e){var t=d.activeDateDays[parseInt(BX.findParent(this,{tagName:"table",className:"bxec-daytbl"}).parentNode.id.substr(9))];d.SetTab("day",false,{bSetDay:false});d.SetDay(t.getDate(),t.getMonth(),t.getFullYear());return BX.PreventDefault(e)};if(t==6)l.style.borderRight="0px";if(!this.bReadOnly){l.onmouseover=function(){d.oDayOnMouseOver(this)};l.onmousedown=function(){d.oDayOnMouseDown(this)};l.onmouseup=function(){d.oDayOnMouseUp(this)}}this.addToActiveDateDays(s,i,e,l)},oDayOnMouseOver:function(e){if(this.selectDaysMode){this.selectDaysEndObj=e;this.SelectDays()}},oDayOnMouseDown:function(e){this.selectDaysMode=true;this.selectDaysStartObj=this.selectDaysEndObj=e;if(e.className.indexOf("bxec-day-selected")==-1)return this.SelectDays();this.selectDaysMode=false;this.DeSelectDays();this.CloseAddEventDialog()},oDayOnMouseUp:function(e){if(!this.selectDaysMode)return;this.selectDaysEndObj=e;this.SelectDays();this.ShowAddEventDialog();this.selectDaysMode=false},oDayOnDoubleClick:function(e){},oDayOnContextMenu:function(e){},addToActiveDateDays:function(e,t,a,i){i.id="bxec_ind_"+this.activeDateDays.length;this.activeDateDays.push(new Date(e,t,a));this.activeDateObjDays.push({pDiv:i,arEvents:{begining:[],all:[]}})},RefreshEventsOnWeeks:function(e){for(var t=0,a=e.length;t<a;t++)this.RefreshEventsOnWeek(e[t])},RefreshEventsOnWeek:function(e){var t=e*7,a=(e+1)*7,i,s,r,o,l,h,d,c,f=[],C=0;for(o=0;o<this.maxEventCount;o++)f[o]=0;for(s=t;s<a;s++){i=this.activeDateObjDays[s];if(!i)continue;i.arEvents.hidden=[];r=i.arEvents.begining;n=r.length;c=[];if(n>0){r.sort(function(e,t){return t.daysCount-e.daysCount});e:for(k=0;k<n;k++){l=r[k];if(!l)continue;if(!this.arEvents[l.oEvent.ind]){i.arEvents.begining=r=deleteFromArray(r,k);l=r[k];if(!l)continue}for(o=0;o<this.maxEventCount;o++){if(f[o]-C<=0){f[o]=C+l.daysCount;this.ShowEventOnLevel(l.oEvent.oParts[l.partInd],o,e);continue e}}c[l.oEvent.ID]=true;i.arEvents.hidden.push(l)}}h=i.arEvents.all;for(var u=0,b=h.length;u<b;u++){l=h[u];if(!l||c[l.oEvent.ID])continue;if(!this.arEvents[l.oEvent.ind]){i.arEvents.all=h=deleteFromArray(h,u);l=h[u];if(!l)continue}d=l.oEvent.oParts[l.partInd].style.display;if(d&&d.toLowerCase()=="none")i.arEvents.hidden.push(l)}this.ShowMoreEventsSelect(i);C++}},ShowEventOnLevel:function(e,t,a){if(!this.arWeeks[a])this.arWeeks[a]={top:parseInt(this.oDaysGridTable.rows[a].cells[0].offsetTop)+22};var i=this.arWeeks[a].top+t*18;e.style.display="block";e.style.top=i+"px"},ShowMoreEventsSelect:function(e){var t=this,a,i,s,n=[],r=e.pDiv.firstChild.rows[1].cells[0].firstChild,o=e.arEvents.hidden,l=o.length;if(l<=0){r.style.display="none";return}for(a=0;a<l;a++){i=o[a];s=i.oEvent.oParts[i.partInd];s.style.display="none";if(!i.oEvent.pMoreDivs)i.oEvent.pMoreDivs=[];i.oEvent.pMoreDivs.push(r);n.push({pDiv:s,oEvent:i.oEvent})}BX.adjust(r,{style:{display:"block"},html:EC_MESS.MoreEvents+" ("+n.length+" "+EC_MESS.Item+")"});r.onmousedown=function(e){if(!e)e=window.event;BX.PreventDefault(e)};r.onclick=function(){t.ShowMoreEventsWin({Events:n,id:e.pDiv.id,pDay:e.pDiv})}},SelectDays:function(){if(!this.arSelectedDays)this.arSelectedDays=[];this.bInvertedDaysSelection=false;if(this.arSelectedDays.length>0)this.DeSelectDays();if(!this.selectDaysStartObj||!this.selectDaysEndObj)return;var e=parseInt(this.selectDaysStartObj.id.substr(9)),t=parseInt(this.selectDaysEndObj.id.substr(9)),a,i,s;if(e>t){s=t;t=e;e=s;this.bInvertedDaysSelection=true}for(i=e;i<=t;i++){a=this.activeDateObjDays[i];if(!a||!a.pDiv)continue;BX.addClass(a.pDiv,"bxec-day-selected");this.arSelectedDays.push(a.pDiv)}},DeSelectDays:function(){if(!this.arSelectedDays)return;var e,t,a;for(t=0,a=this.arSelectedDays.length;t<a;t++)BX.removeClass(this.arSelectedDays[t],"bxec-day-selected");this.arSelectedDays=[]},DisplayError:function(e,t){var a=this;setTimeout(function(){if(!a.bOnunload){alert(e||"[Event Calendar] Error!");if(t)window.location=window.location}},200)},GetEventColor:function(e){var t=e.IBLOCK_SECTION_ID;if(t&&this.oCalendars[t]&&this.oCalendars[t].COLOR)return this.oCalendars[t].COLOR;return"#CEE669"},SetEventsColors:function(e){var t=e.IBLOCK_SECTION_ID,a="#CEE669";if(t&&this.oCalendars[t]&&this.oCalendars[t].COLOR)a=this.oCalendars[t].COLOR;e.displayColor=a;e.bDark=this.ColorIsDark(a);return e},GetEventSmartId:function(e){if(!e.PERIOD)return e.ID;return e.ID+e.DATE_FROM},BuildCalendarSelector:function(){this.oCalendars={};this.oSpCalendars={};this.oActiveCalendars={};if(this.arCalendars.length<1&&this.bReadOnly)return;this.CalendarSelCont=BX(this.id+"_calendar_div");var e=BX(this.id+"_cal_bar_fliper");this.InitFliper(e,"CalendarSelCont");this.InitCalBarGlobChecker(false);if(!this.CalendarSelCont)return;BX.cleanNode(this.CalendarSelCont);this.CalendarSelCont.style.display="block";var t=this.arConfig.arCalendarIds||[];var a,i=this.arCalendars.length,s,n=t.length,r;var o="none";if(i>0){o=true;for(a=0;a<i;a++){r=false;for(s=0;s<n;s++){if(bxInt(t[s])==bxInt(this.arCalendars[a].ID)){r=true;break}}if(!r)o=r;this.DisplayCalendarElement(this.arCalendars[a],r)}this.defaultCalendarId=this.arCalendars[0]["ID"]}this.CheckCalBarGlobChecker(o);if(this.bReadOnly)return;var l=this;BX(this.id+"_add_calendar_link").onclick=function(){l.ShowEditCalDialog()};if(this.arConfig.bCalDAV)BX(this.id+"_external").onclick=function(){l.ShowExternalDialog()}},DisplayCalendarElement:function(e,t,a){a=!!a;var i=a?this.SPCalendarSelCont:this.CalendarSelCont;if(!a){if(e.CALDAV_CON){if(!this.pCalDAVCalCont){this.pCalDAVCalCont=this.CalendarSelCont.appendChild(BX.create("DIV"));this.pCalDAVCalCont.appendChild(BX.create("DIV",{props:{className:"bxec-caldav-title"},html:EC_MESS.CalDavTitle}))}i=this.pCalDAVCalCont}else{if(!this.pCalSubCont)this.pCalSubCont=this.CalendarSelCont.appendChild(BX.create("DIV"));i=this.pCalSubCont}}e.bDark=this.ColorIsDark(e.COLOR);var s=!this.bReadOnly||e.EXPORT,n=i.appendChild(BX.create("DIV",{props:{className:"bxec-calendar-el"+(e.bDark&&t?" bxec-cal-dark":"")},html:'<table class="bxec-tbl"><tr><td class="'+(s?"bxec-cal-menu":"bxec-cal-menu-dis")+'"><img class="bxec-iconkit" src="/bitrix/images/1.gif"/></td><td class="bxec-title"><nobr>'+e.NAME+'</nobr></td><td><img class="bxec-iconkit" src="/bitrix/images/1.gif"/></td></tr></table>'}));var r=this;var o=n.firstChild.rows[0].cells[2];o.className=t?"bxec-checkbox":"bxec-checkbox-off";e._pElement=n;e.pCh=o;this.AppendCalendarHint(e,a);o.onclick=function(){var t=this.className=="bxec-checkbox-off";if(e.bDark){if(t)BX.addClass(e._pElement,"bxec-cal-dark");else BX.removeClass(e._pElement,"bxec-cal-dark")}r.ShowCalendar(e,t);this.focus()};n.firstChild.rows[0].cells[1].onclick=function(){this.nextSibling.onclick()};if(s)n.firstChild.rows[0].cells[0].onclick=function(){r.CalMenu.Show(e,this,a)};this.oCalendars[e["ID"]]=e;n.style.backgroundColor=t?e.COLOR:"transparent";this.oActiveCalendars[e["ID"]]=t},ColorIsDark:function(e){if(e.charAt(0)=="#")e=e.substring(1,7);var t=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16),s=(t*.8+a+i*.2)/510*100;return s<50},AppendCalendarHint:function(e,t){if(e.oHint&&e.oHint.Destroy)e.oHint.Destroy();var a;if(t&&e.SP_PARAMS)a="<b>"+e.SP_PARAMS.GROUP_TITLE+" > "+e.SP_PARAMS.NAME+" > "+e.NAME+"</b>";else a="<b>"+e.NAME+"</b>";var i=e.DESCRIPTION.length,s=350;if(i>0){if(i<s)a+="<br>"+e.DESCRIPTION;else a+="<br>"+e.DESCRIPTION.substr(0,s)+"..."}e.oHint=new BX.CHintSimple({parent:e._pElement,hint:a})},ShowCalendar:function(e,t,a,i){if(!e)return;var s=t?e.COLOR:"transparent";var n=t?"bxec-checkbox":"bxec-checkbox-off";if(i!==false)i=true;if(e._bro&&!i&&!t){e._pElement.style.backgroundColor=s;e.pCh.className=n}else{if(e._bro){e._bro.pCh.className=n;e._bro.pElement.style.backgroundColor=s}e._pElement.style.backgroundColor=s;e.pCh.className=n;this.oActiveCalendars[e.ID]=t}if(!a){this.SetTabNeedRefresh(this.activeTabId);this.ReloadEvents()}},SaveCalendar:function(){var e=this.oEdCalDialog.currentCalendar;if(this.oEdCalDialog.oName.value.length<=0){alert(EC_MESS.CalenNameErr);this.bEditCalDialogOver=true;return false}var t=this.GetPostData("calendar_edit",{name:this.oEdCalDialog.oName.value,desc:this.oEdCalDialog.oDesc.value,color:this.oEdCalDialog.colorInput.value});if(e.ID)t.id=bxInt(e.ID);else if(this.oEdCalDialog.pExch)t.is_exchange=this.oEdCalDialog.pExch.checked?"Y":"N";if(this.bUser)t.private_status=this.oEdCalDialog.oStatus.value;if(this.bUser&&this.oEdCalDialog.oMeetingCalendarCh.checked)t.is_def_meet_calendar="Y";if(this.oEdCalDialog.oExpAllow.checked){t["export"]="Y";if(this.oEdCalDialog.oExpSet.value!="all")t.exp_set=this.oEdCalDialog.oExpSet.value}var a=this;this.Request({postData:t,errorText:EC_MESS.CalenSaveErr,handler:function(e){if(a.section_id===false)a.UpdateSectionId();if(window._bx_calendar&&window._bx_calendar.ID){window._bx_calendar.NAME=a.oEdCalDialog.oName.value;window._bx_calendar.DESCRIPTION=a.oEdCalDialog.oDesc.value;window._bx_calendar.COLOR=a.oEdCalDialog.colorInput.value;if(a.bUser&&a.oEdCalDialog.oMeetingCalendarCh.checked)a.meetingCalendarId=window._bx_calendar.ID;a.SaveCalendarClientSide(window._bx_calendar)}else return false;return true}});return true},SaveCalendarClientSide:function(e){var t=bxSpCh(e.NAME),a=bxSpCh(e.DESCRIPTION),i=bxSpCh(e.COLOR);this.DeActualizeCalendarSelectors();if(e.bNew||this.oEdCalDialog.bNew){var s={ID:bxInt(e.ID),NAME:t,DESCRIPTION:bxSpCh(e.DESCRIPTION),COLOR:i,IBLOCK_SECTION_ID:bxInt(this.section_id),EXPORT:e.EXPORT||false,EXPORT_SET:e.EXPORT_SET||"all",EXPORT_LINK:e.EXPORT_LINK||false,OUTLOOK_JS:e.OUTLOOK_JS||""};if(this.bUser)s.PRIVATE_STATUS=this.oEdCalDialog?this.oEdCalDialog.oStatus.value:"full";this.arCalendars.push(s);this.DisplayCalendarElement(s,true);if(this.bSuperpose)this.Add2SPCalendar(s,!this.oEdCalDialog||this.oEdCalDialog.add2SP.checked);return true}else{var n=this.oEdCalDialog.currentCalendar;var r=n.COLOR!=i;n.NAME=t;n.DESCRIPTION=a;n.EXPORT=e.EXPORT||false;n.EXPORT_SET=e.EXPORT_SET||"all";n.EXPORT_LINK=e.EXPORT_LINK||false;n.COLOR=i;n.OUTLOOK_JS=e.OUTLOOK_JS||"";if(this.bUser)n.PRIVATE_STATUS=this.oEdCalDialog.oStatus.value;this._RenameCalendar(n._pElement,t);if(r)this._RecolourCalendar(n._pElement,i,n);this.AppendCalendarHint(n);if(n._bro){this._RenameCalendar(n._bro.pElement,t);if(r){this._RecolourCalendar(n._bro.pElement,i);this.arSPCalendarsShow[n._bro.ind].COLOR=i}}if(this.bSuperpose){var o,l,h,d,c;e:for(o=0,l=this.arSPCalendars.length;o<l;o++){c=this.arSPCalendars[o].ITEMS;for(h=0,d=c.length;h<d;h++){if(n.ID==c[h].ID){c[h].NAME=t;this.SPD_Renew();break e}}}}}},DeleteCalendar:function(e){if(!e.ID||!confirm(EC_MESS.DelCalendarConfirm))return;var t=this;this.Request({postData:this.GetPostData("calendar_delete",{id:e.ID}),errorText:EC_MESS.DelCalendarErr,handler:function(a){return window._bx_result?t.DeleteCalendarClientSide(e):false}})},DeleteCalendarClientSide:function(e){e._pElement.parentNode.removeChild(e._pElement);if(e._bro){this.arSPCalendarsShow=deleteFromArray(this.arSPCalendarsShow,e._bro.ind);e._bro.pElement.parentNode.removeChild(e._bro.pElement)}var t,a,i,s,n;if(this.bSuperpose){e:for(t=0,a=this.arSPCalendars.length;t<a;t++){n=this.arSPCalendars[t].ITEMS;for(i=0,s=n.length;i<s;i++){if(e.ID==n[i].ID){this.arSPCalendars[t].ITEMS=deleteFromArray(n,i);this.SPD_Renew();break e}}}}var t,a=this.arCalendars.length;for(t=0;t<a;t++){if(this.arCalendars[t].ID==e.ID){this.arCalendars=deleteFromArray(this.arCalendars,t);break}}this.oCalendars[e.ID]=null;e=null;this.ReloadEvents();this.DeActualizeCalendarSelectors()},_RenameCalendar:function(e,t){e.firstChild.rows[0].cells[1].innerHTML=t},_RecolourCalendar:function(e,t,a){e.style.backgroundColor=t;if(!a)return;var i=[["oTLParts","week"],["oTLParts","day"],["oDaysT","week"],["oDaysT","day"]],s,n=this.arEvents.length,r,o,l,h,d;for(s=0;s<n;s++){r=this.arEvents[s];if(!r)continue;if(r.IBLOCK_SECTION_ID!=a.ID)continue;l=r.oParts.length;for(o=0;o<l;o++)r.oParts[o].style.backgroundColor=t;l=i.length;for(o=0;o<l;o++){if(r[i[o][0]]&&r[i[o][0]][i[o][1]]){d=r[i[o][0]][i[o][1]];if(typeof d=="object"&&d.nodeType)d.style.backgroundColor=t;else for(h=0;h<d.length;h++)d[h].style.backgroundColor=t}}this.arEvents.displayColor=t}},InitCalBarGlobChecker:function(e){var t,a;if(e){t=this.id+"_sp_cal_bar_check";a="CalBarGlobCheckerSP"}else{t=this.id+"_cal_bar_check";a="CalBarGlobChecker"}this[a]={};this[a].pWnd=BX(t);this[a].flag=false;this[a].pWnd.title=EC_MESS.DeSelectAll;var i=this;this[a].pWnd.onclick=function(){if(i[a].flag){i[a].flag=false;i.ShowAllCalendars(true,e);i[a].pWnd.className="bxec-iconkit bxec-cal-bar-check";i[a].pWnd.title=EC_MESS.DeSelectAll}else{i[a].flag=true;i.ShowAllCalendars(false,e);i[a].pWnd.className="bxec-iconkit bxec-cal-bar-uncheck";i[a].pWnd.title=EC_MESS.SelectAll}}},ShowAllCalendars:function(e,t){var a=t?this.arSPCalendarsShow:this.arCalendars;var i,s=a.length;for(i=0;i<s;i++){el=a[i];this.ShowCalendar(el,e,true,!t)}this.ReloadEvents()},CheckCalBarGlobChecker:function(e,t){var a=t?"CalBarGlobCheckerSP":"CalBarGlobChecker";if(e=="none"){this[a].pWnd.className="bxec-cal-bar-none";this[a].pWnd.title=""}else if(e){this[a].flag=false;this[a].pWnd.className="bxec-iconkit bxec-cal-bar-check";this[a].pWnd.title=EC_MESS.DeSelectAll}else{this[a].flag=true;this[a].pWnd.className="bxec-iconkit bxec-cal-bar-uncheck";this[a].pWnd.title=EC_MESS.SelectAll}},BuildSPCalendarSelector:function(e){if(!this.bSuperpose)return;var t=this;if(!e){this.SPCalendarSelCont=BX(this.id+"_sp_calendar_div");this.arSPCalendars=this.arConfig.arSPCalendars;this.arSPCalendarsShow=this.arConfig.arSPCalendarsShow;this.bAllowPush2SP=true;var a=BX(this.id+"_sp_cal_bar_fliper");this.InitFliper(a,"SPCalendarSelCont");this.InitCalBarGlobChecker(true)}if(!this.SPCalendarSelCont)return;BX.cleanNode(this.SPCalendarSelCont);this.SPCalendarSelCont.style.display="block";var i=this.arConfig.arCalendarIds||[];var s,n=this.arSPCalendarsShow.length,r,o=i.length,l;var h=this.arCalendars.length,d,c;var f="none";if(n>0){f=true;for(s=0;s<n;s++){d=this.arSPCalendarsShow[s];l=false;for(r=0;r<o;r++){if(bxInt(i[r])==bxInt(d.ID)){l=true;break}}if(!l)f=l;this.DisplayCalendarElement(d,l,true);for(k=0;k<h;k++){c=this.arCalendars[k];if(d.ID==c.ID){d._bro={pElement:c._pElement,pCh:c.pCh,ind:k};c._bro={pElement:d._pElement,pCh:d.pCh,ind:s};break}}if(d._bro)this.ShowCalendar(d,l,true)}}this.CheckCalBarGlobChecker(f,true);if(!e){var C=BX(this.id+"_sp_add_calendar");C.onclick=function(){t.ShowSuperposeDialog()};var u=BX(this.id+"_export_sp_cals");u.onclick=function(){t.ShowExportCalDialog()}}},AddSuperposedEvents:function(){var e=this.arSPEvents.length;if(!this.bSuperpose||e<1)return;var t=[],a;for(var i=0;i<e;i++){a=this.arSPEvents[i];if(this.oCalendars[a.IBLOCK_SECTION_ID])continue;a.bReadOnly=true;t.push(a)}this.arSPEvents=t;this.arEvents=this.arEvents.concat(this.arSPEvents)},HideSPCalendar:function(e){var t=this;this.Request({postData:this.GetPostData("spcal_hide",{id:e.ID}),errorText:EC_MESS.HideSPCalendarErr,handler:function(a){return window._bx_result?t.HideSPCalendarClientSide(e):false}})},HideSPCalendarClientSide:function(e){e._pElement.parentNode.removeChild(e._pElement);var t,a=this.arSPCalendarsShow.length;for(t=0;t<a;t++){if(this.arSPCalendarsShow[t].ID==e.ID){this.arSPCalendarsShow=deleteFromArray(this.arSPCalendarsShow,t);break}}if(!e._bro){this.oActiveCalendars[e.ID]=false;this.oCalendars[e.ID]=null}else{this.arCalendars[e._bro.ind]._bro=null}e=null;this.ReloadEvents()},Add2SPCalendar:function(e,t){var a,i,s,n,r,o=true,l,h=false,d;e:for(a=0,i=this.arSPCalendars.length;a<i;a++){r=this.arSPCalendars[a].ITEMS;for(s=0,n=r.length;s<n;s++){if(e.ID==r[s].ID){l=r[s];o=false;break e}}if(this.arSPCalendars[a].NAME==this.arConfig.SP.NAME){h=this.arSPCalendars[a];break}else if(this.arSPCalendars[a].GROUP==this.arConfig.SP.GROUP&&this.bUser){h=clone(this.arSPCalendars[a],false);h.ITEMS=[];h.NAME=this.arConfig.SP.NAME;h.USER_ID=this.arConfig.SP.USER_ID;this.arSPCalendars.push(h)}}if(o){if(!h&&this.bUser){h={ID:this.iblockId,REARONLY:true,bDeletable:true,ITEMS:[],GROUP:this.arConfig.SP.GROUP,GROUP_TITLE:this.arConfig.SP.GROUP_TITLE,NAME:this.arConfig.SP.NAME,USER_ID:this.arConfig.SP.USER_ID};this.arSPCalendars.push(h)}if(h){l=clone(e,false);l._bro=l.pCh=l._pElement=null;h.ITEMS.push(l);this.SPD_Renew();this.SetCals2SP()}}if(l&&t!==false){d=this.arSPCalendarsShow.concat([l]);this.AppendSPCalendars(d)}},SetCals2SP:function(){var e=this;this.Request({postData:this.GetPostData("add_cal2sp"),errorText:EC_MESS.AppendSPCalendarErr,handler:function(e){return window._bx_result?true:false}})},AppendSPCalendars:function(e){var t=[];for(var a=0,i=e.length;a<i;a++)t.push(bxInt(e[a].ID));var s=this;this.Request({postData:this.GetPostData("spcal_disp_save",{spcl:t}),errorText:EC_MESS.AppendSPCalendarErr,handler:function(t){return window._bx_result?s.AppendSPCalendarsClientSide(e):false}})},AppendSPCalendarsClientSide:function(e){var t,a=this.arSPCalendarsShow.length,i,s,n,r;var o=this.arConfig.arCalendarIds;for(t=0;t<a;t++){if(!this.arSPCalendarsShow[t]._bro){i=this.arSPCalendarsShow[t].ID;this.oActiveCalendars[i]=null;delete this.oActiveCalendars[i];this.oCalendars[i]=null}else{this.arCalendars[this.arSPCalendarsShow[t]._bro.ind]._bro=null}}a=e.length;for(t=0;t<a;t++){i=e[t].ID;this.oActiveCalendars[i]=true;this.oSpCalendars[i]=true;if(!this.oCalendars[i])this.oCalendars[i]=e[t];r=false;for(s=0,n=o.length;s<n;s++){if(o[s]==i){r=true;break}}if(!r)o.push(i)}this.arSPCalendarsShow=e;this.BuildSPCalendarSelector(true);this.ReloadEvents()},UpdateSectionId:function(){if(this.section_id===false&&bxInt(window._bx_section_id)>0)this.section_id=bxInt(window._bx_section_id)},NullServerVars:function(){window._bx_calendar=window._bx_result=window._bx_new_event=window._bx_existent_event=window._bx_section_id=window._bx_def_calendar=window._bx_add_cur_user=null},GetPostData:function(e,t){if(!t)t={};t.sessid=this.arConfig.sessid;t.bx_event_calendar_request="Y";t.section_id=this.section_id===false?"none":this.section_id;if(e)t.action=e;return t},GetCenterWindowPos:function(e,t){if(!e)e=400;if(!t)t=300;var a=BX.GetWindowSize(document);var i=bxInt(bxInt(a.scrollTop)+(a.innerHeight-t)/2-30);var s=bxInt(bxInt(a.scrollLeft)+(a.innerWidth-e)/2-30);return{top:i,left:s}},ShowWaitWindow:function(){BX.showWait(this._sceleton_table)},CloseWaitWindow:function(){BX.closeWait(this._sceleton_table)},ShowStartUpEvent:function(e){if(e.PERIOD&&this.StartupEvent.date!=e.DATE_FROM)return;var t=this;setTimeout(function(){t.ShowViewEventDialog(e)},50);this.StartupEvent=false},InitFliper:function(e,t){var a=this,i=e.parentNode,s=a[t].parentNode.parentNode,n=BX.findParent(s,{tagName:"TABLE"}),r="b"+t+"Hidden";i.title=EC_MESS.FlipperHide;a[r]=this.arConfig.Settings[t];var o=function(t){if(a[t]){e.className="bxec-iconkit bxec-hide-arrow";n.style.width=null;s.style.display=BX.browser.IsIE()?"inline":"table-row";i.title=EC_MESS.FlipperHide}else{e.className="bxec-iconkit bxec-show-arrow";n.style.width=n.offsetWidth+"px";s.style.display="none";i.title=EC_MESS.FlipperShow}a[t]=!a[t]};i.onclick=function(){o(r);a.SaveSettings()};if(a[r]){a[r]=false;o(r)}},SaveSettings:function(e){if(e===true){var t=this;BX.ajax.post(this.actionUrl,this.GetPostData("set_settings",{clear_all:true}),function(){setTimeout(function(){t.arConfig.Settings=window._bx_result;if(t.bUser)t.meetingCalendarId=false},300)})}else{var a={tab_id:this.activeTabId,cal_sec:this.bCalendarSelContHidden?"1":"",sp_cal_sec:this.bSPCalendarSelContHidden?"1":""};if(this.bUser){a.meet_cal_id=this.meetingCalendarId||false;a.blink=this.arConfig.Settings.blink}if(this.Planner&&this.Planner.bCreated)a=this.Planner.AttachSettings(a);if(this.arConfig.Settings.ShowBanner)a.show_ban=this.arConfig.Settings.ShowBanner!="N"?1:0;BX.ajax.post(this.actionUrl,this.GetPostData("set_settings",a))}},GetUserProfileLink:function(e,t,a,i,s){var n=this.arConfig.pathToUser.toLowerCase();n=n.replace("#user_id#",e);i=i?' class="'+i+'"':"";if(!t)return n;var r=BX.util.htmlspecialchars(a.name);if(s)r+=' <span style="font-weight: normal !important;">('+EC_MESS.Host+")</span>";return"<a"+i+' href="'+n+'" target="_blank" title="'+EC_MESS.UserProfile+": "+BX.util.htmlspecialchars(a.name)+'" >'+r+"</a>"},convertDayIndex:function(e){if(e==0)return 6;return e-1},Request:function(e){if(!e.url)e.url=this.actionUrl;if(e.bIter!==false)e.bIter=true;if(!e.postData)e.postData=this.GetPostData();if(!e.errorText)errorText=false;var t=this,a=0;var i=function(i){var s=function(){t.CloseWaitWindow();var n=i.toLowerCase().indexOf("bx_event_calendar_action_error");if(!i||i.length<=0||n!=-1){var r="";if(n>=0){var o=n+"BX_EVENT_CALENDAR_ACTION_ERROR:".length,l=i.indexOf("-->",o);r=i.substr(o,l-o)}return t.DisplayError(r||e.errorText||"")}if(i.indexOf(t.SessionLostStr)!=-1){if(e.bReqestReply){t.DisplayError(EC_MESS.LostSessionError,true)}else{var h=i.indexOf(t.SessionLostStr)+t.SessionLostStr.length;var d=i.substr(h,i.indexOf("-->")-h);t.arConfig.sessid=e.postData.sessid=d;e.bReqestReply=true;i="";setTimeout(function(){t.Request(e)},50)}return}var c=e.handler(i);if(c===false&&++a<20&&e.bIter)setTimeout(s,3)};setTimeout(s,10)};this.NullServerVars();this.ShowWaitWindow();BX.ajax.post(e.url,e.postData,i)},ExtendUserSearchInput:function(){
if(!window.SonetTCJsUtils)return;var e=this;if(!SonetTCJsUtils.EC__GetRealPos)SonetTCJsUtils.EC__GetRealPos=SonetTCJsUtils.GetRealPos;SonetTCJsUtils.GetRealPos=function(t){var a=SonetTCJsUtils.EC__GetRealPos(t);if(e.oSuperposeDialog&&e.oSuperposeDialog.bShow){scrollTop=e.oSuperposeDialog.oCont.scrollTop;a.top=bxInt(a.top)-scrollTop;a.bottom=bxInt(a.bottom)-scrollTop}return a}},ParseLocation:function(e,t){var a={mrid:false,mrevid:false,str:e};if(e.length>5&&e.substr(0,5)=="ECMR_"){var i=e.split("_");if(i.length>=2){if(!isNaN(parseInt(i[1]))&&parseInt(i[1])>0)a.mrid=parseInt(i[1]);if(!isNaN(parseInt(i[2]))&&parseInt(i[2])>0)a.mrevid=parseInt(i[2])}}if(a.mrid&&t===true){for(var s=0,n=this.meetingRooms.length;s<n;s++){if(this.meetingRooms[s].ID==a.mrid){a.mrind=s;a.MR=this.meetingRooms[s];break}}}return a},RunPlanner:function(e){if(!e)e={};if(!window.ECPlanner)return BX.loadScript(this.arConfig.planner_js_src,BX.delegate(function(){this.RunPlanner(e)},this));if(!this.Planner)this.Planner=new ECPlanner(this);this.Planner.OpenDialog(e)},OnResize:function(){this.bJustRedraw=true;this.SetView({month:this.activeDate.month,year:this.activeDate.year});var e=this;setTimeout(function(){e.bJustRedraw=false},500)},CreateStrut:function(e){return BX.create("IMG",{props:{src:"/bitrix/images/1.gif"},style:{width:e+"px",height:"1px"}})},CheckMouseInCont:function(e,t,a){var i=BX.pos(e),s=BX.GetWindowScrollPos(),n=t.clientX+s.scrollLeft,r=t.clientY+s.scrollTop;if(typeof a=="undefined")a=0;return n>=i.left-a&&n<=i.right+a&&r<=i.bottom+a&&r>=i.top-a},SaveConnections:function(e){var t=[],a,i=this.arConnections.length,s;for(a=0;a<i;a++){s=this.arConnections[a];t.push({id:s.id||0,name:s.name,link:s.link,user_name:s.user_name,pass:typeof s.pass=="undefined"?"bxec_not_modify_pass":s.pass,del:s.del?"Y":"N",del_calendars:s.pDelCalendars.checked?"Y":"N"})}var n=this.GetPostData("connections_edit",{connections:t});var r=this;this.Request({postData:n,handler:function(t){setTimeout(function(){if(e&&typeof e=="function")e(true);if(r.section_id===false)r.UpdateSectionId()},100)}});return true},IsDavCalendar:function(e){return this.oCalendars[e]&&(this.oCalendars[e].IS_EXCHANGE||this.oCalendars[e].CALDAV_CON)},SyncExchange:function(){var e=this;window._bx_result_sync="";this.Request({postData:this.GetPostData("exchange_sync"),handler:function(e){setTimeout(function(){if(window._bx_result_sync===true)window.location=window.location;else if(window._bx_result_sync===false)alert(EC_MESS.ExchNoSync)},100)}})}};window.clone=function(e,t){var a={};if(t!==false)t=true;for(i in e){if(typeof e[i]=="object"&&t)a[i]=window.clone(e[i],t);else a[i]=e[i]}return a};window.deleteFromArray=function(e,t){return e.slice(0,t).concat(e.slice(t+1))};window.bxInt=function(e){return parseInt(e,10)};window.bxIntEx=function(e){e=parseInt(e,10);if(isNaN(e))e=0;return e};window.bxSpCh=function(e){if(!e)return"";e=e.replace(/script_>/g,"script>");e=e.replace(/&/g,"&amp;");e=e.replace(/"/g,"&quot;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");return e};window.bxSpChBack=function(e){if(!e)return"";e=e.replace(/&lt;/g,"<");e=e.replace(/&gt;/g,">");e=e.replace(/&quot;/g,'"');e=e.replace(/&amp;/g,"&");e=e.replace(/script_>/g,"script>");return e};window.EnterAndNotTextArea=function(e,t){if(e.keyCode==13){var a=e.target||e.srcElement;if(a&&a.nodeName&&a.nodeName.toLowerCase()!="textarea"&&a.id.indexOf(t)==-1){BX.PreventDefault(e);return true}}return false};function bxGetDate(e,t,a,i){if(!bxGetDate.prototype.fRes){var s=new RegExp("(\\w+)[^\\w](\\w+)[^\\w](\\w+)","ig");s.lastIndex=0;bxGetDate.prototype.fRes=s.exec(window.BX_DATE_FORMAT)}var n=new RegExp("(\\d+)[^\\d](\\d+)[^\\d](\\d+)(?:\\s*(\\d{1,2}):(\\d{1,2})(?::\\d{1,2})?)?","ig");n.lastIndex=0;var r=n.exec(e),o=bxGetDate.prototype.fRes;if(!o||!r||o.length>r.length)return false;var l,h,d,c,f=bxInt(r[4]),C=bxInt(r[5])||0,u;for(var b=1,S=o.length;b<S;b++){switch(o[b].toLowerCase()){case"dd":l=r[b];break;case"mm":h=r[b];break;case"yyyy":d=r[b];break}}if(isNaN(f)){f=i?23:0;C=i?59:0;u=false}c=t||a?new Date(d,h-1,l,f,C):false;if(!t){c={date:l,month:h,year:d,oDate:c};if(u!==false)u=f.toString().length>0&&C.toString().length>0;c.bTime=u;if(c.bTime){c.hour=f;c.min=C}}return c}window.bxGetDate_h=function(e){return bxGetDate(e,false,true)};window.bxFormatDate=function(e,t,a){var i=window.BX_DATE_FORMAT;e=zeroInt(e);t=zeroInt(t);i=i.replace(/DD/gi,e);i=i.replace(/MM/gi,t);i=i.replace(/M/gi,t);i=i.replace(/YY(YY)?/gi,a);return i};window.bxGetPixel=function(e){var t=BX.browser.IsIE()||BX.browser.IsOpera();if(e)t=!t;return t?0:1};window.zeroInt=function(e){e=bxInt(e);if(isNaN(e))e=0;return e<10?"0"+e.toString():e.toString()};window.DenyDragEx=function(e){e.style.MozUserSelect="none";e.ondrag=BX.False;e.ondragstart=BX.False;e.onselectstart=BX.False};
//# sourceMappingURL=core.map.js