{"version":3,"file":"recognize-links.bundle.js","sources":["../src/recognize-links.js"],"sourcesContent":["import { Runtime, Extension } from 'main.core';\n\nclass RecognizeLinks\n{\n\tconstructor()\n\t{\n\t\tthis.serverName = location.origin;\n\t\tthis.netUrl = Extension.getSettings('intranet.recognize-links').netUrl;\n\t}\n\n\tanalyze(): void\n\t{\n\t\tconst referrer = document.referrer;\n\t\tif (referrer !== '' && !referrer.includes(this.serverName) && (this.netUrl === '' || !referrer.includes(this.netUrl)))\n\t\t{\n\t\t\tRuntime.loadExtension('im.public').then((exports) => {\n\t\t\t\tconst { Messenger } = exports;\n\t\t\t\tMessenger.desktop.openPage(document.location.href, { skipNativeBrowser: true });\n\t\t\t});\n\t\t}\n\t}\n}\n\nsetTimeout(() => {\n\tconst isImInstalled = Extension.getSettings('intranet.recognize-links').isImInstalled;\n\tif (isImInstalled)\n\t{\n\t\t(new RecognizeLinks()).analyze();\n\t}\n}, 200);\n"],"names":["RecognizeLinks","babelHelpers","this","serverName","location","origin","netUrl","Extension","getSettings","key","value","referrer","document","includes","Runtime","loadExtension","then","exports","Messenger","desktop","openPage","href","skipNativeBrowser","setTimeout","isImInstalled","analyze"],"mappings":"+CAA+C,IAEzCA,aAEL,aACAC,oCACCC,KAAKC,WAAaC,SAASC,OAC3BH,KAAKI,OAASC,YAAUC,YAAY,4BAA4BF,OAahE,OAZAL,6BAAAQ,cAAAC,iBAIA,IAAMC,EAAWC,SAASD,SACT,KAAbA,GAAoBA,EAASE,SAASX,KAAKC,aAAgC,KAAhBD,KAAKI,QAAkBK,EAASE,SAASX,KAAKI,SAE5GQ,UAAQC,cAAc,aAAaC,MAAK,SAACC,GAClBA,EAAdC,UACEC,QAAQC,SAASR,SAASR,SAASiB,KAAM,CAAEC,mBAAmB,gBAM5EC,YAAW,WACYhB,YAAUC,YAAY,4BAA4BgB,gBAGtE,IAAIxB,GAAkByB,YAEtB"}