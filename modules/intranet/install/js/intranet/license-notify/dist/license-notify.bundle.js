this.BX=this.BX||{},function(e,s,t,i,o,a,l){"use strict";class r{show(){throw new Error("Must be implemented in a child class")}close(){throw new Error("Must be implemented in a child class")}}let n,c,p=e=>e;var b=babelHelpers.classPrivateFieldLooseKey("cache"),d=babelHelpers.classPrivateFieldLooseKey("getPopup"),u=babelHelpers.classPrivateFieldLooseKey("getContent"),h=babelHelpers.classPrivateFieldLooseKey("getDate"),O=babelHelpers.classPrivateFieldLooseKey("getDescriptionWithPartner"),P=babelHelpers.classPrivateFieldLooseKey("getButtons"),L=babelHelpers.classPrivateFieldLooseKey("getPartnerButton"),N=babelHelpers.classPrivateFieldLooseKey("getRenewalButton"),v=babelHelpers.classPrivateFieldLooseKey("getMoreInformationButton");class T extends r{constructor(e){super(),Object.defineProperty(this,v,{value:E}),Object.defineProperty(this,N,{value:y}),Object.defineProperty(this,L,{value:g}),Object.defineProperty(this,P,{value:_}),Object.defineProperty(this,O,{value:B}),Object.defineProperty(this,h,{value:f}),Object.defineProperty(this,u,{value:F}),Object.defineProperty(this,d,{value:I}),Object.defineProperty(this,b,{writable:!0,value:new a.Cache.MemoryCache}),this.setOptions(e)}setOptions(e){babelHelpers.classPrivateFieldLooseBase(this,b)[b].set("options",e)}getOptions(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].get("options",null)}show(){i.BannerDispatcher.critical.toQueue(e=>{const s=babelHelpers.classPrivateFieldLooseBase(this,d)[d]();s.subscribe("onAfterClose",s=>{e()}),s.show()})}close(){babelHelpers.classPrivateFieldLooseBase(this,d)[d]().close()}}function I(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("popup",()=>new s.Popup({className:"bitrix24-notify-popup",width:800,padding:0,content:babelHelpers.classPrivateFieldLooseBase(this,u)[u](),contentBackground:"transparent",overlay:!0,closeIcon:!0,titleBar:!1,buttons:babelHelpers.classPrivateFieldLooseBase(this,P)[P](),events:{onShow:()=>{a.ajax.runComponentAction(Y.componentName,"setLicenseNotifyConfig",{mode:"class",data:{type:this.getOptions().popupType}})}}}))}function F(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("popup-content",()=>a.Tag.render(n||(n=p`
				<div class="bitrix24-notify-popup-inner">
					<div class="bitrix24-notify-popup-title">
						${0}
					</div>
					<div class="bitrix24-notify-popup-block">
						${0}
					</div>
					${0}
				</div>
			`),this.getOptions().isExpired?a.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_TITLE_EXPIRED",{"#DAY_MONTH#":babelHelpers.classPrivateFieldLooseBase(this,h)[h]()}):a.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_TITLE",{"#DAY_MONTH#":babelHelpers.classPrivateFieldLooseBase(this,h)[h]()}),this.getOptions().isExpired?a.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_EXPIRED_DESCRIPTION_1",{"#DAY_MONTH#":babelHelpers.classPrivateFieldLooseBase(this,h)[h]()}):a.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_DESCRIPTION_1"),this.getOptions().isPortalWithPartner?babelHelpers.classPrivateFieldLooseBase(this,O)[O]():null))}function f(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("date",()=>{const e=l.DateTimeFormat.getFormat("DAY_MONTH_FORMAT");return this.getOptions().isExpired?l.DateTimeFormat.format(e,Number(this.getOptions().blockDate)):l.DateTimeFormat.format(e,Number(this.getOptions().expireDate))})}function B(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("description-partner",()=>a.Tag.render(c||(c=p`
				<div class="bitrix24-notify-popup-block">
					${0}
				</div>
			`),a.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_DESCRIPTION_2")))}function _(){return this.getOptions().isCIS?[babelHelpers.classPrivateFieldLooseBase(this,N)[N](),this.getOptions().isAdmin?babelHelpers.classPrivateFieldLooseBase(this,L)[L]():null,babelHelpers.classPrivateFieldLooseBase(this,v)[v]()]:[this.getOptions().isAdmin?babelHelpers.classPrivateFieldLooseBase(this,L)[L]():null,babelHelpers.classPrivateFieldLooseBase(this,N)[N](),babelHelpers.classPrivateFieldLooseBase(this,v)[v]()]}function g(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("partner-button",()=>this.getOptions().isPortalWithPartner?new t.Button({color:this.getOptions().isCIS?t.Button.Color.LIGHT_BORDER:t.Button.Color.SUCCESS,text:a.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_PARTNER"),round:!0,onclick:()=>{window.open(this.getOptions().urlBuyWithPartner,"_self")}}):null)}function y(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("renewal-button",()=>new t.Button({color:this.getOptions().isCIS?t.Button.Color.SUCCESS:t.Button.Color.LIGHT_BORDER,text:a.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_RENEW_LICENSE"),round:!0,onclick:()=>{window.open(this.getOptions().urlDefaultBuy,"_blank")}}))}function E(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b].remember("more-button",()=>new t.Button({color:t.Button.Color.LIGHT_BORDER,text:a.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_MORE"),round:!0,onclick:()=>{window.open(this.getOptions().urlArticle,"_blank")}}))}let m,H=e=>e;var C=babelHelpers.classPrivateFieldLooseKey("cache"),A=babelHelpers.classPrivateFieldLooseKey("classActivity"),w=babelHelpers.classPrivateFieldLooseKey("getPanel"),x=babelHelpers.classPrivateFieldLooseKey("getMessage"),D=babelHelpers.classPrivateFieldLooseKey("getBlockDate");class R extends r{constructor(e){super(),Object.defineProperty(this,D,{value:K}),Object.defineProperty(this,x,{value:S}),Object.defineProperty(this,w,{value:M}),Object.defineProperty(this,C,{writable:!0,value:new a.Cache.MemoryCache}),this.setOptions(e)}setOptions(e){babelHelpers.classPrivateFieldLooseBase(this,C)[C].set("options",e)}getOptions(){return babelHelpers.classPrivateFieldLooseBase(this,C)[C].get("options",null)}show(){const e=document.querySelector(".bx-layout-table");e&&a.Dom.insertBefore(babelHelpers.classPrivateFieldLooseBase(this,w)[w](),e)}close(){a.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,w)[w](),babelHelpers.classPrivateFieldLooseBase(R,A)[A])&&a.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,w)[w](),babelHelpers.classPrivateFieldLooseBase(R,A)[A])}}function M(){const e=()=>{this.close()};return babelHelpers.classPrivateFieldLooseBase(this,C)[C].remember("panel-template",()=>a.Tag.render(m||(m=H`
				<div class="bx24-tariff-notify bx24-tariff-notify-show bx24-tariff-notify-panel">
					<div class="bx24-tariff-notify-wrap bx24-tariff-notify-red">
						<span class="bx24-tariff-notify-text">
						 ${0}
						</span>
						<span onclick="${0}" class="bx24-tariff-notify-text-reload">
							<span class="bx24-tariff-notify-text-reload-title">
								x
							</span>
						</span>
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,x)[x](),e))}function S(){return a.Loc.getMessage("INTRANET_NOTIFY_PANEL_FOOTER_LICENSE_NOTIFICATION_TEXT",{"#BLOCK_DATE#":babelHelpers.classPrivateFieldLooseBase(this,D)[D](),"#LINK_BUY#":this.getOptions().urlBuy,"#ARTICLE_LINK#":this.getOptions().urlArticle})}function K(){const e=l.DateTimeFormat.getFormat("DAY_MONTH_FORMAT");return l.DateTimeFormat.format(e,Number(this.getOptions().blockDate))}Object.defineProperty(R,A,{writable:!0,value:"bx24-tariff-notify-show"});var j=babelHelpers.classPrivateFieldLooseKey("cache");class Y{constructor(e){Object.defineProperty(this,j,{writable:!0,value:new a.Cache.MemoryCache}),this.setOptions(e)}getProvider(){return babelHelpers.classPrivateFieldLooseBase(this,j)[j].remember(this.getOptions().notify.type,()=>"panel"===this.getOptions().notify.type?new R(this.getOptions().notify):"popup"===this.getOptions().notify.type?new T(this.getOptions().notify):null)}setOptions(e){babelHelpers.classPrivateFieldLooseBase(this,j)[j].set("options",e)}getOptions(){return babelHelpers.classPrivateFieldLooseBase(this,j)[j].get("options",null)}}Y.componentName="bitrix:intranet.notify.panel",e.LicenseNotify=Y}(this.BX.Intranet=this.BX.Intranet||{},BX.Main,BX.UI,BX.UI,BX,BX,BX.Main);
//# sourceMappingURL=license-notify.bundle.js.map
