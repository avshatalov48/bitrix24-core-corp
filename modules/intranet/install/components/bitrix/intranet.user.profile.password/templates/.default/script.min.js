(function(){var e=BX.namespace("BX.Intranet.UserProfile");if(e.Password){return}e.Password=function(e){this.init(e)};e.Password.prototype={init:function(e){this.signedParameters=e.signedParameters;this.componentName=e.componentName;var o=document.querySelector("[data-role='intranet-pass-logout']");if(BX.type.isDomNode(o)){BX.bind(o,"click",function(){this.showConfirmLogoutPopup(this.logout.bind(this))}.bind(this))}},showErrorPopup:function(e){if(!e){return}BX.PopupWindowManager.create({id:"intranet-user-profile-error-popup",content:BX.create("div",{props:{style:"max-width: 450px"},html:e}),closeIcon:true,lightShadow:true,offsetLeft:100,overlay:false,contentPadding:10}).show()},changePassword:function(){var e=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"changePassword",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then(function(o){if(o.data===true){}else{this.hideLoader({loader:e});this.showErrorPopup("Error")}},function(o){this.hideLoader({loader:e})}.bind(this))},showLoader:function(e){var o=null;if(e.node){if(e.loader===null){o=new BX.Loader({target:e.node,size:e.hasOwnProperty("size")?e.size:40})}else{o=e.loader}o.show()}return o},hideLoader:function(e){if(e.loader!==null){e.loader.hide()}if(e.node){BX.cleanNode(e.node)}if(e.loader!==null){e.loader=null}},logout:function(){var e=document.getElementsByClassName("js-intranet-password");var o=this.showLoader({node:e[0],loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"logout",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then(function(e){this.hideLoader({loader:o});this.showSuccessPopup()}.bind(this),function(e){this.hideLoader({loader:o})}.bind(this))},showConfirmLogoutPopup:function(e){BX.PopupWindowManager.create({id:"socserv-logout-confirm-popup",titleBar:BX.message("INTRANET_USER_PROFILE_PASSWORD_LOGOUT_TITLE"),content:BX.create("div",{props:{style:"max-width: 450px"},html:BX.message("INTRANET_USER_PROFILE_PASSWORD_LOGOUT_TEXT")}),closeIcon:false,lightShadow:true,contentColor:"white",offsetLeft:100,overlay:false,contentPadding:10,buttons:[new BX.UI.CreateButton({text:BX.message("INTRANET_USER_PROFILE_PASSWORD_BUTTON_CONTINUE"),className:"ui-btn ui-btn-danger",events:{click:function(){this.context.close();e()}}}),new BX.UI.CancelButton({text:BX.message("INTRANET_USER_PROFILE_PASSWORD_BUTTON_CANCEL"),events:{click:function(){this.context.close()}}})],events:{onPopupClose:function(){this.destroy()}}}).show()},showSuccessPopup:function(){BX.PopupWindowManager.create({id:"socserv-logout-success-popup",content:BX.create("div",{props:{style:"max-width: 450px"},html:BX.message("INTRANET_USER_PROFILE_PASSWORD_LOGOUT_SUCCESS")}),closeIcon:true,lightShadow:true,offsetLeft:100,overlay:false,contentPadding:10}).show()}}})();
//# sourceMappingURL=script.map.js