(function(){"use strict";var t=BX.namespace("BX.Intranet.UserProfile.Password");if(t.EntityEditor){return}t.EntityEditor=function(t){this.init(t)};t.EntityEditor.prototype={init:function(t){BX.addCustomEvent("BX.UI.EntityEditorControlFactory:onInitialize",BX.proxy(function(t,i){i.methods["password"]=this.userProfilePasswordEntity},this))},userProfilePasswordEntity:function(t,i,r){if(t==="password"){return BX.Intranet.UserProfile.Password.EntityEditorPassword.create(i,r)}return null}};BX.load(["/bitrix/js/ui/entity-editor/js/editor.js"],function(){if(typeof BX.Intranet.UserProfile.Password.EntityEditorPassword==="undefined"){BX.Intranet.UserProfile.Password.EntityEditorPassword=function(){BX.Intranet.UserProfile.Password.EntityEditorPassword.superclass.constructor.apply(this);this._input=null;this._innerWrapper=null};BX.extend(BX.Intranet.UserProfile.Password.EntityEditorPassword,BX.UI.EntityEditorField);BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.getModeSwitchType=function(t){var i=BX.UI.EntityEditorModeSwitchType.common;if(t===BX.UI.EntityEditorMode.edit){i|=BX.UI.EntityEditorModeSwitchType.button|BX.UI.EntityEditorModeSwitchType.content}return i};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.getContentWrapper=function(){return this._innerWrapper};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.focus=function(){if(!this._input){return}BX.focus(this._input);BX.UI.EditorTextHelper.getCurrent().setPositionAtEnd(this._input)};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.getLineCount=function(){return this._schemeElement.getDataIntegerParam("lineCount",1)};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.layout=function(t){if(this._hasLayout){return}this.ensureWrapperCreated({classNames:["ui-entity-editor-content-block-field-text"]});this.adjustWrapper();if(!this.isNeedToDisplay()){this.registerLayout(t);this._hasLayout=true;return}var i=this.getName();var r=this.getTitle();this._input=null;this._inputContainer=null;this._innerWrapper=null;if(this.isDragEnabled()){this._wrapper.appendChild(this.createDragButton())}if(this._mode===BX.UI.EntityEditorMode.edit){this._wrapper.appendChild(this.createTitleNode(r));this._inputContainer=BX.create("div",{attrs:{className:"ui-ctl ui-ctl-textbox ui-ctl-w100"}});this._input=BX.create("input",{attrs:{name:i,className:"ui-ctl-element",type:"password",value:"",id:this._id.toLowerCase()+"_text"}});this._inputContainer.appendChild(this._input);if(this.isNewEntity()){var e=this.getCreationPlaceholder();if(e!==""){this._input.setAttribute("placeholder",e)}}BX.bind(this._input,"input",this._changeHandler);this._descContainer=BX.create("div",{attrs:{className:"ui-entity-editor-field-description"},text:this.getDescription()});this._innerWrapper=BX.create("div",{props:{className:"ui-entity-editor-content-block"},children:[this._inputContainer,this._descContainer]})}else{this._wrapper.appendChild(this.createTitleNode(r));this._innerWrapper=BX.create("div",{props:{className:"ui-entity-editor-content-block"},children:[BX.create("div",{props:{className:"ui-entity-editor-content-block-text"},html:"******"})]})}this._wrapper.appendChild(this._innerWrapper);if(this.isContextMenuEnabled()){this._wrapper.appendChild(this.createContextMenuButton())}if(this.isDragEnabled()){this.initializeDragDropAbilities()}this.registerLayout(t);this._hasLayout=true};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.doClearLayout=function(t){this._input=null;this._innerWrapper=null};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.refreshLayout=function(){if(!this._hasLayout){return}if(!this._isValidLayout){BX.Intranet.UserProfile.Password.EntityEditorPassword.superclass.refreshLayout.apply(this,arguments);return}if(this._mode===BX.UI.EntityEditorMode.edit&&this._input){this._input.value=this.getValue()}else if(this._mode===BX.UI.EntityEditorMode.view&&this._innerWrapper){this._innerWrapper.innerHTML=BX.util.htmlspecialchars(this.getValue())}};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.getRuntimeValue=function(){return this._mode===BX.UI.EntityEditorMode.edit&&this._input?BX.util.trim(this._input.value):""};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.validate=function(t){if(!(this._mode===BX.UI.EntityEditorMode.edit&&this._input)){throw"BX.Intranet.UserProfile.Password.EntityEditorPassword. Invalid validation context"}this.clearError();if(this.hasValidators()){return this.executeValidators(t)}var i=!this.isRequired()||BX.util.trim(this._input.value)!=="";if(!i){t.addError(BX.UI.EntityValidationError.create({field:this}));this.showRequiredFieldError(this._input)}return i};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.showError=function(t,i){BX.Intranet.UserProfile.Password.EntityEditorPassword.superclass.showError.apply(this,arguments);if(this._input){BX.addClass(this._input,"ui-entity-card-content-error")}};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.clearError=function(){BX.Intranet.UserProfile.Password.EntityEditorPassword.superclass.clearError.apply(this);if(this._input){BX.removeClass(this._input,"ui-entity-card-content-error")}};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.save=function(){if(this._input){this._model.setField(this.getName(),this._input.value,{originator:this})}};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.processModelChange=function(t){if(BX.prop.get(t,"originator",null)===this){return}if(!BX.prop.getBoolean(t,"forAll",false)&&BX.prop.getString(t,"name","")!==this.getName()){return}this.refreshLayout()};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.getFocusInputID=function(){return this._id.toLowerCase()+"_text"};BX.Intranet.UserProfile.Password.EntityEditorPassword.prototype.getDescription=function(){var t=this.getData();var i=BX.prop.getString(t,"desc","");return i};BX.Intranet.UserProfile.Password.EntityEditorPassword.create=function(t,i){var r=new BX.Intranet.UserProfile.Password.EntityEditorPassword;r.initialize(t,i);return r}}})})();
//# sourceMappingURL=form-entity.map.js