this.BX=this.BX||{};this.BX.Intranet=this.BX.Intranet||{};(function(t,e,i,a,s,n,r,l,o,c,d){"use strict";var u=function t(){babelHelpers.classCallCheck(this,t)};babelHelpers.defineProperty(u,"eventNameSpace","BX.Intranet.Userprofile:");var m,v;var _=function(){function t(){babelHelpers.classCallCheck(this,t)}babelHelpers.createClass(t,null,[{key:"getOpenSliderFunction",value:function t(e){if(l.Type.isStringFilled(e)){return function(){c.EventEmitter.emit(c.EventEmitter.GLOBAL_TARGET,u.eventNameSpace+"onNeedToHide");BX.SidePanel.Instance.open(e,{cacheable:false,data:{},width:500})}}return function(){}}},{key:"showData",value:function t(e){e.value=parseInt(e.value||0);var i=l.Tag.render(m||(m=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical" id="user-indicator-pulse">\n\t\t\t\t<div class="system-auth-form__item-block --margin-bottom">\n\t\t\t\t\t<div class="system-auth-form__stress-widget">\n\t\t\t\t\t\t<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content">\n\t\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content-title">','</div>\n\t\t\t\t\t\t\t<div data-role="value" class="system-auth-form__stress-widget--content-progress ','">0</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --stress-widget-sp">\n\t\t\t\t\t\t<div class="system-auth-form__item-block --center --width-100">\n\t\t\t\t\t\t\t<span class="system-auth-form__stress-widget--status  --flex --','">','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__icon-help" onclick="','"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t<div class="system-auth-form__stress-widget--message">',"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),e.value>0?"":"--empty",l.Text.encode(e.type),l.Text.encode(e.typeDescription),this.getOpenSliderFunction(e.url.result),this.getOpenSliderFunction(e.url.check),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),l.Text.encode(e.comment));setTimeout((function(){var t=setInterval((function(e){e.current++;e.node.innerHTML=e.current;if(e.current>=e.end){clearInterval(t)}}),600/e.value,{current:0,end:e.value,node:i.querySelector('[data-role="value"]')});i.querySelector('[data-role="value-degree"]').style.transform="rotate("+1.8*e.value+"deg)"}),1e3);return i}},{key:"showEmpty",value:function t(e){var i=e.url.check;return l.Tag.render(v||(v=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical --empty-stress --clickable" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-block --margin-bottom">\n\t\t\t\t\t<div class="system-auth-form__stress-widget">\n\t\t\t\t\t\t<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content">\n\t\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content-title">','</div>\n\t\t\t\t\t\t\t<div data-role="value" class="system-auth-form__stress-widget--content-progress --empty">?</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --stress-widget-sp">\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--message">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted">','</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t</div>\n\t\t\t</div>"])),this.getOpenSliderFunction(i),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_RESULT_COME_ON"))}},{key:"getPromise",value:function t(e){var i=this;var a=e.signedParameters,s=e.componentName,n=e.userId,r=e.data;return new Promise((function(t,e){var o=r?Promise.resolve({data:r}):l.ajax.runAction("socialnetwork.api.user.stresslevel.get",{signedParameters:a,data:{c:s,fields:{userId:n}}});o.then((function(e){var a=e.data;if(a&&a.id!==undefined&&a.value!==undefined){return t(i.showData(a))}var s=l.Loc.getMessage("USER_ID")===n?i.showEmpty(a):document.createElement("DIV");return t(s)}))["catch"]((function(e){t(i.showData({id:undefined,value:undefined,urls:{check:undefined}}))}))}))}}]);return t}();var h;function p(t,e,i){f(t,e);e.set(t,i)}function f(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var g=new WeakMap;var b=new WeakMap;var T=function(t){babelHelpers.inherits(e,t);function e(t){var i;babelHelpers.classCallCheck(this,e);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this));p(babelHelpers.assertThisInitialized(i),g,{writable:true,value:void 0});p(babelHelpers.assertThisInitialized(i),b,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),g,Object.assign({},t));babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g).lightning=String(t.id).indexOf("light:")===0?"light":String(t.id).indexOf("dark:")===0?"dark":null;i.applyTheme=i.applyTheme.bind(babelHelpers.assertThisInitialized(i));i.setEventNamespace(u.eventNameSpace);c.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(function(t){var e=t.data,a=e.id,s=e.theme;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g).id=a;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g).lightning=String(a).indexOf("light:")===0?"light":String(a).indexOf("dark:")===0?"dark":null;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g).title=s.title;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g).previewImage=s.previewImage;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g).previewColor=s.previewColor;i.applyTheme()}));return i}babelHelpers.createClass(e,[{key:"applyTheme",value:function t(){var e=this.getContainer();if(l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,g).previewImage)&&babelHelpers.classPrivateFieldGet(this,g).lightning){e.style.removeProperty("backgroundImage");e.style.removeProperty("backgroundSize");e.style.backgroundImage='url("'+babelHelpers.classPrivateFieldGet(this,g).previewImage+'")';e.style.backgroundSize="cover"}else{e.style.background="none"}if(l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,g).previewColor)){this.getContainer().style.backgroundColor=babelHelpers.classPrivateFieldGet(this,g).previewColor}if(!babelHelpers.classPrivateFieldGet(this,g).lightning){e.style.backgroundColor="rgba(255,255,255,1)"}l.Dom.removeClass(e,"--light --dark");l.Dom.addClass(e,"--"+babelHelpers.classPrivateFieldGet(this,g).lightning)}},{key:"getContainer",value:function t(){if(babelHelpers.classPrivateFieldGet(this,b)){return babelHelpers.classPrivateFieldGet(this,b)}var e=function t(){BX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false);c.EventEmitter.emit(c.EventEmitter.GLOBAL_TARGET,u.eventNameSpace+":onOpen")};babelHelpers.classPrivateFieldSet(this,b,l.Tag.render(h||(h=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --border ',' --padding-sm">\n\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t<div data-role="preview-color" class="system-auth-form__item-logo--image --theme"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title --white-space --block">\n\t\t\t\t\t\t<span data-role="title">','</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-content --margin-top-auto --center --center-force">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn" onclick="','">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>"])),babelHelpers.classPrivateFieldGet(this,g).lightning?"--"+babelHelpers.classPrivateFieldGet(this,g).lightning:"",l.Loc.getMessage("AUTH_THEME_DIALOG"),e,l.Loc.getMessage("INTRANET_USER_PROFILE_CHANGE")));setTimeout(this.applyTheme,0);return babelHelpers.classPrivateFieldGet(this,b)}}],[{key:"getPromise",value:function t(){var e=this;return new Promise((function(t,i){l.ajax.runComponentAction("bitrix:intranet.user.profile.button","getThemePickerData",{mode:"class"}).then((function(i){var a=new e(i.data);t(a.getContainer())}))["catch"](i)}))}}]);return e}(c.EventEmitter);var E,y,L,I,P,S,R;function H(t,e){N(t,e);e.add(t)}function N(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function O(t,e,i){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return i}var w=new WeakSet;var k=function(){function t(e){babelHelpers.classCallCheck(this,t);H(this,w);this.data=e;this.onclickHandle=this.onclickHandle.bind(this)}babelHelpers.createClass(t,[{key:"showData",value:function t(){var e=O(this,w,F).call(this),i=e.myPosition,a=e.userList,s=e.range;var n;if(!this.data["ENABLED"]){n=l.Tag.render(E||(E=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --without-stat">\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --lighter" data-role="empty-info">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_DISABLED"))}else if(s>0&&i>0){n=l.Tag.render(y||(y=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t<div class="system-auth-form__item-title --without-margin">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light --margin-s">\n\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t<span class="system-auth-form__icon-help" data-hint="','" data-hint-no-icon></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light" data-role="empty-info">','</div>\n\n\t\t\t\t\t<div class="system-auth-form__item-title --white-space --margin-xl">\n\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t<span class="system-auth-form__ustat-icon --up"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__userlist">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),this.onclickHandle,l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),l.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":i,"#AMONG#":s}),a)}else{var r=s>0?this.onclickHandle:function(){};n=l.Tag.render(L||(L=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --without-stat ','" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --lighter" data-role="empty-info">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),s>0?"--clickable":"",r,l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY_BRIEF"))}BX.UI.Hint.init(n);return n}},{key:"onclickHandle",value:function t(e){c.EventEmitter.emit(u.eventNameSpace+"onNeedToHide");if(window["openIntranetUStat"]){openIntranetUStat(e)}}},{key:"showWideData",value:function t(){var e=O(this,w,F).call(this),i=e.myPosition,a=e.userList,s=e.range;var n=l.Tag.render(I||(I=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --center --padding-ustat ','">\n\t\t\t\t<div class="system-auth-form__item-image">\n\t\t\t\t\t<div class="system-auth-form__item-image--src --ustat"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --overflow">\n\t\t\t\t\t<div class="system-auth-form__item-title --xl --without-margin">','</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light" data-role="empty-info">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container--inline" data-role="my-position">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-light --without-margin --margin-right">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title --white-space --margin-xl">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__ustat-icon --up"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__userlist" data-role="user-list">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__icon-help --absolute-right-bottom" data-hint="','" data-hint-no-icon></div>\n\t\t\t</div>\n\t\t'])),s>0?"--clickable":"--without-stat",l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":i,"#AMONG#":s}),a,l.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"));if(s>0){n.addEventListener("click",this.onclickHandle)}return n}}],[{key:"getPromise",value:function t(e){var i=this;var a=e.userId,s=e.isNarrow,n=e.data;return new Promise((function(t,e){(n?Promise.resolve({data:n}):l.ajax.runComponentAction("bitrix:intranet.ustat.department","getJson",{mode:"class",data:{}})).then((function(e){var a=e.data;var n=new i(a);t(s?n.showData():n.showWideData())}))["catch"]((function(e){e=l.Type.isArray(e)?e:[e];var i=document.createElement("ul");e.forEach((function(t){var e=t.message;var a=document.createElement("li");a.innerHTML=e;a.className="ui-alert-message";i.appendChild(a)}));t(l.Tag.render(P||(P=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div class="ui-alert ui-alert-danger">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>"])),i))}))}))}}]);return t}();function F(){var t=this;var e=document.createDocumentFragment();var i=parseInt(this.data["USERS_RATING"]["position"]);var a=0;var s=l.Type.isPlainObject(this.data["USERS_RATING"]["top"])?Object.values(this.data["USERS_RATING"]["top"]):l.Type.isArray(this.data["USERS_RATING"]["top"])&&this.data["USERS_RATING"]["top"].length>0?babelHelpers.toConsumableArray(this.data["USERS_RATING"]["top"]):[{USER_ID:l.Loc.getMessage("USER_ID"),ACTIVITY:0}];var n=i>5?[].concat(babelHelpers.toConsumableArray(s.slice(0,3)),babelHelpers.toConsumableArray(s.slice(-1)),[null]):s;n.forEach((function(i,s){if(i===null){e.appendChild(l.Tag.render(S||(S=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__userlist-item --list"></div>']))));return}var n=i["ACTIVITY"];var r="";if(t.data["USERS_INFO"][i["USER_ID"]]){n=[t.data["USERS_INFO"][i["USER_ID"]]["FULL_NAME"],": ",i["ACTIVITY"]].join("");r=String(t.data["USERS_INFO"][i["USER_ID"]]["AVATAR_SRC"]).length>0?t.data["USERS_INFO"][i["USER_ID"]]["AVATAR_SRC"]:null}var o=String(i["USER_ID"])===String(l.Loc.getMessage("USER_ID"));if(o){a=i["ACTIVITY"]}e.appendChild(l.Tag.render(R||(R=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div title="','" class="system-auth-form__userlist-item ui-icon ui-icon ui-icon-common-user">\n\t\t\t\t\t\t\t<i ',"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"])),l.Text.encode(n),r?"style=\"background-image: url('".concat(encodeURI(r),"');background-size: cover;\""):""))}));return{userList:e,myPosition:i,range:parseInt(this.data["USERS_RATING"]["range"]),myActivity:a}}var A,U,M,G,C,x;function D(t,e){W(t,e);e.add(t)}function B(t,e,i){W(t,e);e.set(t,i)}function W(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function z(t,e,i){X(t,e);return i}function X(t,e){if(t!==e){throw new TypeError("Private static access of wrong provenance")}}function Y(t,e,i){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return i}var j=new WeakMap;var q=new WeakMap;var V=new WeakSet;var K=new WeakSet;var Q=new WeakSet;var J=new WeakSet;var Z=new WeakSet;var $=new WeakSet;var tt=new WeakSet;var et=function(){function t(e,i){babelHelpers.classCallCheck(this,t);D(this,tt);D(this,$);D(this,Z);D(this,J);D(this,Q);D(this,K);D(this,V);B(this,j,{writable:true,value:void 0});B(this,q,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,j,e);babelHelpers.classPrivateFieldSet(this,q,i)}babelHelpers.createClass(t,[{key:"handlerLogoutButton",value:function t(){if(Y(this,V,it).call(this)){Y(this,tt,ot).call(this)}}},{key:"getContainer",value:function e(){var i=this;var a=function t(){if(Y(i,V,it).call(i)){babelHelpers.classPrivateFieldGet(i,q).getPopup().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldGet(i,j).url,{allowChangeHistory:false})}else if(!Y(i,K,at).call(i)){babelHelpers.classPrivateFieldGet(i,q).getPopup().close();BX.UI.InfoHelper.show("limit_office_login_history")}};var s=l.Tag.render(A||(A=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical">\n\t\t\t\t\t<div class="system-auth-form__item-container --center ','">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','" onclick="','">\n\t\t\t\t\t\t\t\t<i></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --sm ','" onclick="','">',"</div>\n\t\t\t\t\t\t\t",'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__visited">\n\t\t\t\t\t</div>\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"])),Y(this,V,it).call(this)?"--border":"",Y(this,V,it).call(this)?"--history":"--history-gray",a,Y(this,V,it).call(this)?"--link":"",a,l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_TITLE"),Y(this,$,lt).call(this),Y(this,J,nt).call(this),Y(this,Z,rt).call(this,a));var n=s.querySelector(".system-auth-form__visited");if(Y(this,V,it).call(this)){var r=z(t,t,dt).call(t);r.show(n);l.ajax.runComponentAction("bitrix:intranet.user.login.history","getListLastLogin",{mode:"class",data:{limit:1}}).then((function(e){r.hide();var i=e.data;var s=Object.keys(i);s.forEach((function(e){var s=z(t,t,ct).call(t,i[e]["DEVICE_PLATFORM"],i[e]["GEOLOCATION"],i[e]["BROWSER"]);var r=z(t,t,ut).call(t,i[e]["LOGIN_DATE"]);var o=l.Tag.render(U||(U=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div class="system-auth-form__visited-item">\n\t\t\t\t\t\t\t<div data-hint=\'',"' class=\"system-auth-form__visited-icon --",'" onclick="','" data-hint-no-icon></div>\n\t\t\t\t\t\t\t<script>\n\t\t\t\t\t\t\t\tBX.ready(() => {\n\t\t\t\t\t\t\t\t\tBX.UI.Hint.init(document.querySelector(".system-auth-form__visited-icon --','"));\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t<\/script>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-text" onclick="','">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-time" onclick="','">',"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_THIS_DEVICE_DESCRIPTION"),i[e]["DEVICE_TYPE"],a,i[e]["DEVICE_TYPE"],a,s,a,r);l.Dom.append(o,n)}))}))["catch"]((function(){r.hide()}))}return s}}]);return t}();function it(){return babelHelpers.classPrivateFieldGet(this,j).isAvailableUserLoginHistory&&babelHelpers.classPrivateFieldGet(this,j).isConfiguredUserLoginHistory}function at(){return babelHelpers.classPrivateFieldGet(this,j).isAvailableUserLoginHistory}function st(){return babelHelpers.classPrivateFieldGet(this,j).isConfiguredUserLoginHistory}function nt(){var t=this;var e=function e(){Y(t,tt,ot).call(t)};var i=function e(){babelHelpers.classPrivateFieldGet(t,q).getPopup().close();BX.Helper.show("redirect=detail&code=16615982")};if(Y(this,V,it).call(this)){return l.Tag.render(M||(M=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn" onclick="','">',"</div>\n\t\t\t"],['\n\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn" onclick=\\"','\\">',"</div>\n\t\t\t"])),e,l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE"))}else if(!Y(this,Q,st).call(this)){return l.Tag.render(G||(G=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t<div class='system-auth-form__settings' onclick=\"",'">',"</div>\n\t\t\t"])),i,l.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE"))}return null}function rt(t){if(Y(this,V,it).call(this)){return l.Tag.render(C||(C=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t<div class="system-auth-form__show-history" onclick="','">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),t,l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_SHOW_FULL_LIST"))}return null}function lt(){var t=this;var e=function e(){babelHelpers.classPrivateFieldGet(t,q).getPopup().close();BX.UI.InfoHelper.show("limit_office_login_history")};if(!Y(this,K,at).call(this)){return l.Tag.render(x||(x=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item-title-logo --lock" onclick="','">\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t'])),e)}return null}function ot(){var t=this;BX.UI.Dialogs.MessageBox.show({message:l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_WITHOUT_THIS_MESSAGE"),title:l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_TITLE"),buttons:BX.UI.Dialogs.MessageBoxButtons.YES_CANCEL,minWidth:400,popupOptions:{contentBackground:"transparent",autoHide:true,closeByEsc:true,padding:0,background:"",events:{onShow:function e(){babelHelpers.classPrivateFieldGet(t,q).getPopup().getPopup().setAutoHide(false)},onPopupClose:function e(){babelHelpers.classPrivateFieldGet(t,q).getPopup().getPopup().setAutoHide(true)}}},onYes:function t(e){l.ajax.runComponentAction("bitrix:intranet.user.profile.password","logout",{mode:"ajax"}).then((function(){e.close();BX.UI.Notification.Center.notify({content:l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_WITHOUT_THIS_RESULT"),autoHideDelay:1800})}))["catch"]((function(){e.close();BX.UI.Notification.Center.notify({content:l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_ERROR"),autoHideDelay:3600})}))}})}function ct(t,e,i){var a=[];if(i){a.push(i)}if(e){a.push(e)}if(t){a.push(t)}return a.join(", ")}function dt(){return new a.Loader({size:20,mode:"inline"})}function ut(t){var e=[["-","d.m.Y H:i:s"],["s","sago"],["i","iago"],["H","Hago"],["d","dago"],["m","mago"]];return" - "+BX.date.format(e,new Date(t),new Date)}var mt,vt;function _t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_t=function e(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},n=s.iterator||"@@iterator",r=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function o(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function t(e,i,a){return e[i]=a}}function c(t,e,i,s){var n=e&&e.prototype instanceof m?e:m,r=Object.create(n.prototype),l=new P(s||[]);return a(r,"_invoke",{value:E(t,i,l)}),r}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function m(){}function v(){}function _(){}var h={};o(h,n,(function(){return this}));var p=Object.getPrototypeOf,f=p&&p(p(S([])));f&&f!==e&&i.call(f,n)&&(h=f);var g=_.prototype=m.prototype=Object.create(h);function b(t){["next","throw","return"].forEach((function(e){o(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function s(a,n,r,l){var o=d(t[a],t,n);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"==babelHelpers["typeof"](u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){s("next",t,r,l)}),(function(t){s("throw",t,r,l)})):e.resolve(u).then((function(t){c.value=t,r(c)}),(function(t){return s("throw",t,r,l)}))}l(o.arg)}var n;a(this,"_invoke",{value:function t(i,a){function r(){return new e((function(t,e){s(i,a,t,e)}))}return n=n?n.then(r,r):r()}})}function E(t,e,i){var a="suspendedStart";return function(s,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===s)throw n;return R()}for(i.method=s,i.arg=n;;){var r=i.delegate;if(r){var l=y(r,i);if(l){if(l===u)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var o=d(t,e,i);if("normal"===o.type){if(a=i.done?"completed":"suspendedYield",o.arg===u)continue;return{value:o.arg,done:i.done}}"throw"===o.type&&(a="completed",i.method="throw",i.arg=o.arg)}}}function y(t,e){var i=e.method,a=t.iterator[i];if(undefined===a)return e.delegate=null,"throw"===i&&t.iterator["return"]&&(e.method="return",e.arg=undefined,y(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),u;var s=d(a,t.iterator,e.arg);if("throw"===s.type)return e.method="throw",e.arg=s.arg,e.delegate=null,u;var n=s.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=undefined),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function S(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function e(){for(;++a<t.length;)if(i.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=undefined,e.done=!0,e};return s.next=s}}return{next:R}}function R(){return{value:undefined,done:!0}}return v.prototype=_,a(g,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:v,configurable:!0}),v.displayName=o(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,o(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(T.prototype),o(T.prototype,r,(function(){return this})),t.AsyncIterator=T,t.async=function(e,i,a,s,n){void 0===n&&(n=Promise);var r=new T(c(e,i,a,s),n);return t.isGeneratorFunction(i)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},b(g),o(g,l,"Generator"),o(g,n,(function(){return this})),o(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var a in e)i.push(a);return i.reverse(),function t(){for(;i.length;){var a=i.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=S,P.prototype={constructor:P,reset:function t(e){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(I),!e)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=undefined)},stop:function t(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function t(e){if(this.done)throw e;var a=this;function s(t,i){return l.type="throw",l.arg=e,a.next=t,i&&(a.method="next",a.arg=undefined),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],l=r.completion;if("root"===r.tryLoc)return s("end");if(r.tryLoc<=this.prev){var o=i.call(r,"catchLoc"),c=i.call(r,"finallyLoc");if(o&&c){if(this.prev<r.catchLoc)return s(r.catchLoc,!0);if(this.prev<r.finallyLoc)return s(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return s(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return s(r.finallyLoc)}}}},abrupt:function t(e,a){for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=a&&a<=r.finallyLoc&&(r=null);var l=r?r.completion:{};return l.type=e,l.arg=a,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(l)},complete:function t(e,i){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&i&&(this.next=i),u},finish:function t(e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),I(a),u}},catch:function t(e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc===e){var s=a.completion;if("throw"===s.type){var n=s.arg;I(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function t(e,i,a){return this.delegate={iterator:S(e),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=undefined),u}},t}function ht(t,e,i){bt(t,e);pt(i,"get");return ft(t,i)}function pt(t,e){if(t===undefined){throw new TypeError("attempted to "+e+" private static field before its declaration")}}function ft(t,e){if(e.get){return e.get.call(t)}return e.value}function gt(t,e,i){bt(t,e);return i}function bt(t,e){if(t!==e){throw new TypeError("Private static access of wrong provenance")}}var Tt=function(){function t(){babelHelpers.classCallCheck(this,t)}babelHelpers.createClass(t,null,[{key:"getPromise",value:function(){var e=babelHelpers.asyncToGenerator(_t().mark((function e(){var i,a;return _t().wrap((function e(s){while(1)switch(s.prev=s.next){case 0:s.next=2;return l.Runtime.loadExtension("sign.v2.b2e.sign-settings-employee");case 2:i=s.sent;a=i.B2EEmployeeSignSettings;t.B2EEmployeeSignSettingsClass=a;return s.abrupt("return",gt(t,t,Et).call(t));case 6:case"end":return s.stop()}}),e)})));function i(){return e.apply(this,arguments)}return i}()}]);return t}();function Et(){return ht(this,Tt,Lt).remember("layout",(function(){var t=l.Tag.render(mt||(mt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__scope system-auth-form__sign">\n\t\t\t\t\t<div class="system-auth-form__item-container --flex --border" style="flex-direction:row;">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --sign">\n\t\t\t\t\t\t\t\t<i></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span data-hint-center data-hint="','"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__btn--sign ui-popupcomponentmaker__btn --medium --border" onclick="','">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted">','</div>\n\t\t\t\t\t\t<span data-hint-center data-hint="','"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'])),l.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_TITLE_HINT"),(function(){return gt(Tt,Tt,yt).call(Tt)}),l.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_CREATE_DOCUMENT"),l.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_TRACK_SIGNING"),l.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_TRACK_SIGNING_HINT"));BX.UI.Hint.init(t);return t}))}function yt(){c.EventEmitter.emit(Tt,Tt.events.onDocumentCreateSidePanelOpen);var t=l.Tag.render(vt||(vt=babelHelpers.taggedTemplateLiteral(['<div id="sign-b2e-employee-settings-container"></div>'])));BX.SidePanel.Instance.open("sign-b2e-settings-init-by-employee",{width:750,cacheable:false,contentCallback:function e(){t.innerHTML="";return t},events:{onLoad:function e(){var i=new Tt.B2EEmployeeSignSettingsClass(t.id);i.render()}}})}babelHelpers.defineProperty(Tt,"events",{onDocumentCreateSidePanelOpen:"onDocumentCreateSidePanelOpen"});var Lt={writable:true,value:new s.MemoryCache};var It,Pt,St,Rt,Ht,Nt;var Ot=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var i=arguments.length>1?arguments[1]:undefined;babelHelpers.classCallCheck(this,t);this.isSingle=e;this.config=i}babelHelpers.createClass(t,[{key:"getContainer",value:function t(){var e=this;var i=this.config.IS_ACTIVE==="Y";var a=function t(){c.EventEmitter.emit(c.EventEmitter.GLOBAL_TARGET,u.eventNameSpace+":onOpen");if(String(e.config.URL).length>0){l.Uri.addParam(e.config.URL,{page:"otpConnected"});BX.SidePanel.Instance.open(l.Uri.addParam(e.config.URL,{page:"otpConnected"}),{width:1100})}else{console.error("Otp page is not defined. Check the component params")}};var s=i?l.Tag.render(It||(It=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="','">',"</div>"])),a,l.Loc.getMessage("INTRANET_USER_PROFILE_TURNED_ON")):l.Tag.render(Pt||(Pt=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="','">',"</div>"])),a,l.Loc.getMessage("INTRANET_USER_PROFILE_TURN_ON"));var n=function t(){top.BX.Helper.show("redirect=detail&code=17728602");c.EventEmitter.emit(c.EventEmitter.GLOBAL_TARGET,u.eventNameSpace+":onOpen")};if(this.isSingle!==true){return l.Tag.render(St||(St=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ','">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --authentication"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --flex --column --flex-start">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --without-margin --block">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<span class="system-auth-form__icon-help --inline" onclick="','"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t','\n\t\t\t\t\t\t<div class="system-auth-form__item-content --margin-top-auto --center --center-force">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"])),i?" --active":"",l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),n,i?l.Tag.render(Rt||(Rt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">',"</div>\n\t\t\t\t\t\t\t"])),a,l.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE")):"",s,i?"":'\n\t\t\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">'.concat(l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE"),"</div>\n\t\t\t\t\t\t</div>"))}var r=null;var d=function t(e){e.stopPropagation();var i=[{text:l.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE"),onclick:function t(){r.close();a()}}];r=r||new o.Menu("menu-otp-".concat(l.Text.getRandom()),e.target,i,{className:"system-auth-form__popup",angle:true,offsetLeft:10,autoHide:true,events:{onShow:function t(e){c.EventEmitter.emit(c.EventEmitter.GLOBAL_TARGET,u.eventNameSpace+":showOtpMenu",new c.BaseEvent({data:{popup:e.target}}))}}});r.toggle()};return l.Tag.render(Ht||(Ht=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm-all ',' --vertical --center">\n\t\t\t\t\t<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --authentication"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --flex">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light --center --s">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t <span class="system-auth-form__icon-help" onclick="','"></span> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t','\n\t\t\t\t\t<div class="system-auth-form__item-container --flex --column --space-around">\n\t\t\t\t\t\t<div class="system-auth-form__item-content --flex --display-flex">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t"])),i?" --active":"",l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),n,i?l.Tag.render(Nt||(Nt=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__config --absolute" onclick="','"></div>'])),d):"",s,i?"":'\n\t\t\t\t\t\t<div class="system-auth-form__item-new system-auth-form__item-new-icon --ssl">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">'.concat(l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE"),"</div>\n\t\t\t\t\t\t</div>"))}}]);return t}();var wt,kt,Ft,At,Ut,Mt,Gt,Ct,xt,Dt,Bt,Wt,zt,Xt,Yt,jt;function qt(t,e){Kt(t,e);e.add(t)}function Vt(t,e,i){Kt(t,e);e.set(t,i)}function Kt(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Qt(t,e,i){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return i}var Jt=Symbol("user.widget");var Zt=new WeakMap;var $t=new WeakMap;var te=new WeakMap;var ee=new WeakMap;var ie=new WeakMap;var ae=new WeakMap;var se=new WeakMap;var ne=new WeakSet;var re=new WeakSet;var le=new WeakSet;var oe=new WeakSet;var ce=new WeakSet;var de=new WeakSet;var ue=new WeakSet;var me=new WeakSet;var ve=new WeakSet;var _e=new WeakSet;var he=new WeakSet;var pe=new WeakSet;var fe=new WeakSet;var ge=new WeakSet;var be=new WeakSet;var Te=new WeakSet;var Ee=new WeakSet;var ye=new WeakSet;var Le=function(t){babelHelpers.inherits(i,t);function i(t,e){var a;var s=e.profile,n=s.ID,r=s.FULL_NAME,o=s.PHOTO,c=s.MASK,d=s.STATUS,m=s.URL,v=s.WORK_POSITION,_=e.component,h=_.componentName,p=_.signedParameters,f=e.features,g=e.desktopDownloadLinks,b=e.networkProfileUrl;babelHelpers.classCallCheck(this,i);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).call(this));qt(babelHelpers.assertThisInitialized(a),ye);qt(babelHelpers.assertThisInitialized(a),Ee);qt(babelHelpers.assertThisInitialized(a),Te);qt(babelHelpers.assertThisInitialized(a),be);qt(babelHelpers.assertThisInitialized(a),ge);qt(babelHelpers.assertThisInitialized(a),fe);qt(babelHelpers.assertThisInitialized(a),pe);qt(babelHelpers.assertThisInitialized(a),he);qt(babelHelpers.assertThisInitialized(a),_e);qt(babelHelpers.assertThisInitialized(a),ve);qt(babelHelpers.assertThisInitialized(a),me);qt(babelHelpers.assertThisInitialized(a),ue);qt(babelHelpers.assertThisInitialized(a),de);qt(babelHelpers.assertThisInitialized(a),ce);qt(babelHelpers.assertThisInitialized(a),oe);qt(babelHelpers.assertThisInitialized(a),le);qt(babelHelpers.assertThisInitialized(a),re);qt(babelHelpers.assertThisInitialized(a),ne);Vt(babelHelpers.assertThisInitialized(a),Zt,{writable:true,value:void 0});Vt(babelHelpers.assertThisInitialized(a),$t,{writable:true,value:void 0});Vt(babelHelpers.assertThisInitialized(a),te,{writable:true,value:null});Vt(babelHelpers.assertThisInitialized(a),ee,{writable:true,value:{}});Vt(babelHelpers.assertThisInitialized(a),ie,{writable:true,value:new l.Cache.MemoryCache});Vt(babelHelpers.assertThisInitialized(a),ae,{writable:true,value:void 0});Vt(babelHelpers.assertThisInitialized(a),se,{writable:true,value:void 0});a.setEventNamespace(u.eventNameSpace);Qt(babelHelpers.assertThisInitialized(a),le,Se).call(babelHelpers.assertThisInitialized(a));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Zt,t);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),te,{ID:n,FULL_NAME:r,PHOTO:o,MASK:c,STATUS:d,URL:m,WORK_POSITION:v});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),ee,f);if(!l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),ee).browser)){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),ee).browser=l.Browser.isLinux()?"Linux":l.Browser.isWin()?"Windows":"MacOs"}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),ae,g);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),se,b);babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),ie).set("componentParams",{componentName:h,signedParameters:p});a.hide=a.hide.bind(babelHelpers.assertThisInitialized(a));return a}babelHelpers.createClass(i,[{key:"toggle",value:function t(){if(this.getPopup().isShown()){this.hide()}else{this.show()}}},{key:"hide",value:function t(){this.getPopup().close()}},{key:"show",value:function t(){this.getPopup().show()}},{key:"getPopup",value:function t(){var i,a;if(babelHelpers.classPrivateFieldGet(this,$t)){return babelHelpers.classPrivateFieldGet(this,$t)}this.emit("init");var s=l.Type.isNull(Qt(this,_e,ke).call(this))?null:{html:Qt(this,_e,ke).call(this),marginBottom:24,minHeight:"99px"};var n=[Qt(this,ne,Ie).call(this),Qt(this,ce,He).call(this)?{html:Qt(this,ce,He).call(this),backgroundColor:"#fafafa"}:null,s,[{html:Qt(this,de,Ne).call(this),marginBottom:24,overflow:true,minHeight:"63px"},{html:Qt(this,ue,Oe).call(this),backgroundColor:"#fafafa"}],Qt(this,me,we).call(this,!!Qt(this,he,Fe).call(this))?[{html:Qt(this,me,we).call(this,!!Qt(this,he,Fe).call(this)),overflow:true,marginBottom:24,flex:Qt(this,he,Fe).call(this)?.5:1,minHeight:Qt(this,he,Fe).call(this)?"115px":"56px"},Qt(this,he,Fe).call(this)]:null,Qt(this,ge,Me).call(this,Qt(this,fe,Ue).call(this)===null)&&Qt(this,fe,Ue).call(this)?[{flex:.5,html:Qt(this,pe,Ae).call(this,.7),minHeight:"190px"},[{html:Qt(this,fe,Ue).call(this),displayBlock:true},Qt(this,ge,Me).call(this,false)]]:Qt(this,fe,Ue).call(this)||Qt(this,ge,Me).call(this,true)?[{html:Qt(this,pe,Ae).call(this,2),flex:2},(i=Qt(this,fe,Ue).call(this))!==null&&i!==void 0?i:Qt(this,ge,Me).call(this,true)]:Qt(this,pe,Ae).call(this,0),Qt(this,be,Ge).call(this),{html:Qt(this,Te,Ce).call(this),backgroundColor:"#fafafa"},Qt(this,oe,Re).call(this)?{html:Qt(this,oe,Re).call(this),marginBottom:24,backgroundColor:"#fafafa"}:null,[{html:(a=Qt(this,Ee,xe).call(this))!==null&&a!==void 0?a:null,backgroundColor:"#fafafa"},{html:Qt(this,ye,De).call(this),backgroundColor:"#fafafa"}]];var r=function t(e){var i=[];if(l.Type.isArray(e)){for(var a=0;a<e.length;a++){if(l.Type.isArray(e[a])){var s=t(e[a]);if(s!==null){if(l.Type.isArray(s)&&s.length===1){i.push(s[0])}else{i.push(s)}}}else if(e[a]!==null){i.push(e[a])}}}return i.length<=0?null:i.length===1?i[0]:i};n=r(n);var o=function t(e,i,a){if(l.Type.isArray(e)){return{html:e.map(t)}}return{flex:e["flex"]||0,html:e["html"]||e,backgroundColor:e["backgroundColor"]||null,disabled:e["disabled"]||null,overflow:e["overflow"]||null,marginBottom:e["marginBottom"]||null,displayBlock:e["displayBlock"]||null,minHeight:e["minHeight"]||null,secondary:e["secondary"]||false}};babelHelpers.classPrivateFieldSet(this,$t,new e.PopupComponentsMaker({target:babelHelpers.classPrivateFieldGet(this,Zt),content:n.map(o),width:400,offsetTop:-14}));c.EventEmitter.subscribe("BX.Main.InterfaceButtons:onMenuShow",this.hide);c.EventEmitter.subscribe(u.eventNameSpace+"onNeedToHide",this.hide);return babelHelpers.classPrivateFieldGet(this,$t)}}],[{key:"init",value:function t(e,i){var a=this;if(e[Jt]){return}var s=function t(){if(!e["popupSymbol"]){e["popupSymbol"]=new a(e,i)}e["popupSymbol"].toggle();a.instance=e["popupSymbol"]};e[Jt]=true;e.addEventListener("click",s)}},{key:"getInstance",value:function t(){return this.instance}}]);return i}(c.EventEmitter);function Ie(){var t=this;return babelHelpers.classPrivateFieldGet(this,ie).remember("profile",(function(){var e=function e(i){t.hide();return BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldGet(t,te).URL)};var i=l.Tag.render(wt||(wt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<span class="system-auth-form__profile-avatar--image"\n\t\t\t\t\t',">\n\t\t\t\t</span>\n\t\t\t\t"])),babelHelpers.classPrivateFieldGet(t,te).PHOTO?"\n\t\t\t\t\t\tstyle=\"background-size: cover; background-image: url('".concat(encodeURI(babelHelpers.classPrivateFieldGet(t,te).PHOTO),"')\""):"");var a=l.Tag.render(kt||(kt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__profile-name">',"</div>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(t,te).FULL_NAME);c.EventEmitter.subscribe(c.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Avatar:changed",(function(e){var a=babelHelpers.slicedToArray(e.data,1),s=a[0],n=s.url,r=s.userId;if(babelHelpers.classPrivateFieldGet(t,te).ID>0&&r&&babelHelpers.classPrivateFieldGet(t,te).ID.toString()===r.toString()){babelHelpers.classPrivateFieldGet(t,te).PHOTO=n;i.style=l.Type.isStringFilled(n)?"background-size: cover; background-image: url('".concat(encodeURI(babelHelpers.classPrivateFieldGet(t,te).PHOTO),"')"):""}}));c.EventEmitter.subscribe(c.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Name:changed",(function(e){var i=babelHelpers.slicedToArray(e.data,1),s=i[0].fullName;babelHelpers.classPrivateFieldGet(t,te).FULL_NAME=s;a.innerHTML=s;babelHelpers.classPrivateFieldGet(t,Zt).querySelector("#user-name").innerHTML=s}));var s=l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(t,te).WORK_POSITION)?l.Text.encode(babelHelpers.classPrivateFieldGet(t,te).WORK_POSITION):"";if(babelHelpers.classPrivateFieldGet(t,te).STATUS&&l.Loc.hasMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldGet(t,te).STATUS)){s=l.Loc.getMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldGet(t,te).STATUS)}return l.Tag.render(Ft||(Ft=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="','">\n\t\t\t\t\t<div class="system-auth-form__profile">\n\t\t\t\t\t\t<div class="system-auth-form__profile-avatar">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__profile-content --margin--right">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<div class="system-auth-form__profile-position">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__profile-controls">\n\t\t\t\t\t\t\t<span class="ui-qr-popupcomponentmaker__btn --large --border" >\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t \t\t\x3c!-- <span class="ui-qr-popupcomponentmaker__btn --large --success">any text</span> --\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'])),e,i,a,s,l.Loc.getMessage("INTRANET_USER_PROFILE_PROFILE"))}))}function Pe(){var t=this;return babelHelpers.classPrivateFieldGet(this,ie).remember("popup-container",(function(){return t.getPopup().getPopup().getPopupContainer()}))}function Se(){var t=this;var e=function e(i){console.log(i);if(i.data.popup){setTimeout((function(){l.Event.bind(Qt(t,re,Pe).call(t),"click",(function(){i.data.popup.close()}))}),100)}};this.subscribe("init",(function(){c.EventEmitter.subscribe(c.EventEmitter.GLOBAL_TARGET,u.eventNameSpace+":onOpen",t.hide);t.subscribe("bindings:open",e);c.EventEmitter.subscribe(c.EventEmitter.GLOBAL_TARGET,u.eventNameSpace+":showOtpMenu",e)}))}function Re(){var t=this;return babelHelpers.classPrivateFieldGet(this,ie).remember("b24netPanel",(function(){if(babelHelpers.classPrivateFieldGet(t,ee)["b24netPanel"]!=="Y"){return null}return l.Tag.render(At||(At=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="','">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --network"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(t,se),l.Loc.getMessage("AUTH_PROFILE_B24NET_MSGVER_1"),l.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function He(){var t=this;return babelHelpers.classPrivateFieldGet(this,ie).remember("adminPanel",(function(){if(babelHelpers.classPrivateFieldGet(t,ee)["adminPanel"]!=="Y"){return null}return l.Tag.render(Ut||(Ut=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="/bitrix/admin/">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --admin-panel"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_ADMIN_PANEL"),l.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function Ne(){return babelHelpers.classPrivateFieldGet(this,ie).remember("themePicker",(function(){return T.getPromise()}))}function Oe(){return babelHelpers.classPrivateFieldGet(this,ie).remember("Mask",(function(){return l.Tag.render(Mt||(Mt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --mask"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span style="cursor: default" class="system-auth-form__icon-help"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --disabled">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-new --soon">\n\t\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_MASKS"),l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"),l.Loc.getMessage("INTRANET_USER_PROFILE_SOON"))}))}function we(t){var e=this;return babelHelpers.classPrivateFieldGet(this,ie).remember("getCompanyPulse",(function(){if(babelHelpers.classPrivateFieldGet(e,ee).pulse==="Y"&&babelHelpers.classPrivateFieldGet(e,te).ID>0&&babelHelpers.classPrivateFieldGet(e,te).ID===l.Loc.getMessage("USER_ID")){return new Promise((function(i){l.ajax.runComponentAction("bitrix:intranet.user.profile.button","getUserStatComponent",{mode:"class"}).then((function(a){BX.Runtime.html(null,a.data.html).then((function(){var a;i(k.getPromise({userId:babelHelpers.classPrivateFieldGet(e,te).ID,isNarrow:t,data:(a=babelHelpers.classPrivateFieldGet(e,ee)["pulseData"])!==null&&a!==void 0?a:null}))}))}))}))}return null}))}function ke(){var t=this;if(babelHelpers.classPrivateFieldGet(this,ee)["signDocument"]!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,ie).remember("getSignDocument",(function(){c.EventEmitter.subscribe(Tt,Tt.events.onDocumentCreateSidePanelOpen,(function(){return t.hide()}));return Tt.getPromise()}))}function Fe(){var t=this;if(babelHelpers.classPrivateFieldGet(this,ee)["stressLevel"]!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,ie).remember("getStressLevel",(function(){var e;return _.getPromise({signedParameters:babelHelpers.classPrivateFieldGet(t,ie).get("componentParams").signedParameters,componentName:babelHelpers.classPrivateFieldGet(t,ie).get("componentParams").componentName,userId:babelHelpers.classPrivateFieldGet(t,te).ID,data:(e=babelHelpers.classPrivateFieldGet(t,ee)["stressLevelData"])!==null&&e!==void 0?e:null})}))}function Ae(t){var e=this;return babelHelpers.classPrivateFieldGet(this,ie).remember("getQrContainer",(function(){return new Promise((function(i,a){BX.loadExt(["ui.qrauthorization","qrcode"]).then((function(){var a=function t(){e.hide();new r.QrAuthorization({title:l.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_TITLE2"),content:l.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_BODY2")}).show()};var s=function t(i){top.BX.Helper.show("redirect=detail&code=14999860");e.hide();i.preventDefault();i.stopPropagation();return false};var n;if(t!==2&&t!==0){n=l.Tag.render(Gt||(Gt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope" style="padding: 10px 14px">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --center --column --center">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --center --margin-xl">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__qr" style="margin-bottom: 12px">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="','">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__icon-help --absolute" onclick="','" title="','"></div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR_SMALL"),s,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"))}else if(t===0){n=l.Tag.render(Ct||(Ct=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-qr-xl">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --column --flex --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --l">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --large --border" style="margin-top: auto" onclick="','">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --qr">\n\t\t\t\t\t\t\t<div class="system-auth-form__qr --full-size"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2"),s,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}else{n=l.Tag.render(xt||(xt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-mid-qr">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --column --flex --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --block">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t<span class="system-auth-form__icon-help --inline" onclick="','" title="','"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="','">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --qr">\n\t\t\t\t\t\t\t<div class="system-auth-form__qr --size-2"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),s,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}return i(n)}))["catch"](a)}))}))}function Ue(){var t=this;return babelHelpers.classPrivateFieldGet(this,ie).remember("getDeskTopContainer",(function(){var e=babelHelpers.classPrivateFieldGet(t,ee)["appInstalled"]["APP_MAC_INSTALLED"]==="Y";var i="--apple";var a=l.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_APPLE");var s=babelHelpers.classPrivateFieldGet(t,ae).macos;var n={DEB:{text:l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD_LINUX_DEB"),href:babelHelpers.classPrivateFieldGet(t,ae).linuxDeb},RPM:{text:l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD_LINUX_RPM"),href:babelHelpers.classPrivateFieldGet(t,ae).linuxRpm}};if(babelHelpers.classPrivateFieldGet(t,ee).browser==="Windows"){e=babelHelpers.classPrivateFieldGet(t,ee)["appInstalled"]["APP_WINDOWS_INSTALLED"]==="Y";i="--windows";a=l.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_WINDOWS");s=babelHelpers.classPrivateFieldGet(t,ae).windows}var r=e?function(t){t.preventDefault();t.stopPropagation();return false}:function(){t.hide();return true};var c=null;var d=function e(i){i.preventDefault();c=c||new o.Menu({className:"system-auth-form__popup",bindElement:i.target,items:[{text:n.DEB.text,href:n.DEB.href,onclick:function t(){c.close()}},{text:n.RPM.text,href:n.RPM.href,onclick:function t(){c.close()}}],angle:true,offsetLeft:10,events:{onShow:function e(){t.getPopup().getPopup().setAutoHide(false)},onClose:function e(){t.getPopup().getPopup().setAutoHide(true)}}});c.toggle()};if(babelHelpers.classPrivateFieldGet(t,ee).browser==="Linux"){e=babelHelpers.classPrivateFieldGet(t,ee)["appInstalled"]["APP_LINUX_INSTALLED"]==="Y";i="--linux";a=l.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_LINUX");s="";r=e?function(t){t.preventDefault();t.stopPropagation();return false}:d}if(babelHelpers.classPrivateFieldGet(t,ee)["otp"].IS_ENABLED!=="Y"){var u=null;var m=[{text:l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD"),href:s,onclick:function e(){u.close();t.hide()}}];if(babelHelpers.classPrivateFieldGet(t,ee).browser==="Linux"){m=[{text:n.DEB.text,href:n.DEB.href,onclick:function t(){u.close()}},{text:n.RPM.text,href:n.RPM.href,onclick:function t(){u.close()}}]}var v=function e(i){u=u||new o.Menu({className:"system-auth-form__popup",bindElement:i.target,items:m,angle:true,offsetLeft:10,events:{onShow:function e(){t.getPopup().getPopup().setAutoHide(false)},onClose:function e(){t.getPopup().getPopup().setAutoHide(true)}}});u.toggle()};return l.Tag.render(Dt||(Dt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div data-role="desktop-item" class="system-auth-form__item system-auth-form__scope --padding-sm-all ',' --vertical --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t','\n\t\t\t\t\t\t<div class="system-auth-form__item-container --flex --center --display-flex">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --light --center --s">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --flex --center --display-flex">\n\t\t\t\t\t\t\t<a class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" href="','" target="_blank" onclick="','">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"])),e?" --active":"",i,e?l.Tag.render(Bt||(Bt=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__config --absolute" onclick="','"></div>'])),v):"",a,s,r,e?l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}var _=function e(){var i=l.Tag.render(Wt||(Wt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<a href="','" class="system-auth-form__item-title --link-dotted">',"</a>\n\t\t\t\t"])),s,l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD"));if(babelHelpers.classPrivateFieldGet(t,ee).browser==="Linux"){i.addEventListener("click",d)}return i};return l.Tag.render(zt||(zt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ','">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title ','">',"</div>\n\t\t\t\t\t\t",'\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t<a class="ui-qr-popupcomponentmaker__btn" href="','" target="_blank" onclick="','">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),e?" --active":"",i,e?" --without-margin":"--min-height",a,e?_():"",s,r,e?l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}))}function Me(t){var e=this;if(babelHelpers.classPrivateFieldGet(this,ee).otp.IS_ENABLED!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,ie).remember("getOTPContainer",(function(){return new Ot(t,babelHelpers.classPrivateFieldGet(e,ee).otp).getContainer()}))}function Ge(){var t=this;if(babelHelpers.classPrivateFieldGet(this,ee).loginHistory.isHide){return null}return babelHelpers.classPrivateFieldGet(this,ie).remember("getLoginHistoryContainer",(function(){var e=new et(babelHelpers.classPrivateFieldGet(t,ee).loginHistory,t);return{html:e.getContainer(),backgroundColor:"#fafafa"}}))}function Ce(){var t=this;if(!(l.Type.isPlainObject(babelHelpers.classPrivateFieldGet(this,ee)["bindings"])&&l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,ee)["bindings"]["text"])&&l.Type.isArray(babelHelpers.classPrivateFieldGet(this,ee)["bindings"]["items"])&&babelHelpers.classPrivateFieldGet(this,ee)["bindings"]["items"].length>0)){return null}return babelHelpers.classPrivateFieldGet(this,ie).remember("getBindingsContainer",(function(){var e=l.Tag.render(Xt||(Xt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --center --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --binding"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div data-role="arrow" class="system-auth-form__item-icon --arrow-right"></div>\n\t\t\t\t</div>\n\t\t\t'])),l.Text.encode(babelHelpers.classPrivateFieldGet(t,ee)["bindings"]["text"]));e.addEventListener("click",(function(){t.__bindingsMenu=t.__bindingsMenu||new o.Menu({className:"system-auth-form__popup",bindElement:e.querySelector('[data-role="arrow"]'),items:babelHelpers.classPrivateFieldGet(t,ee)["bindings"]["items"],angle:true,cachable:false,offsetLeft:10,events:{onShow:function e(){t.emit("bindings:open")}}});t.__bindingsMenu.toggle()}));return e}))}function xe(){var t=this;if(babelHelpers.classPrivateFieldGet(this,ee)["im"]!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,ie).remember("getNotificationContainer",(function(){var e=l.Tag.render(Yt||(Yt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --notification"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("AUTH_NOTIFICATION"));e.addEventListener("click",(function(){t.hide();BXIM.openSettings({onlyPanel:"notify"})}));return e}))}function De(){return babelHelpers.classPrivateFieldGet(this,ie).remember("getLogoutContainer",(function(){var t=function t(){if(d.DesktopApi.isDesktop()){d.DesktopApi.logout()}else{var e=new l.Uri(window.location.pathname);e.removeQueryParam(["logout","login","back_url_pub","user_lang"]);var i=new l.Uri("/auth/?logout=yes");i.setQueryParam("sessid",BX.bitrix_sessid());i.setQueryParam("backurl",encodeURIComponent(e.toString()));document.location.href=i}};return l.Tag.render(jt||(jt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --logout"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a onclick="','" class="system-auth-form__item-link-all"></a>\n\t\t\t\t</div>\n\t\t\t'])),l.Loc.getMessage("AUTH_LOGOUT"),t)}))}babelHelpers.defineProperty(Le,"instance",null);t.Widget=Le})(this.BX.Intranet.UserProfile=this.BX.Intranet.UserProfile||{},BX.UI,BX,BX,BX.Cache,BX,BX.UI,BX,BX.Main,BX.Event,BX.Messenger.v2.Lib);
//# sourceMappingURL=script.map.js