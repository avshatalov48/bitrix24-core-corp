{"version":3,"file":"script.js","sources":["src/components/loader.js","src/components/banner.js","src/components/content.js","src/components/popup-wrapper.js","src/index.js"],"sourcesContent":["import {Loader} from \"main.loader\";\n\nexport const LoaderComponent = {\n\tprops: {\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 85,\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div></div>\n\t`,\n\tmounted()\n\t{\n\t\tthis.loader = new Loader({\n\t\t\ttarget: this.$el,\n\t\t\tsize: this.size,\n\t\t});\n\t\tthis.loader.show();\n\t},\n\tbeforeDestroy()\n\t{\n\t\tthis.loader.destroy();\n\t},\n};","import { Type } from 'main.core';\nimport { Loader } from \"main.loader\";\n\nexport const BannerComponent = {\n\tdata()\n\t{\n\t\treturn {\n\t\t\tsliderAllCount: 0,\n\t\t\tsliderActive: 1,\n\t\t\tsliderOffsetLeft: 0,\n\t\t\tsliderOffsetHeight: 0,\n\t\t\tsliderInterval: null,\n\t\t\tsliderTimer: 10000,\n\t\t\toffsetCache: 0,\n\t\t\tisBannersExist: true,\n\t\t\tsliderList: [],\n\t\t\tloader: new Loader({ size: 50 })\n\t\t};\n\t},\n\tmounted()\n\t{\n\t\tBX.ajax.runAction(\n\t\t\t'intranet.license.getBannerData',\n\t\t\t{data: {}}\n\t\t).then((response) => {\n\n\t\t\tif (!Type.isObject(response.data))\n\t\t\t{\n\t\t\t\tthis.isBannersExist = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst now = Date.now();\n\t\t\tthis.sliderList = Object.values(\n\t\t\t\tresponse.data\n\t\t\t).filter((item) => {\n\t\t\t\tlet startString = item['CONDITIONS']['DATE_FROM'],\n\t\t\t\t\tendString = item['CONDITIONS']['DATE_TO'],\n\t\t\t\t\tstart = Type.isString(startString)? new Date(startString) : null,\n\t\t\t\t\tend = Type.isString(endString)? new Date(endString) : null;\n\t\t\t\t//if start/end condition exists check it\n\n\t\t\t\tlet width = item['OPTIONS']['width'];\n\t\t\t\tlet height = item['OPTIONS']['height'];\n\t\t\t\tlet ratio = width / height;\n\n\t\t\t\tlet wrapperWidth = this.$refs.wrapper.offsetWidth === 0 ? 324 : this.$refs.wrapper.offsetWidth;\n\n\t\t\t\tif(this.sliderOffsetHeight < wrapperWidth / ratio)\n\t\t\t\t{\n\t\t\t\t\tthis.sliderOffsetHeight = (wrapperWidth / ratio) + 'px';\n\t\t\t\t}\n\t\t\t\tthis.loader.hide();\n\n\t\t\t\treturn (start? start.getTime() <= now : true) && (end? end.getTime() > now : true)\n\t\t\t}).sort((first,second) => {\n\t\t\t\treturn parseInt(first['SORT'] ?? '0') - parseInt(second['SORT'] ?? '0');\n\t\t\t});\n\t\t\tthis.sliderAllCount = this.sliderList.length;\n\t\t\tthis.isBannersExist = this.sliderAllCount > 0;\n\t\t\tthis.initSlider();\n\n\t\t}).catch(() => this.isBannersExist = false);\n\t\tthis.loader.show(this.$refs.container);\n\t},\n\tmethods: {\n\t\tsliderOffsetStep()\n\t\t{\n\t\t\tif (this.offsetCache === 0)\n\t\t\t{\n\t\t\t\tthis.offsetCache = this.$refs.wrapper ? this.$refs.wrapper.offsetWidth : 0\n\t\t\t}\n\n\t\t\treturn this.offsetCache;\n\t\t},\n\t\trunSlide()\n\t\t{\n\t\t\tif(this.sliderAllCount > 1 || this.sliderTimer > 0)\n\t\t\t{\n\t\t\t\tthis.sliderOffsetStep();\n\t\t\t\tthis.sliderInterval = setInterval(() => {\n\t\t\t\t\tlet sliderNum = this.sliderActive + 1 > this.sliderAllCount\n\t\t\t\t\t\t? 1\n\t\t\t\t\t\t: this.sliderActive + 1;\n\t\t\t\t\tthis.openSlide(sliderNum);\n\t\t\t\t}, this.sliderTimer);\n\t\t\t}\n\t\t},\n\n\t\tstopSlide()\n\t\t{\n\t\t\tclearInterval(this.sliderInterval);\n\t\t},\n\n\t\tinitSlider()\n\t\t{\n\t\t\tif(this.sliderAllCount > 1 || this.sliderTimer > 0)\n\t\t\t{\n\t\t\t\tthis.runSlide();\n\t\t\t}\n\t\t},\n\n\t\topenSlide(id, event)\n\t\t{\n\t\t\tif (id > 0 && id <= this.sliderAllCount)\n\t\t\t{\n\t\t\t\tthis.sliderActive = id;\n\t\t\t\tthis.sliderOffsetLeft = 'translateX(' + -(this.sliderOffsetStep() * (this.sliderActive - 1)) + 'px)';\n\t\t\t}\n\n\t\t\tif(event === 'toggler')\n\t\t\t{\n\t\t\t\tclearInterval(this.sliderInterval);\n\t\t\t\tthis.runSlide();\n\t\t\t}\n\t\t},\n\n\t\tnextSlide()\n\t\t{\n\t\t\tif (this.sliderActive < this.sliderAllCount)\n\t\t\t{\n\t\t\t\tthis.sliderActive += 1\n\t\t\t\tthis.openSlide(this.sliderActive)\n\t\t\t}\n\t\t},\n\n\t\tprevSlide()\n\t\t{\n\t\t\tif (this.sliderActive > 1)\n\t\t\t{\n\t\t\t\tthis.sliderActive -= 1;\n\t\t\t\tthis.openSlide(this.sliderActive);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div v-if=\"isBannersExist\" style=\"margin-top: 20px\">\n\t\t\t<div class=\"license-widget-banner-container --relative\" ref=\"container\">\n\t\t\t\t<div data-role=\"license-widget-banner\" class=\"license-widget-item license-widget-item--widew\">\n\t\t\t\t\t<div class=\"license-widget-banner-slider\" ref=\"wrapper\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"license-widget-banner-slider-wrapper\"\n\t\t\t\t\t\t\tv-bind:style=\"{ transform: sliderOffsetLeft }\"\n\t\t\t\t\t\t\tv-on:mouseenter=\"stopSlide\"\n\t\t\t\t\t\t\tv-on:mouseleave=\"runSlide\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-for=\"banner in sliderList\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-banner-slider-item\"\n\t\t\t\t\t\t\t\t:style=\"{ height: sliderOffsetHeight }\">\n\t\t\t\t\t\t\t\t<img :src=\"banner.OPTIONS.src\" alt=\"\" :width=\"sliderOffsetStep()\">\n\t\t\t\t\t\t\t\t<a :href=\"banner.OPTIONS.actionParameters.target\" target=\"_self\"></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"license-widget-banner-slider-nav\" v-if=\"sliderAllCount > 1\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(_, index) in sliderList\"\n\t\t\t\t\tv-on:click=\"openSlide(index+1, 'toggler')\"\n\t\t\t\t\tclass=\"license-widget-banner-slider-nav-item\"\n\t\t\t\t\tv-bind:class=\"{ '--active': sliderActive === index+1 }\"\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import {Vue} from 'ui.vue';\nimport {BannerComponent} from \"./banner\";\nimport {Popup} from \"main.popup\";\nimport 'sidepanel';\n\nexport const ContentComponent = {\n\tcomponents: {BannerComponent},\n\tprops: [\n\t\t\"license\",\n\t\t\"market\",\n\t\t\"telephony\",\n\t\t\"isAdmin\",\n\t\t\"isCloud\",\n\t\t\"partner\",\n\t\t\"isExperimentalTemplate\",\n\t],\n\tcomputed: {\n\t\tlocalize(state)\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('INTRANET_LICENSE_WIDGET_');\n\t\t},\n\t\tgetTariffIconCLass()\n\t\t{\n\t\t\tif (this.license.isAlmostExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--low';\n\t\t\t}\n\t\t\telse if (this.license.isExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--expired';\n\t\t\t}\n\n\t\t\treturn 'license-widget-item-icon--start';\n\t\t},\n\t\tgetMarketClass()\n\t\t{\n\t\t\tif (this.market.isExpired || this.market.isAlmostExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item--expired';\n\t\t\t}\n\t\t\telse if (this.market.isPaid || this.market.isDemo)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item--active';\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t\tgetMarketIconClass()\n\t\t{\n\t\t\tif (this.market.isExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--expired';\n\t\t\t}\n\t\t\telse if (this.market.isAlmostExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--low';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--mp';\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tsendAnalytics(code)\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.license.analyticsLabel\", {\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\thelperCode: code,\n\t\t\t\t\theaderPopup: \"Y\"\n\t\t\t\t}\n\t\t\t}).then((response) => {}, (response) => {});\n\t\t},\n\t\tshowInfoHelper(type)\n\t\t{\n\t\t\tlet articleCode = \"\";\n\n\t\t\tif (type === \"market\")\n\t\t\t{\n\t\t\t\tarticleCode = \"limit_benefit_market\";\n\t\t\t}\n\t\t\telse if (type === \"whyPay\")\n\t\t\t{\n\t\t\t\tarticleCode = \"limit_why_pay_tariff\";\n\t\t\t}\n\t\t\telse if (type === \"licenseDesc\")\n\t\t\t{\n\t\t\t\tarticleCode = `limit_why_pay_tariff__${this.license.type}`;\n\t\t\t}\n\n\t\t\tBX.UI.InfoHelper.show(articleCode);\n\t\t\tthis.sendAnalytics(articleCode);\n\t\t},\n\t\tshowHelper()\n\t\t{\n\t\t\tif (this.license.isFreeTariff)\n\t\t\t{\n\t\t\t\tconst article = this.isCloud ? \"limit_support_bitrix\" : \"limit_support_bitrix_box\";\n\t\t\t\tBX.UI.InfoHelper.show(article);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst article = this.isCloud ? \"12925062\" : \"12983582\";\n\t\t\t\tBX.Helper.show(`redirect=detail&code=${article}`);\n\t\t\t}\n\t\t},\n\t\tshowPartner()\n\t\t{\n\t\t\tif (this.partner.isPartnerOrder)\n\t\t\t{\n\t\t\t\tconst formLang = this.partner.formLang;\n\n\t\t\t\tBX.UI.Feedback.Form.open(\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'intranet-license-partner',\n\t\t\t\t\t\tportalUri: this.partner.formPortalUri,\n\t\t\t\t\t\tforms: [\n\t\t\t\t\t\t\t{zones: ['en', 'eu', 'in', 'uk'], id: 1194, lang: formLang, sec: '6nivh3'},\n\t\t\t\t\t\t\t{zones: ['de'], id: 1195, lang: formLang, sec: 'q1rq2q'},\n\t\t\t\t\t\t\t{zones: ['la', 'co', 'mx'], id: 1196, lang: formLang, sec: 'dkdhid'},\n\t\t\t\t\t\t\t{zones: ['com.br'], id: 1197, lang: formLang, sec: 'nvobax'},\n\t\t\t\t\t\t\t{zones: ['pl'], id: 1198, lang: formLang, sec: 'h1013r'},\n\t\t\t\t\t\t\t{zones: ['it'], id: 1199, lang: formLang, sec: 'xsrbsh'},\n\t\t\t\t\t\t\t{zones: ['fr'], id: 1200, lang: formLang, sec: '3oupk4'},\n\t\t\t\t\t\t\t{zones: ['tr'], id: 1202, lang: formLang, sec: 'k3bnjz'},\n\t\t\t\t\t\t\t{zones: ['vn'], id: 1201, lang: formLang, sec: '9dxb9d'},\n\t\t\t\t\t\t\t{zones: ['ua'], id: 1204, lang: formLang, sec: '277p0u'},\n\t\t\t\t\t\t\t{zones: ['by'], id: 1205, lang: formLang, sec: '31inm5'},\n\t\t\t\t\t\t\t{zones: ['kz'], id: 1203, lang: formLang, sec: '6nkdb1'},\n\t\t\t\t\t\t\t{zones: ['ru'], id: 1192, lang: formLang, sec: 'b5mzdk'},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tdefaultForm: {id: 1194, lang: 'en', sec: '6nivh3'}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tshowPartnerForm(this.partner.connectPartnerJs);\n\t\t\t}\n\t\t},\n\t\tshowMarketDemoPopup(e)\n\t\t{\n\t\t\tBX.loadExt('marketplace').then(() => {\n\t\t\t\tif (!!this.market.landingBuyCode && this.market.landingBuyCode !== '')\n\t\t\t\t{\n\t\t\t\t\tBX.UI.InfoHelper.show(this.market.landingBuyCode);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.rest.Marketplace.openDemoSubscription(() => {\n\t\t\t\t\t\twindow.location.href = '/settings/license.php?subscription_trial=Y&analyticsLabel[headerPopup]=Y'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tshowLicenseScanner(event)\n\t\t{\n\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t'/bitrix/components/bitrix/bitrix24.license.scan/index.php',\n\t\t\t\t{\n\t\t\t\t\twidth: 1195,\n\t\t\t\t\tcacheable: false,\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"license-widget\">\n\t\t\t<!-- region license -->\n\t\t\t<div\n\t\t\t\tclass=\"license-widget-item license-widget-item--main license-widget-item-margin-bottom-1x\"\n\t\t\t\t:class=\"{ 'license-widget-item--expired' : license.isExpired || license.isAlmostExpired }\"\n\t\t\t>\n\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t<div class=\"license-widget-content\">\n\t\t\t\t\t\t<div class=\"license-widget-item-icon\" :class=\"getTariffIconCLass\" ></div>\n\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t<span>{{ license.name }}</span>\n\t\t\t\t\t\t\t\t<!--<span data-hint=\"Hint\"></span>-->\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tv-if=\"license.isFreeTariff\"\n\t\t\t\t\t\t\t\t\tkey=\"licenseDesc\"\n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t\t\t@click=\"showInfoHelper('whyPay')\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_DESCRIPTION_WHY }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tv-else-if=\"license.isDemo\"\n\t\t\t\t\t\t\t\t\tkey=\"licenseDesc\"\n\t\t\t\t\t\t\t\t\t:href=\"license.demoPath\"\n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_DESCRIPTION_TARIFF }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\tkey=\"licenseDesc\"\n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t@click=\"showInfoHelper('licenseDesc')\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_DESCRIPTION_TARIFF }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"license.isExpired || license.isAlmostExpired\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-info license-widget-item-info--exp\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">{{ license.daysLeftMessage }}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"!license.isExpired && !license.isAlmostExpired\n\t\t\t\t\t\t\t\t\t\t&& !license.isFreeTariff && !license.isUnlimitedDateTariff\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-info\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">{{ license.tillMessage }}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span v-if=\"license.isAutoPay\" key=\"licenseButton\" class=\"license-widget-item-btn license-widget-item-btn--disabled\">\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tlicense.isFreeTariff || license.isDemo\n\t\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_BUY\n\t\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_PROLONG\n\t\t\t\t\t\t}}\n\t\t\t\t\t</span>\n\t\t\t\t\t<a v-else-if=\"isExperimentalTemplate && (license.isFreeTariff && !license.isDemo)\" key=\"licenseButton\"\n\t\t\t\t\t\t:href=\"license.demoPath\" target=\"_blank\" \n\t\t\t\t\t\tclass=\"license-widget-item-btn license-widget-item-btn--orange\">\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tlocalize.INTRANET_LICENSE_WIDGET_START_FREE_TRIAL_TITLE\n\t\t\t\t\t\t}}\n\t\t\t\t\t</a>\n\t\t\t\t\t<a v-else key=\"licenseButton\" :href=\"license.allPath\" target=\"_blank\" \n\t\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tlicense.isFreeTariff || license.isDemo\n\t\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_BUY\n\t\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_PROLONG\n\t\t\t\t\t\t}}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"license.showScanner\"\n\t\t\t\tclass=\"license-widget-item license-widget-item--main license-widget-item-margin-bottom-1x\"\n\t\t\t\t:class=\"{ 'license-widget-item--expired' : license.isAlmostLocked }\"\n\t\t\t>\n\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t<div class=\"license-widget-content\">\n\t\t\t\t\t\t<div class=\"license-widget-item-icon license-widget-item-icon--sc\"></div>\n\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t<div class=\"license-widget-item-desc\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\tlicense.scannerLockTillMessage\n\t\t\t\t\t\t\t\t\t? license.scannerLockTillMessage\n\t\t\t\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_SCANNER\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a @click=\"showLicenseScanner($event)\" class=\"license-widget-item-btn-secondary\">\n\t\t\t\t\t{{\n\t\t\t\t\t\tlicense.scannerLockTillMessage\n\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_SCANNER_DETAILS\n\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_SCANNER_START\n\t\t\t\t\t}}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- endregion -->\n\n\t\t\t<!-- region vox & demo -->\n\t\t\t<div class=\"license-widget-block license-widget-item-margin-bottom-1x\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"license-widget-item\"\n\t\t\t\t\t:class=\"{ 'license-widget-item--active' : telephony.isConnected }\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t\t<div class=\"license-widget-content\">\n\t\t\t\t\t\t\t<div class=\"license-widget-item-icon license-widget-item-icon--tel\"></div>\n\t\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_LICENSE_WIDGET_TELEPHONY }}</span>\n\t\t\t\t\t\t\t\t\t<!--<span data-hint=\"Hint\"></span>-->\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-if=\"telephony.isConnected\" class=\"license-widget-item-info\">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t:href=\"telephony.buyPath\"\n\t\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-info-text\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_TELEPHONY_CONNECTED }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"telephony.isConnected\"\n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-text\"\n\t\t\t\t\t\t\t\t\tv-html=\"telephony.balanceFormatted\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tv-if=\"!telephony.isConnected\"\n\t\t\t\t\t\t\t\t\t:href=\"telephony.buyPath\"\n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_CONNECT }}\n\t\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"license-widget-item\" :class=\"{ 'license-widget-item--active' : license.isDemo }\">\n\t\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t\t<div v-if=\"isExperimentalTemplate && !license.isDemo && license.isDemoAvailable\" class=\"license-widget-content\" >\n\t\t\t\t\t\t\t<div class=\"license-widget-item-icon license-widget-item-icon--demo\"></div>\n\t\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_LICENSE_WIDGET_BUY_HEADER }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<a :href=\"license.allPath\" class=\"license-widget-item-btn\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_BUY }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else class=\"license-widget-content\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-icon\"\n\t\t\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t\t\tlicense.isDemo && license.isDemoExpired\n\t\t\t\t\t\t\t\t\t? 'license-widget-item-icon--expdemo'\n\t\t\t\t\t\t\t\t\t: 'license-widget-item-icon--demo'\n\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_LICENSE_WIDGET_DEMO }}</span>\n\t\t\t\t\t\t\t\t\t<!--<span data-hint=\"Hint\"></span>-->\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-if=\"license.isDemo\" class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t\t\t\t:href=\"license.demoPath\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_OPPORTUNITIES }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-if=\"license.isDemo && !license.isDemoExpired\" class=\"license-widget-item-info\">\n\t\t\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t\t\t{{ license.tillMessage }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"license.isDemo && license.isDemoExpired\"\n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-info license-widget-item-info--exp\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t\t\t{{ license.daysLeftMessage }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"!license.isDemo && !license.isDemoAvailable\"\n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-text\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_USED }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tv-if=\"license.isDemoAvailable && !license.isDemo\"\n\t\t\t\t\t\t\t\t\t:href=\"license.demoPath\"\n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_TURN_ON }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- endregion -->\n\n\t\t\t<!-- region market -->\n\t\t\t<div\n\t\t\t\tv-if=\"market.isMarketAvailable\"\n\t\t\t\tclass=\"license-widget-item license-widget-item--wide license-widget-item-margin-y-2x\"\n\t\t\t\t:class=\"getMarketClass\"\n\t\t\t>\n\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t<div class=\"license-widget-content\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"license-widget-item-icon\"\n\t\t\t\t\t\t\t:class=\"getMarketIconClass\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_LICENSE_WIDGET_MARKET }}</span>\n\t\t\t\t\t\t\t\t<!--<span data-hint=\"Hint\"></span>-->\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t\t<span class=\"license-widget-item-link-text\" @click=\"showInfoHelper('market')\">\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_MARKET_DESCRIPTION }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"market.isExpired || market.isAlmostExpired\"\n\t\t\t\t\t\t\t\tkey=\"marketTill\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-info\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t\t{{ market.daysLeftMessage }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-else-if=\"market.isPaid || market.isDemo\"\n\t\t\t\t\t\t\t\tkey=\"marketTill\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-info\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t\t{{ market.tillMessage }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"!market.isPaid && !market.isDemo && !market.isDemoUsed && this.isAdmin\"\n\t\t\t\t\t\tkey=\"marketButton\"\n\t\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t@click=\"showMarketDemoPopup($event)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_TRY }}\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-else-if=\"market.canBuy && this.isAdmin\"\n\t\t\t\t\t\tkey=\"marketButton\"\n\t\t\t\t\t\t:href=\"market.buyPath\"\n\t\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tmarket.isPaid\n\t\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_PROLONG\n\t\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_BUY\n\t\t\t\t\t\t}}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- endregion -->\n\n\t\t\t<!-- region lists -->\n\t\t\t<div class=\"license-widget-option-list\">\n\t\t\t\t<a\n\t\t\t\t\tclass=\"license-widget-option\"\n\t\t\t\t\t@click=\"showPartner\"\n\t\t\t\t>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"19\" height=\"19\" fill=\"#525C69\" opacity=\".5\">\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M8.033 14.294a5.26 5.26 0 002.283.008l3.072 3.07a9.214 9.214 0 01-8.42-.013zm5.481-2.942l3.716 3.715a10.027 10.027 0 01-2.162 2.163l-3.716-3.716a4.824 4.824 0 001.256-.907c.377-.378.68-.802.906-1.255zm-8.637.015c.226.447.526.867.9 1.24.373.374.793.674 1.24.9L3.303 17.22a10.022 10.022 0 01-2.14-2.14l3.714-3.713zm-3.866-6.37l3.07 3.069a5.26 5.26 0 00.008 2.285l-3.064 3.064a9.214 9.214 0 01-.014-8.419zm16.348-.028a9.214 9.214 0 01.014 8.418l-3.07-3.07a5.26 5.26 0 00-.007-2.285zM3.316 1.154l3.716 3.715a4.826 4.826 0 00-1.256.907c-.378.378-.68.803-.906 1.256L1.154 3.316a10.032 10.032 0 012.162-2.162zm11.765.01a10.038 10.038 0 012.14 2.139l-3.715 3.714a4.826 4.826 0 00-.898-1.241 4.828 4.828 0 00-1.241-.899l3.714-3.714zm-1.666-.14l-3.062 3.063a5.26 5.26 0 00-2.288-.008L4.996 1.011a9.214 9.214 0 018.42.014z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"license-widget-option-text\">\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tpartner.isPartnerOrder\n\t\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_PARTNER_ORDER\n\t\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_PARTNER_CONNECT\n\t\t\t\t\t\t}}\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t\t<a class=\"license-widget-option\" @click=\"showHelper\">\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"19\" height=\"18\" fill=\"#525C69\" opacity=\".5\">\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M16.996 4.652a1.6 1.6 0 011.593 1.455l.007.145v7.268a1.6 1.6 0 01-1.455 1.594l-.145.006H15.11l-.001 2.096a.3.3 0 01-.477.243l-.05-.048-1.963-2.292-4.046.001a1.6 1.6 0 01-1.593-1.454l-.007-.146v-1.382l6.43.001a2.1 2.1 0 002.096-1.95l.005-.15V4.652h1.492zM12.346 0a1.6 1.6 0 011.6 1.6v7.268a1.6 1.6 0 01-1.6 1.6l-5.373-.001-2.974 2.977a.3.3 0 01-.512-.212l-.001-2.765H1.6a1.6 1.6 0 01-1.6-1.6V1.6A1.6 1.6 0 011.6 0h10.747z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"license-widget-option-text\">{{ localize.INTRANET_LICENSE_WIDGET_SUPPORT }}</div>\n\t\t\t\t</a>\n\t\t\t\t<a class=\"license-widget-option\" :href=\"license.ordersPath\" target=\"_blank\">\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"#525C69\" opacity=\".5\">\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M12.566 6.992a5.122 5.122 0 110 10.244 5.122 5.122 0 010-10.244zM9.383 0c.409 0 .798.179 1.064.49l2.251 2.626c.218.254.338.578.338.912v.911a7.365 7.365 0 00-2.005.176v-.843L9.126 2.006H2.006v11.03h3.413c.09.705.283 1.379.562 2.005H1.402A1.402 1.402 0 010 13.64V1.402C0 .628.628 0 1.402 0h7.98zm5.353 9.991l-2.75 2.75-1.147-1.147-.811.811 1.914 1.914.044.043 3.56-3.56-.81-.81zM6.67 8.022a7.12 7.12 0 00-.85 1.583h-1.81V8.023h2.66zm2.354-3.008l-.001.884c-.36.205-.7.439-1.019.7H4.011V5.014h5.014z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"license-widget-option-text\">{{ localize.INTRANET_LICENSE_WIDGET_ORDERS }}</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<!-- endregion -->\n\t\t\t<BannerComponent></BannerComponent>\n\t\t</div>\n\t`,\n};\n","import {LoaderComponent} from \"./loader\";\nimport {ContentComponent} from \"./content\";\n\nexport const PopupWrapperComponent = {\n\tcomponents: {LoaderComponent, ContentComponent},\n\tprops: [\n\t\t\"licenseType\",\n\t\t\"isExperimentalTemplate\",\n\t],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tloaded: false,\n\t\t\tloading: true,\n\t\t\tlicense: [],\n\t\t\tmarket: [],\n\t\t\tisAdmin: \"\",\n\t\t\tisCloud: \"\",\n\t\t};\n\t},\n\tmounted()\n\t{\n\t\tthis.getData();\n\t},\n\tmethods: {\n\t\tgetData(event = {})\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.license.getLicenseData\", {\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tlicenseType: this.licenseType,\n\t\t\t\t\theaderPopup: \"Y\"\n\t\t\t\t}\n\t\t\t}).then((response) => {\n\n\t\t\t\tthis.license = response.data.license;\n\t\t\t\tthis.market = response.data.market;\n\t\t\t\tthis.partner = response.data.partner;\n\t\t\t\tthis.telephony = response.data.telephony;\n\t\t\t\tthis.isCloud = response.data.isCloud;\n\t\t\t\tthis.isAdmin = response.data.isAdmin;\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.loading = false;\n\n\t\t\t}, (response) => {\n\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div>\n\t\t\t<LoaderComponent v-if=\"loading\" :size=\"100\" />\n\t\t\t<ContentComponent \n\t\t\t\tv-if=\"!loading && loaded\" \n\t\t\t\t:license=\"license\"\n\t\t\t\t:market=\"market\"\n\t\t\t\t:telephony=\"telephony\"\n\t\t\t\t:isAdmin=\"isAdmin\"\n\t\t\t\t:isCloud=\"isCloud\"\n\t\t\t\t:partner=\"partner\"\n\t\t\t\t:isExperimentalTemplate=\"isExperimentalTemplate\"\n\t\t\t>\n\t\t\t</ContentComponent>\n\t\t</div>\n\t`,\n};","import {Reflection, Event} from 'main.core';\nimport { EventEmitter } from 'main.core.events'\nimport {Vue} from 'ui.vue';\nimport {Popup} from \"main.popup\";\nimport {PopupWrapperComponent} from \"./components/popup-wrapper\";\n\nconst namespace = Reflection.namespace('BX.Intranet');\n\nclass LicenseWidget\n{\n\t#vue: Vue;\n\n\tconstructor(params)\n\t{\n\t\tthis.isFreeLicense = params.isFreeLicense === \"Y\";\n\t\tthis.isDemoLicense = params.isDemoLicense === \"Y\";\n\t\tthis.isAutoPay = params.isAutoPay === \"Y\";\n\t\tthis.isLicenseAlmostExpired = params.isLicenseAlmostExpired === \"Y\";\n\t\tthis.isLicenseExpired = params.isLicenseExpired === \"Y\";\n\t\tthis.isAlmostLocked = params.isAlmostLocked === \"Y\";\n\t\tthis.isExperimentalTemplate = params.isExperimentalTemplate === \"Y\";\n\t\tthis.licenseType = params.licenseType;\n\t\tthis.node = params.wrapper;\n\n\t\tthis.renderButton();\n\t}\n\n\trenderButton()\n\t{\n\t\tconst LicenceWidgetInstance = this;\n\n\t\tthis.#vue = Vue.create({\n\t\t\tel: this.node,\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tisFreeLicense: LicenceWidgetInstance.isFreeLicense,\n\t\t\t\t\tisAutoPay: LicenceWidgetInstance.isAutoPay,\n\t\t\t\t\tisDemoLicense: LicenceWidgetInstance.isDemoLicense,\n\t\t\t\t\tisLicenseAlmostExpired: LicenceWidgetInstance.isLicenseAlmostExpired,\n\t\t\t\t\tisLicenseExpired: LicenceWidgetInstance.isLicenseExpired,\n\t\t\t\t\tisAlmostLocked: LicenceWidgetInstance.isAlmostLocked,\n\t\t\t\t\tisExperimentalTemplate: LicenceWidgetInstance.isExperimentalTemplate,\n\t\t\t\t};\n\t\t\t},\n\t\t\tcomputed:\n\t\t\t\t{\n\t\t\t\t\tlocalize(state)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn Vue.getFilteredPhrases(\"INTRANET_LICENSE_WIDGET_\");\n\t\t\t\t\t},\n\t\t\t\t\tbuttonClass()\n\t\t\t\t\t{\n\t\t\t\t\t\tlet className = \"\";\n\n\t\t\t\t\t\tif (this.isFreeLicense && !this.isAlmostLocked)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName = \"ui-btn-icon-tariff license-btn-orange\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (this.isLicenseAlmostExpired)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName = \"license-btn-alert-border ui-btn-icon-low-battery\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (this.isLicenseExpired)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/*if (this.isAutoPay)\n\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{*/\n\t\t\t\t\t\t\t\t\tclassName = \"license-btn-alert-border license-btn-animate license-btn-animate-forward\";\n\t\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (this.isAlmostLocked)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName = \"license-btn-alert-border ui-btn-icon-low-battery\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName = \"ui-btn-icon-tariff license-btn-blue-border\";\n\n\t\t\t\t\t\t\t\tif (this.isDemoLicense)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclassName = \"ui-btn-icon-demo license-btn-blue-border\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn className;\n\t\t\t\t\t},\n\t\t\t\t\tbuttonName()\n\t\t\t\t\t{\n\t\t\t\t\t\tlet buttonName = BX.message(\"INTRANET_LICENSE_WIDGET_MY_TARIFF\");\n\n\t\t\t\t\t\tif (this.isFreeLicense)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbuttonName = (this.isExperimentalTemplate ?\n\t\t\t\t\t\t\t\tBX.message(\"INTRANET_LICENSE_WIDGET_START_FREE_TRIAL\") :\n\t\t\t\t\t\t\t\tBX.message(\"INTRANET_LICENSE_WIDGET_BUY_TARIFF\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (this.isDemoLicense)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbuttonName = BX.message(\"INTRANET_LICENSE_WIDGET_DEMO\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn buttonName;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\tmethods: {\n\t\t\t\ttogglePopup(e)\n\t\t\t\t{\n\t\t\t\t\tif (LicenceWidgetInstance.popup && LicenceWidgetInstance.popup.isShown())\n\t\t\t\t\t{\n\t\t\t\t\t\treturn LicenceWidgetInstance.closePopup();\n\t\t\t\t\t}\n\t\t\t\t\tLicenceWidgetInstance.initPopup(e.target);\n\t\t\t\t},\n\t\t\t},\n\t\t\ttemplate: `\n\t\t\t\t<button\n\t\t\t\t\tclass=\"ui-btn ui-btn-round ui-btn-themes license-btn\"\n\t\t\t\t\t:class=\"buttonClass\"\n\t\t\t\t\t@click=\"togglePopup\"\n\t\t\t\t>\n\t\t\t\t\t<span v-if=\"isLicenseExpired || isAlmostLocked\" class=\"license-btn-icon-battery\">\n\t\t\t\t\t\t<span class=\"license-btn-icon-battery-full\">\n\t\t\t\t\t\t\t<span class=\"license-btn-icon-battery-inner\">\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<svg class=\"license-btn-icon-battery-cross\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"18\">\n\t\t\t\t\t\t\t<path fill=\"#FFF\" fill-rule=\"evenodd\" d=\"M18.567.395c.42.42.42 1.1 0 1.52l-1.04 1.038.704.001a2 2 0 012 2v1.799a1.01 1.01 0 01.116-.007H21a1 1 0 011 1v2.495a1 1 0 01-1 1h-.653l-.116-.006v1.798a2 2 0 01-2 2L5.45 15.032l-2.045 2.045a1.075 1.075 0 11-1.52-1.52L17.047.395c.42-.42 1.1-.42 1.52 0zm-2.583 4.102l-8.991 8.99 10.836.002a1 1 0 00.994-.883l.006-.117v-6.99a1 1 0 00-1-1l-1.845-.002zm-5.031-1.543L9.409 4.498h-6.23a1 1 0 00-.993.884l-.006.116-.001 6.23-1.4 1.398v-.046L.777 4.954a2 2 0 012-2h8.175z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</span>\n\t\t\t\t\t{{ buttonName }}\n\t\t\t\t</button>\n\t\t\t`,\n\t\t});\n\t}\n\n\tinitPopup(bindElement)\n\t{\n\t\tif (!this.popup)\n\t\t{\n\t\t\tthis.popup = new B24.PopupBlur({\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tcontentPadding: 0,\n\t\t\t\tpadding: 0,\n\t\t\t\tminWidth: 350,\n\t\t\t\tminHeight: 260,\n\t\t\t\tanimation: {\n\t\t\t\t\tshowClassName: \"popup-with-radius-show\",\n\t\t\t\t\tcloseClassName: \"popup-with-radius-close\",\n\t\t\t\t\tcloseAnimationType: \"animation\"\n\t\t\t\t},\n\t\t\t\toffsetLeft: -20,\n\t\t\t\tclassName: 'popup-with-radius',\n\t\t\t\t// contentBackground: 'rgba(0,0,0,0)',\n\t\t\t\tangle: { position: 'top', offset: 120 },\n\t\t\t\tbindElement: bindElement,\n\t\t\t\tcontent: this.renderPopupContent(),\n\t\t\t\tcachable: false,\n\t\t\t\tevents: {\n\t\t\t\t\tonFirstShow: (event) => {\n\t\t\t\t\t\tEventEmitter.subscribe('BX.Main.InterfaceButtons:onMenuShow', () => {\n\t\t\t\t\t\t\tif (this.popup)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.popup.close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tthis.popup.show();\n\t}\n\n\trenderPopupContent()\n\t{\n\t\tconst LicenceWidgetInstance = this;\n\n\t\tlet content = Vue.create({\n\t\t\tel: document.createElement(\"div\"),\n\t\t\tcomponents: {PopupWrapperComponent},\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tlicenseType: LicenceWidgetInstance.licenseType,\n\t\t\t\t\tisExperimentalTemplate: LicenceWidgetInstance.isExperimentalTemplate,\n\t\t\t\t};\n\t\t\t},\n\t\t\tcomputed: {\n\t\t\t\tlocalize(state)\n\t\t\t\t{\n\t\t\t\t\treturn Vue.getFilteredPhrases('INTRANET_LICENSE_WIDGET_');\n\t\t\t\t}\n\t\t\t},\n\t\t\ttemplate: `\n\t\t\t\t<PopupWrapperComponent\n\t\t\t\t\t:licenseType=\"licenseType\"\n\t\t\t\t\t:isExperimentalTemplate=\"isExperimentalTemplate\"\n\t\t\t\t/>`,\n\t\t});\n\n\t\treturn content.$el;\n\t}\n\n\tclosePopup()\n\t{\n\t\tif (this.popup)\n\t\t{\n\t\t\tthis.popup.close();\n\t\t}\n\t}\n}\n\nnamespace.LicenseWidget = LicenseWidget;\n"],"names":["LoaderComponent","props","size","type","Number","template","mounted","loader","Loader","target","$el","show","beforeDestroy","destroy","BannerComponent","data","sliderAllCount","sliderActive","sliderOffsetLeft","sliderOffsetHeight","sliderInterval","sliderTimer","offsetCache","isBannersExist","sliderList","BX","ajax","runAction","then","response","Type","isObject","now","Date","Object","values","filter","item","startString","endString","start","isString","end","width","height","ratio","wrapperWidth","$refs","wrapper","offsetWidth","hide","getTime","sort","first","second","parseInt","length","initSlider","container","methods","sliderOffsetStep","runSlide","setInterval","sliderNum","openSlide","stopSlide","clearInterval","id","event","nextSlide","prevSlide","ContentComponent","components","computed","localize","state","Vue","getFilteredPhrases","getTariffIconCLass","license","isAlmostExpired","isExpired","getMarketClass","market","isPaid","isDemo","getMarketIconClass","sendAnalytics","code","analyticsLabel","helperCode","headerPopup","showInfoHelper","articleCode","UI","InfoHelper","showHelper","isFreeTariff","article","isCloud","Helper","showPartner","partner","isPartnerOrder","formLang","Feedback","Form","open","portalUri","formPortalUri","forms","zones","lang","sec","defaultForm","showPartnerForm","connectPartnerJs","showMarketDemoPopup","e","loadExt","landingBuyCode","rest","Marketplace","openDemoSubscription","window","location","href","showLicenseScanner","SidePanel","Instance","cacheable","PopupWrapperComponent","loaded","loading","isAdmin","getData","licenseType","telephony","namespace","Reflection","LicenseWidget","params","isFreeLicense","isDemoLicense","isAutoPay","isLicenseAlmostExpired","isLicenseExpired","isAlmostLocked","isExperimentalTemplate","node","renderButton","LicenceWidgetInstance","create","el","buttonClass","className","buttonName","message","togglePopup","popup","isShown","closePopup","initPopup","bindElement","B24","PopupBlur","autoHide","closeByEsc","contentPadding","padding","minWidth","minHeight","animation","showClassName","closeClassName","closeAnimationType","offsetLeft","angle","position","offset","content","renderPopupContent","cachable","events","onFirstShow","EventEmitter","subscribe","close","document","createElement"],"mappings":"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"}