{"version":3,"file":"script.js","sources":["src/components/loader.js","src/components/content.js","src/components/popup-wrapper.js","src/index.js"],"sourcesContent":["import {Loader} from \"main.loader\";\n\nexport const LoaderComponent = {\n\tprops: {\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 85,\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div></div>\n\t`,\n\tmounted()\n\t{\n\t\tthis.loader = new Loader({\n\t\t\ttarget: this.$el,\n\t\t\tsize: this.size,\n\t\t});\n\t\tthis.loader.show();\n\t},\n\tbeforeDestroy()\n\t{\n\t\tthis.loader.destroy();\n\t},\n};","import {Vue} from 'ui.vue';\nimport {Popup} from \"main.popup\";\n\nexport const ContentComponent = {\n\tprops: [\n\t\t\"license\",\n\t\t\"market\",\n\t\t\"telephony\",\n\t\t\"isAdmin\",\n\t\t\"isCloud\",\n\t\t\"partner\",\n\t],\n\tcomputed: {\n\t\tlocalize(state)\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('INTRANET_LICENSE_WIDGET_');\n\t\t},\n\t\tgetTariffIconCLass()\n\t\t{\n\t\t\tif (this.license.isAlmostExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--low';\n\t\t\t}\n\t\t\telse if (this.license.isExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--expired';\n\t\t\t}\n\n\t\t\treturn 'license-widget-item-icon--start';\n\t\t},\n\t\tgetMarketClass()\n\t\t{\n\t\t\tif (this.market.isExpired || this.market.isAlmostExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item--expired';\n\t\t\t}\n\t\t\telse if (this.market.isPaid || this.market.isDemo)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item--active';\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t\tgetMarketIconClass()\n\t\t{\n\t\t\tif (this.market.isExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--expired';\n\t\t\t}\n\t\t\telse if (this.market.isAlmostExpired)\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--low';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 'license-widget-item-icon--mp';\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tsendAnalytics(code)\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.license.analyticsLabel\", {\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\thelperCode: code,\n\t\t\t\t\theaderPopup: \"Y\"\n\t\t\t\t}\n\t\t\t}).then((response) => {}, (response) => {});\n\t\t},\n\t\tshowInfoHelper(type)\n\t\t{\n\t\t\tlet articleCode = \"\";\n\n\t\t\tif (type === \"market\")\n\t\t\t{\n\t\t\t\tarticleCode = \"limit_benefit_market\";\n\t\t\t}\n\t\t\telse if (type === \"whyPay\")\n\t\t\t{\n\t\t\t\tarticleCode = \"limit_why_pay_tariff\";\n\t\t\t}\n\n\t\t\tBX.UI.InfoHelper.show(articleCode);\n\t\t\tthis.sendAnalytics(articleCode);\n\t\t},\n\t\tshowHelper()\n\t\t{\n\t\t\tif (this.license.isFreeTariff)\n\t\t\t{\n\t\t\t\tconst article = this.isCloud ? \"limit_support_bitrix\" : \"limit_support_bitrix_box\";\n\t\t\t\tBX.UI.InfoHelper.show(article);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst article = this.isCloud ? \"12925062\" : \"12983582\";\n\t\t\t\tBX.Helper.show(`redirect=detail&code=${article}`);\n\t\t\t}\n\t\t},\n\t\tshowPartner()\n\t\t{\n\t\t\tif (this.partner.isPartnerOrder)\n\t\t\t{\n\t\t\t\tconst formLang = this.partner.formLang;\n\n\t\t\t\tBX.UI.Feedback.Form.open(\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'intranet-license-partner',\n\t\t\t\t\t\tportalUri: this.partner.formPortalUri,\n\t\t\t\t\t\tforms: [\n\t\t\t\t\t\t\t{zones: ['en', 'eu', 'in', 'uk'], id: 1194, lang: formLang, sec: '6nivh3'},\n\t\t\t\t\t\t\t{zones: ['de'], id: 1195, lang: formLang, sec: 'q1rq2q'},\n\t\t\t\t\t\t\t{zones: ['la', 'co', 'mx'], id: 1196, lang: formLang, sec: 'dkdhid'},\n\t\t\t\t\t\t\t{zones: ['com.br'], id: 1197, lang: formLang, sec: 'nvobax'},\n\t\t\t\t\t\t\t{zones: ['pl'], id: 1198, lang: formLang, sec: 'h1013r'},\n\t\t\t\t\t\t\t{zones: ['it'], id: 1199, lang: formLang, sec: 'xsrbsh'},\n\t\t\t\t\t\t\t{zones: ['fr'], id: 1200, lang: formLang, sec: '3oupk4'},\n\t\t\t\t\t\t\t{zones: ['tr'], id: 1202, lang: formLang, sec: 'k3bnjz'},\n\t\t\t\t\t\t\t{zones: ['vn'], id: 1201, lang: formLang, sec: '9dxb9d'},\n\t\t\t\t\t\t\t{zones: ['ua'], id: 1204, lang: formLang, sec: '277p0u'},\n\t\t\t\t\t\t\t{zones: ['by'], id: 1205, lang: formLang, sec: '31inm5'},\n\t\t\t\t\t\t\t{zones: ['kz'], id: 1203, lang: formLang, sec: '6nkdb1'},\n\t\t\t\t\t\t\t{zones: ['ru'], id: 1192, lang: formLang, sec: 'b5mzdk'},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tdefaultForm: {id: 1194, lang: 'en', sec: '6nivh3'}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tshowPartnerForm(this.partner.connectPartnerJs);\n\t\t\t}\n\t\t},\n\t\tshowMarketDemoPopup(e)\n\t\t{\n\t\t\tBX.loadExt('marketplace').then(() => {\n\t\t\t\tBX.rest.Marketplace.openDemoSubscription(() => {\n\t\t\t\t\twindow.location.href = '/settings/license.php?subscription_trial=Y&analyticsLabel[headerPopup]=Y'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"license-widget\">\n\t\t\t<div \n\t\t\t\tclass=\"license-widget-item license-widget-item--main\"\n\t\t\t\t:class=\"{ 'license-widget-item--expired' : license.isExpired || license.isAlmostExpired }\"\n\t\t\t>\n\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t<div \n\t\t\t\t\t\tclass=\"license-widget-item-icon\"\n\t\t\t\t\t\t:class=\"getTariffIconCLass\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t<span>{{ license.name }}</span>\n\t\t\t\t\t\t\t<!--<span data-hint=\"Hint\"></span>-->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\tv-if=\"license.isFreeTariff\"\n\t\t\t\t\t\t\t\tkey=\"licenseDesc\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t\t@click=\"showInfoHelper('whyPay')\"\n\t\t\t\t\t\t\t> \n\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_DESCRIPTION_WHY }} \n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\tv-else-if=\"license.isDemo\"\n\t\t\t\t\t\t\t\tkey=\"licenseDesc\"\n\t\t\t\t\t\t\t\t:href=\"license.demoPath\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t> \n\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_DESCRIPTION_TARIFF }} \n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\tkey=\"licenseDesc\"\n\t\t\t\t\t\t\t\t:href=\"license.myPath\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t> \n\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_DESCRIPTION_TARIFF }} \n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tv-if=\"license.isExpired || license.isAlmostExpired\" \n\t\t\t\t\t\t\tclass=\"license-widget-item-info license-widget-item-info--exp\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t{{ license.daysLeftMessage }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if=\"!license.isExpired && !license.isAlmostExpired \n\t\t\t\t\t\t\t\t\t&& !license.isFreeTariff && !license.isUnlimitedDateTariff\" \n\t\t\t\t\t\t\tclass=\"license-widget-item-info\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">{{ license.tillMessage }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<span \n\t\t\t\t\tv-if=\"license.isAutoPay\" \n\t\t\t\t\tkey=\"licenseButton\"\n\t\t\t\t\tclass=\"license-widget-item-btn license-widget-item-btn--disabled\"\n\t\t\t\t> \n\t\t\t\t\t{{\n\t\t\t\t\t\tlicense.isFreeTariff || license.isDemo\n\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_BUY\n\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_PROLONG\n\t\t\t\t\t}} \n\t\t\t\t</span>\n\t\t\t\t<a \n\t\t\t\t\tv-else\n\t\t\t\t\tkey=\"licenseButton\"\n\t\t\t\t\t:href=\"license.allPath\" \n\t\t\t\t\ttarget=\"_blank\" \n\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t> \n\t\t\t\t\t{{\n\t\t\t\t\t\tlicense.isFreeTariff || license.isDemo\n\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_BUY\n\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_PROLONG\n\t\t\t\t\t}} \n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"license-widget-block\">\n\t\t\t\t<div \n\t\t\t\t\tclass=\"license-widget-item\"\n\t\t\t\t\t:class=\"{ 'license-widget-item--active' : telephony.isConnected }\"\t\n\t\t\t\t>\n\t\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t\t<div class=\"license-widget-item-icon license-widget-item-icon--tel\"></div>\n\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_LICENSE_WIDGET_TELEPHONY }}</span>\n\t\t\t\t\t\t\t\t<!--<span data-hint=\"Hint\"></span>-->\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"telephony.isConnected\" class=\"license-widget-item-info\">\n\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\t:href=\"telephony.buyPath\" \n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-info-text\"\n\t\t\t\t\t\t\t\t> \n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_TELEPHONY_CONNECTED }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tv-if=\"telephony.isConnected\" \n\t\t\t\t\t\t\t\tclass=\"license-widget-item-text\"\n\t\t\t\t\t\t\t\tv-html=\"telephony.balanceFormatted\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!--<div class=\"license-widget-item-text\"Low balance</div>\n\t\t\t\t\t\t\t<div class=\"license-widget-item-text\">99 ла</div>-->\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\tv-if=\"!telephony.isConnected\" \n\t\t\t\t\t\t\t\t:href=\"telephony.buyPath\" \n\t\t\t\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t> \n\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_CONNECT }} \n\t\t\t\t\t\t\t</a>\n\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\n\t\t\t\t<div class=\"license-widget-item\" :class=\"{ 'license-widget-item--active' : license.isDemo }\">\n\t\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tclass=\"license-widget-item-icon\"\n\t\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t\tlicense.isDemo && license.isDemoExpired \n\t\t\t\t\t\t\t\t? 'license-widget-item-icon--expdemo' \n\t\t\t\t\t\t\t\t: 'license-widget-item-icon--demo'\n\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_LICENSE_WIDGET_DEMO }}</span>\n\t\t\t\t\t\t\t\t<!--<span data-hint=\"Hint\"></span>-->\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"license.isDemo\" class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\" \n\t\t\t\t\t\t\t\t\t:href=\"license.demoPath\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_OPPORTUNITIES }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"license.isDemo && !license.isDemoExpired\" class=\"license-widget-item-info\">\n\t\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t\t{{ license.tillMessage }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tv-if=\"license.isDemo && license.isDemoExpired\" \n\t\t\t\t\t\t\t\tclass=\"license-widget-item-info license-widget-item-info--exp\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t\t{{ license.daysLeftMessage }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tv-if=\"!license.isDemo && !license.isDemoAvailable\" \n\t\t\t\t\t\t\t\tclass=\"license-widget-item-text\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_USED }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\tv-if=\"license.isDemoAvailable && !license.isDemo\"\n\t\t\t\t\t\t\t\t:href=\"license.demoPath\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t> \n\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_TURN_ON }} \n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div \n\t\t\t\tv-if=\"market.isMarketAvailable\"\n\t\t\t\tclass=\"license-widget-item license-widget-item--wide\"\n\t\t\t\t:class=\"getMarketClass\"\n\t\t\t>\n\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t<div \n\t\t\t\t\t\tclass=\"license-widget-item-icon\"\n\t\t\t\t\t\t:class=\"getMarketIconClass\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t<span>{{ localize.INTRANET_LICENSE_WIDGET_MARKET }}</span>\n\t\t\t\t\t\t\t<!--<span data-hint=\"Hint\"></span>-->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t<span class=\"license-widget-item-link-text\" @click=\"showInfoHelper('market')\">\n\t\t\t\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_MARKET_DESCRIPTION }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tv-if=\"market.isExpired || market.isAlmostExpired\" \n\t\t\t\t\t\t\tkey=\"marketTill\"\n\t\t\t\t\t\t\tclass=\"license-widget-item-info\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t{{ market.daysLeftMessage }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tv-else-if=\"market.isPaid || market.isDemo\" \n\t\t\t\t\t\t\tkey=\"marketTill\"\n\t\t\t\t\t\t\tclass=\"license-widget-item-info\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"license-widget-item-info-text\">\n\t\t\t\t\t\t\t\t{{ market.tillMessage }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<a \n\t\t\t\t\tv-if=\"!market.isPaid && !market.isDemo && !market.isDemoUsed && this.isAdmin\"\n\t\t\t\t\tkey=\"marketButton\"\n\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t@click=\"showMarketDemoPopup($event)\"\n\t\t\t\t> \n\t\t\t\t\t{{ localize.INTRANET_LICENSE_WIDGET_TRY }} \n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t\t<a \n\t\t\t\t\tv-else=\"market.isPaid || market.isDemo\"\n\t\t\t\t\tkey=\"marketButton\"\n\t\t\t\t\t:href=\"market.buyPath\"\n\t\t\t\t\tclass=\"license-widget-item-btn\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t> \n\t\t\t\t\t{{\n\t\t\t\t\t\tmarket.isPaid\n\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_PROLONG\n\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_BUY\n\t\t\t\t\t}} \n\t\t\t\t</a>\n\t\t\t</div>\t\t\n\t\t\t\n\t\t\t<div class=\"license-widget-option-list\">\n\t\t\t\t<a \n\t\t\t\t\tclass=\"license-widget-option\" \n\t\t\t\t\t@click=\"showPartner\"\n\t\t\t\t>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"19\" height=\"19\" fill=\"#525C69\" opacity=\".5\">\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M8.033 14.294a5.26 5.26 0 002.283.008l3.072 3.07a9.214 9.214 0 01-8.42-.013zm5.481-2.942l3.716 3.715a10.027 10.027 0 01-2.162 2.163l-3.716-3.716a4.824 4.824 0 001.256-.907c.377-.378.68-.802.906-1.255zm-8.637.015c.226.447.526.867.9 1.24.373.374.793.674 1.24.9L3.303 17.22a10.022 10.022 0 01-2.14-2.14l3.714-3.713zm-3.866-6.37l3.07 3.069a5.26 5.26 0 00.008 2.285l-3.064 3.064a9.214 9.214 0 01-.014-8.419zm16.348-.028a9.214 9.214 0 01.014 8.418l-3.07-3.07a5.26 5.26 0 00-.007-2.285zM3.316 1.154l3.716 3.715a4.826 4.826 0 00-1.256.907c-.378.378-.68.803-.906 1.256L1.154 3.316a10.032 10.032 0 012.162-2.162zm11.765.01a10.038 10.038 0 012.14 2.139l-3.715 3.714a4.826 4.826 0 00-.898-1.241 4.828 4.828 0 00-1.241-.899l3.714-3.714zm-1.666-.14l-3.062 3.063a5.26 5.26 0 00-2.288-.008L4.996 1.011a9.214 9.214 0 018.42.014z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"license-widget-option-text\">\n\t\t\t\t\t\t{{\t\n\t\t\t\t\t\t\tpartner.isPartnerOrder \n\t\t\t\t\t\t\t? localize.INTRANET_LICENSE_WIDGET_PARTNER_ORDER\n\t\t\t\t\t\t\t: localize.INTRANET_LICENSE_WIDGET_PARTNER_CONNECT\n\t\t\t\t\t\t}} \n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t\t<a class=\"license-widget-option\" @click=\"showHelper\">\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"19\" height=\"18\" fill=\"#525C69\" opacity=\".5\">\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M16.996 4.652a1.6 1.6 0 011.593 1.455l.007.145v7.268a1.6 1.6 0 01-1.455 1.594l-.145.006H15.11l-.001 2.096a.3.3 0 01-.477.243l-.05-.048-1.963-2.292-4.046.001a1.6 1.6 0 01-1.593-1.454l-.007-.146v-1.382l6.43.001a2.1 2.1 0 002.096-1.95l.005-.15V4.652h1.492zM12.346 0a1.6 1.6 0 011.6 1.6v7.268a1.6 1.6 0 01-1.6 1.6l-5.373-.001-2.974 2.977a.3.3 0 01-.512-.212l-.001-2.765H1.6a1.6 1.6 0 01-1.6-1.6V1.6A1.6 1.6 0 011.6 0h10.747z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"license-widget-option-text\">{{ localize.INTRANET_LICENSE_WIDGET_SUPPORT }}</div>\n\t\t\t\t</a>\n\t\t\t\t<a class=\"license-widget-option\" :href=\"license.ordersPath\" target=\"_blank\">\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"#525C69\" opacity=\".5\">\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M12.566 6.992a5.122 5.122 0 110 10.244 5.122 5.122 0 010-10.244zM9.383 0c.409 0 .798.179 1.064.49l2.251 2.626c.218.254.338.578.338.912v.911a7.365 7.365 0 00-2.005.176v-.843L9.126 2.006H2.006v11.03h3.413c.09.705.283 1.379.562 2.005H1.402A1.402 1.402 0 010 13.64V1.402C0 .628.628 0 1.402 0h7.98zm5.353 9.991l-2.75 2.75-1.147-1.147-.811.811 1.914 1.914.044.043 3.56-3.56-.81-.81zM6.67 8.022a7.12 7.12 0 00-.85 1.583h-1.81V8.023h2.66zm2.354-3.008l-.001.884c-.36.205-.7.439-1.019.7H4.011V5.014h5.014z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"license-widget-option-text\">{{ localize.INTRANET_LICENSE_WIDGET_ORDERS }}</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import {LoaderComponent} from \"./loader\";\nimport {ContentComponent} from \"./content\";\n\nexport const PopupWrapperComponent = {\n\tcomponents: {LoaderComponent, ContentComponent},\n\tprops: [\n\t\t\"componentName\",\n\t\t\"signedParameters\",\n\t\t\"licenseType\",\n\t],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tloaded: false,\n\t\t\tloading: true,\n\t\t\tlicense: [],\n\t\t\tmarket: [],\n\t\t\tisAdmin: \"\",\n\t\t\tisCloud: \"\",\n\t\t};\n\t},\n\tmounted()\n\t{\n\t\tthis.getData();\n\t},\n\tmethods: {\n\t\tgetData(event = {})\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.license.getLicenseData\", {\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tlicenseType: this.licenseType,\n\t\t\t\t\theaderPopup: \"Y\"\n\t\t\t\t}\n\t\t\t}).then((response) => {\n\n\t\t\t\tthis.license = response.data.license;\n\t\t\t\tthis.market = response.data.market;\n\t\t\t\tthis.partner = response.data.partner;\n\t\t\t\tthis.telephony = response.data.telephony;\n\t\t\t\tthis.isCloud = response.data.isCloud;\n\t\t\t\tthis.isAdmin = response.data.isAdmin;\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.loading = false;\n\n\t\t\t}, (response) => {\n\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div>\n\t\t\t<LoaderComponent v-if=\"loading\" :size=\"100\" />\n\t\t\t<ContentComponent \n\t\t\t\tv-if=\"!loading && loaded\" \n\t\t\t\t:license=\"license\"\n\t\t\t\t:market=\"market\"\n\t\t\t\t:telephony=\"telephony\"\n\t\t\t\t:isAdmin=\"isAdmin\"\n\t\t\t\t:isCloud=\"isCloud\"\n\t\t\t\t:partner=\"partner\"\n\t\t\t>\n\t\t\t</ContentComponent>\n\t\t</div>\n\t`,\n};","import {Reflection, Event} from 'main.core';\nimport {Vue} from 'ui.vue';\nimport {Popup} from \"main.popup\";\nimport {PopupWrapperComponent} from \"./components/popup-wrapper\";\n\nconst namespace = Reflection.namespace('BX.Intranet');\n\nclass LicenseWidget\n{\n\t#vue: Vue;\n\n\tconstructor(params)\n\t{\n\t\tthis.signedParameters = params.signedParameters;\n\t\tthis.componentName = params.componentName;\n\t\tthis.isFreeLicense = params.isFreeLicense === \"Y\";\n\t\tthis.isDemoLicense = params.isDemoLicense === \"Y\";\n\t\tthis.isAutoPay = params.isAutoPay === \"Y\";\n\t\tthis.isLicenseAlmostExpired = params.isLicenseAlmostExpired === \"Y\";\n\t\tthis.isLicenseExpired = params.isLicenseExpired === \"Y\";\n\t\tthis.licenseType = params.licenseType;\n\t\tthis.node = params.wrapper;\n\n\t\tthis.renderButton();\n\t}\n\n\trenderButton()\n\t{\n\t\tconst LicenceWidgetInstance = this;\n\n\t\tthis.#vue = Vue.create({\n\t\t\tel: this.node,\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tisFreeLicense: LicenceWidgetInstance.isFreeLicense,\n\t\t\t\t\tisAutoPay: LicenceWidgetInstance.isAutoPay,\n\t\t\t\t\tisDemoLicense: LicenceWidgetInstance.isDemoLicense,\n\t\t\t\t\tisLicenseAlmostExpired: LicenceWidgetInstance.isLicenseAlmostExpired,\n\t\t\t\t\tisLicenseExpired: LicenceWidgetInstance.isLicenseExpired,\n\t\t\t\t};\n\t\t\t},\n\t\t\tcomputed:\n\t\t\t\t{\n\t\t\t\t\tlocalize(state)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn Vue.getFilteredPhrases(\"INTRANET_LICENSE_WIDGET_\");\n\t\t\t\t\t},\n\t\t\t\t\tbuttonClass()\n\t\t\t\t\t{\n\t\t\t\t\t\tlet className = \"\";\n\n\t\t\t\t\t\tif (this.isFreeLicense)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName = \"ui-btn-icon-tariff license-btn-orange\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (this.isLicenseAlmostExpired)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName = \"license-btn-alert-border ui-btn-icon-low-battery\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (this.isLicenseExpired)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/*if (this.isAutoPay)\n\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{*/\n\t\t\t\t\t\t\t\t\tclassName = \"license-btn-alert-border license-btn-animate license-btn-animate-forward\";\n\t\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName = \"ui-btn-icon-tariff license-btn-blue-border\";\n\n\t\t\t\t\t\t\t\tif (this.isDemoLicense)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclassName = \"ui-btn-icon-demo license-btn-blue-border\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn className;\n\t\t\t\t\t},\n\t\t\t\t\tbuttonName()\n\t\t\t\t\t{\n\t\t\t\t\t\tlet buttonName = BX.message(\"INTRANET_LICENSE_WIDGET_MY_TARIFF\");\n\n\t\t\t\t\t\tif (this.isFreeLicense)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbuttonName = BX.message(\"INTRANET_LICENSE_WIDGET_BUY_TARIFF\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (this.isDemoLicense)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbuttonName = BX.message(\"INTRANET_LICENSE_WIDGET_DEMO\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn buttonName;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tonMouseOver (e)\n\t\t\t\t{\n\t\t\t\t\tclearTimeout(LicenceWidgetInstance.enterTimeout);\n\t\t\t\t\tLicenceWidgetInstance.enterTimeout = setTimeout(() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tLicenceWidgetInstance.enterTimeout = null;\n\t\t\t\t\t\t\tLicenceWidgetInstance.initPopup(e.target);\n\t\t\t\t\t\t}, 500\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tonMouseOut()\n\t\t\t\t{\n\t\t\t\t\tif (LicenceWidgetInstance.enterTimeout !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tclearTimeout(LicenceWidgetInstance.enterTimeout);\n\t\t\t\t\t\tLicenceWidgetInstance.enterTimeout = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tLicenceWidgetInstance.leaveTimeout = setTimeout(() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tLicenceWidgetInstance.closePopup();\n\t\t\t\t\t\t}, 500\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\ttogglePopup()\n\t\t\t\t{\n\t\t\t\t\tif (LicenceWidgetInstance.popup)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (LicenceWidgetInstance.popup.isShown())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tLicenceWidgetInstance.closePopup();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tLicenceWidgetInstance.popup.show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\ttemplate: `\n\t\t\t\t<button \n\t\t\t\t\tclass=\"ui-btn ui-btn-round ui-btn-themes license-btn\" \n\t\t\t\t\t:class=\"buttonClass\"\n\t\t\t\t\t@mouseover=\"onMouseOver\"\n\t\t\t\t\t@mouseout=\"onMouseOut\"\n\t\t\t\t\t@click=\"togglePopup\"\n\t\t\t\t>\n\t\t\t\t\t<span v-if=\"isLicenseExpired\" class=\"license-btn-icon-battery\">\n\t\t\t\t\t\t<span class=\"license-btn-icon-battery-full\">\n\t\t\t\t\t\t\t<span class=\"license-btn-icon-battery-inner\">\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<svg class=\"license-btn-icon-battery-cross\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"18\">\n\t\t\t\t\t\t\t<path fill=\"#FFF\" fill-rule=\"evenodd\" d=\"M18.567.395c.42.42.42 1.1 0 1.52l-1.04 1.038.704.001a2 2 0 012 2v1.799a1.01 1.01 0 01.116-.007H21a1 1 0 011 1v2.495a1 1 0 01-1 1h-.653l-.116-.006v1.798a2 2 0 01-2 2L5.45 15.032l-2.045 2.045a1.075 1.075 0 11-1.52-1.52L17.047.395c.42-.42 1.1-.42 1.52 0zm-2.583 4.102l-8.991 8.99 10.836.002a1 1 0 00.994-.883l.006-.117v-6.99a1 1 0 00-1-1l-1.845-.002zm-5.031-1.543L9.409 4.498h-6.23a1 1 0 00-.993.884l-.006.116-.001 6.23-1.4 1.398v-.046L.777 4.954a2 2 0 012-2h8.175z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</span>\n\t\t\t\t\t{{ buttonName }}\n\t\t\t\t</button>\n\t\t\t`,\n\t\t});\n\t}\n\n\tinitPopup(bindElement)\n\t{\n\t\tif (!this.popup)\n\t\t{\n\t\t\tthis.popup = new Popup({\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tcontentPadding: 0,\n\t\t\t\tpadding: 0,\n\t\t\t\tminWidth: 350,\n\t\t\t\tminHeight: 260,\n\t\t\t\tanimation: {\n\t\t\t\t\tshowClassName: \"popup-with-radius-show\",\n\t\t\t\t\tcloseClassName: \"popup-with-radius-close\",\n\t\t\t\t\tcloseAnimationType: \"animation\"\n\t\t\t\t},\n\t\t\t\toffsetLeft: -20,\n\t\t\t\tclassName: 'popup-with-radius',\n\t\t\t\tcontentBackground: 'rgba(0,0,0,0)',\n\t\t\t\tangle: { position: 'top', offset: 120 },\n\t\t\t\tbindElement: bindElement,\n\t\t\t\tcontent: this.renderPopupContent(),\n\t\t\t});\n\t\t\tthis.initEvents();\n\t\t}\n\n\t\tthis.popup.show();\n\t}\n\n\tinitEvents()\n\t{\n\t\tthis.popup.getPopupContainer().addEventListener('mouseenter', () =>\n\t\t{\n\t\t\tclearTimeout(this.enterTimeout);\n\t\t\tclearTimeout(this.leaveTimeout);\n\t\t\tclearTimeout(this.popupLeaveTimeout);\n\t\t});\n\n\t\tthis.popup.getPopupContainer().addEventListener('mouseleave', () =>\n\t\t{\n\t\t\tthis.popupLeaveTimeout = setTimeout(() => {\n\t\t\t\tthis.closePopup();\n\t\t\t}, 500);\n\t\t});\n\t}\n\n\trenderPopupContent()\n\t{\n\t\tconst LicenceWidgetInstance = this;\n\n\t\tlet content = Vue.create({\n\t\t\tel: document.createElement(\"div\"),\n\t\t\tcomponents: {PopupWrapperComponent},\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tcomponentName: LicenceWidgetInstance.componentName,\n\t\t\t\t\tsignedParameters: LicenceWidgetInstance.signedParameters,\n\t\t\t\t\tlicenseType: LicenceWidgetInstance.licenseType,\n\t\t\t\t};\n\t\t\t},\n\t\t\tcomputed: {\n\t\t\t\tlocalize(state)\n\t\t\t\t{\n\t\t\t\t\treturn Vue.getFilteredPhrases('INTRANET_LICENSE_WIDGET_');\n\t\t\t\t}\n\t\t\t},\n\t\t\ttemplate: `\n\t\t\t\t<PopupWrapperComponent \n\t\t\t\t\t:componentName=\"componentName\" \n\t\t\t\t\t:signedParameters=\"signedParameters\" \n\t\t\t\t\t:licenseType=\"licenseType\" \n\t\t\t\t/>`,\n\t\t});\n\n\t\treturn content.$el;\n\t}\n\n\tclosePopup()\n\t{\n\t\tif (this.popup)\n\t\t{\n\t\t\tthis.popup.close();\n\t\t}\n\t}\n}\n\nnamespace.LicenseWidget = LicenseWidget;\n"],"names":["LoaderComponent","props","size","type","Number","default","template","mounted","loader","Loader","target","$el","show","beforeDestroy","destroy","ContentComponent","computed","localize","state","Vue","getFilteredPhrases","getTariffIconCLass","license","isAlmostExpired","isExpired","getMarketClass","market","isPaid","isDemo","getMarketIconClass","methods","sendAnalytics","code","BX","ajax","runAction","data","analyticsLabel","helperCode","headerPopup","then","response","showInfoHelper","articleCode","UI","InfoHelper","showHelper","isFreeTariff","article","isCloud","Helper","showPartner","partner","isPartnerOrder","formLang","Feedback","Form","open","id","portalUri","formPortalUri","forms","zones","lang","sec","defaultForm","showPartnerForm","connectPartnerJs","showMarketDemoPopup","e","loadExt","rest","Marketplace","openDemoSubscription","window","location","href","PopupWrapperComponent","components","loaded","loading","isAdmin","getData","licenseType","telephony","namespace","Reflection","LicenseWidget","params","signedParameters","componentName","isFreeLicense","isDemoLicense","isAutoPay","isLicenseAlmostExpired","isLicenseExpired","node","wrapper","renderButton","LicenceWidgetInstance","create","el","buttonClass","className","buttonName","message","onMouseOver","clearTimeout","enterTimeout","setTimeout","initPopup","onMouseOut","leaveTimeout","closePopup","togglePopup","popup","isShown","bindElement","Popup","autoHide","closeByEsc","contentPadding","padding","minWidth","minHeight","animation","showClassName","closeClassName","closeAnimationType","offsetLeft","contentBackground","angle","position","offset","content","renderPopupContent","initEvents","getPopupContainer","addEventListener","popupLeaveTimeout","document","createElement","close"],"mappings":"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"}