{"version":3,"file":"script.js","sources":["src/lib/license-notification-popup.js","src/lib/notify-panel.js","src/index.js"],"sourcesContent":["import { Cache, Tag, Loc, ajax } from 'main.core';\nimport { Popup } from 'main.popup';\nimport { Button } from 'ui.buttons';\nimport { NotifyManager } from '../index';\nimport { DateTimeFormat } from 'main.date';\nimport { LicenseNotificationPopupOptions } from \"../types/options\";\n\nexport class LicenseNotificationPopup\n{\n\t#cache = new Cache.MemoryCache();\n\n\tconstructor(options: LicenseNotificationPopupOptions)\n\t{\n\t\tthis.setOptions(options);\n\t}\n\n\tsetOptions(options: LicenseNotificationPopupOptions): void\n\t{\n\t\tthis.#cache.set('options', options);\n\t}\n\n\tgetOptions(): ?LicenseNotificationPopupOptions\n\t{\n\t\treturn this.#cache.get('options', null);\n\t}\n\n\tshow(): void\n\t{\n\t\tthis.#getPopup().show();\n\t}\n\n\tclose(): void\n\t{\n\t\tthis.#getPopup().close();\n\t}\n\n\t#getPopup(): Popup\n\t{\n\t\treturn this.#cache.remember('popup', () => {\n\t\t\treturn new Popup({\n\t\t\t\tclassName: 'bitrix24-notify-popup',\n\t\t\t\twidth: 800,\n\t\t\t\tpadding: 0,\n\t\t\t\tcontent: this.#getContent(),\n\t\t\t\tcontentBackground: \"transparent\",\n\t\t\t\toverlay: true,\n\t\t\t\tcloseIcon: true,\n\t\t\t\ttitleBar: false,\n\t\t\t\tbuttons: this.#getButtons(),\n\t\t\t\tevents: {\n\t\t\t\t\tonShow: () => {\n\t\t\t\t\t\tajax.runComponentAction(NotifyManager.componentName, 'setLicenseNotifyConfig', {\n\t\t\t\t\t\t\tmode: 'class',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\ttype: this.getOptions().type,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t#getContent(): HTMLDivElement\n\t{\n\t\treturn this.#cache.remember('popup-content', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"bitrix24-notify-popup-inner\">\n\t\t\t\t\t<div class=\"bitrix24-notify-popup-title\">\n\t\t\t\t\t\t${\n\t\t\t\t\t\t\tthis.getOptions().isExpired ?\n\t\t\t\t\t\t\tLoc.getMessage('INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_TITLE_EXPIRED', {'#DAY_MONTH#': this.#getDate()}) :\n\t\t\t\t\t\t\tLoc.getMessage('INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_TITLE', {'#DAY_MONTH#': this.#getDate()})\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bitrix24-notify-popup-block\">\n\t\t\t\t\t\t${\n\t\t\t\t\t\t\tthis.getOptions().isExpired ? \n\t\t\t\t\t\t\tLoc.getMessage('INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_EXPIRED_DESCRIPTION_1', {'#DAY_MONTH#': this.#getDate()}) :\n\t\t\t\t\t\t\tLoc.getMessage('INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_DESCRIPTION_1')\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.getOptions().isPortalWithPartner ? this.#getDescriptionWithPartner() : null}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getDate(): string\n\t{\n\t\treturn this.#cache.remember('date', () => {\n\t\t\tconst format = DateTimeFormat.getFormat('DAY_MONTH_FORMAT');\n\n\t\t\tif (this.getOptions().isExpired)\n\t\t\t{\n\t\t\t\treturn DateTimeFormat.format(format, Number(this.getOptions().blockDate));\n\t\t\t}\n\n\t\t\treturn DateTimeFormat.format(format, Number(this.getOptions().expireDate));\n\t\t});\n\t}\n\n\t#getDescriptionWithPartner(): HTMLDivElement\n\t{\n\t\treturn this.#cache.remember('description-partner', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"bitrix24-notify-popup-block\">\n\t\t\t\t\t${Loc.getMessage('INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_DESCRIPTION_2')}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t//region Buttons\n\t#getButtons(): Array<Button>\n\t{\n\t\treturn [\n\t\t\tthis.#getRenewalButton(),\n\t\t\tthis.getOptions().isAdmin ? this.#getPartnerButton() : null,\n\t\t\tthis.#getMoreInformationButton(),\n\t\t];\n\t}\n\n\t#getPartnerButton(): ?Button\n\t{\n\t\treturn this.#cache.remember('partner-button', () => {\n\t\t\tif (!this.getOptions().isPortalWithPartner)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\ttext: Loc.getMessage('INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_PARTNER'),\n\t\t\t\tround: true,\n\t\t\t\tonclick: () => {\n\t\t\t\t\twindow.open(this.getOptions().urlBuyWithPartner, '_self');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t#getRenewalButton(): Button\n\t{\n\t\treturn this.#cache.remember('renewal-button', () => {\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.SUCCESS,\n\t\t\t\ttext: Loc.getMessage('INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_RENEW_LICENSE'),\n\t\t\t\tround: true,\n\t\t\t\tonclick: () => {\n\t\t\t\t\twindow.open(this.getOptions().urlDefaultBuy, '_blank');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t#getMoreInformationButton(): Button\n\t{\n\t\treturn this.#cache.remember('more-button', () => {\n\t\t\treturn new Button({\n\t\t\t\tcolor: Button.Color.LIGHT_BORDER,\n\t\t\t\ttext: Loc.getMessage('INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_MORE'),\n\t\t\t\tround: true,\n\t\t\t\tonclick: () => {\n\t\t\t\t\twindow.open(this.getOptions().urlArticle, '_blank');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t//endregion\n}\n","import {Cache, Tag, Loc, Dom} from \"main.core\";\nimport type {LicenseNotifyPanelParams, NotifyPanelOptions} from \"../types/options\";\nimport {DateTimeFormat} from \"main.date\";\n\nexport class NotifyPanel\n{\n\t#cache = new Cache.MemoryCache();\n\tstatic #classActivity: string = 'bx24-tariff-notify-show';\n\n\tconstructor(options: NotifyPanelOptions)\n\t{\n\t\tthis.setOptions(options);\n\t}\n\n\tsetOptions(options: NotifyPanelOptions): void\n\t{\n\t\tthis.#cache.set('options', options);\n\t}\n\n\tgetOptions(): ?NotifyPanelOptions\n\t{\n\t\treturn this.#cache.get('options', null);\n\t}\n\n\t#getParams(): LicenseNotifyPanelParams\n\t{\n\t\treturn this.getOptions().params;\n\t}\n\n\t#getPanel(): HTMLElement\n\t{\n\t\tconst onclick = () => {\n\t\t\tthis.close();\n\t\t}\n\n\t\treturn this.#cache.remember('panel-template', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"bx24-tariff-notify bx24-tariff-notify-show bx24-tariff-notify-panel\">\n\t\t\t\t\t<div class=\"bx24-tariff-notify-wrap ${this.#getColorClass()}\">\n\t\t\t\t\t\t<span class=\"bx24-tariff-notify-text\">\n\t\t\t\t\t\t ${this.#getMessage()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span onclick=\"${onclick}\" class=\"bx24-tariff-notify-text-reload\">\n\t\t\t\t\t\t\t<span class=\"bx24-tariff-notify-text-reload-title\">\n\t\t\t\t\t\t\t\tx\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\t#getColorClass()\n\t{\n\t\treturn (this.getOptions().color && this.getOptions().color === 'blue')\n\t\t\t? 'bx24-tariff-notify-blue'\n\t\t\t: 'bx24-tariff-notify-red';\n\t}\n\n\t#getMessage()\n\t{\n\t\tif (this.getOptions().type === 'license-expired')\n\t\t{\n\t\t\treturn Loc.getMessage(\n\t\t\t\t'INTRANET_NOTIFY_PANEL_FOOTER_LICENSE_NOTIFICATION_TEXT',\n\t\t\t\t{\n\t\t\t\t\t'#BLOCK_DATE#': this.#getBlockDate(),\n\t\t\t\t\t'#LINK_BUY#': this.#getParams().urlBuy,\n\t\t\t\t\t'#ARTICLE_LINK#': this.#getParams().urlArticle,\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\t#getBlockDate(): string\n\t{\n\t\tconst format = DateTimeFormat.getFormat('DAY_MONTH_FORMAT');\n\n\t\treturn DateTimeFormat.format(format, Number(this.getOptions().params.blockDate));\n\t}\n\n\tshow()\n\t{\n\t\tconst mainTable = document.querySelector('.bx-layout-table');\n\n\t\tif (mainTable)\n\t\t{\n\t\t\tDom.insertBefore(this.#getPanel(), mainTable);\n\t\t}\n\t}\n\n\tclose(): void\n\t{\n\t\tif (Dom.hasClass(this.#getPanel(), NotifyPanel.#classActivity))\n\t\t{\n\t\t\tDom.removeClass(this.#getPanel(), NotifyPanel.#classActivity);\n\t\t}\n\t}\n}","import type { NotifyManagerOptions } from './types/options';\nimport { Cache } from 'main.core';\nimport { LicenseNotificationPopup } from './lib/license-notification-popup';\nimport './style.css';\nimport 'ui.design-tokens';\nimport { NotifyPanel } from \"./lib/notify-panel\";\n\nexport class NotifyManager\n{\n\t#cache = new Cache.MemoryCache();\n\tstatic componentName: string = 'bitrix:intranet.notify.panel';\n\n\tconstructor(options: NotifyManagerOptions)\n\t{\n\t\tthis.setOptions(options);\n\t}\n\n\tsetOptions(options: NotifyManagerOptions): void\n\t{\n\t\tthis.#cache.set('options', options);\n\t}\n\n\tgetOptions(): ?NotifyManagerOptions\n\t{\n\t\treturn this.#cache.get('options', null);\n\t}\n\n\tgetLicenseNotificationPopup(options: Object): LicenseNotificationPopup\n\t{\n\t\treturn this.#cache.remember('License-notification-popup', () => {\n\t\t\treturn new LicenseNotificationPopup({\n\t\t\t\tisAdmin: this.getOptions().isAdmin,\n\t\t\t\t...options\n\t\t\t});\n\t\t});\n\t}\n\n\tgetNotifyPanel(options: Object): NotifyPanel\n\t{\n\t\treturn this.#cache.remember('notify-panel', () => {\n\t\t\treturn new NotifyPanel(options);\n\t\t});\n\t}\n}\n"],"names":["LicenseNotificationPopup","options","Cache","MemoryCache","setOptions","set","get","show","close","remember","Popup","className","width","padding","content","contentBackground","overlay","closeIcon","titleBar","buttons","events","onShow","ajax","runComponentAction","NotifyManager","componentName","mode","data","type","getOptions","Tag","render","isExpired","Loc","getMessage","isPortalWithPartner","format","DateTimeFormat","getFormat","Number","blockDate","expireDate","isAdmin","Button","color","Color","LIGHT_BORDER","text","round","onclick","window","open","urlBuyWithPartner","SUCCESS","urlDefaultBuy","urlArticle","NotifyPanel","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","mainTable","document","querySelector","Dom","insertBefore","hasClass","removeClass","params","_classPrivateMethodGet","urlBuy"],"mappings":"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"}