{"version":3,"file":"script.js","sources":["src/components/loader.js","src/components/rights.js","src/components/user-online.js","src/components/content.js","src/components/popup-wrapper.js","src/index.js"],"sourcesContent":["import {Loader} from \"main.loader\";\n\nexport const LoaderComponent = {\n\tprops: {\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 85,\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div></div>\n\t`,\n\tmounted()\n\t{\n\t\tthis.loader = new Loader({\n\t\t\ttarget: this.$el,\n\t\t\tsize: this.size,\n\t\t});\n\t\tthis.loader.show();\n\t},\n\tbeforeDestroy()\n\t{\n\t\tthis.loader.destroy();\n\t},\n};","import {Menu} from \"main.popup\";\nimport {Vue} from \"ui.vue\";\nimport {Event} from \"main.core\";\n\nexport const RightsComponent = {\n\tprops: [\n\t\t\"isCrurrentUserAdmin\",\n\t],\n\tcomputed: {\n\t\tlocalize(state)\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('INTRANET_INVITATION_WIDGET_');\n\t\t}\n\t},\n\tmethods: {\n\t\tshowPopup(e)\n\t\t{\n\t\t\tEvent.EventEmitter.emit('BX.Intranet.InvitationWidget:stopPopupMouseOut');\n\n\t\t\tthis.getInvitationRightSetting().then((type) => {\n\t\t\t\tlet menuItems = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: this.localize.INTRANET_INVITATION_WIDGET_SETTING_ALL_INVITE,\n\t\t\t\t\t\tclassName: type === 'all' ? 'menu-popup-item-accept' : '',\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tthis.saveInvitationRightSetting('all');\n\t\t\t\t\t\t\tthis.popupMenu.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: this.localize.INTRANET_INVITATION_WIDGET_SETTING_ADMIN_INVITE,\n\t\t\t\t\t\tclassName: type === 'admin' ? 'menu-popup-item-accept' : '',\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tthis.saveInvitationRightSetting('admin');\n\t\t\t\t\t\t\tthis.popupMenu.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\tthis.popupMenu = new Menu({\n\t\t\t\t\tbindElement: e.target,\n\t\t\t\t\titems: menuItems,\n\t\t\t\t\toffsetLeft: 10,\n\t\t\t\t\toffsetTop: 0,\n\t\t\t\t\tangle: true,\n\t\t\t\t\tclassName: \"license-right-popup-menu\"\n\t\t\t\t});\n\n\t\t\t\tthis.popupMenu.show();\n\t\t\t});\n\t\t},\n\t\tsaveInvitationRightSetting(type)\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.invitationwidget.saveInvitationRight\", {\n\t\t\t\tdata: {\n\t\t\t\t\ttype: type\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetInvitationRightSetting()\n\t\t{\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tBX.ajax.runAction(\"intranet.invitationwidget.getInvitationRight\", {\n\t\t\t\t\tdata: {},\n\t\t\t\t}).then((response) => {\n\t\t\t\t\tresolve(response.data);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"license-widget-item-menu\" @click=\"showPopup\"></div>\n\t`,\n};","import {Vue} from \"ui.vue\";\nimport {LoaderComponent} from \"./loader\";\n\nexport const UserOnlineComponent = {\n\tcomponents: {LoaderComponent},\n\tprops: [\n\t\t\"isCrurrentUserAdmin\",\n\t],\n\tcomputed: {\n\t\tlocalize(state)\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('INTRANET_INVITATION_WIDGET_');\n\t\t}\n\t},\n\tmethods: {\n\t\tgetComponentContent()\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.invitationwidget.getUserOnlineComponent\", {\n\t\t\t\tdata: {},\n\t\t\t}).then((response) => {\n\t\t\t\tthis.showComponentData(response);\n\t\t\t}, (response) => {});\n\t\t},\n\t\tshowComponentData(result)\n\t\t{\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tif (result.data.hasOwnProperty(\"assets\") && result.data.assets['css'].length)\n\t\t\t\t{\n\t\t\t\t\tBX.load(result.data.assets['css'], function () {\n\t\t\t\t\t\tif (result.data.assets['js'].length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.load(result.data.assets['js'], function () {\n\t\t\t\t\t\t\t\tif (result.data.assets['string'].length)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < result.data.assets['string'].length; i++)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tBX.html(null, result.data.assets['string'][i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}).then(() => {\n\t\t\t\tconst container = document.querySelector(\"[data-role='invitation-widget-ustat-online']\");\n\t\t\t\tconst html = BX.prop.getString(result.data, \"html\", '');\n\t\t\t\tBX.html(container, html);\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div data-role=\"invitation-widget-ustat-online\" class=\"invitation-widget-ustat-online\">\n\t\t\t<LoaderComponent\n\t\t\t\t:size=\"40\"\n\t\t\t></LoaderComponent>\n\t\t\t{{getComponentContent()}}\n\t\t</div>\n\t`,\n};","import {Vue} from 'ui.vue';\nimport {Text, Type, Event} from \"main.core\";\nimport {RightsComponent} from \"./rights\";\nimport {UserOnlineComponent} from \"./user-online\";\n\nexport const ContentComponent = {\n\tcomponents: {RightsComponent, UserOnlineComponent},\n\tprops: [\n\t\t\"isCrurrentUserAdmin\",\n\t\t\"invitationLink\",\n\t\t\"structureLink\",\n\t\t\"users\",\n\t\t\"isInvitationAvailable\",\n\t\t\"isExtranetAvailable\",\n\t],\n\tcomputed: {\n\t\tlocalize(state)\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('INTRANET_INVITATION_WIDGET_');\n\t\t}\n\t},\n\tmethods: {\n\t\tshowInvitationSlider(e, type)\n\t\t{\n\t\t\tif (this.isInvitationAvailable)\n\t\t\t{\n\t\t\t\tlet link = this.invitationLink;\n\n\t\t\t\tif (type === 'extranet')\n\t\t\t\t{\n\t\t\t\t\tlink = `${link}&firstInvitationBlock=extranet`;\n\t\t\t\t}\n\n\t\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\t\tlink,\n\t\t\t\t\t{ cacheable: false, allowChangeHistory: false, width: 1100 }\n\t\t\t\t);\n\t\t\t\tEvent.EventEmitter.emit('BX.Intranet.InvitationWidget:showInvitationSlider');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.showHintPopup(\n\t\t\t\t\tthis.localize.INTRANET_INVITATION_WIDGET_DISABLED_TEXT,\n\t\t\t\t\te.target\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tshowHintPopup(message, bindNode)\n\t\t{\n\t\t\tif (!Type.isDomNode(bindNode) || !message)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnew BX.PopupWindow('inviteHint' + Text.getRandom(8), bindNode, {\n\t\t\t\tcontent: message,\n\t\t\t\tzIndex: 15000,\n\t\t\t\tangle: true,\n\t\t\t\toffsetTop: 0,\n\t\t\t\toffsetLeft: 50,\n\t\t\t\tcloseIcon: false,\n\t\t\t\tautoHide: true,\n\t\t\t\tdarkMode: true,\n\t\t\t\toverlay: false,\n\t\t\t\tmaxWidth: 400,\n\t\t\t\tevents: {\n\t\t\t\t\tonAfterPopupShow: function () {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tthis.close();\n\t\t\t\t\t\t}.bind(this), 4000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).show();\n\t\t},\n\t\tsendAnalytics(code)\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.invitationwidget.analyticsLabel\", {\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\thelperCode: code,\n\t\t\t\t\theaderPopup: \"Y\"\n\t\t\t\t}\n\t\t\t}).then((response) => {}, (response) => {});\n\t\t},\n\t\tshowInvitationHelper()\n\t\t{\n\t\t\tconst code = \"limit_why_team_invites\";\n\n\t\t\tBX.UI.InfoHelper.show(code);\n\t\t\tthis.sendAnalytics(code);\n\t\t},\n\t\tshowExtranetHelper()\n\t\t{\n\t\t\tconst article = \"6770709\";\n\n\t\t\tBX.Helper.show(`redirect=detail&code=${article}`);\n\t\t\tthis.sendAnalytics(article);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"license-widget license-widget--invite\">\n\t\t\t<div class=\"license-widget-invite\">\n\t\t\t\t<div class=\"license-widget-invite-main\">\n\t\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t\t<div class=\"license-widget-item-icon license-widget-item-icon--invite\"></div>\n\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_INVITATION_WIDGET_INVITE_EMPLOYEE }}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t\t<span class=\"license-widget-item-link-text\" @click=\"showInvitationHelper\">\n\t\t\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_DESC }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a \n\t\t\t\t\t\tdata-role=\"invitationPopupButton\"\n\t\t\t\t\t\tclass=\"license-widget-item-btn license-widget-item-btn--invite\"\n\t\t\t\t\t\t@click=\"showInvitationSlider\" \n\t\t\t\t\t> \n\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_INVITE }} \n\t\t\t\t\t</a>\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"license-widget-block\">\n\t\t\t\t<div class=\"license-widget-item license-widget-item--company license-widget-item--active\">\n\t\t\t\t\t<div class=\"license-widget-item-logo\"></div>\n\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t<span>{{ localize.INTRANET_INVITATION_WIDGET_STRUCTURE }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a :href=\"structureLink\" class=\"license-widget-item-btn\"> \n\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_EDIT }} \n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div \n\t\t\t\t\tclass=\"license-widget-item license-widget-item--emp\"\n\t\t\t\t\t:class=\"{ 'license-widget-item--emp-alert' : users.isLimit }\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tclass=\"license-widget-item-progress\"\n\t\t\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t\t\tusers.isLimit \n\t\t\t\t\t\t\t\t\t? 'license-widget-item-progress--crit' \n\t\t\t\t\t\t\t\t\t: 'license-widget-item-progress--full'\n\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t<div class=\"license-widget-employees\">\n\t\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_INVITATION_WIDGET_EMPLOYEES }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"license-widget-item-num\">\n\t\t\t\t\t\t\t\t\t{{ users.currentUserCountMessage }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!--<div class=\"license-widget-item-menu\"></div>-->\n\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"license-widget-item-detail\">\n\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\tv-if=\"users.maxUserCount == 0\" \n\t\t\t\t\t\t\t\tkey=\"employeeCount\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_EMPLOYEES_NO_LIMIT }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\tv-else-if=\"users.isLimit\"\n\t\t\t\t\t\t\t\tkey=\"employeeCount\" \n\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_EMPLOYEES_LIMIT }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\tv-else-if=\"!users.isLimit\" \n\t\t\t\t\t\t\t\tkey=\"employeeCount\"\n\t\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ users.leftCountMessage }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<RightsComponent\n\t\t\t\t\t\t\tv-if=\"isCrurrentUserAdmin\"\n\t\t\t\t\t\t></RightsComponent>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div \n\t\t\t\tv-if=\"isExtranetAvailable\"\n\t\t\t\tkey=\"extranetBlock\"\n\t\t\t\tclass=\"license-widget-item license-widget-item--wide\"\n\t\t\t\t:class=\"{ 'license-widget-item--active' : users.currentExtranetUserCount > 0 }\"\n\t\t\t>\n\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t<div class=\"license-widget-item-icon license-widget-item-icon--ext\"></div>\n\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t<span>{{ localize.INTRANET_INVITATION_WIDGET_EXTRANET }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t<a class=\"license-widget-item-link-text\" @click=\"showExtranetHelper\">\n\t\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_EXTRANET_DESC }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tv-if=\"users.currentExtranetUserCount > 0\" \n\t\t\t\t\t\t\tkey=\"extranetEmployeeCount\"\n\t\t\t\t\t\t\tclass=\"license-widget-item-ext-users\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ users.currentExtranetUserCountMessage }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button \n\t\t\t\t\tclass=\"license-widget-item-btn\" \t\n\t\t\t\t\ttype=\"button\" \n\t\t\t\t\t@click=\"showInvitationSlider($event, 'extranet')\"\n\t\t\t\t>\n\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_INVITE }}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"license-widget-item license-widget-item--wide license-widget-item--no-padding\">\n\t\t\t\t<UserOnlineComponent></UserOnlineComponent>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import {LoaderComponent} from \"./loader\";\nimport {ContentComponent} from \"./content\";\n\nexport const PopupWrapperComponent = {\n\tcomponents: {LoaderComponent, ContentComponent},\n\tprops: [\n\t\t\"isCrurrentUserAdmin\",\n\t],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tloaded: false,\n\t\t\tloading: true,\n\t\t\tinvitationLink: \"\",\n\t\t\tstructureLink: \"\",\n\t\t\tisInvitationAvailable: true,\n\t\t\tusers: [],\n\t\t};\n\t},\n\tmounted()\n\t{\n\t\tthis.getData();\n\t},\n\tmethods: {\n\t\tgetData(event = {})\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.invitationwidget.getData\", {\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\theaderPopup: \"Y\"\n\t\t\t\t}\n\t\t\t}).then((response) => {\n\n\t\t\t\tthis.invitationLink = response.data.invitationLink;\n\t\t\t\tthis.structureLink = response.data.structureLink;\n\t\t\t\tthis.isInvitationAvailable = response.data.isInvitationAvailable;\n\t\t\t\tthis.isExtranetAvailable = response.data.isExtranetAvailable;\n\t\t\t\tthis.users = response.data.users;\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.loading = false;\n\n\t\t\t}, (response) => {\n\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div>\n\t\t\t<LoaderComponent v-if=\"loading\" :size=\"100\" />\n\t\t\t<ContentComponent \n\t\t\t\tv-if=\"!loading && loaded\"\n\t\t\t\t:invitationLink=\"invitationLink\"\n\t\t\t\t:structureLink=\"structureLink\"\n\t\t\t\t:isInvitationAvailable=\"isInvitationAvailable\"\n\t\t\t\t:isExtranetAvailable=\"isExtranetAvailable\"\n\t\t\t\t:users=\"users\"\n\t\t\t\t:isCrurrentUserAdmin=\"isCrurrentUserAdmin\"\n\t\t\t>\n\t\t\t</ContentComponent>\n\t\t</div>\n\t`,\n};","import {Reflection, Event} from 'main.core';\nimport {Vue} from 'ui.vue';\nimport {Popup} from \"main.popup\";\nimport {PopupWrapperComponent} from \"./components/popup-wrapper\";\n\nconst namespace = Reflection.namespace('BX.Intranet');\n\nclass InvitationWidget\n{\n\t#vue: Vue;\n\n\tconstructor(params)\n\t{\n\t\tthis.node = params.wrapper;\n\t\tthis.isCrurrentUserAdmin = params.isCrurrentUserAdmin === \"Y\";\n\t\tthis.enterTimeout = null;\n\t\tthis.leaveTimeout = null;\n\t\tthis.popupLeaveTimeout = null;\n\t\tthis.stopMouseLeave = false;\n\n\t\tthis.renderButton();\n\n\t\tEvent.EventEmitter.subscribe('BX.Intranet.InvitationWidget:showInvitationSlider', (event) => {\n\t\t\tthis.closePopup();\n\t\t});\n\n\t\tEvent.EventEmitter.subscribe('BX.Intranet.InvitationWidget:stopPopupMouseOut', (event) => {\n\t\t\tthis.stopMouseLeave = true;\n\t\t});\n\t}\n\n\trenderButton()\n\t{\n\t\tconst InvitationWidgetInstance = this;\n\n\t\tthis.#vue = Vue.create({\n\t\t\tel: this.node,\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t},\n\t\t\tcomputed:\n\t\t\t{\n\t\t\t\tlocalize(state)\n\t\t\t\t{\n\t\t\t\t\treturn Vue.getFilteredPhrases('INTRANET_INVITATION_WIDGET_');\n\t\t\t\t}\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tonMouseOver (e)\n\t\t\t\t{\n\t\t\t\t\tclearTimeout(InvitationWidgetInstance.enterTimeout);\n\t\t\t\t\tInvitationWidgetInstance.enterTimeout = setTimeout(() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tInvitationWidgetInstance.enterTimeout = null;\n\t\t\t\t\t\t\tInvitationWidgetInstance.initPopup(e.target);\n\t\t\t\t\t\t}, 500\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tonMouseOut()\n\t\t\t\t{\n\t\t\t\t\tif (InvitationWidgetInstance.enterTimeout !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tclearTimeout(InvitationWidgetInstance.enterTimeout);\n\t\t\t\t\t\tInvitationWidgetInstance.enterTimeout = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tInvitationWidgetInstance.leaveTimeout = setTimeout(() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!InvitationWidgetInstance.stopMouseLeave)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tInvitationWidgetInstance.closePopup();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 500\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\ttogglePopup(e)\n\t\t\t\t{\n\t\t\t\t\tif (InvitationWidgetInstance.popup)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (InvitationWidgetInstance.popup.isShown())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tInvitationWidgetInstance.closePopup();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tInvitationWidgetInstance.initPopup(e.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\ttemplate: `\n\t\t\t\t<button \n\t\t\t\t\tclass=\"ui-btn ui-btn-round license-btn license-btn-primary\" \n\t\t\t\t\t@mouseover=\"onMouseOver\"\n\t\t\t\t\t@mouseout=\"onMouseOut\"\n\t\t\t\t\t@click=\"togglePopup\"\n\t\t\t\t>{{ localize.INTRANET_INVITATION_WIDGET_INVITE }}</button>\n\t\t\t`,\n\t\t});\n\t}\n\n\tinitPopup(bindElement)\n\t{\n\t\tthis.popup = new B24.PopupBlur({\n\t\t\tautoHide: true,\n\t\t\tcloseByEsc: true,\n\t\t\tcontentPadding: 0,\n\t\t\tpadding: 0,\n\t\t\tminWidth: 350,\n\t\t\tminHeight: 220,\n\t\t\toffsetLeft: -150,\n\t\t\tanimation: {\n\t\t\t\tshowClassName: \"popup-with-radius-show\",\n\t\t\t\tcloseClassName: \"popup-with-radius-close\",\n\t\t\t\tcloseAnimationType: \"animation\"\n\t\t\t},\n\t\t\tclassName: 'popup-with-radius',\n\t\t\t// contentBackground: 'rgba(0,0,0,0)',\n\t\t\tangle: { position: 'top', offset: 235 },\n\t\t\tbindElement: bindElement,\n\t\t\tcontent: this.renderPopupContent(),\n\t\t\tevents: {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tthis.popup.destroy();\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tthis.initEvents();\n\t\tthis.popup.show();\n\t}\n\n\tinitEvents()\n\t{\n\t\tthis.popup.getPopupContainer().addEventListener('mouseenter', () =>\n\t\t{\n\t\t\tclearTimeout(this.enterTimeout);\n\t\t\tclearTimeout(this.leaveTimeout);\n\t\t\tclearTimeout(this.popupLeaveTimeout);\n\t\t});\n\n\t\tthis.popup.getPopupContainer().addEventListener('mouseleave', (event) =>\n\t\t{\n\t\t\tthis.popupLeaveTimeout = setTimeout(() => {\n\t\t\t\tif (!this.stopMouseLeave)\n\t\t\t\t{\n\t\t\t\t\tthis.closePopup();\n\t\t\t\t}\n\t\t\t}, 500);\n\n\t\t});\n\t}\n\n\trenderPopupContent()\n\t{\n\t\tconst InvitationWidgetInstance = this;\n\n\t\tlet content = Vue.create({\n\t\t\tel: document.createElement('div'),\n\t\t\tcomponents: {PopupWrapperComponent},\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tisCrurrentUserAdmin: InvitationWidgetInstance.isCrurrentUserAdmin,\n\t\t\t\t};\n\t\t\t},\n\t\t\tcomputed: {\n\t\t\t\tlocalize(state)\n\t\t\t\t{\n\t\t\t\t\treturn Vue.getFilteredPhrases('INTRANET_INVITATION_WIDGET_');\n\t\t\t\t}\n\t\t\t},\n\t\t\ttemplate: `\n\t\t\t\t<PopupWrapperComponent\n\t\t\t\t\t:isCrurrentUserAdmin=\"isCrurrentUserAdmin\"\n\t\t\t\t/>`\n\t\t});\n\n\t\treturn content.$el;\n\t}\n\n\tclosePopup()\n\t{\n\t\tif (this.popup)\n\t\t{\n\t\t\tthis.popup.close();\n\t\t}\n\t}\n}\n\nnamespace.InvitationWidget = InvitationWidget;\n"],"names":["LoaderComponent","props","size","type","Number","default","template","mounted","loader","Loader","target","$el","show","beforeDestroy","destroy","RightsComponent","computed","localize","state","Vue","getFilteredPhrases","methods","showPopup","e","Event","EventEmitter","emit","getInvitationRightSetting","then","menuItems","text","INTRANET_INVITATION_WIDGET_SETTING_ALL_INVITE","className","onclick","saveInvitationRightSetting","popupMenu","close","INTRANET_INVITATION_WIDGET_SETTING_ADMIN_INVITE","Menu","bindElement","items","offsetLeft","offsetTop","angle","BX","ajax","runAction","data","Promise","resolve","reject","response","UserOnlineComponent","components","getComponentContent","showComponentData","result","hasOwnProperty","assets","length","load","i","html","container","document","querySelector","prop","getString","ContentComponent","showInvitationSlider","isInvitationAvailable","link","invitationLink","SidePanel","Instance","open","cacheable","allowChangeHistory","width","showHintPopup","INTRANET_INVITATION_WIDGET_DISABLED_TEXT","message","bindNode","Type","isDomNode","PopupWindow","Text","getRandom","content","zIndex","closeIcon","autoHide","darkMode","overlay","maxWidth","events","onAfterPopupShow","setTimeout","bind","sendAnalytics","code","analyticsLabel","helperCode","headerPopup","showInvitationHelper","UI","InfoHelper","showExtranetHelper","article","Helper","PopupWrapperComponent","loaded","loading","structureLink","users","getData","isExtranetAvailable","namespace","Reflection","InvitationWidget","params","node","wrapper","isCrurrentUserAdmin","enterTimeout","leaveTimeout","popupLeaveTimeout","stopMouseLeave","renderButton","subscribe","event","closePopup","InvitationWidgetInstance","create","el","onMouseOver","clearTimeout","initPopup","onMouseOut","togglePopup","popup","isShown","B24","PopupBlur","closeByEsc","contentPadding","padding","minWidth","minHeight","animation","showClassName","closeClassName","closeAnimationType","position","offset","renderPopupContent","onPopupClose","initEvents","getPopupContainer","addEventListener","createElement"],"mappings":";;;;;CAEO,IAAMA,eAAe,GAAG;CAC9BC,EAAAA,KAAK,EAAE;CACNC,IAAAA,IAAI,EAAE;CACLC,MAAAA,IAAI,EAAEC,MADD;CAELC,MAAAA,OAAO,EAAE;CAFJ;CADA,GADuB;CAO9BC,EAAAA,QAAQ,yBAPsB;CAU9BC,EAAAA,OAV8B,qBAW9B;CACC,SAAKC,MAAL,GAAc,IAAIC,kBAAJ,CAAW;CACxBC,MAAAA,MAAM,EAAE,KAAKC,GADW;CAExBT,MAAAA,IAAI,EAAE,KAAKA;CAFa,KAAX,CAAd;CAIA,SAAKM,MAAL,CAAYI,IAAZ;CACA,GAjB6B;CAkB9BC,EAAAA,aAlB8B,2BAmB9B;CACC,SAAKL,MAAL,CAAYM,OAAZ;CACA;CArB6B,CAAxB;;CCEA,IAAMC,eAAe,GAAG;CAC9Bd,EAAAA,KAAK,EAAE,CACN,qBADM,CADuB;CAI9Be,EAAAA,QAAQ,EAAE;CACTC,IAAAA,QADS,oBACAC,KADA,EAET;CACC,aAAOC,UAAG,CAACC,kBAAJ,CAAuB,6BAAvB,CAAP;CACA;CAJQ,GAJoB;CAU9BC,EAAAA,OAAO,EAAE;CACRC,IAAAA,SADQ,qBACEC,CADF,EAER;CAAA;;CACCC,MAAAA,eAAK,CAACC,YAAN,CAAmBC,IAAnB,CAAwB,gDAAxB;CAEA,WAAKC,yBAAL,GAAiCC,IAAjC,CAAsC,UAACzB,IAAD,EAAU;CAC/C,YAAI0B,SAAS,GAAG,CACf;CACCC,UAAAA,IAAI,EAAE,KAAI,CAACb,QAAL,CAAcc,6CADrB;CAECC,UAAAA,SAAS,EAAE7B,IAAI,KAAK,KAAT,GAAiB,wBAAjB,GAA4C,EAFxD;CAGC8B,UAAAA,OAAO,EAAE,mBAAM;CACd,YAAA,KAAI,CAACC,0BAAL,CAAgC,KAAhC;;CACA,YAAA,KAAI,CAACC,SAAL,CAAeC,KAAf;CACA;CANF,SADe,EASf;CACCN,UAAAA,IAAI,EAAE,KAAI,CAACb,QAAL,CAAcoB,+CADrB;CAECL,UAAAA,SAAS,EAAE7B,IAAI,KAAK,OAAT,GAAmB,wBAAnB,GAA8C,EAF1D;CAGC8B,UAAAA,OAAO,EAAE,mBAAM;CACd,YAAA,KAAI,CAACC,0BAAL,CAAgC,OAAhC;;CACA,YAAA,KAAI,CAACC,SAAL,CAAeC,KAAf;CACA;CANF,SATe,CAAhB;CAmBA,QAAA,KAAI,CAACD,SAAL,GAAiB,IAAIG,eAAJ,CAAS;CACzBC,UAAAA,WAAW,EAAEhB,CAAC,CAACb,MADU;CAEzB8B,UAAAA,KAAK,EAAEX,SAFkB;CAGzBY,UAAAA,UAAU,EAAE,EAHa;CAIzBC,UAAAA,SAAS,EAAE,CAJc;CAKzBC,UAAAA,KAAK,EAAE,IALkB;CAMzBX,UAAAA,SAAS,EAAE;CANc,SAAT,CAAjB;;CASA,QAAA,KAAI,CAACG,SAAL,CAAevB,IAAf;CACA,OA9BD;CA+BA,KApCO;CAqCRsB,IAAAA,0BArCQ,sCAqCmB/B,IArCnB,EAsCR;CACCyC,MAAAA,EAAE,CAACC,IAAH,CAAQC,SAAR,CAAkB,+CAAlB,EAAmE;CAClEC,QAAAA,IAAI,EAAE;CACL5C,UAAAA,IAAI,EAAEA;CADD;CAD4D,OAAnE;CAKA,KA5CO;CA6CRwB,IAAAA,yBA7CQ,uCA8CR;CACC,aAAO,IAAIqB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;CACvCN,QAAAA,EAAE,CAACC,IAAH,CAAQC,SAAR,CAAkB,8CAAlB,EAAkE;CACjEC,UAAAA,IAAI,EAAE;CAD2D,SAAlE,EAEGnB,IAFH,CAEQ,UAACuB,QAAD,EAAc;CACrBF,UAAAA,OAAO,CAACE,QAAQ,CAACJ,IAAV,CAAP;CACA,SAJD;CAKA,OANM,CAAP;CAOA;CAtDO,GAVqB;CAkE9BzC,EAAAA,QAAQ;CAlEsB,CAAxB;;CCDA,IAAM8C,mBAAmB,GAAG;CAClCC,EAAAA,UAAU,EAAE;CAACrD,IAAAA,eAAe,EAAfA;CAAD,GADsB;CAElCC,EAAAA,KAAK,EAAE,CACN,qBADM,CAF2B;CAKlCe,EAAAA,QAAQ,EAAE;CACTC,IAAAA,QADS,oBACAC,KADA,EAET;CACC,aAAOC,UAAG,CAACC,kBAAJ,CAAuB,6BAAvB,CAAP;CACA;CAJQ,GALwB;CAWlCC,EAAAA,OAAO,EAAE;CACRiC,IAAAA,mBADQ,iCAER;CAAA;;CACCV,MAAAA,EAAE,CAACC,IAAH,CAAQC,SAAR,CAAkB,kDAAlB,EAAsE;CACrEC,QAAAA,IAAI,EAAE;CAD+D,OAAtE,EAEGnB,IAFH,CAEQ,UAACuB,QAAD,EAAc;CACrB,QAAA,KAAI,CAACI,iBAAL,CAAuBJ,QAAvB;CACA,OAJD,EAIG,UAACA,QAAD,EAAc,EAJjB;CAKA,KARO;CASRI,IAAAA,iBATQ,6BASUC,MATV,EAUR;CACC,UAAIR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;CAChC,YAAIM,MAAM,CAACT,IAAP,CAAYU,cAAZ,CAA2B,QAA3B,KAAwCD,MAAM,CAACT,IAAP,CAAYW,MAAZ,CAAmB,KAAnB,EAA0BC,MAAtE,EACA;CACCf,UAAAA,EAAE,CAACgB,IAAH,CAAQJ,MAAM,CAACT,IAAP,CAAYW,MAAZ,CAAmB,KAAnB,CAAR,EAAmC,YAAY;CAC9C,gBAAIF,MAAM,CAACT,IAAP,CAAYW,MAAZ,CAAmB,IAAnB,EAAyBC,MAA7B,EACA;CACCf,cAAAA,EAAE,CAACgB,IAAH,CAAQJ,MAAM,CAACT,IAAP,CAAYW,MAAZ,CAAmB,IAAnB,CAAR,EAAkC,YAAY;CAC7C,oBAAIF,MAAM,CAACT,IAAP,CAAYW,MAAZ,CAAmB,QAAnB,EAA6BC,MAAjC,EACA;CACC,uBAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,MAAM,CAACT,IAAP,CAAYW,MAAZ,CAAmB,QAAnB,EAA6BC,MAAjD,EAAyDE,CAAC,EAA1D,EACA;CACCjB,oBAAAA,EAAE,CAACkB,IAAH,CAAQ,IAAR,EAAcN,MAAM,CAACT,IAAP,CAAYW,MAAZ,CAAmB,QAAnB,EAA6BG,CAA7B,CAAd;CACA;CACD;;CAEDZ,gBAAAA,OAAO;CACP,eAVD;CAWA;CACD,WAfD;CAgBA;CACD,OApBD,EAoBGrB,IApBH,CAoBQ,YAAM;CACb,YAAMmC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,8CAAvB,CAAlB;CACA,YAAMH,IAAI,GAAGlB,EAAE,CAACsB,IAAH,CAAQC,SAAR,CAAkBX,MAAM,CAACT,IAAzB,EAA+B,MAA/B,EAAuC,EAAvC,CAAb;CACAH,QAAAA,EAAE,CAACkB,IAAH,CAAQC,SAAR,EAAmBD,IAAnB;CACA,OAxBD;CAyBA;CApCO,GAXyB;CAiDlCxD,EAAAA,QAAQ;CAjD0B,CAA5B;;CCEA,IAAM8D,gBAAgB,GAAG;CAC/Bf,EAAAA,UAAU,EAAE;CAACtC,IAAAA,eAAe,EAAfA,eAAD;CAAkBqC,IAAAA,mBAAmB,EAAnBA;CAAlB,GADmB;CAE/BnD,EAAAA,KAAK,EAAE,CACN,qBADM,EAEN,gBAFM,EAGN,eAHM,EAIN,OAJM,EAKN,uBALM,EAMN,qBANM,CAFwB;CAU/Be,EAAAA,QAAQ,EAAE;CACTC,IAAAA,QADS,oBACAC,KADA,EAET;CACC,aAAOC,UAAG,CAACC,kBAAJ,CAAuB,6BAAvB,CAAP;CACA;CAJQ,GAVqB;CAgB/BC,EAAAA,OAAO,EAAE;CACRgD,IAAAA,oBADQ,gCACa9C,CADb,EACgBpB,IADhB,EAER;CACC,UAAI,KAAKmE,qBAAT,EACA;CACC,YAAIC,IAAI,GAAG,KAAKC,cAAhB;;CAEA,YAAIrE,IAAI,KAAK,UAAb,EACA;CACCoE,UAAAA,IAAI,aAAMA,IAAN,mCAAJ;CACA;;CAED3B,QAAAA,EAAE,CAAC6B,SAAH,CAAaC,QAAb,CAAsBC,IAAtB,CACCJ,IADD,EAEC;CAAEK,UAAAA,SAAS,EAAE,KAAb;CAAoBC,UAAAA,kBAAkB,EAAE,KAAxC;CAA+CC,UAAAA,KAAK,EAAE;CAAtD,SAFD;CAIAtD,QAAAA,eAAK,CAACC,YAAN,CAAmBC,IAAnB,CAAwB,mDAAxB;CACA,OAdD,MAgBA;CACC,aAAKqD,aAAL,CACC,KAAK9D,QAAL,CAAc+D,wCADf,EAECzD,CAAC,CAACb,MAFH;CAIA;CACD,KAzBO;CA0BRqE,IAAAA,aA1BQ,yBA0BME,OA1BN,EA0BeC,QA1Bf,EA2BR;CACC,UAAI,CAACC,cAAI,CAACC,SAAL,CAAeF,QAAf,CAAD,IAA6B,CAACD,OAAlC,EACA;CACC;CACA;;CAED,UAAIrC,EAAE,CAACyC,WAAP,CAAmB,eAAeC,cAAI,CAACC,SAAL,CAAe,CAAf,CAAlC,EAAqDL,QAArD,EAA+D;CAC9DM,QAAAA,OAAO,EAAEP,OADqD;CAE9DQ,QAAAA,MAAM,EAAE,KAFsD;CAG9D9C,QAAAA,KAAK,EAAE,IAHuD;CAI9DD,QAAAA,SAAS,EAAE,CAJmD;CAK9DD,QAAAA,UAAU,EAAE,EALkD;CAM9DiD,QAAAA,SAAS,EAAE,KANmD;CAO9DC,QAAAA,QAAQ,EAAE,IAPoD;CAQ9DC,QAAAA,QAAQ,EAAE,IARoD;CAS9DC,QAAAA,OAAO,EAAE,KATqD;CAU9DC,QAAAA,QAAQ,EAAE,GAVoD;CAW9DC,QAAAA,MAAM,EAAE;CACPC,UAAAA,gBAAgB,EAAE,4BAAY;CAC7BC,YAAAA,UAAU,CAAC,YAAY;CACtB,mBAAK7D,KAAL;CACA,aAFU,CAET8D,IAFS,CAEJ,IAFI,CAAD,EAEI,IAFJ,CAAV;CAGA;CALM;CAXsD,OAA/D,EAkBGtF,IAlBH;CAmBA,KApDO;CAqDRuF,IAAAA,aArDQ,yBAqDMC,IArDN,EAsDR;CACCxD,MAAAA,EAAE,CAACC,IAAH,CAAQC,SAAR,CAAkB,0CAAlB,EAA8D;CAC7DC,QAAAA,IAAI,EAAE,EADuD;CAE7DsD,QAAAA,cAAc,EAAE;CACfC,UAAAA,UAAU,EAAEF,IADG;CAEfG,UAAAA,WAAW,EAAE;CAFE;CAF6C,OAA9D,EAMG3E,IANH,CAMQ,UAACuB,QAAD,EAAc,EANtB,EAM0B,UAACA,QAAD,EAAc,EANxC;CAOA,KA9DO;CA+DRqD,IAAAA,oBA/DQ,kCAgER;CACC,UAAMJ,IAAI,GAAG,wBAAb;CAEAxD,MAAAA,EAAE,CAAC6D,EAAH,CAAMC,UAAN,CAAiB9F,IAAjB,CAAsBwF,IAAtB;CACA,WAAKD,aAAL,CAAmBC,IAAnB;CACA,KArEO;CAsERO,IAAAA,kBAtEQ,gCAuER;CACC,UAAMC,OAAO,GAAG,SAAhB;CAEAhE,MAAAA,EAAE,CAACiE,MAAH,CAAUjG,IAAV,gCAAuCgG,OAAvC;CACA,WAAKT,aAAL,CAAmBS,OAAnB;CACA;CA5EO,GAhBsB;CA8F/BtG,EAAAA,QAAQ;CA9FuB,CAAzB;;CCFA,IAAMwG,qBAAqB,GAAG;CACpCzD,EAAAA,UAAU,EAAE;CAACrD,IAAAA,eAAe,EAAfA,eAAD;CAAkBoE,IAAAA,gBAAgB,EAAhBA;CAAlB,GADwB;CAEpCnE,EAAAA,KAAK,EAAE,CACN,qBADM,CAF6B;CAKpC8C,EAAAA,IALoC,kBAMpC;CACC,WAAO;CACNgE,MAAAA,MAAM,EAAE,KADF;CAENC,MAAAA,OAAO,EAAE,IAFH;CAGNxC,MAAAA,cAAc,EAAE,EAHV;CAINyC,MAAAA,aAAa,EAAE,EAJT;CAKN3C,MAAAA,qBAAqB,EAAE,IALjB;CAMN4C,MAAAA,KAAK,EAAE;CAND,KAAP;CAQA,GAfmC;CAgBpC3G,EAAAA,OAhBoC,qBAiBpC;CACC,SAAK4G,OAAL;CACA,GAnBmC;CAoBpC9F,EAAAA,OAAO,EAAE;CACR8F,IAAAA,OADQ,qBAER;CAAA;CACCvE,MAAAA,EAAE,CAACC,IAAH,CAAQC,SAAR,CAAkB,mCAAlB,EAAuD;CACtDC,QAAAA,IAAI,EAAE,EADgD;CAEtDsD,QAAAA,cAAc,EAAE;CACfE,UAAAA,WAAW,EAAE;CADE;CAFsC,OAAvD,EAKG3E,IALH,CAKQ,UAACuB,QAAD,EAAc;CAErB,QAAA,KAAI,CAACqB,cAAL,GAAsBrB,QAAQ,CAACJ,IAAT,CAAcyB,cAApC;CACA,QAAA,KAAI,CAACyC,aAAL,GAAqB9D,QAAQ,CAACJ,IAAT,CAAckE,aAAnC;CACA,QAAA,KAAI,CAAC3C,qBAAL,GAA6BnB,QAAQ,CAACJ,IAAT,CAAcuB,qBAA3C;CACA,QAAA,KAAI,CAAC8C,mBAAL,GAA2BjE,QAAQ,CAACJ,IAAT,CAAcqE,mBAAzC;CACA,QAAA,KAAI,CAACF,KAAL,GAAa/D,QAAQ,CAACJ,IAAT,CAAcmE,KAA3B;CACA,QAAA,KAAI,CAACH,MAAL,GAAc,IAAd;CACA,QAAA,KAAI,CAACC,OAAL,GAAe,KAAf;CAEA,OAfD,EAeG,UAAC7D,QAAD,EAAc,EAfjB;CAkBA;CArBO,GApB2B;CA2CpC7C,EAAAA,QAAQ;CA3C4B,CAA9B;;CCEP,IAAM+G,SAAS,GAAGC,oBAAU,CAACD,SAAX,CAAqB,aAArB,CAAlB;;;;KAEME;CAIL,4BAAYC,MAAZ,EACA;CAAA;;CAAA;;CAAA;CAAA;CAAA;CAAA;;CACC,SAAKC,IAAL,GAAYD,MAAM,CAACE,OAAnB;CACA,SAAKC,mBAAL,GAA2BH,MAAM,CAACG,mBAAP,KAA+B,GAA1D;CACA,SAAKC,YAAL,GAAoB,IAApB;CACA,SAAKC,YAAL,GAAoB,IAApB;CACA,SAAKC,iBAAL,GAAyB,IAAzB;CACA,SAAKC,cAAL,GAAsB,KAAtB;CAEA,SAAKC,YAAL;CAEAxG,IAAAA,eAAK,CAACC,YAAN,CAAmBwG,SAAnB,CAA6B,mDAA7B,EAAkF,UAACC,KAAD,EAAW;CAC5F,MAAA,KAAI,CAACC,UAAL;CACA,KAFD;CAIA3G,IAAAA,eAAK,CAACC,YAAN,CAAmBwG,SAAnB,CAA6B,gDAA7B,EAA+E,UAACC,KAAD,EAAW;CACzF,MAAA,KAAI,CAACH,cAAL,GAAsB,IAAtB;CACA,KAFD;CAGA;;;;oCAGD;CACC,UAAMK,wBAAwB,GAAG,IAAjC;CAEA,oDAAYjH,UAAG,CAACkH,MAAJ,CAAW;CACtBC,QAAAA,EAAE,EAAE,KAAKb,IADa;CAEtB1E,QAAAA,IAFsB,kBAGtB;CACC,iBAAO,EAAP;CACA,SALqB;CAMtB/B,QAAAA,QAAQ,EACR;CACCC,UAAAA,QADD,oBACUC,KADV,EAEC;CACC,mBAAOC,UAAG,CAACC,kBAAJ,CAAuB,6BAAvB,CAAP;CACA;CAJF,SAPsB;CAatBC,QAAAA,OAAO,EAAE;CACRkH,UAAAA,WADQ,uBACKhH,CADL,EAER;CACCiH,YAAAA,YAAY,CAACJ,wBAAwB,CAACR,YAA1B,CAAZ;CACAQ,YAAAA,wBAAwB,CAACR,YAAzB,GAAwC3B,UAAU,CAAC,YAClD;CACCmC,cAAAA,wBAAwB,CAACR,YAAzB,GAAwC,IAAxC;CACAQ,cAAAA,wBAAwB,CAACK,SAAzB,CAAmClH,CAAC,CAACb,MAArC;CACA,aAJgD,EAI9C,GAJ8C,CAAlD;CAMA,WAVO;CAWRgI,UAAAA,UAXQ,wBAYR;CACC,gBAAIN,wBAAwB,CAACR,YAAzB,KAA0C,IAA9C,EACA;CACCY,cAAAA,YAAY,CAACJ,wBAAwB,CAACR,YAA1B,CAAZ;CACAQ,cAAAA,wBAAwB,CAACR,YAAzB,GAAwC,IAAxC;CACA;CACA;;CAEDQ,YAAAA,wBAAwB,CAACP,YAAzB,GAAwC5B,UAAU,CAAC,YAClD;CACC,kBAAI,CAACmC,wBAAwB,CAACL,cAA9B,EACA;CACCK,gBAAAA,wBAAwB,CAACD,UAAzB;CACA;CACD,aANgD,EAM9C,GAN8C,CAAlD;CAQA,WA5BO;CA6BRQ,UAAAA,WA7BQ,uBA6BIpH,CA7BJ,EA8BR;CACC,gBAAI6G,wBAAwB,CAACQ,KAA7B,EACA;CACC,kBAAIR,wBAAwB,CAACQ,KAAzB,CAA+BC,OAA/B,EAAJ,EACA;CACCT,gBAAAA,wBAAwB,CAACD,UAAzB;CACA,eAHD,MAKA;CACCC,gBAAAA,wBAAwB,CAACK,SAAzB,CAAmClH,CAAC,CAACb,MAArC;CACA;CACD;CACD;CA1CO,SAba;CAyDtBJ,QAAAA,QAAQ;CAzDc,OAAX,CAAZ;CAkEA;;;+BAESiC,aACV;CAAA;;CACC,WAAKqG,KAAL,GAAa,IAAIE,GAAG,CAACC,SAAR,CAAkB;CAC9BpD,QAAAA,QAAQ,EAAE,IADoB;CAE9BqD,QAAAA,UAAU,EAAE,IAFkB;CAG9BC,QAAAA,cAAc,EAAE,CAHc;CAI9BC,QAAAA,OAAO,EAAE,CAJqB;CAK9BC,QAAAA,QAAQ,EAAE,GALoB;CAM9BC,QAAAA,SAAS,EAAE,GANmB;CAO9B3G,QAAAA,UAAU,EAAE,CAAC,GAPiB;CAQ9B4G,QAAAA,SAAS,EAAE;CACVC,UAAAA,aAAa,EAAE,wBADL;CAEVC,UAAAA,cAAc,EAAE,yBAFN;CAGVC,UAAAA,kBAAkB,EAAE;CAHV,SARmB;CAa9BxH,QAAAA,SAAS,EAAE,mBAbmB;CAc9B;CACAW,QAAAA,KAAK,EAAE;CAAE8G,UAAAA,QAAQ,EAAE,KAAZ;CAAmBC,UAAAA,MAAM,EAAE;CAA3B,SAfuB;CAgB9BnH,QAAAA,WAAW,EAAEA,WAhBiB;CAiB9BiD,QAAAA,OAAO,EAAE,KAAKmE,kBAAL,EAjBqB;CAkB9B5D,QAAAA,MAAM,EAAE;CACP6D,UAAAA,YAAY,EAAE,wBAAM;CACnB,YAAA,MAAI,CAAChB,KAAL,CAAW9H,OAAX;CACA;CAHM;CAlBsB,OAAlB,CAAb;CAyBA,WAAK+I,UAAL;CACA,WAAKjB,KAAL,CAAWhI,IAAX;CACA;;;kCAGD;CAAA;;CACC,WAAKgI,KAAL,CAAWkB,iBAAX,GAA+BC,gBAA/B,CAAgD,YAAhD,EAA8D,YAC9D;CACCvB,QAAAA,YAAY,CAAC,MAAI,CAACZ,YAAN,CAAZ;CACAY,QAAAA,YAAY,CAAC,MAAI,CAACX,YAAN,CAAZ;CACAW,QAAAA,YAAY,CAAC,MAAI,CAACV,iBAAN,CAAZ;CACA,OALD;CAOA,WAAKc,KAAL,CAAWkB,iBAAX,GAA+BC,gBAA/B,CAAgD,YAAhD,EAA8D,UAAC7B,KAAD,EAC9D;CACC,QAAA,MAAI,CAACJ,iBAAL,GAAyB7B,UAAU,CAAC,YAAM;CACzC,cAAI,CAAC,MAAI,CAAC8B,cAAV,EACA;CACC,YAAA,MAAI,CAACI,UAAL;CACA;CACD,SALkC,EAKhC,GALgC,CAAnC;CAOA,OATD;CAUA;;;0CAGD;CACC,UAAMC,wBAAwB,GAAG,IAAjC;CAEA,UAAI5C,OAAO,GAAGrE,UAAG,CAACkH,MAAJ,CAAW;CACxBC,QAAAA,EAAE,EAAEtE,QAAQ,CAACgG,aAAT,CAAuB,KAAvB,CADoB;CAExB3G,QAAAA,UAAU,EAAE;CAACyD,UAAAA,qBAAqB,EAArBA;CAAD,SAFY;CAGxB/D,QAAAA,IAHwB,kBAIxB;CACC,iBAAO;CACN4E,YAAAA,mBAAmB,EAAES,wBAAwB,CAACT;CADxC,WAAP;CAGA,SARuB;CASxB3G,QAAAA,QAAQ,EAAE;CACTC,UAAAA,QADS,oBACAC,KADA,EAET;CACC,mBAAOC,UAAG,CAACC,kBAAJ,CAAuB,6BAAvB,CAAP;CACA;CAJQ,SATc;CAexBd,QAAAA,QAAQ;CAfgB,OAAX,CAAd;CAqBA,aAAOkF,OAAO,CAAC7E,GAAf;CACA;;;kCAGD;CACC,UAAI,KAAKiI,KAAT,EACA;CACC,aAAKA,KAAL,CAAWxG,KAAX;CACA;CACD;;;;;CAGFiF,SAAS,CAACE,gBAAV,GAA6BA,gBAA7B;;;;"}