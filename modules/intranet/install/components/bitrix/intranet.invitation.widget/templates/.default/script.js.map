{"version":3,"file":"script.js","sources":["src/components/loader.js","src/components/content.js","src/components/popup-wrapper.js","src/index.js"],"sourcesContent":["import {Loader} from \"main.loader\";\n\nexport const LoaderComponent = {\n\tprops: {\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 85,\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div></div>\n\t`,\n\tmounted()\n\t{\n\t\tthis.loader = new Loader({\n\t\t\ttarget: this.$el,\n\t\t\tsize: this.size,\n\t\t});\n\t\tthis.loader.show();\n\t},\n\tbeforeDestroy()\n\t{\n\t\tthis.loader.destroy();\n\t},\n};","import {Vue} from 'ui.vue';\nimport {Text, Type, Event} from \"main.core\";\n\nexport const ContentComponent = {\n\tprops: [\n\t\t\"invitationLink\",\n\t\t\"structureLink\",\n\t\t\"users\",\n\t\t\"isInvitationAvailable\",\n\t],\n\tcomputed: {\n\t\tlocalize(state)\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('INTRANET_INVITATION_WIDGET_');\n\t\t}\n\t},\n\tmethods: {\n\t\tshowInvitationSlider()\n\t\t{\n\t\t\tif (this.isInvitationAvailable)\n\t\t\t{\n\t\t\t\tBX.SidePanel.Instance.open(this.invitationLink, {cacheable: false, allowChangeHistory: false, width: 1100});\n\t\t\t\tEvent.EventEmitter.emit('BX.Intranet.InvitationWidget:showInvitationSlider');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.showHintPopup(\n\t\t\t\t\tBX.message(\"INTRANET_INVITATION_WIDGET_DISABLED_TEXT\"),\n\t\t\t\t\tdocument.querySelector(\"[data-role='invitationPopupButton']\")\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tshowHintPopup(message, bindNode)\n\t\t{\n\t\t\tif (!Type.isDomNode(bindNode) || !message)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnew BX.PopupWindow('inviteHint' + Text.getRandom(8), bindNode, {\n\t\t\t\tcontent: message,\n\t\t\t\tzIndex: 15000,\n\t\t\t\tangle: true,\n\t\t\t\toffsetTop: 0,\n\t\t\t\toffsetLeft: 50,\n\t\t\t\tcloseIcon: false,\n\t\t\t\tautoHide: true,\n\t\t\t\tdarkMode: true,\n\t\t\t\toverlay: false,\n\t\t\t\tmaxWidth: 400,\n\t\t\t\tevents: {\n\t\t\t\t\tonAfterPopupShow: function () {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tthis.close();\n\t\t\t\t\t\t}.bind(this), 4000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).show();\n\t\t},\n\t\tsendAnalytics(code)\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.invitationwidget.analyticsLabel\", {\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\thelperCode: code,\n\t\t\t\t\theaderPopup: \"Y\"\n\t\t\t\t}\n\t\t\t}).then((response) => {}, (response) => {});\n\t\t},\n\t\tshowInvitationHelper()\n\t\t{\n\t\t\tconst code = \"limit_why_team_invites\";\n\n\t\t\tBX.UI.InfoHelper.show(code);\n\t\t\tthis.sendAnalytics(code);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"license-widget license-widget--invite\">\n\t\t\t<div class=\"license-widget-item license-widget-item--main\">\n\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t<div class=\"license-widget-item-icon license-widget-item-icon--invite\"></div>\n\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t<span>{{ localize.INTRANET_INVITATION_WIDGET_INVITE_EMPLOYEE }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"license-widget-item-link\">\n\t\t\t\t\t\t\t<span class=\"license-widget-item-link-text\" @click=\"showInvitationHelper\">\n\t\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_DESC }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<a \n\t\t\t\t\tdata-role=\"invitationPopupButton\"\n\t\t\t\t\tclass=\"license-widget-item-btn license-widget-item-btn--invite\"\n\t\t\t\t\t@click=\"showInvitationSlider\" \n\t\t\t\t> \n\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_INVITE }} \n\t\t\t\t</a>\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"license-widget-block\">\n\t\t\t\t<div class=\"license-widget-item license-widget-item--company license-widget-item--active\">\n\t\t\t\t\t<div class=\"license-widget-item-logo\"></div>\n\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t<span>{{ localize.INTRANET_INVITATION_WIDGET_STRUCTURE }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a :href=\"structureLink\" class=\"license-widget-item-btn\"> \n\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_EDIT }} \n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div \n\t\t\t\t\tclass=\"license-widget-item license-widget-item--emp\"\n\t\t\t\t\t:class=\"{ 'license-widget-item--emp-alert' : users.isLimit }\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"license-widget-inner\">\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tclass=\"license-widget-item-progress\"\n\t\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t\tusers.isLimit \n\t\t\t\t\t\t\t\t? 'license-widget-item-progress--crit' \n\t\t\t\t\t\t\t\t: 'license-widget-item-progress--full'\n\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div class=\"license-widget-item-content\">\n\t\t\t\t\t\t\t<div class=\"license-widget-item-name\">\n\t\t\t\t\t\t\t\t<span>{{ localize.INTRANET_INVITATION_WIDGET_EMPLOYEES }}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"license-widget-item-num\">\n\t\t\t\t\t\t\t\t{{ users.currentUserCountMessage }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!--<div class=\"license-widget-item-menu\"></div>-->\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"license-widget-item-detail\">\n\t\t\t\t\t\t<span \n\t\t\t\t\t\t\tv-if=\"users.maxUserCount == 0\" \n\t\t\t\t\t\t\tkey=\"employeeCount\"\n\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_EMPLOYEES_NO_LIMIT }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span \n\t\t\t\t\t\t\tv-else-if=\"users.isLimit\"\n\t\t\t\t\t\t\tkey=\"employeeCount\" \n\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ localize.INTRANET_INVITATION_WIDGET_EMPLOYEES_LIMIT }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span \n\t\t\t\t\t\t\tv-else-if=\"!users.isLimit\" \n\t\t\t\t\t\t\tkey=\"employeeCount\"\n\t\t\t\t\t\t\tclass=\"license-widget-item-link-text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ users.leftCountMessage }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import {LoaderComponent} from \"./loader\";\nimport {ContentComponent} from \"./content\";\n\nexport const PopupWrapperComponent = {\n\tcomponents: {LoaderComponent, ContentComponent},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tloaded: false,\n\t\t\tloading: true,\n\t\t\tinvitationLink: \"\",\n\t\t\tstructureLink: \"\",\n\t\t\tisInvitationAvailable: true,\n\t\t\tusers: [],\n\t\t};\n\t},\n\tmounted()\n\t{\n\t\tthis.getData();\n\t},\n\tmethods: {\n\t\tgetData(event = {})\n\t\t{\n\t\t\tBX.ajax.runAction(\"intranet.invitationwidget.getData\", {\n\t\t\t\tdata: {},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\theaderPopup: \"Y\"\n\t\t\t\t}\n\t\t\t}).then((response) => {\n\n\t\t\t\tthis.invitationLink = response.data.invitationLink;\n\t\t\t\tthis.structureLink = response.data.structureLink;\n\t\t\t\tthis.isInvitationAvailable = response.data.isInvitationAvailable;\n\t\t\t\tthis.users = response.data.users;\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.loading = false;\n\n\t\t\t}, (response) => {\n\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div>\n\t\t\t<LoaderComponent v-if=\"loading\" :size=\"100\" />\n\t\t\t<ContentComponent \n\t\t\t\tv-if=\"!loading && loaded\"\n\t\t\t\t:invitationLink=\"invitationLink\"\n\t\t\t\t:structureLink=\"structureLink\"\n\t\t\t\t:isInvitationAvailable=\"isInvitationAvailable\"\n\t\t\t\t:users=\"users\"\n\t\t\t>\n\t\t\t</ContentComponent>\n\t\t</div>\n\t`,\n};","import {Reflection, Event} from 'main.core';\nimport {Vue} from 'ui.vue';\nimport {Popup} from \"main.popup\";\nimport {PopupWrapperComponent} from \"./components/popup-wrapper\";\n\nconst namespace = Reflection.namespace('BX.Intranet');\n\nclass InvitationWidget\n{\n\t#vue: Vue;\n\n\tconstructor(params)\n\t{\n\t\tthis.node = params.wrapper;\n\t\tthis.enterTimeout = null;\n\t\tthis.leaveTimeout = null;\n\t\tthis.popupLeaveTimeout = null;\n\n\t\tthis.renderButton();\n\n\t\tEvent.EventEmitter.subscribe('BX.Intranet.InvitationWidget:showInvitationSlider', (event) => {\n\t\t\tthis.closePopup();\n\t\t});\n\t}\n\n\trenderButton()\n\t{\n\t\tconst InvitationWidgetInstance = this;\n\n\t\tthis.#vue = Vue.create({\n\t\t\tel: this.node,\n\t\t\tdata()\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t},\n\t\t\tcomputed:\n\t\t\t{\n\t\t\t\tlocalize(state)\n\t\t\t\t{\n\t\t\t\t\treturn Vue.getFilteredPhrases('INTRANET_INVITATION_WIDGET_');\n\t\t\t\t}\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tonMouseOver (e)\n\t\t\t\t{\n\t\t\t\t\tclearTimeout(InvitationWidgetInstance.enterTimeout);\n\t\t\t\t\tInvitationWidgetInstance.enterTimeout = setTimeout(() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tInvitationWidgetInstance.enterTimeout = null;\n\t\t\t\t\t\t\tInvitationWidgetInstance.initPopup(e.target);\n\t\t\t\t\t\t}, 500\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tonMouseOut()\n\t\t\t\t{\n\t\t\t\t\tif (InvitationWidgetInstance.enterTimeout !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tclearTimeout(InvitationWidgetInstance.enterTimeout);\n\t\t\t\t\t\tInvitationWidgetInstance.enterTimeout = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tInvitationWidgetInstance.leaveTimeout = setTimeout(() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tInvitationWidgetInstance.closePopup();\n\t\t\t\t\t\t}, 500\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\ttogglePopup()\n\t\t\t\t{\n\t\t\t\t\tif (InvitationWidgetInstance.popup)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (InvitationWidgetInstance.popup.isShown())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tInvitationWidgetInstance.closePopup();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tInvitationWidgetInstance.popup.show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\ttemplate: `\n\t\t\t\t<button \n\t\t\t\t\tclass=\"ui-btn ui-btn-round license-btn license-btn-primary\" \n\t\t\t\t\t@mouseover=\"onMouseOver\"\n\t\t\t\t\t@mouseout=\"onMouseOut\"\n\t\t\t\t\t@click=\"togglePopup\"\n\t\t\t\t>{{ localize.INTRANET_INVITATION_WIDGET_INVITE }}</button>\n\t\t\t`,\n\t\t});\n\t}\n\n\tinitPopup(bindElement)\n\t{\n\t\tif (!this.popup)\n\t\t{\n\t\t\tthis.popup = new Popup({\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tcontentPadding: 0,\n\t\t\t\tpadding: 0,\n\t\t\t\tminWidth: 350,\n\t\t\t\tminHeight: 220,\n\t\t\t\toffsetLeft: -150,\n\t\t\t\tanimation: {\n\t\t\t\t\tshowClassName: \"popup-with-radius-show\",\n\t\t\t\t\tcloseClassName: \"popup-with-radius-close\",\n\t\t\t\t\tcloseAnimationType: \"animation\"\n\t\t\t\t},\n\t\t\t\tclassName: 'popup-with-radius',\n\t\t\t\tcontentBackground: 'rgba(0,0,0,0)',\n\t\t\t\tangle: { position: 'top', offset: 235 },\n\t\t\t\tbindElement: bindElement,\n\t\t\t\tcontent: this.renderPopupContent(),\n\t\t\t});\n\n\t\t\tthis.initEvents();\n\t\t}\n\n\t\tthis.popup.show();\n\t}\n\n\tinitEvents()\n\t{\n\t\tthis.popup.getPopupContainer().addEventListener('mouseenter', () =>\n\t\t{\n\t\t\tclearTimeout(this.enterTimeout);\n\t\t\tclearTimeout(this.leaveTimeout);\n\t\t\tclearTimeout(this.popupLeaveTimeout);\n\t\t});\n\n\t\tthis.popup.getPopupContainer().addEventListener('mouseleave', (event) =>\n\t\t{\n\t\t\tthis.popupLeaveTimeout = setTimeout(() => {\n\t\t\t\tthis.closePopup();\n\t\t\t}, 500);\n\n\t\t});\n\t}\n\n\trenderPopupContent()\n\t{\n\t\tlet content = Vue.create({\n\t\t\tel: document.createElement('div'),\n\t\t\tcomponents: {PopupWrapperComponent},\n\t\t\tcomputed: {\n\t\t\t\tlocalize(state)\n\t\t\t\t{\n\t\t\t\t\treturn Vue.getFilteredPhrases('INTRANET_INVITATION_WIDGET_');\n\t\t\t\t}\n\t\t\t},\n\t\t\ttemplate: `<PopupWrapperComponent/>`\n\t\t});\n\n\t\treturn content.$el;\n\t}\n\n\tclosePopup()\n\t{\n\t\tif (this.popup)\n\t\t{\n\t\t\tthis.popup.close();\n\t\t}\n\t}\n}\n\nnamespace.InvitationWidget = InvitationWidget;\n"],"names":["LoaderComponent","props","size","type","Number","default","template","mounted","loader","Loader","target","$el","show","beforeDestroy","destroy","ContentComponent","computed","localize","state","Vue","getFilteredPhrases","methods","showInvitationSlider","isInvitationAvailable","BX","SidePanel","Instance","open","invitationLink","cacheable","allowChangeHistory","width","Event","EventEmitter","emit","showHintPopup","message","document","querySelector","bindNode","Type","isDomNode","PopupWindow","Text","getRandom","content","zIndex","angle","offsetTop","offsetLeft","closeIcon","autoHide","darkMode","overlay","maxWidth","events","onAfterPopupShow","setTimeout","close","bind","sendAnalytics","code","ajax","runAction","data","analyticsLabel","helperCode","headerPopup","then","response","showInvitationHelper","UI","InfoHelper","PopupWrapperComponent","components","loaded","loading","structureLink","users","getData","namespace","Reflection","InvitationWidget","params","node","wrapper","enterTimeout","leaveTimeout","popupLeaveTimeout","renderButton","subscribe","event","closePopup","InvitationWidgetInstance","create","el","onMouseOver","e","clearTimeout","initPopup","onMouseOut","togglePopup","popup","isShown","bindElement","Popup","closeByEsc","contentPadding","padding","minWidth","minHeight","animation","showClassName","closeClassName","closeAnimationType","className","contentBackground","position","offset","renderPopupContent","initEvents","getPopupContainer","addEventListener","createElement"],"mappings":"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"}