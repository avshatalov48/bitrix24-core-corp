(function(){var e=BX.namespace("BX.Intranet.UserProfile");if(e.Settings){return}BX.Intranet.UserProfile.Settings={init:function(e){this.signedParameters=e.signedParameters;this.componentName=e.componentName;var t=document.querySelector("[data-role='fieldsCloseBtn']");if(BX.type.isDomNode(t)){BX.bind(t,"click",function(){this.closeSlider()}.bind(this))}var i=document.querySelector("[data-role='fieldsSaveBtn']");if(BX.type.isDomNode(i)){BX.bind(i,"click",function(){this.saveSettings(i)}.bind(this))}},saveSettings:function(e){BX.addClass(e,"ui-btn-wait");var t=document.forms["profileFieldsSettingsForm"];var i=[];var n=[];if(t){var a=t.querySelector("[data-name='fieldsView']");if(BX.type.isDomNode(a)){i=JSON.parse(a.getAttribute("data-value"))}var s=t.querySelector("[data-name='fieldsEdit']");if(BX.type.isDomNode(s)){n=JSON.parse(s.getAttribute("data-value"))}}BX.ajax.runComponentAction(this.componentName,"fieldsSettings",{signedParameters:this.signedParameters,mode:"ajax",data:{fieldsView:i,fieldsEdit:n}}).then(function(t){if(t.data===true){location.reload()}else{BX.removeClass(e,"ui-btn-wait");this.closeSlider()}}.bind(this),function(t){BX.removeClass(e,"ui-btn-wait");this.closeSlider()}.bind(this))},closeSlider:function(){BX.SidePanel.Instance.close()}}})();
//# sourceMappingURL=script.map.js