(function(){var e=BX.namespace("BX.Intranet.UserProfile");if(e.Manager){return}e.Manager=function(e){this.init(e)};e.Manager.prototype={init:function(t){this.signedParameters=t.signedParameters;this.componentName=t.componentName;this.canEditProfile=t.canEditProfile==="Y";this.userId=t.userId||"";this.userStatus=t.userStatus||"";this.isIntegratorUser=t.isIntegratorUser==="Y";this.isOwnProfile=t.isOwnProfile==="Y";this.isSessionAdmin=t.isSessionAdmin==="Y";this.urls=t.urls;this.isExtranetUser=t.isExtranetUser==="Y";this.adminRightsRestricted=t.adminRightsRestricted==="Y";this.delegateAdminRightsRestricted=t.delegateAdminRightsRestricted==="Y";this.isFireUserEnabled=t.isFireUserEnabled==="Y";this.showSonetAdmin=t.showSonetAdmin==="Y";this.languageId=t.languageId;this.initialFields=t.initialFields;this.siteId=t.siteId;this.isCloud=t.isCloud==="Y";this.isRusCloud=t.isRusCloud==="Y";this.isCurrentUserIntegrator=t.isCurrentUserIntegrator==="Y";this.personalMobile=this.initialFields["PERSONAL_MOBILE"];this.isCurrentUserAdmin=t.isCurrentUserAdmin;this.avatarUri=BX.type.isNotEmptyString(this.initialFields.PHOTO)?this.initialFields.PHOTO:null;this.userpicUploadAttribute=t.userpicUploadAttribute??"";this.entityEditorInstance=new e.EntityEditor({managerInstance:this,params:t});BX.ready(function(){this.tagsManagerInstance=new e.Tags({managerInstance:this,inputNode:document.getElementById("intranet-user-profile-tags-input"),tagsNode:document.getElementById("intranet-user-profile-tags")});this.stressLevelManagerInstance=new e.StressLevel({managerInstance:this,options:t});this.gratsManagerInstance=new e.Grats({managerInstance:this,options:t});this.profilePostManagerInstance=new e.ProfilePost({managerInstance:this,options:t});this.initAvatar();this.initAvailableActions();this.initAvatarLoader();if(this.isCloud){this.initGdpr()}var i=BX("intranet-user-profile-subordinate-more");if(BX.type.isDomNode(i)){BX.bind(i,"click",function(){this.loadMoreUsers(i)}.bind(this))}var o=BX("intranet-user-profile-manages-more");if(BX.type.isDomNode(i)){BX.bind(o,"click",function(){this.loadMoreUsers(o)}.bind(this))}var n=document.querySelector(".intranet-user-profile-bottom-controls");var s=document.getElementById("intranet-user-profile_buttons");if(BX.type.isDomNode(n)&&BX.type.isDomNode(s)){var r=s.querySelector(".ui-entity-settings-link");r.setAttribute("class","ui-btn ui-btn-sm ui-btn-light-border ui-btn-themes");s.parentNode.removeChild(s);n.appendChild(r)}}.bind(this))},initAvatar(){const e={size:212,userpicPath:this.avatarUri};if(this.userStatus==="collaber"){this.avatar=new BX.UI.AvatarRoundGuest(e)}else if(this.userStatus==="extranet"){this.avatar=new BX.UI.AvatarRoundExtranet(e)}else{this.avatar=new BX.UI.AvatarRound(e)}const t=BX.Tag.render`<div class="intranet-user-profile-photo" id="intranet-user-profile-photo"></div>`;this.avatar.renderTo(t);const i=BX("intranet-user-profile-userpic-avatar");BX.Dom.append(t,i);if(this.canEditProfile||this.isOwnProfile){BX.Dom.append(this.getAvatarEditorButtons(),i);BX.Dom.append(this.getAvatarRemoveButton(),i)}},getAvatarEditorButtons(){return BX.Tag.render`
				<div class="intranet-user-profile-userpic-load">
					<div class="intranet-user-profile-userpic-create" id="intranet-user-profile-photo-camera">
						${BX.message("INTRANET_USER_PROFILE_AVATAR_CAMERA")}
					</div>
					<div class="intranet-user-profile-userpic-upload" id="intranet-user-profile-photo-file" ${this.userpicUploadAttribute}>
						${BX.message("INTRANET_USER_PROFILE_AVATAR_LOAD")}
					</div>
				</div>
			`},getAvatarRemoveButton(){return BX.Tag.render`
				<div class="intranet-user-profile-userpic-remove" id="intranet-user-profile-photo-remove"
					${this.initialFields.PERSONAL_PHOTO?"":"hidden"}>
				</div>
			`},initAvailableActions:function(){if(!this.canEditProfile){return}var e=document.querySelector("[data-role='user-profile-actions-button']");if(BX.type.isDomNode(e)){BX.bind(e,"click",BX.proxy((function(){this.showActionPopup(BX.proxy_context)}),this))}},initGdpr:function(){var e=document.querySelectorAll("[data-role='gdpr-input']");e.forEach(function(e,t,i){BX.bind(e,"change",function(){this.changeGdpr(e)}.bind(this))}.bind(this));var t=document.querySelector(".intranet-user-profile-column-block-title-dropdown");BX.bind(t,"click",function(){this.animateGdprBlock(t)}.bind(this))},initAvatarLoader:function(){if(BX("intranet-user-profile-photo-camera")&&BX("intranet-user-profile-photo-file")){if(BX.AvatarEditor){setTimeout((function(){if(BX.AvatarEditor.isCameraAvailable()!==true){BX.hide(BX("intranet-user-profile-photo-camera"))}}),0);var e=function(){var e=BX.AvatarEditor.getInstanceById("intranet-user-profile-photo-file");if(e===null){e=BX.AvatarEditor.createInstance("intranet-user-profile-photo-file",{enableCamera:true,enableMask:true});e.subscribeOnFormIsReady("newPhoto",this.changePhoto.bind(this))}return e}.bind(this);BX.bind(BX("intranet-user-profile-photo-camera"),"click",(function(){e().show("camera")}));BX.bind(BX("intranet-user-profile-photo-file"),"click",(function(){e().show("file")}));BX.bind(BX("intranet-user-profile-photo-mask"),"click",(function(){e().show("mask")}))}else{BX.hide(BX("intranet-user-profile-photo-camera"));BX.hide(BX("intranet-user-profile-photo-file"));BX.hide(BX("intranet-user-profile-photo-mask"))}}BX.bind(BX("intranet-user-profile-photo-remove"),"click",(()=>{if(this.avatar.picPath){this.showConfirmPopup(BX.message("INTRANET_USER_PROFILE_PHOTO_DELETE_CONFIRM"),this.deletePhoto.bind(this))}}))},showActionPopup:function(e){var t=[];if(this.showSonetAdmin){t.push({text:BX.message(this.isSessionAdmin?"INTRANET_USER_PROFILE_QUIT_ADMIN_MODE":"INTRANET_USER_PROFILE_ADMIN_MODE"),className:"menu-popup-no-icon",onclick:function(){this.popupWindow.close();__SASSetAdmin()}})}if(this.userStatus==="admin"&&this.canEditProfile&&!this.isOwnProfile){t.push({text:BX.message("INTRANET_USER_PROFILE_REMOVE_ADMIN_RIGHTS"),className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();this.removeAdminRights()}),this)})}if(this.userStatus==="employee"&&this.canEditProfile&&!this.isOwnProfile&&!this.isCurrentUserIntegrator){var i=BX.message("INTRANET_USER_PROFILE_SET_ADMIN_RIGHTS");if(this.delegateAdminRightsRestricted){i+="<span class='intranet-user-profile-lock-icon'></span>"}t.push({html:i,onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();if(this.adminRightsRestricted){if(this.delegateAdminRightsRestricted){top.BX.UI.InfoHelper.show("limit_admin_admins")}else{this.showConfirmPopup(BX.message("INTRANET_USER_PROFILE_MOVE_ADMIN_RIGHTS_CONFIRM"),this.setAdminRights.bind(this))}}else if(this.isCloud){this.getAdminConfirmPopup().show()}else{this.setAdminRights()}}),this)})}if(this.isCurrentUserAdmin==="Y"&&this.userStatus!=="fired"&&this.userStatus!=="waiting"&&!this.isOwnProfile&&!BX.util.in_array(this.userStatus,["email","shop"])){i=BX.message("INTRANET_USER_PROFILE_FIRE");if(!this.isFireUserEnabled&&!this.isIntegratorUser){i+="<span class='intranet-user-profile-lock-icon'></span>"}t.push({text:i,className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();if(!this.isFireUserEnabled&&!this.isIntegratorUser){top.BX.UI.InfoHelper.show("limit_dismiss")}else{this.showConfirmPopup(BX.message("INTRANET_USER_PROFILE_FIRE_CONFIRM"),this.fireUser.bind(this))}}),this)})}if(this.isCurrentUserAdmin==="Y"&&this.userStatus==="fired"&&!this.isOwnProfile){t.push({text:BX.message("INTRANET_USER_PROFILE_HIRE"),className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();this.showConfirmPopup(BX.message("INTRANET_USER_PROFILE_HIRE_CONFIRM"),this.hireUser.bind(this))}),this)})}if(this.isCurrentUserAdmin==="Y"&&this.userStatus==="waiting"&&!this.isOwnProfile){t.push({text:BX.message("INTRANET_USER_PROFILE_ACTION_CONFIRM"),className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();this.confirmUserRequest("Y")}),this)});t.push({text:BX.message("INTRANET_USERPROFILE_ACTION_REFUSE"),className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();this.confirmUserRequest("N")}),this)})}if(this.userStatus==="invited"&&this.canEditProfile&&!this.isOwnProfile){t.push({text:BX.message("INTRANET_USER_PROFILE_REINVITE"),className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();this.reinviteUser()}),this)});t.push({text:BX.message("INTRANET_USER_PROFILE_DELETE"),className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();this.showConfirmPopup(BX.message("INTRANET_USER_PROFILE_DELETE_CONFIRM"),this.deleteUser.bind(this))}),this)})}if(this.isExtranetUser&&this.canEditProfile&&!this.isOwnProfile&&this.isCloud){t.push({text:BX.message("INTRANET_USER_PROFILE_MOVE_TO_INTRANET"),className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();this.moveToIntranet()}),this)})}if(this.isCloud&&this.canEditProfile&&!this.isOwnProfile&&!this.isIntegratorUser&&this.userStatus!=="fired"&&this.userStatus!=="waiting"){t.push({text:BX.message("INTRANET_USER_PROFILE_SET_INEGRATOR_RIGHTS"),className:"menu-popup-no-icon",onclick:BX.proxy((function(){BX.proxy_context.popupWindow.close();this.showConfirmPopup(BX.message("INTRANET_USER_PROFILE_SET_INTEGRATOR_RIGHTS_CONFIRM"),this.setIntegratorRights.bind(this))}),this)})}BX.PopupMenu.show("user-profile-action-popup",e,t,{offsetTop:0,offsetLeft:10,angle:true,events:{onPopupClose:function(){BX.PopupMenu.destroy()}}})},showConfirmPopup:function(e,t){BX.PopupWindowManager.create({id:"intranet-user-profile-confirm-popup",content:BX.create("div",{props:{style:"max-width: 450px"},html:e}),closeIcon:false,lightShadow:true,offsetLeft:100,overlay:true,contentPadding:10,buttons:[new BX.UI.CreateButton({text:BX.message("INTRANET_USER_PROFILE_YES"),events:{click:function(e,i){t();i.stopPropagation();this.context.close()}}}),new BX.UI.CancelButton({text:BX.message("INTRANET_USER_PROFILE_NO"),events:{click:function(){this.context.close()}}})],events:{onPopupClose:function(){this.destroy()}}}).show()},getAdminConfirmPopup:function(){const e=BX.PopupWindowManager.create({id:"intranet-user-profile-admin-confirm-popup",content:BX.create("div",{props:{style:"max-width: 450px"},html:BX.message("INTRANET_USER_PROFILE_MOVE_ADMIN_RIGHTS_SECURITY_CONFIRM_DESCRIPTION_MSGVER_1")}),closeIcon:false,lightShadow:true,offsetLeft:100,overlay:true,titleBar:BX.message("INTRANET_USER_PROFILE_MOVE_ADMIN_RIGHTS_SECURITY_CONFIRM_TITLE"),contentPadding:10,buttons:[new BX.UI.CreateButton({text:BX.message("INTRANET_USER_PROFILE_CONFIRM_YES_MSGVER_1"),events:{click:(t,i)=>{this.setAdminRights();i.stopPropagation();e.close()}}}),new BX.UI.CreateButton({text:BX.message("INTRANET_USER_PROFILE_CONFIRM_YES_INTEGRATOR"),events:{click:()=>{this.setIntegratorRights();e.close()}}}),new BX.UI.CancelButton({text:BX.message("INTRANET_USER_PROFILE_CONFIRM_NO_MSGVER_1"),events:{click:()=>{e.close()}}})],events:{onPopupClose:()=>{e.destroy()}}});return e},showFireInvitedUserPopup:function(e){BX.PopupWindowManager.create({id:"intranet-user-profile-fire-invited-popup",content:BX.create("div",{props:{style:"max-width: 450px"},html:BX.message("INTRANET_USER_PROFILE_FIRE_INVITED_USER")}),closeIcon:true,lightShadow:true,offsetLeft:100,overlay:false,contentPadding:10,buttons:[new BX.UI.CreateButton({text:BX.message("INTRANET_USER_PROFILE_YES"),events:{click:function(t){t.setWaiting();this.context.close();e()}}}),new BX.UI.CancelButton({text:BX.message("INTRANET_USER_PROFILE_NO"),events:{click:function(){this.context.close()}}})]}).show()},showIntegratorPartnerErrorPopup:function(){const e=BX.PopupWindowManager.create("popup-message",null,{id:"intranet-user-profile-error-popup",content:BX.create("div",{props:{style:"max-width: 450px"},html:BX.message("INTRANET_USER_PROFILE_INTEGRATOR_ERROR_NOT_PARTNER")}),closeIcon:false,lightShadow:true,offsetLeft:100,overlay:true,contentPadding:10,buttons:[new BX.UI.CreateButton({text:BX.message("INTRANET_USER_PROFILE_INTEGRATOR_ERROR_NOT_PARTNER_CLOSE"),events:{click(){this.context.close()}}})]});e.show()},showErrorPopup:function(e){if(!e){return}BX.PopupWindowManager.create({id:"intranet-user-profile-error-popup",content:BX.create("div",{props:{style:"max-width: 450px"},html:e}),closeIcon:true,lightShadow:true,offsetLeft:100,overlay:false,contentPadding:10}).show()},loadMoreUsers:function(e){if(!BX.type.isDomNode(e)){return}var t=e.parentNode;var i=t.querySelectorAll("[data-role='user-profile-item']");var o=i.length;for(var n=0;n<4&&n<o;n++){i[n].style.display="inline-block";i[n].setAttribute("data-role","")}if(o-4<=0){e.style.display="none"}else{BX.findChild(e).innerHTML=o-4}},changePhoto(e){const t=e.getData().form;const i=this.showLoader({node:BX("intranet-user-profile-photo"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"loadPhoto",{signedParameters:this.signedParameters,mode:"ajax",data:t}).then((e=>{if(e.data){(top||window).BX.onCustomEvent("BX.Intranet.UserProfile:Avatar:changed",[{userId:this.userId,url:e.data}]);this.avatar.setUserPic(encodeURI(e.data))}this.hideLoader({loader:i})})).catch((e=>{this.hideLoader({loader:i});this.showErrorPopup(e.errors[0].message)}));BX("intranet-user-profile-photo-remove").hidden=false},deletePhoto(){const e=this.showLoader({node:BX("intranet-user-profile-photo"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"deletePhoto",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then((t=>{this.avatar.removeUserPic();this.hideLoader({loader:e});BX("intranet-user-profile-photo-remove").hidden=true})).catch((t=>{this.hideLoader({loader:e});this.showErrorPopup(t.errors[0].message)}))},setAdminRights:function(){var e=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"setAdminRights",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then(function(t){if(t.data===true){BX.SidePanel.Instance.postMessageTop(window,"userProfileSlider::reloadList",{});location.reload()}else{this.hideLoader({loader:e});BX.UI.Notification.Center.notify({content:"Error",position:"top-right",autoHideDelay:1e4});BX.PopupWindowManager.getPopupById("intranet-user-profile-confirm-popup").close()}}.bind(this)).catch(function(t){this.hideLoader({loader:e});BX.UI.Notification.Center.notify({content:t["errors"][0].message,position:"top-right",autoHideDelay:1e4});BX.PopupWindowManager.getPopupById("intranet-user-profile-confirm-popup").close()}.bind(this))},setIntegratorRights:function(){var e=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"setIntegratorRights",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then((function(t){if(t.data===true){location.reload()}else{this.hideLoader({loader:e});this.showErrorPopup("Error")}}),function(t){this.hideLoader({loader:e});if(t["errors"][0].code==="INTEGRATOR_ERROR_NOT_PARTNER"){this.showIntegratorPartnerErrorPopup()}else{this.showErrorPopup(t["errors"][0].message)}}.bind(this))},removeAdminRights:function(){var e=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"removeAdminRights",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then((function(t){if(t.data===true){BX.SidePanel.Instance.postMessageTop(window,"userProfileSlider::reloadList",{});location.reload()}else{this.hideLoader({loader:e});this.showErrorPopup("Error")}}),function(t){this.hideLoader({loader:e});this.showErrorPopup(t["errors"][0].message)}.bind(this))},fireUser:function(){var e=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"fireUser",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then((function(t){if(t.data===true){BX.SidePanel.Instance.postMessageTop(window,"userProfileSlider::reloadList",{});location.reload()}else{this.hideLoader({loader:e});this.showErrorPopup("Error")}}),function(t){this.hideLoader({loader:e});this.showErrorPopup(t["errors"][0].message)}.bind(this))},hireUser:function(){var e=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"hireUser",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then((function(t){if(t.data===true){location.reload()}else{this.hideLoader({loader:e});this.showErrorPopup("Error")}}),function(t){this.hideLoader({loader:e})}.bind(this))},confirmUserRequest:function(e){const t=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runAction("intranet.controller.invite.confirmUserRequest",{signedParameters:this.signedParameters,data:{userId:this.userId,isAccept:e}}).then((function(i){if(i.data===true){if(e!=="Y"){BX.SidePanel.Instance.postMessageTop(window,"userProfileSlider::reloadList",{});BX.SidePanel.Instance.close()}else{location.reload()}}else{this.hideLoader({loader:t});this.showErrorPopup("Error")}}),function(e){this.hideLoader({loader:t})}.bind(this))},deleteUser:function(){var e=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runComponentAction(this.componentName,"deleteUser",{signedParameters:this.signedParameters,mode:"ajax",data:{}}).then((function(t){if(t.data===true){BX.SidePanel.Instance.postMessageTop(window,"userProfileSlider::reloadList",{});BX.SidePanel.Instance.close()}else{this.hideLoader({loader:e});this.showErrorPopup("Error")}}),function(t){this.hideLoader({loader:e});this.showFireInvitedUserPopup(this.fireUser.bind(this))}.bind(this))},reinviteUser:function(){var e=this.showLoader({node:BX("intranet-user-profile-wrap"),loader:null,size:100});BX.ajax.runAction("intranet.controller.invite.reinvite",{data:{params:{userId:this.userId,extranet:this.isExtranetUser=="Y"?"Y":"N"}}}).then(function(t){this.hideLoader({loader:e});if(t.data.result){BX.PopupWindowManager.create("intranet-user-profile-invited-popup",null,{content:"<p>"+BX.message("INTRANET_USER_PROFILE_REINVITE_SUCCESS")+"</p>",offsetLeft:27,offsetTop:7,autoHide:true}).show();BX.SidePanel.Instance.postMessageTop(window,"BX.Bitrix24.EmailConfirmation:showPopup")}}.bind(this),function(t){this.hideLoader({loader:e})}.bind(this))},moveToIntranet:function(e){if(e!==true)e=false;BX.PopupWindowManager.create("BXExtranet2Intranet",null,{autoHide:false,zIndex:0,offsetLeft:0,offsetTop:0,overlay:true,draggable:{restrict:true},closeByEsc:true,titleBar:BX.message("INTRANET_USER_PROFILE_MOVE_TO_INTRANET_TITLE"),closeIcon:false,width:"auto",buttons:[new BX.UI.CreateButton({text:BX.message("INTRANET_USER_PROFILE_MOVE"),events:{click:BX.proxy((function(){var t=BX.proxy_context;BX.addClass(t.button,"ui-btn-wait");var i=BX("moveToIntranetForm");if(BX.type.isDomNode(i)){BX.ajax.runComponentAction(this.componentName,"moveToIntranet",{signedParameters:this.signedParameters,mode:"ajax",data:{departmentId:BX("toIntranetDepartment").value,isEmail:e?"Y":"N"}}).then((function(e){if(e.data){t.context.setContent(e.data);t.context.setButtons([new BX.UI.CloseButton({events:{click:function(){location.reload()}}})])}}),function(e){BX.removeClass(t.button,"ui-btn-wait");var i=BX("moveToIntranetForm");if(BX.type.isDomNode(i)&&!BX("moveToIntranetError")){var o=BX.create("div",{attrs:{id:"moveToIntranetError",class:"ui-alert ui-alert-danger ui-alert-icon-danger"},children:[BX.create("span",{attrs:{class:"ui-alert-message"},html:e["errors"][0].message})]});i.insertBefore(o,BX.findChild(i))}}.bind(this))}}),this)}}),new BX.UI.CancelButton({events:{click:function(){this.context.close()}}})],events:{onAfterPopupShow:BX.proxy((function(){var t=BX.proxy_context;t.setContent('<div style="width:450px;height:230px"></div>');var i=this.showLoader({node:t.contentContainer,loader:null,size:100});BX.ajax.post("/bitrix/tools/b24_extranet2intranet.php",{USER_ID:this.userId,IS_EMAIL:e?"Y":"N"},BX.proxy((function(e){this.hideLoader({loader:i});t.setContent(e)}),this))}),this)}}).show()},showLoader:function(e){var t=null;if(e.node){if(e.loader===null){t=new BX.Loader({target:e.node,size:e.hasOwnProperty("size")?e.size:40})}else{t=e.loader}t.show()}return t},hideLoader:function(e){if(e.loader!==null){e.loader.hide()}if(e.node){BX.cleanNode(e.node)}if(e.loader!==null){e.loader=null}},processSliderCloseEvent:function(e){BX.addCustomEvent("SidePanel.Slider:onMessage",function(t){if(t.getSlider()!=BX.SidePanel.Instance.getSliderByWindow(window)){return}if(t.getEventId()!="SidePanel.Wrapper:onClose"){return}var i=t.getData();if(!BX.type.isNotEmptyObject(i.sliderData)){return}var o=i.sliderData.get("entityType"),n=i.sliderData.get("entityId");if(BX.type.isNotEmptyString(o)&&o==e.entityType&&n==this.userId){e.callback()}}.bind(this))},changeGdpr:function(e){var t={type:e.name,value:e.checked?"Y":"N"};BX.ajax.runComponentAction(this.componentName,"changeGdpr",{signedParameters:this.signedParameters,mode:"class",data:t}).then((function(e){}),function(e){}.bind(this))},animateGdprBlock:function(e){var t=document.querySelector('[data-role="'+e.getAttribute("for")+'"]');if(e.classList.contains("intranet-user-profile-column-block-title-dropdown--open")){e.classList.remove("intranet-user-profile-column-block-title-dropdown--open");t.style.height=null}else{e.classList.add("intranet-user-profile-column-block-title-dropdown--open");t.style.height=t.firstElementChild.offsetHeight+"px"}}}})();
//# sourceMappingURL=script.map.js