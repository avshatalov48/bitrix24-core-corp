(function(){"use strict";BX.namespace("BX.Bitrix24");BX.Bitrix24.SonetGroupFilter=function(){this.actualSearchString="";this.minSearchStringLength=2};BX.Bitrix24.SonetGroupFilter.prototype.init=function(t){var e=typeof t!="undefined"&&typeof t.filterId!="undefined"?t.filterId:"SONET_GROUP_LIST";if(typeof t!="undefined"&&typeof t.minSearchStringLength!="undefined"&&parseInt(t.minSearchStringLength)>0){this.minSearchStringLength=parseInt(t.minSearchStringLength)}BX.addCustomEvent("BX.SonetGroupList:refresh",BX.delegate(function(){BX.Main.filterManager.getById(e).getPreset().resetPreset(true);BX.Main.filterManager.getById(e).getSearch().clearForm()},this));BX.addCustomEvent("BX.Main.Filter:beforeApply",BX.delegate(function(t,n,i,r){if(t!=e||this.actualSearchString.length>0&&this.actualSearchString.length<this.minSearchStringLength){return}BX.onCustomEvent(window,"BX.SonetGroupList.Filter:beforeApply",[n,r])},this));BX.addCustomEvent("BX.Main.Filter:apply",BX.delegate(function(t,n,i,r,a){if(t!=e||this.actualSearchString.length>0&&this.actualSearchString.length<this.minSearchStringLength){return}BX.onCustomEvent(window,"BX.SonetGroupList.Filter:apply",[n,r,a])},this));BX.addCustomEvent("BX.Filter.Search:input",BX.delegate(function(t,n){if(t==e){this.actualSearchString=typeof n!="undefined"?BX.util.trim(n):"";if(this.actualSearchString.length>0&&this.actualSearchString.length>=this.minSearchStringLength){BX.onCustomEvent(window,"BX.SonetGroupList.Filter:searchInput",[n])}}},this));BX.addCustomEvent("BX.Main.Filter:blur",BX.delegate(function(t){if(t.getParam("FILTER_ID")==e&&t.getSearch().getSquares().length<=0&&t.getSearch().getSearchString().length<=0){var n=BX.findParent(BX(e+"_filter_container"),{className:"pagetitle-wrap"});if(n){BX.removeClass(n,"pagetitle-wrap-filter-opened")}}},this))}})();