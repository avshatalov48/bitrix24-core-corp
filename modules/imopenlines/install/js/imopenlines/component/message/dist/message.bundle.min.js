(function(e,t,i,s,r,n){"use strict";
/**
	 * Bitrix OpenLines widget
	 * Widget constants
	 *
	 * @package bitrix
	 * @subpackage imopenlines
	 * @copyright 2001-2019 Bitrix
	 */function o(e){var t=[];for(var i in e){if(e.hasOwnProperty(i)){t.push(e[i])}}return t}var a=Object.freeze({none:"none",like:"like",dislike:"dislike"});var g=Object.freeze({russian:"ru",ukraine:"ua",world:"en"});var l=Object.freeze({none:"none",like:"like",smile:"smile",consent:"consent",welcome:"welcome",offline:"offline",history:"history"});var c=Object.freeze({topLeft:1,topMiddle:2,topBottom:3,bottomLeft:6,bottomMiddle:5,bottomRight:4});var d=Object.freeze({1:"top-left",2:"top-center",3:"top-right",6:"bottom-left",5:"bottom-center",4:"bottom-right"});var p=Object.freeze({width:435,height:557});var m=Object.freeze({width:340,height:435});var u=Object.freeze({configLoaded:"configLoaded",widgetOpen:"widgetOpen",widgetClose:"widgetClose",sessionStart:"sessionStart",sessionOperatorChange:"sessionOperatorChange",sessionFinish:"sessionFinish",operatorMessage:"operatorMessage",userForm:"userForm",userMessage:"userMessage",userFile:"userFile",userVote:"userVote",every:"every"});var f=o(u);var O=Object.freeze({widgetUserRegister:"imopenlines.widget.user.register",widgetChatCreate:"imopenlines.widget.chat.create",widgetConfigGet:"imopenlines.widget.config.get",widgetDialogGet:"imopenlines.widget.dialog.get",widgetDialogList:"imopenlines.widget.dialog.list",widgetUserGet:"imopenlines.widget.user.get",widgetUserConsentApply:"imopenlines.widget.user.consent.apply",widgetVoteSend:"imopenlines.widget.vote.send",widgetActionSend:"imopenlines.widget.action.send",pullServerTime:"server.time",pullConfigGet:"pull.config.get"});var w=o(O);var h=Object.freeze({guest:"guest"});var b=Object.freeze({new:0,skip:5,answer:10,client:20,clientAfterOperator:25,operator:40,waitClient:50,close:60,spam:65,duplicate:69,silentlyClose:75});var M=Object.freeze({showForm:"IMOL.Widget:showForm",hideForm:"IMOL.Widget:hideForm",processMessagesToSendQueue:"IMOL.Widget:processMessagesToSendQueue",requestData:"IMOL.Widget:requestData",showConsent:"IMOL.Widget:showConsent",acceptConsent:"IMOL.Widget:acceptConsent",consentAccepted:"IMOL.Widget:consentAccepted",declineConsent:"IMOL.Widget:declineConsent",consentDeclined:"IMOL.Widget:consentDeclined",sendDialogVote:"IMOL.Widget:sendDialogVote",createSession:"IMOL.Widget:createSession",openSession:"IMOL.Widget:openSession"});function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function L(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){babelHelpers.defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var I=Object.freeze({none:"none",like:"like",welcome:"welcome",offline:"offline",history:"history"});var j=Object.freeze({none:"none",like:"like",dislike:"dislike"});t.BitrixVue.cloneComponent("bx-imopenlines-message","bx-im-view-message",{methods:{checkMessageParamsForForm:function e(){if(!this.message.params||!this.message.params.IMOL_FORM){return true}if(this.message.params.IMOL_FORM===I.like){if(parseInt(this.message.params.IMOL_VOTE)===this.widget.dialog.sessionId&&this.widget.dialog.userVote===j.none){n.EventEmitter.emit(M.showForm,{type:I.like,delayed:true})}}}},created:function e(){this.checkMessageParamsForForm()},computed:L({dialogNumber:function e(){if(!this.message.params){return false}if(!this.message.params.IMOL_SID){return false}return this.$Bitrix.Loc.getMessage("IMOL_MESSAGE_DIALOG_ID").replace("#ID#",this.message.params.IMOL_SID)},showMessage:function e(){if(!this.message.params){return true}if(this.message.params.IMOL_FORM&&this.message.params.IMOL_FORM==="like"){return false}return true}},i.Vuex.mapState({widget:function e(t){return t.widget}})),template:'\n\t\t<div v-if="showMessage" class="bx-imopenlines-message">\n\t\t\t<div v-if="dialogNumber" class="bx-imopenlines-message-dialog-number">{{dialogNumber}}</div>\n\t\t\t#PARENT_TEMPLATE#\n\t\t</div>\n\t'})})(this.window=this.window||{},BX,BX,window,BX,BX.Event);
//# sourceMappingURL=message.bundle.map.js