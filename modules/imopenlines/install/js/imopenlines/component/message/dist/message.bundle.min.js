(function(e){"use strict";var s=Object.freeze({none:"none",like:"like",welcome:"welcome",offline:"offline",history:"history"});var i=Object.freeze({none:"none",like:"like",dislike:"dislike"});BX.Vue.cloneComponent("bx-imopenlines-message","bx-im-view-message",{methods:{checkFormShow:function e(){if(!this.message.params||!this.message.params.IMOL_FORM){return true}if(this.message.params.IMOL_FORM==="welcome"){if(!this.widget.dialog.sessionClose&&!this.widget.user.name&&!this.widget.user.lastName&&!this.widget.user.email&&!this.widget.user.phone){this.$root.$emit("requestShowForm",{type:s.welcome,delayed:true})}}else if(this.message.params.IMOL_FORM==="offline"){if(!this.widget.dialog.sessionClose&&!this.widget.user.email){this.$root.$emit("requestShowForm",{type:s.offline,delayed:true})}}else if(this.message.params.IMOL_FORM==="history-delay"){if(parseInt(this.message.params.IMOL_VOTE)===this.widget.dialog.sessionId&&this.widget.dialog.userVote===i.none){this.$root.$emit("requestShowForm",{type:s.like,delayed:true})}}}},created:function e(){this.checkFormShow()},computed:babelHelpers.objectSpread({dialogNumber:function e(){if(!this.message.params){return false}if(!this.message.params.IMOL_SID){return false}return this.localize.IMOL_MESSAGE_DIALOG_ID.replace("#ID#",this.message.params.IMOL_SID)},localize:function e(){return Object.freeze(Object.assign({},this.parentLocalize,BX.Vue.getFilteredPhrases("IMOL_MESSAGE_",this.$root.$bitrixMessages)))},showMessage:function e(){if(!this.message.params){return true}if(this.message.params.IMOL_FORM&&this.message.params.IMOL_FORM==="history-delay"){return false}return true}},BX.Vuex.mapState({widget:function e(s){return s.widget}})),template:'\n\t\t<div v-if="showMessage" class="bx-imopenlines-message">\n\t\t\t<div v-if="dialogNumber" class="bx-imopenlines-message-dialog-number">{{dialogNumber}}</div>\n\t\t\t#PARENT_TEMPLATE#\n\t\t</div>\n\t'})})(this.window=this.window||{});
//# sourceMappingURL=message.bundle.map.js