{"version":3,"sources":["form.bundle.js"],"names":["exports","ui_vue","ui_vue_vuex","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","babelHelpers","defineProperty","getOwnPropertyDescriptors","defineProperties","EVENT_POSTFIX","LIVECHAT_PREFIX","BitrixVue","component","props","message","type","required","data","formSuccess","formError","mounted","this","filledFormFlag","computed","chatId","application","dialog","formId","String","params","CRM_FORM_ID","widget","common","crmFormsSettings","welcomeFormId","formSec","CRM_FORM_SEC","welcomeFormSec","showForm","CRM_FORM_FILLED","messageCount","Vuex","mapState","state","dialogues","collection","dialogId","watch","newValue","widgetInitPromiseResolve","methods","getCrmBindings","_this","Promise","resolve","reject","$Bitrix","RestClient","get","callMethod","OPENLINES_CODE","buildOpenlinesCode","then","onBeforeFormSubmit","eventData","signedEntities","sign","onFormSubmit","_this2","promise","widgetResolve","widgetReject","setFormProperties","getApplication","requestData","welcomeFormDelay","result","error","console","form","setProperty","_this$message$params$","id","IS_WELCOME_FORM","configId","entityId","split","userId","concat","onFormSendSuccess","$store","commit","dialogStart","$emit","onFormSendError","getSuccessText","successText","getErrorText","errorText","Application","template","window","BX"],"mappings":"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","file":"form.bundle.map.js"}