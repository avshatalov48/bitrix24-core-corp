{"version":3,"sources":["form.bundle.js"],"names":["exports","ui_vue","ui_vue_vuex","EVENT_POSTFIX","LIVECHAT_PREFIX","BitrixVue","component","props","message","type","Object","required","data","formSuccess","formError","mounted","this","filledFormFlag","computed","babelHelpers","objectSpread","chatId","application","dialog","formId","String","params","CRM_FORM_ID","widget","common","crmFormsSettings","welcomeFormId","formSec","CRM_FORM_SEC","welcomeFormSec","showForm","CRM_FORM_FILLED","messageCount","Vuex","mapState","state","dialogues","collection","dialogId","watch","newValue","widgetInitPromiseResolve","methods","getCrmBindings","_this","Promise","resolve","reject","$Bitrix","RestClient","get","callMethod","OPENLINES_CODE","buildOpenlinesCode","then","catch","onBeforeFormSubmit","eventData","signedEntities","sign","onFormSubmit","_this2","promise","widgetResolve","widgetReject","setFormProperties","getApplication","requestData","welcomeFormDelay","result","error","console","form","setProperty","_this$message$params$","id","IS_WELCOME_FORM","configId","entityId","split","userId","concat","onFormSendSuccess","$store","commit","dialogStart","$emit","onFormSendError","getSuccessText","successText","getErrorText","errorText","Application","template","window","BX"],"mappings":"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","file":"form.bundle.map.js"}