{"version":3,"file":"hidden.bundle.js","sources":["../src/hidden.js"],"sourcesContent":["import { hint } from 'ui.vue3.directives.hint';\n\nimport { BaseMessage } from 'im.v2.component.message.base';\nimport { DateCode, DateFormatter } from 'im.v2.lib.date-formatter';\nimport { MessageAttach, ReactionList } from 'im.v2.component.message.elements';\nimport { Parser } from 'im.v2.lib.parser';\n\nimport './css/hidden.css';\n\nimport type { ImModelMessage } from 'im.v2.model';\n\n// @vue/component\nexport const HiddenMessage = {\n\tname: 'HiddenMessage',\n\tcomponents: { BaseMessage, MessageAttach, ReactionList },\n\tdirectives: {\n\t\thint,\n\t},\n\tprops:\n\t{\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tformattedText(): string\n\t\t{\n\t\t\treturn Parser.decodeMessage(this.item);\n\t\t},\n\t\tformattedDate(): string\n\t\t{\n\t\t\treturn DateFormatter.formatByCode(this.message.date, DateCode.shortTimeFormat);\n\t\t},\n\t\thintAvailable(): { text: string, popupOptions: Object<string, any> }\n\t\t{\n\t\t\treturn {\n\t\t\t\ttext: this.loc('IMOL_MESSAGE_HIDDEN_TOOLTIP_TEXT'),\n\t\t\t\tpopupOptions: {\n\t\t\t\t\tangle: true,\n\t\t\t\t\ttargetContainer: document.body,\n\t\t\t\t\toffsetTop: -10,\n\t\t\t\t\toffsetLeft: 5,\n\t\t\t\t\tbindOptions: {\n\t\t\t\t\t\tposition: 'top',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseMessage\n\t\t\t:dialogId=\"dialogId\"\n\t\t\t:item=\"item\"\n\t\t\t:withTitle=\"false\"\n\t\t\t:withBackground=\"false\"\n\t\t\t:withContextMenu=\"false\"\n\t\t\t:withReactions=\"false\"\n\t\t\tclass=\"bx-imol-message-hidden__container\"\n\t\t>\n\t\t\t<div class=\"bx-imol-message-hidden__content\">\n\t\t\t\t<div class=\"bx-imol-message-hidden-content__text\" v-html=\"formattedText\"></div>\n\t\t\t\t<div v-if=\"message.attach.length > 0\" class=\"bx-imol-message-hidden-content__attach\">\n\t\t\t\t\t<MessageAttach :item=\"message\" :dialogId=\"dialogId\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-imol-message-hidden-content__bottom-panel\">\n\t\t\t\t\t<div class=\"bx-imol-message-hidden-content__container-date\">\n\t\t\t\t\t\t<div class=\"bx-imol-message-hidden-content__date\">\n\t\t\t\t\t\t\t{{ formattedDate }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-hint=\"hintAvailable\"\n\t\t\t\t\t\t\tclass=\"bx-imol-message-hidden-content__lock\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i class=\"fa-solid fa-lock\"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseMessage>\n\t`,\n};\n"],"names":["HiddenMessage","name","components","BaseMessage","MessageAttach","ReactionList","directives","hint","props","item","type","Object","required","dialogId","String","computed","message","formattedText","Parser","decodeMessage","formattedDate","DateFormatter","formatByCode","date","DateCode","shortTimeFormat","hintAvailable","text","loc","popupOptions","angle","targetContainer","document","body","offsetTop","offsetLeft","bindOptions","position","methods","phraseCode","$Bitrix","Loc","getMessage","template"],"mappings":";;;;;;;;CAWA;AACA,OAAaA,aAAa,GAAG;GAC5BC,IAAI,EAAE,eAAe;GACrBC,UAAU,EAAE;kBAAEC,wCAAW;oBAAEC,8CAAa;mBAAEC;IAAc;GACxDC,UAAU,EAAE;WACXC;IACA;GACDC,KAAK,EACL;KACCC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACDC,QAAQ,EAAE;OACTH,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;;IAEX;GACDG,QAAQ,EACR;KACCC,OAAO,GACP;OACC,OAAO,IAAI,CAACP,IAAI;MAChB;KACDQ,aAAa,GACb;OACC,OAAOC,uBAAM,CAACC,aAAa,CAAC,IAAI,CAACV,IAAI,CAAC;MACtC;KACDW,aAAa,GACb;OACC,OAAOC,qCAAa,CAACC,YAAY,CAAC,IAAI,CAACN,OAAO,CAACO,IAAI,EAAEC,gCAAQ,CAACC,eAAe,CAAC;MAC9E;KACDC,aAAa,GACb;OACC,OAAO;SACNC,IAAI,EAAE,IAAI,CAACC,GAAG,CAAC,kCAAkC,CAAC;SAClDC,YAAY,EAAE;WACbC,KAAK,EAAE,IAAI;WACXC,eAAe,EAAEC,QAAQ,CAACC,IAAI;WAC9BC,SAAS,EAAE,CAAC,EAAE;WACdC,UAAU,EAAE,CAAC;WACbC,WAAW,EAAE;aACZC,QAAQ,EAAE;;;QAGZ;;IAEF;GACDC,OAAO,EACP;KACCV,GAAG,CAACW,UAAkB,EACtB;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACH,UAAU,CAAC;;IAE/C;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA+BZ,CAAC;;;;;;;;"}