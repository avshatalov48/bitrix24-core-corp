this.BX=this.BX||{};this.BX.Location=this.BX.Location||{};(function(e,t,a){"use strict";function r(e,t,a){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return a}function i(e,t,a,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(a.set){a.set.call(e,r)}else{if(!a.writable){throw new TypeError("attempted to set read only private field")}a.value=r}return r}function l(e,t,a){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(a.get){return a.get.call(e)}return a.value}var s=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"load",value:function t(a,s){if(l(e,e,o)===null){i(e,e,o,new Promise(function(t){BX.load([r(e,e,n).call(e,a,s)],function(){t()})}))}return l(e,e,o)}}]);return e}();var n=function e(t,a){return"https://maps.googleapis.com/maps/api/js?key="+t+"&libraries=places&language="+a};var o={writable:true,value:null};function b(e,t){var a;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=c(e))||t&&e&&typeof e.length==="number"){if(a)e=a;var r=0;var i=function e(){};return{s:i,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,s=false,n;return{s:function t(){a=e[Symbol.iterator]()},n:function e(){var t=a.next();l=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!l&&a.return!=null)a.return()}finally{if(s)throw n}}}}function c(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++){r[a]=e[a]}return r}function d(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var p=new WeakMap;var v=new WeakMap;var h=new WeakMap;var f=new WeakMap;var H=new WeakMap;var g=new WeakMap;var w=new WeakMap;var y=new WeakSet;var P=new WeakSet;var m=new WeakSet;var T=new WeakSet;var I=new WeakSet;var S=new WeakSet;var F=function(e){babelHelpers.inherits(t,e);function t(e){var a;babelHelpers.classCallCheck(this,t);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));S.add(babelHelpers.assertThisInitialized(a));I.add(babelHelpers.assertThisInitialized(a));T.add(babelHelpers.assertThisInitialized(a));m.add(babelHelpers.assertThisInitialized(a));P.add(babelHelpers.assertThisInitialized(a));y.add(babelHelpers.assertThisInitialized(a));p.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});v.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});h.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});f.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});H.set(babelHelpers.assertThisInitialized(a),{writable:true,value:"locationGoogleAutocomplete"});g.set(babelHelpers.assertThisInitialized(a),{writable:true,value:30});w.set(babelHelpers.assertThisInitialized(a),{writable:true,value:5e4});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),p,e.languageId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),f,e.googleSource);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),h,e.googleSource.loaderPromise.then(function(){d(babelHelpers.assertThisInitialized(a),I,M).call(babelHelpers.assertThisInitialized(a))}));return a}babelHelpers.createClass(t,[{key:"autocomplete",value:function e(t,a){var r=this;return babelHelpers.classPrivateFieldGet(this,h).then(function(){return d(r,T,L).call(r,t,a)},function(e){return BX.debug(e)})}}]);return t}(a.AutocompleteServiceBase);var G=function e(t,a){var r=null,i=localStorage.getItem(babelHelpers.classPrivateFieldGet(this,H));if(i){try{i=JSON.parse(i)}catch(e){return null}if(Array.isArray(i)){var l=b(i.entries()),s;try{for(l.s();!(s=l.n()).done;){var n=babelHelpers.slicedToArray(s.value,2),o=n[0],c=n[1];if(c&&typeof c.query!=="undefined"&&c.query===t){r=Object.assign({},c);i.splice(o,1);i.push(r);localStorage.setItem(babelHelpers.classPrivateFieldGet(this,H),JSON.stringify(i));break}}}catch(e){l.e(e)}finally{l.f()}}}return r};var k=function e(t,a){var r=this;var i=null,l=d(this,y,G).call(this,t,a);if(l!==null){i=new Promise(function(e){e(d(r,S,C).call(r,l.answer,l.status))})}return i};var z=function e(t,a,r,i){var l=localStorage.getItem(babelHelpers.classPrivateFieldGet(this,H));if(l){try{l=JSON.parse(l)}catch(e){return}}if(!Array.isArray(l)){l=[]}l.push({status:i,query:t,answer:r});if(l.length>babelHelpers.classPrivateFieldGet(this,g)){l.shift()}localStorage.setItem(babelHelpers.classPrivateFieldGet(this,H),JSON.stringify(l))};var L=function e(t,a){var r=this;var i=d(this,P,k).call(this,t,a);if(!i){var l={input:t};if(a.userCoordinates){l.location=new google.maps.LatLng(a.userCoordinates[0],a.userCoordinates[1]);l.radius=babelHelpers.classPrivateFieldGet(this,w)}i=new Promise(function(e){babelHelpers.classPrivateFieldGet(r,v).getQueryPredictions(l,function(i,l){var s=d(r,S,C).call(r,i,l);d(r,m,z).call(r,t,a,i,l);e(s)})})}return i};var M=function e(){if(typeof google==="undefined"||typeof google.maps.places.AutocompleteService==="undefined"){throw new Error("google.maps.places.AutocompleteService must be defined")}babelHelpers.classPrivateFieldSet(this,v,new google.maps.places.AutocompleteService)};var C=function e(t,r){if(r==="ZERO_RESULTS"){return[]}if(!t||r!=="OK"){return false}var i=[];var l=b(t),s;try{for(l.s();!(s=l.n()).done;){var n=s.value;if(n.place_id){var o=new a.Location({sourceCode:babelHelpers.classPrivateFieldGet(this,f).sourceCode,externalId:n.place_id,name:n.description,languageId:babelHelpers.classPrivateFieldGet(this,p)});i.push(o)}}}catch(e){l.e(e)}finally{l.f()}return i};function W(e,t,a){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(a.get){return a.get.call(e)}return a.value}function E(e,t,a){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return a}function _(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var A=new WeakMap;var O=new WeakMap;var B=new WeakMap;var R=new WeakMap;var U=new WeakMap;var j=new WeakMap;var x=new WeakMap;var D=new WeakMap;var X=new WeakMap;var N=new WeakMap;var K=new WeakMap;var V=new WeakMap;var Y=new WeakMap;var q=new WeakSet;var J=new WeakSet;var Z=new WeakSet;var $=new WeakSet;var Q=new WeakSet;var ee=new WeakSet;var te=new WeakSet;var ae=new WeakSet;var re=new WeakSet;var ie=function(e){babelHelpers.inherits(r,e);function r(e){var t;babelHelpers.classCallCheck(this,r);t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e));re.add(babelHelpers.assertThisInitialized(t));ae.add(babelHelpers.assertThisInitialized(t));te.add(babelHelpers.assertThisInitialized(t));ee.add(babelHelpers.assertThisInitialized(t));Q.add(babelHelpers.assertThisInitialized(t));$.add(babelHelpers.assertThisInitialized(t));Z.add(babelHelpers.assertThisInitialized(t));J.add(babelHelpers.assertThisInitialized(t));q.add(babelHelpers.assertThisInitialized(t));A.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});O.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});B.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});R.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});U.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});j.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});x.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});D.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});X.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});N.set(babelHelpers.assertThisInitialized(t),{writable:true,value:null});K.set(babelHelpers.assertThisInitialized(t),{writable:true,value:false});V.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});Y.set(babelHelpers.assertThisInitialized(t),{writable:true,value:null});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),A,e.languageId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),B,e.googleSource);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),X,e.locationRepository||new a.LocationRepository);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),V,e.changeDelay||700);return t}babelHelpers.createClass(r,[{key:"render",value:function e(t){var a=this;babelHelpers.classPrivateFieldSet(this,Y,babelHelpers.classPrivateFieldGet(this,B).loaderPromise.then(function(){_(a,re,he).call(a,t)}));return babelHelpers.classPrivateFieldGet(this,Y)}},{key:"onLocationChangedEventSubscribe",value:function e(t){this.subscribe(W(r,r,se),t)}},{key:"destroy",value:function e(){t.Event.unbindAll(this);babelHelpers.classPrivateFieldSet(this,O,null);babelHelpers.classPrivateFieldSet(this,U,null);babelHelpers.classPrivateFieldSet(this,D,null);babelHelpers.classPrivateFieldSet(this,N,null);babelHelpers.classPrivateFieldSet(this,Y,null);babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"destroy",this).call(this)}},{key:"loaderPromise",get:function e(){return babelHelpers.classPrivateFieldGet(this,Y)}},{key:"mode",set:function e(t){babelHelpers.classPrivateFieldSet(this,j,t);if(babelHelpers.classPrivateFieldGet(this,U)){babelHelpers.classPrivateFieldGet(this,U).setDraggable(t===a.ControlMode.edit)}}},{key:"zoom",get:function e(){return babelHelpers.classPrivateFieldGet(this,R)},set:function e(t){babelHelpers.classPrivateFieldSet(this,R,t);if(babelHelpers.classPrivateFieldGet(this,O)){babelHelpers.classPrivateFieldGet(this,O).setZoom(t)}}},{key:"location",set:function e(t){babelHelpers.classPrivateFieldSet(this,x,t);var a=_(this,q,ne).call(this,t);if(a){if(babelHelpers.classPrivateFieldGet(this,U)){babelHelpers.classPrivateFieldSet(this,K,true);babelHelpers.classPrivateFieldGet(this,U).setPosition(a);babelHelpers.classPrivateFieldSet(this,K,false)}if(babelHelpers.classPrivateFieldGet(this,O)){if(!babelHelpers.classPrivateFieldGet(this,U).getMap()){babelHelpers.classPrivateFieldGet(this,U).setMap(babelHelpers.classPrivateFieldGet(this,O))}babelHelpers.classPrivateFieldGet(this,O).panTo(a)}}else{if(babelHelpers.classPrivateFieldGet(this,U)){babelHelpers.classPrivateFieldGet(this,U).setMap(null)}}_(this,J,oe).call(this)},get:function e(){return babelHelpers.classPrivateFieldGet(this,x)}},{key:"googleMap",get:function e(){return babelHelpers.classPrivateFieldGet(this,O)}}]);return r}(a.MapBase);var le=function e(t){var a=18;if(t){var r=t.type;if(r>0){if(r<100)a=1;else if(r===100)a=4;else if(r<=200)a=6;else if(r<=300)a=11;else if(r<=340)a=16;else if(r>340)a=18}}return a};var se={writable:true,value:"onChanged"};var ne=function e(t){if(!t){return null}if(typeof google==="undefined"||typeof google.maps==="undefined"){return null}return new google.maps.LatLng(t.latitude,t.longitude)};var oe=function e(){if(!babelHelpers.classPrivateFieldGet(this,x)){return}var t=E(ie,ie,le).call(ie,babelHelpers.classPrivateFieldGet(this,x));if(t!==null&&t!==babelHelpers.classPrivateFieldGet(this,R)){this.zoom=t}};var be=function e(t){var a=this;return new Promise(function(e){babelHelpers.classPrivateFieldGet(a,D).geocode({location:t},function(t,a){if(a==="OK"&&t[0]){e(t[0].place_id)}else if(a==="ZERO_RESULTS"){e("")}else{throw Error("Geocoder failed due to: "+a)}})}).then(function(e){var t;if(e){t=babelHelpers.classPrivateFieldGet(a,X).findByExternalId(e,babelHelpers.classPrivateFieldGet(a,B).sourceCode,babelHelpers.classPrivateFieldGet(a,A))}else{t=new Promise(function(e){e(null)})}return t})};var ce=function e(t){if(babelHelpers.classPrivateFieldGet(this,j)===a.ControlMode.edit){this.emit(W(ie,ie,se),{location:t})}};var ue=function e(){if(!babelHelpers.classPrivateFieldGet(this,K)&&babelHelpers.classPrivateFieldGet(this,j)===a.ControlMode.edit){_(this,ee,de).call(this,babelHelpers.classPrivateFieldGet(this,U).getPosition())}};var de=function e(t){var a=this;if(babelHelpers.classPrivateFieldGet(this,N)!==null){clearTimeout(babelHelpers.classPrivateFieldGet(this,N))}babelHelpers.classPrivateFieldSet(this,N,setTimeout(function(){babelHelpers.classPrivateFieldSet(a,N,null);babelHelpers.classPrivateFieldGet(a,O).panTo(t);_(a,te,pe).call(a,t)},babelHelpers.classPrivateFieldGet(this,V)))};var pe=function e(t){_(this,Z,be).call(this,t).then(_(this,$,ce).bind(this)).catch(function(e){a.ErrorPublisher.getInstance().notify(e.errors)})};var ve=function e(t){if(babelHelpers.classPrivateFieldGet(this,j)===a.ControlMode.edit){if(!babelHelpers.classPrivateFieldGet(this,U).getMap){babelHelpers.classPrivateFieldGet(this,U).setMap(babelHelpers.classPrivateFieldGet(this,O))}babelHelpers.classPrivateFieldGet(this,U).setPosition(t);_(this,ee,de).call(this,t)}};var he=function e(t){var r=this;babelHelpers.classPrivateFieldSet(this,j,t.mode);babelHelpers.classPrivateFieldSet(this,x,t.location||null);if(typeof google==="undefined"||typeof google.maps.Map==="undefined"){throw new Error("google.maps.Map must be defined")}var i=_(this,q,ne).call(this,babelHelpers.classPrivateFieldGet(this,x));var l={gestureHandling:"greedy"};var s=E(ie,ie,le).call(ie,babelHelpers.classPrivateFieldGet(this,x));if(s){l.zoom=s}if(i){l.center=i}babelHelpers.classPrivateFieldSet(this,O,new google.maps.Map(t.mapContainer,l));babelHelpers.classPrivateFieldGet(this,O).addListener("click",function(e){_(r,ae,ve).call(r,e.latLng)});if(typeof google.maps.Marker==="undefined"){throw new Error("google.maps.Marker must be defined")}babelHelpers.classPrivateFieldSet(this,U,new google.maps.Marker({position:i,map:babelHelpers.classPrivateFieldGet(this,O),draggable:babelHelpers.classPrivateFieldGet(this,j)===a.ControlMode.edit}));babelHelpers.classPrivateFieldGet(this,U).addListener("position_changed",function(){_(r,Q,ue).call(r)});if(typeof google.maps.Geocoder==="undefined"){throw new Error("google.maps.Geocoder must be defined")}babelHelpers.classPrivateFieldSet(this,D,new google.maps.Geocoder)};function fe(e,t){var a;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=He(e))||t&&e&&typeof e.length==="number"){if(a)e=a;var r=0;var i=function e(){};return{s:i,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,s=false,n;return{s:function t(){a=e[Symbol.iterator]()},n:function e(){var t=a.next();l=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!l&&a.return!=null)a.return()}finally{if(s)throw n}}}}function He(e,t){if(!e)return;if(typeof e==="string")return ge(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ge(e,t)}function ge(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++){r[a]=e[a]}return r}function we(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var ye=new WeakMap;var Pe=new WeakMap;var me=new WeakMap;var Te=new WeakMap;var Ie=new WeakSet;var Se=function(e){babelHelpers.inherits(t,e);function t(e){var a;babelHelpers.classCallCheck(this,t);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Ie.add(babelHelpers.assertThisInitialized(a));ye.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Pe.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});me.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Te.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),me,e.googleSource);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),ye,e.map);return a}babelHelpers.createClass(t,[{key:"requestPhotos",value:function e(t){var a=this;return new Promise(function(e){var r=we(a,Ie,Fe).call(a);if(!r){e([])}var i=we(a,Ie,Fe).call(a);if(!i){e([])}i.then(function(){if(t.location.sourceCode!==babelHelpers.classPrivateFieldGet(a,me).sourceCode){e([])}if(t.location.externalId.length<=0){e([])}babelHelpers.classPrivateFieldGet(a,Pe).getDetails({placeId:t.location.externalId,fields:["photos"]},function(a,r){var i=[];if(r===google.maps.places.PlacesServiceStatus.OK){if(Array.isArray(a.photos)){var l=0;var s=fe(a.photos),n;try{for(s.s();!(n=s.n()).done;){var o=n.value;i.push({url:o.getUrl(),width:o.width,height:o.height,description:Array.isArray(o.html_attributions)?o.html_attributions.join("<br>"):"",thumbnail:{url:o.getUrl({maxHeight:t.thumbnailHeight,maxWidth:t.thumbnailWidth}),width:t.thumbnailWidth,height:t.thumbnailHeight}});l++;if(t.maxPhotoCount&&l>=t.maxPhotoCount){break}}}catch(e){s.e(e)}finally{s.f()}}}e(i)})})})}}]);return t}(a.PhotoServiceBase);var Fe=function e(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,Te)){if(babelHelpers.classPrivateFieldGet(this,ye).loaderPromise===null){return}babelHelpers.classPrivateFieldSet(this,Te,babelHelpers.classPrivateFieldGet(this,ye).loaderPromise.then(function(){babelHelpers.classPrivateFieldSet(t,Pe,new google.maps.places.PlacesService(babelHelpers.classPrivateFieldGet(t,ye).googleMap))}))}return babelHelpers.classPrivateFieldGet(this,Te)};function Ge(e,t){var a;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=ke(e))||t&&e&&typeof e.length==="number"){if(a)e=a;var r=0;var i=function e(){};return{s:i,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,s=false,n;return{s:function t(){a=e[Symbol.iterator]()},n:function e(){var t=a.next();l=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!l&&a.return!=null)a.return()}finally{if(s)throw n}}}}function ke(e,t){if(!e)return;if(typeof e==="string")return ze(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ze(e,t)}function ze(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++){r[a]=e[a]}return r}function Le(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var Me=new WeakMap;var Ce=new WeakMap;var We=new WeakMap;var Ee=new WeakMap;var _e=new WeakSet;var Ae=new WeakSet;var Oe=new WeakSet;var Be=function(e){babelHelpers.inherits(t,e);function t(e){var a;babelHelpers.classCallCheck(this,t);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Oe.add(babelHelpers.assertThisInitialized(a));Ae.add(babelHelpers.assertThisInitialized(a));_e.add(babelHelpers.assertThisInitialized(a));Me.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Ce.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});We.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Ee.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Me,e.map);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Ee,e.googleSource);return a}babelHelpers.createClass(t,[{key:"geocodeConcrete",value:function e(t){var a=this;return new Promise(function(e){var r=Le(a,_e,Re).call(a);if(!r){e([]);return}r.then(function(){babelHelpers.classPrivateFieldGet(a,Ce).geocode({address:t},function(t,r){if(r==="OK"){e(Le(a,Oe,je).call(a,t))}else if(r==="ZERO_RESULTS"){e([])}else{BX.debug("Geocode was not successful for the following reason: ".concat(r))}})})})}}]);return t}(a.GeocodingServiceBase);var Re=function e(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,We)){if(babelHelpers.classPrivateFieldGet(this,Ee).loaderPromise===null){return}babelHelpers.classPrivateFieldSet(this,We,babelHelpers.classPrivateFieldGet(this,Ee).loaderPromise.then(function(){babelHelpers.classPrivateFieldSet(t,Ce,new google.maps.Geocoder)}))}return babelHelpers.classPrivateFieldGet(this,We)};var Ue=function e(t){var r={country:a.LocationType.COUNTRY,locality:a.LocationType.LOCALITY,postal_town:a.LocationType.LOCALITY,route:a.LocationType.STREET,street_address:a.LocationType.ADDRESS_LINE_1,administrative_area_level_4:a.LocationType.ADM_LEVEL_4,administrative_area_level_3:a.LocationType.ADM_LEVEL_3,administrative_area_level_2:a.LocationType.ADM_LEVEL_2,administrative_area_level_1:a.LocationType.ADM_LEVEL_1,floor:a.LocationType.FLOOR,postal_code:a.AddressType.POSTAL_CODE,room:a.LocationType.ROOM,sublocality:a.LocationType.SUB_LOCALITY,sublocality_level_1:a.LocationType.SUB_LOCALITY_LEVEL_1,sublocality_level_2:a.LocationType.SUB_LOCALITY_LEVEL_2,street_number:a.LocationType.BUILDING};var i=a.LocationType.UNKNOWN;var l=Ge(t),s;try{for(l.s();!(s=l.n()).done;){var n=s.value;if(typeof r[n]!=="undefined"){i=r[n];break}}}catch(e){l.e(e)}finally{l.f()}return i};var je=function e(t){var r=[];var i=Ge(t),l;try{for(i.s();!(l=i.n()).done;){var s=l.value;var n=new a.Location;n.sourceCode=babelHelpers.classPrivateFieldGet(this,Ee).sourceCode;n.languageId=babelHelpers.classPrivateFieldGet(this,Ee).languageId;n.externalId=s.place_id;n.type=Le(this,Ae,Ue).call(this,s.types);n.name=s.formatted_address;n.latitude=s.geometry.location.lat();n.longitude=s.geometry.location.lng();r.push(n)}}catch(e){i.e(e)}finally{i.f()}return r};var xe=new WeakMap;var De=new WeakMap;var Xe=new WeakMap;var Ne=new WeakMap;var Ke=new WeakMap;var Ve=new WeakMap;var Ye=new WeakMap;var qe=new WeakMap;var Je=function(e){babelHelpers.inherits(r,e);function r(e){var i;babelHelpers.classCallCheck(this,r);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e));xe.set(babelHelpers.assertThisInitialized(i),{writable:true,value:"GOOGLE"});De.set(babelHelpers.assertThisInitialized(i),{writable:true,value:""});Xe.set(babelHelpers.assertThisInitialized(i),{writable:true,value:""});Ne.set(babelHelpers.assertThisInitialized(i),{writable:true,value:null});Ke.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});Ve.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});Ye.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});qe.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});if(!t.Type.isString(e.languageId)||e.languageId.trim()===""){throw new a.SourceCreationError("props.languageId must be a string")}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),De,e.languageId);if(!t.Type.isString(e.sourceLanguageId)||e.sourceLanguageId.trim()===""){throw new a.SourceCreationError("props.sourceLanguageId must be a string")}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Xe,e.sourceLanguageId);if(!t.Type.isString(e.apiKey)||e.apiKey.trim()===""){throw new a.SourceCreationError("props.apiKey must be a string")}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ne,s.load(e.apiKey,e.sourceLanguageId));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ke,new ie({googleSource:babelHelpers.assertThisInitialized(i),languageId:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),De)}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),qe,new F({googleSource:babelHelpers.assertThisInitialized(i),languageId:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),De)}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ve,new Se({googleSource:babelHelpers.assertThisInitialized(i),map:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ke)}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ye,new Be({googleSource:babelHelpers.assertThisInitialized(i),map:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ke)}));return i}babelHelpers.createClass(r,[{key:"sourceCode",get:function e(){return babelHelpers.classPrivateFieldGet(this,xe)}},{key:"loaderPromise",get:function e(){return babelHelpers.classPrivateFieldGet(this,Ne)}},{key:"map",get:function e(){return babelHelpers.classPrivateFieldGet(this,Ke)}},{key:"autocompleteService",get:function e(){return babelHelpers.classPrivateFieldGet(this,qe)}},{key:"photoService",get:function e(){return babelHelpers.classPrivateFieldGet(this,Ve)}},{key:"geocodingService",get:function e(){return babelHelpers.classPrivateFieldGet(this,Ye)}},{key:"languageId",get:function e(){return babelHelpers.classPrivateFieldGet(this,De)}}]);return r}(a.BaseSource);e.Google=Je})(this.BX.Location.Google=this.BX.Location.Google||{},BX,BX.Location.Core);
//# sourceMappingURL=google.bundle.map.js