this.BX=this.BX||{};this.BX.Location=this.BX.Location||{};(function(e,t,a){"use strict";function r(e,t,a){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return a}function i(e,t,a,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(a.set){a.set.call(e,r)}else{if(!a.writable){throw new TypeError("attempted to set read only private field")}a.value=r}return r}function l(e,t,a){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(a.get){return a.get.call(e)}return a.value}var s=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"load",value:function t(a,s){if(l(e,e,o)===null){i(e,e,o,new Promise(function(t){BX.load([r(e,e,n).call(e,a,s)],function(){t()})}))}return l(e,e,o)}}]);return e}();var n=function e(t,a){return"https://maps.googleapis.com/maps/api/js?key="+t+"&libraries=places&language="+a};var o={writable:true,value:null};function b(e,t){var a;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=c(e))||t&&e&&typeof e.length==="number"){if(a)e=a;var r=0;var i=function e(){};return{s:i,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,s=false,n;return{s:function t(){a=e[Symbol.iterator]()},n:function e(){var t=a.next();l=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!l&&a.return!=null)a.return()}finally{if(s)throw n}}}}function c(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++){r[a]=e[a]}return r}function d(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var p=new WeakMap;var v=new WeakMap;var f=new WeakMap;var h=new WeakMap;var H=new WeakMap;var g=new WeakMap;var w=new WeakMap;var y=new WeakSet;var P=new WeakSet;var T=new WeakSet;var m=new WeakSet;var I=new WeakSet;var S=new WeakSet;var F=new WeakSet;var G=function(e){babelHelpers.inherits(t,e);function t(e){var a;babelHelpers.classCallCheck(this,t);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));F.add(babelHelpers.assertThisInitialized(a));S.add(babelHelpers.assertThisInitialized(a));I.add(babelHelpers.assertThisInitialized(a));m.add(babelHelpers.assertThisInitialized(a));T.add(babelHelpers.assertThisInitialized(a));P.add(babelHelpers.assertThisInitialized(a));y.add(babelHelpers.assertThisInitialized(a));p.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});v.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});f.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});h.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});H.set(babelHelpers.assertThisInitialized(a),{writable:true,value:"locationGoogleAutocomplete"});g.set(babelHelpers.assertThisInitialized(a),{writable:true,value:30});w.set(babelHelpers.assertThisInitialized(a),{writable:true,value:5e4});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),p,e.languageId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),h,e.googleSource);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),f,e.googleSource.loaderPromise.then(function(){d(babelHelpers.assertThisInitialized(a),I,O).call(babelHelpers.assertThisInitialized(a))}));return a}babelHelpers.createClass(t,[{key:"autocomplete",value:function e(t,a){var r=this;if(t===""){return new Promise(function(e){e([])})}return babelHelpers.classPrivateFieldGet(this,f).then(function(){return d(r,m,_).call(r,t,a)},function(e){return BX.debug(e)})}}]);return t}(a.AutocompleteServiceBase);var L=function e(t,a){var r=null;var i=localStorage.getItem(babelHelpers.classPrivateFieldGet(this,H));if(i){try{i=JSON.parse(i)}catch(e){return null}if(Array.isArray(i)){var l=b(i.entries()),s;try{for(l.s();!(s=l.n()).done;){var n=babelHelpers.slicedToArray(s.value,2),o=n[0],c=n[1];if(c&&typeof c.query!=="undefined"&&c.query===t){r=babelHelpers.objectSpread({},c);i.splice(o,1);i.push(r);localStorage.setItem(babelHelpers.classPrivateFieldGet(this,H),JSON.stringify(i));break}}}catch(e){l.e(e)}finally{l.f()}}}return r};var k=function e(t,a){var r=this;var i=null;var l=d(this,y,L).call(this,t,a);if(l!==null){i=new Promise(function(e){e(d(r,S,M).call(r,l.answer,l.status))})}return i};var z=function e(t,a,r,i){var l=localStorage.getItem(babelHelpers.classPrivateFieldGet(this,H));if(l){try{l=JSON.parse(l)}catch(e){return}}if(!Array.isArray(l)){l=[]}l.push({status:i,query:t,answer:r});if(l.length>babelHelpers.classPrivateFieldGet(this,g)){l.shift()}localStorage.setItem(babelHelpers.classPrivateFieldGet(this,H),JSON.stringify(l))};var _=function e(t,a){var r=this;var i=d(this,P,k).call(this,t,a);if(!i){var l={input:t};if(a.locationForBias){l.location=new google.maps.LatLng(a.locationForBias.latitude,a.locationForBias.longitude);l.radius=babelHelpers.classPrivateFieldGet(this,w)}i=new Promise(function(e){babelHelpers.classPrivateFieldGet(r,v).getQueryPredictions(l,function(i,l){var s=d(r,S,M).call(r,i,l);d(r,T,z).call(r,t,a,i,l);e(s)})})}return i};var O=function e(){if(typeof google==="undefined"||typeof google.maps.places.AutocompleteService==="undefined"){throw new Error("google.maps.places.AutocompleteService must be defined")}babelHelpers.classPrivateFieldSet(this,v,new google.maps.places.AutocompleteService)};var M=function e(t,r){if(r==="ZERO_RESULTS"){return[]}if(!t||r!=="OK"){return false}var i=[];var l=b(t),s;try{for(l.s();!(s=l.n()).done;){var n=s.value;if(n.place_id){var o=void 0;if(n.structured_formatting&&n.structured_formatting.main_text){o=n.structured_formatting.main_text}else{o=n.description}var c=new a.Location({sourceCode:babelHelpers.classPrivateFieldGet(this,h).sourceCode,externalId:n.place_id,name:o,languageId:babelHelpers.classPrivateFieldGet(this,p)});if(n.structured_formatting&&n.structured_formatting.secondary_text){c.setFieldValue(a.LocationType.TMP_TYPE_CLARIFICATION,n.structured_formatting.secondary_text)}var u=d(this,F,C).call(this,n.types);if(u){c.setFieldValue(a.LocationType.TMP_TYPE_HINT,d(this,F,C).call(this,n.types))}i.push(c)}}}catch(e){l.e(e)}finally{l.f()}return i};var C=function e(a){var r="";if(a.indexOf("locality")>=0){r=t.Loc.getMessage("LOCATION_GOO_AUTOCOMPLETE_TYPE_LOCALITY")}else if(a.indexOf("sublocality")>=0){r=t.Loc.getMessage("LOCATION_GOO_AUTOCOMPLETE_TYPE_SUBLOCAL")}else if(a.indexOf("store")>=0){r=t.Loc.getMessage("LOCATION_GOO_AUTOCOMPLETE_TYPE_STORE")}else if(a.indexOf("restaurant")>=0){r=t.Loc.getMessage("LOCATION_GOO_AUTOCOMPLETE_TYPE_RESTAURANT")}else if(a.indexOf("cafe")>=0){r=t.Loc.getMessage("LOCATION_GOO_AUTOCOMPLETE_TYPE_CAFE")}return r};function E(e,t,a){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(a.get){return a.get.call(e)}return a.value}function A(e,t,a){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return a}function W(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var B=new WeakMap;var R=new WeakMap;var U=new WeakMap;var x=new WeakMap;var N=new WeakMap;var Y=new WeakMap;var j=new WeakMap;var D=new WeakMap;var X=new WeakMap;var K=new WeakMap;var V=new WeakMap;var q=new WeakMap;var J=new WeakMap;var Z=new WeakSet;var $=new WeakSet;var Q=new WeakSet;var ee=new WeakSet;var te=new WeakSet;var ae=new WeakSet;var re=new WeakSet;var ie=new WeakSet;var le=new WeakSet;var se=function(e){babelHelpers.inherits(r,e);function r(e){var t;babelHelpers.classCallCheck(this,r);t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e));le.add(babelHelpers.assertThisInitialized(t));ie.add(babelHelpers.assertThisInitialized(t));re.add(babelHelpers.assertThisInitialized(t));ae.add(babelHelpers.assertThisInitialized(t));te.add(babelHelpers.assertThisInitialized(t));ee.add(babelHelpers.assertThisInitialized(t));Q.add(babelHelpers.assertThisInitialized(t));$.add(babelHelpers.assertThisInitialized(t));Z.add(babelHelpers.assertThisInitialized(t));B.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});R.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});U.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});x.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});N.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});Y.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});j.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});D.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});X.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});K.set(babelHelpers.assertThisInitialized(t),{writable:true,value:null});V.set(babelHelpers.assertThisInitialized(t),{writable:true,value:false});q.set(babelHelpers.assertThisInitialized(t),{writable:true,value:void 0});J.set(babelHelpers.assertThisInitialized(t),{writable:true,value:null});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),B,e.languageId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),U,e.googleSource);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),X,e.locationRepository||new a.LocationRepository);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),q,e.changeDelay||700);return t}babelHelpers.createClass(r,[{key:"render",value:function e(t){var a=this;babelHelpers.classPrivateFieldSet(this,J,babelHelpers.classPrivateFieldGet(this,U).loaderPromise.then(function(){W(a,le,He).call(a,t)}));return babelHelpers.classPrivateFieldGet(this,J)}},{key:"onLocationChangedEventSubscribe",value:function e(t){this.subscribe(E(r,r,oe),t)}},{key:"destroy",value:function e(){t.Event.unbindAll(this);babelHelpers.classPrivateFieldSet(this,R,null);babelHelpers.classPrivateFieldSet(this,N,null);babelHelpers.classPrivateFieldSet(this,D,null);babelHelpers.classPrivateFieldSet(this,K,null);babelHelpers.classPrivateFieldSet(this,J,null);babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"destroy",this).call(this)}},{key:"loaderPromise",get:function e(){return babelHelpers.classPrivateFieldGet(this,J)}},{key:"mode",set:function e(t){babelHelpers.classPrivateFieldSet(this,Y,t);if(babelHelpers.classPrivateFieldGet(this,N)){babelHelpers.classPrivateFieldGet(this,N).setDraggable(t===a.ControlMode.edit)}}},{key:"zoom",get:function e(){return babelHelpers.classPrivateFieldGet(this,x)},set:function e(t){babelHelpers.classPrivateFieldSet(this,x,t);if(babelHelpers.classPrivateFieldGet(this,R)){babelHelpers.classPrivateFieldGet(this,R).setZoom(t)}}},{key:"location",set:function e(t){babelHelpers.classPrivateFieldSet(this,j,t);var a=W(this,Z,be).call(this,t);if(a){if(babelHelpers.classPrivateFieldGet(this,N)){babelHelpers.classPrivateFieldSet(this,V,true);babelHelpers.classPrivateFieldGet(this,N).setPosition(a);babelHelpers.classPrivateFieldSet(this,V,false)}if(babelHelpers.classPrivateFieldGet(this,R)){if(!babelHelpers.classPrivateFieldGet(this,N).getMap()){babelHelpers.classPrivateFieldGet(this,N).setMap(babelHelpers.classPrivateFieldGet(this,R))}babelHelpers.classPrivateFieldGet(this,R).panTo(a)}}else{if(babelHelpers.classPrivateFieldGet(this,N)){babelHelpers.classPrivateFieldGet(this,N).setMap(null)}}W(this,$,ce).call(this)},get:function e(){return babelHelpers.classPrivateFieldGet(this,j)}},{key:"googleMap",get:function e(){return babelHelpers.classPrivateFieldGet(this,R)}}]);return r}(a.MapBase);var ne=function e(t){var a=18;if(t){var r=t.type;if(r>0){if(r<100)a=1;else if(r===100)a=4;else if(r<=200)a=6;else if(r<=300)a=11;else if(r<=340)a=16;else if(r>340)a=18}}return a};var oe={writable:true,value:"onChanged"};var be=function e(t){if(!t){return null}if(typeof google==="undefined"||typeof google.maps==="undefined"){return null}return new google.maps.LatLng(t.latitude,t.longitude)};var ce=function e(){if(!babelHelpers.classPrivateFieldGet(this,j)){return}var t=A(se,se,ne).call(se,babelHelpers.classPrivateFieldGet(this,j));if(t!==null&&t!==babelHelpers.classPrivateFieldGet(this,x)){this.zoom=t}};var ue=function e(t){var a=this;return new Promise(function(e){babelHelpers.classPrivateFieldGet(a,D).geocode({location:t},function(t,a){if(a==="OK"&&t[0]){e(t[0].place_id)}else if(a==="ZERO_RESULTS"){e("")}else{throw Error("Geocoder failed due to: "+a)}})}).then(function(e){var t;if(e){t=babelHelpers.classPrivateFieldGet(a,X).findByExternalId(e,babelHelpers.classPrivateFieldGet(a,U).sourceCode,babelHelpers.classPrivateFieldGet(a,B))}else{t=new Promise(function(e){e(null)})}return t})};var de=function e(t){if(babelHelpers.classPrivateFieldGet(this,Y)===a.ControlMode.edit){this.emit(E(se,se,oe),{location:t})}};var pe=function e(){if(!babelHelpers.classPrivateFieldGet(this,V)&&babelHelpers.classPrivateFieldGet(this,Y)===a.ControlMode.edit){W(this,ae,ve).call(this,babelHelpers.classPrivateFieldGet(this,N).getPosition())}};var ve=function e(t){var a=this;if(babelHelpers.classPrivateFieldGet(this,K)!==null){clearTimeout(babelHelpers.classPrivateFieldGet(this,K))}babelHelpers.classPrivateFieldSet(this,K,setTimeout(function(){babelHelpers.classPrivateFieldSet(a,K,null);babelHelpers.classPrivateFieldGet(a,R).panTo(t);W(a,re,fe).call(a,t)},babelHelpers.classPrivateFieldGet(this,q)))};var fe=function e(t){W(this,Q,ue).call(this,t).then(W(this,ee,de).bind(this)).catch(function(e){a.ErrorPublisher.getInstance().notify(e.errors)})};var he=function e(t){if(babelHelpers.classPrivateFieldGet(this,Y)===a.ControlMode.edit){if(!babelHelpers.classPrivateFieldGet(this,N).getMap){babelHelpers.classPrivateFieldGet(this,N).setMap(babelHelpers.classPrivateFieldGet(this,R))}babelHelpers.classPrivateFieldGet(this,N).setPosition(t);W(this,ae,ve).call(this,t)}};var He=function e(t){var r=this;babelHelpers.classPrivateFieldSet(this,Y,t.mode);babelHelpers.classPrivateFieldSet(this,j,t.location||null);if(typeof google==="undefined"||typeof google.maps.Map==="undefined"){throw new Error("google.maps.Map must be defined")}var i=W(this,Z,be).call(this,babelHelpers.classPrivateFieldGet(this,j));var l={gestureHandling:"greedy",disableDefaultUI:true,zoomControl:true,zoomControlOptions:{position:google.maps.ControlPosition.TOP_LEFT}};var s=A(se,se,ne).call(se,babelHelpers.classPrivateFieldGet(this,j));if(s){l.zoom=s}if(i){l.center=i}babelHelpers.classPrivateFieldSet(this,R,new google.maps.Map(t.mapContainer,l));babelHelpers.classPrivateFieldGet(this,R).addListener("click",function(e){W(r,ie,he).call(r,e.latLng)});if(typeof google.maps.Marker==="undefined"){throw new Error("google.maps.Marker must be defined")}babelHelpers.classPrivateFieldSet(this,N,new google.maps.Marker({position:i,map:babelHelpers.classPrivateFieldGet(this,R),draggable:babelHelpers.classPrivateFieldGet(this,Y)===a.ControlMode.edit}));babelHelpers.classPrivateFieldGet(this,N).addListener("position_changed",function(){W(r,te,pe).call(r)});if(typeof google.maps.Geocoder==="undefined"){throw new Error("google.maps.Geocoder must be defined")}babelHelpers.classPrivateFieldSet(this,D,new google.maps.Geocoder)};function ge(e,t){var a;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=we(e))||t&&e&&typeof e.length==="number"){if(a)e=a;var r=0;var i=function e(){};return{s:i,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,s=false,n;return{s:function t(){a=e[Symbol.iterator]()},n:function e(){var t=a.next();l=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!l&&a.return!=null)a.return()}finally{if(s)throw n}}}}function we(e,t){if(!e)return;if(typeof e==="string")return ye(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ye(e,t)}function ye(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++){r[a]=e[a]}return r}function Pe(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var Te=new WeakMap;var me=new WeakMap;var Ie=new WeakMap;var Se=new WeakMap;var Fe=new WeakSet;var Ge=function(e){babelHelpers.inherits(t,e);function t(e){var a;babelHelpers.classCallCheck(this,t);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Fe.add(babelHelpers.assertThisInitialized(a));Te.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});me.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Ie.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Se.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Ie,e.googleSource);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Te,e.map);return a}babelHelpers.createClass(t,[{key:"requestPhotos",value:function e(t){var a=this;return new Promise(function(e){var r=Pe(a,Fe,Le).call(a);if(!r){e([])}var i=Pe(a,Fe,Le).call(a);if(!i){e([])}i.then(function(){if(t.location.sourceCode!==babelHelpers.classPrivateFieldGet(a,Ie).sourceCode){e([])}if(t.location.externalId.length<=0){e([])}babelHelpers.classPrivateFieldGet(a,me).getDetails({placeId:t.location.externalId,fields:["photos"]},function(a,r){var i=[];if(r===google.maps.places.PlacesServiceStatus.OK){if(Array.isArray(a.photos)){var l=0;var s=ge(a.photos),n;try{for(s.s();!(n=s.n()).done;){var o=n.value;i.push({url:o.getUrl(),width:o.width,height:o.height,description:Array.isArray(o.html_attributions)?o.html_attributions.join("<br>"):"",thumbnail:{url:o.getUrl({maxHeight:t.thumbnailHeight,maxWidth:t.thumbnailWidth}),width:t.thumbnailWidth,height:t.thumbnailHeight}});l++;if(t.maxPhotoCount&&l>=t.maxPhotoCount){break}}}catch(e){s.e(e)}finally{s.f()}}}e(i)})})})}}]);return t}(a.PhotoServiceBase);var Le=function e(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,Se)){if(babelHelpers.classPrivateFieldGet(this,Te).loaderPromise===null){return}babelHelpers.classPrivateFieldSet(this,Se,babelHelpers.classPrivateFieldGet(this,Te).loaderPromise.then(function(){babelHelpers.classPrivateFieldSet(t,me,new google.maps.places.PlacesService(babelHelpers.classPrivateFieldGet(t,Te).googleMap))}))}return babelHelpers.classPrivateFieldGet(this,Se)};function ke(e,t){var a;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=ze(e))||t&&e&&typeof e.length==="number"){if(a)e=a;var r=0;var i=function e(){};return{s:i,n:function t(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,s=false,n;return{s:function t(){a=e[Symbol.iterator]()},n:function e(){var t=a.next();l=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!l&&a.return!=null)a.return()}finally{if(s)throw n}}}}function ze(e,t){if(!e)return;if(typeof e==="string")return _e(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _e(e,t)}function _e(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++){r[a]=e[a]}return r}function Oe(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var Me=new WeakMap;var Ce=new WeakMap;var Ee=new WeakMap;var Ae=new WeakMap;var We=new WeakSet;var Be=new WeakSet;var Re=new WeakSet;var Ue=function(e){babelHelpers.inherits(t,e);function t(e){var a;babelHelpers.classCallCheck(this,t);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Re.add(babelHelpers.assertThisInitialized(a));Be.add(babelHelpers.assertThisInitialized(a));We.add(babelHelpers.assertThisInitialized(a));Me.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Ce.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Ee.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});Ae.set(babelHelpers.assertThisInitialized(a),{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Me,e.map);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Ae,e.googleSource);return a}babelHelpers.createClass(t,[{key:"geocodeConcrete",value:function e(t){var a=this;return new Promise(function(e){var r=Oe(a,We,xe).call(a);if(!r){e([]);return}r.then(function(){babelHelpers.classPrivateFieldGet(a,Ce).geocode({address:t},function(t,r){if(r==="OK"){e(Oe(a,Re,Ye).call(a,t))}else if(r==="ZERO_RESULTS"){e([])}else{BX.debug("Geocode was not successful for the following reason: ".concat(r))}})})})}}]);return t}(a.GeocodingServiceBase);var xe=function e(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,Ee)){if(babelHelpers.classPrivateFieldGet(this,Ae).loaderPromise===null){return}babelHelpers.classPrivateFieldSet(this,Ee,babelHelpers.classPrivateFieldGet(this,Ae).loaderPromise.then(function(){babelHelpers.classPrivateFieldSet(t,Ce,new google.maps.Geocoder)}))}return babelHelpers.classPrivateFieldGet(this,Ee)};var Ne=function e(t){var r={country:a.LocationType.COUNTRY,locality:a.LocationType.LOCALITY,postal_town:a.LocationType.LOCALITY,route:a.LocationType.STREET,street_address:a.LocationType.ADDRESS_LINE_1,administrative_area_level_4:a.LocationType.ADM_LEVEL_4,administrative_area_level_3:a.LocationType.ADM_LEVEL_3,administrative_area_level_2:a.LocationType.ADM_LEVEL_2,administrative_area_level_1:a.LocationType.ADM_LEVEL_1,floor:a.LocationType.FLOOR,postal_code:a.AddressType.POSTAL_CODE,room:a.LocationType.ROOM,sublocality:a.LocationType.SUB_LOCALITY,sublocality_level_1:a.LocationType.SUB_LOCALITY_LEVEL_1,sublocality_level_2:a.LocationType.SUB_LOCALITY_LEVEL_2,street_number:a.LocationType.BUILDING};var i=a.LocationType.UNKNOWN;var l=ke(t),s;try{for(l.s();!(s=l.n()).done;){var n=s.value;if(typeof r[n]!=="undefined"){i=r[n];break}}}catch(e){l.e(e)}finally{l.f()}return i};var Ye=function e(t){var r=[];var i=ke(t),l;try{for(i.s();!(l=i.n()).done;){var s=l.value;var n=new a.Location;n.sourceCode=babelHelpers.classPrivateFieldGet(this,Ae).sourceCode;n.languageId=babelHelpers.classPrivateFieldGet(this,Ae).languageId;n.externalId=s.place_id;n.type=Oe(this,Be,Ne).call(this,s.types);n.name=s.formatted_address;n.latitude=s.geometry.location.lat();n.longitude=s.geometry.location.lng();r.push(n)}}catch(e){i.e(e)}finally{i.f()}return r};var je=new WeakMap;var De=new WeakMap;var Xe=new WeakMap;var Ke=new WeakMap;var Ve=new WeakMap;var qe=new WeakMap;var Je=new WeakMap;var Ze=new WeakMap;var $e=function(e){babelHelpers.inherits(r,e);function r(e){var i;babelHelpers.classCallCheck(this,r);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e));je.set(babelHelpers.assertThisInitialized(i),{writable:true,value:"GOOGLE"});De.set(babelHelpers.assertThisInitialized(i),{writable:true,value:""});Xe.set(babelHelpers.assertThisInitialized(i),{writable:true,value:""});Ke.set(babelHelpers.assertThisInitialized(i),{writable:true,value:null});Ve.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});qe.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});Je.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});Ze.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});if(!t.Type.isString(e.languageId)||e.languageId.trim()===""){throw new a.SourceCreationError("props.languageId must be a string")}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),De,e.languageId);if(!t.Type.isString(e.sourceLanguageId)||e.sourceLanguageId.trim()===""){throw new a.SourceCreationError("props.sourceLanguageId must be a string")}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Xe,e.sourceLanguageId);if(!t.Type.isString(e.apiKey)||e.apiKey.trim()===""){throw new a.SourceCreationError("props.apiKey must be a string")}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ke,s.load(e.apiKey,e.sourceLanguageId));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ve,new se({googleSource:babelHelpers.assertThisInitialized(i),languageId:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),De)}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ze,new G({googleSource:babelHelpers.assertThisInitialized(i),languageId:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),De)}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),qe,new Ge({googleSource:babelHelpers.assertThisInitialized(i),map:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ve)}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Je,new Ue({googleSource:babelHelpers.assertThisInitialized(i),map:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ve)}));return i}babelHelpers.createClass(r,[{key:"sourceCode",get:function e(){return babelHelpers.classPrivateFieldGet(this,je)}},{key:"loaderPromise",get:function e(){return babelHelpers.classPrivateFieldGet(this,Ke)}},{key:"map",get:function e(){return babelHelpers.classPrivateFieldGet(this,Ve)}},{key:"autocompleteService",get:function e(){return babelHelpers.classPrivateFieldGet(this,Ze)}},{key:"photoService",get:function e(){return babelHelpers.classPrivateFieldGet(this,qe)}},{key:"geocodingService",get:function e(){return babelHelpers.classPrivateFieldGet(this,Je)}},{key:"languageId",get:function e(){return babelHelpers.classPrivateFieldGet(this,De)}}]);return r}(a.BaseSource);e.Google=$e})(this.BX.Location.Google=this.BX.Location.Google||{},BX,BX.Location.Core);
//# sourceMappingURL=google.bundle.map.js