this.BX=this.BX||{};(function(e,t){"use strict";function n(){var e=babelHelpers.taggedTemplateLiteral(["",""]);n=function t(){return e};return e}function i(){var e=babelHelpers.taggedTemplateLiteral(['<input \n\t\t\t\tonchange="','" \n\t\t\t\tname="','"\n\t\t\t\tvalue=""\n\t\t\t\tclass="','"\n\t\t\t\ttype="file">']);i=function t(){return e};return e}function a(){var e=babelHelpers.taggedTemplateLiteral(['<div class="','">',"</div>"]);a=function t(){return e};return e}function r(){var e=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<div class="',"",'">\n\t\t\t\t\t',"","\n\t\t\t\t</div>\n\t\t\t"]);r=function t(){return e};return e}function l(){var e=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<div class="'," ",'">\n\t\t\t\t\t<div class="','"></div>\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"]);l=function t(){return e};return e}function c(){var e=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<label class="'," ",'">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t\t</label>\n\t\t\t\t<span></span>\n\t\t\t\t","\n\t\t\t"]);c=function t(){return e};return e}function s(){var e=babelHelpers.taggedTemplateLiteral(['<label class="'," ",'">',"","","</label>"]);s=function t(){return e};return e}function o(){var e=babelHelpers.taggedTemplateLiteral(['<span class="ui-ctl-after" data-hint="','"></span>']);o=function t(){return e};return e}function u(){var e=babelHelpers.taggedTemplateLiteral(["",""]);u=function t(){return e};return e}function d(){var e=babelHelpers.taggedTemplateLiteral(["",""]);d=function t(){return e};return e}var f=function(){function e(n){var i=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{config:[],fields:[],data:[],classes:{},container:null};babelHelpers.classCallCheck(this,e);this.id=n;this.config=a.config;this.fields=a.fields;this.data=a.data;if(a.container){this.setContainer(a.container)}this.classes=new Map([["sectionContainer","salescenter-form-settings-section"],["sectionTitle","ui-title-6"],["controlContainer","salescenter-control-container"],["controlRequired","salescenter-control-required"],["controlTitle","ui-ctl-label-text"],["controlInner","ui-ctl ui-ctl-w100"],["controlAfterIcon","ui-ctl-after-icon"],["controlSelect","ui-ctl-dropdown ui-ctl-after-icon"],["controlSelectIcon","ui-ctl-after ui-ctl-icon-angle"],["controlFile","ui-ctl-file-btn ui-ctl-w33"],["controlInput","ui-ctl-element"],["controlCheckbox","ui-ctl-checkbox"],["controlCheckboxLabel","ui-ctl-label-text"]]);if(t.Type.isPlainObject(a.classes)){this.classes.forEach(function(e,n){if(t.Type.isString(a.classes[n])){i.classes[n]=a.classes[n]}})}}babelHelpers.createClass(e,[{key:"render",value:function e(){var n=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var a="";this.config.forEach(function(e){a+=n.renderSection(e)});var r=t.Tag.render(d(),a);if(!t.Type.isArray(r)){r=[r]}if(t.Type.isDomNode(i)){r.forEach(function(e){i.appendChild(e)})}return r}},{key:"renderField",value:function e(n){var i="";if(!t.Type.isObject(n)){return i}if(!n.html){n.html=this.renderFieldInput(n)}if(t.Type.isDomNode(n.html)){n.input=n.html;n.html=n.html.innerHTML}else{n.input=t.Tag.render(u(),n.html)}var d="";var f="";if(n.hint){f=t.Tag.render(o(),t.Text.encode(n.hint))}var h="";if(n.title){h='<div class="'.concat(this.classes.get("controlTitle")," ").concat(n.required?this.classes.get("controlRequired"):"",'">').concat(t.Text.encode(n.title),"</div>")}if(n.html.indexOf('type="checkbox"')>0){d=t.Tag.render(s(),this.classes.get("controlInner"),this.classes.get("controlCheckbox"),n.input,n.title?'<div class="'+this.classes.get("controlCheckboxLabel")+'">'+t.Text.encode(n.title)+"</div>":"",f)}else if(n.type==="file"){var p="";if(n.addHidden===true){var v={name:n.name,type:"hidden",value:n.value};p=this.renderFieldInput(v)}d=t.Tag.render(c(),h,this.classes.get("controlInner"),this.classes.get("controlFile"),n.input,n.label?'<div class="ui-ctl-label-text">'+t.Text.encode(n.label)+"</div>":"",p)}else if(n.type==="list"||n.html.indexOf("select")>0){d=t.Tag.render(l(),h,this.classes.get("controlSelect"),this.classes.get("controlInner"),this.classes.get("controlSelectIcon"),n.input)}else{d=t.Tag.render(r(),h,this.classes.get("controlInner"),f?" "+this.classes.get("controlAfterIcon"):"",n.input,f)}i=t.Tag.render(a(),this.classes.get("controlContainer"),d);return i}},{key:"renderFieldInput",value:function e(n){var a="";var r=n.type;if(!r){r="text"}var l="";if(n.hasOwnProperty("value")){l=t.Text.encode(n.value)}else if(this.data[n.name]){l=t.Text.encode(this.data[n.name])}var c="";if(n.required===true){c=' required="required"'}if(r==="text"){a='<input name="'.concat(n.name,'"\n\t\t\t\tclass="').concat(this.classes.get("controlInput"),'"\n\t\t\t\tvalue="').concat(l,'"').concat(c,'\n\t\t\t\ttype="text">')}else if(r==="boolean"){l="Y";a='<input type="checkbox" name="'.concat(t.Text.encode(n.name),'"').concat(this.data[n.name]===l?' checked="checked"':"").concat(n.disabled?' disabled="disabled"':"").concat(c,'\n\t\t\t\tvalue="').concat(l,'" class="').concat(this.classes.get("controlInput"),'">')}else if(r==="list"){a='<select class="'.concat(this.classes.get("controlInput"),'" name="').concat(t.Text.encode(n.name),'"').concat(c,">");if(n.data&&t.Type.isArray(n.data.items)){n.data.items.forEach(function(e){a+="<option".concat(t.Type.isString(e.VALUE)?' value="'+t.Text.encode(e.VALUE)+'"':"").concat(e.SELECTED?' selected="selected"':"",">").concat(t.Text.encode(e.NAME),"</option>")})}a+="</select>"}else if(r==="hidden"){a='<input name="'.concat(t.Text.encode(n.name),'"\n\t\t\t\tvalue="').concat(l,'"\n\t\t\t\ttype="hidden">')}else if(r==="file"){var s=function e(n){var i=n.target;var a=i.value.split(/(\\|\/)/g).pop();i.parentNode.nextSibling.innerText=t.Text.encode(a)};a=t.Tag.render(i(),s,t.Text.encode(n.name),this.classes.get("controlInput"))}return a}},{key:"renderSection",value:function i(a){var r=this;var l=null;if(!t.Type.isObject(a)){return l}if(!t.Type.isArray(a.elements)){a.elements=[]}var c="";if(a.name){c=' id="'+this.id+"-"+a.name+'"'}l="<div".concat(c,' class="').concat(this.classes.get("sectionContainer"),'">');if(a.title){l+='<div class="'.concat(this.classes.get("sectionTitle"),'">').concat(t.Text.encode(a.title),'</div><hr class="ui-hr ui-mb-15">')}l+="</div>";l=t.Tag.render(n(),l);a.elements.forEach(function(n){if(t.Type.isObject(n)&&n.name){var i=e.getByName(r.fields,n.name);if(i){l.appendChild(r.renderField(i))}}});return l}},{key:"setContainer",value:function e(n){if(t.Type.isDomNode(n)){this.container=n}}},{key:"getContainer",value:function e(){var t=this.container;if(!t){t=document}return t}},{key:"getFieldInput",value:function e(t){if(!t.input){var n=this.getContainer();t.input=n.querySelector('[name="'+t.name+'"]')}return t.input}},{key:"getData",value:function e(){var n=this;var i={};var a=this.getContainer();if(a.nodeName==="FORM"){return new FormData(a)}this.fields.forEach(function(e){var a=n.getFieldInput(e);if(t.Type.isDomNode(a)){if(a.getAttribute("type")==="checkbox"){if(a.checked){i[e.name]=t.Text.decode(a.value)}}else{i[e.name]=t.Text.decode(a.value)}}});return i}}],[{key:"getByName",value:function e(n,i){var a=[];if(t.Type.isArray(n)&&t.Type.isString(i)){a=n.filter(function(e){return e.name===i});if(a.length>0){return a[0]}}return null}}]);return e}();e.Form=f})(this.BX.Salescenter=this.BX.Salescenter||{},BX);
//# sourceMappingURL=form.bundle.map.js