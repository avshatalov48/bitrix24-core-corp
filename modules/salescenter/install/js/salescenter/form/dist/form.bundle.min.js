this.BX=this.BX||{};(function(t,e){"use strict";function n(){var t=babelHelpers.taggedTemplateLiteral(["",""]);n=function e(){return t};return t}function i(){var t=babelHelpers.taggedTemplateLiteral(['<input \n\t\t\t\tonchange="','" \n\t\t\t\tname="','"\n\t\t\t\tvalue=""\n\t\t\t\tclass="','"\n\t\t\t\ttype="file">']);i=function e(){return t};return t}function a(){var t=babelHelpers.taggedTemplateLiteral(['<div class="','">',"</div>"]);a=function e(){return t};return t}function r(){var t=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<div class="',"",'">\n\t\t\t\t\t',"","\n\t\t\t\t</div>\n\t\t\t"]);r=function e(){return t};return t}function l(){var t=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<div class="'," ",'">\n\t\t\t\t\t<div class="','"></div>\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"]);l=function e(){return t};return t}function c(){var t=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<label class="'," ",'">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t\t</label>\n\t\t\t\t<span></span>\n\t\t\t\t","\n\t\t\t"]);c=function e(){return t};return t}function s(){var t=babelHelpers.taggedTemplateLiteral(['<label class="'," ",'">',"","","</label>"]);s=function e(){return t};return t}function o(){var t=babelHelpers.taggedTemplateLiteral(['<span class="ui-ctl-after" data-hint="','"></span>']);o=function e(){return t};return t}function u(){var t=babelHelpers.taggedTemplateLiteral(["",""]);u=function e(){return t};return t}function d(){var t=babelHelpers.taggedTemplateLiteral(["",""]);d=function e(){return t};return t}var f=function(){function t(n){var i=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{config:[],fields:[],data:[],classes:{},container:null};babelHelpers.classCallCheck(this,t);this.id=n;this.config=a.config;this.fields=a.fields;this.data=a.data;if(a.container){this.setContainer(a.container)}this.classes=new Map([["sectionContainer","salescenter-form-settings-section"],["sectionTitle","ui-title-6"],["controlContainer","salescenter-control-container"],["controlRequired","salescenter-control-required"],["controlTitle","ui-ctl-label-text"],["controlInner","ui-ctl ui-ctl-w100"],["controlAfterIcon","ui-ctl-after-icon"],["controlSelect","ui-ctl-dropdown ui-ctl-after-icon"],["controlSelectIcon","ui-ctl-after ui-ctl-icon-angle"],["controlFile","ui-ctl-file-btn ui-ctl-w33"],["controlInput","ui-ctl-element"],["controlCheckbox","ui-ctl-checkbox"],["controlCheckboxLabel","ui-ctl-label-text"]]);if(e.Type.isPlainObject(a.classes)){this.classes.forEach(function(t,n){if(e.Type.isString(a.classes[n])){i.classes[n]=a.classes[n]}})}}babelHelpers.createClass(t,[{key:"render",value:function t(){var n=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var a="";this.config.forEach(function(t){a+=n.renderSection(t)});var r=e.Tag.render(d(),a);if(!e.Type.isArray(r)){r=[r]}if(e.Type.isDomNode(i)){r.forEach(function(t){i.appendChild(t)})}return r}},{key:"renderField",value:function t(n){var i="";if(!e.Type.isObject(n)){return i}if(!n.html){n.html=this.renderFieldInput(n)}if(e.Type.isDomNode(n.html)){n.input=n.html;n.html=n.html.innerHTML}else{n.input=e.Tag.render(u(),n.html)}var d="";var f="";if(n.hint){f=e.Tag.render(o(),n.hint)}var h="";if(n.title){h='<div class="'.concat(this.classes.get("controlTitle")," ").concat(n.required?this.classes.get("controlRequired"):"",'">').concat(n.title,"</div>")}if(n.html.indexOf('type="checkbox"')>0){d=e.Tag.render(s(),this.classes.get("controlInner"),this.classes.get("controlCheckbox"),n.input,n.title?'<div class="'+this.classes.get("controlCheckboxLabel")+'">'+n.title+"</div>":"",f)}else if(n.type==="file"){var p="";if(n.addHidden===true){var v={name:n.name,type:"hidden",value:n.value};p=this.renderFieldInput(v)}d=e.Tag.render(c(),h,this.classes.get("controlInner"),this.classes.get("controlFile"),n.input,n.label?'<div class="ui-ctl-label-text">'+n.label+"</div>":"",p)}else if(n.type==="list"||n.html.indexOf("select")>0){d=e.Tag.render(l(),h,this.classes.get("controlSelect"),this.classes.get("controlInner"),this.classes.get("controlSelectIcon"),n.input)}else{d=e.Tag.render(r(),h,this.classes.get("controlInner"),f?" "+this.classes.get("controlAfterIcon"):"",n.input,f)}i=e.Tag.render(a(),this.classes.get("controlContainer"),d);return i}},{key:"renderFieldInput",value:function t(n){var a="";var r=n.type;if(!r){r="text"}var l="";if(n.hasOwnProperty("value")){l=n.value}else if(this.data[n.name]){l=this.data[n.name]}var c="";if(n.required===true){c=' required="required"'}if(r==="text"){a='<input name="'.concat(n.name,'"\n\t\t\t\tclass="').concat(this.classes.get("controlInput"),'"\n\t\t\t\tvalue="').concat(l,'"').concat(c,'\n\t\t\t\ttype="text">')}else if(r==="boolean"){l="Y";a='<input type="checkbox" name="'.concat(n.name,'"').concat(this.data[n.name]===l?' checked="checked"':"").concat(n.disabled?' disabled="disabled"':"").concat(c,'\n\t\t\t\tvalue="').concat(l,'" class="').concat(this.classes.get("controlInput"),'">')}else if(r==="list"){a='<select class="'.concat(this.classes.get("controlInput"),'" name="').concat(n.name,'"').concat(c,">");if(n.data&&e.Type.isArray(n.data.items)){n.data.items.forEach(function(t){a+="<option".concat(e.Type.isString(t.VALUE)?' value="'+t.VALUE+'"':"").concat(t.SELECTED?' selected="selected"':"",">").concat(t.NAME,"</option>")})}a+="</select>"}else if(r==="hidden"){a='<input name="'.concat(n.name,'"\n\t\t\t\tvalue="').concat(l,'"\n\t\t\t\ttype="hidden">')}else if(r==="file"){var s=function t(e){var n=e.target;var i=n.value.split(/(\\|\/)/g).pop();n.parentNode.nextSibling.innerText=i};a=e.Tag.render(i(),s,n.name,this.classes.get("controlInput"))}return a}},{key:"renderSection",value:function i(a){var r=this;var l=null;if(!e.Type.isObject(a)){return l}if(!e.Type.isArray(a.elements)){a.elements=[]}var c="";if(a.name){c=' id="'+this.id+"-"+a.name+'"'}l="<div".concat(c,' class="').concat(this.classes.get("sectionContainer"),'">');if(a.title){l+='<div class="'.concat(this.classes.get("sectionTitle"),'">').concat(a.title,'</div><hr class="ui-hr ui-mb-15">')}l+="</div>";l=e.Tag.render(n(),l);a.elements.forEach(function(n){if(e.Type.isObject(n)&&n.name){var i=t.getByName(r.fields,n.name);if(i){l.appendChild(r.renderField(i))}}});return l}},{key:"setContainer",value:function t(n){if(e.Type.isDomNode(n)){this.container=n}}},{key:"getContainer",value:function t(){var e=this.container;if(!e){e=document}return e}},{key:"getFieldInput",value:function t(e){if(!e.input){var n=this.getContainer();e.input=n.querySelector('[name="'+e.name+'"]')}return e.input}},{key:"getData",value:function t(){var n=this;var i={};var a=this.getContainer();if(a.nodeName==="FORM"){return new FormData(a)}this.fields.forEach(function(t){var a=n.getFieldInput(t);if(e.Type.isDomNode(a)){if(a.getAttribute("type")==="checkbox"){if(a.checked){i[t.name]=a.value}}else{i[t.name]=a.value}}});return i}}],[{key:"getByName",value:function t(n,i){var a=[];if(e.Type.isArray(n)&&e.Type.isString(i)){a=n.filter(function(t){return t.name===i});if(a.length>0){return a[0]}}return null}}]);return t}();t.Form=f})(this.BX.Salescenter=this.BX.Salescenter||{},BX);
//# sourceMappingURL=form.bundle.map.js