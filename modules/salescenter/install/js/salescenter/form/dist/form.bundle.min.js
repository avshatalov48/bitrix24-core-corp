this.BX=this.BX||{};(function(e,t){"use strict";var n,a,i,l,s,c,r,o,d,u,p,f,h;var g=function(){function e(n){var a=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{config:[],fields:[],data:[],classes:{},container:null};babelHelpers.classCallCheck(this,e);this.id=n;this.config=i.config;this.fields=i.fields;this.data=i.data;if(i.container){this.setContainer(i.container)}this.classes=new Map([["sectionContainer","salescenter-form-settings-section"],["sectionTitle","ui-title-6"],["controlContainer","salescenter-control-container"],["controlRequired","salescenter-control-required"],["subtextContainer","salescenter-subtext-container"],["subtextLink","ui-link ui-link-dashed"],["controlTitle","ui-ctl-label-text"],["controlInner","ui-ctl ui-ctl-w100"],["controlAfterIcon","ui-ctl-after-icon"],["controlSelect","ui-ctl-dropdown ui-ctl-after-icon"],["controlSelectIcon","ui-ctl-after ui-ctl-icon-angle"],["controlFile","ui-ctl-file-btn ui-ctl-w33"],["controlInput","ui-ctl-element"],["controlCheckbox","ui-ctl-checkbox"],["controlCheckboxLabel","ui-ctl-label-text"]]);if(t.Type.isPlainObject(i.classes)){this.classes.forEach((function(e,n){if(t.Type.isString(i.classes[n])){a.classes[n]=i.classes[n]}}))}}babelHelpers.createClass(e,[{key:"render",value:function e(){var a=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var l="";this.config.forEach((function(e){l+=a.renderSection(e)}));var s=t.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(["",""])),l);if(!t.Type.isArray(s)){s=[s]}if(t.Type.isDomNode(i)){s.forEach((function(e){i.appendChild(e)}))}return s}},{key:"renderField",value:function e(n){var f="";if(!t.Type.isObject(n)){return f}if(!n.html){n.html=this.renderFieldInput(n)}if(t.Type.isDomNode(n.html)){n.input=n.html;n.html=n.html.innerHTML}else{n.input=t.Tag.render(a||(a=babelHelpers.taggedTemplateLiteral(["",""])),n.html)}var h="";var g="";if(n.hint){g=t.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['<span class="ui-ctl-after" data-hint="','"></span>'])),t.Text.encode(n.hint))}var v="";if(n.title){v=t.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['<div class="'," ",'">',"</div>"])),this.classes.get("controlTitle"),n.required?this.classes.get("controlRequired"):"",t.Text.encode(n.title))}var b="";if(n.subtextLinkOnClick&&n.subtextLinkText){b=t.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<a onclick="','" class="','">',"</a>"])),t.Text.encode(n.subtextLinkOnClick),this.classes.get("subtextLink"),t.Text.encode(n.subtextLinkText))}var T="";if(n.subtext){T=t.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['<div class="','">'," ","</div>"])),this.classes.get("subtextContainer"),t.Text.encode(n.subtext),b)}if(n.html.indexOf('type="checkbox"')>0){h=t.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['<label class="'," ",'">',"","","</label>"])),this.classes.get("controlInner"),this.classes.get("controlCheckbox"),n.input,n.title?'<div class="'+this.classes.get("controlCheckboxLabel")+'">'+t.Text.encode(n.title)+"</div>":"",g)}else if(n.type==="file"){var m="";if(n.addHidden===true){var x={name:n.name,type:"hidden",value:n.value};m=this.renderFieldInput(x)}h=t.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<label class="'," ",'">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t\t</label>\n\t\t\t\t<span></span>\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t"])),v,this.classes.get("controlInner"),this.classes.get("controlFile"),n.input,n.label?'<div class="ui-ctl-label-text">'+t.Text.encode(n.label)+"</div>":"",m,T)}else if(n.type==="list"||n.html.indexOf("select")>0){h=t.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<div class="'," ",'">\n\t\t\t\t\t<div class="','"></div>\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t"])),v,this.classes.get("controlSelect"),this.classes.get("controlInner"),this.classes.get("controlSelectIcon"),n.input,T)}else{h=t.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t",'\n\t\t\t\t<div class="',"",'">\n\t\t\t\t\t',"","\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t"])),v,this.classes.get("controlInner"),g?" "+this.classes.get("controlAfterIcon"):"",n.input,g,T)}f=t.Tag.render(p||(p=babelHelpers.taggedTemplateLiteral(['<div class="','">',"</div>"])),this.classes.get("controlContainer"),h);return f}},{key:"renderFieldInput",value:function e(n){var a="";var i=n.type;if(!i){i="text"}var l="";if(n.hasOwnProperty("value")){l=t.Text.encode(n.value)}else if(this.data[n.name]){l=t.Text.encode(this.data[n.name])}var s="";if(n.required===true){s=' required="required"'}var c="";if(n.attribute&&t.Type.isArray(n.attribute)){c=n.attribute.join(" ")}if(i==="text"){a='<input name="'.concat(n.name,'"\n\t\t\t\tclass="').concat(this.classes.get("controlInput"),'"\n\t\t\t\tvalue="').concat(l,'"').concat(s,'\n\t\t\t\ttype="text"\n\t\t\t\t').concat(c,">")}else if(i==="boolean"){l="Y";a='<input type="checkbox" name="'.concat(t.Text.encode(n.name),'"').concat(this.data[n.name]===l?' checked="checked"':"").concat(n.disabled?' disabled="disabled"':"").concat(s,'\n\t\t\t\tvalue="').concat(l,'" class="').concat(this.classes.get("controlInput"),'">')}else if(i==="list"){a='<select class="'.concat(this.classes.get("controlInput"),'" name="').concat(t.Text.encode(n.name),'"').concat(s,">");if(n.data&&t.Type.isArray(n.data.items)){n.data.items.forEach((function(e){a+="<option".concat(t.Type.isString(e.VALUE)?' value="'+t.Text.encode(e.VALUE)+'"':"").concat(e.SELECTED?' selected="selected"':"",">").concat(t.Text.encode(e.NAME),"</option>")}))}a+="</select>"}else if(i==="hidden"){a='<input name="'.concat(t.Text.encode(n.name),'"\n\t\t\t\tvalue="').concat(l,'"\n\t\t\t\ttype="hidden">')}else if(i==="file"){var r=function e(n){var a=n.target;var i=a.value.split(/(\\|\/)/g).pop();a.parentNode.nextSibling.innerText=t.Text.encode(i)};a=t.Tag.render(f||(f=babelHelpers.taggedTemplateLiteral(['<input \n\t\t\t\tonchange="','" \n\t\t\t\tname="','"\n\t\t\t\tvalue=""\n\t\t\t\tclass="','"\n\t\t\t\ttype="file">'])),r,t.Text.encode(n.name),this.classes.get("controlInput"))}return a}},{key:"renderSection",value:function n(a){var i=this;var l=null;if(!t.Type.isObject(a)){return l}if(!t.Type.isArray(a.elements)){a.elements=[]}var s="";if(a.name){s=' id="'+this.id+"-"+a.name+'"'}l="<div".concat(s,' class="').concat(this.classes.get("sectionContainer"),'">');if(a.title){l+='<div class="'.concat(this.classes.get("sectionTitle"),'">').concat(t.Text.encode(a.title),'</div><hr class="ui-hr ui-mb-15">')}l+="</div>";l=t.Tag.render(h||(h=babelHelpers.taggedTemplateLiteral(["",""])),l);a.elements.forEach((function(n){if(t.Type.isObject(n)&&n.name){var a=e.getByName(i.fields,n.name);if(a){l.appendChild(i.renderField(a))}}}));return l}},{key:"setContainer",value:function e(n){if(t.Type.isDomNode(n)){this.container=n}}},{key:"getContainer",value:function e(){var t=this.container;if(!t){t=document}return t}},{key:"getFieldInput",value:function e(t){if(!t.input){var n=this.getContainer();t.input=n.querySelector('[name="'+t.name+'"]')}return t.input}},{key:"getData",value:function e(){var n=this;var a={};var i=this.getContainer();if(i.nodeName==="FORM"){return new FormData(i)}this.fields.forEach((function(e){var i=n.getFieldInput(e);if(t.Type.isDomNode(i)){if(i.getAttribute("type")==="checkbox"){if(i.checked){a[e.name]=t.Text.decode(i.value)}}else{a[e.name]=t.Text.decode(i.value)}}}));return a}}],[{key:"getByName",value:function e(n,a){var i=[];if(t.Type.isArray(n)&&t.Type.isString(a)){i=n.filter((function(e){return e.name===a}));if(i.length>0){return i[0]}}return null}}]);return e}();e.Form=g})(this.BX.Salescenter=this.BX.Salescenter||{},BX);
//# sourceMappingURL=form.bundle.map.js