{"version":3,"file":"manager.bundle.js","sources":["../src/manager.js"],"sourcesContent":["import 'clipboard';\nimport {rest as Rest} from 'rest.client';\nimport 'loadext';\nimport 'popup';\nimport 'sidepanel';\nimport {PULL as Pull} from \"pull.client\";\n\nexport class Manager\n{\n\tstatic init(options = {\n\t\tconnectedSiteId: 0,\n\t\tisSitePublished: false,\n\t\tisSiteExists: false,\n\t})\n\t{\n\t\toptions.connectedSiteId = parseInt(options.connectedSiteId);\n\t\tif(options.connectedSiteId > 0)\n\t\t{\n\t\t\tManager.connectedSiteId = options.connectedSiteId;\n\t\t}\n\t\tif(typeof options.siteTemplateCode === 'string')\n\t\t{\n\t\t\tManager.siteTemplateCode = options.siteTemplateCode;\n\t\t}\n\t\tif(typeof options.isSitePublished === \"boolean\")\n\t\t{\n\t\t\tManager.isSitePublished = options.isSitePublished;\n\t\t}\n\t\tif(typeof options.isSiteExists === \"boolean\")\n\t\t{\n\t\t\tManager.isSiteExists = options.isSiteExists;\n\t\t}\n\n\t\tif(!Manager.isPullInited)\n\t\t{\n\t\t\tManager.initPull();\n\t\t}\n\t}\n\n\tstatic connect()\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!Manager.isSitePublished)\n\t\t\t{\n\t\t\t\tif(Manager.connectedSiteId > 0 && Manager.isSiteExists)\n\t\t\t\t{\n\t\t\t\t\tManager.publicConnectedSite().then((result) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}).catch((reason) =>\n\t\t\t\t\t{\n\t\t\t\t\t\treject(reason);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet url = '/shop/stores/site/edit/0/?IFRAME=Y&IFRAME_TYPE=SIDE_SLIDER&no_redirect=Y';\n\t\t\t\t\tif(Manager.siteTemplateCode)\n\t\t\t\t\t{\n\t\t\t\t\t\turl = BX.util.add_url_param(url, {tpl : Manager.siteTemplateCode});\n\t\t\t\t\t}\n\t\t\t\t\tManager.onSetConnectedSiteHandler = () =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(Manager.isSiteExists)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tManager.publicConnectedSite().then((result) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t\t}).catch((reason) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treject(reason);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tManager.openSlider(url);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic publicConnectedSite()\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(Manager.connectedSiteId > 0 && !Manager.isSitePublished)\n\t\t\t{\n\t\t\t\tRest.callMethod('landing.site.publication', {id: Manager.connectedSiteId}).then((result) =>\n\t\t\t\t{\n\t\t\t\t\tManager.isSitePublished = true;\n\t\t\t\t\tManager.firePublicConnectedSiteEvent();\n\t\t\t\t\tresolve(result);\n\t\t\t\t}).catch((reason) =>\n\t\t\t\t{\n\t\t\t\t\treject(reason);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic firePublicConnectedSiteEvent()\n\t{\n\t\ttop.BX.onCustomEvent('Salescenter.Manager:onPublicConnectedSite', {\n\t\t\tisSitePublished: true\n\t\t});\n\t}\n\n\tstatic addPublicConnectedSiteEventHandler(callback)\n\t{\n\t\tif(typeof callback === 'function')\n\t\t{\n\t\t\ttop.BX.addCustomEvent('Salescenter.Manager:onPublicConnectedSite', callback);\n\t\t}\n\t}\n\n\tstatic copyUrl(url)\n\t{\n\t\tBX.clipboard.copy(url);\n\t}\n\n\tstatic addCustomPage()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tManager.getAddUrlPopup().then((popup) => {\n\t\t\t\tpopup.show();\n\t\t\t});\n\t\t\tManager.addUrlResolve = resolve;\n\t\t});\n\t}\n\n\tstatic resolveAddPopup()\n\t{\n\t\tif(Manager.addUrlResolve && typeof Manager.addUrlResolve === 'function')\n\t\t{\n\t\t\tManager.addUrlResolve();\n\t\t\tManager.addUrlResolve = null;\n\t\t}\n\t}\n\n\tstatic initPopupTemplate()\n\t{\n\t\treturn new Promise(resolve => {\n\t\t\tBX.loadExt('salescenter.url_popup').then(() =>\n\t\t\t{\n\t\t\t\tManager.templateEngine = BX.Vue.create({\n\t\t\t\t\tel: document.createElement('div'),\n\t\t\t\t\ttemplate: '<bx-salescenter-url-popup/>',\n\t\t\t\t\tmounted()\n\t\t\t\t\t{\n\t\t\t\t\t\tManager.popupNode = this.$el;\n\t\t\t\t\t\tthis.$app = Manager;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic getAddUrlPopup()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(!Manager.addUrlPopup)\n\t\t\t{\n\t\t\t\tManager.initPopupTemplate().then(() =>\n\t\t\t\t{\n\t\t\t\t\tManager.addUrlPopup = new BX.PopupWindow('salescenter-app-add-url', null, {\n\t\t\t\t\t\tzIndex: 200,\n\t\t\t\t\t\tautoHide: true,\n\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\tcloseIcon: true,\n\t\t\t\t\t\tcontent : Manager.popupNode,\n\t\t\t\t\t\ttitleBar: BX.message('SALESCENTER_ACTION_ADD_CUSTOM_TITLE'),\n\t\t\t\t\t\tcontentColor: 'white',\n\t\t\t\t\t\tmaxWidth: 300,\n\t\t\t\t\t\tevents : {\n\t\t\t\t\t\t\tonPopupClose: () =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tManager.resolveAddPopup();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonPopupDestroy : () =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tManager.addUrlPopup = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tresolve(Manager.addUrlPopup);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve(Manager.addUrlPopup);\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic addPage(fields)\n\t{\n\t\treturn Rest.callMethod('salescenter.page.add', {\n\t\t\tfields: fields\n\t\t});\n\t}\n\n\tstatic checkUrl(url)\n\t{\n\t\treturn Rest.callMethod('salescenter.page.geturldata', {\n\t\t\turl: url\n\t\t});\n\t}\n\n\tstatic addSitePage()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(Manager.connectedSiteId > 0)\n\t\t\t{\n\t\t\t\tBX.loadExt('landing.master').then(() =>\n\t\t\t\t{\n\t\t\t\t\tBX.Landing.UI.Panel.URLList\n\t\t\t\t\t\t.getInstance()\n\t\t\t\t\t\t.show('landing', {siteId: Manager.connectedSiteId})\n\t\t\t\t\t\t.then((result) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tManager.addPage({\n\t\t\t\t\t\t\t\thidden: false,\n\t\t\t\t\t\t\t\tlandingId: result.id\n\t\t\t\t\t\t\t}).then((result) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tManager.openSlider('/bitrix/components/bitrix/salescenter.connect/slider.php').then(() =>\n\t\t\t\t{\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic addStorePage()\n\t{\n\t\treturn Manager.addSitePage();\n\t}\n\n\tstatic hidePage(pageId)\n\t{\n\t\tconst method = 'salescenter.page.hide';\n\t\tconst data = {\n\t\t\tid: pageId,\n\t\t\tfields: {\n\t\t\t\thidden: true,\n\t\t\t}\n\t\t};\n\n\t\treturn Rest.callMethod(method, data);\n\t}\n\n\tstatic deleteUrl(pageId)\n\t{\n\t\tconst method = 'salescenter.page.delete';\n\t\tconst data = {\n\t\t\tid: pageId,\n\t\t};\n\n\t\treturn Rest.callMethod(method, data);\n\t}\n\n\tstatic editLandingPage(pageId)\n\t{\n\t\twindow.open('/shop/stores/site/' + Manager.connectedSiteId + '/view/' + pageId + '/', '_blank');\n\t}\n\n\tstatic openSlider(url)\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(typeof url === \"string\" && url.length > 1)\n\t\t\t{\n\t\t\t\tBX.SidePanel.Instance.open(url, {\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonClose: () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic showOrdersList()\n\t{\n\t\treturn Manager.openSlider('/saleshub/orders/');\n\t}\n\n\tstatic showOrderAdd()\n\t{\n\t\treturn Manager.openSlider('/shop/orders/details/0/');\n\t}\n\n\tstatic initPull()\n\t{\n\t\tManager.isPullInited = true;\n\t\tPull.subscribe({\n\t\t\tmoduleId: 'salescenter',\n\t\t\tcommand: 'SETCONNECTEDSITE',\n\t\t\tcallback: (params) =>\n\t\t\t{\n\t\t\t\tManager.init(params);\n\t\t\t\tManager.onSetConnectedSite();\n\t\t\t},\n\t\t});\n\t}\n\n\tstatic onSetConnectedSite()\n\t{\n\t\tif(typeof Manager.onSetConnectedSiteHandler === 'function')\n\t\t{\n\t\t\tManager.onSetConnectedSiteHandler();\n\t\t\tManager.onSetConnectedSiteHandler = null;\n\t\t}\n\t}\n}\n\nManager.connectedSiteId = null;\nManager.addUrlPopup = null;\nManager.addUrlResolve = null;\nManager.popupNode = null;\nManager.siteTemplateCode = null;\nManager.isSitePublished = null;\nManager.isSiteExists = null;\nManager.isPullInited = false;\nManager.onSetConnectedSiteHandler = null;"],"names":["Manager","options","connectedSiteId","isSitePublished","isSiteExists","parseInt","siteTemplateCode","isPullInited","initPull","Promise","resolve","reject","publicConnectedSite","then","result","catch","reason","url","BX","util","add_url_param","tpl","onSetConnectedSiteHandler","openSlider","Rest","callMethod","id","firePublicConnectedSiteEvent","top","onCustomEvent","callback","addCustomEvent","clipboard","copy","getAddUrlPopup","popup","show","addUrlResolve","loadExt","templateEngine","Vue","create","el","document","createElement","template","mounted","popupNode","$el","$app","addUrlPopup","initPopupTemplate","PopupWindow","zIndex","autoHide","closeByEsc","closeIcon","content","titleBar","message","contentColor","maxWidth","events","onPopupClose","resolveAddPopup","onPopupDestroy","fields","Landing","UI","Panel","URLList","getInstance","siteId","addPage","hidden","landingId","addSitePage","pageId","method","data","window","open","length","SidePanel","Instance","onClose","Pull","subscribe","moduleId","command","params","init","onSetConnectedSite"],"mappings":"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"}