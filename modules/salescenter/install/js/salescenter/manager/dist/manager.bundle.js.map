{"version":3,"file":"manager.bundle.js","sources":["../src/manager.js"],"sourcesContent":["import {rest as Rest} from 'rest.client';\nimport {Type, Uri, ajax as Ajax, Event} from 'main.core';\nimport {BaseButton} from 'ui.buttons';\n\nimport 'clipboard';\nimport 'loadext';\nimport 'popup';\nimport 'sidepanel';\n\nimport './manager.css';\n\nexport class Manager\n{\n\tstatic sessionId = null;\n\tstatic connectedSiteId = null;\n\tstatic addUrlPopup = null;\n\tstatic addUrlResolve = null;\n\tstatic popupNode = null;\n\tstatic siteTemplateCode = null;\n\tstatic isSitePublished = null;\n\tstatic isSiteExists = null;\n\tstatic isOrderPublicUrlAvailable = null;\n\tstatic isPullInited = false;\n\tstatic connectPath = null;\n\tstatic fieldsMap = null;\n\n\tstatic init(options)\n\t{\n\t\toptions.connectedSiteId = parseInt(options.connectedSiteId);\n\t\tif(options.connectedSiteId > 0)\n\t\t{\n\t\t\tManager.connectedSiteId = options.connectedSiteId;\n\t\t}\n\t\toptions.sessionId = parseInt(options.sessionId);\n\t\tif(options.sessionId > 0)\n\t\t{\n\t\t\tManager.sessionId = options.sessionId;\n\t\t}\n\t\tif(Type.isString(options.siteTemplateCode))\n\t\t{\n\t\t\tManager.siteTemplateCode = options.siteTemplateCode;\n\t\t}\n\t\tif(Type.isString(options.connectPath))\n\t\t{\n\t\t\tManager.connectPath = options.connectPath;\n\t\t}\n\t\tif(Type.isBoolean(options.isSitePublished))\n\t\t{\n\t\t\tManager.isSitePublished = options.isSitePublished;\n\t\t}\n\t\tif(Type.isBoolean(options.isSiteExists))\n\t\t{\n\t\t\tManager.isSiteExists = options.isSiteExists;\n\t\t}\n\t\tif(Type.isBoolean(options.isOrderPublicUrlAvailable))\n\t\t{\n\t\t\tManager.isOrderPublicUrlAvailable = options.isOrderPublicUrlAvailable;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tManager.isOrderPublicUrlAvailable = false;\n\t\t}\n\n\t\tif(!Manager.isPullInited)\n\t\t{\n\t\t\tEvent.ready(Manager.initPull);\n\t\t}\n\n\t\t// the crutch to load landings dynamically\n\t\tif(!top.BX.Landing)\n\t\t{\n\t\t\ttop.BX.Landing = {\n\t\t\t\tPageObject: {},\n\t\t\t\tMain: {},\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic loadConfig()\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tRest.callMethod('salescenter.manager.getConfig').then((result) =>\n\t\t\t{\n\t\t\t\tManager.init(result.answer.result);\n\t\t\t\tresolve(result.answer.result);\n\t\t\t}).catch((reason) =>\n\t\t\t{\n\t\t\t\treject(reason);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Shows slider with module description and connect button.\n\t *\n\t * @returns {Promise<any>}\n\t */\n\tstatic startConnection(params = {})\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!Manager.connectPath)\n\t\t\t{\n\t\t\t\treject('no connect path');\n\t\t\t}\n\n\t\t\tlet url = new Uri(Manager.connectPath);\n\t\t\tif(!Type.isPlainObject(params))\n\t\t\t{\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tparams.analyticsLabel = 'salescenterStartConnection';\n\t\t\turl.setQueryParams(params);\n\t\t\tManager.openSlider(url.toString(), {width: 760}).then(() =>\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}).catch((reason) =>\n\t\t\t{\n\t\t\t\treject(reason);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Shows slider with landing template.\n\t *\n\t * @param {Object} params\n\t * @returns {Promise<any>}\n\t */\n\tstatic connect(params)\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(Manager.connectedSiteId > 0 && Manager.isSiteExists)\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet url = new Uri('/shop/stores/site/edit/0/');\n\t\t\t\tif(!Type.isPlainObject(params))\n\t\t\t\t{\n\t\t\t\t\tparams = {};\n\t\t\t\t}\n\t\t\t\tparams.analyticsLabel = 'salescenterConnect';\n\t\t\t\tif(Manager.siteTemplateCode)\n\t\t\t\t{\n\t\t\t\t\tparams.tpl = Manager.siteTemplateCode;\n\t\t\t\t}\n\t\t\t\turl.setQueryParams(params);\n\t\t\t\tManager.openSlider(url.toString()).then(() =>\n\t\t\t\t{\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic publicConnectedSite()\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(Manager.connectedSiteId > 0 && !Manager.isSitePublished)\n\t\t\t{\n\t\t\t\tRest.callMethod('landing.site.publication', {id: Manager.connectedSiteId}).then((result) =>\n\t\t\t\t{\n\t\t\t\t\tManager.isSitePublished = true;\n\t\t\t\t\tManager.firePublicConnectedSiteEvent();\n\t\t\t\t\tresolve(result);\n\t\t\t\t}).catch((reason) =>\n\t\t\t\t{\n\t\t\t\t\treject(reason);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic firePublicConnectedSiteEvent()\n\t{\n\t\ttop.BX.onCustomEvent('Salescenter.Manager:onPublicConnectedSite', {\n\t\t\tisSitePublished: true\n\t\t});\n\t}\n\n\t/**\n\t * @returns BX.PopupWindow\n\t */\n\tstatic getPopup({id = '', title = '', text = '', buttons = []})\n\t{\n\t\tlet popup = BX.PopupWindowManager.getPopupById(id);\n\n\t\tconst content = `<div class=\"salescenter-popup\">\n\t\t\t<div class=\"salescenter-popup-title\">${title}</div>\n\t\t\t<div class=\"salescenter-popup-text\">${text}</div>\n\t\t</div>`;\n\t\tif(popup)\n\t\t{\n\t\t\tpopup.setContent(content);\n\t\t\tpopup.setButtons(buttons);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpopup = new BX.PopupWindow(id, null, {\n\t\t\t\tzIndex: 200,\n\t\t\t\tclassName: \"salescenter-connect-popup\",\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tpadding: 0,\n\t\t\t\tcloseIcon: true,\n\t\t\t\tcontent : content,\n\t\t\t\twidth: 400,\n\t\t\t\toverlay: true,\n\t\t\t\tlightShadow: false,\n\t\t\t\tbuttons: buttons,\n\t\t\t});\n\t\t}\n\n\t\treturn popup;\n\t}\n\n\tstatic showAfterConnectPopup()\n\t{\n\t\tconst popup = Manager.getPopup({\n\t\t\tid: 'salescenter-connect-popup',\n\t\t\ttitle: BX.message('SALESCENTER_MANAGER_CONNECT_POPUP_TITLE'),\n\t\t\ttext: BX.message('SALESCENTER_MANAGER_CONNECT_POPUP_DESCRIPTION'),\n\t\t\tbuttons: [\n\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\ttext : BX.message('SALESCENTER_MANAGER_CONNECT_POPUP_GO_BUTTON'),\n\t\t\t\t\tclassName : \"ui-btn ui-btn-md ui-btn-primary\",\n\t\t\t\t\tevents : {\n\t\t\t\t\t\tclick : () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tManager.openConnectedSite();\n\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tstatic copyUrl(url, event)\n\t{\n\t\tBX.clipboard.copy(url);\n\t\tif(event && event.target)\n\t\t{\n\t\t\tManager.showCopyLinkPopup(event.target);\n\t\t}\n\t}\n\n\tstatic showCopyLinkPopup = function(node) {\n\t\tif(Manager.popupOuterLink)\n\t\t{\n\t\t\tManager.popupOuterLink.destroy();\n\t\t\tManager.popupOuterLink = null;\n\t\t\tif(Manager.hideCopyLinkTimeout > 0)\n\t\t\t{\n\t\t\t\tclearTimeout(Manager.hideCopyLinkTimeout);\n\t\t\t\tManager.hideCopyLinkTimeout = 0;\n\t\t\t}\n\t\t\tif(Manager.destroyCopyLinkTimeout > 0)\n\t\t\t{\n\t\t\t\tclearTimeout(Manager.destroyCopyLinkTimeout);\n\t\t\t\tManager.destroyCopyLinkTimeout = 0;\n\t\t\t}\n\t\t}\n\n\t\tManager.popupOuterLink = new BX.PopupWindow('salescenter-popup-copy-link', node, {\n\t\t\tclassName: 'salescenter-popup-copy-link',\n\t\t\tdarkMode: true,\n\t\t\tcontent: BX.message('SALESCENTER_MANAGER_COPY_URL_SUCCESS'),\n\t\t\tzIndex: 5000,\n\t\t});\n\n\t\tManager.popupOuterLink.show();\n\n\t\tManager.hideCopyLinkTimeout = setTimeout(() =>\n\t\t{\n\t\t\tBX.hide(BX(Manager.popupOuterLink.uniquePopupId));\n\t\t\tManager.hideCopyLinkTimeout = 0;\n\t\t}, 2000);\n\n\t\tManager.destroyCopyLinkTimeout = setTimeout(() =>\n\t\t{\n\t\t\tManager.popupOuterLink.destroy();\n\t\t\tManager.popupOuterLink = null;\n\t\t\tManager.destroyCopyLinkTimeout = 0;\n\t\t}, 2200)\n\t};\n\n\tstatic addCustomPage(page)\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tManager.getAddUrlPopup().then((popup) => {\n\t\t\t\tManager.templateEngine.$emit('onAddUrlPopupCreate', page);\n\t\t\t\tpopup.show();\n\t\t\t});\n\t\t\tManager.addUrlResolve = resolve;\n\t\t\tManager.addingCustomPage = page;\n\t\t});\n\t}\n\n\tstatic resolveAddPopup(pageId, isSaved)\n\t{\n\t\tif(Manager.addUrlResolve && Type.isFunction(Manager.addUrlResolve))\n\t\t{\n\t\t\tManager.addUrlResolve(pageId);\n\t\t\tManager.addUrlResolve = null;\n\t\t}\n\t\tif(isSaved && pageId > 0)\n\t\t{\n\t\t\tif(Manager.addingCustomPage && Manager.addingCustomPage.id && parseInt(Manager.addingCustomPage.id) === parseInt(pageId))\n\t\t\t{\n\t\t\t\tManager.showNotification(BX.message('SALESCENTER_MANAGER_UPDATE_URL_SUCCESS'));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tManager.showNotification(BX.message('SALESCENTER_MANAGER_ADD_URL_SUCCESS'));\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initPopupTemplate()\n\t{\n\t\treturn new Promise(resolve =>\n\t\t{\n\t\t\tBX.loadExt('salescenter.url_popup').then(() =>\n\t\t\t{\n\t\t\t\tManager.templateEngine = BX.Vue.create({\n\t\t\t\t\tel: document.createElement('div'),\n\t\t\t\t\ttemplate: '<bx-salescenter-url-popup/>',\n\t\t\t\t\tmounted()\n\t\t\t\t\t{\n\t\t\t\t\t\tManager.popupNode = this.$el;\n\t\t\t\t\t\tthis.$app = Manager;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic handleAddUrlPopupAutoHide(event)\n\t{\n\t\tif(!Manager.addUrlPopup)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\tif(event.target !== Manager.addUrlPopup.getPopupContainer() && !Manager.addUrlPopup.getPopupContainer().contains(event.target))\n\t\t{\n\t\t\tlet urlFieldsPopupWindow = null;\n\t\t\tconst urlFieldsPopupMenu = BX.PopupMenu.getMenuById('salescenter-url-fields-popup');\n\t\t\tif(urlFieldsPopupMenu)\n\t\t\t{\n\t\t\t\turlFieldsPopupWindow = urlFieldsPopupMenu.popupWindow;\n\t\t\t}\n\t\t\tif(!urlFieldsPopupWindow)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(event.target.dataset['rootMenu'] === 'salescenter-url-fields-popup' || event.target.parentNode.dataset['rootMenu'] === 'salescenter-url-fields-popup')\n\t\t\t\t{\n\t\t\t\t\tif(!event.target.classList.contains('menu-popup-item-submenu') && !event.target.parentNode.classList.contains('menu-popup-item-submenu'))\n\t\t\t\t\t{\n\t\t\t\t\t\turlFieldsPopupWindow.close();\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tstatic getAddUrlPopup()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(!Manager.addUrlPopup)\n\t\t\t{\n\t\t\t\tManager.initPopupTemplate().then(() =>\n\t\t\t\t{\n\t\t\t\t\tManager.addUrlPopup = new BX.PopupWindow({\n\t\t\t\t\t\tid: 'salescenter-app-add-url',\n\t\t\t\t\t\tzIndex: 200,\n\t\t\t\t\t\tautoHide: true,\n\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\tcloseIcon: true,\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tcontentPadding: 0,\n\t\t\t\t\t\tcontent : Manager.popupNode,\n\t\t\t\t\t\ttitleBar: BX.message('SALESCENTER_ACTION_ADD_CUSTOM_TITLE'),\n\t\t\t\t\t\tcontentColor: 'white',\n\t\t\t\t\t\twidth: 600,\n\t\t\t\t\t\tautoHideHandler: Manager.handleAddUrlPopupAutoHide,\n\t\t\t\t\t\tevents : {\n\t\t\t\t\t\t\tonPopupClose: () =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlet newPageId = document.getElementById('salescenter-app-add-custom-url-id');\n\t\t\t\t\t\t\t\tconst isSaved = document.getElementById('salescenter-app-add-custom-url-is-saved').value === 'y';\n\t\t\t\t\t\t\t\tif(newPageId)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnewPageId = newPageId.value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnewPageId = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tManager.resolveAddPopup(newPageId, isSaved);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonPopupDestroy : () =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tManager.addUrlPopup = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tresolve(Manager.addUrlPopup);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve(Manager.addUrlPopup);\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic addPage(fields)\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tlet method, analyticsLabel;\n\t\t\tif(fields.analyticsLabel)\n\t\t\t{\n\t\t\t\tanalyticsLabel = fields.analyticsLabel;\n\t\t\t\tdelete(fields.analyticsLabel);\n\t\t\t}\n\t\t\tif(fields.id > 0)\n\t\t\t{\n\t\t\t\tmethod = Rest.callMethod('salescenter.page.update', {\n\t\t\t\t\tid: fields.id,\n\t\t\t\t\tfields: fields,\n\t\t\t\t});\n\t\t\t\tif(!analyticsLabel)\n\t\t\t\t{\n\t\t\t\t\tanalyticsLabel = 'salescenterUpdatePage';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmethod = Rest.callMethod('salescenter.page.add', {\n\t\t\t\t\tfields: fields,\n\t\t\t\t});\n\t\t\t\tif(!analyticsLabel)\n\t\t\t\t{\n\t\t\t\t\tanalyticsLabel = 'salescenterAddPage';\n\t\t\t\t}\n\t\t\t}\n\t\t\tmethod.then((result) =>\n\t\t\t{\n\t\t\t\tif(result.answer.result.page)\n\t\t\t\t{\n\t\t\t\t\tlet page = result.answer.result.page;\n\t\t\t\t\tlet source = 'other';\n\t\t\t\t\tif(page.landingId > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(parseInt(page.siteId) === parseInt(Manager.connectedSiteId))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsource = 'landing_store_chat';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsource = 'landing_other';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tManager.addAnalyticAction({\n\t\t\t\t\t\tanalyticsLabel: analyticsLabel,\n\t\t\t\t\t\tsource: source,\n\t\t\t\t\t\ttype: page.isWebform ? 'forms' : 'info',\n\t\t\t\t\t\tcode: page.code,\n\t\t\t\t\t}).then(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t}).catch((reason) =>\n\t\t\t{\n\t\t\t\treject(reason);\n\t\t\t})\n\t\t});\n\t}\n\n\tstatic checkUrl(url)\n\t{\n\t\treturn Rest.callMethod('salescenter.page.geturldata', {\n\t\t\turl: url\n\t\t});\n\t}\n\n\tstatic addSitePage(isWebform = false)\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tconst siteId = Manager.connectedSiteId;\n\t\t\tif (siteId > 0)\n\t\t\t{\n\t\t\t\tBX.loadExt('landing.master').then(() =>\n\t\t\t\t{\n\t\t\t\t\tBX.Landing.Env.getInstance().setOptions({site_id: siteId});\n\t\t\t\t\tBX.Landing.UI.Panel.URLList\n\t\t\t\t\t\t.getInstance()\n\t\t\t\t\t\t.show('landing', {siteId: siteId})\n\t\t\t\t\t\t.then((result) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tManager.addPage({\n\t\t\t\t\t\t\t\thidden: false,\n\t\t\t\t\t\t\t\tlandingId: result.id,\n\t\t\t\t\t\t\t\tisWebform: isWebform,\n\t\t\t\t\t\t\t}).then((result) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t\t\tManager.showNotification(BX.message('SALESCENTER_MANAGER_ADD_URL_SUCCESS'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tManager.openSlider('/bitrix/components/bitrix/salescenter.connect/slider.php').then(() =>\n\t\t\t\t{\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic showNotification(message)\n\t{\n\t\tif(!message)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tBX.loadExt('ui.notification').then(() =>\n\t\t{\n\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\tcontent: message\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic hidePage(page)\n\t{\n\t\tconst method = 'salescenter.page.hide';\n\t\tlet source = 'other';\n\t\tif(page.landingId > 0)\n\t\t{\n\t\t\tif(parseInt(page.siteId) === parseInt(Manager.connectedSiteId))\n\t\t\t{\n\t\t\t\tsource = 'landing_store_chat';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsource = 'landing_other';\n\t\t\t}\n\t\t}\n\t\tconst data = {\n\t\t\tid: page.id,\n\t\t\tfields: {\n\t\t\t\thidden: true,\n\t\t\t},\n\t\t\tanalyticsLabel: 'salescenterDeletePage',\n\t\t\tsource: source,\n\t\t\ttype: page.isWebform ? 'form' : 'info',\n\t\t\tcode: page.code,\n\t\t};\n\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tRest.callMethod(method, data).then((result) =>\n\t\t\t{\n\t\t\t\tresolve(result);\n\t\t\t\tManager.showNotification(BX.message('SALESCENTER_MANAGER_HIDE_URL_SUCCESS'));\n\t\t\t}).catch((result) =>\n\t\t\t{\n\t\t\t\treject(result);\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic deleteUrl(page)\n\t{\n\t\tconst method = 'salescenter.page.delete';\n\t\tconst data = {\n\t\t\tid: page.id,\n\t\t\tanalyticsLabel: 'salescenterDeletePage',\n\t\t\tsource: 'other',\n\t\t\ttype: page.isWebform ? 'form' : 'info',\n\t\t};\n\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tRest.callMethod(method, data).then((result) =>\n\t\t\t{\n\t\t\t\tresolve(result);\n\t\t\t\tManager.showNotification(BX.message('SALESCENTER_MANAGER_DELETE_URL_SUCCESS'));\n\t\t\t}).catch((result) =>\n\t\t\t{\n\t\t\t\treject(result);\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic editLandingPage(pageId, siteId = Manager.connectedSiteId)\n\t{\n\t\twindow.open(`/shop/stores/site/${siteId}/view/${pageId}/`, '_blank');\n\t}\n\n\tstatic openSlider(url, options)\n\t{\n\t\tif(!Type.isPlainObject(options))\n\t\t{\n\t\t\toptions = {};\n\t\t}\n\t\toptions = {...{cacheable: false, allowChangeHistory: false, events: {}}, ...options};\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(Type.isString(url) && url.length > 1)\n\t\t\t{\n\t\t\t\toptions.events.onClose = function(event)\n\t\t\t\t{\n\t\t\t\t\tresolve(event.getSlider());\n\t\t\t\t};\n\t\t\t\tBX.SidePanel.Instance.open(url, options);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic getOrdersListUrl(params)\n\t{\n\t\tif(!Type.isPlainObject(params))\n\t\t{\n\t\t\tparams = {};\n\t\t}\n\t\tif(Manager.sessionId > 0)\n\t\t{\n\t\t\tparams['sessionId'] = Manager.sessionId;\n\t\t}\n\t\treturn (new Uri('/saleshub/orders/')).setQueryParams(params).toString();\n\t}\n\n\tstatic getPaymentsListUrl(params)\n\t{\n\t\tif(!Type.isPlainObject(params))\n\t\t{\n\t\t\tparams = {};\n\t\t}\n\t\tif(Manager.sessionId > 0)\n\t\t{\n\t\t\tparams['sessionId'] = Manager.sessionId;\n\t\t}\n\t\treturn (new Uri('/saleshub/payments/')).setQueryParams(params).toString();\n\t}\n\n\tstatic showOrdersList(params)\n\t{\n\t\treturn Manager.openSlider(Manager.getOrdersListUrl(params));\n\t}\n\n\tstatic showPaymentsList(params)\n\t{\n\t\treturn Manager.openSlider(Manager.getPaymentsListUrl(params));\n\t}\n\n\tstatic getOrderAddUrl(params)\n\t{\n\t\tif(!Type.isPlainObject(params))\n\t\t{\n\t\t\tparams = {};\n\t\t}\n\t\tif(Manager.sessionId > 0)\n\t\t{\n\t\t\tparams['sessionId'] = Manager.sessionId;\n\t\t}\n\t\treturn (new Uri('/saleshub/orders/order/')).setQueryParams(params).toString();\n\t}\n\n\tstatic showOrderAdd(params)\n\t{\n\t\treturn Manager.openSlider(Manager.getOrderAddUrl(params));\n\t}\n\n\tstatic showOrdersListAfterCreate(orderId)\n\t{\n\t\tlet ordersListUrl = Manager.getOrdersListUrl({orderId: orderId});\n\t\tlet listSlider = BX.SidePanel.Instance.getSlider(ordersListUrl);\n\t\tif(!listSlider)\n\t\t{\n\t\t\tordersListUrl = Manager.getOrdersListUrl({orderId: orderId});\n\t\t\tlistSlider = BX.SidePanel.Instance.getSlider(ordersListUrl);\n\t\t}\n\t\tlet orderAddUrl = Manager.getOrderAddUrl();\n\t\tlet addSlider = BX.SidePanel.Instance.getSlider(orderAddUrl);\n\t\tif(addSlider)\n\t\t{\n\t\t\taddSlider.destroy();\n\t\t}\n\t\tif(!listSlider)\n\t\t{\n\t\t\tManager.showOrdersList({orderId: orderId});\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttop.BX.onCustomEvent(listSlider.getFrameWindow(), 'salescenter-order-create', [\n\t\t\t\t{\n\t\t\t\t\torderId: orderId\n\t\t\t\t}\n\t\t\t]);\n\t\t}\n\t}\n\n\tstatic initPull()\n\t{\n\t\tif(BX.PULL)\n\t\t{\n\t\t\tManager.isPullInited = true;\n\t\t\tBX.PULL.subscribe({\n\t\t\t\tmoduleId: 'salescenter',\n\t\t\t\tcommand: 'SETCONNECTEDSITE',\n\t\t\t\tcallback: (params) =>\n\t\t\t\t{\n\t\t\t\t\tManager.init(params);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic openControlPanel()\n\t{\n\t\twindow.open('/saleshub/', '_blank');\n\t}\n\n\tstatic getFormAddUrl(formId = 0)\n\t{\n\t\treturn (new Uri(`/crm/webform/edit/${parseInt(formId)}/`)).setQueryParams({ACTIVE: 'Y', RELOAD_LIST: 'N'}).toString();\n\t}\n\n\tstatic addNewForm()\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tManager.openSlider(Manager.getFormAddUrl()).then((slider) =>\n\t\t\t{\n\t\t\t\tconst formId = slider.getData().get('formId');\n\t\t\t\tif(formId > 0)\n\t\t\t\t{\n\t\t\t\t\tManager.addNewFormPage(formId).then((result) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}).catch((reason) =>\n\t\t\t\t\t{\n\t\t\t\t\t\treject(reason);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic addNewFormPage(formId)\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tconst popupId = 'salescenter-add-new-page-popup';\n\t\t\tManager.getPopup({\n\t\t\t\tid: popupId,\n\t\t\t\ttitle: BX.message('SALESCENTER_MANAGER_NEW_PAGE_POPUP_TITLE'),\n\t\t\t\ttext: BX.message('SALESCENTER_MANAGER_NEW_PAGE_WAIT'),\n\t\t\t}).show();\n\n\t\t\tRest.callMethod('salescenter.page.addformpage', {\n\t\t\t\tformId: formId,\n\t\t\t}).then((result) =>\n\t\t\t{\n\t\t\t\tif(result.answer.result.page)\n\t\t\t\t{\n\t\t\t\t\tresolve(result.answer.result.page);\n\t\t\t\t\tlet landingId = result.answer.result.page.landingId;\n\t\t\t\t\tconst popup = Manager.getPopup({\n\t\t\t\t\t\tid: popupId,\n\t\t\t\t\t\ttitle: BX.message('SALESCENTER_MANAGER_NEW_PAGE_POPUP_TITLE'),\n\t\t\t\t\t\ttext: BX.message('SALESCENTER_MANAGER_NEW_PAGE_COMPLETE'),\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\t\t\t\ttext : BX.message('SALESCENTER_MANAGER_CONNECT_POPUP_GO_BUTTON'),\n\t\t\t\t\t\t\t\tclassName : \"ui-btn ui-btn-md ui-btn-primary\",\n\t\t\t\t\t\t\t\tevents : {\n\t\t\t\t\t\t\t\t\tclick : () =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tManager.editLandingPage(landingId);\n\t\t\t\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\t\t\t\t\tpopup.show();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tManager.getPopup({\n\t\t\t\t\t\tid: popupId,\n\t\t\t\t\t\ttitle: BX.message('SALESCENTER_MANAGER_ERROR_POPUP'),\n\t\t\t\t\t})\n\t\t\t\t\t.show();\n\t\t\t\t\treject();\n\t\t\t\t}\n\t\t\t}).catch((error) =>\n\t\t\t{\n\t\t\t\tManager.getPopup({\n\t\t\t\t\tid: popupId,\n\t\t\t\t\ttitle: BX.message('SALESCENTER_MANAGER_ERROR_POPUP'),\n\t\t\t\t\ttext: error,\n\t\t\t\t})\n\t\t\t\t.show();\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic openConnectedSite(isRecycle = false)\n\t{\n\t\tif(Manager.connectedSiteId > 0)\n\t\t{\n\t\t\tlet url = new Uri(`/shop/stores/site/${Manager.connectedSiteId}/`);\n\t\t\tlet params = {\n\t\t\t\tapply_filter: 'y',\n\t\t\t};\n\t\t\tif(isRecycle)\n\t\t\t{\n\t\t\t\tparams.DELETED = 'Y';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparams.clear_filter = 'y';\n\t\t\t}\n\t\t\turl.setQueryParams(params);\n\t\t\twindow.open(url.toString(), '_blank');\n\t\t}\n\t}\n\n\tstatic openHowItWorks(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=9289135', 'chat_connect');\n\t}\n\n\tstatic openHowCrmStoreWorks(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=13651476', 'crmstore_how_works');\n\t}\n\n\tstatic openHowCrmFormsWorks(event, url)\n\t{\n\t\turl = url || 'redirect=detail&code=13774372';\n\t\tManager.openHelper(event, url, 'crmforms_how_works');\n\t}\n\n\tstatic openHowSmsWorks(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=9680407', 'sms_connect');\n\t}\n\n\tstatic openHowToConfigOpenLines(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=7872935', 'openlines_connect');\n\t}\n\n\tstatic openHowToConfigDefaultPaySystem(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=10460164', 'pay_system_connect');\n\t}\n\n\tstatic openHowToConfigPaySystem(event, code)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=' + code, 'pay_system_connect');\n\t}\n\n\tstatic openHowToConfigCashboxPaySystem(event, code)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=' + code, 'pay_system_cashbox_connect');\n\t}\n\n\tstatic openHowToUseOfflineCashBox(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=11271760', 'cashbox_connect');\n\t}\n\n\tstatic openHowToConfigCashBox(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=11120562', 'cashbox_connect');\n\t}\n\n\tstatic openHowToConfigCheckboxCashBox(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=12306679', 'cashbox_connect');\n\t}\n\n\tstatic openHowToConfigBusinessRuCashBox(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=12806492', 'cashbox_connect');\n\t}\n\n\tstatic openHowToConfigRobokassaCashBox(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=12849128', 'cashbox_connect');\n\t}\n\n\tstatic openHowToConfigYooKassaCashBox(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=17776800', 'cashbox_connect');\n\t}\n\n\tstatic openHowToSetupCheckboxCashBoxAndKeys(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=12334663', 'cashbox_connect');\n\t}\n\n\tstatic openHowToSell(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=17615318', 'crmstore_connect');\n\t}\n\n\tstatic openHowToWork(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=11553526', 'companycontacts_connect');\n\t}\n\n\tstatic openWhatClientSee(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=11278264', 'client_view');\n\t}\n\n\tstatic openHowPayDealWorks(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=17615318', 'pay_deal');\n\t}\n\n\tstatic openHowPaySmartInvoiceWorks(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=17615318', 'pay_smart_invoice');\n\t}\n\n\tstatic openHowTerminalWorks(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=18537646', 'terminal');\n\t}\n\n\tstatic openFormPagesHelp(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=9606749', 'forms');\n\t}\n\n\tstatic openCommonPagesHelp(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=9604717', 'common_pages');\n\t}\n\n\tstatic openBitrix24NotificationsHelp(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=17615266', 'bitrix24_notifications');\n\t}\n\n\tstatic openBitrix24NotificationsWorks(event)\n\t{\n\t\tManager.openHelper(event, 'redirect=detail&code=13655934', 'bitrix24_notifications_work');\n\t}\n\n\tstatic openHelper(event = null, url = '', analyticsArticle = '')\n\t{\n\t\tif(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tif(analyticsArticle)\n\t\t{\n\t\t\tManager.addAnalyticAction({\n\t\t\t\tanalyticsLabel: 'salescenterOpenHelp',\n\t\t\t\tarticle: analyticsArticle\n\t\t\t}).then(() =>\n\t\t\t{\n\t\t\t\tif(top.BX.Helper)\n\t\t\t\t{\n\t\t\t\t\ttop.BX.Helper.show(url);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(url);\n\t\t}\n\t}\n\n\tstatic openFeedbackForm(event)\n\t{\n\t\tif(event && Type.isFunction(event.preventDefault))\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\t\treturn Manager.openSlider('/bitrix/components/bitrix/salescenter.feedback/slider.php', {width: 735});\n\t}\n\n\tstatic openFeedbackFormParams(event, params, options={})\n\t{\n\t\tif(event && Type.isFunction(event.preventDefault))\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif(!Type.isPlainObject(params))\n\t\t{\n\t\t\tparams = {};\n\t\t}\n\n\t\tlet url = (new Uri('/bitrix/components/bitrix/salescenter.feedback/slider.php')).setQueryParams(params).toString();\n\t\treturn Manager.openSlider(url, options);\n\t}\n\n\tstatic openFeedbackPayOrderForm(event)\n\t{\n\t\tif(event && Type.isFunction(event.preventDefault))\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\t\treturn Manager.openSlider('/bitrix/components/bitrix/salescenter.feedback/slider.php?feedback_type=pay_order', {width: 735});\n\t}\n\n\tstatic openFeedbackDeliveryOfferForm(event)\n\t{\n\t\tif(event && Type.isFunction(event.preventDefault))\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\t\treturn Manager.openSlider('/bitrix/components/bitrix/salescenter.feedback/slider.php?feedback_type=delivery_offer', {width: 735});\n\t}\n\n\tstatic openIntegrationRequestForm(event)\n\t{\n\t\tlet params = Manager.#getDataSettingFromEventDomNode(event)\n\n\t\tif (event && Type.isFunction(event.preventDefault))\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (!Type.isPlainObject(params))\n\t\t{\n\t\t\tparams = {};\n\t\t}\n\n\t\tlet url = (new Uri('/bitrix/components/bitrix/salescenter.feedback/slider.php'));\n\n\t\turl.setQueryParams({feedback_type: 'integration_request'});\n\t\turl.setQueryParams(params);\n\n\t\treturn Manager.openSlider(url.toString(), {width: 735});\n\t}\n\n\tstatic #parseParamsDataSetting(settings): Object\n\t{\n\t\tconst result = {};\n\n\t\tif (Type.isStringFilled(settings))\n\t\t{\n\t\t\tlet fields = settings.split(',');\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tfor (let inx in fields)\n\t\t\t\t{\n\t\t\t\t\tif (!fields.hasOwnProperty(inx))\n\t\t\t\t\t{\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet [name, value] = fields[inx].split(':');\n\n\t\t\t\t\tif (Type.isStringFilled(name))\n\t\t\t\t\t{\n\t\t\t\t\t\tresult[name] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tstatic #getDataSettingFromEventDomNode(event): ?Object\n\t{\n\t\tlet node = null;\n\t\tif (Type.isDomNode(event.button))\n\t\t{\n\t\t\tnode = event.button;\n\t\t}\n\t\telse if (Type.isDomNode(event.target))\n\t\t{\n\t\t\tnode = event.target;\n\t\t}\n\n\t\tif (Type.isObject(node))\n\t\t{\n\t\t\tlet dataset = node.dataset ? node.dataset : {};\n\t\t\tlet settings = dataset.hasOwnProperty('managerOpenintegrationrequestformParams') ? dataset.managerOpenintegrationrequestformParams : '';\n\n\t\t\treturn this.#parseParamsDataSetting(settings);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tstatic openApplication(params = {})\n\t{\n\t\tconst url = new Uri('/saleshub/app/');\n\t\tif (Type.isPlainObject(params))\n\t\t{\n\t\t\turl.setQueryParams(params);\n\t\t}\n\n\t\tconst sliderOptions = params.hasOwnProperty('sliderOptions') ? params.sliderOptions : {};\n\t\tif (!sliderOptions.hasOwnProperty('width'))\n\t\t{\n\t\t\tsliderOptions.width = 1140;\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tManager.openSlider(url.toString(), sliderOptions).then((slider) => {\n\t\t\t\tresolve(slider.getData());\n\t\t\t}).catch((reason) => {});\n\t\t});\n\t}\n\n\tstatic addAnalyticAction(params)\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!Type.isPlainObject(params) || !params.analyticsLabel)\n\t\t\t{\n\t\t\t\treject('wrong params');\n\t\t\t}\n\t\t\tparams = {...params, ...{action: 'salescenter.manager.addAnalytic', sessid: BX.bitrix_sessid()}};\n\t\t\tlet request = new XMLHttpRequest();\n\t\t\tlet url = new Uri('/bitrix/services/main/ajax.php');\n\t\t\turl.setQueryParams(params);\n\t\t\trequest.open('GET', url.toString());\n\t\t\trequest.onload = () =>\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t};\n\t\t\trequest.onerror = () =>\n\t\t\t{\n\t\t\t\treject();\n\t\t\t};\n\t\t\trequest.send();\n\t\t});\n\t}\n\n\tstatic getFieldsMap()\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(Manager.fieldsMap !== null)\n\t\t\t{\n\t\t\t\tresolve(Manager.fieldsMap);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAjax.runAction('salescenter.manager.getFieldsMap', {\n\t\t\t\tanalyticsLabel: 'salescenterFieldsMapLoading',\n\t\t\t}).then((response) =>\n\t\t\t{\n\t\t\t\tManager.fieldsMap = response.data.fields;\n\t\t\t\tresolve(response.data.fields);\n\t\t\t}).catch((response) =>\n\t\t\t{\n\t\t\t\treject(response.errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic getPageUrl(pageId, entities, context = null): ?String\n\t{\n\t\treturn new Promise((resolve, reject) =>\n\t\t{\n\t\t\tif(!Type.isInteger(pageId))\n\t\t\t{\n\t\t\t\tresolve(null);\n\t\t\t}\n\t\t\tif(!Type.isPlainObject(entities) || entities.length <= 0)\n\t\t\t{\n\t\t\t\tresolve(null);\n\t\t\t}\n\n\t\t\tAjax.runAction('salescenter.manager.getPageUrl', {\n\t\t\t\tdata: {\n\t\t\t\t\tpageId: pageId,\n\t\t\t\t\tentities: entities\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: 'salescenterGetPageUrlWithParameters',\n\t\t\t\tgetParameters: {\n\t\t\t\t\tcontext: context\n\t\t\t\t}\n\t\t\t}).then((response) =>\n\t\t\t{\n\t\t\t\tresolve(response.data.pageUrl);\n\t\t\t}).catch((response) =>\n\t\t\t{\n\t\t\t\treject(response.errors);\n\t\t\t});\n\t\t});\n\t}\n}\n"],"names":["Manager","options","connectedSiteId","parseInt","sessionId","Type","isString","siteTemplateCode","connectPath","isBoolean","isSitePublished","isSiteExists","isOrderPublicUrlAvailable","isPullInited","Event","ready","initPull","top","BX","Landing","PageObject","Main","Promise","resolve","reject","Rest","callMethod","then","result","init","answer","reason","params","url","Uri","isPlainObject","analyticsLabel","setQueryParams","openSlider","toString","width","tpl","id","firePublicConnectedSiteEvent","onCustomEvent","title","text","buttons","popup","PopupWindowManager","getPopupById","content","setContent","setButtons","PopupWindow","zIndex","className","autoHide","closeByEsc","padding","closeIcon","overlay","lightShadow","getPopup","message","PopupWindowButton","events","click","openConnectedSite","close","show","event","clipboard","copy","target","showCopyLinkPopup","page","getAddUrlPopup","templateEngine","$emit","addUrlResolve","addingCustomPage","pageId","isSaved","isFunction","showNotification","loadExt","Vue","create","el","document","createElement","template","mounted","popupNode","$el","$app","addUrlPopup","getPopupContainer","contains","urlFieldsPopupWindow","urlFieldsPopupMenu","PopupMenu","getMenuById","popupWindow","dataset","parentNode","classList","initPopupTemplate","contentPadding","titleBar","contentColor","autoHideHandler","handleAddUrlPopupAutoHide","onPopupClose","newPageId","getElementById","value","resolveAddPopup","onPopupDestroy","fields","method","source","landingId","siteId","addAnalyticAction","type","isWebform","code","Env","getInstance","setOptions","site_id","UI","Panel","URLList","addPage","hidden","Notification","Center","notify","data","window","open","cacheable","allowChangeHistory","length","onClose","getSlider","SidePanel","Instance","getOrdersListUrl","getPaymentsListUrl","getOrderAddUrl","orderId","ordersListUrl","listSlider","orderAddUrl","addSlider","destroy","showOrdersList","getFrameWindow","PULL","subscribe","moduleId","command","callback","formId","ACTIVE","RELOAD_LIST","getFormAddUrl","slider","getData","get","addNewFormPage","popupId","editLandingPage","error","isRecycle","apply_filter","DELETED","clear_filter","openHelper","analyticsArticle","preventDefault","article","Helper","feedback_type","sliderOptions","hasOwnProperty","action","sessid","bitrix_sessid","request","XMLHttpRequest","onload","onerror","send","fieldsMap","Ajax","runAction","response","errors","entities","context","isInteger","getParameters","pageUrl","settings","isStringFilled","split","inx","name","e","node","isDomNode","button","isObject","managerOpenintegrationrequestformParams","popupOuterLink","hideCopyLinkTimeout","clearTimeout","destroyCopyLinkTimeout","darkMode","setTimeout","hide","uniquePopupId"],"mappings":"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"}