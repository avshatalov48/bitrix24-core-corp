{"version":3,"file":"app.bundle.js","sources":["../src/models/application.js","../src/models/ordercreation.js","../src/components/templates-type-mixin.js","../src/component-mixin.js","../src/product.js","../src/start.js","../src/no-payment-systems.js","../src/chat.js","../src/components/deal-receiving-payment/stage-blocks/send.js","../src/components/stage-blocks/tile-collection/tile-collection-mixins.js","../src/components/stage-blocks/tile-collection/uninstalled.js","../src/components/stage-blocks/tile-collection/installed.js","../src/components/stage-blocks/stage-mixin.js","../src/components/stage-blocks/cashbox.js","../src/components/stage-blocks/product.js","../src/components/delivery-selector.js","../src/components/shipment-view.js","../src/components/stage-blocks/delivery-vuex.js","../src/components/stage-blocks/paysystem.js","../src/components/stage-blocks/sms-message.js","../src/components/stage-blocks/automation.js","../src/components/stage-blocks/timeline.js","../src/components/deal-receiving-payment/stage-blocks-list.js","../src/components/deal-creating-shipment/stage-blocks/send.js","../src/components/deal-creating-shipment/stage-blocks-list.js","../src/deal.js","../src/app.js"],"sourcesContent":["import {VuexBuilderModel} from 'ui.vue.vuex';\n\nexport class ApplicationModel extends VuexBuilderModel\n{\n\t/**\n\t * @inheritDoc\n\t */\n\tgetName()\n\t{\n\t\treturn 'application';\n\t}\n\n\tgetState()\n\t{\n\t\treturn {\n\t\t\tpages: [],\n\t\t}\n\t}\n\n\tgetGetters()\n\t{\n\t\treturn {\n\t\t\tgetPages: (state) => () =>\n\t\t\t{\n\t\t\t\treturn state.pages;\n\t\t\t},\n\t\t}\n\t}\n\n\tgetMutations()\n\t{\n\t\treturn {\n\t\t\tsetPages: (state, payload) =>\n\t\t\t{\n\t\t\t\tif(typeof payload.pages === 'object')\n\t\t\t\t{\n\t\t\t\t\tstate.pages = payload.pages        ;\n\t\t\t\t\tthis.saveState(state);\n\t\t\t\t}\n\t\t\t},\n\t\t\tremovePage: (state, payload) =>\n\t\t\t{\n\t\t\t\tif(typeof payload.page === 'object')\n\t\t\t\t{\n\t\t\t\t\tstate.pages = state.pages.filter((page) => {\n\t\t\t\t\t\treturn !(\n\t\t\t\t\t\t\t(payload.page.id && payload.page.id > 0 && page.id === payload.page.id) ||\n\t\t\t\t\t\t\t(payload.page.landingId && payload.page.landingId > 0 && page.landingId === payload.page.landingId)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tthis.saveState(state);\n\t\t\t\t}\n\t\t\t},\n\t\t\taddPage: (state, payload) =>\n\t\t\t{\n\t\t\t\tif(typeof payload.page === 'object')\n\t\t\t\t{\n\t\t\t\t\tstate.pages.push(payload.page);\n\t\t\t\t\tthis.saveState(state);\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t}\n}","import {VuexBuilderModel} from 'ui.vue.vuex';\n\nexport class OrderCreationModel extends VuexBuilderModel\n{\n\t/**\n\t * @inheritDoc\n\t */\n\tgetName()\n\t{\n\t\treturn 'orderCreation';\n\t}\n\n\tgetState()\n\t{\n\t\treturn {\n\t\t\tcurrency: '',\n\t\t\tprocessingId: null,\n\t\t\tbasket: [],\n\t\t\tbasketVersion: 0,\n\t\t\tpropertyValues: [],\n\t\t\tdeliveryExtraServicesValues: [],\n\t\t\texpectedDelivery: null,\n\t\t\tdeliveryResponsibleId: null,\n\t\t\tpersonTypeId: null,\n\t\t\tdeliveryId: null,\n\t\t\tdelivery: null,\n\t\t\tisEnabledSubmit: false,\n\t\t\terrors: [],\n\t\t\ttotal: {\n\t\t\t\tsum: null,\n\t\t\t\tdiscount: null,\n\t\t\t\tresult: null,\n\t\t\t},\n\t\t}\n\t}\n\n\tgetActions()\n\t{\n\t\treturn {\n\t\t\tresetBasket ({ commit })\n\t\t\t{\n\t\t\t\tcommit('clearBasket');\n\t\t\t},\n\t\t\tsetCurrency: ({ commit }, payload) =>\n\t\t\t{\n\t\t\t\tconst currency = payload || '';\n\t\t\t\tcommit('setCurrency', currency);\n\t\t\t},\n\t\t\tsetDeliveryId: ({ commit }, payload) =>\n\t\t\t{\n\t\t\t\tcommit('setDeliveryId', payload);\n\t\t\t},\n\t\t\tsetDelivery: ({ commit }, payload) =>\n\t\t\t{\n\t\t\t\tcommit('setDelivery', payload);\n\t\t\t},\n\t\t\tsetPropertyValues: ({ commit }, payload) =>\n\t\t\t{\n\t\t\t\tcommit('setPropertyValues', payload);\n\t\t\t},\n\t\t\tsetDeliveryExtraServicesValues: ({ commit }, payload) =>\n\t\t\t{\n\t\t\t\tcommit('setDeliveryExtraServicesValues', payload);\n\t\t\t},\n\t\t\tsetExpectedDelivery: ({ commit }, payload) =>\n\t\t\t{\n\t\t\t\tcommit('setExpectedDelivery', payload);\n\t\t\t},\n\t\t\tsetDeliveryResponsibleId: ({ commit }, payload) =>\n\t\t\t{\n\t\t\t\tcommit('setDeliveryResponsibleId', payload);\n\t\t\t},\n\t\t\tsetPersonTypeId: ({ commit }, payload) =>\n\t\t\t{\n\t\t\t\tcommit('setPersonTypeId', payload);\n\t\t\t},\n\t\t}\n\t}\n\n\tgetGetters()\n\t{\n\t\treturn {\n\t\t\tgetBasket: state => index =>\n\t\t\t{\n\t\t\t\treturn state.basket;\n\t\t\t},\n\t\t\tisAllowedSubmit: state =>\n\t\t\t{\n\t\t\t\treturn state.isEnabledSubmit;\n\t\t\t},\n\t\t\tgetTotal: state =>\n\t\t\t{\n\t\t\t\treturn state.total;\n\t\t\t},\n\t\t\tgetDelivery: state =>\n\t\t\t{\n\t\t\t\treturn state.delivery;\n\t\t\t},\n\t\t\tgetDeliveryId: state =>\n\t\t\t{\n\t\t\t\treturn state.deliveryId;\n\t\t\t},\n\t\t\tgetPropertyValues: state =>\n\t\t\t{\n\t\t\t\treturn state.propertyValues;\n\t\t\t},\n\t\t\tgetDeliveryExtraServicesValues: state =>\n\t\t\t{\n\t\t\t\treturn state.deliveryExtraServicesValues;\n\t\t\t},\n\t\t\tgetExpectedDelivery: state =>\n\t\t\t{\n\t\t\t\treturn state.expectedDelivery;\n\t\t\t},\n\t\t\tgetDeliveryResponsibleId: state =>\n\t\t\t{\n\t\t\t\treturn state.deliveryResponsibleId;\n\t\t\t},\n\t\t\tgetPersonTypeId: state =>\n\t\t\t{\n\t\t\t\treturn state.personTypeId;\n\t\t\t},\n\t\t}\n\t}\n\n\tgetMutations()\n\t{\n\t\treturn {\n\t\t\tsetBasket: (state, payload) =>\n\t\t\t{\n\t\t\t\tstate.basket = payload;\n\t\t\t},\n\t\t\tsetTotal: (state, payload) =>\n\t\t\t{\n\t\t\t\tstate.total = Object.assign(state.total, payload);\n\t\t\t},\n\t\t\tclearBasket: (state, payload) =>\n\t\t\t{\n\t\t\t\tstate.basket = [];\n\t\t\t\tstate.basketVersion++ ;\n\t\t\t},\n\t\t\tsetErrors: (state, payload) =>\n\t\t\t{\n\t\t\t\tstate.errors = payload;\n\t\t\t},\n\t\t\tsetDeliveryId: (state, deliveryId) =>\n\t\t\t{\n\t\t\t\tstate.deliveryId = deliveryId;\n\t\t\t},\n\t\t\tsetDelivery: (state, delivery) =>\n\t\t\t{\n\t\t\t\tstate.delivery = delivery;\n\t\t\t},\n\t\t\tsetPropertyValues: (state, propertyValues) =>\n\t\t\t{\n\t\t\t\tstate.propertyValues = propertyValues;\n\t\t\t},\n\t\t\tsetDeliveryExtraServicesValues: (state, deliveryExtraServicesValues) =>\n\t\t\t{\n\t\t\t\tstate.deliveryExtraServicesValues = deliveryExtraServicesValues;\n\t\t\t},\n\t\t\tsetExpectedDelivery: (state, expectedDelivery) =>\n\t\t\t{\n\t\t\t\tstate.expectedDelivery = expectedDelivery;\n\t\t\t},\n\t\t\tsetDeliveryResponsibleId: (state, deliveryResponsibleId) =>\n\t\t\t{\n\t\t\t\tstate.deliveryResponsibleId = deliveryResponsibleId;\n\t\t\t},\n\t\t\tclearErrors: (state) =>\n\t\t\t{\n\t\t\t\tstate.errors = [];\n\t\t\t},\n\t\t\tsetProcessingId: (state, payload) =>\n\t\t\t{\n\t\t\t\tstate.processingId = payload;\n\t\t\t},\n\t\t\tsetCurrency: (state, payload) =>\n\t\t\t{\n\t\t\t\tstate.currency = payload;\n\t\t\t},\n\t\t\tsetPersonTypeId: (state, payload) =>\n\t\t\t{\n\t\t\t\tstate.personTypeId = payload;\n\t\t\t},\n\t\t\tenableSubmit: (state) =>\n\t\t\t{\n\t\t\t\tstate.isEnabledSubmit = true;\n\t\t\t},\n\t\t\tdisableSubmit: (state) =>\n\t\t\t{\n\t\t\t\tstate.isEnabledSubmit = false;\n\t\t\t},\n\t\t}\n\t}\n}\n","let MixinTemplatesType = {\n\tdata() {\n\t\treturn {\n\t\t\teditable: true\n\t\t};\n\t},\n\tcreated(){\n\t\tthis.$root.$on(\"on-change-editable\", (value) => {\n\t\t\tthis.editable = value;\n\t\t});\n\t}\n}\n\nexport {\n\tMixinTemplatesType\n}","export default {\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisFaded: false,\n\t\t};\n\t},\n\tmounted()\n\t{\n\t\tthis.createPinner();\n\t},\n\tcreated()\n\t{\n\t\tthis.$root.$on('on-start-progress', () => {\n\t\t\tthis.startFade();\n\t\t});\n\n\t\tthis.$root.$on('on-stop-progress', () => {\n\t\t\tthis.endFade();\n\t\t});\n\t},\n\tmethods: {\n\t\tstartFade()\n\t\t{\n\t\t\tthis.isFaded = true;\n\t\t},\n\t\tendFade()\n\t\t{\n\t\t\tthis.isFaded = false;\n\t\t},\n\t\tcreatePinner()\n\t\t{\n\t\t\tlet buttonsPanel = this.$refs['buttonsPanel'];\n\t\t\tif(buttonsPanel)\n\t\t\t{\n\t\t\t\tthis.$root.$el.parentNode.appendChild(buttonsPanel);\n\t\t\t\tnew BX.UI.Pinner(\n\t\t\t\t\tbuttonsPanel,\n\t\t\t\t\t{\n\t\t\t\t\t\tfixBottom: this.$root.$app.isFrame,\n\t\t\t\t\t\tfullWidth: this.$root.$app.isFrame\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tclose()\n\t\t{\n\t\t\tthis.$root.$app.closeApplication();\n\t\t},\n\t},\n\tcomputed: {\n\t\tisOrderPublicUrlAvailable()\n\t\t{\n\t\t\treturn this.$root.$app.isOrderPublicUrlAvailable;\n\t\t},\n\t\twrapperClass()\n\t\t{\n\t\t\treturn {'salescenter-app-wrapper-fade': this.isFaded};\n\t\t},\n\t\twrapperStyle()\n\t\t{\n\t\t\tconst position = BX.pos(this.$root.$el);\n\n\t\t\tlet offset = position.top + 20;\n\t\t\tif(this.$root.$nodes.footer)\n\t\t\t{\n\t\t\t\toffset += BX.pos(this.$root.$nodes.footer).height;\n\t\t\t}\n\t\t\tconst buttonsPanel = this.$refs['buttonsPanel'];\n\t\t\tif(buttonsPanel)\n\t\t\t{\n\t\t\t\toffset += BX.pos(buttonsPanel).height;\n\t\t\t}\n\n\t\t\t//?auto\n\t\t\treturn {'minHeight': 'calc(100vh - ' + offset + 'px)'};\n\t\t},\n\t}\n}\n","import {ProductForm} from 'catalog.product-form';\nimport 'currency';\nimport {MixinTemplatesType} from './components/templates-type-mixin';\nimport {Runtime, Type, Text} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport type {BaseEvent} from 'main.core.events';\nimport {Loc} from 'main.core';\n\nexport default {\n\tmixins:[MixinTemplatesType],\n\tmounted()\n\t{\n\t\tif (this.$root.$app.options.templateMode === 'view')\n\t\t{\n\t\t\tthis.$root.$emit(\"on-change-editable\", false);\n\t\t\tif (this.productForm)\n\t\t\t{\n\t\t\t\tthis.productForm.setEditable(false);\n\t\t\t}\n\t\t}\n\t\tif (this.productForm)\n\t\t{\n\t\t\tconst formWrapper = this.$root.$el.querySelector('.salescenter-app-form-wrapper');\n\t\t\tformWrapper.appendChild(this.productForm.layout());\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tthis.refreshId = null;\n\n\t\tconst defaultCurrency = this.$root.$app.options.currencyCode || '';\n\n\t\tthis.$store.dispatch('orderCreation/setCurrency', defaultCurrency);\n\t\tif (Type.isArray(this.$root.$app.options.basket))\n\t\t{\n\t\t\tconst fields = [];\n\t\t\tthis.$root.$app.options.basket.forEach((item) => {\n\t\t\t\tfields.push(item.fields);\n\t\t\t});\n\t\t\tthis.$store.commit('orderCreation/setBasket', fields);\n\t\t}\n\t\tif (Type.isObject(this.$root.$app.options.totals))\n\t\t{\n\t\t\tthis.$store.commit('orderCreation/setTotal', this.$root.$app.options.totals);\n\t\t}\n\n\t\tthis.productForm = new ProductForm(\n\t\t\t{\n\t\t\t\tcurrencySymbol: this.$root.$app.options.currencySymbol,\n\t\t\t\tcurrency: defaultCurrency,\n\t\t\t\tiblockId: this.$root.$app.options.catalogIblockId,\n\t\t\t\tbasePriceId: this.$root.$app.options.basePriceId,\n\t\t\t\tbasket: Type.isArray(this.$root.$app.options.basket) ? this.$root.$app.options.basket : [],\n\t\t\t\ttotals: this.$root.$app.options.totals,\n\t\t\t\ttaxList: this.$root.$app.options.vatList,\n\t\t\t\tmeasures: this.$root.$app.options.measures,\n\t\t\t\tshowDiscountBlock: this.$root.$app.options.showProductDiscounts,\n\t\t\t\tshowTaxBlock: this.$root.$app.options.showProductTaxes,\n\t\t\t\ttotalResultLabel: this.$root.$app.options.mode === 'delivery' ? Loc.getMessage('SALESCENTER_SHIPMENT_PRODUCT_BLOCK_TOTAL') : null,\n\t\t\t\turlBuilderContext: this.$root.$app.options.urlProductBuilderContext,\n\t\t\t\thideUnselectedProperties: (this.$root.$app.options.templateMode === 'view'),\n\t\t\t}\n\t\t);\n\n\t\tif (this.isNeedDisableSubmit())\n\t\t{\n\t\t\tthis.$store.commit('orderCreation/disableSubmit');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.$store.commit('orderCreation/enableSubmit')\n\t\t}\n\n\t\tEventEmitter.subscribe(\n\t\t\tthis.productForm,\n\t\t\t'ProductForm:onBasketChange',\n\t\t\tRuntime.debounce(this.onBasketChange, 500, this)\n\t\t);\n\t},\n\tmethods: {\n\t\tonBasketChange(event: BaseEvent)\n\t\t{\n\t\t\tlet processRefreshRequest = (data) => {\n\t\t\t\tif (this.productForm)\n\t\t\t\t{\n\t\t\t\t\tconst preparedBasket = [];\n\t\t\t\t\tdata.basket.forEach((item) => {\n\t\t\t\t\t\tif (!Type.isStringFilled(item.innerId))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpreparedBasket.push({\n\t\t\t\t\t\t\tselectorId: item.innerId,\n\t\t\t\t\t\t\tfields: item,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.productForm.setData({...data, ...{basket: preparedBasket}});\n\t\t\t\t\t\n\t\t\t\t\tif (Type.isArray(data.basket))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$store.commit('orderCreation/setBasket', data.basket);\n\t\t\t\t\t}\n\t\t\t\t\tif (Type.isObject(data.total))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$store.commit('orderCreation/setTotal', data.total);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst data = event.getData();\n\t\t\tif (!Type.isArray(data.basket))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst fields = [];\n\t\t\tdata.basket.forEach((item) => {\n\t\t\t\tfields.push(item.fields);\n\t\t\t});\n\t\t\tthis.$store.commit('orderCreation/setBasket', fields);\n\n\t\t\tif (this.isNeedDisableSubmit())\n\t\t\t{\n\t\t\t\tthis.$store.commit('orderCreation/disableSubmit');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$store.commit('orderCreation/enableSubmit');\n\n\t\t\tconst requestId = Text.getRandom(20);\n\t\t\tthis.refreshId = requestId;\n\t\t\tBX.ajax.runAction(\n\t\t\t\t\"salescenter.api.order.refreshBasket\",\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\torderId : this.$root.$app.orderId,\n\t\t\t\t\t\tbasketItems: fields\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (this.refreshId !== requestId)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst data = BX.prop.getObject(result,\"data\", {});\n\t\t\t\t\tprocessRefreshRequest({\n\t\t\t\t\t\ttotal: BX.prop.getObject(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\"total\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdiscount: 0,\n\t\t\t\t\t\t\t\tresult: 0,\n\t\t\t\t\t\t\t\tsum: 0,\n\t\t\t\t\t\t\t\t//resultNumeric: 0,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t),\n\t\t\t\t\t\tbasket: BX.prop.get(data,\"items\",[])\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((result) => {\n\t\t\t\t\tconst data = BX.prop.getObject(result,\"data\", {});\n\t\t\t\t\tprocessRefreshRequest({\n\t\t\t\t\t\terrors: BX.prop.get(result,\"errors\", []),\n\t\t\t\t\t\tbasket: BX.prop.get(data,\"items\",[])\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tisNeedDisableSubmit()\n\t\t{\n\t\t\tconst basket = this.$store.getters['orderCreation/getBasket']();\n\n\t\t\tif (\n\t\t\t\tbasket.length <= 0\n\t\t\t\t|| (this.productForm && this.productForm.hasErrors())\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst filledProducts = basket.filter((item) => {\n\t\t\t\treturn (Type.isStringFilled(item.module) && item.productId > 0);\n\t\t\t});\n\n\t\t\treturn filledProducts.length <= 0;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"salescenter-app-payment-side\">\n\t\t\t<div class=\"salescenter-app-page-content\">\n\t\t\t\t<div class=\"salescenter-app-form-wrapper\"></div>\n\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t</div>\t\t\n\t\t</div>\n\t`,\n}\n","import {Loc} from 'main.core';\nimport {Manager} from 'salescenter.manager';\n\nexport default {\n\tdata()\n\t{\n\t\treturn {\n\t\t};\n\t},\n\tmethods: {\n\t\tconnect()\n\t\t{\n\t\t\tconst loader = new BX.Loader({size: 200});\n\t\t\tloader.show(document.body);\n\n\t\t\tBX.Salescenter.Manager.connect({\n\t\t\t\tno_redirect: 'Y',\n\t\t\t\tcontext: this.$root.$app.context,\n\t\t\t}).then(() =>\n\t\t\t{\n\t\t\t\tBX.Salescenter.Manager.loadConfig().then((result) =>\n\t\t\t\t{\n\t\t\t\t\tloader.hide();\n\n\t\t\t\t\tif(result.isSiteExists)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$root.$app.isSiteExists = result.isSiteExists;\n\t\t\t\t\t\tthis.$root.$app.isOrderPublicUrlExists = true;\n\t\t\t\t\t\tthis.$root.$app.orderPublicUrl = result.orderPublicUrl;\n\t\t\t\t\t\tthis.$root.$app.isOrderPublicUrlAvailable = result.isOrderPublicUrlAvailable;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.$emit('on-successfully-connected');\n\t\t\t\t});\n\t\t\t}).catch(function()\n\t\t\t{\n\t\t\t\tloader.hide();\n\t\t\t});\n\t\t},\n\t\tcheckRecycle()\n\t\t{\n\t\t\tManager.openConnectedSite(true);\n\t\t},\n\t\topenConnectedSite()\n\t\t{\n\t\t\tManager.openConnectedSite();\n\t\t},\n\t},\n\tcomputed: {\n\t\tisOrderPageDeleted()\n\t\t{\n\t\t\treturn (this.$root.$app.isSiteExists && !this.isOrderPublicUrlExists);\n\t\t},\n\t\tisOrderPublicUrlExists()\n\t\t{\n\t\t\treturn this.$root.$app.isOrderPublicUrlExists;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"salescenter-app-page-content salescenter-app-start-wrapper\">\n\t\t\t<div class=\"ui-title-1 ui-text-center ui-color-medium\" style=\"margin-bottom: 20px;\">\n\t\t\t\t${Loc.getMessage('SALESCENTER_INFO_TEXT_TOP_2')}\n\t\t\t</div>\n\t\t\t<div class=\"ui-hr ui-mv-25\"></div>\n\t\t\t<template v-if=\"isOrderPublicUrlExists\">\n\t\t\t\t<div class=\"salescenter-title-5 ui-title-5 ui-text-center ui-color-medium\">\n\t\t\t\t\t${Loc.getMessage('SALESCENTER_INFO_TEXT_BOTTOM_PUBLIC')}\n\t\t\t\t</div>\n\t\t\t\t<div style=\"padding-top: 5px;\" class=\"ui-text-center\">\n\t\t\t\t\t<div class=\"ui-btn ui-btn-primary ui-btn-lg\" @click=\"openConnectedSite\">\n\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_INFO_PUBLIC')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"isOrderPageDeleted\">\n\t\t\t\t<div class=\"salescenter-title-5 ui-title-5 ui-text-center ui-color-medium\">\n\t\t\t\t\t${Loc.getMessage('SALESCENTER_INFO_ORDER_PAGE_DELETED')}\n\t\t\t\t</div>\n\t\t\t\t<div style=\"padding-top: 5px;\" class=\"ui-text-center\">\n\t\t\t\t\t<div\n\t\t\t\t\t\t@click=\"checkRecycle\"\n\t\t\t\t\t\tclass=\"ui-btn ui-btn-primary ui-btn-lg\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_CHECK_RECYCLE')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<div class=\"salescenter-title-5 ui-title-5 ui-text-center ui-color-medium\">\n\t\t\t\t\t${Loc.getMessage('SALESCENTER_INFO_TEXT_BOTTOM_2')}\n\t\t\t\t</div>\n\t\t\t\t<div style=\"padding-top: 5px;\" class=\"ui-text-center\">\n\t\t\t\t\t<div\n\t\t\t\t\t\t@click=\"connect\"\n\t\t\t\t\t\tclass=\"ui-btn ui-btn-primary ui-btn-lg\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_INFO_CREATE')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style=\"padding-top: 5px;\" class=\"ui-text-center\">\n\t\t\t\t\t<div\n\t\t\t\t\t\t@click=\"BX.Salescenter.Manager.openHowPayDealWorks(event)\"\n\t\t\t\t\t\tclass=\"ui-btn ui-btn-link ui-btn-lg\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_HOW')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`,\n}\n","import {Loc} from 'main.core';\nimport {Manager} from \"salescenter.manager\";\n\nexport default {\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisVisible: true,\n\t\t};\n\t},\n\tmethods: {\n\t\thide()\n\t\t{\n\t\t\tthis.isVisible = false;\n\t\t\tthis.$emit('on-hide');\n\t\t},\n\t\topenControlPanel()\n\t\t{\n\t\t\tManager.openControlPanel();\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div v-if=\"isVisible\" class=\"salescenter-app-banner\" >\n\t\t\t<div class=\"salescenter-app-banner-inner\">\n\t\t\t\t<div class=\"salescenter-app-banner-title\">\n\t\t\t\t\t${Loc.getMessage('SALESCENTER_BANNER_TITLE')}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"salescenter-app-banner-content\">\n\t\t\t\t\t<div class=\"salescenter-app-banner-text\">\n\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_BANNER_TEXT')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"salescenter-app-banner-btn-block\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"openControlPanel\"\n\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-sm ui-btn-primary salescenter-app-banner-btn-connect\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_BANNER_BTN_CONFIGURE')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"hide\"\n\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-sm ui-btn-link salescenter-app-banner-btn-hide\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_BANNER_BTN_HIDE')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\t@click=\"hide\"\n\t\t\t\t\tclass=\"salescenter-app-banner-close\"\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n}\n","import {Vue} from 'ui.vue';\nimport {Vuex} from 'ui.vue.vuex';\nimport {Manager} from 'salescenter.manager';\nimport {Loader} from 'main.loader';\nimport {Type, Uri} from 'main.core';\nimport {MixinTemplatesType} from './components/templates-type-mixin';\nimport ComponentMixin from './component-mixin';\nimport Product from './product';\nimport Start from './start';\nimport NoPaymentSystemsBanner from './no-payment-systems';\nimport 'popup';\nimport 'ui.buttons';\nimport 'ui.buttons.icons';\nimport 'ui.forms';\nimport 'ui.fonts.opensans';\nimport 'ui.pinner';\n\nexport default {\n\tmixins: [MixinTemplatesType, ComponentMixin],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisShowPreview: false,\n\t\t\tisShowPayment: false,\n\t\t\tpageTitle: '',\n\t\t\tcurrentPageId: null,\n\t\t\tactions: [],\n\t\t\tframeCheckShortTimeout: false,\n\t\t\tframeCheckLongTimeout: false,\n\t\t\tisPagesOpen: false,\n\t\t\tisFormsOpen: false,\n\t\t\tshowedPageIds: [],\n\t\t\tloadedPageIds: [],\n\t\t\terrorPageIds: [],\n\t\t\tlastAddedPages: [],\n\t\t\tordersCount: null,\n\t\t\tpaymentsCount: null,\n\t\t\teditedPageId: null,\n\t\t\tcurrentPageTitle: null\n\t\t};\n\t},\n\tcomponents:\n\t\t{\n\t\t\t'product': Product,\n\t\t\t'start': Start,\n\t\t\t'no-payment-systems-banner': NoPaymentSystemsBanner,\n\t\t},\n\tupdated()\n\t{\n\t\tthis.renderErrors();\n\t},\n\tmounted()\n\t{\n\t\tthis.createLoader();\n\t\tthis.$root.$app.fillPages().then(() =>\n\t\t{\n\t\t\tif (this.$root.$app.isWithOrdersMode)\n\t\t\t{\n\t\t\t\tthis.refreshOrdersCount();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.refreshPaymentsCount();\n\t\t\t}\n\n\t\t\tthis.openFirstPage();\n\t\t});\n\n\t\tif(this.$root.$app.isPaymentsLimitReached)\n\t\t{\n\t\t\tlet paymentsLimitStartNode = this.$root.$nodes.paymentsLimit;\n\t\t\tlet paymentsLimitNode = this.$refs['paymentsLimit'];\n\t\t\tfor (let node of paymentsLimitStartNode.children)\n\t\t\t{\n\t\t\t\tpaymentsLimitNode.appendChild(node);\n\t\t\t}\n\t\t}\n\t},\n\tmethods:\n\t\t{\n\t\t\tgetActions()\n\t\t\t{\n\t\t\t\tlet actions = [];\n\t\t\t\tif(this.currentPage)\n\t\t\t\t{\n\t\t\t\t\tactions = [\n\t\t\t\t\t\t{text: this.localize.SALESCENTER_RIGHT_ACTION_COPY_URL, onclick: this.copyUrl},\n\t\t\t\t\t];\n\t\t\t\t\tif(this.currentPage.landingId > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tactions = [\n\t\t\t\t\t\t\t...actions,\n\t\t\t\t\t\t\t{text: this.localize.SALESCENTER_RIGHT_ACTION_HIDE, onclick: this.hidePage},\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tactions = [\n\t\t\t\t\t\t\t...actions,\n\t\t\t\t\t\t\t{text: this.localize.SALESCENTER_RIGHT_ACTION_DELETE, onclick: this.hidePage},\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn [\n\t\t\t\t\t...actions,\n\t\t\t\t\t{text: this.localize.SALESCENTER_RIGHT_ACTION_ADD, items: this.getAddPageActions()},\n\t\t\t\t];\n\t\t\t},\n\t\t\tgetAddPageActions(isWebform = false)\n\t\t\t{\n\t\t\t\treturn [\n\t\t\t\t\t{text: this.localize.SALESCENTER_RIGHT_ACTION_ADD_SITE_B24, onclick: () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.addSite(isWebform);\n\t\t\t\t\t\t}},\n\t\t\t\t\t{text: this.localize.SALESCENTER_RIGHT_ACTION_ADD_CUSTOM, onclick: () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.showAddUrlPopup({\n\t\t\t\t\t\t\t\tisWebform: isWebform === true ? 'Y' : null\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}},\n\t\t\t\t];\n\t\t\t},\n\t\t\topenFirstPage()\n\t\t\t{\n\t\t\t\tthis.isShowPayment = false;\n\t\t\t\tthis.isShowPreview = true;\n\t\t\t\tif(this.pages && this.pages.length > 0)\n\t\t\t\t{\n\t\t\t\t\tlet firstWebformPage = false;\n\t\t\t\t\tlet pageToOpen = false;\n\t\t\t\t\tthis.pages.forEach((page) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(!pageToOpen)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(!page.isWebform)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpageToOpen = page;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfirstWebformPage = page;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif(!pageToOpen && firstWebformPage)\n\t\t\t\t\t{\n\t\t\t\t\t\tpageToOpen = firstWebformPage;\n\t\t\t\t\t}\n\t\t\t\t\tif(this.currentPageId !== pageToOpen.id)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.onPageClick(pageToOpen);\n\t\t\t\t\t\tif(pageToOpen.isWebform)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.isFormsOpen = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.isPagesOpen = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.currentPageId = this.pages[0].id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.pageTitle = null;\n\t\t\t\t\tthis.currentPageId = null;\n\t\t\t\t\tthis.setPageTitle(this.pageTitle);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonPageClick(page)\n\t\t\t{\n\t\t\t\tthis.pageTitle = page.name;\n\t\t\t\tthis.currentPageId = page.id;\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t\tthis.isShowPayment = false;\n\t\t\t\tthis.isShowPreview = true;\n\t\t\t\tthis.setPageTitle(this.pageTitle);\n\t\t\t\tif(page.isFrameDenied !== true)\n\t\t\t\t{\n\t\t\t\t\tif(!this.showedPageIds.includes(page.id))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.startFrameCheckTimeout();\n\t\t\t\t\t\tthis.showedPageIds.push(page.id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.onFrameError();\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowActionsPopup({target})\n\t\t\t{\n\t\t\t\tBX.PopupMenu.show('salescenter-app-actions', target, this.getActions(), {\n\t\t\t\t\toffsetLeft: 0,\n\t\t\t\t\toffsetTop: 0,\n\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowCompanyContacts({target})\n\t\t\t{\n\t\t\t\tBX.Salescenter.Manager.openSlider(this.$root.$app.options.urlSettingsCompanyContacts, {width: 1200} );\n\t\t\t},\n\t\t\tshowAddPageActionPopup({target}, isWebform = false)\n\t\t\t{\n\t\t\t\tlet menuId = 'salescenter-app-add-page-actions';\n\t\t\t\tif(isWebform)\n\t\t\t\t{\n\t\t\t\t\tmenuId += '-forms';\n\t\t\t\t}\n\t\t\t\tBX.PopupMenu.show(menuId, target, this.getAddPageActions(isWebform), {\n\t\t\t\t\toffsetLeft: target.offsetWidth + 20,\n\t\t\t\t\toffsetTop: -target.offsetHeight - 15,\n\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\tangle: {\n\t\t\t\t\t\tposition: 'left',\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\thideActionsPopup()\n\t\t\t{\n\t\t\t\tBX.PopupMenu.destroy('salescenter-app-actions');\n\t\t\t\tBX.PopupMenu.destroy('salescenter-app-add-page-actions');\n\t\t\t},\n\t\t\taddSite(isWebform = false)\n\t\t\t{\n\t\t\t\tManager.addSitePage(isWebform).then((result) =>\n\t\t\t\t{\n\t\t\t\t\tlet newPage = result.answer.result.page || false;\n\t\t\t\t\tthis.$root.$app.fillPages().then(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(newPage)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.onPageClick(newPage);\n\t\t\t\t\t\t\tthis.lastAddedPages.push(parseInt(newPage.id));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.openFirstPage();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t},\n\t\t\tcopyUrl(event)\n\t\t\t{\n\t\t\t\tif(this.currentPage && this.currentPage.url)\n\t\t\t\t{\n\t\t\t\t\tManager.copyUrl(this.currentPage.url, event);\n\t\t\t\t\tthis.hideActionsPopup();\n\t\t\t\t}\n\t\t\t},\n\t\t\teditPage()\n\t\t\t{\n\t\t\t\tif(this.currentPage)\n\t\t\t\t{\n\t\t\t\t\tif(this.currentPage.landingId && this.currentPage.landingId > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tManager.editLandingPage(this.currentPage.landingId, this.currentPage.siteId);\n\t\t\t\t\t\tthis.hideActionsPopup();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.showAddUrlPopup(this.currentPage);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\thidePage()\n\t\t\t{\n\t\t\t\tif(this.currentPage)\n\t\t\t\t{\n\t\t\t\t\tthis.$root.$app.hidePage(this.currentPage).then(() => {\n\t\t\t\t\t\tthis.openFirstPage();\n\t\t\t\t\t});\n\t\t\t\t\tthis.hideActionsPopup();\n\t\t\t\t}\n\t\t\t},\n\t\t\thideNoPaymentSystemsBanner()\n\t\t\t{\n\t\t\t\tthis.$root.$app.hideNoPaymentSystemsBanner();\n\t\t\t},\n\t\t\tshowAddUrlPopup(newPage)\n\t\t\t{\n\t\t\t\tif(!Type.isPlainObject(newPage))\n\t\t\t\t{\n\t\t\t\t\tnewPage = {};\n\t\t\t\t}\n\t\t\t\tManager.addCustomPage(newPage).then((pageId) =>\n\t\t\t\t{\n\t\t\t\t\tif(!this.isShowPreview)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isShowPreview = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis.$root.$app.fillPages().then(() => {\n\t\t\t\t\t\tif(pageId && (!Type.isPlainObject(newPage) || !newPage.id))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.lastAddedPages.push(parseInt(pageId));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!pageId && newPage)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpageId = newPage.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(pageId)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.pages.forEach((page) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif(parseInt(page.id) === parseInt(pageId))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.onPageClick(page);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(!this.isShowPayment)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.isShowPreview = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t},\n\t\t\tshowPaymentForm()\n\t\t\t{\n\t\t\t\tthis.isShowPayment = true;\n\t\t\t\tthis.isShowPreview = false;\n\t\t\t\tif(this.isOrderPublicUrlAvailable)\n\t\t\t\t{\n\t\t\t\t\tthis.setPageTitle(this.localize.SALESCENTER_LEFT_PAYMENT_ADD_2);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.setPageTitle(this.localize.SALESCENTER_DEFAULT_TITLE);\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowOrdersList()\n\t\t\t{\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t\tManager.showOrdersList({\n\t\t\t\t\townerId: this.$root.$app.ownerId,\n\t\t\t\t\townerTypeId: this.$root.$app.ownerTypeId,\n\t\t\t\t}).then(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.refreshOrdersCount();\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowPaymentsList()\n\t\t\t{\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t\tManager.showPaymentsList({\n\t\t\t\t\townerId: this.$root.$app.ownerId,\n\t\t\t\t\townerTypeId: this.$root.$app.ownerTypeId,\n\t\t\t\t}).then(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.refreshPaymentsCount();\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowOrderAdd()\n\t\t\t{\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t\tManager.showOrderAdd({\n\t\t\t\t\townerId: this.$root.$app.ownerId,\n\t\t\t\t\townerTypeId: this.$root.$app.ownerTypeId,\n\t\t\t\t}).then(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.refreshOrdersCount();\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowCatalog()\n\t\t\t{\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t\tManager.openSlider(`/saleshub/catalog/?sessionId=${this.$root.$app.sessionId}`);\n\t\t\t},\n\t\t\tonFormsClick()\n\t\t\t{\n\t\t\t\tthis.isFormsOpen = !this.isFormsOpen;\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t},\n\t\t\topenControlPanel()\n\t\t\t{\n\t\t\t\tManager.openControlPanel();\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t},\n\t\t\topenHelpDesk()\n\t\t\t{\n\t\t\t\tthis.hideActionsPopup();\n\t\t\t\tManager.openHowItWorks();\n\t\t\t},\n\t\t\tisPageSelected(page)\n\t\t\t{\n\t\t\t\treturn (this.currentPage && this.isShowPreview && this.currentPage.id === page.id);\n\t\t\t},\n\t\t\tsend(event, skipPublicMessage = 'n')\n\t\t\t{\n\t\t\t\tif(!this.isAllowedSubmitButton)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(this.isShowPayment && !this.isShowStartInfo)\n\t\t\t\t{\n\t\t\t\t\tthis.$root.$app.sendPayment(event.target, skipPublicMessage);\n\t\t\t\t}\n\t\t\t\telse if(this.currentPage && this.currentPage.isActive)\n\t\t\t\t{\n\t\t\t\t\tthis.$root.$app.sendPage(this.currentPage.id);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsetPageTitle(title = null)\n\t\t\t{\n\t\t\t\tif(!title)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(this.$root.$nodes.title)\n\t\t\t\t{\n\t\t\t\t\tthis.$root.$nodes.title.innerText = title;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonFrameError()\n\t\t\t{\n\t\t\t\tclearTimeout(this.frameCheckLongTimeout);\n\t\t\t\tif(this.showedPageIds.includes(this.currentPage.id))\n\t\t\t\t{\n\t\t\t\t\tthis.loadedPageIds.push(this.currentPage.id);\n\t\t\t\t}\n\t\t\t\tthis.errorPageIds.push(this.currentPage.id);\n\t\t\t},\n\t\t\tonFrameLoad(pageId)\n\t\t\t{\n\t\t\t\tclearTimeout(this.frameCheckLongTimeout);\n\t\t\t\tif(this.showedPageIds.includes(pageId))\n\t\t\t\t{\n\t\t\t\t\tthis.loadedPageIds.push(pageId);\n\t\t\t\t\tif(this.currentPage && this.currentPage.id === pageId)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(this.frameCheckShortTimeout && !this.currentPage.landingId)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.onFrameError();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(this.errorPageIds.includes(this.currentPage.id))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.errorPageIds = this.errorPageIds.filter((pageId) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn pageId !== this.currentPage.id;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.frameCheckShortTimeout && this.currentPage && this.currentPage.id === pageId && !this.currentPage.landingId)\n\t\t\t\t{\n\t\t\t\t\tthis.onFrameError();\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSuccessfullyConnected()\n\t\t\t{\n\t\t\t\tthis.$root.$app.fillPages().then(() =>\n\t\t\t\t{\n\t\t\t\t\tif(!this.isShowPayment)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.openFirstPage();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.showPaymentForm();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tstartFrameCheckTimeout()\n\t\t\t{\n\t\t\t\t// this is a workaround for denied through X-Frame-Options sources\n\t\t\t\tif(this.frameCheckShortTimeout)\n\t\t\t\t{\n\t\t\t\t\tclearTimeout(this.frameCheckShortTimeout);\n\t\t\t\t\tthis.frameCheckShortTimeout = false;\n\t\t\t\t}\n\t\t\t\tthis.frameCheckShortTimeout = setTimeout(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.frameCheckShortTimeout = false;\n\t\t\t\t}, 500);\n\n\t\t\t\t// to show error on long loading\n\t\t\t\tclearTimeout(this.frameCheckLongTimeout);\n\t\t\t\tthis.frameCheckLongTimeout = setTimeout(() =>\n\t\t\t\t{\n\t\t\t\t\tif(this.currentPage && this.showedPageIds.includes(this.currentPage.id) && !this.loadedPageIds.includes(this.currentPage.id))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.errorPageIds.push(this.currentPage.id);\n\t\t\t\t\t}\n\t\t\t\t}, 5000);\n\t\t\t},\n\t\t\tgetFrameSource(page)\n\t\t\t{\n\t\t\t\tif(this.showedPageIds.includes(page.id))\n\t\t\t\t{\n\t\t\t\t\tif(page.landingId > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(page.isActive)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn (new Uri(page.url)).setQueryParam('theme', '').toString();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\treturn page.url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\trefreshOrdersCount()\n\t\t\t{\n\t\t\t\tthis.$root.$app.getOrdersCount().then((result) =>\n\t\t\t\t{\n\t\t\t\t\tthis.ordersCount = result.answer.result || null;\n\t\t\t\t}).catch(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.ordersCount = null;\n\t\t\t\t});\n\t\t\t},\n\t\t\trefreshPaymentsCount()\n\t\t\t{\n\t\t\t\tthis.$root.$app.getPaymentsCount().then((result) =>\n\t\t\t\t{\n\t\t\t\t\tthis.paymentsCount = result.answer.result || null;\n\t\t\t\t}).catch(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.paymentsCount = null;\n\t\t\t\t});\n\t\t\t},\n\t\t\trenderErrors()\n\t\t\t{\n\t\t\t\tif (this.isShowPayment && this.order.errors.length > 0)\n\t\t\t\t{\n\t\t\t\t\tlet errorMessages = this.order.errors.map((item) => item.message).join('<br>');\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tcolor: BX.UI.Alert.Color.DANGER,\n\t\t\t\t\t\ttextCenter: true,\n\t\t\t\t\t\ttext: BX.util.htmlspecialchars(errorMessages)\n\t\t\t\t\t};\n\t\t\t\t\tif (this.$refs.errorBlock.innerHTML.length === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tparams.animated = true;\n\t\t\t\t\t}\n\t\t\t\t\tlet alert = new BX.UI.Alert(params);\n\t\t\t\t\tthis.$refs.errorBlock.innerHTML = '';\n\t\t\t\t\tthis.$refs.errorBlock.appendChild(alert.getContainer());\n\t\t\t\t}\n\t\t\t\telse if (this.$refs.errorBlock)\n\t\t\t\t{\n\t\t\t\t\tthis.$refs.errorBlock.innerHTML = '';\n\t\t\t\t}\n\t\t\t},\n\t\t\teditMenuItem(event, page)\n\t\t\t{\n\t\t\t\tthis.editedPageId = page.id;\n\t\t\t\tsetTimeout(() =>\n\t\t\t\t{\n\t\t\t\t\tevent.target.parentNode.parentNode.querySelector('input').focus();\n\t\t\t\t}, 50);\n\t\t\t},\n\t\t\tsaveMenuItem(event)\n\t\t\t{\n\t\t\t\tconst pageId = this.editedPageId;\n\t\t\t\tconst name = event.target.value;\n\t\t\t\tlet oldName;\n\t\t\t\tthis.pages.forEach((page) =>\n\t\t\t\t{\n\t\t\t\t\tif(page.id === this.editedPageId)\n\t\t\t\t\t{\n\t\t\t\t\t\toldName = page.name\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(pageId > 0 && oldName && name !== oldName && name.length > 0)\n\t\t\t\t{\n\t\t\t\t\tManager.addPage({\n\t\t\t\t\t\tid: pageId,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tanalyticsLabel: 'salescenterUpdatePageTitle',\n\t\t\t\t\t}).then(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$root.$app.fillPages().then(() => {\n\t\t\t\t\t\t\tif(this.editedPageId === this.currentPageId)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.setPageTitle(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.editedPageId = null;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.editedPageId = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreateLoader()\n\t\t\t{\n\t\t\t\tconst loader = new Loader({size: 200});\n\t\t\t\tloader.show(this.$refs['previewLoader']);\n\t\t\t}\n\t\t},\n\n\tcomputed:\n\t\t{\n\t\t\tconfig: () => config,\n\t\t\tcurrentPage()\n\t\t\t{\n\t\t\t\tif(this.currentPageId > 0)\n\t\t\t\t{\n\t\t\t\t\tlet pages = this.application.pages.filter((page) =>\n\t\t\t\t\t{\n\t\t\t\t\t\treturn page.id === this.currentPageId;\n\t\t\t\t\t});\n\t\t\t\t\tif(pages.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn pages[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tpagesSubmenuHeight()\n\t\t\t{\n\t\t\t\tif(this.isPagesOpen)\n\t\t\t\t{\n\t\t\t\t\treturn (this.application.pages.filter((page) =>\n\t\t\t\t\t{\n\t\t\t\t\t\treturn !page.isWebform;\n\t\t\t\t\t}).length * 39 + 30) + 'px';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn '0px';\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tformsSubmenuHeight()\n\t\t\t{\n\t\t\t\tif(this.isFormsOpen)\n\t\t\t\t{\n\t\t\t\t\treturn (this.application.pages.filter((page) =>\n\t\t\t\t\t{\n\t\t\t\t\t\treturn page.isWebform;\n\t\t\t\t\t}).length * 39 + 30) + 'px';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn '0px';\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tisFrameError()\n\t\t\t{\n\t\t\t\tif(this.isShowPreview && this.currentPage)\n\t\t\t\t{\n\t\t\t\t\tif(!this.currentPage.isActive)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\telse if(!this.currentPage.landingId && this.errorPageIds.includes(this.currentPage.id))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\tisShowLoader()\n\t\t\t{\n\t\t\t\treturn (\n\t\t\t\t\tthis.isShowPreview &&\n\t\t\t\t\tthis.currentPageId > 0 &&\n\t\t\t\t\tthis.showedPageIds.includes(this.currentPageId) &&\n\t\t\t\t\t!this.loadedPageIds.includes(this.currentPageId)\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tisShowStartInfo()\n\t\t\t{\n\t\t\t\tlet res = false;\n\t\t\t\tif(this.isShowPreview)\n\t\t\t\t{\n\t\t\t\t\tres = (!this.pages || this.pages.length <= 0);\n\t\t\t\t}\n\t\t\t\telse if(this.isShowPayment)\n\t\t\t\t{\n\t\t\t\t\tres = !this.isOrderPublicUrlAvailable;\n\t\t\t\t}\n\n\t\t\t\treturn res;\n\t\t\t},\n\n\t\t\tlastModified()\n\t\t\t{\n\t\t\t\tif(this.currentPage && this.currentPage.modifiedAgo)\n\t\t\t\t{\n\t\t\t\t\treturn this.localize.SALESCENTER_MODIFIED.replace('#AGO#', this.currentPage.modifiedAgo);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\tlocalize()\n\t\t\t{\n\t\t\t\treturn Vue.getFilteredPhrases('SALESCENTER_');\n\t\t\t},\n\n\t\t\tpages()\n\t\t\t{\n\t\t\t\treturn [...this.application.pages];\n\t\t\t},\n\n\t\t\tisAllowedSubmitButton()\n\t\t\t{\n\t\t\t\tif(this.$root.$app.disableSendButton)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.isShowPreview && this.currentPage && !this.currentPage.isActive)\n\t\t\t\t{\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (this.isShowPayment)\n\t\t\t\t{\n\t\t\t\t\treturn this.$store.getters['orderCreation/isAllowedSubmit'];\n\t\t\t\t}\n\t\t\t\treturn this.currentPage;\n\t\t\t},\n\t\t\tisNoPaymentSystemsBannerVisible()\n\t\t\t{\n\t\t\t\treturn this.$root.$app.options.showPaySystemSettingBanner;\n\t\t\t},\n\t\t\tmode()\n\t\t\t{\n\t\t\t\treturn this.$root.$app.options.mode;\n\t\t\t},\n\t\t\t...Vuex.mapState({\n\t\t\t\tapplication: state => state.application,\n\t\t\t\torder: state => state.orderCreation,\n\t\t\t})\n\t\t},\n\ttemplate: `\n\t\t<div\n\t\t\t:class=\"wrapperClass\"\n\t\t\t:style=\"wrapperStyle\"\n\t\t\tclass=\"salescenter-app-wrapper\"\n\t\t>\n\t\t\t<div class=\"ui-sidepanel-sidebar salescenter-app-sidebar\" ref=\"sidebar\">\n\t\t\t\t<ul class=\"ui-sidepanel-menu\" ref=\"sidepanelMenu\">\n\t\t\t\t\t<li :class=\"{'salescenter-app-sidebar-menu-active': isPagesOpen}\" class=\"ui-sidepanel-menu-item\">\n\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\" @click.stop.prevent=\"isPagesOpen = !isPagesOpen;\">\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{localize.SALESCENTER_LEFT_PAGES}}</div>\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-toggle-btn\">{{this.isPagesOpen ? this.localize.SALESCENTER_SUBMENU_CLOSE : this.localize.SALESCENTER_SUBMENU_OPEN}}</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class=\"ui-sidepanel-submenu\" :style=\"{height: pagesSubmenuHeight}\">\n\t\t\t\t\t\t\t<li v-for=\"page in pages\" v-if=\"!page.isWebform\" :key=\"page.id\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t'ui-sidepanel-submenu-active': (currentPage && currentPage.id == page.id && isShowPreview),\n\t\t\t\t\t\t\t\t'ui-sidepanel-submenu-edit-mode': (editedPageId === page.id)\n\t\t\t\t\t\t\t}\" class=\"ui-sidepanel-submenu-item\">\n\t\t\t\t\t\t\t\t<a :title=\"page.name\" class=\"ui-sidepanel-submenu-link\" @click.stop=\"onPageClick(page)\">\n\t\t\t\t\t\t\t\t\t<input class=\"ui-sidepanel-input\" :value=\"page.name\" v-on:keyup.enter=\"saveMenuItem($event)\" @blur=\"saveMenuItem($event)\" />\n\t\t\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{page.name}}</div>\n\t\t\t\t\t\t\t\t\t<div v-if=\"lastAddedPages.includes(page.id)\" class=\"ui-sidepanel-badge-new\"></div>\n\t\t\t\t\t\t\t\t\t<div class=\"ui-sidepanel-edit-btn\"><span class=\"ui-sidepanel-edit-btn-icon\" @click=\"editMenuItem($event, page);\"></span></div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"salescenter-app-helper-nav-item salescenter-app-menu-add-page\" @click.stop=\"showAddPageActionPopup($event)\">\n\t\t\t\t\t\t\t\t<span class=\"salescenter-app-helper-nav-item-text salescenter-app-helper-nav-item-add\">+</span><span class=\"salescenter-app-helper-nav-item-text\">{{localize.SALESCENTER_RIGHT_ACTION_ADD}}</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-if=\"this.$root.$app.isPaymentCreationAvailable\" :class=\"{ 'salescenter-app-sidebar-menu-active': this.isShowPayment}\" class=\"ui-sidepanel-menu-item\" @click=\"showPaymentForm\">\n\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{localize.SALESCENTER_LEFT_PAYMENT_ADD_2}}</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-if=\"this.$root.$app.isWithOrdersMode\" @click=\"showOrdersList\">\n\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{localize.SALESCENTER_LEFT_ORDERS}}</div>\n\t\t\t\t\t\t\t<span class=\"ui-sidepanel-counter\" ref=\"ordersCounter\" v-show=\"ordersCount > 0\">{{ordersCount}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-if=\"this.$root.$app.isWithOrdersMode\" @click=\"showOrderAdd\">\n\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{localize.SALESCENTER_LEFT_ORDER_ADD}}</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-if=\"!this.$root.$app.isWithOrdersMode\" @click=\"showPaymentsList\">\n\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{localize.SALESCENTER_LEFT_PAYMENTS}}</div>\n\t\t\t\t\t\t\t<span class=\"ui-sidepanel-counter\" ref=\"paymentsCounter\" v-show=\"paymentsCount > 0\">{{paymentsCount}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li v-if=\"this.$root.$app.isCatalogAvailable\" @click=\"showCatalog\">\n\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{localize.SALESCENTER_LEFT_CATALOG}}</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li :class=\"{'salescenter-app-sidebar-menu-active': isFormsOpen}\" class=\"ui-sidepanel-menu-item\">\n\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\" @click.stop.prevent=\"onFormsClick();\">\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{localize.SALESCENTER_LEFT_FORMS_ALL}}</div>\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-toggle-btn\">{{this.isPagesOpen ? this.localize.SALESCENTER_SUBMENU_CLOSE : this.localize.SALESCENTER_SUBMENU_OPEN}}</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class=\"ui-sidepanel-submenu\" :style=\"{height: formsSubmenuHeight}\">\n\t\t\t\t\t\t\t<li v-for=\"page in pages\" v-if=\"page.isWebform\" :key=\"page.id\"\n\t\t\t\t\t\t\t :class=\"{\n\t\t\t\t\t\t\t\t'ui-sidepanel-submenu-active': (currentPage && currentPage.id == page.id && isShowPreview),\n\t\t\t\t\t\t\t\t'ui-sidepanel-submenu-edit-mode': (editedPageId === page.id)\n\t\t\t\t\t\t\t}\" class=\"ui-sidepanel-submenu-item\">\n\t\t\t\t\t\t\t\t<a :title=\"page.name\" class=\"ui-sidepanel-submenu-link\" @click.stop=\"onPageClick(page)\">\n\t\t\t\t\t\t\t\t\t<input class=\"ui-sidepanel-input\" :value=\"page.name\" v-on:keyup.enter=\"saveMenuItem($event)\" @blur=\"saveMenuItem($event)\" />\n\t\t\t\t\t\t\t\t\t<div v-if=\"lastAddedPages.includes(page.id)\" class=\"ui-sidepanel-badge-new\"></div>\n\t\t\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{page.name}}</div>\n\t\t\t\t\t\t\t\t\t<div class=\"ui-sidepanel-edit-btn\"><span class=\"ui-sidepanel-edit-btn-icon\" @click=\"editMenuItem($event, page);\"></span></div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class=\"salescenter-app-helper-nav-item salescenter-app-menu-add-page\" @click.stop=\"showAddPageActionPopup($event, true)\">\n\t\t\t\t\t\t\t\t<span class=\"salescenter-app-helper-nav-item-text salescenter-app-helper-nav-item-add\">+</span><span class=\"salescenter-app-helper-nav-item-text\">{{localize.SALESCENTER_RIGHT_ACTION_ADD}}</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"salescenter-app-right-side\">\n\t\t\t\t<div class=\"salescenter-app-page-header\" v-show=\"isShowPreview && !isShowStartInfo\">\n\t\t\t\t\t<div class=\"salescenter-btn-action ui-btn ui-btn-link ui-btn-dropdown ui-btn-xs\" @click=\"showActionsPopup($event)\">{{localize.SALESCENTER_RIGHT_ACTIONS_BUTTON}}</div>\n\t\t\t\t\t<div class=\"salescenter-btn-delimiter salescenter-btn-action\"></div>\n\t\t\t\t\t<div class=\"salescenter-btn-action ui-btn ui-btn-link ui-btn-xs ui-btn-icon-edit\" @click=\"editPage\">{{localize.SALESCENTER_RIGHT_ACTION_EDIT}}</div>\n\t\t\t\t</div>\n\t\t\t\t<start\n\t\t\t\t\tv-if=\"isShowStartInfo\"\n\t\t\t\t\t@on-successfully-connected=\"onSuccessfullyConnected\"\n\t\t\t\t>\n\t\t\t\t</start>\n\t\t\t\t<template v-else-if=\"isFrameError && isShowPreview\">\n\t\t\t\t\t<div class=\"salescenter-app-page-content salescenter-app-lost\">\n\t\t\t\t\t\t<div class=\"salescenter-app-lost-block ui-title-1 ui-text-center ui-color-medium\">{{localize.SALESCENTER_ERROR_TITLE}}</div>\n\t\t\t\t\t\t<div v-if=\"currentPage.isFrameDenied === true\" class=\"salescenter-app-lost-helper ui-color-medium\">{{localize.SALESCENTER_RIGHT_FRAME_DENIED}}</div>\n\t\t\t\t\t\t<div v-else-if=\"currentPage.isActive !== true\" class=\"salescenter-app-lost-helper salescenter-app-not-active ui-color-medium\">{{localize.SALESCENTER_RIGHT_NOT_ACTIVE}}</div>\n\t\t\t\t\t\t<div v-else class=\"salescenter-app-lost-helper ui-color-medium\">{{localize.SALESCENTER_ERROR_TEXT}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<div v-show=\"isShowPreview && !isShowStartInfo && !isFrameError\" class=\"salescenter-app-page-content\">\n\t\t\t\t\t<template v-for=\"page in pages\">\n\t\t\t\t\t\t<iframe class=\"salescenter-app-demo\" v-show=\"currentPage && currentPage.id == page.id\" :src=\"getFrameSource(page)\" frameborder=\"0\" @error=\"onFrameError(page.id)\" @load=\"onFrameLoad(page.id)\" :key=\"page.id\"></iframe>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div class=\"salescenter-app-demo-overlay\" :class=\"{\n\t\t\t\t\t\t'salescenter-app-demo-overlay-loading': this.isShowLoader\n\t\t\t\t\t}\">\n\t\t\t\t\t\t<div v-show=\"isShowLoader\" ref=\"previewLoader\"></div>\n\t\t\t\t\t\t<div v-if=\"lastModified\" class=\"salescenter-app-demo-overlay-modification\">{{lastModified}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t    <template v-if=\"this.$root.$app.isPaymentsLimitReached\">\n\t\t\t        <div ref=\"paymentsLimit\" v-show=\"isShowPayment && !isShowStartInfo\"></div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<product v-if=\"isShowPayment && !isShowStartInfo\" :key=\"order.basketVersion\">\n\t\t\t\t\t\t<template v-if=\"isNoPaymentSystemsBannerVisible\" v-slot:footer>\n\t\t\t\t\t\t\t<no-payment-systems-banner @on-hide=\"hideNoPaymentSystemsBanner\">\n\t\t\t\t\t\t\t</no-payment-systems-banner>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</product>\n\t\t        </template>\n\t\t\t</div>\n\t\t\t<div class=\"ui-button-panel-wrapper salescenter-button-panel\" ref=\"buttonsPanel\">\n\t\t\t\t<div class=\"ui-button-panel\">\n\t\t\t\t\t<button :class=\"{'ui-btn-disabled': !this.isAllowedSubmitButton}\" class=\"ui-btn ui-btn-md ui-btn-success\" @click=\"send($event)\">{{localize.SALESCENTER_SEND}}</button>\n\t\t\t\t\t<button class=\"ui-btn ui-btn-md ui-btn-link\" @click=\"close\">{{localize.SALESCENTER_CANCEL}}</button>\n\t\t\t\t\t<button v-if=\"isShowPayment && !isShowStartInfo && !this.$root.$app.isPaymentsLimitReached && this.$root.$app.isWithOrdersMode\" class=\"ui-btn ui-btn-md ui-btn-link btn-send-crm\" @click=\"send($event, 'y')\">{{localize.SALESCENTER_SAVE_ORDER}}</button>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"this.order.errors.length > 0\" ref=\"errorBlock\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n}\n","import {Loc} from 'main.core';\n\nexport default {\n\tprops: {\n\t\tbuttonLabel: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tbuttonEnabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tshowWhatClientSeesControl: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t}\n\t},\n\tcomputed: {\n\t\tbuttonClass()\n\t\t{\n\t\t\treturn {'salescenter-app-payment-by-sms-item-disabled': this.buttonEnabled === false};\n\t\t},\n\t},\n\tmethods: {\n\t\tshowWhatClientSees(event)\n\t\t{\n\t\t\tBX.Salescenter.Manager.openWhatClientSee(event);\n\t\t},\n\t\tsubmit(event)\n\t\t{\n\t\t\tthis.$emit('on-submit', event);\n\t\t},\n\t},\n\ttemplate: `\t\t\n\t\t<div\n\t\t\t:class=\"buttonClass\"\n\t\t\tclass=\"salescenter-app-payment-by-sms-item-show salescenter-app-payment-by-sms-item salescenter-app-payment-by-sms-item-send\"\n\t\t>\n\t\t\t<div class=\"salescenter-app-payment-by-sms-item-counter\">\n\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-counter-rounder\"></div>\n\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-counter-line\"></div>\n\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-counter-number\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container\">\n\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-payment\">\n\t\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-payment-inline\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t@click=\"submit($event)\"\n\t\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-lg ui-btn-success ui-btn-round\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{buttonLabel}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"showWhatClientSeesControl\"\n\t\t\t\t\t\t\t\t@click=\"showWhatClientSees\"\n\t\t\t\t\t\t\t\tclass=\"salescenter-app-add-item-link\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_SEND_ORDER_BY_SMS_SENDER_TEMPLATE_WHAT_DOES_CLIENT_SEE')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n}\n","import\n{\n\tAppSlider,\n\tEventTypes\n} \t\t\t\t\t\t\t\tfrom 'salescenter.marketplace';\nimport\n{\n\tLabel,\n\tTileLabel,\n\tTileHintImg,\n\tTileLabelPlus,\n\tTileHintImgCaption,\n\tTileHintBackground,\n\tTileHintBackgroundCaption,\n} \t\t\t\t\t\t\t\tfrom 'salescenter.component.stage-block.tile';\nimport * as Hint \t\t\t\tfrom 'salescenter.component.stage-block.hint';\nimport * as Tile \t\t\t\tfrom 'salescenter.tile';\n\n\nlet TileCollectionMixins = {\n\n\tcomponents:\n\t\t{\n\t\t\t'label-block'\t\t\t\t\t\t\t:\tLabel,\n\t\t\t'tile-label-block'\t\t\t\t\t\t:\tTileLabel,\n\t\t\t'tile-hint-img-block'\t\t\t\t\t:\tTileHintImg,\n\t\t\t'tile-hint-plus-block'\t\t\t\t\t:\tTileLabelPlus,\n\t\t\t'tile-hint-img-caption-block'\t\t\t:\tTileHintImgCaption,\n\t\t\t'tile-hint-background-block'\t\t\t:\tTileHintBackground,\n\t\t\t'tile-hint-background-caption-block'\t:\tTileHintBackgroundCaption\n\t\t},\n\tmethods:\n\t\t{\n\t\t\tgetCollectionTile()\n\t\t\t{\n\t\t\t\treturn this.tiles;\n\t\t\t},\n\n\t\t\tgetCollectionTileByFilter(filter: Array)\n\t\t\t{\n\t\t\t\tlet map = new Map();\n\t\t\t\tlet collection = this.getCollectionTile();\n\n\t\t\t\tif(filter.hasOwnProperty('type') && filter.type.length > 0)\n\t\t\t\t{\n\t\t\t\t\tcollection\n\t\t\t\t\t\t.forEach((item, index) => {\n\n\t\t\t\t\t\t\tif(filter.type === item.getType())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmap.set(index, item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tcollection\n\t\t\t\t\t\t.forEach((item, index) => map.set(index, item));\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t},\n\n\t\t\thasTileOfferFromCollection()\n\t\t\t{\n\t\t\t\tlet map = this.getCollectionTileByFilter({\n\t\t\t\t\ttype: Tile.Offer.type()\n\t\t\t\t});\n\n\t\t\t\treturn map.size > 0;\n\t\t\t},\n\n\t\t\thasTileMoreFromCollection()\n\t\t\t{\n\t\t\t\tlet map = this.getCollectionTileByFilter({\n\t\t\t\t\ttype: Tile.More.type()\n\t\t\t\t});\n\n\t\t\t\treturn map.size > 0;\n\t\t\t},\n\n\t\t\tgetTileOfferFromCollection()\n\t\t\t{\n\t\t\t\tlet map = this.getCollectionTileByFilter({\n\t\t\t\t\ttype: Tile.Offer.type()\n\t\t\t\t});\n\n\t\t\t\tlet result = {};\n\t\t\t\tmap.forEach((item, inx)=> { result = {index: inx, tile: item}; return false;});\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\tgetTileMoreFromCollection()\n\t\t\t{\n\t\t\t\tlet map = this.getCollectionTileByFilter({\n\t\t\t\t\ttype: Tile.More.type()\n\t\t\t\t});\n\n\t\t\t\tlet result = {};\n\t\t\t\tmap.forEach((item, inx)=> { result = {index: inx, tile: item}; return false;});\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\tgetTileByIndex(index)\n\t\t\t{\n\t\t\t\tlet  tile = null;\n\t\t\t\tthis.getCollectionTileByFilter({})\n\t\t\t\t\t.forEach((item, inx)=> {\n\n\t\t\t\t\t\tif(index === inx)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttile = item;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\treturn tile;\n\t\t\t},\n\n\t\t\topenSlider(inx)\n\t\t\t{\n\t\t\t\tlet slider = new AppSlider();\n\t\t\t\tlet tile = this.getTileByIndex(inx);\n\n\t\t\t\tslider.openAppLocal(tile, this.getOptionSlider);\n\t\t\t\tslider.subscribe(EventTypes.AppSliderSliderClose,\n\t\t\t\t\t(e) => this.$emit('on-tile-slider-close', {data: e.data})\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tisControlTile(tile: Tile.Base)\n\t\t\t{\n\t\t\t\treturn [Tile.More.type(), Tile.Offer.type()].includes(tile.getType());\n\t\t\t},\n\n\t\t\tshowHint(inx, e)\n\t\t\t{\n\t\t\t\tlet event = e.data.event;\n\t\t\t\tlet tile = this.getTileByIndex(inx);\n\n\t\t\t\tthis.popup = new Hint.Popup();\n\t\t\t\tthis.popup.show(event.target, tile.info);\n\t\t\t},\n\n\t\t\thideHint()\n\t\t\t{\n\t\t\t\tif(this.popup)\n\t\t\t\t{\n\t\t\t\t\tthis.popup.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\tcomputed:\n\t\t{\n\t\t\tgetOptionSlider()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\twidth: 1000\n\t\t\t\t}\n\t\t\t}\n\t\t},\n};\nexport {\n\tTileCollectionMixins\n}","import {TileCollectionMixins} from \"./tile-collection-mixins\";\n\nconst Uninstalled = {\n\tprops: {\n\t\ttiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t}\n\t},\n\tmixins:[TileCollectionMixins],\n\ttemplate: `\t\t\n\t\t<div>\n\t\t\t<template v-for=\"(tile, index) in tiles\">\n\t\t\t\t<tile-hint-background-caption-block\tv-if=\"tile.img.length > 0 && tile.showTitle\"\n\t\t\t\t\t:src=\"tile.img\"\n\t\t\t\t\t:name=\"tile.name\"\n\t\t\t\t\t:caption=\"tile.name\"\n\t\t\t\t\tv-on:tile-hint-bg-label-on-click=\"openSlider(index)\"\n\t\t\t\t\tv-on:tile-hint-bg-label-on-mouseenter=\"showHint(index, $event)\"\n\t\t\t\t\tv-on:tile-hint-bg-label-on-mouseleave=\"hideHint\"\n\t\t\t\t/>\n\t\t\t\t<tile-hint-background-block\t\tv-else-if=\"tile.img.length > 0\"\n\t\t\t\t\t:src=\"tile.img\"\n\t\t\t\t\t:name=\"tile.name\"\n\t\t\t\t\tv-on:tile-hint-bg-on-click=\"openSlider(index)\"\n\t\t\t\t\tv-on:tile-label-bg-hint-on-mouseenter=\"showHint(index, $event)\"\n\t\t\t\t\tv-on:tile-label-bg-hint-on-mouseleave=\"hideHint\"\n\t\t\t\t/>\n\t\t\t\t<tile-hint-plus-block\t\t\tv-else \n\t\t\t\t\t:name=\"tile.name\" \n\t\t\t\t\tv-on:tile-label-plus-on-click=\"openSlider(index)\"\n\t\t\t\t/> \n\t\t\t</template>\n\t\t</div>\n\t`\n};\nexport {\n\tUninstalled\n}","import {TileCollectionMixins} from \"./tile-collection-mixins\";\n\nconst Installed = {\n\tprops: {\n\t\ttiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t}\n\t},\n\tmixins:[TileCollectionMixins],\n\n\ttemplate: `\t\n\t\t<div class=\"salescenter-app-payment-by-sms-item-container-payment\">\n\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-payment-inline\">\n\t\t\t\t<tile-label-block class=\"salescenter-app-payment-by-sms-item-container-payment-item-text\"\n\t\t\t\t\tv-for=\"(tile, index) in tiles\"\n\t\t\t\t\tv-if=\"isControlTile(tile) === false\"\n\t\t\t\t\t:name=\"tile.name\" \n\t\t\t\t\tv-on:tile-label-on-click=\"openSlider(index)\"\n\t\t\t\t/>\n\t\t\t\t<br>\n\t\t\t\t<tile-label-block class=\"salescenter-app-payment-by-sms-item-container-payment-item-text-add\"\n\t\t\t\t\tv-if=\"hasTileOfferFromCollection() === true\"\n\t\t\t\t\t:name=\"getTileOfferFromCollection().tile.name\"\n\t\t\t\t\tv-on:tile-label-on-click=\"openSlider(getTileOfferFromCollection().index)\"\n\t\t\t\t/>\n\t\t\t\t<tile-label-block class=\"salescenter-app-payment-by-sms-item-container-payment-item-text-add\"\n\t\t\t\t\tv-if=\"hasTileMoreFromCollection() === true\"\n\t\t\t\t\t:name=\"getTileMoreFromCollection().tile.name\"\n\t\t\t\t\tv-on:tile-label-on-click=\"openSlider(getTileMoreFromCollection().index)\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`\n};\nexport {\n\tInstalled\n}","import {StatusTypes as Status} from 'salescenter.component.stage-block';\n\nlet StageMixin = {\n\tcomputed:\n\t\t{\n\t\t\tstatusClassMixin()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'salescenter-app-payment-by-sms-item'\t\t\t: true,\n\t\t\t\t\t'salescenter-app-payment-by-sms-item-current'\t: this.status === Status.current,\n\t\t\t\t\t'salescenter-app-payment-by-sms-item-disabled'\t: this.status === Status.disabled,\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcontainerClassMixin()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'salescenter-app-payment-by-sms-item-container'\t: true\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcounterCheckedMixin()\n\t\t\t{\n\t\t\t\treturn this.status === Status.complete\n\t\t\t}\n\t\t},\n\t\tmethods:\n\t\t\t{\n\t\t\t\tonSliderClose(e)\n\t\t\t\t{\n\t\t\t\t\tthis.$emit('on-stage-tile-collection-slider-close', e);\n\t\t\t\t}\n\t\t\t}\n};\n\nexport {\n\tStageMixin\n}","import {Loc} \t\t\t\t\t\t\t\t\tfrom 'main.core';\nimport {Block} \t\t\tfrom 'salescenter.component.stage-block';\nimport {Uninstalled as TileUnInstalled} \t\tfrom \"./tile-collection/uninstalled\";\nimport {Installed as TileInstalled} \t\t\tfrom \"./tile-collection/installed\";\nimport {StageMixin} \t\t\t\t\t\t\tfrom \"./stage-mixin\";\n\nconst Cashbox = {\n\tprops: {\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\t\trequired: true\n\t\t},\n\t\tcounter: {\n\t\t\ttype: String,\n\t\t\t\trequired: true\n\t\t},\n\t\ttiles: {\n\t\t\ttype: Array,\n\t\t\t\trequired: true\n\t\t},\n\t\tinstalled: {\n\t\t\ttype: Boolean,\n\t\t\t\trequired: true\n\t\t},\n\t\ttitleItems: {\n\t\t\ttype: Array\n\t\t},\n\t\tinitialCollapseState: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t},\n\tmixins:[StageMixin],\n\tcomponents:\n\t{\n\t\t'stage-block-item'\t\t\t\t\t:\tBlock,\n\t\t'tile-collection-installed-block'\t:\tTileInstalled,\n\t\t'tile-collection-uninstalled-block'\t:\tTileUnInstalled\n\t},\n\tcomputed:\n\t{\n\t\tstatusClass()\n\t\t{\n\t\t\treturn {\n\t\t\t\t'salescenter-app-payment-by-sms-item-disabled-bg': this.installed === false\n\t\t\t}\n\t\t},\n\n\t\ttitle()\n\t\t{\n\t\t\treturn this.installed === true\n\t\t\t\t? Loc.getMessage('SALESCENTER_CASHBOX_SET_BLOCK_TITLE')\n\t\t\t\t: Loc.getMessage('SALESCENTER_CASHBOX_BLOCK_TITLE');\n\t\t},\n\t\tconfigForBlock()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcounter: this.counter,\n\t\t\t\ttitleItems: this.installed ? this.titleItems : [],\n\t\t\t\tinstalled: this.installed,\n\t\t\t\tcollapsible: true,\n\t\t\t\tchecked: this.counterCheckedMixin,\n\t\t\t\tshowHint: !this.installed,\n\t\t\t\tinitialCollapseState: this.initialCollapseState,\n\t\t\t}\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tonItemHint(e)\n\t\t{\n\t\t\tBX.Salescenter.Manager.openHowToConfigCashBox(e);\n\t\t},\n\t\tsaveCollapsedOption(option)\n\t\t{\n\t\t\tthis.$emit('on-save-collapsed-option', 'cashbox', option);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<stage-block-item\n\t\t\t:class=\"[statusClassMixin, statusClass]\"\n\t\t\t:config=\"configForBlock\"\n\t\t\t@on-item-hint.stop.prevent=\"onItemHint\"\n\t\t\t@on-tile-slider-close=\"onSliderClose\"\n\t\t\t@on-adjust-collapsed=\"saveCollapsedOption\"\n\t\t>\n\t\t\t<template v-slot:block-title-title>{{title}}</template>\n\t\t\t<template v-slot:block-hint-title>${Loc.getMessage('SALESCENTER_CASHBOX_BLOCK_SETTINGS_TITLE')}</template>\n\t\t\t<template v-slot:block-container>\n\t\t\t\t<div :class=\"containerClassMixin\">\n\t\t\t\t\t<tile-collection-uninstalled-block \t:tiles=\"tiles\" v-if=\"!installed\"/>\n\t\t\t\t\t<tile-collection-installed-block :tiles=\"tiles\" v-on:on-tile-slider-close=\"onSliderClose\" v-else />\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</stage-block-item>\n\t`\n};\n\nexport\n{\n\tCashbox\n}","import {Block} from 'salescenter.component.stage-block';\nimport Product from '../../product';\nimport {StageMixin} from './stage-mixin';\n\nexport default {\n\tprops: {\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tcounter: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\thintTitle: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t},\n\tmixins:[StageMixin],\n\tcomponents:\n\t\t{\n\t\t\t'stage-block-item':\tBlock,\n\t\t\t'product':\tProduct,\n\t\t},\n\tmethods:\n\t\t{\n\t\t\tonItemHint(e)\n\t\t\t{\n\t\t\t\tBX.Salescenter.Manager.openHowToSell(e);\n\t\t\t},\n\t\t},\n\tcomputed:\n\t\t{\n\t\t\tconfigForBlock()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tcounter: this.counter,\n\t\t\t\t\tchecked: this.counterCheckedMixin,\n\t\t\t\t\tshowHint: true,\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\ttemplate: `\n\t\t<stage-block-item\n\t\t\t@on-item-hint.stop.prevent=\"onItemHint\"\n\t\t\t:config=\"configForBlock\"\n\t\t\t:class=\"statusClassMixin\"\n\t\t>\n\t\t\t<template v-slot:block-title-title>{{title}}</template>\n\t\t\t<template v-slot:block-hint-title>{{hintTitle}}</template>\n\t\t\t<template v-slot:block-container>\n\t\t\t\t<div :class=\"containerClassMixin\">\n\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-payment\">\n\t\t\t\t\t\t<product/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</stage-block-item>\n\t`\n}\n","import {Vuex} from 'ui.vue.vuex';\nimport {Vue} from 'ui.vue';\nimport {ajax, Loc} from 'main.core';\nimport DeliverySelector from 'salescenter.deliveryselector';\n\nexport default {\n\tprops: {\n\t\tconfig: {type: Object, required: true}\n\t},\n\tcomponents: {\n\t\t'delivery-selector': DeliverySelector,\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tavailableServices: [],\n\t\t};\n\t},\n\tmethods: {\n\t\tonChange(payload)\n\t\t{\n\t\t\tlet fromPropId = this.getAddressFromPropId();\n\t\t\tlet prevFrom = this.getPrevFrom(fromPropId);\n\t\t\tlet newFrom = this.getNewFrom(fromPropId, payload.relatedPropsValues);\n\n\t\t\tthis.$store.dispatch('orderCreation/setDelivery', payload.deliveryPrice);\n\n\t\t\tthis.$store.dispatch(\n\t\t\t\t'orderCreation/setDeliveryId',\n\t\t\t\tpayload.deliveryServiceId\n\t\t\t);\n\t\t\tthis.$store.dispatch(\n\t\t\t\t'orderCreation/setPropertyValues',\n\t\t\t\tpayload.relatedPropsValues\n\t\t\t);\n\t\t\tthis.$store.dispatch(\n\t\t\t\t'orderCreation/setDeliveryExtraServicesValues',\n\t\t\t\tpayload.relatedServicesValues\n\t\t\t);\n\t\t\tthis.$store.dispatch(\n\t\t\t\t'orderCreation/setExpectedDelivery',\n\t\t\t\tpayload.estimatedDeliveryPrice\n\t\t\t);\n\t\t\tthis.$store.dispatch(\n\t\t\t\t'orderCreation/setDeliveryResponsibleId',\n\t\t\t\tpayload.responsibleUser ? payload.responsibleUser.id : null\n\t\t\t);\n\n\t\t\tif (prevFrom !== newFrom)\n\t\t\t{\n\t\t\t\tthis.refreshAvailableServices();\n\t\t\t}\n\n\t\t\tthis.$emit('change', payload);\n\t\t},\n\t\tgetAddressFromPropId()\n\t\t{\n\t\t\tfor (let propId in this.$root.$app.options.deliveryOrderPropOptions)\n\t\t\t{\n\t\t\t\tif (this.$root.$app.options.deliveryOrderPropOptions.hasOwnProperty(propId))\n\t\t\t\t{\n\t\t\t\t\tif (this.$root.$app.options.deliveryOrderPropOptions[propId].hasOwnProperty('isFromAddress'))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn propId;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tgetPrevFrom(fromPropId)\n\t\t{\n\t\t\tfor (let prop of this.order.propertyValues)\n\t\t\t{\n\t\t\t\tif (prop.id === fromPropId)\n\t\t\t\t{\n\t\t\t\t\treturn prop.value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tgetNewFrom(fromPropId, relatedPropsValues)\n\t\t{\n\t\t\tfor (let prop of relatedPropsValues)\n\t\t\t{\n\t\t\t\tif (prop.id === fromPropId)\n\t\t\t\t{\n\t\t\t\t\treturn prop.value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tonSettingsChanged()\n\t\t{\n\t\t\tthis.$emit('delivery-settings-changed');\n\t\t},\n\t\trefreshAvailableServices()\n\t\t{\n\t\t\tajax.runAction(\n\t\t\t\t'salescenter.order.getCompatibleDeliverySystems',\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tbasketItems: this.config.basket ? this.config.basket : [],\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tsessionId: this.config.sessionId,\n\t\t\t\t\t\t\townerTypeId: this.config.ownerTypeId,\n\t\t\t\t\t\t\townerId: this.config.ownerId,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdeliveryServiceId: this.order.deliveryId,\n\t\t\t\t\t\tshipmentPropValues: this.order.propertyValues,\n\t\t\t\t\t\tdeliveryRelatedServiceValues: this.order.deliveryExtraServicesValues,\n\t\t\t\t\t\tdeliveryResponsibleId: this.order.deliveryResponsibleId,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then((result) => {\n\t\t\t\tlet data = BX.prop.getObject(result, \"data\", {});\n\t\t\t\tthis.availableServices = data.availableServices ? data.availableServices : {};\n\t\t\t}).catch((result) => {\n\t\t\t\tthis.availableServices = {};\n\t\t\t});\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tthis.$store.dispatch('orderCreation/setPersonTypeId', this.config.personTypeId);\n\n\t\tthis.refreshAvailableServices();\n\t},\n\n\tcomputed: {\n\t\tlocalize()\n\t\t{\n\t\t\treturn Vue.getFilteredPhrases('SALESCENTER_');\n\t\t},\n\t\tsumTitle()\n\t\t{\n\t\t\treturn Loc.getMessage('SALESCENTER_PRODUCT_PRODUCTS_PRICE');\n\t\t},\n\t\tproductsPrice()\n\t\t{\n\t\t\treturn this.order.total.result;\n\t\t},\n\t\tdelivery()\n\t\t{\n\t\t\treturn this.order.delivery;\n\t\t},\n\t\tdeliveryFormatted()\n\t\t{\n\t\t\tif (this.isDeliveryCalculated)\n\t\t\t{\n\t\t\t\treturn BX.Currency.currencyFormat(this.delivery, this.config.currency, false);\n\t\t\t}\n\n\t\t},\n\t\ttotal()\n\t\t{\n\t\t\tif (this.productsPrice === null || this.delivery === null)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn this.productsPrice + this.delivery;\n\t\t},\n\t\ttotalFormatted()\n\t\t{\n\t\t\treturn BX.Currency.currencyFormat(this.total, this.config.currency, false);\n\t\t},\n\t\tisDeliveryCalculated()\n\t\t{\n\t\t\treturn (this.order.delivery !== null);\n\t\t},\n\t\texcludedServiceIds()\n\t\t{\n\t\t\treturn this.$root.$app.options.mode === 'delivery' ? [this.$root.$app.options.emptyDeliveryServiceId] : [];\n\t\t},\n\t\tactionData()\n\t\t{\n\t\t\treturn {\n\t\t\t\tbasketItems: this.config.basket,\n\t\t\t\toptions: {\n\t\t\t\t\torderId : this.$root.$app.orderId,\n\t\t\t\t\tsessionId: this.config.sessionId,\n\t\t\t\t\townerTypeId: this.config.ownerTypeId,\n\t\t\t\t\townerId: this.config.ownerId,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\t...Vuex.mapState({\n\t\t\torder: state => state.orderCreation,\n\t\t}),\n\t},\n\ttemplate: `\n\t\t<delivery-selector\n\t\t\t:available-services=\"availableServices\"\n\t\t\t:excluded-service-ids=\"excludedServiceIds\"\t\t\t\t\n\t\t\t:init-entered-delivery-price=\"config.deliveryPrice\"\n\t\t\t:init-delivery-service-id=\"config.deliveryServiceId\"\n\t\t\t:init-related-services-values=\"config.relatedServicesValues\"\n\t\t\t:init-related-props-values=\"config.relatedPropsValues\"\n\t\t\t:init-related-props-options=\"config.relatedPropsOptions\"\n\t\t\t:init-responsible-id=\"config.responsibleId\"\n\t\t\t:person-type-id=\"config.personTypeId\"\n\t\t\t:action=\"'salescenter.api.order.refreshDelivery'\"\n\t\t\t:action-data=\"actionData\"\n\t\t\t:external-sum=\"productsPrice\"\n\t\t\t:external-sum-label=\"sumTitle\"\n\t\t\t:currency=\"config.currency\"\n\t\t\t:currency-symbol=\"config.currencySymbol\"\n\t\t\t@change=\"onChange\"\n\t\t\t@settings-changed=\"onSettingsChanged\"\n\t\t></delivery-selector>\n\t`\n};\n","import 'ui.fonts.ruble';\nimport 'currency';\nimport {ajax, Loc} from 'main.core';\n\nexport default {\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tproductsPrice: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tshipment: {\n\t\t\t\tpriceDelivery: null,\n\t\t\t\tbasePriceDelivery: null,\n\t\t\t\tcurrency: null,\n\t\t\t\tdeliveryService: {\n\t\t\t\t\tname: null,\n\t\t\t\t\tlogo: null,\n\t\t\t\t\tparent: {\n\t\t\t\t\t\tname: null,\n\t\t\t\t\t\tlogo: null,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\textraServices: []\n\t\t\t}\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tajax.runAction(\n\t\t\t'salescenter.deliveryselector.getShipmentData',\n\t\t\t{data: {\n\t\t\t\t\tid: this.id\n\t\t\t\t}}\n\t\t).then((result) => {\n\t\t\tthis.shipment = result.data.shipment;\n\t\t});\n\t},\n\tmethods: {\n\t\tgetFormattedPrice(price)\n\t\t{\n\t\t\treturn BX.Currency.currencyFormat(price, this.currency, true);\n\t\t}\n\t},\n\tcomputed: {\n\t\thasParent()\n\t\t{\n\t\t\treturn (\n\t\t\t\tthis.shipment.hasOwnProperty('deliveryService')\n\t\t\t\t&& this.shipment.deliveryService.hasOwnProperty('parent')\n\t\t\t\t&& this.shipment.deliveryService.parent\n\t\t\t);\n\t\t},\n\t\tdeliveryServiceLogo()\n\t\t{\n\t\t\treturn this.shipment.deliveryService.logo ? this.shipment.deliveryService.logo : null;\n\t\t},\n\t\tdeliveryServiceProfileLogo()\n\t\t{\n\t\t\treturn (this.hasParent && this.shipment.deliveryService.parent.logo)\n\t\t\t\t? this.shipment.deliveryService.parent.logo\n\t\t\t\t: null;\n\t\t},\n\t\tpaymentPrice()\n\t\t{\n\t\t\treturn this.productsPrice + this.priceDelivery;\n\t\t},\n\t\tdeliveryServiceName()\n\t\t{\n\t\t\treturn this.hasParent ? this.shipment.deliveryService.parent.name : this.shipment.deliveryService.name;\n\t\t},\n\t\tdeliveryServiceProfileName()\n\t\t{\n\t\t\treturn this.hasParent ? this.shipment.deliveryService.name : null;\n\t\t},\n\t\tbasePriceDelivery()\n\t\t{\n\t\t\treturn this.shipment ? this.shipment.basePriceDelivery : null;\n\t\t},\n\t\tpriceDelivery()\n\t\t{\n\t\t\treturn this.shipment ? this.shipment.priceDelivery : null;\n\t\t},\n\t\tcurrency()\n\t\t{\n\t\t\treturn this.shipment ? this.shipment.currency : null;\n\t\t},\n\t\textraServices()\n\t\t{\n\t\t\treturn this.shipment.extraServices ? this.shipment.extraServices : [];\n\t\t},\n\t\tisExtraServicesVisible()\n\t\t{\n\t\t\treturn this.extraServices.length > 0;\n\t\t},\n\t\tbasePriceDeliveryFormatted()\n\t\t{\n\t\t\treturn this.getFormattedPrice(this.basePriceDelivery);\n\t\t},\n\t\tpriceDeliveryFormatted()\n\t\t{\n\t\t\treturn this.getFormattedPrice(this.priceDelivery);\n\t\t},\n\t\tproductsPriceFormatted()\n\t\t{\n\t\t\treturn this.getFormattedPrice(this.productsPrice);\n\t\t},\n\t\tpaymentPriceFormatted()\n\t\t{\n\t\t\treturn this.getFormattedPrice(this.paymentPrice);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div style=\"width: 100%;\" xmlns=\"http://www.w3.org/1999/html\">\n\t\t\t<div class=\"salescenter-delivery-selector-head\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"hasParent && deliveryServiceLogo\"\n\t\t\t\t\t:style=\"{ backgroundImage: 'url(' + deliveryServiceLogo + ')' }\"\n\t\t\t\t\tclass=\"salescenter-delivery-selector-logo\"\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"salescenter-delivery-selector-info\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"deliveryServiceProfileLogo\"\n\t\t\t\t\t\t:style=\"{ backgroundImage: 'url(' + deliveryServiceProfileLogo + ')' }\"\n\t\t\t\t\t\tclass=\"salescenter-delivery-selector-logo\"\n\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"salescenter-delivery-selector-content\">\n\t\t\t\t\t\t<div class=\"salescenter-delivery-selector-text-light\">{{deliveryServiceName}}</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"deliveryServiceProfileName\"\n\t\t\t\t\t\t\tclass=\"salescenter-delivery-selector-text-dark\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{deliveryServiceProfileName}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"isExtraServicesVisible\" class=\"salescenter-delivery-selector-main\">\n\t\t\t\t<div class=\"salescenter-delivery-selector-text-light\">\n\t\t\t\t\t${Loc.getMessage('SALESCENTER_SHIPMENT_EXTRA_SERVICES')}:\n\t\t\t\t</div>\n\t\t\t\t<ul class=\"salescenter-delivery-selector-list\">\n\t\t\t\t\t<li\n\t\t\t\t\t\tv-for=\"extraService in extraServices\"\n\t\t\t\t\t\tclass=\"salescenter-delivery-selector-list-item salescenter-delivery-selector-text-dark\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{extraService.name}}: {{extraService.value}} \n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"salescenter-delivery-selector-bottom salescenter-delivery-selector-text-dark\">\n\t\t\t\t${Loc.getMessage('SALESCENTER_SHIPMENT_DELIVERY_PRICE_RECEIVED')}:\n\t\t\t\t<span v-html=\"basePriceDeliveryFormatted\"></span>\n\t\t\t</div>\n\t\t\t<div class=\"salescenter-delivery-selector-line\"></div>\n\t\t\t<div class=\"catalog-pf-result-wrapper\">\n\t\t\t\t<table class=\"catalog-pf-result\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<span class=\"catalog-pf-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_PRODUCT_PRODUCTS_PRICE')}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</td> \n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<span v-html=\"productsPriceFormatted\" class=\"catalog-pf-text\"></span> \n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"catalog-pf-result-padding-bottom\">\n\t\t\t\t\t\t\t<span class=\"catalog-pf-text catalog-pf-text--tax\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_SHIPMENT_PRODUCT_BLOCK_DELIVERY_PRICE')}: \n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</td> \n\t\t\t\t\t\t<td class=\"catalog-pf-result-padding-bottom\"> \n\t\t\t\t\t\t\t<span class=\"catalog-pf-text catalog-pf-text--tax\" v-html=\"priceDeliveryFormatted\"></span>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr> \n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"catalog-pf-result-padding\">\n\t\t\t\t\t\t\t<span class=\"catalog-pf-text catalog-pf-text--total catalog-pf-text--border\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_PRODUCT_TOTAL_RESULT')}: \n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</td> \n\t\t\t\t\t\t<td class=\"catalog-pf-result-padding\">\n\t\t\t\t\t\t\t<span v-html=\"paymentPriceFormatted\" class=\"catalog-pf-text catalog-pf-text--total\"></span> \n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n","import {Vuex} \t\t\t\t\t\t\tfrom 'ui.vue.vuex';\nimport {Loc} \t\t\t\t\t\t\tfrom 'main.core';\nimport {Block} \t\t\tfrom 'salescenter.component.stage-block';\nimport {Uninstalled as TileUnInstalled} from \"./tile-collection/uninstalled\";\nimport DeliverySelector\t\t\t\t\tfrom \"../delivery-selector\";\nimport ShipmentView\t\t\t\t\t\tfrom \"../shipment-view\";\nimport {StageMixin} \t\t\t\t\tfrom \"./stage-mixin\";\nimport {MixinTemplatesType} \t\t\tfrom \"../templates-type-mixin\";\n\nconst DeliveryVuex = {\n\tprops: {\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tcounter: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\ttiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tinstalled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\tisCollapsible: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\tinitialCollapseState: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tselectedDeliveryServiceName: null,\n\t\t}\n\t},\n\tmixins:[StageMixin, MixinTemplatesType],\n\tcomponents:\n\t\t{\n\t\t\t'stage-block-item'\t\t\t\t:\tBlock,\n\t\t\t'delivery-selector-block'\t\t:\tDeliverySelector,\n\t\t\t'shipment-view'\t\t\t\t\t:\tShipmentView,\n\t\t\t'uninstalled-delivery-block'\t:\tTileUnInstalled,\n\t\t},\n\tcomputed:\n\t\t{\n\t\t\tstatusClass()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t'salescenter-app-payment-by-sms-item-disabled-bg': this.installed === false\n\t\t\t\t}\n\t\t\t},\n\t\t\tproductsPrice()\n\t\t\t{\n\t\t\t\treturn this.order.total.result;\n\t\t\t},\n\t\t\tshipmentId()\n\t\t\t{\n\t\t\t\treturn this.$root.$app.options.shipmentId;\n\t\t\t},\n\t\t\tconfigForBlock()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tcounter: this.counter,\n\t\t\t\t\ttitleName: this.selectedDeliveryServiceName,\n\t\t\t\t\tinstalled: this.installed,\n\t\t\t\t\tcollapsible: this.isCollapsible,\n\t\t\t\t\tchecked: this.counterCheckedMixin,\n\t\t\t\t\tshowHint: false,\n\t\t\t\t\tinitialCollapseState: this.initialCollapseState,\n\t\t\t\t}\n\t\t\t},\n\t\t\tconfig()\n\t\t\t{\n\t\t\t\tlet deliveryServiceId = null;\n\t\t\t\tif (this.$root.$app.options.hasOwnProperty('shipmentData')\n\t\t\t\t\t&& this.$root.$app.options.shipmentData.hasOwnProperty('deliveryServiceId')\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tdeliveryServiceId = this.$root.$app.options.shipmentData.deliveryServiceId;\n\t\t\t\t}\n\n\t\t\t\tlet deliveryPrice = null;\n\t\t\t\tif (this.$root.$app.options.hasOwnProperty('shipmentData')\n\t\t\t\t\t&& this.$root.$app.options.shipmentData.hasOwnProperty('deliveryPrice')\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tdeliveryPrice = this.$root.$app.options.shipmentData.deliveryPrice;\n\t\t\t\t}\n\n\t\t\t\tlet relatedPropsValues = {};\n\t\t\t\tif (this.$root.$app.options.hasOwnProperty('shipmentData')\n\t\t\t\t\t&& this.$root.$app.options.shipmentData.hasOwnProperty('propValues')\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\trelatedPropsValues = this.$root.$app.options.shipmentData.propValues;\n\t\t\t\t}\n\n\t\t\t\tlet relatedServicesValues = {};\n\t\t\t\tif (this.$root.$app.options.hasOwnProperty('shipmentData')\n\t\t\t\t\t&& this.$root.$app.options.shipmentData.hasOwnProperty('extraServicesValues')\n\t\t\t\t\t&& !Array.isArray(this.$root.$app.options.shipmentData.extraServicesValues)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\trelatedServicesValues = this.$root.$app.options.shipmentData.extraServicesValues;\n\t\t\t\t}\n\n\t\t\t\tlet relatedPropsOptions = {};\n\t\t\t\tif (this.$root.$app.options.hasOwnProperty('deliveryOrderPropOptions')\n\t\t\t\t\t&& !Array.isArray(this.$root.$app.options.deliveryOrderPropOptions)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\trelatedPropsOptions = this.$root.$app.options.deliveryOrderPropOptions;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tpersonTypeId: this.$root.$app.options.personTypeId,\n\t\t\t\t\tbasket: this.order.basket,\n\t\t\t\t\tcurrencySymbol: this.$root.$app.options.currencySymbol,\n\t\t\t\t\tcurrency: this.order.currency,\n\t\t\t\t\townerTypeId: this.$root.$app.options.ownerTypeId,\n\t\t\t\t\townerId: this.$root.$app.options.ownerId,\n\t\t\t\t\tsessionId: this.$root.$app.options.sessionId,\n\t\t\t\t\trelatedPropsValues,\n\t\t\t\t\trelatedPropsOptions,\n\t\t\t\t\trelatedServicesValues,\n\t\t\t\t\tdeliveryServiceId,\n\t\t\t\t\tresponsibleId: this.$root.$app.options.assignedById,\n\t\t\t\t\tdeliveryPrice,\n\t\t\t\t};\n\t\t\t},\n\t\t\tisViewTemplateMode()\n\t\t\t{\n\t\t\t\treturn this.$root.$app.options.templateMode === 'view';\n\t\t\t},\n\n\t\t\t...Vuex.mapState({\n\t\t\t\torder: state => state.orderCreation\n\t\t\t})\n\t\t},\n\tmethods:{\n\t\tsetTitleName(state)\n\t\t{\n\t\t\tthis.selectedDeliveryServiceName = state.deliveryServiceName;\n\t\t},\n\t\tsaveCollapsedOption(option)\n\t\t{\n\t\t\tthis.$emit('on-save-collapsed-option', 'delivery', option);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<stage-block-item\n\t\t\t:config=\"configForBlock\"\n\t\t\t:class=\"[statusClassMixin, statusClass]\"\n\t\t\t@on-item-hint.stop.prevent=\"onItemHint\"\n\t\t\t@on-adjust-collapsed=\"saveCollapsedOption\"\n\t\t>\n\t\t\t<template v-slot:block-title-title>${Loc.getMessage('SALESCENTER_DELIVERY_BLOCK_TITLE')}</template>\n\t\t\t<template v-slot:block-container>\n\t\t\t\t<div :class=\"containerClassMixin\">\n\t\t\t\t\t<template v-if=\"!installed\">\n\t\t\t\t\t\t<uninstalled-delivery-block :tiles=\"tiles\" \n\t\t\t\t\t\t\t\tv-on:on-tile-slider-close=\"onSliderClose\"/>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-select\">\n\t\t\t\t\t\t\t<shipment-view\n\t\t\t\t\t\t\t\tv-if=\"isViewTemplateMode\"\n\t\t\t\t\t\t\t\t:id=\"shipmentId\"\n\t\t\t\t\t\t\t\t:productsPrice=\"productsPrice\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</shipment-view>\n\t\t\t\t\t\t\t<delivery-selector-block v-else\n\t\t\t\t\t\t\t\t:config=\"config\" \n\t\t\t\t\t\t\t\t@delivery-settings-changed=\"onSliderClose\"\n\t\t\t\t\t\t\t\t@change=\"setTitleName\" \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</stage-block-item>\n\t`\n};\n\nexport {\n\tDeliveryVuex\n}","import {Loc} \t\t\t\t\t\t\t\tfrom 'main.core';\nimport {Block} \t\t\tfrom 'salescenter.component.stage-block';\nimport {Uninstalled as TileUnInstalled} \tfrom \"./tile-collection/uninstalled\";\nimport {Installed as TileInstalled} \t\tfrom \"./tile-collection/installed\";\nimport {StageMixin} \t\t\t\t\t\tfrom \"./stage-mixin\";\n\nconst PaySystem = {\n\tprops: {\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tcounter: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\ttiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tinstalled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\ttitleItems: {\n\t\t\ttype: Array\n\t\t},\n\t\tinitialCollapseState: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t},\n\tmixins:[StageMixin],\n\tcomponents:\n\t{\n\t\t'stage-block-item'\t\t\t\t\t:\tBlock,\n\t\t'tile-collection-installed-block'\t:\tTileInstalled,\n\t\t'tile-collection-uninstalled-block'\t:\tTileUnInstalled\n\t},\n\tmethods:\n\t{\n\t\tonItemHint(e)\n\t\t{\n\t\t\tBX.Salescenter.Manager.openHowToConfigDefaultPaySystem(e);\n\t\t},\n\t\tsaveCollapsedOption(option)\n\t\t{\n\t\t\tthis.$emit('on-save-collapsed-option', 'pay_system', option);\n\t\t},\n\n\t},\n\tcomputed:\n\t{\n\t\tconfigForBlock()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcounter: this.counter,\n\t\t\t\ttitleItems: this.installed ? this.titleItems : [],\n\t\t\t\tinstalled: this.installed,\n\t\t\t\tcollapsible: true,\n\t\t\t\tchecked: this.counterCheckedMixin,\n\t\t\t\tshowHint: !this.installed,\n\t\t\t\tinitialCollapseState: this.initialCollapseState,\n\t\t\t}\n\t\t},\n\t\tstatusClass()\n\t\t{\n\t\t\treturn {\n\t\t\t\t'salescenter-app-payment-by-sms-item-disabled-bg': this.installed === false\n\t\t\t}\n\t\t},\n\t\ttitle()\n\t\t{\n\t\t\treturn this.installed === true\n\t\t\t\t? Loc.getMessage('SALESCENTER_PAYSYSTEM_SET_BLOCK_TITLE')\n\t\t\t\t: Loc.getMessage('SALESCENTER_PAYSYSTEM_BLOCK_TITLE');\n\t\t}\n\t},\n\n\ttemplate: `\n\t\t<stage-block-item\n\t\t\t:class=\"[statusClassMixin, statusClass]\"\n\t\t\t:config=\"configForBlock\"\n\t\t\t@on-item-hint.stop.prevent=\"onItemHint\"\n\t\t\t@on-tile-slider-close=\"onSliderClose\"\n\t\t\t@on-adjust-collapsed=\"saveCollapsedOption\"\n\t\t>\n\t\t\t<template v-slot:block-title-title>{{title}}</template>\n\t\t\t<template v-slot:block-hint-title>${Loc.getMessage('SALESCENTER_PAYSYSTEM_BLOCK_SETTINGS_TITLE')}</template>\n\t\t\t<template v-slot:block-container>\n\t\t\t\t<div :class=\"containerClassMixin\">\n\t\t\t\t\t<tile-collection-uninstalled-block \t:tiles=\"tiles\" v-if=\"!installed\"/>\n\t\t\t\t\t<tile-collection-installed-block :tiles=\"tiles\" v-on:on-tile-slider-close=\"onSliderClose\" v-else />\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</stage-block-item>\n\t`\n};\nexport {\n\tPaySystem\n}","import {Loc, ajax as Ajax} from 'main.core';\nimport {Block} from 'salescenter.component.stage-block';\nimport {StageMixin} from './stage-mixin';\nimport {Error, SenderList, UserAvatar, MessageEdit, MessageView, MessageEditor, MessageControl} from 'salescenter.component.stage-block.sms-message';\nimport {Manager} from \"salescenter.manager\";\n\nconst SmsMessage = {\n\tprops: {\n\t\tinitSenders: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tinitCurrentSenderCode: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tinitPushedToUseBitrix24Notifications: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tcounter: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tmanager: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tselectedSmsSender: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tphone: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\ttitleTemplate: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tshowHint: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\teditorTemplate: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\teditorUrl: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\tmixins: [StageMixin],\n\tcomponents: {\n\t\t'stage-block-item':\tBlock,\n\t\t'sms-error-block': Error,\n\t\t'sms-sender-list-block': SenderList,\n\t\t'sms-user-avatar-block': UserAvatar,\n\t\t'sms-message-edit-block': MessageEdit,\n\t\t'sms-message-view-block': MessageView,\n\t\t'sms-message-editor-block': MessageEditor,\n\t\t'sms-message-control-block': MessageControl,\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tcurrentSenderCode: null,\n\t\t\tsenders: [],\n\t\t\tpushedToUseBitrix24Notifications: null,\n\t\t\tsmsSenderListComponentKey: 0,\n\t\t}\n\t},\n\tcomputed: {\n\t\tconfigForBlock()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcounter: this.counter,\n\t\t\t\tchecked: this.counterCheckedMixin,\n\t\t\t\tshowHint: true,\n\t\t\t}\n\t\t},\n\t\teditor()\n\t\t{\n\t\t\treturn {\n\t\t\t\ttemplate: this.editorTemplate,\n\t\t\t\turl: this.editorUrl\n\t\t\t};\n\t\t},\n\t\tcurrentSender()\n\t\t{\n\t\t\treturn this.senders.find(sender => sender.code === this.currentSenderCode);\n\t\t},\n\t\ttitle()\n\t\t{\n\t\t\treturn this.titleTemplate.replace('#PHONE#', this.phone);\n\t\t},\n\t\terrors()\n\t\t{\n\t\t\tlet result = [];\n\n\t\t\tlet bitrix24ConnectUrlError;\n\n\t\t\tif (!this.currentSender)\n\t\t\t{\n\t\t\t\tfor (let sender of this.senders)\n\t\t\t\t{\n\t\t\t\t\tif (!sender.isAvailable || sender.isConnected)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttext: Loc.getMessage('SALESCENTER_SEND_ORDER_BY_SMS_' + sender.code.toUpperCase() + '_NOT_CONNECTED'),\n\t\t\t\t\t\tfixer: this.getFixer(sender.connectUrl),\n\t\t\t\t\t\tfixText: Loc.getMessage('SALESCENTER_PRODUCT_DISCOUNT_EDIT_PAGE_URL_TITLE'),\n\t\t\t\t\t});\n\n\t\t\t\t\tif (sender.code === 'bitrix24')\n\t\t\t\t\t{\n\t\t\t\t\t\tbitrix24ConnectUrlError = sender.connectUrl;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!this.currentSender.isAvailable)\n\t\t\t\t{\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttext: Loc.getMessage('SALESCENTER_SEND_ORDER_BY_SMS_' + this.currentSender.code.toUpperCase() + '_NOT_AVAILABLE'),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (this.currentSender.isConnected)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult = this.currentSender.usageErrors.map(error => ({ text: error }))\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\ttext: Loc.getMessage('SALESCENTER_SEND_ORDER_BY_SMS_' + this.currentSender.code.toUpperCase() + '_NOT_CONNECTED'),\n\t\t\t\t\t\t\tfixer: this.getFixer(this.currentSender.connectUrl),\n\t\t\t\t\t\t\tfixText: Loc.getMessage('SALESCENTER_PRODUCT_DISCOUNT_EDIT_PAGE_URL_TITLE'),\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (this.currentSender.code === 'bitrix24')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbitrix24ConnectUrlError = this.currentSender.connectUrl;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this.phone)\n\t\t\t{\n\t\t\t\tresult.push({text: Loc.getMessage('SALESCENTER_SEND_ORDER_BY_SMS_SENDER_ALERT_PHONE_EMPTY')});\n\t\t\t}\n\n\t\t\tif (this.pushedToUseBitrix24Notifications === 'N' && bitrix24ConnectUrlError)\n\t\t\t{\n\t\t\t\tthis.getFixer(bitrix24ConnectUrlError)().then(() => this.handleErrorFix());\n\t\t\t\tBX.userOptions.save('salescenter', 'payment_sender_options', 'pushed_to_use_bitrix24_notifications', 'Y');\n\t\t\t\tthis.pushedToUseBitrix24Notifications = 'Y';\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.initialize(this.initCurrentSenderCode, this.initSenders, this.initPushedToUseBitrix24Notifications);\n\t},\n\tmethods: {\n\t\tgetFixer(fixUrl)\n\t\t{\n\t\t\treturn () => {\n\t\t\t\tif (typeof fixUrl === 'string')\n\t\t\t\t{\n\t\t\t\t\treturn Manager.openSlider(fixUrl);\n\t\t\t\t}\n\n\t\t\t\tif (typeof fixUrl === 'object' && fixUrl !== null)\n\t\t\t\t{\n\t\t\t\t\tif (fixUrl.type === 'ui_helper')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn BX.loadExt('ui.info-helper').then(() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.UI.InfoHelper.show(fixUrl.value);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn Promise.resolve();\n\t\t\t};\n\t\t},\n\t\tonItemHint(e)\n\t\t{\n\t\t\tBX.Salescenter.Manager.openSlider(this.$root.$app.options.urlSettingsCompanyContacts, {width: 1200} );\n\t\t},\n\t\tinitialize(currentSenderCode, senders, pushedToUseBitrix24Notifications)\n\t\t{\n\t\t\tthis.currentSenderCode = currentSenderCode;\n\t\t\tthis.senders = senders;\n\t\t\tthis.pushedToUseBitrix24Notifications = pushedToUseBitrix24Notifications;\n\t\t},\n\t\thandleOnSmsSenderSelected(value)\n\t\t{\n\t\t\tthis.$emit('stage-block-sms-send-on-change-provider', value);\n\t\t},\n\t\thandleErrorFix()\n\t\t{\n\t\t\tAjax.runComponentAction(\"bitrix:salescenter.app\", \"refreshSenderSettings\", {\n\t\t\t\tmode: \"class\"\n\t\t\t})\n\t\t\t\t.then((resolve)=> {\n\t\t\t\t\tif (BX.type.isObject(resolve.data) && Object.values(resolve.data).length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.initialize(\n\t\t\t\t\t\t\tresolve.data.currentSenderCode,\n\t\t\t\t\t\t\tresolve.data.senders,\n\t\t\t\t\t\t\tresolve.data.pushedToUseBitrix24Notifications\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.smsSenderListComponentKey += 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\topenBitrix24NotificationsHelp(event)\n\t\t{\n\t\t\tBX.Salescenter.Manager.openBitrix24NotificationsHelp(event);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<stage-block-item\t\t\t\n\t\t\t:config=\"configForBlock\"\n\t\t\t:class=\"statusClassMixin\"\n\t\t\tv-on:on-item-hint=\"onItemHint\"\n\t\t>\n\t\t\t<template v-slot:block-title-title>{{title}}</template>\n\t\t\t<template\n\t\t\t\tv-if=\"showHint\"\n\t\t\t\tv-slot:block-hint-title\n\t\t\t>\n\t\t\t\t${Loc.getMessage('SALESCENTER_LEFT_PAYMENT_COMPANY_CONTACTS_SHORTER_VERSION')}\n\t\t\t</template>\n\t\t\t<template v-slot:block-container>\n\t\t\t\t<div :class=\"containerClassMixin\" class=\"salescenter-app-payment-by-sms-item-container-offtop\">\n\t\t\t\t\t<sms-error-block\n\t\t\t\t\t\tv-for=\"error in errors\"\n\t\t\t\t\t\tv-on:on-configure=\"handleErrorFix\"\n\t\t\t\t\t\t:error=\"error\"\n\t\t\t\t\t>\n\t\t\t\t\t</sms-error-block>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-sms\">\n\t\t\t\t\t\t<sms-user-avatar-block :manager=\"manager\"/>\n\t\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-sms-content\">\n\t\t\t\t\t\t\t<div v-if=\"currentSenderCode === 'bitrix24'\" class=\"salescenter-app-payment-by-sms-item-container-sms-content\">\n\t\t\t\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-sms-content-message\">\n\t\t\t\t\t\t\t\t\t<div contenteditable=\"false\" class=\"salescenter-app-payment-by-sms-item-container-sms-content-message-text\">\n\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_TEMPLATE_BASED_MESSAGE_WILL_BE_SENT')}\n\t\t\t\t\t\t\t\t\t\t<a @click.stop.prevent=\"openBitrix24NotificationsHelp(event)\" href=\"#\">\n\t\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_MORE_DETAILS')}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<sms-message-editor-block v-else :editor=\"editor\"/>\n\t\t\t\t\t\t\t<template v-if=\"currentSenderCode === 'bitrix24'\">\n\t\t\t\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-sms-content-info\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_SEND_ORDER_VIA_BITRIX24')}\n\t\t\t\t\t\t\t\t\t<span @click=\"openBitrix24NotificationsHelp(event)\">\n\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_PRODUCT_SET_BLOCK_TITLE_SHORT')}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else-if=\"currentSenderCode === 'sms_provider'\">\n\t\t\t\t\t\t\t\t<sms-sender-list-block\n\t\t\t\t\t\t\t\t\t:key=\"smsSenderListComponentKey\"\n\t\t\t\t\t\t\t\t\t:list=\"currentSender.smsSenders\"\n\t\t\t\t\t\t\t\t\t:initSelected=\"selectedSmsSender\"\n\t\t\t\t\t\t\t\t\t:settingUrl=\"currentSender.connectUrl\"\n\t\t\t\t\t\t\t\t\tv-on:on-configure=\"handleErrorFix\"\n\t\t\t\t\t\t\t\t\tv-on:on-selected=\"handleOnSmsSenderSelected\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<template v-slot:sms-sender-list-text-send-from>\n\t\t\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_SEND_ORDER_BY_SMS_SENDER')}\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</sms-sender-list-block>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</stage-block-item>\n\t`\n};\nexport {\n\tSmsMessage\n}\n","import {Loc} \t\t\t\t\t\t\t\tfrom 'main.core';\nimport {Block} \t\tfrom 'salescenter.component.stage-block';\nimport {StageList} \t\t\t\t\t\t\tfrom 'salescenter.component.stage-block.automation';\nimport * as AutomationStage \t\t\t\tfrom 'salescenter.automation-stage';\nimport {StageMixin} \t\t\t\t\t\tfrom \"./stage-mixin\";\nimport {MixinTemplatesType} \t\t\tfrom \"../templates-type-mixin\";\n\nconst Automation = {\n\tprops: {\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tcounter: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tstageOnOrderPaid: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t},\n\t\tstageOnDeliveryFinished: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tinitialCollapseState: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t},\n\tmixins:[StageMixin, MixinTemplatesType],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tpaymentStages: [],\n\t\t\tshipmentStages: [],\n\t\t}\n\t},\n\tcomponents:\n\t\t{\n\t\t\t'stage-block-item'\t\t\t:\tBlock,\n\t\t\t'stage-item-list'\t\t\t:\tStageList\n\t\t},\n\tmethods:\n\t\t{\n\t\t\tsaveCollapsedOption(option)\n\t\t\t{\n\t\t\t\tthis.$emit('on-save-collapsed-option', 'automation', option);\n\t\t\t},\n\n\t\t\tupdatePaymentStage(e)\n\t\t\t{\n\t\t\t\tlet newStageId = e.data;\n\t\t\t\tthis.paymentStages.forEach((stage) => {\n\t\t\t\t\tstage.selected = stage.id === newStageId;\n\t\t\t\t});\n\n\t\t\t\tthis.$root.$app.stageOnOrderPaid = e.data;\n\t\t\t},\n\n\t\t\tupdateShipmentStage(e)\n\t\t\t{\n\t\t\t\tlet newStageId = e.data;\n\t\t\t\tthis.shipmentStages.forEach((stage) => {\n\t\t\t\t\tstage.selected = stage.id === newStageId;\n\t\t\t\t});\n\n\t\t\t\tthis.$root.$app.stageOnDeliveryFinished = e.data;\n\t\t\t},\n\t\t\tinitStages(stages, currentValue)\n\t\t\t{\n\t\t\t\tObject.values(this.items).forEach(options => {\n\t\t\t\t\toptions.selected = (\n\t\t\t\t\t\t(!currentValue && !options.hasOwnProperty('id'))\n\t\t\t\t\t\t|| (options.id === currentValue)\n\t\t\t\t\t);\n\t\t\t\t\tstages.push(AutomationStage.Factory.create(options));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\tcomputed:\n\t\t{\n\t\t\tconfigForBlock()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tcounter: this.counter,\n\t\t\t\t\tchecked: this.counterCheckedMixin,\n\t\t\t\t\tcollapsible: true,\n\t\t\t\t\tinitialCollapseState: this.initialCollapseState,\n\t\t\t\t\ttitleName: this.selectedStage.name,\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectedStage()\n\t\t\t{\n\t\t\t\tlet stages = this.isPayment ? this.paymentStages : this.shipmentStages;\n\n\t\t\t\treturn stages.find((stage) =>\n\t\t\t\t{\n\t\t\t\t\treturn stage.selected;\n\t\t\t\t});\n\t\t\t},\n\t\t\tisPayment()\n\t\t\t{\n\t\t\t\treturn this.$root.$app.options.mode === 'payment_delivery';\n\t\t\t}\n\t\t},\n\tcreated()\n\t{\n\t\tif (this.isPayment)\n\t\t{\n\t\t\tthis.initStages(this.paymentStages, this.stageOnOrderPaid);\n\t\t}\n\n\t\tthis.initStages(this.shipmentStages, this.stageOnDeliveryFinished);\n\t},\n\ttemplate: `\n\t\t<stage-block-item\n\t\t\t:config=\"configForBlock\"\n\t\t\t:class=\"statusClassMixin\"\n\t\t\t@on-adjust-collapsed=\"saveCollapsedOption\"\n\t\t>\n\t\t\t<template v-slot:block-title-title>${Loc.getMessage('SALESCENTER_AUTOMATION_BLOCK_TITLE')}</template>\n\t\t\t<template v-slot:block-container>\n\t\t\t\t<div :class=\"containerClassMixin\">\n\t\t\t\t\t<div v-if=\"isPayment\">\n\t\t\t\t\t\t<stage-item-list \n\t\t\t\t\t\t\tv-on:on-choose-select-option=\"updatePaymentStage($event)\"\n\t\t\t\t\t\t\t:stages=\"paymentStages\"\n\t\t\t\t\t\t\t:editable=\"editable\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-slot:stage-list-text>${Loc.getMessage('SALESCENTER_AUTOMATION_BLOCK_TEXT')}</template>\n\t\t\t\t\t\t</stage-item-list>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<stage-item-list \n\t\t\t\t\t\t\tv-on:on-choose-select-option=\"updateShipmentStage($event)\"\n\t\t\t\t\t\t\t:stages=\"shipmentStages\"\n\t\t\t\t\t\t\t:editable=\"editable\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-slot:stage-list-text>${Loc.getMessage('SALESCENTER_AUTOMATION_DELIVERY_FINISHED')}</template>\n\t\t\t\t\t\t</stage-item-list>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</template>\n\t\t</stage-block-item>\n\t`\n};\nexport {\n\tAutomation\n}\n","import {\n\tTimeLineItemBlock as Item,\n\tTimeLineItemPaymentBlock as PaymentItem\n} \t\t\t\t\t\t\t\t\t\t\t\tfrom 'salescenter.component.stage-block.timeline';\nimport {Payment} \t\t\t\t\t\t\t\tfrom 'salescenter.timeline';\n\nconst TimeLine = {\n\tprops:{\n\t\ttimelineItems: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t},\n\tcomponents: {\n\t\t'timeline-item-block'\t\t\t: Item,\n\t\t'timeline-item-payment-block'\t: PaymentItem,\n\t},\n\n\tmethods:\n\t\t{\n\t\t\tisPayment(item)\n\t\t\t{\n\t\t\t\treturn item.type === Payment.type();\n\t\t\t}\n\t\t},\n\ttemplate: `\n\t\t<div class=\"salescenter-app-payment-by-sms-timeline\">\n\t\t\t<template v-for=\"(item) in timelineItems\">\n\t\t\t\t<timeline-item-payment-block\t:item=\"item\"\tv-if=\"isPayment(item)\"/>\n\t\t\t\t<timeline-item-block\t\t\t:item=\"item\" \tv-else/>\n\t\t\t</template>\n\t\t</div>\n\t`\n};\n\nexport {\n\tTimeLine,\n}","import {Loc} from 'main.core';\nimport {StatusTypes as Status} from 'salescenter.component.stage-block';\nimport * as TimeLineItem from 'salescenter.timeline';\nimport {MixinTemplatesType} from '../templates-type-mixin';\nimport * as Tile from 'salescenter.tile';\nimport Send from './stage-blocks/send';\nimport {Cashbox} from '../stage-blocks/cashbox';\nimport Product from '../stage-blocks/product';\nimport {DeliveryVuex} from '../stage-blocks/delivery-vuex';\nimport {PaySystem} from '../stage-blocks/paysystem';\nimport {SmsMessage} from '../stage-blocks/sms-message';\nimport {Automation} from '../stage-blocks/automation';\nimport {StageMixin} from '../stage-blocks/stage-mixin';\nimport {TimeLine} from '../stage-blocks/timeline';\n\nexport default {\n\tcomponents: {\n\t\t'send-block': Send,\n\t\t'cashbox-block': Cashbox,\n\t\t'product-block': Product,\n\t\t'delivery-block': DeliveryVuex,\n\t\t'paysystem-block': PaySystem,\n\t\t'automation-block': Automation,\n\t\t'sms-message-block': SmsMessage,\n\t\t'timeline-block': TimeLine\n\t},\n\tprops: {\n\t\tsendAllowed: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t},\n\tdata()\n\t{\n\t\tlet stages =  {\n\t\t\tmessage: {\n\t\t\t\tinitSenders: this.$root.$app.options.senders,\n\t\t\t\tinitCurrentSenderCode: this.$root.$app.options.currentSenderCode,\n\t\t\t\tinitPushedToUseBitrix24Notifications: this.$root.$app.options.pushedToUseBitrix24Notifications,\n\t\t\t\tstatus: Status.complete,\n\t\t\t\tselectedSmsSender: this.$root.$app.sendingMethodDesc.provider,\n\t\t\t\tmanager: this.$root.$app.options.dealResponsible,\n\t\t\t\tphone: this.$root.$app.options.contactPhone,\n\t\t\t\ttitleTemplate: this.$root.$app.sendingMethodDesc.sent\n\t\t\t\t\t? Loc.getMessage('SALESCENTER_APP_CONTACT_BLOCK_TITLE_MESSAGE_2_PAST_TIME')\n\t\t\t\t\t: Loc.getMessage('SALESCENTER_APP_CONTACT_BLOCK_TITLE_MESSAGE_2'),\n\t\t\t\tshowHint: this.$root.$app.options.templateMode !== 'view',\n\t\t\t\teditorTemplate: this.$root.$app.sendingMethodDesc.text,\n\t\t\t\teditorUrl: this.$root.$app.orderPublicUrl\n\t\t\t},\n\t\t\tproduct: {\n\t\t\t\tstatus: this.$root.$app.options.basket && this.$root.$app.options.basket.length > 0\n\t\t\t\t\t? Status.complete\n\t\t\t\t\t: Status.current,\n\t\t\t\ttitle: this.$root.$app.options.templateMode === 'view'\n\t\t\t\t\t? Loc.getMessage('SALESCENTER_PRODUCT_BLOCK_TITLE_PAYMENT_VIEW')\n\t\t\t\t\t: Loc.getMessage('SALESCENTER_PRODUCT_BLOCK_TITLE_SHORT'),\n\t\t\t\thintTitle: this.$root.$app.options.templateMode === 'view'\n\t\t\t\t\t? ''\n\t\t\t\t\t: Loc.getMessage('SALESCENTER_PRODUCT_SET_BLOCK_TITLE_SHORT'),\n\t\t\t},\n\t\t\tpaysystem: {\n\t\t\t\tstatus: this.$root.$app.options.paySystemList.isSet\n\t\t\t\t\t? Status.complete\n\t\t\t\t\t: Status.disabled,\n\t\t\t\ttiles: this.getTileCollection(this.$root.$app.options.paySystemList.items),\n\t\t\t\tinstalled: this.$root.$app.options.paySystemList.isSet,\n\t\t\t\ttitleItems: this.getTitleItems(this.$root.$app.options.paySystemList.items),\n\t\t\t\tinitialCollapseState: this.$root.$app.options.isPaySystemCollapsed ? this.$root.$app.options.isPaySystemCollapsed === 'Y' : this.$root.$app.options.paySystemList.isSet,\n\t\t\t},\n\t\t\tcashbox: {},\n\t\t\tdelivery: {\n\t\t\t\tisHidden: (\n\t\t\t\t\tthis.$root.$app.options.templateMode === 'view'\n\t\t\t\t\t&& parseInt(this.$root.$app.options.shipmentId) <= 0\n\t\t\t\t),\n\t\t\t\tstatus: this.$root.$app.options.deliveryList.isInstalled\n\t\t\t\t\t? Status.complete\n\t\t\t\t\t: Status.disabled,\n\t\t\t\ttiles: this.getTileCollection(this.$root.$app.options.deliveryList.items),\n\t\t\t\tinstalled: this.$root.$app.options.deliveryList.isInstalled,\n\t\t\t\tinitialCollapseState: this.$root.$app.options.isDeliveryCollapsed ? this.$root.$app.options.isDeliveryCollapsed === 'Y' : this.$root.$app.options.deliveryList.isInstalled,\n\t\t\t}\n\t\t};\n\n\t\tif (this.$root.$app.options.cashboxList.hasOwnProperty('items'))\n\t\t{\n\t\t\tstages.cashbox = {\n\t\t\t\tstatus: this.$root.$app.options.cashboxList.isSet\n\t\t\t\t\t? Status.complete\n\t\t\t\t\t: Status.disabled,\n\t\t\t\ttiles: this.getTileCollection(this.$root.$app.options.cashboxList.items),\n\t\t\t\tinstalled: this.$root.$app.options.cashboxList.isSet,\n\t\t\t\ttitleItems: this.getTitleItems(this.$root.$app.options.cashboxList.items),\n\t\t\t\tinitialCollapseState: this.$root.$app.options.isCashboxCollapsed ? this.$root.$app.options.isCashboxCollapsed === 'Y' : this.$root.$app.options.cashboxList.isSet,\n\t\t\t};\n\t\t}\n\n\t\tif (this.$root.$app.options.isAutomationAvailable)\n\t\t{\n\t\t\tstages.automation = {\n\t\t\t\tstatus: Status.complete,\n\t\t\t\tstageOnOrderPaid: this.$root.$app.options.stageOnOrderPaid,\n\t\t\t\tstageOnDeliveryFinished: this.$root.$app.options.stageOnDeliveryFinished,\n\t\t\t\titems: this.$root.$app.options.dealStageList,\n\t\t\t\tinitialCollapseState: this.$root.$app.options.isAutomationCollapsed ? this.$root.$app.options.isAutomationCollapsed === 'Y' : false,\n\t\t\t};\n\t\t}\n\n\t\tif (this.$root.$app.options.hasOwnProperty('timeline'))\n\t\t{\n\t\t\tstages.timeline = {\n\t\t\t\titems: this.getTimelineCollection(this.$root.$app.options.timeline)\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tstages: stages,\n\t\t}\n\t},\n\tmixins: [\n\t\tStageMixin,\n\t\tMixinTemplatesType\n\t],\n\tcomputed: {\n\t\thasStageTimeLine()\n\t\t{\n\t\t\treturn this.stages.timeline.hasOwnProperty('items') && this.stages.timeline.items.length > 0;\n\t\t},\n\t\thasStageAutomation()\n\t\t{\n\t\t\treturn this.stages.automation.hasOwnProperty('items');\n\t\t},\n\t\thasStageCashBox()\n\t\t{\n\t\t\treturn this.stages.cashbox.hasOwnProperty('tiles');\n\t\t},\n\t\tsubmitButtonLabel()\n\t\t{\n\t\t\treturn this.editable ? Loc.getMessage('SALESCENTER_SEND') : Loc.getMessage('SALESCENTER_RESEND');\n\t\t},\n\t},\n\tmethods: {\n\t\tinitCounter()\n\t\t{\n\t\t\tthis.counter = 1;\n\t\t},\n\t\tgetTimelineCollection(items)\n\t\t{\n\t\t\tlet list = [];\n\n\t\t\tObject.values(items).forEach(\n\t\t\t\toptions => list.push(TimeLineItem.Factory.create(options)));\n\n\t\t\treturn list;\n\t\t},\n\t\tgetTileCollection(items)\n\t\t{\n\t\t\tlet tiles = [];\n\t\t\tObject.values(items).forEach(\n\t\t\t\toptions => tiles.push(Tile.Factory.create(options)));\n\n\t\t\treturn tiles;\n\t\t},\n\t\tgetTitleItems(items)\n\t\t{\n\t\t\tlet result = [];\n\t\t\titems.forEach((item) => {\n\t\t\t\tif (![Tile.More.type(), Tile.Offer.type()].includes(item.type))\n\t\t\t\t{\n\t\t\t\t\tresult.push(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\t\tstageRefresh(e, type)\n\t\t{\n\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t\"bitrix:salescenter.app\",\n\t\t\t\t\"getAjaxData\",\n\t\t\t\t{\n\t\t\t\t\tmode: \"class\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then(function(response) {\n\t\t\t\tif (response.data)\n\t\t\t\t{\n\t\t\t\t\tthis.refreshTilesByType(response.data, type);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\trefreshTilesByType(data, type)\n\t\t{\n\t\t\tif(type === 'PAY_SYSTEM')\n\t\t\t{\n\t\t\t\tthis.stages.paysystem.status = data.isSet\n\t\t\t\t\t? Status.complete\n\t\t\t\t\t: Status.disabled;\n\t\t\t\tthis.stages.paysystem.tiles = this.getTileCollection(data.items);\n\t\t\t\tthis.stages.paysystem.installed = data.isSet;\n\t\t\t}\n\t\t\telse if(type === 'CASHBOX')\n\t\t\t{\n\t\t\t\tthis.stages.cashbox.status = data.isSet\n\t\t\t\t\t? Status.complete\n\t\t\t\t\t: Status.disabled;\n\t\t\t\tthis.stages.cashbox.tiles = this.getTileCollection(data.items);\n\t\t\t\tthis.stages.cashbox.installed = data.isSet;\n\t\t\t\tthis.stages.cashbox.titleItems = this.getTitleItems(data.items);\n\t\t\t}\n\t\t\telse if(type === 'DELIVERY')\n\t\t\t{\n\t\t\t\tthis.stages.delivery.status = data.isSet\n\t\t\t\t\t? Status.complete\n\t\t\t\t\t: Status.disabled;\n\t\t\t\tthis.stages.delivery.tiles = this.getTileCollection(data.items);\n\t\t\t\tthis.stages.delivery.installed = data.isInstalled;\n\t\t\t}\n\t\t},\n\t\tonSend(event)\n\t\t{\n\t\t\tthis.$emit('stage-block-send-on-send', event)\n\t\t},\n\t\tchangeProvider(value)\n\t\t{\n\t\t\tthis.$root.$app.sendingMethodDesc.provider = value;\n\t\t\tBX.userOptions.save('salescenter', 'payment_sms_provider_options', 'latest_selected_provider', value);\n\t\t},\n\t\tsaveCollapsedOption(type, value)\n\t\t{\n\t\t\tBX.userOptions.save('salescenter', 'add_payment_collapse_options', type, value);\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.initCounter();\n\t},\n\tbeforeUpdate()\n\t{\n\t\tthis.initCounter();\n\t},\n\ttemplate: `\n\t\t<div>\n\t\t\t<sms-message-block\n\t\t\t\t@stage-block-sms-send-on-change-provider=\"changeProvider\"\n\t\t\t\t:counter=\"counter++\"\n\t\t\t\t:status=\"stages.message.status\"\n\t\t\t\t:initSenders=\"stages.message.initSenders\"\n\t\t\t\t:initCurrentSenderCode=\"stages.message.initCurrentSenderCode\"\n\t\t\t\t:initPushedToUseBitrix24Notifications=\"stages.message.initPushedToUseBitrix24Notifications\"\n\t\t\t\t:selectedSmsSender=\"stages.message.selectedSmsSender\"\n\t\t\t\t:manager=\"stages.message.manager\"\n\t\t\t\t:phone=\"stages.message.phone\"\n\t\t\t\t:titleTemplate=\"stages.message.titleTemplate\"\n\t\t\t\t:showHint=\"stages.message.showHint\"\n\t\t\t\t:editorTemplate=\"stages.message.editorTemplate\"\n\t\t\t\t:editorUrl=\"stages.message.editorUrl\"\n\t\t\t/>\t\n\t\t\t<product-block \n\t\t\t\t:counter=\"counter++\"\n\t\t\t\t:status=\"stages.product.status\"\n\t\t\t\t:title=\"stages.product.title\"\n\t\t\t\t:hintTitle=\"stages.product.hintTitle\"\n\t\t\t/>\n\t\t\t<paysystem-block\n\t\t\t\tv-if=\"editable\"\n\t\t\t\t@on-stage-tile-collection-slider-close=\"stageRefresh($event, 'PAY_SYSTEM')\"\n\t\t\t\t:counter=\"counter++\"\n\t\t\t\t:status=\"stages.paysystem.status\"\n\t\t\t\t:tiles=\"stages.paysystem.tiles\"\n\t\t\t\t:installed=\"stages.paysystem.installed\"\n\t\t\t\t:titleItems=\"stages.paysystem.titleItems\"\n\t\t\t\t:initialCollapseState=\"stages.paysystem.initialCollapseState\"\n\t\t\t\t@on-save-collapsed-option=\"saveCollapsedOption\"\n\t\t\t/>\n\t\t\t<cashbox-block\n\t\t\t\tv-if=\"editable && hasStageCashBox\"\n\t\t\t\t@on-stage-tile-collection-slider-close=\"stageRefresh($event, 'CASHBOX')\"\n\t\t\t\t:counter=\"counter++\"\n\t\t\t\t:status=\"stages.cashbox.status\"\n\t\t\t\t:tiles=\"stages.cashbox.tiles\"\n\t\t\t\t:installed=\"stages.cashbox.installed\"\n\t\t\t\t:titleItems=\"stages.cashbox.titleItems\"\n\t\t\t\t:initialCollapseState=\"stages.cashbox.initialCollapseState\"\n\t\t\t\t@on-save-collapsed-option=\"saveCollapsedOption\"\n\t\t\t/>\n\t\t\t<delivery-block\n\t\t\t\tv-if=\"!stages.delivery.isHidden\"\n\t\t\t\t@on-stage-tile-collection-slider-close=\"stageRefresh($event, 'DELIVERY')\"\n\t\t\t\t:counter=\"counter++\"\n\t\t\t\t:status=\"stages.delivery.status\"\n\t\t\t\t:tiles=\"stages.delivery.tiles\"\n\t\t\t\t:installed=\"stages.delivery.installed\"\n\t\t\t\t:isCollapsible=\"true\"\n\t\t\t\t:initialCollapseState=\"stages.delivery.initialCollapseState\"\n\t\t\t\t@on-save-collapsed-option=\"saveCollapsedOption\"\n\t\t\t/>\n\t\t\t<automation-block\n\t\t\t\tv-if=\"editable && hasStageAutomation\"\n\t\t\t\t:counter=\"counter++\"\n\t\t\t\t:status=\"stages.automation.status\"\n\t\t\t\t:stageOnOrderPaid=\"stages.automation.stageOnOrderPaid\"\n\t\t\t\t:stageOnDeliveryFinished=\"stages.automation.stageOnDeliveryFinished\"\n\t\t\t\t:items=\"stages.automation.items\"\n\t\t\t\t:initialCollapseState=\"stages.automation.initialCollapseState\"\n\t\t\t\t@on-save-collapsed-option=\"saveCollapsedOption\"\n\t\t\t/>\n\t\t\t<send-block\n\t\t\t\t@on-submit=\"onSend\"\n\t\t\t\t:buttonEnabled=\"sendAllowed\"\n\t\t\t\t:showWhatClientSeesControl=\"!editable\"\n\t\t\t\t:buttonLabel=\"submitButtonLabel\"\n\t\t\t/>\n\t\t\t<timeline-block\n\t\t\t\tv-if=\"hasStageTimeLine\"\n\t\t\t\t:timelineItems=\"stages.timeline.items\"\n\t\t\t/>\n\t\t</div>\n\t`\n};\n","import {Loc} from 'main.core';\n\nexport default {\n\tprops: {\n\t\tbuttonEnabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tbuttonClass()\n\t\t{\n\t\t\treturn {'salescenter-app-payment-by-sms-item-disabled': this.buttonEnabled === false};\n\t\t},\n\t},\n\tmethods: {\n\t\tsubmit(event)\n\t\t{\n\t\t\tthis.$emit('on-submit', event);\n\t\t},\n\t},\n\ttemplate: `\t\t\n\t\t<div\n\t\t\t:class=\"buttonClass\"\n\t\t\tclass=\"salescenter-app-payment-by-sms-item-show salescenter-app-payment-by-sms-item salescenter-app-payment-by-sms-item-send\"\n\t\t>\n\t\t\t<div class=\"salescenter-app-payment-by-sms-item-counter\">\n\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-counter-rounder\"></div>\n\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-counter-line\"></div>\n\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-counter-number\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container\">\n\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-payment\">\n\t\t\t\t\t\t<div class=\"salescenter-app-payment-by-sms-item-container-payment-inline\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t@click=\"submit($event)\"\n\t\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-lg ui-btn-success ui-btn-round\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_CREATE_SHIPMENT')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`\n}\n","import {Loc} from 'main.core';\nimport {StatusTypes as Status} from 'salescenter.component.stage-block';\nimport {MixinTemplatesType} from '../templates-type-mixin';\nimport * as Tile from 'salescenter.tile';\nimport Send from './stage-blocks/send';\nimport Product from '../stage-blocks/product';\nimport {DeliveryVuex} from '../stage-blocks/delivery-vuex';\nimport {Automation} from '../stage-blocks/automation';\nimport {StageMixin} from '../stage-blocks/stage-mixin';\n\nexport default {\n\tcomponents: {\n\t\t'send-block'\t\t\t: Send,\n\t\t'product-block'\t\t\t: Product,\n\t\t'delivery-block'\t\t: DeliveryVuex,\n\t\t'automation-block'\t\t: Automation,\n\t},\n\tprops:{\n\t\tsendAllowed: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t},\n\tdata()\n\t{\n\t\tlet stages =  {\n\t\t\tproduct:{\n\t\t\t\tstatus:\t\t\t\tthis.$root.$app.options.basket && this.$root.$app.options.basket.length > 0\n\t\t\t\t\t?\tStatus.complete\n\t\t\t\t\t:\tStatus.current,\n\t\t\t\ttitle: this.$root.$app.options.templateMode === 'view'\n\t\t\t\t\t? Loc.getMessage('SALESCENTER_PRODUCT_BLOCK_TITLE_SHIPMENT_VIEW')\n\t\t\t\t\t: Loc.getMessage('SALESCENTER_PRODUCT_BLOCK_TITLE_SHORT_SHIPMENT'),\n\t\t\t},\n\t\t\tdelivery:{\n\t\t\t\tstatus: \t\t\tthis.$root.$app.options.deliveryList.isInstalled\n\t\t\t\t\t?\tStatus.complete\n\t\t\t\t\t:\tStatus.disabled,\n\t\t\t\ttiles:\t\t\tthis.getTileCollection(\n\t\t\t\t\tthis.$root.$app.options.deliveryList.items),\n\t\t\t\tinstalled:\t\t\tthis.$root.$app.options.deliveryList.isInstalled,\n\t\t\t\tinitialCollapseState: this.$root.$app.options.isDeliveryCollapsed ? this.$root.$app.options.isDeliveryCollapsed === 'Y' : this.$root.$app.options.deliveryList.isInstalled,\n\t\t\t}\n\t\t};\n\n\t\tif (this.$root.$app.options.isAutomationAvailable)\n\t\t{\n\t\t\tstages.automation = {\n\t\t\t\tstatus:\t\t\t\t\t\tStatus.complete,\n\t\t\t\tstageOnDeliveryFinished:\tthis.$root.$app.options.stageOnDeliveryFinished,\n\t\t\t\titems:\t\t\t\t\t\tthis.$root.$app.options.dealStageList,\n\t\t\t\tinitialCollapseState: \t\tthis.$root.$app.options.isAutomationCollapsed ? this.$root.$app.options.isAutomationCollapsed === 'Y' : false,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tstages: stages,\n\t\t}\n\t},\n\tmixins:[StageMixin, MixinTemplatesType],\n\tcomputed:\n\t\t{\n\t\t\thasStageAutomation()\n\t\t\t{\n\t\t\t\treturn this.stages.automation.hasOwnProperty('items');\n\t\t\t},\n\t\t\teditableMixin()\n\t\t\t{\n\t\t\t\treturn this.editable === false;\n\t\t\t},\n\t\t\tisViewTemplateMode()\n\t\t\t{\n\t\t\t\treturn this.$root.$app.options.templateMode === 'view';\n\t\t\t},\n\t\t},\n\tmethods:\n\t\t{\n\t\t\tinitCounter()\n\t\t\t{\n\t\t\t\tthis.counter = 1;\n\t\t\t},\n\n\t\t\tgetTileCollection(items)\n\t\t\t{\n\t\t\t\tlet tiles = [];\n\t\t\t\tObject.values(items).forEach(\n\t\t\t\t\toptions => tiles.push(Tile.Factory.create(options)));\n\n\t\t\t\treturn tiles;\n\t\t\t},\n\n\t\t\tgetTitleItems(items)\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\titems.forEach((item) => {\n\t\t\t\t\tif (![Tile.More.type(), Tile.Offer.type()].includes(item.type))\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(item);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\tstageRefresh(e, type)\n\t\t\t{\n\t\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t\t\"bitrix:salescenter.app\",\n\t\t\t\t\t\"getAjaxData\",\n\t\t\t\t\t{\n\t\t\t\t\t\tmode: \"class\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t).then(function(response) {\n\t\t\t\t\tif (response.data)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.refreshTilesByType(response.data, type);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\t\t\t},\n\n\t\t\trefreshTilesByType(data, type)\n\t\t\t{\n\t\t\t\tif(type === 'DELIVERY')\n\t\t\t\t{\n\t\t\t\t\tthis.stages.delivery.status = \t\tdata.isSet\n\t\t\t\t\t\t?\tStatus.complete\n\t\t\t\t\t\t:\tStatus.disabled;\n\t\t\t\t\tthis.stages.delivery.tiles = \t\tthis.getTileCollection(data.items);\n\t\t\t\t\tthis.stages.delivery.installed = \tdata.isInstalled;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonSend(event)\n\t\t\t{\n\t\t\t\tthis.$emit('stage-block-send-on-send', event)\n\t\t\t},\n\n\t\t\tsaveCollapsedOption(type, value)\n\t\t\t{\n\t\t\t\tBX.userOptions.save('salescenter', 'add_shipment_collapse_options', type, value);\n\t\t\t},\n\t\t},\n\tcreated()\n\t{\n\t\tthis.initCounter();\n\t},\n\tbeforeUpdate()\n\t{\n\t\tthis.initCounter();\n\t},\n\ttemplate: `\n\t\t<div>\n\t\t\t<product-block \n\t\t\t\t:counter=\t\"counter++\"\n\t\t\t\t:status= \t\"stages.product.status\"\n\t\t\t\t:title=\t\t\"stages.product.title\"\t\t\n\t\t\t\t:hintTitle=\t\t\"''\"\n\t\t\t/>\n\t\t\t\n\t\t\t<delivery-block\t\t\t\t\t\t\tv-on:on-stage-tile-collection-slider-close=\"stageRefresh($event, 'DELIVERY')\"\n\t\t\t\t:counter=\t\"counter++\"\n\t\t\t\t:status=  \t\"stages.delivery.status\"\n\t\t\t\t:tiles=  \t\"stages.delivery.tiles\"\n\t\t\t\t:installed=\t\"stages.delivery.installed\"\n\t\t\t\t:isCollapsible=\"false\"\n\t\t\t\t:initialCollapseState = \"stages.delivery.initialCollapseState\"\n\t\t\t\t@on-save-collapsed-option=\"saveCollapsedOption\"\n\t\t\t/>\n\t\t\t\t\t\t\t\t\t\n\t\t\t<automation-block v-if=\"editable && hasStageAutomation\"\n\t\t\t\t:counter=\t\"counter++\"\n\t\t\t\t:status=\t\"stages.automation.status\"\n\t\t\t\t:stageOnDeliveryFinished=\t\"stages.automation.stageOnDeliveryFinished\"\n\t\t\t\t:items=\t\t\"stages.automation.items\"\n\t\t\t\t:initialCollapseState = \"stages.automation.initialCollapseState\"\n\t\t\t\t@on-save-collapsed-option=\"saveCollapsedOption\"\n\t\t\t/>\n\t\t\t\n\t\t\t<send-block\n\t\t\t\tv-if=\"!isViewTemplateMode\"\n\t\t\t\t@on-submit=\"onSend\"\n\t\t\t\t:buttonEnabled=\"sendAllowed\"\n\t\t\t/>\n\t\t</div>\n\t`\n};\n","import {Vuex} from 'ui.vue.vuex';\nimport StageBlocksList from './components/deal-receiving-payment/stage-blocks-list';\nimport StageBlocksListShipment from './components/deal-creating-shipment/stage-blocks-list';\nimport ComponentMixin from './component-mixin';\nimport {Loc} from 'main.core';\nimport {MixinTemplatesType} from './components/templates-type-mixin';\nimport Start from './start';\n\nexport default {\n\tmixins: [MixinTemplatesType, ComponentMixin],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tactiveMenuItem: this.$root.$app.options.mode,\n\t\t\tisLoading: false,\n\t\t};\n\t},\n\tcomponents: {\n\t\t'deal-receiving-payment': StageBlocksList,\n\t\t'deal-creating-shipment': StageBlocksListShipment,\n\t\t'start': Start,\n\t},\n\tmethods: {\n\t\treload(form)\n\t\t{\n\t\t\tif (this.isLoading || !this.editable)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isLoading = true;\n\t\t\tthis.activeMenuItem = form;\n\t\t\tthis.$emit(\n\t\t\t\t'on-reload',\n\t\t\t\t{\n\t\t\t\t\tcontext: this.$root.$app.options.context,\n\t\t\t\t\torderId: this.$root.$app.orderId,\n\t\t\t\t\townerTypeId: this.$root.$app.options.ownerTypeId,\n\t\t\t\t\townerId: this.$root.$app.options.ownerId,\n\t\t\t\t\ttemplateMode: 'create',\n\t\t\t\t\tmode: this.activeMenuItem,\n\t\t\t\t\tinitialMode: this.$root.$app.options.initialMode,\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tonSuccessfullyConnected()\n\t\t{\n\t\t\tthis.reload(this.activeMenuItem);\n\t\t},\n\t\tsendPaymentDeliveryForm(event)\n\t\t{\n\t\t\tif (!this.isAllowedPaymentDeliverySubmitButton)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.editable)\n\t\t\t{\n\t\t\t\tthis.$root.$app.sendPayment(event.target);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$root.$app.resendPayment(event.target);\n\t\t\t}\n\t\t},\n\t\tsendDeliveryForm(event)\n\t\t{\n\t\t\tif (!this.isAllowedDeliverySubmitButton)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$root.$app.sendShipment(event.target);\n\t\t},\n\t\t// region menu item handlers\n\t\tspecifyCompanyContacts()\n\t\t{\n\t\t\tBX.Salescenter.Manager.openSlider(this.$root.$app.options.urlSettingsCompanyContacts, {width: 1200} );\n\t\t},\n\t\tsuggestScenario(event)\n\t\t{\n\t\t\tBX.Salescenter.Manager.openFeedbackPayOrderForm(event);\n\t\t},\n\t\thowItWorks(event)\n\t\t{\n\t\t\tBX.Salescenter.Manager.openHowPayDealWorks(event);\n\t\t},\n\t\topenIntegrationWindow(event)\n\t\t{\n\t\t\tBX.Salescenter.Manager.openIntegrationRequestForm(event);\n\t\t},\n\t\t// endregion\n\t},\n\tcomputed: {\n\t\tmode()\n\t\t{\n\t\t\treturn this.$root.$app.options.mode;\n\t\t},\n\t\ttemplateMode()\n\t\t{\n\t\t\treturn this.$root.$app.options.templateMode;\n\t\t},\n\t\tinitialMode()\n\t\t{\n\t\t\treturn this.$root.$app.options.initialMode;\n\t\t},\n\t\tisOnlyDeliveryItemVisible()\n\t\t{\n\t\t\treturn (\n\t\t\t\tthis.$root.$app.options.hasOwnProperty('deliveryList')\n\t\t\t\t&& this.$root.$app.options.deliveryList.hasOwnProperty('hasInstallable')\n\t\t\t\t&& this.$root.$app.options.deliveryList.hasInstallable\n\t\t\t);\n\t\t},\n\t\tisAllowedPaymentDeliverySubmitButton()\n\t\t{\n\t\t\tif (this.$root.$app.options.contactPhone === '')\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet isCurrentSenderConnected = false;\n\t\t\tfor (let sender of this.$root.$app.options.senders)\n\t\t\t{\n\t\t\t\tif (sender.code !== this.$root.$app.options.currentSenderCode)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (sender.isConnected)\n\t\t\t\t{\n\t\t\t\t\tisCurrentSenderConnected = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isCurrentSenderConnected)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn this.$store.getters['orderCreation/isAllowedSubmit'];\n\t\t},\n\t\tisAllowedDeliverySubmitButton()\n\t\t{\n\t\t\tconst deliveryId = this.$store.getters['orderCreation/getDeliveryId'];\n\t\t\tif (!deliveryId)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!this.$store.getters['orderCreation/isAllowedSubmit'])\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn (deliveryId != this.$root.$app.options.emptyDeliveryServiceId);\n\t\t},\n\t\tisSuggestScenarioMenuItemVisible()\n\t\t{\n\t\t\treturn this.$root.$app.options.isBitrix24;\n\t\t},\n\t\tisRequestIntegrationMenuItemVisible()\n\t\t{\n\t\t\treturn this.$root.$app.options.isIntegrationButtonVisible;\n\t\t},\n\t\tneedShowStoreConnection()\n\t\t{\n\t\t\treturn !this.isOrderPublicUrlAvailable && this.mode !== 'delivery';\n\t\t},\n\t\tsendPaymentDeliveryFormButtonText()\n\t\t{\n\t\t\treturn this.editable ? Loc.getMessage('SALESCENTER_SEND') : Loc.getMessage('SALESCENTER_RESEND');\n\t\t},\n\t\ttitle()\n\t\t{\n\t\t\treturn this.$root.$app.options.title;\n\t\t},\n\t\t// classes region\n\t\tpaymentDeliveryFormSubmitButtonClass()\n\t\t{\n\t\t\treturn {'ui-btn-disabled': !this.isAllowedPaymentDeliverySubmitButton};\n\t\t},\n\t\tdeliveryFormSubmitButtonClass()\n\t\t{\n\t\t\treturn {'ui-btn-disabled': !this.isAllowedDeliverySubmitButton};\n\t\t},\n\t\tpaymentDeliveryMenuItemClass()\n\t\t{\n\t\t\treturn {'salescenter-app-sidebar-menu-active': this.activeMenuItem === 'payment_delivery'};\n\t\t},\n\t\tdeliveryMenuItemClass()\n\t\t{\n\t\t\treturn {'salescenter-app-sidebar-menu-active': this.activeMenuItem === 'delivery'};\n\t\t},\n\t\t// endregion\n\t\t...Vuex.mapState({\n\t\t\tapplication: state => state.application,\n\t\t\torder: state => state.orderCreation,\n\t\t})\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\t:class=\"wrapperClass\"\n\t\t\t:style=\"wrapperStyle\"\n\t\t\tclass=\"salescenter-app-wrapper\"\n\t\t>\n\t\t\t<div class=\"ui-sidepanel-sidebar salescenter-app-sidebar\">\n\t\t\t\t<ul class=\"ui-sidepanel-menu\">\n\t\t\t\t\t<template v-if=\"templateMode === 'view'\">\n\t\t\t\t\t\t<li class=\"ui-sidepanel-menu-item salescenter-app-sidebar-menu-active\">\n\t\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">{{title}}</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tv-if=\"initialMode === 'payment_delivery'\"\n\t\t\t\t\t\t\t@click=\"reload('payment_delivery')\"\n\t\t\t\t\t\t\t:class=\"paymentDeliveryMenuItemClass\"\n\t\t\t\t\t\t\tclass=\"ui-sidepanel-menu-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_LEFT_TAKE_PAYMENT_AND_CREATE_SHIPMENT')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tv-if=\"isOnlyDeliveryItemVisible\"\n\t\t\t\t\t\t\t@click=\"reload('delivery')\"\n\t\t\t\t\t\t\t:class=\"deliveryMenuItemClass\"\n\t\t\t\t\t\t\tclass=\"ui-sidepanel-menu-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"ui-sidepanel-menu-link\">\n\t\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_LEFT_CREATE_SHIPMENT')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</template>\n\t\t\t\t\t\n\t\t\t\t\t<li class=\"ui-sidepanel-menu-item ui-sidepanel-menu-item-sm ui-sidepanel-menu-item-separate\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t@click=\"specifyCompanyContacts\"\n\t\t\t\t\t\t\tclass=\"ui-sidepanel-menu-link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_LEFT_PAYMENT_COMPANY_CONTACTS')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li\n\t\t\t\t\t\tv-if=\"isSuggestScenarioMenuItemVisible\"\n\t\t\t\t\t\tclass=\"ui-sidepanel-menu-item ui-sidepanel-menu-item-sm\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t@click=\"suggestScenario($event)\"\n\t\t\t\t\t\t\tclass=\"ui-sidepanel-menu-link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_LEFT_PAYMENT_OFFER_SCRIPT')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"ui-sidepanel-menu-item ui-sidepanel-menu-item-sm\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t@click=\"howItWorks($event)\"\n\t\t\t\t\t\t\tclass=\"ui-sidepanel-menu-link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_LEFT_PAYMENT_HOW_WORKS')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li\n\t\t\t\t\t\tv-if=\"isRequestIntegrationMenuItemVisible\"\n\t\t\t\t\t\tclass=\"ui-sidepanel-menu-item ui-sidepanel-menu-item-sm\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t@click=\"openIntegrationWindow($event)\"\n\t\t\t\t\t\t\tclass=\"ui-sidepanel-menu-link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_LEFT_PAYMENT_INTEGRATION')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"salescenter-app-right-side\">\n\t\t\t\t<start\n\t\t\t\t\tv-if=\"needShowStoreConnection\"\n\t\t\t\t\t@on-successfully-connected=\"onSuccessfullyConnected\"\n\t\t\t\t>\n\t\t\t\t</start>\n\t\t        <template v-else>\n\t\t\t        <deal-receiving-payment\n\t\t\t        \tv-if=\"mode === 'payment_delivery'\"\n\t\t\t        \t@stage-block-send-on-send=\"sendPaymentDeliveryForm($event)\"\n\t\t\t        \t:sendAllowed=\"isAllowedPaymentDeliverySubmitButton\"\n\t\t\t        />\n\t\t\t        <deal-creating-shipment\n\t\t\t        \tv-else-if=\"mode === 'delivery'\"\n\t\t\t        \t@stage-block-send-on-send=\"sendDeliveryForm($event)\"\n\t\t\t        \t:sendAllowed=\"isAllowedDeliverySubmitButton\"\n\t\t\t        />\n\t\t        </template>\n\t\t\t</div>\n\t\t\t<div class=\"ui-button-panel-wrapper salescenter-button-panel\" ref=\"buttonsPanel\">\n\t\t\t\t<div class=\"ui-button-panel\">\n\t\t\t\t\t<template v-if=\"mode === 'payment_delivery'\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"sendPaymentDeliveryForm($event)\"\n\t\t\t\t\t\t\t:class=\"paymentDeliveryFormSubmitButtonClass\"\n\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-md ui-btn-success\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{sendPaymentDeliveryFormButtonText}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"close\"\n\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-md ui-btn-link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_CANCEL')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else-if=\"mode === 'delivery'\">\n\t\t\t\t\t\t<template v-if=\"editable\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t@click=\"sendDeliveryForm($event)\"\n\t\t\t\t\t\t\t\t:class=\"deliveryFormSubmitButtonClass\"\n\t\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-md ui-btn-success\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_CREATE_SHIPMENT')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t@click=\"close\"\n\t\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-md ui-btn-link\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${Loc.getMessage('SALESCENTER_CANCEL')}\n\t\t\t\t\t\t\t</button>\t\t\t\t\t\t\t\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"this.order.errors.length > 0\" ref=\"errorBlock\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n}\n","import {Vue} from 'ui.vue';\nimport {VuexBuilder} from 'ui.vue.vuex';\nimport {rest as Rest} from 'rest.client';\nimport {Manager} from 'salescenter.manager';\nimport {Loader} from 'main.loader';\nimport {Type, Loc, ajax as Ajax, Event} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {MenuManager} from 'main.popup';\nimport 'ui.notification';\nimport {ApplicationModel} from './models/application';\nimport {OrderCreationModel} from './models/ordercreation';\nimport Chat from './chat';\nimport Deal from './deal';\nimport './css/component.css';\n\nexport class App\n{\n\tconstructor(options = {\n\t\tdialogId: null,\n\t\tsessionId: null,\n\t\tlineId: null,\n\t\torderAddPullTag: null,\n\t\tlandingPublicationPullTag: null,\n\t\tlandingUnPublicationPullTag: null,\n\t\tisFrame: true,\n\t\tisOrderPublicUrlAvailable: false,\n\t\tisCatalogAvailable: false,\n\t\tisOrderPublicUrlExists: false,\n\t\tisWithOrdersMode: true,\n\t})\n\t{\n\t\tthis.slider = BX.SidePanel.Instance.getTopSlider();\n\t\tthis.dialogId = options.dialogId;\n\t\tthis.sessionId = parseInt(options.sessionId);\n\t\tthis.lineId = parseInt(options.lineId);\n\t\tthis.orderAddPullTag = options.orderAddPullTag;\n\t\tthis.landingPublicationPullTag = options.landingPublicationPullTag;\n\t\tthis.landingUnPublicationPullTag = options.landingUnPublicationPullTag;\n\t\tthis.paySystemList = options.paySystemList;\n\t\tthis.cashboxList = options.cashboxList;\n\t\tthis.options = options;\n\t\tthis.isProgress = false;\n\t\tthis.fillPagesTimeout = false;\n\t\tthis.disableSendButton = false;\n\t\tthis.context = '';\n\t\tthis.fillPagesQueue = [];\n\t\tthis.ownerTypeId = '';\n\t\tthis.ownerId = '';\n\t\tthis.orderId = parseInt(options.orderId);\n\t\tthis.stageOnOrderPaid = null;\n\t\tthis.stageOnDeliveryFinished = null;\n\t\tthis.sendingMethod = '';\n\t\tthis.sendingMethodDesc = {};\n\t\tthis.orderPublicUrl = '';\n\t\tthis.fileControl = options.fileControl;\n\n\t\tif(Type.isString(options.stageOnOrderPaid))\n\t\t{\n\t\t\tthis.stageOnOrderPaid = options.stageOnOrderPaid;\n\t\t}\n\n\t\tif(Type.isString(options.stageOnDeliveryFinished))\n\t\t{\n\t\t\tthis.stageOnDeliveryFinished = options.stageOnDeliveryFinished;\n\t\t}\n\n\t\tif(Type.isBoolean(options.isFrame))\n\t\t{\n\t\t\tthis.isFrame = options.isFrame;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.isFrame = true;\n\t\t}\n\n\t\tif(Type.isBoolean(options.isOrderPublicUrlAvailable))\n\t\t{\n\t\t\tthis.isOrderPublicUrlAvailable = options.isOrderPublicUrlAvailable;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.isOrderPublicUrlAvailable = false;\n\t\t}\n\n\t\tif(Type.isBoolean(options.isOrderPublicUrlExists))\n\t\t{\n\t\t\tthis.isOrderPublicUrlExists = options.isOrderPublicUrlExists;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.isOrderPublicUrlExists = false;\n\t\t}\n\n\t\tif(Type.isString(options.orderPublicUrl))\n\t\t{\n\t\t\tthis.orderPublicUrl = options.orderPublicUrl;\n\t\t}\n\n\t\tif(Type.isBoolean(options.isCatalogAvailable))\n\t\t{\n\t\t\tthis.isCatalogAvailable = options.isCatalogAvailable;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.isCatalogAvailable = false;\n\t\t}\n\n\t\tif(Type.isBoolean(options.isWithOrdersMode))\n\t\t{\n\t\t\tthis.isWithOrdersMode = options.isWithOrdersMode;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.isWithOrdersMode = false;\n\t\t}\n\n\t\tif(Type.isBoolean(options.disableSendButton))\n\t\t{\n\t\t\tthis.disableSendButton = options.disableSendButton;\n\t\t}\n\n\t\tif(options.ownerTypeId)\n\t\t{\n\t\t\tthis.ownerTypeId = options.ownerTypeId;\n\t\t}\n\n\t\tif(options.ownerId)\n\t\t{\n\t\t\tthis.ownerId = options.ownerId;\n\t\t}\n\n\t\tif(Type.isString(options.context) && options.context.length > 0)\n\t\t{\n\t\t\tthis.context = options.context;\n\t\t}\n\t\telse if(this.sessionId && this.dialogId)\n\t\t{\n\t\t\tthis.context = 'imopenlines_app';\n\t\t}\n\n\t\tif(Type.isBoolean(options.isPaymentsLimitReached))\n\t\t{\n\t\t\tthis.isPaymentsLimitReached = options.isPaymentsLimitReached;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.isPaymentsLimitReached = false;\n\t\t}\n\n\t\tif(!Type.isUndefined(options.sendingMethod))\n\t\t{\n\t\t\tthis.sendingMethod = options.sendingMethod;\n\t\t\tthis.sendingMethodDesc = this.options.sendingMethodDesc;\n\t\t}\n\n\t\tthis.isPaymentCreationAvailable = (\n\t\t\t(this.sessionId > 0 && this.dialogId.length > 0) || (this.ownerTypeId && this.ownerId)\n\t\t);\n\t\tthis.connector = Type.isString(options.connector) ? options.connector : '';\n\n\t\tEvent.ready(() =>\n\t\t{\n\t\t\tthis.pull = BX.PULL;\n\t\t\tthis.initPull();\n\t\t\tthis.isSiteExists = Manager.isSiteExists;\n\t\t});\n\n\t\tApp.initStore()\n\t\t\t.then((result) => this.initTemplate(result))\n\t\t\t.catch((error) => App.showError(error))\n\t\t;\n\t}\n\n\tstatic initStore()\n\t{\n\t\tconst builder = new VuexBuilder();\n\n\t\treturn builder.addModel(ApplicationModel.create())\n\t\t\t.addModel(OrderCreationModel.create())\n\t\t\t.useNamespace(true)\n\t\t\t.build();\n\t}\n\n\tinitPull()\n\t{\n\t\tif(this.pull)\n\t\t{\n\t\t\tif(Type.isString(this.orderAddPullTag))\n\t\t\t{\n\t\t\t\tthis.pull.subscribe({\n\t\t\t\t\tmoduleId: 'salescenter',\n\t\t\t\t\tcommand: this.orderAddPullTag,\n\t\t\t\t\tcallback: (params) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(parseInt(params.sessionId) === this.sessionId && params.orderId > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tManager.showOrdersListAfterCreate(params.orderId);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(Type.isString(this.landingPublicationPullTag))\n\t\t\t{\n\t\t\t\tthis.pull.subscribe({\n\t\t\t\t\tmoduleId: 'salescenter',\n\t\t\t\t\tcommand: this.landingPublicationPullTag,\n\t\t\t\t\tcallback: (params) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(parseInt(params.landingId) > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.fillPages();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(params.hasOwnProperty('isOrderPublicUrlAvailable') && Type.isBoolean(params.isOrderPublicUrlAvailable))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.isOrderPublicUrlAvailable = params.isOrderPublicUrlAvailable;\n\t\t\t\t\t\t\tthis.isOrderPublicUrlExists = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(Type.isString(this.landingUnPublicationPullTag))\n\t\t\t{\n\t\t\t\tthis.pull.subscribe({\n\t\t\t\t\tmoduleId: 'salescenter',\n\t\t\t\t\tcommand: this.landingUnPublicationPullTag,\n\t\t\t\t\tcallback: (params) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif(parseInt(params.landingId) > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.fillPages();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(params.hasOwnProperty('isOrderPublicUrlAvailable') && Type.isBoolean(params.isOrderPublicUrlAvailable))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.isOrderPublicUrlAvailable = params.isOrderPublicUrlAvailable;\n\t\t\t\t\t\t\tthis.isOrderPublicUrlExists = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tinitTemplate(result)\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tconst context = this;\n\t\t\tthis.store = result.store;\n\n\t\t\tthis.templateEngine = Vue.create({\n\t\t\t\tel: document.getElementById('salescenter-app-root'),\n\t\t\t\tcomponents: {\n\t\t\t\t\t'chat': Chat,\n\t\t\t\t\t'deal': Deal,\n\t\t\t\t},\n\t\t\t\ttemplate:\n\t\t\t\t\tthis.context === 'deal'\n\t\t\t\t\t\t? `<deal :key=\"componentKey\" @on-reload=\"reload\"/>`\n\t\t\t\t\t\t: `<chat :key=\"componentKey\" @on-reload=\"reload\"/>`\n\t\t\t\t\t,\n\t\t\t\tstore: this.store,\n\t\t\t\tcreated()\n\t\t\t\t{\n\t\t\t\t\tthis.$app = context;\n\t\t\t\t\tthis.$nodes = {\n\t\t\t\t\t\tfooter: document.getElementById('footer'),\n\t\t\t\t\t\tleftPanel: document.getElementById('left-panel'),\n\t\t\t\t\t\ttitle: document.getElementById('pagetitle'),\n\t\t\t\t\t\tpaymentsLimit: document.getElementById('salescenter-payment-limit-container'),\n\t\t\t\t\t\torderSelector: document.getElementById('salescenter-app-order-selector'),\n\t\t\t\t\t};\n\t\t\t\t\tthis.initOrderSelector();\n\t\t\t\t},\n\t\t\t\tmounted()\n\t\t\t\t{\n\t\t\t\t\tresolve();\n\t\t\t\t},\n\t\t\t\tmethods: {\n\t\t\t\t\treload(arParams)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$root.$app.getLoader().show(document.body);\n\n\t\t\t\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t\t\t\t'bitrix:salescenter.app',\n\t\t\t\t\t\t\t'getComponentResult',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmode: 'class',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tarParams\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t).then(function(response) {\n\t\t\t\t\t\t\tif (response.data)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.$root.$app.options = response.data;\n\t\t\t\t\t\t\t\tthis.$root.$app.orderId = this.$root.$app.options.orderId;\n\t\t\t\t\t\t\t\tthis.componentKey += 1;\n\n\t\t\t\t\t\t\t\tthis.$root.$app.getLoader().hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t},\n\t\t\t\t\tinitOrderSelector()\n\t\t\t\t\t{\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.$app.options.orderList.length < 2\n\t\t\t\t\t\t\t\t|| this.$app.options.templateMode !== 'create'\n\t\t\t\t\t\t\t\t|| !this.$app.options.orderId\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst orderSelectorBtn = this.$nodes.orderSelector.querySelector('.salescenter-app-order-selector-text');\n\t\t\t\t\t\t\tif (!orderSelectorBtn)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\torderSelectorBtn.innerText = Loc.getMessage('SALESCENTER_ORDER_SELECTOR_ORDER_NUM')\n\t\t\t\t\t\t\t\t.replace('#ORDER_ID#', this.$app.options.orderId);\n\n\t\t\t\t\t\t\torderSelectorBtn.setAttribute('data-hint', Loc.getMessage('SALESCENTER_ORDER_SELECTOR_TOOLTIP'));\n\n\t\t\t\t\t\t\tlet popupMenu;\n\t\t\t\t\t\t\tlet menuItems = [];\n\t\t\t\t\t\t\tthis.$app.options.orderList.map(orderId => {\n\t\t\t\t\t\t\t\tconst orderCaption = Loc.getMessage('SALESCENTER_ORDER_SELECTOR_ORDER_NUM').replace('#ORDER_ID#', orderId);\n\t\t\t\t\t\t\t\tmenuItems.push({\n\t\t\t\t\t\t\t\t\ttext: orderCaption,\n\t\t\t\t\t\t\t\t\tonclick: event => {\n\t\t\t\t\t\t\t\t\t\tpopupMenu.close();\n\t\t\t\t\t\t\t\t\t\torderSelectorBtn.innerText = orderCaption;\n\t\t\t\t\t\t\t\t\t\tthis.reload({\n\t\t\t\t\t\t\t\t\t\t\tcontext: this.$app.options.context,\n\t\t\t\t\t\t\t\t\t\t\torderId: orderId,\n\t\t\t\t\t\t\t\t\t\t\townerTypeId: this.$app.options.ownerTypeId,\n\t\t\t\t\t\t\t\t\t\t\townerId: this.$app.options.ownerId,\n\t\t\t\t\t\t\t\t\t\t\ttemplateMode: this.$app.options.templateMode,\n\t\t\t\t\t\t\t\t\t\t\tmode: this.$app.options.mode,\n\t\t\t\t\t\t\t\t\t\t\tinitialMode: this.$app.options.initialMode,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tpopupMenu = MenuManager.create({\n\t\t\t\t\t\t\t\tid: 'deal-order-selector',\n\t\t\t\t\t\t\t\tbindElement: orderSelectorBtn,\n\t\t\t\t\t\t\t\titems: menuItems\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.$nodes.orderSelector.classList.remove('is-hidden');\n\t\t\t\t\t\t\tthis.$nodes.orderSelector.addEventListener('click', e => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tpopupMenu.show();\n\t\t\t\t\t\t\t\tBX.UI.Hint.hide();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tBX.UI.Hint.init(this.$nodes.orderSelector);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (err)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdata() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcomponentKey: 0,\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tcloseApplication()\n\t{\n\t\tif(this.slider)\n\t\t{\n\t\t\tthis.slider.close();\n\t\t}\n\t}\n\n\tfillPages()\n\t{\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(this.isProgress)\n\t\t\t{\n\t\t\t\tthis.fillPagesQueue.push(resolve);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(this.fillPagesTimeout)\n\t\t\t\t{\n\t\t\t\t\tclearTimeout(this.fillPagesTimeout);\n\t\t\t\t}\n\t\t\t\tthis.fillPagesTimeout = setTimeout(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.startProgress();\n\t\t\t\t\tRest.callMethod('salescenter.page.list', {}).then((result) => {\n\t\t\t\t\t\tthis.store.commit('application/setPages', {pages: result.answer.result.pages});\n\t\t\t\t\t\tthis.stopProgress();\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\tthis.fillPagesQueue.forEach((item) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.fillPagesQueue = [];\n\t\t\t\t\t});\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic showError(error)\n\t{\n\t\t// console.error(error);\n\t}\n\n\tgetLoader()\n\t{\n\t\tif(!this.loader)\n\t\t{\n\t\t\tthis.loader = new Loader({size: 200, mode: 'custom'});\n\t\t}\n\n\t\treturn this.loader;\n\t}\n\n\tshowLoader()\n\t{\n\t\tif(this.templateEngine)\n\t\t{\n\t\t\tthis.getLoader().show(this.templateEngine.$el);\n\t\t}\n\t}\n\n\thideLoader()\n\t{\n\t\tthis.getLoader().hide();\n\t}\n\n\tstartProgress(buttonEvent = null)\n\t{\n\t\tthis.isProgress = true;\n\t\tthis.templateEngine.$emit('on-start-progress');\n\t\tthis.showLoader();\n\t\tif (Type.isDomNode(buttonEvent))\n\t\t{\n\t\t\tbuttonEvent.classList.add('ui-btn-wait');\n\t\t}\n\t}\n\n\tstopProgress(buttonEvent = null)\n\t{\n\t\tthis.isProgress = false;\n\t\tthis.templateEngine.$emit('on-stop-progress');\n\t\tthis.hideLoader();\n\t\tif (Type.isDomNode(buttonEvent))\n\t\t{\n\t\t\tbuttonEvent.classList.remove('ui-btn-wait');\n\t\t}\n\t}\n\n\thidePage(page)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet promise;\n\t\t\tif(page.landingId > 0)\n\t\t\t{\n\t\t\t\tpromise = Manager.hidePage(page);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpromise = Manager.deleteUrl(page);\n\t\t\t}\n\t\t\tpromise.then(() =>\n\t\t\t{\n\t\t\t\tthis.store.commit('application/removePage', {page});\n\t\t\t\tresolve();\n\t\t\t}).catch((result) =>\n\t\t\t{\n\t\t\t\tApp.showError(result.answer.error_description);\n\t\t\t\treject(result.answer.error_description);\n\t\t\t});\n\t\t});\n\t}\n\n\tsendPage(pageId)\n\t{\n\t\tif(this.isProgress)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif(this.disableSendButton)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tconst pages = this.store.getters['application/getPages']();\n\t\tlet page;\n\t\tfor(let index in pages)\n\t\t{\n\t\t\tif(pages.hasOwnProperty(index) && pages[index].id === pageId)\n\t\t\t{\n\t\t\t\tpage = pages[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tlet source = 'other';\n\t\tif(page.landingId > 0)\n\t\t{\n\t\t\tif(parseInt(page.siteId) === parseInt(Manager.connectedSiteId))\n\t\t\t{\n\t\t\t\tsource = 'landing_store_chat';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsource = 'landing_other';\n\t\t\t}\n\t\t}\n\t\tif(!this.dialogId)\n\t\t{\n\t\t\tthis.slider.data.set('action', 'sendPage');\n\t\t\tthis.slider.data.set('page', page);\n\t\t\tthis.slider.data.set('pageId', pageId);\n\t\t\tif(this.context === 'sms')\n\t\t\t{\n\t\t\t\tthis.startProgress();\n\t\t\t\tBX.Salescenter.Manager.addAnalyticAction({\n\t\t\t\t\tanalyticsLabel: 'salescenterSendSms',\n\t\t\t\t\tcontext: this.context,\n\t\t\t\t\tsource: source,\n\t\t\t\t\ttype: page.isWebform ? 'form' : 'info',\n\t\t\t\t\tcode: page.code,\n\t\t\t\t}).then(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.stopProgress();\n\t\t\t\t\tthis.closeApplication();\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.closeApplication();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tthis.startProgress();\n\n\t\tAjax.runAction('salescenter.page.send', {\n\t\t\tanalyticsLabel: 'salescenterSendChat',\n\t\t\tgetParameters: {\n\t\t\t\tdialogId: this.dialogId,\n\t\t\t\tcontext: this.context,\n\t\t\t\tsource: source,\n\t\t\t\ttype: page.isWebform ? 'form' : 'info',\n\t\t\t\tconnector: this.connector,\n\t\t\t\tcode: page.code,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\tid: pageId,\n\t\t\t\toptions: {\n\t\t\t\t\tdialogId: this.dialogId,\n\t\t\t\t\tsessionId: this.sessionId,\n\t\t\t\t},\n\t\t\t}\n\t\t}).then(() =>\n\t\t{\n\t\t\tthis.stopProgress();\n\t\t\tthis.closeApplication();\n\t\t}).catch((result) =>\n\t\t{\n\t\t\tApp.showError(result.errors.pop().message);\n\t\t\tthis.stopProgress();\n\t\t});\n\t}\n\tsendShipment(buttonEvent)\n\t{\n\t\tif (!this.isPaymentCreationAvailable)\n\t\t{\n\t\t\tthis.closeApplication();\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!this.store.getters['orderCreation/isAllowedSubmit'] || this.isProgress)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tthis.startProgress(buttonEvent);\n\n\t\tlet data = {\n\t\t\townerTypeId: this.ownerTypeId,\n\t\t\townerId: this.ownerId,\n\t\t\torderId: this.orderId,\n\t\t\tdeliveryId: this.store.getters['orderCreation/getDeliveryId'],\n\t\t\tdeliveryPrice: this.store.getters['orderCreation/getDelivery'],\n\t\t\texpectedDeliveryPrice: this.store.getters['orderCreation/getExpectedDelivery'],\n\t\t\tdeliveryResponsibleId: this.store.getters['orderCreation/getDeliveryResponsibleId'],\n\t\t\tpersonTypeId: this.store.getters['orderCreation/getPersonTypeId'],\n\t\t\tshipmentPropValues: this.store.getters['orderCreation/getPropertyValues'],\n\t\t\tdeliveryExtraServicesValues: this.store.getters['orderCreation/getDeliveryExtraServicesValues'],\n\t\t};\n\n\t\tif (this.stageOnDeliveryFinished !== null)\n\t\t{\n\t\t\tdata.stageOnDeliveryFinished = this.stageOnDeliveryFinished;\n\t\t}\n\n\t\tBX.ajax.runAction('salescenter.order.createShipment', {\n\t\t\tdata: {\n\t\t\t\tbasketItems: this.store.getters['orderCreation/getBasket'](),\n\t\t\t\toptions: data,\n\t\t\t},\n\t\t\tanalyticsLabel: 'salescenterCreateShipment',\n\t\t}).then((result) =>\n\t\t{\n\t\t\tthis.store.dispatch('orderCreation/resetBasket');\n\t\t\tthis.stopProgress(buttonEvent);\n\n\t\t\tif (result.data)\n\t\t\t{\n\t\t\t\tif (result.data.order)\n\t\t\t\t{\n\t\t\t\t\tthis.slider.data.set('order', result.data.order);\n\t\t\t\t}\n\t\t\t\tif (result.data.deal)\n\t\t\t\t{\n\t\t\t\t\tthis.slider.data.set('deal', result.data.deal);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.closeApplication();\n\t\t\tthis.emitGlobalEvent('salescenter.app:onshipmentcreated');\n\t\t}).catch((data) =>\n\t\t{\n\t\t\tdata.errors.forEach((error) => {\n\t\t\t\talert(error.message);\n\t\t\t});\n\t\t\tthis.stopProgress(buttonEvent);\n\t\t\tApp.showError(data);\n\t\t});\n\t}\n\n\tsendPayment(buttonEvent, skipPublicMessage = 'n')\n\t{\n\t\tif (!this.isPaymentCreationAvailable)\n\t\t{\n\t\t\tthis.closeApplication();\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!this.store.getters['orderCreation/isAllowedSubmit'] || this.isProgress)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tthis.startProgress(buttonEvent);\n\n\t\tlet data = {\n\t\t\tdialogId: this.dialogId,\n\t\t\tsendingMethod: this.sendingMethod,\n\t\t\tsendingMethodDesc: this.sendingMethodDesc,\n\t\t\tsessionId: this.sessionId,\n\t\t\tlineId: this.lineId,\n\t\t\townerTypeId: this.ownerTypeId,\n\t\t\torderId: this.orderId,\n\t\t\townerId: this.ownerId,\n\t\t\tskipPublicMessage,\n\t\t\tdeliveryId: this.store.getters['orderCreation/getDeliveryId'],\n\t\t\tdeliveryPrice: this.store.getters['orderCreation/getDelivery'],\n\t\t\texpectedDeliveryPrice: this.store.getters['orderCreation/getExpectedDelivery'],\n\t\t\tdeliveryResponsibleId: this.store.getters['orderCreation/getDeliveryResponsibleId'],\n\t\t\tpersonTypeId: this.store.getters['orderCreation/getPersonTypeId'],\n\t\t\tshipmentPropValues: this.store.getters['orderCreation/getPropertyValues'],\n\t\t\tdeliveryExtraServicesValues: this.store.getters['orderCreation/getDeliveryExtraServicesValues'],\n\t\t\tconnector: this.connector,\n\t\t\tcontext: this.context,\n\t\t};\n\n\t\tif (this.stageOnOrderPaid !== null)\n\t\t{\n\t\t\tdata.stageOnOrderPaid = this.stageOnOrderPaid;\n\t\t}\n\t\tif (this.stageOnDeliveryFinished !== null)\n\t\t{\n\t\t\tdata.stageOnDeliveryFinished = this.stageOnDeliveryFinished;\n\t\t}\n\n\t\tBX.ajax.runAction('salescenter.order.createPayment', {\n\t\t\tdata: {\n\t\t\t\tbasketItems: this.store.getters['orderCreation/getBasket'](),\n\t\t\t\toptions: data,\n\t\t\t},\n\t\t\tanalyticsLabel: (this.context === 'deal') ? 'salescenterCreatePaymentSms' : 'salescenterCreatePayment',\n\t\t\tgetParameters: {\n\t\t\t\tdialogId: this.dialogId,\n\t\t\t\tcontext: this.context,\n\t\t\t\tconnector: this.connector,\n\t\t\t\tskipPublicMessage: skipPublicMessage,\n\t\t\t}\n\t\t}).then((result) =>\n\t\t{\n\t\t\tthis.store.dispatch('orderCreation/resetBasket');\n\t\t\tthis.stopProgress(buttonEvent);\n\t\t\tif (skipPublicMessage === 'y')\n\t\t\t{\n\t\t\t\tlet notify = {\n\t\t\t\t\tcontent: Loc.getMessage('SALESCENTER_ORDER_CREATE_NOTIFICATION').replace('#ORDER_ID#', result.data.order.number),\n\t\t\t\t};\n\t\t\t\tnotify.actions = [{\n\t\t\t\t\ttitle: Loc.getMessage('SALESCENTER_VIEW'),\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick() {\n\t\t\t\t\t\t\tManager.showOrderAdd(result.data.order.id);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}];\n\t\t\t\tBX.UI.Notification.Center.notify(notify);\n\t\t\t\tManager.showOrdersList({\n\t\t\t\t\torderId: result.data.order.id,\n\t\t\t\t\townerId: this.ownerId,\n\t\t\t\t\townerTypeId: this.ownerTypeId,\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.slider.data.set('action', 'sendPayment');\n\t\t\t\tthis.slider.data.set('order', result.data.order);\n\n\t\t\t\tif (result.data.deal)\n\t\t\t\t{\n\t\t\t\t\tthis.slider.data.set('deal', result.data.deal);\n\t\t\t\t}\n\t\t\t\tthis.closeApplication();\n\t\t\t}\n\t\t\tthis.emitGlobalEvent('salescenter.app:onpaymentcreated');\n\t\t}).catch((data) =>\n\t\t{\n\t\t\tdata.errors.forEach((error) => {\n\t\t\t\talert(error.message);\n\t\t\t});\n\t\t\tthis.stopProgress(buttonEvent);\n\t\t\tApp.showError(data);\n\t\t});\n\t}\n\n\tresendPayment(buttonEvent)\n\t{\n\t\tif (!this.isPaymentCreationAvailable)\n\t\t{\n\t\t\tthis.closeApplication();\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!this.store.getters['orderCreation/isAllowedSubmit'] || this.isProgress)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tthis.startProgress(buttonEvent);\n\n\t\tBX.ajax.runAction('salescenter.order.resendPayment', {\n\t\t\tdata: {\n\t\t\t\torderId: this.orderId,\n\t\t\t\tpaymentId: this.options.paymentId,\n\t\t\t\tshipmentId: this.options.shipmentId,\n\t\t\t\toptions: {\n\t\t\t\t\tsendingMethod: this.sendingMethod,\n\t\t\t\t\tsendingMethodDesc: this.sendingMethodDesc,\n\t\t\t\t\tstageOnOrderPaid: this.stageOnOrderPaid\n\t\t\t\t},\n\t\t\t},\n\t\t\tgetParameters: {\n\t\t\t\tcontext: this.context,\n\t\t\t}\n\t\t}).then((result) =>\n\t\t{\n\t\t\tthis.stopProgress(buttonEvent);\n\t\t\tthis.closeApplication();\n\t\t\tthis.emitGlobalEvent('salescenter.app:onpaymentresend');\n\t\t}).catch((data) =>\n\t\t{\n\t\t\tdata.errors.forEach((error) => {\n\t\t\t\talert(error.message);\n\t\t\t});\n\t\t\tthis.stopProgress(buttonEvent);\n\t\t\tApp.showError(data);\n\t\t});\n\t}\n\thideNoPaymentSystemsBanner()\n\t{\n\t\tconst userOptionName = this.options.orderCreationOption || false;\n\t\tconst userOptionKeyName = this.options.paySystemBannerOptionName || false;\n\t\tif (userOptionName && userOptionKeyName)\n\t\t{\n\t\t\tBX.userOptions.save('salescenter', userOptionName, userOptionKeyName, 'Y');\n\t\t}\n\t}\n\tgetOrdersCount()\n\t{\n\t\tif(this.sessionId > 0)\n\t\t{\n\t\t\treturn Rest.callMethod('salescenter.order.getActiveOrdersCount', {\n\t\t\t\tsessionId: this.sessionId\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn new Promise((resolve, reject) => {});\n\t\t}\n\t}\n\n\tgetPaymentsCount()\n\t{\n\t\tif (this.sessionId > 0)\n\t\t{\n\t\t\treturn Rest.callMethod('salescenter.order.getActivePaymentsCount', {\n\t\t\t\tsessionId: this.sessionId\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn new Promise((resolve, reject) => {});\n\t\t}\n\t}\n\n\temitGlobalEvent(eventName, data)\n\t{\n\t\tEventEmitter.emit(eventName, data);\n\t\tBX.SidePanel.Instance.postMessage(this.slider, eventName, data);\n\t}\n}"],"names":["ApplicationModel","pages","getPages","state","setPages","payload","saveState","removePage","page","filter","id","landingId","addPage","push","VuexBuilderModel","OrderCreationModel","currency","processingId","basket","basketVersion","propertyValues","deliveryExtraServicesValues","expectedDelivery","deliveryResponsibleId","personTypeId","deliveryId","delivery","isEnabledSubmit","errors","total","sum","discount","result","resetBasket","commit","setCurrency","setDeliveryId","setDelivery","setPropertyValues","setDeliveryExtraServicesValues","setExpectedDelivery","setDeliveryResponsibleId","setPersonTypeId","getBasket","index","isAllowedSubmit","getTotal","getDelivery","getDeliveryId","getPropertyValues","getDeliveryExtraServicesValues","getExpectedDelivery","getDeliveryResponsibleId","getPersonTypeId","setBasket","setTotal","Object","assign","clearBasket","setErrors","clearErrors","setProcessingId","enableSubmit","disableSubmit","MixinTemplatesType","data","editable","created","$root","$on","value","isFaded","mounted","createPinner","startFade","endFade","methods","buttonsPanel","$refs","$el","parentNode","appendChild","BX","UI","Pinner","fixBottom","$app","isFrame","fullWidth","close","closeApplication","computed","isOrderPublicUrlAvailable","wrapperClass","wrapperStyle","position","pos","offset","top","$nodes","footer","height","mixins","options","templateMode","$emit","productForm","setEditable","formWrapper","querySelector","layout","refreshId","defaultCurrency","currencyCode","$store","dispatch","Type","isArray","fields","forEach","item","isObject","totals","ProductForm","currencySymbol","iblockId","catalogIblockId","basePriceId","taxList","vatList","measures","showDiscountBlock","showProductDiscounts","showTaxBlock","showProductTaxes","totalResultLabel","mode","Loc","getMessage","urlBuilderContext","urlProductBuilderContext","hideUnselectedProperties","isNeedDisableSubmit","EventEmitter","subscribe","Runtime","debounce","onBasketChange","event","processRefreshRequest","preparedBasket","isStringFilled","innerId","selectorId","setData","getData","requestId","Text","getRandom","ajax","runAction","orderId","basketItems","then","prop","getObject","get","catch","getters","length","hasErrors","filledProducts","module","productId","template","connect","loader","Loader","size","show","document","body","Salescenter","Manager","no_redirect","context","loadConfig","hide","isSiteExists","isOrderPublicUrlExists","orderPublicUrl","checkRecycle","openConnectedSite","isOrderPageDeleted","isVisible","openControlPanel","ComponentMixin","isShowPreview","isShowPayment","pageTitle","currentPageId","actions","frameCheckShortTimeout","frameCheckLongTimeout","isPagesOpen","isFormsOpen","showedPageIds","loadedPageIds","errorPageIds","lastAddedPages","ordersCount","paymentsCount","editedPageId","currentPageTitle","components","Product","Start","NoPaymentSystemsBanner","updated","renderErrors","createLoader","fillPages","isWithOrdersMode","refreshOrdersCount","refreshPaymentsCount","openFirstPage","isPaymentsLimitReached","paymentsLimitStartNode","paymentsLimit","paymentsLimitNode","children","node","getActions","currentPage","text","localize","SALESCENTER_RIGHT_ACTION_COPY_URL","onclick","copyUrl","SALESCENTER_RIGHT_ACTION_HIDE","hidePage","SALESCENTER_RIGHT_ACTION_DELETE","SALESCENTER_RIGHT_ACTION_ADD","items","getAddPageActions","isWebform","SALESCENTER_RIGHT_ACTION_ADD_SITE_B24","addSite","SALESCENTER_RIGHT_ACTION_ADD_CUSTOM","showAddUrlPopup","firstWebformPage","pageToOpen","onPageClick","setPageTitle","name","hideActionsPopup","isFrameDenied","includes","startFrameCheckTimeout","onFrameError","showActionsPopup","target","PopupMenu","offsetLeft","offsetTop","closeByEsc","showCompanyContacts","openSlider","urlSettingsCompanyContacts","width","showAddPageActionPopup","menuId","offsetWidth","offsetHeight","angle","destroy","addSitePage","newPage","answer","parseInt","url","editPage","editLandingPage","siteId","hideNoPaymentSystemsBanner","isPlainObject","addCustomPage","pageId","showPaymentForm","SALESCENTER_LEFT_PAYMENT_ADD_2","SALESCENTER_DEFAULT_TITLE","showOrdersList","ownerId","ownerTypeId","showPaymentsList","showOrderAdd","showCatalog","sessionId","onFormsClick","openHelpDesk","openHowItWorks","isPageSelected","send","skipPublicMessage","isAllowedSubmitButton","isShowStartInfo","sendPayment","isActive","sendPage","title","innerText","clearTimeout","onFrameLoad","onSuccessfullyConnected","setTimeout","getFrameSource","Uri","setQueryParam","toString","getOrdersCount","getPaymentsCount","order","errorMessages","map","message","join","params","color","Alert","Color","DANGER","textCenter","util","htmlspecialchars","errorBlock","innerHTML","animated","alert","getContainer","editMenuItem","focus","saveMenuItem","oldName","analyticsLabel","config","application","pagesSubmenuHeight","formsSubmenuHeight","isFrameError","isShowLoader","res","lastModified","modifiedAgo","SALESCENTER_MODIFIED","replace","Vue","getFilteredPhrases","disableSendButton","isNoPaymentSystemsBannerVisible","showPaySystemSettingBanner","Vuex","mapState","orderCreation","props","buttonLabel","type","String","required","buttonEnabled","Boolean","showWhatClientSeesControl","buttonClass","showWhatClientSees","openWhatClientSee","submit","TileCollectionMixins","Label","TileLabel","TileHintImg","TileLabelPlus","TileHintImgCaption","TileHintBackground","TileHintBackgroundCaption","getCollectionTile","tiles","getCollectionTileByFilter","Map","collection","hasOwnProperty","getType","set","hasTileOfferFromCollection","Tile","hasTileMoreFromCollection","getTileOfferFromCollection","inx","tile","getTileMoreFromCollection","getTileByIndex","slider","AppSlider","openAppLocal","getOptionSlider","EventTypes","AppSliderSliderClose","e","isControlTile","showHint","popup","Hint","info","hideHint","Uninstalled","Array","Installed","StageMixin","statusClassMixin","status","Status","current","disabled","containerClassMixin","counterCheckedMixin","complete","onSliderClose","Cashbox","counter","installed","titleItems","initialCollapseState","Block","TileInstalled","TileUnInstalled","statusClass","configForBlock","collapsible","checked","onItemHint","openHowToConfigCashBox","saveCollapsedOption","option","hintTitle","openHowToSell","DeliverySelector","availableServices","onChange","fromPropId","getAddressFromPropId","prevFrom","getPrevFrom","newFrom","getNewFrom","relatedPropsValues","deliveryPrice","deliveryServiceId","relatedServicesValues","estimatedDeliveryPrice","responsibleUser","refreshAvailableServices","propId","deliveryOrderPropOptions","onSettingsChanged","shipmentPropValues","deliveryRelatedServiceValues","sumTitle","productsPrice","deliveryFormatted","isDeliveryCalculated","Currency","currencyFormat","totalFormatted","excludedServiceIds","emptyDeliveryServiceId","actionData","Number","shipment","priceDelivery","basePriceDelivery","deliveryService","logo","parent","extraServices","getFormattedPrice","price","hasParent","deliveryServiceLogo","deliveryServiceProfileLogo","paymentPrice","deliveryServiceName","deliveryServiceProfileName","isExtraServicesVisible","basePriceDeliveryFormatted","priceDeliveryFormatted","productsPriceFormatted","paymentPriceFormatted","DeliveryVuex","isCollapsible","selectedDeliveryServiceName","ShipmentView","shipmentId","titleName","shipmentData","propValues","extraServicesValues","relatedPropsOptions","responsibleId","assignedById","isViewTemplateMode","setTitleName","PaySystem","openHowToConfigDefaultPaySystem","SmsMessage","initSenders","initCurrentSenderCode","initPushedToUseBitrix24Notifications","manager","selectedSmsSender","phone","titleTemplate","editorTemplate","editorUrl","Error","SenderList","UserAvatar","MessageEdit","MessageView","MessageEditor","MessageControl","currentSenderCode","senders","pushedToUseBitrix24Notifications","smsSenderListComponentKey","editor","currentSender","find","sender","code","bitrix24ConnectUrlError","isAvailable","isConnected","toUpperCase","fixer","getFixer","connectUrl","fixText","usageErrors","error","handleErrorFix","userOptions","save","initialize","fixUrl","loadExt","InfoHelper","Promise","resolve","handleOnSmsSenderSelected","Ajax","runComponentAction","values","openBitrix24NotificationsHelp","Automation","stageOnOrderPaid","stageOnDeliveryFinished","paymentStages","shipmentStages","StageList","updatePaymentStage","newStageId","stage","selected","updateShipmentStage","initStages","stages","currentValue","AutomationStage","create","selectedStage","isPayment","TimeLine","timelineItems","Item","PaymentItem","Payment","Send","sendAllowed","sendingMethodDesc","provider","dealResponsible","contactPhone","sent","product","paysystem","paySystemList","isSet","getTileCollection","getTitleItems","isPaySystemCollapsed","cashbox","isHidden","deliveryList","isInstalled","isDeliveryCollapsed","cashboxList","isCashboxCollapsed","isAutomationAvailable","automation","dealStageList","isAutomationCollapsed","timeline","getTimelineCollection","hasStageTimeLine","hasStageAutomation","hasStageCashBox","submitButtonLabel","initCounter","list","TimeLineItem","stageRefresh","response","refreshTilesByType","bind","onSend","changeProvider","beforeUpdate","editableMixin","activeMenuItem","isLoading","StageBlocksList","StageBlocksListShipment","reload","form","initialMode","sendPaymentDeliveryForm","isAllowedPaymentDeliverySubmitButton","resendPayment","sendDeliveryForm","isAllowedDeliverySubmitButton","sendShipment","specifyCompanyContacts","suggestScenario","openFeedbackPayOrderForm","howItWorks","openHowPayDealWorks","openIntegrationWindow","openIntegrationRequestForm","isOnlyDeliveryItemVisible","hasInstallable","isCurrentSenderConnected","isSuggestScenarioMenuItemVisible","isBitrix24","isRequestIntegrationMenuItemVisible","isIntegrationButtonVisible","needShowStoreConnection","sendPaymentDeliveryFormButtonText","paymentDeliveryFormSubmitButtonClass","deliveryFormSubmitButtonClass","paymentDeliveryMenuItemClass","deliveryMenuItemClass","App","dialogId","lineId","orderAddPullTag","landingPublicationPullTag","landingUnPublicationPullTag","isCatalogAvailable","SidePanel","Instance","getTopSlider","isProgress","fillPagesTimeout","fillPagesQueue","sendingMethod","fileControl","isString","isBoolean","isUndefined","isPaymentCreationAvailable","connector","Event","ready","pull","PULL","initPull","initStore","initTemplate","showError","moduleId","command","callback","showOrdersListAfterCreate","store","templateEngine","el","getElementById","Chat","Deal","leftPanel","orderSelector","initOrderSelector","arParams","getLoader","componentKey","orderList","orderSelectorBtn","setAttribute","popupMenu","menuItems","orderCaption","MenuManager","bindElement","classList","remove","addEventListener","preventDefault","init","err","startProgress","Rest","callMethod","stopProgress","buttonEvent","showLoader","isDomNode","add","hideLoader","reject","promise","deleteUrl","error_description","source","connectedSiteId","addAnalyticAction","getParameters","pop","expectedDeliveryPrice","deal","emitGlobalEvent","notify","content","number","events","click","Notification","Center","paymentId","userOptionName","orderCreationOption","userOptionKeyName","paySystemBannerOptionName","eventName","emit","postMessage","builder","VuexBuilder","addModel","useNamespace","build"],"mappings":"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"}