{"version":3,"file":"application.bundle.js","sources":["../src/components/error-box.js","../src/components/button.js","../src/components/reset-panel.js","../src/components/pay-system-result.js","../src/components/pay-system-row.js","../src/components/pay-system-list.js","../src/components/pay-system-info.js","../src/components/check.js","../src/components/payment-info/pay-system-small-card.js","../src/components/payment-info/button.js","../src/components/payment-info.js","../src/components/user-consent.js","../src/application.js"],"sourcesContent":["import {BitrixVue} from 'ui.vue';\n\nexport default {\n\tprops: {\n\t\terrors: Array,\n\t},\n\tcomputed: {\n\t\tflattenErrorsList() {\n\t\t\tconst list = [];\n\t\t\tthis.errors.map((errorType) => {\n\t\t\t\terrorType.map((error) => list.push(error));\n\t\t\t});\n\t\t\treturn list;\n\t\t},\n\t\tloc() {\n\t\t\treturn BitrixVue.getFilteredPhrases('SPP_');\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"alert alert-danger\">\n\t\t\t\t<slot name=\"errors-header\">\n\t\t\t\t\t<div>{{ loc.SPP_INITIATE_PAY_ERROR_TEXT_HEADER }}</div>\n\t\t\t\t</slot>\n\t\t\t\t<div v-for=\"error in flattenErrorsList\">{{ error }}</div>\n\t\t\t\t<slot name=\"errors-footer\">\n\t\t\t\t\t<div>{{ loc.SPP_INITIATE_PAY_ERROR_TEXT_FOOTER }}</div>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<slot></slot>\n\t\t</div>\n\t`,\n};","export default {\n\tprops: {\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tclasses() {\n\t\t\treturn {\n\t\t\t\t'order-payment-method-item-button': true,\n\t\t\t\t'btn': true,\n\t\t\t\t'btn-primary': true,\n\t\t\t\t'rounded-pill': true,\n\t\t\t\t'pay-mode': true,\n\t\t\t\t'order-payment-loader': this.loading,\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\tonClick(event) {\n\t\t\tthis.$emit('click', event);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div :class=\"classes\" @click=\"onClick($event)\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t`,\n};\n","import {BitrixVue} from 'ui.vue';\nimport Button from './button';\n\nexport default {\n\tcomponents: {\n\t\tButton,\n\t},\n\tmethods: {\n\t\treset() {\n\t\t\tthis.$emit('reset');\n\t\t},\n\t},\n\tcomputed: {\n\t\tloc() {\n\t\t\treturn BitrixVue.getFilteredPhrases('SPP_');\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"order-payment-buttons-container\">\n\t\t\t<div class=\"order-basket-section-description py-3\">\n\t\t\t\t{{ loc.SPP_EMPTY_TEMPLATE_FOOTER }}\n\t\t\t</div>\n\t\t\t<Button @click=\"reset()\">\n\t\t\t\t{{ loc.SPP_PAY_RELOAD_BUTTON_NEW }}\n\t\t\t</Button>\n\t\t</div>\t\n\t`,\n};\n","import {BitrixVue} from 'ui.vue';\n\nexport default {\n\tprops: {\n\t\thtml: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t\tfields: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tloc() {\n\t\t\treturn BitrixVue.getFilteredPhrases('SPP_');\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tif (this.html)\n\t\t{\n\t\t\tBX.html(this.$refs.paySystemResultTemplate, this.html);\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<template v-if=\"html\">\n\t\t\t\t<div ref=\"paySystemResultTemplate\"></div>\n\t\t\t\t<slot></slot>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<div class=\"checkout-basket-section\">\n\t\t\t\t\t<div class=\"page-section-title\">{{ loc.SPP_EMPTY_TEMPLATE_TITLE }}</div>\n\t\t\t\t\t<div class=\"checkout-basket-personal-order-info\" v-if=\"fields\">\n\t\t\t\t\t\t<div class=\"checkout-basket-personal-order-info-item\" v-if=\"fields.SUM_WITH_CURRENCY\">\n\t\t\t\t\t\t\t<span>{{ loc.SPP_EMPTY_TEMPLATE_SUM_WITH_CURRENCY_FIELD }}</span> <strong v-html=\"fields.SUM_WITH_CURRENCY\"></strong>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"checkout-basket-personal-order-info-item\" v-if=\"fields.PAY_SYSTEM_NAME\">\n\t\t\t\t\t\t\t<span>{{ loc.SPP_EMPTY_TEMPLATE_PAY_SYSTEM_NAME_FIELD }}</span> <strong>{{ fields.PAY_SYSTEM_NAME }}</strong>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`,\n};\n","import {BitrixVue} from 'ui.vue';\nimport Button from './button';\n\nexport default {\n\tprops: {\n\t\tloading: Boolean,\n\t\tname: String,\n\t\tlogo: String,\n\t\tid: Number,\n\t},\n\tcomponents: {\n\t\tButton,\n\t},\n\tmethods: {\n\t\tonClick() {\n\t\t\tthis.$emit('click', this.id);\n\t\t},\n\t},\n\tcomputed: {\n\t\tlogoStyle() {\n\t\t\tconst defaultLogo = '/bitrix/js/salescenter/payment-pay/payment-method/images/default_logo.png';\n\t\t\tconst src = this.logo || defaultLogo;\n\n\t\t\treturn `background-image: url(\"${BX.util.htmlspecialchars(src)}\")`;\n\t\t},\n\t\tloc() {\n\t\t\treturn BitrixVue.getFilteredPhrases('SPP_');\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"order-pay-method-item-container pay-mode\" @click=\"onClick()\">\n\t\t\t<div class=\"order-pay-method-item-logo-block\">\n\t\t\t\t<div class=\"order-pay-method-logo\" :style=\"logoStyle\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"order-pay-method-text-block\">\n\t\t\t\t<div class=\"order-pay-method-text\">{{ name }}</div>\n\t\t\t</div>\n\t\t\t<Button :loading=\"loading\">{{ loc.SPP_PAY_BUTTON }}</Button>\n\t\t</div>\n\t`,\n};\n","import PaySystemRow from './pay-system-row';\n\nexport default {\n\tprops: {\n\t\tpaySystems: {\n\t\t\ttype: Array,\n\t\t\tdefault: [],\n\t\t\trequired: false,\n\t\t},\n\t\tselectedPaySystem: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tcomponents: {\n\t\tPaySystemRow,\n\t},\n\tmethods: {\n\t\tisItemLoading(paySystemId) {\n\t\t\treturn (this.selectedPaySystem === paySystemId) && this.loading;\n\t\t},\n\t\tstartPayment(paySystemId) {\n\t\t\tthis.$emit('start-payment', paySystemId);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"page-section-title\" v-if=\"title\">{{ title }}</div>\n\t\t\t<div class=\"order-payment-method-list\">\n\t\t\t\t<slot>\n\t\t\t\t\t<PaySystemRow \n\t\t\t\t\t\tv-for=\"paySystem in paySystems\"\n\t\t\t\t\t\t:loading=\"isItemLoading(paySystem.ID)\"\n\t\t\t\t\t\t:name=\"paySystem.NAME\"\n\t\t\t\t\t\t:logo=\"paySystem.LOGOTIP\"\n\t\t\t\t\t\t:id=\"paySystem.ID\"\n\t\t\t\t\t\t@click=\"startPayment($event)\"\n\t\t\t\t\t/>\n\t\t\t\t</slot>\n\t\t\t</div>\n            <slot name=\"user-consent\"></slot>\n\t\t</div>\n\t`,\n};","import {BitrixVue} from 'ui.vue';\n\nexport default {\n\tprops: {\n\t\tpaySystems: {\n\t\t\ttype: Array,\n\t\t\tdefault: [],\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselectedPaySystem: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\tloc() {\n\t\t\treturn BitrixVue.getFilteredPhrases('SPP_');\n\t\t},\n\t\tselectedName() {\n\t\t\treturn this.selectedPaySystem ? this.selectedPaySystem.NAME : '';\n\t\t},\n\t\tselectedDescription() {\n\t\t\treturn this.selectedPaySystem ? BX.util.htmlspecialchars(this.selectedPaySystem.DESCRIPTION) : '';\n\t\t}\n\t},\n\tmethods: {\n\t\tshowInfo(paySystem) {\n\t\t\tthis.selectedPaySystem = paySystem;\n\t\t},\n\t\tlogoStyle(paySystem) {\n\t\t\tconst defaultLogo = '/bitrix/js/salescenter/payment-pay/payment-method/images/default_logo.png';\n\t\t\tconst src = paySystem.LOGOTIP || defaultLogo;\n\n\t\t\treturn `background-image: url(\"${BX.util.htmlspecialchars(src)}\")`;\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"order-payment-method-list\">\n\t\t\t\t<slot>\n\t\t\t\t\t<div class=\"order-pay-method-item-container info-mode\" v-for=\"paySystem in paySystems\">\n\t\t\t\t\t\t<div class=\"order-pay-method-item-logo-block\">\n\t\t\t\t\t\t\t<div class=\"order-pay-method-logo\" :style=\"logoStyle(paySystem)\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"order-pay-method-text-block\">\n\t\t\t\t\t\t\t<div class=\"order-pay-method-text\">{{ paySystem.NAME }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"btn info-mode\" @click=\"showInfo(paySystem)\">{{ loc.SPP_INFO_BUTTON }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<div class=\"order-payment-method-description\" v-if=\"selectedPaySystem\">\n\t\t\t\t<div class=\"order-payment-method-description-title\">{{ selectedName }}</div>\n\t\t\t\t<div class=\"order-payment-method-description-text\" v-html=\"selectedDescription\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};","export default {\n\tprops: {\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\tlink: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tprocessing() {\n\t\t\treturn this.status === 'P';\n\t\t},\n\t\tdownloadable() {\n\t\t\treturn this.status === 'Y' && this.link !== '';\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"mb-2\" :class=\"{'check-print': processing}\">\n\t\t\t<a :href=\"link\" target=\"_blank\" class=\"check-link\" v-if=\"downloadable\">{{ title }}</a>\n\t\t\t<span v-else>{{ title }}</span>\n\t\t</div>\n\t`,\n};","export default {\n\tprops: {\n\t\tlogo: String,\n\t\tname: String,\n\t},\n\ttemplate: `\n\t\t<div class=\"order-payment-operator\">\n\t\t\t<img :src=\"logo\" :alt=\"name\" v-if=\"logo\">\n\t\t\t<div class=\"order-payment-pay-system-name\" v-else>{{ name }}</div>\n\t\t</div>\n\t`,\n};","export default {\n\tprops: {\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tclasses() {\n\t\t\tconst classes = [\n\t\t\t\t'landing-block-node-button',\n\t\t\t\t'text-uppercase',\n\t\t\t\t'btn',\n\t\t\t\t'btn-xl',\n\t\t\t\t'pr-7',\n\t\t\t\t'pl-7',\n\t\t\t\t'u-btn-primary',\n\t\t\t\t'g-font-weight-700',\n\t\t\t\t'g-font-size-12',\n\t\t\t\t'g-rounded-50',\n\t\t\t];\n\n\t\t\tif (this.loading) {\n\t\t\t\tclasses.push('loading');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t},\n\tmethods: {\n\t\tonClick(event) {\n\t\t\tthis.$emit('click', event);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<button :class=\"classes\" @click=\"onClick($event)\">\n\t\t\t<slot></slot>\n\t\t</button>\n\t`,\n};\n","import {BitrixVue} from 'ui.vue';\nimport Check from './check';\nimport PaySystemCard from './payment-info/pay-system-small-card';\nimport Button from './payment-info/button';\n\nexport default {\n\tprops: {\n\t\tpaySystem: Object,\n\t\ttitle: String,\n\t\tsum: String,\n\t\tloading: Boolean,\n\t\tpaid: Boolean,\n\t\tchecks: Array,\n\t},\n\tcomponents: {\n\t\tCheck,\n\t\tPaySystemCard,\n\t\tButton,\n\t},\n\tmethods: {\n\t\tonClick() {\n\t\t\tthis.$emit('start-payment', this.paySystem.ID);\n\t\t},\n\t},\n\tcomputed: {\n\t\tloc() {\n\t\t\treturn BitrixVue.getFilteredPhrases('SPP_');\n\t\t},\n\t\ttotalSum() {\n\t\t\treturn this.loc.SPP_SUM.replace('#SUM#', this.sum);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"order-payment-title\" v-if=\"title\">{{ title }}</div>\n\t\t\t<div class=\"order-payment-inner d-flex align-items-center justify-content-between\">\n\t\t\t\t<PaySystemCard :name=\"paySystem.NAME\" :logo=\"paySystem.LOGOTIP\"/>\n            \t<div class=\"order-payment-status d-flex align-items-center\" v-if=\"paid\">\n                \t<div class=\"order-payment-status-ok\"></div>\n                \t<div>{{ loc.SPP_PAID }}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"order-payment-price\" v-html=\"totalSum\"></div>\n\t\t\t</div>\n\t\t\t<hr v-if=\"checks.length > 0\">\n\t\t\t<Check \n\t\t\t\tv-for=\"check in checks\" \n\t\t\t\t:title=\"check.title\" \n\t\t\t\t:link=\"check.link\" \n\t\t\t\t:status=\"check.status\"/>\n\t\t\t<hr v-if=\"!paid\">\n            <slot name=\"user-consent\" v-if=\"!paid\"></slot>\n\t\t\t<div class=\"order-payment-buttons-container\" v-if=\"!paid\">\n\t\t\t\t<Button\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\t@click=\"onClick()\">\n\t\t\t\t\t{{ loc.SPP_PAY_BUTTON }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};","import {ajax, Tag, Type} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {EventType} from 'sale.payment-pay.const';\n\nexport default {\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsubmitEventName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tchecked: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmethods: {\n\t\tloadBlockHtml() {\n\t\t\tlet data = {\n\t\t\t\tfields: {\n\t\t\t\t\tid: this.id,\n\t\t\t\t\ttitle: this.title,\n\t\t\t\t\tisChecked: this.checked ? 'Y' : 'N',\n\t\t\t\t\tsubmitEventName: this.submitEventName,\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tajax.runComponentAction('bitrix:salescenter.payment.pay', 'userConsentRequest', {\n\t\t\t\tmode: 'ajax',\n\t\t\t\tdata: data,\n\t\t\t}).then((response) => {\n\n\t\t\t\tif (!Type.isPlainObject(response.data) || !Type.isStringFilled(response.data.html) || !BX.UserConsent)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet html, wrapper, control;\n\n\t\t\t\thtml = response.data.html;\n\t\t\t\twrapper = this.$refs.consentDiv;\n\t\t\t\twrapper.appendChild(Tag.render`<div>${html}</div>`);\n\t\t\t\tcontrol = BX.UserConsent.load(wrapper);\n\n\t\t\t\tEventEmitter.subscribe(control, BX.UserConsent.events.accepted, (event) => {\n\t\t\t\t\tEventEmitter.emit(EventType.consent.accepted);\n\t\t\t\t});\n\t\t\t\tEventEmitter.subscribe(control, BX.UserConsent.events.refused, (event) => {\n\t\t\t\t\tEventEmitter.emit(EventType.consent.refused);\n\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.loadBlockHtml();\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n        \t<div ref=\"consentDiv\"/>\n\t\t</div>\n\t`,\n};","import {BitrixVue} from 'ui.vue';\nimport {EventEmitter} from 'main.core.events';\nimport {PaymentProcess, VirtualForm} from 'sale.payment-pay.lib';\nimport {EventType} from 'sale.payment-pay.const';\nimport {UserConsent as UserConsentManager} from 'salescenter.payment-pay.user-consent';\nimport {OptionMixin} from 'salescenter.payment-pay.mixins';\nimport {BackendProvider} from 'salescenter.payment-pay.backend-provider';\nimport ErrorBox from './components/error-box';\nimport ResetPanel from './components/reset-panel';\nimport PaySystemResult from './components/pay-system-result';\nimport PaySystemList from './components/pay-system-list';\nimport PaySystemInfo from './components/pay-system-info';\nimport PaymentInfo from './components/payment-info';\nimport UserConsentComponent from './components/user-consent';\n\nBitrixVue.component('salescenter-payment-pay-app', {\n\tprops: {\n\t\toptions: Object,\n\t},\n\tmixins: [OptionMixin],\n\tcomponents: {\n\t\tErrorBox,\n\t\tResetPanel,\n\t\tPaySystemResult,\n\t\tPaySystemList,\n\t\tPaySystemInfo,\n\t\tPaymentInfo,\n\t\tUserConsentComponent,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstages: this.getStageDefaults(),\n\t\t\tstage: this.getDefaultStage(),\n\t\t\tloading: false,\n\t\t\tconsent: {\n\t\t\t\tid: this.option('consent.id'),\n\t\t\t\ttitle: this.option('consent.title'),\n\t\t\t\teventName: this.option('consent.eventName'),\n\t\t\t\taccepted: this.option('consent.accepted'),\n\t\t\t},\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.initPaymentProcess();\n\t\tthis.initUserConsent();\n\t\tthis.subscribeToGlobalEvents();\n\t},\n\tmethods: {\n\t\tinitPaymentProcess() {\n\t\t\tthis.backendProvider = new BackendProvider({\n\t\t\t\treturnUrl: this.option('paymentProcess.returnUrl'),\n\t\t\t\torderId: this.option('paymentProcess.orderId'),\n\t\t\t\tpaymentId: this.option('paymentProcess.paymentId'),\n\t\t\t\taccessCode: this.option('paymentProcess.accessCode'),\n\t\t\t});\n\n\t\t\tthis.paymentProcess = new PaymentProcess({\n\t\t\t\tbackendProvider: this.backendProvider,\n\t\t\t\tallowPaymentRedirect: this.option('paymentProcess.allowPaymentRedirect'),\n\t\t\t});\n\t\t},\n\t\tinitUserConsent() {\n\t\t\tthis.userConsentManager = new UserConsentManager({\n\t\t\t\tcontainerId: this.option('consent.containerId'),\n\t\t\t\taccepted: this.option('consent.accepted', false),\n\t\t\t\teventName: this.option('consent.eventName', false),\n\t\t\t});\n\t\t},\n\t\tsubscribeToGlobalEvents() {\n\t\t\tEventEmitter.subscribe(EventType.payment.error, (e) => { this.handlePaymentError(e.getData()) });\n\t\t\tEventEmitter.subscribe(EventType.payment.success, (e) => { this.handlePaymentSuccess(e.getData()) });\n\t\t\tEventEmitter.subscribe(EventType.global.paySystemAjaxError, (e) => { this.handlePaySystemAjaxError(e.getData()) });\n\t\t\tEventEmitter.subscribe(EventType.global.paySystemUpdateTemplate, (e) => { this.handlePaySystemUpdateTemplate(e.getData()) });\n\t\t},\n\t\tstartPayment(paySystemId) {\n\t\t\tif (this.loading) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.userConsentManager.askUserToPerform(() => {\n\t\t\t\tthis.loading = true;\n\t\t\t\tthis.stages.paySystemList.selectedPaySystem = paySystemId;\n\t\t\t\tthis.backendProvider.paySystemId = paySystemId;\n\t\t\t\tthis.paymentProcess.start();\n\t\t\t});\n\t\t},\n\t\thandlePaymentError(response) {\n\t\t\tthis.stages.paySystemErrors.errors = response.data.errors || [];\n\t\t\tthis.stage = 'paySystemErrors';\n\t\t},\n\t\thandlePaymentSuccess(response) {\n\t\t\tthis.stages.paySystemResult.html = response.data.html || null;\n\t\t\tthis.stages.paySystemResult.fields = response.data.fields || null;\n\t\t\tthis.stage = 'paySystemResult';\n\t\t},\n\t\thandlePaySystemAjaxError(data) {\n\t\t\tthis.stages.paySystemErrors.errors = data || [];\n\t\t\tthis.stage = 'paySystemErrors';\n\t\t},\n\t\thandlePaySystemUpdateTemplate(data) {\n\t\t\tVirtualForm.createFromNode(this.$el).submit();\n\t\t},\n\t\tresetView() {\n\t\t\tthis.stages = this.getStageDefaults();\n\t\t\tthis.stage = this.getDefaultStage();\n\t\t\tthis.loading = false;\n\t\t},\n\t\tgetStageDefaults() {\n\t\t\treturn {\n\t\t\t\tpaySystemList: {\n\t\t\t\t\tpaySystems: this.option('app.paySystems', []),\n\t\t\t\t\tselectedPaySystem: null,\n\t\t\t\t\ttitle: this.option('app.title'),\n\t\t\t\t},\n\t\t\t\tpaySystemInfo: {\n\t\t\t\t\tpaySystems: this.option('app.paySystems', []),\n\t\t\t\t},\n\t\t\t\tpaymentInfo: {\n\t\t\t\t\tpaySystem: this.option('app.paySystems', [])[0],\n\t\t\t\t\ttitle: this.option('app.title'),\n\t\t\t\t\tsum: this.option('payment.sumFormatted'),\n\t\t\t\t\tpaid: this.option('payment.paid'),\n\t\t\t\t\tchecks: this.option('payment.checks', []),\n\t\t\t\t},\n\t\t\t\tpaySystemErrors: {\n\t\t\t\t\terrors: [],\n\t\t\t\t},\n\t\t\t\tpaySystemResult: {\n\t\t\t\t\thtml: null,\n\t\t\t\t\tfields: null,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tgetDefaultStage() {\n\t\t\treturn this.option('app.template', 'paySystemList');\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"salescenter-payment-pay-app\">\n\t\t\t<PaySystemList \n\t\t\t\tv-if=\"stage === 'paySystemList'\"\n\t\t\t\t:paySystems=\"stages.paySystemList.paySystems\"\n\t\t\t\t:selectedPaySystem=\"stages.paySystemList.selectedPaySystem\"\n\t\t\t\t:loading=\"loading\"\n\t\t\t\t:title=\"stages.paySystemList.title\"\n\t\t\t\t@start-payment=\"startPayment($event)\">\n\t\t\t\t<template v-slot:user-consent>\n\t\t\t\t\t<UserConsentComponent \n\t\t\t\t\t\t:id=\"consent.id\"\n\t\t\t\t\t\t:title=\"consent.title\"\n\t\t\t\t\t\t:checked=\"consent.accepted\"\n\t\t\t\t\t\t:submitEventName=\"consent.eventName\"/>\n                </template>\n\t\t\t</PaySystemList>\n\t\t\t<PaySystemInfo\n\t\t\t\tv-if=\"stage === 'paySystemInfo'\"\n\t\t\t\t:paySystems=\"stages.paySystemInfo.paySystems\">\n\t\t\t</PaySystemInfo>\n\t\t\t<PaymentInfo \n\t\t\t\tv-if=\"stage === 'paymentInfo'\"\n\t\t\t\t:paySystem=\"stages.paymentInfo.paySystem\"\n                :title=\"stages.paymentInfo.title\"\n\t\t\t\t:sum=\"stages.paymentInfo.sum\"\n\t\t\t\t:paid=\"stages.paymentInfo.paid\"\n\t\t\t\t:loading=\"loading\"\n\t\t\t\t:checks=\"stages.paymentInfo.checks\"\n                @start-payment=\"startPayment($event)\">\n              \t<template v-slot:user-consent>\n                \t<UserConsentComponent\n                    \t:id=\"consent.id\"\n                    \t:title=\"consent.title\"\n                    \t:checked=\"consent.accepted\"\n                    \t:submitEventName=\"consent.eventName\"/>\n              \t</template>\n\t\t\t</PaymentInfo>\n\t\t\t<ErrorBox\n\t\t\t\tv-if=\"stage === 'paySystemErrors'\" \n\t\t\t\t:errors=\"stages.paySystemErrors.errors\">\n\t\t\t\t<ResetPanel @reset=\"resetView()\"/>\n\t\t\t</ErrorBox>\n\t\t\t<PaySystemResult\n\t\t\t\tv-if=\"stage === 'paySystemResult'\" \n\t\t\t\t:html=\"stages.paySystemResult.html\" \n\t\t\t\t:fields=\"stages.paySystemResult.fields\">\n\t\t\t\t<ResetPanel @reset=\"resetView()\"/>\n\t\t\t</PaySystemResult>\n\t\t</div>\n\t`,\n});"],"names":["props","errors","Array","computed","flattenErrorsList","list","map","errorType","error","push","loc","BitrixVue","getFilteredPhrases","template","loading","type","Boolean","required","classes","methods","onClick","event","$emit","components","Button","reset","html","String","fields","Object","mounted","BX","$refs","paySystemResultTemplate","name","logo","id","Number","logoStyle","defaultLogo","src","util","htmlspecialchars","paySystems","selectedPaySystem","title","PaySystemRow","isItemLoading","paySystemId","startPayment","data","selectedName","NAME","selectedDescription","DESCRIPTION","showInfo","paySystem","LOGOTIP","status","link","processing","downloadable","sum","paid","checks","Check","PaySystemCard","ID","totalSum","SPP_SUM","replace","submitEventName","checked","loadBlockHtml","isChecked","ajax","runComponentAction","mode","then","response","Type","isPlainObject","isStringFilled","UserConsent","wrapper","control","consentDiv","appendChild","Tag","render","load","EventEmitter","subscribe","events","accepted","emit","EventType","consent","refused","component","options","mixins","OptionMixin","ErrorBox","ResetPanel","PaySystemResult","PaySystemList","PaySystemInfo","PaymentInfo","UserConsentComponent","stages","getStageDefaults","stage","getDefaultStage","option","eventName","created","initPaymentProcess","initUserConsent","subscribeToGlobalEvents","backendProvider","BackendProvider","returnUrl","orderId","paymentId","accessCode","paymentProcess","PaymentProcess","allowPaymentRedirect","userConsentManager","UserConsentManager","containerId","payment","e","handlePaymentError","getData","success","handlePaymentSuccess","global","paySystemAjaxError","handlePaySystemAjaxError","paySystemUpdateTemplate","handlePaySystemUpdateTemplate","askUserToPerform","paySystemList","start","paySystemErrors","paySystemResult","VirtualForm","createFromNode","$el","submit","resetView","paySystemInfo","paymentInfo"],"mappings":"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"}