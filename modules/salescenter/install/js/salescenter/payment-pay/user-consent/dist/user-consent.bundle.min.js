this.BX=this.BX||{};this.BX.Salescenter=this.BX.Salescenter||{};(function(e,t,n){"use strict";var s=function(){function e(t){babelHelpers.classCallCheck(this,e);this.options=t||{};this.accepted=this.option("accepted",false);this.container=document.getElementById(this.option("containerId"),"");this.eventName=this.option("eventName",false);this.callback=null;this.subscribeToEvents()}babelHelpers.createClass(e,[{key:"subscribeToEvents",value:function e(){var s=this;t.EventEmitter.subscribe(n.EventType.consent.accepted,function(e){s.accepted=true;if(s.callback){s.callback()}});t.EventEmitter.subscribe(n.EventType.consent.refused,function(e){s.accepted=false;s.callback=null})}},{key:"isAvailable",value:function e(){return BX.UserConsent&&this.eventName}},{key:"askUserToPerform",value:function e(n){if(!this.isAvailable()||this.accepted){n();return}this.callback=n;t.EventEmitter.emit(this.eventName);if(this.checkCurrentConsent()){n()}}},{key:"checkCurrentConsent",value:function e(){if(!BX.UserConsent||!BX.UserConsent.current){return false}return BX.UserConsent.check(BX.UserConsent.current)}},{key:"option",value:function e(t,n){return this.options.hasOwnProperty(t)?this.options[t]:n}}]);return e}();e.UserConsent=s})(this.BX.Salescenter.PaymentPay=this.BX.Salescenter.PaymentPay||{},BX.Event,BX.Sale.PaymentPay.Const);
//# sourceMappingURL=user-consent.bundle.map.js