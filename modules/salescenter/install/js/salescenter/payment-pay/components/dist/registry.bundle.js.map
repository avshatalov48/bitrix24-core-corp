{"version":3,"file":"registry.bundle.js","sources":["../src/application/pay-system.js","../src/application/pay-system-info.js","../src/application/payment.js","../src/payment-system/payment-info/button.js","../src/payment-system/payment-info/pay-system-small-card.js","../src/payment-system/button.js","../src/payment-system/check.js","../src/payment-system/error-box.js","../src/payment-system/pay-system-list.js","../src/payment-system/pay-system-result.js","../src/payment-system/pay-system-row.js","../src/payment-system/payment-info.js","../src/payment-system/reset-panel.js","../src/payment-system/user-consent.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\nimport { Settings } from 'sale.payment-pay.lib';\nimport { StageType } from 'sale.payment-pay.const';\nimport { MixinMethods } from 'sale.payment-pay.mixins.application';\nimport { UserConsent as UserConsentManager } from 'salescenter.payment-pay.user-consent';\nimport { BackendProvider } from 'salescenter.payment-pay.backend-provider';\n\nBitrixVue.component('salescenter-payment_pay-components-application-pay_system', {\n\tprops: {\n\t\toptions: Object,\n\t},\n\tmixins: [MixinMethods],\n\tdata()\n\t{\n\t\tlet settings = new Settings(this.options);\n\n\t\treturn {\n\t\t\tstageType: StageType,\n\t\t\tstages: this.prepareParamsStages(),\n\t\t\tstage: this.setStageType(),\n\t\t\tloading: false,\n\t\t\tpaymentProcess: this.prepareParamsPaymentProcess(settings),\n\t\t\tconsent: this.prepareUserConsentSettings(settings),\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.initPayment();\n\t\tthis.initUserConsent();\n\t\tthis.subscribeToGlobalEvents();\n\t},\n\tmethods: {\n\t\tinitUserConsent()\n\t\t{\n\t\t\tthis.userConsentManager = new UserConsentManager({\n\t\t\t\tcontainerId: this.consent.containerId,\n\t\t\t\taccepted: this.consent.accepted,\n\t\t\t\teventName: this.consent.eventName\n\t\t\t});\n\t\t},\n\t\tinitBackendProvider()\n\t\t{\n\t\t\tthis.backendProvider = new BackendProvider({\n\t\t\t\treturnUrl: this.paymentProcess.returnUrl,\n\t\t\t\torderId: this.paymentProcess.orderId,\n\t\t\t\tpaymentId: this.paymentProcess.paymentId,\n\t\t\t\taccessCode: this.paymentProcess.accessCode,\n\t\t\t});\n\t\t},\n\t\tstartPayment(paySystemId)\n\t\t{\n\t\t\tif (this.loading)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.userConsentManager.askUserToPerform(() => {\n\t\t\t\tthis.loading = true;\n\t\t\t\tthis.stages.paySystemList.selectedPaySystem = paySystemId;\n\t\t\t\tthis.backendProvider.paySystemId = paySystemId;\n\t\t\t\tthis.paymentProcess.start();\n\t\t\t});\n\t\t},\n\t\tprepareParamsStages()\n\t\t{\n\t\t\tlet settings = new Settings(this.options);\n\t\t\treturn {\n\t\t\t\tpaySystemList: {\n\t\t\t\t\tpaySystems: settings.get('app.paySystems', []),\n\t\t\t\t\tselectedPaySystem: null,\n\t\t\t\t\ttitle: settings.get('app.title'),\n\t\t\t\t},\n\t\t\t\tpaySystemErrors: {\n\t\t\t\t\terrors: [],\n\t\t\t\t},\n\t\t\t\tpaySystemResult: {\n\t\t\t\t\thtml: null,\n\t\t\t\t\tfields: null,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tsetStageType()\n\t\t{\n\t\t\treturn StageType.list;\n\t\t},\n\t\tprepareUserConsentSettings(settings)\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: settings.get('consent.id'),\n\t\t\t\ttitle: settings.get('consent.title'),\n\t\t\t\teventName: settings.get('consent.eventName'),\n\t\t\t\taccepted: settings.get('consent.accepted'),\n\t\t\t\tcontainerId: settings.get('consent.containerId'),\n\t\t\t};\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"salescenter-payment-pay-app\">\n\t\t\t<salescenter-payment_pay-components-payment_system-pay_system_list\n\t\t\t\tv-if=\"stage === stageType.list\"\n\t\t\t\t:paySystems=\"stages.paySystemList.paySystems\"\n\t\t\t\t:selectedPaySystem=\"stages.paySystemList.selectedPaySystem\"\n\t\t\t\t:loading=\"loading\"\n                :title=\"stages.paySystemList.title\"\n\t\t\t\t@start-payment=\"startPayment($event)\">\n\t\t\t\t<template v-slot:user-consent>\n\t\t\t\t\t<salescenter-payment_pay-components-payment_system-user_consent\n\t\t\t\t\t\t:id=\"consent.id\"\n\t\t\t\t\t\t:title=\"consent.title\"\n\t\t\t\t\t\t:checked=\"consent.accepted\"\n\t\t\t\t\t\t:submitEventName=\"consent.eventName\"/>\n\t\t\t\t</template>\n\t\t\t</salescenter-payment_pay-components-payment_system-pay_system_list>\n\t\t\t<salescenter-payment_pay-components-payment_system-error_box\n\t\t\t\tv-if=\"stage === stageType.errors\"\n\t\t\t\t:errors=\"stages.paySystemErrors.errors\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-reset_panel @reset=\"resetView()\"/>\n\t\t\t</salescenter-payment_pay-components-payment_system-error_box>\n\t\t\t<salescenter-payment_pay-components-payment_system-pay_system_result\n\t\t\t\tv-if=\"stage === stageType.result\"\n\t\t\t\t:html=\"stages.paySystemResult.html\"\n\t\t\t\t:fields=\"stages.paySystemResult.fields\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-reset_panel @reset=\"resetView()\"/>\n\t\t\t</salescenter-payment_pay-components-payment_system-pay_system_result>\n\t\t</div>\n\t`,\n});","import {BitrixVue} from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-application-pay_system_info', {\n\tprops: {\n\t\tpaySystems: {\n\t\t\ttype: Array,\n\t\t\tdefault: [],\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tselectedPaySystem: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t\tselectedName()\n\t\t{\n\t\t\treturn this.selectedPaySystem ? this.selectedPaySystem.NAME : '';\n\t\t},\n\t\tselectedDescription()\n\t\t{\n\t\t\treturn this.selectedPaySystem ? BX.util.htmlspecialchars(this.selectedPaySystem.DESCRIPTION) : '';\n\t\t}\n\t},\n\tmethods: {\n\t\tshowInfo(paySystem)\n\t\t{\n\t\t\tthis.selectedPaySystem = paySystem;\n\t\t},\n\t\tlogoStyle(paySystem)\n\t\t{\n\t\t\tconst defaultLogo = '/bitrix/js/salescenter/payment-pay/payment-method/images/default_logo.png';\n\t\t\tconst src = paySystem.LOGOTIP || defaultLogo;\n\n\t\t\treturn `background-image: url(\"${BX.util.htmlspecialchars(src)}\")`;\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"order-payment-method-list\">\n\t\t\t\t<slot>\n\t\t\t\t\t<div class=\"order-pay-method-item-container info-mode\" v-for=\"paySystem in paySystems\">\n\t\t\t\t\t\t<div class=\"order-pay-method-item-logo-block\">\n\t\t\t\t\t\t\t<div class=\"order-pay-method-logo\" :style=\"logoStyle(paySystem)\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"order-pay-method-text-block\">\n\t\t\t\t\t\t\t<div class=\"order-pay-method-text\">{{ paySystem.NAME }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"btn info-mode\" @click=\"showInfo(paySystem)\">{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_10 }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<div class=\"order-payment-method-description\" v-if=\"selectedPaySystem\">\n\t\t\t\t<div class=\"order-payment-method-description-title\">{{ selectedName }}</div>\n\t\t\t\t<div class=\"order-payment-method-description-text\" v-html=\"selectedDescription\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\nimport { Settings } from 'sale.payment-pay.lib';\nimport { StageType } from 'sale.payment-pay.const';\nimport { MixinMethods } from 'sale.payment-pay.mixins.application';\nimport { UserConsent as UserConsentManager } from 'salescenter.payment-pay.user-consent';\nimport { BackendProvider } from 'salescenter.payment-pay.backend-provider';\n\nBitrixVue.component('salescenter-payment_pay-components-application-payment', {\n\tprops: {\n\t\toptions: Object,\n\t},\n\tmixins: [MixinMethods],\n\tdata()\n\t{\n\t\tlet settings = new Settings(this.options);\n\n\t\treturn {\n\t\t\tstageType: StageType,\n\t\t\tstages: this.prepareParamsStages(),\n\t\t\tstage: this.setStageType(),\n\t\t\tloading: false,\n\t\t\tpaymentProcess: this.prepareParamsPaymentProcess(settings),\n\t\t\tconsent: this.prepareUserConsentSettings(settings),\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.initPayment();\n\t\tthis.initUserConsent();\n\t\tthis.subscribeToGlobalEvents();\n\t},\n\tmethods: {\n\t\tinitUserConsent()\n\t\t{\n\t\t\tthis.userConsentManager = new UserConsentManager({\n\t\t\t\tcontainerId: this.consent.containerId,\n\t\t\t\taccepted: this.consent.accepted,\n\t\t\t\teventName: this.consent.eventName\n\t\t\t});\n\t\t},\n\t\tinitBackendProvider()\n\t\t{\n\t\t\tthis.backendProvider = new BackendProvider({\n\t\t\t\treturnUrl: this.paymentProcess.returnUrl,\n\t\t\t\torderId: this.paymentProcess.orderId,\n\t\t\t\tpaymentId: this.paymentProcess.paymentId,\n\t\t\t\taccessCode: this.paymentProcess.accessCode,\n\t\t\t});\n\t\t},\n\t\tstartPayment(paySystemId)\n\t\t{\n\t\t\tif (this.loading)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.userConsentManager.askUserToPerform(() => {\n\t\t\t\tthis.loading = true;\n\t\t\t\tthis.backendProvider.paySystemId = paySystemId;\n\t\t\t\tthis.paymentProcess.start();\n\t\t\t});\n\t\t},\n\t\tprepareParamsStages()\n\t\t{\n\t\t\tlet settings = new Settings(this.options);\n\n\t\t\treturn {\n\t\t\t\tpaymentInfo: {\n\t\t\t\t\tpaySystem: settings.get('app.paySystems', [])[0],\n\t\t\t\t\ttitle: settings.get('app.title'),\n\t\t\t\t\tsum: settings.get('payment.sumFormatted'),\n\t\t\t\t\tpaid: settings.get('payment.paid'),\n\t\t\t\t\tchecks: settings.get('payment.checks', []),\n\t\t\t\t},\n\t\t\t\tpaySystemErrors: {\n\t\t\t\t\terrors: [],\n\t\t\t\t},\n\t\t\t\tpaySystemResult: {\n\t\t\t\t\thtml: null,\n\t\t\t\t\tfields: null,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tsetStageType()\n\t\t{\n\t\t\treturn StageType.paymentInfo;\n\t\t},\n\t\tprepareUserConsentSettings(settings)\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: settings.get('consent.id'),\n\t\t\t\ttitle: settings.get('consent.title'),\n\t\t\t\teventName: settings.get('consent.eventName'),\n\t\t\t\taccepted: settings.get('consent.accepted'),\n\t\t\t\tcontainerId: settings.get('consent.containerId'),\n\t\t\t};\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"salescenter-payment-pay-app\">\n\t\t\t<salescenter-payment_pay-components-payment_system-payment_info\n                v-if=\"stage === stageType.paymentInfo\"\n\t\t\t\t:paySystem=\"stages.paymentInfo.paySystem\"\n                :title=\"stages.paymentInfo.title\"\n\t\t\t\t:sum=\"stages.paymentInfo.sum\"\n\t\t\t\t:paid=\"stages.paymentInfo.paid\"\n\t\t\t\t:loading=\"loading\"\n\t\t\t\t:checks=\"stages.paymentInfo.checks\"\n                @start-payment=\"startPayment($event)\">\n\t\t\t\t<template v-slot:user-consent>\n\t\t\t\t\t<salescenter-payment_pay-components-payment_system-user_consent\n\t\t\t\t\t\t:id=\"consent.id\"\n\t\t\t\t\t\t:title=\"consent.title\"\n\t\t\t\t\t\t:checked=\"consent.accepted\"\n\t\t\t\t\t\t:submitEventName=\"consent.eventName\"/>\n\t\t\t\t</template>\n\t\t\t</salescenter-payment_pay-components-payment_system-payment_info>\n            <salescenter-payment_pay-components-payment_system-error_box\n                v-if=\"stage === stageType.errors\"\n                :errors=\"stages.paySystemErrors.errors\">\n            \t<salescenter-payment_pay-components-payment_system-reset_panel @reset=\"resetView()\"/>\n            </salescenter-payment_pay-components-payment_system-error_box>\n            <salescenter-payment_pay-components-payment_system-pay_system_result\n                v-if=\"stage === stageType.result\"\n                :html=\"stages.paySystemResult.html\"\n                :fields=\"stages.paySystemResult.fields\">\n            \t<salescenter-payment_pay-components-payment_system-reset_panel @reset=\"resetView()\"/>\n            </salescenter-payment_pay-components-payment_system-pay_system_result>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\nimport { MixinPaymentInfoButton } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-payment_info-button', {\n\tprops:\n\t{\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmixins:[MixinPaymentInfoButton],\n\tcomputed: {\n\t\tclasses()\n\t\t{\n\t\t\tconst classes = [\n\t\t\t\t'landing-block-node-button',\n\t\t\t\t'text-uppercase',\n\t\t\t\t'btn',\n\t\t\t\t'btn-xl',\n\t\t\t\t'pr-7',\n\t\t\t\t'pl-7',\n\t\t\t\t'u-btn-primary',\n\t\t\t\t'g-font-weight-700',\n\t\t\t\t'g-font-size-12',\n\t\t\t\t'g-rounded-50',\n\t\t\t];\n\n\t\t\tif (this.loading)\n\t\t\t{\n\t\t\t\tclasses.push('loading');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<button :class=\"classes\" @click=\"onClick($event)\">\n\t\t\t<slot></slot>\n\t\t</button>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-payment_info-pay_system_small_card', {\n\tprops: {\n\t\tlogo: String,\n\t\tname: String,\n\t},\n\ttemplate: `\n\t\t<div class=\"order-payment-operator\">\n\t\t\t<img :src=\"logo\" :alt=\"name\" v-if=\"logo\">\n\t\t\t<div class=\"order-payment-pay-system-name\" v-else>{{ name }}</div>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\nimport { MixinButton } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-button', {\n\tprops:\n\t{\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmixins: [MixinButton],\n\tcomputed: {\n\t\tclasses()\n\t\t{\n\t\t\treturn {\n\t\t\t\t'order-payment-method-item-button': true,\n\t\t\t\t'btn': true,\n\t\t\t\t'btn-primary': true,\n\t\t\t\t'rounded-pill': true,\n\t\t\t\t'pay-mode': true,\n\t\t\t\t'order-payment-loader': this.loading,\n\t\t\t};\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div :class=\"classes\" @click=\"onClick($event)\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\nimport { MixinCheck } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-check', {\n\tprops:\n\t{\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\tlink: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tmixins:[MixinCheck],\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"mb-2\" :class=\"{'check-print': processing}\">\n\t\t\t<a :href=\"link\" target=\"_blank\" class=\"check-link\" v-if=\"downloadable\">{{ title }}</a>\n\t\t\t<span v-else>{{ title }}</span>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-error_box', {\n\tprops:\n\t{\n\t\terrors: Array,\n\t},\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"alert alert-danger\">\n\t\t\t\t<slot name=\"errors-header\">\n\t\t\t\t\t<div>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_8 }}</div>\n\t\t\t\t</slot>\n\t\t\t\t<slot name=\"errors-footer\">\n\t\t\t\t\t<div>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_9 }}</div>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<slot></slot>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\nimport { MixinPaySystemList } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-pay_system_list', {\n\tprops: {\n\t\tpaySystems: {\n\t\t\ttype: Array,\n\t\t\tdefault: [],\n\t\t\trequired: false,\n\t\t},\n\t\tselectedPaySystem: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmixins:[MixinPaySystemList],\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"page-section-title\" v-if=\"title\">{{ title }}</div>\n\t\t\t<div class=\"order-payment-method-list\">\n\t\t\t\t<slot>\n\t\t\t\t\t<salescenter-payment_pay-components-payment_system-pay_system_row \n\t\t\t\t\t\tv-for=\"paySystem in paySystems\"\n\t\t\t\t\t\t:loading=\"isItemLoading(paySystem.ID)\"\n\t\t\t\t\t\t:name=\"paySystem.NAME\"\n\t\t\t\t\t\t:logo=\"paySystem.LOGOTIP\"\n\t\t\t\t\t\t:id=\"paySystem.ID\"\n\t\t\t\t\t\t@click=\"startPayment($event)\"\n\t\t\t\t\t/>\n\t\t\t\t</slot>\n\t\t\t</div>\n            <slot name=\"user-consent\"></slot>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-pay_system_result', {\n\tprops:\n\t{\n\t\thtml: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t\tfields: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_'))\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tif (this.html)\n\t\t{\n\t\t\tBX.html(this.$refs.paySystemResultTemplate, this.html);\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<template v-if=\"html\">\n\t\t\t\t<div ref=\"paySystemResultTemplate\"></div>\n\t\t\t\t<slot></slot>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<div class=\"checkout-basket-section\">\n\t\t\t\t\t<div class=\"page-section-title\">{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_1 }}</div>\n\t\t\t\t\t<div class=\"checkout-basket-personal-order-info\" v-if=\"fields\">\n\t\t\t\t\t\t<div class=\"checkout-basket-personal-order-info-item\" v-if=\"fields.SUM_WITH_CURRENCY\">\n\t\t\t\t\t\t\t<span>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_2 }}</span> <strong v-html=\"fields.SUM_WITH_CURRENCY\"></strong>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"checkout-basket-personal-order-info-item\" v-if=\"fields.PAY_SYSTEM_NAME\">\n\t\t\t\t\t\t\t<span>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_3 }}</span> <strong>{{ fields.PAY_SYSTEM_NAME }}</strong>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\nimport { MixinPaySystemRow } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-pay_system_row', {\n\tprops:\n\t{\n\t\tloading: Boolean,\n\t\tname: String,\n\t\tlogo: String,\n\t\tid: Number,\n\t},\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t},\n\tmixins:[MixinPaySystemRow],\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"order-pay-method-item-container pay-mode\" @click=\"onClick()\">\n\t\t\t<div class=\"order-pay-method-item-logo-block\">\n\t\t\t\t<div class=\"order-pay-method-logo\" :style=\"logoStyle\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"order-pay-method-text-block\">\n\t\t\t\t<div class=\"order-pay-method-text\">{{ name }}</div>\n\t\t\t</div>\n\t\t\t<salescenter-payment_pay-components-payment_system-button :loading=\"loading\">\n\t\t\t\t{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_4 }}\n\t\t\t</salescenter-payment_pay-components-payment_system-button>\n\t\t</div>\n\t`,\n});\n","import { BitrixVue } from 'ui.vue';\nimport { MixinPaymentInfo } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-payment_info', {\n\tprops:\n\t{\n\t\tpaySystem: Object,\n\t\ttitle: String,\n\t\tsum: String,\n\t\tloading: Boolean,\n\t\tpaid: Boolean,\n\t\tchecks: Array,\n\t},\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t\ttotalSum()\n\t\t{\n\t\t\treturn this.localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_11.replace('#SUM#', this.sum);\n\t\t},\n\t},\n\tmixins:[MixinPaymentInfo],\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n\t\t\t<div class=\"order-payment-title\" v-if=\"title\">{{ title }}</div>\n\t\t\t<div class=\"order-payment-inner d-flex align-items-center justify-content-between\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-payment_info-pay_system_small_card :name=\"paySystem.NAME\" :logo=\"paySystem.LOGOTIP\"/>\n            \t<div class=\"order-payment-status d-flex align-items-center\" v-if=\"paid\">\n                \t<div class=\"order-payment-status-ok\"></div>\n                \t<div>{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_5 }}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"order-payment-price\" v-html=\"totalSum\"></div>\n\t\t\t</div>\n\t\t\t<hr v-if=\"checks.length > 0\">\n\t\t\t<salescenter-payment_pay-components-payment_system-check \n\t\t\t\tv-for=\"check in checks\" \n\t\t\t\t:title=\"check.title\" \n\t\t\t\t:link=\"check.link\" \n\t\t\t\t:status=\"check.status\"/>\n\t\t\t<hr v-if=\"!paid\">\n            <slot name=\"user-consent\" v-if=\"!paid\"></slot>\n\t\t\t<div class=\"order-payment-buttons-container\" v-if=\"!paid\">\n\t\t\t\t<salescenter-payment_pay-components-payment_system-payment_info-button\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\t@click=\"onClick()\">\n\t\t\t\t\t{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_4 }}\n\t\t\t\t</salescenter-payment_pay-components-payment_system-payment_info-button>\n\t\t\t</div>\n\t\t</div>\n\t`,\n});","import { BitrixVue } from 'ui.vue';\nimport { MixinResetPanel } from 'sale.payment-pay.mixins.payment-system';\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-reset_panel', {\n\tmixins:[MixinResetPanel],\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_')\n\t\t\t);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"order-payment-buttons-container\">\n\t\t\t<div class=\"order-basket-section-description py-3\">\n\t\t\t\t{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_6 }}\n\t\t\t</div>\n\t\t\t<salescenter-payment_pay-components-payment_system-button @click=\"reset()\">\n\t\t\t\t{{ localize.PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_7 }}\n\t\t\t</salescenter-payment_pay-components-payment_system-button>\n\t\t</div>\t\n\t`,\n});\n","import {ajax, Tag, Type} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {EventType} from 'sale.payment-pay.const';\nimport {BitrixVue} from \"ui.vue\";\n\nBitrixVue.component('salescenter-payment_pay-components-payment_system-user_consent', {\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsubmitEventName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tchecked: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tmethods: {\n\t\tloadBlockHtml() {\n\t\t\tlet data = {\n\t\t\t\tfields: {\n\t\t\t\t\tid: this.id,\n\t\t\t\t\ttitle: this.title,\n\t\t\t\t\tisChecked: this.checked ? 'Y' : 'N',\n\t\t\t\t\tsubmitEventName: this.submitEventName,\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tajax.runComponentAction('bitrix:salescenter.payment.pay', 'userConsentRequest', {\n\t\t\t\tmode: 'ajax',\n\t\t\t\tdata: data,\n\t\t\t}).then((response) => {\n\n\t\t\t\tif (!Type.isPlainObject(response.data) || !Type.isStringFilled(response.data.html) || !BX.UserConsent)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet html, wrapper, control;\n\n\t\t\t\thtml = response.data.html;\n\t\t\t\twrapper = this.$refs.consentDiv;\n\t\t\t\twrapper.appendChild(Tag.render`<div>${html}</div>`);\n\t\t\t\tcontrol = BX.UserConsent.load(wrapper);\n\n\t\t\t\tEventEmitter.subscribe(control, BX.UserConsent.events.accepted, (event) => {\n\t\t\t\t\tEventEmitter.emit(EventType.consent.accepted);\n\t\t\t\t});\n\t\t\t\tEventEmitter.subscribe(control, BX.UserConsent.events.refused, (event) => {\n\t\t\t\t\tEventEmitter.emit(EventType.consent.refused);\n\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.loadBlockHtml();\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div>\n        \t<div ref=\"consentDiv\"/>\n\t\t</div>\n\t`,\n});"],"names":["BitrixVue","component","props","options","Object","mixins","MixinMethods","data","settings","Settings","stageType","StageType","stages","prepareParamsStages","stage","setStageType","loading","paymentProcess","prepareParamsPaymentProcess","consent","prepareUserConsentSettings","created","initPayment","initUserConsent","subscribeToGlobalEvents","methods","userConsentManager","UserConsentManager","containerId","accepted","eventName","initBackendProvider","backendProvider","BackendProvider","returnUrl","orderId","paymentId","accessCode","startPayment","paySystemId","askUserToPerform","paySystemList","selectedPaySystem","start","paySystems","get","title","paySystemErrors","errors","paySystemResult","html","fields","list","id","template","type","Array","default","required","computed","localize","freeze","getFilteredPhrases","selectedName","NAME","selectedDescription","BX","util","htmlspecialchars","DESCRIPTION","showInfo","paySystem","logoStyle","defaultLogo","src","LOGOTIP","paymentInfo","sum","paid","checks","Boolean","MixinPaymentInfoButton","classes","push","logo","String","name","MixinButton","status","link","MixinCheck","Number","MixinPaySystemList","mounted","$refs","paySystemResultTemplate","MixinPaySystemRow","totalSum","PAYMENT_PAY_PAYMENT_SYSTEM_COMPONENTS_11","replace","MixinPaymentInfo","MixinResetPanel","submitEventName","checked","loadBlockHtml","isChecked","ajax","runComponentAction","mode","then","response","Type","isPlainObject","isStringFilled","UserConsent","wrapper","control","consentDiv","appendChild","Tag","render","load","EventEmitter","subscribe","events","event","emit","EventType","refused"],"mappings":"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"}