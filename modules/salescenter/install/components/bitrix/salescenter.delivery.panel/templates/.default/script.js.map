{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":[";(function () {\n\t'use strict';\n\n\tBX.namespace('BX.SaleCenterDelivery');\n\n\tBX.SaleCenterDelivery = {\n\t\tdelivery: null,\n\t\tsignedParameters: null,\n\n\t\tinit: function(config)\n\t\t{\n\t\t\tthis.deliveryParams = config.deliveryParams;\n\t\t\tthis.signedParameters = config.signedParameters;\n\n\t\t\tthis.delivery = new BX.TileGrid.Grid(this.deliveryParams);\n\t\t\tthis.delivery.draw();\n\t\t},\n\n\t\treloadSlider: function(responseData)\n\t\t{\n\t\t\tif(responseData.deliveryPanelParams)\n\t\t\t{\n\t\t\t\tthis.delivery.redraw(responseData.deliveryPanelParams);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t *\n\t * @param options\n\t * @extends {BX.TileGrid.Item}\n\t * @constructor\n\t */\n\tBX.SaleCenterDelivery.TileGrid = function(options)\n\t{\n\t\tBX.TileGrid.Item.apply(this, arguments);\n\n\t\tthis.title = options.title;\n\t\tthis.image = options.image;\n\t\tthis.itemSelected = options.itemSelected;\n\t\tthis.itemSelectedColor = options.itemSelectedColor;\n\t\tthis.itemSelectedImage = options.itemSelectedImage;\n\t\tthis.outerImage = options.outerImage || false;\n\t\tthis.layout = {\n\t\t\tcontainer: null,\n\t\t\timage: null,\n\t\t\ttitle: null,\n\t\t\tclipTitle: null,\n\t\t\tcompany: null,\n\t\t\tcontrols: null,\n\t\t\tbuttonAction: null,\n\t\t\tprice: null\n\t\t};\n\t\tthis.data = options.data || {};\n\t};\n\n\tBX.SaleCenterDelivery.TileGrid.prototype =\n\t{\n\t\t__proto__: BX.TileGrid.Item.prototype,\n\t\tconstructor: BX.TileGrid.Item,\n\n\t\tgetContent: function()\n\t\t{\n\t\t\tif(!this.layout.wrapper)\n\t\t\t{\n\t\t\t\tthis.layout.wrapper = BX.create('div', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: 'salescenter-delivery-item'\n\t\t\t\t\t},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: 'salescenter-delivery-item-content'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tthis.getImage(),\n\t\t\t\t\t\t\t\tthis.getTitle(),\n\t\t\t\t\t\t\t\tthis.getStatus()\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t],\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.onClick();\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.itemSelected || this.data.type === 'actionbox')\n\t\t\t{\n\t\t\t\tthis.setSelected();\n\t\t\t}\n\n\t\t\treturn this.layout.wrapper;\n\t\t},\n\n\t\tgetImage: function()\n\t\t{\n\t\t\tif(!this.layout.image)\n\t\t\t{\n\t\t\t\tvar className = this.data.hasOwnProperty('hasOwnIcon') && this.data.hasOwnIcon\n\t\t\t\t\t? 'salescenter-delivery-marketplace-item-image'\n\t\t\t\t\t: 'salescenter-delivery-item-image';\n\n\t\t\t\tvar logo = BX.create('div', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: className\n\t\t\t\t\t},\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundSize: this.outerImage ? '50px' : '',\n\t\t\t\t\t\tbackgroundImage: this.image ? 'url(' + encodeURI(this.image) + ')' : null\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.layout.image = logo;\n\t\t\t}\n\n\t\t\treturn this.layout.image;\n\t\t},\n\n\t\tgetStatus: function()\n\t\t{\n\t\t\tif(!this.itemSelected)\n\t\t\t\treturn;\n\n\t\t\tthis.layout.itemSelected = BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'salescenter-delivery-item-status-selected'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn this.layout.itemSelected;\n\t\t},\n\n\t\tsetSelected: function()\n\t\t{\n\t\t\tBX.addClass(this.layout.wrapper, 'salescenter-delivery-item-selected');\n\n\t\t\tif(this.itemSelectedImage)\n\t\t\t{\n\t\t\t\tthis.layout.image.style.backgroundImage = 'url(' + this.itemSelectedImage + ')';\n\t\t\t}\n\n\t\t\tif(this.itemSelectedColor)\n\t\t\t{\n\t\t\t\tthis.layout.wrapper.style.backgroundColor = this.itemSelectedColor;\n\t\t\t}\n\t\t},\n\n\t\tsetUnselected: function()\n\t\t{\n\t\t\tif(this.itemSelected)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tBX.removeClass(this.layout.wrapper, 'salescenter-delivery-item-selected');\n\n\t\t\tif(this.image)\n\t\t\t{\n\t\t\t\tthis.layout.image.style.backgroundImage = 'url(' + this.image + ')';\n\t\t\t}\n\n\t\t\tthis.layout.wrapper.style.backgroundColor = '';\n\n\t\t\tvar itemSelected = content.querySelector('.salescenter-delivery-item-status-selected');\n\t\t\tif(itemSelected)\n\t\t\t{\n\t\t\t\titemSelected.parentNode.removeChild(itemSelected);\n\t\t\t}\n\t\t},\n\n\t\tgetTitle: function()\n\t\t{\n\t\t\tif(!this.layout.title)\n\t\t\t{\n\t\t\t\tthis.layout.title = BX.create('div', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: this.data.type === 'marketplaceApp'\n\t\t\t\t\t\t\t? 'salescenter-delivery-marketplace-app-item-title'\n\t\t\t\t\t\t\t: 'salescenter-delivery-item-title',\n\t\t\t\t\t},\n\t\t\t\t\ttext: this.title\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.layout.title;\n\t\t},\n\n\t\topenRestAppLayout: function(applicationId, appCode)\n\t\t{\n\t\t\tBX.ajax.runComponentAction(\"bitrix:salescenter.delivery.panel\", \"getRestApp\", {\n\t\t\t\tdata: {\n\t\t\t\t\tcode: appCode\n\t\t\t\t}\n\t\t\t}).then(function(response)\n\t\t\t{\n\t\t\t\tvar app = response.data;\n\t\t\t\tif(app.TYPE === \"A\")\n\t\t\t\t{\n\t\t\t\t\tthis.showRestApplication(appCode);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.rest.AppLayout.openApplication(applicationId);\n\t\t\t\t}\n\t\t\t}.bind(this)).catch(function(response)\n\t\t\t{\n\t\t\t\tthis.restAppErrorPopup(\" \", response.errors.pop().message);\n\t\t\t}.bind(this));\n\t\t},\n\n\t\trestAppErrorPopup: function(title, text)\n\t\t{\n\t\t\tvar popup = new BX.PopupWindow('rest-app-error-alert', null, {\n\t\t\t\tcloseIcon: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tautoHide: false,\n\t\t\t\ttitleBar: title,\n\t\t\t\tcontent: text,\n\t\t\t\tzIndex: 16000,\n\t\t\t\toverlay: {\n\t\t\t\t\tcolor: 'gray',\n\t\t\t\t\topacity: 30\n\t\t\t\t},\n\t\t\t\tbuttons: [\n\t\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\t\t'id': 'close',\n\t\t\t\t\t\t'text': BX.message('SDP_SALESCENTER_JS_POPUP_CLOSE'),\n\t\t\t\t\t\t'events': {\n\t\t\t\t\t\t\t'click': function(){\n\t\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t],\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: function() {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t},\n\t\t\t\t\tonPopupDestroy: function() {\n\t\t\t\t\t\tpopup = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tpopup.show();\n\t\t},\n\n\t\tonClick: function()\n\t\t{\n\t\t\tif (this.data.type === \"delivery\")\n\t\t\t{\n\t\t\t\tvar sliderOptions = {\n\t\t\t\t\tallowChangeHistory: false,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonLoad: function(e) {\n\t\t\t\t\t\t\tvar slider = e.getSlider();\n\t\t\t\t\t\t\tif (slider.isOpen() && slider.url.indexOf('CREATE') > -1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.prepareDeliveryForm(slider);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar url = this.data.connectPath;\n\t\t\t\t\t\t\t\t//this.setDeliveryListAddButton(slider, url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(this),\n\t\t\t\t\t\tonClose: function (e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar slider = e.getSlider();\n\t\t\t\t\t\t\tthis.setDeliveryItemHandler(slider);\n\t\t\t\t\t\t}.bind(this),\n\t\t\t\t\t\tonDestroy: function (e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar slider = e.getSlider();\n\t\t\t\t\t\t\tthis.setDeliveryItemHandler(slider);\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tif(!this.itemSelected && !this.data.showMenu)\n\t\t\t\t{\n\t\t\t\t\tBX.Salescenter.Manager.openSlider(this.data.connectPath, {width: 835}).then(() => {\n\t\t\t\t\t\tthis.reload(BX.SaleCenterDelivery.signedParameters);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.showItemMenu(this, {\n\t\t\t\t\t\tsliderOptions: sliderOptions\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(this.data.type === \"marketplaceApp\")\n\t\t\t{\n\t\t\t\tif (this.itemSelected)\n\t\t\t\t{\n\t\t\t\t\tthis.openRestAppLayout(this.id, this.data.code);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.showRestApplication(this.data.code);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(this.data.type === 'recommend')\n\t\t\t{\n\t\t\t\tBX.SidePanel.Instance.open(this.data.connectPath, {width: 735});\n\t\t\t}\n\t\t\telse if(this.data.type === 'actionbox')\n\t\t\t{\n\t\t\t\tif (this.data.handler === 'anchor')\n\t\t\t\t{\n\t\t\t\t\twindow.open (this.data.move);\n\t\t\t\t}\n\t\t\t\telse if (this.data.handler === 'marketplace')\n\t\t\t\t{\n\t\t\t\t\tBX.rest.Marketplace.open({PLACEMENT: this.data.move});\n\t\t\t\t}\n\t\t\t\telse if (this.data.handler === 'landing')\n\t\t\t\t{\n\t\t\t\t\tvar dataMove = this.data.move;\n\t\t\t\t\tBX.SidePanel.Instance.open('salecenter', {\n\t\t\t\t\t\tcontentCallback: function () {\n\t\t\t\t\t\t\treturn \"<iframe src='\" + dataMove + \"'\" +\n\t\t\t\t\t\t\t\t\" style='width: 100%; height:\" +\n\t\t\t\t\t\t\t\t\" -webkit-calc(100vh - 20px); height:\" +\n\t\t\t\t\t\t\t\t\" calc(100vh - 20px);'></iframe>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowItemMenu: function (item, options)\n\t\t{\n\t\t\tvar menu = [],\n\t\t\t\tmenuItemIndex,\n\t\t\t\titemNode = item.layout.container,\n\t\t\t\tmenuitemId = 'salescenter-item-menu-' + BX.util.getRandomString(),\n\t\t\t\tfilter;\n\n\t\t\titem.sliderOptions = {};\n\t\t\tif (options.sliderOptions)\n\t\t\t{\n\t\t\t\titem.sliderOptions = options.sliderOptions;\n\t\t\t}\n\n\t\t\tfor (menuItemIndex in item.data.menuItems)\n\t\t\t{\n\t\t\t\tif (item.data.menuItems.hasOwnProperty(menuItemIndex))\n\t\t\t\t{\n\t\t\t\t\tif (item.data.menuItems[menuItemIndex].DELIMITER)\n\t\t\t\t\t{\n\t\t\t\t\t\tmenu.push({\n\t\t\t\t\t\t\tdelimiter: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if (item.data.menuItems[menuItemIndex].FILTER)\n\t\t\t\t\t{\n\t\t\t\t\t\tfilter = item.data.menuItems[menuItemIndex].FILTER;\n\t\t\t\t\t\tmenu.push({\n\t\t\t\t\t\t\ttext: item.data.menuItems[menuItemIndex].NAME,\n\t\t\t\t\t\t\tlink: item.data.menuItems[menuItemIndex].LINK,\n\t\t\t\t\t\t\tonclick: (e, tile) => {\n\t\t\t\t\t\t\t\titem.moreTabsMenu.close();\n\t\t\t\t\t\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t\t\t\t\t\t'bitrix:salescenter.delivery.panel',\n\t\t\t\t\t\t\t\t\t'setDeliveryListFilter',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmode: 'class',\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\tfilter: filter\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t).then(function (response) {\n\t\t\t\t\t\t\t\t\tBX.SidePanel.Instance.open(tile.options.link, item.sliderOptions);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tmenu.push({\n\t\t\t\t\t\t\ttext: item.data.menuItems[menuItemIndex].NAME,\n\t\t\t\t\t\t\tlink: item.data.menuItems[menuItemIndex].LINK,\n\t\t\t\t\t\t\tonclick: (e, tile) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titem.moreTabsMenu.close();\n\n\t\t\t\t\t\t\t\tBX.Salescenter.Manager.openSlider(tile.options.link, {width: 835}).then(() => {\n\t\t\t\t\t\t\t\t\tthis.reload(BX.SaleCenterDelivery.signedParameters);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.moreTabsMenu = BX.PopupMenu.create(\n\t\t\t\tmenuitemId,\n\t\t\t\titemNode,\n\t\t\t\tmenu,\n\t\t\t\t{\n\t\t\t\t\tautoHide: true,\n\t\t\t\t\toffsetLeft: 0,\n\t\t\t\t\toffsetTop: 0,\n\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonPopupClose : function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.moreTabsMenu.popupWindow.destroy();\n\t\t\t\t\t\t\tBX.PopupMenu.destroy(menuitemId);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonPopupDestroy: function ()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.moreTabsMenu = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\titem.moreTabsMenu.popupWindow.show();\n\t\t},\n\n\t\tprepareDeliveryForm: function(slider)\n\t\t{\n\t\t\tvar sliderIframe, innerDoc, deliveryName, deliveryHandler, deliveryStores;\n\n\t\t\tsliderIframe = slider.iframe;\n\t\t\tinnerDoc = sliderIframe.contentDocument || sliderIframe.contentWindow.document;\n\t\t\tdeliveryName = innerDoc.getElementsByName('NAME')[0];\n\t\t\tif (deliveryName)\n\t\t\t{\n\t\t\t\tdeliveryName.value = this.title;\n\t\t\t}\n\n\t\t\tif (this.id === 'pickup')\n\t\t\t{\n\t\t\t\tdeliveryStores = innerDoc.getElementsByName('STORES_SHOW')[0];\n\t\t\t\tif (deliveryStores)\n\t\t\t\t{\n\t\t\t\t\tdeliveryStores.checked = true;\n\t\t\t\t\tvar eventChange = new Event('change');\n\t\t\t\t\tdeliveryStores.dispatchEvent(eventChange);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetDeliveryListAddButton: function(slider, url)\n\t\t{\n\t\t\tvar sliderIframe, innerDoc, addButtonWrapper, addButtonMenu, addButton, addButtonText;\n\n\t\t\tsliderIframe = slider.iframe;\n\t\t\tinnerDoc = sliderIframe.contentDocument || sliderIframe.contentWindow.document;\n\t\t\taddButtonWrapper = innerDoc.getElementsByClassName('ui-btn-split ui-btn-primary');\n\t\t\tif (addButtonWrapper)\n\t\t\t{\n\t\t\t\taddButtonMenu = addButtonWrapper[0].getElementsByClassName('ui-btn-main')[0];\n\t\t\t\tif (addButtonMenu)\n\t\t\t\t{\n\t\t\t\t\taddButtonText = addButtonMenu.innerText;\n\t\t\t\t\taddButton = BX.create('a', {\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tclassName: 'ui-btn-main',\n\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttext: addButtonText\n\t\t\t\t\t});\n\n\t\t\t\t\taddButtonWrapper[0].replaceChild(addButton, addButtonMenu);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetDeliveryItemHandler: function(slider)\n\t\t{\n\t\t\tvar sliderIframe, innerDoc, className, serviceType, url;\n\t\t\tsliderIframe = slider.iframe;\n\t\t\tinnerDoc = sliderIframe.contentDocument || sliderIframe.contentWindow.document;\n\n\t\t\turl = new URL(window.location.href + slider.url);\n\t\t\tclassName = url.searchParams.get(\"CLASS_NAME\");\n\t\t\tserviceType = url.searchParams.get(\"SERVICE_TYPE\");\n\n\t\t\tthis.reloadDeliveryItem(className, serviceType);\n\t\t},\n\n\t\treloadDeliveryItem: function(className, serviceType)\n\t\t{\n\t\t\tvar self = this;\n\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t'bitrix:salescenter.control_panel',\n\t\t\t\t'reloadDeliveryItem',\n\t\t\t\t{\n\t\t\t\t\tmode: 'class',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tclassName: className,\n\t\t\t\t\t\tserviceType: serviceType,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then(function(response)\n\t\t\t{\n\t\t\t\tif(response.data.menuItems && response.data.menuItems.length > 0)\n\t\t\t\t{\n\t\t\t\t\tself.itemSelected = response.data.itemSelected;\n\t\t\t\t\tif (self.itemSelected)\n\t\t\t\t\t{\n\t\t\t\t\t\tself.setSelected();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tself.setUnselected();\n\t\t\t\t\t}\n\n\t\t\t\t\tself.data.menuItems = response.data.menuItems;\n\t\t\t\t\tself.data.showMenu = response.data.showMenu;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tshowRestApplication: function(appCode)\n\t\t{\n\t\t\tvar applicationUrlTemplate = \"/marketplace/detail/#app#/\";\n\t\t\tvar url = applicationUrlTemplate.replace(\"#app#\", encodeURIComponent(appCode));\n\t\t\tBX.SidePanel.Instance.open(url, {\n\t\t\t\tallowChangeHistory: false,\n\t\t\t\tevents: {\n\t\t\t\t\tonClose: this.reload.bind(this, BX.SaleCenterDelivery.signedParameters)\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\treload: function(signedParameters)\n\t\t{\n\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t\"bitrix:salescenter.delivery.panel\",\n\t\t\t\t\"getComponentResult\",\n\t\t\t\t{\n\t\t\t\t\tmode: \"ajax\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsignedParameters: signedParameters,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then(function(response)\n\t\t\t{\n\t\t\t\tBX.SaleCenterDelivery.reloadSlider(response.data);\n\t\t\t});\n\t\t}\n\t};\n})();"],"names":["BX","namespace","SaleCenterDelivery","delivery","signedParameters","init","config","deliveryParams","TileGrid","Grid","draw","reloadSlider","responseData","deliveryPanelParams","redraw","options","Item","apply","arguments","title","image","itemSelected","itemSelectedColor","itemSelectedImage","outerImage","layout","container","clipTitle","company","controls","buttonAction","price","data","prototype","__proto__","constructor","getContent","wrapper","create","props","className","children","getImage","getTitle","getStatus","events","click","onClick","bind","type","setSelected","hasOwnProperty","hasOwnIcon","logo","style","backgroundSize","backgroundImage","encodeURI","addClass","backgroundColor","setUnselected","removeClass","content","querySelector","parentNode","removeChild","text","openRestAppLayout","applicationId","appCode","ajax","runComponentAction","code","then","response","app","TYPE","showRestApplication","rest","AppLayout","openApplication","restAppErrorPopup","errors","pop","message","popup","PopupWindow","closeIcon","closeByEsc","autoHide","titleBar","zIndex","overlay","color","opacity","buttons","PopupWindowButton","close","onPopupClose","destroy","onPopupDestroy","show","sliderOptions","allowChangeHistory","onLoad","e","slider","getSlider","isOpen","url","indexOf","prepareDeliveryForm","connectPath","onClose","setDeliveryItemHandler","onDestroy","showMenu","Salescenter","Manager","openSlider","width","reload","showItemMenu","id","SidePanel","Instance","open","handler","window","move","Marketplace","PLACEMENT","dataMove","contentCallback","item","menu","menuItemIndex","itemNode","menuitemId","util","getRandomString","filter","menuItems","DELIMITER","push","delimiter","FILTER","NAME","link","LINK","onclick","tile","moreTabsMenu","mode","PopupMenu","offsetLeft","offsetTop","popupWindow","sliderIframe","innerDoc","deliveryName","deliveryHandler","deliveryStores","iframe","contentDocument","contentWindow","document","getElementsByName","value","checked","eventChange","Event","dispatchEvent","setDeliveryListAddButton","addButtonWrapper","addButtonMenu","addButton","addButtonText","getElementsByClassName","innerText","href","replaceChild","serviceType","URL","location","searchParams","get","reloadDeliveryItem","self","length","applicationUrlTemplate","replace","encodeURIComponent"],"mappings":"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"}