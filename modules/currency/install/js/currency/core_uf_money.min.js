(function(){"use strict";BX.namespace("BX.Main.UF");if(typeof BX.Main.UF.TypeMoney!=="undefined"){return}BX.Main.UF.TypeMoney=function(){};BX.extend(BX.Main.UF.TypeMoney,BX.Main.UF.BaseType);BX.Main.UF.TypeMoney.USER_TYPE_ID="money";BX.Main.UF.TypeMoney.prototype.addRow=function(e,n){var a=n.previousElementSibling;var t=this.getClone(a,e);a.parentNode.insertBefore(t,n)};BX.Main.UF.TypeMoney.prototype.getCloneBase=BX.Main.UF.BaseType.prototype.getClone;BX.Main.UF.TypeMoney.prototype.getClone=function(e,n){if(e.hasAttribute("data-media-type")&&e.getAttribute("data-media-type")==="mobile"){return this.getCloneBase(e,n)}else{var a=BX.Main.UF.TypeMoney.superclass.getClone.apply(this,arguments);var t=BX.findChildrenByClassName(a,"money-editor-currency-selector-wrap",true);var r=t[0];BX.cleanNode(r);var i=BX.findChildren(a,{tagName:/INPUT|SELECT/i},true);i[0].value="";i[1].value="";var o=BX.message("CURRENCY");var y=[];var p=null;for(var l in o){if(o.hasOwnProperty(l)){var s={NAME:o[l].NAME,VALUE:l};y.push(s);if(p===null){p=s}}}var u=new BX.Currency.MoneyInput({controlId:d,input:i[1],resultInput:i[0],currency:p.VALUE});var d=Math.random();r.appendChild(BX.decl({block:"main-ui-select",name:d,items:y,value:p,params:{fieldName:d,isMulti:false},valueDelete:false}));BX.addCustomEvent(window,"UI::Select::change",function(e,n){if(e.params.fieldName===d){var a=JSON.parse(e.node.getAttribute("data-value"));if(!!a){u.setCurrency(a.VALUE)}}});return a}};BX.Main.UF.TypeMoney.prototype.focus=function(e){var n=this.getNode(e);if(!BX.isNodeInDom(n)){console.error("Node for field "+e+" is already removed from DOM")}var a=BX.findChild(n,{tagName:"INPUT",attribute:{type:"text"}},true);if(a){BX.focus(a)}};BX.Main.UF.Factory.setTypeHandler(BX.Main.UF.TypeMoney.USER_TYPE_ID,BX.Main.UF.TypeMoney)})();
//# sourceMappingURL=core_uf_money.map.js