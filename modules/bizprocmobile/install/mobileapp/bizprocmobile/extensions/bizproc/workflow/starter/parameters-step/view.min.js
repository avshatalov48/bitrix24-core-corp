jn.define("bizproc/workflow/starter/parameters-step/view",((t,e,i)=>{const r=t("apptheme");const{EventEmitter:o}=t("event-emitter");const{PureComponent:n}=t("layout/pure-component");const{EntityManager:s}=t("layout/ui/entity-editor/manager");const{ParametersStepSkeleton:a}=t("bizproc/workflow/starter/parameters-step/skeleton");class d extends n{constructor(t){super(t);this.uid=t.uid||Random.getString();this.customEventEmitter=o.createWithUid(this.uid);this.editorRef=null;this.editorRefCallback=t=>{this.editorRef=t};this.handleEntityEditorChangeState=this.handleEntityEditorChangeState.bind(this)}handleEntityEditorChangeState(){this.customEventEmitter.emit("ParametersStepView:OnFieldChangeState")}componentDidMount(){this.customEventEmitter.on("UI.EntityEditor.Field::onChangeState",this.handleEntityEditorChangeState)}componentWillUnmount(){this.customEventEmitter.off("UI.EntityEditor.Field::onChangeState",this.handleEntityEditorChangeState)}validate(){return this.editorRef.validate()?Promise.resolve():Promise.reject()}getData(){return new Promise(((t,e)=>{if(this.editorRef){this.editorRef.getValuesToSave().then((e=>t(e))).catch((t=>e(t)))}else{t({})}}))}render(){return View({style:{flex:1,backgroundColor:this.props.isLoaded?"inherit":r.colors.bgContentPrimary,borderTopRightRadius:12,borderTopLeftRadius:12},resizableByKeyboard:true},!this.props.isLoaded&&this.renderSkeleton(),this.props.isLoaded&&this.renderEditor())}renderSkeleton(){return new a({})}renderEditor(){return s.create({uid:this.uid,layout:this.props.layout,editorProps:this.props.editorConfig,showBottomPadding:true,refCallback:this.editorRefCallback})}}i.exports={ParametersStepView:d}}));
//# sourceMappingURL=view.map.js