jn.define("bizproc/task/fields",((t,e,i)=>{const{PureComponent:o}=t("layout/pure-component");const{EntityManager:l}=t("layout/ui/entity-editor/manager");const{EventEmitter:n}=t("event-emitter");const{isFunction:d}=t("utils/object");class s extends o{constructor(t){super(t);this.uid=t.uid||Random.getString();this.customEventEmitter=n.createWithUid(this.uid);this.editor=null;this.handleChangeFields=this.handleChangeFields.bind(this);this.handleScrollToInvalidField=this.handleScrollToInvalidField.bind(this);this.handleScrollToFocusedField=this.handleScrollToFocusedField.bind(this)}componentDidMount(){this.customEventEmitter.on("UI.EntityEditor.Field::onChangeState",this.handleChangeFields);this.customEventEmitter.on("UI.EntityEditor::onScrollToInvalidField",this.handleScrollToInvalidField);this.customEventEmitter.on("UI.EntityEditor::onScrollToFocusedField",this.handleScrollToFocusedField)}componentWillUnmount(){this.customEventEmitter.off("UI.EntityEditor.Field::onChangeState",this.handleChangeFields);this.customEventEmitter.off("UI.EntityEditor::onScrollToInvalidField",this.handleScrollToInvalidField);this.customEventEmitter.off("UI.EntityEditor::onScrollToFocusedField",this.handleScrollToFocusedField)}async getData(){return new Promise(((t,e)=>{this.editor.getValuesToSave().then((e=>t(e))).catch((t=>e(t)))}))}isValid(){return this.editor.validate()}render(){return l.create({uid:this.uid,layout:this.props.layout,editorProps:this.props.editor,isEmbedded:true,refCallback:t=>{this.editor=t}})}handleChangeFields(){this.customEventEmitter.emit("TaskFields:onChangeFieldValue")}handleScrollToInvalidField(t){if(d(this.props.onScrollToInvalidField)){this.props.onScrollToInvalidField(t)}}handleScrollToFocusedField(t){if(d(this.props.onScrollToFocusedField)){this.props.onScrollToFocusedField(t)}}}i.exports={TaskFields:s}}));
//# sourceMappingURL=extension.map.js