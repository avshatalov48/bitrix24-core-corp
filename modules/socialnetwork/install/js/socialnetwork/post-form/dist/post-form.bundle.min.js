this.BX=this.BX||{};(function(e,t,i,a,s,l,r){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){babelHelpers.defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t){d(e,t);t.add(e)}function c(e,t,i){d(e,t);t.set(e,i)}function d(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function p(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var v=new WeakMap;var h=new WeakSet;var u=new WeakSet;var H=function(){function e(t){babelHelpers.classCallCheck(this,e);b(this,u);b(this,h);c(this,v,{writable:true,value:new r.Cache.MemoryCache});p(this,h,f).call(this,t)}babelHelpers.createClass(e,[{key:"setFormData",value:function e(t){var i=babelHelpers.classPrivateFieldGet(this,v).get("data");p(this,h,f).call(this,o(o({},i),t))}},{key:"prepareRequestData",value:function e(){return{POST_TITLE:p(this,u,P).call(this,"title"),POST_MESSAGE:p(this,u,P).call(this,"message"),DEST_DATA:p(this,u,P).call(this,"recipients"),UF_BLOG_POST_FILE:p(this,u,P).call(this,"fileIds"),TAGS:p(this,u,P).call(this,"tags")}}},{key:"validateRequestData",value:function e(){if(!this.getTitle()&&!this.getMessage()){return r.Loc.getMessage("SN_PF_REQUEST_TEXT_VALIDATION_ERROR")}if(!this.getRecipients()){return r.Loc.getMessage("SN_PF_REQUEST_RECIPIENTS_VALIDATION_ERROR")}return""}},{key:"getTitle",value:function e(){return r.Type.isStringFilled(p(this,u,P).call(this,"title"))?p(this,u,P).call(this,"title"):""}},{key:"getMessage",value:function e(){return r.Type.isStringFilled(p(this,u,P).call(this,"message"))?p(this,u,P).call(this,"message"):""}},{key:"getRecipients",value:function e(){return r.Type.isStringFilled(p(this,u,P).call(this,"recipients"))?p(this,u,P).call(this,"recipients"):""}},{key:"setRecipients",value:function e(t){var i=babelHelpers.classPrivateFieldGet(this,v).get("data");var a={recipients:t};p(this,h,f).call(this,o(o({},i),a))}},{key:"getAllUsersTitle",value:function e(){return p(this,u,P).call(this,"allUsersTitle")}},{key:"isAllowEmailInvitation",value:function e(){return p(this,u,P).call(this,"allowEmailInvitation")===true}},{key:"isAllowToAll",value:function e(){return p(this,u,P).call(this,"allowToAll")===true}}]);return e}();function f(e){babelHelpers.classPrivateFieldGet(this,v).set("data",e)}function P(e){return babelHelpers.classPrivateFieldGet(this,v).get("data")[e]}var F;function w(e,t){g(e,t);t.add(e)}function T(e,t,i){g(e,t);t.set(e,i)}function g(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function m(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var I=new WeakMap;var S=new WeakMap;var G=new WeakMap;var k=new WeakMap;var E=new WeakMap;var y=new WeakMap;var z=new WeakMap;var W=new WeakSet;var _=new WeakSet;var M=new WeakSet;var C=new WeakSet;var R=new WeakSet;var D=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));w(babelHelpers.assertThisInitialized(i),R);w(babelHelpers.assertThisInitialized(i),C);w(babelHelpers.assertThisInitialized(i),M);w(babelHelpers.assertThisInitialized(i),_);w(babelHelpers.assertThisInitialized(i),W);T(babelHelpers.assertThisInitialized(i),I,{writable:true,value:void 0});T(babelHelpers.assertThisInitialized(i),S,{writable:true,value:void 0});T(babelHelpers.assertThisInitialized(i),G,{writable:true,value:void 0});T(babelHelpers.assertThisInitialized(i),k,{writable:true,value:void 0});T(babelHelpers.assertThisInitialized(i),E,{writable:true,value:void 0});T(babelHelpers.assertThisInitialized(i),y,{writable:true,value:void 0});T(babelHelpers.assertThisInitialized(i),z,{writable:true,value:void 0});i.setEventNamespace("BX.Socialnetwork.PostFormManager");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),I,e.formId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),S,e.LHEId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),G,e.isShownPostTitle===true);l.EventEmitter.subscribe("OnEditorInitedAfter",(function(e){var t=e.getData(),a=babelHelpers.slicedToArray(t,1),s=a[0];m(babelHelpers.assertThisInitialized(i),W,L).call(babelHelpers.assertThisInitialized(i),s)}));l.EventEmitter.subscribe("onMentionAdd",m(babelHelpers.assertThisInitialized(i),_,O).bind(babelHelpers.assertThisInitialized(i)));return i}babelHelpers.createClass(t,[{key:"initLHE",value:function e(){if(!window.LHEPostForm){throw new Error("BX.Socialnetwork.PostFormManager: LHEPostForm not found")}babelHelpers.classPrivateFieldSet(this,k,window.LHEPostForm);var t=babelHelpers.classPrivateFieldGet(this,k).getHandler(babelHelpers.classPrivateFieldGet(this,S));babelHelpers.classPrivateFieldSet(this,E,t.eventNode);l.EventEmitter.emit(babelHelpers.classPrivateFieldGet(this,E),"OnShowLHE",["show"]);m(this,C,x).call(this)}},{key:"getEditorText",value:function e(){return babelHelpers.classPrivateFieldGet(this,z).GetContent()}},{key:"focusToEditor",value:function e(){babelHelpers.classPrivateFieldGet(this,z).Focus()}}]);return t}(l.EventEmitter);function L(e){var t=this;if(e.id===babelHelpers.classPrivateFieldGet(this,S)){babelHelpers.classPrivateFieldSet(this,z,e);this.emit("editorInited");l.EventEmitter.subscribe(e,"OnFullscreenExpand",(function(){t.emit("fullscreenExpand")}))}}function O(e){var t=e.getCompatData(),i=babelHelpers.slicedToArray(t,2),a=i[0],s=i[1];var l=m(this,M,A).call(this,s,a);this.emit("addMention",{type:s,entity:a,entityType:l})}function A(e,t){var i="";if(e==="user"){if(t.isExtranet==="Y"){i="extranet"}else if(t.isEmail==="Y"){i="email"}else{i="employee"}}else if(e==="project"){if(t.isExtranet==="Y"){i="extranet"}}return i}function x(){var e=babelHelpers.classPrivateFieldGet(this,G)?"feed-add-post-form-btn-active":"";babelHelpers.classPrivateFieldSet(this,y,r.Tag.render(F||(F=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div\n\t\t\t\tdata-id="sn-post-form-manager-show-title-btn"\n\t\t\t\tclass="feed-add-post-form-title-btn ','"\n\t\t\t\ttitle="','"\n\t\t\t>\n\t\t\t</div>\n\t\t'])),e,r.Loc.getMessage("SN_PF_TITLE_PLACEHOLDER")));r.Event.bind(babelHelpers.classPrivateFieldGet(this,y),"click",m(this,R,N).bind(this));var t=babelHelpers.classPrivateFieldGet(this,E).querySelector(".feed-add-post-form-but-more-open");r.Dom.append(babelHelpers.classPrivateFieldGet(this,y),t)}function N(){this.emit("toggleVisibilityPostTitle");babelHelpers.classPrivateFieldSet(this,G,!babelHelpers.classPrivateFieldGet(this,G));r.Dom.toggleClass(babelHelpers.classPrivateFieldGet(this,y),"feed-add-post-form-btn-active")}function B(e,t,i){j(e,t);t.set(e,i)}function j(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var X=new WeakMap;var U=new WeakMap;var q=function(){function e(t){babelHelpers.classCallCheck(this,e);B(this,X,{writable:true,value:void 0});B(this,U,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,X,r.Type.isString(t.pathToDefaultRedirect)?t.pathToDefaultRedirect:"");babelHelpers.classPrivateFieldSet(this,U,r.Type.isString(t.pathToGroupRedirect)?t.pathToGroupRedirect:"")}babelHelpers.createClass(e,[{key:"redirectTo",value:function e(t){if(t){if(babelHelpers.classPrivateFieldGet(this,U)){location.href=babelHelpers.classPrivateFieldGet(this,U).replace("#group_id#",t)}else{location.reload()}}else{if(babelHelpers.classPrivateFieldGet(this,X)){location.href=babelHelpers.classPrivateFieldGet(this,X)}else{location.reload()}}}}]);return e}();var Y,V,Q,J;function K(e,t){$(e,t);t.add(e)}function Z(e,t,i){$(e,t);t.set(e,i)}function $(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function ee(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var te=r.Reflection.namespace("BX.userOptions");var ie=r.Reflection.namespace("BX.UI.Notification.Center");var ae=new WeakMap;var se=new WeakMap;var le=new WeakMap;var re=new WeakMap;var ne=new WeakMap;var oe=new WeakMap;var be=new WeakMap;var ce=new WeakMap;var de=new WeakMap;var pe=new WeakMap;var ve=new WeakMap;var he=new WeakMap;var ue=new WeakMap;var He=new WeakMap;var fe=new WeakMap;var Pe=new WeakMap;var Fe=new WeakMap;var we=new WeakSet;var Te=new WeakSet;var ge=new WeakSet;var me=new WeakSet;var Ie=new WeakSet;var Se=new WeakSet;var Ge=new WeakSet;var ke=new WeakSet;var Ee=new WeakSet;var ye=new WeakSet;var ze=new WeakSet;var We=new WeakSet;var _e=new WeakSet;var Me=new WeakSet;var Ce=new WeakSet;var Re=new WeakSet;var De=new WeakSet;var Le=new WeakSet;var Oe=new WeakSet;var Ae=new WeakSet;var xe=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));K(babelHelpers.assertThisInitialized(i),Ae);K(babelHelpers.assertThisInitialized(i),Oe);K(babelHelpers.assertThisInitialized(i),Le);K(babelHelpers.assertThisInitialized(i),De);K(babelHelpers.assertThisInitialized(i),Re);K(babelHelpers.assertThisInitialized(i),Ce);K(babelHelpers.assertThisInitialized(i),Me);K(babelHelpers.assertThisInitialized(i),_e);K(babelHelpers.assertThisInitialized(i),We);K(babelHelpers.assertThisInitialized(i),ze);K(babelHelpers.assertThisInitialized(i),ye);K(babelHelpers.assertThisInitialized(i),Ee);K(babelHelpers.assertThisInitialized(i),ke);K(babelHelpers.assertThisInitialized(i),Ge);K(babelHelpers.assertThisInitialized(i),Se);K(babelHelpers.assertThisInitialized(i),Ie);K(babelHelpers.assertThisInitialized(i),me);K(babelHelpers.assertThisInitialized(i),ge);K(babelHelpers.assertThisInitialized(i),Te);K(babelHelpers.assertThisInitialized(i),we);Z(babelHelpers.assertThisInitialized(i),ae,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),se,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),le,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),re,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),ne,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),oe,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),be,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),ce,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),de,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),pe,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),ve,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),he,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),ue,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),He,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),fe,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),Pe,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),Fe,{writable:true,value:void 0});i.setEventNamespace("BX.Socialnetwork.PostForm");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ae,r.Type.isInteger(parseInt(e.postId,10))?parseInt(e.postId,10):0);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),se,r.Type.isInteger(parseInt(e.groupId,10))?parseInt(e.groupId,10):0);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),re,"blogPostForm_".concat(r.Text.getRandom().toLowerCase()));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ne,"oPostFormLHE_blogPostForm".concat(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),re)));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),oe,"idPostFormLHE_".concat(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),re)));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),be,false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),he,new q({pathToDefaultRedirect:e.pathToDefaultRedirect,pathToGroupRedirect:e.pathToGroupRedirect}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Pe,{});return i}babelHelpers.createClass(t,[{key:"show",value:function e(){var t=this;return new Promise((function(e,i){ee(t,we,Ne).call(t).then((function(){if(!babelHelpers.classPrivateFieldGet(t,ce)){ee(t,Te,Be).call(t)}babelHelpers.classPrivateFieldGet(t,ce).subscribeOnce("onShow",(function(){e()}));babelHelpers.classPrivateFieldGet(t,ce).show()}))["catch"]((function(){return i()}))}))}}]);return t}(l.EventEmitter);function Ne(){var e=this;return r.ajax.runAction("socialnetwork.api.livefeed.blogpost.getPostFormInitData",{data:{postId:babelHelpers.classPrivateFieldGet(this,ae),groupId:babelHelpers.classPrivateFieldGet(this,se)}}).then((function(t){var i=t.data;babelHelpers.classPrivateFieldSet(e,pe,new H(i));babelHelpers.classPrivateFieldSet(e,le,i.isShownPostTitle==="Y");babelHelpers.classPrivateFieldSet(e,ve,new D({formId:babelHelpers.classPrivateFieldGet(e,re),LHEId:babelHelpers.classPrivateFieldGet(e,oe),isShownPostTitle:babelHelpers.classPrivateFieldGet(e,le)}));babelHelpers.classPrivateFieldGet(e,ve).subscribe("editorInited",ee(e,Re,it).bind(e));babelHelpers.classPrivateFieldGet(e,ve).subscribe("toggleVisibilityPostTitle",ee(e,De,at).bind(e));babelHelpers.classPrivateFieldGet(e,ve).subscribe("fullscreenExpand",ee(e,Le,st).bind(e));babelHelpers.classPrivateFieldGet(e,ve).subscribe("addMention",ee(e,Oe,lt).bind(e));return e}))["catch"]((function(t){ee(e,Ae,rt).call(e,"init",t)}))}function Be(){var e=this;babelHelpers.classPrivateFieldSet(this,ce,new t.Popup({id:babelHelpers.classPrivateFieldGet(this,re),className:"sn-post-form-popup --normal",content:ee(this,ye,Je).call(this),contentNoPaddings:true,minHeight:370,width:720,disableScroll:true,draggable:false,overlay:true,padding:0,buttons:[babelHelpers.classPrivateFieldSet(this,de,new a.Button({text:r.Loc.getMessage("SN_PF_SEND_BTN"),color:a.ButtonColor.PRIMARY,onclick:function t(){ee(e,Ie,Ue).call(e)}})),new a.Button({text:r.Loc.getMessage("SN_PF_CANCEL_BTN"),color:a.ButtonColor.LINK,onclick:function t(){babelHelpers.classPrivateFieldGet(e,ce).close()}})],events:{onFirstShow:ee(this,ge,je).bind(this),onAfterClose:ee(this,me,Xe).bind(this)}}))}function je(){var e=this;babelHelpers.classPrivateFieldGet(this,de).setWaiting(true);ee(this,_e,$e).call(this);ee(this,Ee,Qe).call(this).then((function(t){t.then((function(){babelHelpers.classPrivateFieldGet(e,ve).initLHE()}))}))}function Xe(){if(babelHelpers.classPrivateFieldGet(this,be)){babelHelpers.classPrivateFieldGet(this,he).redirectTo(babelHelpers.classPrivateFieldGet(this,se))}}function Ue(){var e=this;if(babelHelpers.classPrivateFieldGet(this,de).isWaiting()){return}ee(this,ke,Ve).call(this);babelHelpers.classPrivateFieldGet(this,pe).setFormData(ee(this,Se,qe).call(this));var t=babelHelpers.classPrivateFieldGet(this,pe).validateRequestData();if(t){ee(this,Ge,Ye).call(this,t);babelHelpers.classPrivateFieldGet(this,ve).focusToEditor();return}babelHelpers.classPrivateFieldGet(this,de).setWaiting(true);var i="socialnetwork.api.livefeed.blogpost.".concat(babelHelpers.classPrivateFieldGet(this,ae)?"update":"add");var a=babelHelpers.classPrivateFieldGet(this,ae)?{id:babelHelpers.classPrivateFieldGet(this,ae),params:babelHelpers.classPrivateFieldGet(this,pe).prepareRequestData()}:{params:babelHelpers.classPrivateFieldGet(this,pe).prepareRequestData()};r.ajax.runAction(i,{data:a,analyticsLabel:{b24statAction:"addLogEntry",b24statContext:"spaces"}}).then((function(t){babelHelpers.classPrivateFieldSet(e,be,true);babelHelpers.classPrivateFieldGet(e,ce).close()}))["catch"]((function(t){babelHelpers.classPrivateFieldGet(e,de).setWaiting(false);ee(e,Ae,rt).call(e,"sendForm",t)}))}function qe(){var e={title:babelHelpers.classPrivateFieldGet(this,He).querySelector("input").value,message:babelHelpers.classPrivateFieldGet(this,ve).getEditorText()};e.recipients=babelHelpers.classPrivateFieldGet(this,pe).getRecipients();var t=[];var i=BX.Disk.Uploader.UserFieldControl.getById(babelHelpers.classPrivateFieldGet(this,re));i.getFiles().forEach((function(e){if(e.getServerFileId()!==null){t.push(e.getServerFileId())}}));e.fileIds=t;var a=babelHelpers.classPrivateFieldGet(this,ue).querySelector('input[name="TAGS"]');if(r.Type.isDomNode(a)){e.tags=a.value}return e}function Ye(e){r.Dom.removeClass(babelHelpers.classPrivateFieldGet(this,Pe).container,"--hidden");babelHelpers.classPrivateFieldGet(this,Pe).message.textContent=r.Text.encode(e)}function Ve(){r.Dom.addClass(babelHelpers.classPrivateFieldGet(this,Pe).container,"--hidden");babelHelpers.classPrivateFieldGet(this,Pe).message.textContent=""}function Qe(){var e=this;return r.ajax.runAction("socialnetwork.api.livefeed.blogpost.getMainPostForm",{data:{params:{formId:babelHelpers.classPrivateFieldGet(this,re),jsObjName:babelHelpers.classPrivateFieldGet(this,ne),LHEId:babelHelpers.classPrivateFieldGet(this,oe),postId:babelHelpers.classPrivateFieldGet(this,ae),text:babelHelpers.classPrivateFieldGet(this,pe).getMessage()}}}).then((function(t){return r.Runtime.html(babelHelpers.classPrivateFieldGet(e,ue).querySelector("#sn-post-form"),t.data.html,{htmlFirst:true})}))["catch"]((function(t){ee(e,Ae,rt).call(e,"afterShow",t)}))}function Je(){babelHelpers.classPrivateFieldSet(this,ue,r.Tag.render(Y||(Y=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="sn-post-form__discussion">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t\t",'\n\t\t\t\t<div id="sn-post-form"></div>\n\t\t\t</div>\n\t\t'])),ee(this,ze,Ke).call(this),ee(this,We,Ze).call(this),ee(this,Ce,tt).call(this)));return babelHelpers.classPrivateFieldGet(this,ue)}function Ke(){var e=r.Tag.render(V||(V=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div\n\t\t\t\tclass="sn-post-form__discussion-error-alert ui-alert ui-alert-danger --hidden"\n\t\t\t\tref="container"\n\t\t\t>\n\t\t\t\t<span class="ui-alert-message" ref="message"></span>\n\t\t\t</div>\n\t\t']))),t=e.container,i=e.message;babelHelpers.classPrivateFieldGet(this,Pe).container=t;babelHelpers.classPrivateFieldGet(this,Pe).message=i;return t}function Ze(){babelHelpers.classPrivateFieldSet(this,fe,r.Tag.render(Q||(Q=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="sn-post-form__discussion-row"></div>\n\t\t']))));return babelHelpers.classPrivateFieldGet(this,fe)}function $e(){var e=this;var t="sn-post-form-recipient-selector";babelHelpers.classPrivateFieldSet(this,Fe,new i.TagSelector({id:t,dialogOptions:{id:t,context:"PostForm",preselectedItems:r.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,pe).getRecipients())?JSON.parse(babelHelpers.classPrivateFieldGet(this,pe).getRecipients()):[],entities:[{id:"meta-user",options:{"all-users":{title:babelHelpers.classPrivateFieldGet(this,pe).getAllUsersTitle(),allowView:babelHelpers.classPrivateFieldGet(this,pe).isAllowToAll()}}},{id:"user",options:{emailUsers:babelHelpers.classPrivateFieldGet(this,pe).isAllowEmailInvitation(),inviteGuestLink:babelHelpers.classPrivateFieldGet(this,pe).isAllowEmailInvitation(),myEmailUsers:true}},{id:"project",options:{features:{blog:["premoderate_post","moderate_post","write_post","full_post"]}}},{id:"department",options:{selectMode:"usersAndDepartments",allowFlatDepartments:false}}],events:{"Item:onSelect":function t(){ee(e,Me,et).call(e,babelHelpers.classPrivateFieldGet(e,Fe).getDialog().getSelectedItems())},"Item:onDeselect":function t(){ee(e,Me,et).call(e,babelHelpers.classPrivateFieldGet(e,Fe).getDialog().getSelectedItems())}}}}));babelHelpers.classPrivateFieldGet(this,Fe).renderTo(babelHelpers.classPrivateFieldGet(this,fe));return babelHelpers.classPrivateFieldGet(this,Fe)}function et(e){var t=[];e.forEach((function(e){t.push([e.entityId,e.id])}));babelHelpers.classPrivateFieldGet(this,pe).setRecipients(t.length>0?JSON.stringify(t):"")}function tt(){var e="ui-ctl ui-ctl-textbox ui-ctl-no-border ui-ctl-w100 ui-ctl-no-padding ui-ctl-xs";var t=babelHelpers.classPrivateFieldGet(this,le)?"":"--hidden";babelHelpers.classPrivateFieldSet(this,He,r.Tag.render(J||(J=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="sn-post-form__discussion-row ','">\n\t\t\t\t<div class="','">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\tclass="ui-ctl-element sn-post-form__discussion_title"\n\t\t\t\t\t\tplaceholder="','"\n\t\t\t\t\t\tdata-id="sn-post-form-title-input"\n\t\t\t\t\t\tvalue="','"\n\t\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),t,e,r.Loc.getMessage("SN_PF_TITLE_PLACEHOLDER"),r.Text.encode(babelHelpers.classPrivateFieldGet(this,pe).getTitle())));return babelHelpers.classPrivateFieldGet(this,He)}function it(){babelHelpers.classPrivateFieldGet(this,de).setWaiting(false)}function at(){r.Dom.toggleClass(babelHelpers.classPrivateFieldGet(this,He),"--hidden");var e=!r.Dom.hasClass(babelHelpers.classPrivateFieldGet(this,He),"--hidden");if(e){babelHelpers.classPrivateFieldGet(this,He).querySelector("input").focus()}te.save("socialnetwork","postEdit","showTitle",e?"Y":"N")}function st(){r.Dom.toggleClass(babelHelpers.classPrivateFieldGet(this,ce).getPopupContainer(),"--normal")}function lt(e){var t=e.getData(),i=t.type,a=t.entity,s=t.entityType;babelHelpers.classPrivateFieldGet(this,Fe).getDialog().addItem({avatar:a.avatar,customData:{email:r.Type.isStringFilled(a.email)?a.email:""},entityId:i,entityType:s,id:a.entityId,title:a.name}).select()}function rt(e,t){ie.notify({content:r.Loc.getMessage("SN_PF_REQUEST_ERROR")});console.error("PostForm: ".concat(e," error"),t)}e.PostForm=xe})(this.BX.Socialnetwork=this.BX.Socialnetwork||{},BX.Main,BX.UI.EntitySelector,BX.UI,BX.UI.Uploader,BX.Event,BX);
//# sourceMappingURL=post-form.bundle.map.js