this.BX=this.BX||{};this.BX.Socialnetwork=this.BX.Socialnetwork||{};(function(e,t,s,i,o){"use strict";var n=function(){babelHelpers.createClass(e,null,[{key:"getInstance",value:function t(){if(o.Type.isNull(e.instance)){e.instance=new e}return e.instance}}]);function e(){babelHelpers.classCallCheck(this,e);this.waitTimeout=null;this.waitPopup=null}babelHelpers.createClass(e,[{key:"show",value:function e(t){var s=this;if(t!==0){return this.waitTimeout=setTimeout((function(){s.show(0)}),50)}if(!this.waitPopup){this.waitPopup=new BX.PopupWindow("sonet_common_wait_popup",window,{autoHide:true,lightShadow:true,zIndex:2,content:BX.create("DIV",{props:{className:"sonet-wait-cont"},children:[BX.create("DIV",{props:{className:"sonet-wait-icon"}}),BX.create("DIV",{props:{className:"sonet-wait-text"},html:BX.message("SONET_EXT_COMMON_WAIT")})]})})}else{this.waitPopup.setBindElement(window)}this.waitPopup.show()}},{key:"hide",value:function e(){if(this.waitTimeout){clearTimeout(this.waitTimeout);this.waitTimeout=null}if(this.waitPopup){this.waitPopup.close()}}}]);return e}();babelHelpers.defineProperty(n,"instance",null);var a=function(){function e(){babelHelpers.classCallCheck(this,e);this.menuPopup=null;this.menuItem=null;this.favoritesValue=null}babelHelpers.createClass(e,[{key:"setItemTitle",value:function e(t){if(!o.Type.isDomNode(this.menuItem)){return}this.menuItem.innerHTML=t?o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_FAVORITES_REMOVE"):o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_FAVORITES_ADD")}}],[{key:"getInstance",value:function t(){var s=this;if(o.Type.isNull(this.instance)){this.instance=new e;BX.addCustomEvent("SidePanel.Slider:onClose",(function(){if(s.instance.menuPopup){s.instance.menuPopup.close()}}));BX.addCustomEvent("BX.Socialnetwork.WorkgroupMenuIcon:onSetFavorites",(function(e){s.getInstance().setItemTitle(e.value)}))}return this.instance}}]);return e}();babelHelpers.defineProperty(a,"instance",null);var r=function(){function e(t){babelHelpers.classCallCheck(this,e);this.successPopup=null;this.groupId=!o.Type.isUndefined(t.GROUP_ID)?Number(t.GROUP_ID):0;this.relationId=!o.Type.isUndefined(t.RELATION_ID)?Number(t.RELATION_ID):0;this.urls={rejectOutgoingRequest:o.Type.isStringFilled(t.URL_REJECT_OUTGOING_REQUEST)?t.URL_REJECT_OUTGOING_REQUEST:"",groupsList:o.Type.isStringFilled(t.URL_GROUPS_LIST)?t.URL_GROUPS_LIST:""};this.project=o.Type.isBoolean(t.PROJECT)?t.PROJECT:false;this.scrum=o.Type.isBoolean(t.SCRUM)?t.SCRUM:false}babelHelpers.createClass(e,[{key:"showPopup",value:function e(){var i=this;if(this.relationId<=0||!o.Type.isStringFilled(this.urls.rejectOutgoingRequest)){return}var n=o.Loc.getMessage("SONET_EXT_COMMON_RECALL_JOIN_POPUP_TITLE2");var a=o.Loc.getMessage("SONET_EXT_COMMON_RECALL_JOIN_POPUP_TEXT2");if(this.scrum){n=o.Loc.getMessage("SONET_EXT_COMMON_RECALL_JOIN_POPUP_TITLE2_SCRUM");a=o.Loc.getMessage("SONET_EXT_COMMON_RECALL_JOIN_POPUP_TEXT2_SCRUM")}else if(this.project){n=o.Loc.getMessage("SONET_EXT_COMMON_RECALL_JOIN_POPUP_TITLE2_PROJECT");a=o.Loc.getMessage("SONET_EXT_COMMON_RECALL_JOIN_POPUP_TEXT2_PROJECT")}this.successPopup=new t.Popup("bx-group-join-successfull-request-popup",window,{width:420,autoHide:false,lightShadow:false,zIndex:1e3,overlay:true,cachable:false,content:o.Dom.create("DIV",{children:[o.Dom.create("DIV",{text:n,props:{className:"sonet-group-join-successfull-request-popup-title"}}),o.Dom.create("DIV",{text:a,props:{className:"sonet-group-join-successfull-request-popup-text"}})]}),buttons:[new s.Button({size:s.Button.Size.MEDIUM,text:o.Loc.getMessage("SONET_EXT_COMMON_RECALL_JOIN_POPUP_CLOSE_BUTTON"),events:{click:function e(t){i.onClose(t.getContainer())}}}),new s.Button({size:s.Button.Size.MEDIUM,color:s.Button.Color.LINK,text:o.Loc.getMessage("SONET_EXT_COMMON_RECALL_JOIN_POPUP_CANCEL_BUTTON"),events:{click:function e(t){i.onCancelRequest(t.getContainer())}}})],closeByEsc:false,closeIcon:false});this.successPopup.show()}},{key:"onClose",value:function t(s){var i=this;if(this.groupId<=0||!o.Type.isDomNode(s)){return}e.showButtonWait(s);o.ajax.runAction("socialnetwork.api.usertogroup.setHideRequestPopup",{data:{groupId:this.groupId}}).then((function(t){e.hideButtonWait(s);i.successPopup.close()}),(function(){e.hideButtonWait(s)}))}},{key:"onCancelRequest",value:function t(s){var i=this;if(this.groupId<=0||!o.Type.isDomNode(s)){return}var n=document.getElementById("bx-group-delete-request-error");e.hideError(n);e.showButtonWait(s);o.ajax.runAction("socialnetwork.api.usertogroup.cancelIncomingRequest",{data:{groupId:this.groupId,userId:parseInt(o.Loc.getMessage("USER_ID"))}}).then((function(t){e.hideButtonWait(s);i.successPopup.destroy();if(o.Type.isStringFilled(i.urls.groupsList)){top.location.href=i.urls.groupsList}i.reload()}))["catch"]((function(t){e.showError(o.Loc.getMessage("SONET_EXT_COMMON_AJAX_ERROR"),n);e.hideButtonWait(s)}))}}],[{key:"showButtonWait",value:function e(t){if(o.Type.isStringFilled(t)){t=document.getElementById(t)}if(!o.Type.isDomNode(t)){return}t.classList.add("ui-btn-clock");t.disabled=true;t.style.cursor="auto"}},{key:"hideButtonWait",value:function e(t){if(o.Type.isStringFilled(t)){t=document.getElementById(t)}if(!o.Type.isDomNode(t)){return}t.classList.remove("ui-btn-clock");t.disabled=false;t.style.cursor="cursor"}},{key:"showError",value:function e(t,s){if(o.Type.isStringFilled(s)){s=document.getElementById(s)}if(!o.Type.isDomNode(s)){return}s.innerHTML=t;s.classList.remove("sonet-ui-form-error-block-invisible")}},{key:"hideError",value:function e(t){if(o.Type.isStringFilled(t)){t=document.getElementById(t)}if(!o.Type.isDomNode(t)){return}t.classList.add("sonet-ui-form-error-block-invisible")}}]);return e}();var c=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"showGroupMenuPopup",value:function e(s){var i=this;var n=s.bindElement;if(o.Type.isStringFilled(n)){n=document.getElementById(n)}var r=parseInt(o.Loc.getMessage("USER_ID"));var c=a.getInstance();if(n.tagName==="BUTTON"){n.classList.add("ui-btn-active")}var l=[];var u="";if(r>0){l.push({text:!!c.favoritesValue?o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_FAVORITES_REMOVE"):o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_FAVORITES_ADD"),title:!!c.favoritesValue?o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_FAVORITES_REMOVE"):o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_FAVORITES_ADD"),id:"set-group-favorite",onclick:function e(){var t=c.favoritesValue;c.setItemTitle(!t);c.favoritesValue=!t;i.setFavoritesAjax({groupId:s.groupId,favoritesValue:t,callback:{success:function e(i){BX.onCustomEvent(window,"BX.Socialnetwork.WorkgroupFavorites:onSet",[{id:s.groupId,name:i.NAME,url:i.URL,extranet:!o.Type.isUndefined(i.EXTRANET)?i.EXTRANET:"N"},!t]);BX.onCustomEvent(window,"BX.Socialnetwork.WorkgroupMenu:onSetFavorites",[{groupId:s.groupId,value:!t}]);window.top.BX.SidePanel.Instance.postMessageAll(window,"sonetGroupEvent",{code:"afterSetFavorites",data:{groupId:i.ID,value:i.RESULT==="Y"}})},failure:function e(){c.favoritesValue=t;c.setItemTitle(t)}}})}});if(s.perms.canInitiate){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_REQU");if(!!s.isScrumProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_REQU_SCRUM")}else if(!!s.isProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_REQU_PROJECT")}l.push({text:u,title:u,href:s.urls.requestUser})}if(s.perms.canModify){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_EDIT");if(!!s.isScrumProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_EDIT_SCRUM")}else if(!!s.isProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_EDIT_PROJECT")}l.push({text:u,title:u,href:s.urls.edit});if(!s.hideArchiveLinks){var _={text:o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_FEAT"),title:o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_FEAT")};if(s.editFeaturesAllowed){_.href=s.urls.features}else{_.onclick=function(){B24.licenseInfoPopup.show("sonetGroupFeatures",o.Loc.getMessage("SONET_EXT_COMMON_B24_SONET_GROUP_FEATURES_TITLE"),"<span>".concat(o.Loc.getMessage("SONET_EXT_COMMON_B24_SONET_GROUP_FEATURES_TEXT"),"</span>"),true)}}l.push(_)}u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_DELETE");if(!!s.isScrumProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_DELETE_SCRUM")}else if(!!s.isProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_DELETE_PROJECT")}l.push({text:u,title:u,href:s.urls["delete"]})}l.push({text:s.perms.canModerate?o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_MEMBERS_EDIT"):o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_MEMBERS_VIEW"),title:s.perms.canModerate?o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_MEMBERS_EDIT"):o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_MEMBERS_VIEW"),href:s.urls.members});if(s.perms.canInitiate){if(s.perms.canProcessRequestsIn){l.push({text:o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_REQ_IN"),title:o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_REQ_IN"),href:s.urls.requests})}u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_REQ_OUT");if(!!s.isScrumProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_REQ_OUT_SCRUM")}else if(!!s.isProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_REQ_OUT_PROJECT")}l.push({text:u,title:u,href:s.urls.requestsOut})}if(s.perms.canModify){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_COPY");if(!!s.isScrumProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_COPY_SCRUM")}else if(!!s.isProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_COPY_PROJECT")}var d={text:u,title:u};if(s.copyFeatureAllowed){d.href=s.urls.copy}else{d.onclick=function(){if(!!s.isProject){BX.UI.InfoHelper.show("limit_task_copy_project",{isLimit:true,limitAnalyticsLabels:{module:"socialnetwork",source:"projectCardActions"}})}else{BX.UI.InfoHelper.show("limit_task_copy_group",{isLimit:true,limitAnalyticsLabels:{module:"socialnetwork",source:"projectCardActions"}})}}}if(!s.isScrumProject){l.push(d)}}if((!o.Type.isStringFilled(s.userRole)||s.userRole===o.Loc.getMessage("USER_TO_GROUP_ROLE_REQUEST")&&s.initiatedByType===o.Loc.getMessage("USER_TO_GROUP_INITIATED_BY_GROUP"))&&!s.hideArchiveLinks){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_JOIN");if(!!s.isScrumProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_JOIN_SCRUM")}else if(!!s.isProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_JOIN_PROJECT")}var E={text:u,title:u};if(!!s.isOpened){E.onclick=function(){i.sendJoinRequest(s)}}else{E.href=s.urls.userRequestGroup}l.push(E)}if(o.Type.isStringFilled(s.userRole)&&s.userRole===o.Loc.getMessage("USER_TO_GROUP_ROLE_REQUEST")&&s.initiatedByType===o.Loc.getMessage("USER_TO_GROUP_INITIATED_BY_USER")&&parseInt(s.initiatedByUserId)===r){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_DELETE_REQUEST");l.push({text:u,title:u,onclick:function e(){i.cancelIncomingRequest(s)}})}if(o.Type.isBoolean(s.perms.canLeave)&&s.perms.canLeave||!o.Type.isBoolean(s.perms.canLeave)&&s.userIsMember&&!s.userIsAutoMember&&s.userRole!==o.Loc.getMessage("USER_TO_GROUP_ROLE_OWNER")){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_EXIT");if(!!s.isScrumProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_EXIT_SCRUM")}else if(!!s.isProject){u=o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_EXIT_PROJECT")}l.push({text:u,title:u,href:s.urls.userLeaveGroup})}if(s.canPickTheme){l.push({text:o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_THEME_DIALOG"),title:o.Loc.getMessage("SONET_EXT_COMMON_GROUP_MENU_THEME_DIALOG"),onclick:function e(){BX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false)}})}}var O=t.MenuManager.create("group-profile-menu",n,l,{offsetTop:5,offsetLeft:n.offsetWidth-18,angle:true,events:{onPopupClose:function e(){if(n.tagName==="BUTTON"){n.classList.remove("ui-btn-active")}}}});var p=O.getMenuItem("set-group-favorite");if(p){c.menuItem=p.layout.text}O.popupWindow.show();c.menuPopup=O}},{key:"sendJoinRequest",value:function e(t){n.getInstance().show();if(a.getInstance()&&a.getInstance().menuPopup){a.getInstance().menuPopup.close()}o.ajax({url:t.urls.userRequestGroup,method:"POST",dataType:"json",data:{groupID:t.groupId,MESSAGE:"",ajax_request:"Y",save:"Y",sessid:o.Loc.getMessage("bitrix_sessid")},onsuccess:function e(s){n.getInstance().hide();if(o.Type.isStringFilled(s.MESSAGE)&&s.MESSAGE==="SUCCESS"&&o.Type.isStringFilled(s.URL)){BX.onCustomEvent(window.top,"sonetGroupEvent",[{code:"afterJoinRequestSend",data:{groupId:t.groupId}}]);top.location.href=s.URL}},onfailure:function e(){n.getInstance().hide()}})}},{key:"cancelIncomingRequest",value:function e(t){var s=this;n.getInstance().show();if(a.getInstance()&&a.getInstance().menuPopup){a.getInstance().menuPopup.close()}o.ajax.runAction("socialnetwork.api.usertogroup.cancelIncomingRequest",{data:{groupId:t.groupId,userId:parseInt(o.Loc.getMessage("USER_ID"))}}).then((function(e){n.getInstance().hide();window.top.BX.SidePanel.Instance.postMessageAll(window,"sonetGroupEvent",{code:"afterIncomingRequestCancel",data:{groupId:t.groupId}});s.reload()}))["catch"]((function(e){n.getInstance().hide()}))}},{key:"setFavoritesAjax",value:function e(t){o.ajax.runAction("socialnetwork.api.workgroup.setFavorites",{data:{params:{groupId:t.groupId,value:t.favoritesValue===false?"Y":"N",getAdditionalResultData:true}},analyticsLabel:{b24statAction:t.favoritesValue?"removeFavSonetGroup":"addFavSonetGroup"}}).then((function(e){t.callback.success(e.data)}))["catch"]((function(e){t.callback.failure({ERROR:e.errors[0].message})}))}},{key:"reload",value:function e(){if(top!==window){if(!o.Type.isUndefined(top.BX.SidePanel)){top.BX.SidePanel.Instance.getSliderByWindow(window).showLoader()}window.location.reload()}else if(!o.Type.isUndefined(top.BX.SidePanel)&&top.BX.SidePanel.Instance.isOpen()){top.location.href=top.BX.SidePanel.Instance.getPageUrl()}else{top.location.reload()}}},{key:"reloadBlock",value:function e(t){if(!o.Type.isPlainObject(t)||!o.Type.isStringFilled(t.blockId)||!document.getElementById(t.blockId)){return}var s="";if(!o.Type.isUndefined(top.BX.SidePanel)&&top.BX.SidePanel.Instance.isOpen()){s=top.BX.SidePanel.Instance.getPageUrl()}else{s=window.location.href}o.ajax.promise({url:s,method:"POST",dataType:"json",data:{BLOCK_RELOAD:"Y",BLOCK_ID:t.blockId}}).then((function(e){if(!o.Type.isUndefined(e.CONTENT)){document.getElementById(t.blockId).innerHTML=e.CONTENT;setTimeout((function(){o.ajax.processRequestData(e.CONTENT,{dataType:"HTML"})}),0)}}))}},{key:"closeGroupCardMenu",value:function e(t){if(!t){return}var s=t.ownerDocument;var i=s.defaultView||s.parentWindow;if(!i||o.Type.isUndefined(i.BX.Socialnetwork.UIGroupMenu)||!i.BX.Socialnetwork.UIGroupMenu.getInstance().menuPopup){return}i.BX.Socialnetwork.UIGroupMenu.getInstance().menuPopup.close()}}]);return e}();babelHelpers.defineProperty(c,"showError",r.showError);babelHelpers.defineProperty(c,"hideError",r.hideError);babelHelpers.defineProperty(c,"showButtonWait",r.showButtonWait);babelHelpers.defineProperty(c,"hideButtonWait",r.hideButtonWait);var l=function(){function e(){babelHelpers.classCallCheck(this,e);this.widget=null}babelHelpers.createClass(e,[{key:"show",value:function e(t){if(this.widget){if(this.widget.isShown()){this.widget.close();return}}var s=this.getData({targetNode:t});if(o.Type.isNull(s)){return}this.widget=this.getWidget({targetNode:t,data:s});if(this.widget){this.widget.show()}}},{key:"hide",value:function e(){if(this.widget&&this.widget.isShown()){this.widget.close()}}},{key:"getData",value:function e(t){return{}}},{key:"getWidget",value:function e(t){return null}}]);return e}();var u,_,d;var E=function(e){babelHelpers.inherits(t,e);function t(e){var s;babelHelpers.classCallCheck(this,t);s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));s.groupId=!o.Type.isUndefined(e.groupId)?parseInt(e.groupId):0;s.avatarPath=o.Type.isStringFilled(e.avatarPath)?e.avatarPath:"";s.avatarType=o.Type.isStringFilled(e.avatarType)?e.avatarType:"";s.projectTypeCode=o.Type.isStringFilled(e.projectTypeCode)?e.projectTypeCode:"";s.urls=o.Type.isPlainObject(e.urls)?e.urls:{};s.perms=o.Type.isPlainObject(e.perms)?e.perms:{};return s}babelHelpers.createClass(t,[{key:"getData",value:function e(t){var s=null;var i=t.targetNode;if(!o.Type.isDomNode(i)){return s}s=i.getAttribute("data-workgroup");try{s=JSON.parse(s)}catch(e){s=null}return s}},{key:"getWidget",value:function e(t){var s=o.Type.isDomNode(t.targetNode)?t.targetNode:null;if(!s){return null}var n=o.Type.isPlainObject(t.data)?t.data:{};return new i.PopupComponentsMaker({target:s,content:[{html:[{html:this.renderAbout(n)}]},{html:[{html:this.renderMembers(n)},{html:this.renderRoles(n)}]}]})}},{key:"renderAbout",value:function e(){var t=this;var s="<i></i>";if(o.Type.isStringFilled(this.avatarPath)){s="<i style=\"background: #fff url('".concat(encodeURI(this.avatarPath),"') no-repeat; background-size: cover;\"></i>")}var i="";var n="";switch(this.projectTypeCode.toLowerCase()){case"project":i=o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_TITLE_PROJECT");n=o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_DESCRIPTION_PROJECT");break;case"scrum":i=o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_TITLE_SCRUM");n=o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_DESCRIPTION_SCRUM");break;default:i=o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_TITLE_GROUP");n=o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_DESCRIPTION_GROUP")}var a=["sonet-common-widget-avatar"];if(!o.Type.isStringFilled(this.avatarPath)&&o.Type.isStringFilled(this.avatarType)){a.push("sonet-common-workgroup-avatar");a.push("--".concat(this.avatarType))}else{a.push("ui-icon");a.push("ui-icon-common-user-group")}var r=o.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="sonet-common-widget-item">\n\t\t\t\t<div class="sonet-common-widget-item-container">\n\t\t\t\t\t<div class="','">','</div>\n\t\t\t\t\t<div class="sonet-common-widget-item-content">\n\t\t\t\t\t\t<div class="sonet-common-widget-item-title">','</div>\n\t\t\t\t\t\t<div class="sonet-common-widget-item-description">',"</div>\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),a.join(" "),s,i,n);o.Event.bind(r,"click",(function(){if(!o.Type.isStringFilled(t.urls.card)){return}BX.SidePanel.Instance.open(t.urls.card,{width:900,loader:"socialnetwork:group-card"});t.hide()}));return r}},{key:"renderMembers",value:function e(){var t=this;var s=o.Tag.render(_||(_=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="sonet-common-widget-item">\n\t\t\t\t<div class="sonet-common-widget-item-container">\n\t\t\t\t\t<div class="sonet-common-widget-icon ui-icon ui-icon-common-light-company"><i></i></div>\n\t\t\t\t\t<div class="sonet-common-widget-item-content">\n\t\t\t\t\t\t<div class="sonet-common-widget-item-title">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_MEMBERS_TITLE"));o.Event.bind(s,"click",(function(){if(!o.Type.isStringFilled(t.urls.members)){return}BX.SidePanel.Instance.open(t.urls.members,{width:1200,loader:"group-users-loader"});t.hide()}));return s}},{key:"renderRoles",value:function e(){var t=this;var s=o.Type.isBoolean(this.perms.canModify)&&this.perms.canModify;var i=!s?'data-hint="'.concat(o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_ROLES_TITLE_NO_PERMISSIONS"),'" data-hint-no-icon'):"";var n=o.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="sonet-common-widget-item" ','>\n\t\t\t\t<div class="sonet-common-widget-item-container">\n\t\t\t\t\t<div class="sonet-common-widget-icon ui-icon ui-icon-service-light-roles-rights"><i></i></div>\n\t\t\t\t\t<div class="sonet-common-widget-item-content">\n\t\t\t\t\t\t<div class="sonet-common-widget-item-title">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),i,o.Loc.getMessage("SONET_EXT_COMMON_WORKGROUP_WIDGET_ROLES_TITLE"));o.Event.bind(n,"click",(function(){if(!s||!o.Type.isStringFilled(t.urls.features)){return}BX.SidePanel.Instance.open(t.urls.features,{width:800,loader:"group-features-loader"});t.hide()}));return n}}]);return t}(l);BX.SocialnetworkUICommon=c;BX.SocialnetworkUICommon.Waiter=n;BX.SocialnetworkUICommon.SonetGroupMenu=a;BX.Socialnetwork.UIWorkgroupWidget=E;e.Common=c;e.Waiter=n;e.SonetGroupMenu=a;e.WorkgroupWidget=E;e.RecallJoinRequest=r})(this.BX.Socialnetwork.UI=this.BX.Socialnetwork.UI||{},BX.Main,BX.UI,BX.UI,BX);
//# sourceMappingURL=common.bundle.map.js