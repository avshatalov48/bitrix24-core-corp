{"version":3,"file":"common.bundle.js","sources":["../src/waiter.js","../src/sonetgroupmenu.js","../src/widget.js","../src/workgroupwidget.js","../src/index.js"],"sourcesContent":["import {Type} from 'main.core';\n\nexport class Waiter\n{\n\tstatic instance = null;\n\n\tstatic getInstance()\n\t{\n\t\tif (Type.isNull(Waiter.instance))\n\t\t{\n\t\t\tWaiter.instance = new Waiter();\n\t\t}\n\n\t\treturn Waiter.instance;\n\t}\n\n\tconstructor()\n\t{\n\t\tthis.waitTimeout = null;\n\t\tthis.waitPopup = null;\n\n\t}\n\n\tshow(timeout)\n\t{\n\t\tif (timeout !== 0)\n\t\t{\n\t\t\treturn (this.waitTimeout = setTimeout(() => {\n\t\t\t\tthis.show(0);\n\t\t\t}, 50));\n\t\t}\n\n\t\tif (!this.waitPopup)\n\t\t{\n\t\t\tthis.waitPopup = new BX.PopupWindow('sonet_common_wait_popup', window, {\n\t\t\t\tautoHide: true,\n\t\t\t\tlightShadow: true,\n\t\t\t\tzIndex: 2,\n\t\t\t\tcontent: BX.create('DIV', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: 'sonet-wait-cont'\n\t\t\t\t\t},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tBX.create('DIV', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: 'sonet-wait-icon'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tBX.create('DIV', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: 'sonet-wait-text'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thtml: BX.message('SONET_EXT_COMMON_WAIT')\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.waitPopup.setBindElement(window);\n\t\t}\n\n\t\tthis.waitPopup.show();\n\t}\n\n\thide()\n\t{\n\t\tif (this.waitTimeout)\n\t\t{\n\t\t\tclearTimeout(this.waitTimeout);\n\t\t\tthis.waitTimeout = null;\n\t\t}\n\n\t\tif (this.waitPopup)\n\t\t{\n\t\t\tthis.waitPopup.close();\n\t\t}\n\t}\n}\n","import {Type, Loc} from 'main.core';\n\nexport class SonetGroupMenu\n{\n\tstatic instance = null;\n\n\tconstructor()\n\t{\n\t\tthis.menuPopup = null;\n\t\tthis.menuItem = null;\n\t\tthis.favoritesValue = null;\n\t}\n\n\tstatic getInstance()\n\t{\n\t\tif (Type.isNull(this.instance))\n\t\t{\n\t\t\tthis.instance = new SonetGroupMenu();\n\n\t\t\tBX.addCustomEvent('SidePanel.Slider:onClose', () => {\n\t\t\t\tif (this.instance.menuPopup)\n\t\t\t\t{\n\t\t\t\t\tthis.instance.menuPopup.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBX.addCustomEvent('BX.Socialnetwork.WorkgroupMenuIcon:onSetFavorites', (params) => {\n\t\t\t\tthis.getInstance().setItemTitle(params.value);\n\t\t\t});\n\t\t}\n\n\t\treturn this.instance;\n\t}\n\n\tsetItemTitle(value)\n\t{\n\t\tif (!Type.isDomNode(this.menuItem))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.menuItem.innerHTML = (value ? Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_FAVORITES_REMOVE') : Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_FAVORITES_ADD'));\n\t}\n}\n","import {Type} from 'main.core';\n\nexport class Widget\n{\n\tconstructor()\n\t{\n\t\tthis.widget = null;\n\t}\n\n\tshow(targetNode: HTMLElement)\n\t{\n\t\tif (this.widget)\n\t\t{\n\t\t\tif (this.widget.isShown())\n\t\t\t{\n\t\t\t\tthis.widget.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tconst data = this.getData({\n\t\t\ttargetNode: targetNode,\n\t\t});\n\n\t\tif (Type.isNull(data))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.widget = this.getWidget({\n\t\t\ttargetNode: targetNode,\n\t\t\tdata: data,\n\t\t});\n\n\t\tif (this.widget)\n\t\t{\n\t\t\tthis.widget.show();\n\t\t}\n\t}\n\n\thide()\n\t{\n\t\tif (\n\t\t\tthis.widget\n\t\t\t&& this.widget.isShown()\n\t\t)\n\t\t{\n\t\t\tthis.widget.close();\n\t\t}\n\t}\n\n\tgetData(params)\n\t{\n\t\treturn {};\n\t}\n\n\tgetWidget(params)\n\t{\n\t\treturn null;\n\t}\n}\n","import {Type, Tag, Loc, Event} from 'main.core';\nimport {PopupComponentsMaker} from 'ui.popupcomponentsmaker';\n\nimport {Widget} from './widget';\n\nexport class WorkgroupWidget extends Widget\n{\n\tconstructor(params) {\n\t\tsuper();\n\n\t\tthis.groupId = (!Type.isUndefined(params.groupId) ? parseInt(params.groupId) : 0);\n\t\tthis.avatarPath = (Type.isStringFilled(params.avatarPath) ? params.avatarPath : '');\n\t\tthis.avatarType = (Type.isStringFilled(params.avatarType) ? params.avatarType : '');\n\t\tthis.projectTypeCode = (Type.isStringFilled(params.projectTypeCode) ? params.projectTypeCode : '');\n\t\tthis.urls = (Type.isPlainObject(params.urls) ? params.urls : {});\n\t\tthis.perms = (Type.isPlainObject(params.perms) ? params.perms : {});\n\t}\n\n\tgetData(params)\n\t{\n\t\tlet data = null;\n\n\t\tconst targetNode = params.targetNode;\n\t\tif (!Type.isDomNode(targetNode))\n\t\t{\n\t\t\treturn data;\n\t\t}\n\n\t\tdata = targetNode.getAttribute('data-workgroup');\n\t\ttry\n\t\t{\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\tcatch (err)\n\t\t{\n\t\t\tdata = null;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tgetWidget(params)\n\t{\n\t\tconst targetNode = (Type.isDomNode(params.targetNode) ? params.targetNode : null);\n\t\tif (!targetNode)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tconst data = (Type.isPlainObject(params.data) ? params.data : {});\n\n\t\treturn new PopupComponentsMaker({\n\t\t\ttarget: targetNode,\n\t\t\tcontent: [\n\t\t\t\t{\n\t\t\t\t\thtml: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderAbout(data)\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\thtml: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderMembers(data),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml: this.renderRoles(data),\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t]\n\t\t});\n\t}\n\n\trenderAbout()\n\t{\n\t\tlet avatar = '<i></i>';\n\t\tif (Type.isStringFilled(this.avatarPath))\n\t\t{\n\t\t\tavatar = `<i style=\"background: #fff url('${this.avatarPath}') no-repeat; background-size: cover;\"></i>`;\n\t\t}\n\n\t\tlet title = '';\n\t\tlet description = '';\n\n\t\tswitch (this.projectTypeCode.toLowerCase())\n\t\t{\n\t\t\tcase 'project':\n\t\t\t\ttitle = Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_TITLE_PROJECT');\n\t\t\t\tdescription = Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_DESCRIPTION_PROJECT');\n\t\t\t\tbreak;\n\t\t\tcase 'scrum':\n\t\t\t\ttitle = Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_TITLE_SCRUM');\n\t\t\t\tdescription = Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_DESCRIPTION_SCRUM');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttitle = Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_TITLE_GROUP');\n\t\t\t\tdescription = Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_ABOUT_DESCRIPTION_GROUP');\n\t\t}\n\n\t\tconst classList = [\n\t\t\t'sonet-common-widget-avatar',\n\t\t];\n\t\tif (\n\t\t\t!Type.isStringFilled(this.avatarPath)\n\t\t\t&& Type.isStringFilled(this.avatarType)\n\t\t)\n\t\t{\n\t\t\tclassList.push('sonet-common-workgroup-avatar');\n\t\t\tclassList.push(`--${this.avatarType}`);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tclassList.push('ui-icon');\n\t\t\tclassList.push('ui-icon-common-user-group');\n\t\t}\n\n\t\tconst node = Tag.render`\n\t\t\t<div class=\"sonet-common-widget-item\">\n\t\t\t\t<div class=\"sonet-common-widget-item-container\">\n\t\t\t\t\t<div class=\"${classList.join(' ')}\">${avatar}</div>\n\t\t\t\t\t<div class=\"sonet-common-widget-item-content\">\n\t\t\t\t\t\t<div class=\"sonet-common-widget-item-title\">${title}</div>\n\t\t\t\t\t\t<div class=\"sonet-common-widget-item-description\">${description}</div>\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(node, 'click', () => {\n\t\t\tif (!Type.isStringFilled(this.urls.card))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tBX.SidePanel.Instance.open(this.urls.card, {\n\t\t\t\twidth: 900,\n\t\t\t\tloader: 'group-card-loader',\n\t\t\t});\n\n\t\t\tthis.hide();\n\t\t});\n\n\t\treturn node;\n\t}\n\n\trenderMembers()\n\t{\n\t\tconst node = Tag.render`\n\t\t\t<div class=\"sonet-common-widget-item\">\n\t\t\t\t<div class=\"sonet-common-widget-item-container\">\n\t\t\t\t\t<div class=\"sonet-common-widget-icon ui-icon ui-icon-common-light-company\"><i></i></div>\n\t\t\t\t\t<div class=\"sonet-common-widget-item-content\">\n\t\t\t\t\t\t<div class=\"sonet-common-widget-item-title\">${Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_MEMBERS_TITLE')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(node, 'click', () => {\n\t\t\tif (!Type.isStringFilled(this.urls.members))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tBX.SidePanel.Instance.open(this.urls.members, {\n\t\t\t\twidth: 1200,\n\t\t\t\tloader: 'group-users-loader'\n\t\t\t});\n\n\t\t\tthis.hide();\n\t\t});\n\n\t\treturn node;\n\t}\n\n\trenderRoles()\n\t{\n\t\tconst canOpen = (\n\t\t\tType.isBoolean(this.perms.canModify)\n\t\t\t&& this.perms.canModify\n\t\t);\n\n\t\tconst hint = (!canOpen ? `data-hint=\"${Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_ROLES_TITLE_NO_PERMISSIONS')}\" data-hint-no-icon` : '');\n\n\t\tconst node = Tag.render`\n\t\t\t<div class=\"sonet-common-widget-item\" ${hint}>\n\t\t\t\t<div class=\"sonet-common-widget-item-container\">\n\t\t\t\t\t<div class=\"sonet-common-widget-icon ui-icon ui-icon-service-light-roles-rights\"><i></i></div>\n\t\t\t\t\t<div class=\"sonet-common-widget-item-content\">\n\t\t\t\t\t\t<div class=\"sonet-common-widget-item-title\">${Loc.getMessage('SONET_EXT_COMMON_WORKGROUP_WIDGET_ROLES_TITLE')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(node, 'click', () => {\n\n\t\t\tif (\n\t\t\t\t!canOpen\n\t\t\t\t|| !Type.isStringFilled(this.urls.features)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tBX.SidePanel.Instance.open(this.urls.features, {\n\t\t\t\twidth: 800,\n\t\t\t\tloader: 'group-features-loader'\n\t\t\t});\n\n\t\t\tthis.hide();\n\t\t});\n\n\t\treturn node;\n\t}\n}\n","import {Type, Loc, Dom, ajax} from 'main.core';\nimport {Popup, MenuManager} from 'main.popup'\n\nimport {Waiter} from './waiter.js';\nimport {SonetGroupMenu} from './sonetgroupmenu.js';\nimport {WorkgroupWidget} from './workgroupwidget.js';\n\nclass UICommon\n{\n\tstatic showRecallJoinRequestPopup(params)\n\t{\n\t\tif (\n\t\t\tparseInt(params.RELATION_ID) <= 0\n\t\t\t|| !Type.isStringFilled(params.URL_REJECT_OUTGOING_REQUEST)\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet recallText = Loc.getMessage('SONET_EXT_COMMON_RECALL_JOIN_POPUP_TEXT');\n\t\tlet recallButtonTitle = Loc.getMessage('SONET_EXT_COMMON_RECALL_JOIN_POPUP_BUTTON');\n\n\t\tif (Type.isUndefined(params.SCRUM) && !!params.SCRUM)\n\t\t{\n\t\t\trecallText = Loc.getMessage('SONET_EXT_COMMON_RECALL_JOIN_POPUP_TEXT_SCRUM');\n\t\t\trecallButtonTitle = Loc.getMessage('SONET_EXT_COMMON_RECALL_JOIN_POPUP_BUTTON_SCRUM');\n\t\t}\n\t\telse if (Type.isUndefined(params.PROJECT) && !!params.PROJECT)\n\t\t{\n\t\t\trecallText = Loc.getMessage('SONET_EXT_COMMON_RECALL_JOIN_POPUP_TEXT_PROJECT');\n\t\t\trecallButtonTitle = Loc.getMessage('SONET_EXT_COMMON_RECALL_JOIN_POPUP_BUTTON_PROJECT');\n\t\t}\n\t\tconst isProject = (!Type.isUndefined(params.PROJECT) ? !!params.PROJECT : false);\n\n\t\tconst successPopup = new Popup('bx-group-join-successfull-request-popup', window, {\n\t\t\twidth: 420,\n\t\t\tautoHide: true,\n\t\t\tlightShadow: false,\n\t\t\tzIndex: 1000,\n\t\t\toverlay: true,\n\t\t\tcontent: Dom.create('DIV', {\n\t\t\t\tchildren: [\n\t\t\t\t\tDom.create('DIV', {\n\t\t\t\t\t\ttext: Loc.getMessage('SONET_EXT_COMMON_RECALL_JOIN_POPUP_TITLE'),\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tclassName: 'sonet-group-join-successfull-request-popup-title',\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tDom.create('DIV', {\n\t\t\t\t\t\ttext: recallText,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tclassName: 'sonet-group-join-successfull-request-popup-text',\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tDom.create('DIV', {\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tclassName: 'sonet-ui-btn-cont sonet-ui-btn-cont-center'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\tDom.create('DIV', {\n\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\tDom.create('BUTTON', {\n\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'ui-btn ui-btn-md ui-btn-danger',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\t\t\tclick: (event) => {\n\n\t\t\t\t\t\t\t\t\t\t\t\tconst _currentTarget = event.currentTarget;\n\t\t\t\t\t\t\t\t\t\t\t\tconst errorNode = document.getElementById('bx-group-delete-request-error');\n\t\t\t\t\t\t\t\t\t\t\t\tthis.hideError(errorNode);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.showButtonWait(_currentTarget);\n\n\t\t\t\t\t\t\t\t\t\t\t\tajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: params.URL_REJECT_OUTGOING_REQUEST,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'reject',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax_count: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked_0: 'Y',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype_0: 'INVITE_GROUP',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid_0: params.RELATION_ID,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'out',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tajax_request: 'Y',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsessid: Loc.getMessage('bitrix_sessid'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tonsuccess: (deleteResponseData) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.hideButtonWait(_currentTarget);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tType.isStringFilled(deleteResponseData.MESSAGE)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&& deleteResponseData.MESSAGE === 'SUCCESS'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccessPopup.destroy();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (Type.isStringFilled(params.URL_GROUPS_LIST))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop.location.href = params.URL_GROUPS_LIST;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse if (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tType.isStringFilled(deleteResponseData.MESSAGE)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&& deleteResponseData.MESSAGE === 'ERROR'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&& Type.isStringFilled(deleteResponseData.ERROR_MESSAGE)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.showError(deleteResponseData.ERROR_MESSAGE, errorNode);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tonfailure: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.showError(Loc.getMessage('SONET_EXT_COMMON_AJAX_ERROR'), errorNode);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.hideButtonWait(_currentTarget);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ttext: recallButtonTitle,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}),\n\t\t\tcloseByEsc: true,\n\t\t\tcloseIcon: true,\n\t\t});\n\n\t\tsuccessPopup.show();\n\t}\n\n\tstatic showGroupMenuPopup(params)\n\t{\n\t\tlet bindElement = params.bindElement;\n\t\tif (Type.isStringFilled(bindElement))\n\t\t{\n\t\t\tbindElement = document.getElementById(bindElement);\n\t\t}\n\n\t\tconst currentUserId = parseInt(Loc.getMessage('USER_ID'));\n\t\tconst sonetGroupMenu = SonetGroupMenu.getInstance();\n\n\t\tif (bindElement.tagName === 'BUTTON')\n\t\t{\n\t\t\tbindElement.classList.add('ui-btn-active');\n\t\t}\n\n\t\tconst menu = [];\n\t\tlet itemTitle = '';\n\n\t\tif (currentUserId > 0)\n\t\t{\n\t\t\tmenu.push({\n\t\t\t\ttext: (!!sonetGroupMenu.favoritesValue ? Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_FAVORITES_REMOVE') : Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_FAVORITES_ADD')),\n\t\t\t\ttitle: (!!sonetGroupMenu.favoritesValue ? Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_FAVORITES_REMOVE') : Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_FAVORITES_ADD')),\n\t\t\t\tid: 'set-group-favorite',\n\t\t\t\tonclick: () => {\n\n\t\t\t\t\tconst favoritesValue = sonetGroupMenu.favoritesValue;\n\n\t\t\t\t\tsonetGroupMenu.setItemTitle(!favoritesValue);\n\t\t\t\t\tsonetGroupMenu.favoritesValue = !favoritesValue;\n\n\t\t\t\t\tthis.setFavoritesAjax({\n\t\t\t\t\t\tgroupId: params.groupId,\n\t\t\t\t\t\tfavoritesValue: favoritesValue,\n\t\t\t\t\t\tcallback: {\n\t\t\t\t\t\t\tsuccess: (data) => {\n\n\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Socialnetwork.WorkgroupFavorites:onSet', [{\n\t\t\t\t\t\t\t\t\tid: params.groupId,\n\t\t\t\t\t\t\t\t\tname: data.NAME,\n\t\t\t\t\t\t\t\t\turl: data.URL,\n\t\t\t\t\t\t\t\t\textranet: (!Type.isUndefined(data.EXTRANET) ? data.EXTRANET : 'N'),\n\t\t\t\t\t\t\t\t}, !favoritesValue]);\n\n\t\t\t\t\t\t\t\tBX.onCustomEvent(window, 'BX.Socialnetwork.WorkgroupMenu:onSetFavorites', [{\n\t\t\t\t\t\t\t\t\tgroupId: params.groupId,\n\t\t\t\t\t\t\t\t\tvalue: !favoritesValue,\n\t\t\t\t\t\t\t\t}]);\n\n\t\t\t\t\t\t\t\twindow.top.BX.SidePanel.Instance.postMessageAll(window, 'sonetGroupEvent', {\n\t\t\t\t\t\t\t\t\tcode: 'afterSetFavorites',\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\tgroupId: data.ID,\n\t\t\t\t\t\t\t\t\t\tvalue: (data.RESULT === 'Y')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfailure: () => {\n\t\t\t\t\t\t\t\tsonetGroupMenu.favoritesValue = favoritesValue;\n\t\t\t\t\t\t\t\tsonetGroupMenu.setItemTitle(favoritesValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (params.perms.canInitiate)\n\t\t\t{\n\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_REQU');\n\t\t\t\tif (!!params.isScrumProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_REQU_SCRUM');\n\t\t\t\t}\n\t\t\t\telse if (!!params.isProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_REQU_PROJECT');\n\t\t\t\t}\n\t\t\t\tmenu.push({\n\t\t\t\t\ttext: itemTitle,\n\t\t\t\t\ttitle: itemTitle,\n\t\t\t\t\thref: params.urls.requestUser,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (params.perms.canModify)\n\t\t\t{\n\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_EDIT');\n\t\t\t\tif (!!params.isScrumProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_EDIT_SCRUM');\n\t\t\t\t}\n\t\t\t\telse if (!!params.isProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_EDIT_PROJECT');\n\t\t\t\t}\n\t\t\t\tmenu.push({\n\t\t\t\t\ttext: itemTitle,\n\t\t\t\t\ttitle: itemTitle,\n\t\t\t\t\thref: params.urls.edit,\n\t\t\t\t});\n\n\t\t\t\tif (!params.hideArchiveLinks)\n\t\t\t\t{\n\t\t\t\t\tconst featuresItem = {\n\t\t\t\t\t\ttext: Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_FEAT'),\n\t\t\t\t\t\ttitle: Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_FEAT'),\n\t\t\t\t\t};\n\n\t\t\t\t\tif (params.editFeaturesAllowed)\n\t\t\t\t\t{\n\t\t\t\t\t\tfeaturesItem.href = params.urls.features;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tfeaturesItem.onclick = () => {\n\t\t\t\t\t\t\tB24.licenseInfoPopup.show(\n\t\t\t\t\t\t\t\t'sonetGroupFeatures',\n\t\t\t\t\t\t\t\tLoc.getMessage('SONET_EXT_COMMON_B24_SONET_GROUP_FEATURES_TITLE'),\n\t\t\t\t\t\t\t\t`<span>${Loc.getMessage('SONET_EXT_COMMON_B24_SONET_GROUP_FEATURES_TEXT')}</span>`,\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tmenu.push(featuresItem);\n\t\t\t\t}\n\n\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_DELETE');\n\t\t\t\tif (!!params.isScrumProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_DELETE_SCRUM');\n\t\t\t\t}\n\t\t\t\telse if (!!params.isProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_DELETE_PROJECT');\n\t\t\t\t}\n\t\t\t\tmenu.push({\n\t\t\t\t\ttext: itemTitle,\n\t\t\t\t\ttitle: itemTitle,\n\t\t\t\t\thref: params.urls.delete,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmenu.push({\n\t\t\t\ttext: (params.perms.canModerate ? Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_MEMBERS_EDIT') : Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_MEMBERS_VIEW')),\n\t\t\t\ttitle: (params.perms.canModerate ? Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_MEMBERS_EDIT') : Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_MEMBERS_VIEW')),\n\t\t\t\thref: params.urls.members,\n\t\t\t});\n\n\t\t\tif (params.perms.canInitiate)\n\t\t\t{\n\t\t\t\tif (params.perms.canProcessRequestsIn)\n\t\t\t\t{\n\t\t\t\t\tmenu.push({\n\t\t\t\t\t\ttext: Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_REQ_IN'),\n\t\t\t\t\t\ttitle: Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_REQ_IN'),\n\t\t\t\t\t\thref: params.urls.requests,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_REQ_OUT');\n\t\t\t\tif (!!params.isScrumProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_REQ_OUT_SCRUM');\n\t\t\t\t}\n\t\t\t\telse if (!!params.isProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_REQ_OUT_PROJECT');\n\t\t\t\t}\n\t\t\t\tmenu.push({\n\t\t\t\t\ttext: itemTitle,\n\t\t\t\t\ttitle: itemTitle,\n\t\t\t\t\thref: params.urls.requestsOut,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (params.perms.canModify)\n\t\t\t{\n\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_COPY');\n\t\t\t\tif (!!params.isScrumProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_COPY_SCRUM');\n\t\t\t\t}\n\t\t\t\telse if (!!params.isProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_COPY_PROJECT');\n\t\t\t\t}\n\t\t\t\tconst copyGroupItem = {\n\t\t\t\t\ttext: itemTitle,\n\t\t\t\t\ttitle: itemTitle,\n\t\t\t\t}\n\t\t\t\tif (params.copyFeatureAllowed)\n\t\t\t\t{\n\t\t\t\t\tcopyGroupItem.href = params.urls.copy;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tcopyGroupItem.onclick = () => {\n\t\t\t\t\t\tBX.UI.InfoHelper.show(\n\t\t\t\t\t\t\t(!!params.isProject ? 'limit_task_copy_project' : 'limit_task_copy_group'),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisLimit: true,\n\t\t\t\t\t\t\t\tlimitAnalyticsLabels: {\n\t\t\t\t\t\t\t\t\tmodule: 'socialnetwork',\n\t\t\t\t\t\t\t\t\tsource: 'projectCardActions',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (!params.isScrumProject) // todo remove after scrum copy will done\n\t\t\t\t{\n\t\t\t\t\tmenu.push(copyGroupItem);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t(\n\t\t\t\t\t!Type.isStringFilled(params.userRole)\n\t\t\t\t\t|| (\n\t\t\t\t\t\tparams.userRole === Loc.getMessage('USER_TO_GROUP_ROLE_REQUEST')\n\t\t\t\t\t\t&& params.initiatedByType === Loc.getMessage('USER_TO_GROUP_INITIATED_BY_GROUP')\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t&& !params.hideArchiveLinks\n\t\t\t)\n\t\t\t{\n\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_JOIN');\n\t\t\t\tif (!!params.isScrumProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_JOIN_SCRUM');\n\t\t\t\t}\n\t\t\t\telse if (!!params.isProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_JOIN_PROJECT');\n\t\t\t\t}\n\t\t\t\tconst userRequestItem = {\n\t\t\t\t\ttext: itemTitle,\n\t\t\t\t\ttitle: itemTitle,\n\t\t\t\t};\n\n\t\t\t\tif (!!params.isOpened)\n\t\t\t\t{\n\t\t\t\t\tuserRequestItem.onclick = () => {\n\t\t\t\t\t\tthis.sendJoinRequest(params);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tuserRequestItem.href = params.urls.userRequestGroup;\n\t\t\t\t}\n\t\t\t\tmenu.push(userRequestItem);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tparams.userIsMember\n\t\t\t\t&& !params.userIsAutoMember\n\t\t\t\t&& params.userRole !== Loc.getMessage('USER_TO_GROUP_ROLE_OWNER')\n\t\t\t)\n\t\t\t{\n\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_EXIT');\n\t\t\t\tif (!!params.isScrumProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_EXIT_SCRUM');\n\t\t\t\t}\n\t\t\t\telse if (!!params.isProject)\n\t\t\t\t{\n\t\t\t\t\titemTitle = Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_EXIT_PROJECT');\n\t\t\t\t}\n\t\t\t\tmenu.push({\n\t\t\t\t\ttext: itemTitle,\n\t\t\t\t\ttitle: itemTitle,\n\t\t\t\t\thref: params.urls.userLeaveGroup\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (params.canPickTheme)\n\t\t\t{\n\t\t\t\tmenu.push({\n\t\t\t\t\ttext: Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_THEME_DIALOG'),\n\t\t\t\t\ttitle: Loc.getMessage('SONET_EXT_COMMON_GROUP_MENU_THEME_DIALOG'),\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tBX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tconst popup = MenuManager.create('group-profile-menu', bindElement, menu, {\n\t\t\toffsetTop: 5,\n\t\t\toffsetLeft : (bindElement.offsetWidth - 18),\n\t\t\tangle : true,\n\t\t\tevents : {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tif (bindElement.tagName === 'BUTTON')\n\t\t\t\t\t{\n\t\t\t\t\t\tbindElement.classList.remove('ui-btn-active');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst item = popup.getMenuItem('set-group-favorite');\n\t\tif (item)\n\t\t{\n\t\t\tsonetGroupMenu.menuItem = item.layout.text;\n\t\t}\n\n\t\tpopup.popupWindow.show();\n\t\tsonetGroupMenu.menuPopup = popup;\n\t}\n\n\tstatic sendJoinRequest(params)\n\t{\n\t\tWaiter.getInstance().show();\n\n\t\tif (\n\t\t\tSonetGroupMenu.getInstance()\n\t\t\t&& SonetGroupMenu.getInstance().menuPopup\n\t\t)\n\t\t{\n\t\t\tSonetGroupMenu.getInstance().menuPopup.close();\n\t\t}\n\n\t\tajax({\n\t\t\turl: params.urls.userRequestGroup,\n\t\t\tmethod: 'POST',\n\t\t\tdataType: 'json',\n\t\t\tdata: {\n\t\t\t\tgroupID: params.groupId,\n\t\t\t\tMESSAGE: '',\n\t\t\t\tajax_request: 'Y',\n\t\t\t\tsave: 'Y',\n\t\t\t\tsessid: Loc.getMessage('bitrix_sessid'),\n\t\t\t},\n\t\t\tonsuccess: (responseData) => {\n\t\t\t\tWaiter.getInstance().hide();\n\t\t\t\tif (\n\t\t\t\t\tType.isStringFilled(responseData.MESSAGE)\n\t\t\t\t\t&& responseData.MESSAGE === 'SUCCESS'\n\t\t\t\t\t&& Type.isStringFilled(responseData.URL)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tBX.onCustomEvent(window.top, 'sonetGroupEvent', [ {\n\t\t\t\t\t\tcode: 'afterJoinRequestSend',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tgroupId: params.groupId\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]);\n\t\t\t\t\ttop.location.href = responseData.URL;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonfailure: () => {\n\t\t\t\tWaiter.getInstance().hide();\n\t\t\t},\n\t\t});\n\t}\n\n\tstatic setFavoritesAjax(params)\n\t{\n\t\tajax.runAction('socialnetwork.api.workgroup.setFavorites', {\n\t\t\tdata: {\n\t\t\t\tparams: {\n\t\t\t\t\tgroupId: params.groupId,\n\t\t\t\t\tvalue: (params.favoritesValue === false ? 'Y' : 'N'),\n\t\t\t\t\tgetAdditionalResultData: true,\n\t\t\t\t}\n\t\t\t},\n\t\t\tanalyticsLabel: {\n\t\t\t\tb24statAction: (params.favoritesValue ? 'removeFavSonetGroup' : 'addFavSonetGroup')\n\t\t\t}\n\t\t}).then((response) => {\n\t\t\tparams.callback.success(response.data);\n\t\t}).catch((response) => {\n\t\t\tparams.callback.failure({\n\t\t\t\tERROR: response.errors[0].message,\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic showButtonWait(buttonNode)\n\t{\n\t\tif (Type.isStringFilled(buttonNode))\n\t\t{\n\t\t\tbuttonNode = document.getElementById(buttonNode);\n\t\t}\n\n\t\tif (!Type.isDomNode(buttonNode))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tbuttonNode.classList.add('ui-btn-clock');\n\t\tbuttonNode.disabled = true;\n\t\tbuttonNode.style.cursor = 'auto';\n\n\t}\n\n\tstatic hideButtonWait(buttonNode)\n\t{\n\t\tif (Type.isStringFilled(buttonNode))\n\t\t{\n\t\t\tbuttonNode = document.getElementById(buttonNode);\n\t\t}\n\n\t\tif (!Type.isDomNode(buttonNode))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tbuttonNode.classList.remove('ui-btn-clock');\n\t\tbuttonNode.disabled = false;\n\t\tbuttonNode.style.cursor = 'cursor';\n\t}\n\n\tstatic showError(errorText, errorNode)\n\t{\n\t\tif (Type.isStringFilled(errorNode))\n\t\t{\n\t\t\terrorNode = document.getElementById(errorNode);\n\t\t}\n\n\t\tif (!Type.isDomNode(errorNode))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\terrorNode.innerHTML = errorText;\n\t\terrorNode.classList.remove('sonet-ui-form-error-block-invisible');\n\t}\n\n\tstatic hideError(errorNode)\n\t{\n\t\tif (Type.isStringFilled(errorNode))\n\t\t{\n\t\t\terrorNode = document.getElementById(errorNode);\n\t\t}\n\n\t\tif (!Type.isDomNode(errorNode))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\terrorNode.classList.add('sonet-ui-form-error-block-invisible');\n\t}\n\n\tstatic reload()\n\t{\n\t\tif (top !== window) // current page in slider\n\t\t{\n\t\t\tif (!Type.isUndefined(top.BX.SidePanel))\n\t\t\t{\n\t\t\t\ttop.BX.SidePanel.Instance.getSliderByWindow(window).showLoader();\n\t\t\t}\n\t\t\twindow.location.reload();\n\t\t}\n\t\telse if (\n\t\t\t!Type.isUndefined(top.BX.SidePanel)\n\t\t\t&& top.BX.SidePanel.Instance.isOpen()\n\t\t) // there's an open slider\n\t\t{\n\t\t\ttop.location.href = top.BX.SidePanel.Instance.getPageUrl();\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttop.location.reload();\n\t\t}\n\t}\n\n\tstatic reloadBlock(params)\n\t{\n\t\tif (\n\t\t\t!Type.isPlainObject(params)\n\t\t\t|| !Type.isStringFilled(params.blockId)\n\t\t\t|| !document.getElementById(params.blockId)\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet url = '';\n\n\t\tif (\n\t\t\t!Type.isUndefined(top.BX.SidePanel)\n\t\t\t&& top.BX.SidePanel.Instance.isOpen()\n\t\t) // there's an open slider\n\t\t{\n\t\t\turl = top.BX.SidePanel.Instance.getPageUrl();\n\t\t}\n\t\telse\n\t\t{\n\t\t\turl = window.location.href;\n\t\t}\n\n\t\tajax.promise({\n\t\t\turl: url,\n\t\t\tmethod: 'POST',\n\t\t\tdataType: 'json',\n\t\t\tdata: {\n\t\t\t\tBLOCK_RELOAD: 'Y',\n\t\t\t\tBLOCK_ID: params.blockId\n\t\t\t}\n\t\t}).then((data) => {\n\t\t\tif (!Type.isUndefined(data.CONTENT))\n\t\t\t{\n\t\t\t\tdocument.getElementById(params.blockId).innerHTML = data.CONTENT;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tajax.processRequestData(data.CONTENT, {\n\t\t\t\t\t\tdataType: 'HTML'\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic closeGroupCardMenu(node)\n\t{\n\t\tif (!node)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst doc = node.ownerDocument;\n\t\tconst win = doc.defaultView || doc.parentWindow;\n\n\t\tif (\n\t\t\t!win\n\t\t\t|| Type.isUndefined(win.BX.Socialnetwork.UIGroupMenu)\n\t\t\t|| !win.BX.Socialnetwork.UIGroupMenu.getInstance().menuPopup\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\twin.BX.Socialnetwork.UIGroupMenu.getInstance().menuPopup.close();\n\t}\n\n}\n\nexport {\n\tUICommon,\n\tWaiter as UIWaiter,\n\tSonetGroupMenu as UIGroupMenu,\n\tWorkgroupWidget as UIWorkgroupWidget,\n}\n\n/** @deprecated use BX.Socialnetwork.UICommon */\nBX.SocialnetworkUICommon = UICommon;\n\n/** @deprecated use BX.Socialnetwork.UIWaiter */\nBX.SocialnetworkUICommon.Waiter = Waiter;\n\n/** @deprecated use BX.Socialnetwork.UIGroupMenu */\nBX.SocialnetworkUICommon.SonetGroupMenu = SonetGroupMenu;\n"],"names":["Waiter","Type","isNull","instance","waitTimeout","waitPopup","timeout","setTimeout","show","BX","PopupWindow","window","autoHide","lightShadow","zIndex","content","create","props","className","children","html","message","setBindElement","clearTimeout","close","SonetGroupMenu","menuPopup","menuItem","favoritesValue","value","isDomNode","innerHTML","Loc","getMessage","addCustomEvent","params","getInstance","setItemTitle","Widget","widget","targetNode","isShown","data","getData","getWidget","WorkgroupWidget","groupId","isUndefined","parseInt","avatarPath","isStringFilled","avatarType","projectTypeCode","urls","isPlainObject","perms","getAttribute","JSON","parse","err","PopupComponentsMaker","target","renderAbout","renderMembers","renderRoles","avatar","title","description","toLowerCase","classList","push","node","Tag","render","join","Event","bind","card","SidePanel","Instance","open","width","loader","hide","members","canOpen","isBoolean","canModify","hint","features","UICommon","RELATION_ID","URL_REJECT_OUTGOING_REQUEST","recallText","recallButtonTitle","SCRUM","PROJECT","isProject","successPopup","Popup","overlay","Dom","text","events","click","event","_currentTarget","currentTarget","errorNode","document","getElementById","hideError","showButtonWait","ajax","url","method","dataType","action","max_count","checked_0","type_0","id_0","type","ajax_request","sessid","onsuccess","deleteResponseData","hideButtonWait","MESSAGE","destroy","URL_GROUPS_LIST","top","location","href","ERROR_MESSAGE","showError","onfailure","closeByEsc","closeIcon","bindElement","currentUserId","sonetGroupMenu","tagName","add","menu","itemTitle","id","onclick","setFavoritesAjax","callback","success","onCustomEvent","name","NAME","URL","extranet","EXTRANET","postMessageAll","code","ID","RESULT","failure","canInitiate","isScrumProject","requestUser","edit","hideArchiveLinks","featuresItem","editFeaturesAllowed","B24","licenseInfoPopup","canModerate","canProcessRequestsIn","requests","requestsOut","copyGroupItem","copyFeatureAllowed","copy","UI","InfoHelper","isLimit","limitAnalyticsLabels","module","source","userRole","initiatedByType","userRequestItem","isOpened","sendJoinRequest","userRequestGroup","userIsMember","userIsAutoMember","userLeaveGroup","canPickTheme","Intranet","Bitrix24","ThemePicker","Singleton","showDialog","popup","MenuManager","offsetTop","offsetLeft","offsetWidth","angle","onPopupClose","remove","item","getMenuItem","layout","popupWindow","groupID","save","responseData","runAction","getAdditionalResultData","analyticsLabel","b24statAction","then","response","ERROR","errors","buttonNode","disabled","style","cursor","errorText","getSliderByWindow","showLoader","reload","isOpen","getPageUrl","blockId","promise","BLOCK_RELOAD","BLOCK_ID","CONTENT","processRequestData","doc","ownerDocument","win","defaultView","parentWindow","Socialnetwork","UIGroupMenu","SocialnetworkUICommon"],"mappings":"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"}