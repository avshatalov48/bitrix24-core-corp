{"version":3,"file":"grid.bundle.js","sources":["../src/pin.js","../src/grid.js","../src/memberspopup.js","../src/scrum-members-popup.js","../src/actions.js","../src/tag.js","../src/filter.js","../src/index.js"],"sourcesContent":["import {Dom, Type} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nimport './css/pin.css';\n\nexport class Pin\n{\n\tstatic class = {\n\t\tpinned: 'sonet-ui-grid-row-pinned',\n\t};\n\n\tconstructor(params)\n\t{\n\t\tthis.grid = params.gridInstance;\n\n\t\tthis.bindEvents();\n\t\tthis.colorPinnedRows();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Main.grid:paramsUpdated', this.onParamsUpdated.bind(this));\n\t}\n\n\tonParamsUpdated()\n\t{\n\t\tthis.colorPinnedRows();\n\t}\n\n\tcolorPinnedRows()\n\t{\n\t\tthis.getRows().forEach((row) => {\n\t\t\tconst node = row.getNode();\n\n\t\t\tthis.getIsPinned(row.getId())\n\t\t\t\t? Dom.addClass(node, Pin.class.pinned)\n\t\t\t\t: Dom.removeClass(node, Pin.class.pinned)\n\t\t\t;\n\t\t});\n\t}\n\n\tresetRows()\n\t{\n\t\tthis.grid.getRows().reset();\n\t}\n\n\tgetRows()\n\t{\n\t\treturn this.grid.getRows().getBodyChild();\n\t}\n\n\tgetLastPinnedRowId()\n\t{\n\t\tconst pinnedRows = Object.values(this.getRows()).filter(row => this.getIsPinned(row.getId()));\n\t\tconst keys = Object.keys(pinnedRows);\n\n\t\tif (keys.length > 0)\n\t\t{\n\t\t\treturn pinnedRows[keys[keys.length - 1]].getId();\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tgetIsPinned(rowId)\n\t{\n\t\treturn (\n\t\t\tthis.isRowExist(rowId)\n\t\t\t&& Type.isDomNode(this.getRowNodeById(rowId).querySelector('.main-grid-cell-content-action-pin.main-grid-cell-content-action-active'))\n\t\t);\n\t}\n\n\tgetRowNodeById(id)\n\t{\n\t\treturn this.getRowById(id).getNode();\n\t}\n\n\tgetRowById(id)\n\t{\n\t\treturn this.grid.getRows().getById(id);\n\t}\n\n\tisRowExist(id)\n\t{\n\t\treturn this.getRowById(id) !== null;\n\t}\n}\n","import {Dom, Type} from 'main.core';\nimport {BaseEvent, EventEmitter} from 'main.core.events';\n\nimport {Pin} from './pin';\n\nimport './css/grid.css';\n\nexport class Grid\n{\n\tstatic get class()\n\t{\n\t\treturn {\n\t\t\thighlighted: 'sonet-ui-grid-row-highlighted',\n\t\t};\n\t}\n\n\tconstructor(options)\n\t{\n\t\tthis.grid = BX.Main.gridManager.getInstanceById(options.id);\n\t\tthis.sort = options.sort;\n\t\tthis.pageSize = parseInt(options.pageSize);\n\t\tthis.stub = options.gridStub;\n\n\t\tthis.items = new Map();\n\t\tthis.fillItems(options.items);\n\n\t\tthis.pinController = new Pin({\n\t\t\tgridInstance: this.getGrid(),\n\t\t});\n\n\t\tthis.init();\n\t\tthis.bindEvents();\n\t}\n\n\tinit()\n\t{\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Main.grid:sort', this.onColumnSort.bind(this));\n\t}\n\n\tonColumnSort(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst grid = data[1];\n\t\tconst column = data[0];\n\n\t\tif (grid === this.getGrid())\n\t\t{\n\t\t\tthis.sort = {};\n\t\t\tthis.sort[column.sort_by] = column.sort_order;\n\t\t}\n\t}\n\n\tgetGrid()\n\t{\n\t\treturn this.grid;\n\t}\n\n\tgetPinController()\n\t{\n\t\treturn this.pinController;\n\t}\n\n\tgetSort()\n\t{\n\t\treturn this.sort;\n\t}\n\n\taddRow(id, data, params)\n\t{\n\t\tconst options = {\n\t\t\tid: id,\n\t\t\tcolumns: data.columns,\n\t\t\tactions: data.actions,\n\t\t\tcellActions: data.cellActions,\n//\t\t\tcounters: data.counters,\n\t\t};\n\n\t\tconst moveParams = params.moveParams || {};\n\n\t\tif (moveParams.rowBefore)\n\t\t{\n\t\t\toptions.insertAfter = moveParams.rowBefore;\n\t\t}\n\t\telse if (moveParams.rowAfter)\n\t\t{\n\t\t\toptions.insertBefore = moveParams.rowAfter;\n\t\t}\n\t\telse\n\t\t{\n\t\t\toptions.append = true;\n\t\t}\n\n\t\tif (this.items.size > this.getCurrentPage() * this.pageSize)\n\t\t{\n\t\t\tconst lastRowId = this.getLastRowId();\n\n\t\t\tthis.removeItem(lastRowId);\n\t\t\tDom.remove(this.getRowNodeById(lastRowId));\n\t\t}\n\n\t\tthis.hideStub();\n\t\tthis.getRealtime().addRow(options);\n\t\tthis.getPinController().colorPinnedRows();\n\n\t\tEventEmitter.emit('SocialNetwork.Projects.Grid:RowAdd', {id});\n\t}\n\n\tupdateRow(id, data, params)\n\t{\n\t\tconst row = this.getRowById(id);\n\n\t\tif (Type.isPlainObject(data))\n\t\t{\n\t\t\tif (!Type.isUndefined(data.columns))\n\t\t\t{\n\t\t\t\trow.setCellsContent(data.columns);\n\t\t\t}\n\n\t\t\tif (!Type.isUndefined(data.actions))\n\t\t\t{\n\t\t\t\trow.setActions(data.actions);\n\t\t\t}\n\n\t\t\tif (!Type.isUndefined(data.cellActions))\n\t\t\t{\n\t\t\t\trow.setCellActions(data.cellActions);\n\t\t\t}\n\n\t\t\tif (!Type.isUndefined(data.counters))\n\t\t\t{\n\t\t\t\trow.setCounters(data.counters);\n\t\t\t}\n\t\t}\n\n\t\tthis.resetRows();\n\t\tthis.moveRow(id, (params.moveParams || {}));\n\t\tthis.highlightRow(id, (params.highlightParams || {}))\n\t\t\t.then(() => this.getPinController().colorPinnedRows(), () => {});\n\n\t\tthis.getGrid().bindOnRowEvents();\n\t}\n\n\tresetRows()\n\t{\n\t\tthis.getRows().reset();\n\t}\n\n\tremoveRow(rowId)\n\t{\n\t\tif (!this.isRowExist(rowId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.removeItem(rowId);\n\t\tthis.grid.removeRow(rowId);\n\t}\n\n\tmoveRow(rowId, params): void\n\t{\n\t\tif (params.skip)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst rowBefore = params.rowBefore || 0;\n\t\tconst rowAfter = params.rowAfter || 0;\n\n\t\tif (rowBefore)\n\t\t{\n\t\t\tthis.getRows().insertAfter(rowId, rowBefore);\n\t\t}\n\t\telse if (rowAfter)\n\t\t{\n\t\t\tthis.getRows().insertBefore(rowId, rowAfter);\n\t\t}\n\t}\n\n\thighlightRow(rowId, params): Promise\n\t{\n\t\tparams = params || {};\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!this.isRowExist(rowId))\n\t\t\t{\n\t\t\t\treject();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (params.skip)\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst node = this.getRowNodeById(rowId);\n\t\t\tconst isPinned = Dom.hasClass(node, Pin.class.pinned);\n\n\t\t\tif (isPinned)\n\t\t\t{\n\t\t\t\tDom.removeClass(node, Pin.class.pinned);\n\t\t\t}\n\n\t\t\tDom.addClass(node, Grid.class.highlighted);\n\t\t\tsetTimeout(() => {\n\t\t\t\tDom.removeClass(node, Grid.class.highlighted);\n\t\t\t\tif (isPinned)\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(node, Pin.class.pinned);\n\t\t\t\t}\n\t\t\t\tresolve();\n\t\t\t}, 900);\n\t\t});\n\t}\n\n\tisRowExist(rowId)\n\t{\n\t\treturn this.getRowById(rowId) !== null;\n\t}\n\n\tgetRows()\n\t{\n\t\treturn this.getGrid().getRows();\n\t}\n\n\tgetRowById(rowId)\n\t{\n\t\treturn this.getRows().getById(rowId);\n\t}\n\n\tgetRowNodeById(id)\n\t{\n\t\treturn this.getRowById(id).getNode();\n\t}\n\n\tgetFirstRowId()\n\t{\n\t\tconst firstRow = this.getRows().getBodyFirstChild();\n\t\treturn (firstRow ? this.getRowProperty(firstRow, 'id') : 0);\n\t}\n\n\tgetLastRowId()\n\t{\n\t\tconst lastRow = this.getRows().getBodyLastChild();\n\t\treturn (lastRow ? this.getRowProperty(lastRow, 'id') : 0);\n\t}\n\n\tgetRowProperty(row, propertyName)\n\t{\n\t\treturn BX.data(row.getNode(), propertyName);\n\t}\n\n\tgetCurrentPage()\n\t{\n\t\treturn this.getGrid().getCurrentPage();\n\t}\n\n\tfillItems(items)\n\t{\n\t\tObject.keys(items).forEach(id => this.addItem(id));\n\t}\n\n\tgetItems()\n\t{\n\t\treturn Array.from(this.items.keys());\n\t}\n\n\thasItem(id)\n\t{\n\t\treturn this.items.has(parseInt(id));\n\t}\n\n\taddItem(id)\n\t{\n\t\tthis.items.set(parseInt(id));\n\t}\n\n\tremoveItem(id)\n\t{\n\t\tthis.items.delete(parseInt(id));\n\t}\n\n\tclearItems()\n\t{\n\t\tthis.items.clear();\n\t}\n\n\tgetRealtime()\n\t{\n\t\treturn this.getGrid().getRealtime();\n\t}\n\n\tshowStub()\n\t{\n\t\tif (this.stub)\n\t\t{\n\t\t\tthis.getRealtime().showStub({\n\t\t\t\tcontent: this.stub,\n\t\t\t});\n\t\t}\n\t}\n\n\thideStub()\n\t{\n\t\tthis.getGrid().hideEmptyStub();\n\t}\n}","import {Dom, Event, Loc, Tag, Type, ajax} from 'main.core';\nimport {PopupWindowManager} from 'main.popup';\nimport {Loader} from 'main.loader';\n\nimport './css/popup.css';\n\nexport class MembersPopup\n{\n\tconstructor(options)\n\t{\n\t\tthis.componentName = options.componentName;\n\t\tthis.signedParameters = options.signedParameters;\n\t}\n\n\tshowPopup(groupId, groupType, bindNode, type = 'all')\n\t{\n\t\tif (this.isPopupShown)\n\t\t{\n\t\t\tthis.popup.destroy();\n\t\t}\n\n\t\tthis.groupId = groupId;\n\n\t\tthis.resetPopupData(groupType);\n\t\tthis.changeType(type, false);\n\n\t\tthis.popup = PopupWindowManager.create({\n\t\t\tid: 'workgroup-grid-members-popup-menu',\n\t\t\tclassName: 'sonet-ui-members-popup',\n\t\t\tbindElement: bindNode,\n\t\t\tautoHide: true,\n\t\t\tcloseByEsc: true,\n\t\t\tlightShadow: true,\n\t\t\tbindOptions: {\n\t\t\t\tposition: 'bottom',\n\t\t\t},\n\t\t\tanimationOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\ttype: 'opacity-transform',\n\t\t\t\t},\n\t\t\t\tclose: {\n\t\t\t\t\ttype: 'opacity',\n\t\t\t\t},\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonPopupDestroy: () => {\n\t\t\t\t\tthis.loader = null;\n\t\t\t\t\tthis.isPopupShown = false;\n\t\t\t\t},\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tthis.popup.destroy();\n\t\t\t\t},\n\t\t\t\tonAfterPopupShow: (popup) => {\n\t\t\t\t\tpopup.contentContainer.appendChild(this.renderContainer());\n\n\t\t\t\t\tthis.showLoader();\n\t\t\t\t\tthis.showUsers(groupId, type);\n\n\t\t\t\t\tthis.isPopupShown = true;\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tthis.popupScroll(groupId, type);\n\t\tthis.popup.show();\n\t}\n\n\trenderContainer()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span class=\"sonet-ui-members-popup-container\">\n\t\t\t\t<span class=\"sonet-ui-members-popup-head\">\n\t\t\t\t\t${this.popupData.all.tab}\n\t\t\t\t\t${this.popupData.heads.tab}\n\t\t\t\t\t${this.popupData.members.tab}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sonet-ui-members-popup-body\">\n\t\t\t\t\t<div class=\"sonet-ui-members-popup-content\">\n\t\t\t\t\t\t<div class=\"sonet-ui-members-popup-content-box\">\n\t\t\t\t\t\t\t${this.getCurrentPopupData().innerContainer}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tpopupScroll(groupId, type)\n\t{\n\t\tif (!Type.isDomNode(this.getCurrentPopupData().innerContainer))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tEvent.bind(this.getCurrentPopupData().innerContainer, 'scroll', (event) => {\n\t\t\tconst area = event.target;\n\t\t\tif (area.scrollTop > (area.scrollHeight - area.offsetHeight) / 1.5)\n\t\t\t{\n\t\t\t\tthis.showUsers(groupId, type);\n\t\t\t\tEvent.unbindAll(this.getCurrentPopupData().innerContainer);\n\t\t\t}\n\t\t});\n\t};\n\n\tshowUsers(groupId, type)\n\t{\n\t\tajax.runAction('socialnetwork.api.workgroup.getGridPopupMembers', {\n\t\t\tdata: {\n\t\t\t\tgroupId,\n\t\t\t\ttype,\n\t\t\t\tpage: this.getCurrentPopupData().currentPage,\n\t\t\t\tcomponentName: this.componentName,\n\t\t\t\tsignedParameters: this.signedParameters,\n\t\t\t},\n\t\t}).then(\n\t\t\t(response) => {\n\t\t\t\tif (this.groupId !== groupId || this.currentType !== type)\n\t\t\t\t{\n\t\t\t\t\tthis.hideLoader();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (response.data.length > 0)\n\t\t\t\t{\n\t\t\t\t\tthis.renderUsers(response.data);\n\t\t\t\t\tthis.popupScroll(groupId, this.currentType);\n\t\t\t\t}\n\t\t\t\telse if (!this.getCurrentPopupData().innerContainer.hasChildNodes())\n\t\t\t\t{\n\t\t\t\t\tthis.getCurrentPopupData().innerContainer.innerText = Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_EMPTY');\n\t\t\t\t}\n\t\t\t\tthis.getCurrentPopupData().currentPage++;\n\t\t\t\tthis.hideLoader();\n\t\t\t},\n\t\t\t() => this.hideLoader()\n\t\t);\n\t}\n\n\trenderUsers(users)\n\t{\n\t\tObject.values(users).forEach((user) => {\n\t\t\tif (this.getCurrentPopupData().renderedUsers.indexOf(user.ID) >= 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.getCurrentPopupData().renderedUsers.push(user.ID);\n\n\t\t\tthis.getCurrentPopupData().innerContainer.appendChild(\n\t\t\t\tTag.render`\n\t\t\t\t\t<a class=\"sonet-ui-members-popup-item\" href=\"${user['HREF']}\" target=\"_blank\">\n\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-avatar-new\">\n\t\t\t\t\t\t\t${this.getAvatar(user)}\n\t\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-avatar-status-icon\"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-name\">${user['FORMATTED_NAME']}</span>\n\t\t\t\t\t</a>\n\t\t\t\t`\n\t\t\t);\n\t\t})\n\t}\n\n\tgetAvatar(user)\n\t{\n\t\tif (Type.isStringFilled(user['PHOTO']))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"ui-icon ui-icon-common-user sonet-ui-members-popup-avatar-img\">\n\t\t\t\t\t<i style=\"background-image: url('${encodeURI(user['PHOTO'])}')\"></i>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-icon ui-icon-common-user sonet-ui-members-popup-avatar-img\"><i></i></div>\n\t\t`;\n\t}\n\n\tshowLoader()\n\t{\n\t\tif (!this.loader)\n\t\t{\n\t\t\tthis.loader = new Loader({\n\t\t\t\ttarget: this.popup.getPopupContainer().querySelector('.sonet-ui-members-popup-content'),\n\t\t\t\tsize: 40,\n\t\t\t});\n\t\t}\n\t\tvoid this.loader.show();\n\t}\n\n\thideLoader()\n\t{\n\t\tif (this.loader)\n\t\t{\n\t\t\tvoid this.loader.hide();\n\t\t\tthis.loader = null;\n\t\t}\n\t}\n\n\tchangeType(newType, loadUsers = true)\n\t{\n\t\tconst oldType = this.currentType;\n\n\t\tthis.currentType = newType;\n\n\t\tObject.values(this.popupData).forEach((item) => {\n\t\t\tDom.removeClass(item.tab, 'sonet-ui-members-popup-head-item-current');\n\t\t});\n\t\tDom.addClass(this.getCurrentPopupData().tab, 'sonet-ui-members-popup-head-item-current');\n\n\t\tif (oldType)\n\t\t{\n\t\t\tDom.replace(this.popupData[oldType].innerContainer, this.getCurrentPopupData().innerContainer);\n\t\t}\n\n\t\tif (loadUsers && this.getCurrentPopupData().currentPage === 1)\n\t\t{\n\t\t\tthis.showLoader();\n\t\t\tthis.showUsers(this.groupId, newType);\n\t\t}\n\t}\n\n\tresetPopupData(groupType)\n\t{\n\t\tlet headTitle = Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_TITLE_HEADS');\n\t\tlet membersTitle = Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_TITLE_MEMBERS');\n\t\tif (groupType === 'project')\n\t\t{\n\t\t\theadTitle = Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_TITLE_HEADS_PROJECT');\n\t\t\tmembersTitle = Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_TITLE_MEMBERS_PROJECT');\n\t\t}\n\n\t\tthis.popupData = {\n\t\t\tall: {\n\t\t\t\tcurrentPage: 1,\n\t\t\t\trenderedUsers: [],\n\t\t\t\ttab: Tag.render`\n\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-item\" onclick=\"${this.changeType.bind(this, 'all')}\">\n\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-text\">\n\t\t\t\t\t\t\t${Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_TITLE_ALL')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t`,\n\t\t\t\tinnerContainer: Tag.render`<div class=\"sonet-ui-members-popup-inner\"></div>`,\n\t\t\t},\n\t\t\theads: {\n\t\t\t\tcurrentPage: 1,\n\t\t\t\trenderedUsers: [],\n\t\t\t\ttab: Tag.render`\n\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-item\" onclick=\"${this.changeType.bind(this, 'heads')}\">\n\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-text\">\n\t\t\t\t\t\t\t${headTitle}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t`,\n\t\t\t\tinnerContainer: Tag.render`<div class=\"sonet-ui-members-popup-inner\"></div>`,\n\t\t\t},\n\t\t\tmembers: {\n\t\t\t\tcurrentPage: 1,\n\t\t\t\trenderedUsers: [],\n\t\t\t\ttab: Tag.render`\n\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-item\" onclick=\"${this.changeType.bind(this, 'members')}\">\n\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-text\">\n\t\t\t\t\t\t\t${membersTitle}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t`,\n\t\t\t\tinnerContainer: Tag.render`<div class=\"sonet-ui-members-popup-inner\"></div>`,\n\t\t\t},\n\t\t};\n\t}\n\n\tgetCurrentPopupData()\n\t{\n\t\treturn this.popupData[this.currentType];\n\t}\n}\n","import {Loc, Tag, Type} from 'main.core';\nimport {MembersPopup} from './memberspopup';\n\nimport './css/popup.css';\nimport './css/scrum-members.css';\n\nexport class ScrumMembersPopup extends MembersPopup\n{\n\trenderContainer()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span class=\"sonet-ui-members-popup-container\">\n\t\t\t\t<span class=\"sonet-ui-members-popup-head\">\n\t\t\t\t\t${this.popupData.all.tab}\n\t\t\t\t\t${this.popupData.scrumTeam.tab}\n\t\t\t\t\t${this.popupData.members.tab}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sonet-ui-members-popup-body\">\n\t\t\t\t\t<div class=\"sonet-ui-members-popup-content\">\n\t\t\t\t\t\t<div class=\"sonet-ui-members-popup-content-box\">\n\t\t\t\t\t\t\t${this.getCurrentPopupData().innerContainer}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tresetPopupData()\n\t{\n\t\tthis.popupData = {\n\t\t\tall: {\n\t\t\t\tcurrentPage: 1,\n\t\t\t\trenderedUsers: [],\n\t\t\t\ttab: Tag.render`\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"sonet-ui-members-popup-head-item\"\n\t\t\t\t\t\tonclick=\"${this.changeType.bind(this, 'all')}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-text\">\n\t\t\t\t\t\t\t${Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_TITLE_ALL')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t`,\n\t\t\t\tinnerContainer: Tag.render`<div class=\"sonet-ui-members-popup-inner\"></div>`,\n\t\t\t},\n\t\t\tscrumTeam: {\n\t\t\t\tcurrentPage: 1,\n\t\t\t\trenderedUsers: [],\n\t\t\t\ttab: Tag.render`\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"sonet-ui-members-popup-head-item\"\n\t\t\t\t\t\tonclick=\"${this.changeType.bind(this, 'scrumTeam')}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-text\">\n\t\t\t\t\t\t\t${Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_TITLE_HEADS_SCRUM_1')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t`,\n\t\t\t\tinnerContainer: Tag.render`<div class=\"sonet-ui-members-popup-inner\"></div>`,\n\t\t\t},\n\t\t\tmembers: {\n\t\t\t\tcurrentPage: 1,\n\t\t\t\trenderedUsers: [],\n\t\t\t\ttab: Tag.render`\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"sonet-ui-members-popup-head-item\"\n\t\t\t\t\t\tonclick=\"${this.changeType.bind(this, 'members')}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-head-text\">\n\t\t\t\t\t\t\t${Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_TITLE_MEMBERS_SCRUM')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t`,\n\t\t\t\tinnerContainer: Tag.render`<div class=\"sonet-ui-members-popup-inner\"></div>`,\n\t\t\t}\n\t\t};\n\t}\n\n\trenderUsers(users)\n\t{\n\t\tif (this.currentType === 'scrumTeam')\n\t\t{\n\t\t\tthis.renderLabels(users);\n\n\t\t\tObject.values(users).forEach((user) => {\n\t\t\t\tif (\n\t\t\t\t\tthis.getCurrentPopupData().renderedUsers.indexOf(user.ID) >= 0\n\t\t\t\t\t&& user.ROLE !== 'M'\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.getCurrentPopupData().renderedUsers.push(user.ID);\n\n\t\t\t\tconst containersMap = new Map();\n\t\t\t\tcontainersMap.set('A', 'sonet-ui-scrum-members-popup-owner-container');\n\t\t\t\tcontainersMap.set('M', 'sonet-ui-scrum-members-popup-master-container');\n\t\t\t\tcontainersMap.set('E', 'sonet-ui-scrum-members-popup-team-container');\n\n\t\t\t\tif (Type.isUndefined(containersMap.get(user.ROLE)))\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.getCurrentPopupData()\n\t\t\t\t\t.innerContainer\n\t\t\t\t\t.querySelector('.' + containersMap.get(user.ROLE))\n\t\t\t\t\t.appendChild(\n\t\t\t\t\t\tTag.render`\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\"sonet-ui-members-popup-item\"\n\t\t\t\t\t\t\t\thref=\"${user['HREF']}\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"sonet-ui-members-popup-avatar-new\">\n\t\t\t\t\t\t\t\t\t${this.getAvatar(user)}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclass=\"sonet-ui-members-popup-avatar-status-icon\"\n\t\t\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass=\"sonet-ui-scrum-members-popup-name\"\n\t\t\t\t\t\t\t\t>${user['FORMATTED_NAME']}</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t`\n\t\t\t\t\t)\n\t\t\t\t;\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsuper.renderUsers(users);\n\t\t}\n\t}\n\n\trenderLabels(users)\n\t{\n\t\tconst hasOwner = users.find((user) => user.ROLE === 'A');\n\t\tconst hasMaster = users.find((user) => user.ROLE === 'M');\n\t\tconst hasTeam = users.find((user) => user.ROLE === 'E');\n\n\t\tif (hasOwner)\n\t\t{\n\t\t\tif (\n\t\t\t\tType.isNull(\n\t\t\t\t\tthis.getCurrentPopupData().innerContainer\n\t\t\t\t\t\t.querySelector('.sonet-ui-scrum-members-popup-owner-container')\n\t\t\t\t)\n\t\t\t)\n\t\t\t{\n\t\t\t\tthis.getCurrentPopupData().innerContainer.appendChild(\n\t\t\t\t\tTag.render`\n\t\t\t\t\t<div class=\"sonet-ui-scrum-members-popup-owner-container\">\n\t\t\t\t\t\t<span class=\"sonet-ui-scrum-members-popup-label\">\n\t\t\t\t\t\t\t<span class=\"sonet-ui-scrum-members-popup-label-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_LABEL_SCRUM_OWNER')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (hasMaster)\n\t\t{\n\t\t\tif (\n\t\t\t\tType.isNull(\n\t\t\t\t\tthis.getCurrentPopupData().innerContainer\n\t\t\t\t\t\t.querySelector('.sonet-ui-scrum-members-popup-master-container')\n\t\t\t\t)\n\t\t\t)\n\t\t\t{\n\t\t\t\tthis.getCurrentPopupData().innerContainer.appendChild(\n\t\t\t\t\tTag.render`\n\t\t\t\t\t<div class=\"sonet-ui-scrum-members-popup-master-container\">\n\t\t\t\t\t\t<span class=\"sonet-ui-scrum-members-popup-label\">\n\t\t\t\t\t\t\t<span class=\"sonet-ui-scrum-members-popup-label-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_LABEL_SCRUM_MASTER')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (hasTeam)\n\t\t{\n\t\t\tif (\n\t\t\t\tType.isNull(\n\t\t\t\t\tthis.getCurrentPopupData().innerContainer\n\t\t\t\t\t\t.querySelector('.sonet-ui-scrum-members-popup-team-container')\n\t\t\t\t)\n\t\t\t)\n\t\t\t{\n\t\t\t\tthis.getCurrentPopupData().innerContainer.appendChild(\n\t\t\t\t\tTag.render`\n\t\t\t\t\t<div class=\"sonet-ui-scrum-members-popup-team-container\">\n\t\t\t\t\t\t<span class=\"sonet-ui-scrum-members-popup-label\">\n\t\t\t\t\t\t\t<span class=\"sonet-ui-scrum-members-popup-label-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_POPUP_LABEL_SCRUM_TEAM')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n}","import { Type, Dom, ajax, Loc } from 'main.core';\nimport { BaseEvent } from 'main.core.events';\n\nexport class Actions\n{\n\tstatic options = {};\n\tstatic class = {\n\t\tactive: 'main-grid-cell-content-action-active',\n\t\tshowByHover: 'main-grid-cell-content-action-by-hover',\n\t};\n\tstatic actionsPanel = null;\n\n\tstatic setOptions(options)\n\t{\n\t\tActions.options = options;\n\t}\n\n\tstatic setActionsPanel(actionsPanel)\n\t{\n\t\tActions.actionsPanel = actionsPanel;\n\t}\n\n\tstatic changePin(groupId, event: BaseEvent)\n\t{\n\t\tconst { button } = event.getData();\n\n\t\tconst action = (\n\t\t\tDom.hasClass(button, Actions.class.active)\n\t\t\t\t? 'unpin'\n\t\t\t\t: 'pin'\n\t\t);\n\n\t\tajax.runAction('socialnetwork.api.workgroup.changePin', {\n\t\t\tdata: {\n\t\t\t\tgroupIdList: [ groupId ],\n\t\t\t\taction: action,\n\t\t\t\tcomponentName: Actions.options.componentName,\n\t\t\t\tsignedParameters: Actions.options.signedParameters,\n\t\t\t},\n\t\t}).then(\n\t\t\t() => {\n\t\t\t\tif (action === 'unpin')\n\t\t\t\t{\n\t\t\t\t\tDom.removeClass(button, Actions.class.active);\n\t\t\t\t\tDom.addClass(button, Actions.class.showByHover);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(button, Actions.class.active);\n\t\t\t\t\tDom.removeClass(button, Actions.class.showByHover);\n\t\t\t\t}\n\t\t\t},\n\t\t\t(response) => {\n\t\t\t\tconst errorMessage = (\n\t\t\t\t\tType.isStringFilled(response.message)\n\t\t\t\t\t\t? response.message\n\t\t\t\t\t\t: Loc.getMessage('SONET_EXT_UI_GRID_MEMBERS_ACTION_ERROR')\n\t\t\t\t);\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: errorMessage,\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic getActionIds(params)\n\t{\n\t\tif (!Type.isUndefined(params.groupId))\n\t\t{\n\t\t\treturn [ params.groupId ];\n\t\t}\n\n\t\tconst selected = Actions.getSelectedRows();\n\t\tif (selected.length === 0)\n\t\t{\n\t\t\treturn [];\n\t\t}\n\n\t\treturn selected.map((row) => {\n\t\t\treturn row.getDataset().id;\n\t\t});\n\t}\n\n\tstatic hideActionsPanel()\n\t{\n\t\tif (!Actions.actionsPanel)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tActions.actionsPanel.hidePanel();\n\t}\n\n\tstatic getSelectedRows()\n\t{\n\t\treturn Actions.getGridInstance().getRows().getSelected();\n\t}\n\n\tstatic unselectRows()\n\t{\n\t\tActions.getGridInstance().getRows().unselectAll();\n\t}\n\n\tstatic getGridInstance()\n\t{\n\t\treturn Actions.options.gridInstance;\n\t}\n}\n","import {ajax, Loc, Runtime} from 'main.core';\nimport {BaseEvent} from 'main.core.events';\n\nimport {Actions as ActionsController} from './actions';\n\nexport class Tag\n{\n\tstatic options = {};\n\n\tstatic setOptions(options)\n\t{\n\t\tTag.options = options;\n\t}\n\n\tstatic onTagClick(field)\n\t{\n\t\tconst { filter } = Tag.options;\n\t\tfilter.toggleByField(field);\n\t}\n\n\tstatic onTagAddClick(groupId, event)\n\t{\n\t\tRuntime.loadExtension('socialnetwork.entity-selector').then(exports => {\n\t\t\tconst onRowUpdate = (event: BaseEvent) => {\n\t\t\t\tconst { id } = event.getData();\n\n\t\t\t\tif (id === groupId)\n\t\t\t\t{\n/*\n\t\t\t\t\tconst row = ActionsController.getGridInstance().getRows().getById(id);\n\t\t\t\t\tconst button = row.getCellById('TAGS').querySelector('.main-grid-tag-add');\n\n\t\t\t\t\tdialog.setTargetNode(button);\n */\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onRowRemove = (event: BaseEvent) => {\n/*\n\t\t\t\tconst {id} = event.getData();\n\t\t\t\tif (id === groupId)\n\t\t\t\t{\n\t\t\t\t\tdialog.hide();\n\t\t\t\t}\n*/\n\t\t\t};\n\t\t\tconst onTagsChange = (event: BaseEvent) => {\n\n\t\t\t\tconst dialog = event.getTarget();\n\t\t\t\tconst tags = dialog.getSelectedItems().map(item => item.getId());\n\n\t\t\t\tvoid Tag.update(groupId, tags);\n\t\t\t};\n\t\t\tconst { Dialog, Footer } = exports;\n\t\t\tconst dialog = new Dialog({\n\t\t\t\ttargetNode: event.getData().button,\n\t\t\t\tenableSearch: true,\n\t\t\t\twidth: 350,\n\t\t\t\theight: 400,\n\t\t\t\tmultiple: true,\n\t\t\t\tdropdownMode: true,\n\t\t\t\tcompactView: true,\n\t\t\t\tcontext: 'SONET_GROUP_TAG',\n\t\t\t\tentities: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'project-tag',\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tgroupId,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tsearchOptions: {\n\t\t\t\t\tallowCreateItem: true,\n\t\t\t\t\tfooterOptions: {\n\t\t\t\t\t\tlabel: Loc.getMessage('SOCNET_ENTITY_SELECTOR_TAG_FOOTER_LABEL'),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tfooter: Footer,\n\t\t\t\tfooterOptions: {\n\t\t\t\t\ttagCreationLabel: true,\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonShow: () => {\n/*\n\t\t\t\t\t\tEventEmitter.subscribe('Tasks.Projects.Grid:RowUpdate', onRowUpdate);\n\t\t\t\t\t\tEventEmitter.subscribe('Tasks.Projects.Grid:RowRemove', onRowRemove);\n*/\n\t\t\t\t\t},\n\t\t\t\t\tonHide: () => {\n/*\n\t\t\t\t\t\tEventEmitter.unsubscribe('Tasks.Projects.Grid:RowUpdate', onRowUpdate);\n\t\t\t\t\t\tEventEmitter.unsubscribe('Tasks.Projects.Grid:RowRemove', onRowRemove);\n*/\n\t\t\t\t\t},\n\t\t\t\t\t'Search:onItemCreateAsync': (event: BaseEvent) => {\n\t\t\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\t\t\tconst {searchQuery} = event.getData();\n\t\t\t\t\t\t\tconst name = searchQuery.getQuery().toLowerCase();\n\t\t\t\t\t\t\tconst dialog: Dialog = event.getTarget();\n\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tconst item = dialog.addItem({\n\t\t\t\t\t\t\t\t\tid: name,\n\t\t\t\t\t\t\t\t\tentityId: 'project-tag',\n\t\t\t\t\t\t\t\t\ttitle: name,\n\t\t\t\t\t\t\t\t\ttabs: 'all',\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\titem.select();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t'Item:onSelect': onTagsChange,\n\t\t\t\t\t'Item:onDeselect': onTagsChange,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tdialog.show();\n\t\t});\n\t}\n\n\tstatic update(groupId, tagList)\n\t{\n\t\tajax.runAction('socialnetwork.api.workgroup.update', {\n\t\t\tdata: {\n\t\t\t\tgroupId: groupId,\n\t\t\t\tfields: {\n\t\t\t\t\tKEYWORDS: tagList.join(','),\n\t\t\t\t},\n\t\t\t},\n\t\t}).then(\n\t\t\t(response) => {\n\t\t\t},\n\t\t\t(response) => {\n\t\t\t}\n\t\t).catch(\n\t\t\t(response) => {\n\t\t\t}\n\t\t);\n\n\t\tActionsController.hideActionsPanel();\n\t\tActionsController.unselectRows();\n\t}\n}\n","import {Type} from 'main.core';\nimport {BaseEvent, EventEmitter} from 'main.core.events';\n\nexport class Filter\n{\n\tconstructor(options)\n\t{\n\t\tthis.filterInstance = BX.Main.filterManager.getById(options.filterId);\n\t\tif (!this.filterInstance)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.defaultFilterPresetId = options.defaultFilterPresetId;\n\t\tthis.gridId = options.gridId;\n\n\t\tthis.init();\n\t\tthis.bindEvents();\n\t}\n\n\tinit()\n\t{\n\t\tthis.fields = this.filterInstance.getFilterFieldsValues();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Main.Filter:apply', this.onFilterApply.bind(this));\n\t}\n\n\tonFilterApply()\n\t{\n\t\tthis.updateFields();\n\t}\n\n\tupdateFields()\n\t{\n\t\tthis.fields = this.filterInstance.getFilterFieldsValues();\n\t}\n\n\ttoggleByField(field)\n\t{\n\t\tconst name = Object.keys(field)[0];\n\t\tconst value = field[name];\n\n\t\tif (!this.isFilteredByFieldValue(name, value))\n\t\t{\n\t\t\tthis.filterInstance.getApi().extendFilter({[name]: value});\n\t\t\treturn;\n\t\t}\n\n\t\tthis.filterInstance.getFilterFields().forEach((field) => {\n\t\t\tif (field.getAttribute('data-name') === name)\n\t\t\t{\n\t\t\t\tthis.filterInstance.getFields().deleteField(field);\n\t\t\t}\n\t\t});\n\n\t\tthis.filterInstance.getSearch().apply();\n\t}\n\n\tisFilteredByFieldValue(field, value)\n\t{\n\t\treturn (\n\t\t\tthis.isFilteredByField(field)\n\t\t\t&& this.fields[field] === value\n\t\t);\n\t}\n\n\tisFilteredByField(field)\n\t{\n\t\tif (!Object.keys(this.fields).includes(field))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (Type.isArray(this.fields[field]))\n\t\t{\n\t\t\treturn this.fields[field].length > 0;\n\t\t}\n\n\t\treturn this.fields[field] !== '';\n\t}\n}","import {Grid} from './grid.js';\nimport {MembersPopup} from './memberspopup.js';\nimport {ScrumMembersPopup} from './scrum-members-popup.js';\nimport {Actions} from './actions.js';\nimport {Tag} from './tag.js';\nimport {Filter} from './filter.js';\nimport {Pin} from './pin.js';\n\nimport './css/members.css';\nimport './css/role.css';\nimport './css/avatar.css';\nimport './css/percent.css';\nimport './css/counter.css';\n\nclass Controller\n{\n\tstatic repo = new Map();\n\n\tstatic getById(id)\n\t{\n\t\treturn Controller.repo.get(id);\n\t}\n\n\tconstructor(options)\n\t{\n\t\tthis.gridInstance = new Grid(options);\n\t\tthis.membersPopup = new MembersPopup(options);\n\t\tthis.scrumMembersPopup = new ScrumMembersPopup(options);\n\n\t\tController.repo.set(options.id, this);\n\t}\n\n\tgetMembersPopup(): MembersPopup\n\t{\n\t\treturn this.membersPopup;\n\t}\n\n\tgetScrumMembersPopup(): MembersPopup\n\t{\n\t\treturn this.scrumMembersPopup;\n\t}\n\n\tgetInstance(): Grid\n\t{\n\t\treturn this.gridInstance;\n\t}\n\n\tgetGrid()\n\t{\n\t\treturn this.getInstance().getGrid();\n\t}\n\n}\n\nexport {\n\tController,\n\tActions as ActionController,\n\tTag as TagController,\n\tFilter as Filter,\n\tPin as PinManager,\n};\n"],"names":["Pin","params","grid","gridInstance","bindEvents","colorPinnedRows","EventEmitter","subscribe","onParamsUpdated","bind","getRows","forEach","row","node","getNode","getIsPinned","getId","Dom","addClass","pinned","removeClass","reset","getBodyChild","pinnedRows","Object","values","filter","keys","length","rowId","isRowExist","Type","isDomNode","getRowNodeById","querySelector","id","getRowById","getById","Grid","highlighted","options","BX","Main","gridManager","getInstanceById","sort","pageSize","parseInt","stub","gridStub","items","Map","fillItems","pinController","getGrid","init","onColumnSort","event","data","getData","column","sort_by","sort_order","columns","actions","cellActions","moveParams","rowBefore","insertAfter","rowAfter","insertBefore","append","size","getCurrentPage","lastRowId","getLastRowId","removeItem","remove","hideStub","getRealtime","addRow","getPinController","emit","isPlainObject","isUndefined","setCellsContent","setActions","setCellActions","counters","setCounters","resetRows","moveRow","highlightRow","highlightParams","then","bindOnRowEvents","removeRow","skip","Promise","resolve","reject","isPinned","hasClass","setTimeout","firstRow","getBodyFirstChild","getRowProperty","lastRow","getBodyLastChild","propertyName","addItem","Array","from","has","set","clear","showStub","content","hideEmptyStub","MembersPopup","componentName","signedParameters","groupId","groupType","bindNode","type","isPopupShown","popup","destroy","resetPopupData","changeType","PopupWindowManager","create","className","bindElement","autoHide","closeByEsc","lightShadow","bindOptions","position","animationOptions","show","close","events","onPopupDestroy","loader","onPopupClose","onAfterPopupShow","contentContainer","appendChild","renderContainer","showLoader","showUsers","popupScroll","Tag","render","popupData","all","tab","heads","members","getCurrentPopupData","innerContainer","Event","area","target","scrollTop","scrollHeight","offsetHeight","unbindAll","ajax","runAction","page","currentPage","response","currentType","hideLoader","renderUsers","hasChildNodes","innerText","Loc","getMessage","users","user","renderedUsers","indexOf","ID","push","getAvatar","isStringFilled","encodeURI","Loader","getPopupContainer","hide","newType","loadUsers","oldType","item","replace","headTitle","membersTitle","ScrumMembersPopup","scrumTeam","renderLabels","ROLE","containersMap","get","hasOwner","find","hasMaster","hasTeam","isNull","Actions","actionsPanel","button","action","active","groupIdList","showByHover","errorMessage","message","UI","Notification","Center","notify","selected","getSelectedRows","map","getDataset","hidePanel","getGridInstance","getSelected","unselectAll","field","toggleByField","Runtime","loadExtension","exports","onTagsChange","dialog","getTarget","tags","getSelectedItems","update","Dialog","Footer","targetNode","enableSearch","width","height","multiple","dropdownMode","compactView","context","entities","searchOptions","allowCreateItem","footerOptions","label","footer","tagCreationLabel","onShow","onHide","searchQuery","name","getQuery","toLowerCase","entityId","title","tabs","select","tagList","fields","KEYWORDS","join","ActionsController","hideActionsPanel","unselectRows","Filter","filterInstance","filterManager","filterId","defaultFilterPresetId","gridId","getFilterFieldsValues","onFilterApply","updateFields","value","isFilteredByFieldValue","getApi","extendFilter","getFilterFields","getAttribute","getFields","deleteField","getSearch","apply","isFilteredByField","includes","isArray","Controller","repo","membersPopup","scrumMembersPopup","getInstance"],"mappings":"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"}