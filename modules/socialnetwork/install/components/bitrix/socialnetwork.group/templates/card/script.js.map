{"version":3,"file":"script.js","sources":["src/util.js","src/favorites.js","src/subscription.js","src/card.js"],"sourcesContent":["import {Loc, Tag} from 'main.core';\nimport {Popup} from 'main.popup';\n\nclass WorkgroupCardUtil\n{\n\tstatic processAJAXError(errorCode)\n\t{\n\t\tif (errorCode.indexOf('SESSION_ERROR', 0) === 0)\n\t\t{\n\t\t\tthis.showError(Loc.getMessage('SGMErrorSessionWrong'));\n\t\t}\n\t\telse if (errorCode.indexOf('CURRENT_USER_NOT_AUTH', 0) === 0)\n\t\t{\n\t\t\tthis.showError(Loc.getMessage('SGMErrorCurrentUserNotAuthorized'));\n\t\t}\n\t\telse if (errorCode.indexOf('SONET_MODULE_NOT_INSTALLED', 0) === 0)\n\t\t{\n\t\t\tthis.showError(Loc.getMessage('SGMErrorModuleNotInstalled'));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.showError(errorCode);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tstatic showError(errorText)\n\t{\n\t\t(new Popup('sgm-error' + Math.random(), null, {\n\t\t\tautoHide: true,\n\t\t\tlightShadow: false,\n\t\t\tzIndex: 2,\n\t\t\tcontent: Tag.render`<div class=\"sonet-sgm-error-text-block\">${errorText}</div>`,\n\t\t\tcloseByEsc: true,\n\t\t\tcloseIcon: true,\n\t\t})).show();\n\t}\n}\n\nexport {\n\tWorkgroupCardUtil,\n}","import {Type} from 'main.core';\nimport {EventEmitter, BaseEvent} from 'main.core.events';\n\nimport {WorkgroupCardUtil} from './util';\n\nclass WorkgroupCardFavorites\n{\n\tconstructor(params)\n\t{\n\t\tthis.value = !!params.value;\n\t\tthis.containerNode = params.containerNode;\n\t\tthis.groupId = parseInt(params.groupId);\n\n\t\tif (this.containerNode)\n\t\t{\n\t\t\tEventEmitter.subscribe('BX.Socialnetwork.WorkgroupMenu:onSetFavorites', (event: BaseEvent) => {\n\t\t\t\tconst [ params ] = event.getCompatData();\n\n\t\t\t\tthis.setValue(params.value);\n\t\t\t});\n\t\t}\n\t}\n\n\tsetValue(value)\n\t{\n\t\tthis.value = value;\n\t}\n\n\tgetValue()\n\t{\n\t\treturn this.value;\n\t}\n\n\tset(event)\n\t{\n\t\tconst currentValue = this.getValue();\n\t\tconst newValue = !currentValue;\n\t\tconst sonetGroupMenu = BX.SocialnetworkUICommon.SonetGroupMenu.getInstance();\n\n\t\tthis.setValue(newValue);\n\n\t\tsonetGroupMenu.favoritesValue = newValue;\n\t\tsonetGroupMenu.setItemTitle(newValue);\n\n\t\tBX.SocialnetworkUICommon.setFavoritesAjax({\n\t\t\tgroupId: this.groupId,\n\t\t\tfavoritesValue: currentValue,\n\t\t\tcallback: {\n\t\t\t\tsuccess: (data) => {\n\n\t\t\t\t\tconst eventData = {\n\t\t\t\t\t\tcode: 'afterSetFavorites',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tgroupId: data.ID,\n\t\t\t\t\t\t\tvalue: (data.RESULT == 'Y'),\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\twindow.top.BX.SidePanel.Instance.postMessageAll(window, 'sonetGroupEvent', eventData);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tType.isStringFilled(data.NAME)\n\t\t\t\t\t\t&& Type.isStringFilled(data.URL)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tEventEmitter.emit('BX.Socialnetwork.WorkgroupFavorites:onSet', new BaseEvent({\n\t\t\t\t\t\t\tcompatData: [{\n\t\t\t\t\t\t\t\tid: this.groupId,\n\t\t\t\t\t\t\t\tname: data.NAME,\n\t\t\t\t\t\t\t\turl: data.URL,\n\t\t\t\t\t\t\t\textranet: (Type.isStringFilled(data.EXTRANET) ? data.EXTRANET : 'N'),\n\t\t\t\t\t\t\t}, newValue],\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfailure: (data) => {\n\n\t\t\t\t\tthis.setValue(currentValue);\n\t\t\t\t\tsonetGroupMenu.favoritesValue = currentValue;\n\t\t\t\t\tsonetGroupMenu.setItemTitle(currentValue);\n\n\t\t\t\t\tif (Type.isStringFilled(data.ERROR))\n\t\t\t\t\t{\n\t\t\t\t\t\tWorkgroupCardUtil.processAJAXError(data.ERROR);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tevent.preventDefault();\n\t}\n}\n\nexport {\n\tWorkgroupCardFavorites,\n}","import {ajax, Loc, Tag, Type} from 'main.core';\nimport {Popup} from 'main.popup';\n\nimport {WorkgroupCardUtil} from './util';\n\nclass WorkgroupCardSubscription\n{\n\tconstructor(params)\n\t{\n\t\tthis.groupId = parseInt(params.groupId);\n\t\tthis.buttonNode = params.buttonNode;\n\t\tthis.notifyHintTimeout = null;\n\t\tthis.notifyHintPopup = null;\n\t\tthis.notifyHintTime = 3000;\n\n\t\tif (this.buttonNode)\n\t\t{\n\t\t\tthis.buttonNode.addEventListener('click', () => {\n\t\t\t\tthis.set();\n\t\t\t}, true);\n\t\t}\n\t}\n\n\tset()\n\t{\n\t\tconst action = (!this.buttonNode.classList.contains('ui-btn-active') ? 'set' : 'unset');\n\t\tthis.switch(this.buttonNode, (action === 'set'));\n\n\t\tajax.runAction('socialnetwork.api.workgroup.setSubscription', {\n\t\t\tdata: {\n\t\t\t\tparams: {\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\tvalue: (action === 'set' ? 'Y' : 'N'),\n\t\t\t\t}\n\t\t\t},\n\t\t}).then((data) => {\n\t\t\tconst eventData = {\n\t\t\t\tcode: 'afterSetSubscribe',\n\t\t\t\tdata: {\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\tvalue: (data.RESULT == 'Y'),\n\t\t\t\t}\n\t\t\t};\n\t\t\twindow.top.BX.SidePanel.Instance.postMessageAll(window, 'sonetGroupEvent', eventData);\n\t\t}).catch((response) => {\n\t\t\tthis.switch(this.buttonNode, !(action === 'set'));\n\t\t\tWorkgroupCardUtil.processAJAXError(response.errors[0].message);\n\t\t});\n\t}\n\n\tswitch(node, active)\n\t{\n\t\tif (!Type.isDomNode(node))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (!!active)\n\t\t{\n\t\t\tnode.classList.add('ui-btn-active');\n\t\t\tnode.classList.remove('ui-btn-icon-follow');\n\t\t\tnode.classList.add('ui-btn-icon-unfollow');\n\t\t\tnode.innerHTML = Loc.getMessage('SGCSSubscribeTitleY');\n\n\t\t\tthis.showNotifyHint(node, Loc.getMessage('SGCSSubscribeButtonHintOn'));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tnode.classList.remove('ui-btn-active');\n\t\t\tnode.classList.add('ui-btn-icon-follow');\n\t\t\tnode.classList.remove('ui-btn-icon-unfollow');\n\t\t\tnode.innerHTML = Loc.getMessage('SGCSSubscribeTitleN');\n\n\t\t\tthis.showNotifyHint(node, Loc.getMessage('SGCSSubscribeButtonHintOff'));\n\t\t}\n\t}\n\n\tshowNotifyHint(node, hintText)\n\t{\n\t\tif (this.notifyHintTimeout)\n\t\t{\n\t\t\tclearTimeout(this.notifyHintTimeout);\n\t\t\tthis.notifyHintTimeout = null;\n\t\t}\n\n\t\tif (Type.isNull(this.notifyHintPopup))\n\t\t{\n\t\t\tthis.notifyHintPopup = new Popup('sgm_notify_hint', node, {\n\t\t\t\tautoHide: true,\n\t\t\t\tlightShadow: true,\n\t\t\t\tzIndex: 2,\n\t\t\t\tcontent: Tag.render`<div class=\"sonet-sgm-notify-hint-content\" style=\"display: none;\"><span id=\"sgm_notify_hint_text\">${hintText}</span></div>`,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tcloseIcon: false,\n\t\t\t\toffsetLeft: 21,\n\t\t\t\toffsetTop: 2,\n\t\t\t});\n\n\t\t\tthis.notifyHintPopup.TEXT = document.getElementById('sgm_notify_hint_text');\n\t\t\tthis.notifyHintPopup.setBindElement(node);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.notifyHintPopup.TEXT.innerHTML = hintText;\n\t\t\tthis.notifyHintPopup.setBindElement(node);\n\t\t}\n\n\t\tthis.notifyHintPopup.setAngle({});\n\t\tthis.notifyHintPopup.show();\n\n\t\tthis.notifyHintTimeout = setTimeout(() => {\n\t\t\tthis.notifyHintPopup.close();\n\t\t}, this.notifyHintTime);\n\t}\n}\n\nexport {\n\tWorkgroupCardSubscription,\n}","import {Type, Loc} from 'main.core';\nimport {EventEmitter, BaseEvent} from 'main.core.events';\n\nimport {WorkgroupCardFavorites} from './favorites';\nimport {WorkgroupCardSubscription} from './subscription';\n\nclass WorkgroupCard\n{\n\tconstructor()\n\t{\n\t\tthis.instance = null;\n\t\tthis.currentUserId = null;\n\n\t\tthis.userRole = null;\n\t\tthis.userIsMember = null;\n\t\tthis.userIsAutoMember = null;\n\t\tthis.userIsScrumMaster = null;\n\n\t\tthis.canInitiate = null;\n\t\tthis.canModify = null;\n\t\tthis.canLeave = null;\n\n\t\tthis.groupId = null;\n\t\tthis.isProject = null;\n\t\tthis.isScrumProject = null;\n\t\tthis.styles = null;\n\t\tthis.urls = null;\n\t\tthis.containerNode = null;\n\t\tthis.menuButtonNode = null;\n\t\tthis.editFeaturesAllowed = true;\n\t\tthis.copyFeatureAllowed = true;\n\n\t\tthis.favoritesInstance = null;\n\t}\n\n\tinit(params)\n\t{\n\t\tif (\n\t\t\tType.isUndefined(params)\n\t\t\t|| Type.isUndefined(params.groupId)\n\t\t\t|| parseInt(params.groupId) <= 0\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentUserId = parseInt(params.currentUserId);\n\n\t\tthis.groupId = parseInt(params.groupId);\n\t\tthis.groupType = params.groupType;\n\t\tthis.isProject = !!params.isProject;\n\t\tthis.isScrumProject = !!params.isScrumProject;\n\t\tthis.isOpened = !!params.isOpened;\n\n\t\tthis.userRole = params.userRole;\n\t\tthis.userIsMember = !!params.userIsMember;\n\t\tthis.userIsAutoMember = !!params.userIsAutoMember;\n\t\tthis.userIsScrumMaster = this.isScrumProject && (Type.isBoolean(params.userIsScrumMaster) ? params.userIsScrumMaster : false);\n\n\t\tthis.canInitiate = !!params.canInitiate;\n\t\tthis.canProcessRequestsIn = !!params.canProcessRequestsIn;\n\t\tthis.canModify = !!params.canModify;\n\t\tthis.canLeave = (\n\t\t\tType.isBoolean(params.canLeave)\n\t\t\t\t? params.canLeave\n\t\t\t\t: (\n\t\t\t\t\tthis.userIsMember\n\t\t\t\t\t&& this.userRole !== 'A'\n\t\t\t\t\t&& !this.userIsAutoMember\n\t\t\t\t\t&& !this.userIsScrumMaster\n\t\t\t\t)\n\t\t);\n\n\t\tthis.containerNode = (Type.isStringFilled(params.containerNodeId) ? document.getElementById(params.containerNodeId) : null);\n\t\tthis.menuButtonNode = (Type.isStringFilled(params.menuButtonNodeId) ? document.getElementById(params.menuButtonNodeId) : null);\n\t\tthis.editFeaturesAllowed = (!Type.isUndefined(params.editFeaturesAllowed) ? !!params.editFeaturesAllowed : true);\n\t\tthis.copyFeatureAllowed = (!Type.isUndefined(params.copyFeatureAllowed) ? !!params.copyFeatureAllowed : true);\n\n\t\tthis.favoritesInstance = new WorkgroupCardFavorites({\n\t\t\tgroupId: this.groupId,\n\t\t\tvalue: !!params.favoritesValue,\n\t\t\tcontainerNode: this.containerNode,\n\t\t});\n\n\t\tthis.subscriptionInstance = new WorkgroupCardSubscription({\n\t\t\tgroupId: this.groupId,\n\t\t\tbuttonNode: (Type.isStringFilled(params.subscribeButtonNodeId) ? document.getElementById(params.subscribeButtonNodeId) : null),\n\t\t});\n\n\t\tif (\n\t\t\tthis.containerNode\n\t\t\t&& Type.isPlainObject(params.styles)\n\t\t)\n\t\t{\n\t\t\tthis.styles = params.styles;\n\n\t\t\tif (\n\t\t\t\tType.isPlainObject(params.styles.tags)\n\t\t\t\t&& Type.isStringFilled(params.styles.tags.box)\n\t\t\t)\n\t\t\t{\n\t\t\t\tthis.containerNode.querySelectorAll(`.${params.styles.tags.box}`).forEach((node) => {\n\t\t\t\t\tnode.addEventListener('click', (e) => {\n\t\t\t\t\t\tconst tagValue = e.target.getAttribute('bx-tag-value');\n\t\t\t\t\t\tif (Type.isStringFilled(tagValue))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.clickTag(tagValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}, true);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tType.isPlainObject(params.styles.users)\n\t\t\t\t&& Type.isStringFilled(params.styles.users.box)\n\t\t\t\t&& Type.isStringFilled(params.styles.users.item)\n\t\t\t)\n\t\t\t{\n\t\t\t\tthis.containerNode.querySelectorAll(`.${params.styles.users.box}`).forEach((node) => {\n\t\t\t\t\tnode.addEventListener('click', (e) => {\n\t\t\t\t\t\tlet userNode = e.target;\n\n\t\t\t\t\t\tif (!userNode.hasAttribute('bx-user-id'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tuserNode = userNode.closest(`.${params.styles.users.item}`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst userId = userNode.getAttribute('bx-user-id');\n\t\t\t\t\t\tif (parseInt(userId) > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.clickUser(userId);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}, true);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (Type.isPlainObject(params.urls))\n\t\t{\n\t\t\tthis.urls = params.urls;\n\t\t}\n\n\t\tif (Type.isDomNode(this.menuButtonNode))\n\t\t{\n\t\t\tconst sonetGroupMenu = BX.SocialnetworkUICommon.SonetGroupMenu.getInstance();\n\t\t\tsonetGroupMenu.favoritesValue = this.favoritesInstance.getValue();\n\n\t\t\tthis.menuButtonNode.addEventListener('click', () => {\n\n\t\t\t\tBX.SocialnetworkUICommon.showGroupMenuPopup({\n\t\t\t\t\tbindElement: this.menuButtonNode,\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\tgroupType: this.groupType,\n\t\t\t\t\tuserIsMember: this.userIsMember,\n\t\t\t\t\tuserIsAutoMember: this.userIsAutoMember,\n\t\t\t\t\tuserIsScrumMaster: this.userIsScrumMaster,\n\t\t\t\t\tuserRole: this.userRole,\n\t\t\t\t\teditFeaturesAllowed: this.editFeaturesAllowed,\n\t\t\t\t\tcopyFeatureAllowed: this.copyFeatureAllowed,\n\t\t\t\t\tisProject: this.isProject,\n\t\t\t\t\tisScrumProject: this.isScrumProject,\n\t\t\t\t\tisOpened: this.isOpened,\n\t\t\t\t\tperms: {\n\t\t\t\t\t\tcanInitiate: this.canInitiate,\n\t\t\t\t\t\tcanProcessRequestsIn: this.canProcessRequestsIn,\n\t\t\t\t\t\tcanModify: this.canModify,\n\t\t\t\t\t\tcanLeave: this.canLeave,\n\t\t\t\t\t},\n\t\t\t\t\turls: {\n\t\t\t\t\t\trequestUser: Loc.getMessage('SGCSPathToRequestUser'),\n\t\t\t\t\t\tedit: Loc.getMessage('SGCSPathToEdit'),\n\t\t\t\t\t\tdelete: Loc.getMessage('SGCSPathToDelete'),\n\t\t\t\t\t\tfeatures: Loc.getMessage('SGCSPathToFeatures'),\n\t\t\t\t\t\tmembers: Loc.getMessage('SGCSPathToMembers'),\n\t\t\t\t\t\trequests: Loc.getMessage('SGCSPathToRequests'),\n\t\t\t\t\t\trequestsOut: Loc.getMessage('SGCSPathToRequestsOut'),\n\t\t\t\t\t\tuserRequestGroup: Loc.getMessage('SGCSPathToUserRequestGroup'),\n\t\t\t\t\t\tuserLeaveGroup: Loc.getMessage('SGCSPathToUserLeaveGroup'),\n\t\t\t\t\t\tcopy: Loc.getMessage('SGCSPathToCopy')\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}, true);\n\t\t}\n\n\t\tEventEmitter.subscribe('SidePanel.Slider:onMessage', this.onSliderMessage.bind(this));\n\t}\n\n\tclickTag(tagValue)\n\t{\n\t\tif (!Type.isStringFilled(tagValue.length))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\ttop.location.href = Loc.getMessage('SGCSPathToGroupTag').replace('#tag#', tagValue);\n\t}\n\n\tclickUser(userId)\n\t{\n\t\tif (parseInt(userId) <= 0)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\ttop.location.href = Loc.getMessage('SGCSPathToUserProfile').replace('#user_id#', userId);\n\t}\n\n\tonSliderMessage(event: BaseEvent)\n\t{\n\t\tconst [ sliderEvent ] = event.getCompatData();\n\n\t\tif (sliderEvent.getEventId() !== 'sonetGroupEvent')\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tconst eventData = sliderEvent.getData();\n\n\t\tif (\n\t\t\t!Type.isStringFilled(eventData.code)\n\t\t\t|| !Type.isPlainObject(eventData.data)\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\teventData.code === 'afterEdit'\n\t\t\t&& Type.isPlainObject(eventData.data.group)\n\t\t\t&& parseInt(eventData.data.group.ID) === this.groupId\n\t\t)\n\t\t{\n\t\t\tBX.SocialnetworkUICommon.reload();\n\t\t}\n\t\telse if (\n\t\t\t[ 'afterDelete', 'afterLeave' ].includes(eventData.code)\n\t\t\t&& !Type.isUndefined(eventData.data.groupId)\n\t\t\t&& parseInt(eventData.data.groupId) === this.groupId\n\t\t)\n\t\t{\n\t\t\tif (window !== top.window) // frame\n\t\t\t{\n\t\t\t\ttop.BX.SidePanel.Instance.getSliderByWindow(window).close();\n\t\t\t}\n\t\t\ttop.location.href = this.urls.groupsList;\n\t\t}\n\t}\n}\n\nexport {\n\tWorkgroupCard,\n}"],"names":["WorkgroupCardUtil","errorCode","indexOf","showError","Loc","getMessage","errorText","Popup","Math","random","autoHide","lightShadow","zIndex","content","Tag","render","closeByEsc","closeIcon","show","WorkgroupCardFavorites","params","value","containerNode","groupId","parseInt","EventEmitter","subscribe","event","getCompatData","setValue","currentValue","getValue","newValue","sonetGroupMenu","BX","SocialnetworkUICommon","SonetGroupMenu","getInstance","favoritesValue","setItemTitle","setFavoritesAjax","callback","success","data","eventData","code","ID","RESULT","window","top","SidePanel","Instance","postMessageAll","Type","isStringFilled","NAME","URL","emit","BaseEvent","compatData","id","name","url","extranet","EXTRANET","failure","ERROR","processAJAXError","preventDefault","WorkgroupCardSubscription","buttonNode","notifyHintTimeout","notifyHintPopup","notifyHintTime","addEventListener","set","action","classList","contains","ajax","runAction","then","response","errors","message","node","active","isDomNode","add","remove","innerHTML","showNotifyHint","hintText","clearTimeout","isNull","offsetLeft","offsetTop","TEXT","document","getElementById","setBindElement","setAngle","setTimeout","close","WorkgroupCard","instance","currentUserId","userRole","userIsMember","userIsAutoMember","userIsScrumMaster","canInitiate","canModify","canLeave","isProject","isScrumProject","styles","urls","menuButtonNode","editFeaturesAllowed","copyFeatureAllowed","favoritesInstance","isUndefined","groupType","isOpened","isBoolean","canProcessRequestsIn","containerNodeId","menuButtonNodeId","subscriptionInstance","subscribeButtonNodeId","isPlainObject","tags","box","querySelectorAll","forEach","e","tagValue","target","getAttribute","clickTag","users","item","userNode","hasAttribute","closest","userId","clickUser","showGroupMenuPopup","bindElement","perms","requestUser","edit","features","members","requests","requestsOut","userRequestGroup","userLeaveGroup","copy","onSliderMessage","bind","length","location","href","replace","sliderEvent","getEventId","getData","group","reload","includes","getSliderByWindow","groupsList"],"mappings":"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"}