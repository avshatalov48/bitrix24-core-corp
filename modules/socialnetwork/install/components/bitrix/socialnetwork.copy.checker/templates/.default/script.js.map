{"version":3,"file":"script.js","sources":["src/request.sender.js","src/copy.checker.js"],"sourcesContent":["import {Event, ajax} from \"main.core\";\n\nexport class RequestSender extends Event.EventEmitter\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tsignedParameters: \"\",\n\t\t}, ...options};\n\n\t\tthis.signedParameters = options.signedParameters;\n\t}\n\n\tdeleteErrorOption(requestData)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runComponentAction(\"bitrix:socialnetwork.copy.checker\", \"deleteErrorOption\", {\n\t\t\t\tmode: \"class\",\n\t\t\t\tsignedParameters: this.signedParameters,\n\t\t\t\tdata: requestData\n\t\t\t}).then(resolve, reject);\n\t\t});\n\t}\n}","import {Event} from \"main.core\";\nimport {RequestSender} from \"./request.sender\";\n\nexport class CopyChecker\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tsignedParameters: \"\",\n\t\t\tmoduleId: \"\",\n\t\t\terrorOption: \"\",\n\t\t\terrorAlertContainerId: \"\",\n\t\t\terrorAlertCloseButtonId: \"\"\n\t\t}, ...options};\n\n\t\tthis.signedParameters = options.signedParameters;\n\t\tthis.moduleId = options.moduleId;\n\t\tthis.errorOption = options.errorOption;\n\n\t\tthis.errorAlertContainerId = options.errorAlertContainerId;\n\t\tthis.errorAlertCloseButtonId = options.errorAlertCloseButtonId;\n\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\tthis.requestSender = new RequestSender({\n\t\t\tsignedParameters: this.signedParameters,\n\t\t});\n\n\t\tthis.errorAlertContainer = document.getElementById(this.errorAlertContainerId);\n\t\tthis.errorAlertCloseButton = document.getElementById(this.errorAlertCloseButtonId);\n\t\tif (this.errorAlertCloseButton)\n\t\t{\n\t\t\tEvent.bind(this.errorAlertCloseButton, \"click\", this.onCloseAlert.bind(this));\n\t\t}\n\t}\n\n\tonCloseAlert()\n\t{\n\t\tthis.requestSender.deleteErrorOption({\n\t\t\t\"moduleId\": this.moduleId,\n\t\t\t\"errorOption\": this.errorOption\n\t\t})\n\t\t.then((response) => {\n\t\t\tthis.errorAlertContainer.remove();\n\t\t}).catch((response) => {});\n\t}\n}"],"names":["RequestSender","options","signedParameters","requestData","Promise","resolve","reject","ajax","runComponentAction","mode","data","then","Event","EventEmitter","CopyChecker","moduleId","errorOption","errorAlertContainerId","errorAlertCloseButtonId","init","requestSender","errorAlertContainer","document","getElementById","errorAlertCloseButton","bind","onCloseAlert","deleteErrorOption","response","remove","catch"],"mappings":";;;;KAEaA,aAAb;CAAA;CAAA;CAAA;;CAEC,yBAAYC,OAAZ,EACA;CAAA;;CAAA;CACC,+GAAMA,OAAN;CAEAA,IAAAA,OAAO,iCAAO;CACbC,MAAAA,gBAAgB,EAAE;CADL,KAAP,EAEDD,OAFC,CAAP;CAIA,UAAKC,gBAAL,GAAwBD,OAAO,CAACC,gBAAhC;CAPD;CAQC;;CAXF;CAAA;CAAA,sCAamBC,WAbnB,EAcC;CAAA;;CACC,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;CACvCC,QAAAA,cAAI,CAACC,kBAAL,CAAwB,mCAAxB,EAA6D,mBAA7D,EAAkF;CACjFC,UAAAA,IAAI,EAAE,OAD2E;CAEjFP,UAAAA,gBAAgB,EAAE,MAAI,CAACA,gBAF0D;CAGjFQ,UAAAA,IAAI,EAAEP;CAH2E,SAAlF,EAIGQ,IAJH,CAIQN,OAJR,EAIiBC,MAJjB;CAKA,OANM,CAAP;CAOA;CAtBF;CAAA;CAAA,EAAmCM,eAAK,CAACC,YAAzC;;KCCaC,WAAb;CAAA;CAAA;CAEC,uBAAYb,OAAZ,EACA;CAAA;CACCA,IAAAA,OAAO,iCAAO;CACbC,MAAAA,gBAAgB,EAAE,EADL;CAEba,MAAAA,QAAQ,EAAE,EAFG;CAGbC,MAAAA,WAAW,EAAE,EAHA;CAIbC,MAAAA,qBAAqB,EAAE,EAJV;CAKbC,MAAAA,uBAAuB,EAAE;CALZ,KAAP,EAMDjB,OANC,CAAP;CAQA,SAAKC,gBAAL,GAAwBD,OAAO,CAACC,gBAAhC;CACA,SAAKa,QAAL,GAAgBd,OAAO,CAACc,QAAxB;CACA,SAAKC,WAAL,GAAmBf,OAAO,CAACe,WAA3B;CAEA,SAAKC,qBAAL,GAA6BhB,OAAO,CAACgB,qBAArC;CACA,SAAKC,uBAAL,GAA+BjB,OAAO,CAACiB,uBAAvC;CAEA,SAAKC,IAAL;CACA;;CApBF;CAAA;CAAA,2BAuBC;CACC,WAAKC,aAAL,GAAqB,IAAIpB,aAAJ,CAAkB;CACtCE,QAAAA,gBAAgB,EAAE,KAAKA;CADe,OAAlB,CAArB;CAIA,WAAKmB,mBAAL,GAA2BC,QAAQ,CAACC,cAAT,CAAwB,KAAKN,qBAA7B,CAA3B;CACA,WAAKO,qBAAL,GAA6BF,QAAQ,CAACC,cAAT,CAAwB,KAAKL,uBAA7B,CAA7B;;CACA,UAAI,KAAKM,qBAAT,EACA;CACCZ,QAAAA,eAAK,CAACa,IAAN,CAAW,KAAKD,qBAAhB,EAAuC,OAAvC,EAAgD,KAAKE,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAAhD;CACA;CACD;CAlCF;CAAA;CAAA,mCAqCC;CAAA;;CACC,WAAKL,aAAL,CAAmBO,iBAAnB,CAAqC;CACpC,oBAAY,KAAKZ,QADmB;CAEpC,uBAAe,KAAKC;CAFgB,OAArC,EAICL,IAJD,CAIM,UAACiB,QAAD,EAAc;CACnB,QAAA,KAAI,CAACP,mBAAL,CAAyBQ,MAAzB;CACA,OAND,EAMGC,KANH,CAMS,UAACF,QAAD,EAAc,EANvB;CAOA;CA7CF;CAAA;CAAA;;;;;;;;"}