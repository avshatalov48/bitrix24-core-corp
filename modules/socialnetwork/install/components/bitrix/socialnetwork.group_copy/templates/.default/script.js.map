{"version":3,"file":"script.js","sources":["src/error.alert.js","src/form/field/base.field.js","src/form/field/text.field.js","src/form/validator/require.validator.js","src/form/field/textarea.field.js","src/form/form.js","src/request.sender.js","src/form/field/custom.field.js","src/form/field/image.field.js","src/form/validator/date.validator.js","src/form/field/date.field.js","src/form/field/date.range.field.js","src/form/field/user.field.js","src/form/field/select.field.js","src/form/block/options.js","src/form/block/switcher.js","src/form/field/checkbox.field.js","src/form/block/child.option.js","src/form/block/features.js","src/form/block/rights.js","src/form/field/selector.field.js","src/form/field/tag.field.js","src/form/block/tags.js","src/form/block/types.js","src/copying.manager.js"],"sourcesContent":["import {Tag, Text} from \"main.core\";\n\nexport class ErrorAlert\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tid: Text.getRandom(),\n\t\t\tmessage: \"Error!\"\n\t\t}, ...options};\n\n\t\tthis.id = options.id;\n\t\tthis.message = options.message;\n\n\t\tthis.classes = new Map([\n\t\t\t[\"container\", \"ui-alert ui-alert-danger\"],\n\t\t\t[\"message\", \"ui-alert-message\"],\n\t\t]);\n\t}\n\n\trender()\n\t{\n\t\tthis.id = Text.encode(this.id);\n\t\tthis.message = Text.encode(this.message);\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.id}\" class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<span class=\"${this.classes.get(\"message\")}\">${this.message}</span>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Dom, Event, Text, Type} from \"main.core\";\nimport {ErrorAlert} from \"../../error.alert\";\n\nexport class BaseField extends Event.EventEmitter\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tfieldTitle: \"title\",\n\t\t\tfieldName: \"name\",\n\t\t\tvalidators: [],\n\t\t\tonCustomChange: null,\n\t\t\tparentNode: null,\n\t\t\tvalue: \"\",\n\t\t\tfocus: false,\n\t\t\tvisible: true\n\t\t}, ...options};\n\n\t\tthis.fieldTitle = options.fieldTitle;\n\t\tthis.fieldName = options.fieldName;\n\t\tthis.validators = options.validators;\n\t\tthis.onCustomChange = options.onCustomChange;\n\t\tthis.parentNode = options.parentNode;\n\n\t\tthis.titleControl = null;\n\t\tthis.titleId = Text.encode(this.fieldName) + \"-\" + \"title\";\n\t\tthis.innerControl = null;\n\t\tthis.innerControlId = this.fieldName + \"-\" + Text.getRandom();\n\t\tthis.value = (options.value ? options.value : \"\");\n\t\tthis.focus = options.focus;\n\t\tthis.visible = options.visible;\n\n\t\tthis.container = null;\n\n\t\tthis.ids = new Map([\n\t\t\t[\"container\", \"social-group-copy-field-\" + this.fieldName],\n\t\t]);\n\n\t\tthis.errorContainer = new Set();\n\n\t\tthis.classes = new Map([\n\t\t\t[\"container\", \"social-group-copy-fields-item\"],\n\t\t\t[\"leftColumn\", \"social-group-copy-fields-item-column-left\"],\n\t\t\t[\"rightColumn\", \"social-group-copy-fields-item-column-right\"],\n\t\t\t[\"fieldTitle\", \"social-group-copy-fields-item-name\"],\n\t\t\t[\"errorMark\", \"ui-ctl-danger\"],\n\t\t\t[\"hide\", \"hide\"]\n\t\t]);\n\n\t\tif (Type.isDomNode(this.parentNode))\n\t\t{\n\t\t\tthis.observerParent = new MutationObserver(this.onAppendToParent.bind(this));\n\t\t\tthis.observerParent.observe(this.parentNode, {\n\t\t\t\tchildList: true\n\t\t\t});\n\t\t}\n\t}\n\n\tsetClass(id, name)\n\t{\n\t\tthis.classes.set(id, name);\n\t}\n\n\taddClass(id, name)\n\t{\n\t\tif (this.classes.has(id))\n\t\t{\n\t\t\tthis.classes.set(id, this.classes.get(id) + \" \" + name);\n\t\t}\n\t}\n\n\tgetType()\n\t{\n\t\treturn this.constructor.name();\n\t}\n\n\tgetControl()\n\t{\n\t\treturn this.innerControl;\n\t}\n\n\tonAppendToParent(mutations)\n\t{\n\t\tthis.titleControl = document.getElementById(this.titleId);\n\t\tthis.innerControl = document.getElementById(this.innerControlId);\n\t\tthis.container = document.getElementById(this.ids.get(\"container\"));\n\n\t\tif (Type.isFunction(this.onCustomChange))\n\t\t{\n\t\t\tEvent.bind(this.innerControl, \"change\", this.onCustomChange);\n\t\t}\n\n\t\tif (this.focus)\n\t\t{\n\t\t\tthis.innerControl.focus();\n\t\t}\n\t}\n\n\tvalidate()\n\t{\n\t\tthis.errorContainer.clear();\n\n\t\tif (!this.visible)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tconst parentNode = (this.parentNode ? this.parentNode : this.innerControl.parentNode);\n\n\t\tthis.validators.forEach((validatorClass) => {\n\t\t\tconst validator = new validatorClass();\n\n\t\t\tconst errorId = \"social-group-\" + this.fieldName + \"-\" + validatorClass.getType();\n\t\t\tconst errorDom = document.getElementById(errorId);\n\t\t\tif (Type.isDomNode(errorDom))\n\t\t\t{\n\t\t\t\terrorDom.remove();\n\t\t\t}\n\n\t\t\tif (validator.validate(this.value))\n\t\t\t{\n\t\t\t\tDom.removeClass(parentNode, this.classes.get(\"errorMark\"));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tDom.addClass(parentNode, this.classes.get(\"errorMark\"));\n\n\t\t\t\tconst error = new ErrorAlert({\n\t\t\t\t\tid: errorId,\n\t\t\t\t\tmessage: validator.getErrorMessage()\n\t\t\t\t});\n\t\t\t\tparentNode.before(error.render());\n\n\t\t\t\tthis.errorContainer.add(error);\n\t\t\t}\n\t\t});\n\n\t\treturn this.errorContainer.size === 0;\n\t}\n\n\tgetErrorContainer()\n\t{\n\t\treturn this.errorContainer;\n\t}\n\n\tsetValue(value)\n\t{\n\t\tthis.value = value;\n\t}\n\n\tgetValue()\n\t{\n\t\tif (!this.visible)\n\t\t{\n\t\t\treturn \"\";\n\t\t}\n\t\treturn this.value;\n\t}\n\n\tgetName()\n\t{\n\t\treturn this.fieldName;\n\t}\n\n\tchangeTitle(title)\n\t{\n\t\tthis.fieldTitle = title;\n\t\tthis.titleControl.innerHTML = Text.encode(this.fieldTitle);\n\t}\n\n\ttoggleVisible(bool)\n\t{\n\t\tthis.visible = bool;\n\n\t\tif (bool)\n\t\t{\n\t\t\tDom.removeClass(this.container, this.classes.get(\"hide\"));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.container, this.classes.get(\"hide\"));\n\t\t}\n\t}\n}","import {Tag, Text} from \"main.core\";\nimport {BaseField} from \"./base.field\";\n\nexport class TextField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tplaceHolder: \"\",\n\t\t}, ...options};\n\n\t\tthis.placeHolder = options.placeHolder;\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-textbox ui-ctl-w100\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\t}\n\t\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tconst onChange = this.onChange.bind(this);\n\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\tthis.value = Text.encode(this.value);\n\t\tthis.placeHolder = Text.encode(this.placeHolder);\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<input id=\"${this.innerControlId}\" type=\"text\" value=\"${this.value}\" \n\t\t\t\t\tname=\"${this.fieldName}\" class=\"${this.classes.get(\"innerControl\")}\" \n\t\t\t\t\tonchange=\"${onChange}\" placeholder=\"${this.placeHolder}\">\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tchangePlaceHolder(text)\n\t{\n\t\tthis.innerControl.placeholder = Text.encode(text);\n\t}\n\n\tonChange()\n\t{\n\t\tthis.setValue(this.innerControl.value);\n\t\tthis.validate();\n\t}\n}","import {Loc, Type} from \"main.core\";\n\nexport class RequireValidator\n{\n\tconstructor()\n\t{\n\t\tthis.errorMessage = Loc.getMessage(\"SGCG_REQUIRE_ERROR\");\n\n\t}\n\n\tvalidate(value)\n\t{\n\t\treturn this.constructor.isValid(value);\n\t}\n\n\tstatic getType()\n\t{\n\t\treturn \"require\";\n\t}\n\n\tstatic isValid(value)\n\t{\n\t\tif (Type.isArray(value))\n\t\t{\n\t\t\treturn value.length > 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn (value !== undefined) && (String(value).trim().length > 0);\n\t\t}\n\t}\n\n\tgetErrorMessage()\n\t{\n\t\treturn this.errorMessage;\n\t}\n}","import {Tag, Text} from \"main.core\";\nimport {BaseField} from \"./base.field\";\n\nexport class TextAreaField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tplaceHolder: \"\",\n\t\t}, ...options};\n\n\t\tthis.placeHolder = options.placeHolder;\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-textarea\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tconst onChange = this.onChange.bind(this);\n\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\tthis.value = Text.encode(this.value);\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<textarea id=\"${this.innerControlId}\" type=\"text\" name=\"${this.fieldName}\" onchange=\"${onChange}\" \n\t\t\t\tclass=\"${this.classes.get(\"innerControl\")}\" placeholder=\"${this.placeHolder}\">${this.value}</textarea>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonChange()\n\t{\n\t\tthis.setValue(this.innerControl.value);\n\t\tthis.validate();\n\t}\n}","import {Event, Tag, Text, Type, Loc} from \"main.core\";\nimport {ErrorAlert} from \"../error.alert\";\nimport {Button} from \"ui.buttons\";\nimport {TextField} from \"./field/text.field\";\nimport {RequireValidator} from \"./validator/require.validator\";\nimport {TextAreaField} from \"./field/textarea.field\";\n\nexport class Form\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\trequestSender: null,\n\t\t\tgroupData: {},\n\t\t\tcopyButtonId: \"\",\n\t\t\tcancelButtonId: \"\"\n\t\t}, ...options};\n\n\t\tthis.requestSender = options.requestSender;\n\n\t\tthis.groupData = options.groupData;\n\t\tthis.isProject = (this.groupData.PROJECT === \"Y\");\n\n\t\tthis.copyButtonId = options.copyButtonId;\n\t\tthis.cancelButtonId = options.cancelButtonId;\n\n\t\tthis.fields = [];\n\t\tthis.blocks = [];\n\n\t\tthis.errorContainer = new Map();\n\t\tthis.errorDomContainer = null;\n\n\t\tthis.ids = new Map([\n\t\t\t[\"errorDomContainer\", \"social-group-copy-error\"],\n\t\t]);\n\t\tthis.classes = new Map([\n\t\t\t[\"form\", \"social-group-copy-form\"],\n\t\t\t[\"base\", \"social-group-copy-base\"],\n\t\t\t[\"nameContainer\", \"social-group-copy-name\"],\n\t\t\t[\"name\", \"social-group-copy-name-title\"],\n\t\t\t[\"descriptionContainer\", \"social-group-copy-description\"],\n\t\t\t[\"descriptionArea\", \"social-group-copy-description-area\"],\n\t\t\t[\"description\", \"social-group-copy-description\"],\n\t\t\t[\"descriptionSeparator\", \"social-group-copy-separator-line\"],\n\t\t\t[\"errorDomContainer\", \"social-group-copy-error\"],\n\t\t\t[\"fields\", \"social-group-copy-fields\"],\n\t\t\t[\"blocks\", \"social-group-copy-blocks\"]\n\t\t]);\n\n\t\tthis.checkboxEventName = \"BX.Socialnetwork.CheckboxField\";\n\t}\n\n\trenderTo(formContainer)\n\t{\n\t\tif (!Type.isDomNode(formContainer))\n\t\t{\n\t\t\tthrow new Error(\"Form: HTMLElement for form not found\");\n\t\t}\n\n\t\tformContainer.appendChild(this.render());\n\n\t\tthis.errorDomContainer = document.getElementById(this.ids.get(\"errorDomContainer\"));\n\n\t\tthis.emitFormAppend(formContainer);\n\n\t\tthis.bindButtons();\n\t}\n\n\tonCopy()\n\t{\n\t\tif (this.validate())\n\t\t{\n\t\t\tconst uiCopyButton = new Button({\n\t\t\t\tbuttonContainer: this.copyButton\n\t\t\t});\n\n\t\t\tif (uiCopyButton.isWaiting())\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tuiCopyButton.setWaiting(true);\n\n\t\t\tthis.requestSender.copyGroup(this.getRequestData())\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.handleResponse(response);\n\t\t\t\t}).catch((response) => {\n\t\t\t\tuiCopyButton.setWaiting(false);\n\t\t\t\tthis.handleResponse(response);\n\t\t\t});\n\t\t}\n\t}\n\n\tonClose()\n\t{\n\t\tthis.constructor.closeSlider();\n\t}\n\n\tstatic closeSlider()\n\t{\n\t\t// eslint-ignore-next-line\n\t\twindow.top.BX.onCustomEvent(\"BX.Bitrix24.PageSlider:close\", [false]);\n\t}\n\n\tbindButtons()\n\t{\n\t\tthis.copyButton = document.getElementById(this.copyButtonId);\n\t\tthis.cancelButton = document.getElementById(this.cancelButtonId);\n\t\tif (!Type.isDomNode(this.copyButton) || !Type.isDomNode(this.cancelButton))\n\t\t{\n\t\t\tthrow new Error(\"Form: buttons are not found\");\n\t\t}\n\n\t\tEvent.bind(this.copyButton, \"click\", this.onCopy.bind(this));\n\t\tEvent.bind(this.cancelButton, \"click\", this.onClose.bind(this));\n\t}\n\n\temitFormAppend(formContainer)\n\t{\n\t\tthis.fields.forEach((field) => {\n\t\t\tfield.onAppendToParent(formContainer);\n\t\t});\n\t\tthis.blocks.forEach((block) => {\n\t\t\tblock.onAppendToParent(formContainer);\n\t\t});\n\t}\n\n\taddField(field)\n\t{\n\t\tthis.fields.push(field);\n\t}\n\n\tgetFields()\n\t{\n\t\treturn this.fields;\n\t}\n\n\taddBlock(block)\n\t{\n\t\tthis.blocks.push(block);\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tconst nameField = new TextField({\n\t\t\tfieldName: \"name\",\n\t\t\tvalidators: [RequireValidator],\n\t\t\tplaceHolder: (this.isProject ? Loc.getMessage(\"SGCG_PROJECT_NAME_FIELD\") :\n\t\t\t\tLoc.getMessage(\"SGCG_GROUP_NAME_FIELD\")),\n\t\t\tfocus: true\n\t\t});\n\t\tnameField.setClass(\"control\", this.classes.get(\"name\"));\n\t\tEvent.EventEmitter.subscribe(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tnameField.changePlaceHolder(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_NAME_FIELD\") : Loc.getMessage(\"SGCG_GROUP_NAME_FIELD\"))\n\t\t});\n\n\t\tconst descriptionField = new TextAreaField({\n\t\t\tfieldName: \"description\",\n\t\t\tvalue: this.groupData.DESCRIPTION,\n\t\t\tplaceHolder: (this.isProject ? Loc.getMessage(\"SGCG_PROJECT_DESCRIPTION_FIELD\") :\n\t\t\t\tLoc.getMessage(\"SGCG_GROUP_DESCRIPTION_FIELD\"))\n\t\t});\n\t\tdescriptionField.setClass(\"control\", this.classes.get(\"descriptionArea\"));\n\t\tdescriptionField.setClass(\"innerControl\", this.classes.get(\"description\"));\n\n\t\tconst fields = this.fields.map((field) => {\n\t\t\treturn field.render();\n\t\t});\n\t\tconst blocks = this.blocks.map((block) => {\n\t\t\treturn block.render();\n\t\t});\n\n\t\tthis.addField(nameField);\n\t\tthis.addField(descriptionField);\n\n\t\treturn Tag.render`\n\t\t\t<form class=\"${this.classes.get(\"form\")}\" novalidate>\n\t\t\t\t<div id=\"${this.ids.get(\"errorDomContainer\")}\" class=\"${this.classes.get(\"errorDomContainer\")}\"></div>\n\t\t\t\t<div class=\"${this.classes.get(\"base\")}\">\n\t\t\t\t\t<div class=\"${this.classes.get(\"nameContainer\")}\">\n\t\t\t\t\t\t${nameField.renderRightColumn()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${this.classes.get(\"descriptionContainer\")}\">\n\t\t\t\t\t\t${descriptionField.renderRightColumn()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"fields\")}\">\n\t\t\t\t\t${fields}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"blocks\")}\">\n\t\t\t\t\t${blocks}\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t`;\n\t}\n\n\tvalidate()\n\t{\n\t\tthis.fields.forEach((field) => {\n\t\t\tif (field.validate())\n\t\t\t{\n\t\t\t\tthis.errorContainer.delete(field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.errorContainer.set(field, field.getErrorContainer());\n\t\t\t}\n\t\t});\n\n\t\treturn this.errorContainer.size === 0;\n\t}\n\n\tgetRequestData()\n\t{\n\t\tconst fieldsValues = {\n\t\t\tid: this.groupData.ID,\n\t\t};\n\n\t\tthis.fields.forEach((field) => {\n\t\t\tfieldsValues[field.getName()] = field.getValue();\n\t\t});\n\n\t\tlet blocksValues = {};\n\t\tthis.blocks.forEach((block) => {\n\t\t\tblocksValues = { ...blocksValues, ...block.getValues() };\n\t\t});\n\n\t\tconst formData = new FormData();\n\n\t\tfor (const [name, value] of Object.entries(Object.assign(fieldsValues, blocksValues)))\n\t\t{\n\t\t\tif (value instanceof Blob)\n\t\t\t{\n\t\t\t\tformData.append(name, value, value.name);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tformData.append(name, Type.isObjectLike(value) ? JSON.stringify(value) : value);\n\t\t\t}\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\thandleResponse(response)\n\t{\n\t\tif (response.errors.length)\n\t\t{\n\t\t\tthis.displayResponseError(new ErrorAlert({\n\t\t\t\tmessage: response.errors.shift().message\n\t\t\t}));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst urlToCopiedGroup = response.data;\n\t\t\tif (urlToCopiedGroup.length)\n\t\t\t{\n\t\t\t\ttop.window.location.href = urlToCopiedGroup;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.displayResponseError(new ErrorAlert({\n\t\t\t\t\tmessage: \"Unknown error\"\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n\n\tdisplayResponseError(errorAlert)\n\t{\n\t\twhile (this.errorDomContainer.hasChildNodes())\n\t\t{\n\t\t\tthis.errorDomContainer.removeChild(this.errorDomContainer.firstChild);\n\t\t}\n\n\t\tthis.errorDomContainer.appendChild(errorAlert.render());\n\t}\n}","import {ajax} from \"main.core\";\n\nexport class RequestSender\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tsignedParameters: \"\",\n\t\t}, ...options};\n\n\t\tthis.signedParameters = options.signedParameters;\n\t\tthis.isProject = false;\n\t}\n\n\tselectGroup(groupId)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runComponentAction(\"bitrix:socialnetwork.group_copy\", \"getGroupData\", {\n\t\t\t\tmode: \"class\",\n\t\t\t\tsignedParameters: this.signedParameters,\n\t\t\t\tdata: {\n\t\t\t\t\tgroupId: parseInt(groupId)\n\t\t\t\t}\n\t\t\t}).then(resolve, reject);\n\t\t});\n\t}\n\n\tcopyGroup(requestData)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runComponentAction(\"bitrix:socialnetwork.group_copy\", \"copyGroup\", {\n\t\t\t\tmode: \"class\",\n\t\t\t\tsignedParameters: this.signedParameters,\n\t\t\t\tdata: requestData,\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tproject: (this.isProject ? \"Y\" : \"N\"),\n\t\t\t\t}\n\t\t\t}).then(resolve, reject);\n\t\t});\n\t}\n\n\tsetProjectMarker(bool)\n\t{\n\t\tthis.isProject = Boolean(bool);\n\t}\n}","import {BaseField} from \"./base.field\";\nimport {Dom, Tag, Text} from \"main.core\";\n\nexport class CustomField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tfieldContainerId: \"\",\n\t\t}, ...options};\n\n\t\tthis.fieldContainerId = options.fieldContainerId;\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-textbox ui-ctl-wa\");\n\t\tthis.classes.set(\"innerControl\", \"social-group-copy-ui-ctl-element\");\n\t\tthis.classes.set(\"customContainer\", \"social-group-copy-custom-container\");\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\treturn Tag.render`\n\t\t\t<div id=\"${Text.encode(this.ids.get(\"container\"))}\" class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tconst customContainer = document.getElementById(this.fieldContainerId);\n\t\tDom.removeClass(customContainer, this.classes.get(\"customContainer\"));\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<div id=\"${this.innerControlId}\" class=\"${this.classes.get(\"innerControl\")}\">\n\t\t\t\t\t${customContainer}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {CustomField} from \"./custom.field\";\nimport {Dom, Event, Type} from \"main.core\";\n\nexport class ImageField extends CustomField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.classes.set(\"innerControl\", \"social-group-copy-link-upload social-group-copy-link-upload-set\");\n\t\tthis.classes.set(\"uploadSet\", \"social-group-copy-link-upload-set\");\n\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\t// eslint-ignore-next-line\n\t\tthis.uploaderInstance = BX.UploaderManager.getById(this.fieldName);\n\t\tif (this.uploaderInstance)\n\t\t{\n\t\t\t// eslint-ignore-next-line\n\t\t\tBX.addCustomEvent(this.uploaderInstance, \"onQueueIsChanged\", this.onQueueIsChanged.bind(this));\n\t\t}\n\t}\n\n\tonAppendToParent()\n\t{\n\t\tsuper.onAppendToParent();\n\n\t\tconst currentValue = this.getCurrentValue();\n\t\tsuper.setValue(currentValue);\n\t\tif (!currentValue)\n\t\t{\n\t\t\tDom.removeClass(this.innerControl, this.classes.get(\"uploadSet\"));\n\t\t}\n\t}\n\n\tonQueueIsChanged(uploaderInstance, action, fileId, file)\n\t{\n\t\t// eslint-ignore-next-line\n\t\tBX.addCustomEvent(file, \"onUploadDone\", this.onUploadDone.bind(this));\n\n\t\tswitch (action)\n\t\t{\n\t\t\tcase \"add\":\n\t\t\t\tDom.addClass(this.innerControl, this.classes.get(\"uploadSet\"));\n\t\t\t\tbreak;\n\t\t\tcase \"delete\":\n\t\t\t\tDom.removeClass(this.innerControl, this.classes.get(\"uploadSet\"));\n\t\t\t\tsuper.setValue(\"\");\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonUploadDone(status, file, agent, pIndex)\n\t{\n\t\tsuper.setValue(this.getCurrentValue());\n\t}\n\n\tgetCurrentValue()\n\t{\n\t\tconst item = Object.values(this.uploaderInstance.getItems().items)[0];\n\t\tif (!item)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\tif (item.file instanceof Blob)\n\t\t{\n\t\t\treturn item.file;\n\t\t}\n\n\t\treturn item.file.file_id;\n\t}\n}\n","import {Validation, Loc, Type} from \"main.core\";\n\nexport class DateValidator\n{\n\tconstructor()\n\t{\n\t\tthis.errorMessage = Loc.getMessage(\"SGCG_FORMAT_ERROR\");\n\t}\n\n\tvalidate(value)\n\t{\n\t\treturn this.constructor.isValid(value);\n\t}\n\n\tstatic getType()\n\t{\n\t\treturn \"date\";\n\t}\n\n\tstatic isValid(value)\n\t{\n\t\t//todo\n\t\treturn true;\n\t}\n\n\tgetErrorMessage()\n\t{\n\t\treturn this.errorMessage;\n\t}\n}","import {Event, Tag, Text, Type} from \"main.core\";\nimport {BaseField} from \"./base.field\";\nimport {DateValidator} from \"../validator/date.validator\";\n\nexport class DateField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.ids.set(\"container\", \"social-group-copy-date-field-\" + this.fieldName);\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-after-icon ui-ctl-datetime\");\n\t\tthis.classes.set(\"icon\", \"ui-ctl-after ui-ctl-icon-calendar\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\n\t\tthis.validators.push(DateValidator);\n\t}\n\n\tonAppendToParent()\n\t{\n\t\tsuper.onAppendToParent();\n\n\t\tEvent.bind(this.innerControl, \"click\", this.showCalendar.bind(this));\n\t}\n\n\tsetParentNode(node)\n\t{\n\t\tif (Type.isDomNode(node))\n\t\t{\n\t\t\tthis.parentNode = node;\n\t\t}\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\n\t\treturn Tag.render`\n\t\t\t<div id=\"${Text.encode(this.ids.get(\"container\"))}\" class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\tthis.value = Text.encode(this.value);\n\t\tconst onChange = this.onChange.bind(this);\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"icon\")}\"></div>\n\t\t\t\t<input id=\"${this.innerControlId}\" type=\"text\" autocomplete=\"off\" value=\"${this.value}\" name=\"\n\t\t\t\t\t${this.fieldName}\" class=\"${this.classes.get(\"innerControl\")}\" onchange=\"${onChange}\">\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tshowCalendar()\n\t{\n\t\t/* eslint-disable */\n\t\tBX.calendar({\n\t\t\tnode: this.innerControl,\n\t\t\tfield: this.innerControl,\n\t\t\tbTime: false,\n\t\t\tbSetFocus: false,\n\t\t\tbHideTime: false\n\t\t});\n\t\t/* eslint-enable */\n\t}\n\n\tonChange()\n\t{\n\t\tthis.setValue(this.innerControl.value);\n\t\tthis.validate();\n\t}\n}","import {CustomField} from \"./custom.field\";\nimport {Tag} from \"main.core\";\nimport {DateField} from \"./date.field\";\nimport {RequireValidator} from \"../validator/require.validator\";\n\nexport class DateRangeField extends CustomField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.startPoint = null;\n\t\tthis.endPoint = null;\n\n\t\tthis.ids.set(\"container\", \"social-group-copy-date-range-field-\" + this.fieldName);\n\t\tthis.ids.set(\"baseContainer\", \"social-group-copy-date-range-base-\" + this.fieldName);\n\n\t\tthis.classes.set(\"baseContainer\", \"social-group-copy-field-container \" +\n\t\t\t\"social-group-copy-field-container-datetime social-group-copy-field-datetime\");\n\t\tthis.classes.set(\"delimiter\", \"social-group-copy-field-block social-group-copy-field-block-between\");\n\t}\n\n\tonAppendToParent()\n\t{\n\t\tsuper.onAppendToParent();\n\n\t\tthis.baseContainer = document.getElementById(this.ids.get(\"baseContainer\"));\n\n\t\tthis.startPoint.setParentNode(this.baseContainer);\n\t\tthis.startPoint.onAppendToParent();\n\t\tthis.endPoint.onAppendToParent();\n\n\t\tthis.toggleVisible(this.visible);\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tthis.startPoint = new DateField({\n\t\t\tfieldName: \"range_start_point\",\n\t\t\tvalidators: [RequireValidator]\n\t\t});\n\t\tthis.endPoint = new DateField({\n\t\t\tfieldName: \"range_end_point\"\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div>\n\t\t\t\t<div id=\"${this.ids.get(\"baseContainer\")}\" class=\"${this.classes.get(\"baseContainer\")}\">\n\t\t\t\t\t${this.startPoint.renderRightColumn()}\n\t\t\t\t\t<div class=\"${this.classes.get(\"delimiter\")}\"></div>\n\t\t\t\t\t${this.endPoint.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tvalidate()\n\t{\n\t\tthis.errorContainer.clear();\n\n\t\tif (!this.visible)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\treturn this.startPoint && this.startPoint.validate();\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tstart_point: this.startPoint.getValue(),\n\t\t\tend_point: this.endPoint.getValue()\n\t\t};\n\t}\n}","import {CustomField} from \"./custom.field\";\nimport {Type} from \"main.core\";\n\nexport class UserField extends CustomField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tselectorId: \"\",\n\t\t\tmultiple: true\n\t\t}, ...options};\n\n\t\tthis.selectorId = options.selectorId;\n\t\tthis.multiple = options.multiple;\n\n\t\tthis.value = (this.multiple ? {} : \"\");\n\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\t// eslint-ignore-next-line\n\t\tBX.addCustomEvent(\"BX.Main.User.SelectorController:select\", this.onSelect.bind(this));\n\t\t// eslint-ignore-next-line\n\t\tBX.addCustomEvent(\"BX.Main.User.SelectorController:unSelect\", this.onUnSelect.bind(this));\n\t}\n\n\tonSelect(info)\n\t{\n\t\tif (this.selectorId !== info.selectorId)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (Type.isUndefined(info.item) || Type.isUndefined(info.item.entityId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setValue(info.item.entityId);\n\t}\n\n\tonUnSelect(info)\n\t{\n\t\tif (this.selectorId !== info.selectorId)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (Type.isUndefined(info.item) || Type.isUndefined(info.item.entityId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.deleteValue(info.item.entityId);\n\t\tthis.validate();\n\t}\n\n\tsetValue(value)\n\t{\n\t\tif (this.multiple)\n\t\t{\n\t\t\tthis.value[value] = value;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\tdeleteValue(value)\n\t{\n\t\tif (this.multiple)\n\t\t{\n\t\t\tdelete this.value[value];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.value = \"\";\n\t\t}\n\t}\n}","import {Tag, Text} from \"main.core\";\nimport {BaseField} from \"./base.field\";\n\nexport class SelectField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tlist: {},\n\t\t}, ...options};\n\n\t\tthis.list = options.list;\n\n\t\tthis.onChangeCallback = this.onChange.bind(this);\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-after-icon ui-ctl-dropdown\");\n\t\tthis.classes.set(\"controlAngle\", \"ui-ctl-after ui-ctl-icon-angle\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\tthis.value = Text.encode(this.value);\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tconst options = this.getOptions();\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"controlAngle\")}\"></div>\n\t\t\t\t<select id=\"${this.innerControlId}\" name=\"${this.fieldName}\" class=\"${\n\t\t\t\t\tthis.classes.get(\"innerControl\")}\" onchange=\"${this.onChangeCallback}\">\n\t\t\t\t\t${options.join(\"\")}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetOptions()\n\t{\n\t\treturn Object.entries(this.list).map(([id, value]) => {\n\t\t\treturn `<option ${(id === this.value ? \"selected\" : \"\")} value=\"${Text.encode(id)}\">${\n\t\t\t\tText.encode(value)}</option>`;\n\t\t});\n\t}\n\n\tchangeOptions(data)\n\t{\n\t\tthis.list = data;\n\t\tconst options = this.getOptions();\n\t\tthis.innerControl.innerHTML = options.join(\"\");\n\t}\n\n\tonChange()\n\t{\n\t\tthis.validate();\n\t}\n\n\tvalidate()\n\t{\n\t\tsuper.setValue(this.innerControl.value);\n\n\t\treturn super.validate();\n\t}\n}","import {Tag} from \"main.core\";\n\nexport class Options\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tswitcher: null\n\t\t}, ...options};\n\n\t\tthis.switcher = options.switcher;\n\n\t\tthis.options = [];\n\n\t\tthis.block = null;\n\t\tthis.list = null;\n\n\t\tthis.ids = new Map([\n\t\t\t[\"blockId\", \"social-group-copy-options-block\"],\n\t\t\t[\"listId\", \"social-group-copy-options-list-block\"],\n\t\t]);\n\t\tthis.classes = new Map([\n\t\t\t[\"block\", \"social-group-copy-options-block\"],\n\t\t\t[\"switcher\", \"social-group-copy-options-title-block\"],\n\t\t\t[\"optionsList\", \"social-group-copy-options-list hide fade-out\"],\n\t\t]);\n\t}\n\n\tonAppendToParent()\n\t{\n\t\tthis.block = document.getElementById(this.ids.get(\"blockId\"));\n\t\tthis.list = document.getElementById(this.ids.get(\"listId\"));\n\n\t\tthis.options.forEach((option) => {\n\t\t\treturn option.onAppendToParent(this.list);\n\t\t});\n\n\t\tthis.switcher.onAppendToParent(this.list);\n\t}\n\n\taddOption(option)\n\t{\n\t\tthis.options.push(option);\n\t\tthis.switcher.addOption(option);\n\t}\n\n\trender()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.ids.get(\"blockId\")}\" class=\"${this.classes.get(\"block\")}\">\n\t\t\t\t${this.switcher.render()}\n\t\t\t\t<div id=\"${this.ids.get(\"listId\")}\" class=\"${this.classes.get(\"optionsList\")}\"></div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetValues()\n\t{\n\t\tlet optionsValues = {};\n\t\tthis.options.forEach((option) => {\n\t\t\toptionsValues = {...optionsValues, ...option.getValues()};\n\t\t});\n\t\treturn optionsValues;\n\t}\n}","import {Dom, Event, Tag, Text} from \"main.core\";\n\nexport class Switcher\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\ttitle: \"Title\"\n\t\t}, ...options};\n\n\t\tthis.title = options.title;\n\n\t\tthis.container = null;\n\t\tthis.options = [];\n\n\t\tthis.ids = new Map([\n\t\t\t[\"switcherId\", \"social-group-copy-switcher\"],\n\t\t]);\n\t\tthis.classes = new Map([\n\t\t\t[\"switcher\", \"social-group-copy-switcher\"],\n\t\t\t[\"switcherMore\", \"social-group-copy-switcher-more\"],\n\t\t\t[\"switcherPromo\", \"social-group-copy-switcher-promo\"],\n\t\t\t[\"opened\", \"opened\"],\n\t\t\t[\"hide\", \"hide\"],\n\t\t\t[\"easingIn\", \"fade-in\"],\n\t\t\t[\"easingOut\", \"fade-out\"],\n\t\t]);\n\t}\n\n\taddOption(option)\n\t{\n\t\tthis.options.push(option);\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tthis.optionsContainer = optionsContainer;\n\t\tthis.container = document.getElementById(this.ids.get(\"switcherId\"));\n\t\tEvent.bind(this.container, \"click\", this.onClick.bind(this));\n\t}\n\n\tisOpened()\n\t{\n\t\treturn Dom.hasClass(this.container, this.classes.get(\"opened\"));\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tthis.title = Text.encode(this.title);\n\n\t\tconst options = this.options.map((option) => {\n\t\t\treturn option.renderPromo();\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.ids.get(\"switcherId\")}\" class=\"${this.classes.get(\"switcher\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"switcherMore\")}\">${this.title}</div>\n\t\t\t\t<div class=\"${this.classes.get(\"switcherPromo\")}\">\n\t\t\t\t\t${options}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonClick(event)\n\t{\n\t\tlet target = event.target;\n\t\tlet targetId = target.getAttribute(\"id\");\n\t\tif (!targetId)\n\t\t{\n\t\t\ttarget = event.currentTarget;\n\t\t\ttargetId = target.getAttribute(\"id\");\n\t\t}\n\n\t\tif (targetId === this.ids.get(\"switcherId\"))\n\t\t{\n\t\t\tthis.switchOptions();\n\t\t}\n\t}\n\n\tswitchOptions()\n\t{\n\t\tthis.constructor.switchOptions(this);\n\t}\n\n\tstatic switchOptions(switcher)\n\t{\n\t\tif (Dom.hasClass(switcher.optionsContainer, switcher.classes.get(\"easingOut\")))\n\t\t{\n\t\t\tDom.removeClass(switcher.optionsContainer, switcher.classes.get(\"hide\"));\n\t\t\tDom.removeClass(switcher.optionsContainer, switcher.classes.get(\"easingOut\"));\n\t\t\tDom.addClass(switcher.container, switcher.classes.get(\"opened\"));\n\t\t\tDom.addClass(switcher.optionsContainer, switcher.classes.get(\"easingIn\"));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.removeClass(switcher.container, switcher.classes.get(\"opened\"));\n\t\t\tDom.removeClass(switcher.optionsContainer, switcher.classes.get(\"easingIn\"));\n\t\t\tDom.addClass(switcher.optionsContainer, switcher.classes.get(\"easingOut\"));\n\t\t}\n\t}\n}","import {Tag, Text} from \"main.core\";\nimport {BaseField} from \"./base.field\";\n\nexport class CheckboxField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tchecked: true,\n\t\t\tdisabled: false\n\t\t}, ...options};\n\n\t\tthis.checked = options.checked;\n\t\tthis.disabled = options.disabled;\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-checkbox ui-ctl-wa ui-ctl-xs social-group-copy-checkbox\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\t\tthis.classes.set(\"title\", \"ui-ctl-label-text\");\n\n\t\t// todo tmp delete after main 20.0.200\n\t\tthis.eventNamespace = \"BX.Socialnetwork.CheckboxField:\";\n\t\tif (typeof this.setEventNamespace === \"function\")\n\t\t{\n\t\t\tthis.eventNamespace = \"\";\n\t\t\tthis.setEventNamespace(\"BX.Socialnetwork.CheckboxField\");\n\t\t}\n\t}\n\n\tsetChecked(checked)\n\t{\n\t\tthis.innerControl.checked = checked;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tconst onChange = this.onChange.bind(this);\n\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\treturn Tag.render`\n\t\t\t<label class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<input id=\"${this.innerControlId}\" ${this.disabled ? \"disabled\" : \"\"} ${this.checked ? \"checked\" : \"\"} \n\t\t\t\t\ttype=\"checkbox\" name=\"${this.fieldName}\" \n\t\t\t\t\tonchange=\"${onChange}\" class=\"${this.classes.get(\"innerControl\")}\">\n\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"title\")}\">${this.fieldTitle}</div>\n\t\t\t</label>\n\t\t`;\n\t}\n\n\tonChange()\n\t{\n\t\tthis.validate();\n\n\t\tthis.emit(this.eventNamespace+this.fieldName+\":onChange\", {checked: this.innerControl.checked});\n\t}\n\n\tisDisabled()\n\t{\n\t\treturn Boolean(this.innerControl.disabled);\n\t}\n\n\t/**\n\t * @param {Boolean} disabled\n\t */\n\tchangeDisabled(disabled)\n\t{\n\t\tif (disabled)\n\t\t{\n\t\t\tthis.innerControl.checked = false;\n\t\t\tthis.setValue(\"\");\n\t\t}\n\t\tthis.innerControl.disabled = disabled;\n\t}\n\n\tvalidate()\n\t{\n\t\tthis.setValue(this.innerControl.checked ? \"Y\": \"\");\n\n\t\treturn super.validate();\n\t}\n\n\tgetValue()\n\t{\n\t\treturn (this.innerControl.checked ? \"Y\": \"\");\n\t}\n}","import {Tag, Dom, Type, Text} from \"main.core\";\nimport {Switcher} from \"./switcher\";\n\nexport class ChildOption\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tfieldTitle: \"title\",\n\t\t\tdata: {},\n\t\t\tswitcher: null,\n\t\t\tvalue: \"\"\n\t\t}, ...options};\n\n\t\tthis.fieldTitle = Text.encode(options.fieldTitle);\n\t\tthis.data = options.data;\n\t\tthis.value = (options.value ? options.value : \"\");\n\t\tthis.switcher = options.switcher;\n\n\t\tthis.titleControl = null;\n\t\tthis.titleId = \"child-option-title-id\";\n\n\t\tthis.optionsContainer = null;\n\t\tthis.blockId = \"base\";\n\t\tthis.block = null;\n\n\t\tthis.fields = new Set();\n\n\t\tthis.classes = new Map([\n\t\t\t[\"optionItem\", \"social-group-copy-options-item social-group-copy-form-field-list-block\"],\n\t\t\t[\"leftColumn\", \"social-group-copy-options-item-column-left\"],\n\t\t\t[\"fieldTitle\", \"social-group-copy-options-item-name\"],\n\t\t\t[\"rightColumn\", \"social-group-copy-options-item-column-right\"],\n\t\t\t[\"promoText\", \"social-group-copy-switcher-promo-text\"],\n\t\t\t[\"itemHighlight\", \"item-highlight\"],\n\t\t]);\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tthis.optionsContainer = optionsContainer;\n\n\t\tif (Type.isPlainObject(this.data))\n\t\t{\n\t\t\tthis.append(this.data)\n\t\t}\n\n\t\tthis.fields.forEach((field) => {\n\t\t\treturn field.onAppendToParent();\n\t\t});\n\n\t\tthis.block = document.getElementById(this.blockId);\n\t\tthis.titleControl = document.getElementById(this.titleId);\n\t}\n\n\tappend(data)\n\t{\n\t\tthis.optionsContainer.appendChild(\n\t\t\tTag.render`\n\t\t\t\t<div id=\"${this.blockId}\" class=\"${this.classes.get(\"optionItem\")}\">\n\t\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t\t${this.getChildRender(data)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`\n\t\t);\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\tgetChildRender(data)\n\t{\n\t\treturn Tag.render``;\n\t}\n\n\tgetValues()\n\t{\n\t\tconst fieldsValues = {};\n\t\tthis.fields.forEach((field) => {\n\t\t\tfieldsValues[field.getName()] = field.getValue();\n\t\t});\n\n\t\treturn fieldsValues;\n\t}\n\n\tonClick(event)\n\t{\n\t\tthis.switcher.switchOptions();\n\n\t\tif (this.switcher.isOpened())\n\t\t{\n\t\t\tsetTimeout(() => {\n\t\t\t\tDom.addClass(this.block, this.classes.get(\"itemHighlight\"));\n\t\t\t\tconst position = Dom.getPosition(this.block);\n\t\t\t\twindow.scrollBy({\n\t\t\t\t\ttop: position.top,\n\t\t\t\t\tleft: position.left,\n\t\t\t\t\tbehavior: \"smooth\"\n\t\t\t\t});\n\t\t\t\t// todo hack for slider\n\t\t\t\t//this.block.scrollIntoView({behavior: \"smooth\", block: \"start\"});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tDom.removeClass(this.block, this.classes.get(\"itemHighlight\"));\n\t\t\t\t}, 3000);\n\t\t\t}, 1000);\n\t\t}\n\t}\n\n\tchangeTitle(title)\n\t{\n\t\tthis.fieldTitle = title;\n\t\tthis.titleControl.innerHTML = Text.encode(this.fieldTitle);\n\t}\n}","import {Tag, Dom, Type, Event} from \"main.core\";\nimport {CheckboxField} from \"../field/checkbox.field\";\nimport {ChildOption} from \"./child.option\";\n\nexport class Features extends ChildOption\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.promoId = \"features\";\n\t\tthis.blockId = \"features-block\";\n\n\t\tthis.classes.set(\"featuresList\", \"social-group-copy-features-list\");\n\t\tthis.classes.set(\"featureItem\", \"social-group-copy-feature-item social-group-copy-feature-item-tree\");\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tsuper.onAppendToParent(optionsContainer);\n\n\t\tEvent.bind(document.getElementById(this.promoId), \"click\", this.onClick.bind(this));\n\t}\n\n\trenderPromo()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span id=\"${this.promoId}\" class=\"${this.classes.get(\"promoText\")}\">${this.fieldTitle}</span>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\tgetChildRender(data)\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"featuresList\")}\">\n\t\t\t\t${this.getFeaturesRender(data)}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tselfClean()\n\t{\n\t\tif (Type.isDomNode(this.block))\n\t\t{\n\t\t\tDom.remove(this.block);\n\t\t}\n\t}\n\n\tgetFeaturesRender(features)\n\t{\n\t\treturn Object.values(features).map((feature) => {\n\t\t\tconst hasProperty = Object.prototype.hasOwnProperty;\n\t\t\tconst childrenFields = Object.values(feature[\"Children\"]).map((featureChild) => {\n\t\t\t\tconst childField = new CheckboxField({\n\t\t\t\t\tfieldTitle: featureChild[\"Title\"],\n\t\t\t\t\tfieldName: \"features[\" + feature[\"Name\"] + \"][\" + featureChild[\"Name\"] + \"]\",\n\t\t\t\t\tvalidators: [],\n\t\t\t\t\tparentNode: this.optionsContainer,\n\t\t\t\t\tchecked: (hasProperty.call(featureChild, \"Checked\") ? featureChild[\"Checked\"] : true)\n\t\t\t\t});\n\t\t\t\tthis.fields.add(childField);\n\t\t\t\treturn childField;\n\t\t\t});\n\n\t\t\tconst childrenRender = childrenFields.map((childrenField) => {\n\t\t\t\treturn Tag.render`${childrenField.render()}`;\n\t\t\t});\n\n\t\t\tconst featureField = new CheckboxField({\n\t\t\t\tfieldTitle: feature[\"Title\"],\n\t\t\t\tfieldName: \"features[\" + feature[\"Name\"] + \"][active]\",\n\t\t\t\tvalidators: [],\n\t\t\t\tparentNode: this.optionsContainer,\n\t\t\t\tchecked: (hasProperty.call(feature, \"Checked\") ? feature[\"Checked\"] : true),\n\t\t\t\tonCustomChange: function(event) {\n\t\t\t\t\tthis.forEach((childrenField) => {\n\t\t\t\t\t\tchildrenField.setChecked(event.currentTarget.checked);\n\t\t\t\t\t});\n\t\t\t\t}.bind(childrenFields)\n\t\t\t});\n\t\t\tthis.fields.add(featureField);\n\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"${this.classes.get(\"featureItem\")}\">\n\t\t\t\t\t${featureField.render()}\n\t\t\t\t\t${childrenRender}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}","import {Tag, Dom, Type, Text, Loc, Event} from \"main.core\";\nimport {ChildOption} from \"./child.option\";\nimport {SelectField} from \"../field/select.field\";\n\nexport class Rights extends ChildOption\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.promoId = \"rights\";\n\t\tthis.blockId = \"rights-block\";\n\t\tthis.titleId = \"rights-option-title-id\";\n\n\t\tthis.selectField = null;\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tsuper.onAppendToParent(optionsContainer);\n\n\t\tEvent.bind(document.getElementById(this.promoId), \"click\", this.onClick.bind(this));\n\t}\n\n\trenderPromo()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span id=\"${this.promoId}\" class=\"${this.classes.get(\"promoText\")}\">\n\t\t\t\t${Loc.getMessage(\"SGCG_OPTIONS_PERMS_TITLE\")}\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tgetChildRender(data)\n\t{\n\t\tthis.selectField = new SelectField({\n\t\t\tfieldTitle: this.fieldTitle,\n\t\t\tfieldName: \"initiate_perms\",\n\t\t\tvalue: this.value,\n\t\t\tlist: data\n\t\t});\n\n\t\tthis.fields.add(this.selectField);\n\n\t\treturn this.selectField.renderRightColumn();\n\t}\n\n\tchangeSelectOptions(data)\n\t{\n\t\tthis.selectField.changeOptions(data);\n\t}\n}","import {CustomField} from \"./custom.field\";\nimport {Type} from \"main.core\";\n\nexport class SelectorField extends CustomField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tselectorId: \"\",\n\t\t}, ...options};\n\n\t\tthis.selectorId = options.selectorId;\n\n\t\tthis.selector = null;\n\n\t\tthis.value = {};\n\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\t/* eslint-disable */\n\t\tthis.selector = BX.UI.TileSelector.getById(this.selectorId);\n\t\tif (this.selector)\n\t\t{\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.search, this.onSearch.bind(this));\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.input, this.onInput.bind(this));\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.buttonSelect, this.buttonSelect.bind(this));\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.tileRemove, this.removeTile.bind(this));\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.tileClick, this.clickTile.bind(this));\n\n\t\t\tthis.selector.getTiles().map((tile) => {\n\t\t\t\tthis.setValue(tile.id, tile);\n\t\t\t});\n\t\t}\n\t\t/* eslint-enable */\n\t}\n\n\tsetValue(key, value)\n\t{\n\t\tthis.value[key] = value;\n\t}\n\n\tdeleteValue(key)\n\t{\n\t\tdelete this.value[key];\n\t}\n\n\tonSearch(inputValue)\n\t{\n\t\tif (inputValue)\n\t\t{\n\t\t\tthis.selector.addTile(inputValue, [], inputValue);\n\t\t\tconst tile = this.selector.getTile(inputValue);\n\t\t\tthis.setValue(tile.id, tile);\n\t\t}\n\t}\n\n\tonInput(inputValue)\n\t{\n\t\t//todo later ajax search.tags.input\n\t}\n\n\tbuttonSelect()\n\t{\n\t\t//todo if need\n\t}\n\n\tremoveTile(tile)\n\t{\n\t\tthis.deleteValue(tile.id);\n\t}\n\n\tclickTile(tile)\n\t{\n\t\t//todo if need\n\t}\n}","import {SelectorField} from \"./selector.field\";\n\nexport class TagField extends SelectorField\n{\n\tgetValue()\n\t{\n\t\treturn Object.keys(this.value).join(\",\");\n\t}\n}","import {Tag, Dom, Type, Text, Loc, Event} from \"main.core\";\nimport {ChildOption} from \"./child.option\";\nimport {TagField} from \"../field/tag.field\";\n\nexport class Tags extends ChildOption\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\ttagsFieldContainerId: \"\"\n\t\t}, ...options};\n\n\t\tthis.promoId = \"tags\";\n\t\tthis.blockId = \"tags-block\";\n\n\t\tthis.tagsFieldContainerId = options.tagsFieldContainerId;\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tsuper.onAppendToParent(optionsContainer);\n\n\t\tEvent.bind(document.getElementById(this.promoId), \"click\", this.onClick.bind(this));\n\t}\n\n\trenderPromo()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span id=\"${this.promoId}\" class=\"${this.classes.get(\"promoText\")}\">${this.fieldTitle}</span>\n\t\t`;\n\t}\n\n\tgetChildRender(data)\n\t{\n\t\tconst tagField = new TagField({\n\t\t\tselectorId: \"tags-list\",\n\t\t\tfieldTitle: this.fieldTitle,\n\t\t\tfieldName: \"keywords\",\n\t\t\tfieldContainerId: this.tagsFieldContainerId\n\t\t});\n\n\t\tthis.fields.add(tagField);\n\n\t\treturn tagField.renderRightColumn();\n\t}\n}","import {Tag, Loc, Event} from \"main.core\";\nimport {ChildOption} from \"./child.option\";\nimport {CheckboxField} from \"../field/checkbox.field\";\n\nexport class Types extends ChildOption\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tisProject: false,\n\t\t\tisExtranetGroup: false,\n\t\t\tisExtranetInstalled: false,\n\t\t\tisIntranetInstalled: false,\n\t\t\tisLandingInstalled: false,\n\t\t}, ...options};\n\n\t\tthis.isProject = options.isProject;\n\t\tthis.isExtranetGroup = options.isExtranetGroup;\n\t\tthis.isExtranetInstalled = options.isExtranetInstalled;\n\t\tthis.isIntranetInstalled = options.isIntranetInstalled;\n\t\tthis.isLandingInstalled = options.isLandingInstalled;\n\n\t\tthis.promoId = \"types\";\n\t\tthis.blockId = \"types-block\";\n\t\tthis.titleId = \"types-option-title-id\";\n\n\t\tthis.classes.set(\"typesList\", \"social-group-copy-types-list\");\n\t\tthis.classes.set(\"typeItem\", \"social-group-copy-feature-item\");\n\n\t\tthis.checkboxEventName = \"BX.Socialnetwork.CheckboxField\";\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tsuper.onAppendToParent(optionsContainer);\n\n\t\tEvent.bind(document.getElementById(this.promoId), \"click\", this.onClick.bind(this));\n\t}\n\n\trenderPromo()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span id=\"${this.promoId}\" class=\"${this.classes.get(\"promoText\")}\">\n\t\t\t\t${Loc.getMessage(\"SGCG_OPTIONS_TYPE_TITLE\")}\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tgetChildRender(data)\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"typesList\")}\">\n\t\t\t\t${this.getTypesRender(data)}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetTypesRender(data)\n\t{\n\t\tconst result = [];\n\n\t\tconst visibleField = this.createVisibleField(data);\n\t\tresult.push(Tag.render`${visibleField.render()}`);\n\n\t\tconst openField = this.createOpenedField(data);\n\t\tresult.push(Tag.render`${openField.render()}`);\n\n\t\tconst closeField = this.createCloseField(data);\n\t\tresult.push(Tag.render`${closeField.render()}`);\n\n\t\tif (this.isExtranetInstalled)\n\t\t{\n\t\t\tconst extranetField = this.createExtranetField(data);\n\t\t\tresult.push(Tag.render`${extranetField.render()}`);\n\t\t}\n\n\t\tif (this.isIntranetInstalled)\n\t\t{\n\t\t\tconst projectField = this.createProjectField(data);\n\t\t\tresult.push(Tag.render`${projectField.render()}`);\n\t\t}\n\n\t\tif (this.isLandingInstalled)\n\t\t{\n\t\t\tconst landingField = this.createLandingField(data);\n\t\t\tresult.push(Tag.render`${landingField.render()}`);\n\t\t}\n\n\t\treturn Tag.render`${result}`;\n\t}\n\n\tcreateVisibleField(data)\n\t{\n\t\tconst visibleField = new CheckboxField({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_VISIBLE\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_VISIBLE\")),\n\t\t\tfieldName: \"visible\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"VISIBLE\"] === \"Y\" && !this.isExtranetGroup),\n\t\t\tdisabled: this.isExtranetGroup\n\t\t});\n\n\t\tthis.fields.add(visibleField);\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tvisibleField.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_VISIBLE\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_VISIBLE\"))\n\t\t});\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":extranet_group:onChange\", (baseEvent) => {\n\t\t\tvisibleField.changeDisabled(baseEvent.data.checked);\n\t\t});\n\n\t\treturn visibleField;\n\t}\n\n\tcreateOpenedField(data)\n\t{\n\t\tconst openField = new CheckboxField({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_OPEN\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_OPEN\")),\n\t\t\tfieldName: \"opened\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"OPENED\"] === \"Y\" && !this.isExtranetGroup),\n\t\t\tdisabled: (data[\"VISIBLE\"] !== \"Y\" || this.isExtranetGroup)\n\t\t});\n\n\t\tthis.fields.add(openField);\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\topenField.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_OPEN\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_OPEN\"))\n\t\t});\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":visible:onChange\", (baseEvent) => {\n\t\t\topenField.changeDisabled(!baseEvent.data.checked);\n\t\t});\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":extranet_group:onChange\", (baseEvent) => {\n\t\t\topenField.changeDisabled(baseEvent.data.checked);\n\t\t});\n\n\t\treturn openField;\n\t}\n\n\tcreateCloseField(data)\n\t{\n\t\tconst closeField = new CheckboxField({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_CLOSED\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_CLOSED\")),\n\t\t\tfieldName: \"closed\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"CLOSED\"] === \"Y\"),\n\t\t\tdisabled: this.isExtranetGroup\n\t\t});\n\n\t\tthis.fields.add(closeField);\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tcloseField.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_CLOSED\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_CLOSED\"));\n\t\t});\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":extranet_group:onChange\", (baseEvent) => {\n\t\t\tcloseField.changeDisabled(baseEvent.data.checked);\n\t\t});\n\n\t\treturn closeField;\n\t}\n\n\tcreateExtranetField(data)\n\t{\n\t\tconst extranetField = new CheckboxField({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_EXTRANET\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_EXTRANET\")),\n\t\t\tfieldName: \"extranet_group\",\n\t\t\tvalidators: [],\n\t\t\tchecked: this.isExtranetGroup\n\t\t});\n\n\t\tthis.fields.add(extranetField);\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\textranetField.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_EXTRANET\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_EXTRANET\"))\n\t\t});\n\n\t\treturn extranetField;\n\t}\n\n\tcreateProjectField(data)\n\t{\n\t\tconst projectField = new CheckboxField({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_OPTIONS_TYPE_PROJECT\"),\n\t\t\tfieldName: \"project\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"PROJECT\"] === \"Y\")\n\t\t});\n\t\tthis.fields.add(projectField);\n\t\treturn projectField;\n\t}\n\n\tcreateLandingField(data)\n\t{\n\t\tconst landingField = new CheckboxField({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_OPTIONS_TYPE_LANDING_MSGVER_2\"),\n\t\t\tfieldName: \"landing\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"LANDING\"] === \"Y\")\n\t\t});\n\t\tthis.fields.add(landingField);\n\t\treturn landingField;\n\t}\n\n\tsubscribeToField(eventName, callback)\n\t{\n\t\tEvent.EventEmitter.subscribe(eventName, callback);\n\t}\n}","import {Event, Loc, Type} from 'main.core';\nimport {Form} from \"./form/form\";\nimport {RequestSender} from \"./request.sender\";\nimport {ImageField} from \"./form/field/image.field\";\nimport {DateField} from \"./form/field/date.field\";\nimport {DateRangeField} from \"./form/field/date.range.field\";\nimport {UserField} from \"./form/field/user.field\";\nimport {SelectField} from \"./form/field/select.field\";\nimport {RequireValidator} from \"./form/validator/require.validator\";\nimport {Options} from \"./form/block/options\";\nimport {Switcher} from \"./form/block/switcher\";\nimport {Features} from \"./form/block/features\";\nimport {Rights} from \"./form/block/rights\";\nimport {Tags} from \"./form/block/tags\";\nimport {Types} from \"./form/block/types\";\n\nexport class CopyingManager\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tsignedParameters: \"\",\n\t\t\tformContainerId: \"\",\n\t\t\tisProject: \"N\",\n\t\t\tisExtranet: \"N\",\n\t\t\tisExtranetGroup: \"N\",\n\t\t\tisExtranetInstalled: \"N\",\n\t\t\tisIntranetInstalled: \"N\",\n\t\t\tgroupData: {},\n\t\t\timageFieldContainerId: \"\",\n\t\t\townerFieldContainerId: \"\",\n\t\t\thelpersFieldContainerId: \"\",\n\t\t\tisLandingInstalled: \"\",\n\t\t\ttagsFieldContainerId: \"\",\n\t\t\tcopyButtonId: \"\",\n\t\t\tcancelButtonId: \"\"\n\t\t}, ...options};\n\n\t\tthis.signedParameters = options.signedParameters;\n\n\t\tthis.formContainerId = options.formContainerId;\n\n\t\tthis.isProject = (options.isProject === \"Y\");\n\t\tthis.isExtranet = (options.isExtranet === \"Y\");\n\t\tthis.isExtranetGroup = (options.isExtranetGroup === \"Y\");\n\t\tthis.isExtranetInstalled = (options.isExtranetInstalled === \"Y\");\n\t\tthis.isIntranetInstalled = (options.isIntranetInstalled === \"Y\");\n\t\tthis.isLandingInstalled = (options.isLandingInstalled === \"Y\");\n\n\t\tthis.groupData = options.groupData;\n\n\t\tthis.subjects = this.groupData[\"SUBJECTS\"];\n\t\tthis.features = this.groupData[\"FEATURES\"];\n\t\tthis.initiatePerms = this.groupData[\"LIST_INITIATE_PERMS\"];\n\n\t\tthis.imageFieldContainerId = options.imageFieldContainerId;\n\t\tthis.ownerFieldContainerId = options.ownerFieldContainerId;\n\t\tthis.helpersFieldContainerId = options.helpersFieldContainerId;\n\t\tthis.tagsFieldContainerId = options.tagsFieldContainerId;\n\n\t\tthis.requestSender = new RequestSender({\n\t\t\tsignedParameters: this.signedParameters,\n\t\t});\n\t\tthis.requestSender.setProjectMarker(this.isProject);\n\n\t\tthis.form = new Form({\n\t\t\trequestSender: this.requestSender,\n\t\t\tgroupData: options.groupData,\n\t\t\tcopyButtonId: options.copyButtonId,\n\t\t\tcancelButtonId: options.cancelButtonId\n\t\t});\n\n\t\tthis.buildForm();\n\t}\n\n\tbuildForm()\n\t{\n\t\tthis.checkboxEventName = \"BX.Socialnetwork.CheckboxField\";\n\n\t\tthis.form.addField(new ImageField({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_UPLOAD_IMAGE_TITLE\"),\n\t\t\tfieldName: \"image_id\",\n\t\t\tfieldContainerId: this.imageFieldContainerId\n\t\t}));\n\n\t\tthis.form.addField(this.createDate());\n\n\t\tif (!this.isProject)\n\t\t{\n\t\t\tthis.form.addField(this.createRangeDate());\n\t\t}\n\n\t\tthis.form.addField(this.createOwner());\n\n\t\tthis.form.addField(new UserField({\n\t\t\tselectorId: \"group-copy-helpers\",\n\t\t\tfieldTitle: (this.isProject ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_HELPERS_TITLE\") : Loc.getMessage(\"SGCG_GROUP_HELPERS_TITLE\")),\n\t\t\tfieldName: \"moderators\",\n\t\t\tfieldContainerId: this.helpersFieldContainerId\n\t\t}));\n\t\tif (Type.isPlainObject(this.subjects))\n\t\t{\n\t\t\tthis.form.addField(this.createSubject());\n\t\t}\n\n\t\tconst switcher = new Switcher({\n\t\t\ttitle: Loc.getMessage(\"SGCG_OPTIONS_TITLE\")\n\t\t});\n\t\tconst options = new Options({\n\t\t\tswitcher: switcher\n\t\t});\n\t\tconst features = new Features({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_OPTIONS_FEATURES_TITLE\"),\n\t\t\tdata: this.features,\n\t\t\tswitcher: switcher\n\t\t});\n\t\toptions.addOption(features);\n\n\t\t//todo SPAM_PERMS\n\t\toptions.addOption(this.createRights(switcher));\n\n\t\toptions.addOption(this.createTags(switcher));\n\n\t\toptions.addOption(this.createTypes(switcher));\n\n\t\tthis.form.addBlock(options);\n\n\t\tthis.form.renderTo(document.getElementById(this.formContainerId));\n\t}\n\n\tsubscribeToField(eventName, callback)\n\t{\n\t\tEvent.EventEmitter.subscribe(eventName, callback);\n\t}\n\n\tcreateTypes(switcher)\n\t{\n\t\tconst types = new Types({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_LABEL\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_LABEL\")),\n\t\t\tdata: this.groupData,\n\t\t\tswitcher: switcher,\n\t\t\tisProject: this.isProject,\n\t\t\tisExtranetGroup: this.isExtranetGroup,\n\t\t\tisExtranetInstalled: this.isExtranetInstalled,\n\t\t\tisIntranetInstalled: this.isIntranetInstalled,\n\t\t\tisLandingInstalled: this.isLandingInstalled\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\ttypes.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_LABEL\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_LABEL\"));\n\t\t});\n\t\treturn types;\n\t}\n\n\tcreateTags(switcher)\n\t{\n\t\treturn new Tags({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_OPTIONS_KEYWORDS_TITLE\"),\n\t\t\ttagsFieldContainerId: this.tagsFieldContainerId,\n\t\t\tswitcher: switcher\n\t\t});\n\t}\n\n\tcreateRights(switcher)\n\t{\n\t\tconst rights = new Rights({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_PERMS_LABEL\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_PERMS_LABEL\")),\n\t\t\tvalue: this.groupData[\"INITIATE_PERMS\"],\n\t\t\tdata: (this.isProject ? this.initiatePerms.project : this.initiatePerms.group),\n\t\t\tswitcher: switcher\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\trights.changeSelectOptions((baseEvent.data.checked ? this.initiatePerms.project : this.initiatePerms.group));\n\t\t\trights.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_PERMS_LABEL\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_PERMS_LABEL\"));\n\t\t});\n\t\treturn rights;\n\t}\n\n\tcreateSubject()\n\t{\n\t\tconst subject = new SelectField({\n\t\t\tfieldTitle: (this.isProject ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_SUBJECT\") : Loc.getMessage(\"SGCG_GROUP_SUBJECT\")),\n\t\t\tfieldName: \"subject_id\",\n\t\t\tvalue: this.groupData[\"SUBJECT_ID\"],\n\t\t\tlist: this.subjects\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tsubject.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_SUBJECT\") : Loc.getMessage(\"SGCG_GROUP_SUBJECT\"));\n\t\t});\n\t\treturn subject;\n\t}\n\n\tcreateOwner()\n\t{\n\t\tconst owner = new UserField({\n\t\t\tselectorId: \"group-copy-owner\",\n\t\t\tmultiple: false,\n\t\t\tfieldTitle: (this.isProject ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_OWNER_TITLE\") : Loc.getMessage(\"SGCG_GROUP_OWNER_TITLE\")),\n\t\t\tfieldName: \"owner_id\",\n\t\t\tvalidators: [RequireValidator],\n\t\t\tfieldContainerId: this.ownerFieldContainerId\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\towner.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_OWNER_TITLE\") : Loc.getMessage(\"SGCG_GROUP_OWNER_TITLE\"));\n\t\t});\n\t\treturn owner;\n\t}\n\n\tcreateDate()\n\t{\n\t\tconst date = new DateField({\n\t\t\tfieldTitle: (this.isProject ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_START_POINT_TITLE\") : Loc.getMessage(\"SGCG_GROUP_START_POINT_TITLE\")),\n\t\t\tfieldName: \"start_point\",\n\t\t\tvalidators: [RequireValidator],\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tif (this.isProject)\n\t\t\t{\n\t\t\t\tdate.changeTitle(baseEvent.data.checked ?\n\t\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_START_POINT_TITLE\") : Loc.getMessage(\"SGCG_GROUP_START_POINT_TITLE\"));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdate.toggleVisible(!baseEvent.data.checked);\n\t\t\t\tdate.changeTitle(baseEvent.data.checked ?\n\t\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_RANGE_TITLE\") : Loc.getMessage(\"SGCG_GROUP_START_POINT_TITLE\"));\n\t\t\t}\n\t\t});\n\t\treturn date;\n\t}\n\n\tcreateRangeDate()\n\t{\n\t\tconst dateRange = new DateRangeField({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_PROJECT_RANGE_TITLE\"),\n\t\t\tfieldName: \"project_term\",\n\t\t\tvisible: false\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tif (!this.isProject)\n\t\t\t{\n\t\t\t\tdateRange.toggleVisible(baseEvent.data.checked);\n\t\t\t}\n\t\t});\n\t\treturn dateRange;\n\t}\n}"],"names":["ErrorAlert","options","id","Text","getRandom","message","classes","Map","encode","Tag","render","get","BaseField","fieldTitle","fieldName","validators","onCustomChange","parentNode","value","focus","visible","titleControl","titleId","innerControl","innerControlId","container","ids","errorContainer","Set","Type","isDomNode","observerParent","MutationObserver","onAppendToParent","bind","observe","childList","name","set","has","constructor","mutations","document","getElementById","isFunction","Event","clear","forEach","validatorClass","validator","errorId","getType","errorDom","remove","validate","Dom","removeClass","addClass","error","getErrorMessage","before","add","size","title","innerHTML","bool","EventEmitter","TextField","placeHolder","renderRightColumn","onChange","text","placeholder","setValue","RequireValidator","errorMessage","Loc","getMessage","isValid","isArray","length","undefined","String","trim","TextAreaField","Form","requestSender","groupData","copyButtonId","cancelButtonId","isProject","PROJECT","fields","blocks","errorDomContainer","checkboxEventName","formContainer","Error","appendChild","emitFormAppend","bindButtons","uiCopyButton","Button","buttonContainer","copyButton","isWaiting","setWaiting","copyGroup","getRequestData","then","response","handleResponse","closeSlider","cancelButton","onCopy","onClose","field","block","push","nameField","setClass","subscribe","baseEvent","changePlaceHolder","data","checked","descriptionField","DESCRIPTION","map","addField","getErrorContainer","fieldsValues","ID","getName","getValue","blocksValues","getValues","formData","FormData","Object","entries","assign","Blob","append","isObjectLike","JSON","stringify","errors","displayResponseError","shift","urlToCopiedGroup","top","window","location","href","errorAlert","hasChildNodes","removeChild","firstChild","BX","onCustomEvent","RequestSender","signedParameters","groupId","Promise","resolve","reject","ajax","runComponentAction","mode","parseInt","requestData","analyticsLabel","project","Boolean","CustomField","fieldContainerId","customContainer","ImageField","init","uploaderInstance","UploaderManager","getById","addCustomEvent","onQueueIsChanged","currentValue","getCurrentValue","action","fileId","file","onUploadDone","status","agent","pIndex","item","values","getItems","items","file_id","DateValidator","DateField","showCalendar","node","calendar","bTime","bSetFocus","bHideTime","DateRangeField","startPoint","endPoint","baseContainer","setParentNode","toggleVisible","start_point","end_point","UserField","selectorId","multiple","onSelect","onUnSelect","info","isUndefined","entityId","deleteValue","SelectField","list","onChangeCallback","getOptions","join","Options","switcher","option","addOption","optionsValues","Switcher","optionsContainer","onClick","hasClass","renderPromo","event","target","targetId","getAttribute","currentTarget","switchOptions","CheckboxField","disabled","eventNamespace","setEventNamespace","emit","ChildOption","blockId","isPlainObject","getChildRender","isOpened","setTimeout","position","getPosition","scrollBy","left","behavior","Features","promoId","getFeaturesRender","features","feature","hasProperty","prototype","hasOwnProperty","childrenFields","featureChild","childField","call","childrenRender","childrenField","featureField","setChecked","Rights","selectField","changeOptions","SelectorField","selector","UI","TileSelector","events","search","onSearch","input","onInput","buttonSelect","tileRemove","removeTile","tileClick","clickTile","getTiles","tile","key","inputValue","addTile","getTile","TagField","keys","Tags","tagsFieldContainerId","tagField","Types","isExtranetGroup","isExtranetInstalled","isIntranetInstalled","isLandingInstalled","getTypesRender","result","visibleField","createVisibleField","openField","createOpenedField","closeField","createCloseField","extranetField","createExtranetField","projectField","createProjectField","landingField","createLandingField","subscribeToField","changeTitle","changeDisabled","eventName","callback","CopyingManager","formContainerId","isExtranet","imageFieldContainerId","ownerFieldContainerId","helpersFieldContainerId","subjects","initiatePerms","setProjectMarker","form","buildForm","createDate","createRangeDate","createOwner","createSubject","createRights","createTags","createTypes","addBlock","renderTo","types","rights","group","changeSelectOptions","subject","owner","date","dateRange"],"mappings":"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"}