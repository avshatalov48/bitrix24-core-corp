this.BX=this.BX||{};(function(e,t,i,n,r,a,s){"use strict";var o=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"initExpandSwitches",value:function e(){var t=document.querySelectorAll('[data-role="socialnetwork-group-create-ex__expandable"]');t.forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget.getAttribute("for");var i=document.getElementById(t);var n=i.firstElementChild;if(i.offsetHeight===0){i.style.height=n.offsetHeight+"px";i.classList.add("--open");var r=function e(){var t=i.getBoundingClientRect().top/100;var n=400;var r=0;var a=function e(){window.scrollBy(0,t)};while(r<=n){window.setTimeout(a,r,t);r+=n/100}i.removeEventListener("transitionend",e)};var a=function e(){i.style.height="auto";i.removeEventListener("transitionend",e)};i.addEventListener("transitionend",a);i.addEventListener("transitionend",r)}if(i.offsetHeight>0){i.style.height=i.offsetHeight+"px";setTimeout(function(){i.style.removeProperty("height");i.classList.remove("--open")})}})})}},{key:"initDropdowns",value:function e(){var t=this;var i=document.querySelectorAll('[data-role="soc-net-dropdown"]');i.forEach(function(e){e.addEventListener("click",function(e){var i=e.currentTarget;var n=t.getDropdownItems(i);var r=[];Object.entries(n).forEach(function(e){var n=babelHelpers.slicedToArray(e,2),o=n[0],c=n[1];r.push({text:c,onclick:function e(){a.close();t.setDropdownValue(i.querySelector(".ui-ctl-element"),c,i);t.setInputValue(i.querySelector("input"),o,i);var n=null;if(i.classList.contains("--nonproject")){n=i.parentNode.querySelector(".--project")}else if(i.classList.contains("--project")){n=i.parentNode.querySelector(".--nonproject")}if(s.Type.isDomNode(n)){t.setDropdownValue(n.querySelector(".ui-ctl-element"),c,n);t.setInputValue(n.querySelector("input"),o,n)}}})});var a=new BX.PopupMenuWindow({autoHide:true,cacheable:false,bindElement:i,width:i.offsetWidth,closeByEsc:true,animation:"fading-slide",items:r});a.params.width=i.offsetWidth;a.show()})})}},{key:"setDropdownValue",value:function e(t,i,n){var r=this.getDropdownItems(n);Object.entries(r).forEach(function(e){var n=babelHelpers.slicedToArray(e,2),r=n[1];if(i===r){t.innerText=i}})}},{key:"setInputValue",value:function e(t,i,n){var r=this.getDropdownItems(n);Object.entries(r).forEach(function(e){var n=babelHelpers.slicedToArray(e,1),r=n[0];if(i===r){t.value=i}})}},{key:"getDropdownItems",value:function e(t){var i={};try{i=JSON.parse(t.getAttribute("data-items"))}catch(e){return{}}if(!s.Type.isPlainObject(i)){return{}}return i}},{key:"recalcFormPartProject",value:function e(t){t=!!t;var i=document.getElementById("GROUP_PROJECT");if(i){this.setCheckedValue(i,t)}document.querySelectorAll(".socialnetwork-group-create-ex__create--switch-project, .socialnetwork-group-create-ex__create--switch-nonproject").forEach(function(e){if(t){e.classList.add("--project")}else{e.classList.remove("--project")}});this.recalcNameInput()}},{key:"recalcNameInput",value:function e(){var t=document.getElementById("GROUP_NAME_input");if(!t){return}var i=s.Loc.getMessage("SONET_GCE_T_NAME3");var n=_.getInstance();if(s.Type.isPlainObject(n.projectTypes[n.selectedProjectType])){if(s.Type.isStringFilled(n.projectTypes[n.selectedProjectType].SCRUM_PROJECT)&&n.projectTypes[n.selectedProjectType].SCRUM_PROJECT==="Y"){i=s.Loc.getMessage("SONET_GCE_T_NAME3_SCRUM")}else if(s.Type.isStringFilled(n.projectTypes[n.selectedProjectType].PROJECT)&&n.projectTypes[n.selectedProjectType].PROJECT==="Y"){i=s.Loc.getMessage("SONET_GCE_T_NAME3_PROJECT")}}t.placeholder=i}},{key:"setCheckedValue",value:function e(t,i){if(!s.Type.isDomNode(t)){return}i=!!i;if(t.type==="checkbox"){t.checked=i}else{t.value=i?"Y":"N"}}},{key:"getCheckedValue",value:function e(t){var i=false;if(!s.Type.isDomNode(t)){return i}if(t.type=="hidden"){i=t.value==="Y"}else if(t.type=="checkbox"){i=t.checked}return i}},{key:"unselectAllSelectorItems",value:function e(t,i){var n=this;if(!s.Type.isDomNode(t)){return}t.querySelectorAll(".".concat(i)).forEach(function(e){e.classList.remove(n.cssClass.selectorActive)})}},{key:"selectSelectorItem",value:function e(t){t.classList.add(this.cssClass.selectorActive)}},{key:"disableAllSelectorItems",value:function e(t,i){var n=this;if(!s.Type.isDomNode(t)){return}t.querySelectorAll(".".concat(i)).forEach(function(e){e.classList.add(n.cssClass.selectorDisabled)})}},{key:"enableAllSelectorItems",value:function e(t,i){var n=this;if(!s.Type.isDomNode(t)){return}t.querySelectorAll(".".concat(i)).forEach(function(e){e.classList.remove(n.cssClass.selectorDisabled)})}},{key:"enableSelectorItem",value:function e(t){t.classList.remove(this.cssClass.selectorDisabled)}}]);return e}();babelHelpers.defineProperty(o,"cssClass",{selectorActive:"--active",selectorDisabled:"--disabled"});var c=function(){function e(){var t=this;babelHelpers.classCallCheck(this,e);var i=false;e.getItems().forEach(function(n){n.addEventListener("click",function(t){var i=t.currentTarget;if(i.classList.contains(o.cssClass.selectorDisabled)){return}o.unselectAllSelectorItems(e.getContainer(),e.cssClass.selector);o.selectSelectorItem(i);_.getInstance().recalcForm({selectedConfidentialityType:i.getAttribute("data-bx-confidentiality-type")})});var r=n.getAttribute("data-bx-confidentiality-type");if(s.Type.isStringFilled(_.getInstance().selectedConfidentialityType)){if(_.getInstance().selectedConfidentialityType===r){t.selectItem(n)}}else if(!i){t.selectItem(n);i=true}})}babelHelpers.createClass(e,[{key:"selectItem",value:function e(t){o.selectSelectorItem(t);_.getInstance().recalcForm({selectedConfidentialityType:t.getAttribute("data-bx-confidentiality-type")})}}],[{key:"getContainer",value:function e(){return document.querySelector(".".concat(this.cssClass.container))}},{key:"getItems",value:function e(){var t=this.getContainer();if(!t){return[]}return t.querySelectorAll(".".concat(this.cssClass.selector))}},{key:"unselectAll",value:function e(){o.unselectAllSelectorItems(this.getContainer(),this.cssClass.selector)}},{key:"select",value:function e(t){this.getItems().forEach(function(e){if(e.getAttribute("data-bx-confidentiality-type")!==t){return}o.selectSelectorItem(e)})}},{key:"disableAll",value:function e(){o.disableAllSelectorItems(this.getContainer(),this.cssClass.selector)}},{key:"enableAll",value:function e(){o.enableAllSelectorItems(this.getContainer(),this.cssClass.selector)}},{key:"enable",value:function e(t){this.getItems().forEach(function(e){if(e.getAttribute("data-bx-confidentiality-type")!==t){return}o.enableSelectorItem(e)})}}]);return e}();babelHelpers.defineProperty(c,"cssClass",{container:"socialnetwork-group-create-ex__type-confidentiality-wrapper",selector:"socialnetwork-group-create-ex__group-selector"});var l=function(){function e(t){babelHelpers.classCallCheck(this,e);this.isScrumProject=t.isScrumProject}babelHelpers.createClass(e,[{key:"makeAdditionalCustomizationForm",value:function e(){if(this.isScrumProject){this.createHiddenInputs();this.showScrumBlocks();if(!s.Type.isStringFilled(_.getInstance().selectedConfidentialityType)){c.unselectAll();c.select("open");_.getInstance().recalcForm({selectedConfidentialityType:"open"})}var t=document.getElementById("GROUP_LANDING");if(t){t.disabled=true;t.checked=false}this.toggleFeatures(true)}else{this.removeHiddenInputs();this.hideScrumBlocks();var i=document.getElementById("GROUP_LANDING");if(i){i.disabled=false}this.toggleFeatures(false)}o.recalcNameInput()}},{key:"hideScrumBlocks",value:function e(){document.querySelectorAll(".socialnetwork-group-create-ex__create--switch-scrum, .socialnetwork-group-create-ex__create--switch-nonscrum").forEach(function(e){e.classList.remove("--scrum")});var t=document.getElementById("expandable-moderator-block");if(t){t.classList.add("socialnetwork-group-create-ex__content-expandable")}var i=document.getElementById("GROUP_MODERATORS_PROJECT_switch");if(i){i.classList.add("ui-ctl-file-link")}var n=document.getElementById("GROUP_OWNER_block");if(n){n.classList.remove("--space-bottom")}}},{key:"showScrumBlocks",value:function e(){document.querySelectorAll(".socialnetwork-group-create-ex__create--switch-scrum, .socialnetwork-group-create-ex__create--switch-nonscrum").forEach(function(e){e.classList.add("--scrum")});var t=document.getElementById("expandable-moderator-block");if(t){t.classList.remove("socialnetwork-group-create-ex__content-expandable")}var i=document.getElementById("GROUP_MODERATORS_PROJECT_switch");if(i){i.classList.remove("ui-ctl-file-link")}var n=document.getElementById("GROUP_OWNER_block");if(n){n.classList.add("--space-bottom")}}},{key:"createHiddenInputs",value:function e(){document.forms["sonet_group_create_popup_form"].appendChild(s.Dom.create("input",{attrs:{type:"hidden",name:"SCRUM_PROJECT",value:"Y"}}))}},{key:"removeHiddenInputs",value:function e(){document.forms["sonet_group_create_popup_form"].querySelectorAll('input[name="SCRUM_PROJECT"]').forEach(function(e){s.Dom.remove(e)})}},{key:"toggleFeatures",value:function e(t){var i=document.querySelector(".socialnetwork-group-create-ex__project-instruments");if(i){i.querySelectorAll('input[type="checkbox"][name="tasks_active"], input[type="checkbox"][name="calendar_active"]').forEach(function(e){if(t){e.disabled=true;e.checked=true;e.parentNode.insertBefore(s.Dom.create("input",{attrs:{type:"hidden",name:e.name,value:"Y"}}),e)}else{e.disabled=false;document.forms["sonet_group_create_popup_form"].querySelectorAll('input[type="hidden"][name="'.concat(e.name,'"]')).forEach(function(e){s.Dom.remove(e)})}})}}}]);return e}();var d=function(){function e(t){var i=this;babelHelpers.classCallCheck(this,e);this.confirmPopup=null;if(!s.Type.isStringFilled(t.componentName)||s.Type.isUndefined(t.signedParameters)){return}this.componentName=t.componentName;this.signedParameters=t.signedParameters;this.groupId=s.Type.isUndefined(t.groupId)?parseInt(t.groupId):0;var n=document.querySelector('[data-role="group-avatar-cont"]');if(!n){return}this.selectorNode=n.querySelector('[data-role="group-avatar-selector"]');this.imageNode=n.querySelector('[data-role="group-avatar-image"]');this.inputNode=n.querySelector('[data-role="group-avatar-input"]');this.typeInputNode=n.querySelector('[data-role="group-avatar-type-input"]');this.removeNode=n.querySelector('[data-role="group-avatar-remove"]');if(!s.Type.isDomNode(this.imageNode)||!s.Type.isDomNode(this.inputNode)||!s.Type.isDomNode(this.typeInputNode)||!s.Type.isDomNode(this.removeNode)){return}this.recalc();var a=new BX.AvatarEditor({enableCamera:false});this.selectorNode.addEventListener("click",function(e){if(e.target.getAttribute("data-role")==="group-avatar-remove"&&i.imageNode.style.backgroundImage!==""){i.showConfirmPopup(s.Loc.getMessage("SONET_GCE_T_IMAGE_DELETE_CONFIRM"),i.deletePhoto.bind(i))}else if(e.target.getAttribute("data-role")==="group-avatar-type"){i.clearType();i.setType(e.target.getAttribute("data-avatar-type"))}else if(e.target.getAttribute("data-role")==="group-avatar-image"){a.show("file")}});r.EventEmitter.subscribe("onApply",function(e){var t=e.getCompatData(),n=babelHelpers.slicedToArray(t,1),r=n[0];var a=new FormData;if(!r.name){r.name="tmp.png"}a.append("newPhoto",r,r.name);i.changePhoto(a)})}babelHelpers.createClass(e,[{key:"recalc",value:function t(){if(this.getFileId()<=0){this.removeNode.classList.add(e.classList.hidden);this.imageNode.classList.remove(e.classList.selected)}else{this.removeNode.classList.remove(e.classList.hidden);this.imageNode.classList.add(e.classList.selected)}}},{key:"changePhoto",value:function e(t){var i=this;var n=this.showLoader({node:this.imageNode,loader:null,size:78});s.ajax.runComponentAction(this.componentName,"loadPhoto",{signedParameters:this.signedParameters,mode:"ajax",data:t}).then(function(e){if(s.Type.isPlainObject(e.data)&&parseInt(e.data.fileId)>0&&s.Type.isStringFilled(e.data.fileUri)){i.clearType();i.inputNode.value=parseInt(e.data.fileId);i.typeInputNode.value="";i.imageNode.style="background-image: url('".concat(e.data.fileUri,"'); background-size: cover;");i.recalc()}i.hideLoader({loader:n})},function(e){i.hideLoader({loader:n});i.showErrorPopup(e["errors"][0].message)})}},{key:"deletePhoto",value:function e(){var t=this;var i=this.getFileId();if(i<0){return}var n=this.showLoader({node:this.imageNode,loader:null,size:78});s.ajax.runComponentAction(this.componentName,"deletePhoto",{signedParameters:this.signedParameters,mode:"ajax",data:{fileId:i,groupId:this.groupId}}).then(function(e){t.imageNode.style="";t.inputNode.value="";t.recalc();t.hideLoader({loader:n})},function(e){t.hideLoader({loader:n});t.showErrorPopup(e.errors[0].message)})}},{key:"clearType",value:function t(){this.selectorNode.querySelectorAll('[data-role="group-avatar-type"]').forEach(function(t){t.classList.remove(e.classList.selected)})}},{key:"setType",value:function t(i){this.inputNode.value="";this.imageNode.style="";this.typeInputNode.value=i;this.imageNode.classList.remove(e.classList.selected);this.selectorNode.querySelectorAll('[data-role="group-avatar-type"]').forEach(function(t){if(t.getAttribute("data-avatar-type")!==i){return}t.classList.add(e.classList.selected)});this.recalc()}},{key:"getFileId",value:function e(){return s.Type.isStringFilled(this.inputNode.value)?parseInt(this.inputNode.value):0}},{key:"showLoader",value:function e(t){var i=null;if(s.Type.isDomNode(t.node)){if(s.Type.isNull(t.loader)){i=new BX.Loader({target:t.node,size:t.hasOwnProperty("size")?t.size:40})}else{i=t.loader}i.show()}return i}},{key:"hideLoader",value:function e(t){if(!s.Type.isNull(t.loader)){t.loader.hide();t.loader=null}if(s.Type.isDomNode(t.node)){s.Dom.clean(t.node)}}},{key:"showErrorPopup",value:function e(t){if(!t){return}new a.Popup("gce-image-upload-error",null,{autoHide:true,closeByEsc:true,offsetLeft:0,offsetTop:0,draggable:true,bindOnResize:false,closeIcon:true,content:t,events:{},cacheable:false}).show()}},{key:"showConfirmPopup",value:function e(t,n){var r=this;this.confirmPopup=new a.Popup("gce-image-delete-confirm",null,{autoHide:true,closeByEsc:true,offsetLeft:0,offsetTop:0,draggable:true,bindOnResize:false,closeIcon:true,content:t,events:{onPopupClose:function e(){r.confirmPopup.destroy()}},cacheable:false,buttons:[new i.Button({text:s.Loc.getMessage("SONET_GCE_T_IMAGE_DELETE_CONFIRM_YES"),events:{click:function e(t){t.setWaiting(true);r.confirmPopup.close();n()}}}),new i.Button({text:s.Loc.getMessage("SONET_GCE_T_IMAGE_DELETE_CONFIRM_NO"),events:{click:function e(){r.confirmPopup.close()}}})]});this.confirmPopup.show()}}]);return e}();babelHelpers.defineProperty(d,"classList",{hidden:"--hidden",selected:"--selected"});var u=function(){function e(t){var i=this;babelHelpers.classCallCheck(this,e);this.container=t.container;this.theme=t.theme;this.draw(this.theme);var n=this.getNode("image");if(n){n.addEventListener("click",this.open)}var a=this.getNode("title");if(a){a.addEventListener("click",this.open)}var s=this.getNode("delete");if(s){s.addEventListener("click",function(){i.select({})})}r.EventEmitter.subscribe("Intranet.ThemePicker:onSave",function(e){var t=e.getData(),n=babelHelpers.slicedToArray(t,1),r=n[0];i.select(r)})}babelHelpers.createClass(e,[{key:"select",value:function e(t){var i=s.Type.isPlainObject(t.theme)?t.theme:{};this.draw(i)}},{key:"draw",value:function e(t){var i=this.getNode("image");if(i){i.style.backgroundImage=s.Type.isStringFilled(t.previewImage)?"url('".concat(t.previewImage,"')"):"";i.style.backgroundColor=s.Type.isStringFilled(t.previewColor)?t.previewColor:"transparent"}var n=this.getNode("title");if(n){n.innerHTML=s.Type.isStringFilled(t.title)?t.title:""}var r=this.getNode("id");if(r){r.value=s.Type.isStringFilled(t.id)?t.id:""}}},{key:"open",value:function e(t){BX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(true);t.preventDefault()}},{key:"getNode",value:function e(t){var i=null;if(!s.Type.isStringFilled(t)){return i}return this.container.querySelector('[bx-group-edit-theme-node="'.concat(t,'"]'))}},{key:"getContainer",value:function e(){return this.container}}]);return e}();var p=function(){function e(i){var n=this;babelHelpers.classCallCheck(this,e);var r=document.getElementById(i.containerNodeId);if(!r){return}this.hiddenFieldNode=document.getElementById(i.hiddenFieldId);var a=new t.TagSelector({addButtonCaption:s.Loc.getMessage("SONET_GCE_T_TAG_ADD"),addButtonCaptionMore:s.Loc.getMessage("SONET_GCE_T_KEYWORDS_ADD_TAG"),dialogOptions:{width:350,height:300,offsetLeft:50,compactView:true,preload:true,context:"PROJECT_TAG",searchTabOptions:{stubOptions:{title:s.Loc.getMessage("SONET_GCE_T_TAG_SEARCH_FAILED"),subtitle:s.Loc.getMessage("SONET_GCE_T_TAG_SEARCH_ADD_HINT"),arrow:true}},entities:[{id:"project-tag",options:{groupId:i.groupId}}],searchOptions:{allowCreateItem:true,footerOptions:{label:s.Loc.getMessage("SONET_GCE_T_TAG_SEARCH_ADD_FOOTER_LABEL")}},events:{"Item:onSelect":function e(t){n.recalcinputValue(t.getTarget().getSelectedItems())},"Item:onDeselect":function e(t){n.recalcinputValue(t.getTarget().getSelectedItems())},"Search:onItemCreateAsync":function e(t){return new Promise(function(e){var i=t.getData(),n=i.searchQuery;var r=n.getQuery().toLowerCase();var a=t.getTarget();setTimeout(function(){var t=r.split(",");t.forEach(function(e){var t=a.addItem({id:e,entityId:"project-tag",title:e,tabs:["all","recents"]});if(t){t.select()}});e()},1e3)})}}}});a.renderTo(r)}babelHelpers.createClass(e,[{key:"recalcinputValue",value:function e(t){if(!s.Type.isArray(t)||!s.Type.isDomNode(this.hiddenFieldNode)){return}var i=[];t.forEach(function(e){i.push(e.id)});this.hiddenFieldNode.value=i.join(",")}}]);return e}();var f=function(){function e(){var t=this;babelHelpers.classCallCheck(this,e);this.cssClass={container:"socialnetwork-group-create-ex__type-preset-wrapper",selector:"socialnetwork-group-create-ex__type-preset-selector"};this.container=document.querySelector(".".concat(this.cssClass.container));if(!this.container){return}var i=false;var n=this.container.querySelectorAll(".".concat(this.cssClass.selector));n.forEach(function(e){e.addEventListener("click",function(e){var i=e.currentTarget;if(i.classList.contains(o.cssClass.selectorDisabled)){return}o.unselectAllSelectorItems(t.container,t.cssClass.selector);o.selectSelectorItem(i);var n=i.getAttribute("data-bx-project-type");_.getInstance().recalcForm({selectedProjectType:n});_.getInstance().wizardManager.setProjectType(n)});var n=e.getAttribute("data-bx-project-type");if(s.Type.isStringFilled(_.getInstance().selectedProjectType)){if(_.getInstance().selectedProjectType===n){t.selectItem(e)}}else if(!i){t.selectItem(e);i=true}})}babelHelpers.createClass(e,[{key:"selectItem",value:function e(t){var i=t.getAttribute("data-bx-project-type");o.selectSelectorItem(t);_.getInstance().recalcForm({selectedProjectType:i});_.getInstance().wizardManager.setProjectType(i)}}]);return e}();var m=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"check",value:function e(){if(_.getInstance().wizardManager.stepsCount===1){return this.checkAll()}else{return this.checkStep(_.getInstance().wizardManager.currentStep)}}},{key:"checkStep",value:function e(t){var i=this;t=parseInt(t);var n=[];if(s.Type.isArray(this.mandatoryFieldsByStep[t])){this.mandatoryFieldsByStep[t].forEach(function(e){var t=document.getElementById(e.id);if(!s.Type.isDomNode(t)){return}if(t.tagName.toLowerCase()!=="input"){if(e.type!=="string"){return}t=t.querySelector('input[type="text"]');if(!s.Type.isDomNode(t)){return}}e.fieldNode=t;var r=i.checkField(e);if(s.Type.isStringFilled(r)){var a=document.getElementById(e.bindNodeId);n.push({bindNode:s.Type.isDomNode(a)?a:t,message:r})}})}return n}},{key:"checkAll",value:function e(){var t=this;var i=[];Object.entries(this.mandatoryFieldsByStep).forEach(function(e){i=i.concat(t.checkStep(parseInt(e[0])))});return i}},{key:"checkField",value:function e(t){var i="";if(!s.Type.isPlainObject(t)&&!s.Type.isDomNode(t.fieldNode)){return i}if(s.Type.isFunction(t.condition)){if(!t.condition()){return i}}var n=t.fieldNode;var r=s.Type.isStringFilled(t.type)?t.type:"string";switch(r){case"string":i=n.value.trim()===""?s.Loc.getMessage("SONET_GCE_T_STRING_FIELD_ERROR"):"";break;default:i=""}return i}},{key:"showError",value:function e(t){if(!s.Type.isPlainObject(t)||!s.Type.isStringFilled(t.message)||!s.Type.isDomNode(t.bindNode)){return}_.getInstance().alertManager.showAlert(t.message,t.bindNode.parentNode)}}]);return e}();babelHelpers.defineProperty(m,"mandatoryFieldsByStep",{2:[{id:"GROUP_NAME_input",type:"string",bindNodeId:"GROUP_NAME_input"}],4:[{id:"SCRUM_MASTER_CODE",type:"string",bindNodeId:"SCRUM_MASTER_CODE",condition:function e(){return!!_.getInstance().scrumManager.isScrumProject}}]});var y=function(){function e(){babelHelpers.classCallCheck(this,e);this.submitButton=document.getElementById("sonet_group_create_popup_form_button_submit");if(!this.submitButton){return}this.submitButton.addEventListener("click",function(e){var t=i.ButtonManager.createFromNode(e.currentTarget);if(t&&t.isDisabled()){return}_.getInstance().alertManager.hideAllAlerts();var n=m.check().filter(function(e){return s.Type.isPlainObject(e)&&s.Type.isStringFilled(e.message)&&s.Type.isDomNode(e.bindNode)});if(n.length>0){n.forEach(function(e){m.showError(e)})}else if(_.getInstance().wizardManager.currentStep<_.getInstance().wizardManager.stepsCount){_.getInstance().wizardManager.currentStep++;if(_.getInstance().wizardManager.currentStep===3&&Object.entries(_.getInstance().confidentialityTypes)<=1){_.getInstance().wizardManager.currentStep++}_.getInstance().wizardManager.showCurrentStep()}else{_.getInstance().submitForm(e)}return e.preventDefault()});this.backButton=document.getElementById("sonet_group_create_popup_form_button_step_2_back");if(this.backButton){this.backButton.addEventListener("click",function(e){var t=i.ButtonManager.createFromNode(e.currentTarget);if(t&&t.isDisabled()){return}if(_.getInstance().wizardManager.currentStep>1){_.getInstance().wizardManager.currentStep--;if(_.getInstance().wizardManager.currentStep===3&&Object.entries(_.getInstance().confidentialityTypes)<=1){_.getInstance().wizardManager.currentStep--}_.getInstance().wizardManager.showCurrentStep()}return e.preventDefault()})}this.cancelButton=document.getElementById("sonet_group_create_popup_form_button_step_2_cancel");if(this.cancelButton){this.cancelButton.addEventListener("click",function(e){var t=i.ButtonManager.createFromNode(e.currentTarget);if(t&&t.isDisabled()){return}var n=BX.SidePanel.Instance.getSliderByWindow(window);if(n){var a=new r.BaseEvent({compatData:[n.getEvent("onClose")],data:n.getEvent("onClose")});r.EventEmitter.emit(window.top,"SidePanel.Slider:onClose",a)}else{var o=e.currentTarget.getAttribute("bx-url");if(s.Type.isStringFilled(o)){window.location=o}}var c=new r.BaseEvent({compatData:[false],data:false});r.EventEmitter.emit(window.top,"BX.Bitrix24.PageSlider:close",c);r.EventEmitter.emit(window.top,"onSonetIframeCancelClick");return e.preventDefault()})}}babelHelpers.createClass(e,null,[{key:"showWaitSubmitButton",value:function e(t){t=!!t;var n=document.getElementById("sonet_group_create_popup_form_button_submit");if(!n){return}var r=i.ButtonManager.createFromNode(n);if(t){if(r){r.setWaiting(true)}n.removeEventListener("click",_.getInstance().submitForm)}else{if(r){r.setWaiting(false)}n.addEventListener("click",_.getInstance().submitForm)}}},{key:"disableButton",value:function e(t,n){if(!s.Type.isDomNode(t)){return}var r=i.ButtonManager.createFromNode(t);if(!r){return}r.setDisabled(n)}},{key:"showButton",value:function e(t){if(!s.Type.isDomNode(t)){return}t.classList.remove(this.cssClass.hidden)}},{key:"hideButton",value:function e(t){if(!s.Type.isDomNode(t)){return}t.classList.add(this.cssClass.hidden)}}]);return e}();babelHelpers.defineProperty(y,"cssClass",{hidden:"socialnetwork-group-create-ex__button-invisible"});var h=function(){babelHelpers.createClass(e,null,[{key:"getFirstStepNumber",value:function e(){return Object.entries(_.getInstance().projectTypes).length>1?1:2}}]);function e(t){babelHelpers.classCallCheck(this,e);this.processedStep=0;this.currentStep=t.currentStep;this.stepsCount=t.stepsCount;this.step1BackgroudNode=document.querySelector(".".concat(e.cssClass.step1Backgroud));this.bodyContainer=document.querySelector(".".concat(e.cssClass.bodyContainer));this.breadcrumbsContainer=document.querySelector(".".concat(e.cssClass.breadcrumbsContainer))}babelHelpers.createClass(e,[{key:"showCurrentStep",value:function t(){var i=this;if(s.Type.isDomNode(this.bodyContainer)){this.bodyContainer.querySelectorAll(".".concat(e.cssClass.bodyItem)).forEach(function(t){if(t.classList.contains("--step-".concat(i.currentStep))){t.classList.add(e.cssClass.activeBodyItem)}else{t.classList.remove(e.cssClass.activeBodyItem)}})}if(s.Type.isDomNode(this.breadcrumbsContainer)){this.breadcrumbsContainer.querySelectorAll(".".concat(e.cssClass.breadcrumbsItem)).forEach(function(t){if(t.classList.contains("--step-".concat(i.currentStep))){t.classList.add(e.cssClass.activeBreadcrumbsItem)}else{t.classList.remove(e.cssClass.activeBreadcrumbsItem)}})}if(this.currentStep===e.getFirstStepNumber()||this.currentStep<=this.processedStep+1){y.hideButton(_.getInstance().buttonsInstance.backButton)}else{if(s.Type.isDomNode(this.step1BackgroudNode)){this.step1BackgroudNode.classList.add("--stop")}y.showButton(_.getInstance().buttonsInstance.backButton)}}},{key:"setProjectType",value:function e(t){var i=this;if(s.Type.isDomNode(this.step1BackgroudNode)){["project","scrum","group"].forEach(function(e){i.step1BackgroudNode.classList.remove("--".concat(e))});this.step1BackgroudNode.classList.remove("--stop");this.step1BackgroudNode.classList.add("--".concat(t))}}},{key:"recalcAfterSubmit",value:function e(t){var i=s.Type.isStringFilled(t.processedStep)?t.processedStep:"";var n=parseInt(!s.Type.isUndefined(t.createdGroupId)?t.createdGroupId:0);var r=document.getElementById("TAB");var a=document.getElementById("SONET_GROUP_ID");if(!r||!s.Type.isStringFilled(i)||n<=0){return}a.value=n;if(i==="create"){this.processedStep=1;r.value="edit"}else if(i==="edit"){this.processedStep=3;r.value="invite";this.bodyContainer.querySelectorAll(".socialnetwork-group-create-ex__create--switch-notinviteonly").forEach(function(e){e.classList.add("--inviteonly")})}this.showCurrentStep()}}]);return e}();babelHelpers.defineProperty(h,"cssClass",{step1Backgroud:"socialnetwork-group-create-ex__background-gif",breadcrumbsContainer:"socialnetwork-group-create-ex__breadcrumbs",breadcrumbsItem:"socialnetwork-group-create-ex__breadcrumbs-item",bodyContainer:"socialnetwork-group-create-ex__content",bodyItem:"socialnetwork-group-create-ex__content-body",activeBodyItem:"--active",activeBreadcrumbsItem:"--active"});var g=function(){function e(t){babelHelpers.classCallCheck(this,e);if(!s.Type.isStringFilled(t.errorContainerId)){return}this.globalErrorContainer=document.getElementById(t.errorContainerId);this.nodeAlerts=new Map}babelHelpers.createClass(e,[{key:"showAlert",value:function e(t,i){if(s.Type.isDomNode(i)){i.classList.add("ui-ctl-danger")}else{i=this.globalErrorContainer}var r=new n.Alert({color:n.Alert.Color.DANGER,animate:true});this.nodeAlerts.set(i,r);setTimeout(function(){i.parentNode.insertBefore(r.getContainer(),i.nextSibling);r.setText(t);window.scrollTo({top:s.Dom.getPosition(i).top,behavior:"smooth"})},500)}},{key:"hideAllAlerts",value:function e(){this.nodeAlerts.forEach(function(e,t){e.hide();if(s.Type.isDomNode(t)){t.classList.remove("ui-ctl-danger")}});this.nodeAlerts.clear()}}]);return e}();var v=function(){function e(t){babelHelpers.classCallCheck(this,e);this.selectorId=t.selectorId;r.EventEmitter.subscribe("BX.Main.User.SelectorController:select",this.selectHandler.bind(this));r.EventEmitter.subscribe("BX.Main.User.SelectorController:unSelect",this.selectHandler.bind(this))}babelHelpers.createClass(e,[{key:"selectHandler",value:function e(t){var i=t.getCompatData(),n=babelHelpers.slicedToArray(i,1),r=n[0];if(r.selectorId===this.selectorId){this.showDepartmentHint({selectorId:r.selectorId})}}},{key:"showDepartmentHint",value:function e(t){if(!s.Type.isStringFilled(t.selectorId)){return}var i=document.getElementById("GROUP_ADD_DEPT_HINT_block");if(!i){return}var n=BX.UI.SelectorManager.instances[t.selectorId];if(s.Type.isUndefined(n)){return}if(!s.Type.isPlainObject(n.itemsSelected)){i.classList.remove("visible");return false}var r=false;Object.entries(n.itemsSelected).forEach(function(e){var t=babelHelpers.slicedToArray(e,1),i=t[0];if(r){return}if(i.match(/DR\d+/)){r=true}});if(r){i.classList.add("visible")}else{i.classList.remove("visible")}return r}}]);return e}();var b=function(){function e(){var t=this;babelHelpers.classCallCheck(this,e);this.menuId="sonet_group_create_popup_action_popup";var i=document.getElementById("EMAILS");if(i){i.addEventListener("blur",function(e){if(t.value===""){e.currentTarget.classList.remove("invite-dialog-inv-form-textarea-active");e.currentTarget.value=e.currentTarget.value.replace(new RegExp(/^$/),s.Loc.getMessage("SONET_GCE_T_EMAILS_DESCR"))}});i.addEventListener("focus",function(e){e.currentTarget.classList.add("invite-dialog-inv-form-textarea-active");e.currentTarget.value=e.currentTarget.value.replace(s.Loc.getMessage("SONET_GCE_T_EMAILS_DESCR"),"")})}this.actionLinkAdd=document.getElementById("sonet_group_create_popup_action_title_add");this.actionLinkInvite=document.getElementById("sonet_group_create_popup_action_title_invite");if(this.actionLinkAdd){this.actionLinkAdd.addEventListener("click",function(){t.onActionSelect("add")})}if(this.actionLinkInvite){this.actionLinkInvite.addEventListener("click",function(){t.onActionSelect("invite")})}this.inviteBlock1=document.getElementById("sonet_group_create_popup_action_block_invite");this.inviteBlock2=document.getElementById("sonet_group_create_popup_action_block_invite_2");this.addBlock=document.getElementById("sonet_group_create_popup_action_block_add")}babelHelpers.createClass(e,[{key:"onActionSelect",value:function e(t){if(t!=="add"){t="invite"}this.lastAction=t;if(t==="invite"){this.inviteBlock1.style.display="block";this.inviteBlock2.style.display="block";this.addBlock.style.display="none";this.actionLinkInvite.classList.add("--active");this.actionLinkAdd.classList.remove("--active")}else{this.inviteBlock1.style.display="none";this.inviteBlock2.style.display="none";this.addBlock.style.display="block";this.actionLinkInvite.classList.remove("--active");this.actionLinkAdd.classList.add("--active")}a.MenuManager.destroy(this.menuId)}}]);return e}();var T=function e(){babelHelpers.classCallCheck(this,e);document.querySelectorAll("[data-employees-selector-id]").forEach(function(e){var t=e.getAttribute("data-employees-selector-id");if(s.Type.isStringFilled(t)){_.getInstance().arUserSelector.push(t);new v({selectorId:t})}});new b};var E=function e(){babelHelpers.classCallCheck(this,e);var t=document.getElementById("additional-block-features");if(!t){return}t.querySelectorAll(".socialnetwork-group-create-ex__project-instruments--icon-action.--edit").forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget;var i=t.closest(".socialnetwork-group-create-ex__project-instruments--item");if(i){i.classList.add("--custom-value");var n=i.querySelector('[data-role="feature-input-text"]');var r=i.querySelector('[data-role="feature-label"]');if(n&&r){n.value=r.innerText}}e.preventDefault()})});t.querySelectorAll(".socialnetwork-group-create-ex__project-instruments--icon-action.--revert").forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget;var i=t.closest(".socialnetwork-group-create-ex__project-instruments--item");if(i){i.classList.remove("--custom-value");var n=i.querySelector('[data-role="feature-input-text"]');if(n){n.value=""}}e.preventDefault()})})};var I=function e(t){babelHelpers.classCallCheck(this,e);if(s.Type.isPlainObject(m.mandatoryFieldsByStep)&&s.Type.isArray(m.mandatoryFieldsByStep[2])&&s.Type.isArray(t.mandatoryUFList)){t.mandatoryUFList.forEach(function(e){if(!s.Type.isStringFilled(e.id)||!s.Type.isStringFilled(e.type)){return}m.mandatoryFieldsByStep[2].push(e)})}};var _=function(){babelHelpers.createClass(e,null,[{key:"getInstance",value:function t(){return e.instance}}]);function e(t){babelHelpers.classCallCheck(this,e);this.componentName=t.componentName;this.signedParameters=t.signedParameters;this.userSelector="";this.lastAction="invite";this.arUserSelector=[];this.animationList={};this.selectedTypeCode=false;this.groupId=parseInt(t.groupId);this.isScrumProject=t.isScrumProject;this.config=t.config;this.avatarUploaderId=t.avatarUploaderId;this.themePickerData=t.themePickerData;this.projectOptions=t.projectOptions;this.projectTypes=t.projectTypes;this.confidentialityTypes=t.confidentialityTypes;this.selectedProjectType=t.selectedProjectType;this.selectedConfidentialityType=t.selectedConfidentialityType;this.scrumManager=new l({isScrumProject:this.isScrumProject});this.wizardManager=new h({currentStep:Object.entries(this.projectTypes).length>1?1:2,stepsCount:t.stepsCount>1?t.stepsCount:1});this.alertManager=new g({errorContainerId:"sonet_group_create_error_block"});e.instance=this;this.init(t);this.buttonsInstance=new y}babelHelpers.createClass(e,[{key:"init",value:function e(t){var i=this;this.scrumManager.makeAdditionalCustomizationForm();if(this.groupId<=0){this.recalcForm()}new d({componentName:this.componentName,signedParameters:this.signedParameters,groupId:this.groupId});if(s.Type.isPlainObject(t.themePickerData)&&document.getElementById("GROUP_THEME_container")){new u({container:document.getElementById("GROUP_THEME_container"),theme:t.themePickerData})}if(document.getElementById("group-tags-bind-node")){new p({groupId:this.groupId,containerNodeId:"group-tags-bind-node",hiddenFieldId:"GROUP_KEYWORDS"})}new f;new c;new T;new E;var n=document.getElementById("GROUP_NAME_input");if(n){n.focus()}if(BX.SidePanel.Instance.getTopSlider()){r.EventEmitter.subscribe(BX.SidePanel.Instance.getTopSlider().getWindow(),"SidePanel.Slider:onClose",function(e){setTimeout(function(){var t=e.getTarget();if(!t){return}BX.SidePanel.Instance.destroy(t.getUrl())},500)})}var a=document.getElementById("IS_EXTRANET_GROUP");if(a&&a.type==="checkbox"){a.addEventListener("click",function(){i.switchExtranet(a.checked,true)})}var l=document.getElementById("GROUP_VISIBLE");if(l&&l.type==="checkbox"){l.addEventListener("click",function(){i.switchNotVisible(l.checked)})}var m=document.getElementById("GROUP_PROJECT");if(m&&m.type==="checkbox"){m.addEventListener("click",function(){o.recalcFormPartProject(m.checked)})}o.initExpandSwitches();o.initDropdowns();if(s.Type.isStringFilled(t.expandableSettingsNodeId)){BX.UI.Hint.init(document.getElementById(t.expandableSettingsNodeId))}if(this.groupId<=0&&this.selectedProjectType==="scrum"){this.saveScrumAnalyticData()}}},{key:"recalcForm",value:function e(t){if(s.Type.isPlainObject(t)){if(!s.Type.isUndefined(t.selectedProjectType)){this.selectedProjectType=s.Type.isStringFilled(t.selectedProjectType)?t.selectedProjectType:""}if(!s.Type.isUndefined(t.selectedConfidentialityType)){this.selectedConfidentialityType=s.Type.isStringFilled(t.selectedConfidentialityType)?t.selectedConfidentialityType:""}}if(this.groupId<=0){this.scrumManager.isScrumProject=s.Type.isPlainObject(this.projectTypes[this.selectedProjectType])&&s.Type.isStringFilled(this.projectTypes[this.selectedProjectType]["SCRUM_PROJECT"])&&this.projectTypes[this.selectedProjectType]["SCRUM_PROJECT"]==="Y";o.recalcFormPartProject(s.Type.isPlainObject(this.projectTypes[this.selectedProjectType])&&s.Type.isStringFilled(this.projectTypes[this.selectedProjectType].PROJECT)&&this.projectTypes[this.selectedProjectType].PROJECT==="Y")}this.scrumManager.makeAdditionalCustomizationForm();if(this.groupId<=0){var i=document.getElementById("GROUP_OPENED");if(i){o.setCheckedValue(i,s.Type.isPlainObject(this.confidentialityTypes[this.selectedConfidentialityType])&&s.Type.isStringFilled(this.confidentialityTypes[this.selectedConfidentialityType].OPENED)&&this.confidentialityTypes[this.selectedConfidentialityType].OPENED==="Y")}var n=document.getElementById("GROUP_VISIBLE");if(n){o.setCheckedValue(n,s.Type.isPlainObject(this.confidentialityTypes[this.selectedConfidentialityType])&&s.Type.isStringFilled(this.confidentialityTypes[this.selectedConfidentialityType].VISIBLE)&&this.confidentialityTypes[this.selectedConfidentialityType].VISIBLE==="Y")}}this.recalcFormDependencies()}},{key:"recalcFormDependencies",value:function e(){var t=document.getElementById("IS_EXTRANET_GROUP");if(t){this.switchExtranet(o.getCheckedValue(t,false))}var i=document.getElementById("GROUP_VISIBLE");var n=document.getElementById("GROUP_OPENED");if(i&&n&&!o.getCheckedValue(i)){o.setCheckedValue(n,false)}}},{key:"switchExtranet",value:function e(t,i){var n=document.getElementById("INVITE_EXTRANET_block");var r=document.getElementById("INVITE_EXTRANET_block_container");if(n&&r){if(t){r.style.display="block"}this.showHideBlock({container:r,block:n,show:t,duration:i?1e3:0,callback:{complete:function e(){if(t){r.classList.remove("--hidden")}else{r.style.display="none";r.classList.add("--hidden")}}}})}var a=document.getElementById("GROUP_OPENED");if(a){if(!t){if(a.type==="checkbox"){a.disabled=false}}else{if(a.type==="checkbox"){a.disabled=true;a.checked=false}else{a.value="N"}}}var s=document.getElementById("GROUP_VISIBLE");if(s){if(!t){if(s.type=="checkbox"){s.disabled=false}}else{if(s.type=="checkbox"){s.disabled=true;s.checked=false}else{s.value="N"}}}if(t){c.unselectAll();c.select("secret");c.disableAll();c.enable("secret")}else{c.enableAll()}}},{key:"switchNotVisible",value:function e(t){var i=document.getElementById("GROUP_OPENED");if(i&&i.type=="checkbox"){if(t){i.disabled=false}else{i.disabled=true;i.checked=false}}}},{key:"submitForm",value:function e(t){var i=this;var n=document.getElementById("EXTRANET_INVITE_ACTION");if(n){n.value=this.lastAction}var a=document.getElementById("sonet_group_create_popup_form").action;if(a){var o=document.getElementById("SONET_GROUP_ID");var c="addSonetGroup";if(o){if(parseInt(o.value)<=0){a=s.Uri.addParam(a,{action:"createGroup",groupType:this.selectedTypeCode})}else{c="editSonetGroup"}}a=s.Uri.addParam(a,{b24statAction:c});var l=document.forms["sonet_group_create_popup_form"].elements;if(l.GROUP_PROJECT&&(l.IS_EXTRANET_GROUP||l.GROUP_OPENED)){var d=l.GROUP_PROJECT.checked?"project-":"group-";if(l.IS_EXTRANET_GROUP&&l.IS_EXTRANET_GROUP.checked){d+="external"}else{d+=l.GROUP_OPENED.checked?"open":"closed"}a=s.Uri.addParam(a,{b24statType:d})}if(l.SCRUM_PROJECT&&c==="addSonetGroup"){a=s.Uri.addParam(a,{analyticsLabel:{scrum:"Y",action:"scrum_create"}})}y.showWaitSubmitButton(true);s.ajax.submitAjax(document.forms["sonet_group_create_popup_form"],{url:a,method:"POST",dataType:"json",data:{PROJECT_OPTIONS:this.projectOptions},onsuccess:function e(t){if(s.Type.isStringFilled(t.ERROR)){var n=s.Type.isStringFilled(t.WARNING)?"".concat(t.WARNING,"<br>"):"";i.alertManager.showAlert("".concat(n).concat(t.ERROR));if(s.Type.isStringFilled(t.WIZARD_STEP_PROCESSED)){i.wizardManager.recalcAfterSubmit({processedStep:t.WIZARD_STEP_PROCESSED.toLowerCase(),createdGroupId:parseInt(!s.Type.isUndefined(t.CREATED_GROUP_ID)?t.CREATED_GROUP_ID:0)})}if(s.Type.isArray(t.USERS_ID)){var a=[];t.USERS_ID.forEach(function(e){a["U".concat(e)]="users"});i.arUserSelector.forEach(function(e){var t=BX.UI.SelectorManager.instances[e];if(s.Type.isUndefined(t)){return}var i=document.getElementById("ui-tile-selector-".concat(e));i.querySelectorAll(".ui-tile-selector-item").forEach(function(e){var i=e.getAttribute("data-bx-id");if(!s.Type.isStringFilled(i)){return}t.getRenderInstance().deleteItem({entityType:"USERS",itemId:i})});t.itemsSelected=a;t.reinit()})}y.showWaitSubmitButton(false)}else if(t.MESSAGE==="SUCCESS"){var o=BX.SidePanel.Instance.getSliderByWindow(window);if(o){var c=new r.BaseEvent({compatData:[o.getEvent("onClose")],data:o.getEvent("onClose")});r.EventEmitter.emit(window.top,"SidePanel.Slider:onClose",c)}if(window===top.window){if(s.Type.isStringFilled(t.URL)){top.location.href=t.URL}}else if(s.Type.isStringFilled(t.ACTION)){var l=null;if(["create","edit"].includes(t.ACTION)&&!s.Type.isUndefined(t.GROUP)){l={code:t.ACTION=="create"?"afterCreate":"afterEdit",data:{group:t.GROUP,projectOptions:i.projectOptions}}}else if(t.ACTION==="invite"){l={code:"afterInvite",data:{}}}if(l){window.top.BX.SidePanel.Instance.postMessageAll(window,"sonetGroupEvent",l);if(t.ACTION==="create"){var d=JSON.parse(t.SELECTOR_GROUPS);if(s.Type.isArray(d)){window.top.BX.SidePanel.Instance.postMessageAll(window,"BX.Socialnetwork.Workgroup:onAdd",{projects:d})}}if(o){BX.SidePanel.Instance.close(false,function(){BX.SidePanel.Instance.destroy(o.getUrl())})}if(t.ACTION=="create"&&s.Type.isStringFilled(t.URL)&&(!s.Type.isStringFilled(i.config.refresh)||i.config.refresh==="Y")){var u=false;BX.SidePanel.Instance.anchorRules.find(function(e){if(u||!s.Type.isArray(e.condition)){return}e.condition.forEach(function(e){if(u){return}if(t.URL.match(e)){u=true}})});if(u){BX.SidePanel.Instance.open(t.URL)}else{top.window.location.href=t.URL}}}}}},onfailure:function e(t){y.showWaitSubmitButton(false);i.alertManager.showAlert(s.Loc.getMessage("SONET_GCE_T_AJAX_ERROR"))}})}t.preventDefault()}},{key:"saveScrumAnalyticData",value:function e(){var t=document.getElementById("sonet_group_create_popup_form").action;var i=new s.Uri(t).getQueryParam("source");var n=new Set(["guide_adv","guide_direct","guide_portal"]);if(n.has(i)){s.ajax.runAction("bitrix:tasks.scrum.info.saveScrumStart",{data:{},analyticsLabel:{scrum:"Y",action:"scrum_start",source:i}})}}},{key:"showHideBlock",value:function e(t){var i=this;if(!s.Type.isPlainObject(t)){return false}var n=t.container;var r=t.block;var a=!!t.show;if(!s.Type.isDomNode(n)||!s.Type.isDomNode(r)){return false}if(!s.Type.isUndefined(this.animationList[r.id])&&!s.Type.isNull(this.animationList[r.id])){return false}this.animationList[r.id]=null;var o=parseInt(r.offsetHeight);var c=!s.Type.isUndefined(t.duration)&&parseInt(t.duration)>0?parseInt(t.duration):0;if(a){n.style.display="block"}if(c>0){if(s.Type.isStringFilled(r.id)){this.animationList[r.id]=true}BX.delegate(new BX.easing({duration:c,start:{height:a?0:o,opacity:a?0:100},finish:{height:a?o:0,opacity:a?100:0},transition:BX.easing.makeEaseOut(BX.easing.transitions.quart),step:function e(t){n.style.maxHeight="".concat(t.height,"px");n.style.opacity=t.opacity/100},complete:function e(){if(s.Type.isStringFilled(r.id)){i.animationList[r.id]=null}if(!s.Type.isUndefined(t.callback)&&s.Type.isFunction(t.callback.complete)){n.style.maxHeight="";n.style.opacity="";t.callback.complete()}}}).animate(),this)}else{t.callback.complete()}return true}}]);return e}();babelHelpers.defineProperty(_,"instance",null);e.WorkgroupForm=_;e.WorkgroupFormUFManager=I})(this.BX.Socialnetwork=this.BX.Socialnetwork||{},BX.UI.EntitySelector,BX.UI,BX.UI,BX.Event,BX.Main,BX);
//# sourceMappingURL=script.map.js