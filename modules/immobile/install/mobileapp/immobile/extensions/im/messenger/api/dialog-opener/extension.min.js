jn.define("im/messenger/api/dialog-opener",((e,t,n)=>{const{Type:o}=jn.require("type");const{EntityReady:i}=jn.require("entity-ready");const{EventType:s,FeatureFlag:r}=jn.require("im/messenger/const");class a{static getVersion(){return 2}static open(e){return new Promise(((t,n)=>{if(!r.native.openWebComponentParentWidgetSupported){n({text:"This method is not supported in applications with the API version less than 45.",code:"UNSUPPORTED_APP_VERSION"});return}if(!o.isObject(e)){n({text:`options must be an object, ${e} given.`,code:"INVALID_ARGUMENT"});return}if(!o.isStringFilled(e.dialogId)&&!o.isNumber(e.dialogId)){n({text:`options.userCode must be a filled string or number, ${e.dialogId} given.`,code:"INVALID_ARGUMENT"});return}i.wait("chat").then((()=>{const n=s.messenger.openDialogParams+"::"+e.dialogId;const o=i=>{BX.removeCustomEvent(n,o);if(e.parentWidget){PageManager.openWebComponent(i,e.parentWidget)}else{PageManager.openWebComponent(i)}t()};BX.addCustomEvent(n,o);BX.postComponentEvent(s.messenger.getOpenDialogParams,[{dialogId:e.dialogId,dialogTitleParams:e.dialogTitleParams}],"im.messenger")}))}))}static openLine(e){return new Promise(((t,n)=>{if(!r.native.openWebComponentParentWidgetSupported){n({text:"This method is not supported in applications with the API version less than 45.",code:"UNSUPPORTED_APP_VERSION"});return}if(!o.isObject(e)){n({text:`options must be an object, ${e} given.`,code:"INVALID_ARGUMENT"});return}if(!o.isStringFilled(e.userCode)){n({text:`options.userCode must be a filled string, ${e.userCode} given.`,code:"INVALID_ARGUMENT"});return}i.wait("chat").then((()=>{const o=s.messenger.openLineParams+"::"+e.userCode;const i=s=>{BX.removeCustomEvent(o,i);if(!s.data.DIALOG_ID){n({text:"Failed to load the chat.",code:"LOADING_ERROR"});return}if(e.parentWidget){PageManager.openWebComponent(s,e.parentWidget)}else{PageManager.openWebComponent(s)}t()};BX.addCustomEvent(o,i);BX.postComponentEvent(s.messenger.getOpenLineParams,[{userCode:e.userCode,dialogTitleParams:e.dialogTitleParams}],"im.messenger")}))}))}}n.exports={DialogOpener:a}}));
//# sourceMappingURL=extension.map.js