jn.define("im/messenger/lib/notifier",((e,i,t)=>{const{Type:a}=jn.require("type");const{MessengerEvent:s}=jn.require("im/messenger/lib/event");const{EventType:n}=jn.require("im/messenger/const");class r{constructor(){include("InAppNotifier");this.delayShow={};this.isInitialized=!a.isUndefined(InAppNotifier);if(this.isInitialized){InAppNotifier.setHandler((e=>{if(e&&e.dialogId){if(e.dialogId==="notify"){new s(n.messenger.openNotifications).send();return}new s(n.messenger.openDialog,{dialogId:e.dialogId}).send()}}))}}notify(e,i){if(!this.isInitialized||!e.dialogId){return false}clearTimeout(this.delayShow[e.dialogId]);if(i!==false){this.delayShow[e.dialogId]=setTimeout((()=>this.notify(e,false)),1500);return true}if(PageManager.getNavigator().isActiveTab()){const i=PageManager.getNavigator().getVisible();if(i.type!=="Web"){return false}if(i.type==="Web"&&i.pageId==="im-"+e.dialogId){return false}}const t={title:ChatUtils.htmlspecialcharsback(e.title),backgroundColor:"#E6000000",message:ChatUtils.htmlspecialcharsback(e.text),data:e};const a=ChatUtils.getAvatar(e.avatar);if(a){t.imageUrl=a}InAppNotifier.showNotification(t);return true}}t.exports={Notifier:new r}}));
//# sourceMappingURL=extension.map.js