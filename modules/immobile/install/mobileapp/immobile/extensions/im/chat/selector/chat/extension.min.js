jn.define("im/chat/selector/chat",((t,e,i)=>{const{ChatProvider:s}=jn.require("im/chat/selector/providers/chat");const o=["user","im-chat","im-bot"];const n={entities:{user:{dynamicLoad:true,dynamicSearch:true,filters:[{id:"im.userDataFilter"}]},"im-chat":{dynamicLoad:true,dynamicSearch:true,options:{searchableChatTypes:["C","L","O"]}},"im-bot":{dynamicLoad:true,dynamicSearch:true,options:{searchableBotTypes:["H","B","S","N"]}}}};class r extends EntitySelector{constructor(t={}){const e=t.ui?t.ui:null;super(e);this.singleSelection=false;this.entities=t.entities?t.entities:o;const i=t.providerOptions?t.providerOptions:{};const r=t.context?t.context:"IM_NEXT_SEARCH";this.setProvider(new s(r,i));this.setEntitiesOptions(n.entities)}setEntitiesOptions(t){if(typeof t==="undefined")return this;let e=this.entities.reduce(((e,i)=>{e[i]=t[i]?t[i]:n.entities[i];return e}),{});this.provider.setOptions({entities:e});return this}setProvider(t){this.provider=t;this.provider.listener=this;this.sections.push({id:"custom",title:BX.message("MOBILE_EXT_CHAT_SELECTOR_SECTION_CUSTOM_TITLE").toUpperCase(),backgroundColor:"#ffffff"});this.sections.push({id:"recent",backgroundColor:"#ffffff",title:BX.message("MOBILE_EXT_CHAT_SELECTOR_SECTION_RECENT_TITLE").toUpperCase()});this.sections.push({id:"common",backgroundColor:"#ffffff"});this.sections.unshift({id:"service"});this.ui.setSections(this.sections)}onRecentResult(t,e=false){t.forEach((t=>{if(t.sectionCode!=="custom"){t.sectionCode="recent"}}));this.scopeFilter(t,e)}onFetchResult(t,e=false){if(this.items.length>0){let e=this.items.map((t=>t.id));t=t.filter((t=>!e.includes(t.id)));this.items=this.items.concat(t)}else{this.items=t}this.items.forEach((t=>t.sectionCode="common"));if(e===false){this.items=this.items.filter((t=>t.id!=="loading"))}this.scopeFilter(this.items,e)}}i.exports={ChatSelector:r}}));
//# sourceMappingURL=extension.map.js