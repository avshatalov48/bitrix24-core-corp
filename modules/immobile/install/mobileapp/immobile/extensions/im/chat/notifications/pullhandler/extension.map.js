{"version":3,"sources":["extension.js"],"names":["this","ImMobileNotificationsPullHandler","constructor","params","application","getModuleId","getSubscriptionType","BX","PullClient","SubscriptionType","Server","handleNotifyAdd","extra","console","log","undefined","server_time_ago","onlyFlash","type","Utils","getListItemType","newNotification","key","id","commonType","Const","NotificationTypes","confirm","simple","author","userName","htmlspecialcharsback","avatarUrl","getAvatarUrl","avatarColor","userColor","text","time","Date","date","getTime","messageId","notifyRead","notifyTag","originalTag","original_tag","buttons","JSON","stringify","collection","state","index","length","unshift","firstNotificationIndex","push","splice","setState","unreadCounter","counter","storage","set","updateCounter","handleNotifyConfirm","needToUpdateState","filteredCollection","filter","notification","handleNotifyRead","list","forEach","listItem","itemIndex","findIndex","item","handleNotifyUnread","handleNotifyDelete","idsToDelete","Object","keys","map","filteredNotifications","includes","postComponentEvent","dialogId"],"mappings":"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","file":"extension.map.js"}