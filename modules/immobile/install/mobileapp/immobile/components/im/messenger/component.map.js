{"version":3,"sources":["component.js"],"names":["REVISION","BX","message","LIMIT_ONLINE","componentParameters","get","window","Messenger","destructor","Type","jn","require","Loc","createStore","VuexManager","RestManager","applicationModel","recentModel","messagesModel","usersModel","dialoguesModel","filesModel","MessagesCache","RecentCache","UsersCache","MessagePullHandler","DialogPullHandler","UserPullHandler","DesktopPullHandler","NotificationPullHandler","OnlinePullHandler","EventType","RestMethod","FeatureFlag","MessengerEvent","Logger","SoftLoader","Recent","RecentView","Dialog","DialogSelector","ChatCreator","Counters","EntityReady","Communication","Promotion","PushHandler","SelectorDialogListAdapter","constructor","isBetaVersion","enable","this","isReady","isFirstLoad","loader","safeDisplayTime","onShow","showProgress","bind","onHide","hideProgress","refreshTimeout","refreshAfterErrorInterval","refreshErrorNoticeFlag","addCondition","store","storeManager","recent","dialog","dialogSelector","chatCreator","communication","initStore","initCache","then","initRequests","onViewLoaded","initComponents","subscribeEvents","initPullHandlers","wait","executeStoredPullEvents","refresh","modules","build","on","imRevisionGet","checkRevision","view","dialogList","subscribeMessengerEvents","subscribeExternalEvents","addCustomEvent","messenger","openDialog","openLine","joinCall","showSearch","openChatSearch","createChat","openChatCreate","openNotifications","chatDialog","initComplete","onChatDialogInitComplete","counterChange","onChatDialogCounterChange","accessError","onChatDialogAccessError","taskStatusSuccess","onTaskStatusSuccess","call","active","onCallActive","inactive","onCallInactive","notification","open","onNotificationOpen","reload","onNotificationReload","app","activeBefore","onAppActiveBefore","paused","onAppPaused","onAppActive","failRestoreConnection","PULL","subscribe","updateList","executeAction","clearHistory","show","callBatch","response","afterRefresh","catch","afterRefreshError","hide","ChatTimer","stop","update","ready","firstErrorKey","Object","keys","firstError","error","ex","secondsBeforeRefresh","clearTimeout","setTimeout","Application","isBackground","notifyRefreshError","InAppNotifier","showNotification","getMessage","backgroundColor","time","start","warn","afterRefreshSuccess","send","options","info","callId","postComponentEvent","join","PageManager","getNavigator","isActiveTab","makeTabActive","log","notificationCounter","reset","postWebEvent","refreshNotifications","callStatus","addCall","removeCallById","taskId","result","event","checkDialog","dialogId","toString","recentItem","ChatUtils","objectClone","MessengerStore","getters","counter","dispatch","deleteCurrentDialog","setTitle","text","useProgress","largeMode","messagesState","recentState","usersState","cachePromiseList","push","Promise","all","actualRevision","data","mobile","isNumber","reloadAllScripts","listeners","console","MessengerStoreManager"],"mappings":"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","file":"component.map.js"}