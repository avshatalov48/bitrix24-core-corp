{"version":3,"sources":["component.js"],"names":["REVISION","BX","message","LIMIT_ONLINE","componentParameters","get","window","Messenger","destructor","Type","jn","require","Loc","createStore","VuexManager","RestManager","applicationModel","recentModel","messagesModel","usersModel","dialoguesModel","filesModel","MessagesCache","RecentCache","UsersCache","MessagePullHandler","DialogPullHandler","UserPullHandler","DesktopPullHandler","NotificationPullHandler","OnlinePullHandler","EventType","RestMethod","FeatureFlag","MessengerEvent","Logger","SoftLoader","Recent","RecentView","Dialog","DialogSelector","ChatCreator","Counters","EntityReady","Communication","Promotion","PushHandler","SelectorDialogListAdapter","constructor","isBetaVersion","enable","this","isReady","isFirstLoad","loader","safeDisplayTime","onShow","showProgress","bind","onHide","hideProgress","refreshTimeout","refreshAfterErrorInterval","refreshErrorNoticeFlag","addCondition","store","storeManager","recent","dialog","dialogSelector","chatCreator","communication","initStore","initCache","then","initRequests","onViewLoaded","initComponents","subscribeEvents","initPullHandlers","wait","executeStoredPullEvents","refresh","modules","build","on","imRevisionGet","checkRevision","view","dialogList","subscribeMessengerEvents","subscribeExternalEvents","addCustomEvent","messenger","openDialog","openLine","getOpenLineParams","joinCall","showSearch","openChatSearch","createChat","openChatCreate","openNotifications","chatDialog","initComplete","onChatDialogInitComplete","counterChange","onChatDialogCounterChange","accessError","onChatDialogAccessError","taskStatusSuccess","onTaskStatusSuccess","call","active","onCallActive","inactive","onCallInactive","notification","open","onNotificationOpen","reload","onNotificationReload","app","activeBefore","onAppActiveBefore","paused","onAppPaused","onAppActive","failRestoreConnection","PULL","subscribe","updateList","executeAction","clearHistory","show","callBatch","response","afterRefresh","catch","afterRefreshError","hide","ChatTimer","stop","update","ready","firstErrorKey","Object","keys","firstError","error","ex","secondsBeforeRefresh","clearTimeout","setTimeout","Application","isBackground","notifyRefreshError","InAppNotifier","showNotification","getMessage","backgroundColor","time","start","warn","afterRefreshSuccess","send","options","info","callId","postComponentEvent","join","PageManager","getNavigator","isActiveTab","makeTabActive","log","notificationCounter","reset","postWebEvent","refreshNotifications","callStatus","addCall","removeCallById","taskId","result","openLineParamsResponseEvent","openLineParams","userCode","params","event","checkDialog","dialogId","toString","recentItem","ChatUtils","objectClone","MessengerStore","getters","counter","dispatch","deleteCurrentDialog","setTitle","text","useProgress","largeMode","messagesState","recentState","usersState","cachePromiseList","push","Promise","all","actualRevision","data","mobile","isNumber","reloadAllScripts","listeners","console","MessengerStoreManager"],"mappings":"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","file":"component.map.js"}