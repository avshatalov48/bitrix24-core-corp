{"version":3,"sources":["component.js"],"names":["REVISION","BX","message","LIMIT_ONLINE","componentParameters","get","window","Messenger","destructor","Type","jn","require","Loc","createStore","VuexManager","RestManager","applicationModel","recentModel","messagesModel","usersModel","dialoguesModel","filesModel","MessagesCache","RecentCache","UsersCache","MessagePullHandler","DialogPullHandler","UserPullHandler","DesktopPullHandler","NotificationPullHandler","OnlinePullHandler","EventType","RestMethod","FeatureFlag","MessengerEvent","Logger","SoftLoader","Recent","RecentView","Dialog","DialogSelector","ChatCreator","Counters","EntityReady","Communication","Promotion","PushHandler","SelectorDialogListAdapter","constructor","isBetaVersion","enable","this","isReady","isFirstLoad","loader","safeDisplayTime","onShow","showProgress","bind","onHide","hideProgress","refreshTimeout","refreshAfterErrorInterval","refreshErrorNoticeFlag","addCondition","store","storeManager","recent","dialog","dialogSelector","chatCreator","communication","initStore","initCache","then","initRequests","onViewLoaded","initComponents","subscribeEvents","initPullHandlers","wait","executeStoredPullEvents","refresh","modules","build","on","imRevisionGet","checkRevision","view","dialogList","subscribeMessengerEvents","subscribeExternalEvents","addCustomEvent","messenger","openDialog","openLine","getOpenDialogParams","getOpenLineParams","joinCall","showSearch","openChatSearch","createChat","openChatCreate","openNotifications","chatDialog","initComplete","onChatDialogInitComplete","counterChange","onChatDialogCounterChange","accessError","onChatDialogAccessError","taskStatusSuccess","onTaskStatusSuccess","call","active","onCallActive","inactive","onCallInactive","notification","open","onNotificationOpen","reload","onNotificationReload","app","activeBefore","onAppActiveBefore","paused","onAppPaused","onAppActive","failRestoreConnection","PULL","subscribe","updateList","executeAction","clearHistory","show","callBatch","response","afterRefresh","catch","afterRefreshError","hide","ChatTimer","stop","update","ready","firstErrorKey","Object","keys","firstError","error","ex","secondsBeforeRefresh","clearTimeout","setTimeout","Application","isBackground","notifyRefreshError","InAppNotifier","showNotification","getMessage","backgroundColor","time","start","warn","afterRefreshSuccess","send","options","info","callId","postComponentEvent","join","PageManager","getNavigator","isActiveTab","makeTabActive","log","notificationCounter","reset","postWebEvent","refreshNotifications","callStatus","addCall","removeCallById","taskId","result","openDialogParamsResponseEvent","openDialogParams","dialogId","params","openLineParamsResponseEvent","openLineParams","userCode","event","checkDialog","toString","recentItem","ChatUtils","objectClone","MessengerStore","getters","counter","dispatch","deleteCurrentDialog","setTitle","text","useProgress","largeMode","messagesState","recentState","usersState","cachePromiseList","push","Promise","all","actualRevision","data","mobile","isNumber","reloadAllScripts","listeners","console","MessengerStoreManager"],"mappings":"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","file":"component.map.js"}