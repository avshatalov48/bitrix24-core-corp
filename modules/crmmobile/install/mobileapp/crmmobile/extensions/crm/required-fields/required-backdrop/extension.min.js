jn.define("crm/required-fields/required-backdrop",((t,e,r)=>{const{EntityManager:a}=t("layout/ui/entity-editor/manager");class o extends LayoutComponent{constructor(t){super(t);this.layout=t.layout||layout;this.refEntityManager=null;this.isSaved=false;this.onSave=this.handlerOnSave.bind(this)}componentDidMount(){this.layout.enableNavigationBarBorder(false);this.layout.setTitle({text:BX.message("CRM_REQUIRED_FIELDS")});this.layout.setRightButtons([{name:BX.message("CRM_REQUIRED_SAVE"),type:"text",color:"#0065a3",callback:this.onSave}]);this.layout.setListener((t=>{if(t==="onViewHidden"){this.handlerOnClose()}}))}handlerOnSave(){if(!this.refEntityManager.validate()){return}this.refEntityManager.getValuesToSave().then((t=>{this.isSaved=true;this.layout.close((()=>{const{onSave:e}=this.props;if(typeof e==="function"){e(t)}}))})).catch((()=>this.layout.close()))}handlerOnClose(){const{onClose:t}=this.props;if(!this.isSaved&&typeof t==="function"){t()}}render(){return View({style:{flexDirection:"column",backgroundColor:"#eef3f5"},resizableByKeyboard:true,safeArea:{bottom:true,top:true,left:true,right:true}},this.renderEditor())}renderEditor(){const{editorData:t}=this.props;return a.create({refCallback:t=>this.refEntityManager=t,componentId:"crm.tabs",layout:this.layout,editorProps:{...t,ENABLE_BOTTOM_PANEL:true,IS_TOOL_PANEL_ALWAYS_VISIBLE:true}})}}r.exports={RequiredFieldsBackdrop:o}}));
//# sourceMappingURL=extension.map.js