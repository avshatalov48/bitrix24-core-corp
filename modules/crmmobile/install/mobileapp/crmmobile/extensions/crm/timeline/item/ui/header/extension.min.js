jn.define("crm/timeline/item/ui/header",((e,t,i)=>{const{VerticalSeparator:r}=e("crm/timeline/item/ui/header/vertical-separator");const{Checkbox:n}=e("crm/timeline/item/ui/header/checkbox");const{PinButton:o}=e("crm/timeline/item/ui/header/pin-button");const{Tag:s}=e("crm/timeline/item/ui/header/tag");const{TimelineItemUserAvatar:a}=e("crm/timeline/item/ui/user-avatar");const{TimelineButtonVisibilityFilter:l,TimelineButtonSorter:c}=e("crm/timeline/item/ui/styles");const{Moment:u}=e("utils/date");const{dayMonth:p,longDate:m,shortTime:h}=e("utils/date/formats");const{FriendlyDate:d}=e("layout/ui/friendly-date");const{TimeAgo:f}=e("layout/ui/friendly-date/time-ago");const{Haptics:w}=e("haptics");const y={PIN:"pin",UNPIN:"unpin",COMPLETE:"complete"};class g extends LayoutComponent{constructor(e){super(e)}get hasIcon(){return Boolean(this.props.hasIcon)}render(){return View({style:{flexDirection:"row",justifyContent:"space-between",flexGrow:1,opacity:BX.prop.getNumber(this.props,"opacity",1)}},View({style:{paddingTop:12,paddingLeft:12,flexDirection:"column",flex:1}},this.renderTitle(),this.renderTags(),this.hasIcon&&this.renderTime()),View({},View({style:{flexDirection:"row",flexShrink:2}},this.renderUser(),this.renderChangeStreamButton())))}renderTitle(){if(!this.props.title){return null}return View({style:{flexDirection:"row",flexWrap:"wrap",marginBottom:4}},View({onClick:()=>this.onAction(this.props.titleAction)},Text({text:this.props.title,style:{fontSize:15,fontWeight:"500",color:"#333333",marginRight:this.hasIcon?0:12}})),!this.hasIcon&&View({style:{flexDirection:"column",justifyContent:"center"}},this.renderTime()))}renderTags(){if(!this.props.tags){return null}const e=Object.values(this.props.tags).filter((e=>l(e,this.props.isReadonly))).sort(c).map((e=>new s(e)));return View({style:{flexDirection:"row",flexWrap:"wrap"}},...e)}renderTime(){if(!this.props.date){return null}const e=u.createFromTimestamp(this.props.date);const t=e.inThisYear?p():m();const i={color:"#A8ADB4",fontSize:13,fontWeight:"400"};return View({style:{}},this.props.useFriendlyDate?new d({moment:e,style:i,defaultFormat:`${t}, ${h()}`,showTime:true,useTimeAgo:true,futureAllowed:true}):new f({moment:e,style:i}))}renderUser(){if(!this.props.user){return null}return a(this.props.user)}renderChangeStreamButton(){if(!this.props.changeStreamButton){return null}const{type:e,action:t}=this.props.changeStreamButton;const i={onClick:()=>{w.impactMedium();this.onAction(t)}};const s=()=>{switch(e){case y.COMPLETE:return new n(i);case y.PIN:return new o({...i,pinned:false});case y.UNPIN:return new o({...i,pinned:true})}};return View({style:{flexDirection:"row",marginLeft:1}},r(),s())}onAction(e){if(e&&this.props.onAction){this.props.onAction(e)}}}i.exports={TimelineItemHeader:g}}));
//# sourceMappingURL=extension.map.js