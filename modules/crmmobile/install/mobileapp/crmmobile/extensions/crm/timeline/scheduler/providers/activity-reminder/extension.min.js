jn.define("crm/timeline/scheduler/providers/activity-reminder",((e,t,i)=>{const{Loc:r}=e("loc");const{Haptics:n}=e("haptics");const{TimelineSchedulerActivityProvider:o}=e("crm/timeline/scheduler/providers/activity");const s=false;class l extends o{static getId(){return"activity-reminder"}static getTitle(){return r.getMessage("M_CRM_TIMELINE_SCHEDULER_ACTIVITY_REMINDER_TITLE")}static isAvailableInMenu(){return false}static getBackdropParams(){return{}}constructor(e){super(e);this.menu=new ContextMenu({actions:this.buildSkipMenuItems(),onCancel:()=>this.focus(),params:{title:r.getMessage("M_CRM_TIMELINE_SCHEDULER_ACTIVITY_REMINDER_SKIP_TITLE"),showCancelButton:true,showActionLoader:false}})}getInitialText(){return r.getMessage("M_CRM_TIMELINE_SCHEDULER_ACTIVITY_REMINDER_DEFAULT_TEXT")}render(){return View({style:{flexDirection:"column",flex:1,backgroundColor:"#eef2f4"},resizableByKeyboard:true},this.renderBanner(),View({style:{flex:1,marginBottom:12,backgroundColor:"#ffffff",borderRadius:12,borderWidth:1.4,borderColor:"#2fc6f6"}},this.renderTextField(),s&&this.renderAttachments(),this.renderDeadline()))}renderBanner(){return View({style:{borderRadius:12,backgroundColor:"#e5f9ff",padding:16,flexDirection:"row",alignItems:"center",marginBottom:12}},View({style:{position:"absolute",top:49,left:-140,width:260,height:260,borderRadius:130,borderWidth:37,borderColor:"#ffffff",opacity:.5}}),View({style:{position:"absolute",top:-110,right:-100,width:198,height:198,borderRadius:99,borderWidth:26,borderColor:"#ffffff",opacity:.4}}),View({style:{width:82,height:82,backgroundImage:currentDomain+"/bitrix/mobileapp/crmmobile/extensions/crm/timeline/scheduler/providers/activity-reminder/icons/plan-activity.png",backgroundResizeMode:"cover"}}),View({style:{marginLeft:20,marginRight:10,marginTop:-12,flex:1}},Text({style:{color:"#333333",fontSize:15,numberOfLines:1,ellipsize:"end",lineHeightMultiple:1.2},text:r.getMessage("M_CRM_TIMELINE_SCHEDULER_ACTIVITY_REMINDER_BANNER_TITLE")}),Text({style:{color:"#959ca4",fontSize:14,numberOfLines:2,ellipsize:"end",lineHeightMultiple:1.2},text:r.getMessage("M_CRM_TIMELINE_SCHEDULER_ACTIVITY_REMINDER_BANNER_DESCRIPTION")})))}renderMenuButton(){return View({style:{position:"absolute",right:13,top:16,width:35,height:24,alignSelf:"center",justifyContent:"center",alignItems:"center"},onClick:()=>this.openSkipMenu()},Image({style:{width:24,height:24},svg:{content:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.7376 4.54201C12.0692 4.31228 12.5223 4.54961 12.5223 4.95301V18.6489C12.5223 19.0496 12.0746 19.2875 11.7426 19.0633L7.26677 16.0418V15.8002C7.23324 15.8045 7.19906 15.8067 7.16436 15.8067H3.99844C3.55677 15.8067 3.19873 15.4487 3.19873 15.007V8.58105C3.19873 8.13939 3.55677 7.78135 3.99844 7.78135H7.16436C7.19906 7.78135 7.23324 7.78356 7.26677 7.78784V7.63926L11.7376 4.54201ZM19.8673 14.9339L20.9806 13.8207L18.754 11.5941L20.9806 9.36755L19.8673 8.25427L17.6408 10.4808L15.4142 8.25427L14.3009 9.36755L16.5275 11.5941L14.3009 13.8207L15.4142 14.9339L17.6408 12.7074L19.8673 14.9339Z" fill="#d5d7db"/></svg>'}}))}openSkipMenu(){void this.menu.show(this.layout)}buildSkipMenuItems(){const e=["day","week","month","forever"];return e.map((e=>({id:e,title:r.getMessage(`M_CRM_TIMELINE_SCHEDULER_ACTIVITY_REMINDER_SKIP_${e.toUpperCase()}`),onClickCallback:()=>new Promise((t=>{this.menu.close((()=>this.skip(e)));t({closeMenu:false})}))})))}skip(e){BX.ajax.runAction("crm.activity.todo.skipEntityDetailsNotification",{data:{entityTypeId:this.entity.typeId,period:e}});if(this.props.onSkip){this.props.onSkip(this)}n.impactLight();this.close()}}i.exports={TimelineSchedulerActivityReminderProvider:l}}));
//# sourceMappingURL=extension.map.js