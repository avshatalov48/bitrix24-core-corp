jn.define("crm/entity-detail/component/smart-activity-menu-item",((t,e,i)=>{const{TypeId:o}=t("crm/type");const{Haptics:s}=t("haptics");const{Loc:n}=t("loc");const c=currentDomain+"/bitrix/mobileapp/crmmobile/components/crm/crm.entity.details/icons/";const a=(t,e)=>({id:"smartActivityItem",sectionCode:"action",onItemSelected:()=>{if(t){T(e)}else{I(e)}},title:BX.message("M_CRM_ACTION_SMART_ACTIVITY2"),checked:t,iconUrl:c+"smart_activities.png"});const T=t=>{const e=["day","week","month","forever"];const i=e.map((e=>({id:e,title:n.getMessage(`M_CRM_ACTION_SMART_ACTIVITY_SKIP_${e.toUpperCase()}`),onClickCallback:()=>new Promise((i=>{o.close((()=>_(e,t)));i({closeMenu:false})}))})));const o=new ContextMenu({actions:i,params:{title:n.getMessage("M_CRM_ACTION_SMART_ACTIVITY_SKIP_TITLE"),showCancelButton:true,showActionLoader:false}});void o.show()};const _=(t,e)=>{BX.ajax.runAction("crm.activity.todo.skipEntityDetailsNotification",{data:{entityTypeId:o.Deal,period:t}}).then((()=>{if(e){e(false)}const t=BX.message("M_CRM_ACTION_SMART_ACTIVITY_DISABLED_NOTIFY_TITLE");const i=BX.message("M_CRM_ACTION_SMART_ACTIVITY_DISABLED_NOTIFY_TEXT");Notify.showUniqueMessage(i,t,{time:5});s.impactLight()}))};const I=t=>{BX.ajax.runAction("crm.activity.todo.skipEntityDetailsNotification",{data:{entityTypeId:o.Deal,period:""}}).then((()=>{if(t){t(true)}const e=BX.message("M_CRM_ACTION_SMART_ACTIVITY_ENABLED_NOTIFY_TITLE");const i=BX.message("M_CRM_ACTION_SMART_ACTIVITY_ENABLED_NOTIFY_TEXT");Notify.showUniqueMessage(i,e,{time:5});s.impactLight()}))};i.exports={getSmartActivityMenuItem:a}}));
//# sourceMappingURL=smart-activity-menu-item.map.js