jn.define("crm/entity-detail/toolbar/activity/templates/base",((t,e,i)=>{const{transition:n,pause:o,chain:s}=t("animation");const{mergeImmutable:r}=t("utils/object");const{doubleIm:l}=t("assets/communication");const{bigCross:c}=t("assets/common");const{Loc:a}=t("loc");const h={"Activity:OpenLine":l};const d=26;const g=60;class u extends LayoutComponent{constructor(t){super(t);this.model=this.props.model;this.state.visible=false}getTitle(){return this.model.getTitle()}getSubTitle(){return this.model.getSubTitle()}getIcon(){const t=this.model.getType();const e=h[t];if(!e){return null}return e("#FFFFFF")}getStyles(){const{style:t}=this.props;return r(this.getDefaultStyles(),t)}getDefaultStyles(){return f}handleOnActionClick(){return null}renderContent(){const t=this.getStyles();const e=this.getSubTitle();return[View({style:t.contentBlock,clickable:false},Text({style:t.title,text:this.getTitle(),numberOfLines:1,ellipsize:"end"}),e&&Text({style:t.subtitle,text:e||"",numberOfLines:1,ellipsize:"end"})),this.renderAction()]}renderAction(){const t=this.getStyles();return Button({style:t.openButton,text:a.getMessage("M_CRM_E_D_TOOLBAR_BUTTON_OPEN"),onClick:this.state.visible&&this.handleOnActionClick.bind(this)})}renderSkeleton(){const t=this.getStyles();return[View({style:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},View({style:t.circle(true,false)}),View({style:{marginLeft:14,flexDirection:"column"}},View({style:{width:73,height:3,borderRadius:3,marginBottom:12,backgroundColor:"#DFE0E3"}}),View({style:{width:31,height:3,borderRadius:3,backgroundColor:"#DFE0E3"}}))),View({style:{width:146,flexDirection:"row",justifyContent:"space-between"}},...Array.from({length:4}).map(((e,i)=>View({style:t.circle(false,i!==0)}))))]}renderActivityImage(){const t=this.getStyles();return View({style:t.imageWrapper,clickable:false},Image({style:t.icon,resizeMode:"contain",svg:this.getIcon()}))}renderRightIcon(){const t=this.getStyles();const{onHide:e}=this.props;return View({style:t.rightIconWrapper,clickable:false},ImageButton({resizeMode:"contain",style:t.rightIcon,onClick:this.state.visible&&e,svg:{content:c()}}))}render(){const t=this.getStyles();const e=this.model.getType()?[this.renderActivityImage(),View({style:t.contentWrapper,clickable:false},...this.renderContent()),this.renderRightIcon()]:[];return View({style:t.mainWrapper,clickable:false,ref:t=>this.ref=t},...e)}show(){const{animation:t={}}=this.props;const e=n(this.ref,{...t,top:0,option:"linear"});const i=n(this.ref,{duration:200,backgroundColor:"#DFE0E3"});const r=n(this.ref,{duration:100,backgroundColor:"#ffffff"});const l=()=>new Promise((t=>{this.setState({visible:true},t)}));return s(l,e,i,o(1e3),r)()}hide(){if(!this.state.visible){return Promise.resolve()}const{animation:t={}}=this.props;return new Promise((e=>{this.ref.animate({...t,top:-80,option:"linear"},(()=>{this.setState({visible:false},(()=>{e()}))}))}))}}const f={icon:{width:d,height:d},mainWrapper:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:12,paddingRight:12,paddingLeft:20,borderBottomWidth:1,borderBottomColor:"#DFE0E3",backgroundColor:"#fff",top:-g,height:g,position:"absolute",width:"100%"},imageWrapper:{width:34,height:34,backgroundColor:"#2FC6F6",borderRadius:30,alignItems:"center",justifyContent:"center"},contentWrapper:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingLeft:11,paddingRight:8},contentBlock:{flex:1,flexDirection:"column",marginRight:8},rightIconWrapper:{width:33,height:33,alignItems:"center",justifyContent:"center"},rightIcon:{width:33,height:33},circle:(t,e)=>({width:t?34:23,height:t?34:23,borderRadius:30,backgroundColor:e?"#DFE0E3":"#2FC6F6"}),title:{fontSize:15,fontWeight:"500"},subtitle:{fontSize:12,fontWeight:500,color:"#A8ADB4"},openButton:{fontSize:15,fontWeight:500,color:"#FFFFFF",backgroundColor:"#00A2E8",height:30,borderRadius:30,paddingHorizontal:10,maxWidth:85}};i.exports={ActivityPinnedBase:u}}));
//# sourceMappingURL=base.map.js