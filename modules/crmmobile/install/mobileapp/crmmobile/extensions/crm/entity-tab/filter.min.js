jn.define("crm/entity-tab/filter",((t,e,s)=>{const r="default_filter";class i{constructor(){this.init();this.wasShown=false}isChecked(t){return this.currentFilterId===t}clear(){this.init()}init(){this.presetId=null;this.counterId=null;this.tmpFields={};this.search=null;this.currentFilterId=null}set(t){this.presetId=t.presetId||this.getEmptyFilterPresetId();this.counterId=t.counterId||null;this.tmpFields=t.tmpFields||{};this.search=t.search||"";this.currentFilterId=t.currentFilterId||null;return this}setWasShown(){this.wasShown=true}unsetWasShown(){this.wasShown=false}prepareActionParams(t,e){if(this.search){t.loadItems.extra.search=this.search}let s=this.getEmptyFilterPresetId();if(e&&!this.wasShown){s=e}if(this.presetId){s=this.presetId;t.loadItems.extra.filter=this.getData()}t.loadItems.extra.filterParams=t.loadItems.extra.filterParams||{};t.loadItems.extra.filterParams.FILTER_PRESET_ID=s;return t}getEmptyFilterPresetId(){return r}getData(){return{presetId:this.presetId,counterId:this.counterId,tmpFields:this.tmpFields,search:this.search,currentFilterId:this.currentFilterId}}isActive(){return this.wasShown}}s.exports={Filter:i}}));
//# sourceMappingURL=filter.map.js