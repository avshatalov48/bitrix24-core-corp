jn.define("crm/product-grid/model/product-row",((r,t,e)=>{const s=r("layout/ui/product-grid/model/product-row").ProductRow;const{ProductCalculator:o,TaxForSumStrategy:p}=r("crm/product-calculator");const u={MONETARY:1,PERCENTAGE:2};class i extends s{static createRecalculated(r){const t=new o(r);if(r.TAX_MODE){const r=new p(t);t.setCalculationStrategy(r)}const e=t.recalculateAll();return new i(e)}getId(){return this.props.ID}getDiscountType(){return Number(this.props.DISCOUNT_TYPE_ID||u.PERCENTAGE)}getDiscountRow(){if(this.props.hasOwnProperty("DISCOUNT_ROW")){return Number(this.props.DISCOUNT_ROW||0)}return this.getDiscountSum()*this.getQuantity()}getDiscountSum(){return Number(this.props.DISCOUNT_SUM||0)}getDiscountRate(){return Number(this.props.DISCOUNT_RATE||0)}getMaxPrice(){return Number(this.props.PRICE_BRUTTO||0)}getPrice(){return Number(this.props.PRICE||0)}getBasePrice(){if(this.props.hasOwnProperty("BASE_PRICE")){return Number(this.props.BASE_PRICE||0)}const r=this.isTaxIncluded()?this.props.PRICE_BRUTTO:this.props.PRICE_NETTO;return Number(r||0)}getCurrency(){return String(this.props.CURRENCY||"")}getSum(){if(this.props.hasOwnProperty("SUM")){return Number(this.props.SUM||0)}return this.getPrice()*this.getQuantity()}getQuantity(){return Number(this.props.QUANTITY||0)}getTaxRate(){if(this.props.hasOwnProperty("TAX_RATE")){return this.props.TAX_RATE===null?null:Number(this.props.TAX_RATE)}return 0}getTaxSum(){return Number(this.props.TAX_SUM||0)}isTaxIncluded(){return this.props.TAX_INCLUDED&&this.props.TAX_INCLUDED==="Y"}isTaxMode(){return BX.prop.getBoolean(this.props,"TAX_MODE",false)}isPriceEditable(){return BX.prop.getBoolean(this.props,"PRICE_EDITABLE",false)}setPriceEditable(r=true){this.props.PRICE_EDITABLE=Boolean(r);return this}forceSavePrice(r=true){this.props.FORCE_SAVE_PRICE=Boolean(r);return this}getProductId(){return Number(this.props.PRODUCT_ID)}getProductName(){return String(this.props.PRODUCT_NAME)}getPhotos(){const r=this.props.GALLERY||[];return r.map((r=>r.previewUrl))}getSkuTree(){return this.props.SKU_TREE||{}}getMeasureName(){return String(this.props.MEASURE_NAME||"")}getMeasureCode(){return Number(this.props.MEASURE_CODE||0)}getSections(){return this.props.SECTIONS||[]}getBarcode(){return this.props.BARCODE||""}}e.exports={ProductRow:i}}));
//# sourceMappingURL=product-row.map.js