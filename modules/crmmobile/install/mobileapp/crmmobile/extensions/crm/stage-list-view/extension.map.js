{"version":3,"sources":["extension.js"],"names":["jn","define","require","exports","module","isEqual","get","mergeImmutable","NavigationLoader","CategoryStorage","StageList","edit","CategorySvg","StageSelectActions","throttle","stringify","StageListView","LayoutComponent","static","props","widgetParams","parentWidget","PageManager","Promise","resolve","params","modal","backdrop","showOnTop","forceDismissOnSwipeDown","horizontalSwipeAllowed","swipeContentAllowed","navigationBarColor","openWidget","then","layout","showComponent","this","constructor","super","category","getCategoryByProps","state","selectedStage","onSelectedStage","handlerOnSelectedStage","bind","onOpenStageDetail","handlerOnOpenStageDetail","saveOnCreateTunnelHandler","saveOnCreateTunnel","saveOnChangeTunnelDestinationHandler","saveOnChangeTunnelDestination","entityTypeId","categoryId","getCategory","getSelectStageAction","selectAction","ChangeEntityStage","componentDidMount","subscribeOnChange","reloadCategory","subscribeOnLoading","status","setLoading","markReady","setListener","eventName","handleOnViewHidden","bindEvents","initNavigation","setState","onViewHidden","stageAction","BX","addCustomEvent","stage","hasStageChanged","postComponentEvent","getTitleForNavigation","message","name","replace","isEditable","Boolean","enableNavigationBarBorder","setTitle","text","svg","content","funnelForTitle","setRightButtons","type","callback","handlerCategoryEditOpen","uid","refreshTitle","stagesGroupName","currentStage","find","item","id","index","indexOf","componentWillReceiveProps","newProps","data","onStageSelect","close","CreateTunnel","SelectTunnelDestination","ComponentHelper","openLayout","componentParams","render","stageParams","canMoveStages","activeStageId","ScrollView","resizableByKeyboard","safeArea","bottom","top","left","right","style","flexDirection","backgroundColor","LoadingScreenComponent","title","getStageListTitle","readOnly","getStageReadOnly","processStages","finalStages","successStages","failedStages","enableStageSelect","disabledStageIds","getDisabledStageIdsByCategory","selectStageAction","actions","includes","stages","disabledStages","map","hasSameDstStage","tunnels","push","dstStageIds","intersection","filter","tunnel","dstStageId","length","prop","getArray"],"mappings":"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","file":"extension.map.js"}