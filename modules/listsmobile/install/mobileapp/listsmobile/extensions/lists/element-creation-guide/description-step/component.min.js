jn.define("lists/element-creation-guide/description-step/component",((t,e,i)=>{const{PureComponent:s}=t("layout/pure-component");const{DescriptionStepView:n}=t("lists/element-creation-guide/description-step/view");const{EventEmitter:o}=t("event-emitter");const{NotifyManager:r}=t("notify-manager");class d extends s{constructor(t){super(t);this.state={description:this.props.description===undefined?null:this.props.description};this.sign="";this.hasFieldsToRender=true;this.isConstantsTuned=false;this.isLoading=false;this.uid=t.uid||Random.getString();this.customEventEmitter=o.createWithUid(this.uid)}get isLoaded(){return this.state.description!==null}loadDescription(){if(this.isLoaded||this.isLoading===true){return}this.isLoading=true;let t="";let e=false;BX.ajax.runAction("listsmobile.ElementCreationGuide.loadDescriptionStep",{data:{iBlockId:this.props.iBlockId||0,elementId:0}}).then((e=>{this.hasFieldsToRender=e.data.hasFieldsToRender;this.isConstantsTuned=e.data.isConstantsTuned;this.sign=e.data.signedIBlockIdAndElementId;t=e.data.description||""})).catch((t=>{console.error(t.errors);if(Array.isArray(t.errors)){r.showErrors(t.errors)}e=true})).finally((()=>{this.isLoading=false;this.setState({description:t});this.customEventEmitter.emit("DescriptionStepComponent:onAfterLoadDescription",[{description:this.state.description,hasFieldsToRender:this.hasFieldsToRender,sign:this.sign,isConstantsTuned:this.isConstantsTuned,hasErrors:e}])}))}render(){this.loadDescription();return new n({uid:this.uid,iBlockId:this.props.iBlockId,name:this.props.name,formattedTime:this.props.formattedTime,description:this.state.description,isLoaded:this.isLoaded,layout:this.props.layout})}}i.exports={DescriptionStepComponent:d}}));
//# sourceMappingURL=component.map.js