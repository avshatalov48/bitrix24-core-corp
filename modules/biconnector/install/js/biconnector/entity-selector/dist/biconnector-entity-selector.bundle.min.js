this.BX=this.BX||{};this.BX.BIConnector=this.BX.BIConnector||{};(function(t,e,a){"use strict";var n,r,o;var i=function(t){babelHelpers.inherits(e,t);function e(){babelHelpers.classCallCheck(this,e);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).apply(this,arguments))}babelHelpers.createClass(e,[{key:"getContent",value:function t(){var e=this;return this.cache.remember("tag-footer-content",(function(){var t=a.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="ui-selector-footer-link ui-selector-footer-link-add"  \n\t\t\t\t\tid="tags-widget-custom-footer-add-new" hidden>\n\t\t\t\t\t\t',"\n\t\t\t\t</a>\n\t\t\t"])),a.Loc.getMessage("BICONNECTOR_ENTITY_SELECTOR_TAG_FOOTER_CREATE"));a.Event.bind(t,"click",(function(){return e.createItem()}));var i=a.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="ui-selector-footer-link">\n\t\t\t\t\t',"\n\t\t\t\t</a>\n\t\t\t"])),a.Loc.getMessage("BICONNECTOR_ENTITY_SELECTOR_TAG_FOOTER_GET_TAG_SLIDER"));a.Event.bind(i,"click",(function(){var t=new a.Uri("/bitrix/components/bitrix/biconnector.apachesuperset.dashboard.tag.list/slider.php");top.BX.SidePanel.Instance.open(t.toString(),{width:970,allowChangeHistory:false,cacheable:false})}));return a.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="tags-widget-custom-footer">\n\t\t\t\t\t','\n\t\t\t\t\t<span class="ui-selector-footer-conjunction" \n\t\t\t\t\t\tid="tags-widget-custom-footer-conjunction" hidden>\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t</span>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"])),t,a.Loc.getMessage("BICONNECTOR_ENTITY_SELECTOR_TAG_FOOTER_OR"),i)}))}},{key:"createItem",value:function t(){var e=this;if(!this.canCreateTag()){return}var a=this.getDialog().getTagSelector();if(a&&a.isLocked()){return}var n=function t(){if(e.getDialog().getTagSelector()){e.getDialog().getTagSelector().unlock();e.getDialog().focusSearch()}};if(a){a.lock()}this.getDialog().emitAsync("Search:onItemCreateAsync",{searchQuery:this.getDialog().getSearchTab().getLastSearchQuery()}).then((function(){e.getDialog().getSearchTab().clearResults();e.getDialog().clearSearch();if(e.getDialog().getActiveTab()===e.getTab()){e.getDialog().selectFirstTab()}n()}))["catch"]((function(){n()}))}},{key:"canCreateTag",value:function t(){var e,a;return(e=(a=this.options)===null||a===void 0?void 0:a.canCreateTag)!==null&&e!==void 0?e:false}}]);return e}(e.DefaultFooter);t.TagFooter=i})(this.BX.BIConnector.EntitySelector=this.BX.BIConnector.EntitySelector||{},BX.UI.EntitySelector,BX);
//# sourceMappingURL=biconnector-entity-selector.bundle.map.js