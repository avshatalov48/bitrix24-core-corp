this.BX=this.BX||{},function(e,t,a,s){"use strict";function i(e,t){n(e,t),t.add(e)}function l(e,t,a){n(e,t),t.set(e,a)}function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var o=new WeakMap,c=new WeakMap,r=new WeakMap,E=new WeakMap,u=new WeakMap,b=new WeakSet,p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};babelHelpers.classCallCheck(this,e),i(this,b),l(this,o,{writable:!0,value:function(){}}),l(this,c,{writable:!0,value:function(){}}),l(this,r,{writable:!0,value:function(){}}),l(this,E,{writable:!0,value:function(){}}),l(this,u,{writable:!0,value:void 0}),babelHelpers.classPrivateFieldSet(this,u,t.message||s.Loc.getMessage("SUPERSET_CLEANER_DELETE_POPUP_TEXT_MSGVER_2")),babelHelpers.classPrivateFieldSet(this,o,t.onAccept||babelHelpers.classPrivateFieldGet(this,o)),babelHelpers.classPrivateFieldSet(this,c,t.onDecline||babelHelpers.classPrivateFieldGet(this,c)),babelHelpers.classPrivateFieldSet(this,r,t.onSuccess||babelHelpers.classPrivateFieldGet(this,r)),babelHelpers.classPrivateFieldSet(this,E,t.onError||babelHelpers.classPrivateFieldGet(this,E))}return babelHelpers.createClass(e,[{key:"show",value:function(){var e=this,i=new a.MessageBox({title:s.Loc.getMessage("SUPERSET_CLEANER_DELETE_POPUP_TITLE"),message:babelHelpers.classPrivateFieldGet(this,u),buttons:[new t.Button({color:t.Button.Color.PRIMARY,text:s.Loc.getMessage("SUPERSET_CLEANER_DELETE_POPUP_BUTTON_NO"),events:{click:function(){babelHelpers.classPrivateFieldGet(e,c).call(e),i.close()}}}),new t.Button({color:t.Button.Color.LIGHT_BORDER,text:s.Loc.getMessage("SUPERSET_CLEANER_DELETE_POPUP_BUTTON_YES"),events:{click:function(){babelHelpers.classPrivateFieldGet(e,o).call(e),function(e,t,a){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return a}(e,b,h).call(e),i.close()}}})],popupOptions:{autoHide:!0}});i.show()}}]),e}();function h(){var e=this;BX.ajax.runAction("biconnector.superset.clean").then((function(){BX.UI.Notification.Center.notify({content:s.Loc.getMessage("SUPERSET_CLEANER_DELETE_DONE")}),babelHelpers.classPrivateFieldGet(e,r).call(e)})).catch((function(t){BX.UI.Notification.Center.notify({content:s.Text.encode(t.errors[0].message)}),babelHelpers.classPrivateFieldGet(e,E).call(e)}))}function P(e,t,a){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,a)}var v=new WeakMap,f=function(){function e(){babelHelpers.classCallCheck(this,e),P(this,v,{writable:!0,value:void 0})}return babelHelpers.createClass(e,[{key:"handleButtonClick",value:function(e){babelHelpers.classPrivateFieldSet(this,v,new p({message:s.Loc.getMessage("SUPERSET_CLEANER_DELETE_POPUP_TARIFF_TEXT"),onSuccess:function(){window.top.location.reload()},onAccept:function(){e.addClass("ui-btn-wait")}})),babelHelpers.classPrivateFieldGet(this,v).show()}}]),e}();e.ApacheSupersetCleanPopup=p,e.ApacheSupersetTariffCleaner=f}(this.BX.BIConnector=this.BX.BIConnector||{},BX.UI,BX.UI.Dialogs,BX);
