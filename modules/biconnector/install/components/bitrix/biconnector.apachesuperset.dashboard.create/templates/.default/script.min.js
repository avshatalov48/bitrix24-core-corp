(function(e,t,a,s,r){"use strict";var i,n;function l(e,t){c(e,t);t.add(e)}function o(e,t,a){c(e,t);t.set(e,a)}function c(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function d(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var b=new WeakMap;var p=new WeakMap;var v=new WeakMap;var u=new WeakSet;var h=new WeakSet;var m=new WeakSet;var w=function(){function e(t){babelHelpers.classCallCheck(this,e);l(this,m);l(this,h);l(this,u);o(this,b,{writable:true,value:void 0});o(this,p,{writable:true,value:void 0});o(this,v,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,b,t);babelHelpers.classPrivateFieldSet(this,p,document.querySelector("#".concat(babelHelpers.classPrivateFieldGet(this,b).nodeId)));d(this,u,f).call(this)}babelHelpers.createClass(e,[{key:"onClickSave",value:function e(){var a=babelHelpers.classPrivateFieldGet(this,v).getValues();var i=document.querySelector("#dashboard-title-field");var n={scopes:babelHelpers.toConsumableArray(a.scopes),params:babelHelpers.toConsumableArray(a.params),title:i.value};var l=r.ButtonManager.createFromNode(document.querySelector("#dashboard-button-save"));l.setWaiting(true);t.ajax.runComponentAction(babelHelpers.classPrivateFieldGet(this,b).componentName,"save",{mode:"class",signedParameters:babelHelpers.classPrivateFieldGet(this,b).signedParameters,data:{data:n}}).then((function(e){s.ApacheSupersetAnalytics.sendAnalytics("new","report_new",{type:"custom",c_element:"new_button"});parent.BX.Event.EventEmitter.emit("BIConnector.CreateForm:onDashboardCreated",{dashboard:e.data.dashboard});BX.SidePanel.Instance.getTopSlider().close()}))["catch"]((function(e){BX.UI.Notification.Center.notify({content:e.errors[0].message});l.setWaiting(false)}))}}]);return e}();function f(){t.Dom.append(d(this,m,H).call(this),babelHelpers.classPrivateFieldGet(this,p));t.Dom.append(d(this,h,g).call(this),babelHelpers.classPrivateFieldGet(this,p));babelHelpers.classPrivateFieldSet(this,v,new a.DashboardParametersSelector({scopes:new Set,params:new Set,scopeParamsMap:babelHelpers.classPrivateFieldGet(this,b).scopeParamsMap}));t.Dom.append(babelHelpers.classPrivateFieldGet(this,v).getLayout(),babelHelpers.classPrivateFieldGet(this,p))}function g(){return t.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div>\n\t\t\t\t<div class="dashboard-params-title-container">\n\t\t\t\t\t<div class="dashboard-params-title">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-ctl ui-ctl-textbox ui-ctl-w100 dashboard-title-wrapper">\n\t\t\t\t\t<input type="text" class="ui-ctl-element" id="dashboard-title-field" value="','">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),t.Loc.getMessage("DASHBOARD_CREATE_NAME"),babelHelpers.classPrivateFieldGet(this,b).defaultValues.title)}function H(){return t.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="dashboard-create-top-block">\n\t\t\t\t<div class="dashboard-create-top-block-image"></div>\n\t\t\t\t<div class="dashboard-create-top-block-text">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),t.Loc.getMessage("DASHBOARD_CREATE_TOP_BLOCK"))}t.Reflection.namespace("BX.BIConnector").SupersetDashboardCreateManager=w})(this.window=this.window||{},BX,BX.BIConnector,BX.BIConnector,BX.UI);
//# sourceMappingURL=script.map.js