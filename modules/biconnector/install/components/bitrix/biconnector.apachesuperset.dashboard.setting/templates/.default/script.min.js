this.BX=this.BX||{};this.BX.BIConnector=this.BX.BIConnector||{};this.BX.BIConnector.ApacheSuperset=this.BX.BIConnector.ApacheSuperset||{};(function(e,t,n,i,a){"use strict";var r=BX.SidePanel;var l=function(e){babelHelpers.inherits(t,e);function t(e,n){var i,r;var l;babelHelpers.classCallCheck(this,t);l=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));l.initialize(e,n);l.analytic=(i=(r=n.config)===null||r===void 0?void 0:r.dashboardAnalyticInfo)!==null&&i!==void 0?i:{};a.EventEmitter.subscribeOnce("BX.UI.EntityEditor:onInit",(function(e){var t=e.getData(),n=babelHelpers.slicedToArray(t,1),i=n[0];i===null||i===void 0?void 0:i._toolPanel.disableSaveButton()}));a.EventEmitter.subscribeOnce("BX.UI.EntityEditor:onControlChange",(function(e){var t=e.getData(),n=babelHelpers.slicedToArray(t,1),i=n[0];i===null||i===void 0?void 0:i._toolPanel.enableSaveButton()}));a.EventEmitter.subscribeOnce("BX.UI.EntityEditor:onCancel",(function(e){var t=e.getData(),n=babelHelpers.slicedToArray(t,2),i=n[1];i.enableCloseConfirmation=false}));a.EventEmitter.subscribeOnce("BX.UI.EntityEditor:onSave",(function(e){var t=e.getData(),n=babelHelpers.slicedToArray(t,2),i=n[1];i.enableCloseConfirmation=false}));return l}babelHelpers.createClass(t,[{key:"onAfterSave",value:function e(){var t;var a;if(n.Type.isStringFilled(this.analytic.type)){a={type:this.analytic.type.toLowerCase(),p1:i.ApacheSupersetAnalytics.buildAppIdForAnalyticRequest(this.analytic.appId),p2:this.analytic.id,c_element:"grid_menu",status:"success"}}else{a={c_element:"grid_settings",status:"success"}}i.ApacheSupersetAnalytics.sendAnalytics("edit","report_settings",a);this===null||this===void 0?void 0:(t=this._editor)===null||t===void 0?void 0:t._modeSwitch.reset();window.location.reload()}},{key:"innerCancel",value:function e(){r.Instance.close()}}]);return t}(BX.UI.EntityEditorController);var s=function(){function e(t){var n=this;babelHelpers.classCallCheck(this,e);a.EventEmitter.subscribe(t+":onInitialize",(function(e){var t=e.getCompatData(),i=babelHelpers.slicedToArray(t,2),a=i[1];a.methods["dashboardSettings"]=n.factory.bind(n)}))}babelHelpers.createClass(e,[{key:"factory",value:function e(t,n,i){if(t==="settingComponentController"){return new l(n,i)}return null}}]);return e}();var o=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"registerFieldFactory",value:function e(n){new t.SettingsDateFilterFieldFactory(n)}},{key:"registerControllerFactory",value:function e(t){new s(t)}}]);return e}();e.Setting=o})(this.BX.BIConnector.ApacheSuperset.Dashboard=this.BX.BIConnector.ApacheSuperset.Dashboard||{},BX.BIConnector.EntityEditor.Field,BX,BX.BIConnector,BX.Event);
//# sourceMappingURL=script.map.js