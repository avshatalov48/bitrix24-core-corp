{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import { Tag, Reflection } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Popup } from 'main.popup';\nimport { Button } from 'ui.buttons';\n\ntype LimitPopupParams = {\n\ttitle: number,\n\tcontent: string,\n\tlicenseButtonText: string,\n\tlaterButtonText: string,\n\tlicenseUrl: string,\n\tfullLock: 'Y' | 'N',\n};\n\nclass LimitLockPopup\n{\n\t#title: string = '';\n\t#content: string = '';\n\t#licenseButtonText: string = '';\n\t#laterButtonText: string = '';\n\t#licenseUrl: string = '';\n\t#popupClassName: string = 'biconnector-limit-lock';\n\t#fullLock: boolean = false;\n\n\tconstructor(params: LimitPopupParams)\n\t{\n\t\tthis.#init(params);\n\t\tthis.#show();\n\t}\n\n\t#init(params: LimitPopupParams)\n\t{\n\t\tthis.#title = params.title || '';\n\t\tthis.#content = params.content || '';\n\t\tthis.#licenseButtonText = params.licenseButtonText || '';\n\t\tthis.#laterButtonText = params.laterButtonText || '';\n\t\tthis.#licenseUrl = params.licenseUrl;\n\t\tthis.#fullLock = params.fullLock === 'Y';\n\t}\n\n\t#show()\n\t{\n\t\tconst popupButtons = [\n\t\t\tnew Button({\n\t\t\t\ttext: this.#licenseButtonText,\n\t\t\t\tcolor: Button.Color.SUCCESS,\n\t\t\t\tonclick: () => {\n\t\t\t\t\ttop.location.href = this.#licenseUrl;\n\t\t\t\t},\n\t\t\t}),\n\t\t\tnew Button({\n\t\t\t\ttext: this.#laterButtonText,\n\t\t\t\tcolor: Button.Color.LINK,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tpopup.close();\n\t\t\t\t},\n\t\t\t}),\n\t\t];\n\n\t\tconst popupContent = Tag.render`\n\t\t\t<div class=\"biconnector-limit-popup-wrap\">\n\t\t\t\t<div class=\"biconnector-limit-popup\">\n\t\t\t\t\t<div class=\"biconnector-limit-pic\">\n\t\t\t\t\t\t<div class=\"biconnector-limit-pic-round\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"biconnector-limit-text\">${this.#content}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tconst popup = new Popup({\n\t\t\ttitleBar: this.#title,\n\t\t\tcontent: popupContent,\n\t\t\toverlay: true,\n\t\t\tclassName: this.#popupClassName,\n\t\t\tcloseIcon: true,\n\t\t\tlightShadow: true,\n\t\t\toffsetLeft: 100,\n\t\t\tbuttons: popupButtons,\n\t\t});\n\n\t\tif (this.#fullLock)\n\t\t{\n\t\t\tpopup.subscribe('onClose', () => {\n\t\t\t\tif (BX.SidePanel.Instance.isOpen())\n\t\t\t\t{\n\t\t\t\t\tBX.SidePanel.Instance.close();\n\t\t\t\t}\n\t\t\t\tEventEmitter.emit('BiConnector:LimitPopup.Lock.onClose');\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpopup.subscribe('onClose', () => {\n\t\t\t\tEventEmitter.emit('BiConnector:LimitPopup.Warning.onClose');\n\t\t\t});\n\t\t}\n\n\t\tpopup.show();\n\t}\n}\n\nReflection.namespace('BX.BIConnector').LimitLockPopup = LimitLockPopup;\n"],"names":["LimitLockPopup","params","title","content","licenseButtonText","laterButtonText","licenseUrl","fullLock","popupButtons","Button","text","color","Color","SUCCESS","onclick","top","location","href","LINK","popup","close","popupContent","Tag","render","Popup","titleBar","overlay","className","closeIcon","lightShadow","offsetLeft","buttons","subscribe","BX","SidePanel","Instance","isOpen","EventEmitter","emit","show","Reflection","namespace"],"mappings":";;;;;;;;;AAAA,CAGoC;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA,IAW9BA,cAAc,GAUnB,wBAAYC,OAAwB,EACpC;GAAA;GAAA;GAAA;GAAA;KAAA;KAAA,OATiB;;GAAE;KAAA;KAAA,OACA;;GAAE;KAAA;KAAA,OACQ;;GAAE;KAAA;KAAA,OACJ;;GAAE;KAAA;KAAA,OACP;;GAAE;KAAA;KAAA,OACE;;GAAwB;KAAA;KAAA,OAC7B;;GAIpB,2BAAI,sBAAJ,IAAI,EAAOA,OAAM;GACjB,2BAAI,sBAAJ,IAAI;CACL,CAAC;CAAA,gBAEKA,MAAwB,EAC9B;GACC,sCAAI,UAAUA,MAAM,CAACC,KAAK,IAAI,EAAE;GAChC,sCAAI,YAAYD,MAAM,CAACE,OAAO,IAAI,EAAE;GACpC,sCAAI,sBAAsBF,MAAM,CAACG,iBAAiB,IAAI,EAAE;GACxD,sCAAI,oBAAoBH,MAAM,CAACI,eAAe,IAAI,EAAE;GACpD,sCAAI,eAAeJ,MAAM,CAACK,UAAU;GACpC,sCAAI,aAAaL,MAAM,CAACM,QAAQ,KAAK,GAAG;CACzC;CAAC,kBAGD;GAAA;GACC,IAAMC,YAAY,GAAG,CACpB,IAAIC,iBAAM,CAAC;KACVC,IAAI,oCAAE,IAAI,qBAAmB;KAC7BC,KAAK,EAAEF,iBAAM,CAACG,KAAK,CAACC,OAAO;KAC3BC,OAAO,EAAE,mBAAM;OACdC,GAAG,CAACC,QAAQ,CAACC,IAAI,qCAAG,KAAI,cAAY;;IAErC,CAAC,EACF,IAAIR,iBAAM,CAAC;KACVC,IAAI,oCAAE,IAAI,mBAAiB;KAC3BC,KAAK,EAAEF,iBAAM,CAACG,KAAK,CAACM,IAAI;KACxBJ,OAAO,EAAE,mBAAM;OACdK,KAAK,CAACC,KAAK,EAAE;;IAEd,CAAC,CACF;GAED,IAAMC,YAAY,GAAGC,aAAG,CAACC,MAAM,2bAMU,IAAI,YAG5C;GAED,IAAMJ,KAAK,GAAG,IAAIK,gBAAK,CAAC;KACvBC,QAAQ,oCAAE,IAAI,SAAO;KACrBtB,OAAO,EAAEkB,YAAY;KACrBK,OAAO,EAAE,IAAI;KACbC,SAAS,oCAAE,IAAI,kBAAgB;KAC/BC,SAAS,EAAE,IAAI;KACfC,WAAW,EAAE,IAAI;KACjBC,UAAU,EAAE,GAAG;KACfC,OAAO,EAAEvB;IACT,CAAC;GAEF,sCAAI,IAAI,cACR;KACCW,KAAK,CAACa,SAAS,CAAC,SAAS,EAAE,YAAM;OAChC,IAAIC,EAAE,CAACC,SAAS,CAACC,QAAQ,CAACC,MAAM,EAAE,EAClC;SACCH,EAAE,CAACC,SAAS,CAACC,QAAQ,CAACf,KAAK,EAAE;;OAE9BiB,6BAAY,CAACC,IAAI,CAAC,qCAAqC,CAAC;MACxD,CAAC;IACF,MAED;KACCnB,KAAK,CAACa,SAAS,CAAC,SAAS,EAAE,YAAM;OAChCK,6BAAY,CAACC,IAAI,CAAC,wCAAwC,CAAC;MAC3D,CAAC;;GAGHnB,KAAK,CAACoB,IAAI,EAAE;CACb;AAGDC,qBAAU,CAACC,SAAS,CAAC,gBAAgB,CAAC,CAACzC,cAAc,GAAGA,cAAc;;;;"}