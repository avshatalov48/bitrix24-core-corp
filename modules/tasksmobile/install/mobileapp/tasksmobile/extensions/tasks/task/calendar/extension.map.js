{"version":3,"sources":["extension.js"],"names":["jn","define","require","exports","module","Type","Calendar","constructor","this","isSettingsLoading","isSettingsLoaded","workTime","start","hours","minutes","end","weekends","holidays","loadSettings","Promise","resolve","RequestExecutor","call","then","response","setSettings","result","settings","adaptSettings","setWorkTime","setWeekends","weekEnds","setHolidays","inputSettings","isPlainObject","adaptWorkTime","adaptWeekends","adaptHolidays","pad","num","toString","length","workHours","HOURS","workStart","START","workEnd","END","H","M","WEEKEND","dayMap","MO","TU","WE","TH","FR","SA","SU","reduce","day","push","k","HOLIDAYS","month","parseInt","D","isStringFilled","isArray","times","i","time","regex","matches","exec","startHours","startMinutes","endHours","endMinutes","isWorkTimeCorrect","holiday","isValidMonth","isNumber","isValidDay","calculateStartDate","endDate","duration","newDate","processEachDay","interval","Date","getTime","calculateEndDate","startDate","calculateDuration","getClosestWorkTime","date","isForward","callback","currentDate","isEndless","intervals","getWorkHours","intervalStart","intervalEnd","availableStart","availableEnd","setUTCHours","setUTCDate","getUTCDate","isWeekend","isHoliday","getWorkIntervals","year","getFullYear","getMonth","getDate","getWorkDayDuration","isWorkTime","getUTCDay","getUTCMonth","sort","a","b","prevTime","CalendarSettings"],"mappings":"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","file":"extension.map.js"}