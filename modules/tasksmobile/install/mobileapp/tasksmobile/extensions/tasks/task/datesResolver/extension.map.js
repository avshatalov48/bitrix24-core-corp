{"version":3,"sources":["extension.js"],"names":["jn","define","require","exports","module","CalendarSettings","EventEmitter","Type","DatesResolver","durationType","days","hours","minutes","constructor","data","this","calendar","id","guid","isMatchWorkTime","deadline","startDateStamp","startDatePlan","endDateStamp","endDatePlan","durationByType","durationInSeconds","isSolving","maxDuration","eventEmitter","createWithUid","setInitialDuration","setData","duration","startDate","Date","endDate","calculateDuration","setDurationFromSeconds","on","event","callback","updateDeadline","deadlineStamp","shouldSave","checkNoWorkDays","solveDeadline","updateStartDate","setSeconds","setStartDate","solveTriangle","updateEndDate","setEndDate","updateDuration","getDurationInSeconds","updateDurationType","result","weekends","dayNumbers","forEach","dayNumber","setDeadline","date","getTime","setIsMatchWorkTime","recalculateDuration","fixDeadline","isWorkTime","getClosestWorkTime","fixStartDate","fixEndDate","calculateStartDate","calculateEndDate","oldDeadline","newDeadline","emit","startDateChanged","endDateChanged","durationChanged","solveOnDurationChange","solveOnStartDateChange","solveOnEndDateChange","durationMs","isMaxDurationReached","defaultDuration","getMultiplier","defaultDurationMs","fixedStartDate","fixedEndDate","isNumber","getWorkDayDuration","workDayDuration","getDurationTypeByDuration","getDurationByType","i","Object","values","length","durationInDurationType","parseInt","value","Math","floor"],"mappings":"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","file":"extension.map.js"}