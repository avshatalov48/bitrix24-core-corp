this.BX=this.BX||{};this.BX.Imbot=this.BX.Imbot||{};(function(t,e,s,i,n,o,r,a,u,l,c){"use strict";var h=function(t){babelHelpers.inherits(e,t);function e(){babelHelpers.classCallCheck(this,e);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).apply(this,arguments))}babelHelpers.createClass(e,[{key:"getName",value:function t(){return"question"}},{key:"getState",value:function t(){return{history:[],searchResult:[]}}},{key:"getActions",value:function t(){var e=this;return{trimHistory:function t(e,s){e.commit("trimHistory",s)},setHistory:function t(s,i){s.commit("setHistory",e.validateQuestionList(i))},addHistory:function t(s,i){s.commit("addHistory",e.validateQuestionList(i))},setSearchResult:function t(s,i){s.commit("setSearchResult",e.validateQuestionList(i))},addSearchResult:function t(s,i){s.commit("addSearchResult",e.validateQuestionList(i))},setQuestionTitleById:function t(e,s){e.commit("setQuestionTitleById",s)}}}},{key:"getMutations",value:function t(){var s=this;return{trimHistory:function t(i,n){i.history=i.history.filter((function(t,e){return e<n}));babelHelpers.get(babelHelpers.getPrototypeOf(e.prototype),"saveState",s).call(s,i)},setHistory:function t(i,n){i.history=n;babelHelpers.get(babelHelpers.getPrototypeOf(e.prototype),"saveState",s).call(s,i)},addHistory:function t(i,n){i.history=i.history.concat(n);babelHelpers.get(babelHelpers.getPrototypeOf(e.prototype),"saveState",s).call(s,i)},setSearchResult:function t(i,n){i.searchResult=n;babelHelpers.get(babelHelpers.getPrototypeOf(e.prototype),"saveState",s).call(s,i)},addSearchResult:function t(i,n){i.searchResult=i.searchResult.concat(n);babelHelpers.get(babelHelpers.getPrototypeOf(e.prototype),"saveState",s).call(s,i)},setQuestionTitleById:function t(i,n){var o=i.history.find((function(t){return t.id===n.id}));o.title=n.title;babelHelpers.get(babelHelpers.getPrototypeOf(e.prototype),"saveState",s).call(s,i)}}}},{key:"validateQuestionList",value:function t(e){var s=this;if(!c.Type.isArrayFilled(e)){return[]}return e.filter((function(t){return s.isQuestion(t)}))}},{key:"isQuestion",value:function t(e){return Object.keys(e).length===2&&c.Type.isInteger(e.id)&&c.Type.isString(e.title)}}]);return e}(e.VuexBuilderModel);var p=function(t){babelHelpers.inherits(e,t);function e(){babelHelpers.classCallCheck(this,e);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).apply(this,arguments))}return e}(o.BaseEvent);var d={computed:{darkTheme:function t(){return BX.MessengerTheme.isDark()}},methods:{getClassWithTheme:function t(e){var s={};s[e]=true;s[e+"-dark"]=this.darkTheme;return s}}};var m=l.BitrixVue.localComponent("imbot-support24-question-component-question-list-search",{directives:{focus:{inserted:function t(e,s){e.focus()}}},mixins:[d],data:function t(){return{searchQuery:"",scheduleSearch:c.Runtime.debounce(this.search,500,this)}},computed:{inputClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-search-input")}},methods:{search:function t(){this.$emit("search",new p({data:{searchQuery:this.searchQuery}}))}},template:'\n\t\t<div class="bx-imbot-support24-question-list-search">\n\t\t\t<div class="ui-ctl ui-ctl-textbox ui-ctl-block ui-ctl-w100 ui-ctl-sm bx-imbot-support24-question-list-search-hover">\n\t\t\t\t<input\n\t\t\t\t\tclass="ui-ctl-element"\n\t\t\t\t\t:class="inputClass"\n\t\t\t\t\ttype="text"\n\t\t\t\t\tv-model="searchQuery"\n\t\t\t\t\tv-focus\n\t\t\t\t\t@input="scheduleSearch()"\n\t\t\t\t\t:placeholder="$Bitrix.Loc.getMessage(\'IMBOT_SUPPORT24_QUESTION_LIST_SEARCH\')"\n\t\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\t'});var b=Object.freeze({Type:{SECONDARY:"secondary",PRIMARY:"primary"}});var f=l.BitrixVue.localComponent("imbot-support24-question-component-question-list-button-ask",{mixins:[d],props:{type:{type:String,default:b.Type.SECONDARY}},data:function t(){return{lastQuestionTime:null}},computed:{ButtonAskProps:function t(){return b},buttonClass:function t(){var t=this.getClassWithTheme("bx-imbot-support24-question-list-button-ask-"+this.type);if(this.type===b.Type.PRIMARY){var e=this.darkTheme?"ui-btn-primary-dark":"ui-btn-primary";t[e]=true}return t}},methods:{askQuestion:function t(){var e=5e3;if(this.lastQuestionTime&&Date.now()-this.lastQuestionTime<e){return}this.lastQuestionTime=Date.now();this.$emit("askQuestion")}},template:'\n\t\t<div class="bx-imbot-support24-question-list-button-ask">\n\t\t\t<div\n\t\t\t\tv-if="type === ButtonAskProps.Type.SECONDARY"\n\t\t\t\t:class="buttonClass"\n\t\t\t\t@click="askQuestion"\n\t\t\t>\n\t\t\t\t{{ $Bitrix.Loc.getMessage(\'IMBOT_SUPPORT24_QUESTION_BUTTON_ASK_NEW_TITLE\') }}\n\t\t\t</div>\n\n\t\t\t<button\n\t\t\t\tv-if="type === ButtonAskProps.Type.PRIMARY"\n\t\t\t\t:class="buttonClass"\n\t\t\t\t@click="askQuestion"\n\t\t\t\tclass="ui-btn ui-btn-sm ui-btn-round ui-btn-no-caps"\n\t\t\t>\n\t\t\t\t{{ $Bitrix.Loc.getMessage(\'IMBOT_SUPPORT24_QUESTION_BUTTON_ASK_TITLE\') }}\n\t\t\t</button>\n\t\t</div>\n\t'});var v=Object.freeze({DEFAULT:"default",EDIT:"edit"});var g=l.BitrixVue.localComponent("imbot-support24-question-component-question-list-question",{directives:{focus:{inserted:function t(e,s){e.focus()}}},mixins:[d],props:{id:Number,title:String},data:function t(){return{state:v.DEFAULT,newTitle:this.title}},computed:{QuestionState:function t(){return v},questionClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-question")},titleClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-question-title")},inputClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-question-input")}},methods:{callMethod:function t(e,s){return this.$Bitrix.RestClient.get().callMethod(e,s)},click:function t(){if(this.state===v.EDIT){return}this.$emit("click",this.id)},edit:function t(e){e.stopPropagation();this.state=v.EDIT},rename:function t(){var e=this;if(this.title===this.newTitle||this.newTitle.trim()===""){this.state=v.DEFAULT;return}var s=this.title;this.setTitleById(this.id,this.newTitle).then((function(){e.setRecentListTitleById(e.id,e.newTitle);e.state=v.DEFAULT}));this.callMethod("im.chat.updateTitle",{CHAT_ID:this.id,TITLE:this.newTitle})["catch"]((function(){e.setRecentListTitleById(e.id,s);e.setTitleById(e.id,s)}))},setTitleById:function t(e,s){return this.$store.dispatch("question/setQuestionTitleById",{id:e,title:s})},setRecentListTitleById:function t(e,s){if(BXIM&&BXIM.messenger&&BXIM.messenger.chat&&BXIM.messenger.chat[e]){BXIM.messenger.chat[e].name=c.Text.encode(s);BX.MessengerCommon.recentListRedraw()}},inputClick:function t(e){e.stopPropagation()}},template:'\n\t\t<div :class="questionClass" @click="click">\n\t\t\t<template v-if="state === QuestionState.DEFAULT">\n\t\t\t\t<div \n\t\t\t\t\tclass="\n\t\t\t\t\t\tbx-imbot-support24-question-list-question-icon\n\t\t\t\t\t\tbx-imbot-support24-question-list-question-icon-chat\n\t\t\t\t\t"/>\n\n\t\t\t\t<div :class="titleClass">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tclass="\n\t\t\t\t\t\tbx-imbot-support24-question-list-question-icon\n\t\t\t\t\t\tbx-imbot-support24-question-list-question-icon-edit\n\t\t\t\t\t"\n\t\t\t\t\t@click="edit"\n\t\t\t\t/>\n\t\t\t</template>\n\n\t\t\t<template v-else-if="state === QuestionState.EDIT">\n\t\t\t\t<div \n\t\t\t\t\tclass="ui-ctl ui-ctl-textbox ui-ctl-block ui-ctl-w100 ui-ctl-sm"\n\t\t\t\t\t:class="inputClass"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass="ui-ctl-element"\n\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t:class="inputClass"\n\t\t\t\t\t\tv-model="newTitle"\n\t\t\t\t\t\tv-focus\n\t\t\t\t\t\t@keydown.enter="rename"\n\t\t\t\t\t\t@blur="rename"\n\t\t\t\t\t\t@click="inputClick"\n\t\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t'});function y(t,e,s){T(t,e);e.set(t,s)}function T(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var C=new WeakMap;var P=new WeakMap;var x=new WeakMap;var S=function(){function t(e){babelHelpers.classCallCheck(this,t);y(this,C,{writable:true,value:void 0});y(this,P,{writable:true,value:void 0});y(this,x,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,C,Boolean(e.isAdmin));babelHelpers.classPrivateFieldSet(this,P,Boolean(e.canAskQuestion));babelHelpers.classPrivateFieldSet(this,x,Boolean(e.canImproveTariff))}babelHelpers.createClass(t,[{key:"isAdmin",get:function t(){return babelHelpers.classPrivateFieldGet(this,C)}},{key:"canAskQuestion",get:function t(){return babelHelpers.classPrivateFieldGet(this,P)}},{key:"canImproveTariff",get:function t(){return babelHelpers.classPrivateFieldGet(this,x)}}]);return t}();function q(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function I(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?q(Object(s),!0).forEach((function(e){babelHelpers.defineProperty(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):q(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var k=Object.freeze({DEFAULT:"default",SEARCH:"search"});var B=l.BitrixVue.localComponent("imbot-support24-question-component-question-list",{components:{Search:m,ButtonAsk:f,Question:g},directives:{"bx-imbot-directive-question-list-observer":{inserted:function t(e,s,i){i.context.loaderObserver=i.context.getLoaderObserver();i.context.loaderObserver.observe(e);return true},unbind:function t(e,s,i){if(i.context.loaderObserver){i.context.loaderObserver.unobserve(e)}return true}}},mixins:[d],data:function t(){return{state:k.DEFAULT,permissions:null,itemsPerPage:50,historyPageNumber:0,searchResultPageNumber:0,hasHistoryToLoad:false,hasSearchResultToLoad:false,searchQuery:"",searchRequestCount:0}},computed:{QuestionListState:function t(){return k},ButtonAskProps:function t(){return b},items:function t(){var e=this;if(this.state===k.DEFAULT){return this.$store.state.question.history}if(this.isSearchFromCache){return this.$store.state.question.history.filter((function(t){return t.title.toLowerCase().includes(e.searchQuery)}))}return this.$store.state.question.searchResult},isEmpty:function t(){return this.items.length===0},isSearchFromCache:function t(){return this.state===k.SEARCH&&this.searchQuery!==""&&this.searchQuery.length<3},isLoadingInProgress:function t(){return this.searchRequestCount>0},historyNavigationParams:function t(){return{limit:this.itemsPerPage,offset:this.itemsPerPage*this.historyPageNumber}},searchNavigationParams:function t(){return{limit:this.itemsPerPage,offset:this.itemsPerPage*this.searchResultPageNumber}},showTariffLock:function t(){return this.permissions&&(!this.permissions.isAdmin||!this.permissions.canAskQuestion)},showLoader:function t(){if(this.state===k.DEFAULT){return this.hasHistoryToLoad}if(this.isSearchFromCache){return false}return this.hasSearchResultToLoad},searchFieldBorderClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-search-field-border")},listItemsClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-items")},emptyTitleClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-empty-title")},emptyDescriptionClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-empty-description")},placeholderTextClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-placeholder-text")},notFoundIconClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-not-found-icon")},questionListLoaderClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-items-loader-svg-circle")},questionListSearchLoaderClass:function t(){return this.getClassWithTheme("bx-imbot-support24-question-list-items-search-loader-svg-circle")}},created:function t(){var e=this;this.$store.dispatch("question/trimHistory",this.itemsPerPage).then((function(){var t={config:{method:"imbot.support24.question.config.get"},questions:{method:"imbot.support24.question.list",params:e.historyNavigationParams}};var s=function t(s){e.permissions=new S(s.config.data());e.afterHistoryPageLoaded(s.questions)};e.getRestClient().callBatch(t,s)}))},methods:{getRestClient:function t(){return this.$Bitrix.RestClient.get()},searchQuestions:function t(e){var s=this;this.searchQuery=e.getData().searchQuery.toLowerCase();var i=this.searchQuery.trim();if(i===""){this.state=k.DEFAULT;return}this.state=k.SEARCH;if(i.length<3){return}this.searchRequestCount++;var n={searchQuery:this.searchQuery,limit:this.itemsPerPage};this.getRestClient().callMethod("imbot.support24.question.search",n).then((function(t){var e=t.data();if(s.searchRequestCount===1){s.$store.dispatch("question/setSearchResult",e).then((function(){s.searchResultPageNumber=1;s.hasSearchResultToLoad=e.length>=s.itemsPerPage;s.searchRequestCount--}))}else{s.searchRequestCount--}}))["catch"]((function(){s.searchRequestCount--}))},loadNextPage:function t(){if(this.state===k.DEFAULT){this.loadNextHistoryPage();return}this.loadNextSearchPage()},loadNextHistoryPage:function t(){var e=this;this.getRestClient().callMethod("imbot.support24.question.list",this.historyNavigationParams).then((function(t){return e.afterHistoryPageLoaded(t)}))},loadNextSearchPage:function t(){var e=this;if(this.searchQuery===""){return}var s=I({searchQuery:this.searchQuery},this.searchNavigationParams);this.getRestClient().callMethod("imbot.support24.question.search",s).then((function(t){return e.afterSearchPageLoaded(t)}))},afterHistoryPageLoaded:function t(e){var s=this;var i=e.data();this.hasHistoryToLoad=i.length>=this.itemsPerPage;var n=this.historyPageNumber===0?"question/setHistory":"question/addHistory";this.$store.dispatch(n,i).then((function(){s.historyPageNumber++}))},afterSearchPageLoaded:function t(e){var s=this;var i=e.data();this.hasSearchResultToLoad=i.length>=this.itemsPerPage;var n=this.searchResultPageNumber===0?"question/setSearchResult":"question/addSearchResult";this.$store.dispatch(n,i).then((function(){s.searchResultPageNumber++}))},onAskQuestion:function t(){if(!this.permissions){this.addQuestion();return}if(!this.permissions.isAdmin){this.sendRestrictionNotification();return}if(!this.permissions.canAskQuestion&&this.permissions.canImproveTariff){this.openTariffSlider();return}this.addQuestion()},addQuestion:function t(){var e=this;this.getRestClient().callMethod("imbot.support24.question.add").then((function(t){var s=t.data();e.openDialog(s)}))["catch"]((function(t){if(!t.answer||!t.answer.error){console.error(t)}var s=t.answer.error;switch(s){case"ACCESS_DENIED":e.sendRestrictionNotification();break;case"QUESTION_LIMIT_EXCEEDED":e.openTariffSlider();break}}))},sendRestrictionNotification:function t(){s.UI.Notification.Center.notify({id:"imbot_support24_question_list_restriction_not_admin",content:this.$Bitrix.Loc.getMessage("IMBOT_SUPPORT24_QUESTION_LIST_RESTRICTION_NOT_ADMIN"),autoHideDelay:5e3})},openTariffSlider:function t(){BX.UI.InfoHelper.show("limit_admin_multidialogues")},openDialog:function t(e){var s=this.$Bitrix.Data.get("popupContext");if(s){s.closePopup()}BXIM.openMessenger("chat"+e)},getLoaderObserver:function t(){var e=this;var s={root:document.querySelector(".bx-imbot-support24-question-list-items"),threshold:.01};var i=function t(s,i){s.forEach((function(t){if(t.isIntersecting&&t.intersectionRatio>.01){e.loadNextPage()}}))};return new IntersectionObserver(i,s)}},template:'\n\t\t<div class="bx-imbot-support24-question-list">\n\t\t\t<template v-if="isLoadingInProgress">\n\t\t\t\t<div class="bx-imbot-support24-question-list-search-field">\n\t\t\t\t\t<div class="bx-imbot-support24-question-list-search-container">\n\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t@search="searchQuestions"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="bx-imbot-support24-question-list-ask-container">\n\t\t\t\t\t\t<ButtonAsk\n\t\t\t\t\t\t\t:type="ButtonAskProps.Type.SECONDARY"\n\t\t\t\t\t\t\t@askQuestion="onAskQuestion"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="bx-imbot-support24-question-list-placeholder">\n\t\t\t\t\t<div class="bx-imbot-support24-question-list-loading-icon">\n\t\t\t\t\t\t<div class="main-ui-loader main-ui-show" style="width: 45px; height: 45px;" data-is-shown="true">\n\t\t\t\t\t\t\t<svg class="main-ui-loader-svg" viewBox="25 25 50 50">\n\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\tclass="main-ui-loader-svg-circle"\n\t\t\t\t\t\t\t\t\t:class="questionListSearchLoaderClass"\n\t\t\t\t\t\t\t\t\tcx="50"\n\t\t\t\t\t\t\t\t\tcy="50"\n\t\t\t\t\t\t\t\t\tr="20"\n\t\t\t\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\t\t\t\tstroke-miterlimit="10"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div :class="placeholderTextClass">\n\t\t\t\t\t\t{{ $Bitrix.Loc.getMessage(\'IMBOT_SUPPORT24_QUESTION_LIST_SEARCHING\') }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template v-else-if="isEmpty && state === QuestionListState.SEARCH">\n\t\t\t\t<div class="bx-imbot-support24-question-list-search-field">\n\t\t\t\t\t<div class="bx-imbot-support24-question-list-search-container">\n\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t@search="searchQuestions"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="bx-imbot-support24-question-list-ask-container">\n\t\t\t\t\t\t<ButtonAsk\n\t\t\t\t\t\t\t:type="ButtonAskProps.Type.SECONDARY"\n\t\t\t\t\t\t\t@askQuestion="onAskQuestion"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="bx-imbot-support24-question-list-placeholder">\n\t\t\t\t\t<div :class="notFoundIconClass">:(</div>\n\t\t\t\t\t<div :class="placeholderTextClass">\n\t\t\t\t\t\t{{ $Bitrix.Loc.getMessage(\'IMBOT_SUPPORT24_QUESTION_LIST_SEARCH_NOT_FOUND\') }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template v-else-if="!isEmpty">\n\t\t\t\t<div \n\t\t\t\t\tclass="bx-imbot-support24-question-list-search-field"\n\t\t\t\t\t:class="searchFieldBorderClass"\n\t\t\t\t>\n\t\t\t\t\t<div class="bx-imbot-support24-question-list-search-container">\n\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t@search="searchQuestions"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="bx-imbot-support24-question-list-ask-container">\n\t\t\t\t\t\t<ButtonAsk\n\t\t\t\t\t\t\t:type="ButtonAskProps.Type.SECONDARY"\n\t\t\t\t\t\t\t@askQuestion="onAskQuestion"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div :class="listItemsClass">\n\t\t\t\t\t<Question\n\t\t\t\t\t\tv-for="item of items"\n\t\t\t\t\t\t:key="item.id"\n\t\t\t\t\t\t:id="item.id"\n\t\t\t\t\t\t:title="item.title"\n\t\t\t\t\t\t@click="openDialog"\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t<div \n\t\t\t\t\t\tclass="bx-imbot-support24-question-list-items-loader"\n\t\t\t\t\t\tv-if="showLoader" \n\t\t\t\t\t\t:key="\'question-list-items-loader\'" \n\t\t\t\t\t\tv-bx-imbot-directive-question-list-observer\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="main-ui-loader main-ui-show" style="width: 23px; height: 23px;" data-is-shown="true">\n\t\t\t\t\t\t\t<svg class="main-ui-loader-svg" viewBox="25 25 50 50">\n\t\t\t\t\t\t\t\t<circle \n\t\t\t\t\t\t\t\t\tclass="main-ui-loader-svg-circle"\n\t\t\t\t\t\t\t\t\t:class="questionListLoaderClass"\n\t\t\t\t\t\t\t\t\tcx="50"\n\t\t\t\t\t\t\t\t\tcy="50"\n\t\t\t\t\t\t\t\t\tr="20"\n\t\t\t\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\t\t\t\tstroke-miterlimit="10"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t\n\t\t\t<div\n\t\t\t\tclass="bx-imbot-support24-question-list-empty"\n\t\t\t\tv-else-if="isEmpty && state === QuestionListState.DEFAULT"\n\t\t\t>\n\t\t\t\t<div :class="emptyTitleClass">\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage(\'IMBOT_SUPPORT24_QUESTION_LIST_EMPTY_TITLE\') }}\n\t\t\t\t</div>\n\t\t\t\t<div :class="emptyDescriptionClass">\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage(\'IMBOT_SUPPORT24_QUESTION_LIST_EMPTY_DESCRIPTION\') }}\n\t\t\t\t</div>\n\t\t\t\t<div class="bx-imbot-support24-question-list-button-ask-container">\n\t\t\t\t\t<ButtonAsk\n\t\t\t\t\t\t:type="ButtonAskProps.Type.PRIMARY"\n\t\t\t\t\t\t@askQuestion="onAskQuestion"\n\t\t\t\t\t/>\n\t\t\t\t\t<span \n\t\t\t\t\t\tclass="bx-imbot-support24-question-list-tariff-lock"\n\t\t\t\t\t\tv-if="showTariffLock"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'});function R(t,e,s){L(t,e);e.set(t,s)}function L(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var Q=new WeakMap;var O=function(){function t(e){var s=this;babelHelpers.classCallCheck(this,t);R(this,Q,{writable:true,value:void 0});this.rootNode=document.getElementById(e.nodeId);this.popupContext=e.popupContext?e.popupContext:null;this.createStorage().then((function(t){var e=t.store;s.createApplication(e)}))}babelHelpers.createClass(t,[{key:"createStorage",value:function t(){var s=h.create().useDatabase(true);var i={name:"imbot-support24-question",type:e.VuexBuilder.DatabaseType.indexedDb,siteId:c.Loc.getMessage("SITE_ID"),userId:c.Loc.getMessage("USER_ID")};return(new e.VuexBuilder).addModel(s).setDatabaseConfig(i).build()}},{key:"createApplication",value:function t(e){c.Dom.clean(this.rootNode);c.Dom.append(c.Dom.create("div"),this.rootNode);var s=this;var i=this.popupContext;babelHelpers.classPrivateFieldSet(this,Q,l.BitrixVue.createApp({store:e,components:{QuestionList:B},beforeCreate:function t(){this.$bitrix.Application.set(s);this.$bitrix.Data.set("popupContext",i)},template:"\n\t\t\t\t<QuestionList/>\n\t\t\t"}).mount(this.rootNode.firstChild))}}]);return t}();t.Question=O})(this.BX.Imbot.Support24=this.BX.Imbot.Support24||{},BX,BX,BX,BX,BX.Event,BX,BX.UI,BX,BX,BX);
//# sourceMappingURL=question.bundle.map.js