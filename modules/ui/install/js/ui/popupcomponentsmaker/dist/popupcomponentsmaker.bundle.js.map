{"version":3,"file":"popupcomponentsmaker.bundle.js","sources":["../src/popup.item.js","../src/popup.js"],"sourcesContent":["import { EventEmitter } from 'main.core.events';\nimport { Type, Tag, Dom } from 'main.core';\nimport { Loader } from 'main.loader';\n\nexport default class PopupComponentsMakerItem extends EventEmitter\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper();\n\n\t\tthis.html = Type.isDomNode(options?.html) ? options.html : null;\n\t\tthis.awaitContent = Type.isBoolean(options?.awaitContent) ? options?.awaitContent : null;\n\t\tthis.flex = Type.isNumber(options?.flex) ? options.flex : null;\n\t\tthis.withoutBackground = Type.isBoolean(options?.withoutBackground) ? options.withoutBackground : null;\n\t\tthis.backgroundColor = Type.isString(options?.backgroundColor) ? options.backgroundColor : null;\n\t\tthis.backgroundImage = Type.isString(options?.backgroundImage) ? options.backgroundImage : null;\n\t\tthis.marginBottom = Type.isNumber(options?.marginBottom) ? options.marginBottom : null;\n\t\tthis.disabled = Type.isBoolean(options?.disabled) ? options.disabled : null;\n\t\tthis.overflow = Type.isBoolean(options?.overflow) ? options.overflow : null;\n\t\tthis.displayBlock = Type.isBoolean(options?.displayBlock) ? options.displayBlock : null;\n\t\tthis.attrs = Type.isPlainObject(options?.attrs) ? options.attrs : null;\n\n\t\tthis.layout = {\n\t\t\tcontainer: null\n\t\t};\n\n\t\tif (this.awaitContent)\n\t\t{\n\t\t\tthis.await();\n\t\t}\n\t}\n\n\tgetLoader(): Loader\n\t{\n\t\tif (!this.loader)\n\t\t{\n\t\t\tthis.loader = new Loader({\n\t\t\t\ttarget: this.getContainer(),\n\t\t\t\tsize: 45\n\t\t\t});\n\t\t}\n\n\t\treturn this.loader;\n\t}\n\n\tawait()\n\t{\n\t\tthis.getContainer().classList.add('--awaiting');\n\t\tthis.showLoader();\n\t}\n\n\tstopAwait()\n\t{\n\t\tthis.getContainer().classList.remove('--awaiting');\n\t\tthis.hideLoader();\n\t}\n\n\tshowLoader(): void\n\t{\n\t\tvoid this.getLoader().show();\n\t}\n\n\thideLoader(): void\n\t{\n\t\tvoid this.getLoader().hide();\n\t}\n\n\tgetContent()\n\t{\n\t\tif (this.html)\n\t\t{\n\t\t\treturn this.html;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\tupdateContent(node: HTMLElement)\n\t{\n\t\tif (Type.isDomNode(node))\n\t\t{\n\t\t\tDom.clean(this.getContainer());\n\t\t\tthis.getContainer().appendChild(node);\n\t\t}\n\t}\n\n\tsetBackgroundColor(color: string)\n\t{\n\t\tif (Type.isString(color))\n\t\t{\n\t\t\tthis.getContainer().style.backgroundColor = color;\n\t\t}\n\t}\n\n\tgetMarginBottom()\n\t{\n\t\treturn this.marginBottom;\n\t}\n\n\tgetContainer(): HTMLElement\n\t{\n\t\tif (!this.layout.container)\n\t\t{\n\t\t\tthis.layout.container = Tag.render`\n\t\t\t\t<div class=\"ui-popupcomponentmaker__content--section-item\">${this.getContent()}</div>\n\t\t\t`;\n\n\t\t\tif (this.backgroundColor)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.backgroundColor = this.backgroundColor;\n\t\t\t}\n\t\t\tif (this.backgroundImage)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.backgroundImage = this.backgroundImage;\n\t\t\t}\n\n\t\t\tif (this.withoutBackground && !this.backgroundColor)\n\t\t\t{\n\t\t\t\tthis.layout.container.classList.add('--transparent');\n\t\t\t}\n\n\t\t\tif (this.flex)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.flex = this.flex;\n\t\t\t}\n\n\t\t\tif (this.disabled)\n\t\t\t{\n\t\t\t\tthis.layout.container.classList.add('--disabled');\n\t\t\t}\n\n\t\t\tif (this.overflow)\n\t\t\t{\n\t\t\t\tthis.layout.container.classList.add('--overflow-hidden');\n\t\t\t}\n\n\t\t\tif (this.displayBlock)\n\t\t\t{\n\t\t\t\tthis.layout.container.classList.add('--block');\n\t\t\t}\n\n\t\t\tif (this.attrs)\n\t\t\t{\n\t\t\t\tDom.adjust(this.layout.container, {attrs: this.attrs});\n\t\t\t}\n\t\t}\n\n\t\treturn this.layout.container;\n\t}\n}\n","import {Type, Tag, Dom} from 'main.core';\nimport {Popup} from 'main.popup';\n\nimport PopupComponentsMakerItem from './popup.item';\n\nimport 'ui.fonts.opensans';\nimport 'ui.design-tokens';\nimport './style.css';\n\nclass PopupComponentsMaker\n{\n\tconstructor({ id, target, content, width, cacheable })\n\t{\n\t\tthis.id = Type.isString(id) ? id : null;\n\t\tthis.target = Type.isElementNode(target) ? target : null;\n\t\tthis.content = content || null;\n\t\tthis.contentWrapper = null;\n\t\tthis.popup = null;\n\t\tthis.loader = null;\n\t\tthis.items = [];\n\t\tthis.width = Type.isNumber(width) ? width : null;\n\t\tthis.cacheable = Type.isBoolean(cacheable) ? cacheable : true;\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.items;\n\t}\n\n\tgetItem(item): PopupComponentsMakerItem\n\t{\n\t\tif (item instanceof PopupComponentsMakerItem)\n\t\t{\n\t\t\treturn item;\n\t\t}\n\n\t\titem = new PopupComponentsMakerItem(item);\n\n\t\tif (this.items.indexOf(item) === -1)\n\t\t{\n\t\t\tthis.items.push(item);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tgetPopup(): Popup\n\t{\n\t\tif (!this.popup)\n\t\t{\n\t\t\tconst popupWidth = this.width ? this.width : 350;\n\n\t\t\tconst popupId = this.id ? this.id + '-popup' : null;\n\n\t\t\tthis.popup = new Popup(popupId, this.target, {\n\t\t\t\tclassName: 'ui-popupcomponentmaker',\n\n\t\t\t\tcontentBackground: 'transparent',\n\t\t\t\tangle: {\n\t\t\t\t\toffset: (popupWidth / 2) - 16\n\t\t\t\t},\n\t\t\t\twidth: popupWidth,\n\t\t\t\toffsetLeft: -(popupWidth / 2) + (this.target ? this.target.offsetWidth / 2 : 0) + 40,\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tpadding: 13,\n\t\t\t\tanimation: 'fading-slide',\n\t\t\t\tcontent: this.getContentWrapper(),\n\t\t\t\tcacheable: this.cacheable\n\t\t\t});\n\n\t\t\tthis.popup.getContentContainer().style.overflowX = null;\n\t\t}\n\n\t\treturn this.popup;\n\t}\n\n\tisShown()\n\t{\n\t\treturn this.getPopup().isShown();\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetContentWrapper(): HTMLElement\n\t{\n\t\tif (!this.contentWrapper)\n\t\t{\n\t\t\tthis.contentWrapper = Tag.render`\n\t\t\t\t<div class=\"ui-popupcomponentmaker__content\"></div>\n\t\t\t`;\n\n\t\t\tif (!this.content)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.content.map((item)=> {\n\t\t\t\tlet sectionNode = this.getSection()\n\n\t\t\t\tif (item?.marginBottom)\n\t\t\t\t{\n\t\t\t\t\tType.isNumber(item.marginBottom)\n\t\t\t\t\t\t? sectionNode.style.marginBottom = item.marginBottom + 'px'\n\t\t\t\t\t\t: null;\n\t\t\t\t}\n\t\t\t\tif (item?.className)\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(sectionNode, item.className);\n\t\t\t\t}\n\n\t\t\t\tif (item?.attrs)\n\t\t\t\t{\n\t\t\t\t\tDom.adjust(sectionNode, {attrs: item.attrs});\n\t\t\t\t}\n\n\t\t\t\tif (Type.isDomNode(item?.html))\n\t\t\t\t{\n\t\t\t\t\tsectionNode.appendChild(this.getItem(item).getContainer());\n\t\t\t\t\tthis.contentWrapper.appendChild(sectionNode);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isArray(item?.html))\n\t\t\t\t{\n\t\t\t\t\tlet innerSection = Tag.render`\n\t\t\t\t\t\t<div class=\"ui-popupcomponentmaker__content--section-item --flex-column --transparent\"></div>\n\t\t\t\t\t`;\n\n\t\t\t\t\titem.html.map((itemObj)=> {\n\n\t\t\t\t\t\tif (itemObj?.html?.then)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.adjustPromise(itemObj, sectionNode);\n\t\t\t\t\t\t\tType.isNumber(itemObj?.marginBottom)\n\t\t\t\t\t\t\t\t? sectionNode.style.marginBottom = itemObj.marginBottom + 'px'\n\t\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isArray(itemObj?.html))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titemObj.html.map((itemInner)=> {\n\t\t\t\t\t\t\t\t\tinnerSection.appendChild(this.getItem(itemInner).getContainer());\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsectionNode.appendChild(innerSection);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsectionNode.appendChild(this.getItem(itemObj).getContainer());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.contentWrapper.appendChild(sectionNode);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isFunction(item?.html?.then))\n\t\t\t\t{\n\t\t\t\t\tthis.adjustPromise(item, sectionNode);\n\t\t\t\t\tthis.contentWrapper.appendChild(sectionNode);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this.contentWrapper;\n\t}\n\n\tadjustPromise(item: Object, sectionNode: HTMLElement)\n\t{\n\t\titem.awaitContent = true;\n\t\tlet itemObj = this.getItem(item);\n\n\t\tif (sectionNode)\n\t\t{\n\t\t\tsectionNode.appendChild(itemObj.getContainer());\n\t\t\titem?.html?.then((node) => {\n\t\t\t\tif (Type.isDomNode(node))\n\t\t\t\t{\n\t\t\t\t\titemObj.stopAwait();\n\t\t\t\t\titemObj.updateContent(node);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetSection(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-popupcomponentmaker__content--section\"></div>\n\t\t`;\n\t}\n\n\tshow()\n\t{\n\t\tif (!Type.isDomNode(this.target))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.getPopup().show();\n\t}\n\n\tclose()\n\t{\n\t\tthis.getPopup().close();\n\t}\n}\n\nexport {\n\tPopupComponentsMakerItem,\n\tPopupComponentsMaker\n};"],"names":["PopupComponentsMakerItem","options","html","Type","isDomNode","awaitContent","isBoolean","flex","isNumber","withoutBackground","backgroundColor","isString","backgroundImage","marginBottom","disabled","overflow","displayBlock","attrs","isPlainObject","layout","container","loader","Loader","target","getContainer","size","classList","add","showLoader","remove","hideLoader","getLoader","show","hide","node","Dom","clean","appendChild","color","style","Tag","render","getContent","adjust","EventEmitter","PopupComponentsMaker","id","content","width","cacheable","isElementNode","contentWrapper","popup","items","item","indexOf","push","popupWidth","popupId","Popup","className","contentBackground","angle","offset","offsetLeft","offsetWidth","autoHide","closeByEsc","padding","animation","getContentWrapper","getContentContainer","overflowX","getPopup","isShown","map","sectionNode","getSection","addClass","getItem","isArray","innerSection","itemObj","then","adjustPromise","itemInner","isFunction","stopAwait","updateContent","close"],"mappings":"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"}