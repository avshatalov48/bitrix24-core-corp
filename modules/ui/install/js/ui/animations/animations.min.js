(function(){var e=window.BX;e.namespace("BX.UI");if(!!e.UI.Animations){return}e.UI.Animations={expand:function(t){if(!e(t.moreButtonNode)){return}var n=e.Type.isStringFilled(t.classBlock)?t.classBlock:"feed-post-text-block";var i=e.Type.isStringFilled(t.classOuter)?t.classOuter:"feed-post-text-block-inner";var a=e.Type.isStringFilled(t.classInner)?t.classInner:"feed-post-text-block-inner-inner";var r=!e.Type.isUndefined(t.heightLimit)&&parseInt(t.heightLimit)>0?parseInt(t.heightLimit):300;var o=e.findParent(e(t.moreButtonNode),{tag:"div",className:n});if(!o){return}var s=e.findChild(o,{tag:"div",className:i},true);var l=e.findChild(o,{tag:"div",className:a},true);if(!s||!l){return}var c=r;var d=parseInt(l.offsetHeight);var m={height:c};var f={height:d};if(!!t.moreButtonNode){e.remove(t.moreButtonNode)}var u=(d-c)/(2e3-c);u=u<.3?.3:u>.8?.8:u;s.style.maxHeight=m.height+"px";s.style.overflow="hidden";s.style.maxHeight=m.height+"px";s.style.overflow="hidden";new e["easing"]({duration:u*1e3,start:m,finish:f,transition:e.easing.makeEaseOut(e.easing.transitions.quart),step:function(e){s.style.maxHeight=e.height+"px";s.style.opacity=e.opacity/100},complete:function(){s.style.cssText="";s.style.maxHeight="none";e.LazyLoad.showImages(true);if(e.type.isFunction(t.callback)){t.callback(s)}}}).animate();return true},onPlayerPlay:function(t){var n={post:{block:"feed-post-text-block",outer:"feed-post-text-block-inner",inner:"feed-post-text-block-inner-inner"},comment:{block:"feed-com-block",outer:"feed-com-text-inner",inner:"feed-com-text-inner-inner"},more:"feed-post-text-more"};var i=e.findParent(t,{className:n.post.block});var a=null;if(i){a="post"}else{i=e.findParent(t,{className:n.comment.block});if(i){a="comment"}}if(!i){return}var r=e.findChild(i,{className:n.more},true);var o=!!r;if(o){var s=e.findChild(i,{className:n[a].outer},true);if(s){var l=s.getAttribute("bx-content-view-xml-id");if(e.type.isNotEmptyString(l)){var c=e.localStorage.get("viewedContent");if(e.type.isArray(c)){if(e.util.in_array(l,c)){o=false}}}}}if(o){e.UI.Animations.expand({moreButtonNode:r,type:a,classBlock:n[a].block,classOuter:n[a].outer,classInner:n[a].inner,heightLimit:a=="comment"?200:300})}}};e.ready((function(){e.addCustomEvent("Player:onPlay",(function(t){var n=t.getElement();if(n){e.UI.Animations.onPlayerPlay(n)}}))}))})();
//# sourceMappingURL=animations.map.js