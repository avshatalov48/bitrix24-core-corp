(function(){var e=window.BX;e.namespace("BX.UI");if(!!e.UI.Animations){return}e.UI.Animations={expand:function(t){if(!e(t.moreButtonNode)){return}var n=e.type.isNotEmptyString(t.type)?t.type:"post",i=e.type.isNotEmptyString(t.classBlock)?t.classBlock:"feed-post-text-block",o=e.type.isNotEmptyString(t.classOuter)?t.classOuter:"feed-post-text-block-inner",a=e.type.isNotEmptyString(t.classInner)?t.classInner:"feed-post-text-block-inner-inner",r=typeof t.heightLimit!="undefined"&&parseInt(t.heightLimit)>0?parseInt(t.heightLimit):300;var s=e.findParent(e(t.moreButtonNode),{tag:"div",className:i});if(!s){return}var l=e.findChild(s,{tag:"div",className:o},true);var c=e.findChild(s,{tag:"div",className:a},true);if(!l||!c){return}var m=r,f=parseInt(c.offsetHeight),d={height:m},p={height:f};if(!!t.moreButtonNode){e.remove(t.moreButtonNode)}var u=(f-m)/(2e3-m);u=u<.3?.3:u>.8?.8:u;l.style.maxHeight=d.height+"px";l.style.overflow="hidden";l.style.maxHeight=d.height+"px";l.style.overflow="hidden";new e["easing"]({duration:u*1e3,start:d,finish:p,transition:e.easing.makeEaseOut(e.easing.transitions.quart),step:function(e){l.style.maxHeight=e.height+"px";l.style.opacity=e.opacity/100},complete:function(){l.style.cssText="";l.style.maxHeight="none";e.LazyLoad.showImages(true);if(e.type.isFunction(t.callback)){t.callback(l)}}}).animate();return true},onPlayerPlay:function(t){var n={post:{block:"feed-post-text-block",outer:"feed-post-text-block-inner",inner:"feed-post-text-block-inner-inner"},comment:{block:"feed-com-block",outer:"feed-com-text-inner",inner:"feed-com-text-inner-inner"},more:"feed-post-text-more"};var i=e.findParent(t,{className:n.post.block});var o=null;if(i){o="post"}else{i=e.findParent(t,{className:n.comment.block});if(i){o="comment"}}if(!i){return}var a=e.findChild(i,{className:n.more},true);var r=!!a;if(r){var s=e.findChild(i,{className:n[o].outer},true);if(s){var l=s.getAttribute("bx-content-view-xml-id");if(e.type.isNotEmptyString(l)){var c=e.localStorage.get("viewedContent");if(e.type.isArray(c)){if(e.util.in_array(l,c)){r=false}}}}}if(r){e.UI.Animations.expand({moreButtonNode:a,type:o,classBlock:n[o].block,classOuter:n[o].outer,classInner:n[o].inner,heightLimit:o=="comment"?200:300})}}};e.ready(function(){e.addCustomEvent("Player:onPlay",function(t){var n=t.getElement();if(n){e.UI.Animations.onPlayerPlay(n)}})})})();
//# sourceMappingURL=animations.map.js