this.BX=this.BX||{};(function(e,t,i,s,a,l){"use strict";function r(e,t){c(e,t);t.add(e)}function n(e,t,i){c(e,t);t.set(e,i)}function c(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function o(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var b=new WeakMap;var d=new WeakMap;var h=new WeakMap;var p=new WeakMap;var u=new WeakSet;var v=function(){function e(t){babelHelpers.classCallCheck(this,e);r(this,u);n(this,b,{writable:true,value:void 0});n(this,d,{writable:true,value:void 0});n(this,h,{writable:true,value:void 0});n(this,p,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,d,t.id);babelHelpers.classPrivateFieldSet(this,h,t.bindElement);babelHelpers.classPrivateFieldSet(this,p,t.message)}babelHelpers.createClass(e,[{key:"show",value:function e(){o(this,u,f).call(this).show()}},{key:"hide",value:function e(){o(this,u,f).call(this).close()}}]);return e}();function f(){if(babelHelpers.classPrivateFieldGet(this,b)){return babelHelpers.classPrivateFieldGet(this,b)}babelHelpers.classPrivateFieldSet(this,b,new s.Popup({id:babelHelpers.classPrivateFieldGet(this,d),bindElement:babelHelpers.classPrivateFieldGet(this,h),content:babelHelpers.classPrivateFieldGet(this,p),darkMode:true,autoHide:true,angle:true,offsetLeft:14,bindOptions:{position:"bottom"},closeByEsc:true}));return babelHelpers.classPrivateFieldGet(this,b)}var w,H,k;function g(e,t){F(e,t);t.add(e)}function P(e,t,i){F(e,t);t.set(e,i)}function F(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function m(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var S=new WeakMap;var T=new WeakMap;var G=new WeakMap;var _=new WeakMap;var y=new WeakMap;var C=new WeakMap;var E=new WeakMap;var M=new WeakMap;var W=new WeakMap;var I=new WeakMap;var N=new WeakMap;var z=new WeakMap;var D=new WeakSet;var B=function(){function e(i){var s=this;babelHelpers.classCallCheck(this,e);g(this,D);P(this,S,{writable:true,value:void 0});P(this,T,{writable:true,value:void 0});P(this,G,{writable:true,value:void 0});P(this,_,{writable:true,value:void 0});P(this,y,{writable:true,value:void 0});P(this,C,{writable:true,value:void 0});P(this,E,{writable:true,value:void 0});P(this,M,{writable:true,value:void 0});P(this,W,{writable:true,value:void 0});P(this,I,{writable:true,value:void 0});P(this,N,{writable:true,value:void 0});P(this,z,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,T,i.id);babelHelpers.classPrivateFieldSet(this,G,i.inputName);babelHelpers.classPrivateFieldSet(this,_,i.title);babelHelpers.classPrivateFieldSet(this,C,i.isChecked);babelHelpers.classPrivateFieldSet(this,E,t.Type.isString(i.settingsPath)?i.settingsPath:null);babelHelpers.classPrivateFieldSet(this,M,t.Type.isString(i.settingsTitle)?i.settingsTitle:null);babelHelpers.classPrivateFieldSet(this,W,t.Type.isString(i.infoHelperCode)?i.infoHelperCode:null);babelHelpers.classPrivateFieldSet(this,z,t.Type.isBoolean(i.isDefault)?i.isDefault:false);babelHelpers.classPrivateFieldSet(this,N,i.helpMessage);t.Event.bind(this.getSwitcher().getNode(),"click",(function(){if(babelHelpers.classPrivateFieldGet(s,z)&&!s.getSwitcher().isChecked()){s.getSwitcher().check(true,false);t.Dom.addClass(s.render(),"--active --checked");s.getWarningMessage().show()}}))}babelHelpers.createClass(e,[{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,T)}},{key:"isDefault",value:function e(){return babelHelpers.classPrivateFieldGet(this,z)}},{key:"render",value:function e(){if(babelHelpers.classPrivateFieldGet(this,S)){return babelHelpers.classPrivateFieldGet(this,S)}babelHelpers.classPrivateFieldSet(this,S,t.Tag.render(w||(w=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__row-tool-selector --tool-selector','">\n\t\t\t\t<div class="ui-section__tools-subgroup_left-wrapper">\n\t\t\t\t\t<div class="ui-section__switcher-row_wrapper"/>\n\t\t\t\t\t<div class="ui-section__row-tool-selector_title">',"</div>\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),babelHelpers.classPrivateFieldGet(this,C)?" --active --checked":"",babelHelpers.classPrivateFieldGet(this,_),m(this,D,X).call(this)));return babelHelpers.classPrivateFieldGet(this,S)}},{key:"getSwitcher",value:function e(){if(babelHelpers.classPrivateFieldGet(this,y)instanceof l.Switcher){return babelHelpers.classPrivateFieldGet(this,y)}babelHelpers.classPrivateFieldSet(this,y,this.createSwitcher(this.render().querySelector(".ui-section__switcher-row_wrapper")));return babelHelpers.classPrivateFieldGet(this,y)}},{key:"createSwitcher",value:function e(s){var a=this;return new l.Switcher({inputName:babelHelpers.classPrivateFieldGet(this,G),node:s,checked:babelHelpers.classPrivateFieldGet(this,C),id:babelHelpers.classPrivateFieldGet(this,T),size:l.SwitcherSize.extraSmall,handlers:{checked:function e(){t.Dom.removeClass(a.render(),"--active --checked");i.EventEmitter.emit(a.getSwitcher(),"inactive")},unchecked:function e(){t.Dom.addClass(a.render(),"--active --checked");i.EventEmitter.emit(a.getSwitcher(),"active")}}})}},{key:"renderTo",value:function e(i){if(!t.Type.isDomNode(i)){throw new Error("Target node must be HTMLElement")}return t.Dom.append(this.render(),i)}},{key:"getWarningMessage",value:function e(){if(babelHelpers.classPrivateFieldGet(this,I)){return babelHelpers.classPrivateFieldGet(this,I)}babelHelpers.classPrivateFieldSet(this,I,new v({id:this.getId(),bindElement:this.getSwitcher().getNode(),message:babelHelpers.classPrivateFieldGet(this,N)}));return babelHelpers.classPrivateFieldGet(this,I)}}]);return e}();function X(){if(t.Type.isNil(babelHelpers.classPrivateFieldGet(this,M))){return null}if(!t.Type.isNil(babelHelpers.classPrivateFieldGet(this,E))){return t.Tag.render(H||(H=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a target="_blank" data-slider-ignore-autobinding="true" href="','" class="ui-section__tools-subgroup-description-link">',"</a>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(this,E),babelHelpers.classPrivateFieldGet(this,M))}if(!t.Type.isNil(babelHelpers.classPrivateFieldGet(this,W))){return t.Tag.render(k||(k=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t<a href=\"javascript:top.BX.UI.InfoHelper.show('",'\')" class="ui-section__tools-subgroup-description-link">',"</a>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(this,W),babelHelpers.classPrivateFieldGet(this,M))}return null}var L,U,j,q;function O(e,t){A(e,t);t.add(e)}function x(e,t,i){A(e,t);t.set(e,i)}function A(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function R(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var J=new WeakMap;var K=new WeakMap;var Q=new WeakMap;var V=new WeakMap;var Y=new WeakMap;var Z=new WeakSet;var $=new WeakSet;var ee=new WeakSet;var te=new WeakSet;var ie=new WeakSet;var se=function(e){babelHelpers.inherits(s,e);function s(e){var i;babelHelpers.classCallCheck(this,s);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).call(this,e));O(babelHelpers.assertThisInitialized(i),ie);O(babelHelpers.assertThisInitialized(i),te);O(babelHelpers.assertThisInitialized(i),ee);O(babelHelpers.assertThisInitialized(i),$);O(babelHelpers.assertThisInitialized(i),Z);x(babelHelpers.assertThisInitialized(i),J,{writable:true,value:void 0});x(babelHelpers.assertThisInitialized(i),K,{writable:true,value:void 0});x(babelHelpers.assertThisInitialized(i),Q,{writable:true,value:void 0});x(babelHelpers.assertThisInitialized(i),V,{writable:true,value:void 0});x(babelHelpers.assertThisInitialized(i),Y,{writable:true,value:void 0});i.linkTitle=t.Type.isString(e.linkTitle)?e.linkTitle:null;i.link=t.Type.isString(e.link)?e.link:null;i.isChecked=t.Type.isBoolean(e.isChecked)?e.isChecked:false;i.items=t.Type.isArray(e.items)?e.items:[];i.isNestedMenu=i.items.length>0;i.infoHelperCode=t.Type.isString(e.infoHelperCode)?e.infoHelperCode:null;babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Q,t.Type.isBoolean(e.isDefault)?e.isDefault:false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Y,t.Type.isString(e.helpMessage)?e.helpMessage:null);if(!t.Type.isString(e.mainInputName)){throw new Error("Missing required parameter")}i.mainInputName=e.mainInputName;i.render();i.items.forEach((function(e){i.append(e.render())}));return i}babelHelpers.createClass(s,[{key:"getContent",value:function e(){var s=this;if(babelHelpers.classPrivateFieldGet(this,K)){return babelHelpers.classPrivateFieldGet(this,K)}babelHelpers.classPrivateFieldSet(this,K,t.Tag.render(L||(L=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div id="','" class="ui-section__wrapper --tool-selector'," ",'" >\n\t\t\t\t<div class="ui-section__header">\n\t\t\t\t\t<div class="ui-section__header-left-wrapper">\n\t\t\t\t\t\t<span class="ui-section__switcher-wrapper" onclick="event.stopPropagation()"/>\n\t\t\t\t\t\t<span class="ui-section__title">',"</span>\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\n\t\t\t\t\t",'\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-section__content ui-section__section-body_inner">\n\t\t\t\t\t<div class="ui-section__row_box"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),this.id,this.isChecked?" --checked":"",this.isNestedMenu?" clickable":"",this.title,R(this,ee,re).call(this),R(this,te,ne).call(this)));babelHelpers.classPrivateFieldSet(this,J,R(this,ie,ce).call(this,babelHelpers.classPrivateFieldGet(this,K).querySelector(".ui-section__switcher-wrapper")));if(babelHelpers.classPrivateFieldGet(this,Y)){babelHelpers.classPrivateFieldSet(this,V,this.getWarningMessage(babelHelpers.classPrivateFieldGet(this,Y)))}i.EventEmitter.subscribe(babelHelpers.classPrivateFieldGet(this,J),"toggled",(function(){if(babelHelpers.classPrivateFieldGet(s,Q)){babelHelpers.classPrivateFieldGet(s,J).check(true,false);if(babelHelpers.classPrivateFieldGet(s,V)){babelHelpers.classPrivateFieldGet(s,V).show()}}else{s.toggle(babelHelpers.classPrivateFieldGet(s,J).isChecked());babelHelpers.classPrivateFieldGet(s,J).inputNode.form.dispatchEvent(new Event("change"));t.Dom[babelHelpers.classPrivateFieldGet(s,J).isChecked()?"addClass":"removeClass"](babelHelpers.classPrivateFieldGet(s,K),"--checked");s.items.forEach((function(e){return e.getSwitcher().check(babelHelpers.classPrivateFieldGet(s,J).isChecked())}))}}));this.items.forEach((function(e){if(e.isDefault()!==true){i.EventEmitter.subscribe(e.getSwitcher(),"inactive",R(s,$,le).bind(s))}i.EventEmitter.subscribe(e.getSwitcher(),"active",R(s,Z,ae).bind(s))}));return babelHelpers.classPrivateFieldGet(this,K)}},{key:"getWarningMessage",value:function e(t){if(babelHelpers.classPrivateFieldGet(this,V)){return babelHelpers.classPrivateFieldGet(this,V)}babelHelpers.classPrivateFieldSet(this,V,new v({id:this.id,bindElement:babelHelpers.classPrivateFieldGet(this,J).getNode(),message:t}));return babelHelpers.classPrivateFieldGet(this,V)}},{key:"isDefault",value:function e(){return babelHelpers.classPrivateFieldGet(this,Q)}}]);return s}(a.Section);function ae(){babelHelpers.classPrivateFieldGet(this,J).inputNode.form.dispatchEvent(new Event("change"));if(babelHelpers.classPrivateFieldGet(this,J).isChecked()){return}babelHelpers.classPrivateFieldGet(this,J).check(true,false);this.toggle(true);t.Dom.addClass(babelHelpers.classPrivateFieldGet(this,K),"--checked");this.items.forEach((function(e){return e.isDefault()&&!e.getSwitcher().isChecked()?e.getSwitcher().check(true):null}))}function le(){babelHelpers.classPrivateFieldGet(this,J).inputNode.form.dispatchEvent(new Event("change"));if(babelHelpers.classPrivateFieldGet(this,J).isChecked()!==true){return}if(this.items.some((function(e){return e.getSwitcher().isChecked()}))){return}babelHelpers.classPrivateFieldGet(this,J).check(false,false);t.Dom.removeClass(babelHelpers.classPrivateFieldGet(this,K),"--checked")}function re(){if(this.isNestedMenu){return t.Tag.render(U||(U=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<span class="ui-section__collapse-icon ui-icon-set ',' --tool-selector-icon"></span>\n\t\t\t'])),this.isOpen?this.className.arrowTop:this.className.arrowDown)}return null}function ne(){if(t.Type.isNil(this.linkTitle)){return null}if(!t.Type.isNil(this.link)){return t.Tag.render(j||(j=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a target="_blank" href="','" class="ui-section__header-link ui-section__tools-description-link" onclick="event.stopPropagation()">',"</a>\n\t\t\t"])),this.link,this.linkTitle)}if(!t.Type.isNil(this.infoHelperCode)){return t.Tag.render(q||(q=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t<a href=\"javascript:top.BX.UI.InfoHelper.show('",'\')" class="ui-section__header-link ui-section__tools-description-link" onclick="event.stopPropagation()">',"</a>\n\t\t\t"])),this.infoHelperCode,this.linkTitle)}return null}function ce(e){return new l.Switcher({inputName:this.mainInputName,node:e,checked:this.isChecked,id:this.id})}e.SwitcherNested=se;e.SwitcherNestedItem=B;e.WarningMessage=v})(this.BX.UI=this.BX.UI||{},BX,BX.Event,BX.Main,BX.UI,BX.UI);
//# sourceMappingURL=switcher-nested.bundle.map.js