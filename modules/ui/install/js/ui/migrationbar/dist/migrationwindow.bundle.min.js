this.BX=this.BX||{};(function(t,i,e,n){"use strict";var r,s,a,l,o,h,u,d,g,p;var c=function(){function t(e){var n=e.target,r=e.title,s=e.items,a=e.buttons,l=e.link,o=e.hint,h=e.wrapperWidth,u=e.wrapperHeight,d=e.containerWidth,g=e.containerHeight;babelHelpers.classCallCheck(this,t);this.target=i.Type.isDomNode(n)?n:null;this.title=i.Type.isString(r)?r:null;this.items=i.Type.isArray(s)?s:[];this.buttons=i.Type.isArray(a)?a:null;this.link=i.Type.isObject(l)?l:null;this.hint=i.Type.isString(o)?o:null;this.wrapperWidth=i.Type.isNumber(h)?h:null;this.wrapperHeight=i.Type.isNumber(u)?u:null;this.containerWidth=i.Type.isNumber(d)?d:null;this.containerHeight=i.Type.isNumber(g)?g:null;this.layout={wrapper:null,container:null,title:null,text:null};this.wrapper=null;this.container=null;this.titleContainer=null;this.titleText=null;this.cross=null;this.itemContainer=null;this.buttonsContainer=null;this.itemNode=null;this.linkNode=null;this.hintWindow=null;this.hintNode=null;this.linkShown=true}babelHelpers.createClass(t,[{key:"getWrapper",value:function t(){if(!this.wrapper){this.wrapper=i.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-migration-bar__wrap"></div>\n\t\t\t'])))}return this.wrapper}},{key:"getContainer",value:function t(){if(!this.container){this.container=i.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-migration-bar__container ui-migration-window__scope">\n\t\t\t\t\t',"\n\t\t\t\t\t","\n\t\t\t\t\t","\n\t\t\t\t\t","\n\t\t\t\t</div>\t\n\t\t\t"])),this.getCross(),this.title?this.getTitle():"",this.getItemContainer(),this.getButtonsContainer())}return this.container}},{key:"getTitle",value:function t(){if(!this.titleContainer){this.titleContainer=i.Tag.render(a||(a=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-migration-bar__title">\n\t\t\t\t\t<div class="ui-migration-bar__title-name">',"</div>\n\t\t\t\t</div>\n\t\t\t"])),this.title)}return this.titleContainer}},{key:"getTitleText",value:function t(){if(!this.titleText){this.titleText=i.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-migration-bar__title-name">',"</div>\n\t\t\t"])),this.title)}return this.titleText}},{key:"getCross",value:function t(){if(!this.cross){this.cross=i.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-migration-bar__cross">\n\t\t\t\t\t<div class="ui-migration-bar__cross-icon"></div>\n\t\t\t\t</div>\n\t\t\t'])))}return this.cross}},{key:"getButtonsContainer",value:function t(){if(!this.buttonsContainer){this.buttonsContainer=i.Tag.render(h||(h=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-migration-bar__btn-container"></div>\n\t\t\t'])))}return this.buttonsContainer}},{key:"getItemContainer",value:function t(){if(!this.itemContainer){this.itemContainer=i.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-migration-bar__item-container"></div>\n\t\t\t'])))}return this.itemContainer}},{key:"getImage",value:function t(){return this.items}},{key:"getLink",value:function t(){if(!this.linkNode){this.linkNode=i.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="ui-migration-bar__link">',"</a>\n\t\t\t"])),this.link?this.link.text:"")}return this.linkNode}},{key:"getHintIcon",value:function t(){if(!this.hintNode){this.hintNode=i.Tag.render(g||(g=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-migration-bar__hint-icon"></div>\n\t\t\t'])))}return this.hintNode}},{key:"adjustHint",value:function t(){if(this.hint){i.Dom.append(this.getHintIcon(),this.getTitleText());this.hintWindow=new n.Popup("ui-migration-window-hint",this.getHintIcon(),{content:this.hint,lightShadow:true,autoHide:true,closeByEsc:true,darkMode:true,offsetLeft:this.getHintIcon().offsetWidth/2,angle:{postion:"top"}})}}},{key:"adjustItemData",value:function t(){this.items=this.items.map((function(t){return{id:t.id?t.id:null,src:t.src?t.src:null,events:t.events?t.events:null}}))}},{key:"adjustButton",value:function t(){var i=this;if(this.buttons!==[]){this.buttons.forEach((function(t){t=new e.Button({id:t.id,color:t.color?e.Button.Color[t.color]:e.Button.Color.PRIMARY,size:t.size?e.Button.Size[t.size]:e.Button.Size.MEDIUM,round:t.round?t.round:false,text:t.title,events:t.events});i.getButtonsContainer().appendChild(t.render())}))}}},{key:"setEvents",value:function t(){var i=this;this.getCross().addEventListener("click",(function(){i.getWrapper().style.display="none";i.getWrapper().remove()}));if(this.hint){this.getHintIcon().addEventListener("mouseover",(function(){i.hintWindow.show()}))}if(this.link){this.linkNode.setAttribute("href",this.link.href);this.linkNode.setAttribute("target",this.link.target);this.linkNode.addEventListener("click",(function(){i.link.target.event.click()}))}}},{key:"render",value:function t(){var e=this;if(this.target){this.target.appendChild(this.getWrapper());this.getWrapper().appendChild(this.getContainer());if(this.hint){this.adjustHint()}if(this.wrapperWidth){this.getWrapper().style.minWidth=this.wrapperWidth+"px"}if(this.wrapperHeight){this.getWrapper().style.minHeight=this.wrapperHeight+"px"}if(this.containerWidth){this.getContainer().style.minWidth=this.containerWidth+"px"}if(this.containerHeight){this.getContainer().style.minHeight=this.containerHeight+"px"}}if(this.items!==[]){this.items.forEach((function(t){var n=t;n=i.Tag.render(p||(p=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<img class="ui-migration-bar__item">\n\t\t\t'])));e.getItemContainer().appendChild(n);var r=Object.keys(t);for(var s=0;s<r.length;s++){var a=r[s];n.setAttribute(a,t[a])}}))}if(this.link){i.Dom.append(this.getLink(),this.getItemContainer())}}},{key:"init",value:function t(){this.adjustItemData();this.adjustButton();this.render();this.setEvents()}}]);return t}();t.MigrationBar=c})(this.BX.UI=this.BX.UI||{},BX,BX.UI,BX.Main);
//# sourceMappingURL=migrationwindow.bundle.map.js