{"version":3,"file":"migrationbar.bundle.js","sources":["../src/bar.js"],"sourcesContent":["import { Tag, Type } from 'main.core';\nimport { Button } from 'ui.buttons';\nimport { Popup } from 'main.popup';\nimport './style.css';\n\nexport default class MigrationBar\n{\n\tconstructor({target, title, cross, items, buttons, link, hint, width, height, minWidth, minHeight})\n\t{\n\t\tthis.target = Type.isDomNode(target) ? target : null;\n\t\tthis.title = Type.isString(title) || Type.isObject(title) ? title : null;\n\t\tthis.cross = Type.isBoolean(cross) ? cross : true;\n\t\tthis.items = Type.isArray(items) ? items : [];\n\t\tthis.buttons = Type.isArray(buttons) ? buttons : null;\n\t\tthis.link = Type.isObject(link) ? link : null;\n\t\tthis.hint = Type.isString(hint) ? hint : null;\n\t\tthis.width = Type.isNumber(width) ? width : null;\n\t\tthis.height = Type.isNumber(height) ? height : null;\n\t\tthis.minWidth = Type.isNumber(minWidth) ? minWidth : null;\n\t\tthis.minHeight = Type.isNumber(minHeight) ? minHeight : null;\n\n\t\tthis.layout = {\n\t\t\twrapper: null,\n\t\t\tcontainer: null,\n\t\t\titems: null,\n\t\t\ttitle: null,\n\t\t\ttext: null,\n\t\t\tlink: null,\n\t\t\tremove: null,\n\t\t\tbuttons: null\n\t\t}\n\n\t\tthis.popupHint = null;\n\t}\n\n\tgetWrapper()\n\t{\n\t\tif (!this.layout.wrapper)\n\t\t{\n\t\t\tthis.layout.wrapper = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__wrap\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.wrapper;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.layout.container)\n\t\t{\n\t\t\tthis.layout.container = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__container ui-migration-bar__scope --show\">\n\t\t\t\t\t${this.cross ? this.getCross() : ''}\n\t\t\t\t\t<div class=\"ui-migration-bar__content\">\n\t\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t\t\t${this.getItemContainer()}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.getButtonsContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.layout.container.addEventListener('animationend', () => {\n\t\t\t\tthis.layout.container.classList.remove('--show');\n\t\t\t}, { once: true });\n\n\t\t\tif (this.width)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('width', this.width + 'px');\n\t\t\t}\n\n\t\t\tif (this.height)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('height', this.height + 'px')\n\t\t\t}\n\n\t\t\tif (this.minWidth)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('min-width', this.minWidth + 'px');\n\t\t\t}\n\n\t\t\tif (this.minHeight)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('min-height', this.minHeight + 'px')\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.layout.container;\n\t}\n\n\tgetTitle()\n\t{\n\t\tif (!this.layout.title)\n\t\t{\n\t\t\tconst isTitleObject = Type.isObject(this.title);\n\t\t\tconst titleText = isTitleObject ? this.title?.text : this.title;\n\t\t\tconst alignTitle =  isTitleObject ? this.title?.align : null;\n\n\t\t\tthis.layout.title = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__title ${alignTitle ? '--align-' + alignTitle : ''}\">\n\t\t\t\t\t${titleText}\n\t\t\t\t\t${this.hint ? this.getHint() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.title;\n\t}\n\n\tgetCross()\n\t{\n\t\tif (!this.layout.remove)\n\t\t{\n\t\t\tthis.layout.remove = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__remove\">\n\t\t\t\t\t<div class=\"ui-migration-bar__remove-icon\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.layout.remove.addEventListener('click', () => this.remove());\n\t\t}\n\n\t\treturn this.layout.remove;\n\t}\n\n\tgetButtonsContainer()\n\t{\n\t\tif (!this.layout.buttons)\n\t\t{\n\t\t\tthis.layout.buttons = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__btn-container\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.buttons;\n\t}\n\n\tgetItemContainer()\n\t{\n\t\tif (!this.layout.items)\n\t\t{\n\t\t\tthis.layout.items = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__item-container\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.items;\n\t}\n\n\tgetImage()\n\t{\n\t\treturn this.items;\n\t}\n\n\tgetLink()\n\t{\n\t\tif (!this.layout.link)\n\t\t{\n\t\t\tconst linkNode = this.link?.href ? 'a' : 'div';\n\n\t\t\tthis.layout.link = Tag.render`\n\t\t\t\t<${linkNode} class=\"ui-migration-bar__link\">${this.link.text}</${linkNode}>\n\t\t\t`;\n\n\t\t\tconst setCursorPointerMode = () => {\n\t\t\t\tthis.layout.link.classList.add('--cursor-pointer')\n\t\t\t};\n\n\n\t\t\tif (this.link.href)\n\t\t\t{\n\t\t\t\tsetCursorPointerMode();\n\t\t\t\tthis.layout.link.href = this.link.href;\n\t\t\t}\n\n\t\t\tif (this.link.target)\n\t\t\t{\n\t\t\t\tthis.layout.link.target = this.link.target;\n\t\t\t}\n\n\t\t\tif (this.link.events)\n\t\t\t{\n\t\t\t\tsetCursorPointerMode();\n\t\t\t\tconst eventKeys = Object.keys(this.link.events);\n\t\t\t\teventKeys.forEach(event => {\n\t\t\t\t\tthis.layout.link.addEventListener(event, () => {\n\t\t\t\t\t\tthis.link.events[event]()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.layout.link;\n\t}\n\n\tgetHint()\n\t{\n\t\tif (!this.layout.hint)\n\t\t{\n\t\t\tthis.layout.hint = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__hint\">\n\t\t\t\t\t<div class=\"ui-migration-bar__hint-icon\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tconst popupHintWidth = 200;\n\t\t\tconst hintIconWidth = 20;\n\n\t\t\tthis.popupHint = new Popup(null, this.layout.hint, {\n\t\t\t\tdarkMode: true,\n\t\t\t\tcontent: this.hint,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: (popupHintWidth / 2) - 16\n\t\t\t\t},\n\t\t\t\twidth: popupHintWidth,\n\t\t\t\toffsetLeft: -(popupHintWidth / 2) + (hintIconWidth / 2) + 40,\n\t\t\t\tanimation: 'fading-slide'\n\t\t\t});\n\n\t\t\tthis.layout.hint.addEventListener('mouseover', () => { this.popupHint.show() });\n\t\t\tthis.layout.hint.addEventListener('mouseleave', () => { this.popupHint.close() });\n\t\t}\n\n\t\treturn this.layout.hint;\n\t}\n\n\tadjustItemData()\n\t{\n\t\tthis.items = this.items.map((item) => {\n\t\t\treturn {\n\t\t\t\tid: item.id ? item.id : null,\n\t\t\t\tsrc: item.src ? item.src : null,\n\t\t\t\tevents: item.events ? item.events : null,\n\t\t\t}\n\t\t})\n\t}\n\n\tsetButtons()\n\t{\n\t\tif (this.buttons.length > 0)\n\t\t{\n\t\t\tthis.buttons.forEach(button => {\n\t\t\t\tconst option = Object.assign({}, button);\n\t\t\t\tbutton = new Button(option);\n\t\t\t\tthis.getButtonsContainer().appendChild(button.render());\n\t\t\t});\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tif (this.target)\n\t\t{\n\t\t\tthis.getWrapper().style.setProperty('height', this.target.offsetHeight + 'px');\n\t\t\tthis.target.appendChild(this.getWrapper());\n\t\t\tthis.getWrapper().appendChild(this.getContainer());\n\t\t}\n\n\t\tif (this.items.length > 0)\n\t\t{\n\t\t\tthis.items.forEach(item => {\n\t\t\t\tlet itemNode = item;\n\t\t\t\titemNode = Tag.render`\n\t\t\t\t\t<img class=\"ui-migration-bar__item\">\n\t\t\t\t`;\n\n\t\t\t\tthis.getItemContainer().appendChild(itemNode);\n\n\t\t\t\tconst itemKeys = Object.keys(item);\n\t\t\t\tfor (let i = 0; i < itemKeys.length; i++)\n\t\t\t\t{\n\t\t\t\t\tconst event = itemKeys[i];\n\t\t\t\t\titemNode.setAttribute(event, item[event]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.link?.text)\n\t\t{\n\t\t\tthis.getItemContainer().appendChild(this.getLink());\n\t\t}\n\t}\n\n\tremove()\n\t{\n\t\tthis.getContainer().classList.add('--close');\n\t\tthis.getContainer().addEventListener('animationend', () => {\n\t\t\tthis.getContainer().classList.remove('--close');\n\t\t\tthis.getContainer().remove();\n\t\t\tthis.getWrapper().remove();\n\t\t}, { once: true });\n\t}\n\n\tshow()\n\t{\n\t\tthis.adjustItemData();\n\t\tthis.setButtons();\n\t\tthis.render();\n\t}\n}\n"],"names":["MigrationBar","target","title","cross","items","buttons","link","hint","width","height","minWidth","minHeight","Type","isDomNode","isString","isObject","isBoolean","isArray","isNumber","layout","wrapper","container","text","remove","popupHint","Tag","render","getCross","getTitle","getItemContainer","getButtonsContainer","addEventListener","classList","once","style","setProperty","isTitleObject","titleText","alignTitle","align","getHint","linkNode","href","setCursorPointerMode","add","events","eventKeys","Object","keys","forEach","event","popupHintWidth","hintIconWidth","Popup","darkMode","content","angle","offset","offsetLeft","animation","show","close","map","item","id","src","length","button","option","assign","Button","appendChild","getWrapper","offsetHeight","getContainer","itemNode","itemKeys","i","setAttribute","getLink","adjustItemData","setButtons"],"mappings":"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"}