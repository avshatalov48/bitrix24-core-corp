{"version":3,"file":"migrationbar.bundle.js","sources":["../src/bar.js"],"sourcesContent":["import { Tag, Type } from 'main.core';\nimport { Button } from 'ui.buttons';\nimport { Popup } from 'main.popup';\nimport './style.css';\n\nexport default class MigrationBar\n{\n\tconstructor({target, title, cross, items, buttons, link, hint, width, height, minWidth, minHeight})\n\t{\n\t\tthis.target = Type.isDomNode(target) ? target : null;\n\t\tthis.title = Type.isString(title) || Type.isObject(title) ? title : null;\n\t\tthis.cross = Type.isBoolean(cross) ? cross : true;\n\t\tthis.items = Type.isArray(items) ? items : [];\n\t\tthis.buttons = Type.isArray(buttons) ? buttons : null;\n\t\tthis.link = Type.isObject(link) ? link : null;\n\t\tthis.hint = Type.isString(hint) ? hint : null;\n\t\tthis.width = Type.isNumber(width) ? width : null;\n\t\tthis.height = Type.isNumber(height) ? height : null;\n\t\tthis.minWidth = Type.isNumber(minWidth) ? minWidth : null;\n\t\tthis.minHeight = Type.isNumber(minHeight) ? minHeight : null;\n\n\t\tthis.layout = {\n\t\t\twrapper: null,\n\t\t\tcontainer: null,\n\t\t\titems: null,\n\t\t\ttitle: null,\n\t\t\ttext: null,\n\t\t\tlink: null,\n\t\t\tremove: null,\n\t\t\tbuttons: null\n\t\t}\n\n\t\tthis.popupHint = null;\n\t}\n\n\tgetWrapper()\n\t{\n\t\tif (!this.layout.wrapper)\n\t\t{\n\t\t\tthis.layout.wrapper = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__wrap\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.wrapper;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.layout.container)\n\t\t{\n\t\t\tthis.layout.container = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__container ui-migration-bar__scope --show\">\n\t\t\t\t\t${this.cross ? this.getCross() : ''}\n\t\t\t\t\t<div class=\"ui-migration-bar__content\">\n\t\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t\t\t${this.getItemContainer()}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.getButtonsContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.layout.container.addEventListener('animationend', () => {\n\t\t\t\tthis.layout.container.classList.remove('--show');\n\t\t\t}, { once: true });\n\n\t\t\tif (this.width)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('width', this.width + 'px');\n\t\t\t}\n\n\t\t\tif (this.height)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('height', this.height + 'px')\n\t\t\t}\n\n\t\t\tif (this.minWidth)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('min-width', this.minWidth + 'px');\n\t\t\t}\n\n\t\t\tif (this.minHeight)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('min-height', this.minHeight + 'px')\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.layout.container;\n\t}\n\n\tgetTitle()\n\t{\n\t\tif (!this.layout.title)\n\t\t{\n\t\t\tconst isTitleObject = Type.isObject(this.title);\n\t\t\tconst titleText = isTitleObject ? this.title?.text : this.title;\n\t\t\tconst alignTitle =  isTitleObject ? this.title?.align : null;\n\n\t\t\tthis.layout.title = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__title ${alignTitle ? '--align-' + alignTitle : ''}\">\n\t\t\t\t\t${titleText}\n\t\t\t\t\t${this.hint ? this.getHint() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.title;\n\t}\n\n\tgetCross()\n\t{\n\t\tif (!this.layout.remove)\n\t\t{\n\t\t\tthis.layout.remove = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__remove\">\n\t\t\t\t\t<div class=\"ui-migration-bar__remove-icon\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.layout.remove.addEventListener('click', () => this.remove());\n\t\t}\n\n\t\treturn this.layout.remove;\n\t}\n\n\tgetButtonsContainer()\n\t{\n\t\tif (!this.layout.buttons)\n\t\t{\n\t\t\tthis.layout.buttons = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__btn-container\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.buttons;\n\t}\n\n\tgetItemContainer()\n\t{\n\t\tif (!this.layout.items)\n\t\t{\n\t\t\tthis.layout.items = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__item-container\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.items;\n\t}\n\n\tgetImage()\n\t{\n\t\treturn this.items;\n\t}\n\n\tgetLink()\n\t{\n\t\tif (!this.layout.link)\n\t\t{\n\t\t\tconst linkNode = this.link?.href ? 'a' : 'div';\n\n\t\t\tthis.layout.link = Tag.render`\n\t\t\t\t<${linkNode} class=\"ui-migration-bar__link\">${this.link.text}</${linkNode}>\n\t\t\t`;\n\n\t\t\tconst setCursorPointerMode = () => {\n\t\t\t\tthis.layout.link.classList.add('--cursor-pointer')\n\t\t\t};\n\n\n\t\t\tif (this.link.href)\n\t\t\t{\n\t\t\t\tsetCursorPointerMode();\n\t\t\t\tthis.layout.link.href = this.link.href;\n\t\t\t}\n\n\t\t\tif (this.link.target)\n\t\t\t{\n\t\t\t\tthis.layout.link.target = this.link.target;\n\t\t\t}\n\n\t\t\tif (this.link.events)\n\t\t\t{\n\t\t\t\tsetCursorPointerMode();\n\t\t\t\tconst eventKeys = Object.keys(this.link.events);\n\t\t\t\teventKeys.forEach(event => {\n\t\t\t\t\tthis.layout.link.addEventListener(event, () => {\n\t\t\t\t\t\tthis.link.events[event]()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.layout.link;\n\t}\n\n\tgetHint()\n\t{\n\t\tif (!this.layout.hint)\n\t\t{\n\t\t\tthis.layout.hint = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__hint\">\n\t\t\t\t\t<div class=\"ui-migration-bar__hint-icon\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tconst popupHintWidth = 200;\n\t\t\tconst hintIconWidth = 20;\n\n\t\t\tthis.popupHint = new Popup(null, this.layout.hint, {\n\t\t\t\tdarkMode: true,\n\t\t\t\tcontent: this.hint,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: (popupHintWidth / 2) - 16\n\t\t\t\t},\n\t\t\t\twidth: popupHintWidth,\n\t\t\t\toffsetLeft: -(popupHintWidth / 2) + (hintIconWidth / 2) + 40,\n\t\t\t\tanimation: 'fading-slide'\n\t\t\t});\n\n\t\t\tthis.layout.hint.addEventListener('mouseover', () => { this.popupHint.show() });\n\t\t\tthis.layout.hint.addEventListener('mouseleave', () => { this.popupHint.close() });\n\t\t}\n\n\t\treturn this.layout.hint;\n\t}\n\n\tadjustItemData()\n\t{\n\t\tthis.items = this.items.map((item) => {\n\t\t\treturn {\n\t\t\t\tid: item.id ? item.id : null,\n\t\t\t\tsrc: item.src ? item.src : null,\n\t\t\t\tevents: item.events ? item.events : null,\n\t\t\t}\n\t\t})\n\t}\n\n\tsetButtons()\n\t{\n\t\tif (this.buttons.length > 0)\n\t\t{\n\t\t\tthis.buttons.forEach(button => {\n\t\t\t\tconst option = Object.assign({}, button);\n\t\t\t\tbutton = new Button(option);\n\t\t\t\tthis.getButtonsContainer().appendChild(button.render());\n\t\t\t});\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tif (this.target)\n\t\t{\n\t\t\tthis.getWrapper().style.setProperty('height', this.target.offsetHeight + 'px');\n\t\t\tthis.target.appendChild(this.getWrapper());\n\t\t\tthis.getWrapper().appendChild(this.getContainer());\n\t\t}\n\n\t\tif (this.items.length > 0)\n\t\t{\n\t\t\tthis.items.forEach(item => {\n\t\t\t\tlet itemNode = item;\n\t\t\t\titemNode = Tag.render`\n\t\t\t\t\t<img class=\"ui-migration-bar__item\">\n\t\t\t\t`;\n\n\t\t\t\tthis.getItemContainer().appendChild(itemNode);\n\n\t\t\t\tconst itemKeys = Object.keys(item);\n\t\t\t\tfor (let i = 0; i < itemKeys.length; i++)\n\t\t\t\t{\n\t\t\t\t\tconst event = itemKeys[i];\n\t\t\t\t\titemNode.setAttribute(event, item[event]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.link?.text)\n\t\t{\n\t\t\tthis.getItemContainer().appendChild(this.getLink());\n\t\t}\n\t}\n\n\tremove()\n\t{\n\t\tthis.getContainer().classList.add('--close');\n\t\tthis.getContainer().addEventListener('animationend', () => {\n\t\t\tthis.getContainer().classList.remove('--close');\n\t\t\tthis.getContainer().remove();\n\t\t\tthis.getWrapper().remove();\n\t\t}, { once: true });\n\t}\n\n\tshow()\n\t{\n\t\tthis.adjustItemData();\n\t\tthis.setButtons();\n\t\tthis.render();\n\t}\n}\n"],"names":["MigrationBar","target","title","cross","items","buttons","link","hint","width","height","minWidth","minHeight","Type","isDomNode","isString","isObject","isBoolean","isArray","isNumber","layout","wrapper","container","text","remove","popupHint","Tag","render","getCross","getTitle","getItemContainer","getButtonsContainer","addEventListener","classList","once","style","setProperty","isTitleObject","titleText","alignTitle","align","getHint","linkNode","href","setCursorPointerMode","add","events","eventKeys","Object","keys","forEach","event","popupHintWidth","hintIconWidth","Popup","darkMode","content","angle","offset","offsetLeft","animation","show","close","map","item","id","src","length","button","option","assign","Button","appendChild","getWrapper","offsetHeight","getContainer","itemNode","itemKeys","i","setAttribute","getLink","adjustItemData","setButtons"],"mappings":"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"}