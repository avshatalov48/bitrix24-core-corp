{"version":3,"file":"migrationbar.bundle.js","sources":["../src/bar.js"],"sourcesContent":["import { Tag, Type } from 'main.core';\nimport { Button } from 'ui.buttons';\nimport { Popup } from 'main.popup';\nimport './style.css';\n\nexport default class MigrationBar\n{\n\tconstructor({target, title, cross, items, buttons, link, hint, width, height, minWidth, minHeight})\n\t{\n\t\tthis.target = Type.isDomNode(target) ? target : null;\n\t\tthis.title = Type.isString(title) || Type.isObject(title) ? title : null;\n\t\tthis.cross = Type.isBoolean(cross) ? cross : true;\n\t\tthis.items = Type.isArray(items) ? items : [];\n\t\tthis.buttons = Type.isArray(buttons) ? buttons : null;\n\t\tthis.link = Type.isObject(link) ? link : null;\n\t\tthis.hint = Type.isString(hint) ? hint : null;\n\t\tthis.width = Type.isNumber(width) ? width : null;\n\t\tthis.height = Type.isNumber(height) ? height : null;\n\t\tthis.minWidth = Type.isNumber(minWidth) ? minWidth : null;\n\t\tthis.minHeight = Type.isNumber(minHeight) ? minHeight : null;\n\n\t\tthis.layout = {\n\t\t\twrapper: null,\n\t\t\tcontainer: null,\n\t\t\titems: null,\n\t\t\ttitle: null,\n\t\t\ttext: null,\n\t\t\tlink: null,\n\t\t\tremove: null,\n\t\t\tbuttons: null\n\t\t}\n\n\t\tthis.popupHint = null;\n\t}\n\n\tgetWrapper()\n\t{\n\t\tif (!this.layout.wrapper)\n\t\t{\n\t\t\tthis.layout.wrapper = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__wrap\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.wrapper;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.layout.container)\n\t\t{\n\t\t\tthis.layout.container = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__container ui-migration-bar__scope --show\">\n\t\t\t\t\t${this.cross ? this.getCross() : ''}\n\t\t\t\t\t<div class=\"ui-migration-bar__content\">\n\t\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t\t\t${this.getItemContainer()}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.getButtonsContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.layout.container.addEventListener('animationend', () => {\n\t\t\t\tthis.layout.container.classList.remove('--show');\n\t\t\t}, { once: true });\n\n\t\t\tif (this.width)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('width', this.width + 'px');\n\t\t\t}\n\n\t\t\tif (this.height)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('height', this.height + 'px')\n\t\t\t}\n\n\t\t\tif (this.minWidth)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('min-width', this.minWidth + 'px');\n\t\t\t}\n\n\t\t\tif (this.minHeight)\n\t\t\t{\n\t\t\t\tthis.layout.container.style.setProperty('min-height', this.minHeight + 'px')\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.layout.container;\n\t}\n\n\tgetTitle()\n\t{\n\t\tif (!this.layout.title)\n\t\t{\n\t\t\tconst isTitleObject = Type.isObject(this.title);\n\t\t\tconst titleText = isTitleObject ? this.title?.text : this.title;\n\t\t\tconst alignTitle =  isTitleObject ? this.title?.align : null;\n\n\t\t\tthis.layout.title = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__title ${alignTitle ? '--align-' + alignTitle : ''}\">\n\t\t\t\t\t${titleText}\n\t\t\t\t\t${this.hint ? this.getHint() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.title;\n\t}\n\n\tgetCross()\n\t{\n\t\tif (!this.layout.remove)\n\t\t{\n\t\t\tthis.layout.remove = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__remove\">\n\t\t\t\t\t<div class=\"ui-migration-bar__remove-icon\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.layout.remove.addEventListener('click', () => this.remove());\n\t\t}\n\n\t\treturn this.layout.remove;\n\t}\n\n\tgetButtonsContainer()\n\t{\n\t\tif (!this.layout.buttons)\n\t\t{\n\t\t\tthis.layout.buttons = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__btn-container\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.buttons;\n\t}\n\n\tgetItemContainer()\n\t{\n\t\tif (!this.layout.items)\n\t\t{\n\t\t\tthis.layout.items = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__item-container\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.items;\n\t}\n\n\tgetImage()\n\t{\n\t\treturn this.items;\n\t}\n\n\tgetLink()\n\t{\n\t\tif (!this.layout.link)\n\t\t{\n\t\t\tconst linkNode = this.link?.href ? 'a' : 'div';\n\n\t\t\tthis.layout.link = Tag.render`\n\t\t\t\t<${linkNode} class=\"ui-migration-bar__link\">${this.link.text}</${linkNode}>\n\t\t\t`;\n\n\t\t\tconst setCursorPointerMode = () => {\n\t\t\t\tthis.layout.link.classList.add('--cursor-pointer')\n\t\t\t};\n\n\n\t\t\tif (this.link.href)\n\t\t\t{\n\t\t\t\tsetCursorPointerMode();\n\t\t\t\tthis.layout.link.href = this.link.href;\n\t\t\t}\n\n\t\t\tif (this.link.target)\n\t\t\t{\n\t\t\t\tthis.layout.link.target = this.link.target;\n\t\t\t}\n\n\t\t\tif (this.link.events)\n\t\t\t{\n\t\t\t\tsetCursorPointerMode();\n\t\t\t\tconst eventKeys = Object.keys(this.link.events);\n\t\t\t\teventKeys.forEach(event => {\n\t\t\t\t\tthis.layout.link.addEventListener(event, () => {\n\t\t\t\t\t\tthis.link.events[event]()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.layout.link;\n\t}\n\n\tgetHint()\n\t{\n\t\tif (!this.layout.hint)\n\t\t{\n\t\t\tthis.layout.hint = Tag.render`\n\t\t\t\t<div class=\"ui-migration-bar__hint\">\n\t\t\t\t\t<div class=\"ui-migration-bar__hint-icon\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tconst popupHintWidth = 200;\n\t\t\tconst hintIconWidth = 20;\n\n\t\t\tthis.popupHint = new Popup(null, this.layout.hint, {\n\t\t\t\tdarkMode: true,\n\t\t\t\tcontent: this.hint,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: (popupHintWidth / 2) - 16\n\t\t\t\t},\n\t\t\t\twidth: popupHintWidth,\n\t\t\t\toffsetLeft: -(popupHintWidth / 2) + (hintIconWidth / 2) + 40,\n\t\t\t\tanimation: 'fading-slide'\n\t\t\t});\n\n\t\t\tthis.layout.hint.addEventListener('mouseover', () => { this.popupHint.show() });\n\t\t\tthis.layout.hint.addEventListener('mouseleave', () => { this.popupHint.close() });\n\t\t}\n\n\t\treturn this.layout.hint;\n\t}\n\n\tadjustItemData()\n\t{\n\t\tthis.items = this.items.map((item) => {\n\t\t\treturn {\n\t\t\t\tid: item.id ? item.id : null,\n\t\t\t\tsrc: item.src ? item.src : null,\n\t\t\t\tevents: item.events ? item.events : null,\n\t\t\t}\n\t\t})\n\t}\n\n\tsetButtons()\n\t{\n\t\tif (this.buttons.length > 0)\n\t\t{\n\t\t\tthis.buttons.forEach(button => {\n\t\t\t\tconst option = Object.assign({}, button);\n\t\t\t\tbutton = new Button(option);\n\t\t\t\tthis.getButtonsContainer().appendChild(button.render());\n\t\t\t});\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tif (this.target)\n\t\t{\n\t\t\tthis.getWrapper().style.setProperty('height', this.target.offsetHeight + 'px');\n\t\t\tthis.target.appendChild(this.getWrapper());\n\t\t\tthis.getWrapper().appendChild(this.getContainer());\n\t\t}\n\n\t\tif (this.items.length > 0)\n\t\t{\n\t\t\tthis.items.forEach(item => {\n\t\t\t\tlet itemNode = item;\n\t\t\t\titemNode = Tag.render`\n\t\t\t\t\t<img class=\"ui-migration-bar__item\">\n\t\t\t\t`;\n\n\t\t\t\tthis.getItemContainer().appendChild(itemNode);\n\n\t\t\t\tconst itemKeys = Object.keys(item);\n\t\t\t\tfor (let i = 0; i < itemKeys.length; i++)\n\t\t\t\t{\n\t\t\t\t\tconst event = itemKeys[i];\n\t\t\t\t\titemNode.setAttribute(event, item[event]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.link?.text)\n\t\t{\n\t\t\tthis.getItemContainer().appendChild(this.getLink());\n\t\t}\n\t}\n\n\tremove()\n\t{\n\t\tthis.getContainer().classList.add('--close');\n\t\tthis.getContainer().addEventListener('animationend', () => {\n\t\t\tthis.getContainer().classList.remove('--close');\n\t\t\tthis.getContainer().remove();\n\t\t\tthis.getWrapper().remove();\n\t\t}, { once: true });\n\t}\n\n\tshow()\n\t{\n\t\tthis.adjustItemData();\n\t\tthis.setButtons();\n\t\tthis.render();\n\t}\n}\n"],"names":["MigrationBar","constructor","target","title","cross","items","buttons","link","hint","width","height","minWidth","minHeight","Type","isDomNode","isString","isObject","isBoolean","isArray","isNumber","layout","wrapper","container","text","remove","popupHint","getWrapper","Tag","render","getContainer","getCross","getTitle","getItemContainer","getButtonsContainer","addEventListener","classList","once","style","setProperty","isTitleObject","titleText","alignTitle","align","getHint","getImage","getLink","linkNode","href","setCursorPointerMode","add","events","eventKeys","Object","keys","forEach","event","popupHintWidth","hintIconWidth","Popup","darkMode","content","angle","offset","offsetLeft","animation","show","close","adjustItemData","map","item","id","src","setButtons","length","button","option","assign","Button","appendChild","offsetHeight","itemNode","itemKeys","i","setAttribute"],"mappings":"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"}