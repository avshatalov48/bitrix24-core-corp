this.BX=this.BX||{};(function(t,i,e,s){"use strict";let n=t=>t,r,a,h,l,o,u,d,g,c;class p{constructor({target:t,title:e,cross:s,items:n,buttons:r,link:a,hint:h,width:l,height:o,minWidth:u,minHeight:d}){this.target=i.Type.isDomNode(t)?t:null;this.title=i.Type.isString(e)||i.Type.isObject(e)?e:null;this.cross=i.Type.isBoolean(s)?s:true;this.items=i.Type.isArray(n)?n:[];this.buttons=i.Type.isArray(r)?r:null;this.link=i.Type.isObject(a)?a:null;this.hint=i.Type.isString(h)?h:null;this.width=i.Type.isNumber(l)?l:null;this.height=i.Type.isNumber(o)?o:null;this.minWidth=i.Type.isNumber(u)?u:null;this.minHeight=i.Type.isNumber(d)?d:null;this.layout={wrapper:null,container:null,items:null,title:null,text:null,link:null,remove:null,buttons:null};this.popupHint=null}getWrapper(){if(!this.layout.wrapper){this.layout.wrapper=i.Tag.render(r||(r=n`
				<div class="ui-migration-bar__wrap"></div>
			`))}return this.layout.wrapper}getContainer(){if(!this.layout.container){this.layout.container=i.Tag.render(a||(a=n`
				<div class="ui-migration-bar__container ui-migration-bar__scope --show">
					${0}
					<div class="ui-migration-bar__content">
						${0}
						${0}
					</div>
					${0}
				</div>
			`),this.cross?this.getCross():"",this.title?this.getTitle():"",this.getItemContainer(),this.getButtonsContainer());this.layout.container.addEventListener("animationend",(()=>{this.layout.container.classList.remove("--show")}),{once:true});if(this.width){this.layout.container.style.setProperty("width",this.width+"px")}if(this.height){this.layout.container.style.setProperty("height",this.height+"px")}if(this.minWidth){this.layout.container.style.setProperty("min-width",this.minWidth+"px")}if(this.minHeight){this.layout.container.style.setProperty("min-height",this.minHeight+"px")}}return this.layout.container}getTitle(){if(!this.layout.title){var t,e;const s=i.Type.isObject(this.title);const r=s?(t=this.title)==null?void 0:t.text:this.title;const a=s?(e=this.title)==null?void 0:e.align:null;this.layout.title=i.Tag.render(h||(h=n`
				<div class="ui-migration-bar__title ${0}">
					${0}
					${0}
				</div>
			`),a?"--align-"+a:"",r,this.hint?this.getHint():"")}return this.layout.title}getCross(){if(!this.layout.remove){this.layout.remove=i.Tag.render(l||(l=n`
				<div class="ui-migration-bar__remove">
					<div class="ui-migration-bar__remove-icon"></div>
				</div>
			`));this.layout.remove.addEventListener("click",(()=>this.remove()))}return this.layout.remove}getButtonsContainer(){if(!this.layout.buttons){this.layout.buttons=i.Tag.render(o||(o=n`
				<div class="ui-migration-bar__btn-container"></div>
			`))}return this.layout.buttons}getItemContainer(){if(!this.layout.items){this.layout.items=i.Tag.render(u||(u=n`
				<div class="ui-migration-bar__item-container"></div>
			`))}return this.layout.items}getImage(){return this.items}getLink(){if(!this.layout.link){var t;const e=(t=this.link)!=null&&t.href?"a":"div";this.layout.link=i.Tag.render(d||(d=n`
				<${0} class="ui-migration-bar__link">${0}</${0}>
			`),e,this.link.text,e);const s=()=>{this.layout.link.classList.add("--cursor-pointer")};if(this.link.href){s();this.layout.link.href=this.link.href}if(this.link.target){this.layout.link.target=this.link.target}if(this.link.events){s();const t=Object.keys(this.link.events);t.forEach((t=>{this.layout.link.addEventListener(t,(()=>{this.link.events[t]()}))}))}}return this.layout.link}getHint(){if(!this.layout.hint){this.layout.hint=i.Tag.render(g||(g=n`
				<div class="ui-migration-bar__hint">
					<div class="ui-migration-bar__hint-icon"></div>
				</div>
			`));const t=200;const e=20;this.popupHint=new s.Popup(null,this.layout.hint,{darkMode:true,content:this.hint,angle:{offset:t/2-16},width:t,offsetLeft:-(t/2)+e/2+40,animation:"fading-slide"});this.layout.hint.addEventListener("mouseover",(()=>{this.popupHint.show()}));this.layout.hint.addEventListener("mouseleave",(()=>{this.popupHint.close()}))}return this.layout.hint}adjustItemData(){this.items=this.items.map((t=>({id:t.id?t.id:null,src:t.src?t.src:null,events:t.events?t.events:null})))}setButtons(){if(this.buttons.length>0){this.buttons.forEach((t=>{const i=Object.assign({},t);t=new e.Button(i);this.getButtonsContainer().appendChild(t.render())}))}}render(){var t;if(this.target){this.getWrapper().style.setProperty("height",this.target.offsetHeight+"px");this.target.appendChild(this.getWrapper());this.getWrapper().appendChild(this.getContainer())}if(this.items.length>0){this.items.forEach((t=>{let e=t;e=i.Tag.render(c||(c=n`
					<img class="ui-migration-bar__item">
				`));this.getItemContainer().appendChild(e);const s=Object.keys(t);for(let i=0;i<s.length;i++){const n=s[i];e.setAttribute(n,t[n])}}))}if((t=this.link)!=null&&t.text){this.getItemContainer().appendChild(this.getLink())}}remove(){this.getContainer().classList.add("--close");this.getContainer().addEventListener("animationend",(()=>{this.getContainer().classList.remove("--close");this.getContainer().remove();this.getWrapper().remove()}),{once:true})}show(){this.adjustItemData();this.setButtons();this.render()}}t.MigrationBar=p})(this.BX.UI=this.BX.UI||{},BX,BX.UI,BX.Main);
//# sourceMappingURL=migrationbar.bundle.map.js