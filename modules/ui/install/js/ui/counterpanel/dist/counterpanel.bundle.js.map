{"version":3,"file":"counterpanel.bundle.js","sources":["../src/item.js","../src/panel.js"],"sourcesContent":["import { Tag, Type, Dom } from 'main.core';\nimport { Counter } from 'ui.cnt';\nimport { EventEmitter } from \"main.core.events\";\n\nexport default class CounterItem\n{\n\tconstructor(args)\n\t{\n\t\tthis.id = args.id ? args.id : null;\n\t\tthis.separator = Type.isBoolean(args.separator) ? args.separator : true;\n\t\tthis.items = Type.isArray(args.items) ? args.items : [];\n\t\tthis.popupMenu = null;\n\t\tthis.isActive = Type.isBoolean(args.isActive) ? args.isActive : false;\n\t\tthis.panel = args.panel ? args.panel : null;\n\t\tthis.title = args.title ? args.title : null;\n\t\tthis.value = (Type.isNumber(args.value) && args.value !== undefined) ? args.value : null;\n\t\tthis.titleOrder = null;\n\t\tthis.valueOrder = null;\n\t\tthis.color = args.color ? args.color : null;\n\t\tthis.parent = Type.isBoolean(args.parent) ? args.parent : null;\n\t\tthis.parentId = args.parentId ? args.parentId : null;\n\t\tthis.locked = false;\n\t\tthis.type = Type.isString(args.type) ? args.type.toLowerCase() : null;\n\t\tthis.eventsForActive = Type.isObject(args.eventsForActive) ? args.eventsForActive : {};\n\t\tthis.eventsForUnActive = Type.isObject(args.eventsForUnActive) ? args.eventsForUnActive : {};\n\n\t\tif (Type.isObject(args.title))\n\t\t{\n\t\t\tthis.title = args.title.value ? args.title.value : null;\n\t\t\tthis.titleOrder = Type.isNumber(args.title.order) ? args.title.order : null;\n\t\t}\n\n\t\tif (Type.isObject(args.value))\n\t\t{\n\t\t\tthis.value = Type.isNumber(args.value.value) ? args.value.value : null;\n\t\t\tthis.valueOrder = Type.isNumber(args.value.order) ? args.value.order : null;\n\t\t}\n\n\t\tthis.layout = {\n\t\t\tcontainer: null,\n\t\t\tvalue: null,\n\t\t\ttitle: null,\n\t\t\tcross: null,\n\t\t\tdropdownArrow: null,\n\t\t\tmenuItem: null\n\t\t};\n\n\t\tthis.counter = this.#getCounter();\n\n\t\tif (!this.#getPanel().isMultiselect())\n\t\t{\n\t\t\tthis.#bindEvents();\n\t\t}\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.items;\n\t}\n\n\thasParentId()\n\t{\n\t\treturn this.parentId;\n\t}\n\n\t#bindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.UI.CounterPanel.Item:activate', (item) => {\n\t\t\tconst isLinkedItems = item.data.parentId === this.id;\n\t\t\tif (item.data !== this && !isLinkedItems)\n\t\t\t{\n\t\t\t\tthis.deactivate();\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateValue(param: Number)\n\t{\n\t\tif (Type.isNumber(param))\n\t\t{\n\t\t\tthis.value = param;\n\t\t\tthis.#getCounter().update(param);\n\n\t\t\tif (param === 0)\n\t\t\t{\n\t\t\t\tthis.updateColor(this.parentId ? 'GRAY' : 'THEME');\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateValueAnimate(param: Number)\n\t{\n\t\tif (Type.isNumber(param))\n\t\t{\n\t\t\tthis.value = param;\n\t\t\tthis.#getCounter().update(param);\n\t\t\tthis.#getCounter().show();\n\n\t\t\tif (param === 0)\n\t\t\t{\n\t\t\t\tthis.updateColor(this.parentId ? 'GRAY' : 'THEME');\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateColor(param: string)\n\t{\n\t\tif (Type.isString(param))\n\t\t{\n\t\t\tthis.color = param;\n\t\t\tthis.#getCounter().setColor(Counter.Color[param]);\n\t\t}\n\t}\n\n\tactivate(isEmitEvent: boolean = true)\n\t{\n\t\tthis.isActive = true;\n\t\tif (this.parentId)\n\t\t{\n\t\t\tconst target = BX.findParent(\n\t\t\t\tthis.getContainerMenu(),\n\t\t\t\t{\n\t\t\t\t\t'className': 'ui-counter-panel__popup-item'\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (target)\n\t\t\t{\n\t\t\t\ttarget.classList.add('--active');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getContainer().classList.add('--active');\n\t\t}\n\n\t\tif (isEmitEvent)\n\t\t{\n\t\t\tEventEmitter.emit('BX.UI.CounterPanel.Item:activate', this);\n\t\t}\n\t}\n\n\tdeactivate(isEmitEvent: boolean = true)\n\t{\n\t\tthis.isActive = false;\n\t\tif (this.parentId)\n\t\t{\n\t\t\tconst target = BX.findParent(\n\t\t\t\tthis.getContainerMenu(),\n\t\t\t\t{\n\t\t\t\t\t'className': 'ui-counter-panel__popup-item'\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (target)\n\t\t\t{\n\t\t\t\ttarget.classList.remove('--active');\n\t\t\t\ttarget.classList.remove('--hover');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getContainer().classList.remove('--active');\n\t\t\tthis.getContainer().classList.remove('--hover');\n\t\t}\n\n\t\tif (isEmitEvent)\n\t\t{\n\t\t\tEventEmitter.emit('BX.UI.CounterPanel.Item:deactivate', this);\n\t\t}\n\t}\n\n\tgetSeparator()\n\t{\n\t\treturn this.separator;\n\t}\n\n\t#getPanel()\n\t{\n\t\treturn this.panel;\n\t}\n\n\t#getCounter(value: Number, color: String)\n\t{\n\t\tif (!this.counter)\n\t\t{\n\t\t\tthis.counter = new Counter({\n\t\t\t\tvalue: this.value,\n\t\t\t\tcolor: this.color ? Counter.Color[this.color.toUpperCase()] : (this.parentId ? Counter.Color.GRAY : Counter.Color.THEME),\n\t\t\t\tanimation: false\n\t\t\t});\n\t\t}\n\n\t\treturn this.counter;\n\t}\n\n\t#getValue()\n\t{\n\t\tif (!this.layout.value)\n\t\t{\n\t\t\tthis.layout.value = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel__item-value\">\n\t\t\t\t\t${this.#getCounter().getContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.layout.value.style.setProperty('order', this.valueOrder);\n\t\t}\n\n\t\treturn this.layout.value;\n\t}\n\n\t#getTitle()\n\t{\n\t\tif (!this.layout.title)\n\t\t{\n\t\t\tthis.layout.title = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel__item-title\">${this.title}</div>\n\t\t\t`;\n\n\t\t\tthis.layout.title.style.setProperty('order', this.titleOrder);\n\t\t}\n\n\t\treturn this.layout.title;\n\t}\n\n\t#getCross()\n\t{\n\t\tif (!this.layout.cross)\n\t\t{\n\t\t\tthis.layout.cross = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel__item-cross\">\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.cross;\n\t}\n\n\tsetEvents(container)\n\t{\n\t\tif (!container) \n\t\t{\n\t\t\tcontainer = this.getContainer();\n\t\t}\n\t\t\n\t\tif (this.eventsForActive)\n\t\t{\n\t\t\tconst eventKeys = Object.keys(this.eventsForActive);\n\n\t\t\tfor (let i = 0; i < eventKeys.length; i++)\n\t\t\t{\n\t\t\t\tlet event = eventKeys[i];\n\t\t\t\tcontainer.addEventListener(event, () => {\n\t\t\t\t\tif (this.isActive)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.eventsForActive[event]();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (this.eventsForUnActive)\n\t\t{\n\t\t\tconst eventKeys = Object.keys(this.eventsForUnActive);\n\n\t\t\tfor (let i = 0; i < eventKeys.length; i++)\n\t\t\t{\n\t\t\t\tlet event = eventKeys[i];\n\t\t\t\tcontainer.addEventListener(event, () => {\n\t\t\t\t\tif (!this.isActive)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.eventsForUnActive[event]();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tisLocked()\n\t{\n\t\treturn this.locked;\n\t}\n\n\tlock()\n\t{\n\t\tthis.locked = true;\n\t\tthis.getContainer().classList.add('--locked');\n\t}\n\n\tunLock()\n\t{\n\t\tthis.locked = false;\n\t\tthis.getContainer().classList.remove('--locked');\n\t}\n\n\tgetArrowDropdown()\n\t{\n\t\tif (!this.layout.dropdownArrow)\n\t\t{\n\t\t\tthis.layout.dropdownArrow = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel__item-dropdown\">\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.dropdownArrow;\n\t}\n\n\tgetContainerMenu()\n\t{\n\t\tif (!this.layout.menuItem)\n\t\t{\n\t\t\tthis.layout.menuItem = Tag.render`\n\t\t\t\t<span>\n\t\t\t\t\t${this.#getValue()}\n\t\t\t\t\t${this.title}\n\t\t\t\t\t${this.#getCross()}\n\t\t\t\t</span>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.menuItem;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.layout.container)\n\t\t{\n\t\t\tconst type = this.type ? `id=\"ui-counter-panel-item-${this.type}\"` : '';\n\t\t\tconst isValue = Type.isNumber(this.value);\n\n\t\t\tthis.layout.container = Tag.render`\n\t\t\t\t<div ${type} class=\"ui-counter-panel__item\">\n\t\t\t\t\t${isValue ? this.#getValue() : ''}\n\t\t\t\t\t${this.title ? this.#getTitle() : ''}\n\t\t\t\t\t${isValue ? this.#getCross() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tif (this.parent)\n\t\t\t{\n\t\t\t\tthis.layout.container = Tag.render`\n\t\t\t\t\t<div class=\"ui-counter-panel__item\">\n\t\t\t\t\t\t${this.title ? this.#getTitle() : ''}\n\t\t\t\t\t\t${isValue ? this.#getValue() : ''}\n\t\t\t\t\t\t${this.#getCross()}\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tthis.#getCross().addEventListener('click', (ev) => {\n\t\t\t\t\tthis.deactivate();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t});\n\n\t\t\t\tDom.addClass(this.layout.container, '--dropdown');\n\t\t\t}\n\n\t\t\tif (!isValue)\n\t\t\t{\n\t\t\t\tthis.layout.container.classList.add('--string');\n\t\t\t}\n\n\t\t\tif (!isValue && !this.eventsForActive && !this.eventsForUnActive)\n\t\t\t{\n\t\t\t\tthis.layout.container.classList.add('--title');\n\t\t\t}\n\n\t\t\tif (!this.separator)\n\t\t\t{\n\t\t\t\tthis.layout.container.classList.add('--without-separator');\n\t\t\t}\n\n\t\t\tif (this.locked)\n\t\t\t{\n\t\t\t\tthis.layout.container.classList.add('--locked');\n\t\t\t}\n\n\t\t\tif (this.isActive)\n\t\t\t{\n\t\t\t\tthis.activate();\n\t\t\t}\n\n\t\t\tthis.setEvents(this.layout.container);\n\n\t\t\tif (isValue && this.items.length === 0)\n\t\t\t{\n\t\t\t\tif (!this.parent)\n\t\t\t\t{\n\t\t\t\t\tthis.layout.container.addEventListener('mouseenter', () => {\n\t\t\t\t\t\tif (!this.isActive)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.layout.container.classList.add('--hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.layout.container.addEventListener('mouseleave', () => {\n\t\t\t\t\t\tif (!this.isActive)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.layout.container.classList.remove('--hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.layout.container.addEventListener('click', () => {\n\t\t\t\t\t\tthis.isActive\n\t\t\t\t\t\t\t? this.deactivate()\n\t\t\t\t\t\t\t: this.activate();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.parent)\n\t\t\t{\n\t\t\t\tDom.append(this.getArrowDropdown(), this.layout.container);\n\t\t\t}\n\t\t}\n\n\t\treturn this.layout.container;\n\t}\n}\n","import { Dom, Tag, Type } from 'main.core';\nimport { PopupMenuWindow } from 'main.popup';\nimport CounterItem from './item';\nimport 'ui.fonts.opensans';\nimport './style.css';\n\nexport default class CounterPanel\n{\n\tconstructor(options: {\n\t\ttarget: HTMLElement,\n\t\titems: Array,\n\t\tmultiselect: Boolean,\n\t\ttitle: String\n\t})\n\t{\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tthis.items = Type.isArray(options.items) ? options.items : [];\n\t\tthis.multiselect = Type.isBoolean(options.multiselect) ? options.multiselect : null;\n\t\tthis.title = Type.isStringFilled(options.title) ? options.title : null;\n\t\tthis.container = null;\n\t\tthis.keys = [];\n\t\tthis.hasParent = [];\n\t\tthis.childKeys = [];\n\t}\n\n\t#adjustData()\n\t{\n\t\tthis.items = this.items.map(item => {\n\t\t\titem.panel = this;\n\t\t\tthis.keys.push(item.id);\n\t\t\tif (item.parentId)\n\t\t\t{\n\t\t\t\tthis.hasParent.push(item.parentId);\n\t\t\t}\n\t\t\treturn new CounterItem(item);\n\t\t});\n\n\t\tthis.hasParent.forEach(item => {\n\t\t\tlet index = this.keys.indexOf(item);\n\t\t\tthis.items[index].parent = true;\n\t\t});\n\n\t\tthis.items.map(item => {\n\t\t\tif (item.parentId)\n\t\t\t{\n\t\t\t\tlet index = this.keys.indexOf(item.parentId);\n\t\t\t\tthis.items[index].items.push(item.id);\n\t\t\t}\n\t\t});\n\t}\n\n\tisMultiselect()\n\t{\n\t\treturn this.multiselect;\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.items;\n\t}\n\n\tgetItemById(param)\n\t{\n\t\tif (param)\n\t\t{\n\t\t\tconst index = this.keys.indexOf(param);\n\t\t\treturn this.items[index];\n\t\t}\n\t}\n\n\t#getContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tlet myHead = '';\n\t\t\tif (this.title)\n\t\t\t{\n\t\t\t\tmyHead = Tag.render`\n\t\t\t\t\t<div class=\"ui-counter-panel__item-head\">${this.title}</div>\n\t\t\t\t`;\n\t\t\t}\n\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel ui-counter-panel__scope\">${myHead}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\t#render()\n\t{\n\t\tif (this.target && this.items.length > 0)\n\t\t{\n\t\t\tthis.items.map((item, key) => {\n\t\t\t\tif (item instanceof CounterItem)\n\t\t\t\t{\n\t\t\t\t\tif (!item.hasParentId())\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.#getContainer().appendChild(item.getContainer());\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis.items.length !== key + 1\n\t\t\t\t\t\t\t&& this.items.length > 1\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.#getContainer().appendChild(Tag.render`\n\t\t\t\t\t\t\t\t<div class=\"ui-counter-panel__item-separator ${!item.getSeparator() ? '--invisible' : ''}\"></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.parent)\n\t\t\t\t\t{\n\t\t\t\t\t\titem.getContainer().addEventListener('click', () => {\n\t\t\t\t\t\t\tconst itemsArr = [];\n\t\t\t\t\t\t\titem.getItems().forEach(item => {\n\t\t\t\t\t\t\t\tconst itemCounter = this.getItemById(item);\n\t\t\t\t\t\t\t\tlet test = {\n\t\t\t\t\t\t\t\t\thtml: itemCounter.getContainerMenu(),\n\t\t\t\t\t\t\t\t\tclassName: `ui-counter-panel__popup-item menu-popup-no-icon ${itemCounter.isActive ? '--active' : ''}`,\n\t\t\t\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\t\t\t\titemCounter.isActive\n\t\t\t\t\t\t\t\t\t\t\t? itemCounter.deactivate()\n\t\t\t\t\t\t\t\t\t\t\t: itemCounter.activate();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\titemsArr.push(test);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tconst popup = new PopupMenuWindow({\n\t\t\t\t\t\t\t\tclassName: 'ui-counter-panel__popup ui-counter-panel__scope',\n\t\t\t\t\t\t\t\tbindElement: item.getArrowDropdown(),\n\t\t\t\t\t\t\t\tautoHide: true,\n\t\t\t\t\t\t\t\tcloseByEsc : true,\n\t\t\t\t\t\t\t\titems: itemsArr,\n\t\t\t\t\t\t\t\tangle: true,\n\t\t\t\t\t\t\t\toffsetLeft: 6,\n\t\t\t\t\t\t\t\toffsetTop: -7,\n\t\t\t\t\t\t\t\tanimation: 'fading-slide',\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tonPopupShow: () => {\n\t\t\t\t\t\t\t\t\t\titem.getContainer().classList.add('--hover');\n\t\t\t\t\t\t\t\t\t\titem.getContainer().classList.add('--pointer-events-none');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\t\t\t\t\titem.getContainer().classList.remove('--hover');\n\t\t\t\t\t\t\t\t\t\titem.getContainer().classList.remove('--pointer-events-none');\n\t\t\t\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tpopup.show();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tDom.clean(this.target);\n\t\t\tthis.target.appendChild(this.#getContainer());\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tthis.#adjustData();\n\t\tthis.#render();\n\t}\n}\n"],"names":["CounterItem","args","id","separator","Type","isBoolean","items","isArray","popupMenu","isActive","panel","title","value","isNumber","undefined","titleOrder","valueOrder","color","parent","parentId","locked","type","isString","toLowerCase","eventsForActive","isObject","eventsForUnActive","order","layout","container","cross","dropdownArrow","menuItem","counter","isMultiselect","param","update","updateColor","show","setColor","Counter","Color","isEmitEvent","target","BX","findParent","getContainerMenu","classList","add","getContainer","EventEmitter","emit","remove","eventKeys","Object","keys","i","event","addEventListener","length","Tag","render","isValue","ev","deactivate","stopPropagation","Dom","addClass","activate","setEvents","append","getArrowDropdown","subscribe","item","isLinkedItems","data","toUpperCase","GRAY","THEME","animation","style","setProperty","CounterPanel","options","isDomNode","multiselect","isStringFilled","hasParent","childKeys","index","indexOf","map","push","forEach","myHead","key","hasParentId","appendChild","getSeparator","itemsArr","getItems","itemCounter","getItemById","test","html","className","onclick","popup","PopupMenuWindow","bindElement","autoHide","closeByEsc","angle","offsetLeft","offsetTop","events","onPopupShow","onPopupClose","destroy","clean"],"mappings":"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"}