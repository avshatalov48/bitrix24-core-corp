{"version":3,"file":"counterpanel.bundle.js","sources":["../src/item.js","../src/panel.js"],"sourcesContent":["import { Tag, Type } from 'main.core';\nimport { Counter } from 'ui.cnt';\nimport { EventEmitter } from \"main.core.events\";\n\nexport default class CounterItem {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.title = Type.isString(options.title) ? options.title : null;\n\t\tthis.value = Type.isNumber(options.value) ? options.value : null;\n\t\tthis.color = Type.isString(options.color) ? options.color : null;\n\t\tthis.eventsForActive = Type.isObject(options.eventsForActive) ? options.eventsForActive : null;\n\t\tthis.eventsForUnActive = Type.isObject(options.eventsForUnActive) ? options.eventsForUnActive : null;\n\t\tthis.panel = options.panel ? options.panel : null;\n\n\t\tthis.layout = {\n\t\t\tcontainer: null,\n\t\t\tvalue: null,\n\t\t\ttitle: null,\n\t\t\tcross: null\n\t\t}\n\n\t\tthis.counter = null;\n\t\tthis.isActive = false;\n\n\t\tif (!this.#getPanel().isMultiselect())\n\t\t{\n\t\t\tthis.#bindEvents();\n\t\t}\n\t}\n\n\t#bindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.UI.CounterPanel.Item:activate', (item) => {\n\t\t\tif (item.data !== this)\n\t\t\t{\n\t\t\t\tthis.deactivate();\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateValue(param: Number)\n\t{\n\t\tif (Type.isNumber(param))\n\t\t{\n\t\t\tthis.value = param;\n\t\t\tthis.#getCounter().update(param);\n\t\t\tthis.#getCounter().show();\n\n\t\t\tif (param === 0)\n\t\t\t{\n\t\t\t\tthis.updateColor('THEME');\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateColor(param: string)\n\t{\n\t\tif (Type.isString(param))\n\t\t{\n\t\t\tthis.color = param;\n\t\t\tthis.#getCounter().setColor(Counter.Color[param]);\n\t\t}\n\t}\n\n\tactivate(isEmitEvent: boolean = true)\n\t{\n\t\tthis.isActive = true;\n\t\tthis.getContainer().classList.add('--active');\n\t\tif(isEmitEvent)\n\t\t{\n\t\t\tEventEmitter.emit('BX.UI.CounterPanel.Item:activate', this);\n\t\t}\n\t}\n\n\tdeactivate(isEmitEvent: boolean = true)\n\t{\n\t\tthis.isActive = false;\n\t\tthis.getContainer().classList.remove('--active');\n\t\tthis.getContainer().classList.remove('--hover');\n\t\tif(isEmitEvent)\n\t\t{\n\t\t\tEventEmitter.emit('BX.UI.CounterPanel.Item:deactivate', this);\n\t\t}\n\t}\n\n\t#getPanel()\n\t{\n\t\treturn this.panel;\n\t}\n\n\t#getCounter()\n\t{\n\t\tif (!this.counter)\n\t\t{\n\t\t\tthis.counter = new Counter({\n\t\t\t\tvalue: this.value ? this.value : 0,\n\t\t\t\tcolor: this.color ? Counter.Color[this.color] : Counter.Color.THEME,\n\t\t\t\tanimation: true\n\t\t\t});\n\t\t}\n\n\t\treturn this.counter;\n\t}\n\n\t#getValue()\n\t{\n\t\tif (!this.layout.value)\n\t\t{\n\t\t\tthis.layout.value = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel__item-value\">\n\t\t\t\t\t${this.#getCounter().getContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.value;\n\t}\n\n\t#getTitle()\n\t{\n\t\tif (!this.layout.title)\n\t\t{\n\t\t\tthis.layout.title = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel__item-title\">${this.title}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.title;\n\t}\n\n\t#getCross()\n\t{\n\t\tif (!this.layout.cross)\n\t\t{\n\t\t\tthis.layout.cross = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel__item-cross\">\n\t\t\t\t\t<div class=\"ui-counter-panel__item-cross--icon\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.layout.cross;\n\t}\n\t\n\t#setEvents()\n\t{\n\t\tif (this.eventsForActive)\n\t\t{\n\t\t\tconst eventKeys = Object.keys(this.eventsForActive);\n\n\t\t\tfor (let i = 0; i < eventKeys.length; i++)\n\t\t\t{\n\t\t\t\tlet event = eventKeys[i];\n\t\t\t\tthis.getContainer().addEventListener(event, () => {\n\t\t\t\t\tif (this.isActive)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.eventsForActive[event]();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (this.eventsForUnActive)\n\t\t{\n\t\t\tconst eventKeys = Object.keys(this.eventsForUnActive);\n\n\t\t\tfor (let i = 0; i < eventKeys.length; i++)\n\t\t\t{\n\t\t\t\tlet event = eventKeys[i];\n\t\t\t\tthis.getContainer().addEventListener(event, () => {\n\t\t\t\t\tif (!this.isActive)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.eventsForUnActive[event]();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.layout.container)\n\t\t{\n\t\t\tthis.layout.container = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel__item\">\n\t\t\t\t\t${this.#getValue()}\n\t\t\t\t\t${this.title ? this.#getTitle() : ''}\n\t\t\t\t\t${this.#getCross()}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.#setEvents();\n\n\t\t\tthis.layout.container.addEventListener('mouseenter', () => {\n\t\t\t\tif (!this.isActive)\n\t\t\t\t{\n\t\t\t\t\tthis.layout.container.classList.add('--hover');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.layout.container.addEventListener('mouseleave', () => {\n\t\t\t\tif (!this.isActive)\n\t\t\t\t{\n\t\t\t\t\tthis.layout.container.classList.remove('--hover');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.layout.container.addEventListener('click', () => {\n\t\t\t\tthis.isActive\n\t\t\t\t\t? this.deactivate()\n\t\t\t\t\t: this.activate();\n\t\t\t});\n\t\t}\n\n\t\treturn this.layout.container;\n\t}\n}\n","import { Dom, Tag, Type } from 'main.core';\nimport CounterItem from './item';\nimport './style.css';\n\nexport default class CounterPanel\n{\n\tconstructor(options: {\n\t\ttarget: HTMLElement,\n\t\titems: Array,\n\t\tmultiselect: Boolean\n\t})\n\t{\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tthis.items = Type.isArray(options.items) ? options.items : [];\n\t\tthis.multiselect = Type.isBoolean(options.multiselect) ? options.multiselect : null;\n\t\tthis.container = null;\n\t\tthis.keys = [];\n\t}\n\n\t#adjustData()\n\t{\n\t\tthis.items = this.items.map((item) => {\n\n\t\t\tthis.keys.push(item.id);\n\n\t\t\treturn new CounterItem({\n\t\t\t\tid: item.id ? item.id : null,\n\t\t\t\ttitle: item.title ? item.title : null,\n\t\t\t\tvalue: item.value ? parseInt(item.value, 10) : null,\n\t\t\t\tcross: item.cross ? item.cross : null,\n\t\t\t\tcolor: item.color ? item.color : null,\n\t\t\t\teventsForActive: item.eventsForActive ? item.eventsForActive : null,\n\t\t\t\teventsForUnActive: item.eventsForUnActive ? item.eventsForUnActive : null,\n\t\t\t\tpanel: this\n\t\t\t});\n\t\t});\n\n\t\tthis.getItemById();\n\t}\n\n\tisMultiselect()\n\t{\n\t\treturn this.multiselect;\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.items;\n\t}\n\n\tgetItemById(param)\n\t{\n\t\tif (param)\n\t\t{\n\t\t\tconst index = this.keys.indexOf(param);\n\t\t\treturn this.items[index];\n\t\t}\n\t}\n\n\t#getContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-counter-panel ui-counter-panel__scope\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\t#render()\n\t{\n\t\tif (this.target && this.items.length > 0)\n\t\t{\n\t\t\tthis.items.map((item, key) => {\n\t\t\t\tif (item instanceof CounterItem)\n\t\t\t\t{\n\t\t\t\t\tthis.#getContainer().appendChild(item.getContainer());\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.items.length !== key + 1\n\t\t\t\t\t\t&& this.items.length > 1\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.#getContainer().appendChild(Tag.render`\n\t\t\t\t\t\t\t<div class=\"ui-counter-panel__item-separator\"></div>\n\t\t\t\t\t\t`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tDom.clean(this.target);\n\t\t\tthis.target.appendChild(this.#getContainer());\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tthis.#adjustData();\n\t\tthis.#render();\n\t}\n}\n"],"names":["CounterItem","options","id","title","Type","isString","value","isNumber","color","eventsForActive","isObject","eventsForUnActive","panel","layout","container","cross","counter","isActive","isMultiselect","param","update","show","updateColor","setColor","Counter","Color","isEmitEvent","getContainer","classList","add","EventEmitter","emit","remove","Tag","render","addEventListener","deactivate","activate","subscribe","item","data","THEME","animation","eventKeys","Object","keys","i","event","length","CounterPanel","target","isDomNode","items","isArray","multiselect","isBoolean","index","indexOf","map","push","parseInt","getItemById","key","appendChild","Dom","clean"],"mappings":"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"}