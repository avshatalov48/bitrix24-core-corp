{"version":3,"file":"hint.bundle.js","sources":["../src/tooltip.js","../src/directive.js"],"sourcesContent":["import { Popup, PopupOptions } from 'main.popup';\nimport { Tag, Text, Type } from 'main.core';\n\nclass Tooltip\n{\n\tconstructor(): void\n\t{\n\t\tthis.popup = null;\n\t}\n\n\tshow(\n\t\telement: HTMLElement,\n\t\tbindings: Object = {}\n\t): void\n\t{\n\t\tif (this.popup)\n\t\t{\n\t\t\tthis.popup.close();\n\t\t}\n\n\t\tlet popupOptions: PopupOptions = {};\n\n\t\tlet text;\n\t\tif (Type.isObject(bindings.value))\n\t\t{\n\t\t\tif (bindings.value.text)\n\t\t\t{\n\t\t\t\ttext = Text.encode(bindings.value.text);\n\t\t\t}\n\t\t\telse if (bindings.value.html)\n\t\t\t{\n\t\t\t\ttext = bindings.value.html;\n\t\t\t}\n\n\t\t\tif (Type.isObject(bindings.value.popupOptions))\n\t\t\t{\n\t\t\t\tpopupOptions = bindings.value.popupOptions;\n\t\t\t}\n\n\t\t\tif (bindings.value.position === 'top')\n\t\t\t{\n\t\t\t\tif (!Type.isObject(popupOptions.bindOptions))\n\t\t\t\t{\n\t\t\t\t\tpopupOptions.bindOptions = {};\n\t\t\t\t}\n\n\t\t\t\tpopupOptions.bindOptions.position = 'top';\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttext = bindings.value;\n\t\t\tif (Type.isUndefined(element.dataset.hintHtml))\n\t\t\t{\n\t\t\t\ttext = Text.encode(text);\n\t\t\t}\n\t\t}\n\n\t\tpopupOptions.bindElement = element;\n\n\t\tif (Type.isUndefined(popupOptions.id))\n\t\t{\n\t\t\tpopupOptions.id = 'bx-vue-hint';\n\t\t}\n\n\t\tif (Type.isUndefined(popupOptions.darkMode))\n\t\t{\n\t\t\tpopupOptions.darkMode = true;\n\t\t}\n\n\t\tif (Type.isUndefined(popupOptions.content))\n\t\t{\n\t\t\tconst content = Tag.render`<span class='ui-hint-content'></span>`;\n\t\t\tcontent.innerHTML = text;\n\t\t\tpopupOptions.content = content;\n\t\t}\n\n\t\tif (Type.isUndefined(popupOptions.autoHide))\n\t\t{\n\t\t\tpopupOptions.autoHide = true;\n\t\t}\n\n\t\tif (!Type.isObject(popupOptions.bindOptions))\n\t\t{\n\t\t\tpopupOptions.bindOptions = {};\n\t\t}\n\t\tif (Type.isUndefined(popupOptions.bindOptions.position))\n\t\t{\n\t\t\tpopupOptions.bindOptions.position = 'bottom';\n\t\t}\n\n\t\tpopupOptions.cacheable = false;\n\n\t\tthis.popup = new Popup(popupOptions);\n\t\tthis.popup.show();\n\t}\n\n\thide(): void\n\t{\n\t\tif (this.popup)\n\t\t{\n\t\t\tthis.popup.close();\n\t\t}\n\t}\n}\n\nconst TooltipManager = new Tooltip;\nexport {TooltipManager as Tooltip};","/**\n * Hint Vue directive\n *\n * @package bitrix\n * @subpackage ui\n * @copyright 2001-2022 Bitrix\n */\n\n/*\n\t<span v-hint=\"$Bitrix.Loc.getMessage('HINT_HTML')\" data-hint-html>Html code</span>\n\t<span v-hint=\"{text: 'Text node'}\">Plain text</span>\n\t<span v-hint=\"{html: '<b>Html</b> code'}\">Html code</span>\n\t<span v-hint=\"{text: 'Custom position top and light mode', position: 'top', popupOptions: {darkMode: false}}\">Text top on light panel</span>\n*/\n\nimport {Tooltip} from './tooltip';\nimport {Event} from 'main.core';\nimport 'ui.hint';\n\nexport const hint = {\n\tbeforeMount(element: HTMLElement, bindings): void\n\t{\n\t\tEvent.bind(element, 'mouseenter', () => Tooltip.show(element, bindings));\n\t\tEvent.bind(element, 'mouseleave', () => Tooltip.hide());\n\t}\n};"],"names":["Tooltip","constructor","popup","show","element","bindings","close","popupOptions","text","Type","isObject","value","Text","encode","html","position","bindOptions","isUndefined","dataset","hintHtml","bindElement","id","darkMode","content","Tag","render","innerHTML","autoHide","cacheable","Popup","hide","TooltipManager","hint","beforeMount","Event","bind"],"mappings":"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"}