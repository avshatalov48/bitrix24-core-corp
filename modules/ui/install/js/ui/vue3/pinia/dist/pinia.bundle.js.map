{"version":3,"sources":["../src/wrap/start.js","../src/pinia.js","../src/wrap/end.js"],"names":["isVue2","set","object","key","value","Array","isArray","length","Math","max","splice","del","getDevtoolsGlobalHook","getTarget","__VUE_DEVTOOLS_GLOBAL_HOOK__","navigator","window","global","HOOK_SETUP","setupDevtoolsPlugin","pluginDescriptor","setupFn","hook","emit","target","list","__VUE_DEVTOOLS_PLUGINS__","push","activePinia","setActivePinia","pinia","getActivePinia","getCurrentInstance","inject","piniaSymbol","Symbol","isPlainObject","o","Object","prototype","toString","call","toJSON","MutationType","IS_CLIENT","USE_DEVTOOLS","_global","self","globalThis","HTMLElement","bom","blob","autoBom","test","type","Blob","String","fromCharCode","download","url","name","opts","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","console","error","send","corsEnabled","e","status","click","node","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","_navigator","userAgent","isMacOSWebView","HTMLAnchorElement","downloadSaveAs","msSaveAs","fileSaverSaveAs","a","createElement","rel","href","origin","location","URL","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","isChromeIOS","FileReader","reader","onloadend","result","Error","replace","assign","readAsDataURL","toastMessage","message","piniaMessage","__VUE_DEVTOOLS_TOAST__","warn","log","isPinia","checkClipboardAccess","checkNotFocusedError","toLowerCase","includes","actionGlobalCopyState","clipboard","writeText","JSON","stringify","state","actionGlobalPasteState","parse","readText","actionGlobalSaveState","fileInput","getFileOpener","accept","openFile","Promise","resolve","reject","onchange","files","file","item","text","oncancel","actionGlobalOpenStateFile","formatDisplay","display","_custom","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","store","id","label","$id","formatStoreForInspectorState","storeNames","from","_s","keys","storeMap","map","storeId","editable","getters","filter","get","_getters","reduce","$state","getterName","_customProperties","size","customProperties","formatEventData","events","data","event","operations","oldValue","newValue","operation","formatMutationType","direct","patchFunction","patchObject","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","getStoreType","registerPiniaDevtools","app","logo","packageName","homepage","api","now","addTimelineLayer","color","addInspector","icon","treeFilterPlaceholder","actions","action","tooltip","sendInspectorTree","sendInspectorState","nodeActions","nodeId","_isOptionsAPI","$reset","on","inspectComponent","payload","ctx","proxy","componentInstance","_pStores","piniaStores","values","forEach","instanceData","toRaw","getInspectorTree","inspectorId","stores","concat","rootNodes","getInspectorState","inspectedStore","editInspectorState","path","has","unshift","editComponentState","startsWith","addStoreToDevtools","settings","logStoreChanges","defaultValue","bind","Date","$onAction","after","onError","args","groupId","runningActionId","addTimelineEvent","layerId","time","subtitle","activeAction","undefined","logType","watch","unref","notifyComponentUpdate","deep","$subscribe","eventData","detached","flush","hotUpdate","_hotUpdate","markRaw","newStore","info","$dispose","getSettings","patchActionForGrouping","actionNames","storeActions","actionName","_actionId","trackedStore","Proxy","Reflect","apply","arguments","devtoolsPlugin","options","originalHotUpdate","_hmrPayload","createPinia","scope","effectScope","run","ref","_p","toBeInstalled","install","_a","provide","config","globalProperties","$pinia","plugin","use","_e","Map","isUseStore","fn","newState","oldState","subPatch","targetValue","isRef","isReactive","acceptHMRUpdate","initialUseStore","hot","newModule","_pinia","exportName","useStore","invalidate","existingStore","noop","addSubscription","subscriptions","callback","onCleanup","removeSubscription","idx","indexOf","onUnmounted","triggerSubscriptions","slice","mergeReactiveObjects","patchToApply","Set","add","hasOwnProperty","skipHydrateSymbol","skipHydrate","obj","defineProperty","shouldHydrate","isComputed","effect","createOptionsStore","initialState","setup","localState","toRefs","computedGetters","computed","createSetupStore","$patch","isOptionsStore","optionsForPlugin","active","$subscribeOptions","onTrigger","isListening","debuggerEvents","_hotUpdating","isSyncListening","actionSubscriptions","hotState","activeListener","partialStateOrMutator","subscriptionMutation","myListenerId","nextTick","then","stop","delete","wrapAction","afterCallbackList","onErrorCallbackList","ret","catch","partialStore","stopWatcher","reactive","setupStore","prop","toRef","actionValue","stateKey","newStateTarget","oldStateSource","getter","getterValue","nonEnumerable","writable","configurable","enumerable","p","extender","extensions","constructor","hydrate","defineStore","idOrOptions","setupOptions","isSetupStore","currentInstance","hotId","vm","cache","mapStoreSuffix","setMapStoreSuffix","suffix","mapStores","reduced","mapState","keysOrMapper","storeKey","mapGetters","mapActions","mapWritableState","storeToRefs","refs","PiniaVuePlugin","_Vue","mixin","beforeCreate","$options","_provided","provideCache","v","parent","destroyed","version"],"mappings":"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","file":"pinia.bundle.js.map","sourcesContent":[null,"/**\n * pinia v2.0.22\n * (c) 2022 Eduardo San Martin Morote\n * @license MIT\n *\n * @source: https://unpkg.com/pinia@2.0.11/dist/pinia.esm-browser.js\n * @source: https://github.com/vueuse/vue-demi/blob/master/lib/v3/index.cjs\n */\n\n/**\n * Modify list for integration with Bitrix Framework:\n * - remove vue-demi library from global import, replace to 'ui.vue3';\n * - remove import '@vue/devtools-api', add function setupDevtoolsPlugin\n * - replace emoji 'pineapple' to ':Pinia:', replace all emoji to text\n * - added const 'isVue2'\n * - added 'set' and 'del' functions similar to functions from the vue-demi library\n */\n\nimport { getCurrentInstance, inject, toRaw, watch, unref, markRaw, effectScope, ref, isRef, isReactive, onUnmounted, reactive, toRef, nextTick, computed, toRefs } from 'ui.vue3';\n\nconst isVue2 = false;\n\nfunction set(object, key, value): any\n{\n\tif (Array.isArray(object))\n\t{\n\t\tobject.length = Math.max(object.length, key);\n\t\tobject.splice(key, 1, value);\n\t}\n\telse if (typeof object === 'object')\n\t{\n\t\tobject[key] = value;\n\t}\n\n\treturn value;\n}\n\nfunction del(object, key): void\n{\n\tif (Array.isArray(object))\n\t{\n\t\tobject.splice(key, 1);\n\t}\n\telse if (typeof object === 'object')\n\t{\n\t\tdelete object[key];\n\t}\n}\n\nfunction getDevtoolsGlobalHook() {\n\treturn getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nfunction getTarget() {\n\t// @ts-ignore\n\treturn typeof navigator !== 'undefined'\n\t\t? window\n\t\t: typeof global !== 'undefined'\n\t\t\t? global\n\t\t\t: {};\n}\n\nconst HOOK_SETUP = 'devtools-plugin:setup';\n\nfunction setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n\tconst hook = getDevtoolsGlobalHook();\n\tif (hook) {\n\t\thook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n\t}\n\telse {\n\t\tconst target = getTarget();\n\t\tconst list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n\t\tlist.push({\n\t\t\tpluginDescriptor,\n\t\t\tsetupFn\n\t\t});\n\t}\n}\n\n// origin-start\n/**\n * setActivePinia must be called to handle SSR at the top of functions like\n * `fetch`, `setup`, `serverPrefetch` and others\n */\nlet activePinia;\n/**\n * Sets or unsets the active pinia. Used in SSR and internally when calling\n * actions and getters\n *\n * @param pinia - Pinia instance\n */\nconst setActivePinia = (pinia) => (activePinia = pinia);\n/**\n * Get the currently active pinia if there is any.\n */\nconst getActivePinia = () => (getCurrentInstance() && inject(piniaSymbol)) || activePinia;\nconst piniaSymbol = (Symbol('pinia') );\n\nfunction isPlainObject(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\no) {\n\treturn (o &&\n\t\ttypeof o === 'object' &&\n\t\tObject.prototype.toString.call(o) === '[object Object]' &&\n\t\ttypeof o.toJSON !== 'function');\n}\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\n// TODO: can we change these to numbers?\n/**\n * Possible types for SubscriptionCallback\n */\nvar MutationType;\n(function (MutationType) {\n\t/**\n\t * Direct mutation of the state:\n\t *\n\t * - `store.name = 'new name'`\n\t * - `store.$state.name = 'new name'`\n\t * - `store.list.push('new item')`\n\t */\n\tMutationType[\"direct\"] = \"direct\";\n\t/**\n\t * Mutated the state with `$patch` and an object\n\t *\n\t * - `store.$patch({ name: 'newName' })`\n\t */\n\tMutationType[\"patchObject\"] = \"patch object\";\n\t/**\n\t * Mutated the state with `$patch` and a function\n\t *\n\t * - `store.$patch(state => state.name = 'newName')`\n\t */\n\tMutationType[\"patchFunction\"] = \"patch function\";\n\t// maybe reset? for $state = {} and $reset\n})(MutationType || (MutationType = {}));\n\nconst IS_CLIENT = typeof window !== 'undefined';\n/**\n * Should we add the devtools plugins.\n * - only if dev mode or forced through the prod devtools flag\n * - not in test\n * - only if window exists (could change in the future)\n */\nconst USE_DEVTOOLS = IS_CLIENT;\n\n/*\n * FileSaver.js A saveAs() FileSaver implementation.\n *\n * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin\n * Morote.\n *\n * License : MIT\n */\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nconst _global = /*#__PURE__*/ (() => typeof window === 'object' && window.window === window\n\t? window\n\t: typeof self === 'object' && self.self === self\n\t\t? self\n\t\t: typeof global === 'object' && global.global === global\n\t\t\t? global\n\t\t\t: typeof globalThis === 'object'\n\t\t\t\t? globalThis\n\t\t\t\t: { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\tif (autoBom &&\n\t\t/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\treturn new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n\t}\n\treturn blob;\n}\nfunction download(url, name, opts) {\n\tconst xhr = new XMLHttpRequest();\n\txhr.open('GET', url);\n\txhr.responseType = 'blob';\n\txhr.onload = function () {\n\t\tsaveAs(xhr.response, name, opts);\n\t};\n\txhr.onerror = function () {\n\t\tconsole.error('could not download file');\n\t};\n\txhr.send();\n}\nfunction corsEnabled(url) {\n\tconst xhr = new XMLHttpRequest();\n\t// use sync to avoid popup blocker\n\txhr.open('HEAD', url, false);\n\ttry {\n\t\txhr.send();\n\t}\n\tcatch (e) { }\n\treturn xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n\ttry {\n\t\tnode.dispatchEvent(new MouseEvent('click'));\n\t}\n\tcatch (e) {\n\t\tconst evt = document.createEvent('MouseEvents');\n\t\tevt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n\t\tnode.dispatchEvent(evt);\n\t}\n}\nconst _navigator =\n\ttypeof navigator === 'object' ? navigator : { userAgent: '' };\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nconst isMacOSWebView = /*#__PURE__*/ (() => /Macintosh/.test(_navigator.userAgent) &&\n\t/AppleWebKit/.test(_navigator.userAgent) &&\n\t!/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT\n\t? () => { } // noop\n\t: // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n\ttypeof HTMLAnchorElement !== 'undefined' &&\n\t'download' in HTMLAnchorElement.prototype &&\n\t!isMacOSWebView\n\t\t? downloadSaveAs\n\t\t: // Use msSaveOrOpenBlob as a second approach\n\t\t'msSaveOrOpenBlob' in _navigator\n\t\t\t? msSaveAs\n\t\t\t: // Fallback to using FileReader and a popup\n\t\t\tfileSaverSaveAs;\nfunction downloadSaveAs(blob, name = 'download', opts) {\n\tconst a = document.createElement('a');\n\ta.download = name;\n\ta.rel = 'noopener'; // tabnabbing\n\t// TODO: detect chrome extensions & packaged apps\n\t// a.target = '_blank'\n\tif (typeof blob === 'string') {\n\t\t// Support regular links\n\t\ta.href = blob;\n\t\tif (a.origin !== location.origin) {\n\t\t\tif (corsEnabled(a.href)) {\n\t\t\t\tdownload(blob, name, opts);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta.target = '_blank';\n\t\t\t\tclick(a);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tclick(a);\n\t\t}\n\t}\n\telse {\n\t\t// Support blobs\n\t\ta.href = URL.createObjectURL(blob);\n\t\tsetTimeout(function () {\n\t\t\tURL.revokeObjectURL(a.href);\n\t\t}, 4e4); // 40s\n\t\tsetTimeout(function () {\n\t\t\tclick(a);\n\t\t}, 0);\n\t}\n}\nfunction msSaveAs(blob, name = 'download', opts) {\n\tif (typeof blob === 'string') {\n\t\tif (corsEnabled(blob)) {\n\t\t\tdownload(blob, name, opts);\n\t\t}\n\t\telse {\n\t\t\tconst a = document.createElement('a');\n\t\t\ta.href = blob;\n\t\t\ta.target = '_blank';\n\t\t\tsetTimeout(function () {\n\t\t\t\tclick(a);\n\t\t\t});\n\t\t}\n\t}\n\telse {\n\t\t// @ts-ignore: works on windows\n\t\tnavigator.msSaveOrOpenBlob(bom(blob, opts), name);\n\t}\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n\t// Open a popup immediately do go around popup blocker\n\t// Mostly only available on user interaction and the fileReader is async so...\n\tpopup = popup || open('', '_blank');\n\tif (popup) {\n\t\tpopup.document.title = popup.document.body.innerText = 'downloading...';\n\t}\n\tif (typeof blob === 'string')\n\t\treturn download(blob, name, opts);\n\tconst force = blob.type === 'application/octet-stream';\n\tconst isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;\n\tconst isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\tif ((isChromeIOS || (force && isSafari) || isMacOSWebView) &&\n\t\ttypeof FileReader !== 'undefined') {\n\t\t// Safari doesn't allow downloading of blob URLs\n\t\tconst reader = new FileReader();\n\t\treader.onloadend = function () {\n\t\t\tlet url = reader.result;\n\t\t\tif (typeof url !== 'string') {\n\t\t\t\tpopup = null;\n\t\t\t\tthrow new Error('Wrong reader.result type');\n\t\t\t}\n\t\t\turl = isChromeIOS\n\t\t\t\t? url\n\t\t\t\t: url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\tif (popup) {\n\t\t\t\tpopup.location.href = url;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation.assign(url);\n\t\t\t}\n\t\t\tpopup = null; // reverse-tabnabbing #460\n\t\t};\n\t\treader.readAsDataURL(blob);\n\t}\n\telse {\n\t\tconst url = URL.createObjectURL(blob);\n\t\tif (popup)\n\t\t\tpopup.location.assign(url);\n\t\telse\n\t\t\tlocation.href = url;\n\t\tpopup = null; // reverse-tabnabbing #460\n\t\tsetTimeout(function () {\n\t\t\tURL.revokeObjectURL(url);\n\t\t}, 4e4); // 40s\n\t}\n}\n\n/**\n * Shows a toast or console.log\n *\n * @param message - message to log\n * @param type - different color of the tooltip\n */\nfunction toastMessage(message, type) {\n\tconst piniaMessage = 'Pinia: ' + message;\n\tif (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\n\t\t__VUE_DEVTOOLS_TOAST__(piniaMessage, type);\n\t}\n\telse if (type === 'error') {\n\t\tconsole.error(piniaMessage);\n\t}\n\telse if (type === 'warn') {\n\t\tconsole.warn(piniaMessage);\n\t}\n\telse {\n\t\tconsole.log(piniaMessage);\n\t}\n}\nfunction isPinia(o) {\n\treturn '_a' in o && 'install' in o;\n}\n\nfunction checkClipboardAccess() {\n\tif (!('clipboard' in navigator)) {\n\t\ttoastMessage(`Your browser doesn't support the Clipboard API`, 'error');\n\t\treturn true;\n\t}\n}\nfunction checkNotFocusedError(error) {\n\tif (error instanceof Error &&\n\t\terror.message.toLowerCase().includes('document is not focused')) {\n\t\ttoastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\n\t\treturn true;\n\t}\n\treturn false;\n}\nasync function actionGlobalCopyState(pinia) {\n\tif (checkClipboardAccess())\n\t\treturn;\n\ttry {\n\t\tawait navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\n\t\ttoastMessage('Global state copied to clipboard.');\n\t}\n\tcatch (error) {\n\t\tif (checkNotFocusedError(error))\n\t\t\treturn;\n\t\ttoastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nasync function actionGlobalPasteState(pinia) {\n\tif (checkClipboardAccess())\n\t\treturn;\n\ttry {\n\t\tpinia.state.value = JSON.parse(await navigator.clipboard.readText());\n\t\ttoastMessage('Global state pasted from clipboard.');\n\t}\n\tcatch (error) {\n\t\tif (checkNotFocusedError(error))\n\t\t\treturn;\n\t\ttoastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nasync function actionGlobalSaveState(pinia) {\n\ttry {\n\t\tsaveAs(new Blob([JSON.stringify(pinia.state.value)], {\n\t\t\ttype: 'text/plain;charset=utf-8',\n\t\t}), 'pinia-state.json');\n\t}\n\tcatch (error) {\n\t\ttoastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nlet fileInput;\nfunction getFileOpener() {\n\tif (!fileInput) {\n\t\tfileInput = document.createElement('input');\n\t\tfileInput.type = 'file';\n\t\tfileInput.accept = '.json';\n\t}\n\tfunction openFile() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfileInput.onchange = async () => {\n\t\t\t\tconst files = fileInput.files;\n\t\t\t\tif (!files)\n\t\t\t\t\treturn resolve(null);\n\t\t\t\tconst file = files.item(0);\n\t\t\t\tif (!file)\n\t\t\t\t\treturn resolve(null);\n\t\t\t\treturn resolve({ text: await file.text(), file });\n\t\t\t};\n\t\t\t// @ts-ignore: TODO: changed from 4.3 to 4.4\n\t\t\tfileInput.oncancel = () => resolve(null);\n\t\t\tfileInput.onerror = reject;\n\t\t\tfileInput.click();\n\t\t});\n\t}\n\treturn openFile;\n}\nasync function actionGlobalOpenStateFile(pinia) {\n\ttry {\n\t\tconst open = await getFileOpener();\n\t\tconst result = await open();\n\t\tif (!result)\n\t\t\treturn;\n\t\tconst { text, file } = result;\n\t\tpinia.state.value = JSON.parse(text);\n\t\ttoastMessage(`Global state imported from \"${file.name}\".`);\n\t}\n\tcatch (error) {\n\t\ttoastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\n\nfunction formatDisplay(display) {\n\treturn {\n\t\t_custom: {\n\t\t\tdisplay,\n\t\t},\n\t};\n}\nconst PINIA_ROOT_LABEL = 'Pinia (root)';\nconst PINIA_ROOT_ID = '_root';\nfunction formatStoreForInspectorTree(store) {\n\treturn isPinia(store)\n\t\t? {\n\t\t\tid: PINIA_ROOT_ID,\n\t\t\tlabel: PINIA_ROOT_LABEL,\n\t\t}\n\t\t: {\n\t\t\tid: store.$id,\n\t\t\tlabel: store.$id,\n\t\t};\n}\nfunction formatStoreForInspectorState(store) {\n\tif (isPinia(store)) {\n\t\tconst storeNames = Array.from(store._s.keys());\n\t\tconst storeMap = store._s;\n\t\tconst state = {\n\t\t\tstate: storeNames.map((storeId) => ({\n\t\t\t\teditable: true,\n\t\t\t\tkey: storeId,\n\t\t\t\tvalue: store.state.value[storeId],\n\t\t\t})),\n\t\t\tgetters: storeNames\n\t\t\t\t.filter((id) => storeMap.get(id)._getters)\n\t\t\t\t.map((id) => {\n\t\t\t\t\tconst store = storeMap.get(id);\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\tkey: id,\n\t\t\t\t\t\tvalue: store._getters.reduce((getters, key) => {\n\t\t\t\t\t\t\tgetters[key] = store[key];\n\t\t\t\t\t\t\treturn getters;\n\t\t\t\t\t\t}, {}),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t};\n\t\treturn state;\n\t}\n\tconst state = {\n\t\tstate: Object.keys(store.$state).map((key) => ({\n\t\t\teditable: true,\n\t\t\tkey,\n\t\t\tvalue: store.$state[key],\n\t\t})),\n\t};\n\t// avoid adding empty getters\n\tif (store._getters && store._getters.length) {\n\t\tstate.getters = store._getters.map((getterName) => ({\n\t\t\teditable: false,\n\t\t\tkey: getterName,\n\t\t\tvalue: store[getterName],\n\t\t}));\n\t}\n\tif (store._customProperties.size) {\n\t\tstate.customProperties = Array.from(store._customProperties).map((key) => ({\n\t\t\teditable: true,\n\t\t\tkey,\n\t\t\tvalue: store[key],\n\t\t}));\n\t}\n\treturn state;\n}\nfunction formatEventData(events) {\n\tif (!events)\n\t\treturn {};\n\tif (Array.isArray(events)) {\n\t\t// TODO: handle add and delete for arrays and objects\n\t\treturn events.reduce((data, event) => {\n\t\t\tdata.keys.push(event.key);\n\t\t\tdata.operations.push(event.type);\n\t\t\tdata.oldValue[event.key] = event.oldValue;\n\t\t\tdata.newValue[event.key] = event.newValue;\n\t\t\treturn data;\n\t\t}, {\n\t\t\toldValue: {},\n\t\t\tkeys: [],\n\t\t\toperations: [],\n\t\t\tnewValue: {},\n\t\t});\n\t}\n\telse {\n\t\treturn {\n\t\t\toperation: formatDisplay(events.type),\n\t\t\tkey: formatDisplay(events.key),\n\t\t\toldValue: events.oldValue,\n\t\t\tnewValue: events.newValue,\n\t\t};\n\t}\n}\nfunction formatMutationType(type) {\n\tswitch (type) {\n\t\tcase MutationType.direct:\n\t\t\treturn 'mutation';\n\t\tcase MutationType.patchFunction:\n\t\t\treturn '$patch';\n\t\tcase MutationType.patchObject:\n\t\t\treturn '$patch';\n\t\tdefault:\n\t\t\treturn 'unknown';\n\t}\n}\n\n// timeline can be paused when directly changing the state\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\nconst INSPECTOR_ID = 'pinia';\n/**\n * Gets the displayed name of a store in devtools\n *\n * @param id - id of the store\n * @returns a formatted string\n */\nconst getStoreType = (id) => ':Pinia: ' + id;\n/**\n * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab\n * as soon as it is added to the application.\n *\n * @param app - Vue application\n * @param pinia - pinia instance\n */\nfunction registerPiniaDevtools(app, pinia) {\n\tsetupDevtoolsPlugin({\n\t\tid: 'dev.esm.pinia',\n\t\tlabel: 'Pinia',\n\t\tlogo: 'https://pinia.vuejs.org/logo.svg',\n\t\tpackageName: 'pinia',\n\t\thomepage: 'https://pinia.vuejs.org',\n\t\tcomponentStateTypes,\n\t\tapp,\n\t}, (api) => {\n\t\tif (typeof api.now !== 'function') {\n\t\t\ttoastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n\t\t}\n\t\tapi.addTimelineLayer({\n\t\t\tid: MUTATIONS_LAYER_ID,\n\t\t\tlabel: `Pinia`,\n\t\t\tcolor: 0xe5df88,\n\t\t});\n\t\tapi.addInspector({\n\t\t\tid: INSPECTOR_ID,\n\t\t\tlabel: 'Pinia',\n\t\t\ticon: 'storage',\n\t\t\ttreeFilterPlaceholder: 'Search stores',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\ticon: 'content_copy',\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tactionGlobalCopyState(pinia);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Serialize and copy the state',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'content_paste',\n\t\t\t\t\taction: async () => {\n\t\t\t\t\t\tawait actionGlobalPasteState(pinia);\n\t\t\t\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Replace the state with the content of your clipboard',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'save',\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tactionGlobalSaveState(pinia);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Save the state as a JSON file',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'folder_open',\n\t\t\t\t\taction: async () => {\n\t\t\t\t\t\tawait actionGlobalOpenStateFile(pinia);\n\t\t\t\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Import the state from a JSON file',\n\t\t\t\t},\n\t\t\t],\n\t\t\tnodeActions: [\n\t\t\t\t{\n\t\t\t\t\ticon: 'restore',\n\t\t\t\t\ttooltip: 'Reset the state (option store only)',\n\t\t\t\t\taction: (nodeId) => {\n\t\t\t\t\t\tconst store = pinia._s.get(nodeId);\n\t\t\t\t\t\tif (!store) {\n\t\t\t\t\t\t\ttoastMessage(`Cannot reset \"${nodeId}\" store because it wasn't found.`, 'warn');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (!store._isOptionsAPI) {\n\t\t\t\t\t\t\ttoastMessage(`Cannot reset \"${nodeId}\" store because it's a setup store.`, 'warn');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tstore.$reset();\n\t\t\t\t\t\t\ttoastMessage(`Store \"${nodeId}\" reset.`);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t\tapi.on.inspectComponent((payload, ctx) => {\n\t\t\tconst proxy = (payload.componentInstance &&\n\t\t\t\tpayload.componentInstance.proxy);\n\t\t\tif (proxy && proxy._pStores) {\n\t\t\t\tconst piniaStores = payload.componentInstance.proxy._pStores;\n\t\t\t\tObject.values(piniaStores).forEach((store) => {\n\t\t\t\t\tpayload.instanceData.state.push({\n\t\t\t\t\t\ttype: getStoreType(store.$id),\n\t\t\t\t\t\tkey: 'state',\n\t\t\t\t\t\teditable: true,\n\t\t\t\t\t\tvalue: store._isOptionsAPI\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t_custom: {\n\t\t\t\t\t\t\t\t\tvalue: toRaw(store.$state),\n\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ticon: 'restore',\n\t\t\t\t\t\t\t\t\t\t\ttooltip: 'Reset the state of this store',\n\t\t\t\t\t\t\t\t\t\t\taction: () => store.$reset(),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: // NOTE: workaround to unwrap transferred refs\n\t\t\t\t\t\t\tObject.keys(store.$state).reduce((state, key) => {\n\t\t\t\t\t\t\t\tstate[key] = store.$state[key];\n\t\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t});\n\t\t\t\t\tif (store._getters && store._getters.length) {\n\t\t\t\t\t\tpayload.instanceData.state.push({\n\t\t\t\t\t\t\ttype: getStoreType(store.$id),\n\t\t\t\t\t\t\tkey: 'getters',\n\t\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\t\tvalue: store._getters.reduce((getters, key) => {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tgetters[key] = store[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\t\t\t\t// @ts-expect-error: we just want to show it in devtools\n\t\t\t\t\t\t\t\t\tgetters[key] = error;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn getters;\n\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tapi.on.getInspectorTree((payload) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tlet stores = [pinia];\n\t\t\t\tstores = stores.concat(Array.from(pinia._s.values()));\n\t\t\t\tpayload.rootNodes = (payload.filter\n\t\t\t\t\t? stores.filter((store) => '$id' in store\n\t\t\t\t\t\t? store.$id\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(payload.filter.toLowerCase())\n\t\t\t\t\t\t: PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\n\t\t\t\t\t: stores).map(formatStoreForInspectorTree);\n\t\t\t}\n\t\t});\n\t\tapi.on.getInspectorState((payload) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tconst inspectedStore = payload.nodeId === PINIA_ROOT_ID\n\t\t\t\t\t? pinia\n\t\t\t\t\t: pinia._s.get(payload.nodeId);\n\t\t\t\tif (!inspectedStore) {\n\t\t\t\t\t// this could be the selected store restored for a different project\n\t\t\t\t\t// so it's better not to say anything here\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (inspectedStore) {\n\t\t\t\t\tpayload.state = formatStoreForInspectorState(inspectedStore);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tapi.on.editInspectorState((payload, ctx) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tconst inspectedStore = payload.nodeId === PINIA_ROOT_ID\n\t\t\t\t\t? pinia\n\t\t\t\t\t: pinia._s.get(payload.nodeId);\n\t\t\t\tif (!inspectedStore) {\n\t\t\t\t\treturn toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\n\t\t\t\t}\n\t\t\t\tconst { path } = payload;\n\t\t\t\tif (!isPinia(inspectedStore)) {\n\t\t\t\t\t// access only the state\n\t\t\t\t\tif (path.length !== 1 ||\n\t\t\t\t\t\t!inspectedStore._customProperties.has(path[0]) ||\n\t\t\t\t\t\tpath[0] in inspectedStore.$state) {\n\t\t\t\t\t\tpath.unshift('$state');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Root access, we can omit the `.value` because the devtools API does it for us\n\t\t\t\t\tpath.unshift('state');\n\t\t\t\t}\n\t\t\t\tisTimelineActive = false;\n\t\t\t\tpayload.set(inspectedStore, path, payload.state.value);\n\t\t\t\tisTimelineActive = true;\n\t\t\t}\n\t\t});\n\t\tapi.on.editComponentState((payload) => {\n\t\t\tif (payload.type.startsWith(':Pinia:')) {\n\t\t\t\tconst storeId = payload.type.replace(/^:Pinia:\\s*/, '');\n\t\t\t\tconst store = pinia._s.get(storeId);\n\t\t\t\tif (!store) {\n\t\t\t\t\treturn toastMessage(`store \"${storeId}\" not found`, 'error');\n\t\t\t\t}\n\t\t\t\tconst { path } = payload;\n\t\t\t\tif (path[0] !== 'state') {\n\t\t\t\t\treturn toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\n\t\t\t\t}\n\t\t\t\t// rewrite the first entry to be able to directly set the state as\n\t\t\t\t// well as any other path\n\t\t\t\tpath[0] = '$state';\n\t\t\t\tisTimelineActive = false;\n\t\t\t\tpayload.set(store, path, payload.state.value);\n\t\t\t\tisTimelineActive = true;\n\t\t\t}\n\t\t});\n\t});\n}\nfunction addStoreToDevtools(app, store) {\n\tif (!componentStateTypes.includes(getStoreType(store.$id))) {\n\t\tcomponentStateTypes.push(getStoreType(store.$id));\n\t}\n\tsetupDevtoolsPlugin({\n\t\tid: 'dev.esm.pinia',\n\t\tlabel: 'Pinia',\n\t\tlogo: 'https://pinia.vuejs.org/logo.svg',\n\t\tpackageName: 'pinia',\n\t\thomepage: 'https://pinia.vuejs.org',\n\t\tcomponentStateTypes,\n\t\tapp,\n\t\tsettings: {\n\t\t\tlogStoreChanges: {\n\t\t\t\tlabel: 'Notify about new/deleted stores',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefaultValue: true,\n\t\t\t},\n\t\t\t// useEmojis: {\n\t\t\t//   label: 'Use emojis in messages',\n\t\t\t//   type: 'boolean',\n\t\t\t//   defaultValue: true,\n\t\t\t// },\n\t\t},\n\t}, (api) => {\n\t\t// gracefully handle errors\n\t\tconst now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;\n\t\tstore.$onAction(({ after, onError, name, args }) => {\n\t\t\tconst groupId = runningActionId++;\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: {\n\t\t\t\t\ttime: now(),\n\t\t\t\t\ttitle: 'Start ' + name,\n\t\t\t\t\tsubtitle: 'start',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\targs,\n\t\t\t\t\t},\n\t\t\t\t\tgroupId,\n\t\t\t\t},\n\t\t\t});\n\t\t\tafter((result) => {\n\t\t\t\tactiveAction = undefined;\n\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\ttitle: 'End ' + name,\n\t\t\t\t\t\tsubtitle: 'end',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\tresult,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t\tonError((error) => {\n\t\t\t\tactiveAction = undefined;\n\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\tlogType: 'error',\n\t\t\t\t\t\ttitle: 'Error ' + name,\n\t\t\t\t\t\tsubtitle: 'end',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t}, true);\n\t\tstore._customProperties.forEach((name) => {\n\t\t\twatch(() => unref(store[name]), (newValue, oldValue) => {\n\t\t\t\tapi.notifyComponentUpdate();\n\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\tif (isTimelineActive) {\n\t\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\t\ttitle: 'Change',\n\t\t\t\t\t\t\tsubtitle: name,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tnewValue,\n\t\t\t\t\t\t\t\toldValue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgroupId: activeAction,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, { deep: true });\n\t\t});\n\t\tstore.$subscribe(({ events, type }, state) => {\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\tif (!isTimelineActive)\n\t\t\t\treturn;\n\t\t\t// rootStore.state[store.id] = state\n\t\t\tconst eventData = {\n\t\t\t\ttime: now(),\n\t\t\t\ttitle: formatMutationType(type),\n\t\t\t\tdata: {\n\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t...formatEventData(events),\n\t\t\t\t},\n\t\t\t\tgroupId: activeAction,\n\t\t\t};\n\t\t\t// reset for the next mutation\n\t\t\tactiveAction = undefined;\n\t\t\tif (type === MutationType.patchFunction) {\n\t\t\t\teventData.subtitle = 'Down';\n\t\t\t}\n\t\t\telse if (type === MutationType.patchObject) {\n\t\t\t\teventData.subtitle = 'Patch';\n\t\t\t}\n\t\t\telse if (events && !Array.isArray(events)) {\n\t\t\t\teventData.subtitle = events.type;\n\t\t\t}\n\t\t\tif (events) {\n\t\t\t\teventData.data['rawEvent(s)'] = {\n\t\t\t\t\t_custom: {\n\t\t\t\t\t\tdisplay: 'DebuggerEvent',\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\ttooltip: 'raw DebuggerEvent[]',\n\t\t\t\t\t\tvalue: events,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: eventData,\n\t\t\t});\n\t\t}, { detached: true, flush: 'sync' });\n\t\tconst hotUpdate = store._hotUpdate;\n\t\tstore._hotUpdate = markRaw((newStore) => {\n\t\t\thotUpdate(newStore);\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: {\n\t\t\t\t\ttime: now(),\n\t\t\t\t\ttitle: 'Hot update ' + store.$id,\n\t\t\t\t\tsubtitle: 'HMR update',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\tinfo: formatDisplay(`HMR update`),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\t// update the devtools too\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t});\n\t\tconst { $dispose } = store;\n\t\tstore.$dispose = () => {\n\t\t\t$dispose();\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\tapi.getSettings().logStoreChanges &&\n\t\t\ttoastMessage(`Disposed \"${store.$id}\" store`);\n\t\t};\n\t\t// trigger an update so it can display new registered stores\n\t\tapi.notifyComponentUpdate();\n\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\tapi.getSettings().logStoreChanges &&\n\t\ttoastMessage(`\"${store.$id}\" store installed`);\n\t});\n}\nlet runningActionId = 0;\nlet activeAction;\n/**\n * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the\n * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state\n * mutation to the action.\n *\n * @param store - store to patch\n * @param actionNames - list of actionst to patch\n */\nfunction patchActionForGrouping(store, actionNames) {\n\t// original actions of the store as they are given by pinia. We are going to override them\n\tconst actions = actionNames.reduce((storeActions, actionName) => {\n\t\t// use toRaw to avoid tracking #541\n\t\tstoreActions[actionName] = toRaw(store)[actionName];\n\t\treturn storeActions;\n\t}, {});\n\tfor (const actionName in actions) {\n\t\tstore[actionName] = function () {\n\t\t\t// setActivePinia(store._p)\n\t\t\t// the running action id is incremented in a before action hook\n\t\t\tconst _actionId = runningActionId;\n\t\t\tconst trackedStore = new Proxy(store, {\n\t\t\t\tget(...args) {\n\t\t\t\t\tactiveAction = _actionId;\n\t\t\t\t\treturn Reflect.get(...args);\n\t\t\t\t},\n\t\t\t\tset(...args) {\n\t\t\t\t\tactiveAction = _actionId;\n\t\t\t\t\treturn Reflect.set(...args);\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn actions[actionName].apply(trackedStore, arguments);\n\t\t};\n\t}\n}\n/**\n * pinia.use(devtoolsPlugin)\n */\nfunction devtoolsPlugin({ app, store, options }) {\n\t// HMR module\n\tif (store.$id.startsWith('__hot:')) {\n\t\treturn;\n\t}\n\t// detect option api vs setup api\n\tif (options.state) {\n\t\tstore._isOptionsAPI = true;\n\t}\n\t// only wrap actions in option-defined stores as this technique relies on\n\t// wrapping the context of the action with a proxy\n\tif (typeof options.state === 'function') {\n\t\tpatchActionForGrouping(\n\t\t\t// @ts-expect-error: can cast the store...\n\t\t\tstore, Object.keys(options.actions));\n\t\tconst originalHotUpdate = store._hotUpdate;\n\t\t// Upgrade the HMR to also update the new actions\n\t\ttoRaw(store)._hotUpdate = function (newStore) {\n\t\t\toriginalHotUpdate.apply(this, arguments);\n\t\t\tpatchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions));\n\t\t};\n\t}\n\taddStoreToDevtools(app,\n\t\t// FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n\t\tstore);\n}\n\n/**\n * Creates a Pinia instance to be used by the application\n */\nfunction createPinia() {\n\tconst scope = effectScope(true);\n\t// NOTE: here we could check the window object for a state and directly set it\n\t// if there is anything like it with Vue 3 SSR\n\tconst state = scope.run(() => ref({}));\n\tlet _p = [];\n\t// plugins added before calling app.use(pinia)\n\tlet toBeInstalled = [];\n\tconst pinia = markRaw({\n\t\tinstall(app) {\n\t\t\t// this allows calling useStore() outside of a component setup after\n\t\t\t// installing pinia's plugin\n\t\t\tsetActivePinia(pinia);\n\t\t\tif (!isVue2) {\n\t\t\t\tpinia._a = app;\n\t\t\t\tapp.provide(piniaSymbol, pinia);\n\t\t\t\tapp.config.globalProperties.$pinia = pinia;\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (USE_DEVTOOLS) {\n\t\t\t\t\tregisterPiniaDevtools(app, pinia);\n\t\t\t\t}\n\t\t\t\ttoBeInstalled.forEach((plugin) => _p.push(plugin));\n\t\t\t\ttoBeInstalled = [];\n\t\t\t}\n\t\t},\n\t\tuse(plugin) {\n\t\t\tif (!this._a && !isVue2) {\n\t\t\t\ttoBeInstalled.push(plugin);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_p.push(plugin);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t_p,\n\t\t// it's actually undefined here\n\t\t// @ts-expect-error\n\t\t_a: null,\n\t\t_e: scope,\n\t\t_s: new Map(),\n\t\tstate,\n\t});\n\t// pinia devtools rely on dev only features so they cannot be forced unless\n\t// the dev build of Vue is used. Avoid old browsers like IE11.\n\tif (USE_DEVTOOLS && typeof Proxy !== 'undefined') {\n\t\tpinia.use(devtoolsPlugin);\n\t}\n\treturn pinia;\n}\n\n/**\n * Checks if a function is a `StoreDefinition`.\n *\n * @param fn - object to test\n * @returns true if `fn` is a StoreDefinition\n */\nconst isUseStore = (fn) => {\n\treturn typeof fn === 'function' && typeof fn.$id === 'string';\n};\n/**\n * Mutates in place `newState` with `oldState` to _hot update_ it. It will\n * remove any key not existing in `newState` and recursively merge plain\n * objects.\n *\n * @param newState - new state object to be patched\n * @param oldState - old state that should be used to patch newState\n * @returns - newState\n */\nfunction patchObject(newState, oldState) {\n\t// no need to go through symbols because they cannot be serialized anyway\n\tfor (const key in oldState) {\n\t\tconst subPatch = oldState[key];\n\t\t// skip the whole sub tree\n\t\tif (!(key in newState)) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst targetValue = newState[key];\n\t\tif (isPlainObject(targetValue) &&\n\t\t\tisPlainObject(subPatch) &&\n\t\t\t!isRef(subPatch) &&\n\t\t\t!isReactive(subPatch)) {\n\t\t\tnewState[key] = patchObject(targetValue, subPatch);\n\t\t}\n\t\telse {\n\t\t\t// objects are either a bit more complex (e.g. refs) or primitives, so we\n\t\t\t// just set the whole thing\n\t\t\tif (isVue2) {\n\t\t\t\tset(newState, key, subPatch);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnewState[key] = subPatch;\n\t\t\t}\n\t\t}\n\t}\n\treturn newState;\n}\n/**\n * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.\n *\n * @example\n * ```js\n * const useUser = defineStore(...)\n * if (import.meta.hot) {\n *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))\n * }\n * ```\n *\n * @param initialUseStore - return of the defineStore to hot update\n * @param hot - `import.meta.hot`\n */\nfunction acceptHMRUpdate(initialUseStore, hot) {\n\treturn (newModule) => {\n\t\tconst pinia = hot.data.pinia || initialUseStore._pinia;\n\t\tif (!pinia) {\n\t\t\t// this store is still not used\n\t\t\treturn;\n\t\t}\n\t\t// preserve the pinia instance across loads\n\t\thot.data.pinia = pinia;\n\t\t// console.log('got data', newStore)\n\t\tfor (const exportName in newModule) {\n\t\t\tconst useStore = newModule[exportName];\n\t\t\t// console.log('checking for', exportName)\n\t\t\tif (isUseStore(useStore) && pinia._s.has(useStore.$id)) {\n\t\t\t\t// console.log('Accepting update for', useStore.$id)\n\t\t\t\tconst id = useStore.$id;\n\t\t\t\tif (id !== initialUseStore.$id) {\n\t\t\t\t\tconsole.warn(`The id of the store changed from \"${initialUseStore.$id}\" to \"${id}\". Reloading.`);\n\t\t\t\t\t// return import.meta.hot.invalidate()\n\t\t\t\t\treturn hot.invalidate();\n\t\t\t\t}\n\t\t\t\tconst existingStore = pinia._s.get(id);\n\t\t\t\tif (!existingStore) {\n\t\t\t\t\tconsole.log(`[Pinia]: skipping hmr because store doesn't exist yet`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tuseStore(pinia, existingStore);\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst noop = () => { };\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop) {\n\tsubscriptions.push(callback);\n\tconst removeSubscription = () => {\n\t\tconst idx = subscriptions.indexOf(callback);\n\t\tif (idx > -1) {\n\t\t\tsubscriptions.splice(idx, 1);\n\t\t\tonCleanup();\n\t\t}\n\t};\n\tif (!detached && getCurrentInstance()) {\n\t\tonUnmounted(removeSubscription);\n\t}\n\treturn removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n\tsubscriptions.slice().forEach((callback) => {\n\t\tcallback(...args);\n\t});\n}\n\nfunction mergeReactiveObjects(target, patchToApply) {\n\t// Handle Map instances\n\tif (target instanceof Map && patchToApply instanceof Map) {\n\t\tpatchToApply.forEach((value, key) => target.set(key, value));\n\t}\n\t// Handle Set instances\n\tif (target instanceof Set && patchToApply instanceof Set) {\n\t\tpatchToApply.forEach(target.add, target);\n\t}\n\t// no need to go through symbols because they cannot be serialized anyway\n\tfor (const key in patchToApply) {\n\t\tif (!patchToApply.hasOwnProperty(key))\n\t\t\tcontinue;\n\t\tconst subPatch = patchToApply[key];\n\t\tconst targetValue = target[key];\n\t\tif (isPlainObject(targetValue) &&\n\t\t\tisPlainObject(subPatch) &&\n\t\t\ttarget.hasOwnProperty(key) &&\n\t\t\t!isRef(subPatch) &&\n\t\t\t!isReactive(subPatch)) {\n\t\t\t// NOTE: here I wanted to warn about inconsistent types but it's not possible because in setup stores one might\n\t\t\t// start the value of a property as a certain type e.g. a Map, and then for some reason, during SSR, change that\n\t\t\t// to `undefined`. When trying to hydrate, we want to override the Map with `undefined`.\n\t\t\ttarget[key] = mergeReactiveObjects(targetValue, subPatch);\n\t\t}\n\t\telse {\n\t\t\t// @ts-expect-error: subPatch is a valid value\n\t\t\ttarget[key] = subPatch;\n\t\t}\n\t}\n\treturn target;\n}\nconst skipHydrateSymbol = Symbol('pinia:skipHydration')\n;\nconst skipHydrateMap = /*#__PURE__*/ new WeakMap();\n/**\n * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a\n * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.\n *\n * @param obj - target object\n * @returns obj\n */\nfunction skipHydrate(obj) {\n\treturn isVue2\n\t\t? // in @vue/composition-api, the refs are sealed so defineProperty doesn't work...\n\t\t/* istanbul ignore next */ skipHydrateMap.set(obj, 1) && obj\n\t\t: Object.defineProperty(obj, skipHydrateSymbol, {});\n}\nfunction shouldHydrate(obj) {\n\treturn isVue2\n\t\t? /* istanbul ignore next */ !skipHydrateMap.has(obj)\n\t\t: !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);\n}\nconst { assign } = Object;\nfunction isComputed(o) {\n\treturn !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia, hot) {\n\tconst { state, actions, getters } = options;\n\tconst initialState = pinia.state.value[id];\n\tlet store;\n\tfunction setup() {\n\t\tif (!initialState && (!hot)) {\n\t\t\t/* istanbul ignore if */\n\t\t\tif (isVue2) {\n\t\t\t\tset(pinia.state.value, id, state ? state() : {});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpinia.state.value[id] = state ? state() : {};\n\t\t\t}\n\t\t}\n\t\t// avoid creating a state in pinia.state.value\n\t\tconst localState = hot\n\t\t\t? // use ref() to unwrap refs inside state TODO: check if this is still necessary\n\t\t\ttoRefs(ref(state ? state() : {}).value)\n\t\t\t: toRefs(pinia.state.value[id]);\n\t\treturn assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n\t\t\tif (name in localState) {\n\t\t\t\tconsole.warn(`[Pinia]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n\t\t\t}\n\t\t\tcomputedGetters[name] = markRaw(computed(() => {\n\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t// it was created just before\n\t\t\t\tconst store = pinia._s.get(id);\n\t\t\t\t// allow cross using stores\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (isVue2 && !store._r)\n\t\t\t\t\treturn;\n\t\t\t\t// @ts-expect-error\n\t\t\t\t// return getters![name].call(context, context)\n\t\t\t\t// TODO: avoid reading the getter while assigning with a global variable\n\t\t\t\treturn getters[name].call(store, store);\n\t\t\t}));\n\t\t\treturn computedGetters;\n\t\t}, {}));\n\t}\n\tstore = createSetupStore(id, setup, options, pinia, hot, true);\n\tstore.$reset = function $reset() {\n\t\tconst newState = state ? state() : {};\n\t\t// we use a patch to group all changes into one single subscription\n\t\tthis.$patch(($state) => {\n\t\t\tassign($state, newState);\n\t\t});\n\t};\n\treturn store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {\n\tlet scope;\n\tconst optionsForPlugin = assign({ actions: {} }, options);\n\t/* istanbul ignore if */\n\t// @ts-expect-error: active is an internal property\n\tif (!pinia._e.active) {\n\t\tthrow new Error('Pinia destroyed');\n\t}\n\t// watcher options for $subscribe\n\tconst $subscribeOptions = {\n\t\tdeep: true,\n\t\t// flush: 'post',\n\t};\n\t/* istanbul ignore else */\n\tif (!isVue2) {\n\t\t$subscribeOptions.onTrigger = (event) => {\n\t\t\t/* istanbul ignore else */\n\t\t\tif (isListening) {\n\t\t\t\tdebuggerEvents = event;\n\t\t\t\t// avoid triggering this while the store is being built and the state is being set in pinia\n\t\t\t}\n\t\t\telse if (isListening == false && !store._hotUpdating) {\n\t\t\t\t// let patch send all the events together later\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (Array.isArray(debuggerEvents)) {\n\t\t\t\t\tdebuggerEvents.push(event);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.error('Pinia: debuggerEvents should be an array. This is most likely an internal Pinia bug.');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t// internal state\n\tlet isListening; // set to true at the end\n\tlet isSyncListening; // set to true at the end\n\tlet subscriptions = markRaw([]);\n\tlet actionSubscriptions = markRaw([]);\n\tlet debuggerEvents;\n\tconst initialState = pinia.state.value[$id];\n\t// avoid setting the state for option stores if it is set\n\t// by the setup\n\tif (!isOptionsStore && !initialState && (!hot)) {\n\t\t/* istanbul ignore if */\n\t\tif (isVue2) {\n\t\t\tset(pinia.state.value, $id, {});\n\t\t}\n\t\telse {\n\t\t\tpinia.state.value[$id] = {};\n\t\t}\n\t}\n\tconst hotState = ref({});\n\t// avoid triggering too many listeners\n\t// https://github.com/vuejs/pinia/issues/1129\n\tlet activeListener;\n\tfunction $patch(partialStateOrMutator) {\n\t\tlet subscriptionMutation;\n\t\tisListening = isSyncListening = false;\n\t\t// reset the debugger events since patches are sync\n\t\t/* istanbul ignore else */\n\t\t{\n\t\t\tdebuggerEvents = [];\n\t\t}\n\t\tif (typeof partialStateOrMutator === 'function') {\n\t\t\tpartialStateOrMutator(pinia.state.value[$id]);\n\t\t\tsubscriptionMutation = {\n\t\t\t\ttype: MutationType.patchFunction,\n\t\t\t\tstoreId: $id,\n\t\t\t\tevents: debuggerEvents,\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tmergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);\n\t\t\tsubscriptionMutation = {\n\t\t\t\ttype: MutationType.patchObject,\n\t\t\t\tpayload: partialStateOrMutator,\n\t\t\t\tstoreId: $id,\n\t\t\t\tevents: debuggerEvents,\n\t\t\t};\n\t\t}\n\t\tconst myListenerId = (activeListener = Symbol());\n\t\tnextTick().then(() => {\n\t\t\tif (activeListener === myListenerId) {\n\t\t\t\tisListening = true;\n\t\t\t}\n\t\t});\n\t\tisSyncListening = true;\n\t\t// because we paused the watcher, we need to manually call the subscriptions\n\t\ttriggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);\n\t}\n\t/* istanbul ignore next */\n\tconst $reset = () => {\n\t\t\tthrow new Error(`Pinia: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n\t\t}\n\t;\n\tfunction $dispose() {\n\t\tscope.stop();\n\t\tsubscriptions = [];\n\t\tactionSubscriptions = [];\n\t\tpinia._s.delete($id);\n\t}\n\t/**\n\t * Wraps an action to handle subscriptions.\n\t *\n\t * @param name - name of the action\n\t * @param action - action to wrap\n\t * @returns a wrapped action to handle subscriptions\n\t */\n\tfunction wrapAction(name, action) {\n\t\treturn function () {\n\t\t\tsetActivePinia(pinia);\n\t\t\tconst args = Array.from(arguments);\n\t\t\tconst afterCallbackList = [];\n\t\t\tconst onErrorCallbackList = [];\n\t\t\tfunction after(callback) {\n\t\t\t\tafterCallbackList.push(callback);\n\t\t\t}\n\t\t\tfunction onError(callback) {\n\t\t\t\tonErrorCallbackList.push(callback);\n\t\t\t}\n\t\t\t// @ts-expect-error\n\t\t\ttriggerSubscriptions(actionSubscriptions, {\n\t\t\t\targs,\n\t\t\t\tname,\n\t\t\t\tstore,\n\t\t\t\tafter,\n\t\t\t\tonError,\n\t\t\t});\n\t\t\tlet ret;\n\t\t\ttry {\n\t\t\t\tret = action.apply(this && this.$id === $id ? this : store, args);\n\t\t\t\t// handle sync errors\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\ttriggerSubscriptions(onErrorCallbackList, error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t\tif (ret instanceof Promise) {\n\t\t\t\treturn ret\n\t\t\t\t\t.then((value) => {\n\t\t\t\t\t\ttriggerSubscriptions(afterCallbackList, value);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\ttriggerSubscriptions(onErrorCallbackList, error);\n\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// allow the afterCallback to override the return value\n\t\t\ttriggerSubscriptions(afterCallbackList, ret);\n\t\t\treturn ret;\n\t\t};\n\t}\n\tconst _hmrPayload = /*#__PURE__*/ markRaw({\n\t\tactions: {},\n\t\tgetters: {},\n\t\tstate: [],\n\t\thotState,\n\t});\n\tconst partialStore = {\n\t\t_p: pinia,\n\t\t// _s: scope,\n\t\t$id,\n\t\t$onAction: addSubscription.bind(null, actionSubscriptions),\n\t\t$patch,\n\t\t$reset,\n\t\t$subscribe(callback, options = {}) {\n\t\t\tconst removeSubscription = addSubscription(subscriptions, callback, options.detached, () => stopWatcher());\n\t\t\tconst stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {\n\t\t\t\tif (options.flush === 'sync' ? isSyncListening : isListening) {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tstoreId: $id,\n\t\t\t\t\t\ttype: MutationType.direct,\n\t\t\t\t\t\tevents: debuggerEvents,\n\t\t\t\t\t}, state);\n\t\t\t\t}\n\t\t\t}, assign({}, $subscribeOptions, options)));\n\t\t\treturn removeSubscription;\n\t\t},\n\t\t$dispose,\n\t};\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\t// start as non ready\n\t\tpartialStore._r = false;\n\t}\n\tconst store = reactive(assign(IS_CLIENT\n\t\t\t? // devtools custom properties\n\t\t\t{\n\t\t\t\t_customProperties: markRaw(new Set()),\n\t\t\t\t_hmrPayload,\n\t\t\t}\n\t\t\t: {}, partialStore\n\t\t// must be added later\n\t\t// setupStore\n\t));\n\t// store the partial store now so the setup of stores can instantiate each other before they are finished without\n\t// creating infinite loops.\n\tpinia._s.set($id, store);\n\t// TODO: idea create skipSerialize that marks properties as non serializable and they are skipped\n\tconst setupStore = pinia._e.run(() => {\n\t\tscope = effectScope();\n\t\treturn scope.run(() => setup());\n\t});\n\t// overwrite existing actions to support $onAction\n\tfor (const key in setupStore) {\n\t\tconst prop = setupStore[key];\n\t\tif ((isRef(prop) && !isComputed(prop)) || isReactive(prop)) {\n\t\t\t// mark it as a piece of state to be serialized\n\t\t\tif (hot) {\n\t\t\t\tset(hotState.value, key, toRef(setupStore, key));\n\t\t\t\t// createOptionStore directly sets the state in pinia.state.value so we\n\t\t\t\t// can just skip that\n\t\t\t}\n\t\t\telse if (!isOptionsStore) {\n\t\t\t\t// in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created\n\t\t\t\tif (initialState && shouldHydrate(prop)) {\n\t\t\t\t\tif (isRef(prop)) {\n\t\t\t\t\t\tprop.value = initialState[key];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// probably a reactive object, lets recursively assign\n\t\t\t\t\t\tmergeReactiveObjects(prop, initialState[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// transfer the ref to the pinia state to keep everything in sync\n\t\t\t\t/* istanbul ignore if */\n\t\t\t\tif (isVue2) {\n\t\t\t\t\tset(pinia.state.value[$id], key, prop);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpinia.state.value[$id][key] = prop;\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t_hmrPayload.state.push(key);\n\t\t\t}\n\t\t\t// action\n\t\t}\n\t\telse if (typeof prop === 'function') {\n\t\t\t// @ts-expect-error: we are overriding the function we avoid wrapping if\n\t\t\tconst actionValue = hot ? prop : wrapAction(key, prop);\n\t\t\t// this a hot module replacement store because the hotUpdate method needs\n\t\t\t// to do it with the right context\n\t\t\t/* istanbul ignore if */\n\t\t\tif (isVue2) {\n\t\t\t\tset(setupStore, key, actionValue);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tsetupStore[key] = actionValue;\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t_hmrPayload.actions[key] = prop;\n\t\t\t}\n\t\t\t// list actions so they can be used in plugins\n\t\t\t// @ts-expect-error\n\t\t\toptionsForPlugin.actions[key] = prop;\n\t\t}\n\t\telse {\n\t\t\t// add getters for devtools\n\t\t\tif (isComputed(prop)) {\n\t\t\t\t_hmrPayload.getters[key] = isOptionsStore\n\t\t\t\t\t? // @ts-expect-error\n\t\t\t\t\toptions.getters[key]\n\t\t\t\t\t: prop;\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\tconst getters =\n\t\t\t\t\t\t// @ts-expect-error: it should be on the store\n\t\t\t\t\t\tsetupStore._getters || (setupStore._getters = markRaw([]));\n\t\t\t\t\tgetters.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// add the state, getters, and action properties\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\tObject.keys(setupStore).forEach((key) => {\n\t\t\tset(store, key,\n\t\t\t\t// @ts-expect-error: valid key indexing\n\t\t\t\tsetupStore[key]);\n\t\t});\n\t}\n\telse {\n\t\tassign(store, setupStore);\n\t\t// allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.\n\t\t// Make `storeToRefs()` work with `reactive()` #799\n\t\tassign(toRaw(store), setupStore);\n\t}\n\t// use this instead of a computed with setter to be able to create it anywhere\n\t// without linking the computed lifespan to wherever the store is first\n\t// created.\n\tObject.defineProperty(store, '$state', {\n\t\tget: () => (hot ? hotState.value : pinia.state.value[$id]),\n\t\tset: (state) => {\n\t\t\t/* istanbul ignore if */\n\t\t\tif (hot) {\n\t\t\t\tthrow new Error('cannot set hotState');\n\t\t\t}\n\t\t\t$patch(($state) => {\n\t\t\t\tassign($state, state);\n\t\t\t});\n\t\t},\n\t});\n\t// add the hotUpdate before plugins to allow them to override it\n\t/* istanbul ignore else */\n\t{\n\t\tstore._hotUpdate = markRaw((newStore) => {\n\t\t\tstore._hotUpdating = true;\n\t\t\tnewStore._hmrPayload.state.forEach((stateKey) => {\n\t\t\t\tif (stateKey in store.$state) {\n\t\t\t\t\tconst newStateTarget = newStore.$state[stateKey];\n\t\t\t\t\tconst oldStateSource = store.$state[stateKey];\n\t\t\t\t\tif (typeof newStateTarget === 'object' &&\n\t\t\t\t\t\tisPlainObject(newStateTarget) &&\n\t\t\t\t\t\tisPlainObject(oldStateSource)) {\n\t\t\t\t\t\tpatchObject(newStateTarget, oldStateSource);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// transfer the ref\n\t\t\t\t\t\tnewStore.$state[stateKey] = oldStateSource;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// patch direct access properties to allow store.stateProperty to work as\n\t\t\t\t// store.$state.stateProperty\n\t\t\t\tset(store, stateKey, toRef(newStore.$state, stateKey));\n\t\t\t});\n\t\t\t// remove deleted state properties\n\t\t\tObject.keys(store.$state).forEach((stateKey) => {\n\t\t\t\tif (!(stateKey in newStore.$state)) {\n\t\t\t\t\tdel(store, stateKey);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// avoid devtools logging this as a mutation\n\t\t\tisListening = false;\n\t\t\tisSyncListening = false;\n\t\t\tpinia.state.value[$id] = toRef(newStore._hmrPayload, 'hotState');\n\t\t\tisSyncListening = true;\n\t\t\tnextTick().then(() => {\n\t\t\t\tisListening = true;\n\t\t\t});\n\t\t\tfor (const actionName in newStore._hmrPayload.actions) {\n\t\t\t\tconst action = newStore[actionName];\n\t\t\t\tset(store, actionName, wrapAction(actionName, action));\n\t\t\t}\n\t\t\t// TODO: does this work in both setup and option store?\n\t\t\tfor (const getterName in newStore._hmrPayload.getters) {\n\t\t\t\tconst getter = newStore._hmrPayload.getters[getterName];\n\t\t\t\tconst getterValue = isOptionsStore\n\t\t\t\t\t? // special handling of options api\n\t\t\t\t\tcomputed(() => {\n\t\t\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t\t\treturn getter.call(store, store);\n\t\t\t\t\t})\n\t\t\t\t\t: getter;\n\t\t\t\tset(store, getterName, getterValue);\n\t\t\t}\n\t\t\t// remove deleted getters\n\t\t\tObject.keys(store._hmrPayload.getters).forEach((key) => {\n\t\t\t\tif (!(key in newStore._hmrPayload.getters)) {\n\t\t\t\t\tdel(store, key);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// remove old actions\n\t\t\tObject.keys(store._hmrPayload.actions).forEach((key) => {\n\t\t\t\tif (!(key in newStore._hmrPayload.actions)) {\n\t\t\t\t\tdel(store, key);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// update the values used in devtools and to allow deleting new properties later on\n\t\t\tstore._hmrPayload = newStore._hmrPayload;\n\t\t\tstore._getters = newStore._getters;\n\t\t\tstore._hotUpdating = false;\n\t\t});\n\t\tconst nonEnumerable = {\n\t\t\twritable: true,\n\t\t\tconfigurable: true,\n\t\t\t// avoid warning on devtools trying to display this property\n\t\t\tenumerable: false,\n\t\t};\n\t\tif (IS_CLIENT) {\n\t\t\t['_p', '_hmrPayload', '_getters', '_customProperties'].forEach((p) => {\n\t\t\t\tObject.defineProperty(store, p, {\n\t\t\t\t\tvalue: store[p],\n\t\t\t\t\t...nonEnumerable,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\t// mark the store as ready before plugins\n\t\tstore._r = true;\n\t}\n\t// apply all plugins\n\tpinia._p.forEach((extender) => {\n\t\t/* istanbul ignore else */\n\t\tif (IS_CLIENT) {\n\t\t\tconst extensions = scope.run(() => extender({\n\t\t\t\tstore,\n\t\t\t\tapp: pinia._a,\n\t\t\t\tpinia,\n\t\t\t\toptions: optionsForPlugin,\n\t\t\t}));\n\t\t\tObject.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n\t\t\tassign(store, extensions);\n\t\t}\n\t\telse {\n\t\t\tassign(store, scope.run(() => extender({\n\t\t\t\tstore,\n\t\t\t\tapp: pinia._a,\n\t\t\t\tpinia,\n\t\t\t\toptions: optionsForPlugin,\n\t\t\t})));\n\t\t}\n\t});\n\tif (store.$state &&\n\t\ttypeof store.$state === 'object' &&\n\t\ttypeof store.$state.constructor === 'function' &&\n\t\t!store.$state.constructor.toString().includes('[native code]')) {\n\t\tconsole.warn(`[Pinia]: The \"state\" must be a plain object. It cannot be\\n` +\n\t\t\t`\\tstate: () => new MyClass()\\n` +\n\t\t\t`Found in store \"${store.$id}\".`);\n\t}\n\t// only apply hydrate to option stores with an initial state in pinia\n\tif (initialState &&\n\t\tisOptionsStore &&\n\t\toptions.hydrate) {\n\t\toptions.hydrate(store.$state, initialState);\n\t}\n\tisListening = true;\n\tisSyncListening = true;\n\treturn store;\n}\nfunction defineStore(\n// TODO: add proper types from above\nidOrOptions, setup, setupOptions) {\n\tlet id;\n\tlet options;\n\tconst isSetupStore = typeof setup === 'function';\n\tif (typeof idOrOptions === 'string') {\n\t\tid = idOrOptions;\n\t\t// the option store setup will contain the actual options in this case\n\t\toptions = isSetupStore ? setupOptions : setup;\n\t}\n\telse {\n\t\toptions = idOrOptions;\n\t\tid = idOrOptions.id;\n\t}\n\tfunction useStore(pinia, hot) {\n\t\tconst currentInstance = getCurrentInstance();\n\t\tpinia =\n\t\t\t// in test mode, ignore the argument provided as we can always retrieve a\n\t\t\t// pinia instance with getActivePinia()\n\t\t\t(pinia) ||\n\t\t\t(currentInstance && inject(piniaSymbol));\n\t\tif (pinia)\n\t\t\tsetActivePinia(pinia);\n\t\tif (!activePinia) {\n\t\t\tthrow new Error(`[Pinia]: getActivePinia was called with no active Pinia. Did you forget to install pinia?\\n` +\n\t\t\t\t`\\tconst pinia = createPinia()\\n` +\n\t\t\t\t`\\tapp.use(pinia)\\n` +\n\t\t\t\t`This will fail in production.`);\n\t\t}\n\t\tpinia = activePinia;\n\t\tif (!pinia._s.has(id)) {\n\t\t\t// creating the store registers it in `pinia._s`\n\t\t\tif (isSetupStore) {\n\t\t\t\tcreateSetupStore(id, setup, options, pinia);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcreateOptionsStore(id, options, pinia);\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t// @ts-expect-error: not the right inferred type\n\t\t\t\tuseStore._pinia = pinia;\n\t\t\t}\n\t\t}\n\t\tconst store = pinia._s.get(id);\n\t\tif (hot) {\n\t\t\tconst hotId = '__hot:' + id;\n\t\t\tconst newStore = isSetupStore\n\t\t\t\t? createSetupStore(hotId, setup, options, pinia, true)\n\t\t\t\t: createOptionsStore(hotId, assign({}, options), pinia, true);\n\t\t\thot._hotUpdate(newStore);\n\t\t\t// cleanup the state properties and the store from the cache\n\t\t\tdelete pinia.state.value[hotId];\n\t\t\tpinia._s.delete(hotId);\n\t\t}\n\t\t// save stores in instances to access them devtools\n\t\tif (IS_CLIENT &&\n\t\t\tcurrentInstance &&\n\t\t\tcurrentInstance.proxy &&\n\t\t\t// avoid adding stores that are just built for hot module replacement\n\t\t\t!hot) {\n\t\t\tconst vm = currentInstance.proxy;\n\t\t\tconst cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\n\t\t\tcache[id] = store;\n\t\t}\n\t\t// StoreGeneric cannot be casted towards Store\n\t\treturn store;\n\t}\n\tuseStore.$id = id;\n\treturn useStore;\n}\n\nlet mapStoreSuffix = 'Store';\n/**\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\n * interface if you are using TypeScript.\n *\n * @param suffix - new suffix\n */\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\n) {\n\tmapStoreSuffix = suffix;\n}\n/**\n * Allows using stores without the composition API (`setup()`) by generating an\n * object to be spread in the `computed` field of a component. It accepts a list\n * of store definitions.\n *\n * @example\n * ```js\n * export default {\n *   computed: {\n *     // other computed properties\n *     ...mapStores(useUserStore, useCartStore)\n *   },\n *\n *   created() {\n *     this.userStore // store with id \"user\"\n *     this.cartStore // store with id \"cart\"\n *   }\n * }\n * ```\n *\n * @param stores - list of stores to map to an object\n */\nfunction mapStores(...stores) {\n\tif (Array.isArray(stores[0])) {\n\t\tconsole.warn(`[Pinia]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\n\t\t\t`Replace\\n` +\n\t\t\t`\\tmapStores([useAuthStore, useCartStore])\\n` +\n\t\t\t`with\\n` +\n\t\t\t`\\tmapStores(useAuthStore, useCartStore)\\n` +\n\t\t\t`This will fail in production if not fixed.`);\n\t\tstores = stores[0];\n\t}\n\treturn stores.reduce((reduced, useStore) => {\n\t\t// @ts-expect-error: $id is added by defineStore\n\t\treduced[useStore.$id + mapStoreSuffix] = function () {\n\t\t\treturn useStore(this.$pinia);\n\t\t};\n\t\treturn reduced;\n\t}, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapState(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\treduced[key] = function () {\n\t\t\t\treturn useStore(this.$pinia)[key];\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function () {\n\t\t\t\tconst store = useStore(this.$pinia);\n\t\t\t\tconst storeKey = keysOrMapper[key];\n\t\t\t\t// for some reason TS is unable to infer the type of storeKey to be a\n\t\t\t\t// function\n\t\t\t\treturn typeof storeKey === 'function'\n\t\t\t\t\t? storeKey.call(this, store)\n\t\t\t\t\t: store[storeKey];\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n/**\n * Alias for `mapState()`. You should use `mapState()` instead.\n * @deprecated use `mapState()` instead.\n */\nconst mapGetters = mapState;\n/**\n * Allows directly using actions from your store without using the composition\n * API (`setup()`) by generating an object to be spread in the `methods` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapActions(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function (...args) {\n\t\t\t\treturn useStore(this.$pinia)[key](...args);\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function (...args) {\n\t\t\t\treturn useStore(this.$pinia)[keysOrMapper[key]](...args);\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapWritableState(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\t// @ts-ignore\n\t\t\treduced[key] = {\n\t\t\t\tget() {\n\t\t\t\t\treturn useStore(this.$pinia)[key];\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\t// it's easier to type it here as any\n\t\t\t\t\treturn (useStore(this.$pinia)[key] = value);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-ignore\n\t\t\treduced[key] = {\n\t\t\t\tget() {\n\t\t\t\t\treturn useStore(this.$pinia)[keysOrMapper[key]];\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\t// it's easier to type it here as any\n\t\t\t\t\treturn (useStore(this.$pinia)[keysOrMapper[key]] = value);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n\n/**\n * Creates an object of references with all the state, getters, and plugin-added\n * state properties of the store. Similar to `toRefs()` but specifically\n * designed for Pinia stores so methods and non reactive properties are\n * completely ignored.\n *\n * @param store - store to extract the refs from\n */\nfunction storeToRefs(store) {\n\t// See https://github.com/vuejs/pinia/issues/852\n\t// It's easier to just use toRefs() even if it includes more stuff\n\tif (isVue2) {\n\t\t// @ts-expect-error: toRefs include methods and others\n\t\treturn toRefs(store);\n\t}\n\telse {\n\t\tstore = toRaw(store);\n\t\tconst refs = {};\n\t\tfor (const key in store) {\n\t\t\tconst value = store[key];\n\t\t\tif (isRef(value) || isReactive(value)) {\n\t\t\t\t// @ts-expect-error: the key is state or getter\n\t\t\t\trefs[key] =\n\t\t\t\t\t// ---\n\t\t\t\t\ttoRef(store, key);\n\t\t\t}\n\t\t}\n\t\treturn refs;\n\t}\n}\n\n/**\n * Vue 2 Plugin that must be installed for pinia to work. Note **you don't need\n * this plugin if you are using Nuxt.js**. Use the `buildModule` instead:\n * https://pinia.vuejs.org/ssr/nuxt.html.\n *\n * @example\n * ```js\n * import Vue from 'vue'\n * import { PiniaVuePlugin, createPinia } from 'pinia'\n *\n * Vue.use(PiniaVuePlugin)\n * const pinia = createPinia()\n *\n * new Vue({\n *   el: '#app',\n *   // ...\n *   pinia,\n * })\n * ```\n *\n * @param _Vue - `Vue` imported from 'vue'.\n */\nconst PiniaVuePlugin = function (_Vue) {\n\t// Equivalent of\n\t// app.config.globalProperties.$pinia = pinia\n\t_Vue.mixin({\n\t\tbeforeCreate() {\n\t\t\tconst options = this.$options;\n\t\t\tif (options.pinia) {\n\t\t\t\tconst pinia = options.pinia;\n\t\t\t\t// HACK: taken from provide(): https://github.com/vuejs/composition-api/blob/main/src/apis/inject.ts#L31\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (!this._provided) {\n\t\t\t\t\tconst provideCache = {};\n\t\t\t\t\tObject.defineProperty(this, '_provided', {\n\t\t\t\t\t\tget: () => provideCache,\n\t\t\t\t\t\tset: (v) => Object.assign(provideCache, v),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis._provided[piniaSymbol] = pinia;\n\t\t\t\t// propagate the pinia instance in an SSR friendly way\n\t\t\t\t// avoid adding it to nuxt twice\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (!this.$pinia) {\n\t\t\t\t\tthis.$pinia = pinia;\n\t\t\t\t}\n\t\t\t\tpinia._a = this;\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\t// this allows calling useStore() outside of a component setup after\n\t\t\t\t\t// installing pinia's plugin\n\t\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t}\n\t\t\t\tif (USE_DEVTOOLS) {\n\t\t\t\t\tregisterPiniaDevtools(pinia._a, pinia);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (!this.$pinia && options.parent && options.parent.$pinia) {\n\t\t\t\tthis.$pinia = options.parent.$pinia;\n\t\t\t}\n\t\t},\n\t\tdestroyed() {\n\t\t\tdelete this._pStores;\n\t\t},\n\t});\n};\n\nexport { MutationType, PiniaVuePlugin, acceptHMRUpdate, createPinia, defineStore, getActivePinia, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix, skipHydrate, storeToRefs };\n// origin-end\nconst version = '2.0.22';\nexport {version}",null]}