{"version":3,"sources":["../src/wrap/start.js","../src/pinia.js","../src/wrap/end.js"],"names":["environmentMode","BitrixVue","developerMode","isVue2","set","object","key","value","Array","isArray","length","Math","max","splice","del","getDevtoolsGlobalHook","getTarget","__VUE_DEVTOOLS_GLOBAL_HOOK__","navigator","window","global","HOOK_SETUP","setupDevtoolsPlugin","pluginDescriptor","setupFn","hook","emit","target","list","__VUE_DEVTOOLS_PLUGINS__","push","activePinia","setActivePinia","pinia","getActivePinia","getCurrentInstance","inject","piniaSymbol","Symbol","isPlainObject","o","Object","prototype","toString","call","toJSON","MutationType","IS_CLIENT","_global","self","globalThis","HTMLElement","bom","blob","autoBom","test","type","Blob","String","fromCharCode","download","url","name","opts","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","console","error","send","corsEnabled","e","status","click","node","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","_navigator","userAgent","isMacOSWebView","HTMLAnchorElement","downloadSaveAs","msSaveAs","fileSaverSaveAs","a","createElement","rel","href","origin","location","URL","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","isChromeIOS","FileReader","reader","onloadend","result","Error","replace","assign","readAsDataURL","toastMessage","message","piniaMessage","__VUE_DEVTOOLS_TOAST__","warn","log","isPinia","checkClipboardAccess","checkNotFocusedError","toLowerCase","includes","actionGlobalCopyState","clipboard","writeText","JSON","stringify","state","actionGlobalPasteState","parse","readText","actionGlobalSaveState","fileInput","getFileOpener","accept","openFile","Promise","resolve","reject","onchange","files","file","item","text","oncancel","actionGlobalOpenStateFile","formatDisplay","display","_custom","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","store","id","label","$id","formatStoreForInspectorState","storeNames","from","_s","keys","storeMap","map","storeId","editable","getters","filter","get","_getters","reduce","$state","getterName","_customProperties","size","customProperties","formatEventData","events","data","event","operations","oldValue","newValue","operation","formatMutationType","direct","patchFunction","patchObject","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","getStoreType","registerPiniaDevtools","app","logo","packageName","homepage","api","now","addTimelineLayer","color","addInspector","icon","treeFilterPlaceholder","actions","action","tooltip","sendInspectorTree","sendInspectorState","on","inspectComponent","payload","ctx","proxy","componentInstance","_pStores","piniaStores","values","forEach","instanceData","_isOptionsAPI","$reset","getInspectorTree","inspectorId","stores","concat","rootNodes","getInspectorState","inspectedStore","nodeId","editInspectorState","path","has","unshift","editComponentState","startsWith","addStoreToDevtools","settings","logStoreChanges","defaultValue","bind","Date","$onAction","after","onError","args","groupId","runningActionId","addTimelineEvent","layerId","time","subtitle","activeAction","undefined","logType","watch","unref","notifyComponentUpdate","deep","$subscribe","eventData","detached","flush","hotUpdate","_hotUpdate","markRaw","newStore","info","$dispose","getSettings","patchActionForGrouping","actionNames","storeActions","actionName","toRaw","_actionId","trackedStore","Proxy","Reflect","apply","arguments","devtoolsPlugin","options","originalHotUpdate","_hmrPayload","createPinia","scope","effectScope","run","ref","_p","toBeInstalled","install","_a","provide","config","globalProperties","$pinia","plugin","use","_e","Map","isUseStore","fn","newState","oldState","subPatch","targetValue","isRef","isReactive","acceptHMRUpdate","initialUseStore","hot","newModule","_pinia","exportName","useStore","invalidate","existingStore","noop","addSubscription","subscriptions","callback","onCleanup","removeSubscription","idx","indexOf","onUnmounted","triggerSubscriptions","slice","mergeReactiveObjects","patchToApply","hasOwnProperty","skipHydrateSymbol","skipHydrate","obj","defineProperty","shouldHydrate","isComputed","effect","createOptionsStore","initialState","setup","localState","toRefs","computedGetters","computed","createSetupStore","$patch","isOptionsStore","optionsForPlugin","active","$subscribeOptions","onTrigger","isListening","debuggerEvents","_hotUpdating","isSyncListening","actionSubscriptions","hotState","activeListener","partialStateOrMutator","subscriptionMutation","myListenerId","nextTick","then","stop","delete","wrapAction","afterCallbackList","onErrorCallbackList","ret","catch","partialStore","stopWatcher","reactive","Set","setupStore","prop","toRef","actionValue","stateKey","newStateTarget","oldStateSource","getter","getterValue","nonEnumerable","writable","configurable","enumerable","p","extender","extensions","add","constructor","hydrate","defineStore","idOrOptions","setupOptions","isSetupStore","currentInstance","_testing","hotId","vm","cache","mapStoreSuffix","setMapStoreSuffix","suffix","mapStores","reduced","mapState","keysOrMapper","storeKey","mapGetters","mapActions","mapWritableState","storeToRefs","refs","PiniaVuePlugin","_Vue","mixin","beforeCreate","$options","_provided","provideCache","v","parent","destroyed","version"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;CChBA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CAcA,MAAMA,eAAe,GAAGC,iBAAS,CAACC,aAAV,GAAyB,aAAzB,GAAwC,YAAhE;CACA,MAAMC,MAAM,GAAG,KAAf;;CAEA,SAASC,GAAT,CAAaC,MAAb,EAAqBC,GAArB,EAA0BC,KAA1B,EACA;CACC,MAAIC,KAAK,CAACC,OAAN,CAAcJ,MAAd,CAAJ,EACA;CACCA,IAAAA,MAAM,CAACK,MAAP,GAAgBC,IAAI,CAACC,GAAL,CAASP,MAAM,CAACK,MAAhB,EAAwBJ,GAAxB,CAAhB;CACAD,IAAAA,MAAM,CAACQ,MAAP,CAAcP,GAAd,EAAmB,CAAnB,EAAsBC,KAAtB;CACA,GAJD,MAKK,IAAI,OAAOF,MAAP,KAAkB,QAAtB,EACL;CACCA,IAAAA,MAAM,CAACC,GAAD,CAAN,GAAcC,KAAd;CACA;;CAED,SAAOA,KAAP;CACA;;CAED,SAASO,GAAT,CAAaT,MAAb,EAAqBC,GAArB,EACA;CACC,MAAIE,KAAK,CAACC,OAAN,CAAcJ,MAAd,CAAJ,EACA;CACCA,IAAAA,MAAM,CAACQ,MAAP,CAAcP,GAAd,EAAmB,CAAnB;CACA,GAHD,MAIK,IAAI,OAAOD,MAAP,KAAkB,QAAtB,EACL;CACC,WAAOA,MAAM,CAACC,GAAD,CAAb;CACA;CACD;;CAED,SAASS,qBAAT,GAAiC;CAChC,SAAOC,SAAS,GAAGC,4BAAnB;CACA;;CACD,SAASD,SAAT,GAAqB;CACpB;CACA,SAAO,OAAOE,SAAP,KAAqB,WAArB,GACJC,MADI,GAEJ,OAAOC,MAAP,KAAkB,WAAlB,GACCA,MADD,GAEC,EAJJ;CAKA;;CAED,MAAMC,UAAU,GAAG,uBAAnB;;CAEA,SAASC,mBAAT,CAA6BC,gBAA7B,EAA+CC,OAA/C,EAAwD;CACvD,QAAMC,IAAI,GAAGV,qBAAqB,EAAlC;;CACA,MAAIU,IAAJ,EAAU;CACTA,IAAAA,IAAI,CAACC,IAAL,CAAUL,UAAV,EAAsBE,gBAAtB,EAAwCC,OAAxC;CACA,GAFD,MAGK;CACJ,UAAMG,MAAM,GAAGX,SAAS,EAAxB;CACA,UAAMY,IAAI,GAAGD,MAAM,CAACE,wBAAP,GAAkCF,MAAM,CAACE,wBAAP,IAAmC,EAAlF;CACAD,IAAAA,IAAI,CAACE,IAAL,CAAU;CACTP,MAAAA,gBADS;CAETC,MAAAA;CAFS,KAAV;CAIA;CACD;;CAGD;CACA;CACA;CACA;;;CACA,IAAIO,WAAJ;CACA;CACA;CACA;CACA;CACA;CACA;;AACA,OAAMC,cAAc,GAAIC,KAAD,IAAYF,WAAW,GAAGE,KAAjD;CACA;CACA;CACA;;;AACA,OAAMC,cAAc,GAAG,MAAOC,0BAAkB,MAAMC,cAAM,CAACC,WAAD,CAA/B,IAAiDN,WAA9E;;CACA,MAAMM,WAAW,GAAKrC,eAAe,KAAK,YAArB,GAAqCsC,MAAM,CAAC,OAAD,CAA3C;CAAuD;CAA2BA,MAAM,EAA7G;;CAEA,SAASC,aAAT;CAEAC,CAFA,EAEG;CACF,SAAQA,CAAC,IACR,OAAOA,CAAP,KAAa,QADN,IAEPC,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BJ,CAA/B,MAAsC,iBAF/B,IAGP,OAAOA,CAAC,CAACK,MAAT,KAAoB,UAHrB;CAIA;CAED;;CACA;CACA;CACA;;;AACA;;CACA,CAAC,UAAUC,YAAV,EAAwB;CACxB;CACD;CACA;CACA;CACA;CACA;CACA;CACCA,EAAAA,YAAY,CAAC,QAAD,CAAZ,GAAyB,QAAzB;CACA;CACD;CACA;CACA;CACA;;CACCA,EAAAA,YAAY,CAAC,aAAD,CAAZ,GAA8B,cAA9B;CACA;CACD;CACA;CACA;CACA;;CACCA,EAAAA,YAAY,CAAC,eAAD,CAAZ,GAAgC,gBAAhC,CApBwB;CAsBxB,CAtBD,EAsBGA,oBAAY,KAAKA,oBAAY,GAAG,EAApB,CAtBf;;CAwBA,MAAMC,SAAS,GAAG,OAAO5B,MAAP,KAAkB,WAApC;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACA,MAAM6B,OAAO,gBAAiB,CAAC,MAAM,OAAO7B,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAACA,MAAP,KAAkBA,MAAhD,GAClCA,MADkC,GAElC,OAAO8B,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,CAACA,IAAL,KAAcA,IAA1C,GACCA,IADD,GAEC,OAAO7B,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAACA,MAAP,KAAkBA,MAAhD,GACCA,MADD,GAEC,OAAO8B,UAAP,KAAsB,QAAtB,GACCA,UADD,GAEC;CAAEC,EAAAA,WAAW,EAAE;CAAf,CARwB,GAA9B;;CASA,SAASC,GAAT,CAAaC,IAAb,EAAmB;CAAEC,EAAAA,OAAO,GAAG;CAAZ,IAAsB,EAAzC,EAA6C;CAC5C;CACA;CACA,MAAIA,OAAO,IACV,6EAA6EC,IAA7E,CAAkFF,IAAI,CAACG,IAAvF,CADD,EAC+F;CAC9F,WAAO,IAAIC,IAAJ,CAAS,CAACC,MAAM,CAACC,YAAP,CAAoB,MAApB,CAAD,EAA8BN,IAA9B,CAAT,EAA8C;CAAEG,MAAAA,IAAI,EAAEH,IAAI,CAACG;CAAb,KAA9C,CAAP;CACA;;CACD,SAAOH,IAAP;CACA;;CACD,SAASO,QAAT,CAAkBC,GAAlB,EAAuBC,IAAvB,EAA6BC,IAA7B,EAAmC;CAClC,QAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;CACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgBL,GAAhB;CACAG,EAAAA,GAAG,CAACG,YAAJ,GAAmB,MAAnB;;CACAH,EAAAA,GAAG,CAACI,MAAJ,GAAa,YAAY;CACxBC,IAAAA,MAAM,CAACL,GAAG,CAACM,QAAL,EAAeR,IAAf,EAAqBC,IAArB,CAAN;CACA,GAFD;;CAGAC,EAAAA,GAAG,CAACO,OAAJ,GAAc,YAAY;CACzBC,IAAAA,OAAO,CAACC,KAAR,CAAc,yBAAd;CACA,GAFD;;CAGAT,EAAAA,GAAG,CAACU,IAAJ;CACA;;CACD,SAASC,WAAT,CAAqBd,GAArB,EAA0B;CACzB,QAAMG,GAAG,GAAG,IAAIC,cAAJ,EAAZ,CADyB;;CAGzBD,EAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAiBL,GAAjB,EAAsB,KAAtB;;CACA,MAAI;CACHG,IAAAA,GAAG,CAACU,IAAJ;CACA,GAFD,CAGA,OAAOE,CAAP,EAAU;;CACV,SAAOZ,GAAG,CAACa,MAAJ,IAAc,GAAd,IAAqBb,GAAG,CAACa,MAAJ,IAAc,GAA1C;CACA;;;CAED,SAASC,KAAT,CAAeC,IAAf,EAAqB;CACpB,MAAI;CACHA,IAAAA,IAAI,CAACC,aAAL,CAAmB,IAAIC,UAAJ,CAAe,OAAf,CAAnB;CACA,GAFD,CAGA,OAAOL,CAAP,EAAU;CACT,UAAMM,GAAG,GAAGC,QAAQ,CAACC,WAAT,CAAqB,aAArB,CAAZ;CACAF,IAAAA,GAAG,CAACG,cAAJ,CAAmB,OAAnB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwClE,MAAxC,EAAgD,CAAhD,EAAmD,CAAnD,EAAsD,CAAtD,EAAyD,EAAzD,EAA6D,EAA7D,EAAiE,KAAjE,EAAwE,KAAxE,EAA+E,KAA/E,EAAsF,KAAtF,EAA6F,CAA7F,EAAgG,IAAhG;CACA4D,IAAAA,IAAI,CAACC,aAAL,CAAmBE,GAAnB;CACA;CACD;;CACD,MAAMI,UAAU,GACf,OAAOpE,SAAP,KAAqB,QAArB,GAAgCA,SAAhC,GAA4C;CAAEqE,EAAAA,SAAS,EAAE;CAAb,CAD7C;CAGA;CACA;;;CACA,MAAMC,cAAc,gBAAiB,CAAC,MAAM,YAAYjC,IAAZ,CAAiB+B,UAAU,CAACC,SAA5B,KAC3C,cAAchC,IAAd,CAAmB+B,UAAU,CAACC,SAA9B,CAD2C,IAE3C,CAAC,SAAShC,IAAT,CAAc+B,UAAU,CAACC,SAAzB,CAFmC,GAArC;;CAGA,MAAMlB,MAAM,GAAG,CAACtB,SAAD,GACZ,MAAM,EADM;CAAA;CAGd,OAAO0C,iBAAP,KAA6B,WAA7B,IACA,cAAcA,iBAAiB,CAAC/C,SADhC,IAEA,CAAC8C,cAFD,GAGGE,cAHH;CAKC,sBAAsBJ,UAAtB,GACGK,QADH;CAGCC,eAXH;;CAYA,SAASF,cAAT,CAAwBrC,IAAxB,EAA8BS,IAAI,GAAG,UAArC,EAAiDC,IAAjD,EAAuD;CACtD,QAAM8B,CAAC,GAAGV,QAAQ,CAACW,aAAT,CAAuB,GAAvB,CAAV;CACAD,EAAAA,CAAC,CAACjC,QAAF,GAAaE,IAAb;CACA+B,EAAAA,CAAC,CAACE,GAAF,GAAQ,UAAR,CAHsD;CAItD;CACA;;CACA,MAAI,OAAO1C,IAAP,KAAgB,QAApB,EAA8B;CAC7B;CACAwC,IAAAA,CAAC,CAACG,IAAF,GAAS3C,IAAT;;CACA,QAAIwC,CAAC,CAACI,MAAF,KAAaC,QAAQ,CAACD,MAA1B,EAAkC;CACjC,UAAItB,WAAW,CAACkB,CAAC,CAACG,IAAH,CAAf,EAAyB;CACxBpC,QAAAA,QAAQ,CAACP,IAAD,EAAOS,IAAP,EAAaC,IAAb,CAAR;CACA,OAFD,MAGK;CACJ8B,QAAAA,CAAC,CAAClE,MAAF,GAAW,QAAX;CACAmD,QAAAA,KAAK,CAACe,CAAD,CAAL;CACA;CACD,KARD,MASK;CACJf,MAAAA,KAAK,CAACe,CAAD,CAAL;CACA;CACD,GAfD,MAgBK;CACJ;CACAA,IAAAA,CAAC,CAACG,IAAF,GAASG,GAAG,CAACC,eAAJ,CAAoB/C,IAApB,CAAT;CACAgD,IAAAA,UAAU,CAAC,YAAY;CACtBF,MAAAA,GAAG,CAACG,eAAJ,CAAoBT,CAAC,CAACG,IAAtB;CACA,KAFS,EAEP,GAFO,CAAV,CAHI;;CAMJK,IAAAA,UAAU,CAAC,YAAY;CACtBvB,MAAAA,KAAK,CAACe,CAAD,CAAL;CACA,KAFS,EAEP,CAFO,CAAV;CAGA;CACD;;CACD,SAASF,QAAT,CAAkBtC,IAAlB,EAAwBS,IAAI,GAAG,UAA/B,EAA2CC,IAA3C,EAAiD;CAChD,MAAI,OAAOV,IAAP,KAAgB,QAApB,EAA8B;CAC7B,QAAIsB,WAAW,CAACtB,IAAD,CAAf,EAAuB;CACtBO,MAAAA,QAAQ,CAACP,IAAD,EAAOS,IAAP,EAAaC,IAAb,CAAR;CACA,KAFD,MAGK;CACJ,YAAM8B,CAAC,GAAGV,QAAQ,CAACW,aAAT,CAAuB,GAAvB,CAAV;CACAD,MAAAA,CAAC,CAACG,IAAF,GAAS3C,IAAT;CACAwC,MAAAA,CAAC,CAAClE,MAAF,GAAW,QAAX;CACA0E,MAAAA,UAAU,CAAC,YAAY;CACtBvB,QAAAA,KAAK,CAACe,CAAD,CAAL;CACA,OAFS,CAAV;CAGA;CACD,GAZD,MAaK;CACJ;CACA3E,IAAAA,SAAS,CAACqF,gBAAV,CAA2BnD,GAAG,CAACC,IAAD,EAAOU,IAAP,CAA9B,EAA4CD,IAA5C;CACA;CACD;;CACD,SAAS8B,eAAT,CAAyBvC,IAAzB,EAA+BS,IAA/B,EAAqCC,IAArC,EAA2CyC,KAA3C,EAAkD;CACjD;CACA;CACAA,EAAAA,KAAK,GAAGA,KAAK,IAAItC,IAAI,CAAC,EAAD,EAAK,QAAL,CAArB;;CACA,MAAIsC,KAAJ,EAAW;CACVA,IAAAA,KAAK,CAACrB,QAAN,CAAesB,KAAf,GAAuBD,KAAK,CAACrB,QAAN,CAAeuB,IAAf,CAAoBC,SAApB,GAAgC,gBAAvD;CACA;;CACD,MAAI,OAAOtD,IAAP,KAAgB,QAApB,EACC,OAAOO,QAAQ,CAACP,IAAD,EAAOS,IAAP,EAAaC,IAAb,CAAf;CACD,QAAM6C,KAAK,GAAGvD,IAAI,CAACG,IAAL,KAAc,0BAA5B;;CACA,QAAMqD,QAAQ,GAAG,eAAetD,IAAf,CAAoBG,MAAM,CAACV,OAAO,CAACG,WAAT,CAA1B,KAAoD,YAAYH,OAAjF;;CACA,QAAM8D,WAAW,GAAG,eAAevD,IAAf,CAAoBrC,SAAS,CAACqE,SAA9B,CAApB;;CACA,MAAI,CAACuB,WAAW,IAAKF,KAAK,IAAIC,QAAzB,IAAsCrB,cAAvC,KACH,OAAOuB,UAAP,KAAsB,WADvB,EACoC;CACnC;CACA,UAAMC,MAAM,GAAG,IAAID,UAAJ,EAAf;;CACAC,IAAAA,MAAM,CAACC,SAAP,GAAmB,YAAY;CAC9B,UAAIpD,GAAG,GAAGmD,MAAM,CAACE,MAAjB;;CACA,UAAI,OAAOrD,GAAP,KAAe,QAAnB,EAA6B;CAC5B2C,QAAAA,KAAK,GAAG,IAAR;CACA,cAAM,IAAIW,KAAJ,CAAU,0BAAV,CAAN;CACA;;CACDtD,MAAAA,GAAG,GAAGiD,WAAW,GACdjD,GADc,GAEdA,GAAG,CAACuD,OAAJ,CAAY,cAAZ,EAA4B,uBAA5B,CAFH;;CAGA,UAAIZ,KAAJ,EAAW;CACVA,QAAAA,KAAK,CAACN,QAAN,CAAeF,IAAf,GAAsBnC,GAAtB;CACA,OAFD,MAGK;CACJqC,QAAAA,QAAQ,CAACmB,MAAT,CAAgBxD,GAAhB;CACA;;CACD2C,MAAAA,KAAK,GAAG,IAAR,CAf8B;CAgB9B,KAhBD;;CAiBAQ,IAAAA,MAAM,CAACM,aAAP,CAAqBjE,IAArB;CACA,GAtBD,MAuBK;CACJ,UAAMQ,GAAG,GAAGsC,GAAG,CAACC,eAAJ,CAAoB/C,IAApB,CAAZ;CACA,QAAImD,KAAJ,EACCA,KAAK,CAACN,QAAN,CAAemB,MAAf,CAAsBxD,GAAtB,EADD,KAGCqC,QAAQ,CAACF,IAAT,GAAgBnC,GAAhB;CACD2C,IAAAA,KAAK,GAAG,IAAR,CANI;;CAOJH,IAAAA,UAAU,CAAC,YAAY;CACtBF,MAAAA,GAAG,CAACG,eAAJ,CAAoBzC,GAApB;CACA,KAFS,EAEP,GAFO,CAAV,CAPI;CAUJ;CACD;CAED;CACA;CACA;CACA;CACA;CACA;;;CACA,SAAS0D,YAAT,CAAsBC,OAAtB,EAA+BhE,IAA/B,EAAqC;CACpC,QAAMiE,YAAY,GAAG,YAAYD,OAAjC;;CACA,MAAI,OAAOE,sBAAP,KAAkC,UAAtC,EAAkD;CACjDA,IAAAA,sBAAsB,CAACD,YAAD,EAAejE,IAAf,CAAtB;CACA,GAFD,MAGK,IAAIA,IAAI,KAAK,OAAb,EAAsB;CAC1BgB,IAAAA,OAAO,CAACC,KAAR,CAAcgD,YAAd;CACA,GAFI,MAGA,IAAIjE,IAAI,KAAK,MAAb,EAAqB;CACzBgB,IAAAA,OAAO,CAACmD,IAAR,CAAaF,YAAb;CACA,GAFI,MAGA;CACJjD,IAAAA,OAAO,CAACoD,GAAR,CAAYH,YAAZ;CACA;CACD;;CACD,SAASI,OAAT,CAAiBrF,CAAjB,EAAoB;CACnB,SAAO,QAAQA,CAAR,IAAa,aAAaA,CAAjC;CACA;;CAED,SAASsF,oBAAT,GAAgC;CAC/B,MAAI,EAAE,eAAe5G,SAAjB,CAAJ,EAAiC;CAChCqG,IAAAA,YAAY,CAAE,gDAAF,EAAmD,OAAnD,CAAZ;CACA,WAAO,IAAP;CACA;CACD;;CACD,SAASQ,oBAAT,CAA8BtD,KAA9B,EAAqC;CACpC,MAAIA,KAAK,YAAY0C,KAAjB,IACH1C,KAAK,CAAC+C,OAAN,CAAcQ,WAAd,GAA4BC,QAA5B,CAAqC,yBAArC,CADD,EACkE;CACjEV,IAAAA,YAAY,CAAC,iGAAD,EAAoG,MAApG,CAAZ;CACA,WAAO,IAAP;CACA;;CACD,SAAO,KAAP;CACA;;CACD,eAAeW,qBAAf,CAAqCjG,KAArC,EAA4C;CAC3C,MAAI6F,oBAAoB,EAAxB,EACC;;CACD,MAAI;CACH,UAAM5G,SAAS,CAACiH,SAAV,CAAoBC,SAApB,CAA8BC,IAAI,CAACC,SAAL,CAAerG,KAAK,CAACsG,KAAN,CAAYhI,KAA3B,CAA9B,CAAN;CACAgH,IAAAA,YAAY,CAAC,mCAAD,CAAZ;CACA,GAHD,CAIA,OAAO9C,KAAP,EAAc;CACb,QAAIsD,oBAAoB,CAACtD,KAAD,CAAxB,EACC;CACD8C,IAAAA,YAAY,CAAE,oEAAF,EAAuE,OAAvE,CAAZ;CACA/C,IAAAA,OAAO,CAACC,KAAR,CAAcA,KAAd;CACA;CACD;;CACD,eAAe+D,sBAAf,CAAsCvG,KAAtC,EAA6C;CAC5C,MAAI6F,oBAAoB,EAAxB,EACC;;CACD,MAAI;CACH7F,IAAAA,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,GAAoB8H,IAAI,CAACI,KAAL,CAAW,MAAMvH,SAAS,CAACiH,SAAV,CAAoBO,QAApB,EAAjB,CAApB;CACAnB,IAAAA,YAAY,CAAC,qCAAD,CAAZ;CACA,GAHD,CAIA,OAAO9C,KAAP,EAAc;CACb,QAAIsD,oBAAoB,CAACtD,KAAD,CAAxB,EACC;CACD8C,IAAAA,YAAY,CAAE,qFAAF,EAAwF,OAAxF,CAAZ;CACA/C,IAAAA,OAAO,CAACC,KAAR,CAAcA,KAAd;CACA;CACD;;CACD,eAAekE,qBAAf,CAAqC1G,KAArC,EAA4C;CAC3C,MAAI;CACHoC,IAAAA,MAAM,CAAC,IAAIZ,IAAJ,CAAS,CAAC4E,IAAI,CAACC,SAAL,CAAerG,KAAK,CAACsG,KAAN,CAAYhI,KAA3B,CAAD,CAAT,EAA8C;CACpDiD,MAAAA,IAAI,EAAE;CAD8C,KAA9C,CAAD,EAEF,kBAFE,CAAN;CAGA,GAJD,CAKA,OAAOiB,KAAP,EAAc;CACb8C,IAAAA,YAAY,CAAE,yEAAF,EAA4E,OAA5E,CAAZ;CACA/C,IAAAA,OAAO,CAACC,KAAR,CAAcA,KAAd;CACA;CACD;;CACD,IAAImE,SAAJ;;CACA,SAASC,aAAT,GAAyB;CACxB,MAAI,CAACD,SAAL,EAAgB;CACfA,IAAAA,SAAS,GAAGzD,QAAQ,CAACW,aAAT,CAAuB,OAAvB,CAAZ;CACA8C,IAAAA,SAAS,CAACpF,IAAV,GAAiB,MAAjB;CACAoF,IAAAA,SAAS,CAACE,MAAV,GAAmB,OAAnB;CACA;;CACD,WAASC,QAAT,GAAoB;CACnB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACvCN,MAAAA,SAAS,CAACO,QAAV,GAAqB,YAAY;CAChC,cAAMC,KAAK,GAAGR,SAAS,CAACQ,KAAxB;CACA,YAAI,CAACA,KAAL,EACC,OAAOH,OAAO,CAAC,IAAD,CAAd;CACD,cAAMI,IAAI,GAAGD,KAAK,CAACE,IAAN,CAAW,CAAX,CAAb;CACA,YAAI,CAACD,IAAL,EACC,OAAOJ,OAAO,CAAC,IAAD,CAAd;CACD,eAAOA,OAAO,CAAC;CAAEM,UAAAA,IAAI,EAAE,MAAMF,IAAI,CAACE,IAAL,EAAd;CAA2BF,UAAAA;CAA3B,SAAD,CAAd;CACA,OARD,CADuC;;;CAWvCT,MAAAA,SAAS,CAACY,QAAV,GAAqB,MAAMP,OAAO,CAAC,IAAD,CAAlC;;CACAL,MAAAA,SAAS,CAACrE,OAAV,GAAoB2E,MAApB;CACAN,MAAAA,SAAS,CAAC9D,KAAV;CACA,KAdM,CAAP;CAeA;;CACD,SAAOiE,QAAP;CACA;;CACD,eAAeU,yBAAf,CAAyCxH,KAAzC,EAAgD;CAC/C,MAAI;CACH,UAAMiC,IAAI,GAAG,MAAM2E,aAAa,EAAhC;CACA,UAAM3B,MAAM,GAAG,MAAMhD,IAAI,EAAzB;CACA,QAAI,CAACgD,MAAL,EACC;CACD,UAAM;CAAEqC,MAAAA,IAAF;CAAQF,MAAAA;CAAR,QAAiBnC,MAAvB;CACAjF,IAAAA,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,GAAoB8H,IAAI,CAACI,KAAL,CAAWc,IAAX,CAApB;CACAhC,IAAAA,YAAY,CAAE,+BAA8B8B,IAAI,CAACvF,IAAK,IAA1C,CAAZ;CACA,GARD,CASA,OAAOW,KAAP,EAAc;CACb8C,IAAAA,YAAY,CAAE,yEAAF,EAA4E,OAA5E,CAAZ;CACA/C,IAAAA,OAAO,CAACC,KAAR,CAAcA,KAAd;CACA;CACD;;CAED,SAASiF,aAAT,CAAuBC,OAAvB,EAAgC;CAC/B,SAAO;CACNC,IAAAA,OAAO,EAAE;CACRD,MAAAA;CADQ;CADH,GAAP;CAKA;;CACD,MAAME,gBAAgB,GAAG,cAAzB;CACA,MAAMC,aAAa,GAAG,OAAtB;;CACA,SAASC,2BAAT,CAAqCC,KAArC,EAA4C;CAC3C,SAAOnC,OAAO,CAACmC,KAAD,CAAP,GACJ;CACDC,IAAAA,EAAE,EAAEH,aADH;CAEDI,IAAAA,KAAK,EAAEL;CAFN,GADI,GAKJ;CACDI,IAAAA,EAAE,EAAED,KAAK,CAACG,GADT;CAEDD,IAAAA,KAAK,EAAEF,KAAK,CAACG;CAFZ,GALH;CASA;;CACD,SAASC,4BAAT,CAAsCJ,KAAtC,EAA6C;CAC5C,MAAInC,OAAO,CAACmC,KAAD,CAAX,EAAoB;CACnB,UAAMK,UAAU,GAAG7J,KAAK,CAAC8J,IAAN,CAAWN,KAAK,CAACO,EAAN,CAASC,IAAT,EAAX,CAAnB;CACA,UAAMC,QAAQ,GAAGT,KAAK,CAACO,EAAvB;CACA,UAAMhC,KAAK,GAAG;CACbA,MAAAA,KAAK,EAAE8B,UAAU,CAACK,GAAX,CAAgBC,OAAD,KAAc;CACnCC,QAAAA,QAAQ,EAAE,IADyB;CAEnCtK,QAAAA,GAAG,EAAEqK,OAF8B;CAGnCpK,QAAAA,KAAK,EAAEyJ,KAAK,CAACzB,KAAN,CAAYhI,KAAZ,CAAkBoK,OAAlB;CAH4B,OAAd,CAAf,CADM;CAMbE,MAAAA,OAAO,EAAER,UAAU,CACjBS,MADO,CACCb,EAAD,IAAQQ,QAAQ,CAACM,GAAT,CAAad,EAAb,EAAiBe,QADzB,EAEPN,GAFO,CAEFT,EAAD,IAAQ;CACZ,cAAMD,KAAK,GAAGS,QAAQ,CAACM,GAAT,CAAad,EAAb,CAAd;CACA,eAAO;CACNW,UAAAA,QAAQ,EAAE,KADJ;CAENtK,UAAAA,GAAG,EAAE2J,EAFC;CAGN1J,UAAAA,KAAK,EAAEyJ,KAAK,CAACgB,QAAN,CAAeC,MAAf,CAAsB,CAACJ,OAAD,EAAUvK,GAAV,KAAkB;CAC9CuK,YAAAA,OAAO,CAACvK,GAAD,CAAP,GAAe0J,KAAK,CAAC1J,GAAD,CAApB;CACA,mBAAOuK,OAAP;CACA,WAHM,EAGJ,EAHI;CAHD,SAAP;CAQA,OAZO;CANI,KAAd;CAoBA,WAAOtC,KAAP;CACA;;CACD,QAAMA,KAAK,GAAG;CACbA,IAAAA,KAAK,EAAE9F,MAAM,CAAC+H,IAAP,CAAYR,KAAK,CAACkB,MAAlB,EAA0BR,GAA1B,CAA+BpK,GAAD,KAAU;CAC9CsK,MAAAA,QAAQ,EAAE,IADoC;CAE9CtK,MAAAA,GAF8C;CAG9CC,MAAAA,KAAK,EAAEyJ,KAAK,CAACkB,MAAN,CAAa5K,GAAb;CAHuC,KAAV,CAA9B;CADM,GAAd,CA1B4C;;CAkC5C,MAAI0J,KAAK,CAACgB,QAAN,IAAkBhB,KAAK,CAACgB,QAAN,CAAetK,MAArC,EAA6C;CAC5C6H,IAAAA,KAAK,CAACsC,OAAN,GAAgBb,KAAK,CAACgB,QAAN,CAAeN,GAAf,CAAoBS,UAAD,KAAiB;CACnDP,MAAAA,QAAQ,EAAE,KADyC;CAEnDtK,MAAAA,GAAG,EAAE6K,UAF8C;CAGnD5K,MAAAA,KAAK,EAAEyJ,KAAK,CAACmB,UAAD;CAHuC,KAAjB,CAAnB,CAAhB;CAKA;;CACD,MAAInB,KAAK,CAACoB,iBAAN,CAAwBC,IAA5B,EAAkC;CACjC9C,IAAAA,KAAK,CAAC+C,gBAAN,GAAyB9K,KAAK,CAAC8J,IAAN,CAAWN,KAAK,CAACoB,iBAAjB,EAAoCV,GAApC,CAAyCpK,GAAD,KAAU;CAC1EsK,MAAAA,QAAQ,EAAE,IADgE;CAE1EtK,MAAAA,GAF0E;CAG1EC,MAAAA,KAAK,EAAEyJ,KAAK,CAAC1J,GAAD;CAH8D,KAAV,CAAxC,CAAzB;CAKA;;CACD,SAAOiI,KAAP;CACA;;CACD,SAASgD,eAAT,CAAyBC,MAAzB,EAAiC;CAChC,MAAI,CAACA,MAAL,EACC,OAAO,EAAP;;CACD,MAAIhL,KAAK,CAACC,OAAN,CAAc+K,MAAd,CAAJ,EAA2B;CAC1B;CACA,WAAOA,MAAM,CAACP,MAAP,CAAc,CAACQ,IAAD,EAAOC,KAAP,KAAiB;CACrCD,MAAAA,IAAI,CAACjB,IAAL,CAAU1I,IAAV,CAAe4J,KAAK,CAACpL,GAArB;CACAmL,MAAAA,IAAI,CAACE,UAAL,CAAgB7J,IAAhB,CAAqB4J,KAAK,CAAClI,IAA3B;CACAiI,MAAAA,IAAI,CAACG,QAAL,CAAcF,KAAK,CAACpL,GAApB,IAA2BoL,KAAK,CAACE,QAAjC;CACAH,MAAAA,IAAI,CAACI,QAAL,CAAcH,KAAK,CAACpL,GAApB,IAA2BoL,KAAK,CAACG,QAAjC;CACA,aAAOJ,IAAP;CACA,KANM,EAMJ;CACFG,MAAAA,QAAQ,EAAE,EADR;CAEFpB,MAAAA,IAAI,EAAE,EAFJ;CAGFmB,MAAAA,UAAU,EAAE,EAHV;CAIFE,MAAAA,QAAQ,EAAE;CAJR,KANI,CAAP;CAYA,GAdD,MAeK;CACJ,WAAO;CACNC,MAAAA,SAAS,EAAEpC,aAAa,CAAC8B,MAAM,CAAChI,IAAR,CADlB;CAENlD,MAAAA,GAAG,EAAEoJ,aAAa,CAAC8B,MAAM,CAAClL,GAAR,CAFZ;CAGNsL,MAAAA,QAAQ,EAAEJ,MAAM,CAACI,QAHX;CAINC,MAAAA,QAAQ,EAAEL,MAAM,CAACK;CAJX,KAAP;CAMA;CACD;;CACD,SAASE,kBAAT,CAA4BvI,IAA5B,EAAkC;CACjC,UAAQA,IAAR;CACC,SAAKV,oBAAY,CAACkJ,MAAlB;CACC,aAAO,UAAP;;CACD,SAAKlJ,oBAAY,CAACmJ,aAAlB;CACC,aAAO,QAAP;;CACD,SAAKnJ,oBAAY,CAACoJ,WAAlB;CACC,aAAO,QAAP;;CACD;CACC,aAAO,SAAP;CARF;CAUA;;;CAGD,IAAIC,gBAAgB,GAAG,IAAvB;CACA,MAAMC,mBAAmB,GAAG,EAA5B;CACA,MAAMC,kBAAkB,GAAG,iBAA3B;CACA,MAAMC,YAAY,GAAG,OAArB;CACA;CACA;CACA;CACA;CACA;CACA;;CACA,MAAMC,YAAY,GAAItC,EAAD,IAAQ,aAAaA,EAA1C;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,SAASuC,qBAAT,CAA+BC,GAA/B,EAAoCxK,KAApC,EAA2C;CAC1CX,EAAAA,mBAAmB,CAAC;CACnB2I,IAAAA,EAAE,EAAE,eADe;CAEnBC,IAAAA,KAAK,EAAE,OAFY;CAGnBwC,IAAAA,IAAI,EAAE,kCAHa;CAInBC,IAAAA,WAAW,EAAE,OAJM;CAKnBC,IAAAA,QAAQ,EAAE,yBALS;CAMnBR,IAAAA,mBANmB;CAOnBK,IAAAA;CAPmB,GAAD,EAQfI,GAAD,IAAS;CACX,QAAI,OAAOA,GAAG,CAACC,GAAX,KAAmB,UAAvB,EAAmC;CAClCvF,MAAAA,YAAY,CAAC,yMAAD,CAAZ;CACA;;CACDsF,IAAAA,GAAG,CAACE,gBAAJ,CAAqB;CACpB9C,MAAAA,EAAE,EAAEoC,kBADgB;CAEpBnC,MAAAA,KAAK,EAAG,OAFY;CAGpB8C,MAAAA,KAAK,EAAE;CAHa,KAArB;CAKAH,IAAAA,GAAG,CAACI,YAAJ,CAAiB;CAChBhD,MAAAA,EAAE,EAAEqC,YADY;CAEhBpC,MAAAA,KAAK,EAAE,OAFS;CAGhBgD,MAAAA,IAAI,EAAE,SAHU;CAIhBC,MAAAA,qBAAqB,EAAE,eAJP;CAKhBC,MAAAA,OAAO,EAAE,CACR;CACCF,QAAAA,IAAI,EAAE,cADP;CAECG,QAAAA,MAAM,EAAE,MAAM;CACbnF,UAAAA,qBAAqB,CAACjG,KAAD,CAArB;CACA,SAJF;CAKCqL,QAAAA,OAAO,EAAE;CALV,OADQ,EAQR;CACCJ,QAAAA,IAAI,EAAE,eADP;CAECG,QAAAA,MAAM,EAAE,YAAY;CACnB,gBAAM7E,sBAAsB,CAACvG,KAAD,CAA5B;CACA4K,UAAAA,GAAG,CAACU,iBAAJ,CAAsBjB,YAAtB;CACAO,UAAAA,GAAG,CAACW,kBAAJ,CAAuBlB,YAAvB;CACA,SANF;CAOCgB,QAAAA,OAAO,EAAE;CAPV,OARQ,EAiBR;CACCJ,QAAAA,IAAI,EAAE,MADP;CAECG,QAAAA,MAAM,EAAE,MAAM;CACb1E,UAAAA,qBAAqB,CAAC1G,KAAD,CAArB;CACA,SAJF;CAKCqL,QAAAA,OAAO,EAAE;CALV,OAjBQ,EAwBR;CACCJ,QAAAA,IAAI,EAAE,aADP;CAECG,QAAAA,MAAM,EAAE,YAAY;CACnB,gBAAM5D,yBAAyB,CAACxH,KAAD,CAA/B;CACA4K,UAAAA,GAAG,CAACU,iBAAJ,CAAsBjB,YAAtB;CACAO,UAAAA,GAAG,CAACW,kBAAJ,CAAuBlB,YAAvB;CACA,SANF;CAOCgB,QAAAA,OAAO,EAAE;CAPV,OAxBQ;CALO,KAAjB;CAwCAT,IAAAA,GAAG,CAACY,EAAJ,CAAOC,gBAAP,CAAwB,CAACC,OAAD,EAAUC,GAAV,KAAkB;CACzC,YAAMC,KAAK,GAAIF,OAAO,CAACG,iBAAR,IACdH,OAAO,CAACG,iBAAR,CAA0BD,KAD3B;;CAEA,UAAIA,KAAK,IAAIA,KAAK,CAACE,QAAnB,EAA6B;CAC5B,cAAMC,WAAW,GAAGL,OAAO,CAACG,iBAAR,CAA0BD,KAA1B,CAAgCE,QAApD;CACAtL,QAAAA,MAAM,CAACwL,MAAP,CAAcD,WAAd,EAA2BE,OAA3B,CAAoClE,KAAD,IAAW;CAC7C2D,UAAAA,OAAO,CAACQ,YAAR,CAAqB5F,KAArB,CAA2BzG,IAA3B,CAAgC;CAC/B0B,YAAAA,IAAI,EAAE+I,YAAY,CAACvC,KAAK,CAACG,GAAP,CADa;CAE/B7J,YAAAA,GAAG,EAAE,OAF0B;CAG/BsK,YAAAA,QAAQ,EAAE,IAHqB;CAI/BrK,YAAAA,KAAK,EAAEyJ,KAAK,CAACoE,aAAN,GACJ;CACDxE,cAAAA,OAAO,EAAE;CACRrJ,gBAAAA,KAAK,EAAEyJ,KAAK,CAACkB,MADL;CAERkC,gBAAAA,OAAO,EAAE,CACR;CACCF,kBAAAA,IAAI,EAAE,SADP;CAECI,kBAAAA,OAAO,EAAE,+BAFV;CAGCD,kBAAAA,MAAM,EAAE,MAAMrD,KAAK,CAACqE,MAAN;CAHf,iBADQ;CAFD;CADR,aADI,GAaJrE,KAAK,CAACkB;CAjBsB,WAAhC;;CAmBA,cAAIlB,KAAK,CAACgB,QAAN,IAAkBhB,KAAK,CAACgB,QAAN,CAAetK,MAArC,EAA6C;CAC5CiN,YAAAA,OAAO,CAACQ,YAAR,CAAqB5F,KAArB,CAA2BzG,IAA3B,CAAgC;CAC/B0B,cAAAA,IAAI,EAAE+I,YAAY,CAACvC,KAAK,CAACG,GAAP,CADa;CAE/B7J,cAAAA,GAAG,EAAE,SAF0B;CAG/BsK,cAAAA,QAAQ,EAAE,KAHqB;CAI/BrK,cAAAA,KAAK,EAAEyJ,KAAK,CAACgB,QAAN,CAAeC,MAAf,CAAsB,CAACJ,OAAD,EAAUvK,GAAV,KAAkB;CAC9C,oBAAI;CACHuK,kBAAAA,OAAO,CAACvK,GAAD,CAAP,GAAe0J,KAAK,CAAC1J,GAAD,CAApB;CACA,iBAFD,CAGA,OAAOmE,KAAP,EAAc;CACb;CACAoG,kBAAAA,OAAO,CAACvK,GAAD,CAAP,GAAemE,KAAf;CACA;;CACD,uBAAOoG,OAAP;CACA,eATM,EASJ,EATI;CAJwB,aAAhC;CAeA;CACD,SArCD;CAsCA;CACD,KA5CD;CA6CAgC,IAAAA,GAAG,CAACY,EAAJ,CAAOa,gBAAP,CAAyBX,OAAD,IAAa;CACpC,UAAIA,OAAO,CAAClB,GAAR,KAAgBA,GAAhB,IAAuBkB,OAAO,CAACY,WAAR,KAAwBjC,YAAnD,EAAiE;CAChE,YAAIkC,MAAM,GAAG,CAACvM,KAAD,CAAb;CACAuM,QAAAA,MAAM,GAAGA,MAAM,CAACC,MAAP,CAAcjO,KAAK,CAAC8J,IAAN,CAAWrI,KAAK,CAACsI,EAAN,CAAS0D,MAAT,EAAX,CAAd,CAAT;CACAN,QAAAA,OAAO,CAACe,SAAR,GAAoB,CAACf,OAAO,CAAC7C,MAAR,GAClB0D,MAAM,CAAC1D,MAAP,CAAed,KAAD,IAAW,SAASA,KAAT,GACxBA,KAAK,CAACG,GAAN,CACAnC,WADA,GAEAC,QAFA,CAES0F,OAAO,CAAC7C,MAAR,CAAe9C,WAAf,EAFT,CADwB,GAIxB6B,gBAAgB,CAAC7B,WAAjB,GAA+BC,QAA/B,CAAwC0F,OAAO,CAAC7C,MAAR,CAAe9C,WAAf,EAAxC,CAJD,CADkB,GAMlBwG,MANiB,EAMT9D,GANS,CAMLX,2BANK,CAApB;CAOA;CACD,KAZD;CAaA8C,IAAAA,GAAG,CAACY,EAAJ,CAAOkB,iBAAP,CAA0BhB,OAAD,IAAa;CACrC,UAAIA,OAAO,CAAClB,GAAR,KAAgBA,GAAhB,IAAuBkB,OAAO,CAACY,WAAR,KAAwBjC,YAAnD,EAAiE;CAChE,cAAMsC,cAAc,GAAGjB,OAAO,CAACkB,MAAR,KAAmB/E,aAAnB,GACpB7H,KADoB,GAEpBA,KAAK,CAACsI,EAAN,CAASQ,GAAT,CAAa4C,OAAO,CAACkB,MAArB,CAFH;;CAGA,YAAI,CAACD,cAAL,EAAqB;CACpB;CACA;CACA;CACA;;CACD,YAAIA,cAAJ,EAAoB;CACnBjB,UAAAA,OAAO,CAACpF,KAAR,GAAgB6B,4BAA4B,CAACwE,cAAD,CAA5C;CACA;CACD;CACD,KAdD;CAeA/B,IAAAA,GAAG,CAACY,EAAJ,CAAOqB,kBAAP,CAA0B,CAACnB,OAAD,EAAUC,GAAV,KAAkB;CAC3C,UAAID,OAAO,CAAClB,GAAR,KAAgBA,GAAhB,IAAuBkB,OAAO,CAACY,WAAR,KAAwBjC,YAAnD,EAAiE;CAChE,cAAMsC,cAAc,GAAGjB,OAAO,CAACkB,MAAR,KAAmB/E,aAAnB,GACpB7H,KADoB,GAEpBA,KAAK,CAACsI,EAAN,CAASQ,GAAT,CAAa4C,OAAO,CAACkB,MAArB,CAFH;;CAGA,YAAI,CAACD,cAAL,EAAqB;CACpB,iBAAOrH,YAAY,CAAE,UAASoG,OAAO,CAACkB,MAAO,aAA1B,EAAwC,OAAxC,CAAnB;CACA;;CACD,cAAM;CAAEE,UAAAA;CAAF,YAAWpB,OAAjB;;CACA,YAAI,CAAC9F,OAAO,CAAC+G,cAAD,CAAZ,EAA8B;CAC7B;CACA,cAAIG,IAAI,CAACrO,MAAL,KAAgB,CAAhB,IACH,CAACkO,cAAc,CAACxD,iBAAf,CAAiC4D,GAAjC,CAAqCD,IAAI,CAAC,CAAD,CAAzC,CADE,IAEHA,IAAI,CAAC,CAAD,CAAJ,IAAWH,cAAc,CAAC1D,MAF3B,EAEmC;CAClC6D,YAAAA,IAAI,CAACE,OAAL,CAAa,QAAb;CACA;CACD,SAPD,MAQK;CACJ;CACAF,UAAAA,IAAI,CAACE,OAAL,CAAa,OAAb;CACA;;CACD9C,QAAAA,gBAAgB,GAAG,KAAnB;CACAwB,QAAAA,OAAO,CAACvN,GAAR,CAAYwO,cAAZ,EAA4BG,IAA5B,EAAkCpB,OAAO,CAACpF,KAAR,CAAchI,KAAhD;CACA4L,QAAAA,gBAAgB,GAAG,IAAnB;CACA;CACD,KAzBD;CA0BAU,IAAAA,GAAG,CAACY,EAAJ,CAAOyB,kBAAP,CAA2BvB,OAAD,IAAa;CACtC,UAAIA,OAAO,CAACnK,IAAR,CAAa2L,UAAb,CAAwB,SAAxB,CAAJ,EAAwC;CACvC,cAAMxE,OAAO,GAAGgD,OAAO,CAACnK,IAAR,CAAa4D,OAAb,CAAqB,aAArB,EAAoC,EAApC,CAAhB;;CACA,cAAM4C,KAAK,GAAG/H,KAAK,CAACsI,EAAN,CAASQ,GAAT,CAAaJ,OAAb,CAAd;;CACA,YAAI,CAACX,KAAL,EAAY;CACX,iBAAOzC,YAAY,CAAE,UAASoD,OAAQ,aAAnB,EAAiC,OAAjC,CAAnB;CACA;;CACD,cAAM;CAAEoE,UAAAA;CAAF,YAAWpB,OAAjB;;CACA,YAAIoB,IAAI,CAAC,CAAD,CAAJ,KAAY,OAAhB,EAAyB;CACxB,iBAAOxH,YAAY,CAAE,2BAA0BoD,OAAQ,OAAMoE,IAAK,+BAA/C,CAAnB;CACA,SATsC;CAWvC;;;CACAA,QAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,QAAV;CACA5C,QAAAA,gBAAgB,GAAG,KAAnB;CACAwB,QAAAA,OAAO,CAACvN,GAAR,CAAY4J,KAAZ,EAAmB+E,IAAnB,EAAyBpB,OAAO,CAACpF,KAAR,CAAchI,KAAvC;CACA4L,QAAAA,gBAAgB,GAAG,IAAnB;CACA;CACD,KAlBD;CAmBA,GA/KkB,CAAnB;CAgLA;;CACD,SAASiD,kBAAT,CAA4B3C,GAA5B,EAAiCzC,KAAjC,EAAwC;CACvC,MAAI,CAACoC,mBAAmB,CAACnE,QAApB,CAA6BsE,YAAY,CAACvC,KAAK,CAACG,GAAP,CAAzC,CAAL,EAA4D;CAC3DiC,IAAAA,mBAAmB,CAACtK,IAApB,CAAyByK,YAAY,CAACvC,KAAK,CAACG,GAAP,CAArC;CACA;;CACD7I,EAAAA,mBAAmB,CAAC;CACnB2I,IAAAA,EAAE,EAAE,eADe;CAEnBC,IAAAA,KAAK,EAAE,OAFY;CAGnBwC,IAAAA,IAAI,EAAE,kCAHa;CAInBC,IAAAA,WAAW,EAAE,OAJM;CAKnBC,IAAAA,QAAQ,EAAE,yBALS;CAMnBR,IAAAA,mBANmB;CAOnBK,IAAAA,GAPmB;CAQnB4C,IAAAA,QAAQ,EAAE;CACTC,MAAAA,eAAe,EAAE;CAChBpF,QAAAA,KAAK,EAAE,iCADS;CAEhB1G,QAAAA,IAAI,EAAE,SAFU;CAGhB+L,QAAAA,YAAY,EAAE;CAHE,OADR;CAOT;CACA;CACA;CACA;;CAVS;CARS,GAAD,EAoBf1C,GAAD,IAAS;CACX;CACA,UAAMC,GAAG,GAAG,OAAOD,GAAG,CAACC,GAAX,KAAmB,UAAnB,GAAgCD,GAAG,CAACC,GAAJ,CAAQ0C,IAAR,CAAa3C,GAAb,CAAhC,GAAoD4C,IAAI,CAAC3C,GAArE;CACA9C,IAAAA,KAAK,CAAC0F,SAAN,CAAgB,CAAC;CAAEC,MAAAA,KAAF;CAASC,MAAAA,OAAT;CAAkB9L,MAAAA,IAAlB;CAAwB+L,MAAAA;CAAxB,KAAD,KAAoC;CACnD,YAAMC,OAAO,GAAGC,eAAe,EAA/B;CACAlD,MAAAA,GAAG,CAACmD,gBAAJ,CAAqB;CACpBC,QAAAA,OAAO,EAAE5D,kBADW;CAEpBX,QAAAA,KAAK,EAAE;CACNwE,UAAAA,IAAI,EAAEpD,GAAG,EADH;CAENrG,UAAAA,KAAK,EAAE,WAAW3C,IAFZ;CAGNqM,UAAAA,QAAQ,EAAE,OAHJ;CAIN1E,UAAAA,IAAI,EAAE;CACLzB,YAAAA,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAP,CADf;CAELkD,YAAAA,MAAM,EAAE3D,aAAa,CAAC5F,IAAD,CAFhB;CAGL+L,YAAAA;CAHK,WAJA;CASNC,UAAAA;CATM;CAFa,OAArB;CAcAH,MAAAA,KAAK,CAAEzI,MAAD,IAAY;CACjBkJ,QAAAA,YAAY,GAAGC,SAAf;CACAxD,QAAAA,GAAG,CAACmD,gBAAJ,CAAqB;CACpBC,UAAAA,OAAO,EAAE5D,kBADW;CAEpBX,UAAAA,KAAK,EAAE;CACNwE,YAAAA,IAAI,EAAEpD,GAAG,EADH;CAENrG,YAAAA,KAAK,EAAE,SAAS3C,IAFV;CAGNqM,YAAAA,QAAQ,EAAE,KAHJ;CAIN1E,YAAAA,IAAI,EAAE;CACLzB,cAAAA,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAP,CADf;CAELkD,cAAAA,MAAM,EAAE3D,aAAa,CAAC5F,IAAD,CAFhB;CAGL+L,cAAAA,IAHK;CAIL3I,cAAAA;CAJK,aAJA;CAUN4I,YAAAA;CAVM;CAFa,SAArB;CAeA,OAjBI,CAAL;CAkBAF,MAAAA,OAAO,CAAEnL,KAAD,IAAW;CAClB2L,QAAAA,YAAY,GAAGC,SAAf;CACAxD,QAAAA,GAAG,CAACmD,gBAAJ,CAAqB;CACpBC,UAAAA,OAAO,EAAE5D,kBADW;CAEpBX,UAAAA,KAAK,EAAE;CACNwE,YAAAA,IAAI,EAAEpD,GAAG,EADH;CAENwD,YAAAA,OAAO,EAAE,OAFH;CAGN7J,YAAAA,KAAK,EAAE,WAAW3C,IAHZ;CAINqM,YAAAA,QAAQ,EAAE,KAJJ;CAKN1E,YAAAA,IAAI,EAAE;CACLzB,cAAAA,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAP,CADf;CAELkD,cAAAA,MAAM,EAAE3D,aAAa,CAAC5F,IAAD,CAFhB;CAGL+L,cAAAA,IAHK;CAILpL,cAAAA;CAJK,aALA;CAWNqL,YAAAA;CAXM;CAFa,SAArB;CAgBA,OAlBM,CAAP;CAmBA,KArDD,EAqDG,IArDH;;CAsDA9F,IAAAA,KAAK,CAACoB,iBAAN,CAAwB8C,OAAxB,CAAiCpK,IAAD,IAAU;CACzCyM,MAAAA,aAAK,CAAC,MAAMC,aAAK,CAACxG,KAAK,CAAClG,IAAD,CAAN,CAAZ,EAA2B,CAAC+H,QAAD,EAAWD,QAAX,KAAwB;CACvDiB,QAAAA,GAAG,CAAC4D,qBAAJ;CACA5D,QAAAA,GAAG,CAACW,kBAAJ,CAAuBlB,YAAvB;;CACA,YAAIH,gBAAJ,EAAsB;CACrBU,UAAAA,GAAG,CAACmD,gBAAJ,CAAqB;CACpBC,YAAAA,OAAO,EAAE5D,kBADW;CAEpBX,YAAAA,KAAK,EAAE;CACNwE,cAAAA,IAAI,EAAEpD,GAAG,EADH;CAENrG,cAAAA,KAAK,EAAE,QAFD;CAGN0J,cAAAA,QAAQ,EAAErM,IAHJ;CAIN2H,cAAAA,IAAI,EAAE;CACLI,gBAAAA,QADK;CAELD,gBAAAA;CAFK,eAJA;CAQNkE,cAAAA,OAAO,EAAEM;CARH;CAFa,WAArB;CAaA;CACD,OAlBI,EAkBF;CAAEM,QAAAA,IAAI,EAAE;CAAR,OAlBE,CAAL;CAmBA,KApBD;;CAqBA1G,IAAAA,KAAK,CAAC2G,UAAN,CAAiB,CAAC;CAAEnF,MAAAA,MAAF;CAAUhI,MAAAA;CAAV,KAAD,EAAmB+E,KAAnB,KAA6B;CAC7CsE,MAAAA,GAAG,CAAC4D,qBAAJ;CACA5D,MAAAA,GAAG,CAACW,kBAAJ,CAAuBlB,YAAvB;CACA,UAAI,CAACH,gBAAL,EACC,OAJ4C;;CAM7C,YAAMyE,SAAS,GAAG;CACjBV,QAAAA,IAAI,EAAEpD,GAAG,EADQ;CAEjBrG,QAAAA,KAAK,EAAEsF,kBAAkB,CAACvI,IAAD,CAFR;CAGjBiI,QAAAA,IAAI,EAAE;CACLzB,UAAAA,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAP,CADf;CAEL,aAAGoB,eAAe,CAACC,MAAD;CAFb,SAHW;CAOjBsE,QAAAA,OAAO,EAAEM;CAPQ,OAAlB,CAN6C;;CAgB7CA,MAAAA,YAAY,GAAGC,SAAf;;CACA,UAAI7M,IAAI,KAAKV,oBAAY,CAACmJ,aAA1B,EAAyC;CACxC2E,QAAAA,SAAS,CAACT,QAAV,GAAqB,MAArB;CACA,OAFD,MAGK,IAAI3M,IAAI,KAAKV,oBAAY,CAACoJ,WAA1B,EAAuC;CAC3C0E,QAAAA,SAAS,CAACT,QAAV,GAAqB,OAArB;CACA,OAFI,MAGA,IAAI3E,MAAM,IAAI,CAAChL,KAAK,CAACC,OAAN,CAAc+K,MAAd,CAAf,EAAsC;CAC1CoF,QAAAA,SAAS,CAACT,QAAV,GAAqB3E,MAAM,CAAChI,IAA5B;CACA;;CACD,UAAIgI,MAAJ,EAAY;CACXoF,QAAAA,SAAS,CAACnF,IAAV,CAAe,aAAf,IAAgC;CAC/B7B,UAAAA,OAAO,EAAE;CACRD,YAAAA,OAAO,EAAE,eADD;CAERnG,YAAAA,IAAI,EAAE,QAFE;CAGR8J,YAAAA,OAAO,EAAE,qBAHD;CAIR/M,YAAAA,KAAK,EAAEiL;CAJC;CADsB,SAAhC;CAQA;;CACDqB,MAAAA,GAAG,CAACmD,gBAAJ,CAAqB;CACpBC,QAAAA,OAAO,EAAE5D,kBADW;CAEpBX,QAAAA,KAAK,EAAEkF;CAFa,OAArB;CAIA,KAxCD,EAwCG;CAAEC,MAAAA,QAAQ,EAAE,IAAZ;CAAkBC,MAAAA,KAAK,EAAE;CAAzB,KAxCH;CAyCA,UAAMC,SAAS,GAAG/G,KAAK,CAACgH,UAAxB;CACAhH,IAAAA,KAAK,CAACgH,UAAN,GAAmBC,eAAO,CAAEC,QAAD,IAAc;CACxCH,MAAAA,SAAS,CAACG,QAAD,CAAT;CACArE,MAAAA,GAAG,CAACmD,gBAAJ,CAAqB;CACpBC,QAAAA,OAAO,EAAE5D,kBADW;CAEpBX,QAAAA,KAAK,EAAE;CACNwE,UAAAA,IAAI,EAAEpD,GAAG,EADH;CAENrG,UAAAA,KAAK,EAAE,gBAAgBuD,KAAK,CAACG,GAFvB;CAGNgG,UAAAA,QAAQ,EAAE,YAHJ;CAIN1E,UAAAA,IAAI,EAAE;CACLzB,YAAAA,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAP,CADf;CAELgH,YAAAA,IAAI,EAAEzH,aAAa,CAAE,YAAF;CAFd;CAJA;CAFa,OAArB,EAFwC;;CAexCmD,MAAAA,GAAG,CAAC4D,qBAAJ;CACA5D,MAAAA,GAAG,CAACU,iBAAJ,CAAsBjB,YAAtB;CACAO,MAAAA,GAAG,CAACW,kBAAJ,CAAuBlB,YAAvB;CACA,KAlByB,CAA1B;CAmBA,UAAM;CAAE8E,MAAAA;CAAF,QAAepH,KAArB;;CACAA,IAAAA,KAAK,CAACoH,QAAN,GAAiB,MAAM;CACtBA,MAAAA,QAAQ;CACRvE,MAAAA,GAAG,CAAC4D,qBAAJ;CACA5D,MAAAA,GAAG,CAACU,iBAAJ,CAAsBjB,YAAtB;CACAO,MAAAA,GAAG,CAACW,kBAAJ,CAAuBlB,YAAvB;CACAO,MAAAA,GAAG,CAACwE,WAAJ,GAAkB/B,eAAlB,IACA/H,YAAY,CAAE,aAAYyC,KAAK,CAACG,GAAI,SAAxB,CADZ;CAEA,KAPD,CA5IW;;;CAqJX0C,IAAAA,GAAG,CAAC4D,qBAAJ;CACA5D,IAAAA,GAAG,CAACU,iBAAJ,CAAsBjB,YAAtB;CACAO,IAAAA,GAAG,CAACW,kBAAJ,CAAuBlB,YAAvB;CACAO,IAAAA,GAAG,CAACwE,WAAJ,GAAkB/B,eAAlB,IACA/H,YAAY,CAAE,IAAGyC,KAAK,CAACG,GAAI,mBAAf,CADZ;CAEA,GA9KkB,CAAnB;CA+KA;;CACD,IAAI4F,eAAe,GAAG,CAAtB;CACA,IAAIK,YAAJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACA,SAASkB,sBAAT,CAAgCtH,KAAhC,EAAuCuH,WAAvC,EAAoD;CACnD;CACA,QAAMnE,OAAO,GAAGmE,WAAW,CAACtG,MAAZ,CAAmB,CAACuG,YAAD,EAAeC,UAAf,KAA8B;CAChE;CACAD,IAAAA,YAAY,CAACC,UAAD,CAAZ,GAA2BC,aAAK,CAAC1H,KAAD,CAAL,CAAayH,UAAb,CAA3B;CACA,WAAOD,YAAP;CACA,GAJe,EAIb,EAJa,CAAhB;;CAKA,OAAK,MAAMC,UAAX,IAAyBrE,OAAzB,EAAkC;CACjCpD,IAAAA,KAAK,CAACyH,UAAD,CAAL,GAAoB,YAAY;CAC/B;CACA;CACA,YAAME,SAAS,GAAG5B,eAAlB;CACA,YAAM6B,YAAY,GAAG,IAAIC,KAAJ,CAAU7H,KAAV,EAAiB;CACrCe,QAAAA,GAAG,CAAC,GAAG8E,IAAJ,EAAU;CACZO,UAAAA,YAAY,GAAGuB,SAAf;CACA,iBAAOG,OAAO,CAAC/G,GAAR,CAAY,GAAG8E,IAAf,CAAP;CACA,SAJoC;;CAKrCzP,QAAAA,GAAG,CAAC,GAAGyP,IAAJ,EAAU;CACZO,UAAAA,YAAY,GAAGuB,SAAf;CACA,iBAAOG,OAAO,CAAC1R,GAAR,CAAY,GAAGyP,IAAf,CAAP;CACA;;CARoC,OAAjB,CAArB;CAUA,aAAOzC,OAAO,CAACqE,UAAD,CAAP,CAAoBM,KAApB,CAA0BH,YAA1B,EAAwCI,SAAxC,CAAP;CACA,KAfD;CAgBA;CACD;CACD;CACA;CACA;;;CACA,SAASC,cAAT,CAAwB;CAAExF,EAAAA,GAAF;CAAOzC,EAAAA,KAAP;CAAckI,EAAAA;CAAd,CAAxB,EAAiD;CAChD;CACA,MAAIlI,KAAK,CAACG,GAAN,CAAUgF,UAAV,CAAqB,QAArB,CAAJ,EAAoC;CACnC;CACA,GAJ+C;;;CAMhD,MAAI+C,OAAO,CAAC3J,KAAZ,EAAmB;CAClByB,IAAAA,KAAK,CAACoE,aAAN,GAAsB,IAAtB;CACA,GAR+C;CAUhD;;;CACA,MAAI,OAAO8D,OAAO,CAAC3J,KAAf,KAAyB,UAA7B,EAAyC;CACxC+I,IAAAA,sBAAsB;CAErBtH,IAAAA,KAFqB,EAEdvH,MAAM,CAAC+H,IAAP,CAAY0H,OAAO,CAAC9E,OAApB,CAFc,CAAtB;CAGA,UAAM+E,iBAAiB,GAAGnI,KAAK,CAACgH,UAAhC,CAJwC;;CAMxCU,IAAAA,aAAK,CAAC1H,KAAD,CAAL,CAAagH,UAAb,GAA0B,UAAUE,QAAV,EAAoB;CAC7CiB,MAAAA,iBAAiB,CAACJ,KAAlB,CAAwB,IAAxB,EAA8BC,SAA9B;CACAV,MAAAA,sBAAsB,CAACtH,KAAD,EAAQvH,MAAM,CAAC+H,IAAP,CAAY0G,QAAQ,CAACkB,WAAT,CAAqBhF,OAAjC,CAAR,CAAtB;CACA,KAHD;CAIA;;CACDgC,EAAAA,kBAAkB,CAAC3C,GAAD;CAEjBzC,EAAAA,KAFiB,CAAlB;CAGA;CAED;CACA;CACA;;;CACA,SAASqI,WAAT,GAAuB;CACtB,QAAMC,KAAK,GAAGC,mBAAW,CAAC,IAAD,CAAzB,CADsB;CAGtB;;CACA,QAAMhK,KAAK,GAAG+J,KAAK,CAACE,GAAN,CAAU,MAAMC,WAAG,CAAC,EAAD,CAAnB,CAAd;CACA,MAAIC,EAAE,GAAG,EAAT,CALsB;;CAOtB,MAAIC,aAAa,GAAG,EAApB;CACA,QAAM1Q,KAAK,GAAGgP,eAAO,CAAC;CACrB2B,IAAAA,OAAO,CAACnG,GAAD,EAAM;CACZ;CACA;CACAzK,MAAAA,cAAc,CAACC,KAAD,CAAd;;CACA,MAAa;CACZA,QAAAA,KAAK,CAAC4Q,EAAN,GAAWpG,GAAX;CACAA,QAAAA,GAAG,CAACqG,OAAJ,CAAYzQ,WAAZ,EAAyBJ,KAAzB;CACAwK,QAAAA,GAAG,CAACsG,MAAJ,CAAWC,gBAAX,CAA4BC,MAA5B,GAAqChR,KAArC;CACA;;CACA,YAAKjC,eAAe,KAAK,YAArB,IAAsC+C,SAA1C,EAAqD;CACpDyJ,UAAAA,qBAAqB,CAACC,GAAD,EAAMxK,KAAN,CAArB;CACA;;CACD0Q,QAAAA,aAAa,CAACzE,OAAd,CAAuBgF,MAAD,IAAYR,EAAE,CAAC5Q,IAAH,CAAQoR,MAAR,CAAlC;CACAP,QAAAA,aAAa,GAAG,EAAhB;CACA;CACD,KAhBoB;;CAiBrBQ,IAAAA,GAAG,CAACD,MAAD,EAAS;CACX,UAAI,CAAC,KAAKL,EAAN,IAAY,CAAC1S,MAAjB,EAAyB;CACxBwS,QAAAA,aAAa,CAAC7Q,IAAd,CAAmBoR,MAAnB;CACA,OAFD,MAGK;CACJR,QAAAA,EAAE,CAAC5Q,IAAH,CAAQoR,MAAR;CACA;;CACD,aAAO,IAAP;CACA,KAzBoB;;CA0BrBR,IAAAA,EA1BqB;CA2BrB;CACA;CACAG,IAAAA,EAAE,EAAE,IA7BiB;CA8BrBO,IAAAA,EAAE,EAAEd,KA9BiB;CA+BrB/H,IAAAA,EAAE,EAAE,IAAI8I,GAAJ,EA/BiB;CAgCrB9K,IAAAA;CAhCqB,GAAD,CAArB,CARsB;CA2CtB;CACA;;CACA,MAAKvI,eAAe,KAAK,YAArB,IAAsC+C,SAAtC,IAAmD,EAAE/C,eAAe,KAAK,MAAtB,CAAvD,EAAsF;CACrFiC,IAAAA,KAAK,CAACkR,GAAN,CAAUlB,cAAV;CACA;;CACD,SAAOhQ,KAAP;CACA;CAED;CACA;CACA;CACA;CACA;CACA;;;CACA,MAAMqR,UAAU,GAAIC,EAAD,IAAQ;CAC1B,SAAO,OAAOA,EAAP,KAAc,UAAd,IAA4B,OAAOA,EAAE,CAACpJ,GAAV,KAAkB,QAArD;CACA,CAFD;CAGA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,SAAS+B,WAAT,CAAqBsH,QAArB,EAA+BC,QAA/B,EAAyC;CACxC;CACA,OAAK,MAAMnT,GAAX,IAAkBmT,QAAlB,EAA4B;CAC3B,UAAMC,QAAQ,GAAGD,QAAQ,CAACnT,GAAD,CAAzB,CAD2B;;CAG3B,QAAI,EAAEA,GAAG,IAAIkT,QAAT,CAAJ,EAAwB;CACvB;CACA;;CACD,UAAMG,WAAW,GAAGH,QAAQ,CAAClT,GAAD,CAA5B;;CACA,QAAIiC,aAAa,CAACoR,WAAD,CAAb,IACHpR,aAAa,CAACmR,QAAD,CADV,IAEH,CAACE,aAAK,CAACF,QAAD,CAFH,IAGH,CAACG,kBAAU,CAACH,QAAD,CAHZ,EAGwB;CACvBF,MAAAA,QAAQ,CAAClT,GAAD,CAAR,GAAgB4L,WAAW,CAACyH,WAAD,EAAcD,QAAd,CAA3B;CACA,KALD,MAMK;CACJ;CACA;CACA,MAGK;CACJF,QAAAA,QAAQ,CAAClT,GAAD,CAAR,GAAgBoT,QAAhB;CACA;CACD;CACD;;CACD,SAAOF,QAAP;CACA;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,SAASM,eAAT,CAAyBC,eAAzB,EAA0CC,GAA1C,EAA+C;CAC9C,SAAQC,SAAD,IAAe;CACrB,UAAMhS,KAAK,GAAG+R,GAAG,CAACvI,IAAJ,CAASxJ,KAAT,IAAkB8R,eAAe,CAACG,MAAhD;;CACA,QAAI,CAACjS,KAAL,EAAY;CACX;CACA;CACA,KALoB;;;CAOrB+R,IAAAA,GAAG,CAACvI,IAAJ,CAASxJ,KAAT,GAAiBA,KAAjB,CAPqB;;CASrB,SAAK,MAAMkS,UAAX,IAAyBF,SAAzB,EAAoC;CACnC,YAAMG,QAAQ,GAAGH,SAAS,CAACE,UAAD,CAA1B,CADmC;;CAGnC,UAAIb,UAAU,CAACc,QAAD,CAAV,IAAwBnS,KAAK,CAACsI,EAAN,CAASyE,GAAT,CAAaoF,QAAQ,CAACjK,GAAtB,CAA5B,EAAwD;CACvD;CACA,cAAMF,EAAE,GAAGmK,QAAQ,CAACjK,GAApB;;CACA,YAAIF,EAAE,KAAK8J,eAAe,CAAC5J,GAA3B,EAAgC;CAC/B3F,UAAAA,OAAO,CAACmD,IAAR,CAAc,qCAAoCoM,eAAe,CAAC5J,GAAI,SAAQF,EAAG,eAAjF,EAD+B;;CAG/B,iBAAO+J,GAAG,CAACK,UAAJ,EAAP;CACA;;CACD,cAAMC,aAAa,GAAGrS,KAAK,CAACsI,EAAN,CAASQ,GAAT,CAAad,EAAb,CAAtB;;CACA,YAAI,CAACqK,aAAL,EAAoB;CACnB9P,UAAAA,OAAO,CAACoD,GAAR,CAAa,uDAAb;CACA;CACA;;CACDwM,QAAAA,QAAQ,CAACnS,KAAD,EAAQqS,aAAR,CAAR;CACA;CACD;CACD,GA5BD;CA6BA;;CAED,MAAMC,IAAI,GAAG,MAAM,EAAnB;;CACA,SAASC,eAAT,CAAyBC,aAAzB,EAAwCC,QAAxC,EAAkD7D,QAAlD,EAA4D8D,SAAS,GAAGJ,IAAxE,EAA8E;CAC7EE,EAAAA,aAAa,CAAC3S,IAAd,CAAmB4S,QAAnB;;CACA,QAAME,kBAAkB,GAAG,MAAM;CAChC,UAAMC,GAAG,GAAGJ,aAAa,CAACK,OAAd,CAAsBJ,QAAtB,CAAZ;;CACA,QAAIG,GAAG,GAAG,CAAC,CAAX,EAAc;CACbJ,MAAAA,aAAa,CAAC5T,MAAd,CAAqBgU,GAArB,EAA0B,CAA1B;CACAF,MAAAA,SAAS;CACT;CACD,GAND;;CAOA,MAAI,CAAC9D,QAAD,IAAa1O,0BAAkB,EAAnC,EAAuC;CACtC4S,IAAAA,mBAAW,CAACH,kBAAD,CAAX;CACA;;CACD,SAAOA,kBAAP;CACA;;CACD,SAASI,oBAAT,CAA8BP,aAA9B,EAA6C,GAAG5E,IAAhD,EAAsD;CACrD4E,EAAAA,aAAa,CAACQ,KAAd,GAAsB/G,OAAtB,CAA+BwG,QAAD,IAAc;CAC3CA,IAAAA,QAAQ,CAAC,GAAG7E,IAAJ,CAAR;CACA,GAFD;CAGA;;CAED,SAASqF,oBAAT,CAA8BvT,MAA9B,EAAsCwT,YAAtC,EAAoD;CACnD;CACA,OAAK,MAAM7U,GAAX,IAAkB6U,YAAlB,EAAgC;CAC/B,QAAI,CAACA,YAAY,CAACC,cAAb,CAA4B9U,GAA5B,CAAL,EACC;CACD,UAAMoT,QAAQ,GAAGyB,YAAY,CAAC7U,GAAD,CAA7B;CACA,UAAMqT,WAAW,GAAGhS,MAAM,CAACrB,GAAD,CAA1B;;CACA,QAAIiC,aAAa,CAACoR,WAAD,CAAb,IACHpR,aAAa,CAACmR,QAAD,CADV,IAEH/R,MAAM,CAACyT,cAAP,CAAsB9U,GAAtB,CAFG,IAGH,CAACsT,aAAK,CAACF,QAAD,CAHH,IAIH,CAACG,kBAAU,CAACH,QAAD,CAJZ,EAIwB;CACvB/R,MAAAA,MAAM,CAACrB,GAAD,CAAN,GAAc4U,oBAAoB,CAACvB,WAAD,EAAcD,QAAd,CAAlC;CACA,KAND,MAOK;CACJ;CACA/R,MAAAA,MAAM,CAACrB,GAAD,CAAN,GAAcoT,QAAd;CACA;CACD;;CACD,SAAO/R,MAAP;CACA;;CACD,MAAM0T,iBAAiB,GAAIrV,eAAe,KAAK,YAArB,GACvBsC,MAAM,CAAC,qBAAD,CADiB;CAEvB;CAA2BA,MAAM,EAFpC;AAGA,CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACA,SAASgT,WAAT,CAAqBC,GAArB,EAA0B;CACzB,SAAOpV,AAGJsC,MAAM,CAAC+S,cAAP,CAAsBD,GAAtB,EAA2BF,iBAA3B,EAA8C,EAA9C,CAHH;CAIA;;CACD,SAASI,aAAT,CAAuBF,GAAvB,EAA4B;CAC3B,SAAOpV,AAEJ,CAACoC,aAAa,CAACgT,GAAD,CAAd,IAAuB,CAACA,GAAG,CAACH,cAAJ,CAAmBC,iBAAnB,CAF3B;CAGA;;CACD,MAAM;CAAEhO,EAAAA;CAAF,IAAa5E,MAAnB;;CACA,SAASiT,UAAT,CAAoBlT,CAApB,EAAuB;CACtB,SAAO,CAAC,EAAEoR,aAAK,CAACpR,CAAD,CAAL,IAAYA,CAAC,CAACmT,MAAhB,CAAR;CACA;;CACD,SAASC,kBAAT,CAA4B3L,EAA5B,EAAgCiI,OAAhC,EAAyCjQ,KAAzC,EAAgD+R,GAAhD,EAAqD;CACpD,QAAM;CAAEzL,IAAAA,KAAF;CAAS6E,IAAAA,OAAT;CAAkBvC,IAAAA;CAAlB,MAA8BqH,OAApC;CACA,QAAM2D,YAAY,GAAG5T,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB0J,EAAlB,CAArB;CACA,MAAID,KAAJ;;CACA,WAAS8L,KAAT,GAAiB;CAChB,QAAI,CAACD,YAAD,KAAkB,EAAE7V,eAAe,KAAK,YAAtB,KAAuC,CAACgU,GAA1D,CAAJ,EAAoE;CACnE;CACA,MAGK;CACJ/R,QAAAA,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB0J,EAAlB,IAAwB1B,KAAK,GAAGA,KAAK,EAAR,GAAa,EAA1C;CACA;CACD,KATe;;;CAWhB,UAAMwN,UAAU,GAAI/V,eAAe,KAAK,YAArB,IAAsCgU,GAAtC;CAElBgC,IAAAA,cAAM,CAACvD,WAAG,CAAClK,KAAK,GAAGA,KAAK,EAAR,GAAa,EAAnB,CAAH,CAA0BhI,KAA3B,CAFY,GAGhByV,cAAM,CAAC/T,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB0J,EAAlB,CAAD,CAHT;CAIA,WAAO5C,MAAM,CAAC0O,UAAD,EAAa3I,OAAb,EAAsB3K,MAAM,CAAC+H,IAAP,CAAYK,OAAO,IAAI,EAAvB,EAA2BI,MAA3B,CAAkC,CAACgL,eAAD,EAAkBnS,IAAlB,KAA2B;CAC/F,UAAK9D,eAAe,KAAK,YAArB,IAAsC8D,IAAI,IAAIiS,UAAlD,EAA8D;CAC7DvR,QAAAA,OAAO,CAACmD,IAAR,CAAc,0GAAyG7D,IAAK,eAAcmG,EAAG,IAA7I;CACA;;CACDgM,MAAAA,eAAe,CAACnS,IAAD,CAAf,GAAwBmN,eAAO,CAACiF,gBAAQ,CAAC,MAAM;CAC9ClU,QAAAA,cAAc,CAACC,KAAD,CAAd,CAD8C;;CAG9C,cAAM+H,KAAK,GAAG/H,KAAK,CAACsI,EAAN,CAASQ,GAAT,CAAad,EAAb,CAAd,CAH8C;CAS9C;CACA;;CACA,eAAOY,OAAO,CAAC/G,IAAD,CAAP,CAAclB,IAAd,CAAmBoH,KAAnB,EAA0BA,KAA1B,CAAP;CACA,OAZuC,CAAT,CAA/B;CAaA,aAAOiM,eAAP;CACA,KAlBkC,EAkBhC,EAlBgC,CAAtB,CAAb;CAmBA;;CACDjM,EAAAA,KAAK,GAAGmM,gBAAgB,CAAClM,EAAD,EAAK6L,KAAL,EAAY5D,OAAZ,EAAqBjQ,KAArB,EAA4B+R,GAA5B,EAAiC,IAAjC,CAAxB;;CACAhK,EAAAA,KAAK,CAACqE,MAAN,GAAe,SAASA,MAAT,GAAkB;CAChC,UAAMmF,QAAQ,GAAGjL,KAAK,GAAGA,KAAK,EAAR,GAAa,EAAnC,CADgC;;CAGhC,SAAK6N,MAAL,CAAalL,MAAD,IAAY;CACvB7D,MAAAA,MAAM,CAAC6D,MAAD,EAASsI,QAAT,CAAN;CACA,KAFD;CAGA,GAND;;CAOA,SAAOxJ,KAAP;CACA;;CACD,SAASmM,gBAAT,CAA0BhM,GAA1B,EAA+B2L,KAA/B,EAAsC5D,OAAO,GAAG,EAAhD,EAAoDjQ,KAApD,EAA2D+R,GAA3D,EAAgEqC,cAAhE,EAAgF;CAC/E,MAAI/D,KAAJ;CACA,QAAMgE,gBAAgB,GAAGjP,MAAM,CAAC;CAAE+F,IAAAA,OAAO,EAAE;CAAX,GAAD,EAAkB8E,OAAlB,CAA/B;CACA;CACA;;CACA,MAAKlS,eAAe,KAAK,YAArB,IAAsC,CAACiC,KAAK,CAACmR,EAAN,CAASmD,MAApD,EAA4D;CAC3D,UAAM,IAAIpP,KAAJ,CAAU,iBAAV,CAAN;CACA,GAP8E;;;CAS/E,QAAMqP,iBAAiB,GAAG;CACzB9F,IAAAA,IAAI,EAAE,IADmB;;CAAA,GAA1B;CAIA;;CACA,MAAK1Q,eAAe,KAAK,YAArB,IAAsC,CAACG,MAA3C,EAAmD;CAClDqW,IAAAA,iBAAiB,CAACC,SAAlB,GAA+B/K,KAAD,IAAW;CACxC;CACA,UAAIgL,WAAJ,EAAiB;CAChBC,QAAAA,cAAc,GAAGjL,KAAjB,CADgB;CAGhB,OAHD,MAIK,IAAIgL,WAAW,IAAI,KAAf,IAAwB,CAAC1M,KAAK,CAAC4M,YAAnC,EAAiD;CACrD;;CACA;CACA,YAAIpW,KAAK,CAACC,OAAN,CAAckW,cAAd,CAAJ,EAAmC;CAClCA,UAAAA,cAAc,CAAC7U,IAAf,CAAoB4J,KAApB;CACA,SAFD,MAGK;CACJlH,UAAAA,OAAO,CAACC,KAAR,CAAc,sFAAd;CACA;CACD;CACD,KAhBD;CAiBA,GAhC8E;;;CAkC/E,MAAIiS,WAAJ,CAlC+E;;CAmC/E,MAAIG,eAAJ,CAnC+E;;CAoC/E,MAAIpC,aAAa,GAAGxD,eAAO,CAAC,EAAD,CAA3B;CACA,MAAI6F,mBAAmB,GAAG7F,eAAO,CAAC,EAAD,CAAjC;CACA,MAAI0F,cAAJ;CACA,QAAMd,YAAY,GAAG5T,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,CAArB,CAvC+E;CAyC/E;;CACA,MAAI,CAACkM,cAAD,IAAmB,CAACR,YAApB,KAAqC,EAAE7V,eAAe,KAAK,YAAtB,KAAuC,CAACgU,GAA7E,CAAJ,EAAuF;CACtF;CACA,IAGK;CACJ/R,MAAAA,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,IAAyB,EAAzB;CACA;CACD;;CACD,QAAM4M,QAAQ,GAAGtE,WAAG,CAAC,EAAD,CAApB,CAnD+E;CAqD/E;;CACA,MAAIuE,cAAJ;;CACA,WAASZ,MAAT,CAAgBa,qBAAhB,EAAuC;CACtC,QAAIC,oBAAJ;CACAR,IAAAA,WAAW,GAAGG,eAAe,GAAG,KAAhC,CAFsC;;CAItC;;CACA,QAAK7W,eAAe,KAAK,YAAzB,EAAwC;CACvC2W,MAAAA,cAAc,GAAG,EAAjB;CACA;;CACD,QAAI,OAAOM,qBAAP,KAAiC,UAArC,EAAiD;CAChDA,MAAAA,qBAAqB,CAAChV,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,CAAD,CAArB;CACA+M,MAAAA,oBAAoB,GAAG;CACtB1T,QAAAA,IAAI,EAAEV,oBAAY,CAACmJ,aADG;CAEtBtB,QAAAA,OAAO,EAAER,GAFa;CAGtBqB,QAAAA,MAAM,EAAEmL;CAHc,OAAvB;CAKA,KAPD,MAQK;CACJzB,MAAAA,oBAAoB,CAACjT,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,CAAD,EAAyB8M,qBAAzB,CAApB;CACAC,MAAAA,oBAAoB,GAAG;CACtB1T,QAAAA,IAAI,EAAEV,oBAAY,CAACoJ,WADG;CAEtByB,QAAAA,OAAO,EAAEsJ,qBAFa;CAGtBtM,QAAAA,OAAO,EAAER,GAHa;CAItBqB,QAAAA,MAAM,EAAEmL;CAJc,OAAvB;CAMA;;CACD,UAAMQ,YAAY,GAAIH,cAAc,GAAG1U,MAAM,EAA7C;CACA8U,IAAAA,gBAAQ,GAAGC,IAAX,CAAgB,MAAM;CACrB,UAAIL,cAAc,KAAKG,YAAvB,EAAqC;CACpCT,QAAAA,WAAW,GAAG,IAAd;CACA;CACD,KAJD;CAKAG,IAAAA,eAAe,GAAG,IAAlB,CA/BsC;;CAiCtC7B,IAAAA,oBAAoB,CAACP,aAAD,EAAgByC,oBAAhB,EAAsCjV,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,CAAtC,CAApB;CACA;CACD;;;CACA,QAAMkE,MAAM,GAAIrO,eAAe,KAAK,YAArB,GACZ,MAAM;CACP,UAAM,IAAImH,KAAJ,CAAW,iBAAgBgD,GAAI,oEAA/B,CAAN;CACA,GAHa,GAIZoK,IAJH;;CAKA,WAASnD,QAAT,GAAoB;CACnBkB,IAAAA,KAAK,CAACgF,IAAN;CACA7C,IAAAA,aAAa,GAAG,EAAhB;CACAqC,IAAAA,mBAAmB,GAAG,EAAtB;;CACA7U,IAAAA,KAAK,CAACsI,EAAN,CAASgN,MAAT,CAAgBpN,GAAhB;CACA;CACD;CACD;CACA;CACA;CACA;CACA;CACA;;;CACC,WAASqN,UAAT,CAAoB1T,IAApB,EAA0BuJ,MAA1B,EAAkC;CACjC,WAAO,YAAY;CAClBrL,MAAAA,cAAc,CAACC,KAAD,CAAd;CACA,YAAM4N,IAAI,GAAGrP,KAAK,CAAC8J,IAAN,CAAW0H,SAAX,CAAb;CACA,YAAMyF,iBAAiB,GAAG,EAA1B;CACA,YAAMC,mBAAmB,GAAG,EAA5B;;CACA,eAAS/H,KAAT,CAAe+E,QAAf,EAAyB;CACxB+C,QAAAA,iBAAiB,CAAC3V,IAAlB,CAAuB4S,QAAvB;CACA;;CACD,eAAS9E,OAAT,CAAiB8E,QAAjB,EAA2B;CAC1BgD,QAAAA,mBAAmB,CAAC5V,IAApB,CAAyB4S,QAAzB;CACA,OAViB;;;CAYlBM,MAAAA,oBAAoB,CAAC8B,mBAAD,EAAsB;CACzCjH,QAAAA,IADyC;CAEzC/L,QAAAA,IAFyC;CAGzCkG,QAAAA,KAHyC;CAIzC2F,QAAAA,KAJyC;CAKzCC,QAAAA;CALyC,OAAtB,CAApB;CAOA,UAAI+H,GAAJ;;CACA,UAAI;CACHA,QAAAA,GAAG,GAAGtK,MAAM,CAAC0E,KAAP,CAAa,QAAQ,KAAK5H,GAAL,KAAaA,GAArB,GAA2B,IAA3B,GAAkCH,KAA/C,EAAsD6F,IAAtD,CAAN,CADG;CAGH,OAHD,CAIA,OAAOpL,KAAP,EAAc;CACbuQ,QAAAA,oBAAoB,CAAC0C,mBAAD,EAAsBjT,KAAtB,CAApB;CACA,cAAMA,KAAN;CACA;;CACD,UAAIkT,GAAG,YAAY3O,OAAnB,EAA4B;CAC3B,eAAO2O,GAAG,CACRN,IADK,CACC9W,KAAD,IAAW;CAChByU,UAAAA,oBAAoB,CAACyC,iBAAD,EAAoBlX,KAApB,CAApB;CACA,iBAAOA,KAAP;CACA,SAJK,EAKLqX,KALK,CAKEnT,KAAD,IAAW;CACjBuQ,UAAAA,oBAAoB,CAAC0C,mBAAD,EAAsBjT,KAAtB,CAApB;CACA,iBAAOuE,OAAO,CAACE,MAAR,CAAezE,KAAf,CAAP;CACA,SARK,CAAP;CASA,OAtCiB;;;CAwClBuQ,MAAAA,oBAAoB,CAACyC,iBAAD,EAAoBE,GAApB,CAApB;CACA,aAAOA,GAAP;CACA,KA1CD;CA2CA;;CACD,QAAMvF,WAAW,gBAAiBnB,eAAO,CAAC;CACzC7D,IAAAA,OAAO,EAAE,EADgC;CAEzCvC,IAAAA,OAAO,EAAE,EAFgC;CAGzCtC,IAAAA,KAAK,EAAE,EAHkC;CAIzCwO,IAAAA;CAJyC,GAAD,CAAzC;;CAMA,QAAMc,YAAY,GAAG;CACpBnF,IAAAA,EAAE,EAAEzQ,KADgB;CAEpB;CACAkI,IAAAA,GAHoB;CAIpBuF,IAAAA,SAAS,EAAE8E,eAAe,CAAChF,IAAhB,CAAqB,IAArB,EAA2BsH,mBAA3B,CAJS;CAKpBV,IAAAA,MALoB;CAMpB/H,IAAAA,MANoB;;CAOpBsC,IAAAA,UAAU,CAAC+D,QAAD,EAAWxC,OAAO,GAAG,EAArB,EAAyB;CAClC,YAAM0C,kBAAkB,GAAGJ,eAAe,CAACC,aAAD,EAAgBC,QAAhB,EAA0BxC,OAAO,CAACrB,QAAlC,EAA4C,MAAMiH,WAAW,EAA7D,CAA1C;CACA,YAAMA,WAAW,GAAGxF,KAAK,CAACE,GAAN,CAAU,MAAMjC,aAAK,CAAC,MAAMtO,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,CAAP,EAAgC5B,KAAD,IAAW;CAClF,YAAI2J,OAAO,CAACpB,KAAR,KAAkB,MAAlB,GAA2B+F,eAA3B,GAA6CH,WAAjD,EAA8D;CAC7DhC,UAAAA,QAAQ,CAAC;CACR/J,YAAAA,OAAO,EAAER,GADD;CAER3G,YAAAA,IAAI,EAAEV,oBAAY,CAACkJ,MAFX;CAGRR,YAAAA,MAAM,EAAEmL;CAHA,WAAD,EAILpO,KAJK,CAAR;CAKA;CACD,OARwC,EAQtClB,MAAM,CAAC,EAAD,EAAKmP,iBAAL,EAAwBtE,OAAxB,CARgC,CAArB,CAApB;CASA,aAAO0C,kBAAP;CACA,KAnBmB;;CAoBpBxD,IAAAA;CApBoB,GAArB;AAsBA;CAKA,QAAMpH,KAAK,GAAG+N,gBAAQ,CAAC1Q,MAAM,CAAErH,eAAe,KAAK,YAArB,IAAsC+C,SAAtC;CAE5B;CACCqI,IAAAA,iBAAiB,EAAE6F,eAAO,CAAC,IAAI+G,GAAJ,EAAD,CAD3B;CAEC5F,IAAAA;CAFD,GAF4B,GAM1B,EANyB,EAMrByF,YANqB;CAQ5B;CAR4B,GAAP,CAAtB,CA3L+E;CAsM/E;;CACA5V,EAAAA,KAAK,CAACsI,EAAN,CAASnK,GAAT,CAAa+J,GAAb,EAAkBH,KAAlB,EAvM+E;;;CAyM/E,QAAMiO,UAAU,GAAGhW,KAAK,CAACmR,EAAN,CAASZ,GAAT,CAAa,MAAM;CACrCF,IAAAA,KAAK,GAAGC,mBAAW,EAAnB;CACA,WAAOD,KAAK,CAACE,GAAN,CAAU,MAAMsD,KAAK,EAArB,CAAP;CACA,GAHkB,CAAnB,CAzM+E;;;CA8M/E,OAAK,MAAMxV,GAAX,IAAkB2X,UAAlB,EAA8B;CAC7B,UAAMC,IAAI,GAAGD,UAAU,CAAC3X,GAAD,CAAvB;;CACA,QAAKsT,aAAK,CAACsE,IAAD,CAAL,IAAe,CAACxC,UAAU,CAACwC,IAAD,CAA3B,IAAsCrE,kBAAU,CAACqE,IAAD,CAApD,EAA4D;CAC3D;CACA,UAAKlY,eAAe,KAAK,YAArB,IAAsCgU,GAA1C,EAA+C;CAC9C5T,QAAAA,GAAG,CAAC2W,QAAQ,CAACxW,KAAV,EAAiBD,GAAjB,EAAsB6X,aAAK,CAACF,UAAD,EAAa3X,GAAb,CAA3B,CAAH,CAD8C;CAG9C;CACA,OAJD,MAKK,IAAI,CAAC+V,cAAL,EAAqB;CACzB;CACA,YAAIR,YAAY,IAAIJ,aAAa,CAACyC,IAAD,CAAjC,EAAyC;CACxC,cAAItE,aAAK,CAACsE,IAAD,CAAT,EAAiB;CAChBA,YAAAA,IAAI,CAAC3X,KAAL,GAAasV,YAAY,CAACvV,GAAD,CAAzB;CACA,WAFD,MAGK;CACJ;CACA4U,YAAAA,oBAAoB,CAACgD,IAAD,EAAOrC,YAAY,CAACvV,GAAD,CAAnB,CAApB;CACA;CACD,SAVwB;;CAYzB;;;CACA,QAGK;CACJ2B,UAAAA,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,EAAuB7J,GAAvB,IAA8B4X,IAA9B;CACA;CACD;CACD;;;CACA,UAAKlY,eAAe,KAAK,YAAzB,EAAwC;CACvCoS,QAAAA,WAAW,CAAC7J,KAAZ,CAAkBzG,IAAlB,CAAuBxB,GAAvB;CACA,OA9B0D;;CAgC3D,KAhCD,MAiCK,IAAI,OAAO4X,IAAP,KAAgB,UAApB,EAAgC;CACpC;CACA,YAAME,WAAW,GAAIpY,eAAe,KAAK,YAArB,IAAsCgU,GAAtC,GAA4CkE,IAA5C,GAAmDV,UAAU,CAAClX,GAAD,EAAM4X,IAAN,CAAjF,CAFoC;CAIpC;;CACA;;CACA,MAGK;CACJ;CACAD,QAAAA,UAAU,CAAC3X,GAAD,CAAV,GAAkB8X,WAAlB;CACA;CACD;;;CACA,UAAKpY,eAAe,KAAK,YAAzB,EAAwC;CACvCoS,QAAAA,WAAW,CAAChF,OAAZ,CAAoB9M,GAApB,IAA2B4X,IAA3B;CACA,OAhBmC;CAkBpC;;;CACA5B,MAAAA,gBAAgB,CAAClJ,OAAjB,CAAyB9M,GAAzB,IAAgC4X,IAAhC;CACA,KApBI,MAqBA,IAAKlY,eAAe,KAAK,YAAzB,EAAwC;CAC5C;CACA,UAAI0V,UAAU,CAACwC,IAAD,CAAd,EAAsB;CACrB9F,QAAAA,WAAW,CAACvH,OAAZ,CAAoBvK,GAApB,IAA2B+V,cAAc;CAExCnE,QAAAA,OAAO,CAACrH,OAAR,CAAgBvK,GAAhB,CAFwC,GAGtC4X,IAHH;;CAIA,YAAInV,SAAJ,EAAe;CACd,gBAAM8H,OAAO;CAEZoN,UAAAA,UAAU,CAACjN,QAAX,KAAwBiN,UAAU,CAACjN,QAAX,GAAsBiG,eAAO,CAAC,EAAD,CAArD,CAFD;CAGApG,UAAAA,OAAO,CAAC/I,IAAR,CAAaxB,GAAb;CACA;CACD;CACD;CACD,GArR8E;;CAuR/E;;;CACA,EAOK;CACJ+G,IAAAA,MAAM,CAAC2C,KAAD,EAAQiO,UAAR,CAAN,CADI;CAGJ;;CACA5Q,IAAAA,MAAM,CAACqK,aAAK,CAAC1H,KAAD,CAAN,EAAeiO,UAAf,CAAN;CACA,GApS8E;CAsS/E;CACA;;;CACAxV,EAAAA,MAAM,CAAC+S,cAAP,CAAsBxL,KAAtB,EAA6B,QAA7B,EAAuC;CACtCe,IAAAA,GAAG,EAAE,MAAQ/K,eAAe,KAAK,YAArB,IAAsCgU,GAAtC,GAA4C+C,QAAQ,CAACxW,KAArD,GAA6D0B,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,CADnC;CAEtC/J,IAAAA,GAAG,EAAGmI,KAAD,IAAW;CACf;CACA,UAAKvI,eAAe,KAAK,YAArB,IAAsCgU,GAA1C,EAA+C;CAC9C,cAAM,IAAI7M,KAAJ,CAAU,qBAAV,CAAN;CACA;;CACDiP,MAAAA,MAAM,CAAElL,MAAD,IAAY;CAClB7D,QAAAA,MAAM,CAAC6D,MAAD,EAAS3C,KAAT,CAAN;CACA,OAFK,CAAN;CAGA;CAVqC,GAAvC,EAxS+E;;CAqT/E;;CACA,MAAKvI,eAAe,KAAK,YAAzB,EAAwC;CACvCgK,IAAAA,KAAK,CAACgH,UAAN,GAAmBC,eAAO,CAAEC,QAAD,IAAc;CACxClH,MAAAA,KAAK,CAAC4M,YAAN,GAAqB,IAArB;;CACA1F,MAAAA,QAAQ,CAACkB,WAAT,CAAqB7J,KAArB,CAA2B2F,OAA3B,CAAoCmK,QAAD,IAAc;CAChD,YAAIA,QAAQ,IAAIrO,KAAK,CAACkB,MAAtB,EAA8B;CAC7B,gBAAMoN,cAAc,GAAGpH,QAAQ,CAAChG,MAAT,CAAgBmN,QAAhB,CAAvB;CACA,gBAAME,cAAc,GAAGvO,KAAK,CAACkB,MAAN,CAAamN,QAAb,CAAvB;;CACA,cAAI,OAAOC,cAAP,KAA0B,QAA1B,IACH/V,aAAa,CAAC+V,cAAD,CADV,IAEH/V,aAAa,CAACgW,cAAD,CAFd,EAEgC;CAC/BrM,YAAAA,WAAW,CAACoM,cAAD,EAAiBC,cAAjB,CAAX;CACA,WAJD,MAKK;CACJ;CACArH,YAAAA,QAAQ,CAAChG,MAAT,CAAgBmN,QAAhB,IAA4BE,cAA5B;CACA;CACD,SAb+C;CAehD;;;CACAnY,QAAAA,GAAG,CAAC4J,KAAD,EAAQqO,QAAR,EAAkBF,aAAK,CAACjH,QAAQ,CAAChG,MAAV,EAAkBmN,QAAlB,CAAvB,CAAH;CACA,OAjBD,EAFwC;;;CAqBxC5V,MAAAA,MAAM,CAAC+H,IAAP,CAAYR,KAAK,CAACkB,MAAlB,EAA0BgD,OAA1B,CAAmCmK,QAAD,IAAc;CAC/C,YAAI,EAAEA,QAAQ,IAAInH,QAAQ,CAAChG,MAAvB,CAAJ,EAAoC;CACnCpK,UAAAA,GAAG,CAACkJ,KAAD,EAAQqO,QAAR,CAAH;CACA;CACD,OAJD,EArBwC;;CA2BxC3B,MAAAA,WAAW,GAAG,KAAd;CACAG,MAAAA,eAAe,GAAG,KAAlB;CACA5U,MAAAA,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkB4J,GAAlB,IAAyBgO,aAAK,CAACjH,QAAQ,CAACkB,WAAV,EAAuB,UAAvB,CAA9B;CACAyE,MAAAA,eAAe,GAAG,IAAlB;CACAO,MAAAA,gBAAQ,GAAGC,IAAX,CAAgB,MAAM;CACrBX,QAAAA,WAAW,GAAG,IAAd;CACA,OAFD;;CAGA,WAAK,MAAMjF,UAAX,IAAyBP,QAAQ,CAACkB,WAAT,CAAqBhF,OAA9C,EAAuD;CACtD,cAAMC,MAAM,GAAG6D,QAAQ,CAACO,UAAD,CAAvB;CACArR,QAAAA,GAAG,CAAC4J,KAAD,EAAQyH,UAAR,EAAoB+F,UAAU,CAAC/F,UAAD,EAAapE,MAAb,CAA9B,CAAH;CACA,OArCuC;;;CAuCxC,WAAK,MAAMlC,UAAX,IAAyB+F,QAAQ,CAACkB,WAAT,CAAqBvH,OAA9C,EAAuD;CACtD,cAAM2N,MAAM,GAAGtH,QAAQ,CAACkB,WAAT,CAAqBvH,OAArB,CAA6BM,UAA7B,CAAf;CACA,cAAMsN,WAAW,GAAGpC,cAAc;CAEjCH,QAAAA,gBAAQ,CAAC,MAAM;CACdlU,UAAAA,cAAc,CAACC,KAAD,CAAd;CACA,iBAAOuW,MAAM,CAAC5V,IAAP,CAAYoH,KAAZ,EAAmBA,KAAnB,CAAP;CACA,SAHO,CAFyB,GAM/BwO,MANH;CAOApY,QAAAA,GAAG,CAAC4J,KAAD,EAAQmB,UAAR,EAAoBsN,WAApB,CAAH;CACA,OAjDuC;;;CAmDxChW,MAAAA,MAAM,CAAC+H,IAAP,CAAYR,KAAK,CAACoI,WAAN,CAAkBvH,OAA9B,EAAuCqD,OAAvC,CAAgD5N,GAAD,IAAS;CACvD,YAAI,EAAEA,GAAG,IAAI4Q,QAAQ,CAACkB,WAAT,CAAqBvH,OAA9B,CAAJ,EAA4C;CAC3C/J,UAAAA,GAAG,CAACkJ,KAAD,EAAQ1J,GAAR,CAAH;CACA;CACD,OAJD,EAnDwC;;CAyDxCmC,MAAAA,MAAM,CAAC+H,IAAP,CAAYR,KAAK,CAACoI,WAAN,CAAkBhF,OAA9B,EAAuCc,OAAvC,CAAgD5N,GAAD,IAAS;CACvD,YAAI,EAAEA,GAAG,IAAI4Q,QAAQ,CAACkB,WAAT,CAAqBhF,OAA9B,CAAJ,EAA4C;CAC3CtM,UAAAA,GAAG,CAACkJ,KAAD,EAAQ1J,GAAR,CAAH;CACA;CACD,OAJD,EAzDwC;;CA+DxC0J,MAAAA,KAAK,CAACoI,WAAN,GAAoBlB,QAAQ,CAACkB,WAA7B;CACApI,MAAAA,KAAK,CAACgB,QAAN,GAAiBkG,QAAQ,CAAClG,QAA1B;CACAhB,MAAAA,KAAK,CAAC4M,YAAN,GAAqB,KAArB;CACA,KAlEyB,CAA1B;CAmEA,UAAM8B,aAAa,GAAG;CACrBC,MAAAA,QAAQ,EAAE,IADW;CAErBC,MAAAA,YAAY,EAAE,IAFO;CAGrB;CACAC,MAAAA,UAAU,EAAE;CAJS,KAAtB;;CAMA,QAAI9V,SAAJ,EAAe;CACd,OAAC,IAAD,EAAO,aAAP,EAAsB,UAAtB,EAAkC,mBAAlC,EAAuDmL,OAAvD,CAAgE4K,CAAD,IAAO;CACrErW,QAAAA,MAAM,CAAC+S,cAAP,CAAsBxL,KAAtB,EAA6B8O,CAA7B,EAAgC;CAC/BvY,UAAAA,KAAK,EAAEyJ,KAAK,CAAC8O,CAAD,CADmB;CAE/B,aAAGJ;CAF4B,SAAhC;CAIA,OALD;CAMA;CACD;AACD;;CAMAzW,EAAAA,KAAK,CAACyQ,EAAN,CAASxE,OAAT,CAAkB6K,QAAD,IAAc;CAC9B;CACA,QAAK/Y,eAAe,KAAK,YAArB,IAAsC+C,SAA1C,EAAqD;CACpD,YAAMiW,UAAU,GAAG1G,KAAK,CAACE,GAAN,CAAU,MAAMuG,QAAQ,CAAC;CAC3C/O,QAAAA,KAD2C;CAE3CyC,QAAAA,GAAG,EAAExK,KAAK,CAAC4Q,EAFgC;CAG3C5Q,QAAAA,KAH2C;CAI3CiQ,QAAAA,OAAO,EAAEoE;CAJkC,OAAD,CAAxB,CAAnB;CAMA7T,MAAAA,MAAM,CAAC+H,IAAP,CAAYwO,UAAU,IAAI,EAA1B,EAA8B9K,OAA9B,CAAuC5N,GAAD,IAAS0J,KAAK,CAACoB,iBAAN,CAAwB6N,GAAxB,CAA4B3Y,GAA5B,CAA/C;CACA+G,MAAAA,MAAM,CAAC2C,KAAD,EAAQgP,UAAR,CAAN;CACA,KATD,MAUK;CACJ3R,MAAAA,MAAM,CAAC2C,KAAD,EAAQsI,KAAK,CAACE,GAAN,CAAU,MAAMuG,QAAQ,CAAC;CACtC/O,QAAAA,KADsC;CAEtCyC,QAAAA,GAAG,EAAExK,KAAK,CAAC4Q,EAF2B;CAGtC5Q,QAAAA,KAHsC;CAItCiQ,QAAAA,OAAO,EAAEoE;CAJ6B,OAAD,CAAxB,CAAR,CAAN;CAMA;CACD,GApBD;;CAqBA,MAAKtW,eAAe,KAAK,YAArB,IACHgK,KAAK,CAACkB,MADH,IAEH,OAAOlB,KAAK,CAACkB,MAAb,KAAwB,QAFrB,IAGH,OAAOlB,KAAK,CAACkB,MAAN,CAAagO,WAApB,KAAoC,UAHjC,IAIH,CAAClP,KAAK,CAACkB,MAAN,CAAagO,WAAb,CAAyBvW,QAAzB,GAAoCsF,QAApC,CAA6C,eAA7C,CAJF,EAIiE;CAChEzD,IAAAA,OAAO,CAACmD,IAAR,CAAc,6DAAD,GACX,gCADW,GAEX,mBAAkBqC,KAAK,CAACG,GAAI,IAF9B;CAGA,GA5a8E;;;CA8a/E,MAAI0L,YAAY,IACfQ,cADG,IAEHnE,OAAO,CAACiH,OAFT,EAEkB;CACjBjH,IAAAA,OAAO,CAACiH,OAAR,CAAgBnP,KAAK,CAACkB,MAAtB,EAA8B2K,YAA9B;CACA;;CACDa,EAAAA,WAAW,GAAG,IAAd;CACAG,EAAAA,eAAe,GAAG,IAAlB;CACA,SAAO7M,KAAP;CACA;;CACD,SAASoP,WAAT;CAEAC,WAFA,EAEavD,KAFb,EAEoBwD,YAFpB,EAEkC;CACjC,MAAIrP,EAAJ;CACA,MAAIiI,OAAJ;CACA,QAAMqH,YAAY,GAAG,OAAOzD,KAAP,KAAiB,UAAtC;;CACA,MAAI,OAAOuD,WAAP,KAAuB,QAA3B,EAAqC;CACpCpP,IAAAA,EAAE,GAAGoP,WAAL,CADoC;;CAGpCnH,IAAAA,OAAO,GAAGqH,YAAY,GAAGD,YAAH,GAAkBxD,KAAxC;CACA,GAJD,MAKK;CACJ5D,IAAAA,OAAO,GAAGmH,WAAV;CACApP,IAAAA,EAAE,GAAGoP,WAAW,CAACpP,EAAjB;CACA;;CACD,WAASmK,QAAT,CAAkBnS,KAAlB,EAAyB+R,GAAzB,EAA8B;CAC7B,UAAMwF,eAAe,GAAGrX,0BAAkB,EAA1C;CACAF,IAAAA,KAAK;CAEJ;CACA,KAAEjC,eAAe,KAAK,MAArB,IAAgC+B,WAAhC,IAA+CA,WAAW,CAAC0X,QAA3D,GAAsE,IAAtE,GAA6ExX,KAA9E,KACCuX,eAAe,IAAIpX,cAAM,CAACC,WAAD,CAJ3B;CAKA,QAAIJ,KAAJ,EACCD,cAAc,CAACC,KAAD,CAAd;;CACD,QAAKjC,eAAe,KAAK,YAArB,IAAsC,CAAC+B,WAA3C,EAAwD;CACvD,YAAM,IAAIoF,KAAJ,CAAW,6FAAD,GACd,iCADc,GAEd,oBAFc,GAGd,+BAHI,CAAN;CAIA;;CACDlF,IAAAA,KAAK,GAAGF,WAAR;;CACA,QAAI,CAACE,KAAK,CAACsI,EAAN,CAASyE,GAAT,CAAa/E,EAAb,CAAL,EAAuB;CACtB;CACA,UAAIsP,YAAJ,EAAkB;CACjBpD,QAAAA,gBAAgB,CAAClM,EAAD,EAAK6L,KAAL,EAAY5D,OAAZ,EAAqBjQ,KAArB,CAAhB;CACA,OAFD,MAGK;CACJ2T,QAAAA,kBAAkB,CAAC3L,EAAD,EAAKiI,OAAL,EAAcjQ,KAAd,CAAlB;CACA;CACD;;;CACA,UAAKjC,eAAe,KAAK,YAAzB,EAAwC;CACvC;CACAoU,QAAAA,QAAQ,CAACF,MAAT,GAAkBjS,KAAlB;CACA;CACD;;CACD,UAAM+H,KAAK,GAAG/H,KAAK,CAACsI,EAAN,CAASQ,GAAT,CAAad,EAAb,CAAd;;CACA,QAAKjK,eAAe,KAAK,YAArB,IAAsCgU,GAA1C,EAA+C;CAC9C,YAAM0F,KAAK,GAAG,WAAWzP,EAAzB;CACA,YAAMiH,QAAQ,GAAGqI,YAAY,GAC1BpD,gBAAgB,CAACuD,KAAD,EAAQ5D,KAAR,EAAe5D,OAAf,EAAwBjQ,KAAxB,EAA+B,IAA/B,CADU,GAE1B2T,kBAAkB,CAAC8D,KAAD,EAAQrS,MAAM,CAAC,EAAD,EAAK6K,OAAL,CAAd,EAA6BjQ,KAA7B,EAAoC,IAApC,CAFrB;;CAGA+R,MAAAA,GAAG,CAAChD,UAAJ,CAAeE,QAAf,EAL8C;;;CAO9C,aAAOjP,KAAK,CAACsG,KAAN,CAAYhI,KAAZ,CAAkBmZ,KAAlB,CAAP;;CACAzX,MAAAA,KAAK,CAACsI,EAAN,CAASgN,MAAT,CAAgBmC,KAAhB;CACA,KAxC4B;;;CA0C7B,QAAK1Z,eAAe,KAAK,YAArB,IACH+C,SADG,IAEHyW,eAFG,IAGHA,eAAe,CAAC3L,KAHb;CAKH,KAACmG,GALF,EAKO;CACN,YAAM2F,EAAE,GAAGH,eAAe,CAAC3L,KAA3B;CACA,YAAM+L,KAAK,GAAG,cAAcD,EAAd,GAAmBA,EAAE,CAAC5L,QAAtB,GAAkC4L,EAAE,CAAC5L,QAAH,GAAc,EAA9D;CACA6L,MAAAA,KAAK,CAAC3P,EAAD,CAAL,GAAYD,KAAZ;CACA,KAnD4B;;;CAqD7B,WAAOA,KAAP;CACA;;CACDoK,EAAAA,QAAQ,CAACjK,GAAT,GAAeF,EAAf;CACA,SAAOmK,QAAP;CACA;;CAED,IAAIyF,cAAc,GAAG,OAArB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACA,SAASC,iBAAT,CAA2BC,MAA3B;CAAA,EACE;CACDF,EAAAA,cAAc,GAAGE,MAAjB;CACA;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,SAASC,SAAT,CAAmB,GAAGxL,MAAtB,EAA8B;CAC7B,MAAKxO,eAAe,KAAK,YAArB,IAAsCQ,KAAK,CAACC,OAAN,CAAc+N,MAAM,CAAC,CAAD,CAApB,CAA1C,EAAoE;CACnEhK,IAAAA,OAAO,CAACmD,IAAR,CAAc,wFAAD,GACX,WADW,GAEX,6CAFW,GAGX,QAHW,GAIX,2CAJW,GAKX,4CALF;CAMA6G,IAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;CACA;;CACD,SAAOA,MAAM,CAACvD,MAAP,CAAc,CAACgP,OAAD,EAAU7F,QAAV,KAAuB;CAC3C;CACA6F,IAAAA,OAAO,CAAC7F,QAAQ,CAACjK,GAAT,GAAe0P,cAAhB,CAAP,GAAyC,YAAY;CACpD,aAAOzF,QAAQ,CAAC,KAAKnB,MAAN,CAAf;CACA,KAFD;;CAGA,WAAOgH,OAAP;CACA,GANM,EAMJ,EANI,CAAP;CAOA;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,SAASC,QAAT,CAAkB9F,QAAlB,EAA4B+F,YAA5B,EAA0C;CACzC,SAAO3Z,KAAK,CAACC,OAAN,CAAc0Z,YAAd,IACJA,YAAY,CAAClP,MAAb,CAAoB,CAACgP,OAAD,EAAU3Z,GAAV,KAAkB;CACvC2Z,IAAAA,OAAO,CAAC3Z,GAAD,CAAP,GAAe,YAAY;CAC1B,aAAO8T,QAAQ,CAAC,KAAKnB,MAAN,CAAR,CAAsB3S,GAAtB,CAAP;CACA,KAFD;;CAGA,WAAO2Z,OAAP;CACA,GALC,EAKC,EALD,CADI,GAOJxX,MAAM,CAAC+H,IAAP,CAAY2P,YAAZ,EAA0BlP,MAA1B,CAAiC,CAACgP,OAAD,EAAU3Z,GAAV,KAAkB;CACpD;CACA2Z,IAAAA,OAAO,CAAC3Z,GAAD,CAAP,GAAe,YAAY;CAC1B,YAAM0J,KAAK,GAAGoK,QAAQ,CAAC,KAAKnB,MAAN,CAAtB;CACA,YAAMmH,QAAQ,GAAGD,YAAY,CAAC7Z,GAAD,CAA7B,CAF0B;CAI1B;;CACA,aAAO,OAAO8Z,QAAP,KAAoB,UAApB,GACJA,QAAQ,CAACxX,IAAT,CAAc,IAAd,EAAoBoH,KAApB,CADI,GAEJA,KAAK,CAACoQ,QAAD,CAFR;CAGA,KARD;;CASA,WAAOH,OAAP;CACA,GAZC,EAYC,EAZD,CAPH;CAoBA;CACD;CACA;CACA;CACA;;;AACA,OAAMI,UAAU,GAAGH,QAAnB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACA,SAASI,UAAT,CAAoBlG,QAApB,EAA8B+F,YAA9B,EAA4C;CAC3C,SAAO3Z,KAAK,CAACC,OAAN,CAAc0Z,YAAd,IACJA,YAAY,CAAClP,MAAb,CAAoB,CAACgP,OAAD,EAAU3Z,GAAV,KAAkB;CACvC;CACA2Z,IAAAA,OAAO,CAAC3Z,GAAD,CAAP,GAAe,UAAU,GAAGuP,IAAb,EAAmB;CACjC,aAAOuE,QAAQ,CAAC,KAAKnB,MAAN,CAAR,CAAsB3S,GAAtB,EAA2B,GAAGuP,IAA9B,CAAP;CACA,KAFD;;CAGA,WAAOoK,OAAP;CACA,GANC,EAMC,EAND,CADI,GAQJxX,MAAM,CAAC+H,IAAP,CAAY2P,YAAZ,EAA0BlP,MAA1B,CAAiC,CAACgP,OAAD,EAAU3Z,GAAV,KAAkB;CACpD;CACA2Z,IAAAA,OAAO,CAAC3Z,GAAD,CAAP,GAAe,UAAU,GAAGuP,IAAb,EAAmB;CACjC,aAAOuE,QAAQ,CAAC,KAAKnB,MAAN,CAAR,CAAsBkH,YAAY,CAAC7Z,GAAD,CAAlC,EAAyC,GAAGuP,IAA5C,CAAP;CACA,KAFD;;CAGA,WAAOoK,OAAP;CACA,GANC,EAMC,EAND,CARH;CAeA;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,SAASM,gBAAT,CAA0BnG,QAA1B,EAAoC+F,YAApC,EAAkD;CACjD,SAAO3Z,KAAK,CAACC,OAAN,CAAc0Z,YAAd,IACJA,YAAY,CAAClP,MAAb,CAAoB,CAACgP,OAAD,EAAU3Z,GAAV,KAAkB;CACvC;CACA2Z,IAAAA,OAAO,CAAC3Z,GAAD,CAAP,GAAe;CACdyK,MAAAA,GAAG,GAAG;CACL,eAAOqJ,QAAQ,CAAC,KAAKnB,MAAN,CAAR,CAAsB3S,GAAtB,CAAP;CACA,OAHa;;CAIdF,MAAAA,GAAG,CAACG,KAAD,EAAQ;CACV;CACA,eAAQ6T,QAAQ,CAAC,KAAKnB,MAAN,CAAR,CAAsB3S,GAAtB,IAA6BC,KAArC;CACA;;CAPa,KAAf;CASA,WAAO0Z,OAAP;CACA,GAZC,EAYC,EAZD,CADI,GAcJxX,MAAM,CAAC+H,IAAP,CAAY2P,YAAZ,EAA0BlP,MAA1B,CAAiC,CAACgP,OAAD,EAAU3Z,GAAV,KAAkB;CACpD;CACA2Z,IAAAA,OAAO,CAAC3Z,GAAD,CAAP,GAAe;CACdyK,MAAAA,GAAG,GAAG;CACL,eAAOqJ,QAAQ,CAAC,KAAKnB,MAAN,CAAR,CAAsBkH,YAAY,CAAC7Z,GAAD,CAAlC,CAAP;CACA,OAHa;;CAIdF,MAAAA,GAAG,CAACG,KAAD,EAAQ;CACV;CACA,eAAQ6T,QAAQ,CAAC,KAAKnB,MAAN,CAAR,CAAsBkH,YAAY,CAAC7Z,GAAD,CAAlC,IAA2CC,KAAnD;CACA;;CAPa,KAAf;CASA,WAAO0Z,OAAP;CACA,GAZC,EAYC,EAZD,CAdH;CA2BA;CAED;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,SAASO,WAAT,CAAqBxQ,KAArB,EAA4B;CAC3B;CACA;CACA,EAIK;CACJA,IAAAA,KAAK,GAAG0H,aAAK,CAAC1H,KAAD,CAAb;CACA,UAAMyQ,IAAI,GAAG,EAAb;;CACA,SAAK,MAAMna,GAAX,IAAkB0J,KAAlB,EAAyB;CACxB,YAAMzJ,KAAK,GAAGyJ,KAAK,CAAC1J,GAAD,CAAnB;;CACA,UAAIsT,aAAK,CAACrT,KAAD,CAAL,IAAgBsT,kBAAU,CAACtT,KAAD,CAA9B,EAAuC;CACtC;CACAka,QAAAA,IAAI,CAACna,GAAD,CAAJ;CAEC6X,QAAAA,aAAK,CAACnO,KAAD,EAAQ1J,GAAR,CAFN;CAGA;CACD;;CACD,WAAOma,IAAP;CACA;CACD;CAED;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;AACA,OAAMC,cAAc,GAAG,UAAUC,IAAV,EAAgB;CACtC;CACA;CACAA,EAAAA,IAAI,CAACC,KAAL,CAAW;CACVC,IAAAA,YAAY,GAAG;CACd,YAAM3I,OAAO,GAAG,KAAK4I,QAArB;;CACA,UAAI5I,OAAO,CAACjQ,KAAZ,EAAmB;CAClB,cAAMA,KAAK,GAAGiQ,OAAO,CAACjQ,KAAtB,CADkB;;CAGlB;;CACA,YAAI,CAAC,KAAK8Y,SAAV,EAAqB;CACpB,gBAAMC,YAAY,GAAG,EAArB;CACAvY,UAAAA,MAAM,CAAC+S,cAAP,CAAsB,IAAtB,EAA4B,WAA5B,EAAyC;CACxCzK,YAAAA,GAAG,EAAE,MAAMiQ,YAD6B;CAExC5a,YAAAA,GAAG,EAAG6a,CAAD,IAAOxY,MAAM,CAAC4E,MAAP,CAAc2T,YAAd,EAA4BC,CAA5B;CAF4B,WAAzC;CAIA;;CACD,aAAKF,SAAL,CAAe1Y,WAAf,IAA8BJ,KAA9B,CAXkB;CAalB;;CACA;;CACA,YAAI,CAAC,KAAKgR,MAAV,EAAkB;CACjB,eAAKA,MAAL,GAAchR,KAAd;CACA;;CACDA,QAAAA,KAAK,CAAC4Q,EAAN,GAAW,IAAX;;CACA,YAAI9P,SAAJ,EAAe;CACd;CACA;CACAf,UAAAA,cAAc,CAACC,KAAD,CAAd;;CACA,cAAKjC,eAAe,KAAK,YAAzB,EAAwC;CACvCwM,YAAAA,qBAAqB,CAACvK,KAAK,CAAC4Q,EAAP,EAAW5Q,KAAX,CAArB;CACA;CACD;CACD,OA3BD,MA4BK,IAAI,CAAC,KAAKgR,MAAN,IAAgBf,OAAO,CAACgJ,MAAxB,IAAkChJ,OAAO,CAACgJ,MAAR,CAAejI,MAArD,EAA6D;CACjE,aAAKA,MAAL,GAAcf,OAAO,CAACgJ,MAAR,CAAejI,MAA7B;CACA;CACD,KAlCS;;CAmCVkI,IAAAA,SAAS,GAAG;CACX,aAAO,KAAKpN,QAAZ;CACA;;CArCS,GAAX;CAuCA,CA1CD;;AA8CA,OAAMqN,OAAO,GAAG,QAAhB;;;;;;;;;;;;;;;;;;;;;;ACl+DA","file":"pinia.bundle.js.map","sourcesContent":[null,"/**\n * pinia v2.0.16\n * (c) 2022 Eduardo San Martin Morote\n * @license MIT\n *\n * @source: https://unpkg.com/pinia@2.0.11/dist/pinia.esm-browser.js\n * @source: https://github.com/vueuse/vue-demi/blob/master/lib/v3/index.cjs\n */\n\n/**\n * Modify list for integration with Bitrix Framework:\n * - remove vue-demi library from global import, replace to 'ui.vue3';\n * - remove import '@vue/devtools-api', add function setupDevtoolsPlugin\n * - replace emoji 'pineapple' to ':Pinia:', replace all emoji to text\n * - replace 'process.env.NODE_ENV' to 'environmentMode'\n * - added const 'isVue2'\n * - added 'set' and 'del' functions similar to functions from the vue-demi library\n */\n\nimport { BitrixVue, getCurrentInstance, inject, toRaw, watch, unref, markRaw, effectScope, ref, isRef, isReactive, onUnmounted, reactive, toRef, nextTick, computed, toRefs } from 'ui.vue3';\n\nconst environmentMode = BitrixVue.developerMode? 'development': 'production'\nconst isVue2 = false;\n\nfunction set(object, key, value): any\n{\n\tif (Array.isArray(object))\n\t{\n\t\tobject.length = Math.max(object.length, key);\n\t\tobject.splice(key, 1, value);\n\t}\n\telse if (typeof object === 'object')\n\t{\n\t\tobject[key] = value;\n\t}\n\n\treturn value;\n}\n\nfunction del(object, key): void\n{\n\tif (Array.isArray(object))\n\t{\n\t\tobject.splice(key, 1);\n\t}\n\telse if (typeof object === 'object')\n\t{\n\t\tdelete object[key];\n\t}\n}\n\nfunction getDevtoolsGlobalHook() {\n\treturn getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nfunction getTarget() {\n\t// @ts-ignore\n\treturn typeof navigator !== 'undefined'\n\t\t? window\n\t\t: typeof global !== 'undefined'\n\t\t\t? global\n\t\t\t: {};\n}\n\nconst HOOK_SETUP = 'devtools-plugin:setup';\n\nfunction setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n\tconst hook = getDevtoolsGlobalHook();\n\tif (hook) {\n\t\thook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n\t}\n\telse {\n\t\tconst target = getTarget();\n\t\tconst list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n\t\tlist.push({\n\t\t\tpluginDescriptor,\n\t\t\tsetupFn\n\t\t});\n\t}\n}\n\n// origin-start\n/**\n * setActivePinia must be called to handle SSR at the top of functions like\n * `fetch`, `setup`, `serverPrefetch` and others\n */\nlet activePinia;\n/**\n * Sets or unsets the active pinia. Used in SSR and internally when calling\n * actions and getters\n *\n * @param pinia - Pinia instance\n */\nconst setActivePinia = (pinia) => (activePinia = pinia);\n/**\n * Get the currently active pinia if there is any.\n */\nconst getActivePinia = () => (getCurrentInstance() && inject(piniaSymbol)) || activePinia;\nconst piniaSymbol = ((environmentMode !== 'production') ? Symbol('pinia') : /* istanbul ignore next */ Symbol());\n\nfunction isPlainObject(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\no) {\n\treturn (o &&\n\t\ttypeof o === 'object' &&\n\t\tObject.prototype.toString.call(o) === '[object Object]' &&\n\t\ttypeof o.toJSON !== 'function');\n}\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\n// TODO: can we change these to numbers?\n/**\n * Possible types for SubscriptionCallback\n */\nvar MutationType;\n(function (MutationType) {\n\t/**\n\t * Direct mutation of the state:\n\t *\n\t * - `store.name = 'new name'`\n\t * - `store.$state.name = 'new name'`\n\t * - `store.list.push('new item')`\n\t */\n\tMutationType[\"direct\"] = \"direct\";\n\t/**\n\t * Mutated the state with `$patch` and an object\n\t *\n\t * - `store.$patch({ name: 'newName' })`\n\t */\n\tMutationType[\"patchObject\"] = \"patch object\";\n\t/**\n\t * Mutated the state with `$patch` and a function\n\t *\n\t * - `store.$patch(state => state.name = 'newName')`\n\t */\n\tMutationType[\"patchFunction\"] = \"patch function\";\n\t// maybe reset? for $state = {} and $reset\n})(MutationType || (MutationType = {}));\n\nconst IS_CLIENT = typeof window !== 'undefined';\n\n/*\n * FileSaver.js A saveAs() FileSaver implementation.\n *\n * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin\n * Morote.\n *\n * License : MIT\n */\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nconst _global = /*#__PURE__*/ (() => typeof window === 'object' && window.window === window\n\t? window\n\t: typeof self === 'object' && self.self === self\n\t\t? self\n\t\t: typeof global === 'object' && global.global === global\n\t\t\t? global\n\t\t\t: typeof globalThis === 'object'\n\t\t\t\t? globalThis\n\t\t\t\t: { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\tif (autoBom &&\n\t\t/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\treturn new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n\t}\n\treturn blob;\n}\nfunction download(url, name, opts) {\n\tconst xhr = new XMLHttpRequest();\n\txhr.open('GET', url);\n\txhr.responseType = 'blob';\n\txhr.onload = function () {\n\t\tsaveAs(xhr.response, name, opts);\n\t};\n\txhr.onerror = function () {\n\t\tconsole.error('could not download file');\n\t};\n\txhr.send();\n}\nfunction corsEnabled(url) {\n\tconst xhr = new XMLHttpRequest();\n\t// use sync to avoid popup blocker\n\txhr.open('HEAD', url, false);\n\ttry {\n\t\txhr.send();\n\t}\n\tcatch (e) { }\n\treturn xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n\ttry {\n\t\tnode.dispatchEvent(new MouseEvent('click'));\n\t}\n\tcatch (e) {\n\t\tconst evt = document.createEvent('MouseEvents');\n\t\tevt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n\t\tnode.dispatchEvent(evt);\n\t}\n}\nconst _navigator =\n\ttypeof navigator === 'object' ? navigator : { userAgent: '' };\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nconst isMacOSWebView = /*#__PURE__*/ (() => /Macintosh/.test(_navigator.userAgent) &&\n\t/AppleWebKit/.test(_navigator.userAgent) &&\n\t!/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT\n\t? () => { } // noop\n\t: // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n\ttypeof HTMLAnchorElement !== 'undefined' &&\n\t'download' in HTMLAnchorElement.prototype &&\n\t!isMacOSWebView\n\t\t? downloadSaveAs\n\t\t: // Use msSaveOrOpenBlob as a second approach\n\t\t'msSaveOrOpenBlob' in _navigator\n\t\t\t? msSaveAs\n\t\t\t: // Fallback to using FileReader and a popup\n\t\t\tfileSaverSaveAs;\nfunction downloadSaveAs(blob, name = 'download', opts) {\n\tconst a = document.createElement('a');\n\ta.download = name;\n\ta.rel = 'noopener'; // tabnabbing\n\t// TODO: detect chrome extensions & packaged apps\n\t// a.target = '_blank'\n\tif (typeof blob === 'string') {\n\t\t// Support regular links\n\t\ta.href = blob;\n\t\tif (a.origin !== location.origin) {\n\t\t\tif (corsEnabled(a.href)) {\n\t\t\t\tdownload(blob, name, opts);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta.target = '_blank';\n\t\t\t\tclick(a);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tclick(a);\n\t\t}\n\t}\n\telse {\n\t\t// Support blobs\n\t\ta.href = URL.createObjectURL(blob);\n\t\tsetTimeout(function () {\n\t\t\tURL.revokeObjectURL(a.href);\n\t\t}, 4e4); // 40s\n\t\tsetTimeout(function () {\n\t\t\tclick(a);\n\t\t}, 0);\n\t}\n}\nfunction msSaveAs(blob, name = 'download', opts) {\n\tif (typeof blob === 'string') {\n\t\tif (corsEnabled(blob)) {\n\t\t\tdownload(blob, name, opts);\n\t\t}\n\t\telse {\n\t\t\tconst a = document.createElement('a');\n\t\t\ta.href = blob;\n\t\t\ta.target = '_blank';\n\t\t\tsetTimeout(function () {\n\t\t\t\tclick(a);\n\t\t\t});\n\t\t}\n\t}\n\telse {\n\t\t// @ts-ignore: works on windows\n\t\tnavigator.msSaveOrOpenBlob(bom(blob, opts), name);\n\t}\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n\t// Open a popup immediately do go around popup blocker\n\t// Mostly only available on user interaction and the fileReader is async so...\n\tpopup = popup || open('', '_blank');\n\tif (popup) {\n\t\tpopup.document.title = popup.document.body.innerText = 'downloading...';\n\t}\n\tif (typeof blob === 'string')\n\t\treturn download(blob, name, opts);\n\tconst force = blob.type === 'application/octet-stream';\n\tconst isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;\n\tconst isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\tif ((isChromeIOS || (force && isSafari) || isMacOSWebView) &&\n\t\ttypeof FileReader !== 'undefined') {\n\t\t// Safari doesn't allow downloading of blob URLs\n\t\tconst reader = new FileReader();\n\t\treader.onloadend = function () {\n\t\t\tlet url = reader.result;\n\t\t\tif (typeof url !== 'string') {\n\t\t\t\tpopup = null;\n\t\t\t\tthrow new Error('Wrong reader.result type');\n\t\t\t}\n\t\t\turl = isChromeIOS\n\t\t\t\t? url\n\t\t\t\t: url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\tif (popup) {\n\t\t\t\tpopup.location.href = url;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation.assign(url);\n\t\t\t}\n\t\t\tpopup = null; // reverse-tabnabbing #460\n\t\t};\n\t\treader.readAsDataURL(blob);\n\t}\n\telse {\n\t\tconst url = URL.createObjectURL(blob);\n\t\tif (popup)\n\t\t\tpopup.location.assign(url);\n\t\telse\n\t\t\tlocation.href = url;\n\t\tpopup = null; // reverse-tabnabbing #460\n\t\tsetTimeout(function () {\n\t\t\tURL.revokeObjectURL(url);\n\t\t}, 4e4); // 40s\n\t}\n}\n\n/**\n * Shows a toast or console.log\n *\n * @param message - message to log\n * @param type - different color of the tooltip\n */\nfunction toastMessage(message, type) {\n\tconst piniaMessage = 'Pinia: ' + message;\n\tif (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\n\t\t__VUE_DEVTOOLS_TOAST__(piniaMessage, type);\n\t}\n\telse if (type === 'error') {\n\t\tconsole.error(piniaMessage);\n\t}\n\telse if (type === 'warn') {\n\t\tconsole.warn(piniaMessage);\n\t}\n\telse {\n\t\tconsole.log(piniaMessage);\n\t}\n}\nfunction isPinia(o) {\n\treturn '_a' in o && 'install' in o;\n}\n\nfunction checkClipboardAccess() {\n\tif (!('clipboard' in navigator)) {\n\t\ttoastMessage(`Your browser doesn't support the Clipboard API`, 'error');\n\t\treturn true;\n\t}\n}\nfunction checkNotFocusedError(error) {\n\tif (error instanceof Error &&\n\t\terror.message.toLowerCase().includes('document is not focused')) {\n\t\ttoastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\n\t\treturn true;\n\t}\n\treturn false;\n}\nasync function actionGlobalCopyState(pinia) {\n\tif (checkClipboardAccess())\n\t\treturn;\n\ttry {\n\t\tawait navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\n\t\ttoastMessage('Global state copied to clipboard.');\n\t}\n\tcatch (error) {\n\t\tif (checkNotFocusedError(error))\n\t\t\treturn;\n\t\ttoastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nasync function actionGlobalPasteState(pinia) {\n\tif (checkClipboardAccess())\n\t\treturn;\n\ttry {\n\t\tpinia.state.value = JSON.parse(await navigator.clipboard.readText());\n\t\ttoastMessage('Global state pasted from clipboard.');\n\t}\n\tcatch (error) {\n\t\tif (checkNotFocusedError(error))\n\t\t\treturn;\n\t\ttoastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nasync function actionGlobalSaveState(pinia) {\n\ttry {\n\t\tsaveAs(new Blob([JSON.stringify(pinia.state.value)], {\n\t\t\ttype: 'text/plain;charset=utf-8',\n\t\t}), 'pinia-state.json');\n\t}\n\tcatch (error) {\n\t\ttoastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nlet fileInput;\nfunction getFileOpener() {\n\tif (!fileInput) {\n\t\tfileInput = document.createElement('input');\n\t\tfileInput.type = 'file';\n\t\tfileInput.accept = '.json';\n\t}\n\tfunction openFile() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfileInput.onchange = async () => {\n\t\t\t\tconst files = fileInput.files;\n\t\t\t\tif (!files)\n\t\t\t\t\treturn resolve(null);\n\t\t\t\tconst file = files.item(0);\n\t\t\t\tif (!file)\n\t\t\t\t\treturn resolve(null);\n\t\t\t\treturn resolve({ text: await file.text(), file });\n\t\t\t};\n\t\t\t// @ts-ignore: TODO: changed from 4.3 to 4.4\n\t\t\tfileInput.oncancel = () => resolve(null);\n\t\t\tfileInput.onerror = reject;\n\t\t\tfileInput.click();\n\t\t});\n\t}\n\treturn openFile;\n}\nasync function actionGlobalOpenStateFile(pinia) {\n\ttry {\n\t\tconst open = await getFileOpener();\n\t\tconst result = await open();\n\t\tif (!result)\n\t\t\treturn;\n\t\tconst { text, file } = result;\n\t\tpinia.state.value = JSON.parse(text);\n\t\ttoastMessage(`Global state imported from \"${file.name}\".`);\n\t}\n\tcatch (error) {\n\t\ttoastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\n\nfunction formatDisplay(display) {\n\treturn {\n\t\t_custom: {\n\t\t\tdisplay,\n\t\t},\n\t};\n}\nconst PINIA_ROOT_LABEL = 'Pinia (root)';\nconst PINIA_ROOT_ID = '_root';\nfunction formatStoreForInspectorTree(store) {\n\treturn isPinia(store)\n\t\t? {\n\t\t\tid: PINIA_ROOT_ID,\n\t\t\tlabel: PINIA_ROOT_LABEL,\n\t\t}\n\t\t: {\n\t\t\tid: store.$id,\n\t\t\tlabel: store.$id,\n\t\t};\n}\nfunction formatStoreForInspectorState(store) {\n\tif (isPinia(store)) {\n\t\tconst storeNames = Array.from(store._s.keys());\n\t\tconst storeMap = store._s;\n\t\tconst state = {\n\t\t\tstate: storeNames.map((storeId) => ({\n\t\t\t\teditable: true,\n\t\t\t\tkey: storeId,\n\t\t\t\tvalue: store.state.value[storeId],\n\t\t\t})),\n\t\t\tgetters: storeNames\n\t\t\t\t.filter((id) => storeMap.get(id)._getters)\n\t\t\t\t.map((id) => {\n\t\t\t\t\tconst store = storeMap.get(id);\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\tkey: id,\n\t\t\t\t\t\tvalue: store._getters.reduce((getters, key) => {\n\t\t\t\t\t\t\tgetters[key] = store[key];\n\t\t\t\t\t\t\treturn getters;\n\t\t\t\t\t\t}, {}),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t};\n\t\treturn state;\n\t}\n\tconst state = {\n\t\tstate: Object.keys(store.$state).map((key) => ({\n\t\t\teditable: true,\n\t\t\tkey,\n\t\t\tvalue: store.$state[key],\n\t\t})),\n\t};\n\t// avoid adding empty getters\n\tif (store._getters && store._getters.length) {\n\t\tstate.getters = store._getters.map((getterName) => ({\n\t\t\teditable: false,\n\t\t\tkey: getterName,\n\t\t\tvalue: store[getterName],\n\t\t}));\n\t}\n\tif (store._customProperties.size) {\n\t\tstate.customProperties = Array.from(store._customProperties).map((key) => ({\n\t\t\teditable: true,\n\t\t\tkey,\n\t\t\tvalue: store[key],\n\t\t}));\n\t}\n\treturn state;\n}\nfunction formatEventData(events) {\n\tif (!events)\n\t\treturn {};\n\tif (Array.isArray(events)) {\n\t\t// TODO: handle add and delete for arrays and objects\n\t\treturn events.reduce((data, event) => {\n\t\t\tdata.keys.push(event.key);\n\t\t\tdata.operations.push(event.type);\n\t\t\tdata.oldValue[event.key] = event.oldValue;\n\t\t\tdata.newValue[event.key] = event.newValue;\n\t\t\treturn data;\n\t\t}, {\n\t\t\toldValue: {},\n\t\t\tkeys: [],\n\t\t\toperations: [],\n\t\t\tnewValue: {},\n\t\t});\n\t}\n\telse {\n\t\treturn {\n\t\t\toperation: formatDisplay(events.type),\n\t\t\tkey: formatDisplay(events.key),\n\t\t\toldValue: events.oldValue,\n\t\t\tnewValue: events.newValue,\n\t\t};\n\t}\n}\nfunction formatMutationType(type) {\n\tswitch (type) {\n\t\tcase MutationType.direct:\n\t\t\treturn 'mutation';\n\t\tcase MutationType.patchFunction:\n\t\t\treturn '$patch';\n\t\tcase MutationType.patchObject:\n\t\t\treturn '$patch';\n\t\tdefault:\n\t\t\treturn 'unknown';\n\t}\n}\n\n// timeline can be paused when directly changing the state\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\nconst INSPECTOR_ID = 'pinia';\n/**\n * Gets the displayed name of a store in devtools\n *\n * @param id - id of the store\n * @returns a formatted string\n */\nconst getStoreType = (id) => ':Pinia: ' + id;\n/**\n * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab\n * as soon as it is added to the application.\n *\n * @param app - Vue application\n * @param pinia - pinia instance\n */\nfunction registerPiniaDevtools(app, pinia) {\n\tsetupDevtoolsPlugin({\n\t\tid: 'dev.esm.pinia',\n\t\tlabel: 'Pinia',\n\t\tlogo: 'https://pinia.vuejs.org/logo.svg',\n\t\tpackageName: 'pinia',\n\t\thomepage: 'https://pinia.vuejs.org',\n\t\tcomponentStateTypes,\n\t\tapp,\n\t}, (api) => {\n\t\tif (typeof api.now !== 'function') {\n\t\t\ttoastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n\t\t}\n\t\tapi.addTimelineLayer({\n\t\t\tid: MUTATIONS_LAYER_ID,\n\t\t\tlabel: `Pinia`,\n\t\t\tcolor: 0xe5df88,\n\t\t});\n\t\tapi.addInspector({\n\t\t\tid: INSPECTOR_ID,\n\t\t\tlabel: 'Pinia',\n\t\t\ticon: 'storage',\n\t\t\ttreeFilterPlaceholder: 'Search stores',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\ticon: 'content_copy',\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tactionGlobalCopyState(pinia);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Serialize and copy the state',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'content_paste',\n\t\t\t\t\taction: async () => {\n\t\t\t\t\t\tawait actionGlobalPasteState(pinia);\n\t\t\t\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Replace the state with the content of your clipboard',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'save',\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tactionGlobalSaveState(pinia);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Save the state as a JSON file',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'folder_open',\n\t\t\t\t\taction: async () => {\n\t\t\t\t\t\tawait actionGlobalOpenStateFile(pinia);\n\t\t\t\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Import the state from a JSON file',\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t\tapi.on.inspectComponent((payload, ctx) => {\n\t\t\tconst proxy = (payload.componentInstance &&\n\t\t\t\tpayload.componentInstance.proxy);\n\t\t\tif (proxy && proxy._pStores) {\n\t\t\t\tconst piniaStores = payload.componentInstance.proxy._pStores;\n\t\t\t\tObject.values(piniaStores).forEach((store) => {\n\t\t\t\t\tpayload.instanceData.state.push({\n\t\t\t\t\t\ttype: getStoreType(store.$id),\n\t\t\t\t\t\tkey: 'state',\n\t\t\t\t\t\teditable: true,\n\t\t\t\t\t\tvalue: store._isOptionsAPI\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t_custom: {\n\t\t\t\t\t\t\t\t\tvalue: store.$state,\n\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ticon: 'restore',\n\t\t\t\t\t\t\t\t\t\t\ttooltip: 'Reset the state of this store',\n\t\t\t\t\t\t\t\t\t\t\taction: () => store.$reset(),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: store.$state,\n\t\t\t\t\t});\n\t\t\t\t\tif (store._getters && store._getters.length) {\n\t\t\t\t\t\tpayload.instanceData.state.push({\n\t\t\t\t\t\t\ttype: getStoreType(store.$id),\n\t\t\t\t\t\t\tkey: 'getters',\n\t\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\t\tvalue: store._getters.reduce((getters, key) => {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tgetters[key] = store[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\t\t\t\t// @ts-expect-error: we just want to show it in devtools\n\t\t\t\t\t\t\t\t\tgetters[key] = error;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn getters;\n\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tapi.on.getInspectorTree((payload) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tlet stores = [pinia];\n\t\t\t\tstores = stores.concat(Array.from(pinia._s.values()));\n\t\t\t\tpayload.rootNodes = (payload.filter\n\t\t\t\t\t? stores.filter((store) => '$id' in store\n\t\t\t\t\t\t? store.$id\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(payload.filter.toLowerCase())\n\t\t\t\t\t\t: PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\n\t\t\t\t\t: stores).map(formatStoreForInspectorTree);\n\t\t\t}\n\t\t});\n\t\tapi.on.getInspectorState((payload) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tconst inspectedStore = payload.nodeId === PINIA_ROOT_ID\n\t\t\t\t\t? pinia\n\t\t\t\t\t: pinia._s.get(payload.nodeId);\n\t\t\t\tif (!inspectedStore) {\n\t\t\t\t\t// this could be the selected store restored for a different project\n\t\t\t\t\t// so it's better not to say anything here\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (inspectedStore) {\n\t\t\t\t\tpayload.state = formatStoreForInspectorState(inspectedStore);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tapi.on.editInspectorState((payload, ctx) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tconst inspectedStore = payload.nodeId === PINIA_ROOT_ID\n\t\t\t\t\t? pinia\n\t\t\t\t\t: pinia._s.get(payload.nodeId);\n\t\t\t\tif (!inspectedStore) {\n\t\t\t\t\treturn toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\n\t\t\t\t}\n\t\t\t\tconst { path } = payload;\n\t\t\t\tif (!isPinia(inspectedStore)) {\n\t\t\t\t\t// access only the state\n\t\t\t\t\tif (path.length !== 1 ||\n\t\t\t\t\t\t!inspectedStore._customProperties.has(path[0]) ||\n\t\t\t\t\t\tpath[0] in inspectedStore.$state) {\n\t\t\t\t\t\tpath.unshift('$state');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Root access, we can omit the `.value` because the devtools API does it for us\n\t\t\t\t\tpath.unshift('state');\n\t\t\t\t}\n\t\t\t\tisTimelineActive = false;\n\t\t\t\tpayload.set(inspectedStore, path, payload.state.value);\n\t\t\t\tisTimelineActive = true;\n\t\t\t}\n\t\t});\n\t\tapi.on.editComponentState((payload) => {\n\t\t\tif (payload.type.startsWith(':Pinia:')) {\n\t\t\t\tconst storeId = payload.type.replace(/^:Pinia:\\s*/, '');\n\t\t\t\tconst store = pinia._s.get(storeId);\n\t\t\t\tif (!store) {\n\t\t\t\t\treturn toastMessage(`store \"${storeId}\" not found`, 'error');\n\t\t\t\t}\n\t\t\t\tconst { path } = payload;\n\t\t\t\tif (path[0] !== 'state') {\n\t\t\t\t\treturn toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\n\t\t\t\t}\n\t\t\t\t// rewrite the first entry to be able to directly set the state as\n\t\t\t\t// well as any other path\n\t\t\t\tpath[0] = '$state';\n\t\t\t\tisTimelineActive = false;\n\t\t\t\tpayload.set(store, path, payload.state.value);\n\t\t\t\tisTimelineActive = true;\n\t\t\t}\n\t\t});\n\t});\n}\nfunction addStoreToDevtools(app, store) {\n\tif (!componentStateTypes.includes(getStoreType(store.$id))) {\n\t\tcomponentStateTypes.push(getStoreType(store.$id));\n\t}\n\tsetupDevtoolsPlugin({\n\t\tid: 'dev.esm.pinia',\n\t\tlabel: 'Pinia',\n\t\tlogo: 'https://pinia.vuejs.org/logo.svg',\n\t\tpackageName: 'pinia',\n\t\thomepage: 'https://pinia.vuejs.org',\n\t\tcomponentStateTypes,\n\t\tapp,\n\t\tsettings: {\n\t\t\tlogStoreChanges: {\n\t\t\t\tlabel: 'Notify about new/deleted stores',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefaultValue: true,\n\t\t\t},\n\t\t\t// useEmojis: {\n\t\t\t//   label: 'Use emojis in messages',\n\t\t\t//   type: 'boolean',\n\t\t\t//   defaultValue: true,\n\t\t\t// },\n\t\t},\n\t}, (api) => {\n\t\t// gracefully handle errors\n\t\tconst now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;\n\t\tstore.$onAction(({ after, onError, name, args }) => {\n\t\t\tconst groupId = runningActionId++;\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: {\n\t\t\t\t\ttime: now(),\n\t\t\t\t\ttitle: 'Start ' + name,\n\t\t\t\t\tsubtitle: 'start',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\targs,\n\t\t\t\t\t},\n\t\t\t\t\tgroupId,\n\t\t\t\t},\n\t\t\t});\n\t\t\tafter((result) => {\n\t\t\t\tactiveAction = undefined;\n\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\ttitle: 'End ' + name,\n\t\t\t\t\t\tsubtitle: 'end',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\tresult,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t\tonError((error) => {\n\t\t\t\tactiveAction = undefined;\n\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\tlogType: 'error',\n\t\t\t\t\t\ttitle: 'Error ' + name,\n\t\t\t\t\t\tsubtitle: 'end',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t}, true);\n\t\tstore._customProperties.forEach((name) => {\n\t\t\twatch(() => unref(store[name]), (newValue, oldValue) => {\n\t\t\t\tapi.notifyComponentUpdate();\n\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\tif (isTimelineActive) {\n\t\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\t\ttitle: 'Change',\n\t\t\t\t\t\t\tsubtitle: name,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tnewValue,\n\t\t\t\t\t\t\t\toldValue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgroupId: activeAction,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, { deep: true });\n\t\t});\n\t\tstore.$subscribe(({ events, type }, state) => {\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\tif (!isTimelineActive)\n\t\t\t\treturn;\n\t\t\t// rootStore.state[store.id] = state\n\t\t\tconst eventData = {\n\t\t\t\ttime: now(),\n\t\t\t\ttitle: formatMutationType(type),\n\t\t\t\tdata: {\n\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t...formatEventData(events),\n\t\t\t\t},\n\t\t\t\tgroupId: activeAction,\n\t\t\t};\n\t\t\t// reset for the next mutation\n\t\t\tactiveAction = undefined;\n\t\t\tif (type === MutationType.patchFunction) {\n\t\t\t\teventData.subtitle = 'Down';\n\t\t\t}\n\t\t\telse if (type === MutationType.patchObject) {\n\t\t\t\teventData.subtitle = 'Patch';\n\t\t\t}\n\t\t\telse if (events && !Array.isArray(events)) {\n\t\t\t\teventData.subtitle = events.type;\n\t\t\t}\n\t\t\tif (events) {\n\t\t\t\teventData.data['rawEvent(s)'] = {\n\t\t\t\t\t_custom: {\n\t\t\t\t\t\tdisplay: 'DebuggerEvent',\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\ttooltip: 'raw DebuggerEvent[]',\n\t\t\t\t\t\tvalue: events,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: eventData,\n\t\t\t});\n\t\t}, { detached: true, flush: 'sync' });\n\t\tconst hotUpdate = store._hotUpdate;\n\t\tstore._hotUpdate = markRaw((newStore) => {\n\t\t\thotUpdate(newStore);\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: {\n\t\t\t\t\ttime: now(),\n\t\t\t\t\ttitle: 'Hot update ' + store.$id,\n\t\t\t\t\tsubtitle: 'HMR update',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\tinfo: formatDisplay(`HMR update`),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\t// update the devtools too\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t});\n\t\tconst { $dispose } = store;\n\t\tstore.$dispose = () => {\n\t\t\t$dispose();\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\tapi.getSettings().logStoreChanges &&\n\t\t\ttoastMessage(`Disposed \"${store.$id}\" store`);\n\t\t};\n\t\t// trigger an update so it can display new registered stores\n\t\tapi.notifyComponentUpdate();\n\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\tapi.getSettings().logStoreChanges &&\n\t\ttoastMessage(`\"${store.$id}\" store installed`);\n\t});\n}\nlet runningActionId = 0;\nlet activeAction;\n/**\n * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the\n * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state\n * mutation to the action.\n *\n * @param store - store to patch\n * @param actionNames - list of actionst to patch\n */\nfunction patchActionForGrouping(store, actionNames) {\n\t// original actions of the store as they are given by pinia. We are going to override them\n\tconst actions = actionNames.reduce((storeActions, actionName) => {\n\t\t// use toRaw to avoid tracking #541\n\t\tstoreActions[actionName] = toRaw(store)[actionName];\n\t\treturn storeActions;\n\t}, {});\n\tfor (const actionName in actions) {\n\t\tstore[actionName] = function () {\n\t\t\t// setActivePinia(store._p)\n\t\t\t// the running action id is incremented in a before action hook\n\t\t\tconst _actionId = runningActionId;\n\t\t\tconst trackedStore = new Proxy(store, {\n\t\t\t\tget(...args) {\n\t\t\t\t\tactiveAction = _actionId;\n\t\t\t\t\treturn Reflect.get(...args);\n\t\t\t\t},\n\t\t\t\tset(...args) {\n\t\t\t\t\tactiveAction = _actionId;\n\t\t\t\t\treturn Reflect.set(...args);\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn actions[actionName].apply(trackedStore, arguments);\n\t\t};\n\t}\n}\n/**\n * pinia.use(devtoolsPlugin)\n */\nfunction devtoolsPlugin({ app, store, options }) {\n\t// HMR module\n\tif (store.$id.startsWith('__hot:')) {\n\t\treturn;\n\t}\n\t// detect option api vs setup api\n\tif (options.state) {\n\t\tstore._isOptionsAPI = true;\n\t}\n\t// only wrap actions in option-defined stores as this technique relies on\n\t// wrapping the context of the action with a proxy\n\tif (typeof options.state === 'function') {\n\t\tpatchActionForGrouping(\n\t\t\t// @ts-expect-error: can cast the store...\n\t\t\tstore, Object.keys(options.actions));\n\t\tconst originalHotUpdate = store._hotUpdate;\n\t\t// Upgrade the HMR to also update the new actions\n\t\ttoRaw(store)._hotUpdate = function (newStore) {\n\t\t\toriginalHotUpdate.apply(this, arguments);\n\t\t\tpatchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions));\n\t\t};\n\t}\n\taddStoreToDevtools(app,\n\t\t// FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n\t\tstore);\n}\n\n/**\n * Creates a Pinia instance to be used by the application\n */\nfunction createPinia() {\n\tconst scope = effectScope(true);\n\t// NOTE: here we could check the window object for a state and directly set it\n\t// if there is anything like it with Vue 3 SSR\n\tconst state = scope.run(() => ref({}));\n\tlet _p = [];\n\t// plugins added before calling app.use(pinia)\n\tlet toBeInstalled = [];\n\tconst pinia = markRaw({\n\t\tinstall(app) {\n\t\t\t// this allows calling useStore() outside of a component setup after\n\t\t\t// installing pinia's plugin\n\t\t\tsetActivePinia(pinia);\n\t\t\tif (!isVue2) {\n\t\t\t\tpinia._a = app;\n\t\t\t\tapp.provide(piniaSymbol, pinia);\n\t\t\t\tapp.config.globalProperties.$pinia = pinia;\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif ((environmentMode !== 'production') && IS_CLIENT) {\n\t\t\t\t\tregisterPiniaDevtools(app, pinia);\n\t\t\t\t}\n\t\t\t\ttoBeInstalled.forEach((plugin) => _p.push(plugin));\n\t\t\t\ttoBeInstalled = [];\n\t\t\t}\n\t\t},\n\t\tuse(plugin) {\n\t\t\tif (!this._a && !isVue2) {\n\t\t\t\ttoBeInstalled.push(plugin);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_p.push(plugin);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t_p,\n\t\t// it's actually undefined here\n\t\t// @ts-expect-error\n\t\t_a: null,\n\t\t_e: scope,\n\t\t_s: new Map(),\n\t\tstate,\n\t});\n\t// pinia devtools rely on dev only features so they cannot be forced unless\n\t// the dev build of Vue is used\n\t// We also don't need devtools in test mode\n\tif ((environmentMode !== 'production') && IS_CLIENT && !(environmentMode === 'test')) {\n\t\tpinia.use(devtoolsPlugin);\n\t}\n\treturn pinia;\n}\n\n/**\n * Checks if a function is a `StoreDefinition`.\n *\n * @param fn - object to test\n * @returns true if `fn` is a StoreDefinition\n */\nconst isUseStore = (fn) => {\n\treturn typeof fn === 'function' && typeof fn.$id === 'string';\n};\n/**\n * Mutates in place `newState` with `oldState` to _hot update_ it. It will\n * remove any key not existing in `newState` and recursively merge plain\n * objects.\n *\n * @param newState - new state object to be patched\n * @param oldState - old state that should be used to patch newState\n * @returns - newState\n */\nfunction patchObject(newState, oldState) {\n\t// no need to go through symbols because they cannot be serialized anyway\n\tfor (const key in oldState) {\n\t\tconst subPatch = oldState[key];\n\t\t// skip the whole sub tree\n\t\tif (!(key in newState)) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst targetValue = newState[key];\n\t\tif (isPlainObject(targetValue) &&\n\t\t\tisPlainObject(subPatch) &&\n\t\t\t!isRef(subPatch) &&\n\t\t\t!isReactive(subPatch)) {\n\t\t\tnewState[key] = patchObject(targetValue, subPatch);\n\t\t}\n\t\telse {\n\t\t\t// objects are either a bit more complex (e.g. refs) or primitives, so we\n\t\t\t// just set the whole thing\n\t\t\tif (isVue2) {\n\t\t\t\tset(newState, key, subPatch);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnewState[key] = subPatch;\n\t\t\t}\n\t\t}\n\t}\n\treturn newState;\n}\n/**\n * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.\n *\n * @example\n * ```js\n * const useUser = defineStore(...)\n * if (import.meta.hot) {\n *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))\n * }\n * ```\n *\n * @param initialUseStore - return of the defineStore to hot update\n * @param hot - `import.meta.hot`\n */\nfunction acceptHMRUpdate(initialUseStore, hot) {\n\treturn (newModule) => {\n\t\tconst pinia = hot.data.pinia || initialUseStore._pinia;\n\t\tif (!pinia) {\n\t\t\t// this store is still not used\n\t\t\treturn;\n\t\t}\n\t\t// preserve the pinia instance across loads\n\t\thot.data.pinia = pinia;\n\t\t// console.log('got data', newStore)\n\t\tfor (const exportName in newModule) {\n\t\t\tconst useStore = newModule[exportName];\n\t\t\t// console.log('checking for', exportName)\n\t\t\tif (isUseStore(useStore) && pinia._s.has(useStore.$id)) {\n\t\t\t\t// console.log('Accepting update for', useStore.$id)\n\t\t\t\tconst id = useStore.$id;\n\t\t\t\tif (id !== initialUseStore.$id) {\n\t\t\t\t\tconsole.warn(`The id of the store changed from \"${initialUseStore.$id}\" to \"${id}\". Reloading.`);\n\t\t\t\t\t// return import.meta.hot.invalidate()\n\t\t\t\t\treturn hot.invalidate();\n\t\t\t\t}\n\t\t\t\tconst existingStore = pinia._s.get(id);\n\t\t\t\tif (!existingStore) {\n\t\t\t\t\tconsole.log(`[Pinia]: skipping hmr because store doesn't exist yet`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tuseStore(pinia, existingStore);\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst noop = () => { };\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop) {\n\tsubscriptions.push(callback);\n\tconst removeSubscription = () => {\n\t\tconst idx = subscriptions.indexOf(callback);\n\t\tif (idx > -1) {\n\t\t\tsubscriptions.splice(idx, 1);\n\t\t\tonCleanup();\n\t\t}\n\t};\n\tif (!detached && getCurrentInstance()) {\n\t\tonUnmounted(removeSubscription);\n\t}\n\treturn removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n\tsubscriptions.slice().forEach((callback) => {\n\t\tcallback(...args);\n\t});\n}\n\nfunction mergeReactiveObjects(target, patchToApply) {\n\t// no need to go through symbols because they cannot be serialized anyway\n\tfor (const key in patchToApply) {\n\t\tif (!patchToApply.hasOwnProperty(key))\n\t\t\tcontinue;\n\t\tconst subPatch = patchToApply[key];\n\t\tconst targetValue = target[key];\n\t\tif (isPlainObject(targetValue) &&\n\t\t\tisPlainObject(subPatch) &&\n\t\t\ttarget.hasOwnProperty(key) &&\n\t\t\t!isRef(subPatch) &&\n\t\t\t!isReactive(subPatch)) {\n\t\t\ttarget[key] = mergeReactiveObjects(targetValue, subPatch);\n\t\t}\n\t\telse {\n\t\t\t// @ts-expect-error: subPatch is a valid value\n\t\t\ttarget[key] = subPatch;\n\t\t}\n\t}\n\treturn target;\n}\nconst skipHydrateSymbol = (environmentMode !== 'production')\n\t? Symbol('pinia:skipHydration')\n\t: /* istanbul ignore next */ Symbol();\nconst skipHydrateMap = /*#__PURE__*/ new WeakMap();\n/**\n * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a\n * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.\n *\n * @param obj - target object\n * @returns obj\n */\nfunction skipHydrate(obj) {\n\treturn isVue2\n\t\t? // in @vue/composition-api, the refs are sealed so defineProperty doesn't work...\n\t\t/* istanbul ignore next */ skipHydrateMap.set(obj, 1) && obj\n\t\t: Object.defineProperty(obj, skipHydrateSymbol, {});\n}\nfunction shouldHydrate(obj) {\n\treturn isVue2\n\t\t? /* istanbul ignore next */ !skipHydrateMap.has(obj)\n\t\t: !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);\n}\nconst { assign } = Object;\nfunction isComputed(o) {\n\treturn !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia, hot) {\n\tconst { state, actions, getters } = options;\n\tconst initialState = pinia.state.value[id];\n\tlet store;\n\tfunction setup() {\n\t\tif (!initialState && (!(environmentMode !== 'production') || !hot)) {\n\t\t\t/* istanbul ignore if */\n\t\t\tif (isVue2) {\n\t\t\t\tset(pinia.state.value, id, state ? state() : {});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpinia.state.value[id] = state ? state() : {};\n\t\t\t}\n\t\t}\n\t\t// avoid creating a state in pinia.state.value\n\t\tconst localState = (environmentMode !== 'production') && hot\n\t\t\t? // use ref() to unwrap refs inside state TODO: check if this is still necessary\n\t\t\ttoRefs(ref(state ? state() : {}).value)\n\t\t\t: toRefs(pinia.state.value[id]);\n\t\treturn assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n\t\t\tif ((environmentMode !== 'production') && name in localState) {\n\t\t\t\tconsole.warn(`[Pinia]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n\t\t\t}\n\t\t\tcomputedGetters[name] = markRaw(computed(() => {\n\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t// it was created just before\n\t\t\t\tconst store = pinia._s.get(id);\n\t\t\t\t// allow cross using stores\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (isVue2 && !store._r)\n\t\t\t\t\treturn;\n\t\t\t\t// @ts-expect-error\n\t\t\t\t// return getters![name].call(context, context)\n\t\t\t\t// TODO: avoid reading the getter while assigning with a global variable\n\t\t\t\treturn getters[name].call(store, store);\n\t\t\t}));\n\t\t\treturn computedGetters;\n\t\t}, {}));\n\t}\n\tstore = createSetupStore(id, setup, options, pinia, hot, true);\n\tstore.$reset = function $reset() {\n\t\tconst newState = state ? state() : {};\n\t\t// we use a patch to group all changes into one single subscription\n\t\tthis.$patch(($state) => {\n\t\t\tassign($state, newState);\n\t\t});\n\t};\n\treturn store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {\n\tlet scope;\n\tconst optionsForPlugin = assign({ actions: {} }, options);\n\t/* istanbul ignore if */\n\t// @ts-expect-error: active is an internal property\n\tif ((environmentMode !== 'production') && !pinia._e.active) {\n\t\tthrow new Error('Pinia destroyed');\n\t}\n\t// watcher options for $subscribe\n\tconst $subscribeOptions = {\n\t\tdeep: true,\n\t\t// flush: 'post',\n\t};\n\t/* istanbul ignore else */\n\tif ((environmentMode !== 'production') && !isVue2) {\n\t\t$subscribeOptions.onTrigger = (event) => {\n\t\t\t/* istanbul ignore else */\n\t\t\tif (isListening) {\n\t\t\t\tdebuggerEvents = event;\n\t\t\t\t// avoid triggering this while the store is being built and the state is being set in pinia\n\t\t\t}\n\t\t\telse if (isListening == false && !store._hotUpdating) {\n\t\t\t\t// let patch send all the events together later\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (Array.isArray(debuggerEvents)) {\n\t\t\t\t\tdebuggerEvents.push(event);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.error('Pinia: debuggerEvents should be an array. This is most likely an internal Pinia bug.');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t// internal state\n\tlet isListening; // set to true at the end\n\tlet isSyncListening; // set to true at the end\n\tlet subscriptions = markRaw([]);\n\tlet actionSubscriptions = markRaw([]);\n\tlet debuggerEvents;\n\tconst initialState = pinia.state.value[$id];\n\t// avoid setting the state for option stores if it is set\n\t// by the setup\n\tif (!isOptionsStore && !initialState && (!(environmentMode !== 'production') || !hot)) {\n\t\t/* istanbul ignore if */\n\t\tif (isVue2) {\n\t\t\tset(pinia.state.value, $id, {});\n\t\t}\n\t\telse {\n\t\t\tpinia.state.value[$id] = {};\n\t\t}\n\t}\n\tconst hotState = ref({});\n\t// avoid triggering too many listeners\n\t// https://github.com/vuejs/pinia/issues/1129\n\tlet activeListener;\n\tfunction $patch(partialStateOrMutator) {\n\t\tlet subscriptionMutation;\n\t\tisListening = isSyncListening = false;\n\t\t// reset the debugger events since patches are sync\n\t\t/* istanbul ignore else */\n\t\tif ((environmentMode !== 'production')) {\n\t\t\tdebuggerEvents = [];\n\t\t}\n\t\tif (typeof partialStateOrMutator === 'function') {\n\t\t\tpartialStateOrMutator(pinia.state.value[$id]);\n\t\t\tsubscriptionMutation = {\n\t\t\t\ttype: MutationType.patchFunction,\n\t\t\t\tstoreId: $id,\n\t\t\t\tevents: debuggerEvents,\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tmergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);\n\t\t\tsubscriptionMutation = {\n\t\t\t\ttype: MutationType.patchObject,\n\t\t\t\tpayload: partialStateOrMutator,\n\t\t\t\tstoreId: $id,\n\t\t\t\tevents: debuggerEvents,\n\t\t\t};\n\t\t}\n\t\tconst myListenerId = (activeListener = Symbol());\n\t\tnextTick().then(() => {\n\t\t\tif (activeListener === myListenerId) {\n\t\t\t\tisListening = true;\n\t\t\t}\n\t\t});\n\t\tisSyncListening = true;\n\t\t// because we paused the watcher, we need to manually call the subscriptions\n\t\ttriggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);\n\t}\n\t/* istanbul ignore next */\n\tconst $reset = (environmentMode !== 'production')\n\t\t? () => {\n\t\t\tthrow new Error(`Pinia: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n\t\t}\n\t\t: noop;\n\tfunction $dispose() {\n\t\tscope.stop();\n\t\tsubscriptions = [];\n\t\tactionSubscriptions = [];\n\t\tpinia._s.delete($id);\n\t}\n\t/**\n\t * Wraps an action to handle subscriptions.\n\t *\n\t * @param name - name of the action\n\t * @param action - action to wrap\n\t * @returns a wrapped action to handle subscriptions\n\t */\n\tfunction wrapAction(name, action) {\n\t\treturn function () {\n\t\t\tsetActivePinia(pinia);\n\t\t\tconst args = Array.from(arguments);\n\t\t\tconst afterCallbackList = [];\n\t\t\tconst onErrorCallbackList = [];\n\t\t\tfunction after(callback) {\n\t\t\t\tafterCallbackList.push(callback);\n\t\t\t}\n\t\t\tfunction onError(callback) {\n\t\t\t\tonErrorCallbackList.push(callback);\n\t\t\t}\n\t\t\t// @ts-expect-error\n\t\t\ttriggerSubscriptions(actionSubscriptions, {\n\t\t\t\targs,\n\t\t\t\tname,\n\t\t\t\tstore,\n\t\t\t\tafter,\n\t\t\t\tonError,\n\t\t\t});\n\t\t\tlet ret;\n\t\t\ttry {\n\t\t\t\tret = action.apply(this && this.$id === $id ? this : store, args);\n\t\t\t\t// handle sync errors\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\ttriggerSubscriptions(onErrorCallbackList, error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t\tif (ret instanceof Promise) {\n\t\t\t\treturn ret\n\t\t\t\t\t.then((value) => {\n\t\t\t\t\t\ttriggerSubscriptions(afterCallbackList, value);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\ttriggerSubscriptions(onErrorCallbackList, error);\n\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// allow the afterCallback to override the return value\n\t\t\ttriggerSubscriptions(afterCallbackList, ret);\n\t\t\treturn ret;\n\t\t};\n\t}\n\tconst _hmrPayload = /*#__PURE__*/ markRaw({\n\t\tactions: {},\n\t\tgetters: {},\n\t\tstate: [],\n\t\thotState,\n\t});\n\tconst partialStore = {\n\t\t_p: pinia,\n\t\t// _s: scope,\n\t\t$id,\n\t\t$onAction: addSubscription.bind(null, actionSubscriptions),\n\t\t$patch,\n\t\t$reset,\n\t\t$subscribe(callback, options = {}) {\n\t\t\tconst removeSubscription = addSubscription(subscriptions, callback, options.detached, () => stopWatcher());\n\t\t\tconst stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {\n\t\t\t\tif (options.flush === 'sync' ? isSyncListening : isListening) {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tstoreId: $id,\n\t\t\t\t\t\ttype: MutationType.direct,\n\t\t\t\t\t\tevents: debuggerEvents,\n\t\t\t\t\t}, state);\n\t\t\t\t}\n\t\t\t}, assign({}, $subscribeOptions, options)));\n\t\t\treturn removeSubscription;\n\t\t},\n\t\t$dispose,\n\t};\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\t// start as non ready\n\t\tpartialStore._r = false;\n\t}\n\tconst store = reactive(assign((environmentMode !== 'production') && IS_CLIENT\n\t\t\t? // devtools custom properties\n\t\t\t{\n\t\t\t\t_customProperties: markRaw(new Set()),\n\t\t\t\t_hmrPayload,\n\t\t\t}\n\t\t\t: {}, partialStore\n\t\t// must be added later\n\t\t// setupStore\n\t));\n\t// store the partial store now so the setup of stores can instantiate each other before they are finished without\n\t// creating infinite loops.\n\tpinia._s.set($id, store);\n\t// TODO: idea create skipSerialize that marks properties as non serializable and they are skipped\n\tconst setupStore = pinia._e.run(() => {\n\t\tscope = effectScope();\n\t\treturn scope.run(() => setup());\n\t});\n\t// overwrite existing actions to support $onAction\n\tfor (const key in setupStore) {\n\t\tconst prop = setupStore[key];\n\t\tif ((isRef(prop) && !isComputed(prop)) || isReactive(prop)) {\n\t\t\t// mark it as a piece of state to be serialized\n\t\t\tif ((environmentMode !== 'production') && hot) {\n\t\t\t\tset(hotState.value, key, toRef(setupStore, key));\n\t\t\t\t// createOptionStore directly sets the state in pinia.state.value so we\n\t\t\t\t// can just skip that\n\t\t\t}\n\t\t\telse if (!isOptionsStore) {\n\t\t\t\t// in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created\n\t\t\t\tif (initialState && shouldHydrate(prop)) {\n\t\t\t\t\tif (isRef(prop)) {\n\t\t\t\t\t\tprop.value = initialState[key];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// probably a reactive object, lets recursively assign\n\t\t\t\t\t\tmergeReactiveObjects(prop, initialState[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// transfer the ref to the pinia state to keep everything in sync\n\t\t\t\t/* istanbul ignore if */\n\t\t\t\tif (isVue2) {\n\t\t\t\t\tset(pinia.state.value[$id], key, prop);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpinia.state.value[$id][key] = prop;\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\tif ((environmentMode !== 'production')) {\n\t\t\t\t_hmrPayload.state.push(key);\n\t\t\t}\n\t\t\t// action\n\t\t}\n\t\telse if (typeof prop === 'function') {\n\t\t\t// @ts-expect-error: we are overriding the function we avoid wrapping if\n\t\t\tconst actionValue = (environmentMode !== 'production') && hot ? prop : wrapAction(key, prop);\n\t\t\t// this a hot module replacement store because the hotUpdate method needs\n\t\t\t// to do it with the right context\n\t\t\t/* istanbul ignore if */\n\t\t\tif (isVue2) {\n\t\t\t\tset(setupStore, key, actionValue);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tsetupStore[key] = actionValue;\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\tif ((environmentMode !== 'production')) {\n\t\t\t\t_hmrPayload.actions[key] = prop;\n\t\t\t}\n\t\t\t// list actions so they can be used in plugins\n\t\t\t// @ts-expect-error\n\t\t\toptionsForPlugin.actions[key] = prop;\n\t\t}\n\t\telse if ((environmentMode !== 'production')) {\n\t\t\t// add getters for devtools\n\t\t\tif (isComputed(prop)) {\n\t\t\t\t_hmrPayload.getters[key] = isOptionsStore\n\t\t\t\t\t? // @ts-expect-error\n\t\t\t\t\toptions.getters[key]\n\t\t\t\t\t: prop;\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\tconst getters =\n\t\t\t\t\t\t// @ts-expect-error: it should be on the store\n\t\t\t\t\t\tsetupStore._getters || (setupStore._getters = markRaw([]));\n\t\t\t\t\tgetters.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// add the state, getters, and action properties\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\tObject.keys(setupStore).forEach((key) => {\n\t\t\tset(store, key,\n\t\t\t\t// @ts-expect-error: valid key indexing\n\t\t\t\tsetupStore[key]);\n\t\t});\n\t}\n\telse {\n\t\tassign(store, setupStore);\n\t\t// allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.\n\t\t// Make `storeToRefs()` work with `reactive()` #799\n\t\tassign(toRaw(store), setupStore);\n\t}\n\t// use this instead of a computed with setter to be able to create it anywhere\n\t// without linking the computed lifespan to wherever the store is first\n\t// created.\n\tObject.defineProperty(store, '$state', {\n\t\tget: () => ((environmentMode !== 'production') && hot ? hotState.value : pinia.state.value[$id]),\n\t\tset: (state) => {\n\t\t\t/* istanbul ignore if */\n\t\t\tif ((environmentMode !== 'production') && hot) {\n\t\t\t\tthrow new Error('cannot set hotState');\n\t\t\t}\n\t\t\t$patch(($state) => {\n\t\t\t\tassign($state, state);\n\t\t\t});\n\t\t},\n\t});\n\t// add the hotUpdate before plugins to allow them to override it\n\t/* istanbul ignore else */\n\tif ((environmentMode !== 'production')) {\n\t\tstore._hotUpdate = markRaw((newStore) => {\n\t\t\tstore._hotUpdating = true;\n\t\t\tnewStore._hmrPayload.state.forEach((stateKey) => {\n\t\t\t\tif (stateKey in store.$state) {\n\t\t\t\t\tconst newStateTarget = newStore.$state[stateKey];\n\t\t\t\t\tconst oldStateSource = store.$state[stateKey];\n\t\t\t\t\tif (typeof newStateTarget === 'object' &&\n\t\t\t\t\t\tisPlainObject(newStateTarget) &&\n\t\t\t\t\t\tisPlainObject(oldStateSource)) {\n\t\t\t\t\t\tpatchObject(newStateTarget, oldStateSource);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// transfer the ref\n\t\t\t\t\t\tnewStore.$state[stateKey] = oldStateSource;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// patch direct access properties to allow store.stateProperty to work as\n\t\t\t\t// store.$state.stateProperty\n\t\t\t\tset(store, stateKey, toRef(newStore.$state, stateKey));\n\t\t\t});\n\t\t\t// remove deleted state properties\n\t\t\tObject.keys(store.$state).forEach((stateKey) => {\n\t\t\t\tif (!(stateKey in newStore.$state)) {\n\t\t\t\t\tdel(store, stateKey);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// avoid devtools logging this as a mutation\n\t\t\tisListening = false;\n\t\t\tisSyncListening = false;\n\t\t\tpinia.state.value[$id] = toRef(newStore._hmrPayload, 'hotState');\n\t\t\tisSyncListening = true;\n\t\t\tnextTick().then(() => {\n\t\t\t\tisListening = true;\n\t\t\t});\n\t\t\tfor (const actionName in newStore._hmrPayload.actions) {\n\t\t\t\tconst action = newStore[actionName];\n\t\t\t\tset(store, actionName, wrapAction(actionName, action));\n\t\t\t}\n\t\t\t// TODO: does this work in both setup and option store?\n\t\t\tfor (const getterName in newStore._hmrPayload.getters) {\n\t\t\t\tconst getter = newStore._hmrPayload.getters[getterName];\n\t\t\t\tconst getterValue = isOptionsStore\n\t\t\t\t\t? // special handling of options api\n\t\t\t\t\tcomputed(() => {\n\t\t\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t\t\treturn getter.call(store, store);\n\t\t\t\t\t})\n\t\t\t\t\t: getter;\n\t\t\t\tset(store, getterName, getterValue);\n\t\t\t}\n\t\t\t// remove deleted getters\n\t\t\tObject.keys(store._hmrPayload.getters).forEach((key) => {\n\t\t\t\tif (!(key in newStore._hmrPayload.getters)) {\n\t\t\t\t\tdel(store, key);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// remove old actions\n\t\t\tObject.keys(store._hmrPayload.actions).forEach((key) => {\n\t\t\t\tif (!(key in newStore._hmrPayload.actions)) {\n\t\t\t\t\tdel(store, key);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// update the values used in devtools and to allow deleting new properties later on\n\t\t\tstore._hmrPayload = newStore._hmrPayload;\n\t\t\tstore._getters = newStore._getters;\n\t\t\tstore._hotUpdating = false;\n\t\t});\n\t\tconst nonEnumerable = {\n\t\t\twritable: true,\n\t\t\tconfigurable: true,\n\t\t\t// avoid warning on devtools trying to display this property\n\t\t\tenumerable: false,\n\t\t};\n\t\tif (IS_CLIENT) {\n\t\t\t['_p', '_hmrPayload', '_getters', '_customProperties'].forEach((p) => {\n\t\t\t\tObject.defineProperty(store, p, {\n\t\t\t\t\tvalue: store[p],\n\t\t\t\t\t...nonEnumerable,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\t// mark the store as ready before plugins\n\t\tstore._r = true;\n\t}\n\t// apply all plugins\n\tpinia._p.forEach((extender) => {\n\t\t/* istanbul ignore else */\n\t\tif ((environmentMode !== 'production') && IS_CLIENT) {\n\t\t\tconst extensions = scope.run(() => extender({\n\t\t\t\tstore,\n\t\t\t\tapp: pinia._a,\n\t\t\t\tpinia,\n\t\t\t\toptions: optionsForPlugin,\n\t\t\t}));\n\t\t\tObject.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n\t\t\tassign(store, extensions);\n\t\t}\n\t\telse {\n\t\t\tassign(store, scope.run(() => extender({\n\t\t\t\tstore,\n\t\t\t\tapp: pinia._a,\n\t\t\t\tpinia,\n\t\t\t\toptions: optionsForPlugin,\n\t\t\t})));\n\t\t}\n\t});\n\tif ((environmentMode !== 'production') &&\n\t\tstore.$state &&\n\t\ttypeof store.$state === 'object' &&\n\t\ttypeof store.$state.constructor === 'function' &&\n\t\t!store.$state.constructor.toString().includes('[native code]')) {\n\t\tconsole.warn(`[Pinia]: The \"state\" must be a plain object. It cannot be\\n` +\n\t\t\t`\\tstate: () => new MyClass()\\n` +\n\t\t\t`Found in store \"${store.$id}\".`);\n\t}\n\t// only apply hydrate to option stores with an initial state in pinia\n\tif (initialState &&\n\t\tisOptionsStore &&\n\t\toptions.hydrate) {\n\t\toptions.hydrate(store.$state, initialState);\n\t}\n\tisListening = true;\n\tisSyncListening = true;\n\treturn store;\n}\nfunction defineStore(\n// TODO: add proper types from above\nidOrOptions, setup, setupOptions) {\n\tlet id;\n\tlet options;\n\tconst isSetupStore = typeof setup === 'function';\n\tif (typeof idOrOptions === 'string') {\n\t\tid = idOrOptions;\n\t\t// the option store setup will contain the actual options in this case\n\t\toptions = isSetupStore ? setupOptions : setup;\n\t}\n\telse {\n\t\toptions = idOrOptions;\n\t\tid = idOrOptions.id;\n\t}\n\tfunction useStore(pinia, hot) {\n\t\tconst currentInstance = getCurrentInstance();\n\t\tpinia =\n\t\t\t// in test mode, ignore the argument provided as we can always retrieve a\n\t\t\t// pinia instance with getActivePinia()\n\t\t\t((environmentMode === 'test') && activePinia && activePinia._testing ? null : pinia) ||\n\t\t\t(currentInstance && inject(piniaSymbol));\n\t\tif (pinia)\n\t\t\tsetActivePinia(pinia);\n\t\tif ((environmentMode !== 'production') && !activePinia) {\n\t\t\tthrow new Error(`[Pinia]: getActivePinia was called with no active Pinia. Did you forget to install pinia?\\n` +\n\t\t\t\t`\\tconst pinia = createPinia()\\n` +\n\t\t\t\t`\\tapp.use(pinia)\\n` +\n\t\t\t\t`This will fail in production.`);\n\t\t}\n\t\tpinia = activePinia;\n\t\tif (!pinia._s.has(id)) {\n\t\t\t// creating the store registers it in `pinia._s`\n\t\t\tif (isSetupStore) {\n\t\t\t\tcreateSetupStore(id, setup, options, pinia);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcreateOptionsStore(id, options, pinia);\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\tif ((environmentMode !== 'production')) {\n\t\t\t\t// @ts-expect-error: not the right inferred type\n\t\t\t\tuseStore._pinia = pinia;\n\t\t\t}\n\t\t}\n\t\tconst store = pinia._s.get(id);\n\t\tif ((environmentMode !== 'production') && hot) {\n\t\t\tconst hotId = '__hot:' + id;\n\t\t\tconst newStore = isSetupStore\n\t\t\t\t? createSetupStore(hotId, setup, options, pinia, true)\n\t\t\t\t: createOptionsStore(hotId, assign({}, options), pinia, true);\n\t\t\thot._hotUpdate(newStore);\n\t\t\t// cleanup the state properties and the store from the cache\n\t\t\tdelete pinia.state.value[hotId];\n\t\t\tpinia._s.delete(hotId);\n\t\t}\n\t\t// save stores in instances to access them devtools\n\t\tif ((environmentMode !== 'production') &&\n\t\t\tIS_CLIENT &&\n\t\t\tcurrentInstance &&\n\t\t\tcurrentInstance.proxy &&\n\t\t\t// avoid adding stores that are just built for hot module replacement\n\t\t\t!hot) {\n\t\t\tconst vm = currentInstance.proxy;\n\t\t\tconst cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\n\t\t\tcache[id] = store;\n\t\t}\n\t\t// StoreGeneric cannot be casted towards Store\n\t\treturn store;\n\t}\n\tuseStore.$id = id;\n\treturn useStore;\n}\n\nlet mapStoreSuffix = 'Store';\n/**\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\n * interface if you are using TypeScript.\n *\n * @param suffix - new suffix\n */\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\n) {\n\tmapStoreSuffix = suffix;\n}\n/**\n * Allows using stores without the composition API (`setup()`) by generating an\n * object to be spread in the `computed` field of a component. It accepts a list\n * of store definitions.\n *\n * @example\n * ```js\n * export default {\n *   computed: {\n *     // other computed properties\n *     ...mapStores(useUserStore, useCartStore)\n *   },\n *\n *   created() {\n *     this.userStore // store with id \"user\"\n *     this.cartStore // store with id \"cart\"\n *   }\n * }\n * ```\n *\n * @param stores - list of stores to map to an object\n */\nfunction mapStores(...stores) {\n\tif ((environmentMode !== 'production') && Array.isArray(stores[0])) {\n\t\tconsole.warn(`[Pinia]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\n\t\t\t`Replace\\n` +\n\t\t\t`\\tmapStores([useAuthStore, useCartStore])\\n` +\n\t\t\t`with\\n` +\n\t\t\t`\\tmapStores(useAuthStore, useCartStore)\\n` +\n\t\t\t`This will fail in production if not fixed.`);\n\t\tstores = stores[0];\n\t}\n\treturn stores.reduce((reduced, useStore) => {\n\t\t// @ts-expect-error: $id is added by defineStore\n\t\treduced[useStore.$id + mapStoreSuffix] = function () {\n\t\t\treturn useStore(this.$pinia);\n\t\t};\n\t\treturn reduced;\n\t}, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapState(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\treduced[key] = function () {\n\t\t\t\treturn useStore(this.$pinia)[key];\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function () {\n\t\t\t\tconst store = useStore(this.$pinia);\n\t\t\t\tconst storeKey = keysOrMapper[key];\n\t\t\t\t// for some reason TS is unable to infer the type of storeKey to be a\n\t\t\t\t// function\n\t\t\t\treturn typeof storeKey === 'function'\n\t\t\t\t\t? storeKey.call(this, store)\n\t\t\t\t\t: store[storeKey];\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n/**\n * Alias for `mapState()`. You should use `mapState()` instead.\n * @deprecated use `mapState()` instead.\n */\nconst mapGetters = mapState;\n/**\n * Allows directly using actions from your store without using the composition\n * API (`setup()`) by generating an object to be spread in the `methods` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapActions(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function (...args) {\n\t\t\t\treturn useStore(this.$pinia)[key](...args);\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function (...args) {\n\t\t\t\treturn useStore(this.$pinia)[keysOrMapper[key]](...args);\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapWritableState(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\t// @ts-ignore\n\t\t\treduced[key] = {\n\t\t\t\tget() {\n\t\t\t\t\treturn useStore(this.$pinia)[key];\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\t// it's easier to type it here as any\n\t\t\t\t\treturn (useStore(this.$pinia)[key] = value);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-ignore\n\t\t\treduced[key] = {\n\t\t\t\tget() {\n\t\t\t\t\treturn useStore(this.$pinia)[keysOrMapper[key]];\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\t// it's easier to type it here as any\n\t\t\t\t\treturn (useStore(this.$pinia)[keysOrMapper[key]] = value);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n\n/**\n * Creates an object of references with all the state, getters, and plugin-added\n * state properties of the store. Similar to `toRefs()` but specifically\n * designed for Pinia stores so methods and non reactive properties are\n * completely ignored.\n *\n * @param store - store to extract the refs from\n */\nfunction storeToRefs(store) {\n\t// See https://github.com/vuejs/pinia/issues/852\n\t// It's easier to just use toRefs() even if it includes more stuff\n\tif (isVue2) {\n\t\t// @ts-expect-error: toRefs include methods and others\n\t\treturn toRefs(store);\n\t}\n\telse {\n\t\tstore = toRaw(store);\n\t\tconst refs = {};\n\t\tfor (const key in store) {\n\t\t\tconst value = store[key];\n\t\t\tif (isRef(value) || isReactive(value)) {\n\t\t\t\t// @ts-expect-error: the key is state or getter\n\t\t\t\trefs[key] =\n\t\t\t\t\t// ---\n\t\t\t\t\ttoRef(store, key);\n\t\t\t}\n\t\t}\n\t\treturn refs;\n\t}\n}\n\n/**\n * Vue 2 Plugin that must be installed for pinia to work. Note **you don't need\n * this plugin if you are using Nuxt.js**. Use the `buildModule` instead:\n * https://pinia.vuejs.org/ssr/nuxt.html.\n *\n * @example\n * ```js\n * import Vue from 'vue'\n * import { PiniaVuePlugin, createPinia } from 'pinia'\n *\n * Vue.use(PiniaVuePlugin)\n * const pinia = createPinia()\n *\n * new Vue({\n *   el: '#app',\n *   // ...\n *   pinia,\n * })\n * ```\n *\n * @param _Vue - `Vue` imported from 'vue'.\n */\nconst PiniaVuePlugin = function (_Vue) {\n\t// Equivalent of\n\t// app.config.globalProperties.$pinia = pinia\n\t_Vue.mixin({\n\t\tbeforeCreate() {\n\t\t\tconst options = this.$options;\n\t\t\tif (options.pinia) {\n\t\t\t\tconst pinia = options.pinia;\n\t\t\t\t// HACK: taken from provide(): https://github.com/vuejs/composition-api/blob/main/src/apis/inject.ts#L31\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (!this._provided) {\n\t\t\t\t\tconst provideCache = {};\n\t\t\t\t\tObject.defineProperty(this, '_provided', {\n\t\t\t\t\t\tget: () => provideCache,\n\t\t\t\t\t\tset: (v) => Object.assign(provideCache, v),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis._provided[piniaSymbol] = pinia;\n\t\t\t\t// propagate the pinia instance in an SSR friendly way\n\t\t\t\t// avoid adding it to nuxt twice\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (!this.$pinia) {\n\t\t\t\t\tthis.$pinia = pinia;\n\t\t\t\t}\n\t\t\t\tpinia._a = this;\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\t// this allows calling useStore() outside of a component setup after\n\t\t\t\t\t// installing pinia's plugin\n\t\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t\tif ((environmentMode !== 'production')) {\n\t\t\t\t\t\tregisterPiniaDevtools(pinia._a, pinia);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (!this.$pinia && options.parent && options.parent.$pinia) {\n\t\t\t\tthis.$pinia = options.parent.$pinia;\n\t\t\t}\n\t\t},\n\t\tdestroyed() {\n\t\t\tdelete this._pStores;\n\t\t},\n\t});\n};\n\nexport { MutationType, PiniaVuePlugin, acceptHMRUpdate, createPinia, defineStore, getActivePinia, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix, skipHydrate, storeToRefs };\n// origin-end\nconst version = '2.0.11';\nexport {version}",null]}