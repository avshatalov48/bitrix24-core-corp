{"version":3,"sources":["../src/wrap/start.js","../src/pinia.js","../src/wrap/end.js"],"names":["isVue2","set","object","key","value","Array","isArray","length","Math","max","splice","del","getDevtoolsGlobalHook","getTarget","__VUE_DEVTOOLS_GLOBAL_HOOK__","navigator","window","global","HOOK_SETUP","setupDevtoolsPlugin","pluginDescriptor","setupFn","hook","emit","target","list","__VUE_DEVTOOLS_PLUGINS__","push","activePinia","setActivePinia","pinia","getActivePinia","getCurrentInstance","inject","piniaSymbol","Symbol","isPlainObject","o","Object","prototype","toString","call","toJSON","MutationType","IS_CLIENT","USE_DEVTOOLS","_global","self","globalThis","HTMLElement","bom","blob","autoBom","test","type","Blob","String","fromCharCode","download","url","name","opts","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","console","error","send","corsEnabled","e","status","click","node","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","_navigator","userAgent","isMacOSWebView","HTMLAnchorElement","downloadSaveAs","msSaveAs","fileSaverSaveAs","a","createElement","rel","href","origin","location","URL","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","isChromeIOS","FileReader","reader","onloadend","result","Error","replace","assign","readAsDataURL","toastMessage","message","piniaMessage","__VUE_DEVTOOLS_TOAST__","warn","log","isPinia","checkClipboardAccess","checkNotFocusedError","toLowerCase","includes","actionGlobalCopyState","clipboard","writeText","JSON","stringify","state","actionGlobalPasteState","parse","readText","actionGlobalSaveState","fileInput","getFileOpener","accept","openFile","Promise","resolve","reject","onchange","files","file","item","text","oncancel","actionGlobalOpenStateFile","formatDisplay","display","_custom","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","store","id","label","$id","formatStoreForInspectorState","storeNames","from","_s","keys","storeMap","map","storeId","editable","getters","filter","get","_getters","reduce","$state","getterName","_customProperties","size","customProperties","formatEventData","events","data","event","operations","oldValue","newValue","operation","formatMutationType","direct","patchFunction","patchObject","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","getStoreType","registerPiniaDevtools","app","logo","packageName","homepage","api","now","addTimelineLayer","color","addInspector","icon","treeFilterPlaceholder","actions","action","tooltip","sendInspectorTree","sendInspectorState","nodeActions","nodeId","_isOptionsAPI","$reset","on","inspectComponent","payload","ctx","proxy","componentInstance","_pStores","piniaStores","values","forEach","instanceData","toRaw","getInspectorTree","inspectorId","stores","concat","rootNodes","getInspectorState","inspectedStore","editInspectorState","path","has","unshift","editComponentState","startsWith","addStoreToDevtools","settings","logStoreChanges","defaultValue","bind","Date","$onAction","after","onError","args","groupId","runningActionId","addTimelineEvent","layerId","time","subtitle","activeAction","undefined","logType","watch","unref","notifyComponentUpdate","deep","$subscribe","eventData","detached","flush","hotUpdate","_hotUpdate","markRaw","newStore","info","$dispose","getSettings","patchActionForGrouping","actionNames","storeActions","actionName","_actionId","trackedStore","Proxy","Reflect","apply","arguments","devtoolsPlugin","options","originalHotUpdate","_hmrPayload","createPinia","scope","effectScope","run","ref","_p","toBeInstalled","install","_a","provide","config","globalProperties","$pinia","plugin","use","_e","Map","isUseStore","fn","newState","oldState","subPatch","targetValue","isRef","isReactive","acceptHMRUpdate","initialUseStore","hot","newModule","_pinia","exportName","useStore","invalidate","existingStore","noop","addSubscription","subscriptions","callback","onCleanup","removeSubscription","idx","indexOf","onUnmounted","triggerSubscriptions","slice","mergeReactiveObjects","patchToApply","Set","add","hasOwnProperty","skipHydrateSymbol","skipHydrate","obj","defineProperty","shouldHydrate","isComputed","effect","createOptionsStore","initialState","setup","localState","toRefs","computedGetters","computed","createSetupStore","$patch","isOptionsStore","optionsForPlugin","active","$subscribeOptions","onTrigger","isListening","debuggerEvents","_hotUpdating","isSyncListening","actionSubscriptions","hotState","activeListener","partialStateOrMutator","subscriptionMutation","myListenerId","nextTick","then","stop","delete","wrapAction","afterCallbackList","onErrorCallbackList","ret","catch","partialStore","stopWatcher","reactive","setupStore","prop","toRef","actionValue","stateKey","newStateTarget","oldStateSource","getter","getterValue","nonEnumerable","writable","configurable","enumerable","p","extender","extensions","constructor","hydrate","defineStore","idOrOptions","setupOptions","isSetupStore","currentInstance","hotId","vm","cache","mapStoreSuffix","setMapStoreSuffix","suffix","mapStores","reduced","mapState","keysOrMapper","storeKey","mapGetters","mapActions","mapWritableState","storeToRefs","refs","PiniaVuePlugin","_Vue","mixin","beforeCreate","$options","_provided","provideCache","v","parent","destroyed","version"],"mappings":"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","file":"pinia.bundle.js.map","sourcesContent":[null,"/**\n * pinia v2.0.22\n * (c) 2022 Eduardo San Martin Morote\n * @license MIT\n *\n * @source: https://unpkg.com/pinia@2.0.11/dist/pinia.esm-browser.js\n * @source: https://github.com/vueuse/vue-demi/blob/master/lib/v3/index.cjs\n */\n\n/**\n * Modify list for integration with Bitrix Framework:\n * - remove vue-demi library from global import, replace to 'ui.vue3';\n * - remove import '@vue/devtools-api', add function setupDevtoolsPlugin\n * - replace emoji 'pineapple' to ':Pinia:', replace all emoji to text\n * - added const 'isVue2'\n * - added 'set' and 'del' functions similar to functions from the vue-demi library\n */\n\nimport { getCurrentInstance, inject, toRaw, watch, unref, markRaw, effectScope, ref, isRef, isReactive, onUnmounted, reactive, toRef, nextTick, computed, toRefs } from 'ui.vue3';\n\nconst isVue2 = false;\n\nfunction set(object, key, value): any\n{\n\tif (Array.isArray(object))\n\t{\n\t\tobject.length = Math.max(object.length, key);\n\t\tobject.splice(key, 1, value);\n\t}\n\telse if (typeof object === 'object')\n\t{\n\t\tobject[key] = value;\n\t}\n\n\treturn value;\n}\n\nfunction del(object, key): void\n{\n\tif (Array.isArray(object))\n\t{\n\t\tobject.splice(key, 1);\n\t}\n\telse if (typeof object === 'object')\n\t{\n\t\tdelete object[key];\n\t}\n}\n\nfunction getDevtoolsGlobalHook() {\n\treturn getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nfunction getTarget() {\n\t// @ts-ignore\n\treturn typeof navigator !== 'undefined'\n\t\t? window\n\t\t: typeof global !== 'undefined'\n\t\t\t? global\n\t\t\t: {};\n}\n\nconst HOOK_SETUP = 'devtools-plugin:setup';\n\nfunction setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n\tconst hook = getDevtoolsGlobalHook();\n\tif (hook) {\n\t\thook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n\t}\n\telse {\n\t\tconst target = getTarget();\n\t\tconst list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n\t\tlist.push({\n\t\t\tpluginDescriptor,\n\t\t\tsetupFn\n\t\t});\n\t}\n}\n\n// origin-start\n/**\n * setActivePinia must be called to handle SSR at the top of functions like\n * `fetch`, `setup`, `serverPrefetch` and others\n */\nlet activePinia;\n/**\n * Sets or unsets the active pinia. Used in SSR and internally when calling\n * actions and getters\n *\n * @param pinia - Pinia instance\n */\nconst setActivePinia = (pinia) => (activePinia = pinia);\n/**\n * Get the currently active pinia if there is any.\n */\nconst getActivePinia = () => (getCurrentInstance() && inject(piniaSymbol)) || activePinia;\nconst piniaSymbol = (Symbol('pinia') );\n\nfunction isPlainObject(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\no) {\n\treturn (o &&\n\t\ttypeof o === 'object' &&\n\t\tObject.prototype.toString.call(o) === '[object Object]' &&\n\t\ttypeof o.toJSON !== 'function');\n}\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\n// TODO: can we change these to numbers?\n/**\n * Possible types for SubscriptionCallback\n */\nvar MutationType;\n(function (MutationType) {\n\t/**\n\t * Direct mutation of the state:\n\t *\n\t * - `store.name = 'new name'`\n\t * - `store.$state.name = 'new name'`\n\t * - `store.list.push('new item')`\n\t */\n\tMutationType[\"direct\"] = \"direct\";\n\t/**\n\t * Mutated the state with `$patch` and an object\n\t *\n\t * - `store.$patch({ name: 'newName' })`\n\t */\n\tMutationType[\"patchObject\"] = \"patch object\";\n\t/**\n\t * Mutated the state with `$patch` and a function\n\t *\n\t * - `store.$patch(state => state.name = 'newName')`\n\t */\n\tMutationType[\"patchFunction\"] = \"patch function\";\n\t// maybe reset? for $state = {} and $reset\n})(MutationType || (MutationType = {}));\n\nconst IS_CLIENT = typeof window !== 'undefined';\n/**\n * Should we add the devtools plugins.\n * - only if dev mode or forced through the prod devtools flag\n * - not in test\n * - only if window exists (could change in the future)\n */\nconst USE_DEVTOOLS = IS_CLIENT;\n\n/*\n * FileSaver.js A saveAs() FileSaver implementation.\n *\n * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin\n * Morote.\n *\n * License : MIT\n */\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nconst _global = /*#__PURE__*/ (() => typeof window === 'object' && window.window === window\n\t? window\n\t: typeof self === 'object' && self.self === self\n\t\t? self\n\t\t: typeof global === 'object' && global.global === global\n\t\t\t? global\n\t\t\t: typeof globalThis === 'object'\n\t\t\t\t? globalThis\n\t\t\t\t: { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\tif (autoBom &&\n\t\t/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\treturn new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n\t}\n\treturn blob;\n}\nfunction download(url, name, opts) {\n\tconst xhr = new XMLHttpRequest();\n\txhr.open('GET', url);\n\txhr.responseType = 'blob';\n\txhr.onload = function () {\n\t\tsaveAs(xhr.response, name, opts);\n\t};\n\txhr.onerror = function () {\n\t\tconsole.error('could not download file');\n\t};\n\txhr.send();\n}\nfunction corsEnabled(url) {\n\tconst xhr = new XMLHttpRequest();\n\t// use sync to avoid popup blocker\n\txhr.open('HEAD', url, false);\n\ttry {\n\t\txhr.send();\n\t}\n\tcatch (e) { }\n\treturn xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n\ttry {\n\t\tnode.dispatchEvent(new MouseEvent('click'));\n\t}\n\tcatch (e) {\n\t\tconst evt = document.createEvent('MouseEvents');\n\t\tevt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n\t\tnode.dispatchEvent(evt);\n\t}\n}\nconst _navigator =\n\ttypeof navigator === 'object' ? navigator : { userAgent: '' };\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nconst isMacOSWebView = /*#__PURE__*/ (() => /Macintosh/.test(_navigator.userAgent) &&\n\t/AppleWebKit/.test(_navigator.userAgent) &&\n\t!/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT\n\t? () => { } // noop\n\t: // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n\ttypeof HTMLAnchorElement !== 'undefined' &&\n\t'download' in HTMLAnchorElement.prototype &&\n\t!isMacOSWebView\n\t\t? downloadSaveAs\n\t\t: // Use msSaveOrOpenBlob as a second approach\n\t\t'msSaveOrOpenBlob' in _navigator\n\t\t\t? msSaveAs\n\t\t\t: // Fallback to using FileReader and a popup\n\t\t\tfileSaverSaveAs;\nfunction downloadSaveAs(blob, name = 'download', opts) {\n\tconst a = document.createElement('a');\n\ta.download = name;\n\ta.rel = 'noopener'; // tabnabbing\n\t// TODO: detect chrome extensions & packaged apps\n\t// a.target = '_blank'\n\tif (typeof blob === 'string') {\n\t\t// Support regular links\n\t\ta.href = blob;\n\t\tif (a.origin !== location.origin) {\n\t\t\tif (corsEnabled(a.href)) {\n\t\t\t\tdownload(blob, name, opts);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta.target = '_blank';\n\t\t\t\tclick(a);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tclick(a);\n\t\t}\n\t}\n\telse {\n\t\t// Support blobs\n\t\ta.href = URL.createObjectURL(blob);\n\t\tsetTimeout(function () {\n\t\t\tURL.revokeObjectURL(a.href);\n\t\t}, 4e4); // 40s\n\t\tsetTimeout(function () {\n\t\t\tclick(a);\n\t\t}, 0);\n\t}\n}\nfunction msSaveAs(blob, name = 'download', opts) {\n\tif (typeof blob === 'string') {\n\t\tif (corsEnabled(blob)) {\n\t\t\tdownload(blob, name, opts);\n\t\t}\n\t\telse {\n\t\t\tconst a = document.createElement('a');\n\t\t\ta.href = blob;\n\t\t\ta.target = '_blank';\n\t\t\tsetTimeout(function () {\n\t\t\t\tclick(a);\n\t\t\t});\n\t\t}\n\t}\n\telse {\n\t\t// @ts-ignore: works on windows\n\t\tnavigator.msSaveOrOpenBlob(bom(blob, opts), name);\n\t}\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n\t// Open a popup immediately do go around popup blocker\n\t// Mostly only available on user interaction and the fileReader is async so...\n\tpopup = popup || open('', '_blank');\n\tif (popup) {\n\t\tpopup.document.title = popup.document.body.innerText = 'downloading...';\n\t}\n\tif (typeof blob === 'string')\n\t\treturn download(blob, name, opts);\n\tconst force = blob.type === 'application/octet-stream';\n\tconst isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;\n\tconst isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\tif ((isChromeIOS || (force && isSafari) || isMacOSWebView) &&\n\t\ttypeof FileReader !== 'undefined') {\n\t\t// Safari doesn't allow downloading of blob URLs\n\t\tconst reader = new FileReader();\n\t\treader.onloadend = function () {\n\t\t\tlet url = reader.result;\n\t\t\tif (typeof url !== 'string') {\n\t\t\t\tpopup = null;\n\t\t\t\tthrow new Error('Wrong reader.result type');\n\t\t\t}\n\t\t\turl = isChromeIOS\n\t\t\t\t? url\n\t\t\t\t: url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\tif (popup) {\n\t\t\t\tpopup.location.href = url;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation.assign(url);\n\t\t\t}\n\t\t\tpopup = null; // reverse-tabnabbing #460\n\t\t};\n\t\treader.readAsDataURL(blob);\n\t}\n\telse {\n\t\tconst url = URL.createObjectURL(blob);\n\t\tif (popup)\n\t\t\tpopup.location.assign(url);\n\t\telse\n\t\t\tlocation.href = url;\n\t\tpopup = null; // reverse-tabnabbing #460\n\t\tsetTimeout(function () {\n\t\t\tURL.revokeObjectURL(url);\n\t\t}, 4e4); // 40s\n\t}\n}\n\n/**\n * Shows a toast or console.log\n *\n * @param message - message to log\n * @param type - different color of the tooltip\n */\nfunction toastMessage(message, type) {\n\tconst piniaMessage = 'Pinia: ' + message;\n\tif (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\n\t\t__VUE_DEVTOOLS_TOAST__(piniaMessage, type);\n\t}\n\telse if (type === 'error') {\n\t\tconsole.error(piniaMessage);\n\t}\n\telse if (type === 'warn') {\n\t\tconsole.warn(piniaMessage);\n\t}\n\telse {\n\t\tconsole.log(piniaMessage);\n\t}\n}\nfunction isPinia(o) {\n\treturn '_a' in o && 'install' in o;\n}\n\nfunction checkClipboardAccess() {\n\tif (!('clipboard' in navigator)) {\n\t\ttoastMessage(`Your browser doesn't support the Clipboard API`, 'error');\n\t\treturn true;\n\t}\n}\nfunction checkNotFocusedError(error) {\n\tif (error instanceof Error &&\n\t\terror.message.toLowerCase().includes('document is not focused')) {\n\t\ttoastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\n\t\treturn true;\n\t}\n\treturn false;\n}\nasync function actionGlobalCopyState(pinia) {\n\tif (checkClipboardAccess())\n\t\treturn;\n\ttry {\n\t\tawait navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\n\t\ttoastMessage('Global state copied to clipboard.');\n\t}\n\tcatch (error) {\n\t\tif (checkNotFocusedError(error))\n\t\t\treturn;\n\t\ttoastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nasync function actionGlobalPasteState(pinia) {\n\tif (checkClipboardAccess())\n\t\treturn;\n\ttry {\n\t\tpinia.state.value = JSON.parse(await navigator.clipboard.readText());\n\t\ttoastMessage('Global state pasted from clipboard.');\n\t}\n\tcatch (error) {\n\t\tif (checkNotFocusedError(error))\n\t\t\treturn;\n\t\ttoastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nasync function actionGlobalSaveState(pinia) {\n\ttry {\n\t\tsaveAs(new Blob([JSON.stringify(pinia.state.value)], {\n\t\t\ttype: 'text/plain;charset=utf-8',\n\t\t}), 'pinia-state.json');\n\t}\n\tcatch (error) {\n\t\ttoastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nlet fileInput;\nfunction getFileOpener() {\n\tif (!fileInput) {\n\t\tfileInput = document.createElement('input');\n\t\tfileInput.type = 'file';\n\t\tfileInput.accept = '.json';\n\t}\n\tfunction openFile() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfileInput.onchange = async () => {\n\t\t\t\tconst files = fileInput.files;\n\t\t\t\tif (!files)\n\t\t\t\t\treturn resolve(null);\n\t\t\t\tconst file = files.item(0);\n\t\t\t\tif (!file)\n\t\t\t\t\treturn resolve(null);\n\t\t\t\treturn resolve({ text: await file.text(), file });\n\t\t\t};\n\t\t\t// @ts-ignore: TODO: changed from 4.3 to 4.4\n\t\t\tfileInput.oncancel = () => resolve(null);\n\t\t\tfileInput.onerror = reject;\n\t\t\tfileInput.click();\n\t\t});\n\t}\n\treturn openFile;\n}\nasync function actionGlobalOpenStateFile(pinia) {\n\ttry {\n\t\tconst open = await getFileOpener();\n\t\tconst result = await open();\n\t\tif (!result)\n\t\t\treturn;\n\t\tconst { text, file } = result;\n\t\tpinia.state.value = JSON.parse(text);\n\t\ttoastMessage(`Global state imported from \"${file.name}\".`);\n\t}\n\tcatch (error) {\n\t\ttoastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\n\nfunction formatDisplay(display) {\n\treturn {\n\t\t_custom: {\n\t\t\tdisplay,\n\t\t},\n\t};\n}\nconst PINIA_ROOT_LABEL = 'Pinia (root)';\nconst PINIA_ROOT_ID = '_root';\nfunction formatStoreForInspectorTree(store) {\n\treturn isPinia(store)\n\t\t? {\n\t\t\tid: PINIA_ROOT_ID,\n\t\t\tlabel: PINIA_ROOT_LABEL,\n\t\t}\n\t\t: {\n\t\t\tid: store.$id,\n\t\t\tlabel: store.$id,\n\t\t};\n}\nfunction formatStoreForInspectorState(store) {\n\tif (isPinia(store)) {\n\t\tconst storeNames = Array.from(store._s.keys());\n\t\tconst storeMap = store._s;\n\t\tconst state = {\n\t\t\tstate: storeNames.map((storeId) => ({\n\t\t\t\teditable: true,\n\t\t\t\tkey: storeId,\n\t\t\t\tvalue: store.state.value[storeId],\n\t\t\t})),\n\t\t\tgetters: storeNames\n\t\t\t\t.filter((id) => storeMap.get(id)._getters)\n\t\t\t\t.map((id) => {\n\t\t\t\t\tconst store = storeMap.get(id);\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\tkey: id,\n\t\t\t\t\t\tvalue: store._getters.reduce((getters, key) => {\n\t\t\t\t\t\t\tgetters[key] = store[key];\n\t\t\t\t\t\t\treturn getters;\n\t\t\t\t\t\t}, {}),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t};\n\t\treturn state;\n\t}\n\tconst state = {\n\t\tstate: Object.keys(store.$state).map((key) => ({\n\t\t\teditable: true,\n\t\t\tkey,\n\t\t\tvalue: store.$state[key],\n\t\t})),\n\t};\n\t// avoid adding empty getters\n\tif (store._getters && store._getters.length) {\n\t\tstate.getters = store._getters.map((getterName) => ({\n\t\t\teditable: false,\n\t\t\tkey: getterName,\n\t\t\tvalue: store[getterName],\n\t\t}));\n\t}\n\tif (store._customProperties.size) {\n\t\tstate.customProperties = Array.from(store._customProperties).map((key) => ({\n\t\t\teditable: true,\n\t\t\tkey,\n\t\t\tvalue: store[key],\n\t\t}));\n\t}\n\treturn state;\n}\nfunction formatEventData(events) {\n\tif (!events)\n\t\treturn {};\n\tif (Array.isArray(events)) {\n\t\t// TODO: handle add and delete for arrays and objects\n\t\treturn events.reduce((data, event) => {\n\t\t\tdata.keys.push(event.key);\n\t\t\tdata.operations.push(event.type);\n\t\t\tdata.oldValue[event.key] = event.oldValue;\n\t\t\tdata.newValue[event.key] = event.newValue;\n\t\t\treturn data;\n\t\t}, {\n\t\t\toldValue: {},\n\t\t\tkeys: [],\n\t\t\toperations: [],\n\t\t\tnewValue: {},\n\t\t});\n\t}\n\telse {\n\t\treturn {\n\t\t\toperation: formatDisplay(events.type),\n\t\t\tkey: formatDisplay(events.key),\n\t\t\toldValue: events.oldValue,\n\t\t\tnewValue: events.newValue,\n\t\t};\n\t}\n}\nfunction formatMutationType(type) {\n\tswitch (type) {\n\t\tcase MutationType.direct:\n\t\t\treturn 'mutation';\n\t\tcase MutationType.patchFunction:\n\t\t\treturn '$patch';\n\t\tcase MutationType.patchObject:\n\t\t\treturn '$patch';\n\t\tdefault:\n\t\t\treturn 'unknown';\n\t}\n}\n\n// timeline can be paused when directly changing the state\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\nconst INSPECTOR_ID = 'pinia';\n/**\n * Gets the displayed name of a store in devtools\n *\n * @param id - id of the store\n * @returns a formatted string\n */\nconst getStoreType = (id) => ':Pinia: ' + id;\n/**\n * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab\n * as soon as it is added to the application.\n *\n * @param app - Vue application\n * @param pinia - pinia instance\n */\nfunction registerPiniaDevtools(app, pinia) {\n\tsetupDevtoolsPlugin({\n\t\tid: 'dev.esm.pinia',\n\t\tlabel: 'Pinia',\n\t\tlogo: 'https://pinia.vuejs.org/logo.svg',\n\t\tpackageName: 'pinia',\n\t\thomepage: 'https://pinia.vuejs.org',\n\t\tcomponentStateTypes,\n\t\tapp,\n\t}, (api) => {\n\t\tif (typeof api.now !== 'function') {\n\t\t\ttoastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n\t\t}\n\t\tapi.addTimelineLayer({\n\t\t\tid: MUTATIONS_LAYER_ID,\n\t\t\tlabel: `Pinia`,\n\t\t\tcolor: 0xe5df88,\n\t\t});\n\t\tapi.addInspector({\n\t\t\tid: INSPECTOR_ID,\n\t\t\tlabel: 'Pinia',\n\t\t\ticon: 'storage',\n\t\t\ttreeFilterPlaceholder: 'Search stores',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\ticon: 'content_copy',\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tactionGlobalCopyState(pinia);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Serialize and copy the state',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'content_paste',\n\t\t\t\t\taction: async () => {\n\t\t\t\t\t\tawait actionGlobalPasteState(pinia);\n\t\t\t\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Replace the state with the content of your clipboard',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'save',\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tactionGlobalSaveState(pinia);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Save the state as a JSON file',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'folder_open',\n\t\t\t\t\taction: async () => {\n\t\t\t\t\t\tawait actionGlobalOpenStateFile(pinia);\n\t\t\t\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Import the state from a JSON file',\n\t\t\t\t},\n\t\t\t],\n\t\t\tnodeActions: [\n\t\t\t\t{\n\t\t\t\t\ticon: 'restore',\n\t\t\t\t\ttooltip: 'Reset the state (option store only)',\n\t\t\t\t\taction: (nodeId) => {\n\t\t\t\t\t\tconst store = pinia._s.get(nodeId);\n\t\t\t\t\t\tif (!store) {\n\t\t\t\t\t\t\ttoastMessage(`Cannot reset \"${nodeId}\" store because it wasn't found.`, 'warn');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (!store._isOptionsAPI) {\n\t\t\t\t\t\t\ttoastMessage(`Cannot reset \"${nodeId}\" store because it's a setup store.`, 'warn');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tstore.$reset();\n\t\t\t\t\t\t\ttoastMessage(`Store \"${nodeId}\" reset.`);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t\tapi.on.inspectComponent((payload, ctx) => {\n\t\t\tconst proxy = (payload.componentInstance &&\n\t\t\t\tpayload.componentInstance.proxy);\n\t\t\tif (proxy && proxy._pStores) {\n\t\t\t\tconst piniaStores = payload.componentInstance.proxy._pStores;\n\t\t\t\tObject.values(piniaStores).forEach((store) => {\n\t\t\t\t\tpayload.instanceData.state.push({\n\t\t\t\t\t\ttype: getStoreType(store.$id),\n\t\t\t\t\t\tkey: 'state',\n\t\t\t\t\t\teditable: true,\n\t\t\t\t\t\tvalue: store._isOptionsAPI\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t_custom: {\n\t\t\t\t\t\t\t\t\tvalue: toRaw(store.$state),\n\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ticon: 'restore',\n\t\t\t\t\t\t\t\t\t\t\ttooltip: 'Reset the state of this store',\n\t\t\t\t\t\t\t\t\t\t\taction: () => store.$reset(),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: // NOTE: workaround to unwrap transferred refs\n\t\t\t\t\t\t\tObject.keys(store.$state).reduce((state, key) => {\n\t\t\t\t\t\t\t\tstate[key] = store.$state[key];\n\t\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t});\n\t\t\t\t\tif (store._getters && store._getters.length) {\n\t\t\t\t\t\tpayload.instanceData.state.push({\n\t\t\t\t\t\t\ttype: getStoreType(store.$id),\n\t\t\t\t\t\t\tkey: 'getters',\n\t\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\t\tvalue: store._getters.reduce((getters, key) => {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tgetters[key] = store[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\t\t\t\t// @ts-expect-error: we just want to show it in devtools\n\t\t\t\t\t\t\t\t\tgetters[key] = error;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn getters;\n\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tapi.on.getInspectorTree((payload) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tlet stores = [pinia];\n\t\t\t\tstores = stores.concat(Array.from(pinia._s.values()));\n\t\t\t\tpayload.rootNodes = (payload.filter\n\t\t\t\t\t? stores.filter((store) => '$id' in store\n\t\t\t\t\t\t? store.$id\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(payload.filter.toLowerCase())\n\t\t\t\t\t\t: PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\n\t\t\t\t\t: stores).map(formatStoreForInspectorTree);\n\t\t\t}\n\t\t});\n\t\tapi.on.getInspectorState((payload) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tconst inspectedStore = payload.nodeId === PINIA_ROOT_ID\n\t\t\t\t\t? pinia\n\t\t\t\t\t: pinia._s.get(payload.nodeId);\n\t\t\t\tif (!inspectedStore) {\n\t\t\t\t\t// this could be the selected store restored for a different project\n\t\t\t\t\t// so it's better not to say anything here\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (inspectedStore) {\n\t\t\t\t\tpayload.state = formatStoreForInspectorState(inspectedStore);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tapi.on.editInspectorState((payload, ctx) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tconst inspectedStore = payload.nodeId === PINIA_ROOT_ID\n\t\t\t\t\t? pinia\n\t\t\t\t\t: pinia._s.get(payload.nodeId);\n\t\t\t\tif (!inspectedStore) {\n\t\t\t\t\treturn toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\n\t\t\t\t}\n\t\t\t\tconst { path } = payload;\n\t\t\t\tif (!isPinia(inspectedStore)) {\n\t\t\t\t\t// access only the state\n\t\t\t\t\tif (path.length !== 1 ||\n\t\t\t\t\t\t!inspectedStore._customProperties.has(path[0]) ||\n\t\t\t\t\t\tpath[0] in inspectedStore.$state) {\n\t\t\t\t\t\tpath.unshift('$state');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Root access, we can omit the `.value` because the devtools API does it for us\n\t\t\t\t\tpath.unshift('state');\n\t\t\t\t}\n\t\t\t\tisTimelineActive = false;\n\t\t\t\tpayload.set(inspectedStore, path, payload.state.value);\n\t\t\t\tisTimelineActive = true;\n\t\t\t}\n\t\t});\n\t\tapi.on.editComponentState((payload) => {\n\t\t\tif (payload.type.startsWith(':Pinia:')) {\n\t\t\t\tconst storeId = payload.type.replace(/^:Pinia:\\s*/, '');\n\t\t\t\tconst store = pinia._s.get(storeId);\n\t\t\t\tif (!store) {\n\t\t\t\t\treturn toastMessage(`store \"${storeId}\" not found`, 'error');\n\t\t\t\t}\n\t\t\t\tconst { path } = payload;\n\t\t\t\tif (path[0] !== 'state') {\n\t\t\t\t\treturn toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\n\t\t\t\t}\n\t\t\t\t// rewrite the first entry to be able to directly set the state as\n\t\t\t\t// well as any other path\n\t\t\t\tpath[0] = '$state';\n\t\t\t\tisTimelineActive = false;\n\t\t\t\tpayload.set(store, path, payload.state.value);\n\t\t\t\tisTimelineActive = true;\n\t\t\t}\n\t\t});\n\t});\n}\nfunction addStoreToDevtools(app, store) {\n\tif (!componentStateTypes.includes(getStoreType(store.$id))) {\n\t\tcomponentStateTypes.push(getStoreType(store.$id));\n\t}\n\tsetupDevtoolsPlugin({\n\t\tid: 'dev.esm.pinia',\n\t\tlabel: 'Pinia',\n\t\tlogo: 'https://pinia.vuejs.org/logo.svg',\n\t\tpackageName: 'pinia',\n\t\thomepage: 'https://pinia.vuejs.org',\n\t\tcomponentStateTypes,\n\t\tapp,\n\t\tsettings: {\n\t\t\tlogStoreChanges: {\n\t\t\t\tlabel: 'Notify about new/deleted stores',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefaultValue: true,\n\t\t\t},\n\t\t\t// useEmojis: {\n\t\t\t//   label: 'Use emojis in messages',\n\t\t\t//   type: 'boolean',\n\t\t\t//   defaultValue: true,\n\t\t\t// },\n\t\t},\n\t}, (api) => {\n\t\t// gracefully handle errors\n\t\tconst now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;\n\t\tstore.$onAction(({ after, onError, name, args }) => {\n\t\t\tconst groupId = runningActionId++;\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: {\n\t\t\t\t\ttime: now(),\n\t\t\t\t\ttitle: 'Start ' + name,\n\t\t\t\t\tsubtitle: 'start',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\targs,\n\t\t\t\t\t},\n\t\t\t\t\tgroupId,\n\t\t\t\t},\n\t\t\t});\n\t\t\tafter((result) => {\n\t\t\t\tactiveAction = undefined;\n\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\ttitle: 'End ' + name,\n\t\t\t\t\t\tsubtitle: 'end',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\tresult,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t\tonError((error) => {\n\t\t\t\tactiveAction = undefined;\n\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\tlogType: 'error',\n\t\t\t\t\t\ttitle: 'Error ' + name,\n\t\t\t\t\t\tsubtitle: 'end',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t}, true);\n\t\tstore._customProperties.forEach((name) => {\n\t\t\twatch(() => unref(store[name]), (newValue, oldValue) => {\n\t\t\t\tapi.notifyComponentUpdate();\n\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\tif (isTimelineActive) {\n\t\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\t\ttitle: 'Change',\n\t\t\t\t\t\t\tsubtitle: name,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tnewValue,\n\t\t\t\t\t\t\t\toldValue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgroupId: activeAction,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, { deep: true });\n\t\t});\n\t\tstore.$subscribe(({ events, type }, state) => {\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\tif (!isTimelineActive)\n\t\t\t\treturn;\n\t\t\t// rootStore.state[store.id] = state\n\t\t\tconst eventData = {\n\t\t\t\ttime: now(),\n\t\t\t\ttitle: formatMutationType(type),\n\t\t\t\tdata: {\n\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t...formatEventData(events),\n\t\t\t\t},\n\t\t\t\tgroupId: activeAction,\n\t\t\t};\n\t\t\t// reset for the next mutation\n\t\t\tactiveAction = undefined;\n\t\t\tif (type === MutationType.patchFunction) {\n\t\t\t\teventData.subtitle = 'Down';\n\t\t\t}\n\t\t\telse if (type === MutationType.patchObject) {\n\t\t\t\teventData.subtitle = 'Patch';\n\t\t\t}\n\t\t\telse if (events && !Array.isArray(events)) {\n\t\t\t\teventData.subtitle = events.type;\n\t\t\t}\n\t\t\tif (events) {\n\t\t\t\teventData.data['rawEvent(s)'] = {\n\t\t\t\t\t_custom: {\n\t\t\t\t\t\tdisplay: 'DebuggerEvent',\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\ttooltip: 'raw DebuggerEvent[]',\n\t\t\t\t\t\tvalue: events,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: eventData,\n\t\t\t});\n\t\t}, { detached: true, flush: 'sync' });\n\t\tconst hotUpdate = store._hotUpdate;\n\t\tstore._hotUpdate = markRaw((newStore) => {\n\t\t\thotUpdate(newStore);\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: {\n\t\t\t\t\ttime: now(),\n\t\t\t\t\ttitle: 'Hot update ' + store.$id,\n\t\t\t\t\tsubtitle: 'HMR update',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\tinfo: formatDisplay(`HMR update`),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\t// update the devtools too\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t});\n\t\tconst { $dispose } = store;\n\t\tstore.$dispose = () => {\n\t\t\t$dispose();\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\tapi.getSettings().logStoreChanges &&\n\t\t\ttoastMessage(`Disposed \"${store.$id}\" store`);\n\t\t};\n\t\t// trigger an update so it can display new registered stores\n\t\tapi.notifyComponentUpdate();\n\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\tapi.getSettings().logStoreChanges &&\n\t\ttoastMessage(`\"${store.$id}\" store installed`);\n\t});\n}\nlet runningActionId = 0;\nlet activeAction;\n/**\n * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the\n * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state\n * mutation to the action.\n *\n * @param store - store to patch\n * @param actionNames - list of actionst to patch\n */\nfunction patchActionForGrouping(store, actionNames) {\n\t// original actions of the store as they are given by pinia. We are going to override them\n\tconst actions = actionNames.reduce((storeActions, actionName) => {\n\t\t// use toRaw to avoid tracking #541\n\t\tstoreActions[actionName] = toRaw(store)[actionName];\n\t\treturn storeActions;\n\t}, {});\n\tfor (const actionName in actions) {\n\t\tstore[actionName] = function () {\n\t\t\t// setActivePinia(store._p)\n\t\t\t// the running action id is incremented in a before action hook\n\t\t\tconst _actionId = runningActionId;\n\t\t\tconst trackedStore = new Proxy(store, {\n\t\t\t\tget(...args) {\n\t\t\t\t\tactiveAction = _actionId;\n\t\t\t\t\treturn Reflect.get(...args);\n\t\t\t\t},\n\t\t\t\tset(...args) {\n\t\t\t\t\tactiveAction = _actionId;\n\t\t\t\t\treturn Reflect.set(...args);\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn actions[actionName].apply(trackedStore, arguments);\n\t\t};\n\t}\n}\n/**\n * pinia.use(devtoolsPlugin)\n */\nfunction devtoolsPlugin({ app, store, options }) {\n\t// HMR module\n\tif (store.$id.startsWith('__hot:')) {\n\t\treturn;\n\t}\n\t// detect option api vs setup api\n\tif (options.state) {\n\t\tstore._isOptionsAPI = true;\n\t}\n\t// only wrap actions in option-defined stores as this technique relies on\n\t// wrapping the context of the action with a proxy\n\tif (typeof options.state === 'function') {\n\t\tpatchActionForGrouping(\n\t\t\t// @ts-expect-error: can cast the store...\n\t\t\tstore, Object.keys(options.actions));\n\t\tconst originalHotUpdate = store._hotUpdate;\n\t\t// Upgrade the HMR to also update the new actions\n\t\ttoRaw(store)._hotUpdate = function (newStore) {\n\t\t\toriginalHotUpdate.apply(this, arguments);\n\t\t\tpatchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions));\n\t\t};\n\t}\n\taddStoreToDevtools(app,\n\t\t// FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n\t\tstore);\n}\n\n/**\n * Creates a Pinia instance to be used by the application\n */\nfunction createPinia() {\n\tconst scope = effectScope(true);\n\t// NOTE: here we could check the window object for a state and directly set it\n\t// if there is anything like it with Vue 3 SSR\n\tconst state = scope.run(() => ref({}));\n\tlet _p = [];\n\t// plugins added before calling app.use(pinia)\n\tlet toBeInstalled = [];\n\tconst pinia = markRaw({\n\t\tinstall(app) {\n\t\t\t// this allows calling useStore() outside of a component setup after\n\t\t\t// installing pinia's plugin\n\t\t\tsetActivePinia(pinia);\n\t\t\tif (!isVue2) {\n\t\t\t\tpinia._a = app;\n\t\t\t\tapp.provide(piniaSymbol, pinia);\n\t\t\t\tapp.config.globalProperties.$pinia = pinia;\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (USE_DEVTOOLS) {\n\t\t\t\t\tregisterPiniaDevtools(app, pinia);\n\t\t\t\t}\n\t\t\t\ttoBeInstalled.forEach((plugin) => _p.push(plugin));\n\t\t\t\ttoBeInstalled = [];\n\t\t\t}\n\t\t},\n\t\tuse(plugin) {\n\t\t\tif (!this._a && !isVue2) {\n\t\t\t\ttoBeInstalled.push(plugin);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_p.push(plugin);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t_p,\n\t\t// it's actually undefined here\n\t\t// @ts-expect-error\n\t\t_a: null,\n\t\t_e: scope,\n\t\t_s: new Map(),\n\t\tstate,\n\t});\n\t// pinia devtools rely on dev only features so they cannot be forced unless\n\t// the dev build of Vue is used. Avoid old browsers like IE11.\n\tif (USE_DEVTOOLS && typeof Proxy !== 'undefined') {\n\t\tpinia.use(devtoolsPlugin);\n\t}\n\treturn pinia;\n}\n\n/**\n * Checks if a function is a `StoreDefinition`.\n *\n * @param fn - object to test\n * @returns true if `fn` is a StoreDefinition\n */\nconst isUseStore = (fn) => {\n\treturn typeof fn === 'function' && typeof fn.$id === 'string';\n};\n/**\n * Mutates in place `newState` with `oldState` to _hot update_ it. It will\n * remove any key not existing in `newState` and recursively merge plain\n * objects.\n *\n * @param newState - new state object to be patched\n * @param oldState - old state that should be used to patch newState\n * @returns - newState\n */\nfunction patchObject(newState, oldState) {\n\t// no need to go through symbols because they cannot be serialized anyway\n\tfor (const key in oldState) {\n\t\tconst subPatch = oldState[key];\n\t\t// skip the whole sub tree\n\t\tif (!(key in newState)) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst targetValue = newState[key];\n\t\tif (isPlainObject(targetValue) &&\n\t\t\tisPlainObject(subPatch) &&\n\t\t\t!isRef(subPatch) &&\n\t\t\t!isReactive(subPatch)) {\n\t\t\tnewState[key] = patchObject(targetValue, subPatch);\n\t\t}\n\t\telse {\n\t\t\t// objects are either a bit more complex (e.g. refs) or primitives, so we\n\t\t\t// just set the whole thing\n\t\t\tif (isVue2) {\n\t\t\t\tset(newState, key, subPatch);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnewState[key] = subPatch;\n\t\t\t}\n\t\t}\n\t}\n\treturn newState;\n}\n/**\n * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.\n *\n * @example\n * ```js\n * const useUser = defineStore(...)\n * if (import.meta.hot) {\n *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))\n * }\n * ```\n *\n * @param initialUseStore - return of the defineStore to hot update\n * @param hot - `import.meta.hot`\n */\nfunction acceptHMRUpdate(initialUseStore, hot) {\n\treturn (newModule) => {\n\t\tconst pinia = hot.data.pinia || initialUseStore._pinia;\n\t\tif (!pinia) {\n\t\t\t// this store is still not used\n\t\t\treturn;\n\t\t}\n\t\t// preserve the pinia instance across loads\n\t\thot.data.pinia = pinia;\n\t\t// console.log('got data', newStore)\n\t\tfor (const exportName in newModule) {\n\t\t\tconst useStore = newModule[exportName];\n\t\t\t// console.log('checking for', exportName)\n\t\t\tif (isUseStore(useStore) && pinia._s.has(useStore.$id)) {\n\t\t\t\t// console.log('Accepting update for', useStore.$id)\n\t\t\t\tconst id = useStore.$id;\n\t\t\t\tif (id !== initialUseStore.$id) {\n\t\t\t\t\tconsole.warn(`The id of the store changed from \"${initialUseStore.$id}\" to \"${id}\". Reloading.`);\n\t\t\t\t\t// return import.meta.hot.invalidate()\n\t\t\t\t\treturn hot.invalidate();\n\t\t\t\t}\n\t\t\t\tconst existingStore = pinia._s.get(id);\n\t\t\t\tif (!existingStore) {\n\t\t\t\t\tconsole.log(`[Pinia]: skipping hmr because store doesn't exist yet`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tuseStore(pinia, existingStore);\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst noop = () => { };\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop) {\n\tsubscriptions.push(callback);\n\tconst removeSubscription = () => {\n\t\tconst idx = subscriptions.indexOf(callback);\n\t\tif (idx > -1) {\n\t\t\tsubscriptions.splice(idx, 1);\n\t\t\tonCleanup();\n\t\t}\n\t};\n\tif (!detached && getCurrentInstance()) {\n\t\tonUnmounted(removeSubscription);\n\t}\n\treturn removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n\tsubscriptions.slice().forEach((callback) => {\n\t\tcallback(...args);\n\t});\n}\n\nfunction mergeReactiveObjects(target, patchToApply) {\n\t// Handle Map instances\n\tif (target instanceof Map && patchToApply instanceof Map) {\n\t\tpatchToApply.forEach((value, key) => target.set(key, value));\n\t}\n\t// Handle Set instances\n\tif (target instanceof Set && patchToApply instanceof Set) {\n\t\tpatchToApply.forEach(target.add, target);\n\t}\n\t// no need to go through symbols because they cannot be serialized anyway\n\tfor (const key in patchToApply) {\n\t\tif (!patchToApply.hasOwnProperty(key))\n\t\t\tcontinue;\n\t\tconst subPatch = patchToApply[key];\n\t\tconst targetValue = target[key];\n\t\tif (isPlainObject(targetValue) &&\n\t\t\tisPlainObject(subPatch) &&\n\t\t\ttarget.hasOwnProperty(key) &&\n\t\t\t!isRef(subPatch) &&\n\t\t\t!isReactive(subPatch)) {\n\t\t\t// NOTE: here I wanted to warn about inconsistent types but it's not possible because in setup stores one might\n\t\t\t// start the value of a property as a certain type e.g. a Map, and then for some reason, during SSR, change that\n\t\t\t// to `undefined`. When trying to hydrate, we want to override the Map with `undefined`.\n\t\t\ttarget[key] = mergeReactiveObjects(targetValue, subPatch);\n\t\t}\n\t\telse {\n\t\t\t// @ts-expect-error: subPatch is a valid value\n\t\t\ttarget[key] = subPatch;\n\t\t}\n\t}\n\treturn target;\n}\nconst skipHydrateSymbol = Symbol('pinia:skipHydration')\n;\nconst skipHydrateMap = /*#__PURE__*/ new WeakMap();\n/**\n * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a\n * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.\n *\n * @param obj - target object\n * @returns obj\n */\nfunction skipHydrate(obj) {\n\treturn isVue2\n\t\t? // in @vue/composition-api, the refs are sealed so defineProperty doesn't work...\n\t\t/* istanbul ignore next */ skipHydrateMap.set(obj, 1) && obj\n\t\t: Object.defineProperty(obj, skipHydrateSymbol, {});\n}\nfunction shouldHydrate(obj) {\n\treturn isVue2\n\t\t? /* istanbul ignore next */ !skipHydrateMap.has(obj)\n\t\t: !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);\n}\nconst { assign } = Object;\nfunction isComputed(o) {\n\treturn !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia, hot) {\n\tconst { state, actions, getters } = options;\n\tconst initialState = pinia.state.value[id];\n\tlet store;\n\tfunction setup() {\n\t\tif (!initialState && (!hot)) {\n\t\t\t/* istanbul ignore if */\n\t\t\tif (isVue2) {\n\t\t\t\tset(pinia.state.value, id, state ? state() : {});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpinia.state.value[id] = state ? state() : {};\n\t\t\t}\n\t\t}\n\t\t// avoid creating a state in pinia.state.value\n\t\tconst localState = hot\n\t\t\t? // use ref() to unwrap refs inside state TODO: check if this is still necessary\n\t\t\ttoRefs(ref(state ? state() : {}).value)\n\t\t\t: toRefs(pinia.state.value[id]);\n\t\treturn assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n\t\t\tif (name in localState) {\n\t\t\t\tconsole.warn(`[Pinia]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n\t\t\t}\n\t\t\tcomputedGetters[name] = markRaw(computed(() => {\n\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t// it was created just before\n\t\t\t\tconst store = pinia._s.get(id);\n\t\t\t\t// allow cross using stores\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (isVue2 && !store._r)\n\t\t\t\t\treturn;\n\t\t\t\t// @ts-expect-error\n\t\t\t\t// return getters![name].call(context, context)\n\t\t\t\t// TODO: avoid reading the getter while assigning with a global variable\n\t\t\t\treturn getters[name].call(store, store);\n\t\t\t}));\n\t\t\treturn computedGetters;\n\t\t}, {}));\n\t}\n\tstore = createSetupStore(id, setup, options, pinia, hot, true);\n\tstore.$reset = function $reset() {\n\t\tconst newState = state ? state() : {};\n\t\t// we use a patch to group all changes into one single subscription\n\t\tthis.$patch(($state) => {\n\t\t\tassign($state, newState);\n\t\t});\n\t};\n\treturn store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {\n\tlet scope;\n\tconst optionsForPlugin = assign({ actions: {} }, options);\n\t/* istanbul ignore if */\n\t// @ts-expect-error: active is an internal property\n\tif (!pinia._e.active) {\n\t\tthrow new Error('Pinia destroyed');\n\t}\n\t// watcher options for $subscribe\n\tconst $subscribeOptions = {\n\t\tdeep: true,\n\t\t// flush: 'post',\n\t};\n\t/* istanbul ignore else */\n\tif (!isVue2) {\n\t\t$subscribeOptions.onTrigger = (event) => {\n\t\t\t/* istanbul ignore else */\n\t\t\tif (isListening) {\n\t\t\t\tdebuggerEvents = event;\n\t\t\t\t// avoid triggering this while the store is being built and the state is being set in pinia\n\t\t\t}\n\t\t\telse if (isListening == false && !store._hotUpdating) {\n\t\t\t\t// let patch send all the events together later\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (Array.isArray(debuggerEvents)) {\n\t\t\t\t\tdebuggerEvents.push(event);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.error('Pinia: debuggerEvents should be an array. This is most likely an internal Pinia bug.');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t// internal state\n\tlet isListening; // set to true at the end\n\tlet isSyncListening; // set to true at the end\n\tlet subscriptions = markRaw([]);\n\tlet actionSubscriptions = markRaw([]);\n\tlet debuggerEvents;\n\tconst initialState = pinia.state.value[$id];\n\t// avoid setting the state for option stores if it is set\n\t// by the setup\n\tif (!isOptionsStore && !initialState && (!hot)) {\n\t\t/* istanbul ignore if */\n\t\tif (isVue2) {\n\t\t\tset(pinia.state.value, $id, {});\n\t\t}\n\t\telse {\n\t\t\tpinia.state.value[$id] = {};\n\t\t}\n\t}\n\tconst hotState = ref({});\n\t// avoid triggering too many listeners\n\t// https://github.com/vuejs/pinia/issues/1129\n\tlet activeListener;\n\tfunction $patch(partialStateOrMutator) {\n\t\tlet subscriptionMutation;\n\t\tisListening = isSyncListening = false;\n\t\t// reset the debugger events since patches are sync\n\t\t/* istanbul ignore else */\n\t\t{\n\t\t\tdebuggerEvents = [];\n\t\t}\n\t\tif (typeof partialStateOrMutator === 'function') {\n\t\t\tpartialStateOrMutator(pinia.state.value[$id]);\n\t\t\tsubscriptionMutation = {\n\t\t\t\ttype: MutationType.patchFunction,\n\t\t\t\tstoreId: $id,\n\t\t\t\tevents: debuggerEvents,\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tmergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);\n\t\t\tsubscriptionMutation = {\n\t\t\t\ttype: MutationType.patchObject,\n\t\t\t\tpayload: partialStateOrMutator,\n\t\t\t\tstoreId: $id,\n\t\t\t\tevents: debuggerEvents,\n\t\t\t};\n\t\t}\n\t\tconst myListenerId = (activeListener = Symbol());\n\t\tnextTick().then(() => {\n\t\t\tif (activeListener === myListenerId) {\n\t\t\t\tisListening = true;\n\t\t\t}\n\t\t});\n\t\tisSyncListening = true;\n\t\t// because we paused the watcher, we need to manually call the subscriptions\n\t\ttriggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);\n\t}\n\t/* istanbul ignore next */\n\tconst $reset = () => {\n\t\t\tthrow new Error(`Pinia: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n\t\t}\n\t;\n\tfunction $dispose() {\n\t\tscope.stop();\n\t\tsubscriptions = [];\n\t\tactionSubscriptions = [];\n\t\tpinia._s.delete($id);\n\t}\n\t/**\n\t * Wraps an action to handle subscriptions.\n\t *\n\t * @param name - name of the action\n\t * @param action - action to wrap\n\t * @returns a wrapped action to handle subscriptions\n\t */\n\tfunction wrapAction(name, action) {\n\t\treturn function () {\n\t\t\tsetActivePinia(pinia);\n\t\t\tconst args = Array.from(arguments);\n\t\t\tconst afterCallbackList = [];\n\t\t\tconst onErrorCallbackList = [];\n\t\t\tfunction after(callback) {\n\t\t\t\tafterCallbackList.push(callback);\n\t\t\t}\n\t\t\tfunction onError(callback) {\n\t\t\t\tonErrorCallbackList.push(callback);\n\t\t\t}\n\t\t\t// @ts-expect-error\n\t\t\ttriggerSubscriptions(actionSubscriptions, {\n\t\t\t\targs,\n\t\t\t\tname,\n\t\t\t\tstore,\n\t\t\t\tafter,\n\t\t\t\tonError,\n\t\t\t});\n\t\t\tlet ret;\n\t\t\ttry {\n\t\t\t\tret = action.apply(this && this.$id === $id ? this : store, args);\n\t\t\t\t// handle sync errors\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\ttriggerSubscriptions(onErrorCallbackList, error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t\tif (ret instanceof Promise) {\n\t\t\t\treturn ret\n\t\t\t\t\t.then((value) => {\n\t\t\t\t\t\ttriggerSubscriptions(afterCallbackList, value);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\ttriggerSubscriptions(onErrorCallbackList, error);\n\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// allow the afterCallback to override the return value\n\t\t\ttriggerSubscriptions(afterCallbackList, ret);\n\t\t\treturn ret;\n\t\t};\n\t}\n\tconst _hmrPayload = /*#__PURE__*/ markRaw({\n\t\tactions: {},\n\t\tgetters: {},\n\t\tstate: [],\n\t\thotState,\n\t});\n\tconst partialStore = {\n\t\t_p: pinia,\n\t\t// _s: scope,\n\t\t$id,\n\t\t$onAction: addSubscription.bind(null, actionSubscriptions),\n\t\t$patch,\n\t\t$reset,\n\t\t$subscribe(callback, options = {}) {\n\t\t\tconst removeSubscription = addSubscription(subscriptions, callback, options.detached, () => stopWatcher());\n\t\t\tconst stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {\n\t\t\t\tif (options.flush === 'sync' ? isSyncListening : isListening) {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tstoreId: $id,\n\t\t\t\t\t\ttype: MutationType.direct,\n\t\t\t\t\t\tevents: debuggerEvents,\n\t\t\t\t\t}, state);\n\t\t\t\t}\n\t\t\t}, assign({}, $subscribeOptions, options)));\n\t\t\treturn removeSubscription;\n\t\t},\n\t\t$dispose,\n\t};\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\t// start as non ready\n\t\tpartialStore._r = false;\n\t}\n\tconst store = reactive(assign(IS_CLIENT\n\t\t\t? // devtools custom properties\n\t\t\t{\n\t\t\t\t_customProperties: markRaw(new Set()),\n\t\t\t\t_hmrPayload,\n\t\t\t}\n\t\t\t: {}, partialStore\n\t\t// must be added later\n\t\t// setupStore\n\t));\n\t// store the partial store now so the setup of stores can instantiate each other before they are finished without\n\t// creating infinite loops.\n\tpinia._s.set($id, store);\n\t// TODO: idea create skipSerialize that marks properties as non serializable and they are skipped\n\tconst setupStore = pinia._e.run(() => {\n\t\tscope = effectScope();\n\t\treturn scope.run(() => setup());\n\t});\n\t// overwrite existing actions to support $onAction\n\tfor (const key in setupStore) {\n\t\tconst prop = setupStore[key];\n\t\tif ((isRef(prop) && !isComputed(prop)) || isReactive(prop)) {\n\t\t\t// mark it as a piece of state to be serialized\n\t\t\tif (hot) {\n\t\t\t\tset(hotState.value, key, toRef(setupStore, key));\n\t\t\t\t// createOptionStore directly sets the state in pinia.state.value so we\n\t\t\t\t// can just skip that\n\t\t\t}\n\t\t\telse if (!isOptionsStore) {\n\t\t\t\t// in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created\n\t\t\t\tif (initialState && shouldHydrate(prop)) {\n\t\t\t\t\tif (isRef(prop)) {\n\t\t\t\t\t\tprop.value = initialState[key];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// probably a reactive object, lets recursively assign\n\t\t\t\t\t\tmergeReactiveObjects(prop, initialState[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// transfer the ref to the pinia state to keep everything in sync\n\t\t\t\t/* istanbul ignore if */\n\t\t\t\tif (isVue2) {\n\t\t\t\t\tset(pinia.state.value[$id], key, prop);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpinia.state.value[$id][key] = prop;\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t_hmrPayload.state.push(key);\n\t\t\t}\n\t\t\t// action\n\t\t}\n\t\telse if (typeof prop === 'function') {\n\t\t\t// @ts-expect-error: we are overriding the function we avoid wrapping if\n\t\t\tconst actionValue = hot ? prop : wrapAction(key, prop);\n\t\t\t// this a hot module replacement store because the hotUpdate method needs\n\t\t\t// to do it with the right context\n\t\t\t/* istanbul ignore if */\n\t\t\tif (isVue2) {\n\t\t\t\tset(setupStore, key, actionValue);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tsetupStore[key] = actionValue;\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t_hmrPayload.actions[key] = prop;\n\t\t\t}\n\t\t\t// list actions so they can be used in plugins\n\t\t\t// @ts-expect-error\n\t\t\toptionsForPlugin.actions[key] = prop;\n\t\t}\n\t\telse {\n\t\t\t// add getters for devtools\n\t\t\tif (isComputed(prop)) {\n\t\t\t\t_hmrPayload.getters[key] = isOptionsStore\n\t\t\t\t\t? // @ts-expect-error\n\t\t\t\t\toptions.getters[key]\n\t\t\t\t\t: prop;\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\tconst getters =\n\t\t\t\t\t\t// @ts-expect-error: it should be on the store\n\t\t\t\t\t\tsetupStore._getters || (setupStore._getters = markRaw([]));\n\t\t\t\t\tgetters.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// add the state, getters, and action properties\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\tObject.keys(setupStore).forEach((key) => {\n\t\t\tset(store, key,\n\t\t\t\t// @ts-expect-error: valid key indexing\n\t\t\t\tsetupStore[key]);\n\t\t});\n\t}\n\telse {\n\t\tassign(store, setupStore);\n\t\t// allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.\n\t\t// Make `storeToRefs()` work with `reactive()` #799\n\t\tassign(toRaw(store), setupStore);\n\t}\n\t// use this instead of a computed with setter to be able to create it anywhere\n\t// without linking the computed lifespan to wherever the store is first\n\t// created.\n\tObject.defineProperty(store, '$state', {\n\t\tget: () => (hot ? hotState.value : pinia.state.value[$id]),\n\t\tset: (state) => {\n\t\t\t/* istanbul ignore if */\n\t\t\tif (hot) {\n\t\t\t\tthrow new Error('cannot set hotState');\n\t\t\t}\n\t\t\t$patch(($state) => {\n\t\t\t\tassign($state, state);\n\t\t\t});\n\t\t},\n\t});\n\t// add the hotUpdate before plugins to allow them to override it\n\t/* istanbul ignore else */\n\t{\n\t\tstore._hotUpdate = markRaw((newStore) => {\n\t\t\tstore._hotUpdating = true;\n\t\t\tnewStore._hmrPayload.state.forEach((stateKey) => {\n\t\t\t\tif (stateKey in store.$state) {\n\t\t\t\t\tconst newStateTarget = newStore.$state[stateKey];\n\t\t\t\t\tconst oldStateSource = store.$state[stateKey];\n\t\t\t\t\tif (typeof newStateTarget === 'object' &&\n\t\t\t\t\t\tisPlainObject(newStateTarget) &&\n\t\t\t\t\t\tisPlainObject(oldStateSource)) {\n\t\t\t\t\t\tpatchObject(newStateTarget, oldStateSource);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// transfer the ref\n\t\t\t\t\t\tnewStore.$state[stateKey] = oldStateSource;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// patch direct access properties to allow store.stateProperty to work as\n\t\t\t\t// store.$state.stateProperty\n\t\t\t\tset(store, stateKey, toRef(newStore.$state, stateKey));\n\t\t\t});\n\t\t\t// remove deleted state properties\n\t\t\tObject.keys(store.$state).forEach((stateKey) => {\n\t\t\t\tif (!(stateKey in newStore.$state)) {\n\t\t\t\t\tdel(store, stateKey);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// avoid devtools logging this as a mutation\n\t\t\tisListening = false;\n\t\t\tisSyncListening = false;\n\t\t\tpinia.state.value[$id] = toRef(newStore._hmrPayload, 'hotState');\n\t\t\tisSyncListening = true;\n\t\t\tnextTick().then(() => {\n\t\t\t\tisListening = true;\n\t\t\t});\n\t\t\tfor (const actionName in newStore._hmrPayload.actions) {\n\t\t\t\tconst action = newStore[actionName];\n\t\t\t\tset(store, actionName, wrapAction(actionName, action));\n\t\t\t}\n\t\t\t// TODO: does this work in both setup and option store?\n\t\t\tfor (const getterName in newStore._hmrPayload.getters) {\n\t\t\t\tconst getter = newStore._hmrPayload.getters[getterName];\n\t\t\t\tconst getterValue = isOptionsStore\n\t\t\t\t\t? // special handling of options api\n\t\t\t\t\tcomputed(() => {\n\t\t\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t\t\treturn getter.call(store, store);\n\t\t\t\t\t})\n\t\t\t\t\t: getter;\n\t\t\t\tset(store, getterName, getterValue);\n\t\t\t}\n\t\t\t// remove deleted getters\n\t\t\tObject.keys(store._hmrPayload.getters).forEach((key) => {\n\t\t\t\tif (!(key in newStore._hmrPayload.getters)) {\n\t\t\t\t\tdel(store, key);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// remove old actions\n\t\t\tObject.keys(store._hmrPayload.actions).forEach((key) => {\n\t\t\t\tif (!(key in newStore._hmrPayload.actions)) {\n\t\t\t\t\tdel(store, key);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// update the values used in devtools and to allow deleting new properties later on\n\t\t\tstore._hmrPayload = newStore._hmrPayload;\n\t\t\tstore._getters = newStore._getters;\n\t\t\tstore._hotUpdating = false;\n\t\t});\n\t\tconst nonEnumerable = {\n\t\t\twritable: true,\n\t\t\tconfigurable: true,\n\t\t\t// avoid warning on devtools trying to display this property\n\t\t\tenumerable: false,\n\t\t};\n\t\tif (IS_CLIENT) {\n\t\t\t['_p', '_hmrPayload', '_getters', '_customProperties'].forEach((p) => {\n\t\t\t\tObject.defineProperty(store, p, {\n\t\t\t\t\tvalue: store[p],\n\t\t\t\t\t...nonEnumerable,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\t// mark the store as ready before plugins\n\t\tstore._r = true;\n\t}\n\t// apply all plugins\n\tpinia._p.forEach((extender) => {\n\t\t/* istanbul ignore else */\n\t\tif (IS_CLIENT) {\n\t\t\tconst extensions = scope.run(() => extender({\n\t\t\t\tstore,\n\t\t\t\tapp: pinia._a,\n\t\t\t\tpinia,\n\t\t\t\toptions: optionsForPlugin,\n\t\t\t}));\n\t\t\tObject.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n\t\t\tassign(store, extensions);\n\t\t}\n\t\telse {\n\t\t\tassign(store, scope.run(() => extender({\n\t\t\t\tstore,\n\t\t\t\tapp: pinia._a,\n\t\t\t\tpinia,\n\t\t\t\toptions: optionsForPlugin,\n\t\t\t})));\n\t\t}\n\t});\n\tif (store.$state &&\n\t\ttypeof store.$state === 'object' &&\n\t\ttypeof store.$state.constructor === 'function' &&\n\t\t!store.$state.constructor.toString().includes('[native code]')) {\n\t\tconsole.warn(`[Pinia]: The \"state\" must be a plain object. It cannot be\\n` +\n\t\t\t`\\tstate: () => new MyClass()\\n` +\n\t\t\t`Found in store \"${store.$id}\".`);\n\t}\n\t// only apply hydrate to option stores with an initial state in pinia\n\tif (initialState &&\n\t\tisOptionsStore &&\n\t\toptions.hydrate) {\n\t\toptions.hydrate(store.$state, initialState);\n\t}\n\tisListening = true;\n\tisSyncListening = true;\n\treturn store;\n}\nfunction defineStore(\n// TODO: add proper types from above\nidOrOptions, setup, setupOptions) {\n\tlet id;\n\tlet options;\n\tconst isSetupStore = typeof setup === 'function';\n\tif (typeof idOrOptions === 'string') {\n\t\tid = idOrOptions;\n\t\t// the option store setup will contain the actual options in this case\n\t\toptions = isSetupStore ? setupOptions : setup;\n\t}\n\telse {\n\t\toptions = idOrOptions;\n\t\tid = idOrOptions.id;\n\t}\n\tfunction useStore(pinia, hot) {\n\t\tconst currentInstance = getCurrentInstance();\n\t\tpinia =\n\t\t\t// in test mode, ignore the argument provided as we can always retrieve a\n\t\t\t// pinia instance with getActivePinia()\n\t\t\t(pinia) ||\n\t\t\t(currentInstance && inject(piniaSymbol));\n\t\tif (pinia)\n\t\t\tsetActivePinia(pinia);\n\t\tif (!activePinia) {\n\t\t\tthrow new Error(`[Pinia]: getActivePinia was called with no active Pinia. Did you forget to install pinia?\\n` +\n\t\t\t\t`\\tconst pinia = createPinia()\\n` +\n\t\t\t\t`\\tapp.use(pinia)\\n` +\n\t\t\t\t`This will fail in production.`);\n\t\t}\n\t\tpinia = activePinia;\n\t\tif (!pinia._s.has(id)) {\n\t\t\t// creating the store registers it in `pinia._s`\n\t\t\tif (isSetupStore) {\n\t\t\t\tcreateSetupStore(id, setup, options, pinia);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcreateOptionsStore(id, options, pinia);\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t// @ts-expect-error: not the right inferred type\n\t\t\t\tuseStore._pinia = pinia;\n\t\t\t}\n\t\t}\n\t\tconst store = pinia._s.get(id);\n\t\tif (hot) {\n\t\t\tconst hotId = '__hot:' + id;\n\t\t\tconst newStore = isSetupStore\n\t\t\t\t? createSetupStore(hotId, setup, options, pinia, true)\n\t\t\t\t: createOptionsStore(hotId, assign({}, options), pinia, true);\n\t\t\thot._hotUpdate(newStore);\n\t\t\t// cleanup the state properties and the store from the cache\n\t\t\tdelete pinia.state.value[hotId];\n\t\t\tpinia._s.delete(hotId);\n\t\t}\n\t\t// save stores in instances to access them devtools\n\t\tif (IS_CLIENT &&\n\t\t\tcurrentInstance &&\n\t\t\tcurrentInstance.proxy &&\n\t\t\t// avoid adding stores that are just built for hot module replacement\n\t\t\t!hot) {\n\t\t\tconst vm = currentInstance.proxy;\n\t\t\tconst cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\n\t\t\tcache[id] = store;\n\t\t}\n\t\t// StoreGeneric cannot be casted towards Store\n\t\treturn store;\n\t}\n\tuseStore.$id = id;\n\treturn useStore;\n}\n\nlet mapStoreSuffix = 'Store';\n/**\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\n * interface if you are using TypeScript.\n *\n * @param suffix - new suffix\n */\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\n) {\n\tmapStoreSuffix = suffix;\n}\n/**\n * Allows using stores without the composition API (`setup()`) by generating an\n * object to be spread in the `computed` field of a component. It accepts a list\n * of store definitions.\n *\n * @example\n * ```js\n * export default {\n *   computed: {\n *     // other computed properties\n *     ...mapStores(useUserStore, useCartStore)\n *   },\n *\n *   created() {\n *     this.userStore // store with id \"user\"\n *     this.cartStore // store with id \"cart\"\n *   }\n * }\n * ```\n *\n * @param stores - list of stores to map to an object\n */\nfunction mapStores(...stores) {\n\tif (Array.isArray(stores[0])) {\n\t\tconsole.warn(`[Pinia]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\n\t\t\t`Replace\\n` +\n\t\t\t`\\tmapStores([useAuthStore, useCartStore])\\n` +\n\t\t\t`with\\n` +\n\t\t\t`\\tmapStores(useAuthStore, useCartStore)\\n` +\n\t\t\t`This will fail in production if not fixed.`);\n\t\tstores = stores[0];\n\t}\n\treturn stores.reduce((reduced, useStore) => {\n\t\t// @ts-expect-error: $id is added by defineStore\n\t\treduced[useStore.$id + mapStoreSuffix] = function () {\n\t\t\treturn useStore(this.$pinia);\n\t\t};\n\t\treturn reduced;\n\t}, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapState(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\treduced[key] = function () {\n\t\t\t\treturn useStore(this.$pinia)[key];\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function () {\n\t\t\t\tconst store = useStore(this.$pinia);\n\t\t\t\tconst storeKey = keysOrMapper[key];\n\t\t\t\t// for some reason TS is unable to infer the type of storeKey to be a\n\t\t\t\t// function\n\t\t\t\treturn typeof storeKey === 'function'\n\t\t\t\t\t? storeKey.call(this, store)\n\t\t\t\t\t: store[storeKey];\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n/**\n * Alias for `mapState()`. You should use `mapState()` instead.\n * @deprecated use `mapState()` instead.\n */\nconst mapGetters = mapState;\n/**\n * Allows directly using actions from your store without using the composition\n * API (`setup()`) by generating an object to be spread in the `methods` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapActions(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function (...args) {\n\t\t\t\treturn useStore(this.$pinia)[key](...args);\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function (...args) {\n\t\t\t\treturn useStore(this.$pinia)[keysOrMapper[key]](...args);\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapWritableState(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\t// @ts-ignore\n\t\t\treduced[key] = {\n\t\t\t\tget() {\n\t\t\t\t\treturn useStore(this.$pinia)[key];\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\t// it's easier to type it here as any\n\t\t\t\t\treturn (useStore(this.$pinia)[key] = value);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-ignore\n\t\t\treduced[key] = {\n\t\t\t\tget() {\n\t\t\t\t\treturn useStore(this.$pinia)[keysOrMapper[key]];\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\t// it's easier to type it here as any\n\t\t\t\t\treturn (useStore(this.$pinia)[keysOrMapper[key]] = value);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n\n/**\n * Creates an object of references with all the state, getters, and plugin-added\n * state properties of the store. Similar to `toRefs()` but specifically\n * designed for Pinia stores so methods and non reactive properties are\n * completely ignored.\n *\n * @param store - store to extract the refs from\n */\nfunction storeToRefs(store) {\n\t// See https://github.com/vuejs/pinia/issues/852\n\t// It's easier to just use toRefs() even if it includes more stuff\n\tif (isVue2) {\n\t\t// @ts-expect-error: toRefs include methods and others\n\t\treturn toRefs(store);\n\t}\n\telse {\n\t\tstore = toRaw(store);\n\t\tconst refs = {};\n\t\tfor (const key in store) {\n\t\t\tconst value = store[key];\n\t\t\tif (isRef(value) || isReactive(value)) {\n\t\t\t\t// @ts-expect-error: the key is state or getter\n\t\t\t\trefs[key] =\n\t\t\t\t\t// ---\n\t\t\t\t\ttoRef(store, key);\n\t\t\t}\n\t\t}\n\t\treturn refs;\n\t}\n}\n\n/**\n * Vue 2 Plugin that must be installed for pinia to work. Note **you don't need\n * this plugin if you are using Nuxt.js**. Use the `buildModule` instead:\n * https://pinia.vuejs.org/ssr/nuxt.html.\n *\n * @example\n * ```js\n * import Vue from 'vue'\n * import { PiniaVuePlugin, createPinia } from 'pinia'\n *\n * Vue.use(PiniaVuePlugin)\n * const pinia = createPinia()\n *\n * new Vue({\n *   el: '#app',\n *   // ...\n *   pinia,\n * })\n * ```\n *\n * @param _Vue - `Vue` imported from 'vue'.\n */\nconst PiniaVuePlugin = function (_Vue) {\n\t// Equivalent of\n\t// app.config.globalProperties.$pinia = pinia\n\t_Vue.mixin({\n\t\tbeforeCreate() {\n\t\t\tconst options = this.$options;\n\t\t\tif (options.pinia) {\n\t\t\t\tconst pinia = options.pinia;\n\t\t\t\t// HACK: taken from provide(): https://github.com/vuejs/composition-api/blob/main/src/apis/inject.ts#L31\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (!this._provided) {\n\t\t\t\t\tconst provideCache = {};\n\t\t\t\t\tObject.defineProperty(this, '_provided', {\n\t\t\t\t\t\tget: () => provideCache,\n\t\t\t\t\t\tset: (v) => Object.assign(provideCache, v),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis._provided[piniaSymbol] = pinia;\n\t\t\t\t// propagate the pinia instance in an SSR friendly way\n\t\t\t\t// avoid adding it to nuxt twice\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (!this.$pinia) {\n\t\t\t\t\tthis.$pinia = pinia;\n\t\t\t\t}\n\t\t\t\tpinia._a = this;\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\t// this allows calling useStore() outside of a component setup after\n\t\t\t\t\t// installing pinia's plugin\n\t\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t}\n\t\t\t\tif (USE_DEVTOOLS) {\n\t\t\t\t\tregisterPiniaDevtools(pinia._a, pinia);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (!this.$pinia && options.parent && options.parent.$pinia) {\n\t\t\t\tthis.$pinia = options.parent.$pinia;\n\t\t\t}\n\t\t},\n\t\tdestroyed() {\n\t\t\tdelete this._pStores;\n\t\t},\n\t});\n};\n\nexport { MutationType, PiniaVuePlugin, acceptHMRUpdate, createPinia, defineStore, getActivePinia, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix, skipHydrate, storeToRefs };\n// origin-end\nconst version = '2.0.22';\nexport {version}",null]}