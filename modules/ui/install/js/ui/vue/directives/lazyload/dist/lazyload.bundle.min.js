(function(a,s){"use strict";var l="bx-lazyload-watch";var e="bx-lazyload-loading";var t="bx-lazyload-success";var o="bx-lazyload-error";var c="bx-lazyload-hidden";var r="data:image/svg+xml,%3Csvg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'%3E%3C/svg%3E";var i=null;var d=function a(s,r){var d=s.dataset.lazyloadSuccessClass?s.dataset.lazyloadSuccessClass.split(" "):[];delete s.dataset.lazyloadSuccessClass;d=[t].concat(babelHelpers.toConsumableArray(d));var n=s.dataset.lazyloadErrorClass?s.dataset.lazyloadErrorClass.split(" "):[];delete s.dataset.lazyloadErrorClass;n=[o].concat(babelHelpers.toConsumableArray(n));s.classList.add(e);var f=new Image;f.src=s.dataset.lazyloadSrc;if(!s.dataset.lazyloadHiddenSrc){s.dataset.lazyloadHiddenSrc=s.src}f.onload=function(){var a;if(s.classList.contains(c)){return false}if(s.dataset.lazyloadSrc){s.src=s.dataset.lazyloadSrc}s.classList.remove(e);(a=s.classList).add.apply(a,babelHelpers.toConsumableArray(d));if(typeof s.lazyloadCallback==="function"){s.lazyloadCallback({element:s,state:"success"});delete s.lazyloadCallback}};f.onerror=function(){var a;if(s.classList.contains(c)){return false}s.classList.remove(e);(a=s.classList).add.apply(a,babelHelpers.toConsumableArray(n));s.title="";s.alt="";if(typeof s.lazyloadCallback==="function"){s.lazyloadCallback({element:s,state:"error"});delete s.lazyloadCallback}};if(typeof s.dataset.lazyloadDontHide!=="undefined"){s.classList.remove(l);delete s.dataset.lazyloadDontHide;if(i){i.unobserve(s)}}};if(typeof window.IntersectionObserver!=="undefined"){i=new IntersectionObserver((function(a,s){a.forEach((function(a){var s=a.target;if(a.isIntersecting){if(s.classList.contains(c)){if(s.dataset.lazyloadSrc){s.src=s.dataset.lazyloadSrc}s.classList.remove(c)}else if(s.classList.contains(l)){return true}else{s.classList.add(l);d(s)}}else{if(s.classList.contains(c)||!s.classList.contains(l)){return true}if(s.dataset.lazyloadHiddenSrc){s.src=s.dataset.lazyloadHiddenSrc}s.classList.remove(e);s.classList.add(c)}}))}),{threshold:[0,1]})}s.BitrixVue.directive("bx-lazyload",{bind:function a(s,l){if(babelHelpers["typeof"](l.value)==="object"&&typeof l.value.callback==="function"){s.lazyloadCallback=l.value.callback}if(!s.src||s.src===location.href.replace(location.hash,"")){s.src=r}if(i){i.observe(s)}else{d(s)}},componentUpdated:function a(s){if(!s.classList.contains(t)&&!s.classList.contains(o)&&!s.classList.contains(l)&&!s.classList.contains(e)){s.classList.add(e)}else if((s.classList.contains(t)||s.classList.contains(o))&&s.dataset.lazyloadSrc&&s.dataset.lazyloadSrc!==s.src){if(!s.dataset.lazyloadSrc.startsWith("http")){var c=document.createElement("a");c.href=s.dataset.lazyloadSrc;if(c.href===s.src){return}}d(s)}},unbind:function a(s){if(i){i.unobserve(s)}}})})(this.window=this.window||{},BX);
//# sourceMappingURL=lazyload.bundle.map.js