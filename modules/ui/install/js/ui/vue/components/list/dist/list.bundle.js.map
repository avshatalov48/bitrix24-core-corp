{"version":3,"file":"list.bundle.js","sources":["../src/list-element.js","../src/list.js"],"sourcesContent":["/**\n * Bitrix UI\n * Base list element\n *\n * @package bitrix\n * @subpackage ui\n * @copyright 2001-2020 Bitrix\n */\n\nimport {BitrixVue} from 'ui.vue';\n\nBitrixVue.component('bx-list-element',\n{\n\tprops: [\n\t\t'rawListItem',\n\t\t'itemTypes'\n\t],\n\tcomputed:\n\t\t{\n\t\t\timageStyle()\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t},\n\n\t\t\timageClass()\n\t\t\t{\n\t\t\t\treturn 'bx-vue-list-item-image';\n\t\t\t},\n\n\t\t\tavatarText()\n\t\t\t{\n\t\t\t\tlet words = this.listItem.title.value.split(' ');\n\t\t\t\tif (words.length > 1)\n\t\t\t\t{\n\t\t\t\t\treturn words[0].charAt(0) + words[1].charAt(0);\n\t\t\t\t}\n\t\t\t\telse if (words.length === 1)\n\t\t\t\t{\n\t\t\t\t\treturn words[0].charAt(0);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tlistItemStyle()\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t},\n\n\t\t\tlistItem()\n\t\t\t{\n\t\t\t\treturn this.rawListItem;\n\t\t\t}\n\t\t},\n\t\ttemplate: `\n\t\t<div class=\"bx-vue-list-item\" :style=\"listItemStyle\">\n\t\t\t<template v-if=\"listItem.template !== itemTypes.placeholder\">\n\t\t\t\t<div v-if=\"listItem.avatar\" class=\"bx-vue-list-item-image-wrap\">\n\t\t\t\t\t<img v-if=\"listItem.avatar.url\" :src=\"listItem.avatar.url\" :style=\"imageStyle\" :class=\"imageClass\" alt=\"\">\n\t\t\t\t\t<div v-else-if=\"!listItem.avatar.url\" :style=\"imageStyle\" class=\"bx-vue-list-item-image-text\">{{ avatarText }}</div>\t\n\t\t\t\t\t<div v-if=\"listItem.avatar.topLeftIcon\" :class=\"'bx-vue-list-icon-avatar-top-left bx-vue-list-avatar-top-left-' + listItem.avatar.topLeftIcon\"></div>\n\t\t\t\t\t<div v-if=\"listItem.avatar.bottomRightIcon\" :class=\"'bx-vue-list-icon-avatar-bottom-right bx-vue-list-avatar-bottom-right-' + listItem.avatar.bottomRightIcon\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-vue-list-item-content\">\n\t\t\t\t\t<div class=\"bx-vue-list-item-content-header\">\n\t\t\t\t\t\t<div v-if=\"listItem.title\" class=\"bx-vue-list-item-header-title\">\n\t\t\t\t\t\t\t<div v-if=\"listItem.title.leftIcon\" :class=\"'bx-vue-list-icon-title-left bx-vue-list-icon-title-left-' + listItem.title.leftIcon\"></div>\n\t\t\t\t\t\t\t<span class=\"bx-vue-list-item-header-title-text\">{{ listItem.title.value }}</span>\n\t\t\t\t\t\t\t<div v-if=\"listItem.title.rightIcon\" :class=\"'bx-vue-list-icon-title-right bx-vue-list-icon-title-right-' + listItem.title.rightIcon\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if=\"listItem.date\" class=\"bx-vue-list-item-header-date\">\n\t\t\t\t\t\t\t<div v-if=\"listItem.date.leftIcon\" :class=\"'bx-vue-list-icon-date-left bx-vue-list-icon-date-left-' + listItem.date.leftIcon\"></div>\n\t\t\t\t\t\t\t{{ listItem.date.value }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-vue-list-item-content-bottom\">\n\t\t\t\t\t\t<div v-if=\"listItem.subtitle\" class=\"bx-vue-list-item-bottom-subtitle\">\n\t\t\t\t\t\t\t<div v-if=\"listItem.subtitle.leftIcon\" :class=\"'bx-vue-list-icon-subtitle-left bx-vue-list-icon-subtitle-left-' + listItem.subtitle.leftIcon\"></div>\n\t\t\t\t\t\t\t<span class=\"bx-vue-list-item-bottom-subtitle-text\">{{ listItem.subtitle.value }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"bx-vue-list-item-bottom-counter\">\n\t\t\t\t\t\t\t<div v-if=\"listItem.counter.leftIcon\" :class=\"'bx-vue-list-icon-counter-left bx-vue-list-icon-counter-left-' + listItem.counter.leftIcon\"></div>\n\t\t\t\t\t\t\t<div v-if=\"listItem.counter.value > 0\" class=\"bx-vue-list-item-bottom-counter-value\">{{ listItem.counter.value }}</div>\n\t\t\t\t\t\t\t<div v-else-if=\"listItem.notification\" class=\"bx-vue-list-item-bottom-counter-notification\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"listItem.template === itemTypes.placeholder\">\n\t\t\t\t<div class=\"bx-vue-list-item-image-wrap\"><img src=\"https://www.ischool.berkeley.edu/sites/default/files/default_images/avatar.jpeg\" alt=\"\" class=\"bx-vue-list-item-image\"></div>\n\t\t\t\t<div class=\"bx-vue-list-item-content\">\n\t\t\t\t\t<div class=\"bx-vue-list-item-content-header\">\n\t\t\t\t\t\t<div class=\"bx-vue-list-item-placeholder-title\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-vue-list-item-content-bottom\">\n\t\t\t\t\t\t<div class=\"bx-vue-list-item-bottom-subtitle\">\n\t\t\t\t\t\t\t<div class=\"bx-vue-list-item-placeholder-subtitle\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`\n});","/**\n * Bitrix UI\n * Base list\n *\n * @package bitrix\n * @subpackage ui\n * @copyright 2001-2020 Bitrix\n */\n\nimport \"ui.design-tokens\";\nimport \"./list.css\";\nimport \"./list-element\";\n\nimport {BitrixVue} from 'ui.vue';\n\nBitrixVue.component('bx-list',\n{\n\tdata()\n\t{\n\t\treturn {\n\t\t\tgeneralSectionName: 'general',\n\t\t\tshowSectionNames: true,\n\t\t\tresultList: {},\n\t\t\titemTypes: {\n\t\t\t\tdefault: 'default',\n\t\t\t\tplaceholder: 'placeholder'\n\t\t\t},\n\t\t\tcssPrefix: '',\n\t\t\tobserver: null,\n\t\t\telementComponent: 'bx-list-element',\n\t\t}\n\t},\n\tcreated()\n\t{\n\t},\n\tmethods:\n\t{\n\t\t/* region 01. Data validation */\n\t\tvalidateData(listData)\n\t\t{\n\t\t\tlet result = [];\n\n\t\t\tlistData.items.forEach(listItem => {\n\t\t\t\tresult.push(this.validateItem(listItem));\n\t\t\t});\n\n\t\t\tthis.list = result;\n\n\t\t\tthis.validateSections(listData.sections);\n\t\t},\n\n\t\tvalidateItem(listItem)\n\t\t{\n\t\t\tlet itemResult = {};\n\n\t\t\tif (typeof listItem.id === \"number\" || typeof listItem.id === \"string\")\n\t\t\t{\n\t\t\t\titemResult.id = listItem.id.toString();\n\t\t\t}\n\n\t\t\tif (typeof listItem.type !== \"undefined\" && this.itemTypes[listItem.type])\n\t\t\t{\n\t\t\t\titemResult.type = listItem.type;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\titemResult.type = this.itemTypes.default;\n\t\t\t}\n\n\t\t\tif (typeof listItem.title !== \"undefined\")\n\t\t\t{\n\t\t\t\titemResult.title = {};\n\n\t\t\t\tif (typeof listItem.title === 'object' && listItem.title)\n\t\t\t\t{\n\t\t\t\t\tif (typeof listItem.title.value === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.title.value = listItem.title.value;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.title.leftIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.title.leftIcon = listItem.title.leftIcon;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.title.rightIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.title.rightIcon = listItem.title.rightIcon;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof listItem.title === 'string')\n\t\t\t\t{\n\t\t\t\t\titemResult.title.value = listItem.title;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof listItem.subtitle !== \"undefined\")\n\t\t\t{\n\t\t\t\titemResult.subtitle = {};\n\n\t\t\t\tif (typeof listItem.subtitle === 'object' && listItem.subtitle)\n\t\t\t\t{\n\t\t\t\t\tif (typeof listItem.subtitle.value === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.subtitle.value = listItem.subtitle.value;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.subtitle.leftIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.subtitle.leftIcon = listItem.subtitle.leftIcon;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof listItem.subtitle === 'string')\n\t\t\t\t{\n\t\t\t\t\titemResult.subtitle.value = listItem.subtitle;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof listItem.avatar !== 'undefined')\n\t\t\t{\n\t\t\t\titemResult.avatar = {};\n\n\t\t\t\tif (typeof listItem.avatar === 'object' && listItem.avatar)\n\t\t\t\t{\n\t\t\t\t\t//TODO: avatar processing\n\t\t\t\t\tif (typeof listItem.avatar.url === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.avatar.url = listItem.avatar.url;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.avatar.topLeftIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.avatar.topLeftIcon = listItem.avatar.topLeftIcon;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.avatar.bottomRightIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.avatar.bottomRightIcon = listItem.avatar.bottomRightIcon;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof listItem.avatar === 'string')\n\t\t\t\t{\n\t\t\t\t\t//TODO: avatar processing\n\t\t\t\t\titemResult.avatar.url = listItem.avatar;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof listItem.date !== 'undefined')\n\t\t\t{\n\t\t\t\titemResult.date = {};\n\n\t\t\t\tif (typeof listItem.date === 'object' && listItem.date && !(listItem.date instanceof Date))\n\t\t\t\t{\n\t\t\t\t\tif (listItem.date.value instanceof Date)\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.date.value = this.formatDate(listItem.date.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.date.leftIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.date.leftIcon = listItem.date.leftIcon;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (listItem.date instanceof Date)\n\t\t\t\t{\n\t\t\t\t\titemResult.date.value = this.formatDate(listItem.date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof listItem.sectionCode === 'string')\n\t\t\t{\n\t\t\t\titemResult.sectionCode = listItem.sectionCode;\n\t\t\t}\n\n\t\t\tif (typeof listItem.counter === 'number')\n\t\t\t{\n\t\t\t\titemResult.counter = this.formatCounter(listItem.counter);\n\t\t\t}\n\n\t\t\tif (typeof listItem.notification === 'boolean')\n\t\t\t{\n\t\t\t\titemResult.notification = listItem.notification;\n\t\t\t}\n\n\t\t\treturn itemResult;\n\t\t},\n\n\t\tvalidateSections(sections)\n\t\t{\n\t\t\tif (sections && sections.length > 0)\n\t\t\t{\n\t\t\t\tsections.forEach(element => {\n\t\t\t\t\tif (typeof element === 'string' && element.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.sections.push(element)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.sections.length === 0)\n\t\t\t{\n\t\t\t\tthis.sections = [this.generalSectionName];\n\t\t\t\tthis.list.map(element => {\n\t\t\t\t\telement.sectionCode = this.generalSectionName;\n\t\t\t\t\treturn element;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tformatCounter(counter)\n\t\t{\n\t\t\tif (counter > 999)\n\t\t\t{\n\t\t\t\tcounter = 999;\n\t\t\t}\n\t\t\telse if (counter < 0)\n\t\t\t{\n\t\t\t\tcounter = 0\n\t\t\t}\n\n\t\t\treturn counter;\n\t\t},\n\t\t/* endregion 01. Data validation */\n\n\t\t/* region 02. Events handling */\n\t\tonScroll(event)\n\t\t{\n\n\t\t},\n\n\t\tonClick(event, id)\n\t\t{\n\n\t\t},\n\n\t\tonDoubleClick(event)\n\t\t{\n\n\t\t}\n\t\t/* endregion 02. Events handling */\n\t},\n\tcomputed:\n\t{\n\t\twrapperStyle()\n\t\t{\n\t\t\treturn this.cssPrefix + ' bx-vue-list-wrap'\n\t\t},\n\n\t\tlist()\n\t\t{\n\t\t\treturn [];\n\t\t},\n\n\t\tsections()\n\t\t{\n\t\t\treturn [];\n\t\t},\n\n\t\tsectionedList()\n\t\t{\n\t\t\tthis.sections.forEach(section => {\n\t\t\t\tBitrixVue.set(this.resultList, section, []);\n\n\t\t\t\tlet listForSection = this.list.filter(item => {\n\t\t\t\t\treturn item.sectionCode === section;\n\t\t\t\t});\n\n\t\t\t\tthis.resultList[section] = [...listForSection];\n\t\t\t});\n\n\t\t\treturn this.resultList;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div :class=\"wrapperStyle\" @scroll=\"onScroll\">\n\t\t\t<template v-for=\"section in sections\">\n\t\t\t\t<div v-if=\"sections.length > 1 && sectionedList[section].length > 0 && showSectionNames\" class=\"bx-vue-list-section\">{{ section }}</div>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"listItem in sectionedList[section]\"\n\t\t\t\t\t:key=\"listItem.id\"\n\t\t\t\t\t@click=\"onClick($event, listItem.id)\"\n\t\t\t\t\t@click.right=\"onRightClick($event, listItem.id)\"\n\t\t\t\t\t:data-id=\"listItem.id\"\n\t\t\t\t>\n\t\t\t\t\t<component :is=\"elementComponent\" :rawListItem=\"listItem\" :itemTypes=\"itemTypes\" @dblclick=\"onDoubleClick\"/>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`\n});"],"names":["BitrixVue","component","props","computed","imageStyle","imageClass","avatarText","words","listItem","title","value","split","length","charAt","listItemStyle","rawListItem","template","data","generalSectionName","showSectionNames","resultList","itemTypes","placeholder","cssPrefix","observer","elementComponent","created","methods","validateData","listData","result","items","forEach","push","validateItem","list","validateSections","sections","itemResult","id","toString","type","leftIcon","rightIcon","subtitle","avatar","url","topLeftIcon","bottomRightIcon","date","Date","formatDate","sectionCode","counter","formatCounter","notification","element","map","onScroll","event","onClick","onDoubleClick","wrapperStyle","sectionedList","section","set","listForSection","filter","item"],"mappings":"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"}