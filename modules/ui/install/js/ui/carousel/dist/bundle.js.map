{"version":3,"file":"bundle.js","sources":["../src/carousel.js"],"sourcesContent":["import { Tag, Dom, Event } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Loader } from \"main.loader\";\n\nexport class Carousel\n{\n\tconstructor(options = {})\n\t{\n\t\tthis.offsetCache = 0;\n\n\t\tthis.target = options.target || null;\n\t\tthis.content = options.content || null;\n\t\tthis.responsive = options.responsive || null;\n\t\tthis.autoPlaySpeed = options.autoPlaySpeed || 1000;\n\t\tthis.autoPlay = options.autoPlay || false;\n\t\tthis.dots = options.dots || false;\n\t\tthis.dotsClass = options.dotsClass || '--default';\n\t\tthis.arrows = options.arrows || false;\n\t\tthis.arrowsClass = options.arrowsClass || '--default';\n\t\tthis.vertical = options.vertical || false;\n\t\tthis.infinite = options.infinite || false;\n\n\t\t//node\n\t\tthis.carouselContainer = null;\n\t\tthis.wrapper = null;\n\t\tthis.track = null;\n\t\tthis.nodeDots = null;\n\t\tthis.nodeArrows = null;\n\n\t\tthis.arrayDotsItem = [];\n\t\tthis.arrayItems = [];\n\t\tthis.arrayItemsWidth = 0;\n\t\tthis.arrayItemsHeight = 0;\n\t\tthis.isLastSlide = 0;\n\t\tthis.arrayArrowsItem = [];\n\t\tthis.slidActive = 1;\n\t\tthis.sliderInterval = null;\n\t\tthis.sliderAllCount = this.content.length;\n\n\t\t// this.draggable = true;\n\t\tthis.defaultSettings();\n\t}\n\n\tdefaultSettings() {\n\t\tthis.defaultParameters = {};\n\n\t\tfor (let key in this) {\n\t\t\tthis.defaultParameters[key] = this[key];\n\t\t}\n\t}\n\n\tgetItem(item, index)\n\t{\n\t\tlet itemClass = this.slidActive -1 === index\n\t\t\t? '--active'\n\t\t\t: ''\n\t\t;\n\n\t\tlet slideItem = Tag.render`\n\t\t\t<div class=\"ui-carousel__slide ${itemClass}\">\n\t\t\t\t${item.html}\n\t\t\t</div>\n\t\t`\n\n\t\tEvent.bind(slideItem, 'mouseenter', this.stopSlide.bind(this));\n\t\tEvent.bind(slideItem, 'mouseleave', this.runSlide.bind(this));\n\n\t\tif (this.arrayItems.indexOf(item) === -1)\n\t\t{\n\t\t\tthis.arrayItems.push(slideItem);\n\t\t}\n\n\t\treturn slideItem;\n\t}\n\n\tsetTrackCharacteristics()\n\t{\n\t\tif (this.arrayItemsWidth === 0 && this.arrayItemsHeight === 0)\n\t\t{\n\t\t\tfor (let i = 0; i < this.arrayItems.length; i++) {\n\t\t\t\tthis.arrayItemsWidth += this.arrayItems[i].offsetWidth;\n\t\t\t\tthis.arrayItemsHeight += this.arrayItems[i].offsetHeight;\n\t\t\t}\n\t\t}\n\t}\n\n\tinitSlider()\n\t{\n\t\tthis.runSlide();\n\t}\n\n\tstopSlide()\n\t{\n\t\tclearInterval(this.sliderInterval);\n\t}\n\n\tchangeActivePoint()\n\t{\n\t\tif (this.arrayDotsItem.length > 1)\n\t\t{\n\t\t\tfor (let i = 0; i < this.arrayDotsItem.length; i++)\n\t\t\t{\n\t\t\t\tif (this.arrayDotsItem[i].classList.contains('--active'))\n\t\t\t\t{\n\t\t\t\t\tthis.arrayDotsItem[i].classList.remove('--active');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.arrayDotsItem[this.slidActive - 1].classList.add('--active');\n\t\t}\n\t}\n\n\tchangeActiveSlide()\n\t{\n\t\tif (this.arrayItems.length > 1)\n\t\t{\n\t\t\tfor (let i = 0; i < this.arrayItems.length; i++)\n\t\t\t{\n\t\t\t\tif (this.arrayItems[i].classList.contains('--active'))\n\t\t\t\t{\n\t\t\t\t\tthis.arrayItems[i].classList.remove('--active');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.arrayItems[this.slidActive - 1].classList.add('--active');\n\t\t}\n\t}\n\n\tchangeActiveArrow(id)\n\t{\n\t\tif (!this.infinite)\n\t\t{\n\t\t\tthis.arrayArrowsItem.map((item)=> {\n\t\t\t\titem.classList.remove('--disabled');\n\t\t\t});\n\n\t\t\tif(this.slidActive === this.sliderAllCount || id >= this.isLastSlide && this.isLastSlide > 0)\n\t\t\t{\n\t\t\t\tthis.arrayArrowsItem[this.arrayArrowsItem.length - 1].classList.add('--disabled');\n\t\t\t}\n\t\t\telse if(this.slidActive === 1)\n\t\t\t{\n\t\t\t\tthis.arrayArrowsItem[0].classList.add('--disabled');\n\t\t\t}\n\t\t}\n\n\t}\n\n\tchangeActive(id)\n\t{\n\t\tthis.changeActivePoint();\n\t\tthis.changeActiveSlide();\n\n\t\tif (!this.infinite)\n\t\t{\n\t\t\tthis.changeActiveArrow(id);\n\t\t}\n\t}\n\n\trunSlide()\n\t{\n\t\tif(this.sliderAllCount > 1 && this.autoPlay)\n\t\t{\n\t\t\tthis.trackOffsetStep();\n\n\t\t\tthis.sliderInterval = setInterval(() => {\n\t\t\t\tlet sliderNum = this.slidActive + 1 > this.sliderAllCount\n\t\t\t\t\t? 1\n\t\t\t\t\t: this.slidActive + 1;\n\n\t\t\t\tthis.showSlide(sliderNum);\n\t\t\t}, this.autoPlaySpeed);\n\t\t}\n\t}\n\n\ttrackOffsetStep()\n\t{\n\t\tif (this.offsetCache === 0)\n\t\t{\n\t\t\tthis.offsetCache = this.wrapper ? this.wrapper.offsetWidth : 0\n\t\t}\n\n\t\treturn this.offsetCache;\n\t}\n\n\tgetTrackShift(id)\n\t{\n\t\tlet shift = 0;\n\n\t\tif (id > 1)\n\t\t{\n\t\t\tlet cycleLength = 0;\n\n\t\t\tif (id >= this.isLastSlide && this.isLastSlide > 0)\n\t\t\t{\n\t\t\t\tcycleLength = this.isLastSlide - 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcycleLength = id - 1;\n\t\t\t}\n\n\t\t\tif (this.vertical)\n\t\t\t{\n\t\t\t\tlet sumShift = this.arrayItemsHeight;\n\n\t\t\t\tfor (let i = 0; i < cycleLength; i++)\n\t\t\t\t{\n\t\t\t\t\tsumShift -= this.arrayItems[i].offsetHeight;\n\n\t\t\t\t\tif (sumShift < this.wrapper.offsetHeight)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isLastSlide = id;\n\t\t\t\t\t\tshift += (sumShift +  this.arrayItems[i].offsetHeight - this.wrapper.offsetHeight);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tshift += this.arrayItems[i].offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet sumShift = this.arrayItemsWidth;\n\n\t\t\t\tfor (let i = 0; i < cycleLength; i++)\n\t\t\t\t{\n\t\t\t\t\tsumShift -= this.arrayItems[i].offsetWidth;\n\n\t\t\t\t\tif (sumShift < this.wrapper.offsetWidth)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isLastSlide = id;\n\t\t\t\t\t\tshift += (sumShift +  this.arrayItems[i].offsetWidth - this.wrapper.offsetWidth);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tshift += this.arrayItems[i].offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn shift;\n\t}\n\n\tshowSlide(id)\n\t{\n\t\tthis.setTrackCharacteristics();\n\n\t\tif (id > 0 && id <= this.sliderAllCount)\n\t\t{\n\t\t\tthis.slidActive = id;\n\n\t\t\tif (this.track)\n\t\t\t{\n\t\t\t\tif (this.vertical)\n\t\t\t\t{\n\t\t\t\t\tthis.track.style.transform = 'translateY(' + -(this.getTrackShift(id)) + 'px)';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.track.style.transform = 'translateX(' + -(this.getTrackShift(id)) + 'px)';\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tclearInterval(this.sliderInterval);\n\t\tthis.runSlide();\n\t\tthis.changeActive(id);\n\t}\n\n\tnextSlide()\n\t{\n\t\tif (this.infinite)\n\t\t{\n\t\t\tif (this.slidActive === this.sliderAllCount)\n\t\t\t{\n\t\t\t\tthis.slidActive = 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t\telse if (this.slidActive < this.sliderAllCount)\n\t\t\t{\n\t\t\t\tthis.slidActive += 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.slidActive < this.sliderAllCount)\n\t\t\t{\n\t\t\t\tthis.slidActive += 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t}\n\t}\n\n\tprevSlide()\n\t{\n\t\tif (this.infinite)\n\t\t{\n\t\t\tif (this.slidActive === 1)\n\t\t\t{\n\t\t\t\tthis.slidActive = this.sliderAllCount;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t\telse if (this.slidActive > 1)\n\t\t\t{\n\t\t\t\tthis.slidActive -= 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.slidActive > 1)\n\t\t\t{\n\t\t\t\tthis.slidActive -= 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetArrows()\n\t{\n\t\tlet verticalClass = this.vertical\n\t\t\t? '--vertical'\n\t\t\t: ''\n\t\t;\n\n\t\tthis.nodeArrows = Tag.render`\n\t\t\t<div class=\"ui-carousel__arrows--container ${verticalClass}\"></div>\n\t\t`\n\t\tlet arrowDisabledClass = this.infinite\n\t\t\t? ''\n\t\t\t: '--disabled'\n\t\t;\n\n\t\tlet arrowPrev = Tag.render`\n\t\t\t<div class=\"ui-carousel__arrow ${this.arrowsClass} --prev ${arrowDisabledClass} ${verticalClass}\"></div>\n\t\t`\n\n\t\tlet arrowNext = Tag.render`\n\t\t\t<div class=\"ui-carousel__arrow ${this.arrowsClass} --next ${verticalClass}\"></div>\n\t\t`\n\n\t\tEvent.bind(arrowPrev, 'click', this.prevSlide.bind(this));\n\t\tEvent.bind(arrowNext, 'click', this.nextSlide.bind(this));\n\n\t\tthis.arrayArrowsItem.push(arrowPrev);\n\t\tthis.arrayArrowsItem.push(arrowNext);\n\t\tthis.nodeArrows.append(arrowPrev);\n\t\tthis.nodeArrows.append(arrowNext);\n\n\t\treturn this.nodeArrows;\n\t}\n\n\tgetDots()\n\t{\n\t\tthis.nodeDots = Tag.render`\n\t\t\t<div class=\"ui-carousel__dots ${this.dotsClass}\"></div>\n\t\t`\n\n\t\tfor (let i = 0; i < this.sliderAllCount; i++)\n\t\t{\n\t\t\tlet dotClassActive= this.slidActive === i+1\n\t\t\t\t? '--active'\n\t\t\t\t: ''\n\t\t\t;\n\n\t\t\tlet nodeDotsItem = Tag.render`\n\t\t\t\t<div class=\"ui-carousel__dots--item ${this.dotsClass} ${dotClassActive}\">\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(nodeDotsItem, 'click', this.showSlide.bind(this, i+1));\n\n\t\t\tthis.arrayDotsItem.push(nodeDotsItem);\n\t\t\tthis.nodeDots.append(nodeDotsItem);\n\t\t}\n\n\t\treturn this.nodeDots;\n\t}\n\n\tgetCarouselContent(): HTMLElement\n\t{\n\t\tlet verticalClass = this.vertical\n\t\t\t? '--vertical'\n\t\t\t: ''\n\t\t;\n\n\t\tthis.track = Tag.render`\n\t\t\t<div class=\"ui-carousel__track ${verticalClass}\"></div>\n\t\t`;\n\n\t\tthis.content.map((item, index)=> {\n\t\t\tthis.track.appendChild(this.getItem(item, index));\n\t\t});\n\n\t\tthis.wrapper = Tag.render`\n\t\t\t<div class=\"ui-carousel__wrapper\">\n\t\t\t\t${this.track}\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.carouselContainer = Tag.render`\n\t\t\t<div class=\"ui-carousel__container ui-carousel__scope ${verticalClass}\">\n\t\t\t\t${this.wrapper}\n\t\t\t</div>\n\t\t`;\n\n\t\tif (this.dots && this.sliderAllCount > 1)\n\t\t{\n\t\t\tthis.carouselContainer.appendChild(this.getDots());\n\t\t}\n\n\t\tif (this.arrows && this.sliderAllCount > 1)\n\t\t{\n\t\t\tthis.carouselContainer.appendChild(this.getArrows());\n\t\t}\n\n\t\treturn this.carouselContainer;\n\t}\n\n\tresponsiveCarousel()\n\t{\n\t\tif(this.responsive)\n\t\t{\n\t\t\tfor (let i = 0; i < this.responsive.length; i++)\n\t\t\t{\n\t\t\t\tif (window.innerWidth > this.responsive[0].breakpoint)\n\t\t\t\t{\n\t\t\t\t\tlet newData = this.defaultParameters;\n\n\t\t\t\t\tfor (let key in newData)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis[key] = newData[key];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if (window.innerWidth <= this.responsive[i].breakpoint)\n\t\t\t\t{\n\t\t\t\t\tlet newData = this.responsive[i].settings;\n\n\t\t\t\t\tfor (let key in newData)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis[key] = newData[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcarouselResize()\n\t{\n\t\tif(this.responsive)\n\t\t{\n\t\t\twindow.addEventListener('resize', () =>\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < this.responsive.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (this.windowWidth > this.responsive[i].breakpoint && window.innerWidth < this.responsive[i].breakpoint)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.windowWidth = window.innerWidth;\n\t\t\t\t\t\tthis.init();\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.windowWidth < this.responsive[i].breakpoint && window.innerWidth > this.responsive[i].breakpoint)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.windowWidth = window.innerWidth;\n\t\t\t\t\t\tthis.init();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tif (this.target && this.content)\n\t\t{\n\t\t\tthis.windowWidth = window.innerWidth;\n\t\t\tDom.clean(this.target);\n\t\t\tthis.responsiveCarousel();\n\t\t\tthis.target.appendChild(this.getCarouselContent());\n\t\t\tthis.initSlider();\n\n\t\t\tthis.carouselResize();\n\t\t}\n\t}\n}"],"names":["Carousel","options","offsetCache","target","content","responsive","autoPlaySpeed","autoPlay","dots","dotsClass","arrows","arrowsClass","vertical","infinite","carouselContainer","wrapper","track","nodeDots","nodeArrows","arrayDotsItem","arrayItems","arrayItemsWidth","arrayItemsHeight","isLastSlide","arrayArrowsItem","slidActive","sliderInterval","sliderAllCount","length","defaultSettings","defaultParameters","key","item","index","itemClass","slideItem","Tag","render","html","Event","bind","stopSlide","runSlide","indexOf","push","i","offsetWidth","offsetHeight","clearInterval","classList","contains","remove","add","id","map","changeActivePoint","changeActiveSlide","changeActiveArrow","trackOffsetStep","setInterval","sliderNum","showSlide","shift","cycleLength","sumShift","setTrackCharacteristics","style","transform","getTrackShift","changeActive","verticalClass","arrowDisabledClass","arrowPrev","arrowNext","prevSlide","nextSlide","append","dotClassActive","nodeDotsItem","appendChild","getItem","getDots","getArrows","window","innerWidth","breakpoint","newData","settings","addEventListener","windowWidth","init","Dom","clean","responsiveCarousel","getCarouselContent","initSlider","carouselResize"],"mappings":"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"}