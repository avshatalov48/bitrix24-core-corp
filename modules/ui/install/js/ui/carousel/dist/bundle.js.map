{"version":3,"file":"bundle.js","sources":["../src/carousel.js"],"sourcesContent":["import { Tag, Dom, Event } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Loader } from \"main.loader\";\n\nexport class Carousel\n{\n\tconstructor(options = {})\n\t{\n\t\tthis.offsetCache = 0;\n\n\t\tthis.target = options.target || null;\n\t\tthis.content = options.content || null;\n\t\tthis.responsive = options.responsive || null;\n\t\tthis.autoPlaySpeed = options.autoPlaySpeed || 1000;\n\t\tthis.autoPlay = options.autoPlay || false;\n\t\tthis.dots = options.dots || false;\n\t\tthis.dotsClass = options.dotsClass || '--default';\n\t\tthis.arrows = options.arrows || false;\n\t\tthis.arrowsClass = options.arrowsClass || '--default';\n\t\tthis.vertical = options.vertical || false;\n\t\tthis.infinite = options.infinite || false;\n\n\t\t//node\n\t\tthis.carouselContainer = null;\n\t\tthis.wrapper = null;\n\t\tthis.track = null;\n\t\tthis.nodeDots = null;\n\t\tthis.nodeArrows = null;\n\n\t\tthis.arrayDotsItem = [];\n\t\tthis.arrayItems = [];\n\t\tthis.arrayItemsWidth = 0;\n\t\tthis.arrayItemsHeight = 0;\n\t\tthis.isLastSlide = 0;\n\t\tthis.arrayArrowsItem = [];\n\t\tthis.slidActive = 1;\n\t\tthis.sliderInterval = null;\n\t\tthis.sliderAllCount = this.content.length;\n\n\t\t// this.draggable = true;\n\t\tthis.defaultSettings();\n\t}\n\n\tdefaultSettings() {\n\t\tthis.defaultParameters = {};\n\n\t\tfor (let key in this) {\n\t\t\tthis.defaultParameters[key] = this[key];\n\t\t}\n\t}\n\n\tgetItem(item, index)\n\t{\n\t\tlet itemClass = this.slidActive -1 === index\n\t\t\t? '--active'\n\t\t\t: ''\n\t\t;\n\n\t\tlet slideItem = Tag.render`\n\t\t\t<div class=\"ui-carousel__slide ${itemClass}\">\n\t\t\t\t${item.html}\n\t\t\t</div>\n\t\t`\n\n\t\tEvent.bind(slideItem, 'mouseenter', this.stopSlide.bind(this));\n\t\tEvent.bind(slideItem, 'mouseleave', this.runSlide.bind(this));\n\n\t\tif (this.arrayItems.indexOf(item) === -1)\n\t\t{\n\t\t\tthis.arrayItems.push(slideItem);\n\t\t}\n\n\t\treturn slideItem;\n\t}\n\n\tsetTrackCharacteristics()\n\t{\n\t\tif (this.arrayItemsWidth === 0 && this.arrayItemsHeight === 0)\n\t\t{\n\t\t\tfor (let i = 0; i < this.arrayItems.length; i++) {\n\t\t\t\tthis.arrayItemsWidth += this.arrayItems[i].offsetWidth;\n\t\t\t\tthis.arrayItemsHeight += this.arrayItems[i].offsetHeight;\n\t\t\t}\n\t\t}\n\t}\n\n\tinitSlider()\n\t{\n\t\tthis.runSlide();\n\t}\n\n\tstopSlide()\n\t{\n\t\tclearInterval(this.sliderInterval);\n\t}\n\n\tchangeActivePoint()\n\t{\n\t\tif (this.arrayDotsItem.length > 1)\n\t\t{\n\t\t\tfor (let i = 0; i < this.arrayDotsItem.length; i++)\n\t\t\t{\n\t\t\t\tif (this.arrayDotsItem[i].classList.contains('--active'))\n\t\t\t\t{\n\t\t\t\t\tthis.arrayDotsItem[i].classList.remove('--active');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.arrayDotsItem[this.slidActive - 1].classList.add('--active');\n\t\t}\n\t}\n\n\tchangeActiveSlide()\n\t{\n\t\tif (this.arrayItems.length > 1)\n\t\t{\n\t\t\tfor (let i = 0; i < this.arrayItems.length; i++)\n\t\t\t{\n\t\t\t\tif (this.arrayItems[i].classList.contains('--active'))\n\t\t\t\t{\n\t\t\t\t\tthis.arrayItems[i].classList.remove('--active');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.arrayItems[this.slidActive - 1].classList.add('--active');\n\t\t}\n\t}\n\n\tchangeActiveArrow(id)\n\t{\n\t\tif (!this.infinite)\n\t\t{\n\t\t\tthis.arrayArrowsItem.map((item)=> {\n\t\t\t\titem.classList.remove('--disabled');\n\t\t\t});\n\n\t\t\tif(this.slidActive === this.sliderAllCount || id >= this.isLastSlide && this.isLastSlide > 0)\n\t\t\t{\n\t\t\t\tthis.arrayArrowsItem[this.arrayArrowsItem.length - 1].classList.add('--disabled');\n\t\t\t}\n\t\t\telse if(this.slidActive === 1)\n\t\t\t{\n\t\t\t\tthis.arrayArrowsItem[0].classList.add('--disabled');\n\t\t\t}\n\t\t}\n\n\t}\n\n\tchangeActive(id)\n\t{\n\t\tthis.changeActivePoint();\n\t\tthis.changeActiveSlide();\n\n\t\tif (!this.infinite)\n\t\t{\n\t\t\tthis.changeActiveArrow(id);\n\t\t}\n\t}\n\n\trunSlide()\n\t{\n\t\tif(this.sliderAllCount > 1 && this.autoPlay)\n\t\t{\n\t\t\tthis.trackOffsetStep();\n\n\t\t\tthis.sliderInterval = setInterval(() => {\n\t\t\t\tlet sliderNum = this.slidActive + 1 > this.sliderAllCount\n\t\t\t\t\t? 1\n\t\t\t\t\t: this.slidActive + 1;\n\n\t\t\t\tthis.showSlide(sliderNum);\n\t\t\t}, this.autoPlaySpeed);\n\t\t}\n\t}\n\n\ttrackOffsetStep()\n\t{\n\t\tif (this.offsetCache === 0)\n\t\t{\n\t\t\tthis.offsetCache = this.wrapper ? this.wrapper.offsetWidth : 0\n\t\t}\n\n\t\treturn this.offsetCache;\n\t}\n\n\tgetTrackShift(id)\n\t{\n\t\tlet shift = 0;\n\n\t\tif (id > 1)\n\t\t{\n\t\t\tlet cycleLength = 0;\n\n\t\t\tif (id >= this.isLastSlide && this.isLastSlide > 0)\n\t\t\t{\n\t\t\t\tcycleLength = this.isLastSlide - 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcycleLength = id - 1;\n\t\t\t}\n\n\t\t\tif (this.vertical)\n\t\t\t{\n\t\t\t\tlet sumShift = this.arrayItemsHeight;\n\n\t\t\t\tfor (let i = 0; i < cycleLength; i++)\n\t\t\t\t{\n\t\t\t\t\tsumShift -= this.arrayItems[i].offsetHeight;\n\n\t\t\t\t\tif (sumShift < this.wrapper.offsetHeight)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isLastSlide = id;\n\t\t\t\t\t\tshift += (sumShift +  this.arrayItems[i].offsetHeight - this.wrapper.offsetHeight);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tshift += this.arrayItems[i].offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet sumShift = this.arrayItemsWidth;\n\n\t\t\t\tfor (let i = 0; i < cycleLength; i++)\n\t\t\t\t{\n\t\t\t\t\tsumShift -= this.arrayItems[i].offsetWidth;\n\n\t\t\t\t\tif (sumShift < this.wrapper.offsetWidth)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isLastSlide = id;\n\t\t\t\t\t\tshift += (sumShift +  this.arrayItems[i].offsetWidth - this.wrapper.offsetWidth);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tshift += this.arrayItems[i].offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn shift;\n\t}\n\n\tshowSlide(id)\n\t{\n\t\tthis.setTrackCharacteristics();\n\n\t\tif (id > 0 && id <= this.sliderAllCount)\n\t\t{\n\t\t\tthis.slidActive = id;\n\n\t\t\tif (this.track)\n\t\t\t{\n\t\t\t\tif (this.vertical)\n\t\t\t\t{\n\t\t\t\t\tthis.track.style.transform = 'translateY(' + -(this.getTrackShift(id)) + 'px)';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.track.style.transform = 'translateX(' + -(this.getTrackShift(id)) + 'px)';\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tclearInterval(this.sliderInterval);\n\t\tthis.runSlide();\n\t\tthis.changeActive(id);\n\t}\n\n\tnextSlide()\n\t{\n\t\tif (this.infinite)\n\t\t{\n\t\t\tif (this.slidActive === this.sliderAllCount)\n\t\t\t{\n\t\t\t\tthis.slidActive = 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t\telse if (this.slidActive < this.sliderAllCount)\n\t\t\t{\n\t\t\t\tthis.slidActive += 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.slidActive < this.sliderAllCount)\n\t\t\t{\n\t\t\t\tthis.slidActive += 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t}\n\t}\n\n\tprevSlide()\n\t{\n\t\tif (this.infinite)\n\t\t{\n\t\t\tif (this.slidActive === 1)\n\t\t\t{\n\t\t\t\tthis.slidActive = this.sliderAllCount;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t\telse if (this.slidActive > 1)\n\t\t\t{\n\t\t\t\tthis.slidActive -= 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.slidActive > 1)\n\t\t\t{\n\t\t\t\tthis.slidActive -= 1;\n\t\t\t\tthis.showSlide(this.slidActive);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetArrows()\n\t{\n\t\tlet verticalClass = this.vertical\n\t\t\t? '--vertical'\n\t\t\t: ''\n\t\t;\n\n\t\tthis.nodeArrows = Tag.render`\n\t\t\t<div class=\"ui-carousel__arrows--container ${verticalClass}\"></div>\n\t\t`\n\t\tlet arrowDisabledClass = this.infinite\n\t\t\t? ''\n\t\t\t: '--disabled'\n\t\t;\n\n\t\tlet arrowPrev = Tag.render`\n\t\t\t<div class=\"ui-carousel__arrow ${this.arrowsClass} --prev ${arrowDisabledClass} ${verticalClass}\"></div>\n\t\t`\n\n\t\tlet arrowNext = Tag.render`\n\t\t\t<div class=\"ui-carousel__arrow ${this.arrowsClass} --next ${verticalClass}\"></div>\n\t\t`\n\n\t\tEvent.bind(arrowPrev, 'click', this.prevSlide.bind(this));\n\t\tEvent.bind(arrowNext, 'click', this.nextSlide.bind(this));\n\n\t\tthis.arrayArrowsItem.push(arrowPrev);\n\t\tthis.arrayArrowsItem.push(arrowNext);\n\t\tthis.nodeArrows.append(arrowPrev);\n\t\tthis.nodeArrows.append(arrowNext);\n\n\t\treturn this.nodeArrows;\n\t}\n\n\tgetDots()\n\t{\n\t\tthis.nodeDots = Tag.render`\n\t\t\t<div class=\"ui-carousel__dots ${this.dotsClass}\"></div>\n\t\t`\n\n\t\tfor (let i = 0; i < this.sliderAllCount; i++)\n\t\t{\n\t\t\tlet dotClassActive= this.slidActive === i+1\n\t\t\t\t? '--active'\n\t\t\t\t: ''\n\t\t\t;\n\n\t\t\tlet nodeDotsItem = Tag.render`\n\t\t\t\t<div class=\"ui-carousel__dots--item ${this.dotsClass} ${dotClassActive}\">\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(nodeDotsItem, 'click', this.showSlide.bind(this, i+1));\n\n\t\t\tthis.arrayDotsItem.push(nodeDotsItem);\n\t\t\tthis.nodeDots.append(nodeDotsItem);\n\t\t}\n\n\t\treturn this.nodeDots;\n\t}\n\n\tgetCarouselContent(): HTMLElement\n\t{\n\t\tlet verticalClass = this.vertical\n\t\t\t? '--vertical'\n\t\t\t: ''\n\t\t;\n\n\t\tthis.track = Tag.render`\n\t\t\t<div class=\"ui-carousel__track ${verticalClass}\"></div>\n\t\t`;\n\n\t\tthis.content.map((item, index)=> {\n\t\t\tthis.track.appendChild(this.getItem(item, index));\n\t\t});\n\n\t\tthis.wrapper = Tag.render`\n\t\t\t<div class=\"ui-carousel__wrapper\">\n\t\t\t\t${this.track}\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.carouselContainer = Tag.render`\n\t\t\t<div class=\"ui-carousel__container ui-carousel__scope ${verticalClass}\">\n\t\t\t\t${this.wrapper}\n\t\t\t</div>\n\t\t`;\n\n\t\tif (this.dots && this.sliderAllCount > 1)\n\t\t{\n\t\t\tthis.carouselContainer.appendChild(this.getDots());\n\t\t}\n\n\t\tif (this.arrows && this.sliderAllCount > 1)\n\t\t{\n\t\t\tthis.carouselContainer.appendChild(this.getArrows());\n\t\t}\n\n\t\treturn this.carouselContainer;\n\t}\n\n\tresponsiveCarousel()\n\t{\n\t\tif(this.responsive)\n\t\t{\n\t\t\tfor (let i = 0; i < this.responsive.length; i++)\n\t\t\t{\n\t\t\t\tif (window.innerWidth > this.responsive[0].breakpoint)\n\t\t\t\t{\n\t\t\t\t\tlet newData = this.defaultParameters;\n\n\t\t\t\t\tfor (let key in newData)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis[key] = newData[key];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if (window.innerWidth <= this.responsive[i].breakpoint)\n\t\t\t\t{\n\t\t\t\t\tlet newData = this.responsive[i].settings;\n\n\t\t\t\t\tfor (let key in newData)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis[key] = newData[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcarouselResize()\n\t{\n\t\tif(this.responsive)\n\t\t{\n\t\t\twindow.addEventListener('resize', () =>\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < this.responsive.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (this.windowWidth > this.responsive[i].breakpoint && window.innerWidth < this.responsive[i].breakpoint)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.windowWidth = window.innerWidth;\n\t\t\t\t\t\tthis.init();\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.windowWidth < this.responsive[i].breakpoint && window.innerWidth > this.responsive[i].breakpoint)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.windowWidth = window.innerWidth;\n\t\t\t\t\t\tthis.init();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tif (this.target && this.content)\n\t\t{\n\t\t\tthis.windowWidth = window.innerWidth;\n\t\t\tDom.clean(this.target);\n\t\t\tthis.responsiveCarousel();\n\t\t\tthis.target.appendChild(this.getCarouselContent());\n\t\t\tthis.initSlider();\n\n\t\t\tthis.carouselResize();\n\t\t}\n\t}\n}"],"names":["Carousel","options","offsetCache","target","content","responsive","autoPlaySpeed","autoPlay","dots","dotsClass","arrows","arrowsClass","vertical","infinite","carouselContainer","wrapper","track","nodeDots","nodeArrows","arrayDotsItem","arrayItems","arrayItemsWidth","arrayItemsHeight","isLastSlide","arrayArrowsItem","slidActive","sliderInterval","sliderAllCount","length","defaultSettings","defaultParameters","key","item","index","itemClass","slideItem","Tag","render","html","Event","bind","stopSlide","runSlide","indexOf","push","i","offsetWidth","offsetHeight","clearInterval","classList","contains","remove","add","id","map","changeActivePoint","changeActiveSlide","changeActiveArrow","trackOffsetStep","setInterval","sliderNum","showSlide","shift","cycleLength","sumShift","setTrackCharacteristics","style","transform","getTrackShift","changeActive","verticalClass","arrowDisabledClass","arrowPrev","arrowNext","prevSlide","nextSlide","append","dotClassActive","nodeDotsItem","appendChild","getItem","getDots","getArrows","window","innerWidth","breakpoint","newData","settings","addEventListener","windowWidth","init","Dom","clean","responsiveCarousel","getCarouselContent","initSlider","carouselResize"],"mappings":";;;;;;AAAA,KAIaA,QAAQ;GAEpB,oBACA;KAAA,IADYC,OAAO,uEAAG,EAAE;KAAA;KAEvB,IAAI,CAACC,WAAW,GAAG,CAAC;KAEpB,IAAI,CAACC,MAAM,GAAGF,OAAO,CAACE,MAAM,IAAI,IAAI;KACpC,IAAI,CAACC,OAAO,GAAGH,OAAO,CAACG,OAAO,IAAI,IAAI;KACtC,IAAI,CAACC,UAAU,GAAGJ,OAAO,CAACI,UAAU,IAAI,IAAI;KAC5C,IAAI,CAACC,aAAa,GAAGL,OAAO,CAACK,aAAa,IAAI,IAAI;KAClD,IAAI,CAACC,QAAQ,GAAGN,OAAO,CAACM,QAAQ,IAAI,KAAK;KACzC,IAAI,CAACC,IAAI,GAAGP,OAAO,CAACO,IAAI,IAAI,KAAK;KACjC,IAAI,CAACC,SAAS,GAAGR,OAAO,CAACQ,SAAS,IAAI,WAAW;KACjD,IAAI,CAACC,MAAM,GAAGT,OAAO,CAACS,MAAM,IAAI,KAAK;KACrC,IAAI,CAACC,WAAW,GAAGV,OAAO,CAACU,WAAW,IAAI,WAAW;KACrD,IAAI,CAACC,QAAQ,GAAGX,OAAO,CAACW,QAAQ,IAAI,KAAK;KACzC,IAAI,CAACC,QAAQ,GAAGZ,OAAO,CAACY,QAAQ,IAAI,KAAK;;;KAGzC,IAAI,CAACC,iBAAiB,GAAG,IAAI;KAC7B,IAAI,CAACC,OAAO,GAAG,IAAI;KACnB,IAAI,CAACC,KAAK,GAAG,IAAI;KACjB,IAAI,CAACC,QAAQ,GAAG,IAAI;KACpB,IAAI,CAACC,UAAU,GAAG,IAAI;KAEtB,IAAI,CAACC,aAAa,GAAG,EAAE;KACvB,IAAI,CAACC,UAAU,GAAG,EAAE;KACpB,IAAI,CAACC,eAAe,GAAG,CAAC;KACxB,IAAI,CAACC,gBAAgB,GAAG,CAAC;KACzB,IAAI,CAACC,WAAW,GAAG,CAAC;KACpB,IAAI,CAACC,eAAe,GAAG,EAAE;KACzB,IAAI,CAACC,UAAU,GAAG,CAAC;KACnB,IAAI,CAACC,cAAc,GAAG,IAAI;KAC1B,IAAI,CAACC,cAAc,GAAG,IAAI,CAACvB,OAAO,CAACwB,MAAM;;;KAGzC,IAAI,CAACC,eAAe,EAAE;;GACtB;KAAA;KAAA,kCAEiB;OACjB,IAAI,CAACC,iBAAiB,GAAG,EAAE;OAE3B,KAAK,IAAIC,GAAG,IAAI,IAAI,EAAE;SACrB,IAAI,CAACD,iBAAiB,CAACC,GAAG,CAAC,GAAG,IAAI,CAACA,GAAG,CAAC;;;;KAExC;KAAA,wBAEOC,IAAI,EAAEC,KAAK,EACnB;OACC,IAAIC,SAAS,GAAG,IAAI,CAACT,UAAU,GAAE,CAAC,KAAKQ,KAAK,GACzC,UAAU,GACV,EAAE;OAGL,IAAIE,SAAS,GAAGC,aAAG,CAACC,MAAM,mKACQH,SAAS,EACvCF,IAAI,CAACM,IAAI,CAEZ;OAEDC,eAAK,CAACC,IAAI,CAACL,SAAS,EAAE,YAAY,EAAE,IAAI,CAACM,SAAS,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;OAC9DD,eAAK,CAACC,IAAI,CAACL,SAAS,EAAE,YAAY,EAAE,IAAI,CAACO,QAAQ,CAACF,IAAI,CAAC,IAAI,CAAC,CAAC;OAE7D,IAAI,IAAI,CAACpB,UAAU,CAACuB,OAAO,CAACX,IAAI,CAAC,KAAK,CAAC,CAAC,EACxC;SACC,IAAI,CAACZ,UAAU,CAACwB,IAAI,CAACT,SAAS,CAAC;;OAGhC,OAAOA,SAAS;;;KAChB;KAAA,0CAGD;OACC,IAAI,IAAI,CAACd,eAAe,KAAK,CAAC,IAAI,IAAI,CAACC,gBAAgB,KAAK,CAAC,EAC7D;SACC,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACzB,UAAU,CAACQ,MAAM,EAAEiB,CAAC,EAAE,EAAE;WAChD,IAAI,CAACxB,eAAe,IAAI,IAAI,CAACD,UAAU,CAACyB,CAAC,CAAC,CAACC,WAAW;WACtD,IAAI,CAACxB,gBAAgB,IAAI,IAAI,CAACF,UAAU,CAACyB,CAAC,CAAC,CAACE,YAAY;;;;;KAG1D;KAAA,6BAGD;OACC,IAAI,CAACL,QAAQ,EAAE;;;KACf;KAAA,4BAGD;OACCM,aAAa,CAAC,IAAI,CAACtB,cAAc,CAAC;;;KAClC;KAAA,oCAGD;OACC,IAAI,IAAI,CAACP,aAAa,CAACS,MAAM,GAAG,CAAC,EACjC;SACC,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC1B,aAAa,CAACS,MAAM,EAAEiB,CAAC,EAAE,EAClD;WACC,IAAI,IAAI,CAAC1B,aAAa,CAAC0B,CAAC,CAAC,CAACI,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EACxD;aACC,IAAI,CAAC/B,aAAa,CAAC0B,CAAC,CAAC,CAACI,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;;;SAIpD,IAAI,CAAChC,aAAa,CAAC,IAAI,CAACM,UAAU,GAAG,CAAC,CAAC,CAACwB,SAAS,CAACG,GAAG,CAAC,UAAU,CAAC;;;;KAElE;KAAA,oCAGD;OACC,IAAI,IAAI,CAAChC,UAAU,CAACQ,MAAM,GAAG,CAAC,EAC9B;SACC,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACzB,UAAU,CAACQ,MAAM,EAAEiB,CAAC,EAAE,EAC/C;WACC,IAAI,IAAI,CAACzB,UAAU,CAACyB,CAAC,CAAC,CAACI,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EACrD;aACC,IAAI,CAAC9B,UAAU,CAACyB,CAAC,CAAC,CAACI,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;;;SAIjD,IAAI,CAAC/B,UAAU,CAAC,IAAI,CAACK,UAAU,GAAG,CAAC,CAAC,CAACwB,SAAS,CAACG,GAAG,CAAC,UAAU,CAAC;;;;KAE/D;KAAA,kCAEiBC,EAAE,EACpB;OACC,IAAI,CAAC,IAAI,CAACxC,QAAQ,EAClB;SACC,IAAI,CAACW,eAAe,CAAC8B,GAAG,CAAC,UAACtB,IAAI,EAAI;WACjCA,IAAI,CAACiB,SAAS,CAACE,MAAM,CAAC,YAAY,CAAC;UACnC,CAAC;SAEF,IAAG,IAAI,CAAC1B,UAAU,KAAK,IAAI,CAACE,cAAc,IAAI0B,EAAE,IAAI,IAAI,CAAC9B,WAAW,IAAI,IAAI,CAACA,WAAW,GAAG,CAAC,EAC5F;WACC,IAAI,CAACC,eAAe,CAAC,IAAI,CAACA,eAAe,CAACI,MAAM,GAAG,CAAC,CAAC,CAACqB,SAAS,CAACG,GAAG,CAAC,YAAY,CAAC;UACjF,MACI,IAAG,IAAI,CAAC3B,UAAU,KAAK,CAAC,EAC7B;WACC,IAAI,CAACD,eAAe,CAAC,CAAC,CAAC,CAACyB,SAAS,CAACG,GAAG,CAAC,YAAY,CAAC;;;;;KAIrD;KAAA,6BAEYC,EAAE,EACf;OACC,IAAI,CAACE,iBAAiB,EAAE;OACxB,IAAI,CAACC,iBAAiB,EAAE;OAExB,IAAI,CAAC,IAAI,CAAC3C,QAAQ,EAClB;SACC,IAAI,CAAC4C,iBAAiB,CAACJ,EAAE,CAAC;;;;KAE3B;KAAA,2BAGD;OAAA;OACC,IAAG,IAAI,CAAC1B,cAAc,GAAG,CAAC,IAAI,IAAI,CAACpB,QAAQ,EAC3C;SACC,IAAI,CAACmD,eAAe,EAAE;SAEtB,IAAI,CAAChC,cAAc,GAAGiC,WAAW,CAAC,YAAM;WACvC,IAAIC,SAAS,GAAG,KAAI,CAACnC,UAAU,GAAG,CAAC,GAAG,KAAI,CAACE,cAAc,GACtD,CAAC,GACD,KAAI,CAACF,UAAU,GAAG,CAAC;WAEtB,KAAI,CAACoC,SAAS,CAACD,SAAS,CAAC;UACzB,EAAE,IAAI,CAACtD,aAAa,CAAC;;;;KAEvB;KAAA,kCAGD;OACC,IAAI,IAAI,CAACJ,WAAW,KAAK,CAAC,EAC1B;SACC,IAAI,CAACA,WAAW,GAAG,IAAI,CAACa,OAAO,GAAG,IAAI,CAACA,OAAO,CAAC+B,WAAW,GAAG,CAAC;;OAG/D,OAAO,IAAI,CAAC5C,WAAW;;;KACvB;KAAA,8BAEamD,EAAE,EAChB;OACC,IAAIS,KAAK,GAAG,CAAC;OAEb,IAAIT,EAAE,GAAG,CAAC,EACV;SACC,IAAIU,WAAW,GAAG,CAAC;SAEnB,IAAIV,EAAE,IAAI,IAAI,CAAC9B,WAAW,IAAI,IAAI,CAACA,WAAW,GAAG,CAAC,EAClD;WACCwC,WAAW,GAAG,IAAI,CAACxC,WAAW,GAAG,CAAC;UAClC,MAED;WACCwC,WAAW,GAAGV,EAAE,GAAG,CAAC;;SAGrB,IAAI,IAAI,CAACzC,QAAQ,EACjB;WACC,IAAIoD,QAAQ,GAAG,IAAI,CAAC1C,gBAAgB;WAEpC,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkB,WAAW,EAAElB,CAAC,EAAE,EACpC;aACCmB,QAAQ,IAAI,IAAI,CAAC5C,UAAU,CAACyB,CAAC,CAAC,CAACE,YAAY;aAE3C,IAAIiB,QAAQ,GAAG,IAAI,CAACjD,OAAO,CAACgC,YAAY,EACxC;eACC,IAAI,CAACxB,WAAW,GAAG8B,EAAE;eACrBS,KAAK,IAAKE,QAAQ,GAAI,IAAI,CAAC5C,UAAU,CAACyB,CAAC,CAAC,CAACE,YAAY,GAAG,IAAI,CAAChC,OAAO,CAACgC,YAAa;cAClF,MAED;eACCe,KAAK,IAAI,IAAI,CAAC1C,UAAU,CAACyB,CAAC,CAAC,CAACE,YAAY;;;UAG1C,MAED;WACC,IAAIiB,SAAQ,GAAG,IAAI,CAAC3C,eAAe;WAEnC,KAAK,IAAIwB,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAGkB,WAAW,EAAElB,EAAC,EAAE,EACpC;aACCmB,SAAQ,IAAI,IAAI,CAAC5C,UAAU,CAACyB,EAAC,CAAC,CAACC,WAAW;aAE1C,IAAIkB,SAAQ,GAAG,IAAI,CAACjD,OAAO,CAAC+B,WAAW,EACvC;eACC,IAAI,CAACvB,WAAW,GAAG8B,EAAE;eACrBS,KAAK,IAAKE,SAAQ,GAAI,IAAI,CAAC5C,UAAU,CAACyB,EAAC,CAAC,CAACC,WAAW,GAAG,IAAI,CAAC/B,OAAO,CAAC+B,WAAY;cAChF,MAED;eACCgB,KAAK,IAAI,IAAI,CAAC1C,UAAU,CAACyB,EAAC,CAAC,CAACC,WAAW;;;;;OAM3C,OAAOgB,KAAK;;;KACZ;KAAA,0BAEST,EAAE,EACZ;OACC,IAAI,CAACY,uBAAuB,EAAE;OAE9B,IAAIZ,EAAE,GAAG,CAAC,IAAIA,EAAE,IAAI,IAAI,CAAC1B,cAAc,EACvC;SACC,IAAI,CAACF,UAAU,GAAG4B,EAAE;SAEpB,IAAI,IAAI,CAACrC,KAAK,EACd;WACC,IAAI,IAAI,CAACJ,QAAQ,EACjB;aACC,IAAI,CAACI,KAAK,CAACkD,KAAK,CAACC,SAAS,GAAG,aAAa,GAAG,CAAE,IAAI,CAACC,aAAa,CAACf,EAAE,CAAE,GAAG,KAAK;YAC9E,MAED;aACC,IAAI,CAACrC,KAAK,CAACkD,KAAK,CAACC,SAAS,GAAG,aAAa,GAAG,CAAE,IAAI,CAACC,aAAa,CAACf,EAAE,CAAE,GAAG,KAAK;;;;OAMjFL,aAAa,CAAC,IAAI,CAACtB,cAAc,CAAC;OAClC,IAAI,CAACgB,QAAQ,EAAE;OACf,IAAI,CAAC2B,YAAY,CAAChB,EAAE,CAAC;;;KACrB;KAAA,4BAGD;OACC,IAAI,IAAI,CAACxC,QAAQ,EACjB;SACC,IAAI,IAAI,CAACY,UAAU,KAAK,IAAI,CAACE,cAAc,EAC3C;WACC,IAAI,CAACF,UAAU,GAAG,CAAC;WACnB,IAAI,CAACoC,SAAS,CAAC,IAAI,CAACpC,UAAU,CAAC;UAC/B,MACI,IAAI,IAAI,CAACA,UAAU,GAAG,IAAI,CAACE,cAAc,EAC9C;WACC,IAAI,CAACF,UAAU,IAAI,CAAC;WACpB,IAAI,CAACoC,SAAS,CAAC,IAAI,CAACpC,UAAU,CAAC;;QAEhC,MAED;SACC,IAAI,IAAI,CAACA,UAAU,GAAG,IAAI,CAACE,cAAc,EACzC;WACC,IAAI,CAACF,UAAU,IAAI,CAAC;WACpB,IAAI,CAACoC,SAAS,CAAC,IAAI,CAACpC,UAAU,CAAC;;;;;KAGjC;KAAA,4BAGD;OACC,IAAI,IAAI,CAACZ,QAAQ,EACjB;SACC,IAAI,IAAI,CAACY,UAAU,KAAK,CAAC,EACzB;WACC,IAAI,CAACA,UAAU,GAAG,IAAI,CAACE,cAAc;WACrC,IAAI,CAACkC,SAAS,CAAC,IAAI,CAACpC,UAAU,CAAC;UAC/B,MACI,IAAI,IAAI,CAACA,UAAU,GAAG,CAAC,EAC5B;WACC,IAAI,CAACA,UAAU,IAAI,CAAC;WACpB,IAAI,CAACoC,SAAS,CAAC,IAAI,CAACpC,UAAU,CAAC;;QAEhC,MAED;SACC,IAAI,IAAI,CAACA,UAAU,GAAG,CAAC,EACvB;WACC,IAAI,CAACA,UAAU,IAAI,CAAC;WACpB,IAAI,CAACoC,SAAS,CAAC,IAAI,CAACpC,UAAU,CAAC;;;;;KAGjC;KAAA,4BAGD;OACC,IAAI6C,aAAa,GAAG,IAAI,CAAC1D,QAAQ,GAC9B,YAAY,GACZ,EAAE;OAGL,IAAI,CAACM,UAAU,GAAGkB,aAAG,CAACC,MAAM,2JACkBiC,aAAa,CAC1D;OACD,IAAIC,kBAAkB,GAAG,IAAI,CAAC1D,QAAQ,GACnC,EAAE,GACF,YAAY;OAGf,IAAI2D,SAAS,GAAGpC,aAAG,CAACC,MAAM,gKACQ,IAAI,CAAC1B,WAAW,EAAW4D,kBAAkB,EAAID,aAAa,CAC/F;OAED,IAAIG,SAAS,GAAGrC,aAAG,CAACC,MAAM,2JACQ,IAAI,CAAC1B,WAAW,EAAW2D,aAAa,CACzE;OAED/B,eAAK,CAACC,IAAI,CAACgC,SAAS,EAAE,OAAO,EAAE,IAAI,CAACE,SAAS,CAAClC,IAAI,CAAC,IAAI,CAAC,CAAC;OACzDD,eAAK,CAACC,IAAI,CAACiC,SAAS,EAAE,OAAO,EAAE,IAAI,CAACE,SAAS,CAACnC,IAAI,CAAC,IAAI,CAAC,CAAC;OAEzD,IAAI,CAAChB,eAAe,CAACoB,IAAI,CAAC4B,SAAS,CAAC;OACpC,IAAI,CAAChD,eAAe,CAACoB,IAAI,CAAC6B,SAAS,CAAC;OACpC,IAAI,CAACvD,UAAU,CAAC0D,MAAM,CAACJ,SAAS,CAAC;OACjC,IAAI,CAACtD,UAAU,CAAC0D,MAAM,CAACH,SAAS,CAAC;OAEjC,OAAO,IAAI,CAACvD,UAAU;;;KACtB;KAAA,0BAGD;OACC,IAAI,CAACD,QAAQ,GAAGmB,aAAG,CAACC,MAAM,8IACO,IAAI,CAAC5B,SAAS,CAC9C;OAED,KAAK,IAAIoC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClB,cAAc,EAAEkB,CAAC,EAAE,EAC5C;SACC,IAAIgC,cAAc,GAAE,IAAI,CAACpD,UAAU,KAAKoB,CAAC,GAAC,CAAC,GACxC,UAAU,GACV,EAAE;SAGL,IAAIiC,YAAY,GAAG1C,aAAG,CAACC,MAAM,uKACU,IAAI,CAAC5B,SAAS,EAAIoE,cAAc,CAEtE;SAEDtC,eAAK,CAACC,IAAI,CAACsC,YAAY,EAAE,OAAO,EAAE,IAAI,CAACjB,SAAS,CAACrB,IAAI,CAAC,IAAI,EAAEK,CAAC,GAAC,CAAC,CAAC,CAAC;SAEjE,IAAI,CAAC1B,aAAa,CAACyB,IAAI,CAACkC,YAAY,CAAC;SACrC,IAAI,CAAC7D,QAAQ,CAAC2D,MAAM,CAACE,YAAY,CAAC;;OAGnC,OAAO,IAAI,CAAC7D,QAAQ;;;KACpB;KAAA,qCAGD;OAAA;OACC,IAAIqD,aAAa,GAAG,IAAI,CAAC1D,QAAQ,GAC9B,YAAY,GACZ,EAAE;OAGL,IAAI,CAACI,KAAK,GAAGoB,aAAG,CAACC,MAAM,+IACWiC,aAAa,CAC9C;OAED,IAAI,CAAClE,OAAO,CAACkD,GAAG,CAAC,UAACtB,IAAI,EAAEC,KAAK,EAAI;SAChC,MAAI,CAACjB,KAAK,CAAC+D,WAAW,CAAC,MAAI,CAACC,OAAO,CAAChD,IAAI,EAAEC,KAAK,CAAC,CAAC;QACjD,CAAC;OAEF,IAAI,CAAClB,OAAO,GAAGqB,aAAG,CAACC,MAAM,kKAErB,IAAI,CAACrB,KAAK,CAEb;OAED,IAAI,CAACF,iBAAiB,GAAGsB,aAAG,CAACC,MAAM,4LACsBiC,aAAa,EAClE,IAAI,CAACvD,OAAO,CAEf;OAED,IAAI,IAAI,CAACP,IAAI,IAAI,IAAI,CAACmB,cAAc,GAAG,CAAC,EACxC;SACC,IAAI,CAACb,iBAAiB,CAACiE,WAAW,CAAC,IAAI,CAACE,OAAO,EAAE,CAAC;;OAGnD,IAAI,IAAI,CAACvE,MAAM,IAAI,IAAI,CAACiB,cAAc,GAAG,CAAC,EAC1C;SACC,IAAI,CAACb,iBAAiB,CAACiE,WAAW,CAAC,IAAI,CAACG,SAAS,EAAE,CAAC;;OAGrD,OAAO,IAAI,CAACpE,iBAAiB;;;KAC7B;KAAA,qCAGD;OACC,IAAG,IAAI,CAACT,UAAU,EAClB;SACC,KAAK,IAAIwC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACxC,UAAU,CAACuB,MAAM,EAAEiB,CAAC,EAAE,EAC/C;WACC,IAAIsC,MAAM,CAACC,UAAU,GAAG,IAAI,CAAC/E,UAAU,CAAC,CAAC,CAAC,CAACgF,UAAU,EACrD;aACC,IAAIC,OAAO,GAAG,IAAI,CAACxD,iBAAiB;aAEpC,KAAK,IAAIC,GAAG,IAAIuD,OAAO,EACvB;eACC,IAAI,CAACvD,GAAG,CAAC,GAAGuD,OAAO,CAACvD,GAAG,CAAC;;aAGzB;YACA,MACI,IAAIoD,MAAM,CAACC,UAAU,IAAI,IAAI,CAAC/E,UAAU,CAACwC,CAAC,CAAC,CAACwC,UAAU,EAC3D;aACC,IAAIC,QAAO,GAAG,IAAI,CAACjF,UAAU,CAACwC,CAAC,CAAC,CAAC0C,QAAQ;aAEzC,KAAK,IAAIxD,IAAG,IAAIuD,QAAO,EACvB;eACC,IAAI,CAACvD,IAAG,CAAC,GAAGuD,QAAO,CAACvD,IAAG,CAAC;;;;;;;KAK5B;KAAA,iCAGD;OAAA;OACC,IAAG,IAAI,CAAC1B,UAAU,EAClB;SACC8E,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAE,YAClC;WACC,KAAK,IAAI3C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,MAAI,CAACxC,UAAU,CAACuB,MAAM,EAAEiB,CAAC,EAAE,EAC/C;aACC,IAAI,MAAI,CAAC4C,WAAW,GAAG,MAAI,CAACpF,UAAU,CAACwC,CAAC,CAAC,CAACwC,UAAU,IAAIF,MAAM,CAACC,UAAU,GAAG,MAAI,CAAC/E,UAAU,CAACwC,CAAC,CAAC,CAACwC,UAAU,EACzG;eACC,MAAI,CAACI,WAAW,GAAGN,MAAM,CAACC,UAAU;eACpC,MAAI,CAACM,IAAI,EAAE;cACX,MACI,IAAI,MAAI,CAACD,WAAW,GAAG,MAAI,CAACpF,UAAU,CAACwC,CAAC,CAAC,CAACwC,UAAU,IAAIF,MAAM,CAACC,UAAU,GAAG,MAAI,CAAC/E,UAAU,CAACwC,CAAC,CAAC,CAACwC,UAAU,EAC9G;eACC,MAAI,CAACI,WAAW,GAAGN,MAAM,CAACC,UAAU;eACpC,MAAI,CAACM,IAAI,EAAE;;;UAGb,CAAC;;;;KAEH;KAAA,uBAGD;OACC,IAAI,IAAI,CAACvF,MAAM,IAAI,IAAI,CAACC,OAAO,EAC/B;SACC,IAAI,CAACqF,WAAW,GAAGN,MAAM,CAACC,UAAU;SACpCO,aAAG,CAACC,KAAK,CAAC,IAAI,CAACzF,MAAM,CAAC;SACtB,IAAI,CAAC0F,kBAAkB,EAAE;SACzB,IAAI,CAAC1F,MAAM,CAAC4E,WAAW,CAAC,IAAI,CAACe,kBAAkB,EAAE,CAAC;SAClD,IAAI,CAACC,UAAU,EAAE;SAEjB,IAAI,CAACC,cAAc,EAAE;;;;GAEtB;CAAA;;;;;;;;"}