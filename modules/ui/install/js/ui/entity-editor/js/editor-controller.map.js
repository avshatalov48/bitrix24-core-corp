{"version":3,"sources":["editor-controller.js"],"names":["BX","namespace","UI","EditorFieldSingleEditController","this","_id","_settings","_field","_wrapper","_fieldWrapperHandler","delegate","onFieldWrapperClick","_documentHandler","onDocumentClick","_documentTimeoutHandle","_isInitialized","_isActive","prototype","initialize","id","settings","type","isNotEmptyString","util","getRandomString","_time","Date","toString","prop","get","EntityEditorField","getWrapper","isElementNode","window","setTimeout","bind","isActive","setActive","active","setActiveDelayed","delay","release","unbind","document","saveControl","editor","getEditor","switchControlMode","EntityEditorMode","view","EntityEditorModeOptions","none","e","eventCancelBubble","clearTimeout","create","self","EditorFieldViewController","_timeoutHandle","_pos","x","y","_mouseDownHandler","onMouseDown","_mouseUpHandler","onMouseUp","getElementNode","isHandleableEvent","valueOf","clientX","clientY","Math","abs","switchTo","node","getEventTarget","tagName","getAttribute","findParent","switchToSingleEditMode","EntityEditorController","_editor","_model","_config","_isChanged","getObject","doInitialize","getConfig","getConfigStringParam","name","defaultValue","getString","isChanged","markAsChanged","processControllerChange","rollback","innerCancel","onBeforeSubmit","onAfterSave","onBeforeSaveControl","data"],"mappings":"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","file":"editor-controller.map.js"}