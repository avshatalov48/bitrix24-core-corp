BX.namespace("BX.UI");if(typeof BX.UI.EntityScheme==="undefined"){BX.UI.EntityScheme=function(){this._id="";this._settings={};this._elements=null;this._availableElements=null};BX.UI.EntityScheme.prototype={initialize:function(t,e){this._id=BX.type.isNotEmptyString(t)?t:BX.util.getRandomString(4);this._settings=e?e:{};this._elements=[];this._availableElements=[];var i,n;var s=BX.prop.getArray(this._settings,"current",[]);for(i=0,n=s.length;i<n;i++){this._elements.push(BX.UI.EntitySchemeElement.create(s[i]))}var r=BX.prop.getArray(this._settings,"available",[]);for(i=0,n=r.length;i<n;i++){this._availableElements.push(BX.UI.EntitySchemeElement.create(r[i]))}},getId:function(){return this._id},getElements:function(){return[].concat(this._elements)},findElementByName:function(t,e){var i=BX.prop.getBoolean(e,"isRecursive",false);for(var n=0,s=this._elements.length;n<s;n++){var r=this._elements[n];if(r.getName()===t){return r}if(!i){continue}var a=r.findElementByName(t);if(a!==null){return a}}return null},getAvailableElements:function(){return[].concat(this._availableElements)},setAvailableElements:function(t){this._availableElements=BX.type.isArray(t)?t:[]}};BX.UI.EntityScheme.create=function(t,e){var i=new BX.UI.EntityScheme;i.initialize(t,e);return i}}if(typeof BX.UI.EntitySchemeElement==="undefined"){BX.UI.EntitySchemeElement=function(){this._settings={};this._name="";this._type="";this._title="";this._originalTitle="";this._optionFlags=0;this._isEditable=true;this._isTransferable=true;this._isContextMenuEnabled=true;this._isRequired=false;this._isRequiredConditionally=false;this._isHeading=false;this._visibilityPolicy=BX.UI.EntityEditorVisibilityPolicy.always;this._data=null;this._elements=null;this._parent=null};BX.UI.EntitySchemeElement.prototype={initialize:function(t){this._settings=t?t:{};this._name=BX.prop.getString(this._settings,"name","");this._type=BX.prop.getString(this._settings,"type","");this._data=BX.prop.getObject(this._settings,"data",{});this._isEditable=BX.prop.getBoolean(this._settings,"editable",true);this._isTransferable=BX.prop.getBoolean(this._settings,"transferable",true);this._isContextMenuEnabled=BX.prop.getBoolean(this._settings,"enabledMenu",true);this._isTitleEnabled=BX.prop.getBoolean(this._settings,"enableTitle",true)&&this.getDataBooleanParam("enableTitle",true);this._isDragEnabled=BX.prop.getBoolean(this._settings,"isDragEnabled",true);this._isRequired=BX.prop.getBoolean(this._settings,"required",false);this._isRequiredConditionally=BX.prop.getBoolean(this._settings,"requiredConditionally",false);this._isHeading=BX.prop.getBoolean(this._settings,"isHeading",false);this._visibilityPolicy=BX.UI.EntityEditorVisibilityPolicy.parse(BX.prop.getString(this._settings,"visibilityPolicy",""));var e=BX.prop.getString(this._settings,"title","");var i=BX.prop.getString(this._settings,"originalTitle","");if(e!==""&&i===""){i=e}else if(i!==""&&e===""){e=i}this._title=e;this._originalTitle=i;this._optionFlags=BX.prop.getInteger(this._settings,"optionFlags",0);this._elements=[];var n=BX.prop.getArray(this._settings,"elements",[]);for(var s=0,r=n.length;s<r;s++){this._elements.push(BX.UI.EntitySchemeElement.create(n[s]))}},mergeSettings:function(t){this.initialize(BX.mergeEx(this._settings,t))},getName:function(){return this._name},getType:function(){return this._type},getTitle:function(){return this._title},setTitle:function(t){this._title=this._settings["title"]=t},getOriginalTitle:function(){return this._originalTitle},hasCustomizedTitle:function(){return this._title!==""&&this._title!==this._originalTitle},resetOriginalTitle:function(){this._originalTitle=this._title},getOptionFlags:function(){return this._optionFlags},setOptionFlags:function(t){this._optionFlags=this._settings["optionFlags"]=t},areAttributesEnabled:function(){return BX.prop.getBoolean(this._settings,"enableAttributes",true)},isEditable:function(){return this._isEditable},isTransferable:function(){return this._isTransferable},isRequired:function(){return this._isRequired},isRequiredConditionally:function(){return this._isRequiredConditionally},isContextMenuEnabled:function(){return this._isContextMenuEnabled},isTitleEnabled:function(){return this._isTitleEnabled},isDragEnabled:function(){return this._isDragEnabled},isHeading:function(){return this._isHeading},getCreationPlaceholder:function(){return BX.prop.getString(BX.prop.getObject(this._settings,"placeholders",null),"creation","")},getVisibilityPolicy:function(){return this._visibilityPolicy},getData:function(){return this._data},setData:function(t){this._data=t},getDataParam:function(t,e){return BX.prop.get(this._data,t,e)},getDataStringParam:function(t,e){return BX.prop.getString(this._data,t,e)},getDataIntegerParam:function(t,e){return BX.prop.getInteger(this._data,t,e)},getDataBooleanParam:function(t,e){return BX.prop.getBoolean(this._data,t,e)},getDataObjectParam:function(t,e){return BX.prop.getObject(this._data,t,e)},getDataArrayParam:function(t,e){return BX.prop.getArray(this._data,t,e)},getElements:function(){return this._elements},setElements:function(t){this._elements=t},findElementByName:function(t){for(var e=0,i=this._elements.length;e<i;e++){var n=this._elements[e];if(n.getName()===t){return n}}return null},getAffectedFields:function(){var t=this.getDataArrayParam("affectedFields",[]);if(t.length===0){t.push(this._name)}return t},getParent:function(){return this._parent},setParent:function(t){this._parent=t instanceof BX.UI.EntitySchemeElement?t:null},createConfigItem:function(){var t={name:this._name};if(this._type==="section"){t["type"]="section";if(this._title!==""){t["title"]=this._title}t["elements"]=[];for(var e=0,i=this._elements.length;e<i;e++){t["elements"].push(this._elements[e].createConfigItem())}}else{if(this._title!==""&&this._title!==this._originalTitle){t["title"]=this._title}if(this._optionFlags>0){t["optionFlags"]=this._optionFlags}}return t},clone:function(){return BX.UI.EntitySchemeElement.create(BX.clone(this._settings))}};BX.UI.EntitySchemeElement.create=function(t){var e=new BX.UI.EntitySchemeElement;e.initialize(t);return e}}
//# sourceMappingURL=scheme.map.js