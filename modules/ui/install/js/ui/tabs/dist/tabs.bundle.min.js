this.BX=this.BX||{};(function(e,t,a,i,l){"use strict";var s,r,n,b,d;function o(e,t){v(e,t);t.add(e)}function c(e,t,a){v(e,t);t.set(e,a)}function v(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function p(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var h={localId:0,localSorting:0};var u=new WeakMap;var H=new WeakMap;var f=new WeakMap;var T=new WeakMap;var P=new WeakMap;var F=new WeakMap;var I=new WeakMap;var g=new WeakMap;var y=new WeakMap;var w=new WeakMap;var m=new WeakMap;var k=new WeakSet;var G=new WeakSet;var z=new WeakSet;var S=new WeakSet;var C=new WeakSet;var W=new WeakSet;var B=function(e){babelHelpers.inherits(t,e);function t(e){var i;var l=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,{}));o(babelHelpers.assertThisInitialized(i),W);o(babelHelpers.assertThisInitialized(i),C);o(babelHelpers.assertThisInitialized(i),S);o(babelHelpers.assertThisInitialized(i),z);o(babelHelpers.assertThisInitialized(i),G);o(babelHelpers.assertThisInitialized(i),k);c(babelHelpers.assertThisInitialized(i),u,{writable:true,value:void 0});c(babelHelpers.assertThisInitialized(i),H,{writable:true,value:void 0});c(babelHelpers.assertThisInitialized(i),f,{writable:true,value:0});c(babelHelpers.assertThisInitialized(i),T,{writable:true,value:void 0});c(babelHelpers.assertThisInitialized(i),P,{writable:true,value:void 0});c(babelHelpers.assertThisInitialized(i),F,{writable:true,value:void 0});c(babelHelpers.assertThisInitialized(i),I,{writable:true,value:false});c(babelHelpers.assertThisInitialized(i),g,{writable:true,value:true});c(babelHelpers.assertThisInitialized(i),y,{writable:true,value:null});c(babelHelpers.assertThisInitialized(i),w,{writable:true,value:null});c(babelHelpers.assertThisInitialized(i),m,{writable:true,value:null});i.setEventNamespace("UI:Tabs:");i.setParent(l);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),H,a.Type.isStringFilled(e.id)?e.id:"TabId"+ ++h.localId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),f,a.Type.isInteger(e.sort)?e.sort:++h.localSorting);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),I,a.Type.isBoolean(e.active)?e.active:false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),g,e.restricted===true);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),y,a.Type.isStringFilled(e.bannerCode)?e.bannerCode:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),w,a.Type.isStringFilled(e.helpDeskCode)?e.helpDeskCode:null);p(babelHelpers.assertThisInitialized(i),k,_).call(babelHelpers.assertThisInitialized(i),e.head);p(babelHelpers.assertThisInitialized(i),G,x).call(babelHelpers.assertThisInitialized(i),e.body);return i}babelHelpers.createClass(t,[{key:"getSort",value:function e(){return babelHelpers.classPrivateFieldGet(this,f)}},{key:"setParent",value:function e(t){if(t instanceof R){babelHelpers.classPrivateFieldSet(this,u,t)}}},{key:"isRestricted",value:function e(){return babelHelpers.classPrivateFieldGet(this,g)}},{key:"getBannerCode",value:function e(){return babelHelpers.classPrivateFieldGet(this,y)}},{key:"showBanner",value:function e(t){if(this.getBannerCode()){BX.UI.InfoHelper.show(this.getBannerCode())}if(t){t.stopPropagation();t.preventDefault()}}},{key:"getHeader",value:function e(){return babelHelpers.classPrivateFieldGet(this,T)}},{key:"getBody",value:function e(){return babelHelpers.classPrivateFieldGet(this,P)}},{key:"inactivate",value:function e(){if(babelHelpers.classPrivateFieldGet(this,I)===true){a.Dom.removeClass(babelHelpers.classPrivateFieldGet(this,T),"--header-active");a.Dom.removeClass(babelHelpers.classPrivateFieldGet(this,P),"--body-active");babelHelpers.classPrivateFieldSet(this,I,false);this.emit("onInactive")}return this}},{key:"activate",value:function e(){if(babelHelpers.classPrivateFieldGet(this,I)!==true){a.Dom.addClass(babelHelpers.classPrivateFieldGet(this,T),"--header-active");a.Dom.addClass(babelHelpers.classPrivateFieldGet(this,P),"--body-active");babelHelpers.classPrivateFieldSet(this,I,true);this.emit("onActive")}return this}},{key:"isActive",value:function e(){return babelHelpers.classPrivateFieldGet(this,I)}},{key:"showError",value:function e(t){var i=t.message,l=t.code;var s=this.getBody().querySelector('[data-bx-role="error-container"]');if(s){s.innerText=i||l}a.Dom.addClass(this.getBodyContainer(),"ui-avatar-editor--error")}}]);return t}(i.EventEmitter);function _(e){var t;var i=a.Type.isPlainObject(e)?e:a.Type.isStringFilled(e)?{title:e}:{};var l;if(a.Type.isDomNode(e)){l=e}else if(babelHelpers.classPrivateFieldGet(this,g)!==true){var b,d;l=a.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<div title="','">',"</div>"])),a.Text.encode((b=i.description)!==null&&b!==void 0?b:""),(d=a.Text.encode(i.title))!==null&&d!==void 0?d:"&nbsp;")}else{var o;l=a.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['<div class="ui-tabs__tab-header-container-inner" title="','">\n\t\t\t\t<div class="ui-tabs__tab-header-container-inner-title">','</div>\n\t\t\t\t<div class="ui-tabs__tab-header-container-inner-lockbox"><span class="ui-icon-set --lock field-has-lock"></span></div>\n\t\t\t</div>'])),a.Text.encode((o=i.description)!==null&&o!==void 0?o:""),a.Text.encode(i.title));a.Event.bind(l.querySelector(".field-has-lock"),"click",this.showBanner.bind(this))}babelHelpers.classPrivateFieldSet(this,T,a.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['<span class="ui-tabs__tab-header-container ','" data-bx-role="tab-header" data-bx-name="','">',"</span>"])),a.Text.encode((t=i.className)!==null&&t!==void 0?t:""),a.Text.encode(babelHelpers.classPrivateFieldGet(this,H)),l))}function x(e){var t=this;if(!babelHelpers.classPrivateFieldGet(this,F)){babelHelpers.classPrivateFieldSet(this,F,a.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['<div class="ui-tabs__tab-body_data"></div>']))))}a.Dom.clean(babelHelpers.classPrivateFieldGet(this,F));if(!babelHelpers.classPrivateFieldGet(this,P)){babelHelpers.classPrivateFieldSet(this,P,a.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['<div class="ui-tabs__tab-body_inner"></div>']))));babelHelpers.classPrivateFieldGet(this,P).dataset.id=babelHelpers.classPrivateFieldGet(this,H);babelHelpers.classPrivateFieldGet(this,P).dataset.role="body";babelHelpers.classPrivateFieldGet(this,P).appendChild(babelHelpers.classPrivateFieldGet(this,F))}this.subscribeOnce("onActive",(function(){p(t,z,D).call(t,e)}))}function D(e){var t=this;var i=e;if(a.Type.isFunction(e)){i=e(this)}var l;if(!i||Object.prototype.toString.call(i)==="[object Promise]"||i.toString()==="[object BX.Promise]"){l=i;p(this,S,E).call(this)}else{l=Promise.resolve(i)}l.then((function(e){p(t,C,M).call(t);if(a.Type.isDomNode(e)){babelHelpers.classPrivateFieldGet(t,F).appendChild(e)}else if(a.Type.isString(e)){babelHelpers.classPrivateFieldGet(t,F).innerHTML=e}else{throw new Error("Tab body has to be a text or a dom-element.")}t.emit("onLoad")}),(function(e){console.log("reason: ",e);p(t,C,M).call(t);babelHelpers.classPrivateFieldGet(t,F).innerHTML=e;t.emit("onLoadErrored")}))}function E(){babelHelpers.classPrivateFieldSet(this,m,new l.Loader({target:babelHelpers.classPrivateFieldGet(this,F),color:"rgba(82, 92, 105, 0.9)",mode:"inline"}));babelHelpers.classPrivateFieldGet(this,m).show().then((function(){console.log("The loader is shown")}))}function M(){if(babelHelpers.classPrivateFieldGet(this,m)){babelHelpers.classPrivateFieldGet(this,m).destroy();babelHelpers.classPrivateFieldSet(this,m,null)}}var L;function X(e,t,a){j(e,t);t.set(e,a)}function j(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var O={localId:0};var A=new WeakMap;var N=new WeakMap;var U=new WeakMap;var q=new WeakMap;var R=function(e){babelHelpers.inherits(i,e);function i(e){var l;var s;babelHelpers.classCallCheck(this,i);s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).call(this));X(babelHelpers.assertThisInitialized(s),A,{writable:true,value:void 0});X(babelHelpers.assertThisInitialized(s),N,{writable:true,value:void 0});X(babelHelpers.assertThisInitialized(s),U,{writable:true,value:void 0});X(babelHelpers.assertThisInitialized(s),q,{writable:true,value:null});e=a.Type.isObjectLike(e)?e:{};babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),A,++O.localId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),N,a.Type.isStringFilled(e.id)?e.id:"TabsId"+babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),A));s.setEventNamespace("UI:Tabs:"+e.id);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),U,new t.OrderedArray((function(e,t){return e.getSort()>t.getSort()?1:-1})));Array.from((l=e.items)!==null&&l!==void 0?l:[]).forEach((function(e){return s.addItem(new B(e))}));s.activateItemDebounced=a.Runtime.debounce(s.activateItemDebounced,100,babelHelpers.assertThisInitialized(s));if(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),U).count()>0&&!(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),q)instanceof B)){s.activateItem(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),U).getFirst())}return s}babelHelpers.createClass(i,[{key:"getIndex",value:function e(){return babelHelpers.classPrivateFieldGet(this,A)}},{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,N)}},{key:"addItem",value:function e(t){babelHelpers.classPrivateFieldGet(this,U).add(t);t.setParent(this);if(t.isActive()){this.activateItem(t)}}},{key:"activateItem",value:function e(t){if(babelHelpers.classPrivateFieldGet(this,U).has(t)&&babelHelpers.classPrivateFieldGet(this,q)!==t){var a=null;if(babelHelpers.classPrivateFieldGet(this,q)instanceof B){a=babelHelpers.classPrivateFieldGet(this,q)}babelHelpers.classPrivateFieldSet(this,q,t);this.activateItemDebounced(t,a)}}},{key:"activateItemDebounced",value:function e(t){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(a){a.inactivate()}t.activate()}},{key:"getContainer",value:function e(){var t=this;if(this.content){return this.content}this.content=a.Tag.render(L||(L=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-tabs__tabs-container">\n\t\t\t\t<div class="ui-tabs__tabs-header-container" data-bx-role="headers"></div>\n\t\t\t\t<div class="ui-tabs__tabs-body-container" data-bx-role="bodies"></div>\n\t\t\t</div>'])));var i=this.content.querySelector('[data-bx-role="headers"]');var l=this.content.querySelector('[data-bx-role="bodies"]');babelHelpers.classPrivateFieldGet(this,U).forEach((function(e){a.Event.bind(e.getHeader(),"click",(function(){t.activateItem(e)}));a.Dom.append(e.getHeader(),i);a.Dom.append(e.getBody(),l)}));return this.content}},{key:"getItems",value:function e(){return babelHelpers.classPrivateFieldGet(this,U)}}]);return i}(i.EventEmitter);e.Tabs=R;e.Tab=B})(this.BX.UI=this.BX.UI||{},BX.Collections,BX,BX.Event,BX);
//# sourceMappingURL=tabs.bundle.map.js