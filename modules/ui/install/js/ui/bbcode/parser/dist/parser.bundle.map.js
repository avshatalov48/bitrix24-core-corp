{"version":3,"file":"parser.bundle.map.js","names":["this","BX","UI","exports","main_core","RootNode","constructor","options","children","setChildren","Type","isArray","appendChild","push","replaceChild","targetNode","flatMap","node","getChildren","toString","map","child","join","Node","name","value","attributes","parent","setName","setValue","setAttributes","setParent","isStringFilled","getName","isNumber","getValue","isPlainObject","setAttribute","isNil","getAttribute","getAttributes","getParent","valueString","Object","entries","key","attrValue","VoidNode","TextNode","content","setContent","isString","getContent","NewLineNode","TAG_REGEX","Parser","tagNameCase","attributeNameCase","static","resultCase","toLowerCase","toUpperCase","prepareTagNameCase","prepareCase","prepareAttributeNameCase","parseText","text","fragments","result","split","test","slice","fragment","bbcode","startIndex","nextContent","nextTag","match","RegExp","indexOf","parseAttributes","sourceAttributes","trim","filter","Boolean","reduce","acc","item","startsWith","isListTag","tagName","includes","isListItemTag","parse","stack","level","current","firstTagIndex","findNextTagIndex","textBeforeFirstTag","replace","fullTag","slash","attrs","index","isOpenTag","length","caseSensitivityTagName","fromEntries","nextTagIndex","Bbcode"],"sources":["parser.bundle.js"],"mappings":"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"}