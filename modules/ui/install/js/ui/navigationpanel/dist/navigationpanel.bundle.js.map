{"version":3,"file":"navigationpanel.bundle.js","sources":["../src/item.js","../src/navigation.js"],"sourcesContent":["import { Tag, Type } from 'main.core';\nimport { EventEmitter } from \"main.core.events\";\n\nexport default class NavigationItem\n{\n\tconstructor({ id, title, active, events, link })\n\t{\n\t\tthis.id = id ? id : null;\n\t\tthis.title = Type.isString(title) ? title : null;\n\t\tthis.active = Type.isBoolean(active) ? active : false;\n\t\tthis.events = events ? events : null;\n\t\tthis.link = link ? link : null;\n\n\t\tthis.linkContainer = null;\n\n\t\tthis.bindEvents();\n\t}\n\n\tgetTitle()\n\t{\n\t\tif (!this.title)\n\t\t{\n\t\t\tthis.title = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel__item-title\">${this.title}</div>\t\n\t\t\t`;\n\t\t}\n\n\t\treturn this.title;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.linkContainer)\n\t\t{\n\t\t\tthis.linkContainer = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel__item\">\n\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.active ? this.activate() : this.inactivate();\n\n\t\t\tthis.setEvents();\n\t\t}\n\n\t\treturn this.linkContainer;\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.UI.NavigationPanel.Item:active', item => {\n\t\t\tif (item.data !== this)\n\t\t\t{\n\t\t\t\tthis.inactivate();\n\t\t\t}\n\t\t});\n\t}\n\n\tsetEvents()\n\t{\n\t\tif (this.events)\n\t\t{\n\t\t\tconst eventsKeys = Object.keys(this.events);\n\t\t\tfor (let i = 0; i < eventsKeys.length; i++)\n\t\t\t{\n\t\t\t\tlet eventKey = eventsKeys[i];\n\t\t\t\tthis.getContainer().addEventListener(eventKey, () => {\n\t\t\t\t\tthis.events[eventKey]();\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (this.link)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<a class=\"ui-nav-panel__item\">\n\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t</a>\n\t\t\t`;\n\n\t\t\tconst linksKeys = Object.keys(this.link);\n\t\t\tfor (let i = 0; i < linksKeys.length; i++)\n\t\t\t{\n\t\t\t\tconst linksKey = linksKeys[i];\n\t\t\t\tthis.container.setAttribute(linksKey, this.link[linksKey]);\n\t\t\t}\n\t\t}\n\t}\n\n\tactivate()\n\t{\n\t\tthis.active = true;\n\t\tthis.getContainer().classList.add('--active');\n\t\tEventEmitter.emit('BX.UI.NavigationPanel.Item:active', this);\n\t}\n\n\tinactivate()\n\t{\n\t\tthis.active = false;\n\t\tthis.getContainer().classList.remove('--active');\n\t\tEventEmitter.emit('BX.UI.NavigationPanel.Item:inactive', this);\n\t}\n}\n","import { Dom, Tag, Type } from 'main.core';\nimport NavigationItem from './item';\nimport './style.css';\n\nexport default class NavigationPanel\n{\n\tconstructor(options)\n\t{\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tthis.items = Type.isArray(options.items) ? options.items : [];\n\t\tthis.container = null;\n\t\tthis.keys = [];\n\t}\n\n\tadjustItem()\n\t{\n\t\tthis.items = this.items.map((item) => {\n\t\t\tthis.keys.push(item.id);\n\n\t\t\treturn new NavigationItem({\n\t\t\t\tid: item.id ? item.id : null,\n\t\t\t\ttitle: item.title ? item.title : null,\n\t\t\t\tactive: item.active ? item.active : false,\n\t\t\t\tevents: item.events ? item.events : null,\n\t\t\t\tlink: item.link ? item.link : null,\n\t\t\t});\n\t\t})\n\t}\n\n\tgetItemById(value)\n\t{\n\t\tif (value)\n\t\t{\n\t\t\tconst id  = this.keys.indexOf(value);\n\t\t\treturn this.items[id];\n\t\t}\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel ui-nav-panel__scope\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\trender()\n\t{\n\t\tthis.items.forEach((item) => {\n\t\t\tif (item instanceof NavigationItem)\n\t\t\t{\n\t\t\t\tthis.getContainer().appendChild(item.getContainer());\n\t\t\t}\n\t\t})\n\n\t\tDom.clean(this.target);\n\t\tthis.target.appendChild(this.getContainer());\n\t}\n\n\tinit()\n\t{\n\t\tthis.adjustItem();\n\t\tthis.render();\n\t}\n}\n"],"names":["NavigationItem","id","title","active","events","link","Type","isString","isBoolean","linkContainer","bindEvents","Tag","render","getTitle","activate","inactivate","setEvents","EventEmitter","subscribe","item","data","eventsKeys","Object","keys","i","eventKey","getContainer","addEventListener","length","container","linksKeys","linksKey","setAttribute","classList","add","emit","remove","NavigationPanel","options","target","isDomNode","items","isArray","map","push","value","indexOf","forEach","appendChild","Dom","clean","adjustItem"],"mappings":";;;;;;KAGqBA;CAEpB,gCACA;CAAA,QADcC,EACd,QADcA,EACd;CAAA,QADkBC,KAClB,QADkBA,KAClB;CAAA,QADyBC,MACzB,QADyBA,MACzB;CAAA,QADiCC,MACjC,QADiCA,MACjC;CAAA,QADyCC,IACzC,QADyCA,IACzC;CAAA;CACC,SAAKJ,EAAL,GAAUA,EAAE,GAAGA,EAAH,GAAQ,IAApB;CACA,SAAKC,KAAL,GAAaI,cAAI,CAACC,QAAL,CAAcL,KAAd,IAAuBA,KAAvB,GAA+B,IAA5C;CACA,SAAKC,MAAL,GAAcG,cAAI,CAACE,SAAL,CAAeL,MAAf,IAAyBA,MAAzB,GAAkC,KAAhD;CACA,SAAKC,MAAL,GAAcA,MAAM,GAAGA,MAAH,GAAY,IAAhC;CACA,SAAKC,IAAL,GAAYA,IAAI,GAAGA,IAAH,GAAU,IAA1B;CAEA,SAAKI,aAAL,GAAqB,IAArB;CAEA,SAAKC,UAAL;CACA;;;;gCAGD;CACC,UAAI,CAAC,KAAKR,KAAV,EACA;CACC,aAAKA,KAAL,GAAaS,aAAG,CAACC,MAAjB,wJACyC,KAAKV,KAD9C;CAGA;;CAED,aAAO,KAAKA,KAAZ;CACA;;;oCAGD;CACC,UAAI,CAAC,KAAKO,aAAV,EACA;CACC,aAAKA,aAAL,GAAqBE,aAAG,CAACC,MAAzB,wKAEI,KAAKV,KAAL,GAAa,KAAKW,QAAL,EAAb,GAA+B,EAFnC;CAMA,aAAKV,MAAL,GAAc,KAAKW,QAAL,EAAd,GAAgC,KAAKC,UAAL,EAAhC;CAEA,aAAKC,SAAL;CACA;;CAED,aAAO,KAAKP,aAAZ;CACA;;;kCAGD;CAAA;;CACCQ,MAAAA,6BAAY,CAACC,SAAb,CAAuB,mCAAvB,EAA4D,UAAAC,IAAI,EAAI;CACnE,YAAIA,IAAI,CAACC,IAAL,KAAc,KAAlB,EACA;CACC,UAAA,KAAI,CAACL,UAAL;CACA;CACD,OALD;CAMA;;;iCAGD;CAAA;;CACC,UAAI,KAAKX,MAAT,EACA;CACC,YAAMiB,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAY,KAAKnB,MAAjB,CAAnB;;CADD,mCAEUoB,CAFV;CAIE,cAAIC,QAAQ,GAAGJ,UAAU,CAACG,CAAD,CAAzB;;CACA,UAAA,MAAI,CAACE,YAAL,GAAoBC,gBAApB,CAAqCF,QAArC,EAA+C,YAAM;CACpD,YAAA,MAAI,CAACrB,MAAL,CAAYqB,QAAZ;CACA,WAFD;CALF;;CAEC,aAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,UAAU,CAACO,MAA/B,EAAuCJ,CAAC,EAAxC,EACA;CAAA,gBADSA,CACT;CAKC;CACD;;CAED,UAAI,KAAKnB,IAAT,EACA;CACC,aAAKwB,SAAL,GAAiBlB,aAAG,CAACC,MAArB,oKAEI,KAAKV,KAAL,GAAa,KAAKW,QAAL,EAAb,GAA+B,EAFnC;CAMA,YAAMiB,SAAS,GAAGR,MAAM,CAACC,IAAP,CAAY,KAAKlB,IAAjB,CAAlB;;CACA,aAAK,IAAImB,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGM,SAAS,CAACF,MAA9B,EAAsCJ,EAAC,EAAvC,EACA;CACC,cAAMO,QAAQ,GAAGD,SAAS,CAACN,EAAD,CAA1B;CACA,eAAKK,SAAL,CAAeG,YAAf,CAA4BD,QAA5B,EAAsC,KAAK1B,IAAL,CAAU0B,QAAV,CAAtC;CACA;CACD;CACD;;;gCAGD;CACC,WAAK5B,MAAL,GAAc,IAAd;CACA,WAAKuB,YAAL,GAAoBO,SAApB,CAA8BC,GAA9B,CAAkC,UAAlC;CACAjB,MAAAA,6BAAY,CAACkB,IAAb,CAAkB,mCAAlB,EAAuD,IAAvD;CACA;;;kCAGD;CACC,WAAKhC,MAAL,GAAc,KAAd;CACA,WAAKuB,YAAL,GAAoBO,SAApB,CAA8BG,MAA9B,CAAqC,UAArC;CACAnB,MAAAA,6BAAY,CAACkB,IAAb,CAAkB,qCAAlB,EAAyD,IAAzD;CACA;;;;;;;KCjGmBE;CAEpB,2BAAYC,OAAZ,EACA;CAAA;CACC,SAAKC,MAAL,GAAcjC,cAAI,CAACkC,SAAL,CAAeF,OAAO,CAACC,MAAvB,IAAiCD,OAAO,CAACC,MAAzC,GAAkD,IAAhE;CACA,SAAKE,KAAL,GAAanC,cAAI,CAACoC,OAAL,CAAaJ,OAAO,CAACG,KAArB,IAA8BH,OAAO,CAACG,KAAtC,GAA8C,EAA3D;CACA,SAAKZ,SAAL,GAAiB,IAAjB;CACA,SAAKN,IAAL,GAAY,EAAZ;CACA;;;;kCAGD;CAAA;;CACC,WAAKkB,KAAL,GAAa,KAAKA,KAAL,CAAWE,GAAX,CAAe,UAACxB,IAAD,EAAU;CACrC,QAAA,KAAI,CAACI,IAAL,CAAUqB,IAAV,CAAezB,IAAI,CAAClB,EAApB;;CAEA,eAAO,IAAID,cAAJ,CAAmB;CACzBC,UAAAA,EAAE,EAAEkB,IAAI,CAAClB,EAAL,GAAUkB,IAAI,CAAClB,EAAf,GAAoB,IADC;CAEzBC,UAAAA,KAAK,EAAEiB,IAAI,CAACjB,KAAL,GAAaiB,IAAI,CAACjB,KAAlB,GAA0B,IAFR;CAGzBC,UAAAA,MAAM,EAAEgB,IAAI,CAAChB,MAAL,GAAcgB,IAAI,CAAChB,MAAnB,GAA4B,KAHX;CAIzBC,UAAAA,MAAM,EAAEe,IAAI,CAACf,MAAL,GAAce,IAAI,CAACf,MAAnB,GAA4B,IAJX;CAKzBC,UAAAA,IAAI,EAAEc,IAAI,CAACd,IAAL,GAAYc,IAAI,CAACd,IAAjB,GAAwB;CALL,SAAnB,CAAP;CAOA,OAVY,CAAb;CAWA;;;iCAEWwC,OACZ;CACC,UAAIA,KAAJ,EACA;CACC,YAAM5C,EAAE,GAAI,KAAKsB,IAAL,CAAUuB,OAAV,CAAkBD,KAAlB,CAAZ;CACA,eAAO,KAAKJ,KAAL,CAAWxC,EAAX,CAAP;CACA;CACD;;;oCAGD;CACC,UAAI,CAAC,KAAK4B,SAAV,EACA;CACC,aAAKA,SAAL,GAAiBlB,aAAG,CAACC,MAArB;CAGA;;CAED,aAAO,KAAKiB,SAAZ;CACA;;;8BAGD;CAAA;;CACC,WAAKY,KAAL,CAAWM,OAAX,CAAmB,UAAC5B,IAAD,EAAU;CAC5B,YAAIA,IAAI,YAAYnB,cAApB,EACA;CACC,UAAA,MAAI,CAAC0B,YAAL,GAAoBsB,WAApB,CAAgC7B,IAAI,CAACO,YAAL,EAAhC;CACA;CACD,OALD;CAOAuB,MAAAA,aAAG,CAACC,KAAJ,CAAU,KAAKX,MAAf;CACA,WAAKA,MAAL,CAAYS,WAAZ,CAAwB,KAAKtB,YAAL,EAAxB;CACA;;;4BAGD;CACC,WAAKyB,UAAL;CACA,WAAKvC,MAAL;CACA;;;;;;;;;;;"}