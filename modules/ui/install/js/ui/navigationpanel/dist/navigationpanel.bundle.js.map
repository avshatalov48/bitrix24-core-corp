{"version":3,"file":"navigationpanel.bundle.js","sources":["../src/item.js","../src/navigation.js"],"sourcesContent":["import { Tag, Type } from 'main.core';\nimport { EventEmitter } from \"main.core.events\";\n\nexport default class NavigationItem\n{\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.title = Type.isString(options.title) ? options.title : null;\n\t\tthis.active = Type.isBoolean(options.active) ? options.active : false;\n\t\tthis.events = options.events ? options.events : null;\n\t\tthis.link = options.link ? options.link : null;\n\n\t\tthis.container = null;\n\n\t\tthis.bindEvents();\n\t}\n\n\tgetTitle()\n\t{\n\t\tif (!this.title)\n\t\t{\n\t\t\tthis.title = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel__item-title\">${this.title}</div>\t\n\t\t\t`;\n\t\t}\n\n\t\treturn this.title;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel__item\">\n\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.active ? this.activate() : this.inactivate();\n\n\t\t\tthis.setEvents();\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.UI.NavigationPanel.Item:active', item => {\n\t\t\tif (item.data !== this)\n\t\t\t{\n\t\t\t\tthis.inactivate();\n\t\t\t}\n\t\t});\n\t}\n\n\tsetEvents()\n\t{\n\t\tif (this.events)\n\t\t{\n\t\t\tconst eventsKeys = Object.keys(this.events);\n\t\t\tfor (let i = 0; i < eventsKeys.length; i++)\n\t\t\t{\n\t\t\t\tlet eventKey = eventsKeys[i];\n\t\t\t\tthis.getContainer().addEventListener(eventKey, () => {\n\t\t\t\t\tthis.events[eventKey]();\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (this.link)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<a class=\"ui-nav-panel__item\">\n\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t</a>\n\t\t\t`;\n\n\t\t\tconst linksKeys = Object.keys(this.link);\n\t\t\tfor (let i = 0; i < linksKeys.length; i++)\n\t\t\t{\n\t\t\t\tconst linksKey = linksKeys[i];\n\t\t\t\tthis.container.setAttribute(linksKey, this.link[linksKey]);\n\t\t\t}\n\t\t}\n\t}\n\n\tactivate()\n\t{\n\t\tthis.active = true;\n\t\tthis.getContainer().classList.add('--active');\n\t\tEventEmitter.emit('BX.UI.NavigationPanel.Item:active', this);\n\t}\n\n\tinactivate()\n\t{\n\t\tthis.active = false;\n\t\tthis.getContainer().classList.remove('--active');\n\t\tEventEmitter.emit('BX.UI.NavigationPanel.Item:inactive', this);\n\t}\n}\n","import { Dom, Tag, Type } from 'main.core';\nimport NavigationItem from './item';\nimport './style.css';\n\nexport default class NavigationPanel\n{\n\tconstructor(options)\n\t{\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tthis.items = Type.isArray(options.items) ? options.items : [];\n\t\tthis.container = null;\n\t\tthis.keys = [];\n\t}\n\n\tadjustItem()\n\t{\n\t\tthis.items = this.items.map((item) => {\n\t\t\tthis.keys.push(item.id);\n\n\t\t\treturn new NavigationItem({\n\t\t\t\tid: item.id ? item.id : null,\n\t\t\t\ttitle: item.title ? item.title : null,\n\t\t\t\tactive: item.active ? item.active : false,\n\t\t\t\tevents: item.events ? item.events : null,\n\t\t\t\tlink: item.link ? item.link : null,\n\t\t\t});\n\t\t})\n\t}\n\n\tgetItemById(value)\n\t{\n\t\tif (value)\n\t\t{\n\t\t\tconst id  = this.keys.indexOf(value);\n\t\t\treturn this.items[id];\n\t\t}\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel ui-nav-panel__scope\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\trender()\n\t{\n\t\tthis.items.forEach((item) => {\n\t\t\tif (item instanceof NavigationItem)\n\t\t\t{\n\t\t\t\tthis.getContainer().appendChild(item.getContainer());\n\t\t\t}\n\t\t})\n\n\t\tDom.clean(this.target);\n\t\tthis.target.appendChild(this.getContainer());\n\t}\n\n\tinit()\n\t{\n\t\tthis.adjustItem();\n\t\tthis.render();\n\t}\n}\n"],"names":["NavigationItem","options","id","title","Type","isString","active","isBoolean","events","link","container","bindEvents","Tag","render","getTitle","activate","inactivate","setEvents","EventEmitter","subscribe","item","data","eventsKeys","Object","keys","i","eventKey","getContainer","addEventListener","length","linksKeys","linksKey","setAttribute","classList","add","emit","remove","NavigationPanel","target","isDomNode","items","isArray","map","push","value","indexOf","forEach","appendChild","Dom","clean","adjustItem"],"mappings":"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"}