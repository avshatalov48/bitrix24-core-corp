{"version":3,"file":"navigationpanel.bundle.js","sources":["../src/item.js","../src/navigation.js"],"sourcesContent":["import { Tag, Type } from 'main.core';\nimport { EventEmitter } from \"main.core.events\";\n\nexport default class NavigationItem\n{\n\tconstructor({ id, title, active, events, link, locked })\n\t{\n\t\tthis.id = id ? id : null;\n\t\tthis.title = Type.isString(title) ? title : null;\n\t\tthis.active = Type.isBoolean(active) ? active : false;\n\t\tthis.events = events ? events : null;\n\t\tthis.link = link ? link : null;\n\t\tthis.locked = Type.isBoolean(locked) ? locked : false;\n\n\t\tthis.linkContainer = null;\n\n\t\tthis.bindEvents();\n\t}\n\n\tgetTitle()\n\t{\n\t\tif (!this.title)\n\t\t{\n\t\t\tthis.title = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel__item-title\">${this.title}</div>\t\n\t\t\t`;\n\t\t}\n\n\t\treturn this.title;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.linkContainer)\n\t\t{\n\t\t\tconst id = this.id ? `id=\"ui-nav-panel-item-${this.id}\"` : '';\n\t\t\tthis.linkContainer = Tag.render`\n\t\t\t\t<div ${id} class=\"ui-nav-panel__item\">\n\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.active ? this.activate() : this.inactivate();\n\t\t\tthis.locked ? this.lock() : this.unLock();\n\n\t\t\tthis.setEvents();\n\t\t}\n\n\t\treturn this.linkContainer;\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.UI.NavigationPanel.Item:active', item => {\n\t\t\tif (item.data !== this)\n\t\t\t{\n\t\t\t\tthis.inactivate();\n\t\t\t}\n\t\t});\n\t}\n\n\tisLocked()\n\t{\n\t\treturn this.locked;\n\t}\n\n\tlock()\n\t{\n\t\tthis.locked = true;\n\t\tthis.getContainer().classList.add('--locked');\n\t}\n\n\tunLock()\n\t{\n\t\tthis.locked = false;\n\t\tthis.getContainer().classList.remove('--locked');\n\t}\n\n\tsetEvents()\n\t{\n\t\tif (this.events)\n\t\t{\n\t\t\tconst eventsKeys = Object.keys(this.events);\n\t\t\tfor (let i = 0; i < eventsKeys.length; i++)\n\t\t\t{\n\t\t\t\tlet eventKey = eventsKeys[i];\n\t\t\t\tthis.getContainer().addEventListener(eventKey, () => {\n\t\t\t\t\tthis.events[eventKey]();\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (this.link)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<a class=\"ui-nav-panel__item\">\n\t\t\t\t\t${this.title ? this.getTitle() : ''}\n\t\t\t\t</a>\n\t\t\t`;\n\n\t\t\tconst linksKeys = Object.keys(this.link);\n\t\t\tfor (let i = 0; i < linksKeys.length; i++)\n\t\t\t{\n\t\t\t\tconst linksKey = linksKeys[i];\n\t\t\t\tthis.container.setAttribute(linksKey, this.link[linksKey]);\n\t\t\t}\n\t\t}\n\t}\n\n\tactivate()\n\t{\n\t\tthis.active = true;\n\t\tthis.getContainer().classList.add('--active');\n\t\tEventEmitter.emit('BX.UI.NavigationPanel.Item:active', this);\n\t}\n\n\tinactivate()\n\t{\n\t\tthis.active = false;\n\t\tthis.getContainer().classList.remove('--active');\n\t\tEventEmitter.emit('BX.UI.NavigationPanel.Item:inactive', this);\n\t}\n}\n","import { Dom, Tag, Type } from 'main.core';\nimport NavigationItem from './item';\nimport 'ui.fonts.opensans';\nimport './style.css';\n\nexport default class NavigationPanel\n{\n\tconstructor(options)\n\t{\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tthis.items = Type.isArray(options.items) ? options.items : [];\n\t\tthis.container = null;\n\t\tthis.keys = [];\n\t}\n\n\tadjustItem()\n\t{\n\t\tthis.items = this.items.map((item) => {\n\t\t\tthis.keys.push(item.id);\n\n\t\t\treturn new NavigationItem({\n\t\t\t\tid: item.id ? item.id : null,\n\t\t\t\ttitle: item.title ? item.title : null,\n\t\t\t\tactive: item.active ? item.active : false,\n\t\t\t\tevents: item.events ? item.events : null,\n\t\t\t\tlink: item.link ? item.link : null,\n\t\t\t\tlocked: item.locked ? item.locked : false,\n\t\t\t});\n\t\t})\n\t}\n\n\tgetItemById(value)\n\t{\n\t\tif (value)\n\t\t{\n\t\t\tconst id  = this.keys.indexOf(value);\n\t\t\treturn this.items[id];\n\t\t}\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel ui-nav-panel__scope\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\trender()\n\t{\n\t\tthis.items.forEach((item) => {\n\t\t\tif (item instanceof NavigationItem)\n\t\t\t{\n\t\t\t\tthis.getContainer().appendChild(item.getContainer());\n\t\t\t}\n\t\t})\n\n\t\tDom.clean(this.target);\n\t\tthis.target.appendChild(this.getContainer());\n\t}\n\n\tinit()\n\t{\n\t\tthis.adjustItem();\n\t\tthis.render();\n\t}\n}\n"],"names":["NavigationItem","id","title","active","events","link","locked","Type","isString","isBoolean","linkContainer","bindEvents","Tag","render","getTitle","activate","inactivate","lock","unLock","setEvents","EventEmitter","subscribe","item","data","getContainer","classList","add","remove","eventsKeys","Object","keys","i","length","eventKey","addEventListener","container","linksKeys","linksKey","setAttribute","emit","NavigationPanel","options","target","isDomNode","items","isArray","map","push","value","indexOf","forEach","appendChild","Dom","clean","adjustItem"],"mappings":"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"}