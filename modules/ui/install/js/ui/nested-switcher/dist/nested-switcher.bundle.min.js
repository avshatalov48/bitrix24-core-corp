this.BX=this.BX||{};(function(e,t,i,s,l,a){"use strict";var r,n,c;function o(e,t,i){h(e,t);t.set(e,i)}function h(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var d=new WeakMap;var p=new WeakMap;var u=new WeakMap;var b=new WeakMap;var v=new WeakMap;var f=new WeakMap;var g=new WeakMap;var w=new WeakMap;var k=new WeakMap;var H=new WeakMap;var m=function(){function e(i){babelHelpers.classCallCheck(this,e);o(this,d,{writable:true,value:void 0});o(this,p,{writable:true,value:void 0});o(this,u,{writable:true,value:void 0});o(this,b,{writable:true,value:void 0});o(this,v,{writable:true,value:void 0});o(this,f,{writable:true,value:void 0});o(this,g,{writable:true,value:void 0});o(this,w,{writable:true,value:void 0});o(this,k,{writable:true,value:void 0});o(this,H,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,p,i.id);babelHelpers.classPrivateFieldSet(this,u,i.inputName);babelHelpers.classPrivateFieldSet(this,b,i.title);babelHelpers.classPrivateFieldSet(this,g,i.isChecked);babelHelpers.classPrivateFieldSet(this,w,t.Type.isString(i.settingsPath)?i.settingsPath:null);babelHelpers.classPrivateFieldSet(this,k,t.Type.isString(i.settingsTitle)?i.settingsTitle:null);babelHelpers.classPrivateFieldSet(this,H,t.Type.isString(i.infoHelperCode)?i.infoHelperCode:null);this.isDefault=t.Type.isBoolean(i.isDefault)?i.isDefault:false;this.getSwitcher();babelHelpers.classPrivateFieldSet(this,f,new s.SingleChecker({switcher:this.getSwitcher(),inputName:i.inputName,isEnable:!this.isDefault,helpMessageProvider:this.getHelpMessageProvider(i.id,babelHelpers.classPrivateFieldGet(this,v).getNode(),i.helpMessage)}))}babelHelpers.createClass(e,[{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,p)}},{key:"render",value:function e(){if(babelHelpers.classPrivateFieldGet(this,d)){return babelHelpers.classPrivateFieldGet(this,d)}babelHelpers.classPrivateFieldSet(this,d,t.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__row-tool-selector --tool-selector','">\n\t\t\t\t<div class="ui-section__tools-subgroup_left-wrapper">\n\t\t\t\t\t<div class="ui-section__switcher-row_wrapper"/>\n\t\t\t\t\t<div class="ui-section__row-tool-selector_title">',"</div>\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),babelHelpers.classPrivateFieldGet(this,g)?" --active --checked":"",babelHelpers.classPrivateFieldGet(this,b),this.getLink()));return babelHelpers.classPrivateFieldGet(this,d)}},{key:"getSwitcher",value:function e(){if(babelHelpers.classPrivateFieldGet(this,v)instanceof a.Switcher){return babelHelpers.classPrivateFieldGet(this,v)}babelHelpers.classPrivateFieldSet(this,v,this.createSwitcher(this.render().querySelector(".ui-section__switcher-row_wrapper")));return babelHelpers.classPrivateFieldGet(this,v)}},{key:"getField",value:function e(){return babelHelpers.classPrivateFieldGet(this,f)}},{key:"createSwitcher",value:function e(s){var l=this;return new a.Switcher({inputName:babelHelpers.classPrivateFieldGet(this,u),node:s,checked:babelHelpers.classPrivateFieldGet(this,g),id:babelHelpers.classPrivateFieldGet(this,p),size:a.SwitcherSize.extraSmall,handlers:{checked:function e(){t.Dom.removeClass(l.render(),"--active --checked");i.EventEmitter.emit(l.getSwitcher(),"inactive")},unchecked:function e(){t.Dom.addClass(l.render(),"--active --checked");i.EventEmitter.emit(l.getSwitcher(),"active")}}})}},{key:"renderTo",value:function e(i){if(!t.Type.isDomNode(i)){throw new Error("Target node must be HTMLElement")}return t.Dom.append(this.render(),i)}},{key:"getLink",value:function e(){if(t.Type.isNil(babelHelpers.classPrivateFieldGet(this,k))){return null}if(!t.Type.isNil(babelHelpers.classPrivateFieldGet(this,w))){return t.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a target="_blank" data-slider-ignore-autobinding="true" href="','" class="ui-section__tools-subgroup-description-link">',"</a>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(this,w),babelHelpers.classPrivateFieldGet(this,k))}if(!t.Type.isNil(babelHelpers.classPrivateFieldGet(this,H))){return t.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t<a href=\"javascript:top.BX.UI.InfoHelper.show('",'\')" class="ui-section__tools-subgroup-description-link">',"</a>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(this,H),babelHelpers.classPrivateFieldGet(this,k))}return null}},{key:"getHelpMessageProvider",value:function e(t,i,s){return function(){var e=new l.HelpMessage(t,i,s);e.getPopup().setOffset({offsetLeft:14});return e}}}]);return e}();var P,F,T,_;function S(e,t){y(e,t);t.add(e)}function G(e,t,i){y(e,t);t.set(e,i)}function y(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function C(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var E=new WeakMap;var N=new WeakMap;var M=new WeakSet;var I=new WeakSet;var W=function(e){babelHelpers.inherits(l,e);function l(e){var i;babelHelpers.classCallCheck(this,l);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(l).call(this,e));S(babelHelpers.assertThisInitialized(i),I);S(babelHelpers.assertThisInitialized(i),M);G(babelHelpers.assertThisInitialized(i),E,{writable:true,value:void 0});G(babelHelpers.assertThisInitialized(i),N,{writable:true,value:void 0});i.linkTitle=t.Type.isString(e.linkTitle)?e.linkTitle:null;i.link=t.Type.isString(e.link)?e.link:null;i.isChecked=t.Type.isBoolean(e.isChecked)?e.isChecked:false;i.items=t.Type.isArray(e.items)?e.items:[];i.isNestedMenu=i.items.length>0;i.infoHelperCode=t.Type.isString(e.infoHelperCode)?e.infoHelperCode:null;if(!t.Type.isString(e.mainInputName)){throw new Error("Missing required parameter")}i.mainInputName=e.mainInputName;i.render();i.items.forEach((function(e){i.append(e.render())}));i.field=new s.SingleChecker({switcher:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),E)});return i}babelHelpers.createClass(l,[{key:"getContent",value:function e(){var s=this;if(babelHelpers.classPrivateFieldGet(this,N)){return babelHelpers.classPrivateFieldGet(this,N)}babelHelpers.classPrivateFieldSet(this,N,t.Tag.render(P||(P=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div id="','" class="ui-section__wrapper --tool-selector'," ",'" >\n\t\t\t\t<div class="ui-section__header">\n\t\t\t\t\t<div class="ui-section__header-left-wrapper">\n\t\t\t\t\t\t<span class="ui-section__switcher-wrapper" onclick="event.stopPropagation()"/>\n\t\t\t\t\t\t<span class="ui-section__title">',"</span>\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\n\t\t\t\t\t",'\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-section__content ui-section__section-body_inner">\n\t\t\t\t\t<div class="ui-section__row_box"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),this.id,this.isChecked?" --checked":"",this.canCollapse?" clickable":"",this.title,this.getMenuIcon(),this.getLink()));babelHelpers.classPrivateFieldSet(this,E,this.createSwitcher(babelHelpers.classPrivateFieldGet(this,N).querySelector(".ui-section__switcher-wrapper")));i.EventEmitter.subscribe(babelHelpers.classPrivateFieldGet(this,E),"toggled",(function(){s.toggle(babelHelpers.classPrivateFieldGet(s,E).isChecked());babelHelpers.classPrivateFieldGet(s,E).inputNode.form.dispatchEvent(new Event("change"));t.Dom[babelHelpers.classPrivateFieldGet(s,E).isChecked()?"addClass":"removeClass"](babelHelpers.classPrivateFieldGet(s,N),"--checked");s.items.forEach((function(e){return e.getSwitcher().check(babelHelpers.classPrivateFieldGet(s,E).isChecked())}))}));this.items.forEach((function(e){if(e.isDefault!==true){i.EventEmitter.subscribe(e.getSwitcher(),"inactive",C(s,I,D).bind(s))}i.EventEmitter.subscribe(e.getSwitcher(),"active",C(s,M,B).bind(s))}));return babelHelpers.classPrivateFieldGet(this,N)}},{key:"getMenuIcon",value:function e(){if(this.isNestedMenu){return t.Tag.render(F||(F=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<span class="ui-section__collapse-icon ui-icon-set ',' --tool-selector-icon"></span>\n\t\t\t'])),this.isOpen?this.className.arrowTop:this.className.arrowDown)}return null}},{key:"getFields",value:function e(){var t=[];t.push(this.field);this.items.forEach((function(e){t.push(e.getField())}));return t}},{key:"getLink",value:function e(){if(t.Type.isNil(this.linkTitle)){return null}if(!t.Type.isNil(this.link)){return t.Tag.render(T||(T=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a target="_blank" href="','" class="ui-section__header-link ui-section__tools-description-link" onclick="event.stopPropagation()">',"</a>\n\t\t\t"])),this.link,this.linkTitle)}if(!t.Type.isNil(this.infoHelperCode)){return t.Tag.render(_||(_=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t<a href=\"javascript:top.BX.UI.InfoHelper.show('",'\')" class="ui-section__header-link ui-section__tools-description-link" onclick="event.stopPropagation()">',"</a>\n\t\t\t"])),this.infoHelperCode,this.linkTitle)}return null}},{key:"createSwitcher",value:function e(t){return new a.Switcher({inputName:this.mainInputName,node:t,checked:this.isChecked,id:this.id})}}]);return l}(l.Section);function B(e){babelHelpers.classPrivateFieldGet(this,E).inputNode.form.dispatchEvent(new Event("change"));if(babelHelpers.classPrivateFieldGet(this,E).isChecked()){return}babelHelpers.classPrivateFieldGet(this,E).check(true,false);this.toggle(true);t.Dom.addClass(babelHelpers.classPrivateFieldGet(this,N),"--checked");this.items.forEach((function(e){return e.isDefault&&!e.getSwitcher().isChecked()?e.getSwitcher().check(true):null}))}function D(e){var t=e.target;babelHelpers.classPrivateFieldGet(this,E).inputNode.form.dispatchEvent(new Event("change"));if(babelHelpers.classPrivateFieldGet(this,E).isChecked()!==true){return}if(this.items.some((function(e){return e.getSwitcher().isChecked()}))){return}babelHelpers.classPrivateFieldGet(this,E).check(false,false)}e.NestedSwitcherItem=m;e.NestedSwitcher=W})(this.BX.UI=this.BX.UI||{},BX,BX.Event,BX.UI.FormElements,BX.UI,BX.UI);
//# sourceMappingURL=nested-switcher.bundle.map.js