{"version":3,"file":"alert.bundle.js","sources":["../src/alert-color.js","../src/alert-size.js","../src/alert-icon.js","../src/alert.js"],"sourcesContent":["/**\n * @namespace {BX.UI}\n */\nexport default class AlertColor\n{\n\tstatic DEFAULT = 'ui-alert-default';\n\tstatic DANGER = 'ui-alert-danger';\n\tstatic SUCCESS = 'ui-alert-success';\n\tstatic WARNING = 'ui-alert-warning';\n\tstatic PRIMARY = 'ui-alert-primary';\n}","/**\n * @namespace {BX.UI}\n */\nexport default class AlertSize\n{\n\tstatic MD = 'ui-alert-md';\n\tstatic XS = 'ui-alert-xs';\n}","/**\n * @namespace {BX.UI}\n */\nexport default class AlertIcon\n{\n\tstatic INFO = 'ui-alert-icon-info';\n\tstatic WARNING = 'ui-alert-icon-warning';\n\tstatic DANGER = 'ui-alert-icon-danger';\n}","// @flow\n\nimport {Dom, Tag, Type} from 'main.core';\nimport AlertColor from './alert-color';\nimport AlertSize from './alert-size';\nimport AlertIcon from './alert-icon';\n\ntype AlertOptions = {\n\ttext: string;\n\tcolor: AlertColor;\n\tsize: AlertSize;\n\ticon: AlertIcon;\n\tcustomClass: string;\n\tcloseBtn: boolean;\n\tanimated: boolean;\n};\n\nexport default class Alert {\n\n\tstatic Color = AlertColor;\n\tstatic Size = AlertSize;\n\tstatic Icon = AlertIcon;\n\n\ttext: string;\n\tcolor: string;\n\tsize: string;\n\ticon: string;\n\tcloseBtn: boolean;\n\tanimated: boolean;\n\tcustomClass: string;\n\n\tconstructor(options: AlertOptions)\n\t{\n\t\tthis.text = options.text;\n\t\tthis.color = options.color;\n\t\tthis.size = options.size;\n\t\tthis.icon = options.icon;\n\t\tthis.closeBtn = !!options.closeBtn ? true : options.closeBtn;\n\t\tthis.animated = !!options.animated ? true : options.animated;\n\t\tthis.customClass = options.customClass;\n\n\t\tthis.setText(this.text);\n\t\tthis.setSize(this.size);\n\t\tthis.setIcon(this.icon);\n\t\tthis.setColor(this.color);\n\t\tthis.setCloseBtn(this.closeBtn);\n\t\tthis.setCustomClass(this.customClass);\n\t}\n\n\t//region COLOR\n\tsetColor(color: string)\n\t{\n\t\tthis.color = color;\n\t\tthis.setClassList();\n\t}\n\n\tgetColor()\n\t{\n\t\treturn this.color;\n\t}\n\n\t// endregion\n\n\t//region SIZE\n\tsetSize(size: string)\n\t{\n\t\tthis.size = size;\n\t\tthis.setClassList();\n\t}\n\n\tgetSize()\n\t{\n\t\treturn this.size;\n\t}\n\n\t// endregion\n\n\t//region ICON\n\tsetIcon(icon: string)\n\t{\n\t\tthis.icon = icon;\n\t\tthis.setClassList();\n\t}\n\n\tgetIcon()\n\t{\n\t\treturn this.icon;\n\t}\n\n\t// endregion\n\n\t//region TEXT\n\tsetText(text: string): this\n\t{\n\t\tthis.text = text;\n\t\tif (Type.isStringFilled(text))\n\t\t{\n\t\t\tthis.getTextContainer().innerHTML = text;\n\t\t}\n\t}\n\n\tgetText()\n\t{\n\t\treturn this.text;\n\t}\n\n\tgetTextContainer()\n\t{\n\t\tif (!this.textContainer)\n\t\t{\n\t\t\tthis.textContainer =  BX.create('span', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'ui-alert-message'\n\t\t\t\t},\n\t\t\t\thtml: this.getText()\n\t\t\t});\n\t\t}\n\n\t\treturn this.textContainer;\n\t}\n\n\t// endregion\n\n\t// region CLOSE BTN\n\tsetCloseBtn(closeBtn: boolean)\n\t{\n\t\tthis.closeBtn = closeBtn;\n\t}\n\n\tgetCloseBtn()\n\t{\n\t\tif (this.closeBtn != true)\n\t\t{\n\t\t\treturn\n\t\t}\n\n\t\tif ((!this.closeNode) && (this.closeBtn === true))\n\t\t{\n\t\t\tthis.closeNode = BX.create(\"span\", {\n\t\t\t\tprops: {className: \"ui-alert-close-btn\"},\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleCloseBtnClick.bind(this)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn this.closeNode;\n\t}\n\n\thandleCloseBtnClick()\n\t{\n\t\tif (this.animated === true)\n\t\t{\n\t\t\tthis.animateClosing();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.remove(this.container);\n\t\t}\n\t}\n\n\t//endregion\n\n\t//region CUSTOM CLASS\n\tsetCustomClass(customClass: string)\n\t{\n\t\tthis.customClass = customClass;\n\t\tthis.updateClassList();\n\t}\n\n\tgetCustomClass()\n\t{\n\t\treturn this.customClass;\n\t}\n\n\t// endregion\n\n\t//region CLASS LIST\n\tsetClassList()\n\t{\n\t\tthis.classList = \"ui-alert\";\n\n\t\tif (typeof this.getColor() != \"undefined\")\n\t\t{\n\t\t\tthis.classList = this.classList + \" \" + this.color;\n\t\t}\n\n\t\tif (typeof this.getSize() != \"undefined\")\n\t\t{\n\t\t\tthis.classList = this.classList + \" \" + this.size;\n\t\t}\n\n\t\tif (typeof this.getIcon() != \"undefined\")\n\t\t{\n\t\t\tthis.classList = this.classList + \" \" + this.icon;\n\t\t}\n\n\t\tif (typeof this.getCustomClass() != \"undefined\")\n\t\t{\n\t\t\tthis.classList = this.classList + \" \" + this.customClass;\n\t\t}\n\n\t\tthis.updateClassList();\n\t}\n\n\tgetClassList()\n\t{\n\t\treturn this.classList;\n\t}\n\n\tupdateClassList()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.getContainer()\n\t\t}\n\n\t\tthis.container.setAttribute(\"class\", this.classList);\n\t}\n\n\t// endregion\n\n\t//region ANIMATION\n\tanimateOpening()\n\t{\n\t\tthis.container.style.overflow = \"hidden\";\n\t\tthis.container.style.height = 0;\n\t\tthis.container.style.paddingTop = 0;\n\t\tthis.container.style.paddingBottom = 0;\n\t\tthis.container.style.marginBottom = 0;\n\t\tthis.container.style.opacity = 0;\n\n\t\tsetTimeout(\n\t\t\tfunction () {\n\t\t\t\tthis.container.style.height = this.container.scrollHeight + \"px\";\n\t\t\t\tthis.container.style.height = \"\";\n\t\t\t\tthis.container.style.paddingTop = \"\";\n\t\t\t\tthis.container.style.paddingBottom = \"\";\n\t\t\t\tthis.container.style.marginBottom = \"\";\n\t\t\t\tthis.container.style.opacity = \"\";\n\t\t\t}.bind(this),\n\t\t\t10\n\t\t);\n\n\t\tsetTimeout(\n\t\t\tfunction () {\n\t\t\t\tthis.container.style.height = \"\";\n\t\t\t}.bind(this),\n\t\t\t200\n\t\t);\n\t}\n\n\tanimateClosing()\n\t{\n\t\tthis.container.style.overflow = \"hidden\";\n\n\t\tvar alertWrapPos = BX.pos(this.container);\n\t\tthis.container.style.height = alertWrapPos.height + \"px\";\n\n\t\tsetTimeout(\n\t\t\tfunction () {\n\t\t\t\tthis.container.style.height = 0;\n\t\t\t\tthis.container.style.paddingTop = 0;\n\t\t\t\tthis.container.style.paddingBottom = 0;\n\t\t\t\tthis.container.style.marginBottom = 0;\n\t\t\t\tthis.container.style.opacity = 0;\n\t\t\t}.bind(this),\n\t\t\t10\n\t\t);\n\n\t\tsetTimeout(\n\t\t\tfunction () {\n\t\t\t\tBX.remove(this.container);\n\t\t\t}.bind(this),\n\t\t\t260\n\t\t);\n\t}\n\t\n\t//endregion\n\n\tgetContainer()\n\t{\n\t\tthis.container = Tag.render`<div class=\"${this.getClassList()}\">${this.getTextContainer()}</div>`;\n\n\t\tif (this.animated === true)\n\t\t{\n\t\t\tthis.animateOpening();\n\t\t}\n\n\t\tif (this.closeBtn === true)\n\t\t{\n\t\t\tBX.append(this.getCloseBtn(), this.container);\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\treturn this.getContainer();\n\t}\n}"],"names":["AlertColor","AlertSize","AlertIcon","Alert","options","text","color","size","icon","closeBtn","animated","customClass","setText","setSize","setIcon","setColor","setCloseBtn","setCustomClass","setClassList","Type","isStringFilled","getTextContainer","innerHTML","textContainer","BX","create","props","className","html","getText","closeNode","events","click","handleCloseBtnClick","bind","animateClosing","remove","container","updateClassList","classList","getColor","getSize","getIcon","getCustomClass","getContainer","setAttribute","style","overflow","height","paddingTop","paddingBottom","marginBottom","opacity","setTimeout","scrollHeight","alertWrapPos","pos","Tag","render","getClassList","animateOpening","append","getCloseBtn"],"mappings":"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"}