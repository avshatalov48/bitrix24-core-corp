{"version":3,"file":"ears.bundle.js","sources":["../src/touch-controller.js","../src/ears.js"],"sourcesContent":["export class TouchController\n{\n\tconstructor({ target })\n\t{\n\t\tthis.target = target ? target : null;\n\t\tthis.pos = { top: 0, left: 0, x: 0, y: 0 };\n\t\tthis.touchInit = false;\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\tif (!this.target)\n\t\t{\n\t\t\tconsole.warn('BX.UI.Ears: TouchController not initialized')\n\t\t\treturn;\n\t\t}\n\n\t\tthis.target.addEventListener('mousedown', this.mouseDownHandler.bind(this));\n\t\tthis.target.addEventListener('mousemove', this.mouseMoveHandler.bind(this));\n\t\tthis.target.addEventListener('mouseup', this.mouseUpHandler.bind(this));\n\t\tthis.target.addEventListener('mouseleave', this.mouseUpHandler.bind(this));\n\t}\n\n\tmouseDownHandler(ev)\n\t{\n\t\tthis.touchInit = true;\n\t\tthis.target.style.cursor = 'grabbing';\n\t\tthis.target.style.userSelect = 'none';\n\t\tthis.target.parentNode.classList.add('--grabbing');\n\n\t\tthis.pos = {\n\t\t\tleft: this.target.scrollLeft,\n\t\t\ttop: this.target.scrollTop,\n\t\t\tx: ev.clientX,\n\t\t\ty: ev.clientY,\n\t\t};\n\t}\n\n\tmouseMoveHandler(ev)\n\t{\n\t\tif (!this.touchInit)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst dx = ev.clientX - this.pos.x;\n\t\tconst dy = ev.clientY - this.pos.y;\n\n\t\tthis.target.scrollLeft = this.pos.left - dx;\n\t\tthis.target.scrollTop = this.pos.top - dy;\n\t}\n\n\tmouseUpHandler()\n\t{\n\t\tthis.touchInit = false;\n\t\tthis.target.style.cursor = 'grab';\n\t\tthis.target.style.removeProperty('user-select');\n\t\tthis.target.parentNode.classList.remove('--grabbing');\n\t}\n}","import { Tag, Dom, Cache, Type } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { TouchController } from\t'./touch-controller';\nimport './style.css';\n\nexport class Ears extends EventEmitter\n{\n\tconstructor(options)\n\t{\n\t\tsuper(...arguments);\n\t\tthis.setEventNamespace('BX.UI.Ears');\n\t\tthis.container = options.container || null;\n\t\tthis.smallSize = options.smallSize || null;\n\t\tthis.noScrollbar = options.noScrollbar ? options.noScrollbar : false;\n\t\tthis.className = options.className ? options.className : null;\n\t\tthis.mousewheel = options.mousewheel || null;\n\t\tthis.touchScroll = options.touchScroll || null;\n\t\tthis.vertical = options.vertical || null;\n\t\tthis.itemsInShow = options.itemsInShow || null;\n\t\tif (this.itemsInShow)\n\t\t{\n\t\t\tthis.noScrollbar = true;\n\t\t}\n\n\t\tthis.itemSize = null;\n\n\t\t// layouts\n\t\tthis.wrapper = null;\n\t\tthis.leftEar = null;\n\t\tthis.rightEar = null;\n\t\tthis.topEar = null;\n\t\tthis.bottomEar = null;\n\t\tthis.parentContainer = Type.isDomNode(this.container) ? this.container.parentNode : null;\n\t\tthis.delay = 12;\n\t\tthis.scrollTimeout = null;\n\t\tthis.cache = new Cache.MemoryCache();\n\t}\n\n\tbindEvents()\n\t{\n\t\tthis.container.addEventListener('scroll', this.toggleEars.bind(this));\n\n\t\tif (this.mousewheel)\n\t\t{\n\t\t\tthis.container.addEventListener('wheel', this.onWheel.bind(this));\n\t\t}\n\n\t\tif (this.vertical)\n\t\t{\n\t\t\tif (this.itemsInShow)\n\t\t\t{\n\t\t\t\tthis.getBottomEar().addEventListener('click', this.scrollToNext.bind(this));\n\t\t\t\tthis.getTopEar().addEventListener('click', this.scrollToPrev.bind(this));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getBottomEar().addEventListener('mouseenter', this.scrollBottom.bind(this));\n\t\t\t\tthis.getBottomEar().addEventListener('mouseleave', this.stopScroll.bind(this));\n\t\t\t\tthis.getBottomEar().addEventListener('mousedown', this.stopScroll.bind(this));\n\t\t\t\tthis.getBottomEar().addEventListener('mouseup', this.scrollBottom.bind(this));\n\n\t\t\t\tthis.getTopEar().addEventListener('mouseenter', this.scrollTop.bind(this));\n\t\t\t\tthis.getTopEar().addEventListener('mouseleave', this.stopScroll.bind(this));\n\t\t\t\tthis.getTopEar().addEventListener('mousedown', this.stopScroll.bind(this));\n\t\t\t\tthis.getTopEar().addEventListener('mouseup', this.scrollTop.bind(this));\n\t\t\t}\n\n\t\t}\n\n\t\tif (!this.vertical)\n\t\t{\n\t\t\tif (this.itemsInShow)\n\t\t\t{\n\t\t\t\tthis.getRightEar().addEventListener('click', this.scrollToNext.bind(this));\n\t\t\t\tthis.getLeftEar().addEventListener('click', this.scrollToPrev.bind(this));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getLeftEar().addEventListener('mouseenter', this.scrollLeft.bind(this));\n\t\t\t\tthis.getLeftEar().addEventListener('mouseleave', this.stopScroll.bind(this));\n\t\t\t\tthis.getLeftEar().addEventListener('mousedown', this.stopScroll.bind(this));\n\t\t\t\tthis.getLeftEar().addEventListener('mouseup', this.scrollLeft.bind(this));\n\n\t\t\t\tthis.getRightEar().addEventListener('mouseenter', this.scrollRight.bind(this));\n\t\t\t\tthis.getRightEar().addEventListener('mouseleave', this.stopScroll.bind(this));\n\t\t\t\tthis.getRightEar().addEventListener('mousedown', this.stopScroll.bind(this));\n\t\t\t\tthis.getRightEar().addEventListener('mouseup', this.scrollRight.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\tinit(): this\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tconsole.warn('BX.UI.Ears.Preview: \\'container\\' is not defined');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setWrapper();\n\t\tthis.bindEvents();\n\n\t\tif (this.touchScroll)\n\t\t{\n\t\t\tthis.initTouchScroll();\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tif (this.container.scrollWidth > this.container.offsetWidth)\n\t\t\t{\n\t\t\t\tthis.toggleRightEar();\n\n\t\t\t\tlet activeItem = this.container.querySelector('[data-role=\"ui-ears-active\"]');\n\n\t\t\t\tactiveItem ? this.scrollToActiveItem(activeItem) : null;\n\t\t\t}\n\n\t\t\tthis.toggleEars();\n\t\t}, 600);\n\t\treturn this;\n\t}\n\n\tscrollToPrev()\n\t{\n\t\tif (this.vertical)\n\t\t{\n\t\t\tthis.container.scrollTo({\n\t\t\t\ttop: this.container.scrollTop - this.getItemSize(),\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.container.scrollTo({\n\t\t\t\tleft: this.container.scrollLeft - this.getItemSize(),\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t\t}\n\t}\n\n\tscrollToNext()\n\t{\n\t\tif (this.vertical)\n\t\t{\n\t\t\tthis.container.scrollTo({\n\t\t\t\ttop: this.container.scrollTop + this.getItemSize(),\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.container.scrollTo({\n\t\t\t\tleft: this.container.scrollLeft + this.getItemSize(),\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t\t}\n\t}\n\n\tscrollToActiveItem(activeItem)\n\t{\n\t\tlet scrollToPoint = activeItem.offsetLeft - (this.container.offsetWidth / 2 - activeItem.offsetWidth / 2);\n\t\tlet scrollWidth = 0;\n\t\tlet interval = setInterval(() => {\n\t\t\tif( scrollWidth >= scrollToPoint ||\n\t\t\t\tscrollWidth + this.container.offsetWidth >= this.container.scrollWidth)\n\t\t\t{\n\t\t\t\tclearInterval(interval);\n\t\t\t}\n\n\t\t\tthis.container.scrollLeft = scrollWidth += 10;\n\t\t},10)\n\t}\n\n\tonWheel(event)\n\t{\n\t\tif (event.deltaY < 0 || event.deltaX > 0)\n\t\t{\n\t\t\tthis.scrollRight();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.scrollLeft();\n\t\t}\n\n\t\tclearTimeout(this.scrollTimeout);\n\t\tthis.scrollTimeout = setTimeout(() => this.stopScroll(), 150);\n\t\tevent.preventDefault();\n\t}\n\n\tgetItemSize()\n\t{\n\t\tif (!this.itemSize)\n\t\t{\n\t\t\tconst itemNode = this.container.firstElementChild;\n\t\t\tthis.itemSize = this.vertical\n\t\t\t\t? this.container.firstElementChild.offsetHeight\n\t\t\t\t: this.container.firstElementChild.offsetWidth;\n\n\t\t\tlet spaceInt = 0;\n\n\t\t\tif (this.vertical)\n\t\t\t{\n\t\t\t\tspaceInt = parseInt(window.getComputedStyle(itemNode).marginTop) > parseInt(window.getComputedStyle(itemNode).marginTop)\n\t\t\t\t\t? parseInt(window.getComputedStyle(itemNode).marginTop)\n\t\t\t\t\t: parseInt(window.getComputedStyle(itemNode).marginBottom);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tspaceInt = parseInt(window.getComputedStyle(itemNode).marginLeft) + parseInt(window.getComputedStyle(itemNode).marginRight);\n\t\t\t}\n\n\t\t\tif (spaceInt > 0)\n\t\t\t{\n\t\t\t\tthis.itemSize = this.itemSize + spaceInt;\n\t\t\t}\n\t\t}\n\n\t\treturn this.itemSize;\n\t}\n\n\tsetWrapper() {\n\t\tthis.container.classList.add('ui-ear-container');\n\t\tthis.container.classList.add(this.vertical ? '--vertical' : '--horizontal');\n\n\t\tif (this.noScrollbar)\n\t\t{\n\t\t\tthis.container.classList.add('ui-ear-container-no-scrollbar');\n\t\t}\n\n\t\tDom.append(this.getWrapper(), this.parentContainer);\n\n\t\tif (this.itemsInShow)\n\t\t{\n\t\t\tthis.container.style.setProperty(this.vertical ? 'height' : 'width', this.getItemSize() * this.itemsInShow  + 'px');\n\t\t}\n\t}\n\n\tgetWrapper()\n\t{\n\t\treturn this.cache.remember('wrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t\t<div class='ui-ears-wrapper ${this.smallSize ? ' ui-ears-wrapper-sm' : ''} ${this.className ? this.className : ''}'>\n\t\t\t\t\t\t${this.vertical ? this.getTopEar() : this.getLeftEar() }\n\t\t\t\t\t\t${this.vertical ? this.getBottomEar() : this.getRightEar()}\n\t\t\t\t\t\t${this.container}\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\t\t});\n\t}\n\n\tgetTopEar()\n\t{\n\t\treturn this.cache.remember('topEar', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t\t<div class='ui-ear ui-ear-top'></div>\n\t\t\t\t`;\n\t\t});\n\t}\n\n\tgetBottomEar()\n\t{\n\t\treturn this.cache.remember('bottomEar', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t\t<div class='ui-ear ui-ear-bottom'></div>\n\t\t\t\t`;\n\t\t});\n\t}\n\n\tgetLeftEar()\n\t{\n\t\treturn this.cache.remember('leftEar', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t\t<div class='ui-ear ui-ear-left'></div>\n\t\t\t\t`;\n\t\t});\n\t}\n\n\tgetRightEar()\n\t{\n\t\treturn this.cache.remember('rightEar', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t\t<div class='ui-ear ui-ear-right'></div>\n\t\t\t\t`;\n\t\t});\n\t}\n\n\ttoggleEars() \n\t{\n\t\tif (this.vertical)\n\t\t{\n\t\t\tthis.toggleTopEar();\n\t\t\tthis.toggleBottomEar();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.toggleRightEar();\n\t\t\tthis.toggleLeftEar();\n\t\t}\n\t}\n\n\ttoggleTopEar()\n\t{\n\t\tif (this.container.scrollTop > 0)\n\t\t{\n\t\t\tthis.getTopEar().classList.add('ui-ear-show');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getTopEar().classList.remove('ui-ear-show');\n\t\t}\n\t}\n\n\ttoggleBottomEar()\n\t{\n\t\tif (this.container.scrollHeight > this.container.offsetHeight\n\t\t\t&& Math.ceil(this.container.offsetHeight + this.container.scrollTop) < this.container.scrollHeight)\n\t\t{\n\t\t\tthis.getBottomEar().classList.add('ui-ear-show');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getBottomEar().classList.remove('ui-ear-show');\n\t\t}\n\t}\n\n\ttoggleRightEar()\n\t{\n\t\tif (this.container.scrollWidth > this.container.offsetWidth\n\t\t\t&& Math.ceil(this.container.offsetWidth + this.container.scrollLeft) < this.container.scrollWidth)\n\t\t{\n\t\t\tthis.getRightEar().classList.add('ui-ear-show');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getRightEar().classList.remove('ui-ear-show');\n\t\t}\n\t}\n\n\ttoggleLeftEar()\n\t{\n\t\tif (this.container.scrollLeft > 0)\n\t\t{\n\t\t\tthis.getLeftEar().classList.add('ui-ear-show');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getLeftEar().classList.remove('ui-ear-show');\n\t\t}\n\t}\n\n\tscrollTop()\n\t{\n\t\tthis.stopScroll('bottom');\n\t\tthis.container.scrollTop -= 10;\n\t\tthis.emit('onEarsAreMoved');\n\t\tif (this.container.scrollTop <= 10)\n\t\t{\n\t\t\tthis.emit('onEarsAreHidden');\n\t\t}\n\n\t\tthis.setDelay();\n\t\tthis.scrollInterval = setInterval(\n\t\t\tthis.scrollTop.bind(this),\n\t\t\tthis.delay);\n\n\t\tthis.top = true;\n\n\t}\n\n\tscrollBottom()\n\t{\n\t\tthis.stopScroll('top');\n\t\tlet previous = this.container.scrollTop;\n\t\tthis.container.scrollTop += 10;\n\t\tthis.emit('onEarsAreMoved');\n\t\tif (this.container.scrollTop >= 0 && previous < 0)\n\t\t{\n\t\t\tthis.emit('onEarsAreHidden');\n\t\t}\n\n\t\tthis.setDelay();\n\t\tthis.scrollInterval = setInterval(\n\t\t\tthis.scrollBottom.bind(this),\n\t\t\tthis.delay);\n\n\t\tthis.bottom = true;\n\t\t\n\t}\n\n\tscrollLeft()\n\t{\n\t\tthis.stopScroll('right');\n\n\t\tlet previous = this.container.scrollLeft;\n\t\tthis.container.scrollLeft -= 10;\n\t\tthis.emit('onEarsAreMoved');\n\t\tif (this.container.scrollLeft <= 0 && previous > 0)\n\t\t{\n\t\t\tthis.emit('onEarsAreHidden');\n\t\t}\n\n\t\tthis.setDelay();\n\t\tthis.scrollInterval = setInterval(\n\t\t\tthis.scrollLeft.bind(this),\n\t\t\tthis.delay);\n\n\t\tthis.left = true;\n\t}\n\n\tscrollRight()\n\t{\n\t\tthis.stopScroll('left');\n\n\t\tthis.container.scrollLeft += 10;\n\t\tthis.emit('onEarsAreMoved');\n\t\tif (this.container.scrollLeft <= 10)\n\t\t{\n\t\t\tthis.emit('onEarsAreShown');\n\t\t}\n\n\t\tthis.setDelay();\n\t\tthis.scrollInterval = setInterval(\n\t\t\tthis.scrollRight.bind(this),\n\t\t\tthis.delay);\n\n\t\tthis.right = true;\n\t}\n\n\tsetDelay()\n\t{\n\t\tif (this.container.scrollWidth < this.container.offsetWidth * 1.6)\n\t\t{\n\t\t\tthis.delay = 20;\n\t\t\treturn;\n\t\t}\n\n\t\tconst fullScrollLeft = this.container.scrollWidth - this.container.offsetWidth;\n\t\tconst conditionRight = this.container.scrollLeft > fullScrollLeft / 1.3;\n\t\tconst conditionLeft = this.container.scrollLeft < fullScrollLeft / 4;\n\n\t\tif (this.container.scrollLeft === fullScrollLeft)\n\t\t{\n\t\t\tthis.delay = 12;\n\t\t}\n\n\t\tif (this.left)\n\t\t{\n\t\t\tif (conditionLeft)\n\t\t\t{\n\t\t\t\tthis.delay = 25;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.delay = 12;\n\t\t\t}\n\t\t}\n\n\t\tif (this.right)\n\t\t{\n\t\t\tif (conditionRight)\n\t\t\t{\n\t\t\t\tthis.delay = 25;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.delay = 12;\n\t\t\t}\n\t\t}\n\t}\n\n\tstopScroll(direction) {\n\t\tif (this.scrollInterval)\n\t\t{\n\t\t\tclearInterval(this.scrollInterval);\n\t\t\tthis.scrollInterval = 0;\n\t\t}\n\n\t\tif (direction === 'right')\n\t\t{\n\t\t\tthis.right = false;\n\t\t}\n\t\telse if (direction === 'left')\n\t\t{\n\t\t\tthis.left = false;\n\t\t}\n\t\telse if (direction === 'bottom')\n\t\t{\n\t\t\tthis.bottom = false;\n\t\t}\n\t\telse if (direction === 'top')\n\t\t{\n\t\t\tthis.top = false;\n\t\t}\n\t}\n\n\tinitTouchScroll()\n\t{\n\t\tnew TouchController({\n\t\t\ttarget: this.container\n\t\t});\n\t}\n}\n"],"names":["TouchController","target","pos","top","left","x","y","touchInit","init","console","warn","addEventListener","mouseDownHandler","bind","mouseMoveHandler","mouseUpHandler","ev","style","cursor","userSelect","parentNode","classList","add","scrollLeft","scrollTop","clientX","clientY","dx","dy","removeProperty","remove","Ears","options","arguments","setEventNamespace","container","smallSize","noScrollbar","className","mousewheel","touchScroll","vertical","itemsInShow","itemSize","wrapper","leftEar","rightEar","topEar","bottomEar","parentContainer","Type","isDomNode","delay","scrollTimeout","cache","Cache","MemoryCache","toggleEars","onWheel","getBottomEar","scrollToNext","getTopEar","scrollToPrev","scrollBottom","stopScroll","getRightEar","getLeftEar","scrollRight","setWrapper","bindEvents","initTouchScroll","setTimeout","scrollWidth","offsetWidth","toggleRightEar","activeItem","querySelector","scrollToActiveItem","scrollTo","getItemSize","behavior","scrollToPoint","offsetLeft","interval","setInterval","clearInterval","event","deltaY","deltaX","clearTimeout","preventDefault","itemNode","firstElementChild","offsetHeight","spaceInt","parseInt","window","getComputedStyle","marginTop","marginBottom","marginLeft","marginRight","Dom","append","getWrapper","setProperty","remember","Tag","render","toggleTopEar","toggleBottomEar","toggleLeftEar","scrollHeight","Math","ceil","emit","setDelay","scrollInterval","previous","bottom","right","fullScrollLeft","conditionRight","conditionLeft","direction","EventEmitter"],"mappings":";;;;;KAAaA,eAAe;GAE3B,+BACA;KAAA,IADcC,MAAM,QAANA,MAAM;KAAA;KAEnB,IAAI,CAACA,MAAM,GAAGA,MAAM,GAAGA,MAAM,GAAG,IAAI;KACpC,IAAI,CAACC,GAAG,GAAG;OAAEC,GAAG,EAAE,CAAC;OAAEC,IAAI,EAAE,CAAC;OAAEC,CAAC,EAAE,CAAC;OAAEC,CAAC,EAAE;MAAG;KAC1C,IAAI,CAACC,SAAS,GAAG,KAAK;KACtB,IAAI,CAACC,IAAI,EAAE;;GACX;KAAA;KAAA,uBAGD;OACC,IAAI,CAAC,IAAI,CAACP,MAAM,EAChB;SACCQ,OAAO,CAACC,IAAI,CAAC,6CAA6C,CAAC;SAC3D;;OAGD,IAAI,CAACT,MAAM,CAACU,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACC,gBAAgB,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;OAC3E,IAAI,CAACZ,MAAM,CAACU,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACG,gBAAgB,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;OAC3E,IAAI,CAACZ,MAAM,CAACU,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACI,cAAc,CAACF,IAAI,CAAC,IAAI,CAAC,CAAC;OACvE,IAAI,CAACZ,MAAM,CAACU,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACI,cAAc,CAACF,IAAI,CAAC,IAAI,CAAC,CAAC;;;KAC1E;KAAA,iCAEgBG,EAAE,EACnB;OACC,IAAI,CAACT,SAAS,GAAG,IAAI;OACrB,IAAI,CAACN,MAAM,CAACgB,KAAK,CAACC,MAAM,GAAG,UAAU;OACrC,IAAI,CAACjB,MAAM,CAACgB,KAAK,CAACE,UAAU,GAAG,MAAM;OACrC,IAAI,CAAClB,MAAM,CAACmB,UAAU,CAACC,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;OAElD,IAAI,CAACpB,GAAG,GAAG;SACVE,IAAI,EAAE,IAAI,CAACH,MAAM,CAACsB,UAAU;SAC5BpB,GAAG,EAAE,IAAI,CAACF,MAAM,CAACuB,SAAS;SAC1BnB,CAAC,EAAEW,EAAE,CAACS,OAAO;SACbnB,CAAC,EAAEU,EAAE,CAACU;QACN;;;KACD;KAAA,iCAEgBV,EAAE,EACnB;OACC,IAAI,CAAC,IAAI,CAACT,SAAS,EACnB;SACC;;OAGD,IAAMoB,EAAE,GAAGX,EAAE,CAACS,OAAO,GAAG,IAAI,CAACvB,GAAG,CAACG,CAAC;OAClC,IAAMuB,EAAE,GAAGZ,EAAE,CAACU,OAAO,GAAG,IAAI,CAACxB,GAAG,CAACI,CAAC;OAElC,IAAI,CAACL,MAAM,CAACsB,UAAU,GAAG,IAAI,CAACrB,GAAG,CAACE,IAAI,GAAGuB,EAAE;OAC3C,IAAI,CAAC1B,MAAM,CAACuB,SAAS,GAAG,IAAI,CAACtB,GAAG,CAACC,GAAG,GAAGyB,EAAE;;;KACzC;KAAA,iCAGD;OACC,IAAI,CAACrB,SAAS,GAAG,KAAK;OACtB,IAAI,CAACN,MAAM,CAACgB,KAAK,CAACC,MAAM,GAAG,MAAM;OACjC,IAAI,CAACjB,MAAM,CAACgB,KAAK,CAACY,cAAc,CAAC,aAAa,CAAC;OAC/C,IAAI,CAAC5B,MAAM,CAACmB,UAAU,CAACC,SAAS,CAACS,MAAM,CAAC,YAAY,CAAC;;;GACrD;CAAA;;;AC3DF,KAKaC,IAAI;GAAA;GAEhB,cAAYC,OAAO,EACnB;KAAA;KAAA;KACC,mGAASC,SAAS;KAClB,MAAKC,iBAAiB,CAAC,YAAY,CAAC;KACpC,MAAKC,SAAS,GAAGH,OAAO,CAACG,SAAS,IAAI,IAAI;KAC1C,MAAKC,SAAS,GAAGJ,OAAO,CAACI,SAAS,IAAI,IAAI;KAC1C,MAAKC,WAAW,GAAGL,OAAO,CAACK,WAAW,GAAGL,OAAO,CAACK,WAAW,GAAG,KAAK;KACpE,MAAKC,SAAS,GAAGN,OAAO,CAACM,SAAS,GAAGN,OAAO,CAACM,SAAS,GAAG,IAAI;KAC7D,MAAKC,UAAU,GAAGP,OAAO,CAACO,UAAU,IAAI,IAAI;KAC5C,MAAKC,WAAW,GAAGR,OAAO,CAACQ,WAAW,IAAI,IAAI;KAC9C,MAAKC,QAAQ,GAAGT,OAAO,CAACS,QAAQ,IAAI,IAAI;KACxC,MAAKC,WAAW,GAAGV,OAAO,CAACU,WAAW,IAAI,IAAI;KAC9C,IAAI,MAAKA,WAAW,EACpB;OACC,MAAKL,WAAW,GAAG,IAAI;;KAGxB,MAAKM,QAAQ,GAAG,IAAI;;;KAGpB,MAAKC,OAAO,GAAG,IAAI;KACnB,MAAKC,OAAO,GAAG,IAAI;KACnB,MAAKC,QAAQ,GAAG,IAAI;KACpB,MAAKC,MAAM,GAAG,IAAI;KAClB,MAAKC,SAAS,GAAG,IAAI;KACrB,MAAKC,eAAe,GAAGC,cAAI,CAACC,SAAS,CAAC,MAAKhB,SAAS,CAAC,GAAG,MAAKA,SAAS,CAACf,UAAU,GAAG,IAAI;KACxF,MAAKgC,KAAK,GAAG,EAAE;KACf,MAAKC,aAAa,GAAG,IAAI;KACzB,MAAKC,KAAK,GAAG,IAAIC,eAAK,CAACC,WAAW,EAAE;KAAC;;GACrC;KAAA;KAAA,6BAGD;OACC,IAAI,CAACrB,SAAS,CAACxB,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC8C,UAAU,CAAC5C,IAAI,CAAC,IAAI,CAAC,CAAC;OAErE,IAAI,IAAI,CAAC0B,UAAU,EACnB;SACC,IAAI,CAACJ,SAAS,CAACxB,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC+C,OAAO,CAAC7C,IAAI,CAAC,IAAI,CAAC,CAAC;;OAGlE,IAAI,IAAI,CAAC4B,QAAQ,EACjB;SACC,IAAI,IAAI,CAACC,WAAW,EACpB;WACC,IAAI,CAACiB,YAAY,EAAE,CAAChD,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACiD,YAAY,CAAC/C,IAAI,CAAC,IAAI,CAAC,CAAC;WAC3E,IAAI,CAACgD,SAAS,EAAE,CAAClD,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACmD,YAAY,CAACjD,IAAI,CAAC,IAAI,CAAC,CAAC;UACxE,MAED;WACC,IAAI,CAAC8C,YAAY,EAAE,CAAChD,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACoD,YAAY,CAAClD,IAAI,CAAC,IAAI,CAAC,CAAC;WAChF,IAAI,CAAC8C,YAAY,EAAE,CAAChD,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACqD,UAAU,CAACnD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC9E,IAAI,CAAC8C,YAAY,EAAE,CAAChD,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACqD,UAAU,CAACnD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC7E,IAAI,CAAC8C,YAAY,EAAE,CAAChD,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACoD,YAAY,CAAClD,IAAI,CAAC,IAAI,CAAC,CAAC;WAE7E,IAAI,CAACgD,SAAS,EAAE,CAAClD,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACa,SAAS,CAACX,IAAI,CAAC,IAAI,CAAC,CAAC;WAC1E,IAAI,CAACgD,SAAS,EAAE,CAAClD,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACqD,UAAU,CAACnD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC3E,IAAI,CAACgD,SAAS,EAAE,CAAClD,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACqD,UAAU,CAACnD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC1E,IAAI,CAACgD,SAAS,EAAE,CAAClD,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACa,SAAS,CAACX,IAAI,CAAC,IAAI,CAAC,CAAC;;;OAKzE,IAAI,CAAC,IAAI,CAAC4B,QAAQ,EAClB;SACC,IAAI,IAAI,CAACC,WAAW,EACpB;WACC,IAAI,CAACuB,WAAW,EAAE,CAACtD,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACiD,YAAY,CAAC/C,IAAI,CAAC,IAAI,CAAC,CAAC;WAC1E,IAAI,CAACqD,UAAU,EAAE,CAACvD,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACmD,YAAY,CAACjD,IAAI,CAAC,IAAI,CAAC,CAAC;UACzE,MAED;WACC,IAAI,CAACqD,UAAU,EAAE,CAACvD,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACY,UAAU,CAACV,IAAI,CAAC,IAAI,CAAC,CAAC;WAC5E,IAAI,CAACqD,UAAU,EAAE,CAACvD,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACqD,UAAU,CAACnD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC5E,IAAI,CAACqD,UAAU,EAAE,CAACvD,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACqD,UAAU,CAACnD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC3E,IAAI,CAACqD,UAAU,EAAE,CAACvD,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACY,UAAU,CAACV,IAAI,CAAC,IAAI,CAAC,CAAC;WAEzE,IAAI,CAACoD,WAAW,EAAE,CAACtD,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACwD,WAAW,CAACtD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC9E,IAAI,CAACoD,WAAW,EAAE,CAACtD,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACqD,UAAU,CAACnD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC7E,IAAI,CAACoD,WAAW,EAAE,CAACtD,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACqD,UAAU,CAACnD,IAAI,CAAC,IAAI,CAAC,CAAC;WAC5E,IAAI,CAACoD,WAAW,EAAE,CAACtD,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACwD,WAAW,CAACtD,IAAI,CAAC,IAAI,CAAC,CAAC;;;;;KAG7E;KAAA,uBAGD;OAAA;OACC,IAAI,CAAC,IAAI,CAACsB,SAAS,EACnB;SACC1B,OAAO,CAACC,IAAI,CAAC,kDAAkD,CAAC;SAChE;;OAGD,IAAI,CAAC0D,UAAU,EAAE;OACjB,IAAI,CAACC,UAAU,EAAE;OAEjB,IAAI,IAAI,CAAC7B,WAAW,EACpB;SACC,IAAI,CAAC8B,eAAe,EAAE;;OAGvBC,UAAU,CAAC,YAAM;SAChB,IAAI,MAAI,CAACpC,SAAS,CAACqC,WAAW,GAAG,MAAI,CAACrC,SAAS,CAACsC,WAAW,EAC3D;WACC,MAAI,CAACC,cAAc,EAAE;WAErB,IAAIC,UAAU,GAAG,MAAI,CAACxC,SAAS,CAACyC,aAAa,CAAC,8BAA8B,CAAC;WAE7ED,UAAU,GAAG,MAAI,CAACE,kBAAkB,CAACF,UAAU,CAAC,GAAG,IAAI;;SAGxD,MAAI,CAAClB,UAAU,EAAE;QACjB,EAAE,GAAG,CAAC;OACP,OAAO,IAAI;;;KACX;KAAA,+BAGD;OACC,IAAI,IAAI,CAAChB,QAAQ,EACjB;SACC,IAAI,CAACN,SAAS,CAAC2C,QAAQ,CAAC;WACvB3E,GAAG,EAAE,IAAI,CAACgC,SAAS,CAACX,SAAS,GAAG,IAAI,CAACuD,WAAW,EAAE;WAClDC,QAAQ,EAAE;UACV,CAAC;QACF,MAED;SACC,IAAI,CAAC7C,SAAS,CAAC2C,QAAQ,CAAC;WACvB1E,IAAI,EAAE,IAAI,CAAC+B,SAAS,CAACZ,UAAU,GAAG,IAAI,CAACwD,WAAW,EAAE;WACpDC,QAAQ,EAAE;UACV,CAAC;;;;KAEH;KAAA,+BAGD;OACC,IAAI,IAAI,CAACvC,QAAQ,EACjB;SACC,IAAI,CAACN,SAAS,CAAC2C,QAAQ,CAAC;WACvB3E,GAAG,EAAE,IAAI,CAACgC,SAAS,CAACX,SAAS,GAAG,IAAI,CAACuD,WAAW,EAAE;WAClDC,QAAQ,EAAE;UACV,CAAC;QACF,MAED;SACC,IAAI,CAAC7C,SAAS,CAAC2C,QAAQ,CAAC;WACvB1E,IAAI,EAAE,IAAI,CAAC+B,SAAS,CAACZ,UAAU,GAAG,IAAI,CAACwD,WAAW,EAAE;WACpDC,QAAQ,EAAE;UACV,CAAC;;;;KAEH;KAAA,mCAEkBL,UAAU,EAC7B;OAAA;OACC,IAAIM,aAAa,GAAGN,UAAU,CAACO,UAAU,IAAI,IAAI,CAAC/C,SAAS,CAACsC,WAAW,GAAG,CAAC,GAAGE,UAAU,CAACF,WAAW,GAAG,CAAC,CAAC;OACzG,IAAID,WAAW,GAAG,CAAC;OACnB,IAAIW,QAAQ,GAAGC,WAAW,CAAC,YAAM;SAChC,IAAIZ,WAAW,IAAIS,aAAa,IAC/BT,WAAW,GAAG,MAAI,CAACrC,SAAS,CAACsC,WAAW,IAAI,MAAI,CAACtC,SAAS,CAACqC,WAAW,EACvE;WACCa,aAAa,CAACF,QAAQ,CAAC;;SAGxB,MAAI,CAAChD,SAAS,CAACZ,UAAU,GAAGiD,WAAW,IAAI,EAAE;QAC7C,EAAC,EAAE,CAAC;;;KACL;KAAA,wBAEOc,KAAK,EACb;OAAA;OACC,IAAIA,KAAK,CAACC,MAAM,GAAG,CAAC,IAAID,KAAK,CAACE,MAAM,GAAG,CAAC,EACxC;SACC,IAAI,CAACrB,WAAW,EAAE;QAClB,MAED;SACC,IAAI,CAAC5C,UAAU,EAAE;;OAGlBkE,YAAY,CAAC,IAAI,CAACpC,aAAa,CAAC;OAChC,IAAI,CAACA,aAAa,GAAGkB,UAAU,CAAC;SAAA,OAAM,MAAI,CAACP,UAAU,EAAE;UAAE,GAAG,CAAC;OAC7DsB,KAAK,CAACI,cAAc,EAAE;;;KACtB;KAAA,8BAGD;OACC,IAAI,CAAC,IAAI,CAAC/C,QAAQ,EAClB;SACC,IAAMgD,QAAQ,GAAG,IAAI,CAACxD,SAAS,CAACyD,iBAAiB;SACjD,IAAI,CAACjD,QAAQ,GAAG,IAAI,CAACF,QAAQ,GAC1B,IAAI,CAACN,SAAS,CAACyD,iBAAiB,CAACC,YAAY,GAC7C,IAAI,CAAC1D,SAAS,CAACyD,iBAAiB,CAACnB,WAAW;SAE/C,IAAIqB,QAAQ,GAAG,CAAC;SAEhB,IAAI,IAAI,CAACrD,QAAQ,EACjB;WACCqD,QAAQ,GAAGC,QAAQ,CAACC,MAAM,CAACC,gBAAgB,CAACN,QAAQ,CAAC,CAACO,SAAS,CAAC,GAAGH,QAAQ,CAACC,MAAM,CAACC,gBAAgB,CAACN,QAAQ,CAAC,CAACO,SAAS,CAAC,GACrHH,QAAQ,CAACC,MAAM,CAACC,gBAAgB,CAACN,QAAQ,CAAC,CAACO,SAAS,CAAC,GACrDH,QAAQ,CAACC,MAAM,CAACC,gBAAgB,CAACN,QAAQ,CAAC,CAACQ,YAAY,CAAC;UAC3D,MAED;WACCL,QAAQ,GAAGC,QAAQ,CAACC,MAAM,CAACC,gBAAgB,CAACN,QAAQ,CAAC,CAACS,UAAU,CAAC,GAAGL,QAAQ,CAACC,MAAM,CAACC,gBAAgB,CAACN,QAAQ,CAAC,CAACU,WAAW,CAAC;;SAG5H,IAAIP,QAAQ,GAAG,CAAC,EAChB;WACC,IAAI,CAACnD,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAGmD,QAAQ;;;OAI1C,OAAO,IAAI,CAACnD,QAAQ;;;KACpB;KAAA,6BAEY;OACZ,IAAI,CAACR,SAAS,CAACd,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;OAChD,IAAI,CAACa,SAAS,CAACd,SAAS,CAACC,GAAG,CAAC,IAAI,CAACmB,QAAQ,GAAG,YAAY,GAAG,cAAc,CAAC;OAE3E,IAAI,IAAI,CAACJ,WAAW,EACpB;SACC,IAAI,CAACF,SAAS,CAACd,SAAS,CAACC,GAAG,CAAC,+BAA+B,CAAC;;OAG9DgF,aAAG,CAACC,MAAM,CAAC,IAAI,CAACC,UAAU,EAAE,EAAE,IAAI,CAACvD,eAAe,CAAC;OAEnD,IAAI,IAAI,CAACP,WAAW,EACpB;SACC,IAAI,CAACP,SAAS,CAAClB,KAAK,CAACwF,WAAW,CAAC,IAAI,CAAChE,QAAQ,GAAG,QAAQ,GAAG,OAAO,EAAE,IAAI,CAACsC,WAAW,EAAE,GAAG,IAAI,CAACrC,WAAW,GAAI,IAAI,CAAC;;;;KAEpH;KAAA,6BAGD;OAAA;OACC,OAAO,IAAI,CAACY,KAAK,CAACoD,QAAQ,CAAC,SAAS,EAAE,YAAM;SAC3C,OAAOC,aAAG,CAACC,MAAM,uNACe,MAAI,CAACxE,SAAS,GAAG,qBAAqB,GAAG,EAAE,EAAI,MAAI,CAACE,SAAS,GAAG,MAAI,CAACA,SAAS,GAAG,EAAE,EAC9G,MAAI,CAACG,QAAQ,GAAG,MAAI,CAACoB,SAAS,EAAE,GAAG,MAAI,CAACK,UAAU,EAAE,EACpD,MAAI,CAACzB,QAAQ,GAAG,MAAI,CAACkB,YAAY,EAAE,GAAG,MAAI,CAACM,WAAW,EAAE,EACxD,MAAI,CAAC9B,SAAS;QAGnB,CAAC;;;KACF;KAAA,4BAGD;OACC,OAAO,IAAI,CAACmB,KAAK,CAACoD,QAAQ,CAAC,QAAQ,EAAE,YAAM;SAC1C,OAAOC,aAAG,CAACC,MAAM;QAGjB,CAAC;;;KACF;KAAA,+BAGD;OACC,OAAO,IAAI,CAACtD,KAAK,CAACoD,QAAQ,CAAC,WAAW,EAAE,YAAM;SAC7C,OAAOC,aAAG,CAACC,MAAM;QAGjB,CAAC;;;KACF;KAAA,6BAGD;OACC,OAAO,IAAI,CAACtD,KAAK,CAACoD,QAAQ,CAAC,SAAS,EAAE,YAAM;SAC3C,OAAOC,aAAG,CAACC,MAAM;QAGjB,CAAC;;;KACF;KAAA,8BAGD;OACC,OAAO,IAAI,CAACtD,KAAK,CAACoD,QAAQ,CAAC,UAAU,EAAE,YAAM;SAC5C,OAAOC,aAAG,CAACC,MAAM;QAGjB,CAAC;;;KACF;KAAA,6BAGD;OACC,IAAI,IAAI,CAACnE,QAAQ,EACjB;SACC,IAAI,CAACoE,YAAY,EAAE;SACnB,IAAI,CAACC,eAAe,EAAE;QACtB,MAED;SACC,IAAI,CAACpC,cAAc,EAAE;SACrB,IAAI,CAACqC,aAAa,EAAE;;;;KAErB;KAAA,+BAGD;OACC,IAAI,IAAI,CAAC5E,SAAS,CAACX,SAAS,GAAG,CAAC,EAChC;SACC,IAAI,CAACqC,SAAS,EAAE,CAACxC,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QAC7C,MAED;SACC,IAAI,CAACuC,SAAS,EAAE,CAACxC,SAAS,CAACS,MAAM,CAAC,aAAa,CAAC;;;;KAEjD;KAAA,kCAGD;OACC,IAAI,IAAI,CAACK,SAAS,CAAC6E,YAAY,GAAG,IAAI,CAAC7E,SAAS,CAAC0D,YAAY,IACzDoB,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC/E,SAAS,CAAC0D,YAAY,GAAG,IAAI,CAAC1D,SAAS,CAACX,SAAS,CAAC,GAAG,IAAI,CAACW,SAAS,CAAC6E,YAAY,EACnG;SACC,IAAI,CAACrD,YAAY,EAAE,CAACtC,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QAChD,MAED;SACC,IAAI,CAACqC,YAAY,EAAE,CAACtC,SAAS,CAACS,MAAM,CAAC,aAAa,CAAC;;;;KAEpD;KAAA,iCAGD;OACC,IAAI,IAAI,CAACK,SAAS,CAACqC,WAAW,GAAG,IAAI,CAACrC,SAAS,CAACsC,WAAW,IACvDwC,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC/E,SAAS,CAACsC,WAAW,GAAG,IAAI,CAACtC,SAAS,CAACZ,UAAU,CAAC,GAAG,IAAI,CAACY,SAAS,CAACqC,WAAW,EAClG;SACC,IAAI,CAACP,WAAW,EAAE,CAAC5C,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QAC/C,MAED;SACC,IAAI,CAAC2C,WAAW,EAAE,CAAC5C,SAAS,CAACS,MAAM,CAAC,aAAa,CAAC;;;;KAEnD;KAAA,gCAGD;OACC,IAAI,IAAI,CAACK,SAAS,CAACZ,UAAU,GAAG,CAAC,EACjC;SACC,IAAI,CAAC2C,UAAU,EAAE,CAAC7C,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QAC9C,MAED;SACC,IAAI,CAAC4C,UAAU,EAAE,CAAC7C,SAAS,CAACS,MAAM,CAAC,aAAa,CAAC;;;;KAElD;KAAA,4BAGD;OACC,IAAI,CAACkC,UAAU,CAAC,QAAQ,CAAC;OACzB,IAAI,CAAC7B,SAAS,CAACX,SAAS,IAAI,EAAE;OAC9B,IAAI,CAAC2F,IAAI,CAAC,gBAAgB,CAAC;OAC3B,IAAI,IAAI,CAAChF,SAAS,CAACX,SAAS,IAAI,EAAE,EAClC;SACC,IAAI,CAAC2F,IAAI,CAAC,iBAAiB,CAAC;;OAG7B,IAAI,CAACC,QAAQ,EAAE;OACf,IAAI,CAACC,cAAc,GAAGjC,WAAW,CAChC,IAAI,CAAC5D,SAAS,CAACX,IAAI,CAAC,IAAI,CAAC,EACzB,IAAI,CAACuC,KAAK,CAAC;OAEZ,IAAI,CAACjD,GAAG,GAAG,IAAI;;;KAEf;KAAA,+BAGD;OACC,IAAI,CAAC6D,UAAU,CAAC,KAAK,CAAC;OACtB,IAAIsD,QAAQ,GAAG,IAAI,CAACnF,SAAS,CAACX,SAAS;OACvC,IAAI,CAACW,SAAS,CAACX,SAAS,IAAI,EAAE;OAC9B,IAAI,CAAC2F,IAAI,CAAC,gBAAgB,CAAC;OAC3B,IAAI,IAAI,CAAChF,SAAS,CAACX,SAAS,IAAI,CAAC,IAAI8F,QAAQ,GAAG,CAAC,EACjD;SACC,IAAI,CAACH,IAAI,CAAC,iBAAiB,CAAC;;OAG7B,IAAI,CAACC,QAAQ,EAAE;OACf,IAAI,CAACC,cAAc,GAAGjC,WAAW,CAChC,IAAI,CAACrB,YAAY,CAAClD,IAAI,CAAC,IAAI,CAAC,EAC5B,IAAI,CAACuC,KAAK,CAAC;OAEZ,IAAI,CAACmE,MAAM,GAAG,IAAI;;;KAElB;KAAA,6BAGD;OACC,IAAI,CAACvD,UAAU,CAAC,OAAO,CAAC;OAExB,IAAIsD,QAAQ,GAAG,IAAI,CAACnF,SAAS,CAACZ,UAAU;OACxC,IAAI,CAACY,SAAS,CAACZ,UAAU,IAAI,EAAE;OAC/B,IAAI,CAAC4F,IAAI,CAAC,gBAAgB,CAAC;OAC3B,IAAI,IAAI,CAAChF,SAAS,CAACZ,UAAU,IAAI,CAAC,IAAI+F,QAAQ,GAAG,CAAC,EAClD;SACC,IAAI,CAACH,IAAI,CAAC,iBAAiB,CAAC;;OAG7B,IAAI,CAACC,QAAQ,EAAE;OACf,IAAI,CAACC,cAAc,GAAGjC,WAAW,CAChC,IAAI,CAAC7D,UAAU,CAACV,IAAI,CAAC,IAAI,CAAC,EAC1B,IAAI,CAACuC,KAAK,CAAC;OAEZ,IAAI,CAAChD,IAAI,GAAG,IAAI;;;KAChB;KAAA,8BAGD;OACC,IAAI,CAAC4D,UAAU,CAAC,MAAM,CAAC;OAEvB,IAAI,CAAC7B,SAAS,CAACZ,UAAU,IAAI,EAAE;OAC/B,IAAI,CAAC4F,IAAI,CAAC,gBAAgB,CAAC;OAC3B,IAAI,IAAI,CAAChF,SAAS,CAACZ,UAAU,IAAI,EAAE,EACnC;SACC,IAAI,CAAC4F,IAAI,CAAC,gBAAgB,CAAC;;OAG5B,IAAI,CAACC,QAAQ,EAAE;OACf,IAAI,CAACC,cAAc,GAAGjC,WAAW,CAChC,IAAI,CAACjB,WAAW,CAACtD,IAAI,CAAC,IAAI,CAAC,EAC3B,IAAI,CAACuC,KAAK,CAAC;OAEZ,IAAI,CAACoE,KAAK,GAAG,IAAI;;;KACjB;KAAA,2BAGD;OACC,IAAI,IAAI,CAACrF,SAAS,CAACqC,WAAW,GAAG,IAAI,CAACrC,SAAS,CAACsC,WAAW,GAAG,GAAG,EACjE;SACC,IAAI,CAACrB,KAAK,GAAG,EAAE;SACf;;OAGD,IAAMqE,cAAc,GAAG,IAAI,CAACtF,SAAS,CAACqC,WAAW,GAAG,IAAI,CAACrC,SAAS,CAACsC,WAAW;OAC9E,IAAMiD,cAAc,GAAG,IAAI,CAACvF,SAAS,CAACZ,UAAU,GAAGkG,cAAc,GAAG,GAAG;OACvE,IAAME,aAAa,GAAG,IAAI,CAACxF,SAAS,CAACZ,UAAU,GAAGkG,cAAc,GAAG,CAAC;OAEpE,IAAI,IAAI,CAACtF,SAAS,CAACZ,UAAU,KAAKkG,cAAc,EAChD;SACC,IAAI,CAACrE,KAAK,GAAG,EAAE;;OAGhB,IAAI,IAAI,CAAChD,IAAI,EACb;SACC,IAAIuH,aAAa,EACjB;WACC,IAAI,CAACvE,KAAK,GAAG,EAAE;UACf,MACI;WACJ,IAAI,CAACA,KAAK,GAAG,EAAE;;;OAIjB,IAAI,IAAI,CAACoE,KAAK,EACd;SACC,IAAIE,cAAc,EAClB;WACC,IAAI,CAACtE,KAAK,GAAG,EAAE;UACf,MACI;WACJ,IAAI,CAACA,KAAK,GAAG,EAAE;;;;;KAGjB;KAAA,2BAEUwE,SAAS,EAAE;OACrB,IAAI,IAAI,CAACP,cAAc,EACvB;SACChC,aAAa,CAAC,IAAI,CAACgC,cAAc,CAAC;SAClC,IAAI,CAACA,cAAc,GAAG,CAAC;;OAGxB,IAAIO,SAAS,KAAK,OAAO,EACzB;SACC,IAAI,CAACJ,KAAK,GAAG,KAAK;QAClB,MACI,IAAII,SAAS,KAAK,MAAM,EAC7B;SACC,IAAI,CAACxH,IAAI,GAAG,KAAK;QACjB,MACI,IAAIwH,SAAS,KAAK,QAAQ,EAC/B;SACC,IAAI,CAACL,MAAM,GAAG,KAAK;QACnB,MACI,IAAIK,SAAS,KAAK,KAAK,EAC5B;SACC,IAAI,CAACzH,GAAG,GAAG,KAAK;;;;KAEjB;KAAA,kCAGD;OACC,IAAIH,eAAe,CAAC;SACnBC,MAAM,EAAE,IAAI,CAACkC;QACb,CAAC;;;GACF;CAAA,EA7ewB0F,6BAAY;;;;;;;;"}