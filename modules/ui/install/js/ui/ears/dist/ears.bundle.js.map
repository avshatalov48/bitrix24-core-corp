{"version":3,"file":"ears.bundle.js","sources":["../src/ears.js"],"sourcesContent":["import {Tag, Dom, Cache} from 'main.core';\n\nexport class Ears\n{\n\tconstructor(options)\n\t{\n\t\tthis.container = options.container;\n\t\tthis.smallSize = options.smallSize || null;\n\t\tthis.noScrollbar = options.noScrollbar ? options.noScrollbar : false;\n\t\tthis.wrapper = null;\n\t\tthis.leftEar = null;\n\t\tthis.rightEar = null;\n\t\tthis.parentContainer = this.container.parentNode;\n\t\tthis.cache = new Cache.MemoryCache();\n\t}\n\n\tbindEvents() {\n\t\tthis.container.addEventListener('scroll', this.toggleEars.bind(this));\n\t\tthis.getLeftEar().addEventListener('mouseenter', this.scrollLeft.bind(this));\n\t\tthis.getLeftEar().addEventListener('mouseleave', this.stopScroll.bind(this));\n\t\tthis.getRightEar().addEventListener('mouseenter', this.scrollRight.bind(this));\n\t\tthis.getRightEar().addEventListener('mouseleave', this.stopScroll.bind(this));\n\n\t}\n\n\tinit() {\n\t\tthis.setWrapper();\n\t\tthis.bindEvents();\n\n\t\tsetTimeout(function() {\n\t\t\tif(this.container.scrollWidth > this.container.offsetWidth) {\n\t\t\t\tthis.toggleRightEar();\n\t\t\t}\n\t\t}.bind(this), 600);\n\n\t}\n\n\tsetWrapper() {\n\t\tthis.container.classList.add(\"ui-ear-container\");\n\t\tif(this.noScrollbar)\n\t\t{\n\t\t\tthis.container.classList.add(\"ui-ear-container-no-scrollbar\");\n\t\t}\n\t\tDom.append(this.getWrapper(), this.parentContainer);\n\t}\n\n\tgetWrapper()\n\t{\n\t\treturn this.cache.remember('wrapper', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t\t<div class=\"ui-ears-wrapper ${this.smallSize ? ' ui-ears-wrapper-sm' : ''}\">\n\t\t\t\t\t\t${this.getLeftEar()}\n\t\t\t\t\t\t${this.getRightEar()}\n\t\t\t\t\t\t${this.container}\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\t\t});\n\t}\n\n\tgetLeftEar()\n\t{\n\t\treturn this.cache.remember('leftEar', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t\t<div class=\"ui-ear ui-ear-left\"></div>\n\t\t\t\t`;\n\t\t});\n\t}\n\n\tgetRightEar()\n\t{\n\t\treturn this.cache.remember('rightEar', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t\t<div class=\"ui-ear ui-ear-right\"></div>\n\t\t\t\t`;\n\t\t});\n\t}\n\n\ttoggleEars() {\n\t\tthis.toggleRightEar();\n\t\tthis.toggleLeftEar();\n\t}\n\n\ttoggleRightEar() {\n\t\tif (this.container.scrollWidth > this.container.offsetWidth\n\t\t\t&& (this.container.offsetWidth + this.container.scrollLeft) < this.container.scrollWidth)\n\t\t{\n\t\t\tthis.getRightEar().classList.add(\"ui-ear-show\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getRightEar().classList.remove(\"ui-ear-show\");\n\t\t}\n\t}\n\n\ttoggleLeftEar() {\n\t\tif (this.container.scrollLeft > 0)\n\t\t{\n\t\t\tthis.getLeftEar().classList.add(\"ui-ear-show\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getLeftEar().classList.remove(\"ui-ear-show\");\n\t\t}\n\t}\n\n\tscrollLeft () {\n\t\tthis.stopScroll();\n\t\tthis.scrollInterval = setInterval(\n\t\t\tfunction() {\n\t\t\t\tthis.container.scrollLeft -= 10;\n\t\t\t}.bind(this),\n\t\t\t20\n\t\t);\n\t}\n\n\tscrollRight () {\n\t\tthis.stopScroll();\n\t\tthis.scrollInterval = setInterval(\n\t\t\tfunction() {\n\t\t\t\tthis.container.scrollLeft += 10;\n\t\t\t}.bind(this),\n\t\t\t20\n\t\t);\n\t}\n\n\tstopScroll() {\n\t\tif (this.scrollInterval)\n\t\t{\n\t\t\tclearInterval(this.scrollInterval);\n\t\t\tthis.scrollInterval = 0;\n\t\t}\n\t}\n}"],"names":["Ears","options","container","smallSize","noScrollbar","wrapper","leftEar","rightEar","parentContainer","parentNode","cache","Cache","MemoryCache","addEventListener","toggleEars","bind","getLeftEar","scrollLeft","stopScroll","getRightEar","scrollRight","setWrapper","bindEvents","setTimeout","scrollWidth","offsetWidth","toggleRightEar","classList","add","Dom","append","getWrapper","remember","Tag","render","toggleLeftEar","remove","scrollInterval","setInterval","clearInterval"],"mappings":"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"}