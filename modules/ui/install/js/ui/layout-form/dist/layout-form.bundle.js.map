{"version":3,"file":"layout-form.bundle.js","sources":["../src/layout-form.js"],"sourcesContent":["import {Event, Dom} from \"main.core\";\n\nexport class LayoutForm\n{\n\tconstructor()\n\t{\n\t\tthis.hiddenAttribute = 'data-form-row-hidden';\n\t\tthis.nodes = null;\n\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\tthis.nodes = document.querySelectorAll('[' + this.hiddenAttribute + ']');\n\n\t\tfor (let i = 0; i < this.nodes.length; i++) {\n\t\t\tEvent.bind(this.nodes[i], \"click\", this.onClick.bind(this));\n\t\t}\n\t}\n\n\tonClick(event)\n\t{\n\t\tevent.preventDefault();\n\n\t\tlet checkbox = event.currentTarget.querySelector('.ui-ctl-element[type=\"checkbox\"]');\n\t\tlet hiddenBlock = event.currentTarget.nextElementSibling;\n\t\tlet height = hiddenBlock.scrollHeight;\n\n\t\tthis.toggleHiddenBLock(checkbox, hiddenBlock, height);\n\t}\n\n\ttoggleHiddenBLock(checkbox, hiddenBlock, height)\n\t{\n\t\tif (!checkbox.checked)\n\t\t{\n\t\t\tcheckbox.checked = true;\n\t\t\thiddenBlock.style.height = height + 'px';\n\t\t\tDom.addClass(hiddenBlock, 'ui-form-row-hidden-show');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcheckbox.checked = false;\n\t\t\thiddenBlock.style.height = 0;\n\t\t\tDom.removeClass(hiddenBlock, 'ui-form-row-hidden-show');\n\t\t}\n\t}\n}"],"names":["LayoutForm","hiddenAttribute","nodes","init","document","querySelectorAll","i","length","Event","bind","onClick","event","preventDefault","checkbox","currentTarget","querySelector","hiddenBlock","nextElementSibling","height","scrollHeight","toggleHiddenBLock","checked","style","Dom","addClass","removeClass"],"mappings":";;;;KAEaA,UAAb;CAEC,wBACA;CAAA;CACC,SAAKC,eAAL,GAAuB,sBAAvB;CACA,SAAKC,KAAL,GAAa,IAAb;CAEA,SAAKC,IAAL;CACA;;CARF;CAAA;CAAA,2BAWC;CACC,WAAKD,KAAL,GAAaE,QAAQ,CAACC,gBAAT,CAA0B,MAAM,KAAKJ,eAAX,GAA6B,GAAvD,CAAb;;CAEA,WAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKJ,KAAL,CAAWK,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;CAC3CE,QAAAA,eAAK,CAACC,IAAN,CAAW,KAAKP,KAAL,CAAWI,CAAX,CAAX,EAA0B,OAA1B,EAAmC,KAAKI,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAnC;CACA;CACD;CAjBF;CAAA;CAAA,4BAmBSE,KAnBT,EAoBC;CACCA,MAAAA,KAAK,CAACC,cAAN;CAEA,UAAIC,QAAQ,GAAGF,KAAK,CAACG,aAAN,CAAoBC,aAApB,CAAkC,kCAAlC,CAAf;CACA,UAAIC,WAAW,GAAGL,KAAK,CAACG,aAAN,CAAoBG,kBAAtC;CACA,UAAIC,MAAM,GAAGF,WAAW,CAACG,YAAzB;CAEA,WAAKC,iBAAL,CAAuBP,QAAvB,EAAiCG,WAAjC,EAA8CE,MAA9C;CACA;CA5BF;CAAA;CAAA,sCA8BmBL,QA9BnB,EA8B6BG,WA9B7B,EA8B0CE,MA9B1C,EA+BC;CACC,UAAI,CAACL,QAAQ,CAACQ,OAAd,EACA;CACCR,QAAAA,QAAQ,CAACQ,OAAT,GAAmB,IAAnB;CACAL,QAAAA,WAAW,CAACM,KAAZ,CAAkBJ,MAAlB,GAA2BA,MAAM,GAAG,IAApC;CACAK,QAAAA,aAAG,CAACC,QAAJ,CAAaR,WAAb,EAA0B,yBAA1B;CACA,OALD,MAOA;CACCH,QAAAA,QAAQ,CAACQ,OAAT,GAAmB,KAAnB;CACAL,QAAAA,WAAW,CAACM,KAAZ,CAAkBJ,MAAlB,GAA2B,CAA3B;CACAK,QAAAA,aAAG,CAACE,WAAJ,CAAgBT,WAAhB,EAA6B,yBAA7B;CACA;CACD;CA5CF;CAAA;CAAA;;;;;;;;"}