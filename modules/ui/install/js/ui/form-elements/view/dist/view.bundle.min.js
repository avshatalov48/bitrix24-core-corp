this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t,i,l,a,r,s){"use strict";var n,o,d,c,u;function b(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=p(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var l=0;var a=function e(){};return{s:a,n:function t(){if(l>=e.length)return{done:true};return{done:false,value:e[l++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,n;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!r&&i["return"]!=null)i["return"]()}finally{if(s)throw n}}}}function p(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function h(e,t,i){f(e,t);t.set(e,i)}function f(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var H=new WeakMap;var g=new WeakMap;var T=new WeakMap;var y=new WeakMap;var m=new WeakMap;var w=new WeakMap;var I=new WeakMap;var k=new WeakMap;var _=new WeakMap;var F=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));h(babelHelpers.assertThisInitialized(i),H,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),g,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),T,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),y,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),m,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),w,{writable:true,value:""});h(babelHelpers.assertThisInitialized(i),I,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),k,{writable:true,value:null});h(babelHelpers.assertThisInitialized(i),_,{writable:true,value:void 0});i.setEventNamespace("UI.Section");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),w,r.Type.isStringFilled(e.label)?e.label:"");if(r.Type.isStringFilled(e.id)){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),H,e.id)}else if(!i.id){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),H,i.prefixId()+r.Text.getRandom(8))}if(r.Type.isStringFilled(e.inputName)){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),g,e.inputName)}else if(!babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g)){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),g,r.Text.getRandom(8))}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),T,e.isEnable!==false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),y,r.Type.isStringFilled(e.bannerCode)?e.bannerCode:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),m,r.Type.isStringFilled(e.helpDesk)?e.helpDesk:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),I,e.helpMessageProvider);return i}babelHelpers.createClass(t,[{key:"getHelpMessage",value:function e(){if(babelHelpers.classPrivateFieldGet(this,k)instanceof l.HelpMessage){return babelHelpers.classPrivateFieldGet(this,k)}babelHelpers.classPrivateFieldSet(this,k,r.Type.isFunction(babelHelpers.classPrivateFieldGet(this,I))?babelHelpers.classPrivateFieldGet(this,I).call(this,this.getId(),this.getInputNode()):null);return babelHelpers.classPrivateFieldGet(this,k)}},{key:"cleanError",value:function e(){r.Dom.clean(babelHelpers.classPrivateFieldGet(this,_))}},{key:"setErrors",value:function e(t){this.cleanError();var i=b(t),l;try{for(i.s();!(l=i.n()).done;){var a=l.value;var s=r.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__error-message">\n\t\t\t\t<span class="ui-icon-set --warning"></span>\n\t\t\t\t<span>',"</span>\n\t\t\t</div>"])),a);r.Dom.append(s,this.renderErrors())}}catch(e){i.e(e)}finally{i.f()}}},{key:"renderErrors",value:function e(){if(babelHelpers.classPrivateFieldGet(this,_)){return babelHelpers.classPrivateFieldGet(this,_)}babelHelpers.classPrivateFieldSet(this,_,r.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__error-container"></div>']))));return babelHelpers.classPrivateFieldGet(this,_)}},{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,H)}},{key:"getLabel",value:function e(){return babelHelpers.classPrivateFieldGet(this,w)}},{key:"prefixId",value:function e(){return""}},{key:"getValue",value:function e(){return""}},{key:"getName",value:function e(){return babelHelpers.classPrivateFieldGet(this,g)}},{key:"getInputNode",value:function e(){return null}},{key:"setName",value:function e(t){babelHelpers.classPrivateFieldSet(this,g,t)}},{key:"cancel",value:function e(){return}},{key:"render",value:function e(){if(this.field){return this.field}this.field=this.renderContentField();return this.field}},{key:"renderContentField",value:function e(){return r.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral([""])))}},{key:"isEnable",value:function e(){return babelHelpers.classPrivateFieldGet(this,T)}},{key:"getBannerCode",value:function e(){return babelHelpers.classPrivateFieldGet(this,y)}},{key:"showBanner",value:function e(){if(this.getBannerCode()){BX.UI.InfoHelper.show(this.getBannerCode())}}},{key:"getHelpdeskCode",value:function e(){return babelHelpers.classPrivateFieldGet(this,m)}},{key:"showHelpdesk",value:function e(){if(this.getHelpdeskCode()){top.BX.Helper.show(this.getHelpdeskCode())}}},{key:"renderLockElement",value:function e(){var t=this;var i=r.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['<span class="ui-icon-set --lock field-has-lock"></span>'])));i.addEventListener("click",(function(){t.showBanner()}));return i}},{key:"renderMoreElement",value:function e(t){return r.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<a class="more" href="javascript:top.BX.Helper.show(\'',"');\">\n\t\t\t\t","\n\t\t\t</a>\n\t\t"])),t,r.Loc.getMessage("INTRANET_SETTINGS_CANCEL_MORE"))}}]);return t}(i.EventEmitter);var P,S;function z(e,t){E(e,t);t.add(e)}function C(e,t,i){E(e,t);t.set(e,i)}function E(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function G(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var M=new WeakMap;var N=new WeakSet;var D=function(e){babelHelpers.inherits(t,e);function t(e){var l;babelHelpers.classCallCheck(this,t);e.label=e.title;l=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));z(babelHelpers.assertThisInitialized(l),N);C(babelHelpers.assertThisInitialized(l),M,{writable:true,value:void 0});l.hintOn=e.hintOn;l.hintOff=e.hintOff;l.hideSeparator=e.hideSeparator;l.alignCenter=e.alignCenter;l.noMarginBottom=e.noMarginBottom;l.switcher=new a.Switcher({inputName:l.getName(),checked:e.checked,id:l.getId(),attributeName:e.attributeName,handlers:e.handlers,color:e.colors,size:e.size});l.defaultValue=e.checked;i.EventEmitter.subscribe(l.switcher,"toggled",(function(){if(!l.isEnable()){l.switcher.check(l.defaultValue,false);if(!r.Type.isNil(l.getHelpMessage())){l.getHelpMessage().show()}return}l.switcher.inputNode.form.dispatchEvent(new Event("change"));l.changeHint(l.isChecked());l.emit("change",l.isChecked())}));return l}babelHelpers.createClass(t,[{key:"getValue",value:function e(){return this.switcher.inputNode.value}},{key:"getInputNode",value:function e(){return this.switcher.node}},{key:"prefixId",value:function e(){return"checker_"}},{key:"isChecked",value:function e(){return this.switcher.isChecked()}},{key:"renderMore",value:function e(){if(babelHelpers.classPrivateFieldGet(this,M)){return babelHelpers.classPrivateFieldGet(this,M)}babelHelpers.classPrivateFieldSet(this,M,!r.Type.isNil(this.getHelpdeskCode())?this.renderMoreElement(this.getHelpdeskCode()):"");return babelHelpers.classPrivateFieldGet(this,M)}},{key:"renderContentField",value:function e(){var t=!this.isEnable()?this.renderLockElement():null;return r.Tag.render(P||(P=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" \n\t\t\tclass="ui-section__field-switcher '," "," ",'">\n\t\t\t<div class="ui-section__field">\n\t\t\t\t<div class="ui-section__switcher">\n\t\t\t\t\t','\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="ui-section__field-inner">\n\t\t\t\t\t<div class="ui-section__title">\n\t\t\t\t\t\t'," ","\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),this.hideSeparator?"--hide-separator":"",this.alignCenter?"--align-center --gray-title":"",this.noMarginBottom?"--no-margin-bottom":"",this.getInputNode(),this.getLabel(),t,G(this,N,x).call(this,this.isChecked()))}},{key:"getHint",value:function e(t){if(!r.Type.isStringFilled(this.hintOff)){return r.Type.isStringFilled(this.hintOn)?this.hintOn:""}var i=t?this.hintOn:this.hintOff;return r.Type.isStringFilled(i)?i:""}},{key:"changeHint",value:function e(t){var i=this.field.querySelector(".ui-section__hint");r.Dom.replace(i,G(this,N,x).call(this,t))}}]);return t}(F);function x(e){return r.Tag.render(S||(S=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__hint">\n\t\t\t\t'," ","\n\t\t\t</div>\n\t\t"])),this.getHint(e),r.Type.isDomNode(this.renderMore())?this.renderMore():"")}var W,L;function A(e,t,i){O(e,t);t.set(e,i)}function O(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var B=new WeakMap;var j=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));A(babelHelpers.assertThisInitialized(i),B,{writable:true,value:void 0});i.hintTitle=r.Type.isStringFilled(e.hintTitle)?e.hintTitle:"";babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),B,r.Tag.render(W||(W=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__description">\n\t\t\t\t',"\n\t\t\t</div>"])),!i.isChecked()?i.hintOff:i.hintOn));return i}babelHelpers.createClass(t,[{key:"prefixId",value:function e(){return"inline_checker_"}},{key:"renderContentField",value:function e(){var t=r.Tag.render(L||(L=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-switcher --field-separator --align-center">\n\t\t<div class="ui-section__field-inline-box">\n\t\t\t<div class="ui-section__field-switcher-box">\n\t\t\t\t<div class="ui-section__switcher"></div>\n\t\t\t\t<div class="ui-section__switcher-title">\n\t\t\t\t\t','\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="ui-section__field-inline-separator"></div>\n\t\t\t<div class="ui-section__hint">\n\t\t\t\t<div class="ui-section__title">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),this.getLabel(),this.hintTitle,babelHelpers.classPrivateFieldGet(this,B));this.switcher.renderTo(t.querySelector(".ui-section__switcher"));return t}},{key:"changeHint",value:function e(t){babelHelpers.classPrivateFieldGet(this,B).innerText=this.getHint(t)}}]);return t}(D);var U,R,X;function V(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=q(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var l=0;var a=function e(){};return{s:a,n:function t(){if(l>=e.length)return{done:true};return{done:false,value:e[l++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,n;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!r&&i["return"]!=null)i["return"]()}finally{if(s)throw n}}}}function q(e,t){if(!e)return;if(typeof e==="string")return $(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $(e,t)}function $(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function J(e,t){Q(e,t);t.add(e)}function K(e,t,i){Q(e,t);t.set(e,i)}function Q(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Y(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var Z=new WeakMap;var ee=new WeakMap;var te=new WeakMap;var ie=new WeakMap;var le=new WeakSet;var ae=new WeakSet;var re=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));J(babelHelpers.assertThisInitialized(i),ae);J(babelHelpers.assertThisInitialized(i),le);K(babelHelpers.assertThisInitialized(i),Z,{writable:true,value:[]});K(babelHelpers.assertThisInitialized(i),ee,{writable:true,value:void 0});K(babelHelpers.assertThisInitialized(i),te,{writable:true,value:void 0});K(babelHelpers.assertThisInitialized(i),ie,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Z,e.items);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),te,e.isMulti===true);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ie,e.current);if(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),te)&&i.getName().substring(i.getName().length-2)!=="[]"){i.setName(i.getName()+"[]")}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ee,Y(babelHelpers.assertThisInitialized(i),le,se).call(babelHelpers.assertThisInitialized(i)));return i}babelHelpers.createClass(t,[{key:"prefixId",value:function e(){return"item_picker_"}},{key:"renderContentField",value:function e(){return r.Tag.render(U||(U=babelHelpers.taggedTemplateLiteral(['\n\t\t<div class="ui-section__picker-wrapper" id="','">\n\t\t\t<div class="ui-section__field-label">',"</div>\n\t\t\t","\n\t\t\t","\n\t\t\t","\n\t\t</div>\n\t\t"])),this.getId(),this.getLabel(),Y(this,ae,ne).call(this),this.renderErrors(),this.getInputNode())}},{key:"getInputNode",value:function e(){return babelHelpers.classPrivateFieldGet(this,ee)}},{key:"onClickHandler",value:function e(t){r.Dom.toggleClass(t.target,"ui-section__selected");if(!r.Dom.hasClass(t.target,"ui-section__selected")&&babelHelpers.classPrivateFieldGet(this,te)){this.unSelect(t.target)}else{this.select(t.target)}}},{key:"createItem",value:function e(t,i){var l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return r.Dom.create("div",{text:t,props:{className:"ui-section__item "+(l?"ui-section__selected":"")},dataset:{value:i},events:{click:this.onClickHandler.bind(this)}})}},{key:"select",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!babelHelpers.classPrivateFieldGet(this,te)){this.unSelectAll()}var l=t.dataset["value"];var a=babelHelpers.classPrivateFieldGet(this,ee).querySelector('option[value="'+l+'"]');if(r.Type.isDomNode(a)){r.Dom.addClass(t,"ui-section__selected");a.selected=true;if(i){this.fireEvent()}}}},{key:"unSelect",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var l=t.dataset["value"];var a=babelHelpers.classPrivateFieldGet(this,ee).querySelector('option[value="'+l+'"]');if(r.Type.isDomNode(a)){r.Dom.removeClass(t,"ui-section__selected");a.selected=false;if(i){this.fireEvent()}}}},{key:"unSelectAll",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(r.Type.isDomNode(this.field)){var i=this.field.querySelectorAll(".ui-section__item.ui-section__selected");i.forEach((function(e){r.Dom.removeClass(e,"ui-section__selected")}))}var l=babelHelpers.classPrivateFieldGet(this,ee).querySelectorAll("option");l.forEach((function(e){if(r.Type.isDomNode(e)){e.selected=false}}));if(t){this.fireEvent()}}},{key:"getNodesByValue",value:function e(t){var i;if(r.Type.isArray(t)){var l=t.map((function(e){return'.ui-section__item[data-value="'+e+'"]'}));i=l.join(", ")}else{i='.ui-section__item[data-value="'+t+'"]'}return this.field.querySelectorAll(i)}},{key:"fireEvent",value:function e(){babelHelpers.classPrivateFieldGet(this,ee).dispatchEvent(new Event("change"));babelHelpers.classPrivateFieldGet(this,ee).form.dispatchEvent(new Event("change"))}}]);return t}(F);function se(){var e=[];var t=V(babelHelpers.classPrivateFieldGet(this,Z)),i;try{for(t.s();!(i=t.n()).done;){var l=i.value,a=l.value,s=l.name,n=l.selected;var o="";if(n===true){o="selected"}e.push(r.Tag.render(R||(R=babelHelpers.taggedTemplateLiteral(["<option ",' value="','">',"</option>"])),o,a,s))}}catch(e){t.e(e)}finally{t.f()}return r.Dom.create("select",{attrs:{multiple:babelHelpers.classPrivateFieldGet(this,te)?"on":"",name:this.getName(),disabled:!this.isEnable()?"disable":""},style:{display:"none"},children:e})}function ne(){var e=r.Tag.render(X||(X=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__item-collection"></div>'])));var t=V(babelHelpers.classPrivateFieldGet(this,Z)),i;try{for(t.s();!(i=t.n()).done;){var l=i.value,a=l.value,s=l.name,n=l.selected;r.Dom.append(this.createItem(s,a,n),e)}}catch(e){t.e(e)}finally{t.f()}return e}var oe,de,ce,ue,be;function pe(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=ve(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var l=0;var a=function e(){};return{s:a,n:function t(){if(l>=e.length)return{done:true};return{done:false,value:e[l++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,n;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!r&&i["return"]!=null)i["return"]()}finally{if(s)throw n}}}}function ve(e,t){if(!e)return;if(typeof e==="string")return he(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return he(e,t)}function he(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function fe(e,t){ge(e,t);t.add(e)}function He(e,t,i){ge(e,t);t.set(e,i)}function ge(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Te(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var ye=new WeakMap;var me=new WeakMap;var we=new WeakMap;var Ie=new WeakMap;var ke=new WeakMap;var _e=new WeakMap;var Fe=new WeakMap;var Pe=new WeakSet;var Se=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);e.inputName=e.name;i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));fe(babelHelpers.assertThisInitialized(i),Pe);He(babelHelpers.assertThisInitialized(i),ye,{writable:true,value:[]});He(babelHelpers.assertThisInitialized(i),me,{writable:true,value:void 0});He(babelHelpers.assertThisInitialized(i),we,{writable:true,value:void 0});He(babelHelpers.assertThisInitialized(i),Ie,{writable:true,value:void 0});He(babelHelpers.assertThisInitialized(i),ke,{writable:true,value:void 0});He(babelHelpers.assertThisInitialized(i),_e,{writable:true,value:void 0});He(babelHelpers.assertThisInitialized(i),Fe,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ye,e.items);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),me,r.Type.isString(e.hintTitle)?e.hintTitle:"");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),we,r.Type.isObject(e.hints)?e.hints:{});i.defaultValue=e.current;babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ie,r.Tag.render(oe||(oe=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__title"></div>']))));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ke,r.Tag.render(de||(de=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__description"></div>']))));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Fe,r.Tag.render(ce||(ce=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__field-inline-separator"></div>']))));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),_e,Te(babelHelpers.assertThisInitialized(i),Pe,ze).call(babelHelpers.assertThisInitialized(i)));return i}babelHelpers.createClass(t,[{key:"getHint",value:function e(t){var i=babelHelpers.classPrivateFieldGet(this,we)[t];if(!r.Type.isString(i)||i===""){return null}return i}},{key:"prefixId",value:function e(){return"selector_"}},{key:"setHint",value:function e(t){var i=this.renderMoreElement(this.getHelpdeskCode()).outerHTML;var l=!r.Type.isNil(this.getHelpdeskCode())?i:"";var a=this.getHint(t);babelHelpers.classPrivateFieldGet(this,Ie).innerText=!r.Type.isNil(a)?babelHelpers.classPrivateFieldGet(this,me):"";babelHelpers.classPrivateFieldGet(this,ke).innerHTML=!r.Type.isNil(a)?a+" "+l:"";r.Dom.removeClass(this.field,"--field-separator");r.Dom.remove(babelHelpers.classPrivateFieldGet(this,Fe));if(!r.Type.isNil(a)){r.Dom.addClass(this.field,"--field-separator");var s=this.field.querySelector(".ui-section__field-inline-box .ui-section__field");r.Dom.insertAfter(babelHelpers.classPrivateFieldGet(this,Fe),s)}}},{key:"renderContentField",value:function e(){var t=!this.isEnable()?"ui-ctl-disabled":"";var i=!this.isEnable()?this.renderLockElement():null;return r.Tag.render(ue||(ue=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-selector ">\n\t\t\t<div class="ui-section__field-container">\n\t\t\t\t<div class="ui-section__field-label_box">\n\t\t\t\t\t<label class="ui-section__field-label" for="','">',"</label> \n\t\t\t\t\t",'\n\t\t\t\t</div>\t\t\t\n\t\t\t\t<div class="ui-section__field-inline-box">\n\t\t\t\t\t<div class="ui-section__field">\t\t\t\t\n\t\t\t\t\t\t<div class="ui-ctl ui-ctl-w100 ui-ctl-after-icon ui-ctl-dropdown ','">\n\t\t\t\t\t\t\t<div class="ui-ctl-after ui-ctl-icon-angle"></div>\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t<div class="ui-section__hint">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),this.getName(),this.getLabel(),i,t,this.getInputNode(),babelHelpers.classPrivateFieldGet(this,Ie),babelHelpers.classPrivateFieldGet(this,ke))}},{key:"render",value:function e(){var e=babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"render",this).call(this);this.setHint(this.getInputNode().value);return e}},{key:"getInputNode",value:function e(){return babelHelpers.classPrivateFieldGet(this,_e)}}]);return t}(F);function ze(){var e=this;var t=[];var i=pe(babelHelpers.classPrivateFieldGet(this,ye)),l;try{for(i.s();!(l=i.n()).done;){var a=l.value,s=a.value,n=a.name,o=a.selected;var d="";if(o===true){d="selected"}t.push(r.Tag.render(be||(be=babelHelpers.taggedTemplateLiteral(["<option ",' value="','">',"</option>"])),d,s,n))}}catch(e){i.e(e)}finally{i.f()}return r.Dom.create("select",{attrs:{name:this.getName(),class:"ui-ctl-element"},events:{change:function t(i){e.setHint(i.target.value)},click:function t(i){if(!e.isEnable()){if(!r.Type.isNil(e.getHelpMessage())){e.getHelpMessage().show()}i.preventDefault()}},mousedown:function t(i){if(!e.isEnable()){i.preventDefault()}}},children:t})}var Ce=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));i.switcher=e.switcher;r.Event.bind(i.switcher.getNode(),"click",(function(){if(!i.isEnable()&&!i.switcher.isChecked()){i.switcher.check(true,false);if(!r.Type.isNil(i.getHelpMessage())){i.getHelpMessage().show()}}}));return i}return t}(F);var Ee,Ge;function Me(e,t,i){Ne(e,t);t.set(e,i)}function Ne(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var De=new WeakMap;var xe=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Me(babelHelpers.assertThisInitialized(i),De,{writable:true,value:void 0});i.defaultValue=r.Type.isStringFilled(e.value)?e.value:"";i.hintTitle=r.Type.isStringFilled(e.hintTitle)?e.hintTitle:"";i.placeholder=r.Type.isStringFilled(e.placeholder)?e.placeholder:"";i.inputDefaultWidth=r.Type.isBoolean(e.inputDefaultWidth)?e.inputDefaultWidth:"";babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),De,r.Tag.render(Ee||(Ee=babelHelpers.taggedTemplateLiteral(['<input \n\t\t\tvalue="','" \n\t\t\tname="','" \n\t\t\ttype="text" \n\t\t\tclass="ui-ctl-element" \n\t\t\tplaceholder="','"\n\t\t\t',"\n\t\t>"])),r.Text.encode(i.defaultValue),r.Text.encode(i.getName()),r.Text.encode(i.placeholder),i.isEnable()?"":"readonly"));if(!i.isEnable()){r.Event.bind(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),De),"click",(function(e){e.preventDefault();if(!r.Type.isNil(i.getHelpMessage())){i.getHelpMessage().show()}}))}i.getInputNode().addEventListener("keydown",(function(){i.getInputNode().form.dispatchEvent(new window.Event("change"))}));return i}babelHelpers.createClass(t,[{key:"prefixId",value:function e(){return"text_"}},{key:"getInputNode",value:function e(){return babelHelpers.classPrivateFieldGet(this,De)}},{key:"renderContentField",value:function e(){var t=!this.isEnable?this.renderLockElement():null;return r.Tag.render(Ge||(Ge=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-selector">\n\t\t\t<div class="ui-section__field-container">\n\t\t\t\t<div class="ui-section__field-label_box">\n\t\t\t\t\t<label for="','" class="ui-section__field-label">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</label> \n\t\t\t\t\t",'\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-ctl ui-ctl-textbox ui-ctl-block ','">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t\t",'\n\t\t\t</div>\n\t\t\t<div class="ui-section__hint">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),this.getName(),this.getLabel(),t,this.inputDefaultWidth?"":"ui-ctl-w100",this.getInputNode(),this.renderErrors(),this.hintTitle)}}]);return t}(F);var We,Le,Ae;function Oe(e,t,i){Be(e,t);t.set(e,i)}function Be(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var je=new WeakMap;var Ue=new WeakMap;var Re=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Oe(babelHelpers.assertThisInitialized(i),je,{writable:true,value:void 0});Oe(babelHelpers.assertThisInitialized(i),Ue,{writable:true,value:void 0});i.valueColor=r.Type.isBoolean(e.valueColor)===true?"--color-blue":"";babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),je,r.Type.isStringFilled(e.hintDesc)?e.hintDesc:"");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ue,r.Tag.render(We||(We=babelHelpers.taggedTemplateLiteral(["<div></div>"]))));i.getInputNode().addEventListener("keyup",(function(e){r.Dom.clean(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ue));r.Dom.append(i.renderHint(),babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ue))}));return i}babelHelpers.createClass(t,[{key:"renderContentField",value:function e(){var t=!this.isEnable?this.renderLockElement():null;var i=r.Tag.render(Le||(Le=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-selector --field-separator">\n\t\t\t<div class="ui-section__field-container">\t\t\t\n\t\t\t\t<div class="ui-section__field-label_box">\n\t\t\t\t\t<label for="','" class="ui-section__field-label">',"</label> \n\t\t\t\t\t",'\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-section__field-inline-box">\n\t\t\t\t\t<div class="ui-section__field">\n\t\t\t\t\t\t<div class="ui-ctl ui-ctl-textbox ui-ctl-block ui-ctl-w100">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ui-section__field-inline-separator"></div>\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),r.Text.encode(this.getName()),this.getLabel(),t,this.getInputNode(),babelHelpers.classPrivateFieldGet(this,Ue),this.renderErrors());r.Dom.append(this.renderHint(),babelHelpers.classPrivateFieldGet(this,Ue));return i}},{key:"prefixId",value:function e(){return"text_inline_"}},{key:"renderHint",value:function e(){return r.Tag.render(Ae||(Ae=babelHelpers.taggedTemplateLiteral(['\n\t\t<div class="ui-section__hint">\n\t\t\t<div class="ui-section__title">','</div>\n\t\t\t<div class="ui-section__value ','">','</div>\n\t\t\t<div class="ui-section__description">',"</div>\n\t\t</div>\n\t\t"])),this.hintTitle,this.valueColor,this.getInputNode().value,babelHelpers.classPrivateFieldGet(this,je))}}]);return t}(xe);var Xe,Ve;function qe(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=$e(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var l=0;var a=function e(){};return{s:a,n:function t(){if(l>=e.length)return{done:true};return{done:false,value:e[l++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,n;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!r&&i["return"]!=null)i["return"]()}finally{if(s)throw n}}}}function $e(e,t){if(!e)return;if(typeof e==="string")return Je(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Je(e,t)}function Je(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function Ke(e,t){Ye(e,t);t.add(e)}function Qe(e,t,i){Ye(e,t);t.set(e,i)}function Ye(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Ze(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var et=new WeakMap;var tt=new WeakMap;var it=new WeakMap;var lt=new WeakMap;var at=new WeakMap;var rt=new WeakMap;var st=new WeakMap;var nt=new WeakMap;var ot=new WeakMap;var dt=new WeakSet;var ct=new WeakSet;var ut=new WeakSet;var bt=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Ke(babelHelpers.assertThisInitialized(i),ut);Ke(babelHelpers.assertThisInitialized(i),ct);Ke(babelHelpers.assertThisInitialized(i),dt);Qe(babelHelpers.assertThisInitialized(i),et,{writable:true,value:void 0});Qe(babelHelpers.assertThisInitialized(i),tt,{writable:true,value:[]});Qe(babelHelpers.assertThisInitialized(i),it,{writable:true,value:void 0});Qe(babelHelpers.assertThisInitialized(i),lt,{writable:true,value:null});Qe(babelHelpers.assertThisInitialized(i),at,{writable:true,value:null});Qe(babelHelpers.assertThisInitialized(i),rt,{writable:true,value:[]});Qe(babelHelpers.assertThisInitialized(i),st,{writable:true,value:""});Qe(babelHelpers.assertThisInitialized(i),nt,{writable:true,value:void 0});Qe(babelHelpers.assertThisInitialized(i),ot,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),lt,r.Type.isFunction(e.encodeValue)?e.encodeValue:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),at,r.Type.isFunction(e.decodeValue)?e.decodeValue:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),it,r.Tag.render(Xe||(Xe=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__input-container"></div>']))));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),st,e.className);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),nt,e.enableAll!==false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ot,e.enableDepartments===true);Ze(babelHelpers.assertThisInitialized(i),ct,vt).call(babelHelpers.assertThisInitialized(i),e.values);var l=[{id:"user",options:{intranetUsersOnly:true}},{id:"department",options:{selectMode:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ot)?"usersAndDepartments":"usersOnly",allowFlatDepartments:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ot),allowSelectRootDepartment:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ot)}}];if(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),nt)){l.push({id:"meta-user",options:{"all-users":babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),nt)}})}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),et,new s.TagSelector({id:i.getId(),textBoxAutoHide:true,textBoxWidth:350,maxHeight:99,dialogOptions:{id:i.getId(),preselectedItems:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),tt),events:{"Item:onSelect":i.onChangeSelector.bind(babelHelpers.assertThisInitialized(i)),"Item:onDeselect":i.onChangeSelector.bind(babelHelpers.assertThisInitialized(i))},entities:l}}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),rt,babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),et).getTags());if(!i.isEnable()){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),et).hideAddButton();babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),et).getTextBox().readOnly=true;r.Dom.adjust(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),et).getContainer(),{events:{click:function e(t){t.preventDefault();if(!r.Type.isNil(i.getHelpMessage())){i.getHelpMessage().show()}}}})}return i}babelHelpers.createClass(t,[{key:"getInputNode",value:function e(){return babelHelpers.classPrivateFieldGet(this,et).getContainer()}},{key:"prefixId",value:function e(){return"user_selector_"}},{key:"renderContentField",value:function e(){var t=r.Tag.render(Ve||(Ve=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-user_selector ','">\n\t\t\t<div class="ui-section__field">\n\t\t\t\t<div class="ui-section__field-label">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t",'\n\t\t\t<div class="ui-section__input-box">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),babelHelpers.classPrivateFieldGet(this,st),this.getLabel(),this.renderErrors(),babelHelpers.classPrivateFieldGet(this,it));babelHelpers.classPrivateFieldGet(this,et).renderTo(t.querySelector(".ui-section__field"));return t}},{key:"onChangeSelector",value:function e(t){var i=this;var l=t.target.getSelectedItems();r.Dom.clean(babelHelpers.classPrivateFieldGet(this,it));if(r.Type.isArray(l)){l.forEach((function(e){var t="";switch(e.entityId){case"meta-user":t="AU";break;case"department":if(e.id.toString().split(":")[1]==="F"){t="D"}else{t="DR"}break;case"user":t="U";break;default:break}if(t){var l=r.Type.isFunction(babelHelpers.classPrivateFieldGet(i,lt))?babelHelpers.classPrivateFieldGet(i,lt).call(i,{id:e.id,type:t}):e.id;if(l){r.Dom.append(Ze(i,dt,pt).call(i,l),babelHelpers.classPrivateFieldGet(i,it))}}}))}Ze(this,ut,ht).call(this)}},{key:"setValues",value:function e(t){if(r.Type.isArray(t)){var i=qe(t),l;try{for(i.s();!(l=i.n()).done;){var a=l.value;var s=r.Type.isFunction(babelHelpers.classPrivateFieldGet(this,at))?babelHelpers.classPrivateFieldGet(this,at).call(this,a):a;var n=[];if(r.Type.isObject(s)&&r.Type.isString(s.type)&&r.Type.isString(s.id)){switch(s.type){case"AU":n=["meta-user","all-users"];break;case"DR":if(!babelHelpers.classPrivateFieldGet(this,ot)){continue}n=["department",s.id];break;case"D":if(!babelHelpers.classPrivateFieldGet(this,ot)){continue}n=["department",s.id.toString()+":F"];break;case"U":n=["user",s.id];break;default:continue}}babelHelpers.classPrivateFieldGet(this,tt).push(n)}}catch(e){i.e(e)}finally{i.f()}}else{babelHelpers.classPrivateFieldSet(this,tt,[])}}}]);return t}(F);function pt(e){return r.Dom.create("input",{attrs:{name:this.getName(),value:r.Text.encode(e),type:"text"},style:{display:"none"}})}function vt(e){if(r.Type.isArray(e)){var t=qe(e),i;try{for(t.s();!(i=t.n()).done;){var l=i.value;var a=Ze(this,dt,pt).call(this,l);r.Dom.append(a,babelHelpers.classPrivateFieldGet(this,it))}}catch(e){t.e(e)}finally{t.f()}this.setValues(e)}}function ht(){var e=babelHelpers.classPrivateFieldGet(this,it).firstChild;var t;if(r.Type.isNil(e)){e=Ze(this,dt,pt).call(this,"");r.Dom.append(e,babelHelpers.classPrivateFieldGet(this,it));t=e.form;r.Dom.remove(e)}else{t=e.form}t.dispatchEvent(new Event("change"))}e.Checker=D;e.InlineChecker=j;e.ItemPicker=re;e.Selector=Se;e.SingleChecker=Ce;e.TextInput=xe;e.TextInputInline=Re;e.UserSelector=bt;e.BaseField=F})(this.BX.UI.FormElements=this.BX.UI.FormElements||{},BX,BX.Event,BX.UI,BX.UI,BX,BX.UI.EntitySelector);
//# sourceMappingURL=view.bundle.map.js