{"version":3,"file":"view.bundle.js","sources":["../src/base-field.js","../src/checker.js","../src/inline-checker.js","../src/item-picker.js","../src/selector.js","../src/single-checker.js","../src/text-input.js","../src/text-input-inline.js","../src/user-selector.js"],"sourcesContent":["import { Dom, Loc, Tag, Text, Type } from \"main.core\";\nimport { EventEmitter } from \"main.core.events\";\nimport { HelpMessage } from 'ui.section';\n\n\nexport class BaseField extends EventEmitter\n{\n\t#id: string;\n\t#inputName: string;\n\tfield: HTMLElement;\n\t#isEnable: boolean;\n\t#bannerCode: ?string;\n\t#helpDeskCode: ?string;\n\t#label: string = '';\n\t#helpMessageProvider: function;\n\t#helpMessage: ?HelpMessage = null;\n\t#errorContainer: HTMLElement;\n\n\tconstructor(params)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('UI.Section');\n\n\t\tthis.#label = Type.isStringFilled(params.label) ? params.label : '';\n\t\tif (Type.isStringFilled(params.id))\n\t\t{\n\t\t\tthis.#id = params.id;\n\t\t}\n\t\telse if (!this.id)\n\t\t{\n\t\t\tthis.#id = this.prefixId() + Text.getRandom(8);\n\t\t}\n\n\t\tif (Type.isStringFilled(params.inputName))\n\t\t{\n\t\t\tthis.#inputName = params.inputName;\n\t\t}\n\t\telse if (!this.#inputName)\n\t\t{\n\t\t\tthis.#inputName = Text.getRandom(8);\n\t\t}\n\t\tthis.#isEnable = params.isEnable !== false;\n\t\tthis.#bannerCode = Type.isStringFilled(params.bannerCode) ? params.bannerCode : null;\n\t\tthis.#helpDeskCode = Type.isStringFilled(params.helpDesk) ? params.helpDesk : null;\n\t\tthis.#helpMessageProvider = params.helpMessageProvider;\n\t}\n\n\tgetHelpMessage(): ?HelpMessage\n\t{\n\t\tif (this.#helpMessage instanceof HelpMessage)\n\t\t{\n\t\t\treturn this.#helpMessage;\n\t\t}\n\t\tthis.#helpMessage = Type.isFunction(this.#helpMessageProvider)\n\t\t\t? this.#helpMessageProvider(this.getId(), this.getInputNode())\n\t\t\t: null;\n\n\t\treturn this.#helpMessage;\n\t}\n\n\tcleanError()\n\t{\n\t\tDom.clean(this.#errorContainer);\n\t}\n\n\tsetErrors(errorMessages): void\n\t{\n\t\tthis.cleanError();\n\t\tfor (let message of errorMessages)\n\t\t{\n\t\t\tlet error = Tag.render`\n\t\t\t<div class=\"ui-section__error-message\">\n\t\t\t\t<span class=\"ui-icon-set --warning\"></span>\n\t\t\t\t<span>${message}</span>\n\t\t\t</div>`;\n\t\t\tDom.append(error, this.renderErrors());\n\t\t}\n\t}\n\n\trenderErrors()\n\t{\n\t\tif (this.#errorContainer)\n\t\t{\n\t\t\treturn this.#errorContainer;\n\t\t}\n\n\n\t\tthis.#errorContainer = Tag.render`<div class=\"ui-section__error-container\"></div>`;\n\n\n\t\treturn this.#errorContainer;\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn this.#id;\n\t}\n\n\tgetLabel(): string\n\t{\n\t\treturn this.#label;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetValue(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetName(): string\n\t{\n\t\treturn this.#inputName\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn null;\n\t}\n\n\tsetName(name: string): void\n\t{\n\t\tthis.#inputName = name;\n\t}\n\n\tcancel(): void\n\t{\n\t\treturn;\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tif (this.field)\n\t\t{\n\t\t\treturn this.field;\n\t\t}\n\t\tthis.field = this.renderContentField();\n\n\t\treturn this.field;\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\treturn Tag.render``;\n\t}\n\n\tisEnable(): boolean\n\t{\n\t\treturn this.#isEnable;\n\t}\n\n\tgetBannerCode(): ?string\n\t{\n\t\treturn this.#bannerCode;\n\t}\n\n\tshowBanner(): void\n\t{\n\t\tif (this.getBannerCode())\n\t\t{\n\t\t\tBX.UI.InfoHelper.show(this.getBannerCode());\n\t\t}\n\t}\n\n\tgetHelpdeskCode(): ?string\n\t{\n\t\treturn this.#helpDeskCode;\n\t}\n\n\tshowHelpdesk(): void\n\t{\n\t\tif (this.getHelpdeskCode())\n\t\t{\n\t\t\ttop.BX.Helper.show(this.getHelpdeskCode());\n\t\t}\n\t}\n\n\trenderLockElement(): HTMLElement\n\t{\n\t\tconst lockElement = Tag.render`<span class=\"ui-icon-set --lock field-has-lock\"></span>`;\n\n\t\tlockElement.addEventListener('click', () => {\n\t\t\tthis.showBanner()\n\t\t});\n\n\t\treturn lockElement\n\t}\n\n\trenderMoreElement(helpdeskCode): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<a class=\"more\" href=\"javascript:top.BX.Helper.show('${helpdeskCode}');\">\n\t\t\t\t${Loc.getMessage(\"INTRANET_SETTINGS_CANCEL_MORE\")}\n\t\t\t</a>\n\t\t`;\n\t}\n}\n","import {Switcher} from 'ui.switcher'\nimport { Dom, Tag, Type } from 'main.core';\nimport 'ui.info-helper';\nimport {EventEmitter} from \"main.core.events\";\nimport {BaseField} from \"./base-field\";\n\nexport class Checker extends BaseField\n{\n\tfield: HTMLElement;\n\tswitcher: Switcher;\n\thintOn: string;\n\thintOff: string;\n\tdefaultValue: boolean;\n\thideSeparator: boolean;\n\talignCenter: boolean;\n\tnoMarginBottom: boolean;\n\t#renderMore: ?HTMLElement;\n\n\tconstructor(params)\n\t{\n\t\tparams.label = params.title;\n\t\tsuper(params);\n\t\tthis.hintOn = params.hintOn;\n\t\tthis.hintOff = params.hintOff;\n\t\tthis.hideSeparator = params.hideSeparator;\n\t\tthis.alignCenter = params.alignCenter;\n\t\tthis.noMarginBottom = params.noMarginBottom;\n\n\t\tthis.switcher = new Switcher({\n\t\t\tinputName: this.getName(),\n\t\t\tchecked: params.checked,\n\t\t\tid: this.getId(),\n\t\t\tattributeName: params.attributeName,\n\t\t\thandlers: params.handlers,\n\t\t\tcolor: params.colors,\n\t\t\tsize: params.size\n\t\t});\n\t\tthis.defaultValue = params.checked;\n\t\tEventEmitter.subscribe(\n\t\t\tthis.switcher,\n\t\t\t'toggled',\n\t\t\t() =>\n\t\t\t{\n\t\t\t\tif (!this.isEnable())\n\t\t\t\t{\n\t\t\t\t\tthis.switcher.check(this.defaultValue, false);\n\t\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.switcher.inputNode.form.dispatchEvent(new Event('change'));\n\t\t\t\tthis.changeHint(this.isChecked());\n\t\t\t\tthis.emit('change', this.isChecked());\n\t\t\t}\n\t\t);\n\t}\n\n\tgetValue(): string\n\t{\n\t\treturn this.switcher.inputNode.value;\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.switcher.node;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'checker_';\n\t}\n\n\tisChecked(): boolean\n\t{\n\t\treturn this.switcher.isChecked();\n\t}\n\n\trenderMore(): ?HTMLElement\n\t{\n\t\tif (this.#renderMore)\n\t\t{\n\t\t\treturn this.#renderMore;\n\t\t}\n\n\t\tthis.#renderMore = !Type.isNil(this.getHelpdeskCode())\n\t\t\t? this.renderMoreElement(this.getHelpdeskCode())\n\t\t\t: '';\n\n\t\treturn this.#renderMore;\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst lockElement = !this.isEnable() ? this.renderLockElement() : null;\n\n\t\treturn Tag.render`\n\t\t<div id=\"${this.getId()}\" \n\t\t\tclass=\"ui-section__field-switcher ${this.hideSeparator ? '--hide-separator' : ''} ${this.alignCenter ? '--align-center --gray-title' : ''} ${this.noMarginBottom ? '--no-margin-bottom' : ''}\">\n\t\t\t<div class=\"ui-section__field\">\n\t\t\t\t<div class=\"ui-section__switcher\">\n\t\t\t\t\t${this.getInputNode()}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"ui-section__field-inner\">\n\t\t\t\t\t<div class=\"ui-section__title\">\n\t\t\t\t\t\t${this.getLabel()} ${lockElement}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.#renderHint(this.isChecked())}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\t}\n\n\tgetHint(isChecked: boolean)\n\t{\n\t\tif (!Type.isStringFilled(this.hintOff))\n\t\t{\n\t\t\treturn Type.isStringFilled(this.hintOn) ? this.hintOn : '';\n\t\t}\n\t\tlet result = isChecked ? this.hintOn : this.hintOff;\n\n\t\treturn Type.isStringFilled(result) ? result : '';\n\t}\n\n\tchangeHint(isChecked: boolean)\n\t{\n\t\tconst hintElement = this.field.querySelector('.ui-section__hint');\n\t\tDom.replace(hintElement, this.#renderHint(isChecked));\n\t}\n\n\t#renderHint(isChecked: boolean)\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t${this.getHint(isChecked)} ${Type.isDomNode(this.renderMore()) ? this.renderMore() : ''}\n\t\t\t</div>\n\t\t`;\n\t}\n}\n","import {Checker} from \"./checker\";\nimport {Tag, Type} from \"main.core\";\n\nexport class InlineChecker extends Checker\n{\n\thintTitle: String;\n\t#hintDescElement: HTMLElement;\n\n\tconstructor(params) {\n\t\tsuper(params);\n\t\tthis.hintTitle = Type.isStringFilled(params.hintTitle) ? params.hintTitle : '';\n\t\tthis.#hintDescElement = Tag.render`\n\t\t\t<div class=\"ui-section__description\">\n\t\t\t\t${!this.isChecked() ? this.hintOff : this.hintOn}\n\t\t\t</div>`;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'inline_checker_';\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tlet content = Tag.render`\n\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-switcher --field-separator --align-center\">\n\t\t<div class=\"ui-section__field-inline-box\">\n\t\t\t<div class=\"ui-section__field-switcher-box\">\n\t\t\t\t<div class=\"ui-section__switcher\"></div>\n\t\t\t\t<div class=\"ui-section__switcher-title\">\n\t\t\t\t\t${this.getLabel()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"ui-section__field-inline-separator\"></div>\n\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t<div class=\"ui-section__title\">\n\t\t\t\t\t${this.hintTitle}\n\t\t\t\t</div>\n\t\t\t\t${this.#hintDescElement}\n\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\n\t\tthis.switcher.renderTo(content.querySelector('.ui-section__switcher'));\n\n\t\treturn content;\n\t}\n\n\tchangeHint(isChecked: boolean)\n\t{\n\t\tthis.#hintDescElement.innerText = this.getHint(isChecked);\n\t}\n}\n","import string from '../../../../../../../salescenter/install/js/salescenter/deliveryselector/src/properties/string';\nimport {BaseField} from \"./base-field\";\nimport {Dom, Tag, Type} from \"main.core\";\n\nexport class ItemPicker extends BaseField\n{\n\t#items: Array = [];\n\t#selectNode: HTMLElement\n\t#isMulti: boolean\n\t#current\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.#items = params.items;\n\t\tthis.#isMulti = params.isMulti === true;\n\t\tthis.#current = params.current;\n\t\tif (\n\t\t\tthis.#isMulti\n\t\t&& this.getName().substring(this.getName().length - 2) !== '[]'\n\t\t)\n\t\t{\n\t\t\tthis.setName(this.getName() + '[]');\n\t\t}\n\n\t\tthis.#selectNode = this.#buildSelector();\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'item_picker_';\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t<div class=\"ui-section__picker-wrapper\" id=\"${this.getId()}\">\n\t\t\t<div class=\"ui-section__field-label\">${this.getLabel()}</div>\n\t\t\t${this.#buildItems()}\n\t\t\t${this.renderErrors()}\n\t\t\t${this.getInputNode()}\n\t\t</div>\n\t\t`\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.#selectNode;\n\t}\n\n\tonClickHandler(event): void\n\t{\n\t\tDom.toggleClass(event.target, 'ui-section__selected');\n\t\tif (!Dom.hasClass(event.target, 'ui-section__selected') && this.#isMulti)\n\t\t{\n\t\t\tthis.unSelect(event.target);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.select(event.target);\n\t\t}\n\t}\n\n\tcreateItem(text: string, value: string, isSelected: boolean = false): HTMLElement\n\t{\n\t\treturn Dom.create( 'div',\n\t\t\t{\n\t\t\t\ttext: text,\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: \"ui-section__item \" + (isSelected ? 'ui-section__selected' : ''),\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tvalue: value\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.onClickHandler.bind(this)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\t#buildSelector(): HTMLElement\n\t{\n\t\tlet options = [];\n\t\tfor (let {value, name, selected} of this.#items)\n\t\t{\n\t\t\tlet selectedAttr = '';\n\t\t\tif (selected === true)\n\t\t\t{\n\t\t\t\tselectedAttr = 'selected';\n\t\t\t}\n\t\t\toptions.push(Tag.render`<option ${selectedAttr} value=\"${value}\">${name}</option>`);\n\t\t}\n\n\t\treturn Dom.create('select', {\n\t\t\tattrs: {\n\t\t\t\tmultiple: this.#isMulti ? 'on' : '',\n\t\t\t\tname: this.getName(),\n\t\t\t\tdisabled: !this.isEnable() ? 'disable' : ''\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tdisplay: 'none'\n\t\t\t},\n\t\t\tchildren: options,\n\t\t});\n\t}\n\n\t#buildItems(): HTMLElement\n\t{\n\t\tlet collectionNode = Tag.render`<div class=\"ui-section__item-collection\"></div>`;\n\t\tfor (let {value, name, selected} of this.#items)\n\t\t{\n\t\t\tDom.append(this.createItem(name, value, selected), collectionNode);\n\t\t}\n\n\t\treturn collectionNode;\n\t}\n\n\tselect(node: HTMLElement, fireEvent = true)\n\t{\n\t\tif (!this.#isMulti)\n\t\t{\n\t\t\tthis.unSelectAll();\n\t\t}\n\t\tconst value = node.dataset['value'];\n\t\tlet optNode = this.#selectNode.querySelector('option[value=\"'+value+'\"]')\n\t\tif (Type.isDomNode(optNode))\n\t\t{\n\t\t\tDom.addClass(node, 'ui-section__selected');\n\t\t\toptNode.selected = true;\n\t\t\tif (fireEvent)\n\t\t\t{\n\t\t\t\tthis.fireEvent();\n\t\t\t}\n\t\t}\n\t}\n\n\tunSelect(node, fireEvent = true)\n\t{\n\t\tconst value = node.dataset['value'];\n\t\tlet optNode = this.#selectNode.querySelector('option[value=\"'+value+'\"]')\n\t\tif (Type.isDomNode(optNode))\n\t\t{\n\t\t\tDom.removeClass(node, 'ui-section__selected');\n\t\t\toptNode.selected = false;\n\t\t\tif (fireEvent)\n\t\t\t{\n\t\t\t\tthis.fireEvent();\n\t\t\t}\n\t\t}\n\t}\n\n\tunSelectAll(fireEvent = false)\n\t{\n\t\tif (Type.isDomNode(this.field))\n\t\t{\n\t\t\tlet items = this.field.querySelectorAll('.ui-section__item.ui-section__selected')\n\t\t\titems.forEach(item => {\n\t\t\t\tDom.removeClass(item, 'ui-section__selected');\n\t\t\t});\n\t\t}\n\n\t\tlet optsNodes = this.#selectNode.querySelectorAll('option');\n\t\toptsNodes.forEach((node) => {\n\t\t\tif (Type.isDomNode(node))\n\t\t\t{\n\t\t\t\tnode.selected = false;\n\t\t\t}\n\t\t});\n\t\tif (fireEvent)\n\t\t{\n\t\t\tthis.fireEvent()\n\t\t}\n\t}\n\n\tgetNodesByValue(data)\n\t{\n\t\tlet query;\n\t\tif (Type.isArray(data))\n\t\t{\n\t\t\tlet queryList = data.map((value) => {\n\t\t\t\treturn '.ui-section__item[data-value=\"'+value+'\"]';\n\t\t\t});\n\t\t\tquery = queryList.join(', ');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tquery = '.ui-section__item[data-value=\"'+data+'\"]';\n\t\t}\n\n\t\treturn this.field.querySelectorAll(query);\n\t}\n\n\tfireEvent()\n\t{\n\t\tthis.#selectNode.dispatchEvent(new Event('change'));\n\t\tthis.#selectNode.form.dispatchEvent(new Event('change'));\n\t}\n}\n","import {Dom, Loc, Tag, Text, Type} from \"main.core\";\nimport {BaseField} from \"./base-field\";\n\nexport class Selector extends BaseField\n{\n\t#items: Array = [];\n\t#hintTitle: String;\n\t#hints: Object;\n\tdefaultValue: string;\n\t#hintTitleElement: HTMLElement;\n\t#hintDescElement: HTMLElement;\n\t#inputNode: HTMLElement;\n\t#hintSeparatorElement: HTMLElement;\n\n\tconstructor(params)\n\t{\n\t\tparams.inputName = params.name;\n\t\tsuper(params);\n\t\tthis.#items = params.items;\n\t\tthis.#hintTitle = Type.isString(params.hintTitle) ? params.hintTitle : '';\n\t\tthis.#hints = Type.isObject(params.hints) ? params.hints : {};\n\t\tthis.defaultValue = params.current;\n\t\tthis.#hintTitleElement = Tag.render`<div class=\"ui-section__title\"></div>`;\n\t\tthis.#hintDescElement = Tag.render`<div class=\"ui-section__description\"></div>`;\n\t\tthis.#hintSeparatorElement = Tag.render`<div class=\"ui-section__field-inline-separator\"></div>`;\n\t\tthis.#inputNode = this.#buildSelector()\n\t}\n\n\tgetHint(key: string)\n\t{\n\t\tlet hint = this.#hints[key];\n\t\tif (!Type.isString(hint) || hint === '')\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn hint;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'selector_';\n\t}\n\n\tsetHint(key: string): void\n\t{\n\t\tconst moreElement = this.renderMoreElement(this.getHelpdeskCode()).outerHTML;\n\t\tconst more = !Type.isNil(this.getHelpdeskCode()) ? moreElement : '';\n\n\t\tconst hint = this.getHint(key);\n\t\tthis.#hintTitleElement.innerText = !Type.isNil(hint) ? this.#hintTitle : '';\n\t\tthis.#hintDescElement.innerHTML = !Type.isNil(hint) ? hint + ' ' + more : '';\n\n\t\tDom.removeClass(this.field, '--field-separator');\n\t\tDom.remove(this.#hintSeparatorElement);\n\t\tif (!Type.isNil(hint))\n\t\t{\n\t\t\tDom.addClass(this.field, '--field-separator');\n\t\t\tconst fieldContainer = this.field.querySelector('.ui-section__field-inline-box .ui-section__field');\n\t\t\tDom.insertAfter(this.#hintSeparatorElement, fieldContainer);\n\t\t}\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst disableClass = !this.isEnable() ? 'ui-ctl-disabled' : '';\n\t\tconst lockElement = !this.isEnable() ? this.renderLockElement() : null;\n\n\t\treturn Tag.render`\n\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-selector \">\n\t\t\t<div class=\"ui-section__field-container\">\n\t\t\t\t<div class=\"ui-section__field-label_box\">\n\t\t\t\t\t<label class=\"ui-section__field-label\" for=\"${this.getName()}\">${this.getLabel()}</label> \n\t\t\t\t\t${lockElement}\n\t\t\t\t</div>\t\t\t\n\t\t\t\t<div class=\"ui-section__field-inline-box\">\n\t\t\t\t\t<div class=\"ui-section__field\">\t\t\t\t\n\t\t\t\t\t\t<div class=\"ui-ctl ui-ctl-w100 ui-ctl-after-icon ui-ctl-dropdown ${disableClass}\">\n\t\t\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t\t\t\t${this.getInputNode()}\n\t\t\t\t\t\t</div>\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t\t\t${this.#hintTitleElement}\n\t\t\t\t\t\t${this.#hintDescElement}\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tconst render = super.render();\n\t\tthis.setHint(this.getInputNode().value);\n\n\t\treturn render;\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.#inputNode;\n\t}\n\n\t#buildSelector(): HTMLElement\n\t{\n\t\tlet options = [];\n\t\tfor (let {value, name, selected} of this.#items)\n\t\t{\n\t\t\tlet selectedAttr = '';\n\t\t\tif (selected === true)\n\t\t\t{\n\t\t\t\tselectedAttr = 'selected';\n\t\t\t}\n\t\t\toptions.push(Tag.render`<option ${selectedAttr} value=\"${value}\">${name}</option>`);\n\t\t}\n\n\t\treturn Dom.create('select', {\n\t\t\tattrs: {\n\t\t\t\tname: this.getName(),\n\t\t\t\tclass: 'ui-ctl-element',\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tchange: (event) => {\n\t\t\t\t\tthis.setHint(event.target.value);\n\t\t\t\t},\n\t\t\t\tclick: (event) => {\n\t\t\t\t\tif (!this.isEnable())\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmousedown: (event) => {\n\t\t\t\t\tif (!this.isEnable())\n\t\t\t\t\t{\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildren: options,\n\t\t});\n\t}\n}\n","import { BaseField } from \"./base-field\";\nimport { Switcher } from 'ui.switcher';\nimport { Type, Event } from 'main.core';\n\nexport class SingleChecker extends BaseField\n{\n\tswitcher: Switcher;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.switcher = params.switcher;\n\n\t\tEvent.bind(\n\t\t\tthis.switcher.getNode(),\n\t\t\t'click',\n\t\t\t() => {\n\t\t\t\tif (!this.isEnable() && !this.switcher.isChecked())\n\t\t\t\t{\n\t\t\t\t\tthis.switcher.check(true, false);\n\t\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t}\n}\n","import {Event, Tag, Type, Text} from \"main.core\";\nimport {BaseField} from \"./base-field\";\n\nexport class TextInput extends BaseField\n{\n\tdefaultValue: string;\n\thintTitle: string;\n\tplaceholder: string;\n\t#inputNode: HTMLElement;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.defaultValue = Type.isStringFilled(params.value) ? params.value : '';\n\t\tthis.hintTitle = Type.isStringFilled(params.hintTitle) ? params.hintTitle : '';\n\t\tthis.placeholder = Type.isStringFilled(params.placeholder) ? params.placeholder : '';\n\t\tthis.inputDefaultWidth = Type.isBoolean(params.inputDefaultWidth) ? params.inputDefaultWidth : '';\n\t\tthis.#inputNode = Tag.render`<input \n\t\t\tvalue=\"${Text.encode(this.defaultValue)}\" \n\t\t\tname=\"${Text.encode(this.getName())}\" \n\t\t\ttype=\"text\" \n\t\t\tclass=\"ui-ctl-element\" \n\t\t\tplaceholder=\"${Text.encode(this.placeholder)}\"\n\t\t\t${this.isEnable() ? '' : 'readonly'}\n\t\t>`;\n\n\t\tif (!this.isEnable())\n\t\t{\n\t\t\tEvent.bind(this.#inputNode, 'click', (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t{\n\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.getInputNode().addEventListener('keydown', () => {\n\t\t\tthis.getInputNode().form.dispatchEvent(new window.Event('change'));\n\t\t});\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'text_';\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.#inputNode;\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst lockElement = !this.isEnable ? this.renderLockElement() : null;\n\n\t\treturn Tag.render`\n\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-selector\">\n\t\t\t<div class=\"ui-section__field-container\">\n\t\t\t\t<div class=\"ui-section__field-label_box\">\n\t\t\t\t\t<label for=\"${this.getName()}\" class=\"ui-section__field-label\">\n\t\t\t\t\t\t${this.getLabel()}\n\t\t\t\t\t</label> \n\t\t\t\t\t${lockElement}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ui-ctl ui-ctl-textbox ui-ctl-block ${this.inputDefaultWidth ? '' : 'ui-ctl-w100'}\">\n\t\t\t\t\t${this.getInputNode()}\n\t\t\t\t</div>\n\t\t\t\t${this.renderErrors()}\n\t\t\t</div>\n\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t${this.hintTitle}\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\t}\n}\n","import { Text, Tag, Type, Dom } from \"main.core\";\nimport { TextInput } from './text-input';\n\nexport class TextInputInline extends TextInput\n{\n\t#hintDesc: string;\n\t#hintBlock: HTMLElement;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.valueColor = Type.isBoolean(params.valueColor) === true ? '--color-blue' : '';\n\t\tthis.#hintDesc = Type.isStringFilled(params.hintDesc) ? params.hintDesc : '';\n\t\tthis.#hintBlock = Tag.render`<div></div>`;\n\t\tthis.getInputNode().addEventListener('keyup', (event) => {\n\t\t\tDom.clean(this.#hintBlock);\n\t\t\tDom.append(this.renderHint(), this.#hintBlock);\n\t\t})\n\t}\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst lockElement = !this.isEnable ? this.renderLockElement() : null;\n\n\t\tlet content = Tag.render`\n\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-selector --field-separator\">\n\t\t\t<div class=\"ui-section__field-container\">\t\t\t\n\t\t\t\t<div class=\"ui-section__field-label_box\">\n\t\t\t\t\t<label for=\"${Text.encode(this.getName())}\" class=\"ui-section__field-label\">${this.getLabel()}</label> \n\t\t\t\t\t${lockElement}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ui-section__field-inline-box\">\n\t\t\t\t\t<div class=\"ui-section__field\">\n\t\t\t\t\t\t<div class=\"ui-ctl ui-ctl-textbox ui-ctl-block ui-ctl-w100\">\n\t\t\t\t\t\t\t${this.getInputNode()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-section__field-inline-separator\"></div>\n\t\t\t\t\t${this.#hintBlock}\n\t\t\t\t</div>\n\t\t\t\t${this.renderErrors()}\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\n\t\tDom.append(this.renderHint(), this.#hintBlock);\n\n\t\treturn content;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'text_inline_';\n\t}\n\n\trenderHint(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t<div class=\"ui-section__hint\">\n\t\t\t<div class=\"ui-section__title\">${this.hintTitle}</div>\n\t\t\t<div class=\"ui-section__value ${this.valueColor}\">${this.getInputNode().value}</div>\n\t\t\t<div class=\"ui-section__description\">${this.#hintDesc}</div>\n\t\t</div>\n\t\t`;\n\t}\n}\n","import {Dom, Tag, Type, Text} from \"main.core\";\nimport {TagSelector} from \"ui.entity-selector\";\nimport {BaseField} from \"./base-field\";\n\nexport class UserSelector extends BaseField\n{\n\t#entitySelector: TagSelector;\n\t#defaultValues: Array = [];\n\t#inputContainer: HTMLElement;\n\t#encode: ?function = null;\n\t#decode: ?function = null;\n\t#defaultTags: Array = [];\n\t#className: string = '';\n\t#enableAll: boolean;\n\t#enableDepartments: boolean;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.#encode = Type.isFunction(params.encodeValue) ? params.encodeValue : null;\n\t\tthis.#decode = Type.isFunction(params.decodeValue) ? params.decodeValue : null;\n\t\tthis.#inputContainer = Tag.render`<div class=\"ui-section__input-container\"></div>`;\n\t\tthis.#className = params.className;\n\t\tthis.#enableAll = params.enableAll !== false;\n\t\tthis.#enableDepartments = params.enableDepartments === true;\n\n\t\tthis.#initInput(params.values);\n\n\t\tconst entities = [\n\t\t\t{\n\t\t\t\tid: 'user',\n\t\t\t\toptions: {\n\t\t\t\t\tintranetUsersOnly: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'department',\n\t\t\t\toptions: {\n\t\t\t\t\tselectMode: this.#enableDepartments ? 'usersAndDepartments' : 'usersOnly',\n\t\t\t\t\tallowFlatDepartments: this.#enableDepartments,\n\t\t\t\t\tallowSelectRootDepartment: this.#enableDepartments,\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\tif (this.#enableAll)\n\t\t{\n\t\t\tentities.push(\n\t\t\t\t{\n\t\t\t\t\tid: 'meta-user',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\t'all-users': this.#enableAll, // All users\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tthis.#entitySelector = new TagSelector({\n\t\t\tid: this.getId(),\n\t\t\ttextBoxAutoHide: true,\n\t\t\ttextBoxWidth: 350,\n\t\t\tmaxHeight: 99,\n\t\t\tdialogOptions: {\n\t\t\t\tid: this.getId(),\n\t\t\t\tpreselectedItems: this.#defaultValues,\n\t\t\t\tevents: {\n\t\t\t\t\t'Item:onSelect': this.onChangeSelector.bind(this),\n\t\t\t\t\t'Item:onDeselect': this.onChangeSelector.bind(this)\n\t\t\t\t},\n\t\t\t\tentities: entities,\n\t\t\t}\n\t\t});\n\t\tthis.#defaultTags = this.#entitySelector.getTags();\n\n\t\tif (!this.isEnable())\n\t\t{\n\t\t\tthis.#entitySelector.hideAddButton()\n\t\t\tthis.#entitySelector.getTextBox().readOnly = true;\n\t\t\tDom.adjust(this.#entitySelector.getContainer(), {\n\t\t\t\tevents: {\n\t\t\t\t\tclick: (event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.#entitySelector.getContainer();\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'user_selector_';\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst content = Tag.render`\n\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-user_selector ${this.#className}\">\n\t\t\t<div class=\"ui-section__field\">\n\t\t\t\t<div class=\"ui-section__field-label\">\n\t\t\t\t\t${this.getLabel()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t${this.renderErrors()}\n\t\t\t<div class=\"ui-section__input-box\">\n\t\t\t\t${this.#inputContainer}\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\t\tthis.#entitySelector.renderTo(content.querySelector('.ui-section__field'));\n\n\t\treturn content;\n\t}\n\n\tonChangeSelector(event): void\n\t{\n\t\tlet selectedItems = event.target.getSelectedItems();\n\t\tDom.clean(this.#inputContainer);\n\t\tif (Type.isArray(selectedItems))\n\t\t{\n\t\t\tselectedItems.forEach(item =>\n\t\t\t{\n\t\t\t\tlet type = '';\n\t\t\t\tswitch (item.entityId)\n\t\t\t\t{\n\t\t\t\t\tcase 'meta-user':\n\t\t\t\t\t\ttype = 'AU';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'department':\n\t\t\t\t\t\tif (item.id.toString().split(':')[1] === 'F')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype = 'D';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype = 'DR';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'user':\n\t\t\t\t\t\ttype = 'U';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (type)\n\t\t\t\t{\n\t\t\t\t\tconst value = Type.isFunction(this.#encode) ? this.#encode({id: item.id, type: type}) : item.id;\n\t\t\t\t\tif (value)\n\t\t\t\t\t{\n\t\t\t\t\t\tDom.append(this.#createInputElement(value), this.#inputContainer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.#triggerEventChange();\n\t}\n\n\t#createInputElement(value: string): HTMLElement\n\t{\n\t\treturn Dom.create('input', {\n\t\t\tattrs: {\n\t\t\t\tname: this.getName(),\n\t\t\t\tvalue: Text.encode(value),\n\t\t\t\ttype: 'text',\n\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t});\n\t}\n\n\tsetValues(values): void\n\t{\n\t\tif (Type.isArray(values))\n\t\t{\n\t\t\tfor (let userId of values)\n\t\t\t{\n\t\t\t\tconst value = Type.isFunction(this.#decode) ? this.#decode(userId) : userId;\n\n\t\t\t\tlet item = [];\n\t\t\t\tif (Type.isObject(value) && Type.isString(value.type) && Type.isString(value.id))\n\t\t\t\t{\n\t\t\t\t\tswitch (value.type)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 'AU':\n\t\t\t\t\t\t\titem = ['meta-user', 'all-users'];\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'DR':\n\t\t\t\t\t\t\tif (!this.#enableDepartments)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem = ['department', value.id];\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'D':\n\t\t\t\t\t\t\tif (!this.#enableDepartments)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem = ['department', value.id.toString() + ':F'];\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'U':\n\t\t\t\t\t\t\titem = ['user', value.id];\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.#defaultValues.push(item);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#defaultValues = [];\n\t\t}\n\t}\n\n\t#initInput(values)\n\t{\n\t\tif (Type.isArray(values))\n\t\t{\n\t\t\tfor (let value of values)\n\t\t\t{\n\t\t\t\tlet input = this.#createInputElement(value);\n\t\t\t\tDom.append(input, this.#inputContainer);\n\t\t\t}\n\t\t\tthis.setValues(values);\n\t\t}\n\t}\n\n\t#triggerEventChange()\n\t{\n\t\tlet input = this.#inputContainer.firstChild;\n\t\tlet form;\n\t\tif (Type.isNil(input))\n\t\t{\n\t\t\tinput = this.#createInputElement('');\n\t\t\tDom.append(input, this.#inputContainer);\n\t\t\tform = input.form;\n\t\t\tDom.remove(input);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tform = input.form;\n\t\t}\n\t\tform.dispatchEvent(new Event('change'));\n\t}\n}\n"],"names":["BaseField","params","setEventNamespace","Type","isStringFilled","label","id","prefixId","Text","getRandom","inputName","isEnable","bannerCode","helpDesk","helpMessageProvider","HelpMessage","isFunction","getId","getInputNode","Dom","clean","errorMessages","cleanError","message","error","Tag","render","append","renderErrors","name","field","renderContentField","getBannerCode","BX","UI","InfoHelper","show","getHelpdeskCode","top","Helper","lockElement","addEventListener","showBanner","helpdeskCode","Loc","getMessage","EventEmitter","Checker","title","_classPrivateFieldInitSpec","hintOn","hintOff","hideSeparator","alignCenter","noMarginBottom","switcher","Switcher","getName","checked","attributeName","handlers","color","colors","size","defaultValue","subscribe","check","isNil","getHelpMessage","inputNode","form","dispatchEvent","Event","changeHint","isChecked","emit","value","node","renderMoreElement","renderLockElement","getLabel","result","hintElement","querySelector","replace","getHint","isDomNode","renderMore","InlineChecker","hintTitle","content","renderTo","innerText","ItemPicker","_classPrivateMethodInitSpec","items","isMulti","current","substring","length","setName","event","toggleClass","target","hasClass","unSelect","select","text","isSelected","create","props","className","dataset","events","click","onClickHandler","bind","fireEvent","unSelectAll","optNode","addClass","selected","removeClass","querySelectorAll","forEach","item","optsNodes","data","query","isArray","queryList","map","join","options","selectedAttr","push","attrs","multiple","disabled","style","display","children","collectionNode","createItem","Selector","isString","isObject","hints","key","hint","moreElement","outerHTML","more","innerHTML","remove","fieldContainer","insertAfter","disableClass","setHint","change","preventDefault","mousedown","SingleChecker","getNode","TextInput","placeholder","inputDefaultWidth","isBoolean","encode","window","TextInputInline","valueColor","hintDesc","renderHint","UserSelector","encodeValue","decodeValue","enableAll","enableDepartments","_classPrivateMethodGet","values","entities","intranetUsersOnly","selectMode","allowFlatDepartments","allowSelectRootDepartment","TagSelector","textBoxAutoHide","textBoxWidth","maxHeight","dialogOptions","preselectedItems","onChangeSelector","getTags","hideAddButton","getTextBox","readOnly","adjust","getContainer","selectedItems","getSelectedItems","type","entityId","toString","split","userId","input","setValues","firstChild"],"mappings":"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"}