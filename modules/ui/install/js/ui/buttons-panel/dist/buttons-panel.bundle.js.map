{"version":3,"file":"buttons-panel.bundle.js","sources":["../src/panel.js"],"sourcesContent":["import { Dom, Tag, Type } from 'main.core';\nimport { Button, SplitButton } from 'ui.buttons';\nimport 'ui.fonts.opensans';\nimport './style.css';\n\nexport default class ButtonsPanel\n{\n\tconstructor(options)\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tconst buttons = Type.isArray(options.buttons) ? options.buttons : [];\n\n\t\tthis.container = null;\n\t\tthis.buttons = [];\n\n\t\tbuttons.forEach(button => {\n\t\t\tif (button instanceof Button)\n\t\t\t{\n\t\t\t\tthis.buttons.push(button);\n\t\t\t}\n\t\t\telse if (Type.isPlainObject(button))\n\t\t\t{\n\t\t\t\tif (button.splitButton)\n\t\t\t\t{\n\t\t\t\t\tthis.buttons.push(new SplitButton(button));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.buttons.push(new Button(button));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t#getContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-button-panel__container ui-button-panel__scope\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\t#getButtons()\n\t{\n\t\treturn this.buttons;\n\t}\n\n\tcollapse()\n\t{\n\t\tconst buttons = Object.values(this.#getButtons());\n\t\tfor (let i = buttons.length - 1; i >= 0; i--)\n\t\t{\n\t\t\tlet button = buttons[i];\n\t\t\tif (!button.getIcon() && !Type.isStringFilled(button.getDataSet()['buttonCollapsedIcon']))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (button.isCollapsed())\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tbutton.setCollapsed(true);\n\n\t\t\tif (!button.getIcon())\n\t\t\t{\n\t\t\t\tbutton.setIcon(button.getDataSet()['buttonCollapsedIcon']);\n\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\t}\n\n\texpand()\n\t{\n\n\t}\n\n\t#render()\n\t{\n\t\tDom.append(this.#getContainer(), this.target);\n\n\t\tif (this.#getButtons().length > 0)\n\t\t{\n\t\t\tthis.#getButtons().forEach(button => {\n\t\t\t\tDom.append(button.getContainer(), this.#getContainer());\n\t\t\t})\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tthis.#render();\n\t}\n}\n"],"names":["ButtonsPanel","options","Type","isPlainObject","target","isDomNode","buttons","isArray","container","forEach","button","Button","push","splitButton","SplitButton","Object","values","i","length","getIcon","isStringFilled","getDataSet","isCollapsed","setCollapsed","setIcon","Tag","render","Dom","append","getContainer"],"mappings":";;;;;;;;;AAAA,CAGqB;CAAA;CAAA;AAAA,KAEAA,YAAY;GAEhC,sBAAYC,OAAO,EACnB;KAAA;KAAA;KAAA;KAAA;KAAA;KACCA,OAAO,GAAGC,cAAI,CAACC,aAAa,CAACF,OAAO,CAAC,GAAGA,OAAO,GAAG,EAAE;KACpD,IAAI,CAACG,MAAM,GAAGF,cAAI,CAACG,SAAS,CAACJ,OAAO,CAACG,MAAM,CAAC,GAAGH,OAAO,CAACG,MAAM,GAAG,IAAI;KACpE,IAAME,OAAO,GAAGJ,cAAI,CAACK,OAAO,CAACN,OAAO,CAACK,OAAO,CAAC,GAAGL,OAAO,CAACK,OAAO,GAAG,EAAE;KAEpE,IAAI,CAACE,SAAS,GAAG,IAAI;KACrB,IAAI,CAACF,OAAO,GAAG,EAAE;KAEjBA,OAAO,CAACG,OAAO,CAAC,UAAAC,MAAM,EAAI;OACzB,IAAIA,MAAM,YAAYC,iBAAM,EAC5B;SACC,KAAI,CAACL,OAAO,CAACM,IAAI,CAACF,MAAM,CAAC;QACzB,MACI,IAAIR,cAAI,CAACC,aAAa,CAACO,MAAM,CAAC,EACnC;SACC,IAAIA,MAAM,CAACG,WAAW,EACtB;WACC,KAAI,CAACP,OAAO,CAACM,IAAI,CAAC,IAAIE,sBAAW,CAACJ,MAAM,CAAC,CAAC;UAC1C,MAED;WACC,KAAI,CAACJ,OAAO,CAACM,IAAI,CAAC,IAAID,iBAAM,CAACD,MAAM,CAAC,CAAC;;;MAGvC,CAAC;;GACF;KAAA;KAAA,2BAoBD;OACC,IAAMJ,OAAO,GAAGS,MAAM,CAACC,MAAM,wBAAC,IAAI,kCAAJ,IAAI,EAAe;OACjD,KAAK,IAAIC,CAAC,GAAGX,OAAO,CAACY,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAC5C;SACC,IAAIP,MAAM,GAAGJ,OAAO,CAACW,CAAC,CAAC;SACvB,IAAI,CAACP,MAAM,CAACS,OAAO,EAAE,IAAI,CAACjB,cAAI,CAACkB,cAAc,CAACV,MAAM,CAACW,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC,EACzF;WACC;;SAGD,IAAIX,MAAM,CAACY,WAAW,EAAE,EACxB;WACC;;SAGDZ,MAAM,CAACa,YAAY,CAAC,IAAI,CAAC;SAEzB,IAAI,CAACb,MAAM,CAACS,OAAO,EAAE,EACrB;WACCT,MAAM,CAACc,OAAO,CAACd,MAAM,CAACW,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC;;SAG3D;;;;KAED;KAAA,yBAGD;;KAEC;KAAA,uBAeD;OACC,2BAAI,0BAAJ,IAAI;;;GACJ;CAAA;CAAA,0BA/DD;GACC,IAAI,CAAC,IAAI,CAACb,SAAS,EACnB;KACC,IAAI,CAACA,SAAS,GAAGiB,aAAG,CAACC,MAAM,0KAE1B;;GAGF,OAAO,IAAI,CAAClB,SAAS;CACtB;CAAC,wBAGD;GACC,OAAO,IAAI,CAACF,OAAO;CACpB;CAAC,oBAmCD;GAAA;GACCqB,aAAG,CAACC,MAAM,wBAAC,IAAI,sCAAJ,IAAI,GAAkB,IAAI,CAACxB,MAAM,CAAC;GAE7C,IAAI,2BAAI,kCAAJ,IAAI,EAAec,MAAM,GAAG,CAAC,EACjC;KACC,2BAAI,kCAAJ,IAAI,EAAeT,OAAO,CAAC,UAAAC,MAAM,EAAI;OACpCiB,aAAG,CAACC,MAAM,CAAClB,MAAM,CAACmB,YAAY,EAAE,yBAAE,MAAI,sCAAJ,MAAI,EAAiB;MACvD,CAAC;;CAEJ;;;;;;;;"}