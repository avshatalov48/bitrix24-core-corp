{"version":3,"file":"buttons-panel.bundle.js","sources":["../src/panel.js"],"sourcesContent":["import { Dom, Tag, Type } from 'main.core';\nimport { Button, SplitButton } from 'ui.buttons';\nimport 'ui.fonts.opensans';\nimport './style.css';\n\nexport default class ButtonsPanel\n{\n\tconstructor(options)\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tconst buttons = Type.isArray(options.buttons) ? options.buttons : [];\n\n\t\tthis.container = null;\n\t\tthis.buttons = [];\n\n\t\tbuttons.forEach(button => {\n\t\t\tif (button instanceof Button)\n\t\t\t{\n\t\t\t\tthis.buttons.push(button);\n\t\t\t}\n\t\t\telse if (Type.isPlainObject(button))\n\t\t\t{\n\t\t\t\tif (button.splitButton)\n\t\t\t\t{\n\t\t\t\t\tthis.buttons.push(new SplitButton(button));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.buttons.push(new Button(button));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t#getContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-button-panel__container ui-button-panel__scope\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\t#getButtons()\n\t{\n\t\treturn this.buttons;\n\t}\n\n\tcollapse()\n\t{\n\t\tconst buttons = Object.values(this.#getButtons());\n\t\tfor (let i = buttons.length - 1; i >= 0; i--)\n\t\t{\n\t\t\tlet button = buttons[i];\n\t\t\tif (!button.getIcon() && !Type.isStringFilled(button.getDataSet()['buttonCollapsedIcon']))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (button.isCollapsed())\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tbutton.setCollapsed(true);\n\n\t\t\tif (!button.getIcon())\n\t\t\t{\n\t\t\t\tbutton.setIcon(button.getDataSet()['buttonCollapsedIcon']);\n\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\t}\n\n\texpand()\n\t{\n\n\t}\n\n\t#render()\n\t{\n\t\tDom.append(this.#getContainer(), this.target);\n\n\t\tif (this.#getButtons().length > 0)\n\t\t{\n\t\t\tthis.#getButtons().forEach(button => {\n\t\t\t\tDom.append(button.getContainer(), this.#getContainer());\n\t\t\t})\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tthis.#render();\n\t}\n}\n"],"names":["ButtonsPanel","constructor","options","Type","isPlainObject","target","isDomNode","buttons","isArray","container","forEach","button","Button","push","splitButton","SplitButton","collapse","Object","values","i","length","getIcon","isStringFilled","getDataSet","isCollapsed","setCollapsed","setIcon","expand","init","Tag","render","Dom","append","getContainer"],"mappings":";;;;;;;AAAA,CAGqB;CAAA;CAAA;AAErB,CAAe,MAAMA,YAAY,CACjC;GACCC,WAAW,CAACC,OAAO,EACnB;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KACCA,OAAO,GAAGC,cAAI,CAACC,aAAa,CAACF,OAAO,CAAC,GAAGA,OAAO,GAAG,EAAE;KACpD,IAAI,CAACG,MAAM,GAAGF,cAAI,CAACG,SAAS,CAACJ,OAAO,CAACG,MAAM,CAAC,GAAGH,OAAO,CAACG,MAAM,GAAG,IAAI;KACpE,MAAME,OAAO,GAAGJ,cAAI,CAACK,OAAO,CAACN,OAAO,CAACK,OAAO,CAAC,GAAGL,OAAO,CAACK,OAAO,GAAG,EAAE;KAEpE,IAAI,CAACE,SAAS,GAAG,IAAI;KACrB,IAAI,CAACF,OAAO,GAAG,EAAE;KAEjBA,OAAO,CAACG,OAAO,CAACC,MAAM,IAAI;OACzB,IAAIA,MAAM,YAAYC,iBAAM,EAC5B;SACC,IAAI,CAACL,OAAO,CAACM,IAAI,CAACF,MAAM,CAAC;QACzB,MACI,IAAIR,cAAI,CAACC,aAAa,CAACO,MAAM,CAAC,EACnC;SACC,IAAIA,MAAM,CAACG,WAAW,EACtB;WACC,IAAI,CAACP,OAAO,CAACM,IAAI,CAAC,IAAIE,sBAAW,CAACJ,MAAM,CAAC,CAAC;UAC1C,MAED;WACC,IAAI,CAACJ,OAAO,CAACM,IAAI,CAAC,IAAID,iBAAM,CAACD,MAAM,CAAC,CAAC;;;MAGvC,CAAC;;GAoBHK,QAAQ,GACR;KACC,MAAMT,OAAO,GAAGU,MAAM,CAACC,MAAM,yCAAC,IAAI,8BAAe;KACjD,KAAK,IAAIC,CAAC,GAAGZ,OAAO,CAACa,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAC5C;OACC,IAAIR,MAAM,GAAGJ,OAAO,CAACY,CAAC,CAAC;OACvB,IAAI,CAACR,MAAM,CAACU,OAAO,EAAE,IAAI,CAAClB,cAAI,CAACmB,cAAc,CAACX,MAAM,CAACY,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC,EACzF;SACC;;OAGD,IAAIZ,MAAM,CAACa,WAAW,EAAE,EACxB;SACC;;OAGDb,MAAM,CAACc,YAAY,CAAC,IAAI,CAAC;OAEzB,IAAI,CAACd,MAAM,CAACU,OAAO,EAAE,EACrB;SACCV,MAAM,CAACe,OAAO,CAACf,MAAM,CAACY,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC;;OAG3D;;;GAIFI,MAAM,GACN;GAgBAC,IAAI,GACJ;KACC,4CAAI;;CAEN;CAAC,0BAhEA;GACC,IAAI,CAAC,IAAI,CAACnB,SAAS,EACnB;KACC,IAAI,CAACA,SAAS,GAAGoB,aAAG,CAACC,MAAM,cAAC;;IAE5B,EAAC;;GAGF,OAAO,IAAI,CAACrB,SAAS;CACtB;CAAC,wBAGD;GACC,OAAO,IAAI,CAACF,OAAO;CACpB;CAAC,oBAmCD;GACCwB,aAAG,CAACC,MAAM,yCAAC,IAAI,mCAAkB,IAAI,CAAC3B,MAAM,CAAC;GAE7C,IAAI,4CAAI,8BAAee,MAAM,GAAG,CAAC,EACjC;KACC,4CAAI,8BAAeV,OAAO,CAACC,MAAM,IAAI;OACpCoB,aAAG,CAACC,MAAM,CAACrB,MAAM,CAACsB,YAAY,EAAE,0CAAE,IAAI,kCAAiB;MACvD,CAAC;;CAEJ;;;;;;;;"}