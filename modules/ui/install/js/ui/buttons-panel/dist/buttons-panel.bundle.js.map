{"version":3,"file":"buttons-panel.bundle.js","sources":["../src/panel.js"],"sourcesContent":["import { Dom, Tag, Type } from 'main.core';\nimport { Button, SplitButton } from 'ui.buttons';\nimport 'ui.fonts.opensans';\nimport './style.css';\n\nexport default class ButtonsPanel\n{\n\tconstructor(options)\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tconst buttons = Type.isArray(options.buttons) ? options.buttons : [];\n\n\t\tthis.container = null;\n\t\tthis.buttons = [];\n\n\t\tbuttons.forEach(button => {\n\t\t\tif (button instanceof Button)\n\t\t\t{\n\t\t\t\tthis.buttons.push(button);\n\t\t\t}\n\t\t\telse if (Type.isPlainObject(button))\n\t\t\t{\n\t\t\t\tif (button.splitButton)\n\t\t\t\t{\n\t\t\t\t\tthis.buttons.push(new SplitButton(button));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.buttons.push(new Button(button));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t#getContainer()\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-button-panel__container ui-button-panel__scope\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\t#getButtons()\n\t{\n\t\treturn this.buttons;\n\t}\n\n\tcollapse()\n\t{\n\t\tconst buttons = Object.values(this.#getButtons());\n\t\tfor (let i = buttons.length - 1; i >= 0; i--)\n\t\t{\n\t\t\tlet button = buttons[i];\n\t\t\tif (!button.getIcon() && !Type.isStringFilled(button.getDataSet()['buttonCollapsedIcon']))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (button.isCollapsed())\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tbutton.setCollapsed(true);\n\n\t\t\tif (!button.getIcon())\n\t\t\t{\n\t\t\t\tbutton.setIcon(button.getDataSet()['buttonCollapsedIcon']);\n\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\t}\n\n\texpand()\n\t{\n\n\t}\n\n\t#render()\n\t{\n\t\tDom.append(this.#getContainer(), this.target);\n\n\t\tif (this.#getButtons().length > 0)\n\t\t{\n\t\t\tthis.#getButtons().forEach(button => {\n\t\t\t\tDom.append(button.getContainer(), this.#getContainer());\n\t\t\t})\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tthis.#render();\n\t}\n}\n"],"names":["ButtonsPanel","options","Type","isPlainObject","target","isDomNode","buttons","isArray","container","forEach","button","Button","push","splitButton","SplitButton","Object","values","i","length","getIcon","isStringFilled","getDataSet","isCollapsed","setCollapsed","setIcon","Tag","render","Dom","append","getContainer"],"mappings":";;;;;;;;;;;;;;;;;;KAKqBA;CAEpB,wBAAYC,OAAZ,EACA;CAAA;;CAAA;;CAAA;;CAAA;;CAAA;;CACCA,IAAAA,OAAO,GAAGC,cAAI,CAACC,aAAL,CAAmBF,OAAnB,IAA8BA,OAA9B,GAAwC,EAAlD;CACA,SAAKG,MAAL,GAAcF,cAAI,CAACG,SAAL,CAAeJ,OAAO,CAACG,MAAvB,IAAiCH,OAAO,CAACG,MAAzC,GAAkD,IAAhE;CACA,QAAME,OAAO,GAAGJ,cAAI,CAACK,OAAL,CAAaN,OAAO,CAACK,OAArB,IAAgCL,OAAO,CAACK,OAAxC,GAAkD,EAAlE;CAEA,SAAKE,SAAL,GAAiB,IAAjB;CACA,SAAKF,OAAL,GAAe,EAAf;CAEAA,IAAAA,OAAO,CAACG,OAAR,CAAgB,UAAAC,MAAM,EAAI;CACzB,UAAIA,MAAM,YAAYC,iBAAtB,EACA;CACC,QAAA,KAAI,CAACL,OAAL,CAAaM,IAAb,CAAkBF,MAAlB;CACA,OAHD,MAIK,IAAIR,cAAI,CAACC,aAAL,CAAmBO,MAAnB,CAAJ,EACL;CACC,YAAIA,MAAM,CAACG,WAAX,EACA;CACC,UAAA,KAAI,CAACP,OAAL,CAAaM,IAAb,CAAkB,IAAIE,sBAAJ,CAAgBJ,MAAhB,CAAlB;CACA,SAHD,MAKA;CACC,UAAA,KAAI,CAACJ,OAAL,CAAaM,IAAb,CAAkB,IAAID,iBAAJ,CAAWD,MAAX,CAAlB;CACA;CACD;CACD,KAhBD;CAiBA;;;;gCAoBD;CACC,UAAMJ,OAAO,GAAGS,MAAM,CAACC,MAAP,wBAAc,IAAd,kCAAc,IAAd,EAAhB;;CACA,WAAK,IAAIC,CAAC,GAAGX,OAAO,CAACY,MAAR,GAAiB,CAA9B,EAAiCD,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EACA;CACC,YAAIP,MAAM,GAAGJ,OAAO,CAACW,CAAD,CAApB;;CACA,YAAI,CAACP,MAAM,CAACS,OAAP,EAAD,IAAqB,CAACjB,cAAI,CAACkB,cAAL,CAAoBV,MAAM,CAACW,UAAP,GAAoB,qBAApB,CAApB,CAA1B,EACA;CACC;CACA;;CAED,YAAIX,MAAM,CAACY,WAAP,EAAJ,EACA;CACC;CACA;;CAEDZ,QAAAA,MAAM,CAACa,YAAP,CAAoB,IAApB;;CAEA,YAAI,CAACb,MAAM,CAACS,OAAP,EAAL,EACA;CACCT,UAAAA,MAAM,CAACc,OAAP,CAAed,MAAM,CAACW,UAAP,GAAoB,qBAApB,CAAf;CACA;;CAED;CACA;CACD;;;8BAGD;;;4BAiBA;CACC;CACA;;;;;2BA/DD;CACC,MAAI,CAAC,KAAKb,SAAV,EACA;CACC,SAAKA,SAAL,GAAiBiB,aAAG,CAACC,MAArB;CAGA;;CAED,SAAO,KAAKlB,SAAZ;CACA;;yBAGD;CACC,SAAO,KAAKF,OAAZ;CACA;;qBAmCD;CAAA;;CACCqB,EAAAA,aAAG,CAACC,MAAJ,wBAAW,IAAX,sCAAW,IAAX,GAAiC,KAAKxB,MAAtC;;CAEA,MAAI,mEAAmBc,MAAnB,GAA4B,CAAhC,EACA;CACC,uEAAmBT,OAAnB,CAA2B,UAAAC,MAAM,EAAI;CACpCiB,MAAAA,aAAG,CAACC,MAAJ,CAAWlB,MAAM,CAACmB,YAAP,EAAX,yBAAkC,MAAlC,sCAAkC,MAAlC;CACA,KAFD;CAGA;CACD;;;;;;;;"}