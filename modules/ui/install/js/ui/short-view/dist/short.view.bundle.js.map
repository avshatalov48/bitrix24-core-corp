{"version":3,"file":"short.view.bundle.js","sources":["../src/short.view.js"],"sourcesContent":["import {Dom, Tag, Type, Loc, Event} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\ntype Params = {\n\tisShortView: 'Y' | 'N'\n}\n\nimport 'ui.fonts.opensans';\nimport './css/base.css';\n\nexport class ShortView extends EventEmitter\n{\n\tconstructor(params: Params)\n\t{\n\t\tsuper(params);\n\n\t\tthis.setEventNamespace('BX.UI.ShortView');\n\n\t\tthis.setShortView(params.isShortView);\n\n\t\tthis.node = null;\n\t}\n\n\trenderTo(container: HTMLElement)\n\t{\n\t\tif (!Type.isDomNode(container))\n\t\t{\n\t\t\tthrow new Error('UI ShortView: HTMLElement not found');\n\t\t}\n\n\t\tDom.append(this.render(), container);\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tconst checked = (this.getShortView() === 'Y' ? 'checked' : '');\n\n\t\tthis.node = Tag.render`\n\t\t\t<div class=\"tasks-scrum__switcher--container tasks-scrum__scope-switcher\">\n\t\t\t\t<label class=\"tasks-scrum__switcher--label\">\n\t\t\t\t<div class=\"tasks-scrum__switcher--label-text\">\n\t\t\t\t\t${Loc.getMessage('UI_SHORT_VIEW_LABEL')}\n\t\t\t\t</div>\n\t\t\t\t<input type=\"checkbox\" class=\"tasks-scrum__switcher--checkbox\" ${checked}>\n\t\t\t\t<span class=\"tasks-scrum__switcher-cursor\"></span>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(this.node, 'change', this.onChange.bind(this));\n\n\t\treturn this.node;\n\t}\n\n\tsetShortView(value: string)\n\t{\n\t\tthis.shortView = (value === 'Y' ? 'Y' : 'N');\n\t}\n\n\tgetShortView(): 'Y' | 'N'\n\t{\n\t\treturn this.shortView;\n\t}\n\n\tonChange()\n\t{\n\t\tconst checkboxNode = this.node.querySelector('input[type=\"checkbox\"]');\n\n\t\tthis.setShortView(checkboxNode.checked ? 'Y' : 'N');\n\n\t\tthis.emit('change', this.getShortView());\n\t}\n}"],"names":["ShortView","params","setEventNamespace","setShortView","isShortView","node","container","Type","isDomNode","Error","Dom","append","render","checked","getShortView","Tag","Loc","getMessage","Event","bind","onChange","value","shortView","checkboxNode","querySelector","emit","EventEmitter"],"mappings":";;;;;;;AAAA,KAUaA,SAAS;GAAA;GAErB,mBAAYC,MAAc,EAC1B;KAAA;KAAA;KACC,uGAAMA,MAAM;KAEZ,MAAKC,iBAAiB,CAAC,iBAAiB,CAAC;KAEzC,MAAKC,YAAY,CAACF,MAAM,CAACG,WAAW,CAAC;KAErC,MAAKC,IAAI,GAAG,IAAI;KAAC;;GACjB;KAAA;KAAA,yBAEQC,SAAsB,EAC/B;OACC,IAAI,CAACC,cAAI,CAACC,SAAS,CAACF,SAAS,CAAC,EAC9B;SACC,MAAM,IAAIG,KAAK,CAAC,qCAAqC,CAAC;;OAGvDC,aAAG,CAACC,MAAM,CAAC,IAAI,CAACC,MAAM,EAAE,EAAEN,SAAS,CAAC;;;KACpC;KAAA,yBAGD;OACC,IAAMO,OAAO,GAAI,IAAI,CAACC,YAAY,EAAE,KAAK,GAAG,GAAG,SAAS,GAAG,EAAG;OAE9D,IAAI,CAACT,IAAI,GAAGU,aAAG,CAACH,MAAM,+eAIjBI,aAAG,CAACC,UAAU,CAAC,qBAAqB,CAAC,EAEyBJ,OAAO,CAIzE;OAEDK,eAAK,CAACC,IAAI,CAAC,IAAI,CAACd,IAAI,EAAE,QAAQ,EAAE,IAAI,CAACe,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;OAEzD,OAAO,IAAI,CAACd,IAAI;;;KAChB;KAAA,6BAEYgB,KAAa,EAC1B;OACC,IAAI,CAACC,SAAS,GAAID,KAAK,KAAK,GAAG,GAAG,GAAG,GAAG,GAAI;;;KAC5C;KAAA,+BAGD;OACC,OAAO,IAAI,CAACC,SAAS;;;KACrB;KAAA,2BAGD;OACC,IAAMC,YAAY,GAAG,IAAI,CAAClB,IAAI,CAACmB,aAAa,CAAC,wBAAwB,CAAC;OAEtE,IAAI,CAACrB,YAAY,CAACoB,YAAY,CAACV,OAAO,GAAG,GAAG,GAAG,GAAG,CAAC;OAEnD,IAAI,CAACY,IAAI,CAAC,QAAQ,EAAE,IAAI,CAACX,YAAY,EAAE,CAAC;;;GACxC;CAAA,EA7D6BY,6BAAY;;;;;;;;"}