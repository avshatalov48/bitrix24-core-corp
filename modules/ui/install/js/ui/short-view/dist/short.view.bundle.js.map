{"version":3,"file":"short.view.bundle.js","sources":["../src/short.view.js"],"sourcesContent":["import {Dom, Tag, Type, Loc, Event} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\ntype Params = {\n\tisShortView: 'Y' | 'N'\n}\n\nimport 'ui.fonts.opensans';\nimport './css/base.css';\n\nexport class ShortView extends EventEmitter\n{\n\tconstructor(params: Params)\n\t{\n\t\tsuper(params);\n\n\t\tthis.setEventNamespace('BX.UI.ShortView');\n\n\t\tthis.setShortView(params.isShortView);\n\n\t\tthis.node = null;\n\t}\n\n\trenderTo(container: HTMLElement)\n\t{\n\t\tif (!Type.isDomNode(container))\n\t\t{\n\t\t\tthrow new Error('UI ShortView: HTMLElement not found');\n\t\t}\n\n\t\tDom.append(this.render(), container);\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tconst checked = (this.getShortView() === 'Y' ? 'checked' : '');\n\n\t\tthis.node = Tag.render`\n\t\t\t<div class=\"tasks-scrum__switcher--container tasks-scrum__scope-switcher\">\n\t\t\t\t<label class=\"tasks-scrum__switcher--label\">\n\t\t\t\t<div class=\"tasks-scrum__switcher--label-text\">\n\t\t\t\t\t${Loc.getMessage('UI_SHORT_VIEW_LABEL')}\n\t\t\t\t</div>\n\t\t\t\t<input type=\"checkbox\" class=\"tasks-scrum__switcher--checkbox\" ${checked}>\n\t\t\t\t<span class=\"tasks-scrum__switcher-cursor\"></span>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(this.node, 'change', this.onChange.bind(this));\n\n\t\treturn this.node;\n\t}\n\n\tsetShortView(value: string)\n\t{\n\t\tthis.shortView = (value === 'Y' ? 'Y' : 'N');\n\t}\n\n\tgetShortView(): 'Y' | 'N'\n\t{\n\t\treturn this.shortView;\n\t}\n\n\tonChange()\n\t{\n\t\tconst checkboxNode = this.node.querySelector('input[type=\"checkbox\"]');\n\n\t\tthis.setShortView(checkboxNode.checked ? 'Y' : 'N');\n\n\t\tthis.emit('change', this.getShortView());\n\t}\n}"],"names":["ShortView","params","setEventNamespace","setShortView","isShortView","node","container","Type","isDomNode","Error","Dom","append","render","checked","getShortView","Tag","Loc","getMessage","Event","bind","onChange","value","shortView","checkboxNode","querySelector","emit","EventEmitter"],"mappings":";;;;;;KAUaA,SAAb;CAAA;;CAEC,qBAAYC,MAAZ,EACA;CAAA;;CAAA;CACC,2GAAMA,MAAN;;CAEA,UAAKC,iBAAL,CAAuB,iBAAvB;;CAEA,UAAKC,YAAL,CAAkBF,MAAM,CAACG,WAAzB;;CAEA,UAAKC,IAAL,GAAY,IAAZ;CAPD;CAQC;;CAXF;CAAA;CAAA,6BAaUC,SAbV,EAcC;CACC,UAAI,CAACC,cAAI,CAACC,SAAL,CAAeF,SAAf,CAAL,EACA;CACC,cAAM,IAAIG,KAAJ,CAAU,qCAAV,CAAN;CACA;;CAEDC,MAAAA,aAAG,CAACC,MAAJ,CAAW,KAAKC,MAAL,EAAX,EAA0BN,SAA1B;CACA;CArBF;CAAA;CAAA,6BAwBC;CACC,UAAMO,OAAO,GAAI,KAAKC,YAAL,OAAwB,GAAxB,GAA8B,SAA9B,GAA0C,EAA3D;CAEA,WAAKT,IAAL,GAAYU,aAAG,CAACH,MAAhB,+eAIKI,aAAG,CAACC,UAAJ,CAAe,qBAAf,CAJL,EAMmEJ,OANnE;CAYAK,MAAAA,eAAK,CAACC,IAAN,CAAW,KAAKd,IAAhB,EAAsB,QAAtB,EAAgC,KAAKe,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhC;CAEA,aAAO,KAAKd,IAAZ;CACA;CA1CF;CAAA;CAAA,iCA4CcgB,KA5Cd,EA6CC;CACC,WAAKC,SAAL,GAAkBD,KAAK,KAAK,GAAV,GAAgB,GAAhB,GAAsB,GAAxC;CACA;CA/CF;CAAA;CAAA,mCAkDC;CACC,aAAO,KAAKC,SAAZ;CACA;CApDF;CAAA;CAAA,+BAuDC;CACC,UAAMC,YAAY,GAAG,KAAKlB,IAAL,CAAUmB,aAAV,CAAwB,wBAAxB,CAArB;CAEA,WAAKrB,YAAL,CAAkBoB,YAAY,CAACV,OAAb,GAAuB,GAAvB,GAA6B,GAA/C;CAEA,WAAKY,IAAL,CAAU,QAAV,EAAoB,KAAKX,YAAL,EAApB;CACA;CA7DF;CAAA;CAAA,EAA+BY,6BAA/B;;;;;;;;"}