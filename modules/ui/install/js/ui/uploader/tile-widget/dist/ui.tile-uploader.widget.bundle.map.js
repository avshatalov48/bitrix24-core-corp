{"version":3,"sources":["ui.tile-uploader.widget.bundle.js"],"names":["this","BX","UI","FileUploader","exports","main_core_events","ui_fileUploader_api","ui_progressround","ui_fileUploader_widgets_tileUploader","ui_vue","main_core","main_popup","ui_vue_portal","ui_buttons","DropArea","BitrixVue","localComponent","mounted","tileUploader","$Bitrix","Application","get","getUploader","assignDropzone","$refs","dropArea","assignBrowse","template","UploadLoader","component","createProgressbar","beforeDestroy","removeProgressbar","props","progress","type","Number","default","item","Object","methods","loader","ProgressRound","width","colorTrack","colorBar","lineSize","rotation","color","Color","SUCCESS","renderTo","container","updateProgressbar","status","update","Dom","remove","getContainer","computed","uploadProgress","String","watch","TileItem","components","data","tileId","Text","getRandom","toLowerCase","menu","errorPopup","id","handleMouseEnter","error","Popup","bindElement","darkMode","animation","angle","offset","offsetTop","offsetLeft","content","getMessage","getDescription","show","handleMouseLeave","destroy","showMenu","MenuManager","create","cacheable","items","text","href","downloadUrl","FileStatus","UPLOADING","LOAD_FAILED","UPLOAD_FAILED","Loc","TileList","Array","Stack","TileUploaderComponent","stackMode","Boolean","popup","popupContentId","MountingPortal","showPopup","_this","height","draggable","titleBar","concat","closeIcon","closeByEsc","events","onDestroy","buttons","CloseButton","onclick","close","alert","message","_uploader","WeakMap","_vueApp","_items","_error","_uploaderStatus","_stackMode","TileUploader","uploaderOptions","tileUploaderOptions","babelHelpers","classCallCheck","set","writable","value","UploaderStatus","STOPPED","widgetOptions","Type","isPlainObject","assign","classPrivateFieldSet","context","createApp","classPrivateFieldGet","beforeCreate","$bitrix","options","userEvents","handleFileAdd","bind","handleFileRemove","handleFileUploadProgress","handleFileStateChange","handleFileError","onError","handleError","Uploader","subscribeFromOptions","createClass","key","node","isDomNode","appendChild","getHiddenFieldsContainer","setHiddenFieldsContainer","mount","removeFile","getItem","find","createItemFromFile","file","getState","event","_event$getData","getData","push","_event$getData2","getId","_event$getData3","position","findIndex","fileInfo","splice","_event$getData4","_event$getData5","toJSON","StackUploader","_TileUploader","inherits","_this2","possibleConstructorReturn","getPrototypeOf","call","getVue","setTemplate","Widgets","Event","Main","Vue"],"mappings":"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","file":"ui.tile-uploader.widget.bundle.map.js"}