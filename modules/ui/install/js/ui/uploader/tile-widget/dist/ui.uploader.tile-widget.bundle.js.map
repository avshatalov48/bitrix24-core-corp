{"version":3,"file":"ui.uploader.tile-widget.bundle.js","sources":["../src/components/drop-area.js","../src/components/upload-loader.js","../src/components/error-popup.js","../src/components/file-icon.js","../src/components/tile-item.js","../src/components/tile-list.js","../src/mixins/drag-over-mixin.js","../src/components/tile-widget-component.js","../src/tile-widget.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\nimport type TileWidget from '../tile-widget';\n\nexport const DropArea = BitrixVue.localComponent('drop-area', {\n\tmounted()\n\t{\n\t\tthis.$root.getUploader().assignBrowse(this.$refs.dropArea);\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-tile-uploader-drop-area\" ref=\"dropArea\">\n\t\t\t<div class=\"ui-tile-uploader-drop-box\">\n\t\t\t\t<label class=\"ui-tile-uploader-drop-label\">{{\n\t\t\t\t\t$Bitrix.Loc.getMessage('TILE_UPLOADER_DROP_FILES_HERE')\n\t\t\t\t}}</label>\n\t\t\t\t<!--<div class=\"ui-tile-uploader-settings\"></div>-->\n\t\t\t</div>\n\t\t</div>\n\t`\n});\n","import { BitrixVue } from 'ui.vue';\nimport { ProgressRound } from 'ui.progressround';\n\nexport const UploadLoader = BitrixVue.localComponent('tile-uploader.uploader-loader', {\n\tprops: {\n\t\tprogress: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t\twidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 45,\n\t\t},\n\t\tlineSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 3,\n\t\t},\n\t\tcolorTrack: {\n\t\t\ttype: String,\n\t\t\tdefault: '#eeeff0',\n\t\t},\n\t\tcolorBar: {\n\t\t\ttype: String,\n\t\t\tdefault: '#2fc6f6',\n\t\t},\n\t\trotation: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tloader: null,\n\t\t}\n\t},\n\tmounted()\n\t{\n\t\tthis.createProgressbar();\n\t},\n\twatch: {\n\t\tprogress()\n\t\t{\n\t\t\tthis.updateProgressbar();\n\t\t},\n\t},\n\tmethods: {\n\t\tcreateProgressbar()\n\t\t{\n\t\t\tthis.loader = new ProgressRound({\n\t\t\t\twidth: this.width,\n\t\t\t\tlineSize: this.lineSize,\n\t\t\t\tcolorBar: this.colorBar,\n\t\t\t\tcolorTrack: this.colorTrack,\n\t\t\t\trotation: this.rotation,\n\t\t\t\tvalue: this.progress,\n\t\t\t\tcolor: ProgressRound.Color.SUCCESS,\n\t\t\t});\n\n\t\t\tthis.loader.renderTo(this.$refs.container);\n\t\t},\n\t\tupdateProgressbar()\n\t\t{\n\t\t\tif (!this.loader)\n\t\t\t{\n\t\t\t\tthis.createProgressbar();\n\t\t\t}\n\n\t\t\tthis.loader.update(this.progress);\n\t\t},\n\t},\n\ttemplate: `<span ref=\"container\"></span>`\n});\n","import { BitrixVue } from 'ui.vue';\nimport { Popup } from 'main.popup';\nimport { Type } from 'main.core';\nimport type { UploaderError } from 'ui.uploader.core';\n\nexport const ErrorPopup = BitrixVue.localComponent('ui.uploader.error-popup', {\n\tprops: {\n\t\terror: {\n\t\t\ttype: [Object, String],\n\t\t},\n\t\talignArrow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tpopupOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault()\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\terrorPopup: null,\n\t\t};\n\t},\n\twatch: {\n\t\terror(newValue)\n\t\t{\n\t\t\tif (this.errorPopup)\n\t\t\t{\n\t\t\t\tthis.errorPopup.destroy();\n\t\t\t}\n\n\t\t\tthis.errorPopup = this.createPopup(newValue);\n\t\t\tthis.errorPopup.show();\n\t\t}\n\t},\n\tmounted()\n\t{\n\t\tif (this.error)\n\t\t{\n\t\t\tthis.errorPopup = this.createPopup(this.error);\n\t\t\tthis.errorPopup.show();\n\t\t}\n\t},\n\tbeforeDestroy()\n\t{\n\t\tif (this.errorPopup)\n\t\t{\n\t\t\tthis.errorPopup.destroy();\n\t\t\tthis.errorPopup = null;\n\t\t}\n\t},\n\tmethods: {\n\t\tcreateContent(error: UploaderError | string)\n\t\t{\n\t\t\tif (Type.isStringFilled(error))\n\t\t\t{\n\t\t\t\treturn error;\n\t\t\t}\n\t\t\telse if (Type.isObject(error))\n\t\t\t{\n\t\t\t\treturn error.getMessage() + '<br>' + error.getDescription();\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\n\t\tcreatePopup(error: UploaderError | string)\n\t\t{\n\t\t\tconst content = this.createContent(error);\n\t\t\tlet defaultOptions;\n\t\t\tif (this.alignArrow && Type.isElementNode(this.popupOptions.bindElement))\n\t\t\t{\n\t\t\t\tconst targetNode = this.popupOptions.bindElement;\n\t\t\t\tconst targetNodeWidth = targetNode.offsetWidth;\n\n\t\t\t\tdefaultOptions = {\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\tanimation: 'fading-slide',\n\t\t\t\t\tcontent,\n\t\t\t\t\t// minWidth: 300,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonDestroy: () => {\n\t\t\t\t\t\t\tthis.$emit('onDestroy', error);\n\t\t\t\t\t\t\tthis.errorPopup = null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonShow: function(event) {\n\t\t\t\t\t\t\tconst popup = event.getTarget();\n\t\t\t\t\t\t\tpopup.getPopupContainer().style.display = 'block';\n\n\t\t\t\t\t\t\tconst popupWidth = popup.getPopupContainer().offsetWidth;\n\t\t\t\t\t\t\tconst offsetLeft = (targetNodeWidth / 2) - (popupWidth / 2);\n\t\t\t\t\t\t\tconst angleShift = Popup.getOption('angleLeftOffset') - Popup.getOption('angleMinTop');\n\n\t\t\t\t\t\t\tpopup.setAngle({ offset: popupWidth / 2 - angleShift });\n\t\t\t\t\t\t\tpopup.setOffset({ offsetLeft: offsetLeft + Popup.getOption('angleLeftOffset') });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdefaultOptions = {\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\tanimation: 'fading-slide',\n\t\t\t\t\tcontent,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonDestroy: () => {\n\t\t\t\t\t\t\tthis.$emit('onDestroy', error);\n\t\t\t\t\t\t\tthis.errorPopup = null;\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst options = Object.assign({}, defaultOptions, this.popupOptions);\n\n\t\t\treturn new Popup(options);\n\t\t}\n\t},\n\ttemplate: '<span></span>',\n});\n","import { BitrixVue } from 'ui.vue';\nimport { FileIcon } from 'ui.icons.generator';\n\nexport const FileIconComponent = BitrixVue.localComponent('ui.uploader.file-icon', {\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 36,\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tconst icon = new FileIcon({\n\t\t\tname: this.name,\n\t\t\tfileType: this.type,\n\t\t\tcolor: this.color,\n\t\t\tsize: this.size,\n\t\t});\n\n\t\ticon.renderTo(this.$el);\n\t},\n\ttemplate: '<span></span>',\n});\n","import { MenuManager } from 'main.popup';\nimport { Text, Loc } from 'main.core';\nimport { BitrixVue } from 'ui.vue';\nimport { FileOrigin, FileStatus } from 'ui.uploader.core';\n\nimport { UploadLoader } from './upload-loader';\nimport { ErrorPopup } from './error-popup';\nimport { FileIconComponent } from './file-icon';\n\nimport type { TileWidget } from 'ui.uploader.tile-widget';\n\nexport const TileItem = BitrixVue.localComponent('tile', {\n\tcomponents: {\n\t\tUploadLoader,\n\t\tErrorPopup,\n\t\tFileIconComponent,\n\t},\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\ttileId: 'tile-uploader-' + Text.getRandom().toLowerCase(),\n\t\t\tmenu: null,\n\t\t\tshowError: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tFileStatus: () => FileStatus,\n\t\tstatus()\n\t\t{\n\t\t\tif (this.item.status === FileStatus.UPLOADING)\n\t\t\t{\n\t\t\t\treturn this.item.progress + '%';\n\t\t\t}\n\t\t\telse if (this.item.status === FileStatus.LOAD_FAILED || this.item.status === FileStatus.UPLOAD_FAILED)\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('TILE_UPLOADER_ERROR_STATUS');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('TILE_UPLOADER_WAITING_STATUS');\n\t\t\t}\n\t\t},\n\t\tfileSize()\n\t\t{\n\t\t\tif (\n\t\t\t\t[FileStatus.LOADING, FileStatus.LOAD_FAILED].includes(this.item.status)\n\t\t\t\t&& this.item.origin === FileOrigin.SERVER\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.item.sizeFormatted;\n\t\t},\n\t\terrorPopupOptions()\n\t\t{\n\t\t\tconst targetNode = this.$refs.container;\n\t\t\tconst targetNodeWidth = targetNode.offsetWidth;\n\n\t\t\treturn {\n\t\t\t\tbindElement: targetNode,\n\t\t\t\tdarkMode: true,\n\t\t\t\toffsetTop: 6,\n\t\t\t\tminWidth: targetNodeWidth,\n\t\t\t\tmaxWidth: 500,\n\t\t\t};\n\t\t},\n\t\tclampedFileName()\n\t\t{\n\t\t\tconst nameParts = this.item.originalName.split('.');\n\t\t\tif (nameParts.length > 1)\n\t\t\t{\n\t\t\t\tnameParts.pop();\n\t\t\t}\n\n\t\t\tconst nameWithoutExtension = nameParts.join('.');\n\t\t\tif (nameWithoutExtension.length > 27)\n\t\t\t{\n\t\t\t\treturn nameWithoutExtension.substr(0, 20) + '...' + nameWithoutExtension.substr(-5);\n\t\t\t}\n\n\t\t\treturn nameWithoutExtension;\n\t\t}\n\t},\n\tbeforeDestroy()\n\t{\n\t\tif (this.menu)\n\t\t{\n\t\t\tthis.menu.destroy();\n\t\t\tthis.menu = null;\n\t\t}\n\t},\n\tmethods: {\n\t\tremove()\n\t\t{\n\t\t\tconst widget: TileWidget = this.$root.getWidget();\n\t\t\twidget.remove(this.item.id);\n\t\t},\n\n\t\thandleMouseEnter(item)\n\t\t{\n\t\t\tif (item.error)\n\t\t\t{\n\t\t\t\tthis.showError = true;\n\t\t\t}\n\t\t},\n\n\t\thandleMouseLeave()\n\t\t{\n\t\t\tthis.showError = false;\n\t\t},\n\n\t\tshowMenu()\n\t\t{\n\t\t\tif (this.menu)\n\t\t\t{\n\t\t\t\tthis.menu.destroy();\n\t\t\t}\n\n\t\t\tthis.menu = MenuManager.create({\n\t\t\t\tid: this.tileId,\n\t\t\t\tbindElement: this.$refs.menu,\n\t\t\t\tangle: true,\n\t\t\t\toffsetLeft: 13,\n\t\t\t\tminWidth: 100,\n\t\t\t\tcacheable: false,\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: Loc.getMessage('TILE_UPLOADER_MENU_DOWNLOAD'),\n\t\t\t\t\t\thref: this.item.downloadUrl,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: Loc.getMessage('TILE_UPLOADER_MENU_REMOVE'),\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tthis.remove();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tevents: {\n\t\t\t\t\tonDestroy: () => this.menu = null,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tthis.menu.show();\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t<transition name=\"ui-tile-uploader-item\">\n\t\t<div\n\t\t\tclass=\"ui-tile-uploader-item\"\n\t\t\t:class=\"['ui-tile-uploader-item--' + item.status, { '--image': item.isImage } ]\"\n\t\t\tref=\"container\"\n\t\t>\n\t\t\t<ErrorPopup v-if=\"item.error && showError\" :error=\"item.error\" :popup-options=\"errorPopupOptions\"/>\n\t\t\t<div \n\t\t\t\tclass=\"ui-tile-uploader-item-content\"\n\t\t\t\t@mouseenter=\"handleMouseEnter(item)\" \n\t\t\t\t@mouseleave=\"handleMouseLeave(item)\"\n\t\t\t>\n\t\t\t\t<div v-if=\"item.status !== FileStatus.COMPLETE\" class=\"ui-tile-uploader-item-state\">\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-loader\" v-if=\"item.status === FileStatus.UPLOADING\">\n\t\t\t\t\t\t<UploadLoader :progress=\"item.progress\" :width=\"20\" colorTrack=\"#73d8f8\" colorBar=\"#fff\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else class=\"ui-tile-uploader-item-state-icon\"></div>\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-status\">\n\t\t\t\t\t\t<div class=\"ui-tile-uploader-item-status-name\">{{status}}</div>\n\t\t\t\t\t\t<div v-if=\"fileSize\" class=\"ui-tile-uploader-item-state-desc\">{{fileSize}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-state-remove\" @click=\"remove\" key=\"aaa\"></div>\n\t\t\t\t</div>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-remove\" @click=\"remove\" key=\"remove\"></div>\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-actions\" key=\"actions\">\n\t\t\t\t\t\t<div class=\"ui-tile-uploader-item-menu\" @click=\"showMenu\" ref=\"menu\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<div class=\"ui-tile-uploader-item-preview\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"item.isImage\"\n\t\t\t\t\t\tclass=\"ui-tile-uploader-item-image\"\n\t\t\t\t\t\t:class=\"{ 'ui-tile-uploader-item-image-default': item.previewUrl === null }\"\n\t\t\t\t\t\t:style=\"{ backgroundImage: item.previewUrl !== null ? 'url(' + item.previewUrl + ')' : '' }\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div \n\t\t\t\t\t\tv-else-if=\"item.name && item.status !== FileStatus.LOADING\" \n\t\t\t\t\t\tclass=\"ui-tile-uploader-item-file-icon\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FileIconComponent :name=\"item.extension\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div \n\t\t\t\t\t\tv-else \n\t\t\t\t\t\tclass=\"ui-tile-uploader-item-file-default\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FileIconComponent :name=\"item.extension ? item.extension : '...'\" :size=\"36\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"item.originalName\" class=\"ui-tile-uploader-item-name-box\" :title=\"item.originalName\">\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-name\">\n\t\t\t\t\t\t<span class=\"ui-tile-uploader-item-name-title\">{{clampedFileName}}</span><!--\n\t\t\t\t\t\t--><span v-if=\"item.extension\" class=\"ui-tile-uploader-item-name-extension\">.{{item.extension}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n\t`\n});\n","import { BitrixVue } from 'ui.vue';\nimport { TileItem } from './tile-item';\n\nexport const TileList = BitrixVue.localComponent('tile-list', {\n\tcomponents: {\n\t\tTileItem,\n\t},\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-tile-uploader-items\">\n\t\t\t<TileItem v-for=\"item in items\" :key=\"item.id\" :item=\"item\" />\n\t\t</div>\n\t`\n});\n","import { Event } from 'main.core';\n\nexport const DragOverMixin = {\n\tdirectives: {\n\t\tdrop: {\n\t\t\tbind(el, binding, vnode)\n\t\t\t{\n\t\t\t\tfunction addClass()\n\t\t\t\t{\n\t\t\t\t\tvnode.context.dragOver = true;\n\t\t\t\t\tel.classList.add('--drag-over');\n\t\t\t\t}\n\n\t\t\t\tfunction removeClass()\n\t\t\t\t{\n\t\t\t\t\tvnode.context.dragOver = false;\n\t\t\t\t\tel.classList.remove('--drag-over');\n\t\t\t\t}\n\n\t\t\t\tlet lastEnterTarget = null;\n\t\t\t\tEvent.bind(el, 'dragenter', (event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t\tlastEnterTarget = event.target;\n\t\t\t\t\taddClass();\n\t\t\t\t});\n\n\t\t\t\tEvent.bind(el, 'dragleave', (event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t\tif (lastEnterTarget === event.target)\n\t\t\t\t\t{\n\t\t\t\t\t\tremoveClass();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tEvent.bind(el, 'drop', (event) => {\n\t\t\t\t\tremoveClass();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tunbind(el, binding, vnode)\n\t\t\t{\n\t\t\t\tvnode.context.dragOver = false;\n\t\t\t\tEvent.unbindAll(el, 'dragenter');\n\t\t\t\tEvent.unbindAll(el, 'dragleave');\n\t\t\t\tEvent.unbindAll(el, 'drop');\n\t\t\t}\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tdragOver: false,\n\t\t}\n\t},\n };","import { BitrixVue } from 'ui.vue';\nimport { DropArea } from './drop-area';\nimport { TileList } from './tile-list';\nimport { ErrorPopup } from './error-popup';\nimport { DragOverMixin } from '../mixins/drag-over-mixin';\nimport { BaseEvent } from 'main.core.events';\nimport { UploaderStatus } from 'ui.uploader.core';\n\nexport const TileWidgetComponent = BitrixVue.localComponent('tile-uploader', {\n\tcomponents: {\n\t\tDropArea,\n\t\tTileList,\n\t\tErrorPopup,\n\t},\n\tmixins: [\n\t\tDragOverMixin,\n\t],\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\tdefault: [],\n\t\t}\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tuploaderError: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\terrorPopupOptions()\n\t\t{\n\t\t\treturn {\n\t\t\t\tbindElement: this.$refs.container,\n\t\t\t\tcloseIcon: true,\n\t\t\t\tpadding: 20,\n\t\t\t\toffsetLeft: 45,\n\t\t\t\tangle: true,\n\t\t\t\tdarkMode: true,\n\t\t\t\tbindOptions: {\n\t\t\t\t\tposition: 'top',\n\t\t\t\t\tforceTop: true,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.$Bitrix.eventEmitter.subscribe('Uploader:onError', (event: BaseEvent) => {\n\t\t\tthis.uploaderError = event.getData().error;\n\t\t});\n\n\t\tthis.$Bitrix.eventEmitter.subscribe('Item:onAdd', (event: BaseEvent) => {\n\t\t\tthis.uploaderError = null;\n\t\t});\n\n\t\tthis.$Bitrix.eventEmitter.subscribe('Item:onRemove', (event: BaseEvent) => {\n\t\t\tthis.uploaderError = null;\n\t\t});\n\t},\n\tmounted()\n\t{\n\t\tthis.$root.getUploader().assignDropzone(this.$refs.container);\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-tile-uploader\" ref=\"container\" v-drop>\n\t\t\t<ErrorPopup \n\t\t\t\tv-if=\"uploaderError\"\n\t\t\t\t:alignArrow=\"false\"\n\t\t\t\t:error=\"uploaderError\"\n\t\t\t\t:popup-options=\"errorPopupOptions\" \n\t\t\t\t@onDestroy=\"uploaderError = null\" \n\t\t\t/>\n\t\t\t<template v-if=\"items.length === 0\">\n\t\t\t\t<DropArea />\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<TileList :items=\"items\"></TileList>\n\t\t\t\t<DropArea />\n\t\t\t</template>\n\t\t</div>\n\t`\n});\n","import { Type } from 'main.core';\nimport { UploaderOptions, VueUploader } from 'ui.uploader.core';\n\nimport { TileWidgetComponent } from './components/tile-widget-component';\nimport { TileWidgetOptions } from './tile-widget-options';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport default class TileWidget extends VueUploader\n{\n\tconstructor(uploaderOptions: UploaderOptions, tileWidgetOptions: TileWidgetOptions)\n\t{\n\t\tsuper(uploaderOptions);\n\t\tconst widgetOptions = Type.isPlainObject(tileWidgetOptions) ? Object.assign({}, tileWidgetOptions) : {};\n\t}\n\n\tgetRootComponentId(): ?Function\n\t{\n\t\treturn TileWidgetComponent;\n\t}\n}\n"],"names":["DropArea","BitrixVue","localComponent","mounted","$root","getUploader","assignBrowse","$refs","dropArea","template","UploadLoader","props","progress","type","Number","default","width","lineSize","colorTrack","String","colorBar","rotation","Boolean","data","loader","createProgressbar","watch","updateProgressbar","methods","ProgressRound","value","color","Color","SUCCESS","renderTo","container","update","ErrorPopup","error","Object","alignArrow","popupOptions","errorPopup","newValue","destroy","createPopup","show","beforeDestroy","createContent","Type","isStringFilled","isObject","getMessage","getDescription","content","defaultOptions","isElementNode","bindElement","targetNode","targetNodeWidth","offsetWidth","cacheable","animation","events","onDestroy","$emit","onShow","event","popup","getTarget","getPopupContainer","style","display","popupWidth","offsetLeft","angleShift","Popup","getOption","setAngle","offset","setOffset","options","assign","FileIconComponent","name","size","icon","FileIcon","fileType","$el","TileItem","components","item","tileId","Text","getRandom","toLowerCase","menu","showError","computed","FileStatus","status","UPLOADING","LOAD_FAILED","UPLOAD_FAILED","Loc","fileSize","LOADING","includes","origin","FileOrigin","SERVER","sizeFormatted","errorPopupOptions","darkMode","offsetTop","minWidth","maxWidth","clampedFileName","nameParts","originalName","split","length","pop","nameWithoutExtension","join","substr","remove","widget","getWidget","id","handleMouseEnter","handleMouseLeave","showMenu","MenuManager","create","angle","items","text","href","downloadUrl","onclick","TileList","Array","DragOverMixin","directives","drop","bind","el","binding","vnode","addClass","context","dragOver","classList","add","removeClass","lastEnterTarget","Event","preventDefault","stopPropagation","target","unbind","unbindAll","TileWidgetComponent","mixins","uploaderError","closeIcon","padding","bindOptions","position","forceTop","created","$Bitrix","eventEmitter","subscribe","getData","assignDropzone","TileWidget","VueUploader","constructor","uploaderOptions","tileWidgetOptions","widgetOptions","isPlainObject","getRootComponentId"],"mappings":"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"}