{"version":3,"file":"ui.uploader.tile-widget.bundle.js","sources":["../src/components/drop-area.js","../src/components/upload-loader.js","../src/components/error-popup.js","../src/components/file-icon.js","../src/components/tile-item.js","../src/components/tile-list.js","../src/mixins/drag-over-mixin.js","../src/components/tile-widget-component.js","../src/tile-widget.js"],"sourcesContent":["import { Loc } from 'main.core';\n\nexport const DropArea = {\n\tinject: ['uploader'],\n\tmounted()\n\t{\n\t\tthis.uploader.assignBrowse(this.$refs.dropArea);\n\t},\n\tcomputed: {\n\t\tdropLabel() {\n\t\t\treturn Loc.getMessage('TILE_UPLOADER_DROP_FILES_HERE');\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-tile-uploader-drop-area\" ref=\"dropArea\">\n\t\t\t<div class=\"ui-tile-uploader-drop-box\">\n\t\t\t\t<label class=\"ui-tile-uploader-drop-label\">{{dropLabel}}</label>\n\t\t\t\t<!--<div class=\"ui-tile-uploader-settings\"></div>-->\n\t\t\t</div>\n\t\t</div>\n\t`\n};\n","import { ProgressRound } from 'ui.progressround';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport const UploadLoader = {\n\tprops: {\n\t\tprogress: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t\twidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 45,\n\t\t},\n\t\tlineSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 3,\n\t\t},\n\t\tcolorTrack: {\n\t\t\ttype: String,\n\t\t\tdefault: '#eeeff0',\n\t\t},\n\t\tcolorBar: {\n\t\t\ttype: String,\n\t\t\tdefault: '#2fc6f6',\n\t\t},\n\t\trotation: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tthis.createProgressbar();\n\t},\n\twatch: {\n\t\tprogress()\n\t\t{\n\t\t\tthis.updateProgressbar();\n\t\t},\n\t},\n\tmethods: {\n\t\tcreateProgressbar()\n\t\t{\n\t\t\tthis.loader = new ProgressRound({\n\t\t\t\twidth: this.width,\n\t\t\t\tlineSize: this.lineSize,\n\t\t\t\tcolorBar: this.colorBar,\n\t\t\t\tcolorTrack: this.colorTrack,\n\t\t\t\trotation: this.rotation,\n\t\t\t\tvalue: this.progress,\n\t\t\t\tcolor: ProgressRound.Color.SUCCESS,\n\t\t\t});\n\n\t\t\tthis.loader.renderTo(this.$refs.container);\n\t\t},\n\t\tupdateProgressbar()\n\t\t{\n\t\t\tif (!this.loader)\n\t\t\t{\n\t\t\t\tthis.createProgressbar();\n\t\t\t}\n\n\t\t\tthis.loader.update(this.progress);\n\t\t},\n\t},\n\ttemplate: `<span ref=\"container\"></span>`\n};\n","import { Popup } from 'main.popup';\nimport { Type } from 'main.core';\nimport type { UploaderError } from 'ui.uploader.core';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport const ErrorPopup = {\n\tprops: {\n\t\terror: {\n\t\t\ttype: [Object, String],\n\t\t},\n\t\talignArrow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tpopupOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault()\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t},\n\temits: ['onDestroy'],\n\twatch: {\n\t\terror(newValue)\n\t\t{\n\t\t\tif (this.errorPopup)\n\t\t\t{\n\t\t\t\tthis.errorPopup.destroy();\n\t\t\t}\n\n\t\t\tthis.errorPopup = this.createPopup(newValue);\n\t\t\tthis.errorPopup.show();\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tthis.errorPopup = null;\n\t},\n\tmounted()\n\t{\n\t\tif (this.error)\n\t\t{\n\t\t\tthis.errorPopup = this.createPopup(this.error);\n\t\t\tthis.errorPopup.show();\n\t\t}\n\t},\n\tbeforeUnmount()\n\t{\n\t\tif (this.errorPopup)\n\t\t{\n\t\t\tthis.errorPopup.destroy();\n\t\t\tthis.errorPopup = null;\n\t\t}\n\t},\n\tmethods: {\n\t\tcreateContent(error: UploaderError | string)\n\t\t{\n\t\t\tif (Type.isStringFilled(error))\n\t\t\t{\n\t\t\t\treturn error;\n\t\t\t}\n\t\t\telse if (Type.isObject(error))\n\t\t\t{\n\t\t\t\treturn error.message + '<br>' + error.description;\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\n\t\tcreatePopup(error: UploaderError | string)\n\t\t{\n\t\t\tconst content = this.createContent(error);\n\t\t\tlet defaultOptions;\n\t\t\tif (this.alignArrow && Type.isElementNode(this.popupOptions.bindElement))\n\t\t\t{\n\t\t\t\tconst targetNode = this.popupOptions.bindElement;\n\t\t\t\tconst targetNodeWidth = targetNode.offsetWidth;\n\n\t\t\t\tdefaultOptions = {\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\tanimation: 'fading-slide',\n\t\t\t\t\tcontent,\n\t\t\t\t\t// minWidth: 300,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonDestroy: () => {\n\t\t\t\t\t\t\tthis.$emit('onDestroy', error);\n\t\t\t\t\t\t\tthis.errorPopup = null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonShow: function(event) {\n\t\t\t\t\t\t\tconst popup = event.getTarget();\n\t\t\t\t\t\t\tpopup.getPopupContainer().style.display = 'block';\n\n\t\t\t\t\t\t\tconst popupWidth = popup.getPopupContainer().offsetWidth;\n\t\t\t\t\t\t\tconst offsetLeft = (targetNodeWidth / 2) - (popupWidth / 2);\n\t\t\t\t\t\t\tconst angleShift = Popup.getOption('angleLeftOffset') - Popup.getOption('angleMinTop');\n\n\t\t\t\t\t\t\tpopup.setAngle({ offset: popupWidth / 2 - angleShift });\n\t\t\t\t\t\t\tpopup.setOffset({ offsetLeft: offsetLeft + Popup.getOption('angleLeftOffset') });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdefaultOptions = {\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\tanimation: 'fading-slide',\n\t\t\t\t\tcontent,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonDestroy: () => {\n\t\t\t\t\t\t\tthis.$emit('onDestroy', error);\n\t\t\t\t\t\t\tthis.errorPopup = null;\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst options = Object.assign({}, defaultOptions, this.popupOptions);\n\n\t\t\treturn new Popup(options);\n\t\t}\n\t},\n\ttemplate: '<span></span>',\n};\n","import { FileIcon } from 'ui.icons.generator';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport const FileIconComponent = {\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 36,\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tconst icon = new FileIcon({\n\t\t\tname: this.name,\n\t\t\tfileType: this.type,\n\t\t\tcolor: this.color,\n\t\t\tsize: this.size,\n\t\t});\n\n\t\ticon.renderTo(this.$el);\n\t},\n\ttemplate: '<span></span>',\n};\n","import { MenuManager } from 'main.popup';\nimport { Text, Loc, Type } from 'main.core';\nimport { FileOrigin, FileStatus } from 'ui.uploader.core';\n\nimport { UploadLoader } from './upload-loader';\nimport { ErrorPopup } from './error-popup';\nimport { FileIconComponent } from './file-icon';\n\nexport const TileItem = {\n\tcomponents: {\n\t\tUploadLoader,\n\t\tErrorPopup,\n\t\tFileIconComponent,\n\t},\n\tinject: ['uploader'],\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\ttileId: 'tile-uploader-' + Text.getRandom().toLowerCase(),\n\t\t\tshowError: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tFileStatus: () => FileStatus,\n\t\tstatus()\n\t\t{\n\t\t\tif (this.item.status === FileStatus.UPLOADING)\n\t\t\t{\n\t\t\t\treturn this.item.progress + '%';\n\t\t\t}\n\t\t\telse if (this.item.status === FileStatus.LOAD_FAILED || this.item.status === FileStatus.UPLOAD_FAILED)\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('TILE_UPLOADER_ERROR_STATUS');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('TILE_UPLOADER_WAITING_STATUS');\n\t\t\t}\n\t\t},\n\t\tfileSize()\n\t\t{\n\t\t\tif (\n\t\t\t\t[FileStatus.LOADING, FileStatus.LOAD_FAILED].includes(this.item.status)\n\t\t\t\t&& this.item.origin === FileOrigin.SERVER\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.item.sizeFormatted;\n\t\t},\n\t\terrorPopupOptions()\n\t\t{\n\t\t\tconst targetNode = this.$refs.container;\n\t\t\tconst targetNodeWidth = targetNode.offsetWidth;\n\n\t\t\treturn {\n\t\t\t\tbindElement: targetNode,\n\t\t\t\tdarkMode: true,\n\t\t\t\toffsetTop: 6,\n\t\t\t\tminWidth: targetNodeWidth,\n\t\t\t\tmaxWidth: 500,\n\t\t\t};\n\t\t},\n\t\tclampedFileName()\n\t\t{\n\t\t\tconst nameParts = this.item.originalName.split('.');\n\t\t\tif (nameParts.length > 1)\n\t\t\t{\n\t\t\t\tnameParts.pop();\n\t\t\t}\n\n\t\t\tconst nameWithoutExtension = nameParts.join('.');\n\t\t\tif (nameWithoutExtension.length > 27)\n\t\t\t{\n\t\t\t\treturn nameWithoutExtension.substr(0, 17) + '...' + nameWithoutExtension.substr(-5);\n\t\t\t}\n\n\t\t\treturn nameWithoutExtension;\n\t\t},\n\t\tmenuItems()\n\t\t{\n\t\t\tconst items = [];\n\n\t\t\tif (Type.isStringFilled(this.item.downloadUrl))\n\t\t\t{\n\t\t\t\titems.push({\n\t\t\t\t\ttext: Loc.getMessage('TILE_UPLOADER_MENU_DOWNLOAD'),\n\t\t\t\t\thref: this.item.downloadUrl,\n\t\t\t\t});\n\n\t\t\t\titems.push({\n\t\t\t\t\ttext: Loc.getMessage('TILE_UPLOADER_MENU_REMOVE'),\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tthis.remove();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn items;\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tthis.menu = null;\n\t},\n\tbeforeUnmount()\n\t{\n\t\tif (this.menu)\n\t\t{\n\t\t\tthis.menu.destroy();\n\t\t\tthis.menu = null;\n\t\t}\n\t},\n\tmethods: {\n\t\tremove()\n\t\t{\n\t\t\tthis.uploader.removeFile(this.item.id);\n\t\t},\n\n\t\thandleMouseEnter(item)\n\t\t{\n\t\t\tif (item.error)\n\t\t\t{\n\t\t\t\tthis.showError = true;\n\t\t\t}\n\t\t},\n\n\t\thandleMouseLeave()\n\t\t{\n\t\t\tthis.showError = false;\n\t\t},\n\n\n\t\tshowMenu()\n\t\t{\n\t\t\tif (this.menu)\n\t\t\t{\n\t\t\t\tthis.menu.destroy();\n\t\t\t}\n\n\t\t\tthis.menu = MenuManager.create({\n\t\t\t\tid: this.tileId,\n\t\t\t\tbindElement: this.$refs.menu,\n\t\t\t\tangle: true,\n\t\t\t\toffsetLeft: 13,\n\t\t\t\tminWidth: 100,\n\t\t\t\tcacheable: false,\n\t\t\t\titems: this.menuItems,\n\t\t\t\tevents: {\n\t\t\t\t\tonDestroy: () => this.menu = null,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tthis.menu.show();\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t<transition name=\"ui-tile-uploader-item\">\n\t\t<div\n\t\t\tclass=\"ui-tile-uploader-item\"\n\t\t\t:class=\"['ui-tile-uploader-item--' + item.status, { '--image': item.isImage } ]\"\n\t\t\tref=\"container\"\n\t\t>\n\t\t\t<ErrorPopup v-if=\"item.error && showError\" :error=\"item.error\" :popup-options=\"errorPopupOptions\"/>\n\t\t\t<div \n\t\t\t\tclass=\"ui-tile-uploader-item-content\"\n\t\t\t\t@mouseenter=\"handleMouseEnter(item)\" \n\t\t\t\t@mouseleave=\"handleMouseLeave(item)\"\n\t\t\t>\n\t\t\t\t<div v-if=\"item.status !== FileStatus.COMPLETE\" class=\"ui-tile-uploader-item-state\">\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-loader\" v-if=\"item.status === FileStatus.UPLOADING\">\n\t\t\t\t\t\t<UploadLoader :progress=\"item.progress\" :width=\"20\" colorTrack=\"#73d8f8\" colorBar=\"#fff\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else class=\"ui-tile-uploader-item-state-icon\"></div>\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-status\">\n\t\t\t\t\t\t<div class=\"ui-tile-uploader-item-status-name\">{{status}}</div>\n\t\t\t\t\t\t<div v-if=\"fileSize\" class=\"ui-tile-uploader-item-state-desc\">{{fileSize}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-state-remove\" @click=\"remove\" key=\"aaa\"></div>\n\t\t\t\t</div>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-remove\" @click=\"remove\" key=\"remove\"></div>\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-actions\" key=\"actions\">\n\t\t\t\t\t\t<div v-if=\"menuItems.length\" class=\"ui-tile-uploader-item-menu\" @click=\"showMenu\" ref=\"menu\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<div class=\"ui-tile-uploader-item-preview\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"item.previewUrl\"\n\t\t\t\t\t\tclass=\"ui-tile-uploader-item-image\"\n\t\t\t\t\t\t:class=\"{ 'ui-tile-uploader-item-image-default': item.previewUrl === null }\"\n\t\t\t\t\t\t:style=\"{ backgroundImage: item.previewUrl !== null ? 'url(' + item.previewUrl + ')' : '' }\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div \n\t\t\t\t\t\tv-else-if=\"item.name && item.status !== FileStatus.LOADING\" \n\t\t\t\t\t\tclass=\"ui-tile-uploader-item-file-icon\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FileIconComponent :name=\"item.extension\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div \n\t\t\t\t\t\tv-else \n\t\t\t\t\t\tclass=\"ui-tile-uploader-item-file-default\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FileIconComponent :name=\"item.extension ? item.extension : '...'\" :size=\"36\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"item.originalName\" class=\"ui-tile-uploader-item-name-box\" :title=\"item.originalName\">\n\t\t\t\t\t<div class=\"ui-tile-uploader-item-name\">\n\t\t\t\t\t\t<span class=\"ui-tile-uploader-item-name-title\">{{clampedFileName}}</span><!--\n\t\t\t\t\t\t--><span v-if=\"item.extension\" class=\"ui-tile-uploader-item-name-extension\">.{{item.extension}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n\t`\n};\n","import { TileItem } from './tile-item';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport const TileList = {\n\tcomponents: {\n\t\tTileItem,\n\t},\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-tile-uploader-items\">\n\t\t\t<TileItem v-for=\"item in items\" :key=\"item.id\" :item=\"item\" />\n\t\t</div>\n\t`\n};\n","import { Event } from 'main.core';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport const DragOverMixin = {\n\tdirectives: {\n\t\tdrop: {\n\t\t\tbeforeMount(el, binding, vnode)\n\t\t\t{\n\t\t\t\tfunction addClass()\n\t\t\t\t{\n\t\t\t\t\tbinding.instance.dragOver = true;\n\t\t\t\t\tel.classList.add('--drag-over');\n\t\t\t\t}\n\n\t\t\t\tfunction removeClass()\n\t\t\t\t{\n\t\t\t\t\tbinding.instance.dragOver = false;\n\t\t\t\t\tel.classList.remove('--drag-over');\n\t\t\t\t}\n\n\t\t\t\tlet lastEnterTarget = null;\n\t\t\t\tEvent.bind(el, 'dragenter', (event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t\tlastEnterTarget = event.target;\n\t\t\t\t\taddClass();\n\t\t\t\t});\n\n\t\t\t\tEvent.bind(el, 'dragleave', (event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t\tif (lastEnterTarget === event.target)\n\t\t\t\t\t{\n\t\t\t\t\t\tremoveClass();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tEvent.bind(el, 'drop', (event) => {\n\t\t\t\t\tremoveClass();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tunmounted(el, binding, vnode)\n\t\t\t{\n\t\t\t\tbinding.instance.dragOver = false;\n\t\t\t\tEvent.unbindAll(el, 'dragenter');\n\t\t\t\tEvent.unbindAll(el, 'dragleave');\n\t\t\t\tEvent.unbindAll(el, 'drop');\n\t\t\t}\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tdragOver: false,\n\t\t}\n\t},\n };","import { DropArea } from './drop-area';\nimport { TileList } from './tile-list';\nimport { ErrorPopup } from './error-popup';\nimport { DragOverMixin } from '../mixins/drag-over-mixin';\nimport { BaseEvent } from 'main.core.events';\nimport type { PopupOptions } from 'main.popup';\nimport { VueUploaderComponent } from 'ui.uploader.core';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport const TileWidgetComponent = {\n\tname: 'TileWidget',\n\textends: VueUploaderComponent,\n\tcomponents: {\n\t\tDropArea,\n\t\tTileList,\n\t\tErrorPopup,\n\t},\n\tmixins: [\n\t\tDragOverMixin,\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tisMounted: false\n\t\t}\n\t},\n\tcomputed: {\n\t\terrorPopupOptions(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tbindElement: this.$refs.container,\n\t\t\t\tcloseIcon: true,\n\t\t\t\tpadding: 20,\n\t\t\t\toffsetLeft: 45,\n\t\t\t\tangle: true,\n\t\t\t\tdarkMode: true,\n\t\t\t\tbindOptions: {\n\t\t\t\t\tposition: 'top',\n\t\t\t\t\tforceTop: true,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.adapter.subscribe('Item:onAdd', (event: BaseEvent) => {\n\t\t\tthis.uploaderError = null;\n\t\t});\n\n\t\tthis.adapter.subscribe('Item:onRemove', (event: BaseEvent) => {\n\t\t\tthis.uploaderError = null;\n\t\t});\n\t},\n\tmounted()\n\t{\n\t\tthis.uploader.assignDropzone(this.$refs.container);\n\t\tthis.isMounted = true;\n\t},\n\tmethods: {\n\t\thandlePopupDestroy(error)\n\t\t{\n\t\t\tif (this.uploaderError === error)\n\t\t\t{\n\t\t\t\tthis.uploaderError = null;\n\t\t\t}\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-tile-uploader\" ref=\"container\" v-drop>\n\t\t\t<template v-if=\"items.length === 0\">\n\t\t\t\t<DropArea />\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<TileList :items=\"items\"></TileList>\n\t\t\t\t<DropArea />\n\t\t\t</template>\n\t\t</div>\n\t\t<ErrorPopup\n\t\t\tv-if=\"uploaderError && isMounted\"\n\t\t\t:alignArrow=\"false\"\n\t\t\t:error=\"uploaderError\"\n\t\t\t:popup-options=\"errorPopupOptions\"\n\t\t\t@onDestroy=\"handlePopupDestroy\"\n\t\t/>\n\t`\n};\n","import { Type } from 'main.core';\nimport { UploaderOptions, VueUploaderWidget } from 'ui.uploader.core';\n\nimport { TileWidgetComponent } from './components/tile-widget-component';\nimport { TileWidgetOptions } from './tile-widget-options';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport default class TileWidget extends VueUploaderWidget\n{\n\tconstructor(uploaderOptions: UploaderOptions, tileWidgetOptions: TileWidgetOptions)\n\t{\n\t\tconst widgetOptions = Type.isPlainObject(tileWidgetOptions) ? Object.assign({}, tileWidgetOptions) : {};\n\t\tsuper(uploaderOptions, widgetOptions);\n\t}\n\n\tgetRootComponent(): ?Function\n\t{\n\t\treturn TileWidgetComponent;\n\t}\n}\n"],"names":["DropArea","inject","mounted","uploader","assignBrowse","$refs","dropArea","computed","dropLabel","Loc","getMessage","template","UploadLoader","props","progress","type","Number","default","width","lineSize","colorTrack","String","colorBar","rotation","Boolean","createProgressbar","watch","updateProgressbar","methods","loader","ProgressRound","value","color","Color","SUCCESS","renderTo","container","update","ErrorPopup","error","Object","alignArrow","popupOptions","emits","newValue","errorPopup","destroy","createPopup","show","created","beforeUnmount","createContent","Type","isStringFilled","isObject","message","description","content","defaultOptions","isElementNode","bindElement","targetNode","targetNodeWidth","offsetWidth","cacheable","animation","events","onDestroy","$emit","onShow","event","popup","getTarget","getPopupContainer","style","display","popupWidth","offsetLeft","angleShift","Popup","getOption","setAngle","offset","setOffset","options","assign","FileIconComponent","name","size","icon","FileIcon","fileType","$el","TileItem","components","item","data","tileId","Text","getRandom","toLowerCase","showError","FileStatus","status","UPLOADING","LOAD_FAILED","UPLOAD_FAILED","fileSize","LOADING","includes","origin","FileOrigin","SERVER","sizeFormatted","errorPopupOptions","darkMode","offsetTop","minWidth","maxWidth","clampedFileName","nameParts","originalName","split","length","pop","nameWithoutExtension","join","substr","menuItems","items","downloadUrl","push","text","href","onclick","remove","menu","removeFile","id","handleMouseEnter","handleMouseLeave","showMenu","MenuManager","create","angle","TileList","Array","DragOverMixin","directives","drop","beforeMount","el","binding","vnode","addClass","instance","dragOver","classList","add","removeClass","lastEnterTarget","Event","bind","preventDefault","stopPropagation","target","unmounted","unbindAll","TileWidgetComponent","extends","VueUploaderComponent","mixins","isMounted","closeIcon","padding","bindOptions","position","forceTop","adapter","subscribe","uploaderError","assignDropzone","handlePopupDestroy","TileWidget","VueUploaderWidget","constructor","uploaderOptions","tileWidgetOptions","widgetOptions","isPlainObject","getRootComponent"],"mappings":"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"}