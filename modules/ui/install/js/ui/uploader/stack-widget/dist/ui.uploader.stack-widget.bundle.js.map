{"version":3,"file":"ui.uploader.stack-widget.bundle.js","sources":["../src/stack-widget-size.js","../src/components/stack-upload.js","../src/components/stack-load.js","../src/components/stack-preview.js","../src/components/stack-drop-area.js","../src/components/stack-widget-component.js","../src/stack-widget.js"],"sourcesContent":["export const StackWidgetSize = {\n\tLARGE: 'large',\n\tMEDIUM: 'medium',\n\tSMALL: 'small',\n\tTINY: 'tiny',\n};","import { Loc } from 'main.core';\nimport { UploadLoader } from 'ui.uploader.tile-widget';\nimport { StackWidgetSize } from '../stack-widget-size';\n\nconst progressSizes = {\n\t[StackWidgetSize.LARGE]: { width: 46, lineSize: 5 },\n\t[StackWidgetSize.MEDIUM]: { width: 34, lineSize: 4 },\n\t[StackWidgetSize.SMALL]: { width: 20, lineSize: 3 },\n\t[StackWidgetSize.TINY]: { width: 14, lineSize: 2 },\n};\n\nexport const StackUpload = {\n\tname: 'StackUpload',\n\tinject: ['widgetOptions'],\n\tcomponents: {\n\t\tUploadLoader,\n\t},\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tqueueItems: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t}\n\t},\n\temits: ['showPopup', 'abortUpload'],\n\tcomputed: {\n\t\tStackWidgetSize: () => StackWidgetSize,\n\t\tuploadFileTitle()\n\t\t{\n\t\t\tif (this.queueItems.length > 1)\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('STACK_WIDGET_FILES_UPLOADING');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('STACK_WIDGET_FILE_UPLOADING');\n\t\t\t}\n\t\t},\n\t\tprogress()\n\t\t{\n\t\t\tif (this.queueItems.length === 0)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tconst progress = this.queueItems.reduce((total, item) => {\n\t\t\t\treturn total + item.progress;\n\t\t\t}, 0);\n\n\t\t\treturn Math.floor(progress / this.queueItems.length);\n\t\t},\n\t\tprogressOptions()\n\t\t{\n\t\t\tconst { width, lineSize } = progressSizes[this.widgetOptions.size];\n\n\t\t\treturn {\n\t\t\t\twidth,\n\t\t\t\tlineSize,\n\t\t\t\tprogress: Math.max(this.progress, 10),\n\t\t\t};\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-uploader-stack-upload\" @click=\"$emit('showPopup')\">\n\t\t\t<div class=\"ui-uploader-stack-upload-box\">\n\t\t\t\t<div \n\t\t\t\t\tclass=\"ui-uploader-stack-upload-abort\" \n\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('STACK_WIDGET_ABORT_UPLOAD')\"\n\t\t\t\t\t@click.stop=\"$emit('abortUpload')\"\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ui-uploader-stack-upload-content\">\n\t\t\t\t\t<div class=\"ui-uploader-stack-upload-loader\">\n\t\t\t\t\t\t<UploadLoader v-bind=\"progressOptions\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-uploader-stack-upload-progress\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"widgetOptions.size === StackWidgetSize.LARGE\"\n\t\t\t\t\t\t\tclass=\"ui-uploader-stack-upload-title\"\n\t\t\t\t\t\t>{{ uploadFileTitle }}</div>\n\t\t\t\t\t\t<div class=\"ui-uploader-stack-upload-percent\">{{ progress }}%</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"queueItems.length === 1 && widgetOptions.size === StackWidgetSize.LARGE\"\n\t\t\t\t\t\t\tclass=\"ui-uploader-stack-upload-stats\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"ui-uploader-stack-upload-total\">{{\n\t\t\t\t\t\t\t\tqueueItems.length ? queueItems[0].sizeFormatted : ''\n\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"ui-uploader-stack-upload-menu\"\n\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('STACK_WIDGET_OPEN_FILE_GALLERY')\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","export const StackLoad = {\n\tname: 'StackLoad',\n\temits: ['showPopup'],\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-uploader-stack-load\" @click=\"$emit('showPopup')\">\n\t\t\t<div class=\"ui-uploader-stack-load-icon\"></div>\n\t\t</div>\n\t`,\n};\n","import { FileStatus } from 'ui.uploader.core';\nimport { FileIcon } from 'ui.uploader.tile-widget';\n\nimport { StackWidgetSize } from '../stack-widget-size';\n\nconst fileIconSizes = {\n\t[StackWidgetSize.LARGE]: 36,\n\t[StackWidgetSize.MEDIUM]: 27,\n\t[StackWidgetSize.SMALL]: 19,\n\t[StackWidgetSize.TINY]: 15,\n}\n\nexport const StackPreview = {\n\tname: 'StackPreview',\n\tinject: ['widgetOptions'],\n\tcomponents: {\n\t\tFileIcon,\n\t},\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['showPopup'],\n\tcomputed: {\n\t\tFileStatus: () => FileStatus,\n\t\tSizes: () => StackWidgetSize,\n\t\titem()\n\t\t{\n\t\t\tconst item = this.items.find(item => {\n\t\t\t\treturn item.status !== FileStatus.LOAD_FAILED || item.status !== FileStatus.UPLOAD_FAILED;\n\t\t\t});\n\n\t\t\treturn item || {};\n\t\t},\n\t\tfileIconSize()\n\t\t{\n\t\t\treturn fileIconSizes[this.widgetOptions.size];\n\t\t},\n\t\terrorsCount()\n\t\t{\n\t\t\treturn this.items.reduce((errors, item) => {\n\t\t\t\tif (item.status === FileStatus.LOAD_FAILED || item.status === FileStatus.UPLOAD_FAILED)\n\t\t\t\t{\n\t\t\t\t\treturn errors + 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn errors;\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-uploader-stack-preview\" :class=\"{'--image': item.isImage}\" @click=\"$emit('showPopup')\">\n\t\t\t<div class=\"ui-uploader-stack-preview-box\">\n\t\t\t\t<template v-if=\"item.failed\">\n\t\t\t\t\t<div class=\"ui-uploader-stack-preview-error\"></div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else-if=\"item.previewUrl\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"ui-uploader-stack-preview-image\"\n\t\t\t\t\t\t:class=\"{ '--default': item.previewUrl === null }\"\n\t\t\t\t\t\t:style=\"{ backgroundImage: item.previewUrl !== null ? 'url(' + item.previewUrl + ')' : '' }\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"items.length > 1\" class=\"ui-uploader-stack-preview-stats\">\n\t\t\t\t\t\t<span class=\"ui-uploader-stack-preview-total\">{{ items.length }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<template v-if=\"item.name && item.status !== FileStatus.LOADING\">\n\t\t\t\t\t\t<div class=\"ui-uploader-stack-preview-file-icon\">\n\t\t\t\t\t\t\t<FileIcon :name=\"item.extension\" :size=\"fileIconSize\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"[Sizes.LARGE, Sizes.MEDIUM].includes(widgetOptions.size)\"\n\t\t\t\t\t\t\t:title=\"item.name\"\n\t\t\t\t\t\t\tclass=\"ui-uploader-stack-preview-file-name\"\n\t\t\t\t\t\t>{{\n\t\t\t\t\t\t\titems.length > 1\n\t\t\t\t\t\t\t? this.$Bitrix.Loc.getMessage('STACK_WIDGET_FILE_COUNT', { '#count#': items.length })\n\t\t\t\t\t\t\t: item.name\n\t\t\t\t\t\t}}</div>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tv-if=\"items.length > 1 && [Sizes.SMALL, Sizes.TINY].includes(widgetOptions.size)\"\n\t\t\t\t\t\t\tclass=\"ui-uploader-stack-preview-stats\">\n\t\t\t\t\t\t\t<span class=\"ui-uploader-stack-preview-total\">{{ items.length }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<div class=\"ui-uploader-stack-preview-file-default\"></div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"ui-uploader-stack-upload-menu\"\n\t\t\t\t:title=\"$Bitrix.Loc.getMessage('STACK_WIDGET_OPEN_FILE_GALLERY')\"\n\t\t\t></div>\n\t\t</div>\n\t`,\n};\n","import { Loc } from 'main.core';\nimport { StackWidgetSize } from 'ui.uploader.stack-widget';\n\nexport const StackDropArea = {\n\tname: 'StackDropArea',\n\tinject: ['uploader', 'widgetOptions'],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tisHovering: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tStackWidgetSize: () => StackWidgetSize,\n\t\tuploadFileTitle(): string\n\t\t{\n\t\t\tif (this.uploader.shouldAcceptOnlyImages())\n\t\t\t{\n\t\t\t\tif (this.uploader.isMultiple())\n\t\t\t\t{\n\t\t\t\t\treturn Loc.getMessage('STACK_WIDGET_UPLOAD_IMAGES');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn Loc.getMessage('STACK_WIDGET_UPLOAD_IMAGE');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.uploader.isMultiple())\n\t\t\t\t{\n\t\t\t\t\treturn Loc.getMessage('STACK_WIDGET_UPLOAD_FILES');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn Loc.getMessage('STACK_WIDGET_UPLOAD_FILE');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdragFileHint(): string\n\t\t{\n\t\t\tif (this.uploader.isMultiple())\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('STACK_WIDGET_DRAG_FILES_HINT');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('STACK_WIDGET_DRAG_FILE_HINT');\n\t\t\t}\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tthis.uploader.assignDropzone(this.$refs.container);\n\t\tthis.uploader.assignBrowse(this.$refs.container);\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div\n\t\t\tclass=\"ui-uploader-stack-drop-area\"\n\t\t\tref=\"container\"\n\t\t\t:class=\"{ '--hover': isHovering }\"\n\t\t\t@mouseenter=\"isHovering = true\"\n\t\t\t@mouseleave=\"isHovering = false\"\n\t\t\t@dragleave=\"isHovering = false\"\n\t\t>\n\t\t\t<div class=\"ui-uploader-stack-drop-area-content\">\n\t\t\t\t<div class=\"ui-uploader-stack-drop-area-icon\"></div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"[StackWidgetSize.LARGE, StackWidgetSize.MEDIUM].includes(widgetOptions.size)\"\n\t\t\t\t\tclass=\"ui-uploader-stack-drop-area-title\"\n\t\t\t\t>{{ uploadFileTitle }}</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"widgetOptions.size === StackWidgetSize.LARGE\"\n\t\t\t\t\tclass=\"ui-uploader-stack-drop-area-hint\"\n\t\t\t\t>{{ dragFileHint }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Text, Loc } from 'main.core';\nimport { Popup, PopupOptions } from 'main.popup';\nimport { CloseButton } from 'ui.buttons';\n\nimport { FileStatus, FileOrigin, UploaderStatus } from 'ui.uploader.core';\nimport { VueUploaderComponent } from 'ui.uploader.vue';\nimport { TileList, ErrorPopup, DragOverMixin } from 'ui.uploader.tile-widget';\n\nimport { StackUpload } from './stack-upload';\nimport { StackLoad } from './stack-load';\nimport { StackPreview } from './stack-preview';\nimport { StackDropArea } from './stack-drop-area';\n\nimport type { BaseEvent } from 'main.core.events';\n\nconst isItemLoading = item => item.status === FileStatus.LOADING;\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport const StackWidgetComponent = {\n\tname: 'StackWidget',\n\textends: VueUploaderComponent,\n\tcomponents: {\n\t\tTileList,\n\t\tErrorPopup,\n\t\tStackUpload,\n\t\tStackLoad,\n\t\tStackPreview,\n\t\tStackDropArea,\n\t},\n\tmixins: [\n\t\tDragOverMixin,\n\t],\n\tdata: () => ({\n\t\tpopupContentId: null,\n\t\tqueueItems: [],\n\t\tenableAnimation: true,\n\t\tdragMode: false,\n\t\tisMounted: false,\n\t}),\n\tcomputed: {\n\t\tcontainerClasses(): Array\n\t\t{\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\t'--multiple': this.uploader.isMultiple(),\n\t\t\t\t\t'--only-images': this.uploader.shouldAcceptOnlyImages(),\n\t\t\t\t\t'--many-items': this.items.length > 1,\n\t\t\t\t},\n\t\t\t\t`--${this.widgetOptions.size}`\n\t\t\t];\n\t\t},\n\t\tcurrentComponent()\n\t\t{\n\t\t\tif (this.items.length === 0 || this.dragOver)\n\t\t\t{\n\t\t\t\tif (this.dragOver)\n\t\t\t\t{\n\t\t\t\t\tthis.dragMode = true;\n\t\t\t\t}\n\n\t\t\t\treturn StackDropArea;\n\t\t\t}\n\n\t\t\tif (this.queueItems.length > 0)\n\t\t\t{\n\t\t\t\treturn StackUpload;\n\t\t\t}\n\n\t\t\tif (this.items.some(isItemLoading))\n\t\t\t{\n\t\t\t\treturn StackLoad;\n\t\t\t}\n\n\t\t\treturn StackPreview;\n\t\t},\n\t\tcurrentComponentProps()\n\t\t{\n\t\t\tif (this.currentComponent === StackDropArea || this.currentComponent === StackLoad)\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\telse if (this.currentComponent === StackUpload)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\titems: this.items,\n\t\t\t\t\tqueueItems: this.queueItems,\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (this.currentComponent === StackPreview)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\titems: this.items,\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\terror()\n\t\t{\n\t\t\tif (this.uploaderError)\n\t\t\t{\n\t\t\t\treturn this.uploaderError;\n\t\t\t}\n\t\t\telse if (this.errorsCount > 0)\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('STACK_WIDGET_FILE_UPLOAD_ERROR');\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\terrorsCount(): number\n\t\t{\n\t\t\treturn this.items.reduce((errors, item) => {\n\t\t\t\tif (item.status === FileStatus.LOAD_FAILED || item.status === FileStatus.UPLOAD_FAILED)\n\t\t\t\t{\n\t\t\t\t\treturn errors + 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn errors;\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t},\n\t\terrorPopupOptions(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tbindElement: this.$refs.item,\n\t\t\t\tbindOptions: {\n\t\t\t\t\tposition: 'top',\n\t\t\t\t},\n\t\t\t\tdarkMode: true,\n\t\t\t\toffsetTop: 3,\n\t\t\t\tbackground: '#d2000d',\n\t\t\t\tcontentBackground: 'transparent',\n\t\t\t\tcontentColor: 'white',\n\t\t\t\tpadding: this.uploaderError === null ? 10 : 20,\n\t\t\t\tcloseIcon: this.uploaderError !== null,\n\t\t\t};\n\t\t},\n\t},\n\twatch: {\n\t\tcurrentComponent(newValue, oldValue): void\n\t\t{\n\t\t\tif (this.dragOver)\n\t\t\t{\n\t\t\t\tthis.enableAnimation = false;\n\t\t\t}\n\t\t\telse if (oldValue === StackDropArea && this.dragMode)\n\t\t\t{\n\t\t\t\tthis.enableAnimation = false;\n\t\t\t}\n\t\t\telse if (oldValue === StackPreview)\n\t\t\t{\n\t\t\t\tthis.enableAnimation = false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.dragMode = false;\n\t\t\t\tthis.enableAnimation = true;\n\t\t\t}\n\t\t},\n\t\titems: {\n\t\t\thandler() {\n\t\t\t\tif (this.items.length === 0 && this.popup)\n\t\t\t\t{\n\t\t\t\t\tthis.popup.close();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true,\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tthis.popup = null;\n\n\t\tthis.adapter.subscribe('Uploader:onUploadStart', () => {\n\t\t\tthis.items.forEach(item => {\n\t\t\t\tif (item.origin === FileOrigin.CLIENT && item.queued !== true)\n\t\t\t\t{\n\t\t\t\t\titem.queued = true;\n\t\t\t\t\tthis.queueItems.push(item);\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\n\t\tthis.adapter.subscribe('Uploader:onUploadComplete', () => {\n\t\t\tthis.queueItems = [];\n\t\t});\n\n\t\tthis.adapter.subscribe('Item:onAdd', (event: BaseEvent) => {\n\t\t\tthis.uploaderError = null;\n\t\t\tif (this.uploader.getStatus() === UploaderStatus.STARTED)\n\t\t\t{\n\t\t\t\tconst item = event.getData().item;\n\t\t\t\titem.queued = true;\n\t\t\t\tthis.queueItems.push(event.getData().item);\n\t\t\t}\n\t\t});\n\n\t\tthis.adapter.subscribe('Item:onRemove', (event: BaseEvent) => {\n\t\t\tthis.uploaderError = null;\n\t\t\tconst item = event.getData().item;\n\t\t\tconst position = this.queueItems.indexOf(item);\n\t\t\tif (position >= 0)\n\t\t\t{\n\t\t\t\tthis.queueItems.splice(position, 1);\n\t\t\t}\n\t\t});\n\t},\n\tmounted()\n\t{\n\t\tthis.uploader.assignBrowse(this.$refs['add-button']);\n\t\tthis.isMounted = true;\n\t},\n\tmethods: {\n\t\tshowPopup()\n\t\t{\n\t\t\tif (!this.popup)\n\t\t\t{\n\t\t\t\tconst id = 'stack-uploader-' + Text.getRandom().toLowerCase();\n\t\t\t\tthis.popup = new Popup({\n\t\t\t\t\twidth: 750,\n\t\t\t\t\theight: 400,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\ttitleBar: Loc.getMessage('STACK_WIDGET_POPUP_TITLE'),\n\t\t\t\t\tcontent: `<div id=\"${id}\"></div>`,\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\tcloseIcon: true,\n\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\tresizable: true,\n\t\t\t\t\tminWidth: 450,\n\t\t\t\t\tminHeight: 300,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonDestroy: () => {\n\t\t\t\t\t\t\tthis.popup = null;\n\t\t\t\t\t\t\tthis.popupContentId = null;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tnew CloseButton({ onclick: () => this.popup.close() }),\n\t\t\t\t\t]\n\t\t\t\t});\n\n\t\t\t\tthis.popupContentId = `#${id}`;\n\t\t\t}\n\n\t\t\tthis.popup.show();\n\t\t},\n\t\tabortUpload()\n\t\t{\n\t\t\tconst items = Array.from(this.queueItems);\n\t\t\tthis.queueItems = [];\n\n\t\t\titems.forEach(item => {\n\t\t\t\tthis.uploader.removeFile(item.id);\n\t\t\t});\n\t\t},\n\t\thandlePopupDestroy(error)\n\t\t{\n\t\t\tif (this.uploaderError === error)\n\t\t\t{\n\t\t\t\tthis.uploaderError = null;\n\t\t\t}\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"ui-uploader-stack-widget\" :class=\"containerClasses\" v-drop>\n\t\t\t<Teleport v-if=\"popupContentId !== null\" :to=\"popupContentId\">\n\t\t\t\t<TileList :items=\"items\" />\n\t\t\t</Teleport>\n\t\t\t<div class=\"ui-uploader-stack-item\" ref=\"item\">\n\t\t\t\t<transition\n\t\t\t\t\t:leave-active-class=\"enableAnimation ? 'ui-uploader-stack-item-leave-active' : ''\" \n\t\t\t\t\t:leave-to-class=\"enableAnimation ? 'ui-uploader-stack-item-leave-to' : ''\" \n\t\t\t\t\tmode=\"out-in\"\n\t\t\t\t>\n\t\t\t\t\t<keep-alive>\n\t\t\t\t\t\t<component\n\t\t\t\t\t\t\t:is=\"currentComponent\"\n\t\t\t\t\t\t\tv-bind=\"currentComponentProps\"\n\t\t\t\t\t\t\t@showPopup=\"showPopup\"\n\t\t\t\t\t\t\t@abortUpload=\"abortUpload\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</keep-alive>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t\t<div v-if=\"uploader.isMultiple()\" ref=\"add-button\" class=\"ui-uploader-stack-add-btn\"></div>\n\t\t</div>\n\t\t<ErrorPopup\n\t\t\tv-if=\"error !== null && isMounted\"\n\t\t\t:error=\"error\"\n\t\t\t:popup-options=\"errorPopupOptions\"\n\t\t\t@onDestroy=\"handlePopupDestroy\"\n\t\t/>\n\t`\n};","import { Type } from 'main.core';\nimport { VueUploaderWidget } from 'ui.uploader.vue';\n\nimport { StackWidgetComponent } from './components/stack-widget-component';\n\nimport type { UploaderOptions } from 'ui.uploader.core';\nimport type { StackWidgetOptions } from './stack-widget-options';\n\n/**\n * @memberof BX.UI.Uploader\n */\nexport default class StackWidget extends VueUploaderWidget\n{\n\tconstructor(uploaderOptions: UploaderOptions, stackWidgetOptions: StackWidgetOptions)\n\t{\n\t\tconst widgetOptions = Type.isPlainObject(stackWidgetOptions) ? Object.assign({}, stackWidgetOptions) : {};\n\t\tsuper(uploaderOptions, widgetOptions);\n\t}\n\n\tdefineComponent(): Function\n\t{\n\t\treturn StackWidgetComponent;\n\t}\n}\n"],"names":["StackWidgetSize","LARGE","MEDIUM","SMALL","TINY","progressSizes","width","lineSize","StackUpload","name","inject","components","UploadLoader","props","items","type","Array","required","queueItems","emits","computed","uploadFileTitle","length","Loc","getMessage","progress","reduce","total","item","Math","floor","progressOptions","widgetOptions","size","max","template","StackLoad","fileIconSizes","StackPreview","FileIcon","FileStatus","Sizes","find","status","LOAD_FAILED","UPLOAD_FAILED","fileIconSize","errorsCount","errors","StackDropArea","data","isHovering","uploader","shouldAcceptOnlyImages","isMultiple","dragFileHint","mounted","assignDropzone","$refs","container","assignBrowse","isItemLoading","LOADING","StackWidgetComponent","extends","VueUploaderComponent","TileList","ErrorPopup","mixins","DragOverMixin","popupContentId","enableAnimation","dragMode","isMounted","containerClasses","currentComponent","dragOver","some","currentComponentProps","error","uploaderError","errorPopupOptions","bindElement","bindOptions","position","darkMode","offsetTop","background","contentBackground","contentColor","padding","closeIcon","watch","newValue","oldValue","handler","popup","close","deep","created","adapter","subscribe","forEach","origin","FileOrigin","CLIENT","queued","push","event","getStatus","UploaderStatus","STARTED","getData","indexOf","splice","methods","showPopup","id","Text","getRandom","toLowerCase","Popup","height","draggable","titleBar","content","cacheable","closeByEsc","resizable","minWidth","minHeight","events","onDestroy","buttons","CloseButton","onclick","show","abortUpload","from","removeFile","handlePopupDestroy","StackWidget","VueUploaderWidget","constructor","uploaderOptions","stackWidgetOptions","Type","isPlainObject","Object","assign","defineComponent"],"mappings":"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"}