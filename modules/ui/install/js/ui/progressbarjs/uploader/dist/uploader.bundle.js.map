{"version":3,"file":"uploader.bundle.js","sources":["../src/uploader.js"],"sourcesContent":["import \"./uploader.css\";\nimport \"ui.progressbarjs\";\n\nexport class Uploader\n{\n\tconstructor(params = {})\n\t{\n\t\tthis.container = params.container;\n\n\t\tif (this.container && typeof params.blurElement === 'undefined')\n\t\t{\n\t\t\tparams.blurElement = this.container.firstElementChild;\n\t\t}\n\t\tthis.blurElement = params.blurElement;\n\n\t\tthis.direction = Uploader.direction[params.direction]? params.direction: Uploader.direction.vertical;\n\n\t\tparams.sizes = params.sizes && typeof params.sizes === 'object'? params.sizes: {};\n\n\t\tthis.sizes = {\n\t\t\tcircle: params.sizes.circle? params.sizes.circle: 54,\n\t\t\tprogress: params.sizes.progress? params.sizes.progress: 4,\n\t\t\tmargin: params.sizes.margin? params.sizes.margin: 0,\n\t\t};\n\n\t\tparams.labels = params.labels && typeof params.labels === 'object'? params.labels: {};\n\n\t\tthis.labels = {\n\t\t\tloading: params.labels.loading? params.labels.loading: '',\n\t\t\tcompleted: params.labels.completed? params.labels.completed: '',\n\t\t\tcanceled: params.labels.canceled? params.labels.canceled: '',\n\t\t\tcancelTitle: params.labels.cancelTitle? params.labels.cancelTitle: '',\n\t\t\tmegabyte: params.labels.megabyte? params.labels.megabyte: 'MB',\n\t\t};\n\n\t\tthis.cancelCallback = typeof params.cancelCallback === 'function'? params.cancelCallback: null;\n\t\tthis.destroyCallback = typeof params.destroyCallback === 'function'? params.destroyCallback: null;\n\n\t\tthis.icon = Uploader.icon[params.icon]? params.icon: (!this.cancelCallback? Uploader.icon.cloud: Uploader.icon.cancel);\n\n\t\tthis.inited = !!this.container;\n\t\tthis.destroing = false;\n\t}\n\n\tstart(params = {})\n\t{\n\t\tif (!this.inited)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tclearTimeout(this.timeoutSetIcon);\n\t\tclearTimeout(this.timeout);\n\n\t\tthis.active = true;\n\t\tthis.canceled = false;\n\t\tthis.cancelCallbackDisabled = false;\n\n\t\tthis.wrapper = document.createElement('div');\n\t\tthis.wrapper.classList.add('ui-file-progressbar-loader-wrapper');\n\t\tthis.wrapper.innerHTML = `\n\t\t\t<div class=\"ui-file-progressbar-loader\">\n\t\t\t\t<div class=\"ui-file-progressbar-icon\"></div>\n\t\t\t\t<div class=\"ui-file-progressbar-progress ui-file-progressbar-rotating\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"ui-file-progressbar-label\">${this.labels.loading}</div>\n\t\t`;\n\t\tthis.processLoader = this.wrapper.getElementsByClassName('ui-file-progressbar-loader')[0];\n\t\tthis.processLoaderIcon = this.wrapper.getElementsByClassName('ui-file-progressbar-icon')[0];\n\t\tthis.processStatus = this.wrapper.getElementsByClassName('ui-file-progressbar-progress')[0];\n\t\tthis.proccesLabel = this.wrapper.getElementsByClassName('ui-file-progressbar-label')[0];\n\n\t\tif (this.direction === Uploader.direction.horizontal)\n\t\t{\n\t\t\tthis.wrapper.classList.add('ui-file-progressbar-loader-horizontal');\n\t\t}\n\n\t\tthis.container.classList.add('ui-file-progressbar-container-relative');\n\n\t\tthis.container.insertBefore(this.wrapper, this.container.firstChild);\n\t\tif (this.blurElement)\n\t\t{\n\t\t\tthis.blurElement.classList.add(\"ui-file-progressbar-item-blurred\");\n\t\t}\n\n\t\tlet processLoaderStyle = `width: ${this.sizes.circle}px; height: ${this.sizes.circle}px;`;\n\n\t\tif (this.sizes.margin)\n\t\t{\n\t\t\tprocessLoaderStyle = processLoaderStyle+`margin: ${this.sizes.margin}px;`;\n\t\t\tthis.proccesLabel.style = `margin: ${this.sizes.margin}px;`;\n\t\t}\n\n\t\tthis.processLoader.style = processLoaderStyle;\n\n\t\tif (this.cancelCallback)\n\t\t{\n\t\t\tthis.processLoader.addEventListener('click', (event) =>\n\t\t\t{\n\t\t\t\tif (this.cancelCallbackDisabled)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.setProgress(0);\n\n\t\t\t\tif (this.labels.canceled)\n\t\t\t\t{\n\t\t\t\t\tthis.setProgressTitle(this.labels.canceled);\n\t\t\t\t}\n\n\t\t\t\tthis.canceled = event;\n\t\t\t\tthis.active = false;\n\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\tthis.timeout = setTimeout(() => this.destroy(), 1000);\n\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tif (this.labels.cancelTitle)\n\t\t\t{\n\t\t\t\tthis.processLoader.title = this.labels.cancelTitle;\n\t\t\t}\n\t\t}\n\n\t\tif (!this.labels.loading)\n\t\t{\n\t\t\tthis.setProgressTitleVisibility(false);\n\t\t}\n\n\t\tthis.setIcon(this.icon, true);\n\n\t\tthis.bar = new BX.ProgressBarJs.Circle(this.processStatus, {\n\t\t\teasing: \"linear\",\n\t\t\tstrokeWidth: this.sizes.progress,\n\t\t\tcolor: '#ffffff',\n\t\t\tfrom: {color: '#ffffff'},\n\t\t\tto: {color: '#ffffff'},\n\t\t\tstep: (state, bar) =>\n\t\t\t{\n\t\t\t\tif (bar.value() == 1)\n\t\t\t\t{\n\t\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\t\tthis.timeout = setTimeout(() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (this.labels.completed)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.setProgressTitle(this.labels.completed);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.setIcon(Uploader.icon.done);\n\n\t\t\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\t\t\tthis.timeout = setTimeout(() => this.destroy(), 1000);\n\n\t\t\t\t\t}, 200);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tsetCancelDisable(value = true)\n\t{\n\t\tthis.cancelCallbackDisabled = !!value;\n\n\t\tif (this.labels.cancelTitle)\n\t\t{\n\t\t\tthis.processLoader.title = this.cancelCallbackDisabled? '': this.labels.cancelTitle;\n\t\t}\n\t}\n\n\tsetIcon(icon, force = false)\n\t{\n\t\tthis.processLoaderIcon.style.transform = \"scale(0)\";\n\n\t\tclearTimeout(this.timeoutSetIcon);\n\t\tthis.timeoutSetIcon = setTimeout(() => {\n\t\t\tthis.processLoaderIcon.classList.remove(\n\t\t\t\t\"ui-file-progressbar-cancel\",\n\t\t\t\t\"ui-file-progressbar-done\",\n\t\t\t\t\"ui-file-progressbar-cloud\",\n\t\t\t\t\"ui-file-progressbar-error\"\n\t\t\t);\n\n\t\t\tif (icon === Uploader.icon.done)\n\t\t\t{\n\t\t\t\tthis.processLoaderIcon.classList.add(\"ui-file-progressbar-done\");\n\t\t\t\tthis.processLoaderIcon.style.transform = \"scale(1)\";\n\t\t\t}\n\t\t\telse if (icon === Uploader.icon.cancel)\n\t\t\t{\n\t\t\t\tthis.processLoaderIcon.classList.add(\"ui-file-progressbar-cancel\");\n\t\t\t\tthis.processLoaderIcon.style.transform = \"scale(1)\";\n\t\t\t}\n\t\t\telse if (icon === Uploader.icon.error)\n\t\t\t{\n\t\t\t\tthis.processLoaderIcon.classList.add(\"ui-file-progressbar-error\");\n\t\t\t\tthis.processLoaderIcon.style.transform = \"scale(1)\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.processLoaderIcon.classList.add(\"ui-file-progressbar-cloud\");\n\t\t\t\tthis.processLoaderIcon.style.transform = \"scale(1)\";\n\t\t\t}\n\t\t}, force? 0: 200);\n\n\t\treturn true;\n\t}\n\n\tsetProgress(percent)\n\t{\n\t\tif (!this.active || this.canceled)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.bar.animate(percent / 100, {duration: 500});\n\t}\n\n\tsetProgressTitle(text)\n\t{\n\t\tif (!this.proccesLabel)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.proccesLabel.innerHTML = text;\n\t}\n\n\tsetProgressTitleVisibility(visible)\n\t{\n\t\tif(!this.proccesLabel)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (visible)\n\t\t{\n\t\t\tif (this.direction === Uploader.direction.horizontal)\n\t\t\t{\n\t\t\t\tthis.wrapper.classList.add('ui-file-progressbar-loader-horizontal');\n\t\t\t}\n\t\t\tthis.proccesLabel.style.display = 'block';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.direction === Uploader.direction.horizontal)\n\t\t\t{\n\t\t\t\tthis.wrapper.classList.remove('ui-file-progressbar-loader-horizontal');\n\t\t\t}\n\t\t\tthis.proccesLabel.style.display = 'none';\n\t\t}\n\t};\n\n\tsetByteSent(sent, total)\n\t{\n\t\tif (this.canceled)\n\t\t{\n\t\t\treturn false\n\t\t}\n\n\t\tthis.setProgressTitle((sent/1024/1024).toFixed(2)+\" \"+this.labels.megabyte+\" \"+\" / \"+(total/1024/1024).toFixed(2) + \" \"+this.labels.megabyte);\n\t}\n\n\tdestroy(animated = true)\n\t{\n\t\tclearTimeout(this.timeoutSetIcon);\n\t\tclearTimeout(this.timeout);\n\n\t\tif (this.destroing)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.active = false;\n\t\tthis.destroing = true;\n\n\t\tthis.processLoader.style.transform = \"scale(0)\";\n\n\t\tif (this.proccesLabel)\n\t\t{\n\t\t\tthis.proccesLabel.style.transform = \"scale(0)\";\n\t\t}\n\n\t\tif (this.bar)\n\t\t{\n\t\t\tthis.bar.destroy();\n\t\t}\n\n\t\tif (this.blurElement)\n\t\t{\n\t\t\tthis.blurElement.classList.remove(\"ui-file-progressbar-item-blurred\");\n\t\t}\n\n\t\tif (this.canceled && !this.cancelCallbackDisabled)\n\t\t{\n\t\t\tif (this.cancelCallback)\n\t\t\t{\n\t\t\t\tthis.cancelCallback(this.canceled);\n\t\t\t}\n\n\t\t\tthis.canceled = false;\n\t\t}\n\n\t\tif (animated)\n\t\t{\n\t\t\tthis.timeout = setTimeout(() => this.destroyFinally(), 400);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.destroyFinally();\n\t\t}\n\t}\n\n\tdestroyFinally()\n\t{\n\t\tif (this.container)\n\t\t{\n\t\t\tthis.container.classList.remove('ui-file-progressbar-container-relative');\n\t\t\tthis.container.removeChild(this.wrapper);\n\t\t}\n\n\t\tif (this.destroyCallback)\n\t\t{\n\t\t\tthis.destroyCallback();\n\t\t}\n\t}\n}\n\nUploader.direction = {\n\thorizontal: 'horizontal',\n\tvertical: 'vertical',\n};\n\nUploader.icon = {\n\tcloud: 'cloud',\n\tcancel: 'cancel',\n\terror: 'error',\n\tdone: 'done',\n};"],"names":["Uploader","params","container","blurElement","firstElementChild","direction","vertical","sizes","circle","progress","margin","labels","loading","completed","canceled","cancelTitle","megabyte","cancelCallback","destroyCallback","icon","cloud","cancel","inited","destroing","clearTimeout","timeoutSetIcon","timeout","active","cancelCallbackDisabled","wrapper","document","createElement","classList","add","innerHTML","processLoader","getElementsByClassName","processLoaderIcon","processStatus","proccesLabel","horizontal","insertBefore","firstChild","processLoaderStyle","style","addEventListener","event","setProgress","setProgressTitle","setTimeout","destroy","title","setProgressTitleVisibility","setIcon","bar","BX","ProgressBarJs","Circle","easing","strokeWidth","color","from","to","step","state","value","done","force","transform","remove","error","percent","animate","duration","text","visible","display","sent","total","toFixed","animated","destroyFinally","removeChild"],"mappings":"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"}