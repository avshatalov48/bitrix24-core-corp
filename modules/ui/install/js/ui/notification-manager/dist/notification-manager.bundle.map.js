{"version":3,"file":"notification-manager.bundle.map.js","names":["this","BX","UI","exports","pull_client","main_core_events","main_core","ui_notification","ui_buttons","Uuid","static","replace","c","r","Math","random","v","toString","Notification","constructor","options","setUid","id","setCategory","category","setTitle","title","setText","text","setIcon","icon","setInputPlaceholderText","inputPlaceholderText","createButtons","button1Text","button2Text","SEPARATOR","getV4","uid","split","pop","join","Type","isStringFilled","Error","encodeIdToUid","getUid","getId","decodeUidToId","getCategory","getTitle","getText","getIcon","isString","getInputPlaceholderText","setButton1Text","Loc","getMessage","setButton2Text","getButton1Text","getButton2Text","PushNotification","PullHandler","getModuleId","handleNotify","params","extra","command","notification","notificationOptions","pushNotification","notifier","sendNotification","DesktopHelper","isBitrixDesktop","geApiVersion","navigator","userAgent","toLowerCase","includes","BXDesktopSystem","Number","GetProperty","desktop","apiReady","isMac","isLinux","BXIM","desktopStatus","Promise","resolve","turnedOnCallback","turnedOffCallback","desktopUtils","runningCheck","BrowserHelper","isChrome","isFirefox","isSafari","window","permission","isSafariBased","NotificationEvent","BaseEvent","CLICK","ACTION","CLOSE","eventType","getTypes","NotificationAction","BUTTON_1","BUTTON_2","USER_INPUT","action","NotificationCloseReason","CLOSED_BY_USER","EXPIRED","closeReason","BaseProvider","EventEmitter","super","eventNamespace","setEventNamespace","convertNotificationToNative","nativeNotification","canSendNotification","notify","notificationClick","eventOptions","data","emit","notificationAction","userInput","isSupported","console","warn","notificationClose","reason","NOTIFICATION_LIFETIME","DesktopProvider","getEventNamespace","registerEvents","isMainTab","notificationUid","NotificationShow","addEventListener","event","onNotificationClick","onNotificationAction","onNotificationClose","detail","SetActiveTab","MacProvider","NotificationCreate","NotificationAddText","NotificationAddImage","NotificationAddInput","NotificationAddAction","NotificationSetExpiration","addTextToNotification","trim","languageSafeRowLength","length","space","firstRow","words","shift","secondRow","WindowsProvider","BrowserProvider","body","tag","renotify","onclick","preventDefault","focus","isRunningOnAnyDevice","checkRunningOnThisDevice","then","isRunningOnThisDevice","BrowserNotificationAction","Action","balloon","setButtonClass","buttonType","getContainer","container","buttonOptions","isFunction","events","click","button","stopPropagation","Button","removeClass","addClass","BASE_BUTTON_CLASS","getButtonClass","TYPE_ACCEPT","getButtonTypes","buttonClass","isSupportedButtonType","_","t","_t","_t2","_t3","_t4","_t5","_t6","BrowserNotification","Balloon","userInputContainerNode","userInputNode","setActions","actions","isArray","forEach","push","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","Tag","render","animationClassName","contentWidth","isNumber","getWidth","handleContentClick","bind","getIconNode","getTitleNode","getTextNode","getUserInputContainerNode","getActionsNode","getCloseButtonNode","getData","Dom","create","attrs","className","outerHTML","children","style","height","width","src","getActions","map","isArrayFilled","onInputReplyClick","Text","encode","placeholderText","toggleUserInputContainerNode","handleUserInputEnter","handleUserInputClick","document","getElementById","replyToggleButton","showUserInput","setAutoHide","deactivateAutoHide","display","classList","add","disabled","activateAutoHide","remove","isCloseButtonVisible","handleCloseBtnClick","closedByUserHandler","clickHandler","close","userInputHandler","target","value","keyCode","KEY_CODE","ENTER","ESC","BrowserPageProvider","balloonOptions","type","position","autoHideDelay","showButton1","showButton2","action1Options","action2Options","Center","Notifier","provider","createProvider","PULL","subscribe","providerOptions","EVENT_NAMESPACE","isSupportedDesktopApp","isWindows","isSupportedBrowser","isNativeNotificationAllowed","eventName","handler","notifyViaDesktopProvider","NotificationManager","Event"],"sources":["notification-manager.bundle.js"],"mappings":"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"}