this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t,i,a,n,l){"use strict";var r,s,o,d,c,u,p,b,v,f;function h(e,t){y(e,t);t.add(e)}function g(e,t,i){y(e,t);t.set(e,i)}function y(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function H(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}function P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach((function(t){babelHelpers.defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var T=BX.UI;var B=BX.SidePanel;function F(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e=Object.assign({},e);e.design=Object.assign({},e.design||{});e.design=m({margin:true,section:true},e.design);e.extensions=(e.extensions||[]).concat(["ui.sidepanel.layout","ui.buttons"]);if(e.toolbar){e.extensions.push("ui.buttons.icons")}if(e.design.section){e.extensions.push("ui.sidepanel-content")}if(e.menu){e.extensions.push("ui.sidepanel.menu")}return e}var w=new WeakMap;var C=new WeakMap;var G=new WeakMap;var j=new WeakSet;var O=function(){babelHelpers.createClass(e,null,[{key:"createContent",value:function t(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i=F(i);return top.BX.Runtime.loadExtension(i.extensions).then((function(){return new e(i).render()}))}}]);function e(){var t=this;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);h(this,j);g(this,w,{writable:true,value:void 0});g(this,C,{writable:true,value:void 0});g(this,G,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,C,F(a));var l=babelHelpers.classPrivateFieldGet(this,C).menu;if(l){babelHelpers.classPrivateFieldSet(this,G,new n.Menu(Object.assign(l)));if(i.Type.isUndefined(l.contentAttribute)){l.contentAttribute="data-menu-item-id"}if(l.contentAttribute){babelHelpers.classPrivateFieldGet(this,G).subscribe("click",(function(e){H(t,j,X).call(t,(e.getData()||{}).item)}))}}}babelHelpers.createClass(e,[{key:"getContainer",value:function e(){if(!babelHelpers.classPrivateFieldGet(this,w)){babelHelpers.classPrivateFieldSet(this,w,i.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout"></div>']))))}return babelHelpers.classPrivateFieldGet(this,w)}},{key:"render",value:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var l=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(babelHelpers.classPrivateFieldGet(this,C).content&&!l){n=babelHelpers.classPrivateFieldGet(this,C).content();if(Object.prototype.toString.call(n)==="[object Promise]"||n.toString&&n.toString()==="[object BX.Promise]"){return n.then((function(e){return t.render(e,true)}))}}var r=this.getContainer();r.innerHTML="";if(babelHelpers.classPrivateFieldGet(this,C).title){var h=i.Tag.safe(s||(s=babelHelpers.taggedTemplateLiteral(["",""])),babelHelpers.classPrivateFieldGet(this,C).title);var g=i.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-sidepanel-layout-header">\n\t\t\t\t\t<div class="ui-sidepanel-layout-title">',"</div>\n\t\t\t\t</div>\n\t\t\t"])),h);if(i.Type.isFunction(babelHelpers.classPrivateFieldGet(this,C).toolbar)){var y=i.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-toolbar"></div>'])));babelHelpers.classPrivateFieldGet(this,C).toolbar(m({},T)).forEach((function(e){if(e instanceof a.BaseButton){e.renderTo(y)}else if(i.Type.isDomNode(e)){y.appendChild(e)}else{throw i.BaseError("Wrong button type "+e)}}));g.appendChild(y)}r.appendChild(g)}{var P=babelHelpers.classPrivateFieldGet(this,C).design;var F=["ui-sidepanel-layout-content"];var w=[];if(P.margin){if(P.margin===true){F.push("ui-sidepanel-layout-content-margin")}else{w.push("margin: "+P.margin)}}var O=i.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['<div class="','" style="','"></div>'])),F.join(" "),w.join("; "));r.appendChild(O);if(babelHelpers.classPrivateFieldGet(this,G)){babelHelpers.classPrivateFieldGet(this,G).renderTo(O)}O.appendChild(i.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-content-inner"></div>']))));O=O.lastElementChild;if(P.section){O.appendChild(i.Tag.render(p||(p=babelHelpers.taggedTemplateLiteral(['<div class="ui-slider-section ui-sidepanel-layout-content-fill-height"></div>']))));O=O.firstElementChild}if(typeof n==="string"){O.innerHTML=n}else if(n instanceof Element){O.appendChild(n)}if(babelHelpers.classPrivateFieldGet(this,G)){H(this,j,X).call(this,babelHelpers.classPrivateFieldGet(this,G).getActiveItem(),O)}}var E=typeof babelHelpers.classPrivateFieldGet(this,C).buttons==="undefined";if(typeof babelHelpers.classPrivateFieldGet(this,C).buttons==="function"||E){var L=new a.CancelButton({onclick:function e(){return B.Instance.close()}});var S=new a.CloseButton({onclick:function e(){return B.Instance.close()}});var k=m(m({},T),{},{cancelButton:L,closeButton:S});if(E){babelHelpers.classPrivateFieldGet(this,C).buttons=function(){return[S]}}var I=babelHelpers.classPrivateFieldGet(this,C).buttons(k);if(I&&I.length>0){r.appendChild(i.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-footer-anchor"></div>']))));var A=i.Tag.render(v||(v=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-footer"></div>'])));var U=["ui-sidepanel-layout-buttons"];if(babelHelpers.classPrivateFieldGet(this,C).design.alignButtonsLeft){U.push("ui-sidepanel-layout-buttons-align-left")}var x=i.Tag.render(f||(f=babelHelpers.taggedTemplateLiteral(['<div class="','"></div>'])),U.join(" "));A.appendChild(x);I.forEach((function(e){if(e instanceof a.BaseButton){e.renderTo(x)}else if(i.Type.isDomNode(e)){x.appendChild(e)}else{throw i.BaseError("Wrong button type "+e)}}));r.appendChild(A)}}return r}}]);return e}();function X(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!e){return}var i=e.getId();var a=babelHelpers.classPrivateFieldGet(this,C).menu.contentAttribute;if(!a){return}t=t||babelHelpers.classPrivateFieldGet(this,w);var n=t.querySelectorAll("[".concat(a,"]"));n=Array.prototype.slice.call(n);n.forEach((function(e){e.hidden=e.getAttribute(a)!==i}))}e.Layout=O})(this.BX.UI.SidePanel=this.BX.UI.SidePanel||{},BX,BX,BX.UI,BX.UI.SidePanel,BX.Event);
//# sourceMappingURL=bundle.map.js