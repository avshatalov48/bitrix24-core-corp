this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t,i,a,l,n){"use strict";var s,r,d,o,u,c,p,b,v,h;function f(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var g=BX.UI;var H=BX.SidePanel;function m(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e=Object.assign({},e);e.design=Object.assign({},e.design||{});e.design=babelHelpers.objectSpread({margin:true,section:true},e.design);e.extensions=(e.extensions||[]).concat(["ui.sidepanel.layout","ui.buttons"]);if(e.toolbar){e.extensions.push("ui.buttons.icons")}if(e.design.section){e.extensions.push("ui.sidepanel-content")}if(e.menu){e.extensions.push("ui.sidepanel.menu")}return e}var y=new WeakMap;var P=new WeakMap;var T=new WeakMap;var B=new WeakSet;var F=function(){babelHelpers.createClass(e,null,[{key:"createContent",value:function t(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i=m(i);return top.BX.Runtime.loadExtension(i.extensions).then(function(){return new e(i).render()})}}]);function e(){var t=this;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);B.add(this);y.set(this,{writable:true,value:void 0});P.set(this,{writable:true,value:void 0});T.set(this,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,P,m(a));var n=babelHelpers.classPrivateFieldGet(this,P).menu;if(n){babelHelpers.classPrivateFieldSet(this,T,new l.Menu(Object.assign(n)));if(i.Type.isUndefined(n.contentAttribute)){n.contentAttribute="data-menu-item-id"}if(n.contentAttribute){babelHelpers.classPrivateFieldGet(this,T).subscribe("click",function(e){f(t,B,C).call(t,(e.getData()||{}).item)})}}}babelHelpers.createClass(e,[{key:"getContainer",value:function e(){if(!babelHelpers.classPrivateFieldGet(this,y)){babelHelpers.classPrivateFieldSet(this,y,i.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout"></div>']))))}return babelHelpers.classPrivateFieldGet(this,y)}},{key:"render",value:function e(){var t=this;var l=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(babelHelpers.classPrivateFieldGet(this,P).content&&!n){l=babelHelpers.classPrivateFieldGet(this,P).content();if(Object.prototype.toString.call(l)==="[object Promise]"||l.toString&&l.toString()==="[object BX.Promise]"){return l.then(function(e){return t.render(e,true)})}}var s=this.getContainer();s.innerHTML="";if(babelHelpers.classPrivateFieldGet(this,P).title){var m=i.Tag.safe(r||(r=babelHelpers.taggedTemplateLiteral(["",""])),babelHelpers.classPrivateFieldGet(this,P).title);var y=i.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-sidepanel-layout-header">\n\t\t\t\t\t<div class="ui-sidepanel-layout-title">',"</div>\n\t\t\t\t</div>\n\t\t\t"])),m);if(i.Type.isFunction(babelHelpers.classPrivateFieldGet(this,P).toolbar)){var F=i.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-toolbar"></div>'])));babelHelpers.classPrivateFieldGet(this,P).toolbar(babelHelpers.objectSpread({},g)).forEach(function(e){if(e instanceof a.BaseButton){e.renderTo(F)}else if(i.Type.isDomNode(e)){F.appendChild(e)}else{throw i.BaseError("Wrong button type "+e)}});y.appendChild(F)}s.appendChild(y)}{var G=babelHelpers.classPrivateFieldGet(this,P).design;var w=["ui-sidepanel-layout-content"];var S=[];if(G.margin){if(G.margin===true){w.push("ui-sidepanel-layout-content-margin")}else{S.push("margin: "+G.margin)}}var X=i.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['<div class="','" style="','"></div>'])),w.join(" "),S.join("; "));s.appendChild(X);if(babelHelpers.classPrivateFieldGet(this,T)){babelHelpers.classPrivateFieldGet(this,T).renderTo(X)}X.appendChild(i.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-content-inner"></div>']))));X=X.lastElementChild;if(G.section){X.appendChild(i.Tag.render(p||(p=babelHelpers.taggedTemplateLiteral(['<div class="ui-slider-section ui-sidepanel-layout-content-fill-height"></div>']))));X=X.firstElementChild}if(typeof l==="string"){X.innerHTML=l}else if(l instanceof Element){X.appendChild(l)}if(babelHelpers.classPrivateFieldGet(this,T)){f(this,B,C).call(this,babelHelpers.classPrivateFieldGet(this,T).getActiveItem(),X)}}var L=typeof babelHelpers.classPrivateFieldGet(this,P).buttons==="undefined";if(typeof babelHelpers.classPrivateFieldGet(this,P).buttons==="function"||L){var j=new a.CancelButton({onclick:function e(){return H.Instance.close()}});var k=new a.CloseButton({onclick:function e(){return H.Instance.close()}});var E=babelHelpers.objectSpread({},g,{cancelButton:j,closeButton:k});if(L){babelHelpers.classPrivateFieldGet(this,P).buttons=function(){return[k]}}var I=babelHelpers.classPrivateFieldGet(this,P).buttons(E);if(I&&I.length>0){s.appendChild(i.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-footer-anchor"></div>']))));var A=i.Tag.render(v||(v=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-layout-footer"></div>'])));var U=["ui-sidepanel-layout-buttons"];if(babelHelpers.classPrivateFieldGet(this,P).design.alignButtonsLeft){U.push("ui-sidepanel-layout-buttons-align-left")}var x=i.Tag.render(h||(h=babelHelpers.taggedTemplateLiteral(['<div class="','"></div>'])),U.join(" "));A.appendChild(x);I.forEach(function(e){if(e instanceof a.BaseButton){e.renderTo(x)}else if(i.Type.isDomNode(e)){x.appendChild(e)}else{throw i.BaseError("Wrong button type "+e)}});s.appendChild(A)}}return s}}]);return e}();function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!e){return}var i=e.getId();var a=babelHelpers.classPrivateFieldGet(this,P).menu.contentAttribute;if(!a){return}t=t||babelHelpers.classPrivateFieldGet(this,y);var l=t.querySelectorAll("[".concat(a,"]"));l=Array.prototype.slice.call(l);l.forEach(function(e){e.hidden=e.getAttribute(a)!==i})}e.Layout=F})(this.BX.UI.SidePanel=this.BX.UI.SidePanel||{},BX,BX,BX.UI,BX.UI.SidePanel,BX.Event);
//# sourceMappingURL=bundle.map.js