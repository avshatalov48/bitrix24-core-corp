{"version":3,"file":"bundle.js","sources":["../src/collection.js","../src/item.js","../src/menu.js"],"sourcesContent":["import {Tag, Type} from 'main.core';\nimport {EventEmitter, BaseEvent} from 'main.core.events';\nimport {Item, type ItemOptions} from './item.js';\n\ntype CollectionOptions = {\n\titems: Array<ItemOptions>;\n};\n\nexport class Collection extends EventEmitter\n{\n\t#list: Array<Item> = [];\n\t#node: HTMLElement;\n\t#sync: boolean = false;\n\n\tconstructor(options: CollectionOptions = {})\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('ui:sidepanel:menu:collection');\n\t\tthis.setItems(options.items);\n\t}\n\n\t#addSilent(itemOptions: ItemOptions): Item\n\t{\n\t\tif (itemOptions.active)\n\t\t{\n\t\t\titemOptions.active = !this.hasActive();\n\t\t}\n\t\telse\n\t\t{\n\t\t\titemOptions.active = false;\n\t\t}\n\n\t\tconst item = new Item(itemOptions);\n\t\tthis.#list.push(item);\n\t\titem.subscribe('change:active', () => {\n\t\t\tif (item.isActive() && item.getCollection().isEmpty())\n\t\t\t{\n\t\t\t\tthis.syncActive(item);\n\t\t\t}\n\t\t});\n\t\titem.subscribe('sync:active', () => this.syncActive(item));\n\t\titem.subscribe('click', data => this.emit('click', data));\n\t\titem.subscribe('change', () => setTimeout(() => this.render(), 0));\n\n\t\treturn item;\n\t}\n\n\tsetActiveFirstItem(): void\n\t{\n\t\tconst item = this.list()[0];\n\t\tif (!item)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\titem.setActive(true);\n\t\titem.getCollection().setActiveFirstItem();\n\t}\n\n\tgetActiveItem(): Item\n\t{\n\t\treturn this.list().filter(item => item.isActive())[0];\n\t}\n\n\tsyncActive(excludeItem): Collection\n\t{\n\t\tif (this.#sync)\n\t\t{\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.#sync = true;\n\t\tthis.list()\n\t\t\t.filter(otherItem => otherItem !== excludeItem)\n\t\t\t.forEach(otherItem => {\n\t\t\t\totherItem.getCollection().isEmpty()\n\t\t\t\t\t? otherItem.setActive(false)\n\t\t\t\t\t: otherItem.getCollection().syncActive(otherItem)\n\n\t\t\t})\n\t\t;\n\n\t\tthis.emit('sync:active');\n\t\tthis.#sync = false;\n\t\treturn this;\n\t}\n\n\tadd(itemOptions: ItemOptions): Item\n\t{\n\t\tconst item = this.#addSilent(itemOptions);\n\t\tthis.emit('change');\n\n\t\tif (this.#node)\n\t\t{\n\t\t\tthis.render();\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tsetItems(items: Array<ItemOptions> = []): Collection\n\t{\n\t\tthis.#list = items.map(itemOptions => this.#addSilent(itemOptions));\n\t\tthis.emit('change');\n\n\t\tif (this.#node)\n\t\t{\n\t\t\tthis.render();\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tlist(): Array<Item>\n\t{\n\t\treturn this.#list;\n\t}\n\n\tisEmpty(): boolean\n\t{\n\t\treturn this.list().length === 0;\n\t}\n\n\thasActive(recursively: boolean = true): boolean\n\t{\n\t\tconst has = this.list().some(item => item.isActive());\n\t\tif (has)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!recursively)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.list().some(item => item.getCollection().hasActive());\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tif (!this.#node)\n\t\t{\n\t\t\tthis.#node = Tag.render`<div class=\"ui-sidepanel-menu-items\"></div>`;\n\t\t}\n\n\t\tthis.#node.innerHTML = '';\n\t\tthis.#list.forEach((item: Item) => this.#node.appendChild(item.render()));\n\n\t\treturn this.#node;\n\t}\n}\n","import {Tag, Type, Loc} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nimport {Collection} from './collection.js';\n\nexport type ItemOptions = {\n\tlabel: string;\n\tactive: ?boolean;\n\tnotice: ?boolean;\n\tonclick: ?Function;\n\tid: ?string;\n\titems: ?Array<ItemOptions>;\n};\n\nexport class Item extends EventEmitter\n{\n\t#id: ?string;\n\t#label: string;\n\t#active: ?boolean;\n\t#notice: ?boolean;\n\t#onclick: ?Function;\n\t#collection: Collection;\n\t#node: HTMLElement;\n\n\tconstructor(options: ItemOptions)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('ui:sidepanel:menu:item');\n\n\t\tthis.#collection = new Collection();\n\t\tthis.setLabel(options.label)\n\t\t\t.setActive(options.active)\n\t\t\t.setNotice(options.notice)\n\t\t\t.setId(options.id)\n\t\t\t.setItems(options.items)\n\t\t\t.setClickHandler(options.onclick)\n\t\t;\n\n\t\tthis.#collection.subscribe('sync:active', () => this.emit('sync:active'));\n\t\tthis.#collection.subscribe('click', event => this.emit('click', event));\n\t}\n\n\tsetLabel(label: string = ''): Item\n\t{\n\t\tif (this.#label === label)\n\t\t{\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.#label = label;\n\t\tthis.#emitChange();\n\t\treturn this;\n\t}\n\n\tsetId(id: string): Item\n\t{\n\t\tif (this.#id === id)\n\t\t{\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.#id = id;\n\t\tthis.#emitChange();\n\t\treturn this;\n\t}\n\n\tsetActive(mode: boolean = true): Item\n\t{\n\t\tmode = !!mode;\n\t\tif (this.#active === mode)\n\t\t{\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.#active = mode;\n\t\tthis.#emitChange({active: this.#active}, 'active');\n\n\t\treturn this;\n\t}\n\n\tsetNotice(mode: boolean = false): Item\n\t{\n\t\tthis.#notice = !!mode;\n\t\tthis.#emitChange();\n\t\treturn this;\n\t}\n\n\tsetClickHandler(handler: Function): Item\n\t{\n\t\tthis.#onclick = handler;\n\t\treturn this;\n\t}\n\n\tsetItems(items: Array<ItemOptions> = []): Item\n\t{\n\t\tthis.#collection.setItems(items || []);\n\t\tthis.#emitChange();\n\t\treturn this;\n\t}\n\n\tgetCollection(): Collection\n\t{\n\t\treturn this.#collection;\n\t}\n\n\tgetLabel(): string\n\t{\n\t\treturn this.#label;\n\t}\n\n\tgetId(): ?string\n\t{\n\t\treturn this.#id;\n\t}\n\n\tgetClickHandler(): ?Function\n\t{\n\t\treturn this.#onclick;\n\t}\n\n\tisActive(): boolean\n\t{\n\t\treturn this.#active;\n\t}\n\n\thasNotice(): boolean\n\t{\n\t\treturn this.#notice;\n\t}\n\n\t#emitChange(data = {}, type: string = null): void\n\t{\n\t\tthis.emit('change', data);\n\t\tif (type)\n\t\t{\n\t\t\tthis.emit('change:' + type, data);\n\t\t}\n\t}\n\n\t#handleClick(event: Event)\n\t{\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tthis.setActive(this.#collection.isEmpty() || !this.isActive());\n\t\tthis.emit('click', {item: this});\n\t\tif (Type.isFunction(this.#onclick))\n\t\t{\n\t\t\tthis.#onclick.apply(this);\n\t\t}\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tconst isEmpty = this.#collection.isEmpty();\n\n\t\tconst classes = [];\n\t\tif (this.#active)\n\t\t{\n\t\t\tif (isEmpty)\n\t\t\t{\n\t\t\t\tclasses.push('ui-sidepanel-menu-active');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tclasses.push('ui-sidepanel-menu-expand');\n\t\t\t}\n\t\t}\n\n\t\tconst actionText = Loc.getMessage('UI_SIDEPANEL_MENU_JS_' + (this.isActive() ? 'COLLAPSE' : 'EXPAND'));\n\t\tthis.#node = Tag.render`\n\t\t\t<li class=\"ui-sidepanel-menu-item ${classes.join(' ')}\">\n\t\t\t\t<a\n\t\t\t\t\tclass=\"ui-sidepanel-menu-link\"\n\t\t\t\t\tonclick=\"${this.#handleClick.bind(this)}\"\n\t\t\t\t\ttitle=\"${Tag.safe`${this.#label}`}\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"ui-sidepanel-menu-link-text\">${Tag.safe`${this.#label}`}</div>\n\t\t\t\t\t${!isEmpty ? `<div class=\"ui-sidepanel-toggle-btn\">${actionText}</div>` : ''}\n\t\t\t\t\t${this.#notice ? '<span class=\"ui-sidepanel-menu-notice-icon\"></span>' : ''}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t`;\n\n\n\t\tif (!this.#collection.isEmpty())\n\t\t{\n\t\t\tthis.#node.appendChild(this.#collection.render());\n\t\t}\n\n\t\treturn this.#node;\n\t}\n}\n","import './style.css';\nimport {Item, ItemOptions} from './item.js';\nimport {Collection} from './collection.js';\nimport {Tag} from 'main.core';\n\nexport {Item};\n\nexport type MenuOptions = {\n\titems: Array<ItemOptions>;\n};\n\nexport class Menu extends Collection\n{\n\t#node: HTMLElement;\n\n\tconstructor(options: MenuOptions = {})\n\t{\n\t\tsuper({items: options.items});\n\n\t\tif (!this.hasActive())\n\t\t{\n\t\t\tthis.setActiveFirstItem();\n\t\t}\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tconst itemsNode = super.render();\n\t\tif (!this.#node)\n\t\t{\n\t\t\tthis.#node = Tag.render`<ul class=\"ui-sidepanel-menu\"></ul>`;\n\t\t\tthis.#node.appendChild(itemsNode);\n\t\t}\n\n\t\treturn this.#node;\n\t}\n\n\trenderTo(target: HTMLElement): HTMLElement\n\t{\n\t\tconst node = this.render();\n\t\ttarget.appendChild(node);\n\t\treturn node;\n\t}\n}"],"names":["Collection","options","setEventNamespace","setItems","items","item","list","setActive","getCollection","setActiveFirstItem","filter","isActive","excludeItem","otherItem","forEach","isEmpty","syncActive","emit","itemOptions","render","map","length","recursively","has","some","hasActive","Tag","innerHTML","appendChild","EventEmitter","active","Item","push","subscribe","data","setTimeout","setLabel","label","setNotice","notice","setId","id","setClickHandler","onclick","event","mode","handler","classes","actionText","Loc","getMessage","join","_classPrivateMethodGet","bind","safe","type","preventDefault","stopPropagation","Type","isFunction","apply","Menu","itemsNode","target","node"],"mappings":"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"}