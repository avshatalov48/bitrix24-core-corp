this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t,i){"use strict";var s;function l(e,t){r(e,t);t.add(e)}function a(e,t,i){r(e,t);t.set(e,i)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function n(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var c=new WeakMap;var u=new WeakMap;var b=new WeakMap;var v=new WeakSet;var h=function(e){babelHelpers.inherits(t,e);function t(){var e;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,t);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));l(babelHelpers.assertThisInitialized(e),v);a(babelHelpers.assertThisInitialized(e),c,{writable:true,value:[]});a(babelHelpers.assertThisInitialized(e),u,{writable:true,value:void 0});a(babelHelpers.assertThisInitialized(e),b,{writable:true,value:false});e.setEventNamespace("ui:sidepanel:menu:collection");e.setItems(i.items);return e}babelHelpers.createClass(t,[{key:"setActiveFirstItem",value:function e(){var t=this.list()[0];if(!t){return}t.setActive(true);t.getCollection().setActiveFirstItem()}},{key:"getActiveItem",value:function e(){return this.list().filter((function(e){return e.isActive()}))[0]}},{key:"syncActive",value:function e(t){if(babelHelpers.classPrivateFieldGet(this,b)){return this}babelHelpers.classPrivateFieldSet(this,b,true);this.list().filter((function(e){return e!==t})).forEach((function(e){e.getCollection().isEmpty()?e.setActive(false):e.getCollection().syncActive(e)}));this.emit("sync:active");babelHelpers.classPrivateFieldSet(this,b,false);return this}},{key:"add",value:function e(t){var i=n(this,v,p).call(this,t);this.emit("change");if(babelHelpers.classPrivateFieldGet(this,u)){this.render()}return i}},{key:"setItems",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];babelHelpers.classPrivateFieldSet(this,c,i.map((function(e){return n(t,v,p).call(t,e)})));this.emit("change");if(babelHelpers.classPrivateFieldGet(this,u)){this.render()}return this}},{key:"list",value:function e(){return babelHelpers.classPrivateFieldGet(this,c)}},{key:"isEmpty",value:function e(){return this.list().length===0}},{key:"hasActive",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var i=this.list().some((function(e){return e.isActive()}));if(i){return true}if(!t){return false}return this.list().some((function(e){return e.getCollection().hasActive()}))}},{key:"render",value:function e(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,u)){babelHelpers.classPrivateFieldSet(this,u,i.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-menu-items"></div>']))))}babelHelpers.classPrivateFieldGet(this,u).innerHTML="";babelHelpers.classPrivateFieldGet(this,c).forEach((function(e){return babelHelpers.classPrivateFieldGet(t,u).appendChild(e.render())}));return babelHelpers.classPrivateFieldGet(this,u)}}]);return t}(t.EventEmitter);function p(e){var t=this;if(e.active){e.active=!this.hasActive()}else{e.active=false}var i=new E(e);babelHelpers.classPrivateFieldGet(this,c).push(i);i.subscribe("change:active",(function(){if(i.isActive()&&i.getCollection().isEmpty()){t.syncActive(i)}}));i.subscribe("sync:active",(function(){return t.syncActive(i)}));i.subscribe("click",(function(e){return t.emit("click",e)}));i.subscribe("change",(function(){return setTimeout((function(){return t.render()}),0)}));return i}var d,o,f;function H(e,t){P(e,t);t.add(e)}function m(e,t,i){P(e,t);t.set(e,i)}function P(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function g(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var F=new WeakMap;var k=new WeakMap;var y=new WeakMap;var w=new WeakMap;var G=new WeakMap;var I=new WeakMap;var T=new WeakMap;var C=new WeakSet;var A=new WeakSet;var E=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));H(babelHelpers.assertThisInitialized(i),A);H(babelHelpers.assertThisInitialized(i),C);m(babelHelpers.assertThisInitialized(i),F,{writable:true,value:void 0});m(babelHelpers.assertThisInitialized(i),k,{writable:true,value:void 0});m(babelHelpers.assertThisInitialized(i),y,{writable:true,value:void 0});m(babelHelpers.assertThisInitialized(i),w,{writable:true,value:void 0});m(babelHelpers.assertThisInitialized(i),G,{writable:true,value:void 0});m(babelHelpers.assertThisInitialized(i),I,{writable:true,value:void 0});m(babelHelpers.assertThisInitialized(i),T,{writable:true,value:void 0});i.setEventNamespace("ui:sidepanel:menu:item");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),I,new h);i.setLabel(e.label).setActive(e.active).setNotice(e.notice).setId(e.id).setItems(e.items).setClickHandler(e.onclick);babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),I).subscribe("sync:active",(function(){return i.emit("sync:active")}));babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),I).subscribe("click",(function(e){return i.emit("click",e)}));return i}babelHelpers.createClass(t,[{key:"setLabel",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(babelHelpers.classPrivateFieldGet(this,k)===t){return this}babelHelpers.classPrivateFieldSet(this,k,t);g(this,C,z).call(this);return this}},{key:"setId",value:function e(t){if(babelHelpers.classPrivateFieldGet(this,F)===t){return this}babelHelpers.classPrivateFieldSet(this,F,t);g(this,C,z).call(this);return this}},{key:"setActive",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;t=!!t;if(babelHelpers.classPrivateFieldGet(this,y)===t){return this}babelHelpers.classPrivateFieldSet(this,y,t);g(this,C,z).call(this,{active:babelHelpers.classPrivateFieldGet(this,y)},"active");return this}},{key:"setNotice",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;babelHelpers.classPrivateFieldSet(this,w,!!t);g(this,C,z).call(this);return this}},{key:"setClickHandler",value:function e(t){babelHelpers.classPrivateFieldSet(this,G,t);return this}},{key:"setItems",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];babelHelpers.classPrivateFieldGet(this,I).setItems(t||[]);g(this,C,z).call(this);return this}},{key:"getCollection",value:function e(){return babelHelpers.classPrivateFieldGet(this,I)}},{key:"getLabel",value:function e(){return babelHelpers.classPrivateFieldGet(this,k)}},{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,F)}},{key:"getClickHandler",value:function e(){return babelHelpers.classPrivateFieldGet(this,G)}},{key:"isActive",value:function e(){return babelHelpers.classPrivateFieldGet(this,y)}},{key:"hasNotice",value:function e(){return babelHelpers.classPrivateFieldGet(this,w)}},{key:"render",value:function e(){var t=babelHelpers.classPrivateFieldGet(this,I).isEmpty();var s=[];if(babelHelpers.classPrivateFieldGet(this,y)){if(t){s.push("ui-sidepanel-menu-active")}else{s.push("ui-sidepanel-menu-expand")}}var l=i.Loc.getMessage("UI_SIDEPANEL_MENU_JS_"+(this.isActive()?"COLLAPSE":"EXPAND"));babelHelpers.classPrivateFieldSet(this,T,i.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<li class="ui-sidepanel-menu-item ','">\n\t\t\t\t<a\n\t\t\t\t\tclass="ui-sidepanel-menu-link"\n\t\t\t\t\tonclick="','"\n\t\t\t\t\ttitle="','"\n\t\t\t\t>\n\t\t\t\t\t<div class="ui-sidepanel-menu-link-text">',"</div>\n\t\t\t\t\t","\n\t\t\t\t\t","\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t"])),s.join(" "),g(this,A,S).bind(this),i.Tag.safe(o||(o=babelHelpers.taggedTemplateLiteral(["",""])),babelHelpers.classPrivateFieldGet(this,k)),i.Tag.safe(f||(f=babelHelpers.taggedTemplateLiteral(["",""])),babelHelpers.classPrivateFieldGet(this,k)),!t?'<div class="ui-sidepanel-toggle-btn">'.concat(l,"</div>"):"",babelHelpers.classPrivateFieldGet(this,w)?'<span class="ui-sidepanel-menu-notice-icon"></span>':""));if(!babelHelpers.classPrivateFieldGet(this,I).isEmpty()){babelHelpers.classPrivateFieldGet(this,T).appendChild(babelHelpers.classPrivateFieldGet(this,I).render())}return babelHelpers.classPrivateFieldGet(this,T)}}]);return t}(t.EventEmitter);function z(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.emit("change",e);if(t){this.emit("change:"+t,e)}}function S(e){e.preventDefault();e.stopPropagation();this.setActive(babelHelpers.classPrivateFieldGet(this,I).isEmpty()||!this.isActive());this.emit("click",{item:this});if(i.Type.isFunction(babelHelpers.classPrivateFieldGet(this,G))){babelHelpers.classPrivateFieldGet(this,G).apply(this)}}var M;function W(e,t,i){L(e,t);t.set(e,i)}function L(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var X=new WeakMap;var B=function(e){babelHelpers.inherits(t,e);function t(){var e;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,t);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,{items:i.items}));W(babelHelpers.assertThisInitialized(e),X,{writable:true,value:void 0});if(!e.hasActive()){e.setActiveFirstItem()}return e}babelHelpers.createClass(t,[{key:"render",value:function e(){var s=babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"render",this).call(this);if(!babelHelpers.classPrivateFieldGet(this,X)){babelHelpers.classPrivateFieldSet(this,X,i.Tag.render(M||(M=babelHelpers.taggedTemplateLiteral(['<ul class="ui-sidepanel-menu"></ul>']))));babelHelpers.classPrivateFieldGet(this,X).appendChild(s)}return babelHelpers.classPrivateFieldGet(this,X)}},{key:"renderTo",value:function e(t){var i=this.render();t.appendChild(i);return i}}]);return t}(h);e.Item=E;e.Menu=B})(this.BX.UI.SidePanel=this.BX.UI.SidePanel||{},BX.Event,BX);
//# sourceMappingURL=bundle.map.js