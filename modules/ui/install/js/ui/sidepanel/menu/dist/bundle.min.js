this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t,i){"use strict";var s;function l(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var a=new WeakMap;var r=new WeakMap;var n=new WeakMap;var c=new WeakSet;var b=function(e){babelHelpers.inherits(t,e);function t(){var e;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,t);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));c.add(babelHelpers.assertThisInitialized(e));a.set(babelHelpers.assertThisInitialized(e),{writable:true,value:[]});r.set(babelHelpers.assertThisInitialized(e),{writable:true,value:void 0});n.set(babelHelpers.assertThisInitialized(e),{writable:true,value:false});e.setEventNamespace("ui:sidepanel:menu:collection");e.setItems(i.items);return e}babelHelpers.createClass(t,[{key:"setActiveFirstItem",value:function e(){var t=this.list()[0];if(!t){return}t.setActive(true);t.getCollection().setActiveFirstItem()}},{key:"getActiveItem",value:function e(){return this.list().filter(function(e){return e.isActive()})[0]}},{key:"syncActive",value:function e(t){if(babelHelpers.classPrivateFieldGet(this,n)){return this}babelHelpers.classPrivateFieldSet(this,n,true);this.list().filter(function(e){return e!==t}).forEach(function(e){e.getCollection().isEmpty()?e.setActive(false):e.getCollection().syncActive(e)});this.emit("sync:active");babelHelpers.classPrivateFieldSet(this,n,false);return this}},{key:"add",value:function e(t){var i=l(this,c,u).call(this,t);this.emit("change");if(babelHelpers.classPrivateFieldGet(this,r)){this.render()}return i}},{key:"setItems",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];babelHelpers.classPrivateFieldSet(this,a,i.map(function(e){return l(t,c,u).call(t,e)}));this.emit("change");if(babelHelpers.classPrivateFieldGet(this,r)){this.render()}return this}},{key:"list",value:function e(){return babelHelpers.classPrivateFieldGet(this,a)}},{key:"isEmpty",value:function e(){return this.list().length===0}},{key:"hasActive",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var i=this.list().some(function(e){return e.isActive()});if(i){return true}if(!t){return false}return this.list().some(function(e){return e.getCollection().hasActive()})}},{key:"render",value:function e(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,r)){babelHelpers.classPrivateFieldSet(this,r,i.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<div class="ui-sidepanel-menu-items"></div>']))))}babelHelpers.classPrivateFieldGet(this,r).innerHTML="";babelHelpers.classPrivateFieldGet(this,a).forEach(function(e){return babelHelpers.classPrivateFieldGet(t,r).appendChild(e.render())});return babelHelpers.classPrivateFieldGet(this,r)}}]);return t}(t.EventEmitter);function u(e){var t=this;if(e.active){e.active=!this.hasActive()}else{e.active=false}var i=new G(e);babelHelpers.classPrivateFieldGet(this,a).push(i);i.subscribe("change:active",function(){if(i.isActive()&&i.getCollection().isEmpty()){t.syncActive(i)}});i.subscribe("sync:active",function(){return t.syncActive(i)});i.subscribe("click",function(e){return t.emit("click",e)});i.subscribe("change",function(){return setTimeout(function(){return t.render()},0)});return i}var v,h,d;function p(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var o=new WeakMap;var f=new WeakMap;var H=new WeakMap;var P=new WeakMap;var m=new WeakMap;var g=new WeakMap;var F=new WeakMap;var k=new WeakSet;var y=new WeakSet;var G=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));y.add(babelHelpers.assertThisInitialized(i));k.add(babelHelpers.assertThisInitialized(i));o.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});f.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});H.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});P.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});m.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});g.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});F.set(babelHelpers.assertThisInitialized(i),{writable:true,value:void 0});i.setEventNamespace("ui:sidepanel:menu:item");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),g,new b);i.setLabel(e.label).setActive(e.active).setNotice(e.notice).setId(e.id).setItems(e.items).setClickHandler(e.onclick);babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g).subscribe("sync:active",function(){return i.emit("sync:active")});babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g).subscribe("click",function(e){return i.emit("click",e)});return i}babelHelpers.createClass(t,[{key:"setLabel",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(babelHelpers.classPrivateFieldGet(this,f)===t){return this}babelHelpers.classPrivateFieldSet(this,f,t);p(this,k,I).call(this);return this}},{key:"setId",value:function e(t){if(babelHelpers.classPrivateFieldGet(this,o)===t){return this}babelHelpers.classPrivateFieldSet(this,o,t);p(this,k,I).call(this);return this}},{key:"setActive",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;t=!!t;if(babelHelpers.classPrivateFieldGet(this,H)===t){return this}babelHelpers.classPrivateFieldSet(this,H,t);p(this,k,I).call(this,{active:babelHelpers.classPrivateFieldGet(this,H)},"active");return this}},{key:"setNotice",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;babelHelpers.classPrivateFieldSet(this,P,!!t);p(this,k,I).call(this);return this}},{key:"setClickHandler",value:function e(t){babelHelpers.classPrivateFieldSet(this,m,t);return this}},{key:"setItems",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];babelHelpers.classPrivateFieldGet(this,g).setItems(t||[]);p(this,k,I).call(this);return this}},{key:"getCollection",value:function e(){return babelHelpers.classPrivateFieldGet(this,g)}},{key:"getLabel",value:function e(){return babelHelpers.classPrivateFieldGet(this,f)}},{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,o)}},{key:"getClickHandler",value:function e(){return babelHelpers.classPrivateFieldGet(this,m)}},{key:"isActive",value:function e(){return babelHelpers.classPrivateFieldGet(this,H)}},{key:"hasNotice",value:function e(){return babelHelpers.classPrivateFieldGet(this,P)}},{key:"render",value:function e(){var t=babelHelpers.classPrivateFieldGet(this,g).isEmpty();var s=[];if(babelHelpers.classPrivateFieldGet(this,H)){if(t){s.push("ui-sidepanel-menu-active")}else{s.push("ui-sidepanel-menu-expand")}}var l=i.Loc.getMessage("UI_SIDEPANEL_MENU_JS_"+(this.isActive()?"COLLAPSE":"EXPAND"));babelHelpers.classPrivateFieldSet(this,F,i.Tag.render(v||(v=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<li class="ui-sidepanel-menu-item ','">\n\t\t\t\t<a\n\t\t\t\t\tclass="ui-sidepanel-menu-link"\n\t\t\t\t\tonclick="','"\n\t\t\t\t\ttitle="','"\n\t\t\t\t>\n\t\t\t\t\t<div class="ui-sidepanel-menu-link-text">',"</div>\n\t\t\t\t\t","\n\t\t\t\t\t","\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t"])),s.join(" "),p(this,y,T).bind(this),i.Tag.safe(h||(h=babelHelpers.taggedTemplateLiteral(["",""])),babelHelpers.classPrivateFieldGet(this,f)),i.Tag.safe(d||(d=babelHelpers.taggedTemplateLiteral(["",""])),babelHelpers.classPrivateFieldGet(this,f)),!t?'<div class="ui-sidepanel-toggle-btn">'.concat(l,"</div>"):"",babelHelpers.classPrivateFieldGet(this,P)?'<span class="ui-sidepanel-menu-notice-icon"></span>':""));if(!babelHelpers.classPrivateFieldGet(this,g).isEmpty()){babelHelpers.classPrivateFieldGet(this,F).appendChild(babelHelpers.classPrivateFieldGet(this,g).render())}return babelHelpers.classPrivateFieldGet(this,F)}}]);return t}(t.EventEmitter);function I(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.emit("change",e);if(t){this.emit("change:"+t,e)}}function T(e){e.preventDefault();e.stopPropagation();this.setActive(babelHelpers.classPrivateFieldGet(this,g).isEmpty()||!this.isActive());this.emit("click",{item:this});if(i.Type.isFunction(babelHelpers.classPrivateFieldGet(this,m))){babelHelpers.classPrivateFieldGet(this,m).apply(this)}}var w;var A=new WeakMap;var C=function(e){babelHelpers.inherits(t,e);function t(){var e;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,t);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,{items:i.items}));A.set(babelHelpers.assertThisInitialized(e),{writable:true,value:void 0});if(!e.hasActive()){e.setActiveFirstItem()}return e}babelHelpers.createClass(t,[{key:"render",value:function e(){var s=babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"render",this).call(this);if(!babelHelpers.classPrivateFieldGet(this,A)){babelHelpers.classPrivateFieldSet(this,A,i.Tag.render(w||(w=babelHelpers.taggedTemplateLiteral(['<ul class="ui-sidepanel-menu"></ul>']))));babelHelpers.classPrivateFieldGet(this,A).appendChild(s)}return babelHelpers.classPrivateFieldGet(this,A)}},{key:"renderTo",value:function e(t){var i=this.render();t.appendChild(i);return i}}]);return t}(b);e.Item=G;e.Menu=C})(this.BX.UI.SidePanel=this.BX.UI.SidePanel||{},BX.Event,BX);
//# sourceMappingURL=bundle.map.js