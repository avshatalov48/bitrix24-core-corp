this.BX=this.BX||{};(function(e,t){"use strict";var i,s;function a(e,t){r(e,t);t.add(e)}function l(e,t,i){r(e,t);t.set(e,i)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function n(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}function c(e,t,i){d(e,t);h(i,"get");return o(e,i)}function h(e,t){if(e===undefined){throw new TypeError("attempted to "+t+" private static field before its declaration")}}function d(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}function o(e,t){if(t.get){return t.get.call(e)}return t.value}var u=Object.freeze({medium:"medium",small:"small"});var p=Object.freeze({primary:"primary",green:"green"});var b=new WeakMap;var v=new WeakMap;var f=new WeakMap;var m=new WeakMap;var g=new WeakMap;var k=new WeakMap;var y=new WeakMap;var w=new WeakMap;var H=new WeakSet;var P=new WeakSet;var F=function(){function e(t){var i,s;babelHelpers.classCallCheck(this,e);a(this,P);a(this,H);l(this,b,{writable:true,value:(i={},babelHelpers.defineProperty(i,u.small,"ui-switcher-size-sm"),babelHelpers.defineProperty(i,u.medium,""),i)});l(this,v,{writable:true,value:(s={},babelHelpers.defineProperty(s,p.primary,""),babelHelpers.defineProperty(s,p.green,"ui-switcher-color-green"),s)});babelHelpers.defineProperty(this,"node",null);babelHelpers.defineProperty(this,"checked",false);babelHelpers.defineProperty(this,"id","");l(this,f,{writable:true,value:false});l(this,m,{writable:true,value:""});l(this,g,{writable:true,value:void 0});l(this,k,{writable:true,value:"ui-switcher-off"});l(this,y,{writable:true,value:"ui-switcher-lock"});l(this,w,{writable:true,value:"data-switcher"});this.init(t);e.list.push(this)}babelHelpers.createClass(e,[{key:"init",value:function e(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classPrivateFieldSet(this,w,t.Type.isString(i.attributeName)?i.attributeName:babelHelpers.classPrivateFieldGet(this,w));this.handlers=t.Type.isPlainObject(i.handlers)?i.handlers:{};babelHelpers.classPrivateFieldSet(this,m,t.Type.isString(i.inputName)?i.inputName:"");babelHelpers.classPrivateFieldSet(this,g,false);this.events={toggled:"toggled",checked:"checked",unchecked:"unchecked"};if(i.node){if(!t.Type.isDomNode(i.node)){throw new Error("Parameter `node` DOM Node expected.")}this.node=i.node;var s=this.node.getAttribute(babelHelpers.classPrivateFieldGet(this,w));try{s=JSON.parse(s)||{}}catch(e){s={}}if(s.id){this.id=s.id}this.checked=Boolean(s.checked);babelHelpers.classPrivateFieldSet(this,m,s.inputName);if(t.Type.isString(s.color)&&Object.values(p).includes(s.color)){i.color=s.color}if(t.Type.isString(s.size)&&Object.values(u).includes(s.size)){i.size=s.size}}else{this.node=document.createElement("span")}if(babelHelpers.classPrivateFieldGet(this,b)[i.size]){t.Dom.addClass(this.node,babelHelpers.classPrivateFieldGet(this,b)[i.size])}if(babelHelpers.classPrivateFieldGet(this,v)[i.color]){t.Dom.addClass(this.node,babelHelpers.classPrivateFieldGet(this,v)[i.color])}if(t.Type.isString(i.id)||t.Type.isNumber(i.id)){this.id=i.id}else if(!this.id){this.id=Math.random()}if(t.Type.isString(i.inputName)){babelHelpers.classPrivateFieldSet(this,m,i.inputName)}this.checked=t.Type.isBoolean(i.checked)?i.checked:this.checked;babelHelpers.classPrivateFieldSet(this,f,t.Type.isBoolean(i.disabled)?i.disabled:babelHelpers.classPrivateFieldGet(this,f));n(this,H,N).call(this);this.check(this.checked,false);this.disable(babelHelpers.classPrivateFieldGet(this,f),false)}},{key:"disable",value:function e(i,s){if(this.isLoading()){return}s=s!==false;if(babelHelpers.classPrivateFieldGet(this,f)){t.Dom.addClass(this.node,babelHelpers.classPrivateFieldGet(this,y));s?n(this,P,T).call(this,this.events.lock):null}else{t.Dom.removeClass(this.node,babelHelpers.classPrivateFieldGet(this,y));s?n(this,P,T).call(this,this.events.unlock):null}if(s){n(this,P,T).call(this,this.events.toggled)}}},{key:"check",value:function e(i,s){if(this.isLoading()){return}this.checked=!!i;if(this.inputNode){this.inputNode.value=this.checked?"Y":"N"}s=s!==false;if(this.checked){t.Dom.removeClass(this.node,babelHelpers.classPrivateFieldGet(this,k));s?n(this,P,T).call(this,this.events.unchecked):null}else{t.Dom.addClass(this.node,babelHelpers.classPrivateFieldGet(this,k));s?n(this,P,T).call(this,this.events.checked):null}if(s){n(this,P,T).call(this,this.events.toggled)}}},{key:"isDisabled",value:function e(){return babelHelpers.classPrivateFieldGet(this,f)}},{key:"isChecked",value:function e(){return this.checked}},{key:"toggle",value:function e(){if(this.isDisabled()){return}this.check(!this.isChecked())}},{key:"setLoading",value:function e(s){babelHelpers.classPrivateFieldSet(this,g,Boolean(s));var a=this.getNode().querySelector(".ui-switcher-cursor");if(babelHelpers.classPrivateFieldGet(this,g)){var l=t.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<svg viewBox="25 25 50 50">\n\t\t\t\t\t<circle\n\t\t\t\t\t\tclass="ui-sidepanel-wrapper-loader-path"\n\t\t\t\t\t\tcx="50"\n\t\t\t\t\t\tcy="50"\n\t\t\t\t\t\tr="19"\n\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\tstroke-width="5"\n\t\t\t\t\t\tstroke-miterlimit="10"\n\t\t\t\t\t>\n\t\t\t\t\t</circle>\n\t\t\t\t</svg>\n\t\t\t'])));t.Dom.append(l,a)}else{a.innerHTML=""}}},{key:"isLoading",value:function e(){return babelHelpers.classPrivateFieldGet(this,g)}},{key:"renderTo",value:function e(i){if(!t.Type.isDomNode(i)){throw new Error("Target node must be HTMLElement")}return t.Dom.append(this.getNode(),i)}},{key:"getNode",value:function e(){return this.node}},{key:"getAttributeName",value:function e(){return babelHelpers.classPrivateFieldGet(this,w)}},{key:"getInputName",value:function e(){return babelHelpers.classPrivateFieldGet(this,m)}}],[{key:"getById",value:function t(i){return e.list.find((function(e){return e.id===i}))||null}},{key:"initByClassName",value:function t(){var i=document.getElementsByClassName(e.className);Array.from(i).forEach((function(t){if(t.getAttribute(c(e,e,S))){return}new e({node:t})}))}},{key:"getList",value:function t(){return e.list}}]);return e}();function N(){if(this.node.getAttribute(c(F,F,S))){return}this.node.setAttribute(c(F,F,S),"y");t.Dom.addClass(this.node,F.className);this.node.innerHTML='<span class="ui-switcher-cursor"></span>\n'+'<span class="ui-switcher-enabled">'+t.Loc.getMessage("UI_SWITCHER_ON")+"</span>\n"+'<span class="ui-switcher-disabled">'+t.Loc.getMessage("UI_SWITCHER_OFF")+"</span>\n";if(babelHelpers.classPrivateFieldGet(this,m)){this.inputNode=t.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<input type="hidden" name="','" />\n\t\t\t'])),babelHelpers.classPrivateFieldGet(this,m));t.Dom.append(this.inputNode,this.node)}t.bind(this.node,"click",this.toggle.bind(this))}function T(e){t.onCustomEvent(this,e);if(this.handlers[e]){this.handlers[e].call(this)}}var S={writable:true,value:"data-switcher-init"};babelHelpers.defineProperty(F,"list",[]);babelHelpers.defineProperty(F,"className","ui-switcher");e.SwitcherSize=u;e.SwitcherColor=p;e.Switcher=F})(this.BX.UI=this.BX.UI||{},BX);
//# sourceMappingURL=ui.switcher.bundle.map.js