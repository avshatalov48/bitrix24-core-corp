{"version":3,"file":"userfield.bundle.js","sources":["../src/userfield.js"],"sourcesContent":["import {Text, Type, Loc, ajax as Ajax} from 'main.core';\n\ndeclare type UserFieldData = {\n\tid: ?number,\n\tfieldName: string,\n\tdetailUrl: ?string,\n\tenum: ?Array,\n\tentityId: string,\n\txmlId: ?string,\n\tsort: number,\n\tmandatory: string,\n\tshowFilter: string,\n\tisSearchable: string,\n\tsettings: ?{},\n};\n\nclass UserField\n{\n\tdata;\n\tlanguageId;\n\tmoduleId;\n\tprogress;\n\tdeleted;\n\n\tconstructor(data: UserFieldData, params: ?{\n\t\tlanguageId: string,\n\t\tmoduleId: string,\n\t})\n\t{\n\t\tthis.progress = false;\n\t\tthis.deleted = false;\n\t\tthis.setData(data);\n\t\tif(Type.isPlainObject(params))\n\t\t{\n\t\t\tif(Type.isString(params.languageId))\n\t\t\t{\n\t\t\t\tthis.setLanguageId(params.languageId);\n\t\t\t}\n\t\t\tthis.moduleId = params.moduleId;\n\t\t}\n\t\tthis.actions = {\n\t\t\tget: 'main.userFieldConfig.get',\n\t\t\tadd: 'main.userFieldConfig.add',\n\t\t\tupdate: 'main.userFieldConfig.update',\n\t\t\tdelete: 'main.userFieldConfig.delete',\n\t\t}\n\t}\n\t\n\tload(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.isSaved())\n\t\t\t{\n\t\t\t\terrors.push('Cant load UserField without id');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst action = this.actions.get;\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField load action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t},\n\t\t\t}).then((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tthis.setData(response.data.field);\n\t\t\t\tresolve(response);\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\terrors.push(message);\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tsave(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet action;\n\t\t\tlet data;\n\t\t\tif(this.isSaved())\n\t\t\t{\n\t\t\t\taction = this.actions.update;\n\t\t\t\tdata = {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tfield: this.getData(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\taction = this.actions.add;\n\t\t\t\tdata = {\n\t\t\t\t\tfield: this.getData(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata,\n\t\t\t}).then((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tthis.setData(response.data.field);\n\t\t\t\tresolve(response);\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\tif(Type.isPlainObject(message) && message.text)\n\t\t\t\t\t{\n\t\t\t\t\t\terrors.push(message.text);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\terrors.push(message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tdelete(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!this.isSaved())\n\t\t\t{\n\t\t\t\terrors.push('Cant delete UserField without id');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst action = this.actions.delete;\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t},\n\t\t\t}).then(() => {\n\t\t\t\tthis.deleted = true;\n\t\t\t\tthis.progress = false;\n\t\t\t\tresolve();\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\terrors.push(message);\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tsetLanguageId(languageId: string): this\n\t{\n\t\tthis.languageId = languageId;\n\n\t\treturn this;\n\t}\n\n\tsetModuleId(moduleId: string): this\n\t{\n\t\tthis.moduleId = moduleId;\n\n\t\treturn this;\n\t}\n\n\tgetLanguageId(): string\n\t{\n\t\tif(!this.languageId)\n\t\t{\n\t\t\treturn Loc.getMessage('LANGUAGE_ID');\n\t\t}\n\n\t\treturn this.languageId;\n\t}\n\n\tgetId(): number\n\t{\n\t\treturn Text.toInteger(this.data.id);\n\t}\n\n\tisSaved(): boolean\n\t{\n\t\treturn (this.getId() > 0);\n\t}\n\n\tsetData(data: UserFieldData): this\n\t{\n\t\tthis.data = data;\n\n\t\treturn this;\n\t}\n\n\tgetData(): UserFieldData\n\t{\n\t\treturn this.data;\n\t}\n\n\tgetName(): ?string\n\t{\n\t\treturn this.data.fieldName;\n\t}\n\n\tsetName(name: string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing name is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.fieldName = name;\n\n\t\treturn this;\n\t}\n\n\tgetEntityId(): string\n\t{\n\t\treturn this.data.entityId;\n\t}\n\n\tgetUserTypeId(): string\n\t{\n\t\treturn this.data.userTypeId;\n\t}\n\n\tsetUserTypeId(userTypeId: string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing userTypeId is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.userTypeId = userTypeId;\n\n\t\treturn this;\n\t}\n\n\tgetEnumeration(): ?Array\n\t{\n\t\tif(!Type.isArray(this.data.enum))\n\t\t{\n\t\t\tthis.data.enum = [];\n\t\t}\n\n\t\treturn this.data.enum;\n\t}\n\n\tsetEnumeration(items: Array): this\n\t{\n\t\tthis.data.enum = items;\n\n\t\treturn this;\n\t}\n\n\tstatic getTitleFieldNames(): Array\n\t{\n\t\treturn [\n\t\t\t'editFormLabel',\n\t\t\t'listColumnLabel',\n\t\t\t'listFilterLabel',\n\t\t];\n\t}\n\n\tgetTitle(): string\n\t{\n\t\tconst titleFieldNames = UserField.getTitleFieldNames();\n\t\tconst titleFieldsCount = titleFieldNames.length;\n\t\tconst languageId = this.getLanguageId();\n\n\t\tfor(let index = 0; index < titleFieldsCount; index++)\n\t\t{\n\t\t\tif(\n\t\t\t\tthis.data[titleFieldNames[index]]\n\t\t\t\t&& Type.isString(this.data[titleFieldNames[index]][languageId])\n\t\t\t\t&& this.data[titleFieldNames[index]][languageId].length > 0\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn this.data[titleFieldNames[index]][languageId];\n\t\t\t}\n\t\t}\n\n\t\treturn this.getName();\n\t}\n\n\tsetTitle(title: string, languageId: ?string): this\n\t{\n\t\tif(Type.isString(title) && title.length > 0)\n\t\t{\n\t\t\tif(!languageId)\n\t\t\t{\n\t\t\t\tlanguageId = this.getLanguageId();\n\t\t\t}\n\t\t\tif(!this.data['editFormLabel'])\n\t\t\t{\n\t\t\t\tthis.data['editFormLabel'] = {};\n\t\t\t}\n\t\t\tthis.data['editFormLabel'][languageId] = title;\n\t\t\tif(this.getUserTypeId() === 'boolean')\n\t\t\t{\n\t\t\t\tif(!this.data.settings)\n\t\t\t\t{\n\t\t\t\t\tthis.data.settings = {};\n\t\t\t\t}\n\t\t\t\tthis.data.settings.LABEL_CHECKBOX = title;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tisMultiple(): boolean\n\t{\n\t\treturn (this.data.multiple === 'Y');\n\t}\n\n\tisMandatory(): boolean\n\t{\n\t\treturn (this.data.mandatory === 'Y');\n\t}\n\n\tsetIsMandatory(mandatory: boolean): this\n\t{\n\t\tthis.data.mandatory = (Text.toBoolean(mandatory) ? 'Y' : 'N');\n\t}\n\n\tsetIsMultiple(isMultiple: boolean|string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing multiple is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.multiple = (Text.toBoolean(isMultiple) === true ? 'Y' : 'N');\n\n\t\treturn this;\n\t}\n\n\tgetDetailUrl(): ?string\n\t{\n\t\treturn this.data.detailUrl;\n\t}\n\n\tisDeleted(): boolean\n\t{\n\t\treturn this.deleted;\n\t}\n\n\tserialize(): string\n\t{\n\t\treturn JSON.stringify({\n\t\t\tdata: this.data,\n\t\t\tlanguageId: this.languageId,\n\t\t\tmoduleId: this.moduleId,\n\t\t\tprogress: this.progress,\n\t\t\tdeleted: this.deleted,\n\t\t});\n\t}\n\n\tstatic unserialize(serializedData: string): UserField\n\t{\n\t\tconst serializedUserField = JSON.parse(serializedData);\n\t\tconst userField = new UserField(serializedUserField.data, {\n\t\t\tlanguageId: serializedUserField.languageId,\n\t\t\tmoduleId: serializedUserField.moduleId,\n\t\t});\n\n\t\tuserField.progress = serializedUserField.progress;\n\t\tuserField.deleted = serializedUserField.deleted;\n\n\t\treturn userField;\n\t}\n}\n\nexport {UserField};"],"names":["UserField","constructor","data","params","progress","deleted","setData","Type","isPlainObject","isString","languageId","setLanguageId","moduleId","actions","get","add","update","delete","load","Promise","resolve","reject","errors","push","isSaved","action","length","Ajax","runAction","id","getId","then","response","field","catch","forEach","message","save","getData","text","setModuleId","getLanguageId","Loc","getMessage","Text","toInteger","getName","fieldName","setName","name","console","error","getEntityId","entityId","getUserTypeId","userTypeId","setUserTypeId","getEnumeration","isArray","enum","setEnumeration","items","getTitleFieldNames","getTitle","titleFieldNames","titleFieldsCount","index","setTitle","title","settings","LABEL_CHECKBOX","isMultiple","multiple","isMandatory","mandatory","setIsMandatory","toBoolean","setIsMultiple","getDetailUrl","detailUrl","isDeleted","serialize","JSON","stringify","unserialize","serializedData","serializedUserField","parse","userField"],"mappings":"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"}