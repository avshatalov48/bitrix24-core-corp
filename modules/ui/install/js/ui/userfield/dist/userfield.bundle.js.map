{"version":3,"file":"userfield.bundle.js","sources":["../src/userfield.js"],"sourcesContent":["import {Text, Type, Loc, ajax as Ajax} from 'main.core';\n\ndeclare type UserFieldData = {\n\tid: ?number,\n\tfieldName: string,\n\tdetailUrl: ?string,\n\tenum: ?Array,\n\tentityId: string,\n\txmlId: ?string,\n\tsort: number,\n\tmandatory: string,\n\tshowFilter: string,\n\tisSearchable: string,\n\tsettings: ?{},\n};\n\nclass UserField\n{\n\tdata;\n\tlanguageId;\n\tmoduleId;\n\tprogress;\n\tdeleted;\n\n\tconstructor(data: UserFieldData, params: ?{\n\t\tlanguageId: string,\n\t\tmoduleId: string,\n\t})\n\t{\n\t\tthis.progress = false;\n\t\tthis.deleted = false;\n\t\tthis.setData(data);\n\t\tif(Type.isPlainObject(params))\n\t\t{\n\t\t\tif(Type.isString(params.languageId))\n\t\t\t{\n\t\t\t\tthis.setLanguageId(params.languageId);\n\t\t\t}\n\t\t\tthis.moduleId = params.moduleId;\n\t\t}\n\t\tthis.actions = {\n\t\t\tget: 'main.userFieldConfig.get',\n\t\t\tadd: 'main.userFieldConfig.add',\n\t\t\tupdate: 'main.userFieldConfig.update',\n\t\t\tdelete: 'main.userFieldConfig.delete',\n\t\t}\n\t}\n\t\n\tload(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.isSaved())\n\t\t\t{\n\t\t\t\terrors.push('Cant load UserField without id');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst action = this.actions.get;\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField load action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t},\n\t\t\t}).then((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tthis.setData(response.data.field);\n\t\t\t\tresolve(response);\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\terrors.push(message);\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tsave(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet action;\n\t\t\tlet data;\n\t\t\tif(this.isSaved())\n\t\t\t{\n\t\t\t\taction = this.actions.update;\n\t\t\t\tdata = {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tfield: this.getData(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\taction = this.actions.add;\n\t\t\t\tdata = {\n\t\t\t\t\tfield: this.getData(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata,\n\t\t\t}).then((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tthis.setData(response.data.field);\n\t\t\t\tresolve(response);\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\tif(Type.isPlainObject(message) && message.text)\n\t\t\t\t\t{\n\t\t\t\t\t\terrors.push(message.text);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\terrors.push(message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tdelete(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!this.isSaved())\n\t\t\t{\n\t\t\t\terrors.push('Cant delete UserField without id');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst action = this.actions.delete;\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t},\n\t\t\t}).then(() => {\n\t\t\t\tthis.deleted = true;\n\t\t\t\tthis.progress = false;\n\t\t\t\tresolve();\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\terrors.push(message);\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tsetLanguageId(languageId: string): this\n\t{\n\t\tthis.languageId = languageId;\n\n\t\treturn this;\n\t}\n\n\tsetModuleId(moduleId: string): this\n\t{\n\t\tthis.moduleId = moduleId;\n\n\t\treturn this;\n\t}\n\n\tgetLanguageId(): string\n\t{\n\t\tif(!this.languageId)\n\t\t{\n\t\t\treturn Loc.getMessage('LANGUAGE_ID');\n\t\t}\n\n\t\treturn this.languageId;\n\t}\n\n\tgetId(): number\n\t{\n\t\treturn Text.toInteger(this.data.id);\n\t}\n\n\tisSaved(): boolean\n\t{\n\t\treturn (this.getId() > 0);\n\t}\n\n\tsetData(data: UserFieldData): this\n\t{\n\t\tthis.data = data;\n\n\t\treturn this;\n\t}\n\n\tgetData(): UserFieldData\n\t{\n\t\treturn this.data;\n\t}\n\n\tgetName(): ?string\n\t{\n\t\treturn this.data.fieldName;\n\t}\n\n\tsetName(name: string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing name is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.fieldName = name;\n\n\t\treturn this;\n\t}\n\n\tgetEntityId(): string\n\t{\n\t\treturn this.data.entityId;\n\t}\n\n\tgetUserTypeId(): string\n\t{\n\t\treturn this.data.userTypeId;\n\t}\n\n\tsetUserTypeId(userTypeId: string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing userTypeId is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.userTypeId = userTypeId;\n\n\t\treturn this;\n\t}\n\n\tgetEnumeration(): ?Array\n\t{\n\t\tif(!Type.isArray(this.data.enum))\n\t\t{\n\t\t\tthis.data.enum = [];\n\t\t}\n\n\t\treturn this.data.enum;\n\t}\n\n\tsetEnumeration(items: Array): this\n\t{\n\t\tthis.data.enum = items;\n\n\t\treturn this;\n\t}\n\n\tstatic getTitleFieldNames(): Array\n\t{\n\t\treturn [\n\t\t\t'editFormLabel',\n\t\t\t'listColumnLabel',\n\t\t\t'listFilterLabel',\n\t\t];\n\t}\n\n\tgetTitle(): string\n\t{\n\t\tconst titleFieldNames = UserField.getTitleFieldNames();\n\t\tconst titleFieldsCount = titleFieldNames.length;\n\t\tconst languageId = this.getLanguageId();\n\n\t\tfor(let index = 0; index < titleFieldsCount; index++)\n\t\t{\n\t\t\tif(\n\t\t\t\tthis.data[titleFieldNames[index]]\n\t\t\t\t&& Type.isString(this.data[titleFieldNames[index]][languageId])\n\t\t\t\t&& this.data[titleFieldNames[index]][languageId].length > 0\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn this.data[titleFieldNames[index]][languageId];\n\t\t\t}\n\t\t}\n\n\t\treturn this.getName();\n\t}\n\n\tsetTitle(title: string, languageId: ?string): this\n\t{\n\t\tif(Type.isString(title) && title.length > 0)\n\t\t{\n\t\t\tif(!languageId)\n\t\t\t{\n\t\t\t\tlanguageId = this.getLanguageId();\n\t\t\t}\n\t\t\tif(!this.data['editFormLabel'])\n\t\t\t{\n\t\t\t\tthis.data['editFormLabel'] = {};\n\t\t\t}\n\t\t\tthis.data['editFormLabel'][languageId] = title;\n\t\t\tif(this.getUserTypeId() === 'boolean')\n\t\t\t{\n\t\t\t\tif(!this.data.settings)\n\t\t\t\t{\n\t\t\t\t\tthis.data.settings = {};\n\t\t\t\t}\n\t\t\t\tthis.data.settings.LABEL_CHECKBOX = title;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tisMultiple(): boolean\n\t{\n\t\treturn (this.data.multiple === 'Y');\n\t}\n\n\tisMandatory(): boolean\n\t{\n\t\treturn (this.data.mandatory === 'Y');\n\t}\n\n\tsetIsMandatory(mandatory: boolean): this\n\t{\n\t\tthis.data.mandatory = (Text.toBoolean(mandatory) ? 'Y' : 'N');\n\t}\n\n\tsetIsMultiple(isMultiple: boolean|string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing multiple is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.multiple = (Text.toBoolean(isMultiple) === true ? 'Y' : 'N');\n\n\t\treturn this;\n\t}\n\n\tgetDetailUrl(): ?string\n\t{\n\t\treturn this.data.detailUrl;\n\t}\n\n\tisDeleted(): boolean\n\t{\n\t\treturn this.deleted;\n\t}\n\n\tserialize(): string\n\t{\n\t\treturn JSON.stringify({\n\t\t\tdata: this.data,\n\t\t\tlanguageId: this.languageId,\n\t\t\tmoduleId: this.moduleId,\n\t\t\tprogress: this.progress,\n\t\t\tdeleted: this.deleted,\n\t\t});\n\t}\n\n\tstatic unserialize(serializedData: string): UserField\n\t{\n\t\tconst serializedUserField = JSON.parse(serializedData);\n\t\tconst userField = new UserField(serializedUserField.data, {\n\t\t\tlanguageId: serializedUserField.languageId,\n\t\t\tmoduleId: serializedUserField.moduleId,\n\t\t});\n\n\t\tuserField.progress = serializedUserField.progress;\n\t\tuserField.deleted = serializedUserField.deleted;\n\n\t\treturn userField;\n\t}\n}\n\nexport {UserField};"],"names":["UserField","data","params","progress","deleted","setData","Type","isPlainObject","isString","languageId","setLanguageId","moduleId","actions","get","add","update","delete","Promise","resolve","reject","errors","push","isSaved","action","length","Ajax","runAction","id","getId","then","response","field","catch","forEach","message","getData","text","Loc","getMessage","Text","toInteger","fieldName","name","console","error","entityId","userTypeId","isArray","enum","items","titleFieldNames","getTitleFieldNames","titleFieldsCount","getLanguageId","index","getName","title","getUserTypeId","settings","LABEL_CHECKBOX","multiple","mandatory","toBoolean","isMultiple","detailUrl","JSON","stringify","serializedData","serializedUserField","parse","userField"],"mappings":"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"}