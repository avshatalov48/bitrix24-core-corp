{"version":3,"file":"userfield.bundle.js","sources":["../src/userfield.js"],"sourcesContent":["import {Text, Type, Loc, ajax as Ajax} from 'main.core';\n\ndeclare type UserFieldData = {\n\tid: ?number,\n\tfieldName: string,\n\tdetailUrl: ?string,\n\tenum: ?Array,\n\tentityId: string,\n\txmlId: ?string,\n\tsort: number,\n\tmandatory: string,\n\tshowFilter: string,\n\tisSearchable: string,\n\tsettings: ?{},\n};\n\nclass UserField\n{\n\tdata;\n\tlanguageId;\n\tmoduleId;\n\tprogress;\n\tdeleted;\n\n\tconstructor(data: UserFieldData, params: ?{\n\t\tlanguageId: string,\n\t\tmoduleId: string,\n\t})\n\t{\n\t\tthis.progress = false;\n\t\tthis.deleted = false;\n\t\tthis.setData(data);\n\t\tif(Type.isPlainObject(params))\n\t\t{\n\t\t\tif(Type.isString(params.languageId))\n\t\t\t{\n\t\t\t\tthis.setLanguageId(params.languageId);\n\t\t\t}\n\t\t\tthis.moduleId = params.moduleId;\n\t\t}\n\t\tthis.actions = {\n\t\t\tget: 'main.userFieldConfig.get',\n\t\t\tadd: 'main.userFieldConfig.add',\n\t\t\tupdate: 'main.userFieldConfig.update',\n\t\t\tdelete: 'main.userFieldConfig.delete',\n\t\t}\n\t}\n\t\n\tload(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.isSaved())\n\t\t\t{\n\t\t\t\terrors.push('Cant load UserField without id');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst action = this.actions.get;\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField load action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t},\n\t\t\t}).then((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tthis.setData(response.data.field);\n\t\t\t\tresolve(response);\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\terrors.push(message);\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tsave(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet action;\n\t\t\tlet data;\n\t\t\tif(this.isSaved())\n\t\t\t{\n\t\t\t\taction = this.actions.update;\n\t\t\t\tdata = {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tfield: this.getData(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\taction = this.actions.add;\n\t\t\t\tdata = {\n\t\t\t\t\tfield: this.getData(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata,\n\t\t\t}).then((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tthis.setData(response.data.field);\n\t\t\t\tresolve(response);\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\tif(Type.isPlainObject(message) && message.text)\n\t\t\t\t\t{\n\t\t\t\t\t\terrors.push(message.text);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\terrors.push(message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tdelete(): Promise<UserField,string[]>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst errors = [];\n\n\t\t\tif(this.progress)\n\t\t\t{\n\t\t\t\terrors.push('Another action is in progress');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!this.isSaved())\n\t\t\t{\n\t\t\t\terrors.push('Cant delete UserField without id');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst action = this.actions.delete;\n\t\t\tif(!Type.isString(action) || action.length <= 0)\n\t\t\t{\n\t\t\t\terrors.push('UserField action is not specified');\n\t\t\t\treject(errors);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.progress = true;\n\t\t\tAjax.runAction(action, {\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.getId(),\n\t\t\t\t\tmoduleId: this.moduleId,\n\t\t\t\t},\n\t\t\t}).then(() => {\n\t\t\t\tthis.deleted = true;\n\t\t\t\tthis.progress = false;\n\t\t\t\tresolve();\n\t\t\t}).catch((response) => {\n\t\t\t\tthis.progress = false;\n\t\t\t\tresponse.errors.forEach(({message}) => {\n\t\t\t\t\terrors.push(message);\n\t\t\t\t});\n\t\t\t\treject(errors);\n\t\t\t});\n\t\t});\n\t}\n\n\tsetLanguageId(languageId: string): this\n\t{\n\t\tthis.languageId = languageId;\n\n\t\treturn this;\n\t}\n\n\tsetModuleId(moduleId: string): this\n\t{\n\t\tthis.moduleId = moduleId;\n\n\t\treturn this;\n\t}\n\n\tgetLanguageId(): string\n\t{\n\t\tif(!this.languageId)\n\t\t{\n\t\t\treturn Loc.getMessage('LANGUAGE_ID');\n\t\t}\n\n\t\treturn this.languageId;\n\t}\n\n\tgetId(): number\n\t{\n\t\treturn Text.toInteger(this.data.id);\n\t}\n\n\tisSaved(): boolean\n\t{\n\t\treturn (this.getId() > 0);\n\t}\n\n\tsetData(data: UserFieldData): this\n\t{\n\t\tthis.data = data;\n\n\t\treturn this;\n\t}\n\n\tgetData(): UserFieldData\n\t{\n\t\treturn this.data;\n\t}\n\n\tgetName(): ?string\n\t{\n\t\treturn this.data.fieldName;\n\t}\n\n\tsetName(name: string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing name is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.fieldName = name;\n\n\t\treturn this;\n\t}\n\n\tgetEntityId(): string\n\t{\n\t\treturn this.data.entityId;\n\t}\n\n\tgetUserTypeId(): string\n\t{\n\t\treturn this.data.userTypeId;\n\t}\n\n\tsetUserTypeId(userTypeId: string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing userTypeId is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.userTypeId = userTypeId;\n\n\t\treturn this;\n\t}\n\n\tgetEnumeration(): ?Array\n\t{\n\t\tif(!Type.isArray(this.data.enum))\n\t\t{\n\t\t\tthis.data.enum = [];\n\t\t}\n\n\t\treturn this.data.enum;\n\t}\n\n\tsetEnumeration(items: Array): this\n\t{\n\t\tthis.data.enum = items;\n\n\t\treturn this;\n\t}\n\n\tstatic getTitleFieldNames(): Array\n\t{\n\t\treturn [\n\t\t\t'editFormLabel',\n\t\t\t'listColumnLabel',\n\t\t\t'listFilterLabel',\n\t\t];\n\t}\n\n\tgetTitle(): string\n\t{\n\t\tconst titleFieldNames = UserField.getTitleFieldNames();\n\t\tconst titleFieldsCount = titleFieldNames.length;\n\t\tconst languageId = this.getLanguageId();\n\n\t\tfor(let index = 0; index < titleFieldsCount; index++)\n\t\t{\n\t\t\tif(\n\t\t\t\tthis.data[titleFieldNames[index]]\n\t\t\t\t&& Type.isString(this.data[titleFieldNames[index]][languageId])\n\t\t\t\t&& this.data[titleFieldNames[index]][languageId].length > 0\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn this.data[titleFieldNames[index]][languageId];\n\t\t\t}\n\t\t}\n\n\t\treturn this.getName();\n\t}\n\n\tsetTitle(title: string, languageId: ?string): this\n\t{\n\t\tif(Type.isString(title) && title.length > 0)\n\t\t{\n\t\t\tif(!languageId)\n\t\t\t{\n\t\t\t\tlanguageId = this.getLanguageId();\n\t\t\t}\n\t\t\tif(!this.data['editFormLabel'])\n\t\t\t{\n\t\t\t\tthis.data['editFormLabel'] = {};\n\t\t\t}\n\t\t\tthis.data['editFormLabel'][languageId] = title;\n\t\t\tif(this.getUserTypeId() === 'boolean')\n\t\t\t{\n\t\t\t\tif(!this.data.settings)\n\t\t\t\t{\n\t\t\t\t\tthis.data.settings = {};\n\t\t\t\t}\n\t\t\t\tthis.data.settings.LABEL_CHECKBOX = title;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tisMultiple(): boolean\n\t{\n\t\treturn (this.data.multiple === 'Y');\n\t}\n\n\tisMandatory(): boolean\n\t{\n\t\treturn (this.data.mandatory === 'Y');\n\t}\n\n\tsetIsMandatory(mandatory: boolean): this\n\t{\n\t\tthis.data.mandatory = (Text.toBoolean(mandatory) ? 'Y' : 'N');\n\t}\n\n\tsetIsMultiple(isMultiple: boolean|string): this\n\t{\n\t\tif(this.isSaved())\n\t\t{\n\t\t\tconsole.error('Changing multiple is not available on saved UserField');\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.data.multiple = (Text.toBoolean(isMultiple) === true ? 'Y' : 'N');\n\n\t\treturn this;\n\t}\n\n\tgetDetailUrl(): ?string\n\t{\n\t\treturn this.data.detailUrl;\n\t}\n\n\tisDeleted(): boolean\n\t{\n\t\treturn this.deleted;\n\t}\n\n\tserialize(): string\n\t{\n\t\treturn JSON.stringify({\n\t\t\tdata: this.data,\n\t\t\tlanguageId: this.languageId,\n\t\t\tmoduleId: this.moduleId,\n\t\t\tprogress: this.progress,\n\t\t\tdeleted: this.deleted,\n\t\t});\n\t}\n\n\tstatic unserialize(serializedData: string): UserField\n\t{\n\t\tconst serializedUserField = JSON.parse(serializedData);\n\t\tconst userField = new UserField(serializedUserField.data, {\n\t\t\tlanguageId: serializedUserField.languageId,\n\t\t\tmoduleId: serializedUserField.moduleId,\n\t\t});\n\n\t\tuserField.progress = serializedUserField.progress;\n\t\tuserField.deleted = serializedUserField.deleted;\n\n\t\treturn userField;\n\t}\n}\n\nexport {UserField};"],"names":["UserField","data","params","progress","deleted","setData","Type","isPlainObject","isString","languageId","setLanguageId","moduleId","actions","get","add","update","Promise","resolve","reject","errors","push","isSaved","action","length","Ajax","runAction","id","getId","then","response","field","forEach","message","getData","text","Loc","getMessage","Text","toInteger","fieldName","name","console","error","entityId","userTypeId","isArray","items","titleFieldNames","getTitleFieldNames","titleFieldsCount","getLanguageId","index","getName","title","getUserTypeId","settings","LABEL_CHECKBOX","multiple","mandatory","toBoolean","isMultiple","detailUrl","JSON","stringify","serializedData","serializedUserField","parse","userField"],"mappings":"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"}