{"version":3,"file":"dialogs.bundle.js","sources":["../src/messageboxbuttons.js","../src/messagebox.js"],"sourcesContent":["/**\n * @namespace BX.UI.Dialogs\n */\nexport default class MessageBoxButtons {\n\tstatic NONE = \"none\";\n\n\tstatic OK = \"ok\";\n\tstatic CANCEL = \"cancel\";\n\tstatic YES = \"yes\";\n\tstatic NO = \"no\";\n\n\tstatic OK_CANCEL = \"ok_cancel\";\n\tstatic YES_NO = \"yes_no\";\n\tstatic YES_CANCEL = \"yes_cancel\";\n\tstatic YES_NO_CANCEL = \"yes_no_cancel\";\n}","import { Type, Loc, Cache } from 'main.core';\nimport { Popup } from 'main.popup';\nimport MessageBoxButtons from './messageboxbuttons';\nimport 'ui.buttons';\n\n/**\n * @namespace {BX.UI.Dialogs}\n */\nexport default class MessageBox\n{\n\t/** @var {Popup} */\n\tpopupWindow = null;\n\ttitle = null;\n\tmessage = null;\n\tmodal = true;\n\tpopupOptions = {};\n\tminWidth = 300;\n\tminHeight = 150;\n\tmaxWidth = 400;\n\tbuttons = [];\n\tmediumButtonSize: false;\n\tcacheable: false;\n\n\tokCallback = null;\n\tcancelCallback = null;\n\tyesCallback = null;\n\tnoCallback = null;\n\n\tconstructor(options = {})\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\tthis.popupOptions = Type.isPlainObject(options.popupOptions) ? options.popupOptions : {};\n\n\t\tthis.cache = new Cache.MemoryCache();\n\t\tthis.handleButtonClick = this.handleButtonClick.bind(this);\n\n\t\tthis.modal = options.modal !== false;\n\t\tthis.cacheable = options.cacheable === true;\n\n\t\tthis.setTitle(options.title);\n\t\tthis.setMessage(options.message);\n\n\t\tthis.setOkCallback(options.onOk);\n\t\tthis.setCancelCallback(options.onCancel);\n\t\tthis.setYesCallback(options.onYes);\n\t\tthis.setNoCallback(options.onNo);\n\n\t\tif (Type.isBoolean(options.mediumButtonSize))\n\t\t{\n\t\t\tthis.mediumButtonSize = options.mediumButtonSize;\n\t\t}\n\t\telse if (this.getTitle() !== null)\n\t\t{\n\t\t\tthis.mediumButtonSize = true;\n\t\t}\n\n\t\tif (this.isMediumButtonSize())\n\t\t{\n\t\t\tthis.minWidth = 400;\n\t\t\tthis.minHeight = 200;\n\t\t\tthis.maxWidth = 500;\n\t\t}\n\n\t\tthis.minWidth = Type.isNumber(options.minWidth) ? options.minWidth : this.minWidth;\n\t\tthis.minHeight = Type.isNumber(options.minHeight) ? options.minHeight : this.minHeight;\n\t\tthis.maxWidth = Type.isNumber(options.maxWidth) ? options.maxWidth : this.maxWidth;\n\n\t\tthis.setOkCaption(options.okCaption);\n\t\tthis.setCancelCaption(options.cancelCaption);\n\t\tthis.setYesCaption(options.yesCaption);\n\t\tthis.setNoCaption(options.noCaption);\n\n\t\tthis.setButtons(options.buttons);\n\t}\n\n\t/**\n\t * @param {string} message\n\t * @param args\n\t * @example\n\t * BX.UI.Dialogs.{MessageBox.alert('Message');\n\t * BX.UI.Dialogs.MessageBox.alert('Message', (messageBox, button, event) => {});\n\t * BX.UI.Dialogs.MessageBox.alert('Message', (messageBox, button, event) => {}, 'Proceed');\n\t * BX.UI.Dialogs.MessageBox.alert('Message', 'Title');\n\t * BX.UI.Dialogs.MessageBox.alert('Message', 'Title', (messageBox, button, event) => {});\n\t * BX.UI.Dialogs.MessageBox.alert('Message', 'Title', (messageBox, button, event) => {}, 'Proceed');\n\t */\n\tstatic alert(message: string, ...args)\n\t{\n\t\tlet title = null;\n\t\tlet okCallback = null;\n\t\tlet okCaption = null;\n\n\t\tif (args.length)\n\t\t{\n\t\t\tif (Type.isString(args[0]))\n\t\t\t{\n\t\t\t\t[title, okCallback, okCaption] = args;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t[okCallback, okCaption] = args;\n\t\t\t}\n\t\t}\n\n\t\tthis.show({\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\tokCaption,\n\t\t\tonOk: okCallback,\n\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @param {string} message\n\t * @param args\n\t *\n\t * @example\n\t * BX.UI.Dialogs.MessageBox.confirm('Message');\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', () => {});\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', () => {}, 'Proceed');\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', () => {}, 'Proceed', () => {});\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', 'Title');\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', 'Title', () => {});\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', 'Title', () => {}, 'Proceed', () => {});\n\t */\n\tstatic confirm(message: string, ...args)\n\t{\n\t\tlet title = null;\n\t\tlet okCallback = null;\n\t\tlet okCaption = null;\n\t\tlet cancelCallback = null;\n\n\t\tif (args.length)\n\t\t{\n\t\t\tif (Type.isString(args[0]))\n\t\t\t{\n\t\t\t\t[title, okCallback, okCaption, cancelCallback] = args;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t[okCallback, okCaption, cancelCallback] = args;\n\t\t\t}\n\t\t}\n\n\t\tthis.show({\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\tokCaption,\n\t\t\tonOk: okCallback,\n\t\t\tonCancel: cancelCallback,\n\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK_CANCEL\n\t\t});\n\t}\n\n\tstatic show(options = {})\n\t{\n\t\tconst messageBox = this.create(options);\n\t\tmessageBox.show();\n\t}\n\n\tstatic create(options = {})\n\t{\n\t\treturn new this(options);\n\t}\n\n\tshow()\n\t{\n\t\tif (this.getPopupWindow().isDestroyed())\n\t\t{\n\t\t\tthis.popupWindow = null;\n\t\t}\n\n\t\tthis.getPopupWindow().show();\n\t}\n\n\tclose()\n\t{\n\t\tthis.getPopupWindow().close();\n\t}\n\n\t/**\n\t *\n\t * @returns {PopupWindow}\n\t */\n\tgetPopupWindow()\n\t{\n\t\tif (this.popupWindow === null)\n\t\t{\n\t\t\tthis.popupWindow = new Popup({\n\t\t\t\tbindElement: null,\n\t\t\t\tclassName: this.isMediumButtonSize() ? 'ui-message-box ui-message-box-medium-buttons' : 'ui-message-box',\n\t\t\t\tcontent: this.getMessage(),\n\t\t\t\ttitleBar: this.getTitle(),\n\t\t\t\tminWidth: this.minWidth,\n\t\t\t\tminHeight: this.minHeight,\n\t\t\t\tmaxWidth: this.maxWidth,\n\t\t\t\toverlay: this.modal ? { opacity: 20 } : null,\n\t\t\t\tcacheable: this.cacheable,\n\t\t\t\tcloseIcon: false,\n\t\t\t\tcontentBackground: 'transparent',\n\t\t\t\tpadding: 0,\n\t\t\t\tbuttons: this.getButtons(),\n\t\t\t\t...this.popupOptions\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupWindow;\n\t}\n\n\tsetMessage(message: string | Element | Node)\n\t{\n\t\tif (Type.isString(message) || Type.isDomNode(message))\n\t\t{\n\t\t\tthis.message = message;\n\n\t\t\tif (this.popupWindow !== null)\n\t\t\t{\n\t\t\t\tthis.popupWindow.setContent(message);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {?string|Element|Node}\n\t */\n\tgetMessage(): string | Element | Node\n\t{\n\t\treturn this.message;\n\t}\n\n\tsetTitle(title: string)\n\t{\n\t\tif (Type.isString(title))\n\t\t{\n\t\t\tthis.title = title;\n\n\t\t\tif (this.popupWindow !== null)\n\t\t\t{\n\t\t\t\tthis.popupWindow.setTitleBar(title);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {?string}\n\t */\n\tgetTitle()\n\t{\n\t\treturn this.title;\n\t}\n\n\t/**\n\t *\n\t * @param {string|BX.UI.Button[]} buttons\n\t */\n\tsetButtons(buttons)\n\t{\n\t\tif (Type.isArray(buttons))\n\t\t{\n\t\t\tthis.buttons = buttons;\n\t\t}\n\t\telse if (Type.isString(buttons))\n\t\t{\n\t\t\tthis.buttons = this.getButtonsLayout(buttons);\n\t\t}\n\n\t\tif (this.popupWindow !== null)\n\t\t{\n\t\t\tthis.popupWindow.setButtons(this.buttons);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button[]}\n\t */\n\tgetButtons()\n\t{\n\t\treturn this.buttons;\n\t}\n\n\tsetOkCaption(caption: string)\n\t{\n\t\tif (Type.isString(caption))\n\t\t{\n\t\t\tthis.getOkButton().setText(caption);\n\t\t}\n\t}\n\n\tsetCancelCaption(caption: string)\n\t{\n\t\tif (Type.isString(caption))\n\t\t{\n\t\t\tthis.getCancelButton().setText(caption);\n\t\t}\n\t}\n\n\tsetYesCaption(caption: string)\n\t{\n\t\tif (Type.isString(caption))\n\t\t{\n\t\t\tthis.getYesButton().setText(caption);\n\t\t}\n\t}\n\n\tsetNoCaption(caption: string)\n\t{\n\t\tif (Type.isString(caption))\n\t\t{\n\t\t\tthis.getNoButton().setText(caption);\n\t\t}\n\t}\n\n\tsetOkCallback(fn: Function)\n\t{\n\t\tif (Type.isFunction(fn))\n\t\t{\n\t\t\tthis.okCallback = fn;\n\t\t}\n\t}\n\n\tsetCancelCallback(fn: Function)\n\t{\n\t\tif (Type.isFunction(fn))\n\t\t{\n\t\t\tthis.cancelCallback = fn;\n\t\t}\n\t}\n\n\tsetYesCallback(fn: Function)\n\t{\n\t\tif (Type.isFunction(fn))\n\t\t{\n\t\t\tthis.yesCallback = fn;\n\t\t}\n\t}\n\n\tsetNoCallback(fn: Function)\n\t{\n\t\tif (Type.isFunction(fn))\n\t\t{\n\t\t\tthis.noCallback = fn;\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {boolean}\n\t */\n\tisMediumButtonSize()\n\t{\n\t\treturn this.mediumButtonSize;\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button}\n\t */\n\tgetOkButton()\n\t{\n\t\treturn this.cache.remember('okBtn', () => {\n\t\t\treturn new BX.UI.Button({\n\t\t\t\tid: MessageBoxButtons.OK,\n\t\t\t\tsize: this.isMediumButtonSize() ? BX.UI.Button.Size.MEDIUM : BX.UI.Button.Size.SMALL,\n\t\t\t\tcolor: BX.UI.Button.Color.PRIMARY,\n\t\t\t\ttext: Loc.getMessage('UI_MESSAGE_BOX_OK_CAPTION'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleButtonClick\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button}\n\t */\n\tgetCancelButton()\n\t{\n\t\treturn this.cache.remember('cancelBtn', () => {\n\t\t\treturn new BX.UI.CancelButton({\n\t\t\t\tid: MessageBoxButtons.CANCEL,\n\t\t\t\tsize: this.isMediumButtonSize() ? BX.UI.Button.Size.MEDIUM : BX.UI.Button.Size.SMALL,\n\t\t\t\ttext: Loc.getMessage('UI_MESSAGE_BOX_CANCEL_CAPTION'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleButtonClick\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button}\n\t */\n\tgetYesButton()\n\t{\n\t\treturn this.cache.remember('yesBtn', () => {\n\t\t\treturn new BX.UI.Button({\n\t\t\t\tid: MessageBoxButtons.YES,\n\t\t\t\tsize: this.isMediumButtonSize() ? BX.UI.Button.Size.MEDIUM : BX.UI.Button.Size.SMALL,\n\t\t\t\tcolor: BX.UI.Button.Color.PRIMARY,\n\t\t\t\ttext: Loc.getMessage('UI_MESSAGE_BOX_YES_CAPTION'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleButtonClick\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button}\n\t */\n\tgetNoButton()\n\t{\n\t\treturn this.cache.remember('noBtn', () => {\n\t\t\treturn new BX.UI.Button({\n\t\t\t\tid: MessageBoxButtons.NO,\n\t\t\t\tsize: this.isMediumButtonSize() ? BX.UI.Button.Size.MEDIUM : BX.UI.Button.Size.SMALL,\n\t\t\t\tcolor: BX.UI.Button.Color.LIGHT_BORDER,\n\t\t\t\ttext: Loc.getMessage('UI_MESSAGE_BOX_NO_CAPTION'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleButtonClick\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @param buttons\n\t * @returns {BX.UI.Button[]}\n\t */\n\tgetButtonsLayout(buttons)\n\t{\n\t\tswitch (buttons)\n\t\t{\n\t\t\tcase MessageBoxButtons.OK:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getOkButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.CANCEL:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getCancelButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.YES:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getYesButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.NO:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getNoButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.OK_CANCEL:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getOkButton(),\n\t\t\t\t\tthis.getCancelButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.YES_NO:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getYesButton(),\n\t\t\t\t\tthis.getNoButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.YES_CANCEL:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getYesButton(),\n\t\t\t\t\tthis.getCancelButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.YES_NO_CANCEL:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getYesButton(),\n\t\t\t\t\tthis.getNoButton(),\n\t\t\t\t\tthis.getCancelButton()\n\t\t\t\t];\n\t\t\tdefault:\n\t\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param {BX.UI.Button} button\n\t * @param event\n\t */\n\thandleButtonClick(button, event)\n\t{\n\t\tif (button.isDisabled())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tbutton.setDisabled(); // prevent a double click\n\n\t\tconst fn = this[`${button.getId()}Callback`];\n\t\tif (!fn)\n\t\t{\n\t\t\tbutton.setDisabled(false);\n\t\t\tthis.close();\n\t\t\treturn;\n\t\t}\n\n\t\tconst result = fn(this, button, event);\n\n\t\tif (result === true)\n\t\t{\n\t\t\tbutton.setDisabled(false);\n\t\t\tthis.close();\n\t\t}\n\t\telse if (result === false)\n\t\t{\n\t\t\tbutton.setDisabled(false);\n\t\t}\n\t\telse if (\n\t\t\tresult &&\n\t\t\t(\n\t\t\t\tObject.prototype.toString.call(result) === '[object Promise]' ||\n\t\t\t\tresult.toString() === '[object BX.Promise]'\n\t\t\t)\n\t\t)\n\t\t{\n\t\t\tbutton.setWaiting();\n\t\t\tresult.then(result => {\n\t\t\t\t\tbutton.setWaiting(false);\n\t\t\t\t\tthis.close();\n\t\t\t\t},\n\t\t\t\treason => {\n\t\t\t\t\tbutton.setWaiting(false);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n}"],"names":["MessageBoxButtons","MessageBox","options","Type","isPlainObject","popupOptions","cache","Cache","MemoryCache","handleButtonClick","bind","modal","cacheable","setTitle","title","setMessage","message","setOkCallback","onOk","setCancelCallback","onCancel","setYesCallback","onYes","setNoCallback","onNo","isBoolean","mediumButtonSize","getTitle","isMediumButtonSize","minWidth","minHeight","maxWidth","isNumber","setOkCaption","okCaption","setCancelCaption","cancelCaption","setYesCaption","yesCaption","setNoCaption","noCaption","setButtons","buttons","getPopupWindow","isDestroyed","popupWindow","show","close","Popup","bindElement","className","content","getMessage","titleBar","overlay","opacity","closeIcon","contentBackground","padding","getButtons","isString","isDomNode","setContent","setTitleBar","isArray","getButtonsLayout","caption","getOkButton","setText","getCancelButton","getYesButton","getNoButton","fn","isFunction","okCallback","cancelCallback","yesCallback","noCallback","remember","BX","UI","Button","id","OK","size","Size","MEDIUM","SMALL","color","Color","PRIMARY","text","Loc","events","click","CancelButton","CANCEL","YES","NO","LIGHT_BORDER","OK_CANCEL","YES_NO","YES_CANCEL","YES_NO_CANCEL","button","event","isDisabled","setDisabled","getId","result","Object","prototype","toString","call","setWaiting","then","reason","args","length","Dialogs","messageBox","create"],"mappings":"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"}