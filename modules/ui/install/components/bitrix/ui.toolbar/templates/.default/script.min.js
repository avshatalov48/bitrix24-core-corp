(function(){"use strict";BX.namespace("BX.UI");BX.UI.Toolbar=function(t,i){t=BX.type.isPlainObject(t)?t:{};this.titleMinWidth=BX.type.isNumber(t.titleMinWidth)?t.titleMinWidth:158;this.titleMaxWidth=BX.type.isNumber(t.titleMaxWidth)?t.titleMaxWidth:"";this.filterMinWidth=BX.type.isNumber(t.filterMinWidth)?t.filterMinWidth:300;this.filterMaxWidth=BX.type.isNumber(t.filterMaxWidth)?t.filterMaxWidth:748;this.toolbarContainer=i;this.titleContainer=this.toolbarContainer.querySelector(".ui-toolbar-title-box");this.filterContainer=this.toolbarContainer.querySelector(".ui-toolbar-filter-box");this.buttonContainer=this.toolbarContainer.querySelector(".ui-toolbar-btn-box");if(!this.filterContainer){this.filterMinWidth=0;this.filterMaxWidth=0}if(!this.buttonContainer){return}this.items=this.toolbarContainer.querySelectorAll(".ui-btn, .ui-btn-split");this.buttonIds=t.buttonIds||[];this.windowWidth=document.body.offsetWidth;this.setItemsOriginalWidth();this.reduceItemsWidth();window.addEventListener("resize",function(){if(this.isWindowIncreased()){this.increaseItemsWidth()}else{this.reduceItemsWidth()}}.bind(this))};BX.UI.Toolbar.prototype={getButtons:function(){return this.buttonIds.map(function(t){return BX.UI.ButtonManager.getByUniqid(t)})},isWindowIncreased:function(){var t=this.windowWidth;var i=document.body.offsetWidth;this.windowWidth=i;return i>t},getContainerSize:function(){return this.toolbarContainer.offsetWidth},getInnerTotalWidth:function(){return(this.titleContainer?this.titleContainer.offsetWidth:0)+(this.filterContainer?this.filterContainer.offsetWidth:0)+this.buttonContainer.offsetWidth},setItemsOriginalWidth:function(){for(var t=0;t<this.items.length;t++){this.items[t].originalWidth=this.items[t].offsetWidth}},reduceItemsWidth:function(){var t=navigator.userAgent.toLowerCase();if(t.indexOf("safari")!==-1||t.indexOf("firefox")!==-1||t.indexOf("MSIE")!==-1){if(t.indexOf("chrome")>-1){if(this.getInnerTotalWidth()<=this.getContainerSize()){return}}else{if(this.getInnerTotalWidth()<=this.getContainerSize()+1){return}}}for(var i=this.items.length-1;i>=0;i--){var e=this.items[i];if(t.indexOf("safari")!==-1){if(t.indexOf("chrome")>-1){if(this.getInnerTotalWidth()<=this.getContainerSize()){break}}else{if(this.getInnerTotalWidth()<=this.getContainerSize()+1){break}}}if(!e.classList.contains("ui-toolbar-btn-minimize")){e.classList.add("ui-toolbar-btn-minimize","ui-btn-empty");if(e.classList.contains("ui-btn-primary")&&!e.classList.contains("ui-btn-dropdown")){e.classList.add("ui-btn-icon-add")}if(e.classList.contains("ui-toolbar-btn-count")){e.classList.add("ui-btn-icon-list")}if(e.classList.contains("ui-toolbar-btn-dropdown")){e.classList.add("ui-btn-icon-page")}}}},increaseItemsWidth:function(){for(var t=0;t<this.items.length;t++){var i=this.items[t];var e=this.calculateItemsWidth();if(!i.classList.contains("ui-toolbar-btn-minimize")){continue}var n=this.titleMinWidth+this.filterMinWidth+e+(i.originalWidth-i.offsetWidth);var s=this.getContainerSize();if(n>s){break}i.classList.remove("ui-toolbar-btn-minimize","ui-btn-empty");if(i.classList.contains("ui-btn-primary")&&!i.classList.contains("ui-btn-dropdown")){i.classList.remove("ui-btn-icon-add")}if(i.classList.contains("ui-toolbar-btn-count")){i.classList.remove("ui-btn-icon-list","ui-btn-empty")}if(i.classList.contains("ui-toolbar-btn-dropdown")){i.classList.remove("ui-btn-icon-page","ui-btn-empty")}}},calculateItemsWidth:function(){var t=0;for(var i=this.items.length-1;i>=0;i--){var e=window.getComputedStyle(this.items[i]);var n=this.items[i].offsetWidth;var s=parseInt(e.marginLeft,10);t+=n+s}return t}}})();
//# sourceMappingURL=script.map.js