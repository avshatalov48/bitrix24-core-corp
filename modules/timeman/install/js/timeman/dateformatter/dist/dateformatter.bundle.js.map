{"version":3,"file":"dateformatter.bundle.js","sources":["../src/dateformatter.js"],"sourcesContent":["import {Type} from 'main.core';\n\nclass DateFormatter\n{\n\tinit(params)\n\t{\n\t\tthis.formatLong = params.long;\n\t\tthis.formatShort = params.short;\n\n\t\tthis.isInitialized = true;\n\t}\n\n\tisInit()\n\t{\n\t\treturn this.isInitialized;\n\t}\n\n\ttoLong(date)\n\t{\n\t\tif (!this.isInit())\n\t\t{\n\t\t\tthrow new Error(\"DateFormatter has not been initialized.\");\n\t\t}\n\n\t\treturn this.format(this.formatLong, date);\n\t}\n\n\ttoShort(date)\n\t{\n\t\tif (!this.isInit())\n\t\t{\n\t\t\tthrow new Error(\"DateFormatter has not been initialized.\");\n\t\t}\n\n\t\treturn this.format(this.formatShort, date);\n\t}\n\n\tformat(format, date)\n\t{\n\t\tif (!Type.isDate(date))\n\t\t{\n\t\t\tdate = new Date(date);\n\t\t}\n\n\t\tif (isNaN(date))\n\t\t{\n\t\t\tthrow new Error(\"DateFormatter: Invalid date.\");\n\t\t}\n\n\t\treturn BX.date.format(format, date);\n\t}\n\n\ttoString(date)\n\t{\n\t\tif (!Type.isDate(date))\n\t\t{\n\t\t\tdate = new Date(date);\n\t\t}\n\n\t\tif (isNaN(date))\n\t\t{\n\t\t\tthrow new Error(\"DateFormatter: Invalid date.\");\n\t\t}\n\n\t\tconst addZero = num => (num >= 0 && num <= 9) ? '0' + num : num;\n\n\t\tconst year = date.getFullYear();\n\t\tconst month = addZero(date.getMonth() + 1);\n\t\tconst day = addZero(date.getDate());\n\n\t\treturn year + '-' + month + '-' + day;\n\t}\n}\n\nconst dateFormatter = new DateFormatter();\n\nexport {dateFormatter as DateFormatter};"],"names":["DateFormatter","params","formatLong","long","formatShort","short","isInitialized","date","isInit","Error","format","Type","isDate","Date","isNaN","BX","addZero","num","year","getFullYear","month","getMonth","day","getDate","dateFormatter"],"mappings":";;;;KAEMA;;;;;;;0BAEAC,QACL;CACC,WAAKC,UAAL,GAAkBD,MAAM,CAACE,IAAzB;CACA,WAAKC,WAAL,GAAmBH,MAAM,CAACI,KAA1B;CAEA,WAAKC,aAAL,GAAqB,IAArB;CACA;;;8BAGD;CACC,aAAO,KAAKA,aAAZ;CACA;;;4BAEMC,MACP;CACC,UAAI,CAAC,KAAKC,MAAL,EAAL,EACA;CACC,cAAM,IAAIC,KAAJ,CAAU,yCAAV,CAAN;CACA;;CAED,aAAO,KAAKC,MAAL,CAAY,KAAKR,UAAjB,EAA6BK,IAA7B,CAAP;CACA;;;6BAEOA,MACR;CACC,UAAI,CAAC,KAAKC,MAAL,EAAL,EACA;CACC,cAAM,IAAIC,KAAJ,CAAU,yCAAV,CAAN;CACA;;CAED,aAAO,KAAKC,MAAL,CAAY,KAAKN,WAAjB,EAA8BG,IAA9B,CAAP;CACA;;;4BAEMG,SAAQH,MACf;CACC,UAAI,CAACI,cAAI,CAACC,MAAL,CAAYL,IAAZ,CAAL,EACA;CACCA,QAAAA,IAAI,GAAG,IAAIM,IAAJ,CAASN,IAAT,CAAP;CACA;;CAED,UAAIO,KAAK,CAACP,IAAD,CAAT,EACA;CACC,cAAM,IAAIE,KAAJ,CAAU,8BAAV,CAAN;CACA;;CAED,aAAOM,EAAE,CAACR,IAAH,CAAQG,MAAR,CAAeA,OAAf,EAAuBH,IAAvB,CAAP;CACA;;;8BAEQA,MACT;CACC,UAAI,CAACI,cAAI,CAACC,MAAL,CAAYL,IAAZ,CAAL,EACA;CACCA,QAAAA,IAAI,GAAG,IAAIM,IAAJ,CAASN,IAAT,CAAP;CACA;;CAED,UAAIO,KAAK,CAACP,IAAD,CAAT,EACA;CACC,cAAM,IAAIE,KAAJ,CAAU,8BAAV,CAAN;CACA;;CAED,UAAMO,OAAO,GAAG,SAAVA,OAAU,CAAAC,GAAG;CAAA,eAAKA,GAAG,IAAI,CAAP,IAAYA,GAAG,IAAI,CAApB,GAAyB,MAAMA,GAA/B,GAAqCA,GAAzC;CAAA,OAAnB;;CAEA,UAAMC,IAAI,GAAGX,IAAI,CAACY,WAAL,EAAb;CACA,UAAMC,KAAK,GAAGJ,OAAO,CAACT,IAAI,CAACc,QAAL,KAAkB,CAAnB,CAArB;CACA,UAAMC,GAAG,GAAGN,OAAO,CAACT,IAAI,CAACgB,OAAL,EAAD,CAAnB;CAEA,aAAOL,IAAI,GAAG,GAAP,GAAaE,KAAb,GAAqB,GAArB,GAA2BE,GAAlC;CACA;;;;;AAGF,KAAME,aAAa,GAAG,IAAIxB,aAAJ,EAAtB;;;;;;;;"}