this.BX=this.BX||{};this.BX.Timeman=this.BX.Timeman||{};(function(t,n,e,s){"use strict";n.Vue.component("bx-timeman-component-day-control",{props:["isButtonCloseHidden"],data:function t(){return{status:e.DayState.unknown}},computed:{DayState:function t(){return e.DayState}},mounted:function t(){var n=this;this.getDayStatus();s.PULL.subscribe({type:s.PullClient.SubscriptionType.Server,moduleId:"timeman",command:"changeDayState",callback:function t(e,s,i){n.getDayStatus()}})},methods:{getDayStatus:function t(){this.callRestMethod("timeman.status",{},this.setStatusByResult)},openDay:function t(){this.callRestMethod("timeman.open",{},this.setStatusByResult)},pauseDay:function t(){this.callRestMethod("timeman.pause",{},this.setStatusByResult)},closeDay:function t(){this.callRestMethod("timeman.close",{},this.setStatusByResult)},callRestMethod:function t(n,e,s){this.$Bitrix.RestClient.get().callMethod(n,e,s)},setStatusByResult:function t(n){if(!n.error()){this.status=n.data().STATUS}}},template:'\n\t\t<div class="bx-timeman-component-day-control-wrap">\n\t\t\t<button\n\t\t\t\tv-if="this.status === DayState.unknown"\n\t\t\t\tclass="ui-btn ui-btn-default ui-btn-wait ui-btn-disabled"\n\t\t\t\tstyle="width: 130px"\n\t\t\t/>\n\t\t\t\n\t\t\t<button \n\t\t\t\tv-if="this.status === DayState.closed" \n\t\t\t\t@click="openDay"\n\t\t\t\tclass="ui-btn ui-btn-success ui-btn-icon-start"\n\t\t\t>\n\t\t\t\t{{ $Bitrix.Loc.getMessage(\'TIMEMAN_DAY_CONTROL_REPORT_DAY_REOPEN\') }}\n\t\t\t</button>\n\t\t\t\n\t\t\t<template v-if="this.status === DayState.opened">\n\t\t\t\t<button\n\t\t\t\t\t@click="pauseDay"\n\t\t\t\t\tclass="ui-btn ui-btn-icon-pause tm-btn-pause"\n\t\t\t\t>\n\t\t\t\t{{ $Bitrix.Loc.getMessage(\'TIMEMAN_DAY_CONTROL_REPORT_DAY_PAUSE\') }}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tv-if="!isButtonCloseHidden"\n\t\t\t\t\t@click="closeDay"\n\t\t\t\t\tclass="ui-btn ui-btn-danger ui-btn-icon-stop"\n\t\t\t\t>\n\t\t\t\t{{ $Bitrix.Loc.getMessage(\'TIMEMAN_DAY_CONTROL_REPORT_DAY_FINISH\') }}\n\t\t\t\t</button>\n\t\t\t</template>\n\t\t\t\n\t\t\t<template v-if="this.status === DayState.paused">\n\t\t\t\t<button\n\t\t\t\t\t@click="openDay"\n\t\t\t\t\tclass="ui-btn ui-btn-icon-start tm-btn-start"\n\t\t\t\t>\n\t\t\t\t{{ $Bitrix.Loc.getMessage(\'TIMEMAN_DAY_CONTROL_REPORT_DAY_RESUME\') }}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tv-if="!isButtonCloseHidden"\n\t\t\t\t\t@click="closeDay"\n\t\t\t\t\tclass="ui-btn ui-btn-danger ui-btn-icon-stop"\n\t\t\t\t>\n\t\t\t\t{{ $Bitrix.Loc.getMessage(\'TIMEMAN_DAY_CONTROL_REPORT_DAY_FINISH\') }}\n\t\t\t\t</button>\n\t\t\t</template>\n\t\t\t\n\t\t\t<button\n\t\t\t\tv-if="this.status === DayState.expired && !isButtonCloseHidden"\n\t\t\t\t@click="closeDay"\n\t\t\t\tclass="ui-btn ui-btn-danger ui-btn-icon-stop"\n\t\t\t>\n\t\t\t\t{{ $Bitrix.Loc.getMessage(\'TIMEMAN_DAY_CONTROL_REPORT_DAY_FINISH\') }}\n\t\t\t</button>\n\t\t</div>\n\t'})})(this.BX.Timeman.Component=this.BX.Timeman.Component||{},BX,BX.Timeman.Const,BX);
//# sourceMappingURL=day-control.bundle.map.js