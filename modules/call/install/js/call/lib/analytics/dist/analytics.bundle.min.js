this.BX=this.BX||{};this.BX.Call=this.BX.Call||{};(function(e,a){"use strict";const l=Object.freeze({clickScreenshare:"click_screenshare",startScreenshare:"start_screenshare",finishScreenshare:"finish_screenshare",connect:"connect",startCall:"start_call",reconnect:"reconnect",addUser:"add_user",disconnect:"disconnect",finishCall:"finish_call",clickRecord:"click_record",recordStart:"record_start",recordStop:"record_stop",clickAnswer:"click_answer",clickDeny:"click_deny",cameraOn:"camera_on",cameraOff:"camera_off",micOn:"mic_on",micOff:"mic_off",clickUserFrame:"click_user_frame",handOn:"hand_on",clickChat:"click_chat",click:"click",create:"create",edit:"edit",save:"save",upload:"upload",openResume:"open_resume"});const t=Object.freeze({im:"im"});const c=Object.freeze({call:"call",callDocs:"call_docs"});const o=Object.freeze({private:"private",group:"group",videoconf:"videoconf",resume:"resume",doc:"doc",presentation:"presentation",sheet:"sheet"});const n=Object.freeze({callWindow:"call_window",callPopup:"call_popup",chatList:"chat_list",chatWindow:"chat_window"});const s=Object.freeze({finishButton:"finish_button",contextMenu:"context_menu",window:"window"});const i=Object.freeze({answerButton:"answer_button",joinButton:"join_button",videocall:"videocall",recordButton:"record_button",disconnectButton:"disconnect_button",finishForAllButton:"finish_for_all_button",videoButton:"video_button",audioButton:"audio_button"});const r=Object.freeze({success:"success",decline:"decline",busy:"busy",noAnswer:"no_answer",quit:"quit",lastUserLeft:"last_user_left",finishedForAll:"finished_for_all",privateToGroup:"private_to_group"});const d=Object.freeze({videoOn:"video_on",videoOff:"video_off",micOn:"mic_on",micOff:"mic_off"});var p=babelHelpers.classPrivateFieldLooseKey("instance");var u=babelHelpers.classPrivateFieldLooseKey("screenShareStarted");var _=babelHelpers.classPrivateFieldLooseKey("recordStarted");class m{constructor(){Object.defineProperty(this,u,{writable:true,value:false});Object.defineProperty(this,_,{writable:true,value:false})}static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,p)[p]){babelHelpers.classPrivateFieldLooseBase(this,p)[p]=new this}return babelHelpers.classPrivateFieldLooseBase(this,p)[p]}onScreenShareBtnClick({callId:e,callType:o}){if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]){return}a.sendData({tool:t.im,category:c.call,event:l.clickScreenshare,type:o,c_section:n.callWindow,p5:`callId_${e}`})}onScreenShareStarted({callId:e,callType:o}){babelHelpers.classPrivateFieldLooseBase(this,u)[u]=true;a.sendData({tool:t.im,category:c.call,event:l.startScreenshare,type:o,c_section:n.callWindow,p5:`callId_${e}`})}onScreenShareStopped({callId:e,callType:o,status:s,screenShareLength:i}){if(!babelHelpers.classPrivateFieldLooseBase(this,u)[u]){return}babelHelpers.classPrivateFieldLooseBase(this,u)[u]=false;a.sendData({tool:t.im,category:c.call,event:l.finishScreenshare,type:o,c_section:n.callWindow,status:s,p1:`shareLength_${i}`,p5:`callId_${e}`})}onAnswerConference(e){a.sendData({tool:t.im,category:c.call,event:l.clickAnswer,type:o.videoconf,c_section:n.callPopup,p5:`callId_${e.callId}`})}onDeclineConference(e){a.sendData({tool:t.im,category:c.call,event:l.clickDeny,type:o.videoconf,c_section:n.callPopup,p5:`callId_${e.callId}`})}onStartVideoconf(e){a.sendData({tool:t.im,category:c.call,event:l.startCall,type:o.videoconf,c_element:e.withVideo?i.videoButton:i.audioButton,status:e.status,p1:e.mediaParams.video?d.videoOn:d.videoOff,p2:e.mediaParams.audio?d.micOn:d.micOff,p5:`callId_${e.callId}`})}onJoinVideoconf(e){a.sendData({tool:t.im,category:c.call,event:l.connect,type:o.videoconf,c_element:e.withVideo?i.videoButton:i.audioButton,status:e.status,p1:e.mediaParams.video?d.videoOn:d.videoOff,p2:e.mediaParams.audio?d.micOn:d.micOff,p5:`callId_${e.callId}`})}onStartCall(e){a.sendData({tool:t.im,category:c.call,event:l.startCall,type:e.callType,status:e.status,p1:e.mediaParams.video?d.videoOn:d.videoOff,p2:e.mediaParams.audio?d.micOn:d.micOff,p5:`callId_${e.callId}`})}onJoinCall(e){const o={tool:t.im,category:c.call,event:l.connect,type:e.callType,status:e.status,p5:`callId_${e.callId}`};if(e.section){o.c_section=e.section}if(e.element){o.c_element=e.element}if(e.mediaParams){o.p1=e.mediaParams.video?d.videoOn:d.videoOff;o.p2=e.mediaParams.audio?d.micOn:d.micOff}a.sendData(o)}onReconnect(e){a.sendData({tool:t.im,category:c.call,event:l.reconnect,type:e.callType,c_section:n.callWindow,status:e.status,p4:`attemptNumber_${e.reconnectionEventCount}`,p5:`callId_${e.callId}`})}onInviteUser(e){a.sendData({tool:t.im,category:c.call,event:l.addUser,type:e.callType,c_section:n.callWindow,p4:`chatId_${this.normalizeChatId(e.chatId)}`,p5:`callId_${e.callId}`})}onDisconnectCall(e){a.sendData({tool:t.im,category:c.call,event:l.disconnect,type:e.callType,c_section:n.callWindow,c_sub_section:e.subSection,status:r.quit,p1:e.mediaParams.video?d.videoOn:d.videoOff,p2:e.mediaParams.audio?d.micOn:d.micOff,p5:`callId_${e.callId}`})}onFinishCall(e){a.sendData({tool:t.im,category:c.call,event:l.finishCall,type:e.callType,c_section:n.callWindow,status:e.status,p1:`callLength_${e.callLength}`,p3:`maxUserCount_${e.callUsersCount}`,p4:`chatId_${this.normalizeChatId(e.chatId)}`,p5:`callId_${e.callId}`})}onRecordBtnClick(e){if(babelHelpers.classPrivateFieldLooseBase(this,_)[_]){return}a.sendData({tool:t.im,category:c.call,event:l.clickRecord,type:e.callType,c_section:n.callWindow,c_element:i.recordButton,p5:`callId_${e.callId}`})}onRecordStart(e){if(babelHelpers.classPrivateFieldLooseBase(this,_)[_]){return}babelHelpers.classPrivateFieldLooseBase(this,_)[_]=true;a.sendData({tool:t.im,category:c.call,event:l.recordStart,type:e.callType,c_section:n.callWindow,status:r.success,p5:`callId_${e.callId}`})}onRecordStop(e){if(!babelHelpers.classPrivateFieldLooseBase(this,_)[_]){return}babelHelpers.classPrivateFieldLooseBase(this,_)[_]=false;a.sendData({tool:t.im,category:c.call,event:l.recordStop,type:e.callType,c_section:n.callWindow,c_sub_section:e.subSection,c_element:e.element,p1:`recordLength_${e==null?void 0:e.recordTime}`,p5:`callId_${e.callId}`})}onToggleCamera(e){a.sendData({tool:t.im,category:c.call,event:e.video?l.cameraOn:l.cameraOff,type:e.callType,c_section:n.callWindow,p5:`callId_${e.callId}`})}onToggleMicrophone(e){a.sendData({tool:t.im,category:c.call,event:e.muted?l.micOff:l.micOn,type:e.callType,c_section:n.callWindow,p5:`callId_${e.callId}`})}onClickUser(e){a.sendData({tool:t.im,category:c.call,event:l.clickUserFrame,type:e.callType,c_section:n.callWindow,c_sub_section:e.layout.toLowerCase(),p5:`callId_${e.callId}`})}onFloorRequest(e){a.sendData({tool:t.im,category:c.call,event:l.handOn,type:e.callType,c_section:n.callWindow,p5:`callId_${e.callId}`})}onShowChat(e){a.sendData({tool:t.im,category:c.call,event:l.clickChat,type:e.callType,c_section:n.callWindow,p5:`callId_${e.callId}`})}onDocumentBtnClick(e){a.sendData({tool:t.im,category:c.callDocs,event:l.click,p4:`callType_${e.callType}`,p5:`callId_${e.callId}`})}onDocumentCreate(e){a.sendData({tool:t.im,category:c.callDocs,event:l.create,type:e.type,p4:`callType_${e.callType}`,p5:`callId_${e.callId}`})}onDocumentClose(e){a.sendData({tool:t.im,category:c.callDocs,event:l.save,type:e.type,p4:`callType_${e.callType}`,p5:`callId_${e.callId}`})}onDocumentUpload(e){a.sendData({tool:t.im,category:c.callDocs,event:l.upload,type:e.type,p4:`callType_${e.callType}`,p5:`callId_${e.callId}`})}onLastResumeOpen(e){a.sendData({tool:t.im,category:c.callDocs,event:l.openResume,p4:`callType_${e.callType}`,p5:`callId_${e.callId}`})}normalizeChatId(e){if(!e){return 0}if(e.includes("chat")){e=e.replace("chat","")}return e}}Object.defineProperty(m,p,{writable:true,value:void 0});m.AnalyticsType=o;m.AnalyticsStatus=r;m.AnalyticsSection=n;m.AnalyticsElement=i;m.AnalyticsSubSection=s;e.Analytics=m})(this.BX.Call.Lib=this.BX.Call.Lib||{},BX.UI.Analytics);
//# sourceMappingURL=analytics.bundle.map.js