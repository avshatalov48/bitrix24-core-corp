(function(){"use strict";BX.namespace("BX.Market.Application");if(!BX.Market.Application){return}BX.Market.Application={inited:false,linkInstall:"",subscriptionLinkBuy:"",subscriptionBuyLandingCode:"",iframe:true,autoClose:false,init:function(){if(!this.inited){this.inited=true;return new Promise((i=>{BX.ajax.runAction("market.Application.getContext").then((t=>{this.linkInstall=t.data.linkInstall;this.subscriptionLinkBuy=t.data.subscriptionLinkBuy;this.subscriptionBuyLandingCode=t.data.subscriptionBuyLandingCode;i()}))}))}else{return new Promise((i=>i()))}},openDemo:function(){this.init().then((()=>{if(this.subscriptionBuyLandingCode!==""){top.BX.UI.InfoHelper.show(this.subscriptionBuyLandingCode)}}))},openBuySubscription:function(){this.init().then((()=>{if(this.subscriptionLinkBuy!==""){window.open(this.subscriptionLinkBuy,"_blank")}}))},setRights:function(i){this.init().then((()=>{BX.Access.Init({other:{disabled:false,disabled_g2:true,disabled_cr:true},groups:{disabled:true},socnetgroups:{disabled:true}});BX.ajax.runAction("market.Application.getRights",{data:{appCode:i.code},analyticsLabel:{from:i["from"]??""},method:"POST"}).then((t=>{var n=t.data;BX.Access.SetSelected(n,"bind");BX.Access.ShowForm({bind:"bind",showSelected:true,callback:function(t){BX.ajax.runAction("market.Application.setRights",{data:{appCode:i.code,rights:t??[]},analyticsLabel:{from:i["from"]??""},method:"POST"})}})}))}))}}})();
//# sourceMappingURL=application.map.js