{"version":3,"file":"script.js","sources":["src/grid-controller.js","src/settings-form.js","src/index.js"],"sourcesContent":["import { Type } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\n\nexport class GridController\n{\n\tgrid: BX.Main.Grid;\n\n\tconstructor(options)\n\t{\n\t\tthis.grid = BX.Main.gridManager.getInstanceById(options.gridId);\n\n\t\tthis.initGrid();\n\t}\n\n\tgetGridBodyRows(): Array\n\t{\n\t\treturn this.grid.getRows().getBodyChild();\n\t}\n\n\tinitGrid(): void\n\t{\n\t\tEventEmitter.subscribe('Grid::updated', (event) => {\n\t\t\tconst grid = event.getCompatData()[0];\n\t\t\tif (grid && grid.getId() === this.grid.getId())\n\t\t\t{\n\t\t\t\tconst delayToExitStream = 10;\n\t\t\t\tsetTimeout(this.initGridRows.bind(this), delayToExitStream);\n\t\t\t}\n\t\t});\n\n\t\tthis.initGridRows();\n\t}\n\n\tinitGridRows(): void\n\t{\n\t\tconst bodyRows = this.getGridBodyRows();\n\t\tif (bodyRows.length === 0)\n\t\t{\n\t\t\tfor (let i = 0; i < 5; i++)\n\t\t\t{\n\t\t\t\tthis.prependRowEditor();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbodyRows.forEach((row) => {\n\t\t\t\trow.edit();\n\t\t\t});\n\t\t}\n\t}\n\n\tprependRowEditor()\n\t{\n\t\tconst newRow = this.grid.prependRowEditor();\n\t\tnewRow.setId('');\n\t\tnewRow.unselect();\n\t}\n\n\tremoveGridSelectedRows()\n\t{\n\t\tconst rows = this.grid.getRows().getSelected(false);\n\t\tif (Type.isArray(rows))\n\t\t{\n\t\t\trows.forEach((row) => {\n\t\t\t\trow.hide();\n\t\t\t});\n\n\t\t\tthis.grid.getRows().reset();\n\t\t}\n\t}\n}\n","import { Loc, Type, Uri } from 'main.core';\nimport { Menu, MenuManager } from 'main.popup';\nimport { BitrixVue } from 'ui.vue3';\nimport { GridController } from './grid-controller';\n\nexport class SettingsForm\n{\n\tgridController: GridController;\n\tdirectoryItems: Array;\n\tnewDirectoryValue = '-1';\n\tselectedDirectory: String;\n\tapp: BitrixVue;\n\n\tstatic createApp(gridController: GridController, options): SettingsForm\n\t{\n\t\tconst form = new SettingsForm(gridController, options);\n\n\t\tform.app = BitrixVue.createApp(form.getAppConfig()).mount(options.settingsFormSelector);\n\n\t\treturn form;\n\t}\n\n\tconstructor(gridController: GridController, options)\n\t{\n\t\tthis.gridController = gridController;\n\t\tthis.directoryItems = Type.isArray(options.directoryItems) ? options.directoryItems : [];\n\n\t\tthis.selectedDirectory = this.newDirectoryValue;\n\t\tif (options.selectedDirectory)\n\t\t{\n\t\t\tconst selectedItem = this.directoryItems.find((item) => item.VALUE === options.selectedDirectory);\n\t\t\tif (selectedItem)\n\t\t\t{\n\t\t\t\tthis.selectedDirectory = selectedItem.VALUE;\n\t\t\t}\n\t\t}\n\t}\n\n\treloadDirectory(directoryTableName): never\n\t{\n\t\tconst url = new Uri(location.href);\n\t\turl.setQueryParam('directoryTableName', directoryTableName);\n\t\tlocation.href = url.toString();\n\t}\n\n\tgetDirectoryName(): String\n\t{\n\t\treturn this.app.directoryName || '';\n\t}\n\n\tgetDirectoryValue(): String\n\t{\n\t\treturn this.app.directoryValue || '';\n\t}\n\n\tgetAppConfig()\n\t{\n\t\tconst form = this;\n\n\t\treturn (function() {\n\t\t\treturn {\n\t\t\t\tdata()\n\t\t\t\t{\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdirectoryName: null,\n\t\t\t\t\t\tdirectoryValue: form.selectedDirectory,\n\t\t\t\t\t\tdirectoryItems: form.directoryItems,\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\tcomputed: {\n\t\t\t\t\tselectedDirectoryName()\n\t\t\t\t\t{\n\t\t\t\t\t\tif (this.isNewDirectory)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn Loc.getMessage('IBLOCK_PROPERTY_TYPE_DIRECTORY_SETTINGS_NEW_DIRECTORY_NAME');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.directoryItemsMap[this.directoryValue];\n\t\t\t\t\t},\n\n\t\t\t\t\tdirectoryItemsMap()\n\t\t\t\t\t{\n\t\t\t\t\t\tconst result = {};\n\n\t\t\t\t\t\tthis.directoryItems.forEach((item) => {\n\t\t\t\t\t\t\tresult[item.VALUE] = item.NAME;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\n\t\t\t\t\tdirectoryItemsFull()\n\t\t\t\t\t{\n\t\t\t\t\t\tconst result = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tNAME: Loc.getMessage('IBLOCK_PROPERTY_TYPE_DIRECTORY_SETTINGS_NEW_DIRECTORY_NAME'),\n\t\t\t\t\t\t\t\tVALUE: form.newDirectoryValue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\n\t\t\t\t\t\tresult.push(...this.directoryItems);\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\n\t\t\t\t\tdirectoryItemsAsMenuItems()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn this.directoryItemsFull.map((item) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: item.VALUE,\n\t\t\t\t\t\t\t\ttext: item.NAME,\n\t\t\t\t\t\t\t\tonclick: this.onSelectDirectoryItem.bind(this),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\n\t\t\t\t\tisNewDirectory()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn this.directoryValue === form.newDirectoryValue;\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tmethods: {\n\t\t\t\t\tgetDirectoryDropdownMenu(bindElement: Element|null): Menu\n\t\t\t\t\t{\n\t\t\t\t\t\tconst menuId = 'directory-items';\n\t\t\t\t\t\tlet menu = MenuManager.getMenuById(menuId);\n\n\t\t\t\t\t\t// destroy menu if binded element destroyed\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tmenu\n\t\t\t\t\t\t\t&& bindElement\n\t\t\t\t\t\t\t&& menu.getPopupWindow().bindElement !== bindElement\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tMenuManager.destroy(menu.getId());\n\t\t\t\t\t\t\tmenu = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!menu && bindElement)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmenu = MenuManager.create({\n\t\t\t\t\t\t\t\tid: menuId,\n\t\t\t\t\t\t\t\titems: this.directoryItemsAsMenuItems,\n\t\t\t\t\t\t\t\tbindElement,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn menu;\n\t\t\t\t\t},\n\n\t\t\t\t\ttoggleDirectoryDropdown(e)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getDirectoryDropdownMenu(e.target).toggle();\n\t\t\t\t\t},\n\n\t\t\t\t\tonSelectDirectoryItem(e, item)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.directoryValue = item.id;\n\t\t\t\t\t\tthis.getDirectoryDropdownMenu().close();\n\n\t\t\t\t\t\tform.reloadDirectory(this.directoryValue);\n\t\t\t\t\t},\n\n\t\t\t\t\tnormalizeName(e)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst input = e.target;\n\t\t\t\t\t\tif (input)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tinput.value = BX.translit(\n\t\t\t\t\t\t\t\tinput.value,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'change_case': 'L',\n\t\t\t\t\t\t\t\t\t'replace_space': '',\n\t\t\t\t\t\t\t\t\t'delete_repeat_replace': true,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\taddNewRow()\n\t\t\t\t\t{\n\t\t\t\t\t\tform.gridController.prependRowEditor();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t})();\n\t}\n}\n","import { ajax } from \"main.core\";\nimport { Alert, AlertColor } from \"ui.alerts\";\nimport { GridController } from \"./grid-controller\";\nimport { SettingsForm } from \"./settings-form\";\n\nexport class PropertyDirectorySettings\n{\n\tgridController: GridController;\n\tsettingsForm: SettingsForm;\n\tsignedParameters: String;\n\terrorAlert: Alert;\n\n\tconstructor(options)\n\t{\n\t\tthis.gridController = new GridController(options);\n\t\tthis.signedParameters = options.signedParameters;\n\t\tthis.settingsForm = SettingsForm.createApp(this.gridController, options);\n\n\t\tthis.initErrorAlert();\n\t\tthis.initSaveButton();\n\t}\n\n\tremoveGridSelectedRows()\n\t{\n\t\tthis.gridController.removeGridSelectedRows();\n\t}\n\n\tinitSaveButton(): void\n\t{\n\t\tconst button = document.querySelector('#ui-button-panel-save');\n\t\tif (button)\n\t\t{\n\t\t\tbutton.addEventListener('click', async (e) => {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tawait this.clearErrors();\n\n\t\t\t\tajax\n\t\t\t\t\t.runComponentAction('bitrix:iblock.property.type.directory.settings', 'save', {\n\t\t\t\t\t\tdata: this.getFormData(),\n\t\t\t\t\t\tmode: 'class',\n\t\t\t\t\t\tsignedParameters: this.signedParameters,\n\t\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tbutton.classList.remove('ui-btn-wait');\n\n\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((response) => {\n\t\t\t\t\t\tbutton.classList.remove('ui-btn-wait');\n\n\t\t\t\t\t\tthis.showErrors(response.errors);\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t});\n\t\t}\n\t}\n\n\tclearErrors(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst animateClosingDelay = 300;\n\n\t\t\tthis.errorAlert.hide();\n\n\t\t\tsetTimeout(resolve, animateClosingDelay);\n\t\t});\n\t}\n\n\tshowErrors(errors)\n\t{\n\t\tthis.errorAlert.setText(errors.map((i) => i.message).join('<br>'));\n\t\tthis.errorAlert.renderTo(document.querySelector('#ui-button-panel'));\n\t}\n\n\tinitErrorAlert(): Alert\n\t{\n\t\tthis.errorAlert = new Alert({\n\t\t\tcolor: AlertColor.DANGER,\n\t\t\tanimated: true,\n\t\t\tcustomClass: 'iblock-property-type-directory-settings-errors-container',\n\t\t});\n\t}\n\n\tgetFormData(): FormData\n\t{\n\t\tconst result = new FormData();\n\n\t\tresult.append('fields[DIRECTORY_NAME]', this.settingsForm.getDirectoryName());\n\t\tresult.append('fields[DIRECTORY_TABLE_NAME]', this.settingsForm.getDirectoryValue());\n\n\t\tlet newRowsCount = 0;\n\t\tthis.gridController.getGridBodyRows().forEach((row) => {\n\t\t\tlet id = parseInt(row.getId());\n\t\t\tif (isNaN(id) || !id)\n\t\t\t{\n\t\t\t\tnewRowsCount++;\n\t\t\t\tid = 'n' + newRowsCount;\n\t\t\t}\n\n\t\t\tconst rowValues = row.getEditorValue();\n\t\t\tif (row.isShown() === false)\n\t\t\t{\n\t\t\t\trowValues.UF_DELETE = 'Y';\n\t\t\t}\n\n\t\t\tfor (const fieldName in rowValues)\n\t\t\t{\n\t\t\t\tif (Object.hasOwnProperty.call(rowValues, fieldName))\n\t\t\t\t{\n\t\t\t\t\tresult.append(`fields[DIRECTORY_ITEMS][${id}][${fieldName}]`, rowValues[fieldName]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n}\n"],"names":["GridController","options","babelHelpers","classCallCheck","grid","BX","Main","gridManager","getInstanceById","gridId","initGrid","createClass","key","value","getGridBodyRows","getRows","getBodyChild","_this","EventEmitter","subscribe","event","getCompatData","getId","delayToExitStream","setTimeout","initGridRows","bind","bodyRows","length","i","prependRowEditor","forEach","row","edit","newRow","setId","unselect","removeGridSelectedRows","rows","getSelected","Type","isArray","hide","reset","SettingsForm","createApp","gridController","form","app","BitrixVue","getAppConfig","mount","settingsFormSelector","defineProperty","directoryItems","selectedDirectory","newDirectoryValue","selectedItem","find","item","VALUE","reloadDirectory","directoryTableName","url","Uri","location","href","setQueryParam","toString","getDirectoryName","directoryName","getDirectoryValue","directoryValue","data","computed","selectedDirectoryName","isNewDirectory","Loc","getMessage","directoryItemsMap","result","NAME","directoryItemsFull","push","apply","toConsumableArray","directoryItemsAsMenuItems","map","id","text","onclick","onSelectDirectoryItem","methods","getDirectoryDropdownMenu","bindElement","menuId","menu","MenuManager","getMenuById","getPopupWindow","destroy","create","items","toggleDirectoryDropdown","e","target","toggle","close","normalizeName","input","translit","addNewRow","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","_catch","thrown","delegateYield","PropertyDirectorySettings","signedParameters","settingsForm","initErrorAlert","initSaveButton","button","document","querySelector","addEventListener","_ref","asyncToGenerator","_callee","_callee$","_context","preventDefault","clearErrors","ajax","runComponentAction","getFormData","mode","response","classList","remove","reload","showErrors","errors","_x","arguments","_this2","animateClosingDelay","errorAlert","setText","message","join","renderTo","Alert","color","AlertColor","DANGER","animated","customClass","FormData","append","newRowsCount","parseInt","rowValues","getEditorValue","isShown","UF_DELETE","fieldName","concat"],"mappings":";;;;KAGaA,cAAc;GAI1B,SAAAA,eAAYC,OAAO,EACnB;KAAAC,YAAA,CAAAC,cAAA,OAAAH,cAAA;KACC,IAAI,CAACI,IAAI,GAAGC,EAAE,CAACC,IAAI,CAACC,WAAW,CAACC,eAAe,CAACP,OAAO,CAACQ,MAAM,CAAC;KAE/D,IAAI,CAACC,QAAQ,EAAE;;GACfR,YAAA,CAAAS,WAAA,CAAAX,cAAA;KAAAY,GAAA;KAAAC,KAAA,WAAAC,kBAGD;OACC,OAAO,IAAI,CAACV,IAAI,CAACW,OAAO,EAAE,CAACC,YAAY,EAAE;;;KACzCJ,GAAA;KAAAC,KAAA,WAAAH,WAGD;OAAA,IAAAO,KAAA;OACCC,6BAAY,CAACC,SAAS,CAAC,eAAe,EAAE,UAACC,KAAK,EAAK;SAClD,IAAMhB,IAAI,GAAGgB,KAAK,CAACC,aAAa,EAAE,CAAC,CAAC,CAAC;SACrC,IAAIjB,IAAI,IAAIA,IAAI,CAACkB,KAAK,EAAE,KAAKL,KAAI,CAACb,IAAI,CAACkB,KAAK,EAAE,EAC9C;WACC,IAAMC,iBAAiB,GAAG,EAAE;WAC5BC,UAAU,CAACP,KAAI,CAACQ,YAAY,CAACC,IAAI,CAACT,KAAI,CAAC,EAAEM,iBAAiB,CAAC;;QAE5D,CAAC;OAEF,IAAI,CAACE,YAAY,EAAE;;;KACnBb,GAAA;KAAAC,KAAA,WAAAY,eAGD;OACC,IAAME,QAAQ,GAAG,IAAI,CAACb,eAAe,EAAE;OACvC,IAAIa,QAAQ,CAACC,MAAM,KAAK,CAAC,EACzB;SACC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAC1B;WACC,IAAI,CAACC,gBAAgB,EAAE;;QAExB,MAED;SACCH,QAAQ,CAACI,OAAO,CAAC,UAACC,GAAG,EAAK;WACzBA,GAAG,CAACC,IAAI,EAAE;UACV,CAAC;;;;KAEHrB,GAAA;KAAAC,KAAA,WAAAiB,mBAGD;OACC,IAAMI,MAAM,GAAG,IAAI,CAAC9B,IAAI,CAAC0B,gBAAgB,EAAE;OAC3CI,MAAM,CAACC,KAAK,CAAC,EAAE,CAAC;OAChBD,MAAM,CAACE,QAAQ,EAAE;;;KACjBxB,GAAA;KAAAC,KAAA,WAAAwB,yBAGD;OACC,IAAMC,IAAI,GAAG,IAAI,CAAClC,IAAI,CAACW,OAAO,EAAE,CAACwB,WAAW,CAAC,KAAK,CAAC;OACnD,IAAIC,cAAI,CAACC,OAAO,CAACH,IAAI,CAAC,EACtB;SACCA,IAAI,CAACP,OAAO,CAAC,UAACC,GAAG,EAAK;WACrBA,GAAG,CAACU,IAAI,EAAE;UACV,CAAC;SAEF,IAAI,CAACtC,IAAI,CAACW,OAAO,EAAE,CAAC4B,KAAK,EAAE;;;;GAE5B,OAAA3C,cAAA;CAAA;;KChEW4C,YAAY;GAAA1C,YAAA,CAAAS,WAAA,CAAAiC,YAAA;KAAAhC,GAAA;KAAAC,KAAA,WAAAgC,UAQPC,cAA8B,EAAE7C,OAAO,EACxD;OACC,IAAM8C,IAAI,GAAG,IAAIH,YAAY,CAACE,cAAc,EAAE7C,OAAO,CAAC;OAEtD8C,IAAI,CAACC,GAAG,GAAGC,iBAAS,CAACJ,SAAS,CAACE,IAAI,CAACG,YAAY,EAAE,CAAC,CAACC,KAAK,CAAClD,OAAO,CAACmD,oBAAoB,CAAC;OAEvF,OAAOL,IAAI;;;GAGZ,SAAAH,aAAYE,cAA8B,EAAE7C,OAAO,EACnD;KAAAC,YAAA,CAAAC,cAAA,OAAAyC,YAAA;KAAA1C,YAAA,CAAAmD,cAAA,4BAdoB,IAAI;KAevB,IAAI,CAACP,cAAc,GAAGA,cAAc;KACpC,IAAI,CAACQ,cAAc,GAAGd,cAAI,CAACC,OAAO,CAACxC,OAAO,CAACqD,cAAc,CAAC,GAAGrD,OAAO,CAACqD,cAAc,GAAG,EAAE;KAExF,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACC,iBAAiB;KAC/C,IAAIvD,OAAO,CAACsD,iBAAiB,EAC7B;OACC,IAAME,YAAY,GAAG,IAAI,CAACH,cAAc,CAACI,IAAI,CAAC,UAACC,IAAI;SAAA,OAAKA,IAAI,CAACC,KAAK,KAAK3D,OAAO,CAACsD,iBAAiB;SAAC;OACjG,IAAIE,YAAY,EAChB;SACC,IAAI,CAACF,iBAAiB,GAAGE,YAAY,CAACG,KAAK;;;;GAG7C1D,YAAA,CAAAS,WAAA,CAAAiC,YAAA;KAAAhC,GAAA;KAAAC,KAAA,WAAAgD,gBAEeC,kBAAkB,EAClC;OACC,IAAMC,GAAG,GAAG,IAAIC,aAAG,CAACC,QAAQ,CAACC,IAAI,CAAC;OAClCH,GAAG,CAACI,aAAa,CAAC,oBAAoB,EAAEL,kBAAkB,CAAC;OAC3DG,QAAQ,CAACC,IAAI,GAAGH,GAAG,CAACK,QAAQ,EAAE;;;KAC9BxD,GAAA;KAAAC,KAAA,WAAAwD,mBAGD;OACC,OAAO,IAAI,CAACrB,GAAG,CAACsB,aAAa,IAAI,EAAE;;;KACnC1D,GAAA;KAAAC,KAAA,WAAA0D,oBAGD;OACC,OAAO,IAAI,CAACvB,GAAG,CAACwB,cAAc,IAAI,EAAE;;;KACpC5D,GAAA;KAAAC,KAAA,WAAAqC,eAGD;OACC,IAAMH,IAAI,GAAG,IAAI;OAEjB,OAAQ,YAAW;SAClB,OAAO;WACN0B,IAAI,WAAAA,OACJ;aACC,OAAO;eACNH,aAAa,EAAE,IAAI;eACnBE,cAAc,EAAEzB,IAAI,CAACQ,iBAAiB;eACtCD,cAAc,EAAEP,IAAI,CAACO;cACrB;YACD;WAEDoB,QAAQ,EAAE;aACTC,qBAAqB,WAAAA,wBACrB;eACC,IAAI,IAAI,CAACC,cAAc,EACvB;iBACC,OAAOC,aAAG,CAACC,UAAU,CAAC,4DAA4D,CAAC;;eAGpF,OAAO,IAAI,CAACC,iBAAiB,CAAC,IAAI,CAACP,cAAc,CAAC;cAClD;aAEDO,iBAAiB,WAAAA,oBACjB;eACC,IAAMC,MAAM,GAAG,EAAE;eAEjB,IAAI,CAAC1B,cAAc,CAACvB,OAAO,CAAC,UAAC4B,IAAI,EAAK;iBACrCqB,MAAM,CAACrB,IAAI,CAACC,KAAK,CAAC,GAAGD,IAAI,CAACsB,IAAI;gBAC9B,CAAC;eAEF,OAAOD,MAAM;cACb;aAEDE,kBAAkB,WAAAA,qBAClB;eACC,IAAMF,MAAM,GAAG,CACd;iBACCC,IAAI,EAAEJ,aAAG,CAACC,UAAU,CAAC,4DAA4D,CAAC;iBAClFlB,KAAK,EAAEb,IAAI,CAACS;gBACZ,CACD;eAEDwB,MAAM,CAACG,IAAI,CAAAC,KAAA,CAAXJ,MAAM,EAAA9E,YAAA,CAAAmF,iBAAA,CAAS,IAAI,CAAC/B,cAAc,EAAC;eAEnC,OAAO0B,MAAM;cACb;aAEDM,yBAAyB,WAAAA,4BACzB;eAAA,IAAArE,KAAA;eACC,OAAO,IAAI,CAACiE,kBAAkB,CAACK,GAAG,CAAC,UAAC5B,IAAI,EAAK;iBAC5C,OAAO;mBACN6B,EAAE,EAAE7B,IAAI,CAACC,KAAK;mBACd6B,IAAI,EAAE9B,IAAI,CAACsB,IAAI;mBACfS,OAAO,EAAEzE,KAAI,CAAC0E,qBAAqB,CAACjE,IAAI,CAACT,KAAI;kBAC7C;gBACD,CAAC;cACF;aAED2D,cAAc,WAAAA,iBACd;eACC,OAAO,IAAI,CAACJ,cAAc,KAAKzB,IAAI,CAACS,iBAAiB;;YAEtD;WAEDoC,OAAO,EAAE;aACRC,wBAAwB,WAAAA,yBAACC,WAAyB,EAClD;eACC,IAAMC,MAAM,GAAG,iBAAiB;eAChC,IAAIC,IAAI,GAAGC,sBAAW,CAACC,WAAW,CAACH,MAAM,CAAC;;;eAG1C,IACCC,IAAI,IACDF,WAAW,IACXE,IAAI,CAACG,cAAc,EAAE,CAACL,WAAW,KAAKA,WAAW,EAErD;iBACCG,sBAAW,CAACG,OAAO,CAACJ,IAAI,CAAC1E,KAAK,EAAE,CAAC;iBACjC0E,IAAI,GAAG,IAAI;;eAGZ,IAAI,CAACA,IAAI,IAAIF,WAAW,EACxB;iBACCE,IAAI,GAAGC,sBAAW,CAACI,MAAM,CAAC;mBACzBb,EAAE,EAAEO,MAAM;mBACVO,KAAK,EAAE,IAAI,CAAChB,yBAAyB;mBACrCQ,WAAW,EAAXA;kBACA,CAAC;;eAGH,OAAOE,IAAI;cACX;aAEDO,uBAAuB,WAAAA,wBAACC,CAAC,EACzB;eACC,IAAI,CAACX,wBAAwB,CAACW,CAAC,CAACC,MAAM,CAAC,CAACC,MAAM,EAAE;cAChD;aAEDf,qBAAqB,WAAAA,sBAACa,CAAC,EAAE7C,IAAI,EAC7B;eACC,IAAI,CAACa,cAAc,GAAGb,IAAI,CAAC6B,EAAE;eAC7B,IAAI,CAACK,wBAAwB,EAAE,CAACc,KAAK,EAAE;eAEvC5D,IAAI,CAACc,eAAe,CAAC,IAAI,CAACW,cAAc,CAAC;cACzC;aAEDoC,aAAa,WAAAA,cAACJ,CAAC,EACf;eACC,IAAMK,KAAK,GAAGL,CAAC,CAACC,MAAM;eACtB,IAAII,KAAK,EACT;iBACCA,KAAK,CAAChG,KAAK,GAAGR,EAAE,CAACyG,QAAQ,CACxBD,KAAK,CAAChG,KAAK,EACX;mBACC,aAAa,EAAE,GAAG;mBAClB,eAAe,EAAE,EAAE;mBACnB,uBAAuB,EAAE;kBACzB,CACD;;cAEF;aAEDkG,SAAS,WAAAA,YACT;eACChE,IAAI,CAACD,cAAc,CAAChB,gBAAgB,EAAE;;;UAGxC;QACD,EAAG;;;GACJ,OAAAc,YAAA;CAAA;;uLC3LFoE,mBAAA,YAAAA,+BAAAC,OAAA,SAAAA,OAAA,OAAAC,EAAA,GAAAC,MAAA,CAAAC,SAAA,EAAAC,MAAA,GAAAH,EAAA,CAAAI,cAAA,EAAAjE,cAAA,GAAA8D,MAAA,CAAA9D,cAAA,cAAAkE,GAAA,EAAA3G,GAAA,EAAA4G,IAAA,IAAAD,GAAA,CAAA3G,GAAA,IAAA4G,IAAA,CAAA3G,KAAA,KAAA4G,OAAA,wBAAAC,MAAA,GAAAA,MAAA,OAAAC,cAAA,GAAAF,OAAA,CAAAG,QAAA,kBAAAC,mBAAA,GAAAJ,OAAA,CAAAK,aAAA,uBAAAC,iBAAA,GAAAN,OAAA,CAAAO,WAAA,8BAAAC,OAAAV,GAAA,EAAA3G,GAAA,EAAAC,KAAA,WAAAsG,MAAA,CAAA9D,cAAA,CAAAkE,GAAA,EAAA3G,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAqH,UAAA,MAAAC,YAAA,MAAAC,QAAA,SAAAb,GAAA,CAAA3G,GAAA,WAAAqH,MAAA,mBAAAI,GAAA,IAAAJ,MAAA,YAAAA,OAAAV,GAAA,EAAA3G,GAAA,EAAAC,KAAA,WAAA0G,GAAA,CAAA3G,GAAA,IAAAC,KAAA,gBAAAyH,KAAAC,OAAA,EAAAC,OAAA,EAAAC,IAAA,EAAAC,WAAA,QAAAC,cAAA,GAAAH,OAAA,IAAAA,OAAA,CAAApB,SAAA,YAAAwB,SAAA,GAAAJ,OAAA,GAAAI,SAAA,EAAAC,SAAA,GAAA1B,MAAA,CAAAd,MAAA,CAAAsC,cAAA,CAAAvB,SAAA,GAAA0B,OAAA,OAAAC,OAAA,CAAAL,WAAA,gBAAArF,cAAA,CAAAwF,SAAA,eAAAhI,KAAA,EAAAmI,gBAAA,CAAAT,OAAA,EAAAE,IAAA,EAAAK,OAAA,MAAAD,SAAA,aAAAI,SAAAC,EAAA,EAAA3B,GAAA,EAAA4B,GAAA,mBAAAC,IAAA,YAAAD,GAAA,EAAAD,EAAA,CAAAG,IAAA,CAAA9B,GAAA,EAAA4B,GAAA,cAAAd,GAAA,aAAAe,IAAA,WAAAD,GAAA,EAAAd,GAAA,QAAApB,OAAA,CAAAqB,IAAA,GAAAA,IAAA,MAAAgB,gBAAA,gBAAAV,wBAAAW,gCAAAC,oCAAAC,iBAAA,OAAAxB,MAAA,CAAAwB,iBAAA,EAAA9B,cAAA,qCAAA+B,QAAA,GAAAvC,MAAA,CAAAwC,cAAA,EAAAC,uBAAA,GAAAF,QAAA,IAAAA,QAAA,CAAAA,QAAA,CAAAG,MAAA,QAAAD,uBAAA,IAAAA,uBAAA,KAAA1C,EAAA,IAAAG,MAAA,CAAAgC,IAAA,CAAAO,uBAAA,EAAAjC,cAAA,MAAA8B,iBAAA,GAAAG,uBAAA,OAAAE,EAAA,GAAAN,0BAAA,CAAApC,SAAA,GAAAwB,SAAA,CAAAxB,SAAA,GAAAD,MAAA,CAAAd,MAAA,CAAAoD,iBAAA,YAAAM,sBAAA3C,SAAA,gCAAArF,OAAA,WAAAiI,MAAA,IAAA/B,MAAA,CAAAb,SAAA,EAAA4C,MAAA,YAAAb,GAAA,gBAAAc,OAAA,CAAAD,MAAA,EAAAb,GAAA,sBAAAe,cAAArB,SAAA,EAAAsB,WAAA,aAAAC,OAAAJ,MAAA,EAAAb,GAAA,EAAAkB,OAAA,EAAAC,MAAA,QAAAC,MAAA,GAAAtB,QAAA,CAAAJ,SAAA,CAAAmB,MAAA,GAAAnB,SAAA,EAAAM,GAAA,mBAAAoB,MAAA,CAAAnB,IAAA,QAAApE,MAAA,GAAAuF,MAAA,CAAApB,GAAA,EAAAtI,KAAA,GAAAmE,MAAA,CAAAnE,KAAA,SAAAA,KAAA,gBAAAX,YAAA,WAAAW,KAAA,KAAAwG,MAAA,CAAAgC,IAAA,CAAAxI,KAAA,eAAAsJ,WAAA,CAAAE,OAAA,CAAAxJ,KAAA,CAAA2J,OAAA,EAAAC,IAAA,WAAA5J,KAAA,IAAAuJ,MAAA,SAAAvJ,KAAA,EAAAwJ,OAAA,EAAAC,MAAA,gBAAAjC,GAAA,IAAA+B,MAAA,UAAA/B,GAAA,EAAAgC,OAAA,EAAAC,MAAA,QAAAH,WAAA,CAAAE,OAAA,CAAAxJ,KAAA,EAAA4J,IAAA,WAAAC,SAAA,IAAA1F,MAAA,CAAAnE,KAAA,GAAA6J,SAAA,EAAAL,OAAA,CAAArF,MAAA,gBAAA2F,KAAA,WAAAP,MAAA,UAAAO,KAAA,EAAAN,OAAA,EAAAC,MAAA,SAAAA,MAAA,CAAAC,MAAA,CAAApB,GAAA,SAAAyB,eAAA,EAAAvH,cAAA,oBAAAxC,KAAA,WAAAA,MAAAmJ,MAAA,EAAAb,GAAA,aAAA0B,0CAAAV,WAAA,WAAAE,OAAA,EAAAC,MAAA,IAAAF,MAAA,CAAAJ,MAAA,EAAAb,GAAA,EAAAkB,OAAA,EAAAC,MAAA,gBAAAM,eAAA,GAAAA,eAAA,GAAAA,eAAA,CAAAH,IAAA,CAAAI,0BAAA,EAAAA,0BAAA,IAAAA,0BAAA,qBAAA7B,iBAAAT,OAAA,EAAAE,IAAA,EAAAK,OAAA,QAAAgC,KAAA,sCAAAd,MAAA,EAAAb,GAAA,wBAAA2B,KAAA,YAAAC,KAAA,sDAAAD,KAAA,oBAAAd,MAAA,QAAAb,GAAA,SAAA6B,UAAA,WAAAlC,OAAA,CAAAkB,MAAA,GAAAA,MAAA,EAAAlB,OAAA,CAAAK,GAAA,GAAAA,GAAA,UAAA8B,QAAA,GAAAnC,OAAA,CAAAmC,QAAA,MAAAA,QAAA,QAAAC,cAAA,GAAAC,mBAAA,CAAAF,QAAA,EAAAnC,OAAA,OAAAoC,cAAA,QAAAA,cAAA,KAAA5B,gBAAA,mBAAA4B,cAAA,qBAAApC,OAAA,CAAAkB,MAAA,EAAAlB,OAAA,CAAAsC,IAAA,GAAAtC,OAAA,CAAAuC,KAAA,GAAAvC,OAAA,CAAAK,GAAA,sBAAAL,OAAA,CAAAkB,MAAA,6BAAAc,KAAA,QAAAA,KAAA,gBAAAhC,OAAA,CAAAK,GAAA,EAAAL,OAAA,CAAAwC,iBAAA,CAAAxC,OAAA,CAAAK,GAAA,uBAAAL,OAAA,CAAAkB,MAAA,IAAAlB,OAAA,CAAAyC,MAAA,WAAAzC,OAAA,CAAAK,GAAA,GAAA2B,KAAA,oBAAAP,MAAA,GAAAtB,QAAA,CAAAV,OAAA,EAAAE,IAAA,EAAAK,OAAA,oBAAAyB,MAAA,CAAAnB,IAAA,QAAA0B,KAAA,GAAAhC,OAAA,CAAA0C,IAAA,mCAAAjB,MAAA,CAAApB,GAAA,KAAAG,gBAAA,qBAAAzI,KAAA,EAAA0J,MAAA,CAAApB,GAAA,EAAAqC,IAAA,EAAA1C,OAAA,CAAA0C,IAAA,kBAAAjB,MAAA,CAAAnB,IAAA,KAAA0B,KAAA,gBAAAhC,OAAA,CAAAkB,MAAA,YAAAlB,OAAA,CAAAK,GAAA,GAAAoB,MAAA,CAAApB,GAAA,mBAAAgC,oBAAAF,QAAA,EAAAnC,OAAA,QAAA2C,UAAA,GAAA3C,OAAA,CAAAkB,MAAA,EAAAA,MAAA,GAAAiB,QAAA,CAAArD,QAAA,CAAA6D,UAAA,OAAAC,SAAA,KAAA1B,MAAA,SAAAlB,OAAA,CAAAmC,QAAA,qBAAAQ,UAAA,IAAAR,QAAA,CAAArD,QAAA,eAAAkB,OAAA,CAAAkB,MAAA,aAAAlB,OAAA,CAAAK,GAAA,GAAAuC,SAAA,EAAAP,mBAAA,CAAAF,QAAA,EAAAnC,OAAA,eAAAA,OAAA,CAAAkB,MAAA,kBAAAyB,UAAA,KAAA3C,OAAA,CAAAkB,MAAA,YAAAlB,OAAA,CAAAK,GAAA,OAAAwC,SAAA,uCAAAF,UAAA,iBAAAnC,gBAAA,MAAAiB,MAAA,GAAAtB,QAAA,CAAAe,MAAA,EAAAiB,QAAA,CAAArD,QAAA,EAAAkB,OAAA,CAAAK,GAAA,mBAAAoB,MAAA,CAAAnB,IAAA,SAAAN,OAAA,CAAAkB,MAAA,YAAAlB,OAAA,CAAAK,GAAA,GAAAoB,MAAA,CAAApB,GAAA,EAAAL,OAAA,CAAAmC,QAAA,SAAA3B,gBAAA,MAAAsC,IAAA,GAAArB,MAAA,CAAApB,GAAA,SAAAyC,IAAA,GAAAA,IAAA,CAAAJ,IAAA,IAAA1C,OAAA,CAAAmC,QAAA,CAAAY,UAAA,IAAAD,IAAA,CAAA/K,KAAA,EAAAiI,OAAA,CAAAgD,IAAA,GAAAb,QAAA,CAAAc,OAAA,eAAAjD,OAAA,CAAAkB,MAAA,KAAAlB,OAAA,CAAAkB,MAAA,WAAAlB,OAAA,CAAAK,GAAA,GAAAuC,SAAA,GAAA5C,OAAA,CAAAmC,QAAA,SAAA3B,gBAAA,IAAAsC,IAAA,IAAA9C,OAAA,CAAAkB,MAAA,YAAAlB,OAAA,CAAAK,GAAA,OAAAwC,SAAA,sCAAA7C,OAAA,CAAAmC,QAAA,SAAA3B,gBAAA,cAAA0C,aAAAC,IAAA,QAAAC,KAAA,KAAAC,MAAA,EAAAF,IAAA,YAAAA,IAAA,KAAAC,KAAA,CAAAE,QAAA,GAAAH,IAAA,WAAAA,IAAA,KAAAC,KAAA,CAAAG,UAAA,GAAAJ,IAAA,KAAAC,KAAA,CAAAI,QAAA,GAAAL,IAAA,WAAAM,UAAA,CAAApH,IAAA,CAAA+G,KAAA,cAAAM,cAAAN,KAAA,QAAA3B,MAAA,GAAA2B,KAAA,CAAAO,UAAA,QAAAlC,MAAA,CAAAnB,IAAA,oBAAAmB,MAAA,CAAApB,GAAA,EAAA+C,KAAA,CAAAO,UAAA,GAAAlC,MAAA,aAAAxB,QAAAL,WAAA,SAAA6D,UAAA,MAAAJ,MAAA,aAAAzD,WAAA,CAAA3G,OAAA,CAAAiK,YAAA,cAAArJ,KAAA,iBAAAkH,OAAA6C,QAAA,QAAAA,QAAA,QAAAC,cAAA,GAAAD,QAAA,CAAA/E,cAAA,OAAAgF,cAAA,SAAAA,cAAA,CAAAtD,IAAA,CAAAqD,QAAA,4BAAAA,QAAA,CAAAZ,IAAA,SAAAY,QAAA,OAAAE,KAAA,CAAAF,QAAA,CAAA9K,MAAA,SAAAC,CAAA,OAAAiK,IAAA,YAAAA,kBAAAjK,CAAA,GAAA6K,QAAA,CAAA9K,MAAA,OAAAyF,MAAA,CAAAgC,IAAA,CAAAqD,QAAA,EAAA7K,CAAA,UAAAiK,IAAA,CAAAjL,KAAA,GAAA6L,QAAA,CAAA7K,CAAA,GAAAiK,IAAA,CAAAN,IAAA,OAAAM,IAAA,SAAAA,IAAA,CAAAjL,KAAA,GAAA6K,SAAA,EAAAI,IAAA,CAAAN,IAAA,OAAAM,IAAA,YAAAA,IAAA,CAAAA,IAAA,GAAAA,IAAA,eAAAA,IAAA,EAAAd,UAAA,eAAAA,wBAAAnK,KAAA,EAAA6K,SAAA,EAAAF,IAAA,iBAAAjC,iBAAA,CAAAnC,SAAA,GAAAoC,0BAAA,EAAAnG,cAAA,CAAAyG,EAAA,mBAAAjJ,KAAA,EAAA2I,0BAAA,EAAArB,YAAA,SAAA9E,cAAA,CAAAmG,0BAAA,mBAAA3I,KAAA,EAAA0I,iBAAA,EAAApB,YAAA,SAAAoB,iBAAA,CAAAsD,WAAA,GAAA5E,MAAA,CAAAuB,0BAAA,EAAAzB,iBAAA,wBAAAd,OAAA,CAAA6F,mBAAA,aAAAC,MAAA,QAAAC,IAAA,wBAAAD,MAAA,IAAAA,MAAA,CAAAE,WAAA,WAAAD,IAAA,KAAAA,IAAA,KAAAzD,iBAAA,6BAAAyD,IAAA,CAAAH,WAAA,IAAAG,IAAA,CAAAE,IAAA,OAAAjG,OAAA,CAAAkG,IAAA,aAAAJ,MAAA,WAAA5F,MAAA,CAAAiG,cAAA,GAAAjG,MAAA,CAAAiG,cAAA,CAAAL,MAAA,EAAAvD,0BAAA,KAAAuD,MAAA,CAAAM,SAAA,GAAA7D,0BAAA,EAAAvB,MAAA,CAAA8E,MAAA,EAAAhF,iBAAA,yBAAAgF,MAAA,CAAA3F,SAAA,GAAAD,MAAA,CAAAd,MAAA,CAAAyD,EAAA,GAAAiD,MAAA,KAAA9F,OAAA,CAAAqG,KAAA,aAAAnE,GAAA,aAAAqB,OAAA,EAAArB,GAAA,OAAAY,qBAAA,CAAAG,aAAA,CAAA9C,SAAA,GAAAa,MAAA,CAAAiC,aAAA,CAAA9C,SAAA,EAAAS,mBAAA,iCAAAZ,OAAA,CAAAiD,aAAA,GAAAA,aAAA,EAAAjD,OAAA,CAAAsG,KAAA,aAAAhF,OAAA,EAAAC,OAAA,EAAAC,IAAA,EAAAC,WAAA,EAAAyB,WAAA,eAAAA,WAAA,KAAAA,WAAA,GAAAqD,OAAA,OAAAC,IAAA,OAAAvD,aAAA,CAAA5B,IAAA,CAAAC,OAAA,EAAAC,OAAA,EAAAC,IAAA,EAAAC,WAAA,GAAAyB,WAAA,UAAAlD,OAAA,CAAA6F,mBAAA,CAAAtE,OAAA,IAAAiF,IAAA,GAAAA,IAAA,CAAA3B,IAAA,GAAArB,IAAA,WAAAzF,MAAA,WAAAA,MAAA,CAAAwG,IAAA,GAAAxG,MAAA,CAAAnE,KAAA,GAAA4M,IAAA,CAAA3B,IAAA,WAAA/B,qBAAA,CAAAD,EAAA,GAAA7B,MAAA,CAAA6B,EAAA,EAAA/B,iBAAA,gBAAAE,MAAA,CAAA6B,EAAA,EAAAnC,cAAA,iCAAAM,MAAA,CAAA6B,EAAA,6DAAA7C,OAAA,CAAAyG,IAAA,aAAAC,GAAA,QAAAC,MAAA,GAAAzG,MAAA,CAAAwG,GAAA,GAAAD,IAAA,gBAAA9M,GAAA,IAAAgN,MAAA,EAAAF,IAAA,CAAAvI,IAAA,CAAAvE,GAAA,UAAA8M,IAAA,CAAAG,OAAA,aAAA/B,gBAAA4B,IAAA,CAAA9L,MAAA,SAAAhB,GAAA,GAAA8M,IAAA,CAAAI,GAAA,QAAAlN,GAAA,IAAAgN,MAAA,SAAA9B,IAAA,CAAAjL,KAAA,GAAAD,GAAA,EAAAkL,IAAA,CAAAN,IAAA,OAAAM,IAAA,WAAAA,IAAA,CAAAN,IAAA,OAAAM,IAAA,QAAA7E,OAAA,CAAA4C,MAAA,GAAAA,MAAA,EAAAd,OAAA,CAAA3B,SAAA,KAAA6F,WAAA,EAAAlE,OAAA,EAAApG,KAAA,WAAAA,MAAAoL,aAAA,aAAAC,IAAA,WAAAlC,IAAA,WAAAV,IAAA,QAAAC,KAAA,GAAAK,SAAA,OAAAF,IAAA,YAAAP,QAAA,cAAAjB,MAAA,gBAAAb,GAAA,GAAAuC,SAAA,OAAAa,UAAA,CAAAxK,OAAA,CAAAyK,aAAA,IAAAuB,aAAA,WAAAb,IAAA,kBAAAA,IAAA,CAAAe,MAAA,OAAA5G,MAAA,CAAAgC,IAAA,OAAA6D,IAAA,MAAAN,KAAA,EAAAM,IAAA,CAAAgB,KAAA,cAAAhB,IAAA,IAAAxB,SAAA,MAAAyC,IAAA,WAAAA,cAAA3C,IAAA,WAAA4C,UAAA,QAAA7B,UAAA,IAAAE,UAAA,kBAAA2B,UAAA,CAAAhF,IAAA,QAAAgF,UAAA,CAAAjF,GAAA,cAAAkF,IAAA,KAAA/C,iBAAA,WAAAA,kBAAAgD,SAAA,aAAA9C,IAAA,QAAA8C,SAAA,MAAAxF,OAAA,kBAAAyF,OAAAC,GAAA,EAAAC,MAAA,WAAAlE,MAAA,CAAAnB,IAAA,YAAAmB,MAAA,CAAApB,GAAA,GAAAmF,SAAA,EAAAxF,OAAA,CAAAgD,IAAA,GAAA0C,GAAA,EAAAC,MAAA,KAAA3F,OAAA,CAAAkB,MAAA,WAAAlB,OAAA,CAAAK,GAAA,GAAAuC,SAAA,KAAA+C,MAAA,aAAA5M,CAAA,QAAA0K,UAAA,CAAA3K,MAAA,MAAAC,CAAA,SAAAA,CAAA,QAAAqK,KAAA,QAAAK,UAAA,CAAA1K,CAAA,GAAA0I,MAAA,GAAA2B,KAAA,CAAAO,UAAA,iBAAAP,KAAA,CAAAC,MAAA,SAAAoC,MAAA,aAAArC,KAAA,CAAAC,MAAA,SAAA6B,IAAA,QAAAU,QAAA,GAAArH,MAAA,CAAAgC,IAAA,CAAA6C,KAAA,eAAAyC,UAAA,GAAAtH,MAAA,CAAAgC,IAAA,CAAA6C,KAAA,qBAAAwC,QAAA,IAAAC,UAAA,aAAAX,IAAA,GAAA9B,KAAA,CAAAE,QAAA,SAAAmC,MAAA,CAAArC,KAAA,CAAAE,QAAA,gBAAA4B,IAAA,GAAA9B,KAAA,CAAAG,UAAA,SAAAkC,MAAA,CAAArC,KAAA,CAAAG,UAAA,cAAAqC,QAAA,aAAAV,IAAA,GAAA9B,KAAA,CAAAE,QAAA,SAAAmC,MAAA,CAAArC,KAAA,CAAAE,QAAA,qBAAAuC,UAAA,YAAA5D,KAAA,qDAAAiD,IAAA,GAAA9B,KAAA,CAAAG,UAAA,SAAAkC,MAAA,CAAArC,KAAA,CAAAG,UAAA,YAAAd,MAAA,WAAAA,OAAAnC,IAAA,EAAAD,GAAA,aAAAtH,CAAA,QAAA0K,UAAA,CAAA3K,MAAA,MAAAC,CAAA,SAAAA,CAAA,QAAAqK,KAAA,QAAAK,UAAA,CAAA1K,CAAA,OAAAqK,KAAA,CAAAC,MAAA,SAAA6B,IAAA,IAAA3G,MAAA,CAAAgC,IAAA,CAAA6C,KAAA,wBAAA8B,IAAA,GAAA9B,KAAA,CAAAG,UAAA,QAAAuC,YAAA,GAAA1C,KAAA,aAAA0C,YAAA,iBAAAxF,IAAA,mBAAAA,IAAA,KAAAwF,YAAA,CAAAzC,MAAA,IAAAhD,GAAA,IAAAA,GAAA,IAAAyF,YAAA,CAAAvC,UAAA,KAAAuC,YAAA,cAAArE,MAAA,GAAAqE,YAAA,GAAAA,YAAA,CAAAnC,UAAA,cAAAlC,MAAA,CAAAnB,IAAA,GAAAA,IAAA,EAAAmB,MAAA,CAAApB,GAAA,GAAAA,GAAA,EAAAyF,YAAA,SAAA5E,MAAA,gBAAA8B,IAAA,GAAA8C,YAAA,CAAAvC,UAAA,EAAA/C,gBAAA,SAAAuF,QAAA,CAAAtE,MAAA,MAAAsE,QAAA,WAAAA,SAAAtE,MAAA,EAAA+B,QAAA,oBAAA/B,MAAA,CAAAnB,IAAA,QAAAmB,MAAA,CAAApB,GAAA,qBAAAoB,MAAA,CAAAnB,IAAA,mBAAAmB,MAAA,CAAAnB,IAAA,QAAA0C,IAAA,GAAAvB,MAAA,CAAApB,GAAA,gBAAAoB,MAAA,CAAAnB,IAAA,SAAAiF,IAAA,QAAAlF,GAAA,GAAAoB,MAAA,CAAApB,GAAA,OAAAa,MAAA,kBAAA8B,IAAA,yBAAAvB,MAAA,CAAAnB,IAAA,IAAAkD,QAAA,UAAAR,IAAA,GAAAQ,QAAA,GAAAhD,gBAAA,KAAAwF,MAAA,WAAAA,OAAAzC,UAAA,aAAAxK,CAAA,QAAA0K,UAAA,CAAA3K,MAAA,MAAAC,CAAA,SAAAA,CAAA,QAAAqK,KAAA,QAAAK,UAAA,CAAA1K,CAAA,OAAAqK,KAAA,CAAAG,UAAA,KAAAA,UAAA,cAAAwC,QAAA,CAAA3C,KAAA,CAAAO,UAAA,EAAAP,KAAA,CAAAI,QAAA,GAAAE,aAAA,CAAAN,KAAA,GAAA5C,gBAAA,yBAAAyF,OAAA5C,MAAA,aAAAtK,CAAA,QAAA0K,UAAA,CAAA3K,MAAA,MAAAC,CAAA,SAAAA,CAAA,QAAAqK,KAAA,QAAAK,UAAA,CAAA1K,CAAA,OAAAqK,KAAA,CAAAC,MAAA,KAAAA,MAAA,QAAA5B,MAAA,GAAA2B,KAAA,CAAAO,UAAA,kBAAAlC,MAAA,CAAAnB,IAAA,QAAA4F,MAAA,GAAAzE,MAAA,CAAApB,GAAA,EAAAqD,aAAA,CAAAN,KAAA,YAAA8C,MAAA,gBAAAjE,KAAA,8BAAAkE,aAAA,WAAAA,cAAAvC,QAAA,EAAAb,UAAA,EAAAE,OAAA,gBAAAd,QAAA,KAAArD,QAAA,EAAAiC,MAAA,CAAA6C,QAAA,GAAAb,UAAA,EAAAA,UAAA,EAAAE,OAAA,EAAAA,OAAA,oBAAA/B,MAAA,UAAAb,GAAA,GAAAuC,SAAA,GAAApC,gBAAA,OAAArC,OAAA;AADA,KAKaiI,yBAAyB;GAOrC,SAAAA,0BAAYjP,OAAO,EACnB;KAAAC,YAAA,CAAAC,cAAA,OAAA+O,yBAAA;KACC,IAAI,CAACpM,cAAc,GAAG,IAAI9C,cAAc,CAACC,OAAO,CAAC;KACjD,IAAI,CAACkP,gBAAgB,GAAGlP,OAAO,CAACkP,gBAAgB;KAChD,IAAI,CAACC,YAAY,GAAGxM,YAAY,CAACC,SAAS,CAAC,IAAI,CAACC,cAAc,EAAE7C,OAAO,CAAC;KAExE,IAAI,CAACoP,cAAc,EAAE;KACrB,IAAI,CAACC,cAAc,EAAE;;GACrBpP,YAAA,CAAAS,WAAA,CAAAuO,yBAAA;KAAAtO,GAAA;KAAAC,KAAA,WAAAwB,yBAGD;OACC,IAAI,CAACS,cAAc,CAACT,sBAAsB,EAAE;;;KAC5CzB,GAAA;KAAAC,KAAA,WAAAyO,iBAGD;OAAA,IAAArO,KAAA;OACC,IAAMsO,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,uBAAuB,CAAC;OAC9D,IAAIF,MAAM,EACV;SACCA,MAAM,CAACG,gBAAgB,CAAC,OAAO;WAAA,IAAAC,IAAA,GAAAzP,YAAA,CAAA0P,gBAAA,eAAA5I,mBAAA,GAAAmG,IAAA,CAAE,SAAA0C,QAAOrJ,CAAC;aAAA,OAAAQ,mBAAA,GAAAsB,IAAA,UAAAwH,SAAAC,QAAA;eAAA,kBAAAA,QAAA,CAAA/B,IAAA,GAAA+B,QAAA,CAAAjE,IAAA;iBAAA;mBACxCtF,CAAC,CAACwJ,cAAc,EAAE;mBAACD,QAAA,CAAAjE,IAAA;mBAAA,OAEb7K,KAAI,CAACgP,WAAW,EAAE;iBAAA;mBAExBC,cAAI,CACFC,kBAAkB,CAAC,gDAAgD,EAAE,MAAM,EAAE;qBAC7E1L,IAAI,EAAExD,KAAI,CAACmP,WAAW,EAAE;qBACxBC,IAAI,EAAE,OAAO;qBACblB,gBAAgB,EAAElO,KAAI,CAACkO;oBACvB,CAAC,CACD1E,IAAI,CAAC,UAAC6F,QAAQ,EAAK;qBACnBf,MAAM,CAACgB,SAAS,CAACC,MAAM,CAAC,aAAa,CAAC;qBAEtCvM,QAAQ,CAACwM,MAAM,EAAE;oBACjB,CAAC,SACI,CAAC,UAACH,QAAQ,EAAK;qBACpBf,MAAM,CAACgB,SAAS,CAACC,MAAM,CAAC,aAAa,CAAC;qBAEtCvP,KAAI,CAACyP,UAAU,CAACJ,QAAQ,CAACK,MAAM,CAAC;oBAChC,CAAC;iBACF;iBAAA;mBAAA,OAAAZ,QAAA,CAAA5B,IAAA;;gBAAA0B,OAAA;YACD;WAAA,iBAAAe,EAAA;aAAA,OAAAjB,IAAA,CAAAvK,KAAA,OAAAyL,SAAA;;aAAC;;;;KAEHjQ,GAAA;KAAAC,KAAA,WAAAoP,cAGD;OAAA,IAAAa,MAAA;OACC,OAAO,IAAItD,OAAO,CAAC,UAACnD,OAAO,EAAEC,MAAM,EAAK;SACvC,IAAMyG,mBAAmB,GAAG,GAAG;SAE/BD,MAAI,CAACE,UAAU,CAACtO,IAAI,EAAE;SAEtBlB,UAAU,CAAC6I,OAAO,EAAE0G,mBAAmB,CAAC;QACxC,CAAC;;;KACFnQ,GAAA;KAAAC,KAAA,WAAA6P,WAEUC,MAAM,EACjB;OACC,IAAI,CAACK,UAAU,CAACC,OAAO,CAACN,MAAM,CAACpL,GAAG,CAAC,UAAC1D,CAAC;SAAA,OAAKA,CAAC,CAACqP,OAAO;SAAC,CAACC,IAAI,CAAC,MAAM,CAAC,CAAC;OAClE,IAAI,CAACH,UAAU,CAACI,QAAQ,CAAC5B,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC,CAAC;;;KACpE7O,GAAA;KAAAC,KAAA,WAAAwO,iBAGD;OACC,IAAI,CAAC2B,UAAU,GAAG,IAAIK,eAAK,CAAC;SAC3BC,KAAK,EAAEC,oBAAU,CAACC,MAAM;SACxBC,QAAQ,EAAE,IAAI;SACdC,WAAW,EAAE;QACb,CAAC;;;KACF9Q,GAAA;KAAAC,KAAA,WAAAuP,cAGD;OACC,IAAMpL,MAAM,GAAG,IAAI2M,QAAQ,EAAE;OAE7B3M,MAAM,CAAC4M,MAAM,CAAC,wBAAwB,EAAE,IAAI,CAACxC,YAAY,CAAC/K,gBAAgB,EAAE,CAAC;OAC7EW,MAAM,CAAC4M,MAAM,CAAC,8BAA8B,EAAE,IAAI,CAACxC,YAAY,CAAC7K,iBAAiB,EAAE,CAAC;OAEpF,IAAIsN,YAAY,GAAG,CAAC;OACpB,IAAI,CAAC/O,cAAc,CAAChC,eAAe,EAAE,CAACiB,OAAO,CAAC,UAACC,GAAG,EAAK;SACtD,IAAIwD,EAAE,GAAGsM,QAAQ,CAAC9P,GAAG,CAACV,KAAK,EAAE,CAAC;SAC9B,IAAIsL,KAAK,CAACpH,EAAE,CAAC,IAAI,CAACA,EAAE,EACpB;WACCqM,YAAY,EAAE;WACdrM,EAAE,GAAG,GAAG,GAAGqM,YAAY;;SAGxB,IAAME,SAAS,GAAG/P,GAAG,CAACgQ,cAAc,EAAE;SACtC,IAAIhQ,GAAG,CAACiQ,OAAO,EAAE,KAAK,KAAK,EAC3B;WACCF,SAAS,CAACG,SAAS,GAAG,GAAG;;SAG1B,KAAK,IAAMC,SAAS,IAAIJ,SAAS,EACjC;WACC,IAAI5K,MAAM,CAACG,cAAc,CAAC+B,IAAI,CAAC0I,SAAS,EAAEI,SAAS,CAAC,EACpD;aACCnN,MAAM,CAAC4M,MAAM,4BAAAQ,MAAA,CAA4B5M,EAAE,QAAA4M,MAAA,CAAKD,SAAS,QAAKJ,SAAS,CAACI,SAAS,CAAC,CAAC;;;QAGrF,CAAC;OAEF,OAAOnN,MAAM;;;GACb,OAAAkK,yBAAA;CAAA;;;;;;;;"}