jn.define("intranet/invite-new",((e,t,n)=>{const{PureComponent:i}=e("layout/pure-component");const{Area:s}=e("ui-system/layout/area");const{Loc:r}=e("loc");const{Text2:a}=e("ui-system/typography/text");const{Color:l}=e("tokens");const{Box:o}=e("ui-system/layout/box");const{PhoneTab:c}=e("intranet/invite-new/src/tab/phone");const{LinkTab:h}=e("intranet/invite-new/src/tab/link");const{IntranetInviteAnalytics:u}=e("intranet/invite-new/src/analytics");const I={PHONE:"phone",LINK:"link"};const T=device.screen.safeArea.bottom>0;const d=38;class p extends i{constructor(e){super(e);this.department=null;this.selectedTabInstance=null;this.state={selectedTabType:this.getDefaultSelectedTab()}}static getAjaxErrorText(e){return e.map((e=>{if(e.message){return e.message.replace("<br/>:","\n").replace("<br/>","\n")}return e.replace("<br/>:","\n").replace("<br/>","\n")})).filter((e=>e.length>0)).join("\n")}get canInviteByPhone(){return Boolean(this.props.canInviteByPhone)}get canInviteByLink(){return Boolean(this.props.canInviteByLink)}get testId(){return"invite"}get inviteLink(){return this.props.inviteLink??""}get sharingMessage(){return this.props.sharingMessage??""}get isSingleInviteTypeAvailable(){return!this.canInviteByPhone&&this.canInviteByLink||this.canInviteByPhone&&!this.canInviteByLink}get layout(){return this.props.layout??null}get multipleInvite(){return this.props.multipleInvite??true}get analytics(){return this.props.analytics??{}}get creatorEmailConfirmed(){return this.props.creatorEmailConfirmed??{}}get onInviteSentHandler(){return this.props.onInviteSentHandler??null}get onInviteError(){return this.props.onInviteError??null}getDefaultSelectedTab(){if(this.canInviteByPhone){return I.PHONE}if(this.canInviteByLink){return I.LINK}return null}updateSelectedTab(e){if(!Object.values(I).includes(e)){return}this.setState({selectedTabType:e})}#e(){return[{id:I.PHONE,title:r.getMessage("INTRANET_INVITE_BY_PHONE_TEXT"),isSelected:this.state.selectedTabType===I.PHONE},{id:I.LINK,title:r.getMessage("INTRANET_INVITE_BY_LINK_TEXT"),isSelected:this.state.selectedTabType===I.LINK}]}render(){this.initSelectedTabInstance();return o({safeArea:{bottom:true},style:{flex:1,width:"100%",paddingBottom:T?0:d}},s({isFirst:true,style:{flex:1}},this.isSingleInviteTypeAvailable&&this.#t(),!this.isSingleInviteTypeAvailable&&this.#n(),this.selectedTabInstance.renderTabContent()),this.selectedTabInstance.renderButton())}initSelectedTabInstance=()=>{switch(this.state.selectedTabType){case I.PHONE:this.selectedTabInstance=new c({layout:this.layout,multipleInvite:this.multipleInvite,analytics:this.analytics,creatorEmailConfirmed:this.creatorEmailConfirmed,onInviteSentHandler:this.onInviteSentHandler,onInviteError:this.onInviteError});break;case I.LINK:this.selectedTabInstance=new h({layout:this.layout,sharingMessage:this.sharingMessage,inviteLink:this.inviteLink,analytics:this.analytics});break;default:}};#t(){const e=this.state.selectedTabType===I.PHONE?r.getMessage("INTRANET_INVITE_BY_PHONE_TEXT"):r.getMessage("INTRANET_INVITE_BY_LINK_TEXT");return View({style:{width:"100%",justifyContent:"center",alignItems:"center",height:36}},a({testId:`${this.testId}-single-tab-text`,text:e,color:l.base2,numberOfLines:0,ellipsize:"end",style:{textAlign:"center"}}))}#n(){return SegmentedControlView({style:{height:36},items:this.#e(),onSegmentChanged:e=>{this.updateSelectedTab(e.id)}})}}n.exports={Invite:p,IntranetInviteAnalytics:u}}));
//# sourceMappingURL=extension.map.js