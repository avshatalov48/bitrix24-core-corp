jn.define("intranet/simple-list/items/item/action-menu",((t,e,s)=>{const{Loc:i}=t("loc");const n=t("statemanager/redux/store");const{selectWholeUserById:a}=t("intranet/statemanager/redux/slices/employees/selector");const{ContextMenu:o}=t("layout/ui/context-menu");const{UserEnum:r}=t("intranet/simple-list/items/user-redux/user-enum");const{selectActions:c}=t("intranet/statemanager/redux/slices/employees/selector");const{showToast:l,Position:d}=t("toast");const{Actions:u}=t("intranet/simple-list/items/item/actions");class E{constructor({userId:t}){this.user=a(n.getState(),t);this.contextMenu=null}show(){const t=c(n.getState(),{userId:this.user.id,currentUserId:env.userId});const e=Object.values(this.actions).filter((e=>t[e.id])).sort(((t,e)=>Math.sign(t.sort-e.sort)));if(e.length===0){l({position:d.BOTTOM,message:i.getMessage("MOBILE_USERS_USER_ACTIONS_NO_ACTIONS"),time:1},layout);return}this.contextMenu=new o({actions:e});void this.contextMenu.show()}get actions(){return{[r.actions.deleteInvitation]:{id:r.actions.deleteInvitation,title:i.getMessage("MOBILE_USERS_USER_ACTIONS_DELETE_INVITATION"),data:{svgUri:""},onClickCallback:this.callAfterClose(u.list[r.actions.deleteInvitation],{userId:this.user.id}),sort:700},[r.actions.fire]:{id:r.actions.fire,title:i.getMessage("MOBILE_USERS_USER_ACTIONS_FIRE"),data:{svgUri:""},onClickCallback:this.callAfterClose(u.list[r.actions.fire],{userId:this.user.id}),sort:500},[r.actions.hire]:{id:r.actions.hire,title:i.getMessage("MOBILE_USERS_USER_ACTIONS_HIRE"),data:{svgUri:""},onClickCallback:()=>u.list[r.actions.hire]({userId:this.user.id})},[r.actions.reinvite]:{id:r.actions.reinvite,title:i.getMessage("MOBILE_USERS_USER_ACTIONS_REINVITE"),data:{svgUri:""},onClickCallback:()=>u.list[r.actions.reinvite]({userId:this.user.id}),sort:100},[r.actions.changeDepartment]:{id:r.actions.changeDepartment,title:i.getMessage("MOBILE_USERS_USER_ACTIONS_CHANGE_DEPARTMENT"),data:{svgUri:""},onClickCallback:()=>u.list[r.actions.changeDepartment](),sort:400},[r.actions.confirmUserRequest]:{id:r.actions.confirmUserRequest,title:i.getMessage("MOBILE_USERS_USER_ACTIONS_CONFIRM_USER_REQUEST"),data:{svgUri:""},onClickCallback:this.callAfterClose(u.list[r.actions.confirmUserRequest],{userId:this.user.id}),sort:200},[r.actions.declineUserRequest]:{id:r.actions.declineUserRequest,title:i.getMessage("MOBILE_USERS_USER_ACTIONS_DECLINE_USER_REQUEST"),data:{svgUri:""},onClickCallback:this.callAfterClose(u.list[r.actions.declineUserRequest],{userId:this.user.id}),sort:300},[r.actions.appointAdmin]:{id:r.actions.appointAdmin,title:i.getMessage("MOBILE_USERS_USER_ACTIONS_APPOINT_ADMIN"),data:{svgUri:""},onClickCallback:()=>u.list[r.actions.appointAdmin](),sort:600}}}callAfterClose(t,e){return()=>new Promise((s=>{this.contextMenu.close((()=>{t(e);s({closeMenu:false})}))}))}}s.exports={ActionMenu:E}}));
//# sourceMappingURL=extension.map.js