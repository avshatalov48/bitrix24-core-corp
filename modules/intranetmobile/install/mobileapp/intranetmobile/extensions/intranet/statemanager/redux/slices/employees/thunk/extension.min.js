jn.define("intranet/statemanager/redux/slices/employees/thunk",((e,t,n)=>{const o=e("statemanager/redux/store");const{sliceName:s}=e("intranet/statemanager/redux/slices/employees/meta");const{selectById:i}=e("intranet/statemanager/redux/slices/employees/selector");const{createAsyncThunk:r}=e("statemanager/redux/toolkit");const{RunActionExecutor:a}=e("rest/run-action-executor");const{isOnline:c}=e("device/connection");const u=()=>c();const l=({action:e,options:t})=>new Promise((n=>{new a(e,t).setHandler(n).call(false)}));const d=async({component:e,action:t,options:n})=>BX.ajax.runComponentAction(e,t,{mode:"class",data:n});const m=r(`${s}/reinvite`,(async({userId:e},{rejectWithValue:t})=>{try{const{isExtranetUser:n}=i(o.getState(),e);const s=await l({action:"intranetmobile.employees.reinvite",options:{userId:e,isExtranetUser:n}});if(s.status==="success"){return{...s.data}}console.error(s.errors[0].message);return t(s)}catch(e){console.error(e)}}),{condition:u,getPendingMeta:({arg:e})=>({arg:e})});const p=r(`${s}/reinviteWithChangeContact`,(async({userId:e,email:t,phone:n},{rejectWithValue:o})=>{try{const s=await l({action:"intranet.invite.reinviteWithChangeContact",options:{userId:e,newEmail:t||null,newPhone:n||null}});if(s.status==="success"){return s.data}console.error(s.errors[0].message);return o(s)}catch(e){console.error(e)}}),{condition:u,getPendingMeta:({arg:e})=>({arg:e})});const g=r(`${s}/deleteInvitation`,(({userId:e})=>d({component:"bitrix:intranet.user.list",action:"setActivity",options:{params:{userId:e,action:"delete"}}})),{condition:u});const y=r(`${s}/fireEmployee`,(({userId:e})=>d({component:"bitrix:intranet.user.list",action:"setActivity",options:{params:{userId:e,action:"deactivate"}}})),{condition:u});const h=r(`${s}/hireEmployee`,(({userId:e})=>d({component:"bitrix:intranet.user.list",action:"setActivity",options:{params:{userId:e,action:"restore"}}})),{condition:u});const I=r(`${s}/confirmUserRequest`,(({userId:e,isAccept:t})=>l({action:"intranet.controller.invite.confirmUserRequest",options:{userId:e,isAccept:t?"Y":"N"}})),{condition:u});const v=r(`${s}/changeDepartment`,(async({userId:e,departments:t})=>l({action:"intranetmobile.employees.updateDepartment",options:{userId:e,newDepartmentsIds:Object.keys(t)}})),{condition:u});n.exports={reinvite:m,reinviteWithChangeContact:p,deleteInvitation:g,fireEmployee:y,hireEmployee:h,confirmUserRequest:I,changeDepartment:v}}));
//# sourceMappingURL=extension.map.js