{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import {Reflection, Type, Event, Dom, ajax} from 'main.core';\n\nconst namespace = Reflection.namespace('BX.Catalog.Store.Document');\n\nclass ControlPanel\n{\n\topenSlider(url, options)\n\t{\n\t\tlet currentSlider = BX.SidePanel.Instance.getTopSlider();\n\t\tif(!Type.isPlainObject(options))\n\t\t{\n\t\t\toptions = {};\n\t\t}\n\t\toptions = {...{cacheable: false, allowChangeHistory: false, events: {}}, ...options};\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(Type.isString(url) && url.length > 1)\n\t\t\t{\n\t\t\t\toptions.events.onClose = function(event)\n\t\t\t\t{\n\t\t\t\t\tlet slider = event.getSlider();\n\t\t\t\t\tif (!slider)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (slider.getData().get('isInventoryManagementEnabled') || slider.getData().get('isInventoryManagementDisabled'))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (currentSlider)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcurrentSlider.data.set('preventMasterSlider', true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdocument.location.reload();\n\t\t\t\t\t}\n\t\t\t\t\tresolve(event.getSlider());\n\t\t\t\t};\n\t\t\t\tBX.SidePanel.Instance.open(url, options);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tstoreMasterOpenSlider(url, options = {})\n\t{\n\t\tthis.openSlider(url, options);\n\t}\n\n\treloadGrid()\n\t{\n\t\tdocument.location.reload()\n\t}\n}\n\nnamespace.ControlPanel = ControlPanel"],"names":["namespace","Reflection","ControlPanel","url","options","currentSlider","BX","SidePanel","Instance","getTopSlider","Type","isPlainObject","cacheable","allowChangeHistory","events","Promise","resolve","isString","length","onClose","event","slider","getSlider","getData","get","data","set","document","location","reload","open","openSlider"],"mappings":";;;CAEA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAX,CAAqB,2BAArB,CAAlB;;KAEME;;;;;;;gCAEMC,KAAKC,SAChB;CACC,UAAIC,aAAa,GAAGC,EAAE,CAACC,SAAH,CAAaC,QAAb,CAAsBC,YAAtB,EAApB;;CACA,UAAG,CAACC,cAAI,CAACC,aAAL,CAAmBP,OAAnB,CAAJ,EACA;CACCA,QAAAA,OAAO,GAAG,EAAV;CACA;;CACDA,MAAAA,OAAO,iCAAO;CAACQ,QAAAA,SAAS,EAAE,KAAZ;CAAmBC,QAAAA,kBAAkB,EAAE,KAAvC;CAA8CC,QAAAA,MAAM,EAAE;CAAtD,OAAP,EAAqEV,OAArE,CAAP;CACA,aAAO,IAAIW,OAAJ,CAAY,UAACC,OAAD,EACnB;CACC,YAAGN,cAAI,CAACO,QAAL,CAAcd,GAAd,KAAsBA,GAAG,CAACe,MAAJ,GAAa,CAAtC,EACA;CACCd,UAAAA,OAAO,CAACU,MAAR,CAAeK,OAAf,GAAyB,UAASC,KAAT,EACzB;CACC,gBAAIC,MAAM,GAAGD,KAAK,CAACE,SAAN,EAAb;;CACA,gBAAI,CAACD,MAAL,EACA;CACC;CACA;;CAED,gBAAIA,MAAM,CAACE,OAAP,GAAiBC,GAAjB,CAAqB,8BAArB,KAAwDH,MAAM,CAACE,OAAP,GAAiBC,GAAjB,CAAqB,+BAArB,CAA5D,EACA;CACC,kBAAInB,aAAJ,EACA;CACCA,gBAAAA,aAAa,CAACoB,IAAd,CAAmBC,GAAnB,CAAuB,qBAAvB,EAA8C,IAA9C;CACA;;CACDC,cAAAA,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;CACA;;CACDb,YAAAA,OAAO,CAACI,KAAK,CAACE,SAAN,EAAD,CAAP;CACA,WAjBD;;CAkBAhB,UAAAA,EAAE,CAACC,SAAH,CAAaC,QAAb,CAAsBsB,IAAtB,CAA2B3B,GAA3B,EAAgCC,OAAhC;CACA,SArBD,MAuBA;CACCY,UAAAA,OAAO;CACP;CACD,OA5BM,CAAP;CA6BA;;;2CAEqBb,KACtB;CAAA,UAD2BC,OAC3B,uEADqC,EACrC;CACC,WAAK2B,UAAL,CAAgB5B,GAAhB,EAAqBC,OAArB;CACA;;;kCAGD;CACCuB,MAAAA,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;CACA;;;;;CAGF7B,SAAS,CAACE,YAAV,GAAyBA,YAAzB;;;;"}