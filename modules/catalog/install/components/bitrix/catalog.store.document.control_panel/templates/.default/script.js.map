{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import {Reflection, Type, Event, Dom, ajax} from 'main.core';\nimport {Slider} from 'catalog.store-use'\n\nconst namespace = Reflection.namespace('BX.Catalog.Store.Document');\n\nclass ControlPanel\n{\n\topenSlider(url, options = {})\n\t{\n\t\tlet currentSlider = BX.SidePanel.Instance.getTopSlider();\n\n\t\toptions = Type.isPlainObject(options) ? options:{};\n\n\t\tlet params = {\n\t\t\tevents: options.hasOwnProperty(\"events\") ? options.events : {},\n\t\t\tdata: options.hasOwnProperty(\"data\") ? options.data : {},\n\t\t};\n\n\t\tparams.events.onClose = function(event)\n\t\t{\n\t\t\tlet slider = event.getSlider();\n\t\t\tif (!slider)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (slider.getData().get('isInventoryManagementEnabled'))\n\t\t\t{\n\t\t\t\tif (currentSlider)\n\t\t\t\t{\n\t\t\t\t\tcurrentSlider.data.set('preventMasterSlider', true);\n\t\t\t\t}\n\t\t\t\tdocument.location.reload();\n\t\t\t}\n\t\t}\n\n\t\treturn new Slider().open(url, params)\n\t}\n\n\tstoreMasterOpenSlider(url, options = {})\n\t{\n\t\tthis.openSlider(url, options);\n\t}\n\n\treloadGrid()\n\t{\n\t\tdocument.location.reload()\n\t}\n}\n\nnamespace.ControlPanel = ControlPanel"],"names":["namespace","Reflection","ControlPanel","url","options","currentSlider","BX","SidePanel","Instance","getTopSlider","Type","isPlainObject","params","events","hasOwnProperty","data","onClose","event","slider","getSlider","getData","get","set","document","location","reload","Slider","open","openSlider"],"mappings":";;;CAGA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAX,CAAqB,2BAArB,CAAlB;;KAEME;;;;;;;gCAEMC,KACX;OAAA,IADgBC,OAChB,uEAD0B,EAC1B;OACC,IAAIC,aAAa,GAAGC,EAAE,CAACC,SAAH,CAAaC,QAAb,CAAsBC,YAAtB,EAApB;OAEAL,OAAO,GAAGM,cAAI,CAACC,aAAL,CAAmBP,OAAnB,IAA8BA,OAA9B,GAAsC,EAAhD;OAEA,IAAIQ,MAAM,GAAG;SACZC,MAAM,EAAET,OAAO,CAACU,cAAR,CAAuB,QAAvB,IAAmCV,OAAO,CAACS,MAA3C,GAAoD,EADhD;SAEZE,IAAI,EAAEX,OAAO,CAACU,cAAR,CAAuB,MAAvB,IAAiCV,OAAO,CAACW,IAAzC,GAAgD;QAFvD;;OAKAH,MAAM,CAACC,MAAP,CAAcG,OAAd,GAAwB,UAASC,KAAT,EACxB;SACC,IAAIC,MAAM,GAAGD,KAAK,CAACE,SAAN,EAAb;;SACA,IAAI,CAACD,MAAL,EACA;WACC;;;SAGD,IAAIA,MAAM,CAACE,OAAP,GAAiBC,GAAjB,CAAqB,8BAArB,CAAJ,EACA;WACC,IAAIhB,aAAJ,EACA;aACCA,aAAa,CAACU,IAAd,CAAmBO,GAAnB,CAAuB,qBAAvB,EAA8C,IAA9C;;;WAEDC,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;;QAdF;;OAkBA,OAAO,IAAIC,uBAAJ,GAAaC,IAAb,CAAkBxB,GAAlB,EAAuBS,MAAvB,CAAP;;;;2CAGqBT,KACtB;OAAA,IAD2BC,OAC3B,uEADqC,EACrC;OACC,KAAKwB,UAAL,CAAgBzB,GAAhB,EAAqBC,OAArB;;;;kCAID;OACCmB,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;;;;;;CAIFzB,SAAS,CAACE,YAAV,GAAyBA,YAAzB;;;;"}