{"version":3,"file":"contractor.bundle.js","sources":["../src/contractorfield.js","../src/field-factory.js"],"sourcesContent":["import {ajax, Loc, Tag} from \"main.core\";\nimport {Dialog, TagSelector} from 'ui.entity-selector';\n\nexport class ContractorField extends BX.UI.EntityEditorField\n{\n\tconstructor(id, settings)\n\t{\n\t\tsuper();\n\t\tthis.initialize(id, settings);\n\n\t\tthis._input = null;\n\t\tthis.innerWrapper = null;\n\t\tthis.currentContractorName = '';\n\t\tthis.viewModeDisplay = null;\n\t}\n\n\tgetContentWrapper()\n\t{\n\t\treturn this.innerWrapper;\n\t}\n\n\tlayout(options = {})\n\t{\n\t\tif (this._hasLayout)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.ensureWrapperCreated({});\n\t\tthis.adjustWrapper();\n\n\t\tlet title = this.getTitle();\n\t\tif (this.isDragEnabled())\n\t\t{\n\t\t\tthis._wrapper.appendChild(this.createDragButton());\n\t\t}\n\n\t\tthis._wrapper.appendChild(this.createTitleNode(title));\n\n\t\tlet name = this.getName();\n\t\tlet value = this.getValue();\n\t\tlet data = this._schemeElement.getData();\n\t\tif (!this.currentContractorName)\n\t\t{\n\t\t\tthis.currentContractorName = this.getContractorNameFromModel();\n\t\t}\n\t\tthis._input = Tag.render`<input name=\"${name}\" type=\"hidden\" value=\"${value}\"/>`;\n\t\tthis._wrapper.appendChild(this._input);\n\n\t\tthis.innerWrapper = Tag.render`<div class=\"ui-entity-editor-content-block\"></div>`;\n\t\tthis._wrapper.appendChild(this.innerWrapper);\n\n\t\tif (this._mode === BX.UI.EntityEditorMode.edit)\n\t\t{\n\t\t\tlet currentSelectedItems = [];\n\t\t\tif (value)\n\t\t\t{\n\t\t\t\tcurrentSelectedItems.push({\n\t\t\t\t\tid: value,\n\t\t\t\t\tentityId: 'contractor',\n\t\t\t\t\ttitle: this.currentContractorName,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tlet contractorSelector = new TagSelector({\n\t\t\t\titems: currentSelectedItems,\n\t\t\t\tplaceholder: Loc.getMessage('ENTITY_CONTRACTOR_FIELD_PLACEHOLDER'),\n\t\t\t\ttextBoxWidth: '100%',\n\t\t\t\tmultiple: false,\n\t\t\t\tdialogOptions: {\n\t\t\t\t\tcontext: 'catalog_document_contractors',\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'contractor',\n\t\t\t\t\t\t\tdynamicLoad: true,\n\t\t\t\t\t\t\tdynamicSearch: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tsearchOptions: {\n\t\t\t\t\t\tallowCreateItem: true,\n\t\t\t\t\t\tfooterOptions: {\n\t\t\t\t\t\t\tlabel: Loc.getMessage('ENTITY_ADD_CONTRACTOR'),\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t'Item:onSelect': (event) => {\n\t\t\t\t\t\t\tthis._input.value = event.data.item.getId();\n\t\t\t\t\t\t\tif (this.viewModeDisplay)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.currentContractorName = event.data.item.getTitle();\n\t\t\t\t\t\t\t\tthis.viewModeDisplay.innerHTML = BX.util.htmlspecialchars(this.currentContractorName);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._changeHandler();\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'Search:onItemCreateAsync': this.createContractor.bind(this),\n\t\t\t\t\t\t'Item:onDeselect': (event) => {\n\t\t\t\t\t\t\tthis._input.value = '';\n\t\t\t\t\t\t\tthis._changeHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tcontractorSelector.renderTo(this.innerWrapper);\n\n\t\t\tif (BX.UI.EntityEditorModeOptions.check(this._modeOptions, BX.UI.EntityEditorModeOptions.individual))\n\t\t\t{\n\t\t\t\tcontractorSelector.getDialog().show();\n\t\t\t}\n\t\t}\n\t\telse // if(this._mode === BX.UI.EntityEditorMode.view)\n\t\t{\n\t\t\tif (this.hasContentToDisplay())\n\t\t\t{\n\t\t\t\tthis.viewModeDisplay = Tag.render`<div class=\"ui-entity-editor-content-block-text\">${BX.util.htmlspecialchars(this.currentContractorName)}</div>`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.viewModeDisplay = Tag.render`<div class=\"ui-entity-editor-content-block-text\">${Loc.getMessage('ENTITY_CONTRACTOR_NOT_FILLED')}</div>`;\n\t\t\t}\n\n\t\t\tthis.innerWrapper.appendChild(this.viewModeDisplay);\n\t\t}\n\n\t\tif (this.isContextMenuEnabled())\n\t\t{\n\t\t\tthis._wrapper.appendChild(this.createContextMenuButton());\n\t\t}\n\n\t\tif (this.isDragEnabled())\n\t\t{\n\t\t\tthis.initializeDragDropAbilities();\n\t\t}\n\n\t\tthis.registerLayout(options);\n\t\tthis._hasLayout = true;\n\t}\n\n\tvalidate(result)\n\t{\n\t\tif(!(this._mode === BX.UI.EntityEditorMode.edit && this._input))\n\t\t{\n\t\t\tthrow \"BX.Catalog.Entity-editor.Field.Contractor. Invalid validation context\";\n\t\t}\n\n\t\tthis.clearError();\n\n\t\tif(this.hasValidators())\n\t\t{\n\t\t\treturn this.executeValidators(result);\n\t\t}\n\n\t\tlet isValid = !(this.isRequired() || this.isRequiredByAttribute()) || BX.util.trim(this._input.value) !== \"\";\n\t\tif (!isValid)\n\t\t{\n\t\t\tresult.addError(BX.UI.EntityValidationError.create({ field: this }));\n\t\t\tthis.showRequiredFieldError(this._input);\n\t\t}\n\t\treturn isValid;\n\t}\n\n\thasValue()\n\t{\n\t\tif (this.getValue() === '0')\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn super.hasValue();\n\t}\n\n\tgetModeSwitchType(mode)\n\t{\n\t\tlet result = BX.UI.EntityEditorModeSwitchType.common;\n\n\t\tif (mode === BX.UI.EntityEditorMode.edit)\n\t\t{\n\t\t\tresult |= BX.UI.EntityEditorModeSwitchType.button | BX.UI.EntityEditorModeSwitchType.content;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tcreateContractor(event)\n\t{\n\t\tlet {searchQuery} = event.getData();\n\t\tlet companyName = searchQuery.getQuery();\n\n\t\treturn new Promise(\n\t\t\t(resolve, reject) => {\n\t\t\t\tconst dialog: Dialog = event.getTarget();\n\t\t\t\tconst fields = {\n\t\t\t\t\tcompanyName,\n\t\t\t\t};\n\n\t\t\t\tdialog.showLoader();\n\t\t\t\tajax.runAction(\n\t\t\t\t\t'catalog.contractor.createContractor',\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tfields\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tdialog.hideLoader();\n\t\t\t\t\t\tconst item = dialog.addItem({\n\t\t\t\t\t\t\tid: response.data.id,\n\t\t\t\t\t\t\tentityId: 'contractor',\n\t\t\t\t\t\t\ttitle: searchQuery.getQuery(),\n\t\t\t\t\t\t\ttabs: dialog.getRecentTab().getId(),\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.select();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdialog.hide();\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tdialog.hideLoader();\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: Loc.getMessage('ENTITY_ADD_CONTRACTOR_ERROR'),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdialog.hide();\n\t\t\t\t\t\treject();\n\t\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n\n\tgetContractorNameFromModel()\n\t{\n\t\treturn this._model.getSchemeField(this._schemeElement, 'contractorName', '');\n\t}\n\n\trollback()\n\t{\n\t\tthis.currentContractorName = this.getContractorNameFromModel();\n\t}\n\n\tstatic create(id, settings)\n\t{\n\t\tlet self = new this(id, settings);\n\t\tself.initialize(id, settings);\n\t\treturn self;\n\t}\n}","import {EventEmitter} from \"main.core.events\";\nimport type {BaseEvent} from \"main.core.events\";\nimport {ContractorField} from \"./contractorfield\";\n\nexport class ContractorFieldFactory\n{\n\tconstructor(entityEditorControlFactory = 'BX.UI.EntityEditorControlFactory')\n\t{\n\t\tEventEmitter.subscribe(entityEditorControlFactory + ':onInitialize', (event: BaseEvent) => {\n\t\t\tconst [, eventArgs] = event.getCompatData();\n\t\t\teventArgs.methods['contractor'] = this.factory.bind(this);\n\t\t});\n\t}\n\n\tfactory(type, controlId, settings)\n\t{\n\t\tif (type === 'contractor')\n\t\t{\n\t\t\treturn ContractorField.create(controlId, settings);\n\t\t}\n\n\t\treturn null;\n\t}\n}"],"names":["ContractorField","BX","UI","EntityEditorField","constructor","id","settings","initialize","_input","innerWrapper","currentContractorName","viewModeDisplay","getContentWrapper","layout","options","_hasLayout","ensureWrapperCreated","adjustWrapper","title","getTitle","isDragEnabled","_wrapper","appendChild","createDragButton","createTitleNode","name","getName","value","getValue","data","_schemeElement","getData","getContractorNameFromModel","Tag","render","_mode","EntityEditorMode","edit","currentSelectedItems","push","entityId","contractorSelector","TagSelector","items","placeholder","Loc","getMessage","textBoxWidth","multiple","dialogOptions","context","entities","dynamicLoad","dynamicSearch","searchOptions","allowCreateItem","footerOptions","label","events","event","item","getId","innerHTML","util","htmlspecialchars","_changeHandler","createContractor","bind","renderTo","EntityEditorModeOptions","check","_modeOptions","individual","getDialog","show","hasContentToDisplay","isContextMenuEnabled","createContextMenuButton","initializeDragDropAbilities","registerLayout","validate","result","clearError","hasValidators","executeValidators","isValid","isRequired","isRequiredByAttribute","trim","addError","EntityValidationError","create","field","showRequiredFieldError","hasValue","getModeSwitchType","mode","EntityEditorModeSwitchType","common","button","content","searchQuery","companyName","getQuery","Promise","resolve","reject","dialog","getTarget","fields","showLoader","ajax","runAction","then","response","hideLoader","addItem","tabs","getRecentTab","select","hide","catch","Notification","Center","notify","_model","getSchemeField","rollback","self","ContractorFieldFactory","entityEditorControlFactory","EventEmitter","subscribe","eventArgs","getCompatData","methods","factory","type","controlId"],"mappings":"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"}