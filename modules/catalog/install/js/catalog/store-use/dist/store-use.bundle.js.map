{"version":3,"file":"store-use.bundle.js","sources":["../src/event-type.js","../src/dialog-onec.js","../src/dialog-disable.js","../src/dialog-clearing.js","../src/slider.js"],"sourcesContent":["export const EventType = Object.freeze({\n\tpopup:\n\t\t{\n\t\t\tdisable: 'BX:Sale:StoreMaster:EventType:popup:disable',\n\t\t\tdisableCancel: 'BX:Sale:StoreMaster:EventType:popup:disable:cancel',\n\t\t\tconfirm: 'BX:Sale:StoreMaster:EventType:popup:confirm',\n\t\t\tconfirmCancel: 'BX:Sale:StoreMaster:EventType:popup:confirm:cancel',\n\t\t}\n});","import {Loc, Type, Text, Tag} from 'main.core';\nimport {Popup} from \"main.popup\";\nimport {Button} from \"ui.buttons\";\nimport {EventEmitter} from \"main.core.events\";\n\nexport class DialogOneC\n{\n\tpopup()\n\t{\n\t\tconst popup = new Popup(null, null, {\n\t\t\tevents: {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tpopup.destroy();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontent: this.getContent(),\n\t\t\tmaxWidth: 500,\n\t\t\toverlay: true,\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext : Loc.getMessage('CAT_WAREHOUSE_MASTER_CLEAR_CLOSE'),\n\t\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tgetContent()\n\t{\n\t\treturn Tag.render`\n\t\t\t\t\t<div class='catalog-warehouse-master-clear-popup-content'>\n\t\t\t\t\t\t<h3>${Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_10')}</h3>\n\t\t\t\t\t\t<div class=\"catalog-warehouse-master-clear-popup-text\">${Text.encode(Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_9'))}\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\t}\n}","import {Loc, Type, Text, Tag, ajax} from 'main.core';\nimport {Popup} from \"main.popup\";\nimport {Button} from \"ui.buttons\";\nimport {EventEmitter} from \"main.core.events\";\n\nimport './event-type'\nimport {EventType} from \"./event-type\";\n\nimport './store-use.css';\n\nexport class DialogDisable\n{\n\tpopup()\n\t{\n\t\tajax.runAction(\n\t\t\t'catalog.config.conductedDocumentsExist',\n\t\t\t{}\n\t\t).then(response => {\n\t\t\tconst documentsExist = response.data;\n\n\t\t\tif (documentsExist)\n\t\t\t{\n\t\t\t\tthis.conductedDocumentsPopup();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.disablePopup();\n\t\t\t}\n\t\t});\n\t}\n\n\tdisablePopup()\n\t{\n\t\tconst popup = new Popup(null, null, {\n\t\t\tevents: {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tpopup.destroy();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontent: this.getDisablePopupContent(),\n\t\t\tmaxWidth: 500,\n\t\t\toverlay: true,\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext : Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_6'),\n\t\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\tEventEmitter.emit(EventType.popup.disable, {});\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\ttext : Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_1'),\n\t\t\t\t\tcolor: BX.UI.Button.Color.LINK,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\tEventEmitter.emit(EventType.popup.disableCancel, {});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tgetDisablePopupContent()\n\t{\n\t\treturn Tag.render`\n\t\t\t\t\t<div class='catalog-warehouse-master-clear-popup-content'>\n\t\t\t\t\t\t<h3>${Loc.getMessage('CAT_WAREHOUSE_MASTER_CLEAR_DISABLE_POPUP_TITLE')}</h3>\n\t\t\t\t\t\t<div class=\"catalog-warehouse-master-clear-popup-text\">${Text.encode(Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_7'))}\n\t\t\t\t\t\t<br>${Text.encode(Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_8'))}<div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\t}\n\n\tconductedDocumentsPopup()\n\t{\n\t\tconst popup = new BX.Main.Popup(null, null, {\n\t\t\tevents: {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tpopup.destroy();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontent: this.getConductedDocumentsPopupContent(),\n\t\t\tmaxWidth: 500,\n\t\t\toverlay: true,\n\t\t\tbuttons: [\n\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\ttext : Loc.getMessage('CAT_WAREHOUSE_MASTER_CLEAR_CLOSE'),\n\t\t\t\t\tcolor: BX.UI.Button.Color.PRIMARY,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\tEventEmitter.emit(EventType.popup.disableCancel, {});\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t]\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tgetConductedDocumentsPopupContent()\n\t{\n\t\treturn Tag.render`\n\t\t\t\t\t<div class='catalog-warehouse-master-clear-popup-content'>\n\t\t\t\t\t\t<h3>${Loc.getMessage('CAT_WAREHOUSE_MASTER_CLEAR_DISABLE_POPUP_TITLE')}</h3>\n\t\t\t\t\t\t<div class=\"catalog-warehouse-master-clear-popup-text\">${Loc.getMessage('CAT_WAREHOUSE_MASTER_CLEAR_CONDUCTED_DOCUMENTS_EXIST')}<div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\t}\n}","import {Loc, Type, Text, Tag} from 'main.core';\nimport {Popup} from \"main.popup\";\nimport {Button} from \"ui.buttons\";\nimport {EventEmitter} from \"main.core.events\";\n\nimport './event-type'\nimport {EventType} from \"./event-type\";\n\nexport class DialogClearing\n{\n\tpopup()\n\t{\n\t\tconst popup = new Popup(null, null, {\n\t\t\tevents: {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tpopup.destroy();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontent: this.getContent(),\n\t\t\tmaxWidth: 500,\n\t\t\toverlay: true,\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext : Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_2'),\n\t\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\tEventEmitter.emit(EventType.popup.confirm, {})\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\ttext : Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_1'),\n\t\t\t\t\tcolor: BX.UI.Button.Color.LINK,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\tEventEmitter.emit(EventType.popup.confirmCancel, {});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tgetContent()\n\t{\n\t\treturn Tag.render`\n\t\t\t\t\t<div class='catalog-warehouse-master-clear-popup-content'>\n\t\t\t\t\t\t<h3>${Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_3')}</h3>\n\t\t\t\t\t\t<div class=\"catalog-warehouse-master-clear-popup-text\">${Text.encode(Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_4'))}\n\t\t\t\t\t\t<br>${Text.encode(Loc.getMessage('CAT_WAREHOUSE_MASTER_STORE_USE_5'))}<div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\t}\n}","import {Type} from \"main.core\";\n\nexport class Slider\n{\n\topen(url, options)\n\t{\n\t\tif(!Type.isPlainObject(options))\n\t\t{\n\t\t\toptions = {};\n\t\t}\n\t\toptions = {...{cacheable: false, allowChangeHistory: false, events: {}}, ...options};\n\t\treturn new Promise((resolve) =>\n\t\t{\n\t\t\tif(Type.isString(url) && url.length > 1)\n\t\t\t{\n\t\t\t\toptions.events.onClose = function(event)\n\t\t\t\t{\n\t\t\t\t\tresolve(event.getSlider());\n\t\t\t\t};\n\t\t\t\tBX.SidePanel.Instance.open(url, options);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n}\n"],"names":["EventType","Object","freeze","popup","disable","disableCancel","confirm","confirmCancel","DialogOneC","Popup","events","onPopupClose","destroy","content","getContent","maxWidth","overlay","buttons","Button","text","Loc","getMessage","color","Color","PRIMARY","onclick","close","show","Tag","render","Text","encode","DialogDisable","ajax","runAction","then","response","documentsExist","data","conductedDocumentsPopup","disablePopup","getDisablePopupContent","EventEmitter","emit","BX","UI","LINK","Main","getConductedDocumentsPopupContent","DialogClearing","Slider","url","options","Type","isPlainObject","cacheable","allowChangeHistory","Promise","resolve","isString","length","onClose","event","getSlider","SidePanel","Instance","open"],"mappings":"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"}