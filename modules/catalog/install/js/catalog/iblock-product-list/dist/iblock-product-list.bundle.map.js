{"version":3,"sources":["iblock-product-list.bundle.js"],"names":["this","BX","exports","main_core_events","main_core","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_templateObject","data","babelHelpers","taggedTemplateLiteral","IblockProductList","options","arguments","undefined","classCallCheck","defineProperty","Map","handleOnSettingsWindowSave","bind","handleOnChangeVariation","handleOnBeforeGridRequest","handleOnFilterApply","gridId","rowIdMask","variationFieldNames","productVariationMap","createNewProductHref","showCatalogWithOffers","addCustomClassToGrid","cacheSelectedVariation","EventEmitter","subscribe","onSettingsWindowSaveHandler","onChangeVariationHandler","onBeforeGridRequestHandler","onFilterApplyHandler","createClass","key","Dom","addClass","getGrid","getContainer","_this","getRows","getBodyChild","forEach","row","rowId","getId","productId","getProductIdByRowId","variationId","getCurrentVariationIdByProduct","variations","set","getNode","cloneNode","variationsEditData","getEditData","clearAllVariationCache","clear","clearVariationCache","delete","grid","Main","gridManager","getInstanceById","event","_event$getCompatData","getCompatData","_event$getCompatData2","slicedToArray","settingsWindow","selectedColumns","getSelectedColumns","indexOf","_this2","_event$getData","getData","_event$getData2","skuFields","Text","toNumber","PARENT_PRODUCT_ID","ID","getVariation","then","variationNode","updateProductRow","_this3","has","Promise","resolve","get","loadVariation","variation","Type","isDomNode","self","url","method","getProductRow","stateLoad","request","stateUnload","getRowById","mask","RegExp","replace","matches","match","getRowIdByProductId","id","getById","getHeadRow","getHeadFirstChild","_this4","headRow","productRow","toConsumableArray","cells","cell","index","cellName","getCellNameByCellIndex","includes","columnCell","getCellByIndex","newCell","Tag","render","innerHTML","cellHtml","getContentContainer","setEditData","resetEditData","isEdit","editCancel","edit","_event$getData3","_event$getData4","gridData","submitData","prop","FIELDS","hasOwnProperty","variationRowId","_iterator","_step","fieldName","filterGridId","filter","Filter","filterFields","getFilterFields","sectionId","fieldSectionId","getFieldSectionId","isObject","setNewProductButtonHrefSectionId","presets","getParam","tmpFilterPreset","find","preset","fields","field","uri","Uri","setQueryParams","IBLOCK_SECTION_ID","button","document","getElementById","href","getPath","getQuery","Catalog","Event"],"mappings":"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","file":"iblock-product-list.bundle.map.js"}