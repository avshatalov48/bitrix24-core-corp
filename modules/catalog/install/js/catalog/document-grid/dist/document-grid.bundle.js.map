{"version":3,"file":"document-grid.bundle.js","sources":["../src/document-grid.js"],"sourcesContent":["import {ajax, Loc} from 'main.core';\nimport { Popup } from 'main.popup';\nimport {Button, ButtonColor} from 'ui.buttons';\nimport {Slider} from 'catalog.store-use'\n\nexport class DocumentGridManager\n{\n\tconstructor(options)\n\t{\n\t\tthis.gridId = options.gridId;\n\t\tthis.filterId = options.filterId;\n\t\tthis.grid = BX.Main.gridManager.getInstanceById(this.gridId);\n\t\tthis.isConductDisabled = options.isConductDisabled;\n\t\tthis.masterSliderUrl = options.masterSliderUrl;\n\t\tthis.inventoryManagementSource = options.inventoryManagementSource;\n\t}\n\n\tgetSelectedIds()\n\t{\n\t\treturn this.grid.getRows().getSelectedIds()\n\t}\n\n\tdeleteDocument(documentId)\n\t{\n\t\tlet popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_DELETE_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_DELETE_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext:  Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tbutton.setDisabled();\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.deleteList',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tdocumentIds: [documentId],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tanalyticsLabel: {\n\t\t\t\t\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tconductDocument(documentId, documentType = '')\n\t{\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\t\t\treturn;\n\t\t}\n\n\t\tlet actionConfig = {\n\t\t\tdata: {\n\t\t\t\tdocumentIds: [documentId],\n\t\t\t}\n\t\t};\n\t\tif (documentType !== '')\n\t\t{\n\t\t\tactionConfig.analyticsLabel = {\n\t\t\t\tdocumentType,\n\t\t\t}\n\t\t}\n\n\t\tactionConfig.analyticsLabel.inventoryManagementSource = this.inventoryManagementSource;\n\n\t\tactionConfig.analyticsLabel.mode = 'single';\n\n\t\tlet popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CONDUCT_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CONDUCT_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext:  Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tbutton.setDisabled();\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.conductList',\n\t\t\t\t\t\t\tactionConfig\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tcancelDocument(documentId, documentType = '')\n\t{\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\t\t\treturn;\n\t\t}\n\n\t\tlet actionConfig = {\n\t\t\tdata: {\n\t\t\t\tdocumentIds: [documentId],\n\t\t\t}\n\t\t};\n\t\tif (documentType !== '')\n\t\t{\n\t\t\tactionConfig.analyticsLabel = {\n\t\t\t\tdocumentType,\n\t\t\t}\n\t\t}\n\n\t\tactionConfig.analyticsLabel.mode = 'single';\n\n\t\tactionConfig.analyticsLabel.inventoryManagementSource = this.inventoryManagementSource;\n\n\t\tlet popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CANCEL_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CANCEL_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext:  Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tbutton.setDisabled();\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.cancelList',\n\t\t\t\t\t\t\tactionConfig\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tdeleteSelectedDocuments()\n\t{\n\t\tlet documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.deleteList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t},\n\t\t\t}\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tconductSelectedDocuments()\n\t{\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\t\t\treturn;\n\t\t}\n\t\tlet documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.conductList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tmode: 'list',\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t},\n\t\t\t}\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tcancelSelectedDocuments()\n\t{\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\t\t\treturn;\n\t\t}\n\t\tlet documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.cancelList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tmode: 'list',\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t},\n\t\t\t}\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tprocessApplyButtonClick()\n\t{\n\t\tlet actionValues = this.grid.getActionsPanel().getValues();\n\t\tlet selectedAction = actionValues['action_button_' + this.gridId];\n\n\t\tif (selectedAction === 'conduct')\n\t\t{\n\t\t\tthis.conductSelectedDocuments();\n\t\t}\n\t\tif (selectedAction === 'cancel')\n\t\t{\n\t\t\tthis.cancelSelectedDocuments();\n\t\t}\n\t}\n\n\tapplyFilter(options)\n\t{\n\t\tlet filterManager = BX.Main.filterManager.getById(this.filterId);\n\t\tif (!filterManager)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tfilterManager.getApi().extendFilter(options);\n\t}\n\n\topenHowToStart()\n\t{\n\t\tif(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(\"redirect=detail&code=14566618\");\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToTransfer()\n\t{\n\t\tif(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(\"redirect=detail&code=14566610\");\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToControlGoodsMovement()\n\t{\n\t\tif(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(\"redirect=detail&code=14566670\");\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToAccountForLosses()\n\t{\n\t\tif(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(\"redirect=detail&code=14566652\");\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenStoreMasterSlider()\n\t{\n\t\tnew Slider().open(\n\t\t\tthis.masterSliderUrl,\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\topenGridOnDone: false,\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonCloseComplete: function(event) {\n\t\t\t\t\t\tlet slider = event.getSlider();\n\t\t\t\t\t\tif (!slider)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (slider.getData().get('isInventoryManagementEnabled'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdocument.location.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n}\n"],"names":["DocumentGridManager","options","gridId","filterId","grid","BX","Main","gridManager","getInstanceById","isConductDisabled","masterSliderUrl","inventoryManagementSource","getRows","getSelectedIds","documentId","popup","Popup","id","titleBar","Loc","getMessage","content","buttons","Button","text","color","ButtonColor","SUCCESS","onclick","button","event","setDisabled","ajax","runAction","data","documentIds","analyticsLabel","then","response","destroy","reload","errors","UI","Notification","Center","notify","message","DANGER","show","documentType","openStoreMasterSlider","actionConfig","mode","forEach","error","actionValues","getActionsPanel","getValues","selectedAction","conductSelectedDocuments","cancelSelectedDocuments","filterManager","getById","getApi","extendFilter","top","Helper","preventDefault","Slider","open","openGridOnDone","events","onCloseComplete","slider","getSlider","getData","get","document","location"],"mappings":"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"}