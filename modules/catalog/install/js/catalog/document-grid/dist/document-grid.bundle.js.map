{"version":3,"file":"document-grid.bundle.js","sources":["../src/document-grid.js"],"sourcesContent":["import { ajax, Loc } from 'main.core';\nimport { Popup } from 'main.popup';\nimport { Button, ButtonColor } from 'ui.buttons';\nimport { Slider } from 'catalog.store-use';\n\nexport class DocumentGridManager\n{\n\tconstructor(options)\n\t{\n\t\tthis.gridId = options.gridId;\n\t\tthis.filterId = options.filterId;\n\t\tthis.grid = BX.Main.gridManager.getInstanceById(this.gridId);\n\t\tthis.isConductDisabled = options.isConductDisabled;\n\t\tthis.masterSliderUrl = options.masterSliderUrl;\n\t\tthis.isInventoryManagementDisabled = options.isInventoryManagementDisabled;\n\t\tthis.inventoryManagementFeatureCode = options.inventoryManagementFeatureCode;\n\t\tthis.inventoryManagementSource = options.inventoryManagementSource;\n\t}\n\n\tgetSelectedIds()\n\t{\n\t\treturn this.grid.getRows().getSelectedIds();\n\t}\n\n\tdeleteDocument(documentId)\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_DELETE_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_DELETE_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tbutton.setDisabled();\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.deleteList',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tdocumentIds: [documentId],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tanalyticsLabel: {\n\t\t\t\t\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tconductDocument(documentId, documentType = '')\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst actionConfig = {\n\t\t\tdata: {\n\t\t\t\tdocumentIds: [documentId],\n\t\t\t},\n\t\t};\n\t\tif (documentType !== '')\n\t\t{\n\t\t\tactionConfig.analyticsLabel = {\n\t\t\t\tdocumentType,\n\t\t\t};\n\t\t}\n\n\t\tactionConfig.analyticsLabel.inventoryManagementSource = this.inventoryManagementSource;\n\n\t\tactionConfig.analyticsLabel.mode = 'single';\n\n\t\tconst popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CONDUCT_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CONDUCT_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tbutton.setDisabled();\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.conductList',\n\t\t\t\t\t\t\tactionConfig,\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tcancelDocument(documentId, documentType = '')\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst actionConfig = {\n\t\t\tdata: {\n\t\t\t\tdocumentIds: [documentId],\n\t\t\t},\n\t\t};\n\t\tif (documentType !== '')\n\t\t{\n\t\t\tactionConfig.analyticsLabel = {\n\t\t\t\tdocumentType,\n\t\t\t};\n\t\t}\n\n\t\tactionConfig.analyticsLabel.mode = 'single';\n\n\t\tactionConfig.analyticsLabel.inventoryManagementSource = this.inventoryManagementSource;\n\n\t\tconst popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CANCEL_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CANCEL_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tbutton.setDisabled();\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.cancelList',\n\t\t\t\t\t\t\tactionConfig,\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tdeleteSelectedDocuments()\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.deleteList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds,\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t},\n\t\t\t},\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tconductSelectedDocuments()\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\n\t\t\treturn;\n\t\t}\n\t\tconst documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.conductList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds,\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tmode: 'list',\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t},\n\t\t\t},\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tcancelSelectedDocuments()\n\t{\n\t\tif (this.isInventoryManagementDisabled && this.inventoryManagementFeatureCode)\n\t\t{\n\t\t\ttop.BX.UI.InfoHelper.show(this.inventoryManagementFeatureCode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\n\t\t\treturn;\n\t\t}\n\t\tconst documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.cancelList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds,\n\t\t\t\t},\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tmode: 'list',\n\t\t\t\t\tinventoryManagementSource: this.inventoryManagementSource,\n\t\t\t\t},\n\t\t\t},\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tprocessApplyButtonClick()\n\t{\n\t\tconst actionValues = this.grid.getActionsPanel().getValues();\n\t\tconst selectedAction = actionValues[`action_button_${this.gridId}`];\n\n\t\tif (selectedAction === 'conduct')\n\t\t{\n\t\t\tthis.conductSelectedDocuments();\n\t\t}\n\n\t\tif (selectedAction === 'cancel')\n\t\t{\n\t\t\tthis.cancelSelectedDocuments();\n\t\t}\n\t}\n\n\tapplyFilter(options)\n\t{\n\t\tconst filterManager = BX.Main.filterManager.getById(this.filterId);\n\t\tif (!filterManager)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tfilterManager.getApi().extendFilter(options);\n\t}\n\n\topenHowToStart()\n\t{\n\t\tif (top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show('redirect=detail&code=14566618');\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToTransfer()\n\t{\n\t\tif (top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show('redirect=detail&code=14566610');\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToControlGoodsMovement()\n\t{\n\t\tif (top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show('redirect=detail&code=14566670');\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToAccountForLosses()\n\t{\n\t\tif (top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show('redirect=detail&code=14566652');\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenStoreMasterSlider()\n\t{\n\t\tnew Slider().open(\n\t\t\tthis.masterSliderUrl,\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\topenGridOnDone: false,\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonCloseComplete: function(event) {\n\t\t\t\t\t\tconst slider = event.getSlider();\n\t\t\t\t\t\tif (!slider)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (slider.getData().get('isInventoryManagementEnabled'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdocument.location.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t}\n}\n"],"names":["DocumentGridManager","options","gridId","filterId","grid","BX","Main","gridManager","getInstanceById","isConductDisabled","masterSliderUrl","isInventoryManagementDisabled","inventoryManagementFeatureCode","inventoryManagementSource","getRows","getSelectedIds","documentId","top","UI","InfoHelper","show","popup","Popup","id","titleBar","Loc","getMessage","content","buttons","Button","text","color","ButtonColor","SUCCESS","onclick","button","event","setDisabled","ajax","runAction","data","documentIds","analyticsLabel","then","response","destroy","reload","errors","Notification","Center","notify","message","DANGER","documentType","openStoreMasterSlider","actionConfig","mode","forEach","error","actionValues","getActionsPanel","getValues","selectedAction","conductSelectedDocuments","cancelSelectedDocuments","filterManager","getById","getApi","extendFilter","Helper","preventDefault","Slider","open","openGridOnDone","events","onCloseComplete","slider","getSlider","getData","get","document","location"],"mappings":"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"}