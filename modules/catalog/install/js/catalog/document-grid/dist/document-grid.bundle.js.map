{"version":3,"file":"document-grid.bundle.js","sources":["../src/document-grid.js"],"sourcesContent":["import {ajax, Loc} from 'main.core';\nimport { Popup } from 'main.popup';\nimport {Button, ButtonColor} from 'ui.buttons';\nimport {Slider} from 'catalog.store-use'\n\nexport class DocumentGridManager\n{\n\tconstructor(options)\n\t{\n\t\tthis.gridId = options.gridId;\n\t\tthis.filterId = options.filterId;\n\t\tthis.grid = BX.Main.gridManager.getInstanceById(this.gridId);\n\t\tthis.isConductDisabled = options.isConductDisabled;\n\t\tthis.masterSliderUrl = options.masterSliderUrl;\n\t}\n\n\tgetSelectedIds()\n\t{\n\t\treturn this.grid.getRows().getSelectedIds()\n\t}\n\n\tdeleteDocument(documentId)\n\t{\n\t\tlet popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_DELETE_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_DELETE_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext:  Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.deleteList',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tdocumentIds: [documentId],\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tconductDocument(documentId, documentType = '')\n\t{\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\t\t\treturn;\n\t\t}\n\n\t\tlet actionConfig = {\n\t\t\tdata: {\n\t\t\t\tdocumentIds: [documentId],\n\t\t\t}\n\t\t};\n\t\tif (documentType !== '')\n\t\t{\n\t\t\tactionConfig.analyticsLabel = {\n\t\t\t\tdocumentType,\n\t\t\t}\n\t\t}\n\n\t\tlet popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CONDUCT_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CONDUCT_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext:  Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.conductList',\n\t\t\t\t\t\t\tactionConfig\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tcancelDocument(documentId, documentType = '')\n\t{\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\t\t\treturn;\n\t\t}\n\n\t\tlet actionConfig = {\n\t\t\tdata: {\n\t\t\t\tdocumentIds: [documentId],\n\t\t\t}\n\t\t};\n\t\tif (documentType !== '')\n\t\t{\n\t\t\tactionConfig.analyticsLabel = {\n\t\t\t\tdocumentType,\n\t\t\t}\n\t\t}\n\n\t\tlet popup = new Popup({\n\t\t\tid: 'catalog_delete_document_popup',\n\t\t\ttitleBar: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CANCEL_TITLE'),\n\t\t\tcontent: Loc.getMessage('DOCUMENT_GRID_DOCUMENT_CANCEL_CONTENT'),\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext:  Loc.getMessage('DOCUMENT_GRID_CONTINUE'),\n\t\t\t\t\tcolor: ButtonColor.SUCCESS,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tajax.runAction(\n\t\t\t\t\t\t\t'catalog.document.cancelList',\n\t\t\t\t\t\t\tactionConfig\n\t\t\t\t\t\t).then((response) => {\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t\tthis.grid.reload();\n\t\t\t\t\t\t}).catch((response) => {\n\t\t\t\t\t\t\tif (response.errors)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: response.errors[0].message,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('DOCUMENT_GRID_CANCEL'),\n\t\t\t\t\tcolor: ButtonColor.DANGER,\n\t\t\t\t\tonclick: (button, event) => {\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t\tpopup.show();\n\t}\n\n\tdeleteSelectedDocuments()\n\t{\n\t\tlet documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.deleteList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds\n\t\t\t\t}\n\t\t\t}\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tconductSelectedDocuments()\n\t{\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\t\t\treturn;\n\t\t}\n\t\tlet documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.conductList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds\n\t\t\t\t}\n\t\t\t}\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tcancelSelectedDocuments()\n\t{\n\t\tif (this.isConductDisabled)\n\t\t{\n\t\t\tthis.openStoreMasterSlider();\n\t\t\treturn;\n\t\t}\n\t\tlet documentIds = this.getSelectedIds();\n\t\tajax.runAction(\n\t\t\t'catalog.document.cancelList',\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tdocumentIds\n\t\t\t\t}\n\t\t\t}\n\t\t).then((response) => {\n\t\t\tthis.grid.reload();\n\t\t}).catch((response) => {\n\t\t\tif (response.errors)\n\t\t\t{\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (error.message)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.grid.reload();\n\t\t});\n\t}\n\n\tprocessApplyButtonClick()\n\t{\n\t\tlet actionValues = this.grid.getActionsPanel().getValues();\n\t\tlet selectedAction = actionValues['action_button_' + this.gridId];\n\n\t\tif (selectedAction === 'conduct')\n\t\t{\n\t\t\tthis.conductSelectedDocuments();\n\t\t}\n\t\tif (selectedAction === 'cancel')\n\t\t{\n\t\t\tthis.cancelSelectedDocuments();\n\t\t}\n\t}\n\n\tapplyFilter(options)\n\t{\n\t\tlet filterManager = BX.Main.filterManager.getById(this.filterId);\n\t\tif (!filterManager)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tfilterManager.getApi().extendFilter(options);\n\t}\n\n\topenHowToStart()\n\t{\n\t\tif(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(\"redirect=detail&code=14566618\");\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToTransfer()\n\t{\n\t\tif(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(\"redirect=detail&code=14566610\");\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToControlGoodsMovement()\n\t{\n\t\tif(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(\"redirect=detail&code=14566670\");\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenHowToAccountForLosses()\n\t{\n\t\tif(top.BX.Helper)\n\t\t{\n\t\t\ttop.BX.Helper.show(\"redirect=detail&code=14566652\");\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\topenStoreMasterSlider()\n\t{\n\t\tnew Slider().open(\n\t\t\tthis.masterSliderUrl,\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\topenGridOnDone: false,\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tonCloseComplete: function(event) {\n\t\t\t\t\t\tlet slider = event.getSlider();\n\t\t\t\t\t\tif (!slider)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (slider.getData().get('isInventoryManagementEnabled'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdocument.location.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n}\n"],"names":["DocumentGridManager","options","gridId","filterId","grid","BX","Main","gridManager","getInstanceById","isConductDisabled","masterSliderUrl","getRows","getSelectedIds","documentId","popup","Popup","id","titleBar","Loc","getMessage","content","buttons","Button","text","color","ButtonColor","SUCCESS","onclick","button","event","ajax","runAction","data","documentIds","then","response","destroy","reload","catch","errors","UI","Notification","Center","notify","message","DANGER","show","documentType","openStoreMasterSlider","actionConfig","analyticsLabel","forEach","error","actionValues","getActionsPanel","getValues","selectedAction","conductSelectedDocuments","cancelSelectedDocuments","filterManager","getById","getApi","extendFilter","top","Helper","preventDefault","Slider","open","openGridOnDone","events","onCloseComplete","slider","getSlider","getData","get","document","location"],"mappings":"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"}