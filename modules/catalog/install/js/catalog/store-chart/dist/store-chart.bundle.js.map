{"version":3,"file":"store-chart.bundle.js","sources":["../src/charts/stacked-bar-chart.js","../src/stacked-store-charts/store-stacked-chart.js","../src/stacked-store-charts/store-stock-chart.js","../src/stacked-store-charts/store-sale-chart.js","../src/linear-graph-balloon/linear-graph-balloon.js"],"sourcesContent":["// @flow\n\nimport {Loc, Event, Tag} from 'main.core';\nimport type {TChartProps, TColumn, TSeries} from \"../types/chart\";\nimport {Popup} from \"main.popup\";\nimport './stacked-bar-chart.css';\n\ntype TProps = {\n\tisPopupEnabled: boolean,\n\tchartProps: TChartProps,\n\tonChartClick?: ((column: TColumn, series: TSeries) => void),\n\tonSeriesLabelLoad?: ((chartLegendList: Array) => void),\n};\n\nexport class StackedBarChart\n{\n\t#chartId: string;\n\t#chart: am4charts.XYChart;\n\t#chartPopup: Popup | null;\n\t#isChartCommon: boolean;\n\t#onChartClick: Function | null;\n\n\t#onSeriesLabelLoadHandler: Function | null;\n\t#legendIsPrepared: boolean = false;\n\n\t#axes = {\n\t\tcategoryAxis: am4charts.CategoryAxis,\n\t\tvalueAxis: am4charts.ValueAxis,\n\t};\n\n\t#seriesList: Array<[TSeries, am4charts.ColumnSeries]> = [];\n\t#seriesLoadedLen: number = 0;\n\n\t#isPopupEnabled: boolean;\n\n\tconstructor(props: TProps)\n\t{\n\t\tthis.#isPopupEnabled = props?.isPopupEnabled;\n\t\tthis.#chartPopup = null;\n\t\tthis.#onChartClick = props.onChartClick;\n\t\tthis.#onSeriesLabelLoadHandler = props?.onSeriesLabelLoad;\n\t\tthis.#initializeChart(props.chartProps);\n\t}\n\n\t#initializeChart(chartProps: TChartProps): void\n\t{\n\t\twindow.am4core.useTheme(am4themes_animated);\n\n\t\tthis.#chartId = chartProps.id;\n\t\tthis.#chart = am4core.create(this.#chartId, am4charts.XYChart);\n\t\tthis.#chart.data = [];\n\n\t\tthis.#chart.zoomOutButton.readerTitle = Loc.getMessage('STORE_CHART_ZOOMOUT_TITLE');\n\n\t\tthis.#chart.legend = new am4charts.Legend();\n\t\tthis.#chart.legend.position = 'bottom';\n\n\t\tthis.#initAxes();\n\t\tthis.#initColumnsData(chartProps.columns);\n\t\tthis.#initSeries(chartProps.seriesList);\n\n\t\tif (chartProps.isCommonChart)\n\t\t{\n\t\t\tthis.#axes.categoryAxis.renderer.labels.template.html = chartProps.label;\n\t\t}\n\n\t\tthis.#chart.events.on(\"inited\", () => {\n\t\t\tthis.#onChartLoaded();\n\t\t});\n\t}\n\n\t#initColumnsTitle(): void\n\t{\n\t\tthis.#chart.data.forEach((columnData) => {\n\t\t\tthis.#axes.categoryAxis.dataItemsByCategory.getKey(columnData['id']).text = columnData['name'];\n\t\t});\n\t}\n\n\t#initAxes(): void\n\t{\n\t\tthis.#axes.categoryAxis = this.#chart.xAxes.push(new am4charts.CategoryAxis());\n\t\tthis.#axes.categoryAxis.dataFields.category = 'id';\n\t\tthis.#axes.categoryAxis.renderer.grid.template.opacity = 0;\n\n\t\tthis.#axes.valueAxis = this.#chart.yAxes.push(new am4charts.ValueAxis());\n\t\tthis.#axes.valueAxis.min = 0;\n\t\tthis.#axes.valueAxis.renderer.grid.template.opacity = 0;\n\t\tthis.#axes.valueAxis.renderer.ticks.template.strokeOpacity = 0.5;\n\t\tthis.#axes.valueAxis.renderer.ticks.template.length = 10;\n\t\tthis.#axes.valueAxis.renderer.line.strokeOpacity = 0.5;\n\t\tthis.#axes.valueAxis.renderer.baseGrid.disabled = true;\n\t\tthis.#axes.valueAxis.renderer.minGridDistance = 40;\n\t\tthis.#axes.valueAxis.calculateTotals = true;\n\n\t\t// some space needed for the total label\n\t\tthis.#axes.categoryAxis.renderer.labels.template.marginRight = 40;\n\t}\n\n\t#initColumnsData(columnsData: Array<TColumn>): void\n\t{\n\t\tthis.#chart.data = columnsData.map((columnData) => {\n\t\t\tcolumnData.id = columnData.id ? columnData.id : BX.util.getRandomString(4);\n\t\t\treturn columnData;\n\t\t});\n\t}\n\n\t#initSeries(seriesList: Array<TSeries>): void\n\t{\n\t\tconst emptySeries = StackedBarChart.createSeries({\n\t\t\tid: 5,\n\t\t\ttitle: 'empty',\n\t\t\tcolor: '#ffffff',\n\t\t});\n\t\temptySeries.hiddenInLegend = true;\n\t\temptySeries.maskBullets = false;\n\t\tthis.#chart.series.push(emptySeries);\n\n\t\tseriesList.sort((firstSeries: TSeries, secondSeries: TSeries) => {\n\t\t\tif (!firstSeries.weight)\n\t\t\t{\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif (firstSeries.weight < secondSeries.weight)\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse if (firstSeries.weight > secondSeries.weight)\n\t\t\t{\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t});\n\n\t\tseriesList.forEach((seriesData: TSeries) => {\n\t\t\tconst seriesObject = this.#chart.series.push(StackedBarChart.createSeries(seriesData));\n\t\t\tthis.#seriesList[seriesData.id] = [\n\t\t\t\tseriesData,\n\t\t\t\tseriesObject,\n\t\t\t];\n\t\t\tthis.#seriesLoadedLen++;\n\n\t\t\tseriesObject.events.on(\"inited\", (eventObject: Object) => {\n\t\t\t\tthis.#onSeriesLoaded(eventObject.target, seriesData.id);\n\t\t\t}, this);\n\t\t});\n\t}\n\n\t#onSeriesLoaded(event, seriesId: string): void\n\t{\n\t\tif (this.#chart.legend.labels.values.length === this.#seriesLoadedLen)\n\t\t{\n\t\t\tthis.#prepareChartLegend()\n\t\t}\n\n\t\tif (this.#isPopupEnabled)\n\t\t{\n\t\t\tthis.#bindPopupEvents(event, seriesId);\n\t\t}\n\t}\n\n\t#prepareChartLegend(): void\n\t{\n\t\tif (this.#legendIsPrepared)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#legendIsPrepared = true;\n\t\t}\n\n\t\tif (this.#onSeriesLabelLoadHandler instanceof Function)\n\t\t{\n\t\t\tthis.#onSeriesLabelLoadHandler(this.#chart.legend.labels.values);\n\t\t}\n\t}\n\n\t#onChartLoaded(): void\n\t{\n\t\tif (!this.#isChartCommon)\n\t\t{\n\t\t\tthis.#initColumnsTitle();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#axes.categoryAxis.dataItemsByCategory.getKey('0').text = '';\n\t\t}\n\t}\n\n\t#bindPopupEvents(seriesObject: Object, seriesId: string): void\n\t{\n\t\tfor (let i = 0; i < seriesObject.columns.length; i++)\n\t\t{\n\t\t\tconst [series,] = this.#seriesList[seriesId];\n\t\t\tconst column = {\n\t\t\t\tcolumnObject: seriesObject.columns.getIndex(i),\n\t\t\t\tcolumnSeries: series,\n\t\t\t\tstoredData: this.#chart.data[i],\n\t\t\t};\n\n\t\t\tEvent.bind(column.columnObject.group.node, 'mouseover', this.#onStuckMouseOver.bind(this, column));\n\t\t\tEvent.bind(column.columnObject.group.node, 'mouseout', this.#onStuckMouseOut.bind(this, column));\n\n\t\t\tif (this.#onChartClick)\n\t\t\t{\n\t\t\t\tcolumn.columnObject.group.node.style.cursor = 'pointer';\n\t\t\t\tEvent.bind(column.columnObject.group.node, 'click', () => this.#onChartClick(column.storedData, series));\n\t\t\t}\n\t\t}\n\t}\n\n\t#onStuckMouseOver(column: Object): void\n\t{\n\t\tlet popupContent = column.columnSeries?.getPopupContent(column.storedData);\n\t\tif (popupContent && !this.#chartPopup)\n\t\t{\n\t\t\tlet popupTitle = column.columnSeries.title;\n\t\t\tif (typeof popupContent === 'object')\n\t\t\t{\n\t\t\t\tpopupTitle = popupContent.title ? popupContent.title : popupTitle;\n\t\t\t\tpopupContent = popupContent.content;\n\t\t\t}\n\n\t\t\tthis.#chartPopup = new Popup(\n\t\t\t\t`stacked-bar-chart-popup-${BX.util.getRandomString(4)}`,\n\t\t\t\tcolumn.columnObject.group.node,\n\t\t\t\t{\n\t\t\t\t\tcontent: StackedBarChart.formPopupContent(column.columnSeries.color, popupTitle, popupContent),\n\t\t\t\t\tbindOptions: {\n\t\t\t\t\t\tposition: \"top\"\n\t\t\t\t\t},\n\t\t\t\t\toffsetLeft: 30,\n\t\t\t\t\toffsetTop: -1,\n\t\t\t\t\tnoAllPaddings: true,\n\t\t\t\t\tautoHide: false,\n\t\t\t\t\tdraggable: {restrict: false},\n\t\t\t\t\tcacheable: false,\n\t\t\t\t}\n\t\t\t);\n\t\t\tthis.#chartPopup.show();\n\t\t}\n\t}\n\n\t#onStuckMouseOut(column: Object): void\n\t{\n\t\tif (this.#chartPopup)\n\t\t{\n\t\t\tthis.#chartPopup.close();\n\t\t\tthis.#chartPopup.destroy();\n\t\t\tthis.#chartPopup = null;\n\t\t}\n\t}\n\n\tstatic formPopupContent(color: string, title: string, innerContent: string): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div id=\"chart-popup-template\" class=\"stacked-bar-chart-popup\" style=\"border-color: ${color};\">\n\t\t\t\t<div class=\"stacked-bar-chart-popup-head\">\n\t\t\t\t\t<div id=\"chart-popup-template-title\" class=\"stacked-bar-chart-popup-title\">${title}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stacked-bar-chart-popup-main\">\n\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info\">\n\t\t\t\t\t\t${innerContent}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tstatic createSeries(seriesData: TSeries): am4charts.ColumnSeries\n\t{\n\t\tconst series = new am4charts.ColumnSeries();\n\t\tseries.dataFields.valueY = seriesData.id;\n\t\tseries.dataFields.categoryX = 'id';\n\t\tseries.stacked = true;\n\t\tseries.name = seriesData.title;\n\t\tseries.fill = am4core.color(seriesData.color);\n\t\tseries.stroke = am4core.color('#ffffff');\n\n\t\treturn series;\n\t}\n}\n","// @flow\n\nimport {TSeries, TColumn, TChartProps} from \"../types/chart\";\nimport {StackedBarChart} from \"../charts/stacked-bar-chart\";\nimport {Extension, Tag, Loc} from \"main.core\";\nimport {CurrencyCore} from \"currency.currency-core\";\nimport './store-stacked-chart.css';\n\n\nexport type TStackedChartProps<S> = {\n\tid: string,\n\tdetailSliderUrl: string | null,\n\tstores: Array<S>,\n\tisPopupEnabled: boolean,\n\tlabel: string | null,\n\tisCommonChart: boolean,\n\tcurrency: {\n\t\tid: string,\n\t\tsymbol: string,\n\t} | null,\n\tonChartClick: ((column: TColumn, series: TSeries) => void) | null,\n};\n\nexport class StoreStackedChart<StoreData>\n{\n\t#chart: StackedBarChart;\n\tproperties: TStackedChartProps<StoreData>;\n\n\t#currency: {\n\t\tid: string,\n\t\tsymbol: string,\n\t\tformat: Object,\n\t}\n\n\tconstructor(props: TStackedChartProps<StoreData>)\n\t{\n\t\tif (new.target === StoreStackedChart)\n\t\t{\n\t\t\tthrow new Error('StoreStackedChart cannot be directly instantiated');\n\t\t}\n\n\t\tthis.properties = props;\n\t\tthis.loadCurrency();\n\t\tthis.#chart = new StackedBarChart({\n\t\t\tchartProps: this.getFormedChartProps(),\n\t\t\tisPopupEnabled: this.properties.isPopupEnabled,\n\t\t\tonChartClick: this.properties.onChartClick,\n\t\t\tonSeriesLabelLoad: this.onChartLabelLoadHandler.bind(this),\n\t\t});\n\t}\n\n\tloadCurrency(): void\n\t{\n\t\tif (this.properties.currency)\n\t\t{\n\t\t\tthis.#currency = this.properties.currency;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst extensionSettingsCollection = Extension.getSettings('catalog.store-chart');\n\t\t\tthis.#currency = {\n\t\t\t\tid: extensionSettingsCollection.get('currency'),\n\t\t\t\tsymbol: extensionSettingsCollection.get('currencySymbol'),\n\t\t\t\tformat: extensionSettingsCollection.get('currencyFormat'),\n\t\t\t};\n\t\t}\n\n\t\tCurrencyCore.setCurrencyFormat(this.#currency.id, this.#currency.format);\n\t}\n\n\tgetCurrency(): {id: string, symbol: string}\n\t{\n\t\treturn this.#currency;\n\t}\n\n\tformatByCurrency(value: number): string\n\t{\n\t\treturn CurrencyCore.currencyFormat(value, this.getCurrency().id, true);\n\t}\n\n\tgetFormedChartProps(): TChartProps\n\t{\n\t\treturn {\n\t\t\tid: this.properties.id,\n\t\t\tlabel: this.getChartLabel(),\n\t\t\tisCommonChart: this.isCommonChart(),\n\t\t\tseriesList: this.getChartSeries(),\n\t\t\tcolumns: this.getChartColumns(this.properties.stores),\n\t\t};\n\t}\n\n\tgetHelpdeskButton(code: string): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div onclick='top.BX.Helper.show(\"redirect=detail&code=${code}\")' class=\"how-it-works-guide-link\">${Loc.getMessage('STORE_CHART_HINT_TITLE')}</div>\n\t\t`;\n\t}\n\n\tgetChartLabel(): string | null\n\t{\n\t\treturn this.properties.label;\n\t}\n\n\tisCommonChart(): boolean\n\t{\n\t\treturn this.properties.isCommonChart;\n\t}\n\n\tgetChartSeries(): Array<TSeries>\n\t{\n\t\treturn [];\n\t}\n\n\tgetChartColumns(columns: Array<StoreData>): Array<TColumn>\n\t{\n\t\treturn [];\n\t}\n\n\tonChartLabelLoadHandler(legendValues: Array): void\n\t{\n\t\tconst currencyPostfix = ', ' + this.#currency.symbol;\n\t\tfor (let i = 0;  i < legendValues.length; i++)\n\t\t{\n\t\t\tlegendValues[i].fill = am4core.color(\"#000000\");\n\t\t\tlegendValues[i].html = legendValues[i].currentText + currencyPostfix;\n\t\t}\n\t}\n\n\tgetChart(): StackedBarChart\n\t{\n\t\treturn this.#chart;\n\t}\n}\n","// @flow\n\nimport {Uri, Loc} from \"main.core\";\nimport {StackedBarChart} from \"../charts/stacked-bar-chart\";\nimport {StoreStackedChart} from \"./store-stacked-chart\";\nimport {TSeries, TColumn} from \"../types/chart\";\n\nexport type TStockStore = {\n\tname: string,\n\tsum_stored: number,\n};\n\nexport class StoreStockChart extends StoreStackedChart<TStockStore>\n{\n\tgetChartLabel(): string | null\n\t{\n\t\treturn super.getChartLabel();\n\t}\n\n\tisCommonChart(): boolean\n\t{\n\t\treturn super.isCommonChart();\n\t}\n\n\tgetChartSeries(): Array<TSeries>\n\t{\n\t\treturn [\n\t\t\t{\n\t\t\t\tid: 'sum_stored',\n\t\t\t\tcolor: '#42659B',\n\t\t\t\ttitle: Loc.getMessage('STORE_STOCK_CHART_SUM_STORED_SERIES_TITLE'),\n\t\t\t\tgetPopupContent: (storeData: TStockStore) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle: Loc.getMessage('STORE_STOCK_CHART_SUM_STORED_SERIES_POPUP_TITLE'),\n\t\t\t\t\t\tcontent: `\n\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-item\" style=\"display: block\">\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-subtitle\">${Loc.getMessage('STORE_STOCK_CHART_SUM_STORED_SERIES_POPUP_SUM')}</div>\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-value-box\">\n\t\t\t\t\t\t\t\t\t<div id=\"chart-popup-template-sum\" class=\"stacked-bar-chart-popup-info-value\">${this.formatByCurrency(storeData.sum_stored)}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t}\n\t\t];\n\t}\n\n\tgetChartColumns(columns: Array<TStockStore>): Array<TColumn>\n\t{\n\t\tconst stores = [];\n\t\tfor (const storeId in columns)\n\t\t{\n\t\t\tstores.push(columns[storeId]);\n\t\t}\n\n\t\treturn stores;\n\t}\n}\n","// @flow\n\nimport {StackedBarChart} from \"../charts/stacked-bar-chart\";\nimport {StoreStackedChart} from \"./store-stacked-chart\";\nimport {TColumn, TSeries} from \"../types/chart\";\nimport {Loc} from \"main.core\";\nimport {TStockStore} from \"./store-stock-chart\";\n\nexport type TSaleStore = {\n\tname: string,\n\tsum_shipped: number,\n\tsum_arrived: number,\n\tsold_percent: number,\n};\n\n\nexport class StoreSaleChart extends StoreStackedChart<TSaleStore>\n{\n\tgetChartLabel(): string | null\n\t{\n\t\treturn super.getChartLabel();\n\t}\n\n\tisCommonChart(): boolean\n\t{\n\t\treturn super.isCommonChart();\n\t}\n\n\tgetChartSeries(): Array<TSeries>\n\t{\n\t\treturn [\n\t\t\t{\n\t\t\t\tid: 'sum_shipped',\n\t\t\t\tcolor: '#6DA3E6',\n\t\t\t\ttitle: Loc.getMessage('STORE_SALE_CHART_SUM_SHIPPED_SERIES_TITLE'),\n\t\t\t\tgetPopupContent: (storeData: TSaleStore) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle: Loc.getMessage('STORE_SALE_CHART_SUM_SHIPPED_SERIES_POPUP_TITLE'),\n\t\t\t\t\t\tcontent: `\n\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-multiple\">\n\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-item\" style=\"display: block\">\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-subtitle\">${Loc.getMessage('STORE_SALE_CHART_SUM_SHIPPED_SERIES_POPUP_SUM')}</div>\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-value-box\">\n\t\t\t\t\t\t\t\t\t<div id=\"chart-popup-template-sum\" class=\"stacked-bar-chart-popup-info-value\">${this.formatByCurrency(storeData.sum_shipped)}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-item\">\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-subtitle\">${Loc.getMessage('STORE_SALE_CHART_SUM_SHIPPED_SERIES_POPUP_SOLD_PERCENT')}</div>\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-value-box\">\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-value\">${storeData.sold_percent}%</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'sum_arrived',\n\t\t\t\tcolor: '#42659B',\n\t\t\t\ttitle: Loc.getMessage('STORE_SALE_CHART_SUM_ARRIVED_SERIES_TITLE'),\n\t\t\t\tgetPopupContent: (storeData: TSaleStore) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle: Loc.getMessage('STORE_SALE_CHART_SUM_ARRIVED_SERIES_POPUP_TITLE'),\n\t\t\t\t\t\tcontent: `\n\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-item\" style=\"display: block\">\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-subtitle\">${Loc.getMessage('STORE_SALE_CHART_SUM_ARRIVED_SERIES_POPUP_SUM')}</div>\n\t\t\t\t\t\t\t\t<div class=\"stacked-bar-chart-popup-info-value-box\">\n\t\t\t\t\t\t\t\t\t<div id=\"chart-popup-template-sum\" class=\"stacked-bar-chart-popup-info-value\">${this.formatByCurrency(storeData.sum_arrived)}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n\n\tgetChartColumns(columns: Array<TSaleStore>): Array<TColumn>\n\t{\n\t\tconst stores = [];\n\t\tfor (const storeId in columns)\n\t\t{\n\t\t\tstores.push(columns[storeId]);\n\t\t}\n\n\t\treturn stores;\n\t}\n}\n","import { Text, Tag, Dom } from 'main.core';\nimport './linear-graph-balloon.css';\nimport 'ui.design-tokens';\nimport 'ui.fonts.opensans';\n\nexport type LinearGraphBalloonType = {\n\ttitle: string,\n\tvalue: string,\n\thtmlValue: string,\n};\n\nexport class LinearGraphBalloon\n{\n\tstatic renderBalloon(graphDataItem, graph): string\n\t{\n\t\tconst data = graphDataItem.dataContext.balloon;\n\t\tconst items = data.items || [];\n\n\t\tconst mainWrapper = Tag.render`<div class=\"store-chart-linear-graph-balloon-main\"></div>`;\n\t\tconst balloonContainer = Tag.render`\n\t\t\t<div class=\"store-chart-linear-graph-balloon-wrapper\">\n\t\t\t\t<div class=\"store-chart-linear-graph-balloon-title\">\n\t\t\t\t\t${Text.encode(data.title)}\t\n\t\t\t\t</div>\t\n\t\t\t\t${mainWrapper}\n\t\t\t</div>\n\t\t`;\n\n\t\titems.forEach((balloon: LinearGraphBalloonType) => {\n\t\t\tconst value = balloon.htmlValue || Text.encode(balloon.value);\n\t\t\tconst item = Tag.render`\n\t\t\t\t<div class=\"store-chart-linear-graph-balloon-item\">\n\t\t\t\t\t<div class=\"store-chart-linear-graph-balloon-subtitle\">\n\t\t\t\t\t\t${Text.encode(balloon.title)}\t\n\t\t\t\t\t</div>\t\n\t\t\t\t\t<div class=\"store-chart-linear-graph-balloon-modal-content\">\n\t\t\t\t\t\t<div class=\"store-chart-linear-graph-balloon-modal-value\">\n\t\t\t\t\t\t\t${value}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tDom.append(item, mainWrapper);\n\t\t});\n\n\t\treturn balloonContainer.outerHTML;\n\t}\n}\n"],"names":["StackedBarChart","props","categoryAxis","am4charts","CategoryAxis","valueAxis","ValueAxis","isPopupEnabled","onChartClick","onSeriesLabelLoad","chartProps","color","title","innerContent","Tag","render","seriesData","series","ColumnSeries","dataFields","valueY","id","categoryX","stacked","name","fill","am4core","stroke","window","useTheme","am4themes_animated","create","XYChart","data","zoomOutButton","readerTitle","Loc","getMessage","legend","Legend","position","columns","seriesList","isCommonChart","renderer","labels","template","html","label","events","on","forEach","columnData","dataItemsByCategory","getKey","text","xAxes","push","category","grid","opacity","yAxes","min","ticks","strokeOpacity","length","line","baseGrid","disabled","minGridDistance","calculateTotals","marginRight","columnsData","map","BX","util","getRandomString","emptySeries","createSeries","hiddenInLegend","maskBullets","sort","firstSeries","secondSeries","weight","seriesObject","eventObject","target","event","seriesId","values","Function","column","columnObject","getIndex","i","columnSeries","storedData","Event","bind","group","node","style","cursor","popupContent","getPopupContent","popupTitle","content","Popup","formPopupContent","bindOptions","offsetLeft","offsetTop","noAllPaddings","autoHide","draggable","restrict","cacheable","show","close","destroy","StoreStackedChart","_classPrivateFieldInitSpec","Error","properties","loadCurrency","getFormedChartProps","onChartLabelLoadHandler","currency","extensionSettingsCollection","Extension","getSettings","get","symbol","format","CurrencyCore","setCurrencyFormat","value","currencyFormat","getCurrency","getChartLabel","getChartSeries","getChartColumns","stores","code","legendValues","currencyPostfix","currentText","StoreStockChart","storeData","formatByCurrency","sum_stored","storeId","StoreSaleChart","sum_shipped","sold_percent","sum_arrived","LinearGraphBalloon","graphDataItem","graph","dataContext","balloon","items","mainWrapper","balloonContainer","Text","encode","htmlValue","item","Dom","append","outerHTML"],"mappings":"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"}