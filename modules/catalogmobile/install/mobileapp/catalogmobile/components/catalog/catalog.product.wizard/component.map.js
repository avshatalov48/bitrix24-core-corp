{"version":3,"file":"component.map.js","names":["require","ext","jn","Wizard","CrmProductPricesStep","CatalogProductPhotoStep","StoreCatalogProductAmountStep","StoreCatalogProductPricesStep","CatalogProductTitleStep","Alert","BaseCatalogProductWizardComponent","LayoutComponent","constructor","props","super","this","product","makeProductEntity","initialProductData","BX","componentParameters","get","Object","keys","forEach","fieldId","set","getSteps","getStepForId","stepId","step","find","id","component","options","render","View","style","backgroundColor","parentLayout","layout","steps","map","stepForId","bind","StoreCatalogWizard","StoreCatalogProductEntity","result","iblock","hasProductEditAccess","permissions","hasStoreReadAccess","length","push","isFinishStep","CrmCatalogWizard","CrmCatalogProductEntity","WizardFactory","static","type","BaseCatalogProductEntity","config","fields","getDefaultFields","hasUnsavedChanges","getContext","IBLOCK_SECTION_ID","ID","NAME","BARCODE","MORE_PHOTO","getTitle","name","message","getIblockId","getDictionaryValues","dictionaries","hasOwnProperty","defaultValue","getFields","value","ownProductFields","includes","save","savePhotos","Promise","resolve","IBLOCK_ID","prepareOptionalFields","prepareBasePrice","prepareMorePhoto","restBatch","wizardType","reject","rest","callBatch","response","hasErrors","error","getErrorFromResponse","showError","action","answer","saveResult","String","synchronizeMorePhotoValue","morePhoto","optionalFields","vatIncluded","VAT_INCLUDED","basePrice","priceValue","PRICE","amount","CURRENCY","currency","PRICES","BASE","photos","existedPhotos","filter","photo","newPhotos","item","valueCode","signedFileId","Math","floor","random","savedValue","Array","isArray","iterator","iblockPropertyValue","fileId","error_description","replace","description","errorMessage","alert","SECTION_ID","BASE_PRICE","MEASURE_CODE","QUANTITY","VAT_ID","onViewLoaded","enableNavigationBarBorder","showComponent","make"],"sources":["component.js"],"mappings":"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"}