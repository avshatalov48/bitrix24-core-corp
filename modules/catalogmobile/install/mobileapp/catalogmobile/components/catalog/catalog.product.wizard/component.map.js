{"version":3,"file":"component.map.js","names":["require","ext","jn","AppTheme","Wizard","CrmProductPricesStep","CatalogProductPhotoStep","StoreCatalogProductAmountStep","StoreCatalogProductPricesStep","CatalogProductTitleStep","Alert","BaseCatalogProductWizardComponent","LayoutComponent","constructor","props","super","this","product","makeProductEntity","initialProductData","BX","componentParameters","get","Object","keys","forEach","fieldId","set","getSteps","getStepForId","stepId","step","find","id","component","options","render","View","style","backgroundColor","colors","bgSecondary","parentLayout","layout","steps","map","stepForId","bind","StoreCatalogWizard","StoreCatalogProductEntity","result","iblock","hasProductEditAccess","permissions","hasStoreReadAccess","length","push","isFinishStep","CrmCatalogWizard","CrmCatalogProductEntity","WizardFactory","static","type","BaseCatalogProductEntity","config","fields","getDefaultFields","hasUnsavedChanges","getContext","IBLOCK_SECTION_ID","ID","NAME","BARCODE","MORE_PHOTO","getTitle","name","message","getIblockId","getDictionaryValues","dictionaries","hasOwnProperty","defaultValue","getFields","value","ownProductFields","includes","save","savePhotos","Promise","resolve","IBLOCK_ID","prepareOptionalFields","prepareBasePrice","prepareMorePhoto","restBatch","wizardType","reject","rest","callBatch","response","hasErrors","error","getErrorFromResponse","showError","action","answer","saveResult","String","synchronizeMorePhotoValue","morePhoto","optionalFields","vatIncluded","VAT_INCLUDED","basePrice","priceValue","PRICE","amount","CURRENCY","currency","PRICES","BASE","photos","existedPhotos","filter","photo","newPhotos","item","valueCode","signedFileId","Math","floor","random","savedValue","Array","isArray","iterator","iblockPropertyValue","fileId","error_description","replace","description","errorMessage","alert","SECTION_ID","BASE_PRICE","MEASURE_CODE","QUANTITY","VAT_ID","onViewLoaded","enableNavigationBarBorder","showComponent","make"],"sources":["component.js"],"mappings":"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"}