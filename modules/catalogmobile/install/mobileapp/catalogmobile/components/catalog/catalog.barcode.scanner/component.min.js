(()=>{class e extends LayoutComponent{constructor(e){super(e);this.id=BX.componentParameters.get("ID","");BX.addCustomEvent("CatalogBarcodeScanner::onSessionIdChanged",(e=>this.id=e))}render(){const e=BX.componentParameters.get("CLOSE_ON_SCANNED",true);const n=BX.componentParameters.get("RESTART_SCANNING_TIMEOUT",2e3);return View({},new BarcodeScanner({onBarcodeScanned:(o,t)=>{const a=()=>{setTimeout((()=>{t.startScanning()}),n)};t.stopScanning();BX.ajax.runAction("catalogmobile.BarcodeScanner.sendBarcodeScannedEvent",{data:{id:this.id,barcode:o.value}}).then((n=>{if(n.data&&e){t.showSuccessOverlay().then((()=>{t.hideSuccessOverlay()})).then((()=>{a()}))}else{a()}})).catch((e=>{a()}))}}))}componentWillUnmount(){BX.postComponentEvent("Catalog:BarcodeScannerComponent:onClose")}}BX.onViewLoaded((()=>{layout.showComponent(new e)}))})();
//# sourceMappingURL=component.map.js