BX.ready((()=>{const e=document.querySelectorAll('.crm-features-list [data-role="feature-switcher"]');[...e].forEach((e=>{e.innerHTML="";const t=new BX.UI.Switcher({id:`crm-feature-list-item-${e.dataset.id}`,checked:e.dataset.checked==="Y",handlers:{toggled:()=>{t.setLoading(true);BX.ajax.runComponentAction("bitrix:crm.features.list",t.isChecked()?"enableFeature":"disableFeature",{mode:"class",data:{featureId:e.dataset.id}}).then((e=>{t.setLoading(false);if(e.errors&&e.errors.length>0){BX.UI.Notification.Center.notify({content:e.errors[0]?.message});console.error(e)}}),(e=>{t.setLoading(false);if(e.errors&&e.errors.length>0){BX.UI.Notification.Center.notify({content:e.errors[0]?.message});console.error(e)}}))}}});t.renderTo(e)}));const t=document.querySelectorAll(".crm-features-list-item-copy[data-url]");[...t].forEach((e=>{BX.Event.bind(e,"click",(t=>{const r=e.dataset.url;BX.clipboard.copy(r);BX.UI.Notification.Center.notify({content:BX.message("crmFeatureListCopiedToClipboard")})}))}))}));
//# sourceMappingURL=script.map.js