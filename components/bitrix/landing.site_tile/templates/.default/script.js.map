{"version":3,"file":"script.js","sources":["src/js/editableTitle.js","src/js/leadership.js","src/js/popupHelper.js","src/js/item.js","src/js/itemMarketing.js","src/js/scroller.js","src/js/grid.js"],"sourcesContent":["import { Tag, Event, Text } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\n\nexport default class EditableTitle {\n\tconstructor(options)\n\t{\n\t\tthis.title = options.title;\n\t\tthis.phone = options.phone;\n\t\tthis.type = options.type;\n\t\tthis.item = options.item;\n\t\tthis.url = options.url;\n\t\tthis.disabled = options.disabled || false;\n\t\tthis.isEditMode = false;\n\n\t\tthis.$container = null;\n\t\tthis.$containerInput = null;\n\t\tthis.$containerTitle = null;\n\t\tthis.$containerEditIcon = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\tstatic get getTitle()\n\t{\n\t\treturn this.title;\n\t}\n\n\tgetContainerEdit()\n\t{\n\t\tif(!this.$containerEditIcon)\n\t\t{\n\t\t\tthis.$containerEditIcon = Tag.render`<div class=\"landing-sites__title-edit\"></div>`;\n\t\t\t// Event.bind(this.$containerEditIcon, 'click', this.adjustEditMode.bind(this));\n\t\t}\n\n\t\treturn this.$containerEditIcon;\n\t}\n\n\tadjustEditMode()\n\t{\n\t\tthis.isEditMode\n\t\t\t? this.closeEdit()\n\t\t\t: this.openEdit();\n\t}\n\n\topenEdit()\n\t{\n\t\tthis.isEditMode = true;\n\t\tthis.getContainer().classList.add('--edit');\n\t\tthis.getContainerInput().select();\n\t\tthis.getContainerInput().focus();\n\t\tthis.getContainerInput().value = this.title;\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif(ev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(\tev.target !== this.getContainerInput()\n\t\t\t&& ev.target !== this.getContainerEdit())\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t}\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif(ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 13) // close by Enter\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t\tthis.updateTitle(this.getContainerInput().value);\n\t\t}\n\t}\n\n\tcloseEdit()\n\t{\n\t\tthis.isEditMode = false;\n\t\tthis.getContainer().classList.remove('--edit');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t}\n\n\tupdateTitle(title: string)\n\t{\n\t\tif(\tthis.getContainerInput().value !== this.getContainerTitle().innerText\n\t\t\t&& this.getContainerInput().value !== '')\n\t\t{\n\t\t\tthis.title = title;\n\t\t\tthis.getContainerTitle().innerText = title;\n\t\t\tlet type = this.type[0].toUpperCase() + this.type.slice(1);\n\t\t\tEventEmitter.emit('BX.Landing.SiteTile:update' + type, {\n\t\t\t\titem: this.item,\n\t\t\t\ttitle: this.title\n\t\t\t});\n\t\t}\n\t}\n\n\tgetContainerInput()\n\t{\n\t\tif(!this.$containerInput)\n\t\t{\n\t\t\tthis.$containerInput = Tag.render`<input\n\t\t\t\tvalue=\"${Text.encode(this.title)}\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"landing-sites__title-input\">\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInput;\n\t}\n\n\tgetContainerTitle()\n\t{\n\t\tif(!this.$containerTitle)\n\t\t{\n\t\t\tlet value;\n\n\t\t\tif(this.phone)\n\t\t\t{\n\t\t\t\tvalue = this.phone;\n\t\t\t}\n\n\t\t\tif(this.title)\n\t\t\t{\n\t\t\t\tvalue = this.title\n\t\t\t}\n\n\t\t\tthis.$containerTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__title-text --sub\">\n\t\t\t\t\t${Text.encode(value)}\n\t\t\t\t</div>`;\n\t\t}\n\n\t\treturn this.$containerTitle;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tif (this.disabled)\n\t\t\t{\n\t\t\t\tthis.$container = Tag.render`\n\t\t\t\t\t<span class=\"landing-sites__title\">\n\t\t\t\t\t\t${this.getContainerInput()}\n\t\t\t\t\t\t${this.getContainerTitle()}\n\t\t\t\t\t</span>\n\t\t\t\t`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$container = Tag.render`\n\t\t\t\t\t<a href=\"${this.url}\" class=\"landing-sites__title\">\n\t\t\t\t\t\t${this.getContainerInput()}\n\t\t\t\t\t\t${this.getContainerTitle()}\n\t\t\t\t\t\t${this.getContainerEdit()}\n\t\t\t\t\t</a>\n\t\t\t\t`;\n\t\t\t}\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}\n","import { Tag, Event, Loc } from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nexport default class LeaderShip {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.item = options.item;\n\t\tthis.articles = options.articles || [];\n\n\t\tthis.$container = null;\n\t\tthis.$containerClose = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\tshow()\n\t{\n\t\tthis.getContainer().classList.add('--show');\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit('BX.Landing.SiteTile:showLeadership', this.item);\n\t}\n\n\thide()\n\t{\n\t\tthis.getContainer().classList.remove('--show');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit('BX.Landing.SiteTile:hideLeadership', this.item);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif(\tev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(\t!ev.target.closest('.landing-sites__helper-' + this.id)\n\t\t\t&& ev.target.className !== 'landing-sites__preview-leadership-text')\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif(ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tgetContainerClose()\n\t{\n\t\tif(!this.$containerClose)\n\t\t{\n\t\t\tthis.$containerClose = Tag.render`\n\t\t\t\t<div class=\"landing-sites__helper-close-toggler\">${Loc.getMessage('LANDING_SITE_TILE_HIDE')}</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerClose, 'click', this.hide.bind(this));\n\t\t}\n\n\t\treturn this.$containerClose;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tlet articlesNode = Tag.render`<div class=\"landing-sites__helper-list\"></div>`;\n\n\t\t\tfor (let i = 0; i < this.articles.length; i++)\n\t\t\t{\n\t\t\t\tlet item = this.articles[i];\n\t\t\t\tarticlesNode.appendChild(Tag.render`\n\t\t\t\t\t<div class=\"landing-sites__helper-item ${item.read ? '--read' : ''}\">\n\t\t\t\t\t\t<div class=\"landing-sites__helper-item-title\">${item.title}</div>\n\t\t\t\t\t\t<div class=\"landing-sites__helper-item-container\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__helper-item-text\">${item.text}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__helper-item-button ${item.read ? '--read' : ''}\"\">\n\t\t\t\t\t\t\t\t${item.read \n\t\t\t\t\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_READ')\n\t\t\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_TO_READ')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\t}\n\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__helper landing-sites__helper-${this.id}\">\n\t\t\t\t\t<div class=\"landing-sites__helper-title\">\n\t\t\t\t\t\t<div class=\"landing-sites__helper-title-text\">${Loc.getMessage('LANDING_SITE_TILE_LEADERSHIP_TITLE')}</div>\n\t\t\t\t\t\t${this.getContainerClose()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__helper-container\">\n\t\t\t\t\t\t${articlesNode}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import { Tag, Event, Loc } from 'main.core';\nimport {EventEmitter} from \"main.core.events\";\nimport 'ui.notification';\n\nexport default class PopupHelper {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.url = options.url;\n\t\tthis.fullUrl = options.fullUrl;\n\t\tthis.ordersUrl = options.ordersUrl;\n\t\tthis.qr = null;\n\n\t\tthis.$container = null;\n\t\tthis.$containerClose = null;\n\t\tthis.$containerFirstStep = null;\n\t\tthis.$containerSecondStep = null;\n\t\tthis.$containerQr = null;\n\t\tthis.$containerQrimage = null;\n\t\tthis.$containerInputUrl = null;\n\t\tthis.$containerCopyLink = null;\n\t\tthis.$containerTestOrder = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\thide()\n\t{\n\t\tthis.getContainer().classList.remove('--show');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit(this, 'BX.Landing.SiteTile.Popup:onHide', this);\n\t}\n\n\tshow(param: string)\n\t{\n\t\tthis.getContainer().classList.add('--show');\n\t\tif(param === 'link')\n\t\t{\n\t\t\tthis.getContainerFirstStep().style.display = 'none';\n\t\t\tthis.getContainerSecondStep().style.display = 'none';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getContainerFirstStep().style.display = null;\n\t\t\tthis.getContainerSecondStep().style.display = null;\n\t\t}\n\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit(this, 'BX.Landing.SiteTile.Popup:onShow', this);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif(\tev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(\tev.target.closest('.landing-sites__popup')\n\t\t\t|| ev.target.closest('.landing-sites__container-link-' + this.id)\n\t\t\t|| ev.target.closest('.landing-sites__status-' + this.id)\n\t\t)\n\t\t{\n\t\t\treturn\n\t\t}\n\n\t\tthis.hide();\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif(ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tshowSecondStep()\n\t{\n\t\tthis.getContainerFirstStep().classList.add('--hide-right');\n\t\tthis.getContainerSecondStep().classList.remove('--hide-left');\n\t}\n\n\tshowFirstStep()\n\t{\n\t\tthis.getContainerFirstStep().classList.remove('--hide-right');\n\t\tthis.getContainerSecondStep().classList.add('--hide-left');\n\t}\n\n\tgetContainerInputUrl()\n\t{\n\t\tif(!this.$containerInputUrl)\n\t\t{\n\t\t\tthis.$containerInputUrl = Tag.render`\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tstyle=\"position: absolute; opacity: 0; pointer-events: none\"\n\t\t\t\t\tvalue=\"${this.fullUrl}\">\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInputUrl;\n\t}\n\n\tgetContainerCopyLink()\n\t{\n\t\tif(!this.$containerCopyLink)\n\t\t{\n\t\t\tthis.$containerCopyLink = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-copy\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_COPY_LINK')}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerCopyLink, 'click', ()=> {\n\t\t\t\tthis.getContainerInputUrl().select();\n\t\t\t\tdocument.execCommand('copy');\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_SITE_TILE_POPUP_COPY_LINK_COMPLETE'),\n\t\t\t\t\tautoHideDelay: 2000,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerCopyLink;\n\t}\n\n\tgetContainerQrImage()\n\t{\n\t\tlet node = Tag.render`\n\t\t\t<div class=\"landing-sites__popup-image\"></div>\n\t\t`;\n\n\t\tnew QRCode(node, {\n\t\t\ttext: this.fullUrl,\n\t\t\twidth: 250,\n\t\t\theight: 250\n\t\t});\n\n\t\treturn node;\n\t}\n\n\tgetContainerQr()\n\t{\n\t\tif(!this.$containerQr)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\n\t\t\tthis.$containerQr = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container --qr\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_3')}</div>\n\t\t\t\t\t\t\t${this.getContainerQrImage()}\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t<a href=\"${this.fullUrl}\" target=\"_blank\" class=\"ui-btn ui-btn-light-border ui-btn-round\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_SITE')}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-bottom\">\n\t\t\t\t\t\t\t<a href=\"${this.fullUrl}\" target=\"_blank\" class=\"landing-sites__popup-url\">\n\t\t\t\t\t\t\t\t${this.url}\n\t\t\t\t\t\t\t\t${this.getContainerInputUrl()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t${this.getContainerCopyLink()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerQr;\n\t}\n\n\tgetContainerTestOrder()\n\t{\n\t\tif(!this.$containerTestOrder)\n\t\t{\n\t\t\tthis.$containerTestOrder = Tag.render`\n\t\t\t\t<span class=\"ui-btn ui-btn-success ui-btn-round\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_CREATE_TEST_ORDER')}\n\t\t\t\t</span>\t\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerTestOrder, 'click', this.showSecondStep.bind(this))\n\t\t}\n\n\t\treturn this.$containerTestOrder;\n\t}\n\n\tgetContainerFirstStep()\n\t{\n\t\tif(!this.$containerFirstStep)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\n\t\t\tthis.$containerFirstStep = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-title\">\n\t\t\t\t\t\t\t<span class=\"landing-sites__popup-title-text\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_CREATE_TEST_ORDER')}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_TEXT')}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-image --first-order\"></div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t${this.getContainerTestOrder()}\n\t\t\t\t\t\t\t\t<a href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-light-border ui-btn-round\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_CRM')}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerFirstStep;\n\t}\n\n\tgetContainerSecondStep()\n\t{\n\t\tif(!this.$containerSecondStep)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tlet prevIcon = Tag.render`<div class=\"landing-sites__popup-prev\"></div>`;\n\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\t\t\tEvent.bind(prevIcon, 'click', this.showFirstStep.bind(this));\n\n\t\t\tthis.$containerSecondStep = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container --hide-left\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t${prevIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-title\">\n\t\t\t\t\t\t\t<span class=\"landing-sites__popup-title-text\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER')}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text --list\"><span>1</span> ${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_1')}</div>\n\t\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text --list\"><span>2</span> ${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_2')}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t${this.getContainerQrImage()}\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t<a href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-success ui-btn-round\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_CRM')}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerSecondStep;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup\">\n\t\t\t\t\t${this.getContainerFirstStep()}\n\t\t\t\t\t${this.getContainerSecondStep()}\n\t\t\t\t\t${this.getContainerQr()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import { Tag, Text, Event, Loc, Dom} from 'main.core';\nimport { PopupMenuWindow } from 'main.popup';\nimport { EventEmitter } from 'main.core.events';\nimport { MessageBox } from 'ui.dialogs.messagebox';\n\nimport EditableTitle from './editableTitle';\nimport LeaderShip from './leadership';\nimport PopupHelper from './popupHelper';\n\n\nexport default class Item {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.grid = options.grid;\n\t\tthis.title = options.title;\n\t\tthis.url = options.url;\n\t\tthis.fullUrl = options.fullUrl;\n\t\tthis.domainProvider = options.domainProvider;\n\t\tthis.pagesUrl = options.pagesUrl;\n\t\tthis.ordersUrl = options.ordersUrl;\n\t\tthis.domainUrl = options.domainUrl;\n\t\tthis.contactsUrl = options.contactsUrl;\n\t\tthis.ordersCount = options.ordersCount;\n\t\tthis.phone = options.phone;\n\t\tthis.preview = options.preview;\n\t\tthis.cloudPreview = options.cloudPreview;\n\t\tthis.published = options.published;\n\t\tthis.deleted = options.deleted;\n\t\tthis.domainStatus = options.domainStatus;\n\t\tthis.domainStatusMessage = options.domainStatusMessage;\n\t\tthis.menuItems = options.menuItems || [];\n\t\tthis.menuBottomItems = options.menuBottomItems || [];\n\t\tthis.access = options.access || {};\n\t\tthis.articles = options.articles || [];\n\t\tthis.editableTitle = null;\n\t\tthis.editableUrl = null;\n\t\tthis.leadership = null;\n\t\tthis.popupHelper = null;\n\t\tthis.popupStatus = null;\n\t\tthis.popupConfig = null;\n\t\tthis.loader = null;\n\n\t\tthis.$container = null;\n\t\tthis.$containerWrapper = null;\n\t\tthis.$containerPreviewImage = null;\n\t\tthis.$containerPreviewStatus = null;\n\t\tthis.$containerPreviewShowPages = null;\n\t\tthis.$containerPreviewInstruction = null;\n\t\tthis.$containerInfo = null;\n\t\tthis.$containerPhone = null;\n\t\tthis.$containerTitle = null;\n\t\tthis.$containerDomain = null;\n\t\tthis.$containerDomainLink = null;\n\t\tthis.$containerDomainStatus = null;\n\t\tthis.$containerDomainStatusIcon = null;\n\t\tthis.$containerDomainStatusTitle = null;\n\t\tthis.$containerDomainStatusMessage = null;\n\t\tthis.$containerSiteStatus = null;\n\t\tthis.$containerSiteStatusRound = null;\n\t\tthis.$containerSiteStatusTitle = null;\n\t\tthis.$containerSiteMore = null;\n\t\tthis.$containerLinks = null;\n\n\t\tthis.bindEvents();\n\n\t\tthis.lazyLoadCloudPreview = this.lazyLoadCloudPreview.bind(this);\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Landing.SiteTile:showLeadership', (options)=> {\n\t\t\tif(this === options.data)\n\t\t\t{\n\t\t\t\tthis.active();\n\t\t\t\tthis.setContainerPosition();\n\t\t\t}\n\n\t\t\tif(this !== options.data)\n\t\t\t{\n\t\t\t\tthis.fade();\n\t\t\t}\n\t\t});\n\n\t\tEventEmitter.subscribe('BX.Landing.SiteTile:hideLeadership', (options)=> {\n\t\t\tif(this === options.data)\n\t\t\t{\n\t\t\t\tthis.unActive();\n\t\t\t\tthis.unSetContainerPosition();\n\t\t\t}\n\n\t\t\tthis.unFade();\n\t\t});\n\n\t\tEventEmitter.subscribe(this.getPopupHelper(), 'BX.Landing.SiteTile.Popup:onShow', ()=> {\n\t\t\tthis.getContainerWrapper().classList.add('--fade');\n\t\t});\n\n\t\tEventEmitter.subscribe(this.getPopupHelper(), 'BX.Landing.SiteTile.Popup:onHide', ()=> {\n\t\t\tthis.getContainerWrapper().classList.remove('--fade');\n\t\t});\n\t}\n\n\tsetContainerPosition()\n\t{\n\t\tlet offsetRight = window.innerWidth - this.getContainer().getBoundingClientRect().right;\n\t\tlet leaderShipWidth = this.getLeadership().getContainer().offsetWidth;\n\t\tlet previousItem = this.getContainer().previousSibling;\n\t\tif(offsetRight > leaderShipWidth)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.getContainer().style.transform = 'translateX(-' + (leaderShipWidth + 40 - offsetRight) + 'px)';\n\n\t\tif(\tpreviousItem && (previousItem.offsetTop === this.getContainer().offsetTop))\n\t\t{\n\t\t\tpreviousItem.style.transform = 'translateX(-10px)';\n\t\t}\n\t}\n\n\tunSetContainerPosition()\n\t{\n\t\tthis.getContainer().style.transform = null;\n\n\t\tlet previousItem = this.getContainer().previousSibling;\n\t\tif(\tpreviousItem && (previousItem.offsetTop === this.getContainer().offsetTop))\n\t\t{\n\t\t\tpreviousItem.style.transform = null;\n\t\t}\n\t}\n\n\tupdatePublishedStatus(status: boolean)\n\t{\n\t\tif(this.published === status)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.popupStatus.destroy();\n\t\tthis.popupStatus = null;\n\n\t\tif(status)\n\t\t{\n\t\t\tthis.published = true;\n\t\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --success';\n\t\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED');\n\t\t\tthis.getContainerPreviewStatus().classList.add('--hide');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.published = false;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --alert';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\t\tthis.getContainerPreviewStatus().classList.remove('--hide');\n\t}\n\n\tupdateTitle(param: string)\n\t{\n\t\tif(param)\n\t\t{\n\t\t\tthis.title = param;\n\t\t}\n\t}\n\n\tupdateUrl(param: string)\n\t{\n\t\tif(param)\n\t\t{\n\t\t\tthis.url = param;\n\t\t}\n\t}\n\n\tgetContainerTitle()\n\t{\n\t\tif(!this.$containerTitle)\n\t\t{\n\t\t\tthis.$containerTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__title\">\n\t\t\t\t\t<div class=\"landing-sites__title-text\">${this.title}</div>\n\t\t\t\t\t<div class=\"landing-sites__title-edit\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerTitle;\n\t}\n\n\tmergeMenuItems(items: Array<Object>): Array<Object>\n\t{\n\t\tconst addMenu = [\n\t\t\t{\n\t\t\t\ttext: this.deleted\n\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_RESTORE')\n\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_REMOVE'),\n\t\t\t\taccess: 'delete',\n\t\t\t\tonclick: () => {\n\t\t\t\t\tif (!this.deleted)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst messageBox = new MessageBox({\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SITE_TILE_DELETE_ALERT_TITLE'),\n\t\t\t\t\t\t\tmessage: Loc.getMessage('LANDING_SITE_TILE_DELETE_ALERT_MESSAGE'),\n\t\t\t\t\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK_CANCEL,\n\t\t\t\t\t\t\tonOk: () => {\n\t\t\t\t\t\t\t\tEventEmitter.emit('BX.Landing.SiteTile:remove', [this, messageBox]);\n\t\t\t\t\t\t\t\tmessageBox.close();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpopupOptions: {\n\t\t\t\t\t\t\t\tautoHide: true,\n\t\t\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\t\t\tminHeight: false,\n\t\t\t\t\t\t\t\tminWidth: 260,\n\t\t\t\t\t\t\t\tmaxWidth: 300,\n\t\t\t\t\t\t\t\twidth: false,\n\t\t\t\t\t\t\t\tanimation: 'fading-slide'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmessageBox.show();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tEventEmitter.emit('BX.Landing.SiteTile:restore', this);\n\t\t\t\t\t\tthis.getPopupConfig().close();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\tlet spliceStart = 0;\n\t\titems.map((item, i) => {\n\t\t\tif (item.delimiter === true)\n\t\t\t{\n\t\t\t\tspliceStart = i;\n\t\t\t}\n\t\t\tif (this.deleted)\n\t\t\t{\n\t\t\t\titem.disabled = true;\n\t\t\t}\n\t\t});\n\t\taddMenu.reverse().map(item => {\n\t\t\titems.push(item);\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tdisableMenuItems(items: Array<Object>): Array<Object>\n\t{\n\t\titems = items.map(item => {\n\t\t\tif (item.access && this.access[item.access] !== true)\n\t\t\t{\n\t\t\t\titem.disabled = true;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tgetPopupConfig()\n\t{\n\t\tif(!this.popupConfig)\n\t\t{\n\t\t\tthis.popupConfig = new PopupMenuWindow({\n\t\t\t\tclassName: 'landing-sites__status-popup',\n\t\t\t\tbindElement: this.getContainerSiteMore(),\n\t\t\t\toffsetLeft: -61,\n\t\t\t\tminWidth: 220,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tautoHide: true,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: 97,\n\t\t\t\t},\n\t\t\t\titems: this.disableMenuItems(this.mergeMenuItems(this.menuItems)),\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\tthis.getContainerSiteMore().classList.remove('--hover');\n\t\t\t\t\t},\n\t\t\t\t\tonPopupShow: () => {\n\t\t\t\t\t\tthis.getContainerSiteMore().classList.add('--hover');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tanimation: 'fading-slide'\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupConfig;\n\t}\n\n\tgetPopupStatus()\n\t{\n\t\tif(!this.popupStatus)\n\t\t{\n\t\t\tthis.popupStatus = new PopupMenuWindow({\n\t\t\t\tclassName: 'landing-sites__status-popup',\n\t\t\t\tbindElement: this.getContainerSiteStatus(),\n\t\t\t\tminWidth: 220,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tautoHide: true,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: 97,\n\t\t\t\t},\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: this.published\n\t\t\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_UNPUBLISH')\n\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_PUBLISH'),\n\t\t\t\t\t\tonclick: ()=> {\n\t\t\t\t\t\t\tthis.popupStatus.close();\n\t\t\t\t\t\t\tthis.published\n\t\t\t\t\t\t\t\t? EventEmitter.emit('BX.Landing.SiteTile:unPublish', this)\n\t\t\t\t\t\t\t\t: EventEmitter.emit('BX.Landing.SiteTile:publish', this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\tthis.getContainerSiteStatus().classList.remove('--hover');\n\t\t\t\t\t},\n\t\t\t\t\tonPopupShow: () => {\n\t\t\t\t\t\tthis.getContainerSiteStatus().classList.add('--hover');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tanimation: 'fading-slide'\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupStatus;\n\t}\n\n\tgetContainerSiteStatus()\n\t{\n\t\tif(!this.$containerSiteStatus)\n\t\t{\n\t\t\tthis.$containerSiteStatus = Tag.render`\n\t\t\t\t<div class=\"${this.access.publication ? 'landing-sites__status' : 'landing-sites__status_disabled'}\">\n\t\t\t\t\t${this.getContainerSiteStatusRound()}\n\t\t\t\t\t${this.getContainerSiteStatusTitle()}\n\t\t\t\t\t${this.access.publication ? Tag.render`<div class=\"landing-sites__status-arrow\"></div>` : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tif (this.access.publication)\n\t\t\t{\n\t\t\t\tEvent.bind(this.$containerSiteStatus, 'click', (ev)=> {\n\t\t\t\t\tthis.getPopupStatus().layout.menuContainer.style.left = this.$containerSiteStatus.getBoundingClientRect().left + 'px';\n\t\t\t\t\tthis.getPopupStatus().show();\n\t\t\t\t\tev.stopPropagation()\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn this.$containerSiteStatus;\n\t}\n\n\tgetContainerSiteMore()\n\t{\n\t\tif(!this.$containerSiteMore)\n\t\t{\n\t\t\tthis.$containerSiteMore = Tag.render`<div class=\"landing-sites__more\"></div>`;\n\n\t\t\tEvent.bind(this.$containerSiteMore, 'click', (ev)=> {\n\t\t\t\tthis.getPopupConfig().show();\n\t\t\t\tev.stopPropagation()\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerSiteMore;\n\t}\n\n\tgetContainerSiteStatusRound()\n\t{\n\t\tif(!this.$containerSiteStatusRound)\n\t\t{\n\t\t\tlet status = this.published\n\t\t\t\t? '--success'\n\t\t\t\t: '--alert';\n\n\t\t\tthis.$containerSiteStatusRound = Tag.render`<div class=\"landing-sites__status-round ${status}\"></div>`;\n\t\t}\n\n\t\treturn this.$containerSiteStatusRound;\n\t}\n\n\tgetContainerSiteStatusTitle()\n\t{\n\t\tif(!this.$containerSiteStatusTitle)\n\t\t{\n\t\t\tlet title = this.published\n\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED')\n\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\n\t\t\tthis.$containerSiteStatusTitle = Tag.render`<div class=\"landing-sites__status-title\">${title}</div>`\n\t\t}\n\n\t\treturn this.$containerSiteStatusTitle;\n\t}\n\n\tpublush()\n\t{\n\t\tthis.published = true;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --success';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED');\n\t\tthis.getContainerPreviewStatus().classList.add('--hide');\n\t}\n\n\tunPublish()\n\t{\n\t\tthis.published = false;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --alert';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\t\tthis.getContainerPreviewStatus().classList.remove('--hide');\n\t}\n\n\tgetEditableTitle()\n\t{\n\t\tif(!this.editableTitle)\n\t\t{\n\t\t\tthis.editableTitle = new EditableTitle({\n\t\t\t\tphone: this.phone,\n\t\t\t\ttype: 'title',\n\t\t\t\titem: this,\n\t\t\t\turl: this.contactsUrl,\n\t\t\t\tdisabled: !this.access.settings\n\t\t\t})\n\t\t}\n\n\t\treturn this.editableTitle;\n\t}\n\n\tgetContainerInfo()\n\t{\n\t\tif(!this.$containerInfo)\n\t\t{\n\t\t\tthis.$containerInfo = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container --white-bg\">\n\t\t\t\t\t<div class=\"landing-sites__container-left\">\n\t\t\t\t\t\t<div class=\"landing-sites__title\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__title-text\" title=\"${Text.encode(this.title)}\">${Text.encode(this.title)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${this.phone ? this.getEditableTitle().getContainer() : ''}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__container-right\">\n\t\t\t\t\t\t${this.getContainerSiteStatus()}\n\t\t\t\t\t\t${this.getContainerSiteMore()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInfo;\n\t}\n\n\tupdateDomainStatus(status: string, statusText: string)\n\t{\n\t\t// success\n\t\t// alert\n\t\t// danger\n\t\t// clock\n\t\t!status ? status = '' : null;\n\t\tthis.getContainerDomainStatus().className = 'landing-sites__container-status --' + status;\n\n\t\t!statusText ? statusText = '' : null;\n\t\tthis.updateDomainStatusMessage(statusText);\n\t}\n\n\tgetContainerDomainStatus()\n\t{\n\t\tif(!this.$containerDomainStatus)\n\t\t{\n\t\t\tthis.$containerDomainStatus = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container-status --${this.domainStatus}\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatus;\n\t}\n\n\tgetEditableUrl()\n\t{\n\t\tif(!this.editableUrl)\n\t\t{\n\t\t\tthis.editableUrl = new EditableTitle({\n\t\t\t\ttitle: this.url,\n\t\t\t\ttype: 'url',\n\t\t\t\titem: this,\n\t\t\t\turl: this.domainUrl,\n\t\t\t\tdisabled: !this.access.settings\n\t\t\t});\n\t\t}\n\n\t\treturn this.editableUrl;\n\t}\n\n\tgetContainerDomainStatusIcon()\n\t{\n\t\tif(!this.$containerDomainStatusIcon)\n\t\t{\n\t\t\tthis.$containerDomainStatusIcon = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status-icon --${this.domainStatus}\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusIcon;\n\t}\n\n\tgetContainerDomainStatusTitle()\n\t{\n\t\tif(!this.$containerDomainStatusTitle)\n\t\t{\n\t\t\tlet title = Loc.getMessage('LANDING_SITE_TILE_OPEN');\n\n\t\t\tthis.$containerDomainStatusTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status-title\">\n\t\t\t\t\t${title}\n\t\t\t\t</div>`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusTitle;\n\t}\n\n\tupdateDomainStatusMessage(text: string)\n\t{\n\t\t!text ? text = '' : null;\n\n\t\tthis.getContainerDomainStatusMessage().innerText = text;\n\t\tthis.domainStatusMessage = text;\n\t}\n\n\tgetContainerDomainStatusMessage()\n\t{\n\t\tif(!this.$containerDomainStatusMessage)\n\t\t{\n\t\t\t!this.domainStatusMessage ? this.domainStatusMessage = '' : null;\n\t\t\tthis.$containerDomainStatusMessage = Tag.render`\n\t\t\t\t<div class=\"landing-sites__sub-title\">${this.domainStatusMessage}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusMessage;\n\t}\n\n\tgetContainerDomainLink()\n\t{\n\t\tif(!this.$containerDomainLink)\n\t\t{\n\t\t\tthis.$containerDomainLink = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status landing-sites__status-${this.id}\">\n\t\t\t\t\t${this.getContainerDomainStatusIcon()}\n\t\t\t\t\t${this.getContainerDomainStatusTitle()}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerDomainLink, 'click', ()=> {\n\t\t\t\tthis.getPopupHelper().show('link');\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerDomainLink;\n\t}\n\n\tgetContainerDomain()\n\t{\n\t\tif(!this.$containerDomain)\n\t\t{\n\t\t\tthis.$containerDomain = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container --white-bg --white-bg--alpha --domain\">\n\t\t\t\t\t${this.getContainerDomainStatus()}\n\t\t\t\t\t<div class=\"landing-sites__container-left\">\n\t\t\t\t\t\t${this.getEditableUrl().getContainer()}\n\t\t\t\t\t\t${this.getContainerDomainStatusMessage()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__container-right\">\n\t\t\t\t\t\t${this.getContainerDomainLink()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomain;\n\t}\n\n\tgetContainerPreviewImage()\n\t{\n\t\tif (!this.$containerPreviewImage)\n\t\t{\n\t\t\tthis.$containerPreviewImage = Tag.render`<div class=\"landing-sites__preview-image ${this.published ? '' : '--not-published'}\"></div>`;\n\n\t\t\tthis.$containerPreviewImage.style.backgroundImage = 'url(' + this.preview + ')';\n\t\t\tthis.$containerPreviewImage.style.backgroundSize = 'cover';\n\t\t\tif (this.published && this.cloudPreview && (this.cloudPreview !== this.preview))\n\t\t\t{\n\t\t\t\tthis.lazyLoadCloudPreview();\n\t\t\t}\n\t\t}\n\n\t\treturn this.$containerPreviewImage;\n\t}\n\n\tlazyLoadCloudPreview()\n\t{\n\t\tconst previewUrl =\n\t\t\tthis.cloudPreview\n\t\t\t+ ((this.cloudPreview.indexOf('?') > 0) ? '&' : '?')\n\t\t\t+ 'refreshed' + (Date.now()/86400000|0)\n\t\t;\n\t\tconst xhr = new XMLHttpRequest();\n\t\txhr.open(\"HEAD\", previewUrl);\n\t\txhr.onload = () => {\n\t\t\tconst expires = xhr.getResponseHeader(\"expires\");\n\t\t\tif (\n\t\t\t\texpires\n\t\t\t\t&& (new Date(expires)) <= (new Date())\n\t\t\t)\n\t\t\t{\n\t\t\t\tsetTimeout(this.lazyLoadCloudPreview, 3000);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$containerPreviewImage.style.backgroundImage = 'url(' + previewUrl + ')';\n\t\t\t}\n\t\t};\n\t\txhr.send();\n\t}\n\n\tgetContainerPreviewStatus()\n\t{\n\t\tif(!this.$containerPreviewStatus)\n\t\t{\n\t\t\tthis.$containerPreviewStatus = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-status --not-published ${this.published ? '--hide' : ''}\">\n\t\t\t\t\t<div class=\"landing-sites__preview-status-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__preview-status-icon\"></div>\n\t\t\t\t\t\t<div class=\"landing-sites__preview-status-text\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerPreviewStatus, 'mouseenter', ()=> {\n\t\t\t\tthis.$containerPreviewStatus.style.width = this.$containerPreviewStatus.firstElementChild.offsetWidth + 'px';\n\t\t\t});\n\n\t\t\tEvent.bind(this.$containerPreviewStatus, 'mouseleave', ()=> {\n\t\t\t\tthis.$containerPreviewStatus.style.width = null;\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerPreviewStatus;\n\t}\n\n\tgetContainerPreviewShowPages()\n\t{\n\t\tif(!this.$containerPreviewShowPages)\n\t\t{\n\t\t\tthis.$containerPreviewShowPages = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-show\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_SHOW_PAGES')}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerPreviewShowPages;\n\t}\n\n\tgetContainerPreviewInstruction()\n\t{\n\t\tif(!this.$containerPreviewInstruction)\n\t\t{\n\t\t\tthis.$containerPreviewInstruction = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-leadership\">\n\t\t\t\t\t<div class=\"landing-sites__preview-leadership-text\">\n\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_INSTRUCTION')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerPreviewInstruction, 'click', ()=> {\n\t\t\t\tthis.getLeadership().show();\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerPreviewInstruction;\n\t}\n\n\tgetContainerLinks()\n\t{\n\t\tif(!this.$containerLinks)\n\t\t{\n\t\t\tthis.$containerLinks = Tag.render`<div class=\"landing-sites__container --without-bg --auto-height --flex\"></div>`;\n\n\t\t\tthis.menuBottomItems.map(menuItem => {\n\t\t\t\tthis.$containerLinks.appendChild(this.getContainerLinksItem(menuItem.code, menuItem.href, menuItem.text));\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerLinks;\n\t}\n\n\tgetContainerLinksItem(type: string, link: string, title: string)\n\t{\n\t\tconst container = Tag.render`\n\t\t\t<a href=\"${link}\" class=\"landing-sites__container-link landing-sites__container-link-${this.id} --white-bg--alpha\">\n\t\t\t\t<div class=\"landing-sites__container-link-icon --${type}\"></div>\n\t\t\t\t<div class=\"landing-sites__container-link-text\">${title}</div>\n\t\t\t</a>\n\t\t`;\n\n\t\tEvent.bind(container, 'click', (event) => {\n\t\t\tEventEmitter.emit('BX.Landing.SiteTile:onBottomMenuClick', [type, event, this]);\n\t\t});\n\n\t\treturn container;\n\t}\n\n\tgetLeadership()\n\t{\n\t\tif(!this.leadership)\n\t\t{\n\t\t\tthis.leadership = new LeaderShip({\n\t\t\t\tid: this.id,\n\t\t\t\titem: this,\n\t\t\t\tarticles: this.articles\n\t\t\t});\n\t\t}\n\t\treturn this.leadership;\n\t}\n\n\tremove()\n\t{\n\t\tthis.getContainer().classList.add('--remove');\n\t\tEvent.bind(this.getContainer(), 'transitionend', () => {\n\t\t\tlet items = this.grid.getItems();\n\t\t\titems.splice(items.indexOf(items), 1);\n\t\t\tDom.remove(this.getContainer());\n\t\t});\n\t}\n\n\tlock()\n\t{\n\t\tthis.getContainer().classList.add('--lock');\n\t\tif(!this.loader)\n\t\t{\n\t\t\tthis.loader = new BX.Loader({\n\t\t\t\ttarget: this.getContainer(),\n\t\t\t\tsize: 100\n\t\t\t});\n\t\t}\n\n\t\tthis.loader.show();\n\t}\n\n\tunLock()\n\t{\n\t\tthis.getContainer().classList.remove('--lock');\n\t\tif(this.loader)\n\t\t{\n\t\t\tthis.loader.hide();\n\t\t}\n\t}\n\n\tfade()\n\t{\n\t\tthis.getContainer().classList.add('--fade');\n\t}\n\n\tunFade()\n\t{\n\t\tthis.getContainer().classList.remove('--fade');\n\t}\n\n\tactive()\n\t{\n\t\tthis.getContainer().classList.add('--active');\n\t}\n\n\tunActive()\n\t{\n\t\tthis.getContainer().classList.remove('--active');\n\t}\n\n\tgetPopupHelper()\n\t{\n\t\tif(!this.popupHelper)\n\t\t{\n\t\t\tthis.popupHelper = new PopupHelper({\n\t\t\t\tid: this.id,\n\t\t\t\turl: this.url,\n\t\t\t\tfullUrl: this.fullUrl,\n\t\t\t\tordersUrl: this.ordersUrl\n\t\t\t})\n\t\t}\n\n\t\treturn this.popupHelper;\n\t}\n\n\tgetContainerWrapper()\n\t{\n\t\tif(!this.$containerWrapper)\n\t\t{\n\t\t\tthis.$containerWrapper = Tag.render`\n\t\t\t\t<div class=\"landing-sites__item-container\">\n\t\t\t\t\t<a href=\"${this.pagesUrl}\" class=\"landing-sites__preview\">\n\t\t\t\t\t\t${this.getContainerPreviewImage()}\n\t\t\t\t\t\t${this.getContainerPreviewStatus()}\n\t\t\t\t\t\t${this.getContainerPreviewShowPages()}\n\t\t\t\t\t\t${this.articles.length > 0 ? this.getContainerPreviewInstruction() : ''}\n\t\t\t\t\t</a>\n\t\t\t\t\t${this.getContainerInfo()}\n\t\t\t\t\t${this.getContainerDomain()}\n\t\t\t\t\t${this.getContainerLinks()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerWrapper;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__grid-item ${this.deleted ? '--deleted' : ''}\">\n\t\t\t\t\t<div class=\"landing-sites__item\" id=\"landing-sites__grid-item--${this.id}\">\n\t\t\t\t\t\t${this.getLeadership().getContainer()}\n\t\t\t\t\t\t${this.getContainerWrapper()}\n\t\t\t\t\t\t${this.getPopupHelper().getContainer()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}\n","import { Tag, Event } from 'main.core';\n\nexport default class ItemMarketing {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.grid = options.grid;\n\t\tthis.title = options.title;\n\t\tthis.text = options.text;\n\t\tthis.buttonText = options.buttonText;\n\t\tthis.url = options.url;\n\t\tthis.onClick = options.onClick;\n\t\tthis.$container = null;\n\t}\n\n\tgetButton()\n\t{\n\t\tconst button = Tag.render`\n\t\t\t<span class=\"ui-btn ui-btn-light-border ui-btn-round\" href=\"#\">${this.buttonText}</span>\n\t\t`;\n\t\tif (this.onClick)\n\t\t{\n\t\t\tEvent.bind(button, 'click', this.onClick);\n\t\t}\n\t\treturn button;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__grid-item\">\n\t\t\t\t\t<div class=\"landing-sites__item --marketing\">\n\t\t\t\t\t\t<div class=\"landing-sites__item-container --flex\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--title\">${this.title}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--text\">${this.text}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--icon\"></div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--buttons\">\n\t\t\t\t\t\t\t\t${this.getButton()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import { Tag, Loc, Event, Dom } from 'main.core';\n\nexport default class Scroller {\n\tconstructor(options)\n\t{\n\t\tthis.grid = options.grid;\n\t\tthis.scrollerText = options.scrollerText;\n\t\tthis.$container = null;\n\t\tthis.$lastItem = null;\n\t\tthis.bindEvents();\n\t\tthis.init();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEvent.bind(window, 'scroll', this.adjustPosition.bind(this));\n\t}\n\n\tshow()\n\t{\n\t\tif(!this.getContainer().classList.contains('--show'))\n\t\t{\n\t\t\tthis.getContainer().classList.remove('--hide');\n\t\t\tthis.getContainer().classList.add('--show');\n\t\t}\n\t}\n\n\thide()\n\t{\n\t\tif(!this.getContainer().classList.contains('--hide'))\n\t\t{\n\t\t\tthis.getContainer().classList.remove('--show');\n\t\t\tthis.getContainer().classList.add('--hide');\n\t\t}\n\t}\n\t\n\tadjustPosition()\n\t{\n\t\tif(!this.$lastItem)\n\t\t{\n\t\t\tthis.$lastItem = this.grid.getItems()[this.grid.getItems().length - 1].getContainer();\n\t\t}\n\n\t\tthis.$lastItem.getBoundingClientRect().top > document.documentElement.clientHeight\n\t\t\t? this.show()\n\t\t\t: this.hide();\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__scroller landing-sites__scope\">\n\t\t\t\t\t<div class=\"landing-sites__scroller-button\">\n\t\t\t\t\t\t<div class=\"landing-sites__scroller-icon\"></div>\n\t\t\t\t\t\t<div class=\"landing-sites__scroller-text\">\n\t\t\t\t\t\t\t${this.scrollerText\n\t\t\t\t\t\t\t\t? this.scrollerText\n\t\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_SCROLLER_SITES')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$container, 'click', ()=> {\n\t\t\t\tlet offsetY = window.pageYOffset;\n\t\t\t\tlet timer = setInterval(()=> {\n\t\t\t\t\tif(\n\t\t\t\t\t\t(window.pageYOffset + 30) >= this.$lastItem.getBoundingClientRect().top + window.pageYOffset - document.body.clientTop\n\t\t\t\t\t\t|| window.pageYOffset + window.innerHeight >= document.body.scrollHeight\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\t}\n\t\t\t\t\toffsetY = offsetY + 10;\n\t\t\t\t\twindow.scrollTo(0,offsetY);\n\t\t\t\t}, 10);\n\t\t\t});\n\t\t}\n\n\t\treturn this.$container;\n\t}\n\t\n\tinit()\n\t{\n\t\tdocument.body.appendChild(this.getContainer());\n\t\tthis.adjustPosition();\n\t}\n}","import { Tag } from 'main.core';\nimport 'ui.design-tokens';\nimport Item from './item';\nimport ItemMarketing from './itemMarketing';\nimport Scroller from './scroller';\nimport '../css/landing.site.tile.css'\n\nexport class SiteTile\n{\n\tconstructor(options)\n\t{\n\t\tthis.renderTo = options.renderTo || null;\n\t\tthis.items = options.items || [];\n\t\tthis.scrollerText = options.scrollerText || null\n\t\tthis.siteTileItems = [];\n\t\tthis.$container = null;\n\t\tthis.scroller = null;\n\t\tthis.setData(this.items);\n\t\tthis.init();\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.siteTileItems;\n\t}\n\n\tsetData(data)\n\t{\n\t\tthis.siteTileItems = data.map((item)=> {\n\t\t\tif(item.type === 'itemMarketing')\n\t\t\t{\n\t\t\t\treturn new ItemMarketing({\n\t\t\t\t\tid: item.id || null,\n\t\t\t\t\ttitle: item.title || null,\n\t\t\t\t\ttext: item.text || null,\n\t\t\t\t\tbuttonText: item.buttonText || null,\n\t\t\t\t\tonClick: item.onClick || null\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn new Item({\n\t\t\t\tid: item.id || null,\n\t\t\t\ttitle: item.title || null,\n\t\t\t\turl: item.url || null,\n\t\t\t\tfullUrl: item.fullUrl || null,\n\t\t\t\tdomainProvider: item.domainProvider || null,\n\t\t\t\tpagesUrl: item.pagesUrl || null,\n\t\t\t\tordersUrl: item.ordersUrl || null,\n\t\t\t\tdomainUrl: item.domainUrl || null,\n\t\t\t\tcontactsUrl: item.contactsUrl || null,\n\t\t\t\tordersCount: parseInt(item.ordersCount) || null,\n\t\t\t\tphone: item.phone || null,\n\t\t\t\tpreview: item.preview || null,\n\t\t\t\tcloudPreview: item.cloudPreview || null,\n\t\t\t\tpublished: item.published || null,\n\t\t\t\tdeleted: item.deleted || null,\n\t\t\t\tdomainStatus: item.domainStatus || null,\n\t\t\t\tdomainStatusMessage: item.domainStatusMessage || null,\n\t\t\t\tmenuItems: item.menuItems || null,\n\t\t\t\tmenuBottomItems: item.menuBottomItems || null,\n\t\t\t\taccess: item.access || {},\n\t\t\t\tarticles: item.articles || null,\n\t\t\t\tgrid: this\n\t\t\t});\n\t\t});\n\n\t\treturn this.siteTileItems;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`<div class=\"landing-sites__grid landing-sites__scope\"></div>`;\n\n\t\t\tfor (let i = 0; i < this.siteTileItems.length; i++)\n\t\t\t{\n\t\t\t\tthis.$container.appendChild(this.siteTileItems[i].getContainer());\n\t\t\t}\n\t\t}\n\n\t\treturn this.$container;\n\t}\n\n\tdraw()\n\t{\n\t\tif(this.renderTo)\n\t\t{\n\t\t\tthis.renderTo.appendChild(this.getContainer());\n\t\t}\n\n\t\tthis.afterDraw();\n\t}\n\n\tafterDraw()\n\t{\n\t\tif(this.getItems().length > 4)\n\t\t{\n\t\t\tif(!this.scroller)\n\t\t\t{\n\t\t\t\tthis.scroller = new Scroller({\n\t\t\t\t\tgrid: this,\n\t\t\t\t\tscrollerText: this.scrollerText\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tthis.draw();\n\t}\n}\n"],"names":["EditableTitle","options","title","phone","type","item","url","disabled","isEditMode","$container","$containerInput","$containerTitle","$containerEditIcon","adjustCloseEditByClick","bind","adjustCloseEditByKeyDown","Tag","render","closeEdit","openEdit","getContainer","classList","add","getContainerInput","select","focus","value","Event","document","body","ev","target","getContainerEdit","keyCode","updateTitle","remove","unbind","getContainerTitle","innerText","toUpperCase","slice","EventEmitter","emit","Text","encode","LeaderShip","id","articles","$containerClose","closest","className","hide","Loc","getMessage","articlesNode","i","length","appendChild","read","text","getContainerClose","PopupHelper","fullUrl","ordersUrl","qr","$containerFirstStep","$containerSecondStep","$containerQr","$containerQrimage","$containerInputUrl","$containerCopyLink","$containerTestOrder","param","getContainerFirstStep","style","display","getContainerSecondStep","getContainerInputUrl","execCommand","BX","UI","Notification","Center","notify","content","autoHideDelay","node","QRCode","width","height","closeIcon","getContainerQrImage","getContainerCopyLink","showSecondStep","getContainerTestOrder","prevIcon","showFirstStep","getContainerQr","Item","grid","domainProvider","pagesUrl","domainUrl","contactsUrl","ordersCount","preview","cloudPreview","published","deleted","domainStatus","domainStatusMessage","menuItems","menuBottomItems","access","editableTitle","editableUrl","leadership","popupHelper","popupStatus","popupConfig","loader","$containerWrapper","$containerPreviewImage","$containerPreviewStatus","$containerPreviewShowPages","$containerPreviewInstruction","$containerInfo","$containerPhone","$containerDomain","$containerDomainLink","$containerDomainStatus","$containerDomainStatusIcon","$containerDomainStatusTitle","$containerDomainStatusMessage","$containerSiteStatus","$containerSiteStatusRound","$containerSiteStatusTitle","$containerSiteMore","$containerLinks","bindEvents","lazyLoadCloudPreview","subscribe","data","active","setContainerPosition","fade","unActive","unSetContainerPosition","unFade","getPopupHelper","getContainerWrapper","offsetRight","window","innerWidth","getBoundingClientRect","right","leaderShipWidth","getLeadership","offsetWidth","previousItem","previousSibling","transform","offsetTop","status","destroy","getContainerSiteStatusRound","getContainerSiteStatusTitle","getContainerPreviewStatus","items","addMenu","onclick","messageBox","MessageBox","message","buttons","Dialogs","MessageBoxButtons","OK_CANCEL","onOk","close","popupOptions","autoHide","closeByEsc","minHeight","minWidth","maxWidth","animation","show","getPopupConfig","map","delimiter","reverse","push","PopupMenuWindow","bindElement","getContainerSiteMore","offsetLeft","angle","offset","disableMenuItems","mergeMenuItems","events","onPopupClose","onPopupShow","getContainerSiteStatus","publication","getPopupStatus","layout","menuContainer","left","stopPropagation","settings","getEditableTitle","statusText","getContainerDomainStatus","updateDomainStatusMessage","getContainerDomainStatusMessage","getContainerDomainStatusIcon","getContainerDomainStatusTitle","getEditableUrl","getContainerDomainLink","backgroundImage","backgroundSize","previewUrl","indexOf","Date","now","xhr","XMLHttpRequest","open","onload","expires","getResponseHeader","setTimeout","send","firstElementChild","menuItem","getContainerLinksItem","code","href","link","container","event","getItems","splice","Dom","Loader","size","getContainerPreviewImage","getContainerPreviewShowPages","getContainerPreviewInstruction","getContainerInfo","getContainerDomain","getContainerLinks","ItemMarketing","buttonText","onClick","button","getButton","Scroller","scrollerText","$lastItem","init","adjustPosition","contains","top","documentElement","clientHeight","offsetY","pageYOffset","timer","setInterval","clientTop","innerHeight","scrollHeight","clearInterval","scrollTo","SiteTile","renderTo","siteTileItems","scroller","setData","parseInt","afterDraw","draw"],"mappings":"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"}