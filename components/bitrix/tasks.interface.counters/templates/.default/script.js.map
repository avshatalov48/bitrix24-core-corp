{"version":3,"file":"script.js","sources":["src/counters-helper.js","src/counters-item.js","src/entry.js"],"sourcesContent":["import {Type} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nclass Filter\n{\n\tconstructor(options)\n\t{\n\t\tthis.filterId = options.filterId;\n\t\tthis.filterManager = BX.Main.filterManager.getById(this.filterId);\n\n\t\tthis.bindEvents();\n\t\tthis.updateFields();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Main.Filter:apply', this.onFilterApply.bind(this));\n\t}\n\n\tonFilterApply()\n\t{\n\t\tthis.updateFields();\n\t}\n\n\tupdateFields()\n\t{\n\t\tthis.fields = this.filterManager.getFilterFieldsValues();\n\t}\n\n\tisFilteredByField(field)\n\t{\n\t\tif (!Object.keys(this.fields).includes(field))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (Type.isArray(this.fields[field]))\n\t\t{\n\t\t\treturn this.fields[field].length > 0;\n\t\t}\n\n\t\treturn this.fields[field] !== '';\n\t}\n\n\tisFilteredByFieldValue(field, value)\n\t{\n\t\treturn this.isFilteredByField(field) && this.fields[field] === value;\n\t}\n\n\ttoggleByField(field)\n\t{\n\t\tconst name = Object.keys(field)[0];\n\t\tconst value = field[name];\n\n\t\tif (!this.isFilteredByFieldValue(name, value))\n\t\t{\n\t\t\tthis.filterManager.getApi().extendFilter(\n\t\t\t\t{[name]: value},\n\t\t\t\tfalse,\n\t\t\t\t{COUNTER_TYPE: 'TASKS_COUNTER_TYPE_' + value}\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.filterManager.getFilterFields().forEach((field) => {\n\t\t\tif (field.getAttribute('data-name') === name)\n\t\t\t{\n\t\t\t\tthis.filterManager.getFields().deleteField(field);\n\t\t\t}\n\t\t});\n\n\t\tthis.filterManager.getSearch().apply();\n\t}\n\n\tgetFilter()\n\t{\n\t\treturn this.filterManager;\n\t}\n}\n\nexport {\n\tFilter\n}","import { Tag, Event, Type, Loc } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\n\nexport default class CountersItem\n{\n\tconstructor(options)\n\t{\n\t\tthis.count = options.count;\n\t\tthis.name = options.name;\n\t\tthis.type = options.type;\n\t\tthis.color = options.color;\n\t\tthis.filterField = options.filterField;\n\t\tthis.filterValue = options.filterValue;\n\t\tthis.filter = options.filter;\n\n\t\tthis.$container = null;\n\t\tthis.$remove = null;\n\t\tthis.$counter = null;\n\n\t\tthis.bindEvents();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Tasks.Counters:active', (param)=> {\n\t\t\tthis !== param.data ? this.unActive() : null;\n\t\t});\n\t}\n\n\tgetCounter()\n\t{\n\t\tif(!this.$counter)\n\t\t{\n\t\t\tconst count = this.count > 99 ? '99+' : this.count;\n\t\t\tthis.$counter = Tag.render`\n\t\t\t\t<div class=\"tasks-counters--item-counter-num ${this.getCounterColor()}\">\n\t\t\t\t\t<div class=\"tasks-counters--item-counter-num-text --stop --without-animate\">${count}</div>\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$counter;\n\t}\n\n\tgetCounterColor()\n\t{\n\t\tif (!this.color)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn `--${this.color}`;\n\t}\n\n\tanimateCounter(start, value)\n\t{\n\t\tif(start > 99 && value > 99)\n\t\t\treturn;\n\n\t\tvalue > 99\n\t\t\t? value = 99\n\t\t\t: null;\n\n\t\tif(start > 99)\n\t\t\tstart = 99;\n\n\t\tlet duration = start - value;\n\t\tif(duration < 0)\n\t\t\tduration = duration * -1;\n\n\t\tthis.$counter.innerHTML = '';\n\t\tthis.getCounter().classList.remove('--update');\n\t\tthis.getCounter().classList.remove('--update-multi');\n\n\t\tif(duration > 5)\n\t\t{\n\t\t\tsetTimeout(()=> {\n\t\t\t\tthis.getCounter().style.animationDuration = (duration * 50) + 'ms';\n\t\t\t\tthis.getCounter().classList.add('--update-multi');\n\t\t\t});\n\t\t}\n\t\tconst timer = setInterval(()=> {\n\t\t\tvalue < start\n\t\t\t\t? start--\n\t\t\t\t: start++;\n\n\t\t\tconst node = Tag.render`\n\t\t\t\t<div class=\"tasks-counters--item-counter-num-text ${value < start ? '--decrement' : ''}\">${start}</div>\n\t\t\t`;\n\n\t\t\tif(start === value)\n\t\t\t{\n\t\t\t\tnode.classList.add('--stop');\n\n\t\t\t\tif(duration < 5)\n\t\t\t\t\tthis.getCounter().classList.add('--update');\n\n\t\t\t\tclearInterval(timer);\n\t\t\t\tstart === 0 ? this.fade() : this.unFade();\n\t\t\t}\n\n\t\t\tif(start !== value)\n\t\t\t{\n\t\t\t\tEvent.bind(node, 'animationend', ()=> {\n\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.$counter.appendChild(node);\n\t\t}, 50);\n\t}\n\n\tupdateCount(param: number)\n\t{\n\t\tif(this.count === param)\n\t\t\treturn;\n\n\t\tthis.animateCounter(this.count, param);\n\n\t\tthis.count = param;\n\t}\n\n\tgetRemove()\n\t{\n\t\tif(!this.$remove)\n\t\t{\n\t\t\tthis.$remove = Tag.render`\n\t\t\t\t<div class=\"tasks-counters--item-counter-remove\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$remove;\n\t}\n\n\tfade()\n\t{\n\t\tthis.getContainer().classList.add('--fade');\n\t}\n\n\tunFade()\n\t{\n\t\tthis.getContainer().classList.remove('--fade');\n\t}\n\n\tactive(node: HTMLElement)\n\t{\n\t\tconst targetNode = Type.isDomNode(node) ? node : this.getContainer();\n\t\ttargetNode.classList.add('--hover');\n\t\tEventEmitter.emit('BX.Tasks.Counters:active', this);\n\t}\n\n\tunActive(node: HTMLElement)\n\t{\n\t\tconst targetNode = Type.isDomNode(node) ? node : this.getContainer();\n\t\ttargetNode.classList.remove('--hover');\n\t\tEventEmitter.emit('BX.Tasks.Counters:unActive', this);\n\t}\n\n\tadjustClick()\n\t{\n\t\tEventEmitter.emit('Tasks.Toolbar:onItem', {counter: this});\n\n\t\tthis.$container.classList.contains('--hover')\n\t\t\t? this.unActive()\n\t\t\t: this.active()\n\t\t;\n\t}\n\n\tgetPopupMenuItemContainer()\n\t{\n\t\tconst title = Loc.getMessage('TASKS_COUNTER_OTHER_TASKS').replace('#TITLE#', this.name.toLowerCase());\n\n\t\treturn Tag.render`\n\t\t\t<div>\n\t\t\t\t<div class=\"task-counters--popup-item\">\n\t\t\t\t\t<span class=\"tasks-counters--item-counter-num ${this.getCounterColor()}\">${this.count}</span>\n\t\t\t\t\t<span class=\"task-counters--popup-item-text\">${title}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetContainer(param): HTMLElement\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"tasks-counters--item-counter ${Number(this.count) === 0 ? ' --fade' : ''}\">\n\t\t\t\t\t<div class=\"tasks-counters--item-counter-wrapper\">\n\t\t\t\t\t\t${this.getCounter()}\n\t\t\t\t\t\t<div class=\"tasks-counters--item-counter-title\">${this.name}</div>\n\t\t\t\t\t\t${this.getRemove()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tif (this.filter.isFilteredByFieldValue(this.filterField, this.filterValue))\n\t\t\t{\n\t\t\t\tthis.active(this.$container);\n\t\t\t}\n\n\t\t\tEvent.bind(this.$container, 'click', this.adjustClick.bind(this));\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import {Tag, Event, Loc, ajax as Ajax, Dom} from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Menu, MenuItem } from 'main.popup';\nimport { Filter } from './counters-helper';\nimport CountersItem from './counters-item';\n\nimport './style.css'\n\nexport class Counters\n{\n\tstatic get counterTypes()\n\t{\n\t\treturn {\n\t\t\tmy: [\n\t\t\t\t'expired',\n\t\t\t\t'my_expired',\n\t\t\t\t'originator_expired',\n\t\t\t\t'accomplices_expired',\n\t\t\t\t'auditor_expired',\n\t\t\t\t'new_comments',\n\t\t\t\t'my_new_comments',\n\t\t\t\t'originator_new_comments',\n\t\t\t\t'accomplices_new_comments',\n\t\t\t\t'auditor_new_comments',\n\t\t\t\t'projects_total_expired',\n\t\t\t\t'projects_total_comments',\n\t\t\t\t'sonet_total_expired',\n\t\t\t\t'sonet_total_comments',\n\t\t\t\t'groups_total_expired',\n\t\t\t\t'groups_total_comments',\n\t\t\t],\n\t\t\tother: [\n\t\t\t\t'project_expired',\n\t\t\t\t'project_comments',\n\t\t\t\t'projects_foreign_expired',\n\t\t\t\t'projects_foreign_comments',\n\t\t\t\t'groups_foreign_expired',\n\t\t\t\t'groups_foreign_comments',\n\t\t\t\t'sonet_foreign_expired',\n\t\t\t\t'sonet_foreign_comments',\n\t\t\t],\n\t\t\texpired: [\n\t\t\t\t'expired',\n\t\t\t\t'my_expired',\n\t\t\t\t'originator_expired',\n\t\t\t\t'accomplices_expired',\n\t\t\t\t'auditor_expired',\n\t\t\t\t'project_expired',\n\t\t\t\t'projects_total_expired',\n\t\t\t\t'projects_foreign_expired',\n\t\t\t\t'groups_total_expired',\n\t\t\t\t'groups_foreign_expired',\n\t\t\t\t'sonet_total_expired',\n\t\t\t\t'sonet_foreign_expired',\n\t\t\t],\n\t\t\tcomment: [\n\t\t\t\t'new_comments',\n\t\t\t\t'my_new_comments',\n\t\t\t\t'originator_new_comments',\n\t\t\t\t'accomplices_new_comments',\n\t\t\t\t'auditor_new_comments',\n\t\t\t\t'project_comments',\n\t\t\t\t'projects_total_comments',\n\t\t\t\t'projects_foreign_comments',\n\t\t\t\t'groups_total_comments',\n\t\t\t\t'groups_foreign_comments',\n\t\t\t\t'sonet_total_comments',\n\t\t\t\t'sonet_foreign_comments',\n\t\t\t],\n\t\t};\n\t}\n\n\tconstructor(options)\n\t{\n\t\tthis.userId = options.userId;\n\t\tthis.targetUserId = options.targetUserId;\n\t\tthis.groupId = options.groupId;\n\t\tthis.counters = options.counters;\n\t\tthis.initialCounterTypes = options.counterTypes;\n\t\tthis.renderTo = options.renderTo;\n\t\tthis.role = options.role;\n\t\tthis.signedParameters = options.signedParameters;\n\n\t\tthis.popupMenu = null;\n\n\t\tthis.$readAll = {\n\t\t\tcropped: null,\n\t\t\tlayout: null\n\t\t};\n\t\tthis.$more = null;\n\t\tthis.$moreArrow = null;\n\t\tthis.$other = {\n\t\t\tcropped: null,\n\t\t\tlayout: null\n\t\t};\n\t\tthis.$myTaskHead = null;\n\n\t\tthis.filter = new Filter({filterId: options.filterId});\n\n\t\tthis.bindEvents();\n\t\tthis.setData(this.counters);\n\n\t\tthis.initPull();\n\t}\n\n\tisMyTaskList()\n\t{\n\t\treturn this.userId === this.targetUserId;\n\t}\n\n\tisUserTaskList()\n\t{\n\t\treturn (Object.keys(this.otherCounters).length === 0);\n\t}\n\n\tisProjectsTaskList()\n\t{\n\t\treturn this.groupId > 0;\n\t}\n\n\tisProjectList()\n\t{\n\t\treturn !this.isUserTaskList() && !this.isProjectsTaskList();\n\t}\n\n\tinitPull()\n\t{\n\t\tBX.PULL.subscribe({\n\t\t\tmoduleId: 'tasks',\n\t\t\tcallback: data => this.processPullEvent(data),\n\t\t});\n\n\t\tthis.extendWatch();\n\t}\n\n\textendWatch()\n\t{\n\t\tif (this.isProjectsTaskList() || this.isProjectList())\n\t\t{\n\t\t\tlet tagId = 'TASKS_PROJECTS';\n\n\t\t\tif (this.isProjectsTaskList())\n\t\t\t{\n\t\t\t\ttagId = `TASKS_PROJECTS_${this.groupId}`;\n\t\t\t}\n\n\t\t\tBX.PULL.extendWatch(tagId, true);\n\t\t\tsetTimeout(() => this.extendWatch(), 29 * 60 * 1000);\n\t\t}\n\t}\n\n\tprocessPullEvent(data)\n\t{\n\t\tconst eventHandlers = {\n\t\t\tuser_counter: this.onUserCounter.bind(this),\n\t\t\tproject_counter: this.onProjectCounter.bind(this),\n\t\t};\n\t\tconst has = Object.prototype.hasOwnProperty;\n\t\tconst {command, params} = data;\n\t\tif (has.call(eventHandlers, command))\n\t\t{\n\t\t\tconst method = eventHandlers[command];\n\t\t\tif (method)\n\t\t\t{\n\t\t\t\tmethod.apply(this, [params]);\n\t\t\t}\n\t\t}\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Main.Filter:apply', this.onFilterApply.bind(this));\n\t}\n\n\tonFilterApply()\n\t{\n\t\tthis.filter.updateFields();\n\n\t\tif (this.isRoleChanged())\n\t\t{\n\t\t\tthis.updateRole();\n\t\t\tthis.updateCountersData();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst counters = Object.assign({}, this.myCounters, this.otherCounters);\n\t\t\tObject.values(counters).forEach((counter) => {\n\t\t\t\tif (counter)\n\t\t\t\t{\n\t\t\t\t\tthis.filter.isFilteredByFieldValue(counter.filterField, counter.filterValue)\n\t\t\t\t\t\t? counter.active()\n\t\t\t\t\t\t: counter.unActive()\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tupdateCountersData()\n\t{\n\t\tAjax.runComponentAction('bitrix:tasks.interface.counters', 'getCounters', {\n\t\t\tmode: 'class',\n\t\t\tdata: {\n\t\t\t\tgroupId: this.groupId,\n\t\t\t\trole: this.role,\n\t\t\t\tcounters: this.initialCounterTypes,\n\t\t\t},\n\t\t\tsignedParameters: this.signedParameters,\n\t\t}).then(\n\t\t\tresponse => this.rerender(response.data),\n\t\t\tresponse => console.log(response)\n\t\t);\n\t}\n\n\tisRoleChanged()\n\t{\n\t\treturn this.role !== (this.filter.isFilteredByField('ROLEID') ? this.filter.fields.ROLEID : 'view_all');\n\t}\n\n\tupdateRole()\n\t{\n\t\tthis.role = (this.filter.isFilteredByField('ROLEID') ? this.filter.fields.ROLEID : 'view_all');\n\t}\n\n\tonUserCounter(data)\n\t{\n\t\tconst has = Object.prototype.hasOwnProperty;\n\t\tif (\n\t\t\t!this.isUserTaskList()\n\t\t\t|| !this.isMyTaskList()\n\t\t\t|| !has.call(data, this.groupId)\n\t\t\t|| this.userId !== Number(data.userId)\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet total = 0;\n\n\t\tObject.entries(data[this.groupId][this.role]).forEach(([type, value]) => {\n\t\t\tif (this.myCounters[type])\n\t\t\t{\n\t\t\t\tthis.myCounters[type].updateCount(value);\n\n\t\t\t\tif (value === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.myCounters[type].unActive();\n\t\t\t\t}\n\t\t\t\telse if (Counters.counterTypes.comment.includes(type))\n\t\t\t\t{\n\t\t\t\t\tthis.$readAllInner.classList.remove('--fade');\n\t\t\t\t}\n\n\t\t\t\ttotal = total + value;\n\t\t\t}\n\t\t});\n\t}\n\n\tonProjectCounter(data)\n\t{\n\t\tif (this.isUserTaskList())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.updateCountersData();\n\t}\n\n\tgetCounterItem(param: Object): Object\n\t{\n\t\treturn new CountersItem({\n\t\t\tcount: param.count,\n\t\t\tname: param.name,\n\t\t\ttype: param.type,\n\t\t\tcolor: param.color,\n\t\t\tfilterField: param.filterField,\n\t\t\tfilterValue: param.filterValue,\n\t\t\tfilter: this.filter,\n\t\t});\n\t}\n\n\tgetCounterNameByType(type: String)\n\t{\n\t\tif (Counters.counterTypes.expired.includes(type))\n\t\t{\n\t\t\treturn Loc.getMessage('TASKS_COUNTER_EXPIRED');\n\t\t}\n\t\telse if (Counters.counterTypes.comment.includes(type))\n\t\t{\n\t\t\treturn Loc.getMessage('TASKS_COUNTER_NEW_COMMENTS');\n\t\t}\n\t}\n\n\tsetData(counters)\n\t{\n\t\tthis.myCounters = {};\n\t\tthis.otherCounters = {};\n\n\t\tObject.entries(counters).forEach(([type, data]) => {\n\t\t\tif (\n\t\t\t\t!Counters.counterTypes.my.includes(type)\n\t\t\t\t&& !Counters.counterTypes.other.includes(type)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst counterItem = this.getCounterItem({\n\t\t\t\ttype,\n\t\t\t\tname: this.getCounterNameByType(type),\n\t\t\t\tcount: Number(data.VALUE),\n\t\t\t\tcolor: data.STYLE,\n\t\t\t\tfilterField: data.FILTER_FIELD,\n\t\t\t\tfilterValue: data.FILTER_VALUE,\n\t\t\t});\n\n\t\t\tif (Counters.counterTypes.my.includes(type))\n\t\t\t{\n\t\t\t\tthis.myCounters[type] = counterItem;\n\t\t\t}\n\t\t\telse if (Counters.counterTypes.other.includes(type))\n\t\t\t{\n\t\t\t\tthis.otherCounters[type] = counterItem;\n\t\t\t}\n\t\t});\n\t}\n\n\tisCroppedBlock(node: HTMLElement)\n\t{\n\t\tif(node)\n\t\t\treturn node.classList.contains('--cropp');\n\t}\n\n\tgetReadAllBlock(): HTMLElement\n\t{\n\t\tconst counters = Object.assign({}, this.myCounters, this.otherCounters);\n\t\tlet newCommentsCount = 0;\n\n\t\tObject.entries(counters).forEach(([type, counter]) => {\n\t\t\tif (Counters.counterTypes.comment.includes(type))\n\t\t\t{\n\t\t\t\tnewCommentsCount += counter.count;\n\t\t\t}\n\t\t});\n\n\t\tthis.$readAllInner = Tag.render`\n\t\t\t<div data-role=\"tasks-counters--item-head-read-all\" class=\"tasks-counters--item-head\n\t\t\t\t\t\t${newCommentsCount === 0 ? '--fade' : ''} \n\t\t\t\t\t\t--action \n\t\t\t\t\t\t--read-all\">\n\t\t\t\t<div class=\"tasks-counters--item-head-read-all--icon\"></div>\n\t\t\t\t<div class=\"tasks-counters--item-head-read-all--text\">${Loc.getMessage('TASKS_COUNTER_READ_ALL')}</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t`;\n\n\t\tconst readAllClick =\n\t\t\tthis.isUserTaskList() || (this.isProjectsTaskList() && this.role !== 'view_all')\n\t\t\t\t? this.readAllByRole.bind(this)\n\t\t\t\t: this.readAllForProjects.bind(this)\n\t\t;\n\t\tEvent.bind(this.$readAllInner, 'click', readAllClick);\n\t\tEvent.bind(this.$readAllInner, 'click', () => this.$readAllInner.classList.add('--fade'));\n\n\t\tthis.$readAll.layout = Tag.render`\n\t\t\t<div class=\"tasks-counters--item\">${this.$readAllInner}</div>\n\t\t`;\n\n\t\treturn this.$readAll.layout;\n\t}\n\n\treadAllByRole()\n\t{\n\t\tAjax.runAction('tasks.task.comment.readAll', {\n\t\t\tdata: {\n\t\t\t\tgroupId: this.groupId,\n\t\t\t\tuserId: this.userId,\n\t\t\t\trole: this.role,\n\t\t\t},\n\t\t});\n\t}\n\n\treadAllForProjects()\n\t{\n\t\tconst allCounters = Object.assign(this.myCounters, this.otherCounters);\n\t\tObject.entries(allCounters).forEach(([type]) => {\n\t\t\tif(allCounters[type] && Counters.counterTypes.comment.includes(type))\n\t\t\t{\n\t\t\t\tallCounters[type].updateCount(0);\n\t\t\t\tallCounters[type].unActive();\n\t\t\t}\n\t\t});\n\n\t\tAjax.runAction('tasks.task.comment.readProject', {\n\t\t\tdata: {\n\t\t\t\tgroupId: this.groupId,\n\t\t\t},\n\t\t});\n\t}\n\n\tgetPopup()\n\t{\n\t\tconst itemsNode = [];\n\n\t\tObject.values(this.otherCounters).forEach((counter) => {\n\t\t\tconst menuItem = new MenuItem({\n\t\t\t\thtml: counter.getPopupMenuItemContainer().innerHTML,\n\t\t\t});\n\t\t\tmenuItem.onclick = this.onPopupItemClick.bind(this, menuItem, counter);\n\n\t\t\titemsNode.push(menuItem);\n\t\t});\n\n\t\tthis.popupMenu = new Menu({\n\t\t\tbindElement: this.$moreArrow,\n\t\t\tclassName: 'tasks-counters--scope',\n\t\t\tangle: {\n\t\t\t\toffset: 96,\n\t\t\t},\n\t\t\tautoHide: true,\n\t\t\tcloseEsc: true,\n\t\t\toffsetTop: 5,\n\t\t\toffsetLeft: -67,\n\t\t\tanimation: 'fading-slide',\n\t\t\titems: itemsNode,\n\t\t\tevents: {\n\t\t\t\tonPopupShow: () => this.$more.classList.add('--hover'),\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tthis.$more.classList.remove('--hover');\n\t\t\t\t\tthis.popupMenu.destroy();\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn this.popupMenu;\n\t}\n\n\tonPopupItemClick(item, counter)\n\t{\n\t\tcounter.adjustClick();\n\t\tthis.popupMenu.close();\n\t}\n\n\tgetMoreArrow()\n\t{\n\t\tif(!this.$moreArrow)\n\t\t{\n\t\t\tthis.$moreArrow = Tag.render`\n\t\t\t\t<div class=\"tasks-counters--item-counter-arrow\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$moreArrow;\n\t}\n\n\tgetMore()\n\t{\n\t\tlet value = 0;\n\n\t\tObject.values(this.otherCounters).forEach((counter) => {\n\t\t\tvalue += Number(counter.count);\n\t\t});\n\n\t\tconst count = value > 99\n\t\t\t? '99+'\n\t\t\t: value;\n\n\t\tthis.$moreArrow = Tag.render`\n\t\t\t<div class=\"tasks-counters--item-counter-arrow\"></div>\n\t\t`;\n\n\t\tthis.$more = Tag.render`\n\t\t\t<div class=\"tasks-counters--item-counter--more\">\n\t\t\t\t<div class=\"tasks-counters--item-counter-wrapper\">\n\t\t\t\t\t<div class=\"tasks-counters--item-counter-title\">${Loc.getMessage('TASKS_COUNTER_MORE')}:</div>\n\t\t\t\t\t<div class=\"tasks-counters--item-counter-num\">${count}</div>\n\t\t\t\t\t${this.$moreArrow}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(this.$more, 'click', ()=> this.getPopup().show());\n\n\t\treturn this.$more;\n\t}\n\n\tgetOther()\n\t{\n\t\tif (Object.keys(this.otherCounters).length === 0)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\tconst content = [];\n\t\tlet totalCount = 0;\n\t\tObject.values(this.otherCounters).forEach((counter) => {\n\t\t\tcontent.push(counter.getContainer());\n\t\t\tif(counter.count)\n\t\t\t\ttotalCount += counter.count;\n\t\t});\n\n\t\tthis.$other.cropped = this.isCroppedBlock(this.$other.layout);\n\n\t\tthis.$other.layout = Tag.render`\n\t\t\t<div class=\"tasks-counters--item --other\" ${this.$other.cropped ? '--cropp' : ''}\">\n\t\t\t\t<div data-role=\"tasks-counters--item-head-other\" class=\"tasks-counters--item-head\">${Loc.getMessage('TASKS_COUNTER_OTHER')}</div>\n\t\t\t\t<div class=\"tasks-counters--item-content\">\n\t\t\t\t\t${content}\n\t\t\t\t\t${this.getMore()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\treturn this.$other.layout;\n\t}\n\n\tgetContainer()\n\t{\n\t\tconst content = [];\n\t\tlet totalCount = 0;\n\t\tObject.values(this.myCounters).forEach((counter) => {\n\t\t\tcontent.push(counter.getContainer());\n\t\t\tif(counter.count)\n\t\t\t\ttotalCount += counter.count;\n\t\t});\n\n\t\tthis.$myTaskHead = Tag.render`\n\t\t\t<div class=\"tasks-counters--item-head\">\n\t\t\t\t${Loc.getMessage('TASKS_COUNTER_MY')}\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.$element = Tag.render`\n\t\t\t<div class=\"tasks-counters tasks-counters--scope\">\n\t\t\t\t<div class=\"tasks-counters--item\">\n\t\t\t\t\t${this.$myTaskHead}\n\t\t\t\t\t<div class=\"tasks-counters--item-content\">${content}</div>\n\t\t\t\t</div>\n\t\t\t\t${this.getOther()}\n\t\t\t\t${this.isUserTaskList() && !this.isMyTaskList() ? '' : this.getReadAllBlock()}\n\t\t\t</div>\n\t\t`;\n\n\t\treturn this.$element;\n\t}\n\n\trerender(counters)\n\t{\n\t\tthis.setData(counters);\n\t\tthis.render();\n\t}\n\n\trender()\n\t{\n\t\tlet node = this.getContainer();\n\t\tlet fakeNode = node.cloneNode(true);\n\t\tfakeNode.classList.add('task-interface-toolbar');\n\t\tfakeNode.style.position = 'fixed';\n\t\tfakeNode.style.opacity = '0';\n\t\tfakeNode.style.width = 'auto';\n\t\tfakeNode.style.pointerEvents = 'none';\n\t\tdocument.body.appendChild(fakeNode);\n\t\tthis.nodeWidth = fakeNode.offsetWidth;\n\t\tdocument.body.removeChild(fakeNode);\n\n\t\tDom.replace(this.renderTo.firstChild, node);\n\t}\n}"],"names":["Filter","options","filterId","filterManager","BX","Main","getById","bindEvents","updateFields","EventEmitter","subscribe","onFilterApply","bind","fields","getFilterFieldsValues","field","Object","keys","includes","Type","isArray","length","value","isFilteredByField","name","isFilteredByFieldValue","getApi","extendFilter","COUNTER_TYPE","getFilterFields","forEach","getAttribute","getFields","deleteField","getSearch","apply","CountersItem","count","type","color","filterField","filterValue","filter","$container","$remove","$counter","param","data","unActive","Tag","render","getCounterColor","start","duration","innerHTML","getCounter","classList","remove","setTimeout","style","animationDuration","add","timer","setInterval","node","clearInterval","fade","unFade","Event","parentNode","removeChild","appendChild","animateCounter","getContainer","targetNode","isDomNode","emit","counter","contains","active","title","Loc","getMessage","replace","toLowerCase","Number","getRemove","adjustClick","Counters","my","other","expired","comment","userId","targetUserId","groupId","counters","initialCounterTypes","counterTypes","renderTo","role","signedParameters","popupMenu","$readAll","cropped","layout","$more","$moreArrow","$other","$myTaskHead","setData","initPull","otherCounters","isUserTaskList","isProjectsTaskList","PULL","moduleId","callback","processPullEvent","extendWatch","isProjectList","tagId","eventHandlers","user_counter","onUserCounter","project_counter","onProjectCounter","has","prototype","hasOwnProperty","command","params","call","method","isRoleChanged","updateRole","updateCountersData","assign","myCounters","values","Ajax","runComponentAction","mode","then","response","rerender","console","log","ROLEID","isMyTaskList","entries","updateCount","$readAllInner","counterItem","getCounterItem","getCounterNameByType","VALUE","STYLE","FILTER_FIELD","FILTER_VALUE","newCommentsCount","readAllClick","readAllByRole","readAllForProjects","runAction","allCounters","itemsNode","menuItem","MenuItem","html","getPopupMenuItemContainer","onclick","onPopupItemClick","push","Menu","bindElement","className","angle","offset","autoHide","closeEsc","offsetTop","offsetLeft","animation","items","events","onPopupShow","onPopupClose","destroy","item","close","getPopup","show","content","totalCount","isCroppedBlock","getMore","$element","getOther","getReadAllBlock","fakeNode","cloneNode","position","opacity","width","pointerEvents","document","body","nodeWidth","offsetWidth","Dom","firstChild"],"mappings":"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"}