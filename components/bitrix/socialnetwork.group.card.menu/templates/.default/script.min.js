this.BX=this.BX||{};(function(e,t){"use strict";var a=function(){function e(){babelHelpers.classCallCheck(this,e);this.menuNode=null;this.pageBodyStyles={};this.signedParameters=""}babelHelpers.createClass(e,[{key:"init",value:function e(a){var i=this;this.menuNode=t.Type.isStringFilled(a.menuNodeId)?document.getElementById(a.menuNodeId):null;this.pageBodyStyles=t.Type.isPlainObject(a.pageBodyStyles)?a.pageBodyStyles:{};this.signedParameters=t.Type.isStringFilled(a.signedParameters)?a.signedParameters:"";if(t.Type.isDomNode(this.menuNode)){this.menuItems=Array.prototype.slice.call(this.menuNode.querySelectorAll("a"));(this.menuItems||[]).forEach(function(e){t.Event.bind(e,"click",function(t){i.processClick(e,t);return t.preventDefault()})})}}},{key:"processClick",value:function e(a){var i=a.getAttribute("data-url");var n=a.getAttribute("data-action");if(t.Type.isStringFilled(i)){window.location.href=i}else if(t.Type.isStringFilled(n)){switch(n){case"card":case"edit":case"copy":case"delete":case"leave":this.changePage(n);break;case"theme":BX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false);break;case"join":break;default:}}}},{key:"changePage",value:function e(a){var i=this;var n="";var r={componentTemplate:""};switch(a){case"card":n="bitrix:socialnetwork.group";r.componentTemplate="card";break;case"edit":n="bitrix:socialnetwork.group_create.ex";r.TAB="edit";break;case"copy":n="bitrix:socialnetwork.group_copy";break;case"delete":n="bitrix:socialnetwork.group_delete";break;case"leave":n="bitrix:socialnetwork.user_leave_group";break;default:}if(!t.Type.isStringFilled(n)){return}t.ajax.runComponentAction(n,"getComponent",{mode:"ajax",signedParameters:this.signedParameters,data:{params:r}}).then(function(e){if(!t.Type.isPlainObject(e.data)||!t.Type.isStringFilled(e.data.html)){return}if(document.getElementById("workarea-content")){t.Runtime.html(document.getElementById("workarea-content"),e.data.html).then(function(){Object.entries(i.pageBodyStyles).forEach(function(e){var t=babelHelpers.slicedToArray(e,2),a=t[0],i=t[1];document.body.classList.remove(i)});if(t.Type.isStringFilled(i.pageBodyStyles[a])){document.body.classList.add(i.pageBodyStyles[a])}})}if(t.Type.isPlainObject(e.data.componentResult)&&t.Type.isStringFilled(e.data.componentResult.PageTitle)&&document.getElementById("pagetitle")){var n=document.getElementById("pagetitle").querySelector(".ui-side-panel-wrap-title-name");if(n){t.Runtime.html(n,e.data.componentResult.PageTitle)}}}).catch(function(e){console.log("failed");console.dir(e)})}}]);return e}();e.WorkgroupSliderMenu=a})(this.BX.Socialnetwork=this.BX.Socialnetwork||{},BX);
//# sourceMappingURL=script.map.js