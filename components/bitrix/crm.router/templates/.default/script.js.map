{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import { Reflection, Runtime, Type } from \"main.core\";\n\nconst namespace = Reflection.namespace('BX.Crm.Component');\n\n/**\n * @memberOf BX.Crm.Component\n */\nclass Router\n{\n\t/**\n\t * @public\n\t * @param roots\n\t * @param rules\n\t */\n\tstatic bindAnchors(roots: string[], rules: BX.SidePanel.Rule[]): void\n\t{\n\t\tconst preparedRules: BX.SidePanel.Rule[] = [];\n\n\t\trules.forEach(rule => {\n\t\t\tpreparedRules.push(this.prependRootsToRuleConditions(roots, rule));\n\t\t});\n\n\t\tBX.SidePanel.Instance.bindAnchors({rules: preparedRules});\n\t}\n\n\t/**\n\t * @protected\n\t * @param roots\n\t * @param rule\n\t * @return {BX.SidePanel.Rule}\n\t */\n\tstatic prependRootsToRuleConditions(roots: string[], rule: BX.SidePanel.Rule): BX.SidePanel.Rule\n\t{\n\t\t// Don't change the received object to avoid problems\n\t\tconst localRule: BX.SidePanel.Rule = Runtime.clone(rule);\n\n\t\tif (!Type.isArrayFilled(localRule.condition))\n\t\t{\n\t\t\treturn localRule;\n\t\t}\n\n\t\tconst modifiedConditions = [];\n\t\tlocalRule.condition.forEach((condition: string|RegExp) => {\n\t\t\tif (Type.isRegExp(condition))\n\t\t\t{\n\t\t\t\tcondition = condition.toString();\n\t\t\t}\n\n\t\t\troots.forEach(root => {\n\t\t\t\tmodifiedConditions.push(root + condition);\n\t\t\t});\n\t\t});\n\n\t\tlocalRule.condition = modifiedConditions;\n\n\t\treturn localRule;\n\t}\n}\n\nnamespace.Router = Router;\n"],"names":["namespace","Reflection","Router","roots","rules","preparedRules","forEach","rule","push","prependRootsToRuleConditions","BX","SidePanel","Instance","bindAnchors","localRule","Runtime","clone","Type","isArrayFilled","condition","modifiedConditions","isRegExp","toString","root"],"mappings":";;;CAEA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAX,CAAqB,kBAArB,CAAlB;CAEA;;;;KAGME;;;;;;;;CAEL;;;;;iCAKmBC,OAAiBC,OACpC;CAAA;;CACC,UAAMC,aAAkC,GAAG,EAA3C;CAEAD,MAAAA,KAAK,CAACE,OAAN,CAAc,UAAAC,IAAI,EAAI;CACrBF,QAAAA,aAAa,CAACG,IAAd,CAAmB,KAAI,CAACC,4BAAL,CAAkCN,KAAlC,EAAyCI,IAAzC,CAAnB;CACA,OAFD;CAIAG,MAAAA,EAAE,CAACC,SAAH,CAAaC,QAAb,CAAsBC,WAAtB,CAAkC;CAACT,QAAAA,KAAK,EAAEC;CAAR,OAAlC;CACA;CAED;;;;;;;;;kDAMoCF,OAAiBI,MACrD;CACC;CACA,UAAMO,SAA4B,GAAGC,iBAAO,CAACC,KAAR,CAAcT,IAAd,CAArC;;CAEA,UAAI,CAACU,cAAI,CAACC,aAAL,CAAmBJ,SAAS,CAACK,SAA7B,CAAL,EACA;CACC,eAAOL,SAAP;CACA;;CAED,UAAMM,kBAAkB,GAAG,EAA3B;CACAN,MAAAA,SAAS,CAACK,SAAV,CAAoBb,OAApB,CAA4B,UAACa,SAAD,EAA8B;CACzD,YAAIF,cAAI,CAACI,QAAL,CAAcF,SAAd,CAAJ,EACA;CACCA,UAAAA,SAAS,GAAGA,SAAS,CAACG,QAAV,EAAZ;CACA;;CAEDnB,QAAAA,KAAK,CAACG,OAAN,CAAc,UAAAiB,IAAI,EAAI;CACrBH,UAAAA,kBAAkB,CAACZ,IAAnB,CAAwBe,IAAI,GAAGJ,SAA/B;CACA,SAFD;CAGA,OATD;CAWAL,MAAAA,SAAS,CAACK,SAAV,GAAsBC,kBAAtB;CAEA,aAAON,SAAP;CACA;;;;;CAGFd,SAAS,CAACE,MAAV,GAAmBA,MAAnB;;;;"}