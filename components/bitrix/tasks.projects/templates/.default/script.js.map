{"version":3,"file":"script.js","sources":["../../../../../../../main/install/components/bitrix/main.ui.grid/templates/.default/src/js/cell-action-state.js","src/actions-controller.js","src/filter/filter.js","src/members-popup.js","src/grid.js","src/pull-controller.js","src/tourguide/first-project-creation-tour-guide.js","src/tourguide/tour-guide-controller.js","src/controller.js"],"sourcesContent":["import {Reflection} from 'main.core';\n\n/**\n * @memberOf BX.Grid\n */\nexport class CellActionState\n{\n\tstatic SHOW_BY_HOVER = 'main-grid-cell-content-action-by-hover';\n\tstatic ACTIVE = 'main-grid-cell-content-action-active';\n}\n\nconst namespace = Reflection.namespace('BX.Grid');\nnamespace.CellActionState = CellActionState;","import {Dom} from 'main.core';\nimport {BaseEvent} from 'main.core.events';\nimport {CellActionState} from '../../../../../../../../main/install/components/bitrix/main.ui.grid/templates/.default/src/js/cell-action-state';\n\nexport class ActionsController\n{\n\tstatic options;\n\n\tstatic setOptions(options)\n\t{\n\t\tActionsController.options = options;\n\t}\n\n\tstatic setActionsPanel(actionsPanel)\n\t{\n\t\tActionsController.actionsPanel = actionsPanel;\n\t}\n\n\tstatic doAction(action, groupId)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tBX.ajax.runComponentAction('bitrix:tasks.projects', 'processAction', {\n\t\t\t\tmode: 'class',\n\t\t\t\tdata: {\n\t\t\t\t\taction,\n\t\t\t\t\tids: ActionsController.getActionIds(groupId) || [],\n\t\t\t\t},\n\t\t\t\tsignedParameters: ActionsController.options.signedParameters,\n\t\t\t}).then(\n\t\t\t\t() => resolve(),\n\t\t\t\t() => reject()\n\t\t\t).catch(\n\t\t\t\t() => reject()\n\t\t\t);\n\n\t\t\tActionsController.hideActionsPanel();\n\t\t\tActionsController.unselectRows();\n\t\t});\n\t}\n\n\tstatic getActionIds(id)\n\t{\n\t\tif (id !== undefined)\n\t\t{\n\t\t\treturn [id];\n\t\t}\n\n\t\tconst selected = ActionsController.getSelectedRows();\n\t\tif (selected.length === 0)\n\t\t{\n\t\t\treturn [];\n\t\t}\n\n\t\treturn selected.map((row) => {\n\t\t\treturn row.getDataset().id;\n\t\t});\n\t}\n\n\tstatic getSelectedRows()\n\t{\n\t\treturn ActionsController.getGridInstance().getRows().getSelected();\n\t}\n\n\tstatic sendJoinRequest(button)\n\t{\n\t\tif (Dom.hasClass(button, 'ui-btn-clock'))\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tDom.addClass(button, 'ui-btn-clock');\n\n\t\tBX.ajax({\n\t\t\turl: button.getAttribute('bx-request-url'),\n\t\t\tmethod: 'POST',\n\t\t\tdataType: 'json',\n\t\t\tdata: {\n\t\t\t\tajax_request: 'Y',\n\t\t\t\tsave: 'Y',\n\t\t\t\tsessid: BX.bitrix_sessid(),\n\t\t\t},\n\t\t\tonsuccess: () => Dom.removeClass(button, 'ui-btn-clock'),\n\t\t\tonfailure: () => Dom.removeClass(button, 'ui-btn-clock'),\n\t\t});\n\n\t\tActionsController.hideActionsPanel();\n\t\tActionsController.unselectRows();\n\t}\n\n\tstatic sendAcceptRequest(userGroupRelationId, url)\n\t{\n\t\tBX.ajax({\n\t\t\turl: url,\n\t\t\tmethod: 'POST',\n\t\t\tdataType: 'json',\n\t\t\tdata: {\n\t\t\t\taction: 'accept',\n\t\t\t\tmax_count: 1,\n\t\t\t\tchecked_0: 'Y',\n\t\t\t\ttype_0: 'INVITE_GROUP',\n\t\t\t\tid_0: userGroupRelationId,\n\t\t\t\ttype: 'in',\n\t\t\t\tajax_request: 'Y',\n\t\t\t\tsessid: BX.bitrix_sessid(),\n\t\t\t},\n\t\t\tonsuccess: result => {},\n\t\t\tonfailure: result => console.log(result),\n\t\t});\n\n\t\tActionsController.hideActionsPanel();\n\t\tActionsController.unselectRows();\n\t}\n\n\tstatic sendDenyRequest(userGroupRelationId, url)\n\t{\n\t\tActionsController.sendCancelRequest(userGroupRelationId, url);\n\t}\n\n\tstatic sendCancelRequest(userGroupRelationId, url)\n\t{\n\t\tBX.ajax({\n\t\t\turl: url,\n\t\t\tmethod: 'POST',\n\t\t\tdataType: 'json',\n\t\t\tdata: {\n\t\t\t\taction: 'reject',\n\t\t\t\tmax_count: 1,\n\t\t\t\tchecked_0: 'Y',\n\t\t\t\ttype_0: 'INVITE_GROUP',\n\t\t\t\tid_0: userGroupRelationId,\n\t\t\t\ttype: 'out',\n\t\t\t\tajax_request: 'Y',\n\t\t\t\tsessid: BX.bitrix_sessid(),\n\t\t\t},\n\t\t\tonsuccess: result => {},\n\t\t\tonfailure: result => console.log(result),\n\t\t});\n\n\t\tActionsController.hideActionsPanel();\n\t\tActionsController.unselectRows();\n\t}\n\n\tstatic hideActionsPanel()\n\t{\n\t\tActionsController.options.actionsPanel.hidePanel();\n\t}\n\n\tstatic unselectRows()\n\t{\n\t\tActionsController.getGridInstance().getRows().unselectAll();\n\t}\n\n\tstatic getGridInstance()\n\t{\n\t\treturn BX.Main.gridManager.getById(ActionsController.options.gridId).instance;\n\t}\n\n\tstatic changePin(event: BaseEvent)\n\t{\n\t\tconst {button, row} = event.getData();\n\n\t\tif (Dom.hasClass(button, CellActionState.ACTIVE))\n\t\t{\n\t\t\tActionsController.doAction('unpin', row.getId()).then(() => {\n\t\t\t\tDom.removeClass(button, CellActionState.ACTIVE);\n\t\t\t\tDom.addClass(button, CellActionState.SHOW_BY_HOVER);\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tActionsController.doAction('pin', row.getId()).then(() => {\n\t\t\t\tDom.addClass(button, CellActionState.ACTIVE);\n\t\t\t\tDom.removeClass(button, CellActionState.SHOW_BY_HOVER);\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic onCounterClick(event: BaseEvent)\n\t{\n\t\tconst {row} = event.getData();\n\n\t\tBX.SidePanel.Instance.open(ActionsController.options.groupTaskPath.replace('#group_id#', row.getId()));\n\t}\n}","import {Type} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nexport class Filter\n{\n\tconstructor(options)\n\t{\n\t\tthis.filter = BX.Main.filterManager.getById(options.filterId);\n\n\t\tthis.init();\n\t\tthis.bindEvents();\n\t}\n\n\tinit()\n\t{\n\t\tthis.updateFields();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Main.Filter:apply', this.onFilterApply.bind(this));\n\t\tEventEmitter.subscribe('Tasks.Toolbar:onItem', this.onCounterClick.bind(this));\n\t}\n\n\tonFilterApply()\n\t{\n\t\tthis.updateFields();\n\t}\n\n\tupdateFields()\n\t{\n\t\tthis.fields = this.filter.getFilterFieldsValues();\n\t}\n\n\tonCounterClick(event)\n\t{\n\t\tconst data = event.getData();\n\n\t\tif (data.counter && data.counter.filter)\n\t\t{\n\t\t\tthis.toggleByField({[data.counter.filterField]: data.counter.filterValue});\n\t\t}\n\t}\n\n\tisFilteredByField(field)\n\t{\n\t\tif (!Object.keys(this.fields).includes(field))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (Type.isArray(this.fields[field]))\n\t\t{\n\t\t\treturn this.fields[field].length > 0;\n\t\t}\n\n\t\treturn this.fields[field] !== '';\n\t}\n\n\tisFilteredByFieldValue(field, value)\n\t{\n\t\treturn this.isFilteredByField(field) && this.fields[field] === value;\n\t}\n\n\ttoggleByField(field)\n\t{\n\t\tconst name = Object.keys(field)[0];\n\t\tconst value = field[name];\n\n\t\tif (!this.isFilteredByFieldValue(name, value))\n\t\t{\n\t\t\tthis.filter.getApi().extendFilter({[name]: value});\n\t\t\treturn;\n\t\t}\n\n\t\tthis.filter.getFilterFields().forEach((field) => {\n\t\t\tif (field.getAttribute('data-name') === name)\n\t\t\t{\n\t\t\t\tthis.filter.getFields().deleteField(field);\n\t\t\t}\n\t\t});\n\n\t\tthis.filter.getSearch().apply();\n\t}\n}","import {Event, Loc, Tag, Type} from 'main.core';\nimport {Loader} from 'main.loader';\nimport {PopupWindowManager} from 'main.popup';\n\nexport class MembersPopup\n{\n\tstatic get titles()\n\t{\n\t\treturn {\n\t\t\theads: Loc.getMessage('TASKS_PROJECTS_MEMBERS_POPUP_TITLE_HEADS'),\n\t\t\tmembers: Loc.getMessage('TASKS_PROJECTS_MEMBERS_POPUP_TITLE_MEMBERS'),\n\t\t};\n\t}\n\n\tconstructor(options)\n\t{\n\t\tthis.signedParameters = options.signedParameters;\n\t}\n\n\tshow(groupId, type, bindNode)\n\t{\n\t\tif (this.isPopupShown)\n\t\t{\n\t\t\tthis.popup.destroy();\n\t\t}\n\n\t\tthis.currentPage = 1;\n\t\tthis.innerContainer = '';\n\t\tthis.renderedUsers = [];\n\n\t\tthis.popup = PopupWindowManager.create({\n\t\t\tid: 'projects-members-popup-menu',\n\t\t\tclassName: 'tasks-projects-members-popup',\n\t\t\tbindElement: bindNode,\n\t\t\tautoHide: true,\n\t\t\tcloseByEsc: true,\n\t\t\tlightShadow: true,\n\t\t\tbindOptions: {\n\t\t\t\tposition: 'bottom',\n\t\t\t},\n\t\t\tanimationOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\ttype: 'opacity-transform',\n\t\t\t\t},\n\t\t\t\tclose: {\n\t\t\t\t\ttype: 'opacity',\n\t\t\t\t},\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonPopupDestroy: () => {\n\t\t\t\t\tthis.loader = null;\n\t\t\t\t\tthis.isPopupShown = false;\n\t\t\t\t},\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tthis.popup.destroy();\n\t\t\t\t},\n\t\t\t\tonAfterPopupShow: (popup) => {\n\t\t\t\t\tconst popupContainer = this.renderContainer(type);\n\t\t\t\t\tconst loaderNode = popupContainer.querySelector('.tasks-projects-members-popup-content');\n\n\t\t\t\t\tthis.innerContainer = popupContainer.querySelector('.tasks-projects-members-popup-inner');\n\n\t\t\t\t\tpopup.contentContainer.appendChild(popupContainer);\n\n\t\t\t\t\tthis.showLoader(loaderNode);\n\t\t\t\t\tthis.showUsers(groupId, type);\n\n\t\t\t\t\tthis.isPopupShown = true;\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tthis.popupScroll(groupId, type);\n\t\tthis.popup.show();\n\t}\n\n\trenderContainer(type)\n\t{\n\t\treturn Tag.render`\n\t\t\t<div>\n\t\t\t\t<span class=\"tasks-projects-members-popup-name-title\">\n\t\t\t\t\t${MembersPopup.titles[type]}\n\t\t\t\t</span>\n\t\t\t\t<div class=\"tasks-projects-members-popup-container\">\n\t\t\t\t\t<div class=\"tasks-projects-members-popup-content\">\n\t\t\t\t\t\t<div class=\"tasks-projects-members-popup-content-box\">\n\t\t\t\t\t\t\t<div class=\"tasks-projects-members-popup-inner\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tpopupScroll(groupId, type)\n\t{\n\t\tif (!BX.type.isDomNode(this.innerContainer))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tEvent.bind(this.innerContainer, 'scroll', (event) => {\n\t\t\tconst area = event.target;\n\t\t\tif (area.scrollTop > (area.scrollHeight - area.offsetHeight) / 1.5)\n\t\t\t{\n\t\t\t\tthis.showUsers(groupId, type);\n\t\t\t\tEvent.unbindAll(this.innerContainer);\n\t\t\t}\n\t\t});\n\t};\n\n\tshowUsers(groupId, type)\n\t{\n\t\tBX.ajax.runComponentAction('bitrix:tasks.projects', 'getPopupMembers', {\n\t\t\tmode: 'class',\n\t\t\tdata: {\n\t\t\t\tgroupId,\n\t\t\t\ttype,\n\t\t\t\tpage: this.currentPage,\n\t\t\t},\n\t\t\tsignedParameters: this.signedParameters,\n\t\t}).then(\n\t\t\t(response) => {\n\t\t\t\tif (response.data)\n\t\t\t\t{\n\t\t\t\t\tthis.currentPage++;\n\t\t\t\t\tthis.renderUsers(response.data);\n\t\t\t\t\tthis.popupScroll(groupId, type);\n\t\t\t\t}\n\t\t\t\telse if (!this.innerContainer.hasChildNodes())\n\t\t\t\t{\n\t\t\t\t\tthis.innerContainer.innerText = Loc.getMessage('TASKS_PROJECTS_MEMBERS_POPUP_EMPTY');\n\t\t\t\t}\n\t\t\t\tthis.hideLoader();\n\t\t\t},\n\t\t\t() => this.hideLoader()\n\t\t);\n\t}\n\n\trenderUsers(users)\n\t{\n\t\tObject.values(users).forEach((user) => {\n\t\t\tif (this.renderedUsers.indexOf(user.ID) >= 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.renderedUsers.push(user.ID);\n\n\t\t\tthis.innerContainer.appendChild(\n\t\t\t\tTag.render`\n\t\t\t\t\t<a class=\"tasks-projects-members-popup-item\" href=\"${user['HREF']}\" target=\"_blank\">\n\t\t\t\t\t\t<span class=\"tasks-projects-members-popup-avatar-new\">\n\t\t\t\t\t\t\t${this.getAvatar(user)}\n\t\t\t\t\t\t\t<span class=\"tasks-projects-members-popup-avatar-status-icon\"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"tasks-projects-members-popup-name\">${user['FORMATTED_NAME']}</span>\n\t\t\t\t\t</a>\n\t\t\t\t`\n\t\t\t);\n\t\t})\n\t}\n\n\tgetAvatar(user)\n\t{\n\t\tif (Type.isStringFilled(user['PHOTO']))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"ui-icon ui-icon-common-user tasks-projects-members-popup-avatar-img\">\n\t\t\t\t\t<i style=\"background-image: url('${user['PHOTO']}')\"></i>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-icon ui-icon-common-user tasks-projects-members-popup-avatar-img\"><i></i></div>\n\t\t`;\n\t}\n\n\tshowLoader(target)\n\t{\n\t\tif (!this.loader)\n\t\t{\n\t\t\tthis.loader = new Loader({\n\t\t\t\ttarget,\n\t\t\t\tsize: 40,\n\t\t\t});\n\t\t}\n\t\tvoid this.loader.show();\n\t}\n\n\thideLoader()\n\t{\n\t\tif (this.loader)\n\t\t{\n\t\t\tvoid this.loader.hide();\n\t\t\tthis.loader = null;\n\t\t}\n\t}\n}","import {Dom, Type} from 'main.core';\nimport {BaseEvent, EventEmitter} from 'main.core.events';\n\nexport class Grid\n{\n\tstatic get classes()\n\t{\n\t\treturn {\n\t\t\thighlighted: 'task-projects-item-highlighted',\n\t\t\tpinned: 'tasks-projects-row-pinned',\n\t\t};\n\t}\n\n\tconstructor(options)\n\t{\n\t\tthis.pageSize = 10;\n\n\t\tthis.grid = BX.Main.gridManager.getInstanceById(options.gridId);\n\t\tthis.stub = options.gridStub;\n\n\t\tthis.sort = options.sort;\n\t\tthis.actionsPanel = options.actionsPanel;\n\t\tthis.eventsToEmit = options.eventsToEmit || {};\n\n\t\tthis.items = new Map();\n\t\tthis.fillItems(options.items);\n\n\t\tthis.bindEvents();\n\t\tthis.colorPinnedRows();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Main.grid:sort', this.onColumnSort.bind(this));\n\t\tEventEmitter.subscribe('BX.Main.grid:paramsUpdated', this.onParamsUpdated.bind(this));\n\t}\n\n\tonColumnSort(event: BaseEvent)\n\t{\n\t\tconst data = event.getData();\n\t\tconst grid = data[1];\n\t\tconst column = data[0];\n\n\t\tif (grid === this.grid)\n\t\t{\n\t\t\tthis.sort = {};\n\t\t\tthis.sort[column.sort_by] = column.sort_order;\n\t\t}\n\t}\n\n\tonParamsUpdated()\n\t{\n\t\tconst newItems = this.getRows().map(row => row.getId()).filter(id => id !== 'template_0');\n\t\tconst flipped = newItems.reduce((obj, value) => ({...obj, [value]: null}), {});\n\n\t\tthis.clearItems();\n\t\tthis.fillItems(flipped);\n\t\tthis.colorPinnedRows();\n\t}\n\n\taddRow(id, data, params)\n\t{\n\t\tconst options = {\n\t\t\tid: id,\n\t\t\tcolumns: data.content,\n\t\t\tactions: data.actions,\n\t\t\tcellActions: data.cellActions,\n\t\t\tcounters: data.counters,\n\t\t};\n\t\tconst moveParams = params.moveParams || {};\n\n\t\tif (moveParams.rowBefore)\n\t\t{\n\t\t\toptions.insertAfter = moveParams.rowBefore;\n\t\t}\n\t\telse if (moveParams.rowAfter)\n\t\t{\n\t\t\toptions.insertBefore = moveParams.rowAfter;\n\t\t}\n\t\telse\n\t\t{\n\t\t\toptions.append = true;\n\t\t}\n\n\t\tif (this.items.size > this.getCurrentPage() * this.pageSize)\n\t\t{\n\t\t\tconst lastRowId = this.getLastRowId();\n\n\t\t\tthis.removeItem(lastRowId);\n\t\t\tDom.remove(this.getRowNodeById(lastRowId));\n\t\t\tthis.showMoreButton();\n\t\t}\n\n\t\tthis.hideStub();\n\t\tthis.getRealtime().addRow(options);\n\t\tthis.colorPinnedRows();\n\n\t\tif (this.eventsToEmit.onProjectGridRowAdd)\n\t\t{\n\t\t\tEventEmitter.emit('Tasks.Projects.Grid:RowAdd', {id});\n\t\t}\n\t}\n\n\tupdateRow(id, data, params)\n\t{\n\t\tconst row = this.getRowById(id);\n\t\trow.setCellsContent(data.content);\n\t\trow.setActions(data.actions);\n\t\trow.setCellActions(data.cellActions);\n\t\trow.setCounters(data.counters);\n\n\t\tthis.resetRows();\n\t\tthis.moveRow(id, (params.moveParams || {}));\n\t\tthis.highlightRow(id, (params.highlightParams || {})).then(() => this.colorPinnedRows(), () => {});\n\n\t\tthis.grid.bindOnRowEvents();\n\t}\n\n\tremoveRow(id)\n\t{\n\t\tif (!this.isRowExist(id))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.grid.removeRow(id);\n\t}\n\n\tmoveRow(rowId, params): void\n\t{\n\t\tif (params.skip)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst rowBefore = params.rowBefore || 0;\n\t\tconst rowAfter = params.rowAfter || 0;\n\n\t\tif (rowBefore)\n\t\t{\n\t\t\tthis.grid.getRows().insertAfter(rowId, rowBefore);\n\t\t}\n\t\telse if (rowAfter)\n\t\t{\n\t\t\tthis.grid.getRows().insertBefore(rowId, rowAfter);\n\t\t}\n\t}\n\n\thighlightRow(rowId, params): Promise\n\t{\n\t\tparams = params || {};\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!this.isRowExist(rowId))\n\t\t\t{\n\t\t\t\treject();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (params.skip)\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst node = this.getRowNodeById(rowId);\n\t\t\tconst isPinned = Dom.hasClass(node, Grid.classes.pinned);\n\n\t\t\tif (isPinned)\n\t\t\t{\n\t\t\t\tDom.removeClass(node, Grid.classes.pinned);\n\t\t\t}\n\n\t\t\tDom.addClass(node, Grid.classes.highlighted);\n\t\t\tsetTimeout(() => {\n\t\t\t\tDom.removeClass(node, Grid.classes.highlighted);\n\t\t\t\tif (isPinned)\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(node, Grid.classes.pinned);\n\t\t\t\t}\n\t\t\t\tresolve();\n\t\t\t}, 900);\n\t\t});\n\t}\n\n\tcolorPinnedRows()\n\t{\n\t\tthis.getRows().forEach((row) => {\n\t\t\tconst node = row.getNode();\n\t\t\tthis.getIsPinned(row.getId())\n\t\t\t\t? Dom.addClass(node, Grid.classes.pinned)\n\t\t\t\t: Dom.removeClass(node, Grid.classes.pinned)\n\t\t\t;\n\t\t});\n\t}\n\n\tresetRows()\n\t{\n\t\tthis.grid.getRows().reset();\n\t}\n\n\tgetRows()\n\t{\n\t\treturn this.grid.getRows().getBodyChild();\n\t}\n\n\tgetFirstRowId()\n\t{\n\t\tconst firstRow = this.grid.getRows().getBodyFirstChild();\n\t\treturn (firstRow ? this.getRowProperty(firstRow, 'id') : 0);\n\t}\n\n\tgetLastRowId()\n\t{\n\t\tconst lastRow = this.grid.getRows().getBodyLastChild();\n\t\treturn (lastRow ? this.getRowProperty(lastRow, 'id') : 0);\n\t}\n\n\tgetLastPinnedRowId()\n\t{\n\t\tconst pinnedRows = Object.values(this.getRows()).filter(row => this.getIsPinned(row.getId()));\n\t\tconst keys = Object.keys(pinnedRows);\n\n\t\tif (keys.length > 0)\n\t\t{\n\t\t\treturn pinnedRows[keys[keys.length - 1]].getId();\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tgetIsPinned(rowId)\n\t{\n\t\treturn this.isRowExist(rowId)\n\t\t\t&& Type.isDomNode(this.getRowNodeById(rowId).querySelector('.main-grid-cell-content-action-pin.main-grid-cell-content-action-active'));\n\t}\n\n\tgetRowProperty(row, propertyName)\n\t{\n\t\treturn BX.data(row.getNode(), propertyName);\n\t}\n\n\tgetRowById(id)\n\t{\n\t\treturn this.grid.getRows().getById(id);\n\t}\n\n\tgetRowNodeById(id)\n\t{\n\t\treturn this.getRowById(id).getNode();\n\t}\n\n\tisRowExist(id)\n\t{\n\t\treturn this.getRowById(id) !== null;\n\t}\n\n\tgetCurrentPage()\n\t{\n\t\tconst currentPage = this.grid.getContainer().querySelector('.modern-page-current');\n\t\treturn (currentPage ? currentPage.innerText : 1);\n\t}\n\n\tisActivityRealtimeMode()\n\t{\n\t\treturn this.sort.ACTIVITY_DATE\n\t\t\t&& this.sort.ACTIVITY_DATE === 'desc';\n\t}\n\n\tgetItems()\n\t{\n\t\treturn Array.from(this.items.keys());\n\t}\n\n\thasItem(id)\n\t{\n\t\treturn this.items.has(parseInt(id, 10));\n\t}\n\n\taddItem(id)\n\t{\n\t\tthis.items.set(parseInt(id, 10));\n\t}\n\n\tremoveItem(id)\n\t{\n\t\tthis.items.delete(parseInt(id, 10));\n\t}\n\n\tfillItems(items)\n\t{\n\t\tObject.keys(items).forEach(id => this.addItem(id));\n\t}\n\n\tclearItems()\n\t{\n\t\tthis.items.clear();\n\t}\n\n\tgetRealtime()\n\t{\n\t\treturn this.grid.getRealtime();\n\t}\n\n\tshowStub()\n\t{\n\t\tif (this.stub)\n\t\t{\n\t\t\tthis.getRealtime().showStub({content: this.stub});\n\t\t}\n\t}\n\n\thideStub()\n\t{\n\t\tthis.grid.hideEmptyStub();\n\t}\n\n\tshowMoreButton()\n\t{\n\t\tthis.grid.getMoreButton().getNode().style.display = 'inline-block';\n\t}\n\n\thideMoreButton()\n\t{\n\t\tthis.grid.getMoreButton().getNode().style.display = 'none';\n\t}\n}","import {Grid} from './grid';\n\nexport class PullController\n{\n\tstatic get events()\n\t{\n\t\treturn {\n\t\t\tadd: 'add',\n\t\t\tupdate: 'update',\n\t\t\tremove: 'remove',\n\t\t\tuserAdd: 'userAdd',\n\t\t\tuserUpdate: 'userUpdate',\n\t\t\tuserRemove: 'userRemove',\n\t\t\tpinChanged: 'pinChanged',\n\t\t};\n\t}\n\n\tstatic get counterEvents()\n\t{\n\t\treturn [\n\t\t\t'onAfterTaskAdd',\n\t\t\t'onAfterTaskDelete',\n\t\t\t'onAfterTaskRestore',\n\t\t\t'onAfterTaskView',\n\t\t\t'onAfterTaskMute',\n\t\t\t'onAfterCommentAdd',\n\t\t\t'onAfterCommentDelete',\n\t\t\t'onProjectPermUpdate',\n\t\t];\n\t}\n\n\tstatic get movingProjectEvents()\n\t{\n\t\treturn [\n\t\t\t'onAfterTaskAdd',\n\t\t\t'onAfterCommentAdd',\n\t\t];\n\t}\n\n\tconstructor(options)\n\t{\n\t\tthis.signedParameters = options.signedParameters;\n\n\t\tthis.grid = new Grid(options);\n\n\t\tthis.timer = null;\n\t\tthis.counterData = new Map();\n\t\tthis.userOptions = options.userOptions;\n\t}\n\n\tgetModuleId()\n\t{\n\t\treturn 'tasks';\n\t}\n\n\tgetMap()\n\t{\n\t\treturn {\n\t\t\tproject_add: this.onProjectAdd.bind(this),\n\t\t\tproject_update: this.onProjectUpdate.bind(this),\n\t\t\tproject_remove: this.onProjectRemove.bind(this),\n\t\t\tproject_user_add: this.onProjectUserAdd.bind(this),\n\t\t\tproject_user_update: this.onProjectUserUpdate.bind(this),\n\t\t\tproject_user_remove: this.onProjectUserRemove.bind(this),\n\t\t\tproject_user_option_changed: this.onProjectUserOptionChanged.bind(this),\n\t\t\tproject_counter: this.onProjectCounter.bind(this),\n\t\t\tproject_read_all: this.onProjectCommentsReadAll.bind(this),\n\t\t\tcomment_read_all: this.onProjectCommentsReadAll.bind(this),\n\t\t};\n\t}\n\n\tonProjectAdd(data)\n\t{\n\t\tconst params = {\n\t\t\tevent: PullController.events.add,\n\t\t\tmoveParams: {\n\t\t\t\trowBefore: this.grid.getLastPinnedRowId(),\n\t\t\t\trowAfter: this.grid.getFirstRowId(),\n\t\t\t},\n\t\t};\n\n\t\tthis.checkExistence(data.ID).then(\n\t\t\tresponse => this.onCheckExistenceSuccess(response, data.ID, params),\n\t\t\tresponse => console.error(response)\n\t\t);\n\t}\n\n\tonProjectUpdate(data)\n\t{\n\t\tconst params = {\n\t\t\tevent: PullController.events.update,\n\t\t};\n\n\t\tthis.checkExistence(data.ID).then(\n\t\t\tresponse => this.onCheckExistenceSuccess(response, data.ID, params),\n\t\t\tresponse => console.error(response)\n\t\t);\n\t}\n\n\tonProjectRemove(data)\n\t{\n\t\tthis.removeRow(data.ID);\n\t}\n\n\tonProjectUserAdd(data)\n\t{\n\t\tconst params = {\n\t\t\tevent: PullController.events.userAdd,\n\t\t};\n\n\t\tthis.checkExistence(data.GROUP_ID).then(\n\t\t\tresponse => this.onCheckExistenceSuccess(response, data.GROUP_ID, params),\n\t\t\tresponse => console.error(response)\n\t\t);\n\t}\n\n\tonProjectUserUpdate(data)\n\t{\n\t\tconst params = {\n\t\t\tevent: PullController.events.userUpdate,\n\t\t};\n\n\t\tthis.checkExistence(data.GROUP_ID).then(\n\t\t\tresponse => this.onCheckExistenceSuccess(response, data.GROUP_ID, params),\n\t\t\tresponse => console.error(response)\n\t\t);\n\t}\n\n\tonProjectUserRemove(data)\n\t{\n\t\tconst params = {\n\t\t\tevent: PullController.events.userRemove,\n\t\t};\n\n\t\tthis.checkExistence(data.GROUP_ID).then(\n\t\t\tresponse => this.onCheckExistenceSuccess(response, data.GROUP_ID, params),\n\t\t\tresponse => console.error(response)\n\t\t);\n\t}\n\n\tonProjectUserOptionChanged(data)\n\t{\n\t\tswitch (data.OPTION)\n\t\t{\n\t\t\tcase this.userOptions.pinned:\n\t\t\t\tthis.onProjectPinChanged(data);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonProjectPinChanged(data)\n\t{\n\t\tconst params = {\n\t\t\tevent: PullController.events.pinChanged,\n\t\t};\n\n\t\tthis.moveToDirectPlace(data.PROJECT_ID, null, params);\n\t}\n\n\tonProjectCounter(data)\n\t{\n\t\tconst groupId = data.GROUP_ID;\n\t\tconst event = data.EVENT;\n\n\t\tif (!PullController.counterEvents.includes(event))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.timer)\n\t\t{\n\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\tthis.freeCounterQueue();\n\t\t\t}, 1000);\n\t\t}\n\n\t\tif (PullController.movingProjectEvents.includes(event) || !this.counterData.has(groupId))\n\t\t{\n\t\t\tthis.counterData.set(groupId, event);\n\t\t}\n\t}\n\n\tfreeCounterQueue()\n\t{\n\t\tthis.counterData.forEach((event, groupId) => {\n\t\t\tconst params = {\n\t\t\t\tevent,\n\t\t\t\thighlightParams: {\n\t\t\t\t\tskip: true,\n\t\t\t\t},\n\t\t\t};\n\t\t\tif (PullController.movingProjectEvents.includes(event))\n\t\t\t{\n\t\t\t\tparams.moveParams = {\n\t\t\t\t\trowBefore: (this.grid.getIsPinned(groupId) ? 0 : this.grid.getLastPinnedRowId()),\n\t\t\t\t\trowAfter: this.grid.getFirstRowId(),\n\t\t\t\t};\n\t\t\t\tparams.highlightParams = {\n\t\t\t\t\tskip: false,\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.checkExistence(groupId).then(\n\t\t\t\tresponse => this.onCheckExistenceSuccess(response, groupId, params),\n\t\t\t\tresponse => console.error(response)\n\t\t\t);\n\t\t});\n\t\tthis.counterData.clear();\n\t\tthis.timer = null;\n\t}\n\n\tonProjectCommentsReadAll(data)\n\t{\n\t\tconst groupId = data.GROUP_ID;\n\n\t\tif (groupId)\n\t\t{\n\t\t\tif (this.grid.isRowExist(groupId))\n\t\t\t{\n\t\t\t\tthis.updateCounter([groupId]);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.updateCounter(this.grid.getItems());\n\t\t}\n\t}\n\n\tcheckExistence(groupId)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tBX.ajax.runComponentAction('bitrix:tasks.projects', 'checkExistence', {\n\t\t\t\tmode: 'class',\n\t\t\t\tdata: {\n\t\t\t\t\tgroupIds: [groupId],\n\t\t\t\t},\n\t\t\t\tsignedParameters: this.signedParameters,\n\t\t\t}).then(\n\t\t\t\tresponse => resolve(response),\n\t\t\t\tresponse => reject(response)\n\t\t\t);\n\t\t});\n\t}\n\n\tonCheckExistenceSuccess(response, groupId, params)\n\t{\n\t\tif (response.data[groupId] === false)\n\t\t{\n\t\t\tthis.removeRow(groupId);\n\t\t\treturn;\n\t\t}\n\n\t\tconst group = response.data[groupId];\n\n\t\tif (this.grid.isRowExist(groupId))\n\t\t{\n\t\t\tthis.grid.isActivityRealtimeMode()\n\t\t\t\t? this.updateRow(groupId, group, params)\n\t\t\t\t: this.moveToDirectPlace(groupId, group, params)\n\t\t\t;\n\t\t}\n\t\telse if (\n\t\t\tthis.grid.isActivityRealtimeMode()\n\t\t\t&& (PullController.movingProjectEvents.includes(params.event) || params.event === PullController.events.add)\n\t\t)\n\t\t{\n\t\t\tthis.updateItem(groupId, group, params);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.moveToDirectPlace(groupId, group, params);\n\t\t}\n\t}\n\n\tupdateItem(rowId, rowData, params)\n\t{\n\t\tif (!this.grid.hasItem(rowId))\n\t\t{\n\t\t\tthis.grid.addItem(rowId);\n\t\t\tthis.addRow(rowId, rowData, params);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.updateRow(rowId, rowData, params);\n\t\t}\n\t}\n\n\taddRow(rowId, rowData, params)\n\t{\n\t\tif (this.grid.isRowExist(rowId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tBX.ajax.runComponentAction('bitrix:tasks.projects', 'prepareGridRows', {\n\t\t\tmode: 'class',\n\t\t\tdata: {\n\t\t\t\tgroupIds: [rowId],\n\t\t\t\tdata: (rowData ? {[rowId]: rowData} : null),\n\t\t\t},\n\t\t\tsignedParameters: this.signedParameters,\n\t\t}).then(response => this.grid.addRow(rowId, response.data[rowId], params));\n\t}\n\n\tupdateRow(rowId, rowData, params)\n\t{\n\t\tif (!this.grid.isRowExist(rowId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tBX.ajax.runComponentAction('bitrix:tasks.projects', 'prepareGridRows', {\n\t\t\tmode: 'class',\n\t\t\tdata: {\n\t\t\t\tgroupIds: [rowId],\n\t\t\t\tdata: (rowData ? {[rowId]: rowData} : null),\n\t\t\t},\n\t\t\tsignedParameters: this.signedParameters,\n\t\t}).then(response => this.grid.updateRow(rowId, response.data[rowId], params));\n\t}\n\n\tremoveRow(rowId)\n\t{\n\t\tthis.grid.removeItem(rowId);\n\t\tthis.grid.removeRow(rowId);\n\t}\n\n\tmoveToDirectPlace(groupId, data, params)\n\t{\n\t\tparams = params || {};\n\n\t\tBX.ajax.runComponentAction('bitrix:tasks.projects', 'findProjectPlace', {\n\t\t\tmode: 'class',\n\t\t\tdata: {\n\t\t\t\tgroupId,\n\t\t\t\tcurrentPage: this.grid.getCurrentPage(),\n\t\t\t},\n\t\t\tsignedParameters: this.signedParameters,\n\t\t}).then((response) => {\n\t\t\tconst {projectBefore, projectAfter} = response.data;\n\n\t\t\tif (projectBefore === false && projectAfter === false)\n\t\t\t{\n\t\t\t\tthis.removeRow(groupId);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (\n\t\t\t\t\t(projectBefore && this.grid.isRowExist(projectBefore))\n\t\t\t\t\t|| (projectAfter && this.grid.isRowExist(projectAfter))\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tparams.moveParams = {\n\t\t\t\t\t\trowBefore: projectBefore,\n\t\t\t\t\t\trowAfter: projectAfter,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tparams.moveParams = {\n\t\t\t\t\t\tskip: true,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.updateItem(groupId, data, params);\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateCounter(rowIds)\n\t{\n\t\tBX.ajax.runComponentAction('bitrix:tasks.projects', 'prepareGridRows', {\n\t\t\tmode: 'class',\n\t\t\tdata: {\n\t\t\t\tgroupIds: rowIds,\n\t\t\t\tdata: null,\n\t\t\t},\n\t\t\tsignedParameters: this.signedParameters,\n\t\t}).then((response) => {\n\t\t\tconst projects = response.data;\n\t\t\tif (projects)\n\t\t\t{\n\t\t\t\tObject.keys(projects).forEach((projectId) => {\n\t\t\t\t\tif (this.grid.isRowExist(projectId))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.grid.getRowById(projectId).setCounters(projects[projectId].counters);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n}","import {BaseEvent, EventEmitter} from 'main.core.events';\nimport {Grid} from '../grid';\nimport {Guide, Step} from 'ui.tour';\nimport {Loc, Uri} from 'main.core';\n\nexport class FirstProjectCreationTourGuide\n{\n\tconstructor(options)\n\t{\n\t\toptions.eventsToEmit = {\n\t\t\tonProjectGridRowAdd: true,\n\t\t};\n\t\tthis.grid = new Grid(options);\n\t\tthis.signedParameters = options.signedParameters;\n\t\tthis.popupData = options.tours.firstProjectCreation.popupData;\n\n\t\tthis.projectAddButton = BX('projectAddButton');\n\t\tthis.guide = new Guide({\n\t\t\tsteps: [\n\t\t\t\t{\n\t\t\t\t\ttarget: this.projectAddButton,\n\t\t\t\t\ttitle: this.popupData[0].title,\n\t\t\t\t\ttext: this.popupData[0].text,\n\t\t\t\t\tarticle: this.popupData[0].article,\n\t\t\t\t},\n\t\t\t],\n\t\t\tonEvents: true\n\t\t});\n\n\t\tthis.bindEvents();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('UI.Tour.Guide:onFinish', this.onGuideFinish.bind(this));\n\t\tEventEmitter.subscribe('SidePanel.Slider:onMessage', this.onProjectSliderMessage.bind(this));\n\t}\n\n\tonGuideFinish(event: BaseEvent)\n\t{\n\t\tconst {guide} = event.getData();\n\n\t\tif (guide === this.guide)\n\t\t{\n\t\t\tthis.projectAddButton.href = Uri.removeParam(this.projectAddButton.href, ['PROJECT_OPTIONS']);\n\t\t}\n\t}\n\n\tonProjectSliderMessage(event: BaseEvent)\n\t{\n\t\tconst [sliderEvent] = event.getData();\n\t\tif (sliderEvent.getEventId() !== 'sonetGroupEvent')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst sliderEventData = sliderEvent.getData();\n\t\tif (\n\t\t\tsliderEventData.code !== 'afterCreate'\n\t\t\t|| sliderEventData.data.projectOptions.tourId !== this.guide.getId()\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst projectId = sliderEventData.data.group.ID;\n\n\t\tif (this.grid.isRowExist(projectId))\n\t\t{\n\t\t\tthis.showFinalStep(projectId);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tEventEmitter.subscribe('Tasks.Projects.Grid:RowAdd', this.onProjectRowAdded.bind(this, projectId));\n\t\t}\n\t}\n\n\tonProjectRowAdded(projectId, event: BaseEvent)\n\t{\n\t\tconst {id} = event.getData();\n\n\t\tif (Number(id) === Number(projectId))\n\t\t{\n\t\t\tthis.showFinalStep(projectId);\n\t\t}\n\t}\n\n\tshowFinalStep(projectId)\n\t{\n\t\tconst target = this.grid.getRowNodeById(projectId).querySelector('.tasks-projects-text');\n\n\t\tthis.guide.steps.push(new Step({\n\t\t\ttarget,\n\t\t\tcursorMode: true,\n\t\t\ttargetEvent: () => {\n\t\t\t\tBX.SidePanel.Instance.open(target.href);\n\t\t\t\tsetTimeout(() => this.guide.close(), 1000);\n\t\t\t},\n\t\t}));\n\t\tthis.finish();\n\t\tthis.showNextStep();\n\t}\n\n\tstart()\n\t{\n\t\tthis.projectAddButton.href = Uri.addParam(this.projectAddButton.href, {\n\t\t\tPROJECT_OPTIONS: {\n\t\t\t\ttourId: this.guide.getId(),\n\t\t\t},\n\t\t});\n\t\tthis.showNextStep();\n\t}\n\n\tfinish()\n\t{\n\t\tBX.ajax.runAction('tasks.tourguide.firstprojectcreation.finish');\n\t}\n\n\tshowNextStep()\n\t{\n\t\tsetTimeout(() => this.guide.showNextStep(), 1000);\n\t}\n}","import {FirstProjectCreationTourGuide} from './first-project-creation-tour-guide';\n\nexport class TourGuideController\n{\n\tconstructor(options)\n\t{\n\t\tthis.tours = options.tours;\n\n\t\tthis.initGuides(options);\n\t}\n\n\tinitGuides(options)\n\t{\n\t\tif (this.tours.firstProjectCreation.show)\n\t\t{\n\t\t\tthis.firstProjectCreationTourGuide = new FirstProjectCreationTourGuide(options);\n\t\t\tthis.firstProjectCreationTourGuide.start();\n\t\t}\n\t}\n}","import {PULL as Pull} from 'pull.client';\n\nimport {ActionsController} from './actions-controller';\nimport {Filter} from './filter/filter';\nimport {MembersPopup} from './members-popup';\nimport {PullController} from './pull-controller';\nimport {TourGuideController} from './tourguide/tour-guide-controller';\n\nclass Controller\n{\n\tconstructor(options)\n\t{\n\t\tthis.membersPopup = new MembersPopup(options);\n\t\tthis.filter = new Filter(options);\n\t\tthis.tourGuideController = new TourGuideController(options);\n\n\t\tActionsController.setOptions(options);\n\n\t\tthis.initPull(options);\n\t}\n\n\tinitPull(options)\n\t{\n\t\tthis.pullController = new PullController(options);\n\n\t\tthis.pullClient = Pull;\n\t\tthis.pullClient.subscribe(this.pullController);\n\t}\n\n\tgetMembersPopup(): MembersPopup\n\t{\n\t\treturn this.membersPopup;\n\t}\n\n\tgetFilter(): Filter\n\t{\n\t\treturn this.filter;\n\t}\n}\n\nexport {Controller, ActionsController};"],"names":["CellActionState","namespace","Reflection","ActionsController","options","actionsPanel","action","groupId","Promise","resolve","reject","BX","ajax","runComponentAction","mode","data","ids","getActionIds","signedParameters","then","catch","hideActionsPanel","unselectRows","id","undefined","selected","getSelectedRows","length","map","row","getDataset","getGridInstance","getRows","getSelected","button","Dom","hasClass","addClass","url","getAttribute","method","dataType","ajax_request","save","sessid","bitrix_sessid","onsuccess","removeClass","onfailure","userGroupRelationId","max_count","checked_0","type_0","id_0","type","result","console","log","sendCancelRequest","hidePanel","unselectAll","Main","gridManager","getById","gridId","instance","event","getData","ACTIVE","doAction","getId","SHOW_BY_HOVER","SidePanel","Instance","open","groupTaskPath","replace","Filter","filter","filterManager","filterId","init","bindEvents","updateFields","EventEmitter","subscribe","onFilterApply","bind","onCounterClick","fields","getFilterFieldsValues","counter","toggleByField","filterField","filterValue","field","Object","keys","includes","Type","isArray","value","isFilteredByField","name","isFilteredByFieldValue","getApi","extendFilter","getFilterFields","forEach","getFields","deleteField","getSearch","apply","MembersPopup","heads","Loc","getMessage","members","bindNode","isPopupShown","popup","destroy","currentPage","innerContainer","renderedUsers","PopupWindowManager","create","className","bindElement","autoHide","closeByEsc","lightShadow","bindOptions","position","animationOptions","show","close","events","onPopupDestroy","loader","onPopupClose","onAfterPopupShow","popupContainer","renderContainer","loaderNode","querySelector","contentContainer","appendChild","showLoader","showUsers","popupScroll","Tag","render","titles","isDomNode","Event","area","target","scrollTop","scrollHeight","offsetHeight","unbindAll","page","response","renderUsers","hasChildNodes","innerText","hideLoader","users","values","user","indexOf","ID","push","getAvatar","isStringFilled","Loader","size","hide","Grid","highlighted","pinned","pageSize","grid","getInstanceById","stub","gridStub","sort","eventsToEmit","items","Map","fillItems","colorPinnedRows","onColumnSort","onParamsUpdated","column","sort_by","sort_order","newItems","flipped","reduce","obj","clearItems","params","columns","content","actions","cellActions","counters","moveParams","rowBefore","insertAfter","rowAfter","insertBefore","append","getCurrentPage","lastRowId","getLastRowId","removeItem","remove","getRowNodeById","showMoreButton","hideStub","getRealtime","addRow","onProjectGridRowAdd","emit","getRowById","setCellsContent","setActions","setCellActions","setCounters","resetRows","moveRow","highlightRow","highlightParams","bindOnRowEvents","isRowExist","removeRow","rowId","skip","node","isPinned","classes","setTimeout","getNode","getIsPinned","reset","getBodyChild","firstRow","getBodyFirstChild","getRowProperty","lastRow","getBodyLastChild","pinnedRows","propertyName","getContainer","ACTIVITY_DATE","Array","from","has","parseInt","set","delete","addItem","clear","showStub","hideEmptyStub","getMoreButton","style","display","PullController","add","update","userAdd","userUpdate","userRemove","pinChanged","timer","counterData","userOptions","project_add","onProjectAdd","project_update","onProjectUpdate","project_remove","onProjectRemove","project_user_add","onProjectUserAdd","project_user_update","onProjectUserUpdate","project_user_remove","onProjectUserRemove","project_user_option_changed","onProjectUserOptionChanged","project_counter","onProjectCounter","project_read_all","onProjectCommentsReadAll","comment_read_all","getLastPinnedRowId","getFirstRowId","checkExistence","onCheckExistenceSuccess","error","GROUP_ID","OPTION","onProjectPinChanged","moveToDirectPlace","PROJECT_ID","EVENT","counterEvents","freeCounterQueue","movingProjectEvents","updateCounter","getItems","groupIds","group","isActivityRealtimeMode","updateRow","updateItem","rowData","hasItem","projectBefore","projectAfter","rowIds","projects","projectId","FirstProjectCreationTourGuide","popupData","tours","firstProjectCreation","projectAddButton","guide","Guide","steps","title","text","article","onEvents","onGuideFinish","onProjectSliderMessage","href","Uri","removeParam","sliderEvent","getEventId","sliderEventData","code","projectOptions","tourId","showFinalStep","onProjectRowAdded","Number","Step","cursorMode","targetEvent","finish","showNextStep","addParam","PROJECT_OPTIONS","runAction","TourGuideController","initGuides","firstProjectCreationTourGuide","start","Controller","membersPopup","tourGuideController","setOptions","initPull","pullController","pullClient","Pull"],"mappings":"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"}