this.BX=this.BX||{};(function(e,t,i){"use strict";let s=e=>e,a,l,n,r;var d=babelHelpers.classPrivateFieldLooseKey("instance");var o=babelHelpers.classPrivateFieldLooseKey("popup");var p=babelHelpers.classPrivateFieldLooseKey("isBitrix24");var c=babelHelpers.classPrivateFieldLooseKey("isAdmin");var v=babelHelpers.classPrivateFieldLooseKey("isRequisite");var g=babelHelpers.classPrivateFieldLooseKey("isMainPageAvailable");var h=babelHelpers.classPrivateFieldLooseKey("getWidgetPopup");var b=babelHelpers.classPrivateFieldLooseKey("load");class w{constructor(e){Object.defineProperty(this,b,{value:m});Object.defineProperty(this,h,{value:u});Object.defineProperty(this,o,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:false});Object.defineProperty(this,c,{writable:true,value:false});Object.defineProperty(this,v,{writable:true,value:false});Object.defineProperty(this,g,{writable:true,value:false});babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e["isBitrix24"];babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e["isAdmin"];babelHelpers.classPrivateFieldLooseBase(this,v)[v]=e["isRequisite"];babelHelpers.classPrivateFieldLooseBase(this,g)[g]=e["isMainPageAvailable"]}showOnce(e){const t=babelHelpers.classPrivateFieldLooseBase(this,h)[h]().getPopup();t.setBindElement(e);t.show();const i=t.getPopupContainer();if(i.getBoundingClientRect().left<30){i.style.left="30px"}(typeof BX.Intranet.SettingsWidget!=="undefined"?Promise.resolve():babelHelpers.classPrivateFieldLooseBase(this,b)[b]()).then((()=>{if(typeof BX.Intranet.SettingsWidget!=="undefined"){BX.Intranet.SettingsWidget.bindAndShow(e)}}))}getHeaderSkeleton(){return i.Tag.render(a||(a=s`
			<div class="intranet-widget-skeleton__header">
				<div style="max-width: 95px; height: 8px;" class="intranet-widget-skeleton__line"></div>
			</div>
		`))}getItemSkeleton(){return i.Tag.render(l||(l=s`
			<div class="intranet-widget-skeleton__row">
				<div class="intranet-widget-skeleton__item">
					<div style="width: 26px; height: 26px; margin-right: 8px;" class="intranet-widget-skeleton__circle"></div>
					<div style="max-width: 130px;" class="intranet-widget-skeleton__line"></div>
					<div style="width: 12px; height: 12px; margin-left: auto;" class="intranet-widget-skeleton__circle"></div>
				</div>
			</div>
		`))}getSplitItemSkeleton(){return i.Tag.render(n||(n=s`
			<div class="intranet-widget-skeleton__row">
				<div class="intranet-widget-skeleton__item">
					<div style="width: 26px; height: 26px; margin-right: 8px;" class="intranet-widget-skeleton__circle"></div>
					<div style="max-width: 75px;" class="intranet-widget-skeleton__line"></div>
					<div style="width: 12px; height: 12px; margin-left: auto;" class="intranet-widget-skeleton__circle"></div>
				</div>
				<div class="intranet-widget-skeleton__item">
					<div style="width: 26px; height: 26px; margin-right: 8px;" class="intranet-widget-skeleton__circle"></div>
					<div style="max-width: 75px;" class="intranet-widget-skeleton__line"></div>
					<div style="width: 12px; height: 12px; margin-left: auto;" class="intranet-widget-skeleton__circle"></div>
				</div>
			</div>
		`))}getFooterSkeleton(){return i.Tag.render(r||(r=s`
			<div class="intranet-widget-skeleton__footer">
				<div style="max-width: 40px;" class="intranet-widget-skeleton__line"></div>
				<div style="max-width: 40px;" class="intranet-widget-skeleton__line"></div>
				<div style="max-width: 40px;" class="intranet-widget-skeleton__line"></div>
			</div>
		`))}static init(e){if(!babelHelpers.classPrivateFieldLooseBase(this,d)[d]){babelHelpers.classPrivateFieldLooseBase(this,d)[d]=new this(e)}return babelHelpers.classPrivateFieldLooseBase(this,d)[d]}}function u(){if(babelHelpers.classPrivateFieldLooseBase(this,o)[o]){return babelHelpers.classPrivateFieldLooseBase(this,o)[o]}const e=new t.PopupComponentsMaker({width:374});const s=e.getPopup().getPopupContainer();i.Dom.clean(s);i.Dom.addClass(s,"intranet-widget-skeleton__wrap");i.Dom.append(this.getHeaderSkeleton(),s);if(babelHelpers.classPrivateFieldLooseBase(this,v)[v]){i.Dom.append(this.getItemSkeleton(),s)}if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]){i.Dom.append(this.getItemSkeleton(),s)}if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]){i.Dom.append(this.getSplitItemSkeleton(),s)}if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]){i.Dom.append(this.getItemSkeleton(),s)}i.Dom.append(this.getItemSkeleton(),s);i.Dom.append(this.getFooterSkeleton(),s);babelHelpers.classPrivateFieldLooseBase(this,o)[o]=e;return e}function m(){return new Promise((e=>{i.ajax.runComponentAction("bitrix:intranet.settings.widget","getWidgetComponent",{mode:"class"}).then((e=>new Promise((t=>{const s=e.data.assets?e.data.assets.css:[];const a=e.data.assets?e.data.assets.js:[];BX.load(s,(()=>{BX.loadScript(a,(()=>{i.Runtime.html(null,e.data.html).then(t)}))}))})))).then((()=>{if(typeof BX.Intranet.SettingsWidget!=="undefined"){setTimeout((()=>{BX.Intranet.SettingsWidget.bindWidget(babelHelpers.classPrivateFieldLooseBase(this,h)[h]());e()}),0)}}))}))}Object.defineProperty(w,d,{writable:true,value:void 0});e.SettingsWidgetLoader=w})(this.BX.Intranet=this.BX.Intranet||{},BX.UI,BX);
//# sourceMappingURL=script.map.js