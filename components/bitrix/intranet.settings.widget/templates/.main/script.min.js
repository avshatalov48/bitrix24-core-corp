this.BX=this.BX||{};(function(e,s,t,i,a,l,r){"use strict";let n=e=>e,o,c;var d=babelHelpers.classPrivateFieldLooseKey("companyId");var b=babelHelpers.classPrivateFieldLooseKey("requisiteId");var v=babelHelpers.classPrivateFieldLooseKey("isConnected");var p=babelHelpers.classPrivateFieldLooseKey("isPublic");var g=babelHelpers.classPrivateFieldLooseKey("publicUrl");var u=babelHelpers.classPrivateFieldLooseKey("editUrl");var h=babelHelpers.classPrivateFieldLooseKey("requisiteElement");var P=babelHelpers.classPrivateFieldLooseKey("requisitesPopup");var _=babelHelpers.classPrivateFieldLooseKey("requisiteButton");var L=babelHelpers.classPrivateFieldLooseKey("updateOptions");var H=babelHelpers.classPrivateFieldLooseKey("updateElement");var T=babelHelpers.classPrivateFieldLooseKey("getRequisiteSettingsButton");var B=babelHelpers.classPrivateFieldLooseKey("getRequisitesPopup");var F=babelHelpers.classPrivateFieldLooseKey("getButtonText");var I=babelHelpers.classPrivateFieldLooseKey("getRequisiteButton");var f=babelHelpers.classPrivateFieldLooseKey("handleButtonOnclick");var E=babelHelpers.classPrivateFieldLooseKey("handleOpenRequisite");var y=babelHelpers.classPrivateFieldLooseKey("handleCreateLanding");var w=babelHelpers.classPrivateFieldLooseKey("createLanding");var m=babelHelpers.classPrivateFieldLooseKey("handleEditRequisite");var N=babelHelpers.classPrivateFieldLooseKey("handleCreateCompany");var S=babelHelpers.classPrivateFieldLooseKey("getRequisites");class O extends a.EventEmitter{constructor(e){super();Object.defineProperty(this,S,{value:M});Object.defineProperty(this,N,{value:U});Object.defineProperty(this,m,{value:x});Object.defineProperty(this,w,{value:$});Object.defineProperty(this,y,{value:D});Object.defineProperty(this,E,{value:k});Object.defineProperty(this,f,{value:W});Object.defineProperty(this,I,{value:K});Object.defineProperty(this,F,{value:G});Object.defineProperty(this,B,{value:C});Object.defineProperty(this,T,{value:j});Object.defineProperty(this,H,{value:A});Object.defineProperty(this,L,{value:R});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,g,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,_,{writable:true,value:void 0});if(e){babelHelpers.classPrivateFieldLooseBase(this,L)[L](e);top.BX.addCustomEvent("onLocalStorageSet",(e=>{var s;const t=(s=e==null?void 0:e.key)!=null?s:null;if(t==="onCrmEntityUpdate"||t==="onCrmEntityCreate"||t==="BX.Crm.RequisiteSliderDetails:onSave"){babelHelpers.classPrivateFieldLooseBase(this,S)[S]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,H)[H]()}))}}))}}getElement(){if(!babelHelpers.classPrivateFieldLooseBase(this,h)[h]){babelHelpers.classPrivateFieldLooseBase(this,h)[h]=l.Tag.render(o||(o=n`
				<div class="intranet-settings-widget__business-card intranet-settings-widget_box">
					<div class="intranet-settings-widget__business-card_head intranet-settings-widget_inner">
						<div class="intranet-settings-widget_icon-box --gray">
							<div class="ui-icon-set --customer-card-1"></div>
						</div>
						<div class="intranet-settings-widget__title" data-role="requisite-widget-title">
							${0}
						</div>
						<i class="ui-icon-set --help" onclick="BX.Helper.show('redirect=detail&code=18213326')"></i>
					</div>

					<div class="intranet-settings-widget__business-card_footer">
						${0}
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,v)[v]?l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_REQUISITE_SITE_TITLE"):l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_REQUISITE_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,I)[I]().getContainer(),babelHelpers.classPrivateFieldLooseBase(this,d)[d]?babelHelpers.classPrivateFieldLooseBase(this,T)[T]():"")}return babelHelpers.classPrivateFieldLooseBase(this,h)[h]}}function R(e){var s,t;babelHelpers.classPrivateFieldLooseBase(this,d)[d]=(s=e.companyId)!=null?s:0;babelHelpers.classPrivateFieldLooseBase(this,b)[b]=(t=e.requisiteId)!=null?t:0;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=l.Type.isBoolean(e.isConnected)?e.isConnected:false;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=l.Type.isBoolean(e.isPublic)?e.isPublic:false;babelHelpers.classPrivateFieldLooseBase(this,g)[g]=l.Type.isString(e.publicUrl)?e.publicUrl:"";babelHelpers.classPrivateFieldLooseBase(this,u)[u]=l.Type.isString(e.editUrl)?e.editUrl:""}function A(){const e=this.getElement();babelHelpers.classPrivateFieldLooseBase(this,h)[h]=null;babelHelpers.classPrivateFieldLooseBase(this,_)[_]=null;l.Dom.replace(e,this.getElement())}function j(){const e=()=>{babelHelpers.classPrivateFieldLooseBase(this,B)[B]().show()};return l.Tag.render(c||(c=n`
			<span onclick="${0}" class="intranet-settings-widget__requisite-btn">
				<i class='ui-icon-set --more-information'></i>
			</span>
		`),e)}function C(){if(!babelHelpers.classPrivateFieldLooseBase(this,P)[P]){const e=()=>{if(BX.clipboard.copy(babelHelpers.classPrivateFieldLooseBase(this,g)[g])){BX.UI.Notification.Center.notify({content:l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_COPIED_POPUP"),position:"top-left",autoHideDelay:3e3})}};const s=()=>{window.open(babelHelpers.classPrivateFieldLooseBase(this,u)[u],"_blank");babelHelpers.classPrivateFieldLooseBase(this,P)[P].close();xe.close()};let t=null;if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]){t={html:`\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t\t<div class="ui-icon-set --link-3"></div> \n\t\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_COPY_LINK_BUTTON")}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,onclick:e}}let i=null;if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]){i={html:`\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t\t<div class="ui-icon-set --paint-1"></div> \n\t\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${l.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_CUTAWAY_SITE_BUTTON")}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,onclick:s}}const a=()=>{if(babelHelpers.classPrivateFieldLooseBase(this,P)[P]){babelHelpers.classPrivateFieldLooseBase(this,P)[P].close()}xe.close();BX.SidePanel.Instance.open(`/crm/company/details/${babelHelpers.classPrivateFieldLooseBase(this,d)[d]}/?init_mode=edit&rqedit=y`)};const r={html:`\n\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t<div class="ui-icon-set --pencil-40"></div>\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${l.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_REQUISITE_BUTTON")}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`,onclick:a};const n=240;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=BX.PopupMenu.create("requisites-settings",event.currentTarget,[t,r,i],{closeByEsc:true,autoHide:true,width:n,offsetLeft:-72,angle:{offset:n/2-15},events:{onShow:()=>{setTimeout((()=>{l.Event.bindOnce(xe.getInstance().getWidget().getPopup().getPopupContainer(),"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,P)[P].close()}))}),0)}}})}return babelHelpers.classPrivateFieldLooseBase(this,P)[P]}function G(){if(babelHelpers.classPrivateFieldLooseBase(this,v)[v]){return l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_REDIRECT_TO_REQUISITE_BUTTON")}if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]>0&&babelHelpers.classPrivateFieldLooseBase(this,b)[b]>0){return l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_CREATE_LANDING")}return l.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_REQUISITE_BUTTON")}function K(){if(!babelHelpers.classPrivateFieldLooseBase(this,_)[_]){babelHelpers.classPrivateFieldLooseBase(this,_)[_]=new BX.UI.Button({id:"requisite-btn",text:babelHelpers.classPrivateFieldLooseBase(this,F)[F](),noCaps:true,onclick:babelHelpers.classPrivateFieldLooseBase(this,f)[f].bind(this),className:"ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light"})}return babelHelpers.classPrivateFieldLooseBase(this,_)[_]}function W(){if(babelHelpers.classPrivateFieldLooseBase(this,v)[v]){babelHelpers.classPrivateFieldLooseBase(this,E)[E]()}else if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]>0){if(babelHelpers.classPrivateFieldLooseBase(this,b)[b]>0){babelHelpers.classPrivateFieldLooseBase(this,y)[y]()}else{babelHelpers.classPrivateFieldLooseBase(this,m)[m]()}}else{babelHelpers.classPrivateFieldLooseBase(this,N)[N]()}}function k(){xe.close();window.open(babelHelpers.classPrivateFieldLooseBase(this,g)[g],"_blank")}function D(){babelHelpers.classPrivateFieldLooseBase(this,I)[I]().setWaiting(true);babelHelpers.classPrivateFieldLooseBase(this,w)[w]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,P)[P]=null;babelHelpers.classPrivateFieldLooseBase(this,_)[_]=null;babelHelpers.classPrivateFieldLooseBase(this,H)[H]();if(!babelHelpers.classPrivateFieldLooseBase(this,p)[p]){const e=new Popup("public-landing-error",this.getElement().querySelector('[data-role="requisite-widget-title"]'),{autoHide:true,closeByEsc:true,angle:true,darkMode:true,content:l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_CREATE_LANDING_ERROR"),events:{onShow:()=>{setTimeout((()=>{l.Event.bindOnce(xe.getInstance().getWidget().getPopup().getPopupContainer(),"click",(()=>{e.close()}))}),0)},onClose:()=>{e.destroy()}}});e.show()}}))}function $(){return new Promise((e=>{l.ajax.runComponentAction("bitrix:intranet.settings.widget","createRequisiteLanding",{mode:"class"}).then((({data:{isConnected:s,isPublic:t,publicUrl:i,editUrl:a}})=>{babelHelpers.classPrivateFieldLooseBase(this,v)[v]=s;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=t;babelHelpers.classPrivateFieldLooseBase(this,g)[g]=i;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=a;e()}))}))}function x(){xe.close();BX.SidePanel.Instance.open(`/crm/company/details/${babelHelpers.classPrivateFieldLooseBase(this,d)[d]}/?init_mode=edit&rqedit=y`)}function U(){xe.close();BX.SidePanel.Instance.open("/crm/company/details/0/?mycompany=y&rqedit=y")}function M(){return new Promise((e=>{l.ajax.runComponentAction("bitrix:intranet.settings.widget","getRequisites",{mode:"class"}).then((({data:{requisite:s}})=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L](s);e()}))}))}let X=e=>e,q,Q,Y,z,V,J,Z,ee,se,te,ie,ae,le,re,ne;var oe=babelHelpers.classPrivateFieldLooseKey("widgetPopup");var ce=babelHelpers.classPrivateFieldLooseKey("target");var de=babelHelpers.classPrivateFieldLooseKey("otp");var be=babelHelpers.classPrivateFieldLooseKey("instance");var ve=babelHelpers.classPrivateFieldLooseKey("marketUrl");var pe=babelHelpers.classPrivateFieldLooseKey("theme");var ge=babelHelpers.classPrivateFieldLooseKey("holding");var ue=babelHelpers.classPrivateFieldLooseKey("holdingWidget");var he=babelHelpers.classPrivateFieldLooseKey("isBitrix24");var Pe=babelHelpers.classPrivateFieldLooseKey("isFreeLicense");var _e=babelHelpers.classPrivateFieldLooseKey("isAdmin");var Le=babelHelpers.classPrivateFieldLooseKey("requisite");var He=babelHelpers.classPrivateFieldLooseKey("requisiteSection");var Te=babelHelpers.classPrivateFieldLooseKey("settingsUrl");var Be=babelHelpers.classPrivateFieldLooseKey("isRenameable");var Fe=babelHelpers.classPrivateFieldLooseKey("mainPage");var Ie=babelHelpers.classPrivateFieldLooseKey("setOptions");var fe=babelHelpers.classPrivateFieldLooseKey("setHoldingOptions");var Ee=babelHelpers.classPrivateFieldLooseKey("getItemsList");var ye=babelHelpers.classPrivateFieldLooseKey("drawItemsList");var we=babelHelpers.classPrivateFieldLooseKey("getLinkHeaderIcon");var me=babelHelpers.classPrivateFieldLooseKey("getEditHeaderIcon");var Ne=babelHelpers.classPrivateFieldLooseKey("getHeader");var Se=babelHelpers.classPrivateFieldLooseKey("applyTheme");var Oe=babelHelpers.classPrivateFieldLooseKey("getFooter");var Re=babelHelpers.classPrivateFieldLooseKey("prepareElement");var Ae=babelHelpers.classPrivateFieldLooseKey("getMainPageElement");var je=babelHelpers.classPrivateFieldLooseKey("getRequisitesElement");var Ce=babelHelpers.classPrivateFieldLooseKey("getHoldingsElement");var Ge=babelHelpers.classPrivateFieldLooseKey("getHoldingWidget");var Ke=babelHelpers.classPrivateFieldLooseKey("getEmptyHoldingsElement");var We=babelHelpers.classPrivateFieldLooseKey("getSecurityAndSettingsElement");var ke=babelHelpers.classPrivateFieldLooseKey("getSecurityElement");var De=babelHelpers.classPrivateFieldLooseKey("getGeneralSettingsElement");var $e=babelHelpers.classPrivateFieldLooseKey("getMigrateElement");class xe extends a.EventEmitter{constructor(e){super();Object.defineProperty(this,$e,{value:os});Object.defineProperty(this,De,{value:ns});Object.defineProperty(this,ke,{value:rs});Object.defineProperty(this,We,{value:ls});Object.defineProperty(this,Ke,{value:as});Object.defineProperty(this,Ge,{value:is});Object.defineProperty(this,Ce,{value:ts});Object.defineProperty(this,je,{value:ss});Object.defineProperty(this,Ae,{value:es});Object.defineProperty(this,Re,{value:Ze});Object.defineProperty(this,Oe,{value:Je});Object.defineProperty(this,Se,{value:Ve});Object.defineProperty(this,Ne,{value:ze});Object.defineProperty(this,me,{value:Ye});Object.defineProperty(this,we,{value:Qe});Object.defineProperty(this,ye,{value:qe});Object.defineProperty(this,Ee,{value:Xe});Object.defineProperty(this,fe,{value:Me});Object.defineProperty(this,Ie,{value:Ue});Object.defineProperty(this,oe,{writable:true,value:void 0});Object.defineProperty(this,ce,{writable:true,value:void 0});Object.defineProperty(this,de,{writable:true,value:void 0});Object.defineProperty(this,ve,{writable:true,value:void 0});Object.defineProperty(this,pe,{writable:true,value:void 0});Object.defineProperty(this,ge,{writable:true,value:null});Object.defineProperty(this,ue,{writable:true,value:void 0});Object.defineProperty(this,he,{writable:true,value:false});Object.defineProperty(this,Pe,{writable:true,value:false});Object.defineProperty(this,_e,{writable:true,value:void 0});Object.defineProperty(this,Le,{writable:true,value:void 0});Object.defineProperty(this,He,{writable:true,value:void 0});Object.defineProperty(this,Te,{writable:true,value:void 0});Object.defineProperty(this,Be,{writable:true,value:void 0});Object.defineProperty(this,Fe,{writable:true,value:void 0});this.setEventNamespace("BX.Intranet.SettingsWidget");babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=e.marketUrl;babelHelpers.classPrivateFieldLooseBase(this,he)[he]=e.isBitrix24;babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]=e.isFreeLicense;babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]=e.isAdmin;babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]=e.requisite;babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]=e.settingsPath;babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]=e.isRenameable;babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]=e.mainPage;babelHelpers.classPrivateFieldLooseBase(this,He)[He]=new O(e.requisite);babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie](e)}setTarget(e){babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=e;return this}setWidgetPopup(e){babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=e;babelHelpers.classPrivateFieldLooseBase(this,oe)[oe].getPopup().subscribe("onClose",(()=>{l.Event.unbindAll(this.getWidget().getPopup().getPopupContainer(),"click")}));babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,ye)[ye]()}));return this}static bindWidget(e){const s=this.getInstance();if(s){s.setWidgetPopup(e)}return s}static bindAndShow(e){const s=this.getInstance();if(s){l.Event.unbindAll(e);l.Event.bind(e,"click",s.toggle.bind(s,e));s.show(e)}return s}static init(e){if(babelHelpers.classPrivateFieldLooseBase(this,be)[be]===null){babelHelpers.classPrivateFieldLooseBase(this,be)[be]=new this(e)}return babelHelpers.classPrivateFieldLooseBase(this,be)[be]}static getInstance(){return babelHelpers.classPrivateFieldLooseBase(this,be)[be]}static close(){const e=this.getInstance();if(e){e.getWidget().close()}}toggle(e){const s=this.getWidget().getPopup();if(s.isShown()){s.close()}else{this.show(e)}}show(e){const s=this.getWidget().getPopup();s.setBindElement(e);s.show();if(s.getPopupContainer().getBoundingClientRect().left<30){l.Dom.style(s.getPopupContainer(),{left:"30px"})}this.setTarget(e)}getWidget(){return babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]}}function Ue(e){e.theme?babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=e.theme:null;e.otp?babelHelpers.classPrivateFieldLooseBase(this,de)[de]=e.otp:null;e.holding?babelHelpers.classPrivateFieldLooseBase(this,fe)[fe](e.holding):null}function Me(e){var s,t,i,a;if(!l.Type.isPlainObject(e)){babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=null;return}babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]={isHolding:(s=e.isHolding)!=null?s:false,affiliate:(t=e.affiliate)!=null?t:null,canBeHolding:(i=e.canBeHolding)!=null?i:false,canBeAffiliate:(a=e.canBeAffiliate)!=null?a:false}}function Xe(e=false){if(e===true||typeof babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]==="undefined"){return new Promise((e=>{l.ajax.runComponentAction("bitrix:intranet.settings.widget","getData",{mode:"class"}).then((({data:{theme:s,otp:t,holding:i}})=>{babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=s;babelHelpers.classPrivateFieldLooseBase(this,de)[de]=t;babelHelpers.classPrivateFieldLooseBase(this,fe)[fe](i);e()}))}))}return Promise.resolve()}function qe(){const e=this.getWidget().getPopup().getPopupContainer();l.Dom.clean(e);l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne](),e);const s=[babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]&&babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]?babelHelpers.classPrivateFieldLooseBase(this,je)[je]():null,babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe].isAvailable?babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae]():null,babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]?babelHelpers.classPrivateFieldLooseBase(this,We)[We]():null,babelHelpers.classPrivateFieldLooseBase(this,he)[he]?babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]():null,babelHelpers.classPrivateFieldLooseBase(this,$e)[$e]()];s.forEach((s=>{l.Dom.append(s,e)}));l.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](),e)}function Qe(){const e=()=>{if(BX.clipboard.copy(window.location.origin)){BX.UI.Notification.Center.notify({content:l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_LINK_COPIED_POPUP"),position:"top-left",autoHideDelay:3e3})}};return l.Tag.render(q||(q=X`<span class='ui-icon-set --link-3 intranet-settings-widget__header-btn' onclick="${0}"></span>`),e)}function Ye(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]+"?analyticContext=widget_settings_settings&page=portal&option=subDomainName")};return l.Tag.render(Q||(Q=X`<span class='ui-icon-set --pencil-40 intranet-settings-widget__header-btn' onclick="${0}"></span>`),e)}function ze(){const e=l.Tag.render(Y||(Y=X`
				<div class="intranet-settings-widget__header">
					<div class="intranet-settings-widget__header_inner">
						<span class="intranet-settings-widget__header-name">${0}</span>
						${0}
					</div>
				</div>
			`),window.location.host,babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]?babelHelpers.classPrivateFieldLooseBase(this,me)[me]():babelHelpers.classPrivateFieldLooseBase(this,we)[we]());babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](e,babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]);const s=new r.PopupComponentsMakerItem({withoutBackground:true,html:e}).getContainer();l.Dom.addClass(s,"--widget-header");a.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(({data:{theme:s}})=>{babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](e,s)}));return s}function Ve(e,s){const t=`url('${l.Text.encode(s.previewImage)}')`;l.Dom.style(e,"backgroundImage",t);l.Dom.removeClass(e,"bitrix24-theme-dark bitrix24-theme-light");const i=String(s.id).indexOf("dark:")===0?"bitrix24-theme-dark":"bitrix24-theme-light";l.Dom.addClass(e,i)}function Je(){const e=()=>{this.getWidget().close();BX.UI.InfoHelper.show("info_implementation_request")};const s=l.Tag.render(z||(z=X`
			<span class="intranet-settings-widget__footer-item" onclick="${0}">
				${0}
			</span>
		`),e,l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_ORDER_PARTNER_LINK_MSGVER_1"));const t=()=>{if(top.BX.Helper){this.getWidget().close();top.BX.Helper.show("redirect=detail&code=18371844")}};const i=()=>{if(top.BX.Helper){this.getWidget().close();if(babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]){BX.UI.InfoHelper.show("limit_support_bitrix")}else{BX.Helper.show("redirect=detail&code=12925062")}}};return l.Tag.render(V||(V=X`
				<div class="intranet-settings-widget__footer">
					${0}
					<span class="intranet-settings-widget__footer-item" onclick="${0}">
						${0}
					</span>
					<span class="intranet-settings-widget__footer-item" onclick="${0}">
						${0}
					</span>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,he)[he]?s:"",t,l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_WHERE_TO_BEGIN_LINK"),i,l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SUPPORT_BUTTON"))}function Ze(e){const s=this.getWidget().getItem({html:e});const t=s.getContainer();l.Dom.addClass(t,"--widget-item");return t}function es(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe].settingsPath);BX.UI.Analytics.sendData({tool:"landing",category:"vibe",event:"open_settings_main",c_sub_section:"from_widget_vibe_point"})};const t=new s.Label({text:l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_LABEL_NEW"),customClass:"ui-label-new",size:s.LabelSize.SM,fill:true});const i=l.Tag.render(J||(J=X`
			<div class="intranet-settings-widget__label-new">
				${0}
			</div>
		`),t.render());const a=l.Tag.render(Z||(Z=X`
			<div onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box --green">
						<div class="ui-icon-set --home-page"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
				${0}
			</div>
		`),e,l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_MAIN_PAGE_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe].isNew?i:null);return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](a)}function ss(){return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](babelHelpers.classPrivateFieldLooseBase(this,He)[He].getElement())}function ts(){if(babelHelpers.classPrivateFieldLooseBase(this,he)[he]!==true||babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]===null){return null}if(!l.Type.isPlainObject(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].affiliate)){return babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]()}const e=babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].affiliate;const s=()=>{this.getWidget().close();babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]().show(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce])};const t=e.profilePhoto?`background: url('${encodeURI(l.Text.encode(e.profilePhoto))}') no-repeat center; background-size: cover;`:"";const i=l.Tag.render(ee||(ee=X`
		<div class="intranet-settings-widget__branch" onclick="${0}">
			<div class="intranet-settings-widget__branch-icon_box">
				<div class="ui-icon-set intranet-settings-widget__branch-icon --filial-network"></div>
			</div>
			<div class="intranet-settings-widget__branch_content">
				<div class="intranet-settings-widget__branch-title">
					${0}
				</div>
				<div class="intranet-settings-widget__title">
					${0}
				</div>
			</div>
			<div class="intranet-settings-widget__branch-btn_box">
				<button class="ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light">
					${0}
				</button>
			</div>
		</div>
		`),s,e.isHolding?l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_MAIN_BRANCH"):l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECONDARY_BRANCH"),e.name,l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_BRANCHES"));return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](i)}function is(){if(!babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]){babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]=BX.Intranet.HoldingWidget.getInstance();const e=()=>{babelHelpers.classPrivateFieldLooseBase(this,ue)[ue].getWidget().close();this.show()};const s=l.Tag.render(se||(se=X`
				<div class="intranet-settings-widget__close-btn">
					<div onclick="${0}" class="ui-icon-set --arrow-left intranet-settings-widget__close-btn_icon"></div>
					<div class="intranet-settings-widget__close-btn_name">${0}</div>
				</div>
			`),e,l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_BRANCH_LIST"));babelHelpers.classPrivateFieldLooseBase(this,ue)[ue].getWidget().getPopup().getContentContainer().prepend(s)}return babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]}function as(){if(!l.Type.isPlainObject(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge])){return null}const e=babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]?l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_NETWORK"):l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_NETWORK_UNAVAILABLE");const s=babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]?l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_SETTINGS"):l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_ABOUT");const t=()=>{this.getWidget().close();if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].canBeHolding){babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]().show(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce])}else{BX.UI.InfoHelper.show("limit_office_multiple_branches")}};const i=l.Tag.render(te||(te=X`
			<div class="intranet-settings-widget__branch-lock-icon_box">
				<div class="ui-icon-set intranet-settings-widget__branch-lock-icon --lock"></div>
			</div>
		`));const a=l.Tag.render(ie||(ie=X`
			<div class="intranet-settings-widget__branch" onclick="${0}">
				<div class="intranet-settings-widget__branch-icon_box">
					<div class="ui-icon-set intranet-settings-widget__branch-icon --filial-network"></div>
					${0}
				</div>
				<div class="intranet-settings-widget__branch_content">
					<div class="intranet-settings-widget__title">${0}</div>
				</div>
				<div class="intranet-settings-widget__branch-btn_box">
					<button class="ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light">${0}</button>
				</div>
			</div>
		`),t,!babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].canBeHolding?i:"",e,s);return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](a)}function ls(){return l.Tag.render(ae||(ae=X`
			<div class="intranet-settings-widget_inline-box">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,ke)[ke](),babelHelpers.classPrivateFieldLooseBase(this,De)[De]())}function rs(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]+"?page=security&analyticContext=widget_settings_settings")};const s=l.Tag.render(le||(le=X`
			<span onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box ${0}">
						<div class="ui-icon-set --shield"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</span>
		`),e,babelHelpers.classPrivateFieldLooseBase(this,de)[de].IS_ACTIVE==="Y"?"--green":"--yellow",l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_SECURITY_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](s)}function ns(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]+"?analyticContext=widget_settings_settings")};const s=l.Tag.render(re||(re=X`
			<span onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box --gray">
						<div class="ui-icon-set --settings-2"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</span>
		`),e,l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_SETTINGS_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](s)}function os(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(`${babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]}category/migration/`)};const s=l.Tag.render(ne||(ne=X`
			<div onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box --gray">
						<div class="ui-icon-set --market-1"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</div>
		`),e,l.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_MIGRATION_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](s)}Object.defineProperty(xe,be,{writable:true,value:null});e.SettingsWidget=xe})(this.BX.Intranet=this.BX.Intranet||{},BX.UI,BX.Main,BX.UI.Analytics,BX.Event,BX,BX.UI);
//# sourceMappingURL=script.map.js