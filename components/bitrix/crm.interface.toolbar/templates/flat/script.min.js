if(typeof BX.InterfaceToolBar==="undefined"){BX.InterfaceToolBar=function(){this._id="";this._settings=null;this._container=null;this._moreBtn=null};BX.InterfaceToolBar.prototype={initialize:function(e,t){this._id=e;this._settings=t?t:BX.CrmParamBag.create(null);var n=this._container=BX(this.getSetting("containerId",""));if(n){var i=this.getSetting("moreButtonClassName","crm-setting-btn");if(BX.type.isNotEmptyString(i)){var r=this._moreBtn=BX.findChild(n,{className:i},true,false).parentNode;if(r){BX.bind(r,"click",BX.delegate(this._onMoreButtonClick,this))}}}},getId:function(){return this._id},getSetting:function(e,t){return this._settings.getParam(e,t)},_onMenuClose:function(){var e={menu:this._menu};BX.onCustomEvent(window,"CrmInterfaceToolbarMenuClose",[this,e])},_onMoreButtonClick:function(e){var t=this.getSetting("items",null);if(!BX.type.isArray(t)){return}var n=/return\s+false(\s*;)?\s*$/;var i=/;\s*$/;var r=[];for(var o=0;o<t.length;o++){var s=t[o];var a=typeof s["SEPARATOR"]!=="undefined"?s["SEPARATOR"]:false;if(a){r.push({SEPARATOR:true});continue}var u=typeof s["LINK"]!=="undefined"?s["LINK"]:"";var f=typeof s["ONCLICK"]!=="undefined"?s["ONCLICK"]:"";if(u!==""){var l='window.location.href = "'+u+'";';f=f!==""?l+" "+f:l}if(f!==""){if(!n.test(f)){if(!i.test(f)){f+=";"}f+=" return false;"}}r.push({TEXT:typeof s["TEXT"]!=="undefined"?s["TEXT"]:"",TITLE:typeof s["TITLE"]!=="undefined"?s["TITLE"]:"",ICONCLASS:s["ICON"]?s["ICON"]:null,ONCLICK:f})}this._menuId=this._id.toLowerCase()+"_menu";this._menu=new PopupMenu(this._menuId,1010);this._menu.ShowMenu(this._moreBtn,r,false,false,BX.delegate(this._onMenuClose,this))}};BX.InterfaceToolBar.create=function(e,t){var n=new BX.InterfaceToolBar;n.initialize(e,t);return n}}
//# sourceMappingURL=script.map.js