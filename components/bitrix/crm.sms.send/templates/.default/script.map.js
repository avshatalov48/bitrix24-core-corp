{"version":3,"file":"script.map.js","names":["exports","main_core","namespace","Reflection","CrmSmsSend","container","babelHelpers","classCallCheck","this","_senderId","_from","_commEntityTypeId","_commEntityId","_to","_templateCode","_templatePlaceholders","_fromList","_toList","_input","_menu","_isMenuShown","_shownMenuId","_canUse","_canSendMessage","_manageUrl","_senders","_defaults","_communications","_container","_isRequestRunning","_isSenderFixed","saveButton","cancelButton","_serviceUrl","_ownerTypeId","_ownerId","createClass","key","value","init","settings","BX","prop","getBoolean","getString","getArray","getObject","senderId","from","getInteger","_linkToMarket","_title","querySelector","_senderContainerNode","_senderSelectorNode","_senderSelectorBlockNode","_fromContainerNode","_fromSelectorNode","_clientContainerNode","_clientSelectorNode","_toSelectorNode","_messageLengthCounterNode","initSenderSelector","initFromSelector","initClientContainer","initClientSelector","initToSelector","initMessageLengthCounter","initButtons","setMessageLengthCounter","switchToFixedSenderAppearance","sender","setSender","subtitleNode","document","classList","add","innerHTML","Loc","getMessage","name","style","display","_this$_senderId","defaultSenderId","defaultSender","canUse","restSender","menuItems","handler","onSenderSelectorClick","bind","i","length","fromList","id","push","text","onclick","className","delimiter","_i","href","target","openMenu","e","item","window","open","manageUrl","setFrom","close","setAsDefault","textContent","shortName","visualFn","userOptions","save","defaultFromId","defaultFrom","onFromSelectorClick","onFromSelectorItemClick","hide","onClientSelectorClick","caption","client","setClient","entityTypeId","entityId","phones","setTo","onToSelectorClick","onToSelectorItemClick","valueFormatted","to","menuId","bindElement","PopupMenu","show","_id","offsetTop","offsetLeft","angle","position","offset","events","onPopupClose","onMenuClose","currentItem","preventDefault","_messageLengthMax","parseInt","getAttribute","classFn","cancel","alert","ajax","url","util","add_url_param","action","method","dataType","data","site","sessid","bitrix_sessid","ACTION","SENDER_ID","MESSAGE_FROM","MESSAGE_TO","MESSAGE_BODY","MESSAGE_TEMPLATE","MESSAGE_PLACEHOLDERS","OWNER_TYPE_ID","OWNER_ID","TO_ENTITY_TYPE_ID","TO_ENTITY_ID","onsuccess","onSaveSuccess","onfailure","onSaveFailure","SidePanel","curSlider","Instance","getSliderByWindow","error"],"sources":["script.js"],"mappings":"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"}