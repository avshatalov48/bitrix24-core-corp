BX.namespace("Tasks.Component");(function(){BX.Tasks.Component.TaskDetailPartsMemberSelector=BX.Tasks.UserItemSet.extend({sys:{code:"tdp-mem-sel",hidePreviousIfSingleAndRequired:false},options:{controlBind:"class",itemFx:"horizontal",itemFxHoverDelete:true,prefixId:true,mode:"all"},methods:{construct:function(){this.callConstruct(BX.Tasks.UserItemSet);var t=this.vars.constraint.min;var e=this.vars.constraint.max;this.vars.constraint.single=e==1;this.vars.constraint.strict=this.option("hidePreviousIfSingleAndRequired")&&this.vars.constraint.single&&t>1},onSearchBlurred:function(){if(this.callMethod(BX.Tasks.UserItemSet,"onSearchBlurred")){if(this.vars.constraint.strict){this.restoreKept()}}},onSelectorItemSelected:function(t){if(this.vars.constraint.strict){this.vars.changed=true;var e=this.extractItemValue(t);if(!this.hasItem(e)){this.addItem(t);this.vars.toDelete=false;if(!this.checkCanAddItems()){this.instances.selector.close();this.onSearchBlurred()}}this.resetInput()}else{this.callMethod(BX.Tasks.UserItemSet,"onSelectorItemSelected",arguments)}},openAddForm:function(){if(this.vars.constraint.strict){var t=this.getItemFirst();if(t){this.vars.toDelete=t.data();this.callMethod(BX.Tasks.UserItemSet,"deleteItem",[t.value(),{checkRestrictions:false}])}}this.callMethod(BX.Tasks.UserItemSet,"openAddForm")},deleteItem:function(t){if(!this.callMethod(BX.Tasks.UserItemSet,"deleteItem",arguments)){if(this.vars.constraint.strict){this.openAddForm();return false}}return true},restoreKept:function(){if(this.vars.toDelete){this.addItem(this.vars.toDelete,{checkRestrictions:false});this.vars.toDelete=false}}}})}).call(this);
//# sourceMappingURL=logic.map.js