this.BX=this.BX||{};this.BX.Intranet=this.BX.Intranet||{};(function(t,e,s,a,i,n,l,r,o,c){"use strict";var d=function t(){babelHelpers.classCallCheck(this,t)};babelHelpers.defineProperty(d,"eventNameSpace","BX.Intranet.Userprofile:");var m,u;var v=function(){function t(){babelHelpers.classCallCheck(this,t)}babelHelpers.createClass(t,null,[{key:"getOpenSliderFunction",value:function t(e){if(l.Type.isStringFilled(e)){return function(){o.EventEmitter.emit(o.EventEmitter.GLOBAL_TARGET,d.eventNameSpace+"onNeedToHide");BX.SidePanel.Instance.open(e,{cacheable:false,data:{},width:500})}}return function(){}}},{key:"showData",value:function t(e){e.value=parseInt(e.value||0);var s=l.Tag.render(m||(m=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical" id="user-indicator-pulse">\n\t\t\t\t<div class="system-auth-form__item-block --margin-bottom">\n\t\t\t\t\t<div class="system-auth-form__stress-widget">\n\t\t\t\t\t\t<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content">\n\t\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content-title">','</div>\n\t\t\t\t\t\t\t<div data-role="value" class="system-auth-form__stress-widget--content-progress ','">0</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --stress-widget-sp">\n\t\t\t\t\t\t<div class="system-auth-form__item-block --center --width-100">\n\t\t\t\t\t\t\t<span class="system-auth-form__stress-widget--status  --flex --','">','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__icon-help" onclick="','"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t<div class="system-auth-form__stress-widget--message">',"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),e.value>0?"":"--empty",l.Text.encode(e.type),l.Text.encode(e.typeDescription),this.getOpenSliderFunction(e.url.result),this.getOpenSliderFunction(e.url.check),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),l.Text.encode(e.comment));setTimeout((function(){var t=setInterval((function(e){e.current++;e.node.innerHTML=e.current;if(e.current>=e.end){clearInterval(t)}}),600/e.value,{current:0,end:e.value,node:s.querySelector('[data-role="value"]')});s.querySelector('[data-role="value-degree"]').style.transform="rotate("+1.8*e.value+"deg)"}),1e3);return s}},{key:"showEmpty",value:function t(e){var s=e.url.check;return l.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical --empty-stress --clickable" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-block --margin-bottom">\n\t\t\t\t\t<div class="system-auth-form__stress-widget">\n\t\t\t\t\t\t<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content">\n\t\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content-title">','</div>\n\t\t\t\t\t\t\t<div data-role="value" class="system-auth-form__stress-widget--content-progress --empty">?</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --stress-widget-sp">\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--message">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted">','</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t</div>\n\t\t\t</div>"])),this.getOpenSliderFunction(s),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_RESULT_COME_ON"))}},{key:"getPromise",value:function t(e){var s=this;var a=e.signedParameters,i=e.componentName,n=e.userId,r=e.data;return new Promise((function(t,e){var o=r?Promise.resolve({data:r}):l.ajax.runAction("socialnetwork.api.user.stresslevel.get",{signedParameters:a,data:{c:i,fields:{userId:n}}});o.then((function(e){var a=e.data;if(a&&a.id!==undefined&&a.value!==undefined){return t(s.showData(a))}var i=l.Loc.getMessage("USER_ID")===n?s.showEmpty(a):document.createElement("DIV");return t(i)}))["catch"]((function(e){t(s.showData({id:undefined,value:undefined,urls:{check:undefined}}))}))}))}}]);return t}();var _;function p(t,e,s){h(t,e);e.set(t,s)}function h(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var b=new WeakMap;var g=new WeakMap;var f=function(t){babelHelpers.inherits(e,t);function e(t){var s;babelHelpers.classCallCheck(this,e);s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this));p(babelHelpers.assertThisInitialized(s),b,{writable:true,value:void 0});p(babelHelpers.assertThisInitialized(s),g,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),b,Object.assign({},t));babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),b).lightning=String(t.id).indexOf("light:")===0?"light":String(t.id).indexOf("dark:")===0?"dark":null;s.applyTheme=s.applyTheme.bind(babelHelpers.assertThisInitialized(s));s.setEventNamespace(d.eventNameSpace);o.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(function(t){var e=t.data,a=e.id,i=e.theme;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),b).id=a;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),b).lightning=String(a).indexOf("light:")===0?"light":String(a).indexOf("dark:")===0?"dark":null;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),b).title=i.title;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),b).previewImage=i.previewImage;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),b).previewColor=i.previewColor;s.applyTheme()}));return s}babelHelpers.createClass(e,[{key:"applyTheme",value:function t(){var e=this.getContainer();if(l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,b).previewImage)&&babelHelpers.classPrivateFieldGet(this,b).lightning){e.style.removeProperty("backgroundImage");e.style.removeProperty("backgroundSize");e.style.backgroundImage='url("'+babelHelpers.classPrivateFieldGet(this,b).previewImage+'")';e.style.backgroundSize="cover"}else{e.style.background="none"}if(l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,b).previewColor)){this.getContainer().style.backgroundColor=babelHelpers.classPrivateFieldGet(this,b).previewColor}if(!babelHelpers.classPrivateFieldGet(this,b).lightning){e.style.backgroundColor="rgba(255,255,255,1)"}l.Dom.removeClass(e,"--light --dark");l.Dom.addClass(e,"--"+babelHelpers.classPrivateFieldGet(this,b).lightning)}},{key:"getContainer",value:function t(){if(babelHelpers.classPrivateFieldGet(this,g)){return babelHelpers.classPrivateFieldGet(this,g)}var e=function t(){BX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false);o.EventEmitter.emit(o.EventEmitter.GLOBAL_TARGET,d.eventNameSpace+":onOpen")};babelHelpers.classPrivateFieldSet(this,g,l.Tag.render(_||(_=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --border ',' --padding-sm">\n\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t<div data-role="preview-color" class="system-auth-form__item-logo--image --theme"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title --white-space --block">\n\t\t\t\t\t\t<span data-role="title">','</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-content --margin-top-auto --center --center-force">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn" onclick="','">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>"])),babelHelpers.classPrivateFieldGet(this,b).lightning?"--"+babelHelpers.classPrivateFieldGet(this,b).lightning:"",l.Loc.getMessage("AUTH_THEME_DIALOG"),e,l.Loc.getMessage("INTRANET_USER_PROFILE_CHANGE")));setTimeout(this.applyTheme,0);return babelHelpers.classPrivateFieldGet(this,g)}}],[{key:"getPromise",value:function t(){var e=this;return new Promise((function(t,s){l.ajax.runComponentAction("bitrix:intranet.user.profile.button","getThemePickerData",{mode:"class"}).then((function(s){var a=new e(s.data);t(a.getContainer())}))["catch"](s)}))}}]);return e}(o.EventEmitter);var T,E,I;function y(t,e,s){L(t,e);e.set(t,s)}function L(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var P=new WeakMap;var H=new WeakMap;var S=new WeakMap;var R=new WeakMap;var N=new WeakMap;var O=function(t){babelHelpers.inherits(e,t);function e(t){var s;babelHelpers.classCallCheck(this,e);s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this));y(babelHelpers.assertThisInitialized(s),P,{writable:true,value:void 0});y(babelHelpers.assertThisInitialized(s),H,{writable:true,value:false});y(babelHelpers.assertThisInitialized(s),S,{writable:true,value:false});y(babelHelpers.assertThisInitialized(s),R,{writable:true,value:{scr:null,maskId:null}});y(babelHelpers.assertThisInitialized(s),N,{writable:true,value:void 0});s.setEventNamespace(d.eventNameSpace);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),H,Boolean(t));if(l.Type.isPlainObject(t)){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),R).src=t.src}s.getContainer();if(l.Type.isPlainObject(t)&&t.maskId){s.installMask(t.maskId)}else{s.uninstallMask()}return s}babelHelpers.createClass(e,[{key:"getEditor",value:function t(){var e=this;if(babelHelpers.classPrivateFieldGet(this,N)){return babelHelpers.classPrivateFieldGet(this,N)}if(!babelHelpers.classPrivateFieldGet(this,H)){return null}babelHelpers.classPrivateFieldSet(this,N,a.Editor.getOrCreateInstanceById("intranet-user-profile-photo-file",{enableCamera:true,enableMask:true}));babelHelpers.classPrivateFieldGet(this,N).subscribe("onApply",(function(t){var s=t.data.maskedBlob;if(s){return e.installMask(s["maskId"])}e.uninstallMask()}));babelHelpers.classPrivateFieldGet(this,N).subscribeOnFormIsReady("newPhoto",(function(t){var s=t.data.form;e.emit("onChangePhoto",s)}));babelHelpers.classPrivateFieldGet(this,N).loadData(babelHelpers.classPrivateFieldGet(this,R));return babelHelpers.classPrivateFieldGet(this,N)}},{key:"getContainer",value:function t(){var e=this;if(babelHelpers.classPrivateFieldGet(this,P)instanceof HTMLElement){return babelHelpers.classPrivateFieldGet(this,P)}if(!babelHelpers.classPrivateFieldGet(this,H)){babelHelpers.classPrivateFieldSet(this,P,l.Tag.render(T||(T=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --mask"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span style="cursor: default" class="system-auth-form__icon-help"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --disabled">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-new --soon">\n\t\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_MASKS"),l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"),l.Loc.getMessage("INTRANET_USER_PROFILE_SOON")))}else{var s=function t(){e.emit("onOpen");e.getEditor().show("mask")};var a=l.Tag.render(E||(E=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" onclick="','"></div>'])),s);babelHelpers.classPrivateFieldSet(this,P,l.Tag.render(I||(I=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --changeable --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --mask"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_MASKS"),a));this.subscribe("onInstall",(function(){a.innerHTML=l.Loc.getMessage("INTRANET_USER_PROFILE_CHANGE");l.Dom.addClass(babelHelpers.classPrivateFieldGet(e,P),"--active")}));this.subscribe("onUninstall",(function(){a.innerHTML=l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL");l.Dom.removeClass(babelHelpers.classPrivateFieldGet(e,P),"--active")}))}return babelHelpers.classPrivateFieldGet(this,P)}},{key:"getPromise",value:function t(){var e=this;return new Promise((function(t){t(e.getContainer())}))}},{key:"installMask",value:function t(e){babelHelpers.classPrivateFieldSet(this,S,true);babelHelpers.classPrivateFieldGet(this,R).maskId=e;this.emit("onInstall")}},{key:"uninstallMask",value:function t(){babelHelpers.classPrivateFieldSet(this,S,false);babelHelpers.classPrivateFieldGet(this,R).maskId=null;this.emit("onUninstall")}}]);return e}(o.EventEmitter);var k,F,w,A,U,M;function G(t,e){C(t,e);e.add(t)}function C(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function B(t,e,s){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return s}var D=new WeakSet;var x=function(){function t(e){babelHelpers.classCallCheck(this,t);G(this,D);this.data=e;this.onclickHandle=this.onclickHandle.bind(this)}babelHelpers.createClass(t,[{key:"showData",value:function t(){var e=B(this,D,W).call(this),s=e.myPosition,a=e.userList,i=e.range;var n;if(i>0&&s>0){n=l.Tag.render(k||(k=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t<div class="system-auth-form__item-title --without-margin">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light --margin-s">\n\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t<span class="system-auth-form__icon-help" data-hint="','" data-hint-no-icon></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light" data-role="empty-info">','</div>\n\n\t\t\t\t\t<div class="system-auth-form__item-title --white-space --margin-xl">\n\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t<span class="system-auth-form__ustat-icon --up"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__userlist">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),this.onclickHandle,l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),l.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":s,"#AMONG#":i}),a)}else{var r=i>0?this.onclickHandle:function(){};n=l.Tag.render(F||(F=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --without-stat ','" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --lighter" data-role="empty-info">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),i>0?"--clickable":"",r,l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY_BRIEF"))}BX.UI.Hint.init(n);return n}},{key:"onclickHandle",value:function t(e){o.EventEmitter.emit(d.eventNameSpace+"onNeedToHide");if(window["openIntranetUStat"]){openIntranetUStat(e)}}},{key:"showWideData",value:function t(){var e=B(this,D,W).call(this),s=e.myPosition,a=e.userList,i=e.range;var n=l.Tag.render(w||(w=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --center --padding-ustat ','">\n\t\t\t\t<div class="system-auth-form__item-image">\n\t\t\t\t\t<div class="system-auth-form__item-image--src --ustat"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --overflow">\n\t\t\t\t\t<div class="system-auth-form__item-title --xl --without-margin">','</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light" data-role="empty-info">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container--inline" data-role="my-position">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-light --without-margin --margin-right">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title --white-space --margin-xl">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__ustat-icon --up"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__userlist" data-role="user-list">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__icon-help --absolute-right-bottom" data-hint="','" data-hint-no-icon></div>\n\t\t\t</div>\n\t\t'])),i>0?"--clickable":"--without-stat",l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":s,"#AMONG#":i}),a,l.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"));if(i>0){n.addEventListener("click",this.onclickHandle)}return n}}],[{key:"getPromise",value:function t(e){var s=this;var a=e.userId,i=e.isNarrow,n=e.data;return new Promise((function(t,e){(n?Promise.resolve({data:n}):l.ajax.runComponentAction("bitrix:intranet.ustat.department","getJson",{mode:"class",data:{}})).then((function(e){var a=e.data;var n=new s(a);t(i?n.showData():n.showWideData())}))["catch"]((function(e){e=l.Type.isArray(e)?e:[e];var s=document.createElement("ul");e.forEach((function(t){var e=t.message;var a=document.createElement("li");a.innerHTML=e;a.className="ui-alert-message";s.appendChild(a)}));t(l.Tag.render(A||(A=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div class="ui-alert ui-alert-danger">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>"])),s))}))}))}}]);return t}();function W(){var t=this;var e=document.createDocumentFragment();var s=parseInt(this.data["USERS_RATING"]["position"]);var a=0;var i=l.Type.isPlainObject(this.data["USERS_RATING"]["top"])?Object.values(this.data["USERS_RATING"]["top"]):l.Type.isArray(this.data["USERS_RATING"]["top"])&&this.data["USERS_RATING"]["top"].length>0?babelHelpers.toConsumableArray(this.data["USERS_RATING"]["top"]):[{USER_ID:l.Loc.getMessage("USER_ID"),ACTIVITY:0}];var n=s>5?[].concat(babelHelpers.toConsumableArray(i.slice(0,3)),babelHelpers.toConsumableArray(i.slice(-1)),[null]):i;n.forEach((function(s,i){if(s===null){e.appendChild(l.Tag.render(U||(U=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__userlist-item --list"></div>']))));return}var n=s["ACTIVITY"];var r="";if(t.data["USERS_INFO"][s["USER_ID"]]){n=[t.data["USERS_INFO"][s["USER_ID"]]["FULL_NAME"],": ",s["ACTIVITY"]].join("");r=String(t.data["USERS_INFO"][s["USER_ID"]]["AVATAR_SRC"]).length>0?t.data["USERS_INFO"][s["USER_ID"]]["AVATAR_SRC"]:null}var o=String(s["USER_ID"])===String(l.Loc.getMessage("USER_ID"));if(o){a=s["ACTIVITY"]}e.appendChild(l.Tag.render(M||(M=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div title="','" class="system-auth-form__userlist-item ui-icon ui-icon ui-icon-common-user">\n\t\t\t\t\t\t\t<i ',"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"])),l.Text.encode(n),r?"style=\"background-image: url('".concat(encodeURI(r),"');background-size: cover;\""):""))}));return{userList:e,myPosition:s,range:parseInt(this.data["USERS_RATING"]["range"]),myActivity:a}}var z,X,Y,q,j,V;function K(t,e){J(t,e);e.add(t)}function Q(t,e,s){J(t,e);e.set(t,s)}function J(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Z(t,e,s){$(t,e);return s}function $(t,e){if(t!==e){throw new TypeError("Private static access of wrong provenance")}}function tt(t,e,s){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return s}var et=new WeakMap;var st=new WeakMap;var at=new WeakSet;var it=new WeakSet;var nt=new WeakSet;var lt=new WeakSet;var rt=new WeakSet;var ot=new WeakSet;var ct=new WeakSet;var dt=function(){function t(e,s){babelHelpers.classCallCheck(this,t);K(this,ct);K(this,ot);K(this,rt);K(this,lt);K(this,nt);K(this,it);K(this,at);Q(this,et,{writable:true,value:void 0});Q(this,st,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,et,e);babelHelpers.classPrivateFieldSet(this,st,s)}babelHelpers.createClass(t,[{key:"handlerLogoutButton",value:function t(){if(tt(this,at,mt).call(this)){tt(this,ct,bt).call(this)}}},{key:"getContainer",value:function e(){var s=this;var a=function t(){if(tt(s,at,mt).call(s)){babelHelpers.classPrivateFieldGet(s,st).getPopup().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldGet(s,et).url,{allowChangeHistory:false})}else if(!tt(s,it,ut).call(s)){babelHelpers.classPrivateFieldGet(s,st).getPopup().close();BX.UI.InfoHelper.show("limit_office_login_history")}};var i=l.Tag.render(z||(z=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical">\n\t\t\t\t\t<div class="system-auth-form__item-container --center ','">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','" onclick="','">\n\t\t\t\t\t\t\t\t<i></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --sm ','" onclick="','">',"</div>\n\t\t\t\t\t\t\t",'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__visited">\n\t\t\t\t\t</div>\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"])),tt(this,at,mt).call(this)?"--border":"",tt(this,at,mt).call(this)?"--history":"--history-gray",a,tt(this,at,mt).call(this)?"--link":"",a,l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_TITLE"),tt(this,ot,ht).call(this),tt(this,lt,_t).call(this),tt(this,rt,pt).call(this,a));var n=i.querySelector(".system-auth-form__visited");if(tt(this,at,mt).call(this)){var r=Z(t,t,ft).call(t);r.show(n);l.ajax.runComponentAction("bitrix:intranet.user.login.history","getListLastLogin",{mode:"class",data:{limit:1}}).then((function(e){r.hide();var s=e.data;var i=Object.keys(s);i.forEach((function(e){var i=Z(t,t,gt).call(t,s[e]["DEVICE_PLATFORM"],s[e]["GEOLOCATION"],s[e]["BROWSER"]);var r=Z(t,t,Tt).call(t,s[e]["LOGIN_DATE"]);var o=l.Tag.render(X||(X=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div class="system-auth-form__visited-item">\n\t\t\t\t\t\t\t<div data-hint=\'',"' class=\"system-auth-form__visited-icon --",'" onclick="','" data-hint-no-icon></div>\n\t\t\t\t\t\t\t<script>\n\t\t\t\t\t\t\t\tBX.ready(() => {\n\t\t\t\t\t\t\t\t\tBX.UI.Hint.init(document.querySelector(".system-auth-form__visited-icon --','"));\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t<\/script>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-text" onclick="','">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-time" onclick="','">',"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_THIS_DEVICE_DESCRIPTION"),s[e]["DEVICE_TYPE"],a,s[e]["DEVICE_TYPE"],a,i,a,r);l.Dom.append(o,n)}))}))["catch"]((function(){r.hide()}))}return i}}]);return t}();function mt(){return babelHelpers.classPrivateFieldGet(this,et).isAvailableUserLoginHistory&&babelHelpers.classPrivateFieldGet(this,et).isConfiguredUserLoginHistory}function ut(){return babelHelpers.classPrivateFieldGet(this,et).isAvailableUserLoginHistory}function vt(){return babelHelpers.classPrivateFieldGet(this,et).isConfiguredUserLoginHistory}function _t(){var t=this;var e=function e(){tt(t,ct,bt).call(t)};var s=function e(){babelHelpers.classPrivateFieldGet(t,st).getPopup().close();BX.Helper.show("redirect=detail&code=16615982")};if(tt(this,at,mt).call(this)){return l.Tag.render(Y||(Y=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn" onclick="','">',"</div>\n\t\t\t"],['\n\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn" onclick=\\"','\\">',"</div>\n\t\t\t"])),e,l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE"))}else if(!tt(this,nt,vt).call(this)){return l.Tag.render(q||(q=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t<div class='system-auth-form__settings' onclick=\"",'">',"</div>\n\t\t\t"])),s,l.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE"))}return null}function pt(t){if(tt(this,at,mt).call(this)){return l.Tag.render(j||(j=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t<div class="system-auth-form__show-history" onclick="','">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),t,l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_SHOW_FULL_LIST"))}return null}function ht(){var t=this;var e=function e(){babelHelpers.classPrivateFieldGet(t,st).getPopup().close();BX.UI.InfoHelper.show("limit_office_login_history")};if(!tt(this,it,ut).call(this)){return l.Tag.render(V||(V=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item-title-logo --lock" onclick="','">\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t'])),e)}return null}function bt(){var t=this;BX.UI.Dialogs.MessageBox.show({message:l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_WITHOUT_THIS_MESSAGE"),title:l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_TITLE"),buttons:BX.UI.Dialogs.MessageBoxButtons.YES_CANCEL,minWidth:400,popupOptions:{contentBackground:"transparent",autoHide:true,closeByEsc:true,padding:0,background:"",events:{onShow:function e(){babelHelpers.classPrivateFieldGet(t,st).getPopup().getPopup().setAutoHide(false)},onPopupClose:function e(){babelHelpers.classPrivateFieldGet(t,st).getPopup().getPopup().setAutoHide(true)}}},onYes:function t(e){l.ajax.runComponentAction("bitrix:intranet.user.profile.password","logout",{mode:"ajax"}).then((function(){e.close();BX.UI.Notification.Center.notify({content:l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_WITHOUT_THIS_RESULT"),autoHideDelay:1800})}))["catch"]((function(){e.close();BX.UI.Notification.Center.notify({content:l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_ERROR"),autoHideDelay:3600})}))}})}function gt(t,e,s){var a=[];if(s){a.push(s)}if(e){a.push(e)}if(t){a.push(t)}return a.join(", ")}function ft(){return new i.Loader({size:20,mode:"inline"})}function Tt(t){var e=[["-","d.m.Y H:i:s"],["s","sago"],["i","iago"],["H","Hago"],["d","dago"],["m","mago"]];return" - "+BX.date.format(e,new Date(t),new Date)}var Et,It,yt,Lt,Pt,Ht;var St=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var s=arguments.length>1?arguments[1]:undefined;babelHelpers.classCallCheck(this,t);this.isSingle=e;this.config=s}babelHelpers.createClass(t,[{key:"getContainer",value:function t(){var e=this;var s=this.config.IS_ACTIVE==="Y";var a=function t(){o.EventEmitter.emit(o.EventEmitter.GLOBAL_TARGET,d.eventNameSpace+":onOpen");if(String(e.config.URL).length>0){l.Uri.addParam(e.config.URL,{page:"otpConnected"});BX.SidePanel.Instance.open(l.Uri.addParam(e.config.URL,{page:"otpConnected"}),{width:1100})}else{console.error("Otp page is not defined. Check the component params")}};var i=s?l.Tag.render(Et||(Et=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="','">',"</div>"])),a,l.Loc.getMessage("INTRANET_USER_PROFILE_TURNED_ON")):l.Tag.render(It||(It=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="','">',"</div>"])),a,l.Loc.getMessage("INTRANET_USER_PROFILE_TURN_ON"));var n=function t(){top.BX.Helper.show("redirect=detail&code=17728602");o.EventEmitter.emit(o.EventEmitter.GLOBAL_TARGET,d.eventNameSpace+":onOpen")};if(this.isSingle!==true){return l.Tag.render(yt||(yt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ','">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --authentication"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --flex --column --flex-start">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --without-margin --block">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<span class="system-auth-form__icon-help --inline" onclick="','"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t','\n\t\t\t\t\t\t<div class="system-auth-form__item-content --margin-top-auto --center --center-force">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"])),s?" --active":"",l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),n,s?l.Tag.render(Lt||(Lt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">',"</div>\n\t\t\t\t\t\t\t"])),a,l.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE")):"",i,s?"":'\n\t\t\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">'.concat(l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE"),"</div>\n\t\t\t\t\t\t</div>"))}var c=null;var m=function t(e){e.stopPropagation();var s=[{text:l.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE"),onclick:function t(){c.close();a()}}];c=c||new r.Menu("menu-otp-".concat(l.Text.getRandom()),e.target,s,{className:"system-auth-form__popup",angle:true,offsetLeft:10,autoHide:true,events:{onShow:function t(e){o.EventEmitter.emit(o.EventEmitter.GLOBAL_TARGET,d.eventNameSpace+":showOtpMenu",new o.BaseEvent({data:{popup:e.target}}))}}});c.toggle()};return l.Tag.render(Pt||(Pt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm-all ',' --vertical --center">\n\t\t\t\t\t<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --authentication"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --flex">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light --center --s">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t <span class="system-auth-form__icon-help" onclick="','"></span> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t','\n\t\t\t\t\t<div class="system-auth-form__item-container --flex --column --space-around">\n\t\t\t\t\t\t<div class="system-auth-form__item-content --flex --display-flex">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t"])),s?" --active":"",l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),n,s?l.Tag.render(Ht||(Ht=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__config --absolute" onclick="','"></div>'])),m):"",i,s?"":'\n\t\t\t\t\t\t<div class="system-auth-form__item-new system-auth-form__item-new-icon --ssl">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">'.concat(l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE"),"</div>\n\t\t\t\t\t\t</div>"))}}]);return t}();var Rt,Nt,Ot,kt,Ft,wt,At,Ut,Mt,Gt,Ct,Bt,Dt,xt,Wt;function zt(t,e){Yt(t,e);e.add(t)}function Xt(t,e,s){Yt(t,e);e.set(t,s)}function Yt(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function qt(t,e,s){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return s}var jt=Symbol("user.widget");var Vt=new WeakMap;var Kt=new WeakMap;var Qt=new WeakMap;var Jt=new WeakMap;var Zt=new WeakMap;var $t=new WeakSet;var te=new WeakSet;var ee=new WeakSet;var se=new WeakSet;var ae=new WeakSet;var ie=new WeakSet;var ne=new WeakSet;var le=new WeakSet;var re=new WeakSet;var oe=new WeakSet;var ce=new WeakSet;var de=new WeakSet;var me=new WeakSet;var ue=new WeakSet;var ve=new WeakSet;var _e=new WeakSet;var pe=new WeakSet;var he=function(t){babelHelpers.inherits(s,t);function s(t,e){var a;var i=e.profile,n=i.ID,r=i.FULL_NAME,o=i.PHOTO,c=i.MASK,m=i.STATUS,u=i.URL,v=i.WORK_POSITION,_=e.component,p=_.componentName,h=_.signedParameters,b=e.features;babelHelpers.classCallCheck(this,s);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).call(this));zt(babelHelpers.assertThisInitialized(a),pe);zt(babelHelpers.assertThisInitialized(a),_e);zt(babelHelpers.assertThisInitialized(a),ve);zt(babelHelpers.assertThisInitialized(a),ue);zt(babelHelpers.assertThisInitialized(a),me);zt(babelHelpers.assertThisInitialized(a),de);zt(babelHelpers.assertThisInitialized(a),ce);zt(babelHelpers.assertThisInitialized(a),oe);zt(babelHelpers.assertThisInitialized(a),re);zt(babelHelpers.assertThisInitialized(a),le);zt(babelHelpers.assertThisInitialized(a),ne);zt(babelHelpers.assertThisInitialized(a),ie);zt(babelHelpers.assertThisInitialized(a),ae);zt(babelHelpers.assertThisInitialized(a),se);zt(babelHelpers.assertThisInitialized(a),ee);zt(babelHelpers.assertThisInitialized(a),te);zt(babelHelpers.assertThisInitialized(a),$t);Xt(babelHelpers.assertThisInitialized(a),Vt,{writable:true,value:void 0});Xt(babelHelpers.assertThisInitialized(a),Kt,{writable:true,value:void 0});Xt(babelHelpers.assertThisInitialized(a),Qt,{writable:true,value:null});Xt(babelHelpers.assertThisInitialized(a),Jt,{writable:true,value:{}});Xt(babelHelpers.assertThisInitialized(a),Zt,{writable:true,value:new l.Cache.MemoryCache});a.setEventNamespace(d.eventNameSpace);qt(babelHelpers.assertThisInitialized(a),ee,fe).call(babelHelpers.assertThisInitialized(a));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Vt,t);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Qt,{ID:n,FULL_NAME:r,PHOTO:o,MASK:c,STATUS:m,URL:u,WORK_POSITION:v});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),Jt,b);if(!l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),Jt).browser)){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),Jt).browser=l.Browser.isLinux()?"Linux":l.Browser.isWin()?"Windows":"MacOs"}babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),Zt).set("componentParams",{componentName:p,signedParameters:h});a.hide=a.hide.bind(babelHelpers.assertThisInitialized(a));return a}babelHelpers.createClass(s,[{key:"toggle",value:function t(){if(this.getPopup().isShown()){this.hide()}else{this.show()}}},{key:"hide",value:function t(){this.getPopup().close()}},{key:"show",value:function t(){this.getPopup().show()}},{key:"getPopup",value:function t(){var s,a;if(babelHelpers.classPrivateFieldGet(this,Kt)){return babelHelpers.classPrivateFieldGet(this,Kt)}this.emit("init");var i=[qt(this,$t,be).call(this),qt(this,ae,Ee).call(this)?{html:qt(this,ae,Ee).call(this),backgroundColor:"#fafafa"}:null,[{html:qt(this,ie,Ie).call(this),marginBottom:24,overflow:true,minHeight:"63px"},{html:qt(this,ne,ye).call(this),backgroundColor:"#fafafa"}],qt(this,le,Le).call(this,!!qt(this,oe,He).call(this))?[{html:qt(this,le,Le).call(this,!!qt(this,oe,He).call(this)),overflow:true,marginBottom:24,flex:qt(this,oe,He).call(this)?.5:1,minHeight:qt(this,oe,He).call(this)?"115px":"56px"},qt(this,oe,He).call(this)]:null,qt(this,me,Ne).call(this,qt(this,de,Re).call(this)===null)&&qt(this,de,Re).call(this)?[{flex:.5,html:qt(this,ce,Se).call(this,.7)},[{html:qt(this,de,Re).call(this),displayBlock:true},qt(this,me,Ne).call(this,false)]]:qt(this,de,Re).call(this)||qt(this,me,Ne).call(this,true)?[{html:qt(this,ce,Se).call(this,2),flex:2},(s=qt(this,de,Re).call(this))!==null&&s!==void 0?s:qt(this,me,Ne).call(this,true)]:qt(this,ce,Se).call(this,0),qt(this,ue,Oe).call(this),{html:qt(this,ve,ke).call(this),backgroundColor:"#fafafa"},qt(this,se,Te).call(this)?{html:qt(this,se,Te).call(this),marginBottom:24,backgroundColor:"#fafafa"}:null,[{html:(a=qt(this,_e,Fe).call(this))!==null&&a!==void 0?a:null,backgroundColor:"#fafafa"},{html:qt(this,pe,we).call(this),backgroundColor:"#fafafa"}]];var n=function t(e){var s=[];if(l.Type.isArray(e)){for(var a=0;a<e.length;a++){if(l.Type.isArray(e[a])){var i=t(e[a]);if(i!==null){if(l.Type.isArray(i)&&i.length===1){s.push(i[0])}else{s.push(i)}}}else if(e[a]!==null){s.push(e[a])}}}return s.length<=0?null:s.length===1?s[0]:s};i=n(i);var r=function t(e,s,a){if(l.Type.isArray(e)){return{html:e.map(t)}}return{flex:e["flex"]||0,html:e["html"]||e,backgroundColor:e["backgroundColor"]||null,disabled:e["disabled"]||null,overflow:e["overflow"]||null,marginBottom:e["marginBottom"]||null,displayBlock:e["displayBlock"]||null,minHeight:e["minHeight"]||null,secondary:e["secondary"]||false}};babelHelpers.classPrivateFieldSet(this,Kt,new e.PopupComponentsMaker({target:babelHelpers.classPrivateFieldGet(this,Vt),content:i.map(r),width:400,offsetTop:-14}));o.EventEmitter.subscribe("BX.Main.InterfaceButtons:onMenuShow",this.hide);o.EventEmitter.subscribe(d.eventNameSpace+"onNeedToHide",this.hide);return babelHelpers.classPrivateFieldGet(this,Kt)}}],[{key:"init",value:function t(e,s){var a=this;if(e[jt]){return}var i=function t(){if(!e["popupSymbol"]){e["popupSymbol"]=new a(e,s)}e["popupSymbol"].toggle();a.instance=e["popupSymbol"]};e[jt]=true;e.addEventListener("click",i)}},{key:"getInstance",value:function t(){return this.instance}}]);return s}(o.EventEmitter);function be(){var t=this;return babelHelpers.classPrivateFieldGet(this,Zt).remember("profile",(function(){var e=function e(s){t.hide();return BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldGet(t,Qt).URL)};var s=l.Tag.render(Rt||(Rt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<span class="system-auth-form__profile-avatar--image"\n\t\t\t\t\t',">\n\t\t\t\t</span>\n\t\t\t\t"])),babelHelpers.classPrivateFieldGet(t,Qt).PHOTO?"\n\t\t\t\t\t\tstyle=\"background-size: cover; background-image: url('".concat(encodeURI(babelHelpers.classPrivateFieldGet(t,Qt).PHOTO),"')\""):"");var a=l.Tag.render(Nt||(Nt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__profile-name">',"</div>\n\t\t\t"])),l.Text.encode(babelHelpers.classPrivateFieldGet(t,Qt).FULL_NAME));o.EventEmitter.subscribe(o.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Avatar:changed",(function(e){var a=babelHelpers.slicedToArray(e.data,1),i=a[0],n=i.url,r=i.userId;if(babelHelpers.classPrivateFieldGet(t,Qt).ID>0&&r&&babelHelpers.classPrivateFieldGet(t,Qt).ID.toString()===r.toString()){babelHelpers.classPrivateFieldGet(t,Qt).PHOTO=n;s.style=l.Type.isStringFilled(n)?"background-size: cover; background-image: url('".concat(encodeURI(babelHelpers.classPrivateFieldGet(t,Qt).PHOTO),"')"):""}}));o.EventEmitter.subscribe(o.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Name:changed",(function(e){var s=babelHelpers.slicedToArray(e.data,1),i=s[0].fullName;babelHelpers.classPrivateFieldGet(t,Qt).FULL_NAME=i;a.innerHTML=i;babelHelpers.classPrivateFieldGet(t,Vt).querySelector("#user-name").innerHTML=i}));var i=l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(t,Qt).WORK_POSITION)?l.Text.encode(babelHelpers.classPrivateFieldGet(t,Qt).WORK_POSITION):"";if(babelHelpers.classPrivateFieldGet(t,Qt).STATUS&&l.Loc.hasMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldGet(t,Qt).STATUS)){i=l.Loc.getMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldGet(t,Qt).STATUS)}return l.Tag.render(Ot||(Ot=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="','">\n\t\t\t\t\t<div class="system-auth-form__profile">\n\t\t\t\t\t\t<div class="system-auth-form__profile-avatar">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__profile-content --margin--right">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<div class="system-auth-form__profile-position">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__profile-controls">\n\t\t\t\t\t\t\t<span class="ui-qr-popupcomponentmaker__btn --large --border" >\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t \t\t\x3c!-- <span class="ui-qr-popupcomponentmaker__btn --large --success">any text</span> --\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'])),e,s,a,i,l.Loc.getMessage("INTRANET_USER_PROFILE_PROFILE"))}))}function ge(){var t=this;return babelHelpers.classPrivateFieldGet(this,Zt).remember("popup-container",(function(){return t.getPopup().getPopup().getPopupContainer()}))}function fe(){var t=this;var e=function e(s){console.log(s);if(s.data.popup){setTimeout((function(){l.Event.bind(qt(t,te,ge).call(t),"click",(function(){s.data.popup.close()}))}),100)}};this.subscribe("init",(function(){o.EventEmitter.subscribe(o.EventEmitter.GLOBAL_TARGET,d.eventNameSpace+":onOpen",t.hide);t.subscribe("bindings:open",e);o.EventEmitter.subscribe(o.EventEmitter.GLOBAL_TARGET,d.eventNameSpace+":showOtpMenu",e)}))}function Te(){var t=this;return babelHelpers.classPrivateFieldGet(this,Zt).remember("b24netPanel",(function(){if(babelHelpers.classPrivateFieldGet(t,Jt)["b24netPanel"]!=="Y"){return null}return l.Tag.render(kt||(kt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="https://www.bitrix24.net/">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --network"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t"])),l.Loc.getMessage("AUTH_PROFILE_B24NET"),l.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function Ee(){var t=this;return babelHelpers.classPrivateFieldGet(this,Zt).remember("adminPanel",(function(){if(babelHelpers.classPrivateFieldGet(t,Jt)["adminPanel"]!=="Y"){return null}return l.Tag.render(Ft||(Ft=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="/bitrix/admin/">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --admin-panel"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_ADMIN_PANEL"),l.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function Ie(){return babelHelpers.classPrivateFieldGet(this,Zt).remember("themePicker",(function(){return f.getPromise()}))}function ye(){var t=this;return babelHelpers.classPrivateFieldGet(this,Zt).remember("Mask",(function(){var e=new O(babelHelpers.classPrivateFieldGet(t,Qt).MASK);e.subscribe("onOpen",t.hide);e.subscribe("onChangePhoto",(function(e){var s=e.data;qt(t,re,Pe).call(t,s)}));t.emit("onChangePhoto");return e.getPromise()}))}function Le(t){var e=this;return babelHelpers.classPrivateFieldGet(this,Zt).remember("getCompanyPulse",(function(){if(babelHelpers.classPrivateFieldGet(e,Jt).pulse==="Y"&&babelHelpers.classPrivateFieldGet(e,Qt).ID>0&&babelHelpers.classPrivateFieldGet(e,Qt).ID===l.Loc.getMessage("USER_ID")){return new Promise((function(s){l.ajax.runComponentAction("bitrix:intranet.user.profile.button","getUserStatComponent",{mode:"class"}).then((function(a){BX.Runtime.html(null,a.data.html).then((function(){var a;s(x.getPromise({userId:babelHelpers.classPrivateFieldGet(e,Qt).ID,isNarrow:t,data:(a=babelHelpers.classPrivateFieldGet(e,Jt)["pulseData"])!==null&&a!==void 0?a:null}))}))}))}))}return null}))}function Pe(t){l.ajax.runComponentAction(babelHelpers.classPrivateFieldGet(this,Zt).get("componentParams").componentName,"loadPhoto",{signedParameters:babelHelpers.classPrivateFieldGet(this,Zt).get("componentParams").signedParameters,mode:"ajax",data:t}).then(function(t){if(t.data){(top||window).BX.onCustomEvent("BX.Intranet.UserProfile:Avatar:changed",[{url:t.data,userId:babelHelpers.classPrivateFieldGet(this,Qt).ID}])}}.bind(this),function(t){console.log("response: ",t)}.bind(this))}function He(){var t=this;if(babelHelpers.classPrivateFieldGet(this,Jt)["stressLevel"]!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,Zt).remember("getStressLevel",(function(){var e;return v.getPromise({signedParameters:babelHelpers.classPrivateFieldGet(t,Zt).get("componentParams").signedParameters,componentName:babelHelpers.classPrivateFieldGet(t,Zt).get("componentParams").componentName,userId:babelHelpers.classPrivateFieldGet(t,Qt).ID,data:(e=babelHelpers.classPrivateFieldGet(t,Jt)["stressLevelData"])!==null&&e!==void 0?e:null})}))}function Se(t){var e=this;return babelHelpers.classPrivateFieldGet(this,Zt).remember("getQrContainer",(function(){var s=babelHelpers.classPrivateFieldGet(e,Jt)["appInstalled"]["APP_ANDROID_INSTALLED"]==="Y"||babelHelpers.classPrivateFieldGet(e,Jt)["appInstalled"]["APP_IOS_INSTALLED"]==="Y";var a=function t(){e.hide();new n.QrAuthorization({title:l.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_TITLE2"),content:l.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_BODY2"),helpLink:""}).show()};var i=function t(s){top.BX.Helper.show("redirect=detail&code=14999860");e.hide();s.preventDefault();s.stopPropagation();return false};var r;if(t!==2&&t!==0){r=l.Tag.render(wt||(wt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ','  --clickable" onclick="','" style="padding: 10px 14px">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --center --column --center">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --center --margin-xl">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__qr" style="margin-bottom: 12px">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="','">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__icon-help --absolute" onclick="','" title="','"></div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR_SMALL"),i,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"))}else if(t===0){r=l.Tag.render(At||(At=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ',' --padding-qr-xl">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --column --flex --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --l">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --large --border" style="margin-top: auto" onclick="','">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --qr">\n\t\t\t\t\t\t\t<div class="system-auth-form__qr --full-size"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2"),i,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}else{r=l.Tag.render(Ut||(Ut=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ',' --padding-mid-qr  --clickable" onclick="','">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --column --flex --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --block">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t<span class="system-auth-form__icon-help --inline" onclick="','" title="','"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="','">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --qr">\n\t\t\t\t\t\t\t<div class="system-auth-form__qr --size-2"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),i,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}return r}))}function Re(){var t=this;return babelHelpers.classPrivateFieldGet(this,Zt).remember("getDeskTopContainer",(function(){var e=babelHelpers.classPrivateFieldGet(t,Jt)["appInstalled"]["APP_MAC_INSTALLED"]==="Y";var s="--apple";var a=l.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_APPLE");var i="https://dl.bitrix24.com/b24/bitrix24_desktop.dmg";var n={DEB:{text:l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD_LINUX_DEB"),href:"https://dl.bitrix24.com/b24/bitrix24_desktop.deb"},RPM:{text:l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD_LINUX_RPM"),href:"https://dl.bitrix24.com/b24/bitrix24_desktop.rpm"}};if(babelHelpers.classPrivateFieldGet(t,Jt).browser==="Windows"){e=babelHelpers.classPrivateFieldGet(t,Jt)["appInstalled"]["APP_WINDOWS_INSTALLED"]==="Y";s="--windows";a=l.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_WINDOWS");i="https://dl.bitrix24.com/b24/bitrix24_desktop.exe"}var o=e?function(t){t.preventDefault();t.stopPropagation();return false}:function(){t.hide();return true};var c=null;var d=function e(s){s.preventDefault();c=c||new r.Menu({className:"system-auth-form__popup",bindElement:s.target,items:[{text:n.DEB.text,href:n.DEB.href,onclick:function t(){c.close()}},{text:n.RPM.text,href:n.RPM.href,onclick:function t(){c.close()}}],angle:true,offsetLeft:10,events:{onShow:function e(){t.getPopup().getPopup().setAutoHide(false)},onClose:function e(){t.getPopup().getPopup().setAutoHide(true)}}});c.toggle()};if(babelHelpers.classPrivateFieldGet(t,Jt).browser==="Linux"){e=babelHelpers.classPrivateFieldGet(t,Jt)["appInstalled"]["APP_LINUX_INSTALLED"]==="Y";s="--linux";a=l.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_LINUX");i="";o=e?function(t){t.preventDefault();t.stopPropagation();return false}:d}if(babelHelpers.classPrivateFieldGet(t,Jt)["otp"].IS_ENABLED!=="Y"){var m=null;var u=[{text:l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD"),href:i,onclick:function e(){m.close();t.hide()}}];if(babelHelpers.classPrivateFieldGet(t,Jt).browser==="Linux"){u=[{text:n.DEB.text,href:n.DEB.href,onclick:function t(){m.close()}},{text:n.RPM.text,href:n.RPM.href,onclick:function t(){m.close()}}]}var v=function e(s){m=m||new r.Menu({className:"system-auth-form__popup",bindElement:s.target,items:u,angle:true,offsetLeft:10,events:{onShow:function e(){t.getPopup().getPopup().setAutoHide(false)},onClose:function e(){t.getPopup().getPopup().setAutoHide(true)}}});m.toggle()};return l.Tag.render(Mt||(Mt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div data-role="desktop-item" class="system-auth-form__item system-auth-form__scope --padding-sm-all ',' --vertical --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t','\n\t\t\t\t\t\t<div class="system-auth-form__item-container --flex --center --display-flex">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --light --center --s">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --flex --center --display-flex">\n\t\t\t\t\t\t\t<a class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" href="','" target="_blank" onclick="','">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"])),e?" --active":"",s,e?l.Tag.render(Gt||(Gt=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__config --absolute" onclick="','"></div>'])),v):"",a,i,o,e?l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}var _=function e(){var s=l.Tag.render(Ct||(Ct=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<a href="','" class="system-auth-form__item-title --link-dotted">',"</a>\n\t\t\t\t"])),i,l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD"));if(babelHelpers.classPrivateFieldGet(t,Jt).browser==="Linux"){s.addEventListener("click",d)}return s};return l.Tag.render(Bt||(Bt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ','">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title ','">',"</div>\n\t\t\t\t\t\t",'\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t<a class="ui-qr-popupcomponentmaker__btn" href="','" target="_blank" onclick="','">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),e?" --active":"",s,e?" --without-margin":"--min-height",a,e?_():"",i,o,e?l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}))}function Ne(t){var e=this;if(babelHelpers.classPrivateFieldGet(this,Jt).otp.IS_ENABLED!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,Zt).remember("getOTPContainer",(function(){return new St(t,babelHelpers.classPrivateFieldGet(e,Jt).otp).getContainer()}))}function Oe(){var t=this;if(babelHelpers.classPrivateFieldGet(this,Jt).loginHistory.isHide){return null}return babelHelpers.classPrivateFieldGet(this,Zt).remember("getLoginHistoryContainer",(function(){var e=new dt(babelHelpers.classPrivateFieldGet(t,Jt).loginHistory,t);return{html:e.getContainer(),backgroundColor:"#fafafa"}}))}function ke(){var t=this;if(!(l.Type.isPlainObject(babelHelpers.classPrivateFieldGet(this,Jt)["bindings"])&&l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,Jt)["bindings"]["text"])&&l.Type.isArray(babelHelpers.classPrivateFieldGet(this,Jt)["bindings"]["items"])&&babelHelpers.classPrivateFieldGet(this,Jt)["bindings"]["items"].length>0)){return null}return babelHelpers.classPrivateFieldGet(this,Zt).remember("getBindingsContainer",(function(){var e=l.Tag.render(Dt||(Dt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --center --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --binding"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div data-role="arrow" class="system-auth-form__item-icon --arrow-right"></div>\n\t\t\t\t</div>\n\t\t\t'])),l.Text.encode(babelHelpers.classPrivateFieldGet(t,Jt)["bindings"]["text"]));e.addEventListener("click",(function(){t.__bindingsMenu=t.__bindingsMenu||new r.Menu({className:"system-auth-form__popup",bindElement:e.querySelector('[data-role="arrow"]'),items:babelHelpers.classPrivateFieldGet(t,Jt)["bindings"]["items"],angle:true,cachable:false,offsetLeft:10,events:{onShow:function e(){t.emit("bindings:open")}}});t.__bindingsMenu.toggle()}));return e}))}function Fe(){var t=this;if(babelHelpers.classPrivateFieldGet(this,Jt)["im"]!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,Zt).remember("getNotificationContainer",(function(){var e=l.Tag.render(xt||(xt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --notification"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("AUTH_NOTIFICATION"));e.addEventListener("click",(function(){t.hide();BXIM.openSettings({onlyPanel:"notify"})}));return e}))}function we(){return babelHelpers.classPrivateFieldGet(this,Zt).remember("getLogoutContainer",(function(){var t=function t(){if(c.DesktopApi.isDesktop()){c.DesktopApi.logout()}else{var e=new l.Uri(window.location.pathname);e.removeQueryParam(["logout","login","back_url_pub","user_lang"]);var s=new l.Uri("/auth/?logout=yes");s.setQueryParam("sessid",BX.bitrix_sessid());s.setQueryParam("backurl",encodeURIComponent(e.toString()));document.location.href=s}};return l.Tag.render(Wt||(Wt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --logout"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a onclick="','" class="system-auth-form__item-link-all"></a>\n\t\t\t\t</div>\n\t\t\t'])),l.Loc.getMessage("AUTH_LOGOUT"),t)}))}babelHelpers.defineProperty(he,"instance",null);t.Widget=he})(this.BX.Intranet.UserProfile=this.BX.Intranet.UserProfile||{},BX.UI,BX,BX.UI.AvatarEditor,BX,BX.UI,BX,BX.Main,BX.Event,BX.Messenger.v2.Lib);
//# sourceMappingURL=script.map.js