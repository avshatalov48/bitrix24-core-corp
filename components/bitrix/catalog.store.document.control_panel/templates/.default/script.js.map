{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\n\nimport { Reflection, Type } from 'main.core';\nimport { StoreSlider } from 'catalog.store-use';\n\nconst namespace = Reflection.namespace('BX.Catalog.Store.Document');\n\nclass ControlPanel\n{\n\topenSlider(url, options = {}): void\n\t{\n\t\tconst currentSlider = BX.SidePanel.Instance.getTopSlider();\n\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\n\t\tconst params = {\n\t\t\tevents: options.events ?? {},\n\t\t\tdata: options.data ?? {},\n\t\t};\n\n\t\tparams.events.onClose = function(event) {\n\t\t\tconst slider = event.getSlider();\n\t\t\tif (!slider)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (slider.getData().get('isInventoryManagementEnabled'))\n\t\t\t{\n\t\t\t\tif (currentSlider)\n\t\t\t\t{\n\t\t\t\t\tcurrentSlider.data.set('preventMasterSlider', true);\n\t\t\t\t}\n\t\t\t\tdocument.location.reload();\n\t\t\t}\n\t\t};\n\n\t\treturn new StoreSlider().open(url, params);\n\t}\n\n\tstoreMasterOpenSlider(url, options = {})\n\t{\n\t\tthis.openSlider(url, options);\n\t}\n\n\treloadGrid()\n\t{\n\t\tdocument.location.reload();\n\t}\n}\n\nnamespace.ControlPanel = ControlPanel;\n"],"names":["namespace","Reflection","ControlPanel","url","options","currentSlider","BX","SidePanel","Instance","getTopSlider","Type","isPlainObject","params","events","data","onClose","event","slider","getSlider","getData","get","set","document","location","reload","StoreSlider","open","openSlider"],"mappings":";;;;CAAA;CAKA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAS,CAAC,2BAA2B,CAAC;CAAC,IAE9DE,YAAY;GAAA;KAAA;;GAAA;KAAA;KAAA,2BAENC,GAAG,EACd;OAAA;OAAA,IADgBC,OAAO,uEAAG,EAAE;OAE3B,IAAMC,aAAa,GAAGC,EAAE,CAACC,SAAS,CAACC,QAAQ,CAACC,YAAY,EAAE;OAE1DL,OAAO,GAAGM,cAAI,CAACC,aAAa,CAACP,OAAO,CAAC,GAAGA,OAAO,GAAG,EAAE;OAEpD,IAAMQ,MAAM,GAAG;SACdC,MAAM,qBAAET,OAAO,CAACS,MAAM,6DAAI,EAAE;SAC5BC,IAAI,mBAAEV,OAAO,CAACU,IAAI,yDAAI;QACtB;OAEDF,MAAM,CAACC,MAAM,CAACE,OAAO,GAAG,UAASC,KAAK,EAAE;SACvC,IAAMC,MAAM,GAAGD,KAAK,CAACE,SAAS,EAAE;SAChC,IAAI,CAACD,MAAM,EACX;WACC;;SAGD,IAAIA,MAAM,CAACE,OAAO,EAAE,CAACC,GAAG,CAAC,8BAA8B,CAAC,EACxD;WACC,IAAIf,aAAa,EACjB;aACCA,aAAa,CAACS,IAAI,CAACO,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC;;WAEpDC,QAAQ,CAACC,QAAQ,CAACC,MAAM,EAAE;;QAE3B;OAED,OAAO,IAAIC,4BAAW,EAAE,CAACC,IAAI,CAACvB,GAAG,EAAES,MAAM,CAAC;;;KAC1C;KAAA,sCAEqBT,GAAG,EACzB;OAAA,IAD2BC,OAAO,uEAAG,EAAE;OAEtC,IAAI,CAACuB,UAAU,CAACxB,GAAG,EAAEC,OAAO,CAAC;;;KAC7B;KAAA,6BAGD;OACCkB,QAAQ,CAACC,QAAQ,CAACC,MAAM,EAAE;;;GAC1B;CAAA;CAGFxB,SAAS,CAACE,YAAY,GAAGA,YAAY;;;;"}