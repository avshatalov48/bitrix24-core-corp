(function(){"use strict";BX.namespace("BX.Crm");BX.Crm.Catalog=function(e){if(!BX.Type.isPlainObject(e)){e={}}this.selfFolderUrl="/crm/catalog/";this.gridId=e.gridId||null;this.init()};BX.Crm.Catalog.prototype.init=function(){if(BX.SidePanel.Instance){BX.SidePanel.Instance.bindAnchors({rules:[{condition:["/crm/catalog/(\\d+)/product/","/crm/catalog/section/(\\d+)/"],handler:this.adjustSidePanelOpener.bind(this)}]})}if(!top.window["adminSidePanel"]||!BX.is_subclass_of(top.window["adminSidePanel"],top.BX.adminSidePanel)){top.window["adminSidePanel"]=new top.BX.adminSidePanel({publicMode:true})}};BX.Crm.Catalog.prototype.adjustSidePanelOpener=function(e,n){if(BX.SidePanel.Instance){var i=n.url.indexOf("IFRAME=Y&IFRAME_TYPE=SIDE_SLIDER")>=0;if(!i||i&&!BX.SidePanel.Instance.getTopSlider()){e.preventDefault();BX.SidePanel.Instance.open(n.url,{allowChangeHistory:true,events:{onClose(){if(this.gridId){const e=BX.Main.gridManager.getInstanceById(this.gridId);if(e){e.reload()}}}}})}}}})();
//# sourceMappingURL=script.map.js