{"version":3,"file":"script.min.js","sources":["script.js"],"names":["BX","namespace","Crm","ClientPortrait","Loadbar","SERVICE_URL","message","bitrix_sessid","barNode","entityContext","Element","this","loadData","min","max","target","current","currentOriginal","manualTarget","nodes","bar","level1","querySelector","level2","level3","level4","level5","level6","level7","currentText","configBtn","messages","prototype","setLoadData","data","type","isPlainObject","parseInt","isNaN","setLoadTarget","value","init","loadDataJson","getAttribute","JSON","parse","entityContextJson","bind","delegate","onConfigBtnClick","refreshView","renderLevels","renderCurrent","range","targetPosition","smallLevelSize","setLevelWidth","level","widthPercent","style","maxWidth","minWidth","currentPosition","left","innerHTML","toString","getConfigPopup","show","me","ajaxInProgress","configPopup","PopupWindow","Math","random","content","getConfigPopupHtml","closeIcon","titleBar","util","htmlspecialchars","CONFIG_TITLE","overlay","backgroundColor","opacity","buttons","PopupWindowButton","text","SAVE","className","events","click","popup","popupWindow","isManual","contentContainer","checked","loadTarget","ajax","post","ajax_action","is_manual","load_target","entity_context","close","CANCEL","idPrefix","val","CONFIG_DESCRIPTION","CONFIG_HELP","CONFIG_AUTO","CONFIG_MANUAL","join","LoadbarMenu","menuNode","containerNode","menu","container","loadbars","i","onMenuClick","querySelectorAll","length","push","isOpen","hasClass","toggleClass","window","top"],"mappings":"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"}