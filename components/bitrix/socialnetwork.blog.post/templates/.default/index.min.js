this.BX=this.BX||{};this.BX.Socialnetwork=this.BX.Socialnetwork||{};this.BX.Socialnetwork.Blog=this.BX.Socialnetwork.Blog||{};(function(e,s){"use strict";let l=e=>e,a;var i=babelHelpers.classPrivateFieldLooseKey("params");var t=babelHelpers.classPrivateFieldLooseKey("layout");var o=babelHelpers.classPrivateFieldLooseKey("copilotLoaded");var r=babelHelpers.classPrivateFieldLooseKey("copilotReadonly");var b=babelHelpers.classPrivateFieldLooseKey("copilotShown");var c=babelHelpers.classPrivateFieldLooseKey("render");var n=babelHelpers.classPrivateFieldLooseKey("createCopilot");var d=babelHelpers.classPrivateFieldLooseKey("onButtonMouseDown");var p=babelHelpers.classPrivateFieldLooseKey("onButtonClick");var v=babelHelpers.classPrivateFieldLooseKey("show");var P=babelHelpers.classPrivateFieldLooseKey("hide");var h=babelHelpers.classPrivateFieldLooseKey("enabledBySettings");class B{constructor(e){Object.defineProperty(this,h,{value:w});Object.defineProperty(this,P,{value:y});Object.defineProperty(this,v,{value:f});Object.defineProperty(this,p,{value:F});Object.defineProperty(this,d,{value:H});Object.defineProperty(this,n,{value:L});Object.defineProperty(this,c,{value:u});Object.defineProperty(this,i,{writable:true,value:void 0});Object.defineProperty(this,t,{writable:true,value:void 0});Object.defineProperty(this,o,{writable:true,value:void 0});Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e;babelHelpers.classPrivateFieldLooseBase(this,t)[t]={};if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]()){babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}s.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,c)[c](),babelHelpers.classPrivateFieldLooseBase(this,i)[i].container)}}function u(){babelHelpers.classPrivateFieldLooseBase(this,t)[t].button=s.Tag.render(a||(a=l`
			<span
				class="feed-inform-item feed-inform-comments feed-copilot-readonly"
				data-id="blog-post-button-copilot"
			>
				<a>${0}</a>
			</span>
		`),s.Loc.getMessage("BLOG_POST_BUTTON_COPILOT"));s.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,t)[t].button,"mousedown",babelHelpers.classPrivateFieldLooseBase(this,d)[d].bind(this));s.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,t)[t].button,"click",babelHelpers.classPrivateFieldLooseBase(this,p)[p].bind(this));return babelHelpers.classPrivateFieldLooseBase(this,t)[t].button}async function L(){const{Copilot:e}=await s.Runtime.loadExtension("ai.copilot");babelHelpers.classPrivateFieldLooseBase(this,r)[r]=new e({moduleId:babelHelpers.classPrivateFieldLooseBase(this,i)[i].copilotParams.moduleId,contextId:babelHelpers.classPrivateFieldLooseBase(this,i)[i].copilotParams.contextId,category:babelHelpers.classPrivateFieldLooseBase(this,i)[i].copilotParams.category,readonly:true,autoHide:true});babelHelpers.classPrivateFieldLooseBase(this,r)[r].subscribe("finish-init",(()=>{babelHelpers.classPrivateFieldLooseBase(this,o)[o]=true}));babelHelpers.classPrivateFieldLooseBase(this,r)[r].init()}function H(){var e;if(!babelHelpers.classPrivateFieldLooseBase(this,h)[h]()){return}babelHelpers.classPrivateFieldLooseBase(this,b)[b]=(e=babelHelpers.classPrivateFieldLooseBase(this,r)[r])==null?void 0:e.isShown()}function F(){if(!babelHelpers.classPrivateFieldLooseBase(this,h)[h]()){BX.UI.InfoHelper.show("limit_copilot_off");return}if(babelHelpers.classPrivateFieldLooseBase(this,b)[b]){babelHelpers.classPrivateFieldLooseBase(this,P)[P]()}else{babelHelpers.classPrivateFieldLooseBase(this,v)[v]()}}function f(){if(babelHelpers.classPrivateFieldLooseBase(this,o)[o]){babelHelpers.classPrivateFieldLooseBase(this,r)[r].setContext(babelHelpers.classPrivateFieldLooseBase(this,i)[i].blogText);const e=babelHelpers.classPrivateFieldLooseBase(this,t)[t].button.getBoundingClientRect();babelHelpers.classPrivateFieldLooseBase(this,r)[r].show({bindElement:{left:e.left+window.scrollX,top:e.bottom+window.scrollY+10}})}}function y(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].hide()}function w(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i].enabledBySettings==="Y"}e.BlogCopilotReadonly=B})(this.BX.Socialnetwork.Blog.Post=this.BX.Socialnetwork.Blog.Post||{},BX);
//# sourceMappingURL=index.map.js