{"version":3,"sources":["calendar-exclusions.js"],"names":["BX","namespace","Timeman","Component","Schedule","Edit","Calendar","Exclusions","options","containerSelector","BaseComponent","apply","this","arguments","calendarParentId","selectOneByRole","settingsBtn","_currentYear","Date","getFullYear","calendarYear","_months","1","2","3","4","calendarTemplates","exclusionsData","calendarExclusions","length","_getDefaultExclusionsData","_holidays","_weekends","_createCalendars","_addEventHandlers","prototype","__proto__","constructor","quarterSwitchers","selectAllByRole","i","bind","delegate","_onQuarterSwitcherClick","_onSettingsBtnClick","onCalendarYearChange","_addDateClickListeners","e","value","selectedQuarter","cells","container","querySelectorAll","dataset","_onDateClick","controls","_disableHandler","stopPropagation","preventDefault","_removeAllIconsFromSettingsPopup","_settingsPopup","layout","popupItems","menuContainer","removeTakeIcons","j","getMenuItems","item","setDefaultClassOptions","getSubMenu","k","items","className","id","classList","remove","add","_onClearHolidaysClick","close","_markSelectedItemInMenuPopup","calendarData","selected","getMenuItemSelected","selectedItemId","selectedItem","getMenuItem","_onUseCalendarTemplateClick","util","htmlspecialchars","Object","assign","exclusions","currentCountryData","systemCalendarItems","data","text","name","onclick","title","systemCode","nameList","isCurrentCountry","nameSingle","push","titleHolidays","message","keys","unshift","delimiter","PopupMenu","create","angle","maxHeight","closeByEsc","autoHide","show","_calendars","calendarItems","document","calendar","JCCalendar","Show","node","bTime","appendChild","DIV","popup","curMonth","getMonth","querySelector","checked","_initCalendar","month","__month","SetMonth","SetYear","_redrawExclusions","calendarCells","removeClass","day","_drawOneMoreHoliday","all","SetDay","event","currentTarget","quarter","_updateCounters","date","setTime","selectedMonth","_toggleExclusion","getDate","_updateHolidays","_getMonthInQuarterByMonth","_hasExclusion","_removeExclusion","_addExclusion","quarterMonths","includes","months","holidays","key","hasOwnProperty","toString","cnt","textContent","_updateWeekends","weekends","d","getTot","newDate","getDay"],"mappings":"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","file":"calendar-exclusions.map.js"}