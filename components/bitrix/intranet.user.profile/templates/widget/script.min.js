this.BX=this.BX||{};this.BX.Intranet=this.BX.Intranet||{};(function(t,e,s,a,i,n,l){"use strict";var r=function t(){babelHelpers.classCallCheck(this,t)};babelHelpers.defineProperty(r,"eventNameSpace","BX.Intranet.Userprofile:");var o,c;var d=function(){function t(){babelHelpers.classCallCheck(this,t)}babelHelpers.createClass(t,null,[{key:"getOpenSliderFunction",value:function t(e){if(i.Type.isStringFilled(e)){return function(){n.EventEmitter.emit(n.EventEmitter.GLOBAL_TARGET,r.eventNameSpace+"onNeedToHide");BX.SidePanel.Instance.open(e,{cacheable:false,data:{},width:500})}}return function(){}}},{key:"showData",value:function t(e){e.value=parseInt(e.value||0);var s=i.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical" id="user-indicator-pulse">\n\t\t\t\t<div class="system-auth-form__item-block --margin-bottom">\n\t\t\t\t\t<div class="system-auth-form__stress-widget">\n\t\t\t\t\t\t<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content">\n\t\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content-title">','</div>\n\t\t\t\t\t\t\t<div data-role="value" class="system-auth-form__stress-widget--content-progress ','">0</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --stress-widget-sp">\n\t\t\t\t\t\t<div class="system-auth-form__item-block --center --width-100">\n\t\t\t\t\t\t\t<span class="system-auth-form__stress-widget--status  --flex --','">','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__icon-help" onclick="','"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t<div class="system-auth-form__stress-widget--message">',"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),i.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),e.value>0?"":"--empty",i.Text.encode(e.type),i.Text.encode(e.typeDescription),this.getOpenSliderFunction(e.url.result),this.getOpenSliderFunction(e.url.check),i.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),i.Text.encode(e.comment));setTimeout((function(){var t=setInterval((function(e){e.current++;e.node.innerHTML=e.current;if(e.current>=e.end){clearInterval(t)}}),600/e.value,{current:0,end:e.value,node:s.querySelector('[data-role="value"]')});s.querySelector('[data-role="value-degree"]').style.transform="rotate("+1.8*e.value+"deg)"}),1e3);return s}},{key:"showEmpty",value:function t(e){var s=e.url.check;return i.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical --empty-stress --clickable" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-block --margin-bottom">\n\t\t\t\t\t<div class="system-auth-form__stress-widget">\n\t\t\t\t\t\t<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content">\n\t\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content-title">','</div>\n\t\t\t\t\t\t\t<div data-role="value" class="system-auth-form__stress-widget--content-progress --empty">?</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --stress-widget-sp">\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--message">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted">','</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t</div>\n\t\t\t</div>"])),this.getOpenSliderFunction(s),i.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),i.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_TITLE"),i.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),i.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_RESULT_COME_ON"))}},{key:"getPromise",value:function t(e){var s=this;var a=e.signedParameters,n=e.componentName,l=e.userId,r=e.data;return new Promise((function(t,e){var o=r?Promise.resolve({data:r}):i.ajax.runAction("socialnetwork.api.user.stresslevel.get",{signedParameters:a,data:{c:n,fields:{userId:l}}});o.then((function(e){var a=e.data;if(a&&a.id!==undefined&&a.value!==undefined){return t(s.showData(a))}var n=i.Loc.getMessage("USER_ID")===l?s.showEmpty(a):document.createElement("DIV");return t(n)})).catch((function(e){t(s.showData({id:undefined,value:undefined,urls:{check:undefined}}))}))}))}}]);return t}();var m;function _(t,e,s){u(t,e);e.set(t,s)}function u(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var v=new WeakMap;var p=new WeakMap;var h=function(t){babelHelpers.inherits(e,t);function e(t){var s;babelHelpers.classCallCheck(this,e);s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this));_(babelHelpers.assertThisInitialized(s),v,{writable:true,value:void 0});_(babelHelpers.assertThisInitialized(s),p,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),v,Object.assign({},t));babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),v).lightning=String(t.id).indexOf("light:")===0?"light":String(t.id).indexOf("dark:")===0?"dark":null;s.applyTheme=s.applyTheme.bind(babelHelpers.assertThisInitialized(s));s.setEventNamespace(r.eventNameSpace);n.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(function(t){var e=t.data,a=e.id,i=e.theme;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),v).id=a;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),v).lightning=String(a).indexOf("light:")===0?"light":String(a).indexOf("dark:")===0?"dark":null;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),v).title=i.title;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),v).previewImage=i.previewImage;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),v).previewColor=i.previewColor;s.applyTheme()}));return s}babelHelpers.createClass(e,[{key:"applyTheme",value:function t(){var e;var s=this.getContainer();s.querySelector('[data-role="title"]').innerHTML=(e=babelHelpers.classPrivateFieldGet(this,v).title)!==null&&e!==void 0?e:i.Loc.getMessage("AUTH_THEME_DIALOG");if(i.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,v).previewImage)&&babelHelpers.classPrivateFieldGet(this,v).lightning){s.style.removeProperty("backgroundImage");s.style.removeProperty("backgroundSize");s.style.backgroundImage='url("'+babelHelpers.classPrivateFieldGet(this,v).previewImage+'")';s.style.backgroundSize="cover"}else{s.style.background="none"}if(i.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,v).previewColor)){this.getContainer().style.backgroundColor=babelHelpers.classPrivateFieldGet(this,v).previewColor}if(!babelHelpers.classPrivateFieldGet(this,v).lightning){s.style.backgroundColor="rgba(255,255,255,1)"}i.Dom.removeClass(s,"--light --dark");i.Dom.addClass(s,"--"+babelHelpers.classPrivateFieldGet(this,v).lightning)}},{key:"getContainer",value:function t(){var e=this;if(babelHelpers.classPrivateFieldGet(this,p)){return babelHelpers.classPrivateFieldGet(this,p)}var s=function t(){e.emit("onOpen");BX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false)};babelHelpers.classPrivateFieldSet(this,p,i.Tag.render(m||(m=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --border ',' --padding-sm" title="','">\n\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t<div data-role="preview-color" class="system-auth-form__item-logo--image --theme"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title --white-space --block">\n\t\t\t\t\t\t<span data-role="title">Theme</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-content --margin-top-auto --center --center-force">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn" onclick="','">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>"])),babelHelpers.classPrivateFieldGet(this,v).lightning?"--"+babelHelpers.classPrivateFieldGet(this,v).lightning:"",i.Loc.getMessage("AUTH_THEME_DIALOG"),s,i.Loc.getMessage("INTRANET_USER_PROFILE_CHANGE")));setTimeout(this.applyTheme,0);return babelHelpers.classPrivateFieldGet(this,p)}},{key:"getPromise",value:function t(){var e=this;return new Promise((function(t){t(e.getContainer())}))}}]);return e}(n.EventEmitter);var g,b,f,T,y,E;function I(t,e){L(t,e);e.add(t)}function L(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function P(t,e,s){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return s}var S=new WeakSet;var R=function(){function t(e){babelHelpers.classCallCheck(this,t);I(this,S);this.data=e;this.onclickHandle=this.onclickHandle.bind(this)}babelHelpers.createClass(t,[{key:"showData",value:function t(){var e=P(this,S,H).call(this),s=e.myPosition,a=e.userList,n=e.range;var l;if(n>0&&s>0){l=i.Tag.render(g||(g=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t<div class="system-auth-form__item-title --without-margin">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light --margin-s">\n\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t<span class="system-auth-form__icon-help" data-hint="','" data-hint-no-icon></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light" data-role="empty-info">','</div>\n\n\t\t\t\t\t<div class="system-auth-form__item-title --white-space --margin-xl">\n\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t<span class="system-auth-form__ustat-icon --up"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__userlist">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),this.onclickHandle,i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),i.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"),i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":s,"#AMONG#":n}),a)}else{var r=n>0?this.onclickHandle:function(){};l=i.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --without-stat ','" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --lighter" data-role="empty-info">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),n>0?"--clickable":"",r,i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY_BRIEF"))}BX.UI.Hint.init(l);return l}},{key:"onclickHandle",value:function t(e){n.EventEmitter.emit(r.eventNameSpace+"onNeedToHide");if(window["openIntranetUStat"]){openIntranetUStat(e)}}},{key:"showWideData",value:function t(){var e=P(this,S,H).call(this),s=e.myPosition,a=e.userList,n=e.range;var l=i.Tag.render(f||(f=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --center --padding-ustat ','">\n\t\t\t\t<div class="system-auth-form__item-image">\n\t\t\t\t\t<div class="system-auth-form__item-image--src --ustat"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --overflow">\n\t\t\t\t\t<div class="system-auth-form__item-title --xl --without-margin">','</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light" data-role="empty-info">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container--inline" data-role="my-position">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-light --without-margin --margin-right">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title --white-space --margin-xl">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__ustat-icon --up"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__userlist" data-role="user-list">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__icon-help --absolute-right-bottom" data-hint="','" data-hint-no-icon></div>\n\t\t\t</div>\n\t\t'])),n>0?"--clickable":"--without-stat",i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),i.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":s,"#AMONG#":n}),a,i.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"));if(n>0){l.addEventListener("click",this.onclickHandle)}return l}}],[{key:"getPromise",value:function t(e){var s=this;var a=e.userId,n=e.isNarrow,l=e.data;return new Promise((function(t,e){(l?Promise.resolve({data:l}):i.ajax.runComponentAction("bitrix:intranet.ustat.department","getJson",{mode:"class",data:{}})).then((function(e){var a=e.data;var i=new s(a);t(n?i.showData():i.showWideData())})).catch((function(e){e=i.Type.isArray(e)?e:[e];var s=document.createElement("ul");e.forEach((function(t){var e=t.message;var a=document.createElement("li");a.innerHTML=e;a.className="ui-alert-message";s.appendChild(a)}));t(i.Tag.render(T||(T=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div class="ui-alert ui-alert-danger">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>"])),s))}))}))}}]);return t}();function H(){var t=this;var e=document.createDocumentFragment();var s=parseInt(this.data["USERS_RATING"]["position"]);var a=0;var n=i.Type.isPlainObject(this.data["USERS_RATING"]["top"])?Object.values(this.data["USERS_RATING"]["top"]):i.Type.isArray(this.data["USERS_RATING"]["top"])&&this.data["USERS_RATING"]["top"].length>0?babelHelpers.toConsumableArray(this.data["USERS_RATING"]["top"]):[{USER_ID:i.Loc.getMessage("USER_ID"),ACTIVITY:0}];var l=s>5?[].concat(babelHelpers.toConsumableArray(n.slice(0,3)),babelHelpers.toConsumableArray(n.slice(-1)),[null]):n;l.forEach((function(s,n){if(s===null){e.appendChild(i.Tag.render(y||(y=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__userlist-item --list"></div>']))));return}var l=s["ACTIVITY"];var r="";if(t.data["USERS_INFO"][s["USER_ID"]]){l=[t.data["USERS_INFO"][s["USER_ID"]]["FULL_NAME"],": ",s["ACTIVITY"]].join("");r=String(t.data["USERS_INFO"][s["USER_ID"]]["AVATAR_SRC"]).length>0?t.data["USERS_INFO"][s["USER_ID"]]["AVATAR_SRC"]:null}var o=String(s["USER_ID"])===String(i.Loc.getMessage("USER_ID"));if(o){a=s["ACTIVITY"]}e.appendChild(i.Tag.render(E||(E=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div title="','" class="system-auth-form__userlist-item ui-icon ui-icon ui-icon-common-user">\n\t\t\t\t\t\t\t<i ',"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"])),i.Text.encode(l),r?"style=\"background-image: url('".concat(r,"');background-size: cover;\""):""))}));return{userList:e,myPosition:s,range:parseInt(this.data["USERS_RATING"]["range"]),myActivity:a}}var N,O,F,k,A,w,U,M,G,C,x,D,B,z,W,Y,X,q,V,j,K,Q,J,Z;function $(t,e){et(t,e);e.add(t)}function tt(t,e,s){et(t,e);e.set(t,s)}function et(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function st(t,e,s){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return s}var at=Symbol("user.widget");var it=new WeakMap;var nt=new WeakMap;var lt=new WeakMap;var rt=new WeakMap;var ot=new WeakMap;var ct=new WeakSet;var dt=new WeakSet;var mt=new WeakSet;var _t=new WeakSet;var ut=new WeakSet;var vt=new WeakSet;var pt=new WeakSet;var ht=new WeakSet;var gt=new WeakSet;var bt=new WeakSet;var ft=new WeakSet;var Tt=new WeakSet;var yt=new WeakSet;var Et=new WeakSet;var It=function(t){babelHelpers.inherits(s,t);function s(t,e){var a;var n=e.profile,l=n.ID,o=n.FULL_NAME,c=n.PHOTO,d=n.STATUS,m=n.URL,_=n.WORK_POSITION,u=e.component,v=u.componentName,p=u.signedParameters,h=e.features;babelHelpers.classCallCheck(this,s);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).call(this));$(babelHelpers.assertThisInitialized(a),Et);$(babelHelpers.assertThisInitialized(a),yt);$(babelHelpers.assertThisInitialized(a),Tt);$(babelHelpers.assertThisInitialized(a),ft);$(babelHelpers.assertThisInitialized(a),bt);$(babelHelpers.assertThisInitialized(a),gt);$(babelHelpers.assertThisInitialized(a),ht);$(babelHelpers.assertThisInitialized(a),pt);$(babelHelpers.assertThisInitialized(a),vt);$(babelHelpers.assertThisInitialized(a),ut);$(babelHelpers.assertThisInitialized(a),_t);$(babelHelpers.assertThisInitialized(a),mt);$(babelHelpers.assertThisInitialized(a),dt);$(babelHelpers.assertThisInitialized(a),ct);tt(babelHelpers.assertThisInitialized(a),it,{writable:true,value:void 0});tt(babelHelpers.assertThisInitialized(a),nt,{writable:true,value:void 0});tt(babelHelpers.assertThisInitialized(a),lt,{writable:true,value:null});tt(babelHelpers.assertThisInitialized(a),rt,{writable:true,value:{}});tt(babelHelpers.assertThisInitialized(a),ot,{writable:true,value:new i.Cache.MemoryCache});a.setEventNamespace(r.eventNameSpace);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),it,t);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),lt,{ID:l,FULL_NAME:o,PHOTO:c,STATUS:d,URL:m,WORK_POSITION:_});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),rt,h);if(!i.Type.isStringFilled(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),rt).browser)){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),rt).browser=i.Browser.isLinux()?"Linux":i.Browser.isWin()?"Windows":"MacOs"}babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),ot).set("componentParams",{componentName:v,signedParameters:p});a.hide=a.hide.bind(babelHelpers.assertThisInitialized(a));return a}babelHelpers.createClass(s,[{key:"toggle",value:function t(){if(this.getPopup().isShown()){this.hide()}else{this.show()}}},{key:"hide",value:function t(){this.getPopup().close()}},{key:"show",value:function t(){this.getPopup().show()}},{key:"getPopup",value:function t(){var s,a;if(babelHelpers.classPrivateFieldGet(this,nt)){return babelHelpers.classPrivateFieldGet(this,nt)}var l=[st(this,ct,Lt).call(this),st(this,dt,Pt).call(this)?{html:st(this,dt,Pt).call(this),backgroundColor:"#fafafa"}:null,st(this,mt,St).call(this)?{html:st(this,mt,St).call(this),backgroundColor:"#fafafa"}:null,[{html:st(this,_t,Rt).call(this),marginBottom:24,overflow:true},{html:st(this,ut,Ht).call(this),disabled:true,backgroundColor:"#fafafa"}],st(this,vt,Nt).call(this,!!st(this,pt,Ot).call(this))?[{html:st(this,vt,Nt).call(this,!!st(this,pt,Ot).call(this)),overflow:true,marginBottom:24,flex:st(this,pt,Ot).call(this)?.5:1},st(this,pt,Ot).call(this)]:null,st(this,bt,At).call(this,st(this,gt,kt).call(this)===null)&&st(this,gt,kt).call(this)?[{flex:.5,html:st(this,ht,Ft).call(this,.7)},[{html:st(this,gt,kt).call(this),displayBlock:true},st(this,bt,At).call(this)]]:st(this,gt,kt).call(this)||st(this,bt,At).call(this)?[{html:st(this,ht,Ft).call(this,2),flex:2},(s=st(this,gt,kt).call(this))!==null&&s!==void 0?s:st(this,bt,At).call(this)]:st(this,ht,Ft).call(this,0),st(this,ft,wt).call(this),{html:st(this,Tt,Ut).call(this),marginBottom:24,backgroundColor:"#fafafa"},[{html:(a=st(this,yt,Mt).call(this))!==null&&a!==void 0?a:null,backgroundColor:"#fafafa"},{html:st(this,Et,Gt).call(this),backgroundColor:"#fafafa"}]];var o=function t(e){var s=[];if(i.Type.isArray(e)){for(var a=0;a<e.length;a++){if(i.Type.isArray(e[a])){var n=t(e[a]);if(n!==null){if(i.Type.isArray(n)&&n.length===1){s.push(n[0])}else{s.push(n)}}}else if(e[a]!==null){s.push(e[a])}}}return s.length<=0?null:s.length===1?s[0]:s};l=o(l);var c=function t(e,s,a){if(i.Type.isArray(e)){return{html:e.map(t)}}return{flex:e["flex"]||0,html:e["html"]||e,backgroundColor:e["backgroundColor"]||null,disabled:e["disabled"]||null,overflow:e["overflow"]||null,marginBottom:e["marginBottom"]||null,displayBlock:e["displayBlock"]||null}};babelHelpers.classPrivateFieldSet(this,nt,new e.PopupComponentsMaker({target:babelHelpers.classPrivateFieldGet(this,it),content:l.map(c),width:400}));n.EventEmitter.subscribe("BX.Main.InterfaceButtons:onMenuShow",this.hide);n.EventEmitter.subscribe(r.eventNameSpace+"onNeedToHide",this.hide);return babelHelpers.classPrivateFieldGet(this,nt)}}],[{key:"init",value:function t(e,s){var a=this;if(e[at]){return}var i=function t(){if(!e["popupSymbol"]){e["popupSymbol"]=new a(e,s)}e["popupSymbol"].toggle();a.instance=e["popupSymbol"]};e[at]=true;e.addEventListener("click",i);setTimeout(i,100)}},{key:"getInstance",value:function t(){return this.instance}}]);return s}(n.EventEmitter);function Lt(){var t=this;return babelHelpers.classPrivateFieldGet(this,ot).remember("profile",(function(){var e=function e(s){t.hide();return BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldGet(t,lt).URL)};var s=i.Tag.render(N||(N=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<span class="system-auth-form__profile-avatar--image"\n\t\t\t\t\t',">\n\t\t\t\t</span>\n\t\t\t\t"])),babelHelpers.classPrivateFieldGet(t,lt).PHOTO?"\n\t\t\t\t\t\tstyle=\"background-size: cover; background-image: url('".concat(babelHelpers.classPrivateFieldGet(t,lt).PHOTO,"')\""):"");var a=i.Tag.render(O||(O=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__profile-name">',"</div>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(t,lt).FULL_NAME);n.EventEmitter.subscribe(n.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Avatar:changed",(function(e){var a=babelHelpers.slicedToArray(e.data,1),n=a[0].url;babelHelpers.classPrivateFieldGet(t,lt).PHOTO=n;s.style=i.Type.isStringFilled(n)?"background-size: cover; background-image: url('".concat(babelHelpers.classPrivateFieldGet(t,lt).PHOTO,"')"):""}));n.EventEmitter.subscribe(n.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Name:changed",(function(e){var s=babelHelpers.slicedToArray(e.data,1),i=s[0].fullName;babelHelpers.classPrivateFieldGet(t,lt).FULL_NAME=i;a.innerHTML=i;babelHelpers.classPrivateFieldGet(t,it).querySelector("#user-name").innerHTML=i}));var l=i.Type.isStringFilled(babelHelpers.classPrivateFieldGet(t,lt).WORK_POSITION)?i.Text.encode(babelHelpers.classPrivateFieldGet(t,lt).WORK_POSITION):"";if(babelHelpers.classPrivateFieldGet(t,lt).STATUS&&i.Loc.hasMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldGet(t,lt).STATUS)){l=i.Loc.getMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldGet(t,lt).STATUS)}return i.Tag.render(F||(F=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="','">\n\t\t\t\t\t<div class="system-auth-form__profile">\n\t\t\t\t\t\t<div class="system-auth-form__profile-avatar">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__profile-content --margin--right">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<div class="system-auth-form__profile-position">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__profile-controls">\n\t\t\t\t\t\t\t<span class="ui-qr-popupcomponentmaker__btn --large --border" >\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t \t\t\x3c!-- <span class="ui-qr-popupcomponentmaker__btn --large --success">any text</span> --\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'])),e,s,a,l,i.Loc.getMessage("INTRANET_USER_PROFILE_PROFILE"))}))}function Pt(){var t=this;return babelHelpers.classPrivateFieldGet(this,ot).remember("b24netPanel",(function(){if(babelHelpers.classPrivateFieldGet(t,rt)["b24netPanel"]!=="Y"){return null}return i.Tag.render(k||(k=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="https://www.bitrix24.net/">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --network"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t"])),i.Loc.getMessage("AUTH_PROFILE_B24NET"),i.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function St(){var t=this;return babelHelpers.classPrivateFieldGet(this,ot).remember("adminPanel",(function(){if(babelHelpers.classPrivateFieldGet(t,rt)["adminPanel"]!=="Y"){return null}return i.Tag.render(A||(A=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="/bitrix/admin/">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --admin-panel"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t"])),i.Loc.getMessage("INTRANET_USER_PROFILE_ADMIN_PANEL"),i.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function Rt(){var t=this;return babelHelpers.classPrivateFieldGet(this,ot).remember("themePicker",(function(){if(babelHelpers.classPrivateFieldGet(t,rt)["themePicker"]===null){return null}var e=new h(babelHelpers.classPrivateFieldGet(t,rt)["themePicker"]);e.subscribe("onOpen",t.hide);return e.getPromise()}))}function Ht(){return babelHelpers.classPrivateFieldGet(this,ot).remember("Mask",(function(){return i.Tag.render(w||(w=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --mask"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__icon-help"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-new --soon">\n\t\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),i.Loc.getMessage("INTRANET_USER_PROFILE_MASKS"),i.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"),i.Loc.getMessage("INTRANET_USER_PROFILE_SOON"))}))}function Nt(t){var e=this;return babelHelpers.classPrivateFieldGet(this,ot).remember("getCompanyPulse",(function(){if(babelHelpers.classPrivateFieldGet(e,rt).pulse==="Y"&&babelHelpers.classPrivateFieldGet(e,lt).ID>0&&babelHelpers.classPrivateFieldGet(e,lt).ID===i.Loc.getMessage("USER_ID")){var s;return R.getPromise({userId:babelHelpers.classPrivateFieldGet(e,lt).ID,isNarrow:t,data:(s=babelHelpers.classPrivateFieldGet(e,rt)["pulseData"])!==null&&s!==void 0?s:null})}return null}))}function Ot(){var t=this;if(babelHelpers.classPrivateFieldGet(this,rt)["stressLevel"]!=="Y"){return null}var e=babelHelpers.classPrivateFieldGet(this,ot).remember("getStressLevel",(function(){var e;return d.getPromise({signedParameters:babelHelpers.classPrivateFieldGet(t,ot).get("componentParams").signedParameters,componentName:babelHelpers.classPrivateFieldGet(t,ot).get("componentParams").componentName,userId:babelHelpers.classPrivateFieldGet(t,lt).ID,data:(e=babelHelpers.classPrivateFieldGet(t,rt)["stressLevelData"])!==null&&e!==void 0?e:null})}));babelHelpers.classPrivateFieldGet(this,ot).delete("componentParams");return e}function Ft(t){var e=this;return babelHelpers.classPrivateFieldGet(this,ot).remember("getQrContainer",(function(){var s=babelHelpers.classPrivateFieldGet(e,rt)["appInstalled"]["APP_ANDROID_INSTALLED"]==="Y"||babelHelpers.classPrivateFieldGet(e,rt)["appInstalled"]["APP_IOS_INSTALLED"]==="Y";var a=function t(){e.hide();new l.QrAuthorization({title:i.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_TITLE2"),content:i.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_BODY2"),helpLink:""}).show()};var n=function t(s){top.BX.Helper.show("redirect=detail&code=14999860");e.hide();s.preventDefault();s.stopPropagation();return false};var r;if(t!==2&&t!==0){r=i.Tag.render(U||(U=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ','  --clickable" onclick="','" style="padding: 10px 14px">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --center --column --center">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --center --margin-xl">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__qr" style="margin-bottom: 12px">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="','">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__icon-help --absolute" onclick="','" title="','"></div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",a,i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),a,i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR_SMALL"),n,i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"))}else if(t===0){r=i.Tag.render(M||(M=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ',' --padding-qr-xl">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --column --flex --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --l">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --large --border" style="margin-top: auto" onclick="','">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --qr">\n\t\t\t\t\t\t\t<div class="system-auth-form__qr --full-size"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2"),n,i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),a,i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}else{r=i.Tag.render(G||(G=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ',' --padding-mid-qr  --clickable" onclick="','">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --column --flex --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --block">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t<span class="system-auth-form__icon-help --inline" onclick="','" title="','"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="','">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --qr">\n\t\t\t\t\t\t\t<div class="system-auth-form__qr --size-2"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",a,i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),n,i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),a,i.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}return r}))}function kt(){var t=this;if(babelHelpers.classPrivateFieldGet(this,rt).browser==="Linux"){return null}return babelHelpers.classPrivateFieldGet(this,ot).remember("getDeskTopContainer",(function(){var e=babelHelpers.classPrivateFieldGet(t,rt)["appInstalled"]["APP_MAC_INSTALLED"]==="Y";var a="--apple";var n=i.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_APPLE");var l="https://dl.bitrix24.com/b24/bitrix24_desktop.dmg";if(babelHelpers.classPrivateFieldGet(t,rt).browser==="Windows"){e=babelHelpers.classPrivateFieldGet(t,rt)["appInstalled"]["APP_WINDOWS_INSTALLED"]==="Y";a="--windows";n=i.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_WINDOWS");l="https://dl.bitrix24.com/b24/bitrix24_desktop.exe"}var r=e?function(t){t.preventDefault();t.stopPropagation();return false}:function(){t.hide();return true};if(i.Type.isPlainObject(babelHelpers.classPrivateFieldGet(t,rt)["otp"])===false){var o=null;var c=function e(a){o=o||new s.Menu({className:"system-auth-form__popup",bindElement:a.target,items:[{text:i.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD"),href:l,onclick:function e(){o.close();t.hide()}}],angle:true,offsetLeft:10,events:{onShow:function e(){t.getPopup().getPopup().setAutoHide(false)},onClose:function e(){t.getPopup().getPopup().setAutoHide(true)}}});o.toggle()};return i.Tag.render(C||(C=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div data-role="desktop-item" class="system-auth-form__item system-auth-form__scope --padding-sm-all ',' --vertical --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t','\n\t\t\t\t\t\t<div class="system-auth-form__item-container --flex --center --display-flex">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --light --center --s">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --flex --center --display-flex">\n\t\t\t\t\t\t\t<a class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" href="','" target="_blank" onclick="','">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"])),e?" --active":"",a,e?i.Tag.render(x||(x=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__config --absolute" onclick="','"></div>'])),c):"",n,l,r,e?i.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):i.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}return i.Tag.render(D||(D=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ','">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title ','"">',"</div>\n\t\t\t\t\t\t",'\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t<a class="ui-qr-popupcomponentmaker__btn" href="','" target="_blank" onclick="','">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),e?" --active":"",a,e?" --without-margin":"--min-height",n,e?i.Tag.render(B||(B=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t\t<a href="','" class="system-auth-form__item-title --link-dotted">',"</a>\n\t\t\t\t\t\t\t"])),l,i.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD")):"",l,r,e?i.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):i.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}))}function At(t){var e=this;if(i.Type.isPlainObject(babelHelpers.classPrivateFieldGet(this,rt)["otp"])===false){return null}return babelHelpers.classPrivateFieldGet(this,ot).remember("getOTPContainer",(function(){var a=babelHelpers.classPrivateFieldGet(e,rt)["otp"]["IS_ACTIVE"]==="Y"||babelHelpers.classPrivateFieldGet(e,rt)["otp"]["IS_ACTIVE"]===true;var n=function t(){e.hide();if(String(babelHelpers.classPrivateFieldGet(e,rt)["otp"]["URL"]).length>0){i.Uri.addParam(babelHelpers.classPrivateFieldGet(e,rt)["otp"]["URL"],{page:"otpConnected"});BX.SidePanel.Instance.open(i.Uri.addParam(babelHelpers.classPrivateFieldGet(e,rt)["otp"]["URL"],{page:"otpConnected"}),{width:1100})}else{console.error("Otp page is not defined. Check the component params")}};var l=a?i.Tag.render(z||(z=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="','">',"</div>"])),n,i.Loc.getMessage("INTRANET_USER_PROFILE_TURNED_ON")):i.Tag.render(W||(W=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="','">',"</div>"])),n,i.Loc.getMessage("INTRANET_USER_PROFILE_TURN_ON"));var r=function t(){top.BX.Helper.show("redirect=detail&code=6641271");e.hide()};if(t!==true){return i.Tag.render(Y||(Y=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ','">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --authentication"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --flex --column --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --without-margin --block">\n\t\t\t\t\t\t\t\t','&nbsp;<span class="system-auth-form__icon-help --inline" onclick="','"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<div class="system-auth-form__item-content --margin-top-auto --center --center-force">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\n\t\t\t\t"])),a?" --active":"",i.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),r,a?i.Tag.render(X||(X=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">',"</div>\n\t\t\t\t\t\t\t\t"])),n,i.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE")):"",l,a?"":'\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">'.concat(i.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE"),"</div>\n\t\t\t\t\t\t\t</div>"))}var o=null;var c=function t(a){o=o||new s.Menu({className:"system-auth-form__popup",bindElement:a.target,items:[{text:i.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE"),onclick:function t(){o.close();n()}}],angle:true,offsetLeft:10,events:{onShow:function t(){e.getPopup().getPopup().setAutoHide(false)},onClose:function t(){e.getPopup().getPopup().setAutoHide(true)}}});o.toggle()};return i.Tag.render(q||(q=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm-all ',' --vertical --center">\n\t\t\t\t\t<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --authentication"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --flex">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light --center --s">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\x3c!-- <span class="system-auth-form__icon-help" onclick="','"></span> --\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t','\n\t\t\t\t\t<div class="system-auth-form__item-container --flex --column --space-around">\n\t\t\t\t\t\t<div class="system-auth-form__item-content --flex --display-flex">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"])),a?" --active":"",i.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),r,a?i.Tag.render(V||(V=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__config --absolute" onclick="','"></div>'])),c):"",l,a?"":'\n\t\t\t\t\t\t<div class="system-auth-form__item-new system-auth-form__item-new-icon --ssl">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">'.concat(i.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE"),"</div>\n\t\t\t\t\t\t</div>"))}))}function wt(){var t=this;return babelHelpers.classPrivateFieldGet(this,ot).remember("getLoginHistoryContainer",(function(){if(babelHelpers.classPrivateFieldGet(t,rt)["history"]){i.Tag.render(j||(j=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical">\n\t\t\t\t\t<div class="system-auth-form__item-container --center --border">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --history"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --sm">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content">\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border">Logout</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__visited">\n\t\t\t\t\t\t<div class="system-auth-form__visited-item">\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-icon --apple"></div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-text">Device 2</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-action"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__visited-item">\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-icon --android"></div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-text">Device 1</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-action"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__show-history">Logout</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'])),i.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_TITLE"))}var e=i.Tag.render(K||(K=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --center --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --history-gray"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-new --soon">\n\t\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),i.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_TITLE"),i.Loc.getMessage("INTRANET_USER_PROFILE_SOON"));return{html:e,disabled:true,backgroundColor:"#fafafa"}}))}function Ut(){var t=this;if(!(i.Type.isPlainObject(babelHelpers.classPrivateFieldGet(this,rt)["bindings"])&&i.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,rt)["bindings"]["text"])&&i.Type.isArray(babelHelpers.classPrivateFieldGet(this,rt)["bindings"]["items"])&&babelHelpers.classPrivateFieldGet(this,rt)["bindings"]["items"].length>0)){return null}return babelHelpers.classPrivateFieldGet(this,ot).remember("getBindingsContainer",(function(){var e=i.Tag.render(Q||(Q=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --center --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --binding"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div data-role="arrow" class="system-auth-form__item-icon --arrow-right"></div>\n\t\t\t\t</div>\n\t\t\t'])),i.Text.encode(babelHelpers.classPrivateFieldGet(t,rt)["bindings"]["text"]));e.addEventListener("click",(function(){t.__bindingsMenu=t.__bindingsMenu||new s.Menu({className:"system-auth-form__popup",bindElement:e.querySelector('[data-role="arrow"]'),items:babelHelpers.classPrivateFieldGet(t,rt)["bindings"]["items"],angle:true,cachable:false,offsetLeft:10,events:{onShow:function e(){t.getPopup().getPopup().setAutoHide(false)},onClose:function e(){t.getPopup().getPopup().setAutoHide(true);if(t.__bindingsMenu.isNeedToHide!==false){t.hide()}}}});t.__bindingsMenu.isNeedToHide=false;t.__bindingsMenu.toggle();setTimeout((function(){t.__bindingsMenu.isNeedToHide=true}),0)}));return e}))}function Mt(){var t=this;if(babelHelpers.classPrivateFieldGet(this,rt)["im"]!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,ot).remember("getNotificationContainer",(function(){var e=i.Tag.render(J||(J=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --notification"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),i.Loc.getMessage("AUTH_NOTIFICATION"));e.addEventListener("click",(function(){t.hide();BXIM.openSettings({onlyPanel:"notify"})}));return e}))}function Gt(){return babelHelpers.classPrivateFieldGet(this,ot).remember("getLogoutContainer",(function(){var t=new i.Uri(window.location.pathname);t.removeQueryParam(["logout","login","back_url_pub","user_lang"]);var e=new i.Uri("/auth/?logout=yes");e.setQueryParam("sessid",BX.bitrix_sessid());e.setQueryParam("backurl",encodeURIComponent(t.toString()));return i.Tag.render(Z||(Z=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --logout"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a href="','" class="system-auth-form__item-link-all"></a>\n\t\t\t\t</div>\n\t\t\t'])),i.Loc.getMessage("AUTH_LOGOUT"),e.toString())}))}babelHelpers.defineProperty(It,"instance",null);t.Widget=It})(this.BX.Intranet.UserProfile=this.BX.Intranet.UserProfile||{},BX.UI,BX.Main,BX,BX,BX.Event,BX.UI);
//# sourceMappingURL=script.map.js