this.BX=this.BX||{};this.BX.Intranet=this.BX.Intranet||{};(function(t,e,s,a,i,l,n,r){"use strict";var o=function t(){babelHelpers.classCallCheck(this,t)};babelHelpers.defineProperty(o,"eventNameSpace","BX.Intranet.Userprofile:");var c,d;var m=function(){function t(){babelHelpers.classCallCheck(this,t)}babelHelpers.createClass(t,null,[{key:"getOpenSliderFunction",value:function t(e){if(l.Type.isStringFilled(e)){return function(){n.EventEmitter.emit(n.EventEmitter.GLOBAL_TARGET,o.eventNameSpace+"onNeedToHide");BX.SidePanel.Instance.open(e,{cacheable:false,data:{},width:500})}}return function(){}}},{key:"showData",value:function t(e){e.value=parseInt(e.value||0);var s=l.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical" id="user-indicator-pulse">\n\t\t\t\t<div class="system-auth-form__item-block --margin-bottom">\n\t\t\t\t\t<div class="system-auth-form__stress-widget">\n\t\t\t\t\t\t<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content">\n\t\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content-title">','</div>\n\t\t\t\t\t\t\t<div data-role="value" class="system-auth-form__stress-widget--content-progress ','">0</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --stress-widget-sp">\n\t\t\t\t\t\t<div class="system-auth-form__item-block --center --width-100">\n\t\t\t\t\t\t\t<span class="system-auth-form__stress-widget--status  --flex --','">','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__icon-help" onclick="','"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t<div class="system-auth-form__stress-widget--message">',"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),e.value>0?"":"--empty",l.Text.encode(e.type),l.Text.encode(e.typeDescription),this.getOpenSliderFunction(e.url.result),this.getOpenSliderFunction(e.url.check),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),l.Text.encode(e.comment));setTimeout((function(){var t=setInterval((function(e){e.current++;e.node.innerHTML=e.current;if(e.current>=e.end){clearInterval(t)}}),600/e.value,{current:0,end:e.value,node:s.querySelector('[data-role="value"]')});s.querySelector('[data-role="value-degree"]').style.transform="rotate("+1.8*e.value+"deg)"}),1e3);return s}},{key:"showEmpty",value:function t(e){var s=e.url.check;return l.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical --empty-stress --clickable" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-block --margin-bottom">\n\t\t\t\t\t<div class="system-auth-form__stress-widget">\n\t\t\t\t\t\t<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content">\n\t\t\t\t\t\t\t<div class="system-auth-form__stress-widget--content-title">','</div>\n\t\t\t\t\t\t\t<div data-role="value" class="system-auth-form__stress-widget--content-progress --empty">?</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --stress-widget-sp">\n\t\t\t\t\t\t<div class="system-auth-form__stress-widget--message">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-block --flex --center">\n\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted">','</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t</div>\n\t\t\t</div>"])),this.getOpenSliderFunction(s),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),l.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_RESULT_COME_ON"))}},{key:"getPromise",value:function t(e){var s=this;var a=e.signedParameters,i=e.componentName,n=e.userId,r=e.data;return new Promise((function(t,e){var o=r?Promise.resolve({data:r}):l.ajax.runAction("socialnetwork.api.user.stresslevel.get",{signedParameters:a,data:{c:i,fields:{userId:n}}});o.then((function(e){var a=e.data;if(a&&a.id!==undefined&&a.value!==undefined){return t(s.showData(a))}var i=l.Loc.getMessage("USER_ID")===n?s.showEmpty(a):document.createElement("DIV");return t(i)}))["catch"]((function(e){t(s.showData({id:undefined,value:undefined,urls:{check:undefined}}))}))}))}}]);return t}();var u;function v(t,e,s){_(t,e);e.set(t,s)}function _(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var p=new WeakMap;var h=new WeakMap;var b=function(t){babelHelpers.inherits(e,t);function e(t){var s;babelHelpers.classCallCheck(this,e);s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this));v(babelHelpers.assertThisInitialized(s),p,{writable:true,value:void 0});v(babelHelpers.assertThisInitialized(s),h,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),p,Object.assign({},t));babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),p).lightning=String(t.id).indexOf("light:")===0?"light":String(t.id).indexOf("dark:")===0?"dark":null;s.applyTheme=s.applyTheme.bind(babelHelpers.assertThisInitialized(s));s.setEventNamespace(o.eventNameSpace);n.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(function(t){var e=t.data,a=e.id,i=e.theme;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),p).id=a;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),p).lightning=String(a).indexOf("light:")===0?"light":String(a).indexOf("dark:")===0?"dark":null;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),p).title=i.title;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),p).previewImage=i.previewImage;babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),p).previewColor=i.previewColor;s.applyTheme()}));return s}babelHelpers.createClass(e,[{key:"applyTheme",value:function t(){var e;var s=this.getContainer();s.querySelector('[data-role="title"]').innerHTML=(e=babelHelpers.classPrivateFieldGet(this,p).title)!==null&&e!==void 0?e:l.Loc.getMessage("AUTH_THEME_DIALOG");if(l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,p).previewImage)&&babelHelpers.classPrivateFieldGet(this,p).lightning){s.style.removeProperty("backgroundImage");s.style.removeProperty("backgroundSize");s.style.backgroundImage='url("'+babelHelpers.classPrivateFieldGet(this,p).previewImage+'")';s.style.backgroundSize="cover"}else{s.style.background="none"}if(l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,p).previewColor)){this.getContainer().style.backgroundColor=babelHelpers.classPrivateFieldGet(this,p).previewColor}if(!babelHelpers.classPrivateFieldGet(this,p).lightning){s.style.backgroundColor="rgba(255,255,255,1)"}l.Dom.removeClass(s,"--light --dark");l.Dom.addClass(s,"--"+babelHelpers.classPrivateFieldGet(this,p).lightning)}},{key:"getContainer",value:function t(){var e=this;if(babelHelpers.classPrivateFieldGet(this,h)){return babelHelpers.classPrivateFieldGet(this,h)}var s=function t(){e.emit("onOpen");BX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false)};babelHelpers.classPrivateFieldSet(this,h,l.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --border ',' --padding-sm" title="','">\n\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t<div data-role="preview-color" class="system-auth-form__item-logo--image --theme"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title --white-space --block">\n\t\t\t\t\t\t<span data-role="title">Theme</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-content --margin-top-auto --center --center-force">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn" onclick="','">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>"])),babelHelpers.classPrivateFieldGet(this,p).lightning?"--"+babelHelpers.classPrivateFieldGet(this,p).lightning:"",l.Loc.getMessage("AUTH_THEME_DIALOG"),s,l.Loc.getMessage("INTRANET_USER_PROFILE_CHANGE")));setTimeout(this.applyTheme,0);return babelHelpers.classPrivateFieldGet(this,h)}},{key:"getPromise",value:function t(){var e=this;return new Promise((function(t){t(e.getContainer())}))}}]);return e}(n.EventEmitter);var g,f,T;function y(t,e,s){E(t,e);e.set(t,s)}function E(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var I=new WeakMap;var P=new WeakMap;var L=new WeakMap;var H=new WeakMap;var S=new WeakMap;var R=function(t){babelHelpers.inherits(e,t);function e(t){var s;babelHelpers.classCallCheck(this,e);s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this));y(babelHelpers.assertThisInitialized(s),I,{writable:true,value:void 0});y(babelHelpers.assertThisInitialized(s),P,{writable:true,value:false});y(babelHelpers.assertThisInitialized(s),L,{writable:true,value:false});y(babelHelpers.assertThisInitialized(s),H,{writable:true,value:{scr:null,maskId:null}});y(babelHelpers.assertThisInitialized(s),S,{writable:true,value:void 0});s.setEventNamespace(o.eventNameSpace);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),P,t!==undefined);if(l.Type.isPlainObject(t)){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(s),H).src=t.src}s.getContainer();if(l.Type.isPlainObject(t)&&t.maskId){s.installMask(t.maskId)}else{s.uninstallMask()}return s}babelHelpers.createClass(e,[{key:"getEditor",value:function t(){var e=this;if(babelHelpers.classPrivateFieldGet(this,S)){return babelHelpers.classPrivateFieldGet(this,S)}if(!babelHelpers.classPrivateFieldGet(this,P)){return null}babelHelpers.classPrivateFieldSet(this,S,i.Editor.getOrCreateInstanceById("intranet-user-profile-photo-file",{enableCamera:true,enableMask:true}));babelHelpers.classPrivateFieldGet(this,S).subscribe("onApply",(function(t){var s=t.data.maskedBlob;if(s){return e.installMask(s["maskId"])}e.uninstallMask()}));babelHelpers.classPrivateFieldGet(this,S).subscribeOnFormIsReady("newPhoto",(function(t){var s=t.data.form;e.emit("onChangePhoto",s)}));babelHelpers.classPrivateFieldGet(this,S).loadData(babelHelpers.classPrivateFieldGet(this,H));return babelHelpers.classPrivateFieldGet(this,S)}},{key:"getContainer",value:function t(){var e=this;if(babelHelpers.classPrivateFieldGet(this,I)instanceof HTMLElement){return babelHelpers.classPrivateFieldGet(this,I)}if(!babelHelpers.classPrivateFieldGet(this,P)){babelHelpers.classPrivateFieldSet(this,I,l.Tag.render(g||(g=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --mask"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__icon-help"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-new --soon">\n\t\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_MASKS"),l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"),l.Loc.getMessage("INTRANET_USER_PROFILE_SOON")))}else{var s=function t(){e.emit("onOpen");e.getEditor().show("mask")};var a=l.Tag.render(f||(f=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" onclick="','"></div>'])),s);babelHelpers.classPrivateFieldSet(this,I,l.Tag.render(T||(T=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --changeable --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --mask"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_MASKS"),a));this.subscribe("onInstall",(function(){a.innerHTML=l.Loc.getMessage("INTRANET_USER_PROFILE_CHANGE");l.Dom.addClass(babelHelpers.classPrivateFieldGet(e,I),"--active")}));this.subscribe("onUninstall",(function(){a.innerHTML=l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL");l.Dom.removeClass(babelHelpers.classPrivateFieldGet(e,I),"--active")}))}return babelHelpers.classPrivateFieldGet(this,I)}},{key:"getPromise",value:function t(){var e=this;return new Promise((function(t){t(e.getContainer())}))}},{key:"installMask",value:function t(e){babelHelpers.classPrivateFieldSet(this,L,true);babelHelpers.classPrivateFieldGet(this,H).maskId=e;this.emit("onInstall")}},{key:"uninstallMask",value:function t(){babelHelpers.classPrivateFieldSet(this,L,false);babelHelpers.classPrivateFieldGet(this,H).maskId=null;this.emit("onUninstall")}}]);return e}(n.EventEmitter);var N,k,F,O,w,A;function M(t,e){U(t,e);e.add(t)}function U(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function G(t,e,s){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return s}var C=new WeakSet;var x=function(){function t(e){babelHelpers.classCallCheck(this,t);M(this,C);this.data=e;this.onclickHandle=this.onclickHandle.bind(this)}babelHelpers.createClass(t,[{key:"showData",value:function t(){var e=G(this,C,D).call(this),s=e.myPosition,a=e.userList,i=e.range;var n;if(i>0&&s>0){n=l.Tag.render(N||(N=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t<div class="system-auth-form__item-title --without-margin">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light --margin-s">\n\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t<span class="system-auth-form__icon-help" data-hint="','" data-hint-no-icon></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light" data-role="empty-info">','</div>\n\n\t\t\t\t\t<div class="system-auth-form__item-title --white-space --margin-xl">\n\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t<span class="system-auth-form__ustat-icon --up"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__userlist">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),this.onclickHandle,l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),l.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":s,"#AMONG#":i}),a)}else{var r=i>0?this.onclickHandle:function(){};n=l.Tag.render(k||(k=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --without-stat ','" onclick="','">\n\t\t\t\t<div class="system-auth-form__item-container --flex --column">\n\t\t\t\t\t<div class="system-auth-form__item-title">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --lighter" data-role="empty-info">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),i>0?"--clickable":"",r,l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY_BRIEF"))}BX.UI.Hint.init(n);return n}},{key:"onclickHandle",value:function t(e){n.EventEmitter.emit(o.eventNameSpace+"onNeedToHide");if(window["openIntranetUStat"]){openIntranetUStat(e)}}},{key:"showWideData",value:function t(){var e=G(this,C,D).call(this),s=e.myPosition,a=e.userList,i=e.range;var n=l.Tag.render(F||(F=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="system-auth-form__item system-auth-form__scope --center --padding-ustat ','">\n\t\t\t\t<div class="system-auth-form__item-image">\n\t\t\t\t\t<div class="system-auth-form__item-image--src --ustat"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --overflow">\n\t\t\t\t\t<div class="system-auth-form__item-title --xl --without-margin">','</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t<div class="system-auth-form__item-title --link-light" data-role="empty-info">','</div>\n\t\t\t\t\t<div class="system-auth-form__item-container--inline" data-role="my-position">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --link-light --without-margin --margin-right">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-title --white-space --margin-xl">\n\t\t\t\t\t\t\t<span>','</span>\n\t\t\t\t\t\t\t<span class="system-auth-form__ustat-icon --up"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__userlist" data-role="user-list">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="system-auth-form__icon-help --absolute-right-bottom" data-hint="','" data-hint-no-icon></div>\n\t\t\t</div>\n\t\t'])),i>0?"--clickable":"--without-stat",l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),l.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":s,"#AMONG#":i}),a,l.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"));if(i>0){n.addEventListener("click",this.onclickHandle)}return n}}],[{key:"getPromise",value:function t(e){var s=this;var a=e.userId,i=e.isNarrow,n=e.data;return new Promise((function(t,e){(n?Promise.resolve({data:n}):l.ajax.runComponentAction("bitrix:intranet.ustat.department","getJson",{mode:"class",data:{}})).then((function(e){var a=e.data;var l=new s(a);t(i?l.showData():l.showWideData())}))["catch"]((function(e){e=l.Type.isArray(e)?e:[e];var s=document.createElement("ul");e.forEach((function(t){var e=t.message;var a=document.createElement("li");a.innerHTML=e;a.className="ui-alert-message";s.appendChild(a)}));t(l.Tag.render(O||(O=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div class="ui-alert ui-alert-danger">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>"])),s))}))}))}}]);return t}();function D(){var t=this;var e=document.createDocumentFragment();var s=parseInt(this.data["USERS_RATING"]["position"]);var a=0;var i=l.Type.isPlainObject(this.data["USERS_RATING"]["top"])?Object.values(this.data["USERS_RATING"]["top"]):l.Type.isArray(this.data["USERS_RATING"]["top"])&&this.data["USERS_RATING"]["top"].length>0?babelHelpers.toConsumableArray(this.data["USERS_RATING"]["top"]):[{USER_ID:l.Loc.getMessage("USER_ID"),ACTIVITY:0}];var n=s>5?[].concat(babelHelpers.toConsumableArray(i.slice(0,3)),babelHelpers.toConsumableArray(i.slice(-1)),[null]):i;n.forEach((function(s,i){if(s===null){e.appendChild(l.Tag.render(w||(w=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__userlist-item --list"></div>']))));return}var n=s["ACTIVITY"];var r="";if(t.data["USERS_INFO"][s["USER_ID"]]){n=[t.data["USERS_INFO"][s["USER_ID"]]["FULL_NAME"],": ",s["ACTIVITY"]].join("");r=String(t.data["USERS_INFO"][s["USER_ID"]]["AVATAR_SRC"]).length>0?t.data["USERS_INFO"][s["USER_ID"]]["AVATAR_SRC"]:null}var o=String(s["USER_ID"])===String(l.Loc.getMessage("USER_ID"));if(o){a=s["ACTIVITY"]}e.appendChild(l.Tag.render(A||(A=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t<div title="','" class="system-auth-form__userlist-item ui-icon ui-icon ui-icon-common-user">\n\t\t\t\t\t\t\t<i ',"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"])),l.Text.encode(n),r?"style=\"background-image: url('".concat(r,"');background-size: cover;\""):""))}));return{userList:e,myPosition:s,range:parseInt(this.data["USERS_RATING"]["range"]),myActivity:a}}var B,z,W,X,Y,q,j,V,K,Q,J,Z,$,tt,et,st,at,it,lt,nt,rt,ot,ct;function dt(t,e){ut(t,e);e.add(t)}function mt(t,e,s){ut(t,e);e.set(t,s)}function ut(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function vt(t,e,s){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return s}var _t=Symbol("user.widget");var pt=new WeakMap;var ht=new WeakMap;var bt=new WeakMap;var gt=new WeakMap;var ft=new WeakMap;var Tt=new WeakSet;var yt=new WeakSet;var Et=new WeakSet;var It=new WeakSet;var Pt=new WeakSet;var Lt=new WeakSet;var Ht=new WeakSet;var St=new WeakSet;var Rt=new WeakSet;var Nt=new WeakSet;var kt=new WeakSet;var Ft=new WeakSet;var Ot=new WeakSet;var wt=new WeakSet;var At=new WeakSet;var Mt=function(t){babelHelpers.inherits(s,t);function s(t,e){var a;var i=e.profile,n=i.ID,r=i.FULL_NAME,c=i.PHOTO,d=i.MASK,m=i.STATUS,u=i.URL,v=i.WORK_POSITION,_=e.component,p=_.componentName,h=_.signedParameters,b=e.features;babelHelpers.classCallCheck(this,s);a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).call(this));dt(babelHelpers.assertThisInitialized(a),At);dt(babelHelpers.assertThisInitialized(a),wt);dt(babelHelpers.assertThisInitialized(a),Ot);dt(babelHelpers.assertThisInitialized(a),Ft);dt(babelHelpers.assertThisInitialized(a),kt);dt(babelHelpers.assertThisInitialized(a),Nt);dt(babelHelpers.assertThisInitialized(a),Rt);dt(babelHelpers.assertThisInitialized(a),St);dt(babelHelpers.assertThisInitialized(a),Ht);dt(babelHelpers.assertThisInitialized(a),Lt);dt(babelHelpers.assertThisInitialized(a),Pt);dt(babelHelpers.assertThisInitialized(a),It);dt(babelHelpers.assertThisInitialized(a),Et);dt(babelHelpers.assertThisInitialized(a),yt);dt(babelHelpers.assertThisInitialized(a),Tt);mt(babelHelpers.assertThisInitialized(a),pt,{writable:true,value:void 0});mt(babelHelpers.assertThisInitialized(a),ht,{writable:true,value:void 0});mt(babelHelpers.assertThisInitialized(a),bt,{writable:true,value:null});mt(babelHelpers.assertThisInitialized(a),gt,{writable:true,value:{}});mt(babelHelpers.assertThisInitialized(a),ft,{writable:true,value:new l.Cache.MemoryCache});a.setEventNamespace(o.eventNameSpace);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),pt,t);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),bt,{ID:n,FULL_NAME:r,PHOTO:c,MASK:d,STATUS:m,URL:u,WORK_POSITION:v});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(a),gt,b);if(!l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),gt).browser)){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),gt).browser=l.Browser.isLinux()?"Linux":l.Browser.isWin()?"Windows":"MacOs"}babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(a),ft).set("componentParams",{componentName:p,signedParameters:h});a.hide=a.hide.bind(babelHelpers.assertThisInitialized(a));return a}babelHelpers.createClass(s,[{key:"toggle",value:function t(){if(this.getPopup().isShown()){this.hide()}else{this.show()}}},{key:"hide",value:function t(){this.getPopup().close()}},{key:"show",value:function t(){this.getPopup().show()}},{key:"getPopup",value:function t(){var s,a;if(babelHelpers.classPrivateFieldGet(this,ht)){return babelHelpers.classPrivateFieldGet(this,ht)}var i=[vt(this,Tt,Ut).call(this),vt(this,yt,Gt).call(this)?{html:vt(this,yt,Gt).call(this),backgroundColor:"#fafafa"}:null,vt(this,Et,Ct).call(this)?{html:vt(this,Et,Ct).call(this),backgroundColor:"#fafafa"}:null,[{html:vt(this,It,xt).call(this),marginBottom:24,overflow:true},{html:vt(this,Pt,Dt).call(this),backgroundColor:"#fafafa"}],vt(this,Lt,Bt).call(this,!!vt(this,St,Wt).call(this))?[{html:vt(this,Lt,Bt).call(this,!!vt(this,St,Wt).call(this)),overflow:true,marginBottom:24,flex:vt(this,St,Wt).call(this)?.5:1},vt(this,St,Wt).call(this)]:null,vt(this,kt,qt).call(this,vt(this,Nt,Yt).call(this)===null)&&vt(this,Nt,Yt).call(this)?[{flex:.5,html:vt(this,Rt,Xt).call(this,.7)},[{html:vt(this,Nt,Yt).call(this),displayBlock:true},vt(this,kt,qt).call(this)]]:vt(this,Nt,Yt).call(this)||vt(this,kt,qt).call(this)?[{html:vt(this,Rt,Xt).call(this,2),flex:2},(s=vt(this,Nt,Yt).call(this))!==null&&s!==void 0?s:vt(this,kt,qt).call(this)]:vt(this,Rt,Xt).call(this,0),vt(this,Ft,jt).call(this),{html:vt(this,Ot,Vt).call(this),marginBottom:24,backgroundColor:"#fafafa"},[{html:(a=vt(this,wt,Kt).call(this))!==null&&a!==void 0?a:null,backgroundColor:"#fafafa"},{html:vt(this,At,Qt).call(this),backgroundColor:"#fafafa"}]];var r=function t(e){var s=[];if(l.Type.isArray(e)){for(var a=0;a<e.length;a++){if(l.Type.isArray(e[a])){var i=t(e[a]);if(i!==null){if(l.Type.isArray(i)&&i.length===1){s.push(i[0])}else{s.push(i)}}}else if(e[a]!==null){s.push(e[a])}}}return s.length<=0?null:s.length===1?s[0]:s};i=r(i);var c=function t(e,s,a){if(l.Type.isArray(e)){return{html:e.map(t)}}return{flex:e["flex"]||0,html:e["html"]||e,backgroundColor:e["backgroundColor"]||null,disabled:e["disabled"]||null,overflow:e["overflow"]||null,marginBottom:e["marginBottom"]||null,displayBlock:e["displayBlock"]||null}};babelHelpers.classPrivateFieldSet(this,ht,new e.PopupComponentsMaker({target:babelHelpers.classPrivateFieldGet(this,pt),content:i.map(c),width:400}));n.EventEmitter.subscribe("BX.Main.InterfaceButtons:onMenuShow",this.hide);n.EventEmitter.subscribe(o.eventNameSpace+"onNeedToHide",this.hide);return babelHelpers.classPrivateFieldGet(this,ht)}}],[{key:"init",value:function t(e,s){var a=this;if(e[_t]){return}var i=function t(){if(!e["popupSymbol"]){e["popupSymbol"]=new a(e,s)}e["popupSymbol"].toggle();a.instance=e["popupSymbol"]};e[_t]=true;e.addEventListener("click",i);setTimeout(i,100)}},{key:"getInstance",value:function t(){return this.instance}}]);return s}(n.EventEmitter);function Ut(){var t=this;return babelHelpers.classPrivateFieldGet(this,ft).remember("profile",(function(){var e=function e(s){t.hide();return BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldGet(t,bt).URL)};var s=l.Tag.render(B||(B=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<span class="system-auth-form__profile-avatar--image"\n\t\t\t\t\t',">\n\t\t\t\t</span>\n\t\t\t\t"])),babelHelpers.classPrivateFieldGet(t,bt).PHOTO?"\n\t\t\t\t\t\tstyle=\"background-size: cover; background-image: url('".concat(babelHelpers.classPrivateFieldGet(t,bt).PHOTO,"')\""):"");var a=l.Tag.render(z||(z=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__profile-name">',"</div>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(t,bt).FULL_NAME);n.EventEmitter.subscribe(n.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Avatar:changed",(function(e){var a=babelHelpers.slicedToArray(e.data,1),i=a[0].url;babelHelpers.classPrivateFieldGet(t,bt).PHOTO=i;s.style=l.Type.isStringFilled(i)?"background-size: cover; background-image: url('".concat(babelHelpers.classPrivateFieldGet(t,bt).PHOTO,"')"):""}));n.EventEmitter.subscribe(n.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Name:changed",(function(e){var s=babelHelpers.slicedToArray(e.data,1),i=s[0].fullName;babelHelpers.classPrivateFieldGet(t,bt).FULL_NAME=i;a.innerHTML=i;babelHelpers.classPrivateFieldGet(t,pt).querySelector("#user-name").innerHTML=i}));var i=l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(t,bt).WORK_POSITION)?l.Text.encode(babelHelpers.classPrivateFieldGet(t,bt).WORK_POSITION):"";if(babelHelpers.classPrivateFieldGet(t,bt).STATUS&&l.Loc.hasMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldGet(t,bt).STATUS)){i=l.Loc.getMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldGet(t,bt).STATUS)}return l.Tag.render(W||(W=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="','">\n\t\t\t\t\t<div class="system-auth-form__profile">\n\t\t\t\t\t\t<div class="system-auth-form__profile-avatar">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__profile-content --margin--right">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<div class="system-auth-form__profile-position">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__profile-controls">\n\t\t\t\t\t\t\t<span class="ui-qr-popupcomponentmaker__btn --large --border" >\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t \t\t\x3c!-- <span class="ui-qr-popupcomponentmaker__btn --large --success">any text</span> --\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'])),e,s,a,i,l.Loc.getMessage("INTRANET_USER_PROFILE_PROFILE"))}))}function Gt(){var t=this;return babelHelpers.classPrivateFieldGet(this,ft).remember("b24netPanel",(function(){if(babelHelpers.classPrivateFieldGet(t,gt)["b24netPanel"]!=="Y"){return null}return l.Tag.render(X||(X=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="https://www.bitrix24.net/">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --network"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t"])),l.Loc.getMessage("AUTH_PROFILE_B24NET"),l.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function Ct(){var t=this;return babelHelpers.classPrivateFieldGet(this,ft).remember("adminPanel",(function(){if(babelHelpers.classPrivateFieldGet(t,gt)["adminPanel"]!=="Y"){return null}return l.Tag.render(Y||(Y=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="/bitrix/admin/">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --admin-panel"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --block">\n\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_ADMIN_PANEL"),l.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function xt(){var t=this;return babelHelpers.classPrivateFieldGet(this,ft).remember("themePicker",(function(){if(babelHelpers.classPrivateFieldGet(t,gt)["themePicker"]===null){return null}var e=new b(babelHelpers.classPrivateFieldGet(t,gt)["themePicker"]);e.subscribe("onOpen",t.hide);return e.getPromise()}))}function Dt(){var t=this;return babelHelpers.classPrivateFieldGet(this,ft).remember("Mask",(function(){var e=new R(babelHelpers.classPrivateFieldGet(t,bt).MASK);e.subscribe("onOpen",t.hide);e.subscribe("onChangePhoto",(function(e){var s=e.data;vt(t,Ht,zt).call(t,s)}));t.emit("onChangePhoto");return e.getPromise()}))}function Bt(t){var e=this;return babelHelpers.classPrivateFieldGet(this,ft).remember("getCompanyPulse",(function(){if(babelHelpers.classPrivateFieldGet(e,gt).pulse==="Y"&&babelHelpers.classPrivateFieldGet(e,bt).ID>0&&babelHelpers.classPrivateFieldGet(e,bt).ID===l.Loc.getMessage("USER_ID")){var s;return x.getPromise({userId:babelHelpers.classPrivateFieldGet(e,bt).ID,isNarrow:t,data:(s=babelHelpers.classPrivateFieldGet(e,gt)["pulseData"])!==null&&s!==void 0?s:null})}return null}))}function zt(t){l.ajax.runComponentAction(babelHelpers.classPrivateFieldGet(this,ft).get("componentParams").componentName,"loadPhoto",{signedParameters:babelHelpers.classPrivateFieldGet(this,ft).get("componentParams").signedParameters,mode:"ajax",data:t}).then(function(t){if(t.data){(top||window).BX.onCustomEvent("BX.Intranet.UserProfile:Avatar:changed",[{url:t.data}])}}.bind(this),function(t){console.log("response: ",t)}.bind(this))}function Wt(){var t=this;if(babelHelpers.classPrivateFieldGet(this,gt)["stressLevel"]!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,ft).remember("getStressLevel",(function(){var e;return m.getPromise({signedParameters:babelHelpers.classPrivateFieldGet(t,ft).get("componentParams").signedParameters,componentName:babelHelpers.classPrivateFieldGet(t,ft).get("componentParams").componentName,userId:babelHelpers.classPrivateFieldGet(t,bt).ID,data:(e=babelHelpers.classPrivateFieldGet(t,gt)["stressLevelData"])!==null&&e!==void 0?e:null})}))}function Xt(t){var e=this;return babelHelpers.classPrivateFieldGet(this,ft).remember("getQrContainer",(function(){var s=babelHelpers.classPrivateFieldGet(e,gt)["appInstalled"]["APP_ANDROID_INSTALLED"]==="Y"||babelHelpers.classPrivateFieldGet(e,gt)["appInstalled"]["APP_IOS_INSTALLED"]==="Y";var a=function t(){e.hide();new r.QrAuthorization({title:l.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_TITLE2"),content:l.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_BODY2"),helpLink:""}).show()};var i=function t(s){top.BX.Helper.show("redirect=detail&code=14999860");e.hide();s.preventDefault();s.stopPropagation();return false};var n;if(t!==2&&t!==0){n=l.Tag.render(q||(q=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ','  --clickable" onclick="','" style="padding: 10px 14px">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --center --column --center">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --center --margin-xl">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__qr" style="margin-bottom: 12px">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="','">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__icon-help --absolute" onclick="','" title="','"></div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR_SMALL"),i,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"))}else if(t===0){n=l.Tag.render(j||(j=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ',' --padding-qr-xl">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --column --flex --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --l">','</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --large --border" style="margin-top: auto" onclick="','">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --qr">\n\t\t\t\t\t\t\t<div class="system-auth-form__qr --full-size"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2"),i,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}else{n=l.Tag.render(V||(V=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope ',' --padding-mid-qr  --clickable" onclick="','">\n\t\t\t\t\t\t<div class="system-auth-form__item-container --column --flex --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --block">\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t<span class="system-auth-form__icon-help --inline" onclick="','" title="','"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="','">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --qr">\n\t\t\t\t\t\t\t<div class="system-auth-form__qr --size-2"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'])),s?"--active":"",a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),i,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),a,l.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}return n}))}function Yt(){var t=this;if(babelHelpers.classPrivateFieldGet(this,gt).browser==="Linux"){return null}return babelHelpers.classPrivateFieldGet(this,ft).remember("getDeskTopContainer",(function(){var e=babelHelpers.classPrivateFieldGet(t,gt)["appInstalled"]["APP_MAC_INSTALLED"]==="Y";var a="--apple";var i=l.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_APPLE");var n="https://dl.bitrix24.com/b24/bitrix24_desktop.dmg";if(babelHelpers.classPrivateFieldGet(t,gt).browser==="Windows"){e=babelHelpers.classPrivateFieldGet(t,gt)["appInstalled"]["APP_WINDOWS_INSTALLED"]==="Y";a="--windows";i=l.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_WINDOWS");n="https://dl.bitrix24.com/b24/bitrix24_desktop.exe"}var r=e?function(t){t.preventDefault();t.stopPropagation();return false}:function(){t.hide();return true};if(l.Type.isPlainObject(babelHelpers.classPrivateFieldGet(t,gt)["otp"])===false){var o=null;var c=function e(a){o=o||new s.Menu({className:"system-auth-form__popup",bindElement:a.target,items:[{text:l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD"),href:n,onclick:function e(){o.close();t.hide()}}],angle:true,offsetLeft:10,events:{onShow:function e(){t.getPopup().getPopup().setAutoHide(false)},onClose:function e(){t.getPopup().getPopup().setAutoHide(true)}}});o.toggle()};return l.Tag.render(K||(K=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div data-role="desktop-item" class="system-auth-form__item system-auth-form__scope --padding-sm-all ',' --vertical --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t','\n\t\t\t\t\t\t<div class="system-auth-form__item-container --flex --center --display-flex">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --light --center --s">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content --flex --center --display-flex">\n\t\t\t\t\t\t\t<a class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" href="','" target="_blank" onclick="','">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"])),e?" --active":"",a,e?l.Tag.render(Q||(Q=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__config --absolute" onclick="','"></div>'])),c):"",i,n,r,e?l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}return l.Tag.render(J||(J=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ','">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image ','"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__item-title ','">',"</div>\n\t\t\t\t\t\t",'\n\t\t\t\t\t\t<div class="system-auth-form__item-content --center --center-force">\n\t\t\t\t\t\t\t<a class="ui-qr-popupcomponentmaker__btn" href="','" target="_blank" onclick="','">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),e?" --active":"",a,e?" --without-margin":"--min-height",i,e?l.Tag.render(Z||(Z=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t\t<a href="','" class="system-auth-form__item-title --link-dotted">',"</a>\n\t\t\t\t\t\t\t"])),n,l.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD")):"",n,r,e?l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):l.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}))}function qt(t){var e=this;if(l.Type.isPlainObject(babelHelpers.classPrivateFieldGet(this,gt)["otp"])===false){return null}return babelHelpers.classPrivateFieldGet(this,ft).remember("getOTPContainer",(function(){var a=babelHelpers.classPrivateFieldGet(e,gt)["otp"]["IS_ACTIVE"]==="Y"||babelHelpers.classPrivateFieldGet(e,gt)["otp"]["IS_ACTIVE"]===true;var i=function t(){e.hide();if(String(babelHelpers.classPrivateFieldGet(e,gt)["otp"]["URL"]).length>0){l.Uri.addParam(babelHelpers.classPrivateFieldGet(e,gt)["otp"]["URL"],{page:"otpConnected"});BX.SidePanel.Instance.open(l.Uri.addParam(babelHelpers.classPrivateFieldGet(e,gt)["otp"]["URL"],{page:"otpConnected"}),{width:1100})}else{console.error("Otp page is not defined. Check the component params")}};var n=a?l.Tag.render($||($=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="','">',"</div>"])),i,l.Loc.getMessage("INTRANET_USER_PROFILE_TURNED_ON")):l.Tag.render(tt||(tt=babelHelpers.taggedTemplateLiteral(['<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="','">',"</div>"])),i,l.Loc.getMessage("INTRANET_USER_PROFILE_TURN_ON"));var r=function t(){top.BX.Helper.show("redirect=detail&code=6641271");e.hide()};if(t!==true){return l.Tag.render(et||(et=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ','">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --authentication"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --flex --column --flex-start">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --without-margin --block">\n\t\t\t\t\t\t\t\t','&nbsp;<span class="system-auth-form__icon-help --inline" onclick="','"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<div class="system-auth-form__item-content --margin-top-auto --center --center-force">\n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\n\t\t\t\t"])),a?" --active":"",l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),r,a?l.Tag.render(st||(st=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t\t\t\t\t<div class="system-auth-form__item-title --link-dotted" onclick="','">',"</div>\n\t\t\t\t\t\t\t\t"])),i,l.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE")):"",n,a?"":'\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">'.concat(l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE"),"</div>\n\t\t\t\t\t\t\t</div>"))}var o=null;var c=function t(a){o=o||new s.Menu({className:"system-auth-form__popup",bindElement:a.target,items:[{text:l.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE"),onclick:function t(){o.close();i()}}],angle:true,offsetLeft:10,events:{onShow:function t(){e.getPopup().getPopup().setAutoHide(false)},onClose:function t(){e.getPopup().getPopup().setAutoHide(true)}}});o.toggle()};return l.Tag.render(at||(at=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm-all ',' --vertical --center">\n\t\t\t\t\t<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --authentication"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --flex">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light --center --s">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\x3c!-- <span class="system-auth-form__icon-help" onclick="','"></span> --\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t','\n\t\t\t\t\t<div class="system-auth-form__item-container --flex --column --space-around">\n\t\t\t\t\t\t<div class="system-auth-form__item-content --flex --display-flex">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"])),a?" --active":"",l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),r,a?l.Tag.render(it||(it=babelHelpers.taggedTemplateLiteral(['<div class="system-auth-form__config --absolute" onclick="','"></div>'])),c):"",n,a?"":'\n\t\t\t\t\t\t<div class="system-auth-form__item-new system-auth-form__item-new-icon --ssl">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">'.concat(l.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE"),"</div>\n\t\t\t\t\t\t</div>"))}))}function jt(){var t=this;return babelHelpers.classPrivateFieldGet(this,ft).remember("getLoginHistoryContainer",(function(){if(babelHelpers.classPrivateFieldGet(t,gt)["history"]){l.Tag.render(lt||(lt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --vertical">\n\t\t\t\t\t<div class="system-auth-form__item-container --center --border">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --history"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-title --sm">','</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__item-content">\n\t\t\t\t\t\t\t<div class="ui-qr-popupcomponentmaker__btn --border">Logout</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__visited">\n\t\t\t\t\t\t<div class="system-auth-form__visited-item">\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-icon --apple"></div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-text">Device 2</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-action"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="system-auth-form__visited-item">\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-icon --android"></div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-text">Device 1</div>\n\t\t\t\t\t\t\t<div class="system-auth-form__visited-action"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container">\n\t\t\t\t\t\t<div class="system-auth-form__show-history">Logout</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'])),l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_TITLE"))}var e=l.Tag.render(nt||(nt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --center --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --history-gray"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-new --soon">\n\t\t\t\t\t\t<div class="system-auth-form__item-new--title">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_TITLE"),l.Loc.getMessage("INTRANET_USER_PROFILE_SOON"));return{html:e,disabled:true,backgroundColor:"#fafafa"}}))}function Vt(){var t=this;if(!(l.Type.isPlainObject(babelHelpers.classPrivateFieldGet(this,gt)["bindings"])&&l.Type.isStringFilled(babelHelpers.classPrivateFieldGet(this,gt)["bindings"]["text"])&&l.Type.isArray(babelHelpers.classPrivateFieldGet(this,gt)["bindings"]["items"])&&babelHelpers.classPrivateFieldGet(this,gt)["bindings"]["items"].length>0)){return null}return babelHelpers.classPrivateFieldGet(this,ft).remember("getBindingsContainer",(function(){var e=l.Tag.render(rt||(rt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --center --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --binding"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div data-role="arrow" class="system-auth-form__item-icon --arrow-right"></div>\n\t\t\t\t</div>\n\t\t\t'])),l.Text.encode(babelHelpers.classPrivateFieldGet(t,gt)["bindings"]["text"]));e.addEventListener("click",(function(){t.__bindingsMenu=t.__bindingsMenu||new s.Menu({className:"system-auth-form__popup",bindElement:e.querySelector('[data-role="arrow"]'),items:babelHelpers.classPrivateFieldGet(t,gt)["bindings"]["items"],angle:true,cachable:false,offsetLeft:10,events:{onShow:function e(){t.getPopup().getPopup().setAutoHide(false)},onClose:function e(){t.getPopup().getPopup().setAutoHide(true);if(t.__bindingsMenu.isNeedToHide!==false){t.hide()}}}});t.__bindingsMenu.isNeedToHide=false;t.__bindingsMenu.toggle();setTimeout((function(){t.__bindingsMenu.isNeedToHide=true}),0)}));return e}))}function Kt(){var t=this;if(babelHelpers.classPrivateFieldGet(this,gt)["im"]!=="Y"){return null}return babelHelpers.classPrivateFieldGet(this,ft).remember("getNotificationContainer",(function(){var e=l.Tag.render(ot||(ot=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item --hover system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --notification"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">',"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),l.Loc.getMessage("AUTH_NOTIFICATION"));e.addEventListener("click",(function(){t.hide();BXIM.openSettings({onlyPanel:"notify"})}));return e}))}function Qt(){return babelHelpers.classPrivateFieldGet(this,ft).remember("getLogoutContainer",(function(){var t=new l.Uri(window.location.pathname);t.removeQueryParam(["logout","login","back_url_pub","user_lang"]);var e=new l.Uri("/auth/?logout=yes");e.setQueryParam("sessid",BX.bitrix_sessid());e.setQueryParam("backurl",encodeURIComponent(t.toString()));return l.Tag.render(ct||(ct=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="system-auth-form__item system-auth-form__scope --padding-sm">\n\t\t\t\t\t<div class="system-auth-form__item-logo">\n\t\t\t\t\t\t<div class="system-auth-form__item-logo--image --logout"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="system-auth-form__item-container --center">\n\t\t\t\t\t\t<div class="system-auth-form__item-title --light">','</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a href="','" class="system-auth-form__item-link-all"></a>\n\t\t\t\t</div>\n\t\t\t'])),l.Loc.getMessage("AUTH_LOGOUT"),e.toString())}))}babelHelpers.defineProperty(Mt,"instance",null);t.Widget=Mt})(this.BX.Intranet.UserProfile=this.BX.Intranet.UserProfile||{},BX.UI,BX.Main,BX,BX.UI.AvatarEditor,BX,BX.Event,BX.UI);
//# sourceMappingURL=script.map.js