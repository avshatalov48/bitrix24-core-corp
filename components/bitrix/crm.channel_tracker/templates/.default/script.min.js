(function(){"use strict";BX.namespace("BX.Crm");BX.Crm.Start=function(t){this.renderArea=t.renderArea;this.url=t.url;this.params=t.params;this.loadingTimeout=t.loadingTimeout;this.layout={lazyLoadPresetContainer:null};this.init()};BX.Crm.Start.prototype={getLazyLoadPresetContainer:function(){if(this.layout.lazyLoadPresetContainer){return this.layout.lazyLoadPresetContainer}this.layout.lazyLoadPresetContainer=BX.create("div",{attrs:{className:"crm-start-lazy-load-preset"},children:[BX.create("img",{props:{height:"100",width:"100",src:"/bitrix/components/bitrix/crm.channel_tracker/templates/.default/images/loader.svg"}})]});return this.layout.lazyLoadPresetContainer},init:function(){this.renderArea.appendChild(this.getLazyLoadPresetContainer());if(this.loadingTimeout>0){setTimeout(this.loadCrmWidgets.bind(this),this.loadingTimeout)}else{this.loadCrmWidgets()}},loadCrmWidgets:function(){var t={};t.method="POST";t.onsuccess=BX.delegate(function(t){BX.cleanNode(this.renderArea);BX.html(this.renderArea,t)},this);t.url=this.url;t.data=this.params||{};t.data["sessid"]=BX.bitrix_sessid();return BX.ajax(t)}}})();