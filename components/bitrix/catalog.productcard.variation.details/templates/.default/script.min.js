(function(e,t,i,a,n){"use strict";function r(e,t,i){s(e,t);t.set(e,i)}function s(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var l=new WeakMap;var o=function(e){babelHelpers.inherits(i,e);function i(e){var t;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};babelHelpers.classCallCheck(this,i);t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).call(this,e,n));r(babelHelpers.assertThisInitialized(t),l,{writable:true,value:false});a.EventEmitter.subscribe("BX.Grid.SettingsWindow:save",(function(){return t.postSliderMessage("onUpdate",{})}));return t}babelHelpers.createClass(i,[{key:"getEntityType",value:function e(){return"Variation"}},{key:"onSectionLayout",value:function e(i){var r=this;var s=i.getCompatData(),o=babelHelpers.slicedToArray(s,2),d=o[0],u=o[1];if(u.id==="catalog_parameters"){u.visible=this.isCardSettingEnabled("CATALOG_PARAMETERS")}a.EventEmitter.subscribe("BX.UI.EntityEditorList:onItemSelect",(function(e){var i;var a=!(r.isWithOrdersMode&&!r.isInventoryManagementUsed);if(babelHelpers.classPrivateFieldGet(r,l)||!a){return}var s=(i=e.getData()[1])===null||i===void 0?void 0:i.field;if(!s){return}if(s.getId()!=="QUANTITY_TRACE"||s._selectedValue!=="N"){return}n.MessageBox.alert(t.Loc.getMessage("CPVD_QUANTITY_TRACE_NOTICE"),t.Loc.getMessage("CPVD_QUANTITY_TRACE_NOTICE_TITLE"),(function(e){babelHelpers.classPrivateFieldSet(r,l,false);e.close()}),t.Loc.getMessage("CPVD_QUANTITY_TRACE_ACCEPT"));babelHelpers.classPrivateFieldSet(r,l,true)}));a.EventEmitter.subscribe("onEntityUpdate",(function(e){var t;var i=(t=e.getData()[0])===null||t===void 0?void 0:t.sender;if(!i){return}var a=i._model.getField("QUANTITY_TRACE","D");var n=!(r.isWithOrdersMode&&!r.isInventoryManagementUsed);if(a!=="N"&&n){var s;(s=i.getControlById("QUANTITY_TRACE"))===null||s===void 0?void 0:s.setVisible(false)}}));d===null||d===void 0?void 0:d.getChildren().forEach((function(e){if(r.hiddenFields.includes(e===null||e===void 0?void 0:e.getId())){e.setVisible(false)}}))}}]);return i}(i.EntityCard);t.Reflection.namespace("BX.Catalog").VariationCard=o})(this.window=this.window||{},BX,BX.Catalog.EntityCard,BX.Event,BX.UI.Dialogs);
//# sourceMappingURL=script.map.js