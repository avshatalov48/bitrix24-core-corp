this.BX=this.BX||{};(function(e,t,s,n){"use strict";var a=function(){function e(s){babelHelpers.classCallCheck(this,e);this.popup=null;this.personalMobile=t.Type.isStringFilled(s.personalMobile)?s.personalMobile:"";this.initAppsInstall()}babelHelpers.createClass(e,[{key:"initAppsInstall",value:function e(){var s=this;var n=document.querySelector("[data-role='profile-android-app']");if(t.Type.isDomNode(n)){n.addEventListener("click",(function(){s.showSmsPopup(s.personalMobile)}))}var a=document.querySelector("[data-role='profile-ios-app']");if(t.Type.isDomNode(a)){a.addEventListener("click",(function(){s.showSmsPopup(s.personalMobile)}))}}},{key:"showSmsPopup",value:function e(a){this.popup=s.PopupManager.create({id:"intranet-apps-widget-sms-popup",className:"intranet-apps-widget-popup",titleBar:t.Loc.getMessage("INTRANET_APPS_WIDGET_INSTALL"),cacheable:false,maxWidth:450,contentColor:"white",content:t.Dom.create("div",{children:[t.Dom.create("div",{props:{className:"intranet-apps-widget-popup-title"},html:t.Loc.getMessage("INTRANET_APPS_WIDGET_PHONE")}),t.Dom.create("div",{props:{className:"ui-ctl ui-ctl-textbox ui-ctl-wa"},children:[t.Dom.create("input",{props:{value:a,className:"ui-ctl-element",type:"text"},events:{input:function e(t){a=t.target.value}}})]}),t.Dom.create("div",{props:{className:"intranet-apps-widget-popup-text"},html:t.Loc.getMessage("INTRANET_APPS_WIDGET_INSTALL_TEXT")})]}),closeIcon:true,contentPadding:10,buttons:[new n.CreateButton({text:t.Loc.getMessage("INTRANET_APPS_WIDGET_SEND"),className:"ui-btn-primary",events:{click:function e(s){s.setWaiting();var n=s.context;t.ajax.runAction("intranet.controller.sms.sendsmsforapp",{data:{phone:a}}).then((function(){n.close()}),(function(){n.close()}))}}})]});this.popup.show()}}]);return e}();e.AppsWidget=a})(this.BX.Intranet=this.BX.Intranet||{},BX,BX.Main,BX.UI);
//# sourceMappingURL=script.map.js