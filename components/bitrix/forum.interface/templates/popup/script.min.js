function ForumPopupMenu(){this.oDiv=false;this.oControl=false;this.oControlPos=false;this.bRemoveElement=true}var oObjectForum=oObjectForum||{};ForumPopupMenu.prototype.InitFromArray=function(t,e){if(oObjectForum[t]&&typeof oObjectForum[t]=="object")return oObjectForum[t];oObjectForum[t]={};for(var o in e){if(e.hasOwnProperty(o)){if(e[o]["CONTENT"]){oObjectForum[t][o]={TITLE:e[o]["TITLE"],CLASS:e[o]["CLASS"],ONCLICK:e[o]["ONCLICK"],CONTENT:typeof e[o]["CONTENT"]!="object"?[e[o]["CONTENT"]]:e[o]["CONTENT"]}}}}return oObjectForum[t]};ForumPopupMenu.prototype.CreateMenu=function(t,e){var o=false,i=false,s=false,l="",r="";if(!(e&&typeof e=="object"))return false;o=document.body.appendChild(document.createElement("DIV"));o.id=t+"_div";o.className="forum-popup";o.style.position="absolute";o.style.visibility="hidden";for(i in e){l='<table border="0" cellpadding="0" cellspacing="0" class="forum-popup-item"><tr>';for(s in e[i]["CONTENT"]){l+="<td>"+e[i]["CONTENT"][s]+"</td>"}l+="</tr></table>";r+='<tr class="forum-popup'+(e[i]["CLASS"]?" "+e[i]["CLASS"]:"")+'" '+"onmouseover=\"this.className='forum-popup-over'\" onmouseout=\"this.className='forum-popup'\" "+">"+'<td class="forum-popup-item '+(e[i]["CLASS"]?" "+e[i]["CLASS"]:"")+'" '+(e[i]["ONCLICK"]?'onclick="'+e[i]["ONCLICK"]+'"':"")+">"+l+"</td></tr>"}r='<form style="padding:0px; margin:0px;"><table cellpadding="0" cellspacing="0" border="0" class="forum-popup forum-menu-popup-table">'+r+"</table></form>";o.innerHTML=r;return o};ForumPopupMenu.prototype.PopupShow=function(t,e,o){if(!this.oDiv&&!e||typeof this.oDiv!="object"&&typeof e!="object")return false;if(e){if(o)this.ControlPos=o;this.bRemoveElement=false;this.oDiv=e}else{this.bRemoveElement=true}var i=this.oDiv.offsetWidth;var s=this.oDiv.offsetHeight;if(s>250){this.oDiv.style.height="250px";this.oDiv.style.overflow="auto";i+=15;this.oDiv.className="forum-popup-oveflow";s=250}if(!t||t==null){t=jsUtils.AlignToPos(t,i,s)}for(var l in t){if(isNaN(t[l])||!t[l])t[l]=0}this.oDiv.style.width=i+"px";this.oDiv.style.visibility="visible";this.oDiv.style.MozUserSelect="none";jsFloatDiv.Show(this.oDiv,parseInt(t["left"]),parseInt(t["top"]),false,false,false);if(this.oControl!=null&&this.oControl.className){this.oControl.className+=" forum-popup-control-active"}var r=this;jsUtils.addEvent(document,"click",function(t){r.CheckClick(t)});jsUtils.addEvent(document,"keypress",function(t){r.OnKeyPress(t)})};ForumPopupMenu.prototype.PopupHide=function(){var t=this;jsUtils.removeEvent(document,"click",function(e){t.CheckClick(e)});jsUtils.removeEvent(document,"keypress",function(e){t.OnKeyPress(e)});if(!this.oDiv)return false;jsFloatDiv.Close(this.oDiv);if(this.oControl!=null&&this.oControl.className){this.oControl.className=this.oControl.className.replace(" forum-popup-control-active","")}if(this.bRemoveElement){try{this.oDiv.parentNode.removeChild(this.oDiv);this.ControlPos=false}catch(e){}}this.oDiv.style.visibility="hidden"};ForumPopupMenu.prototype.OnKeyPress=function(t){if(!t)t=window.event;if(!t)return;if(t.keyCode==27)this.PopupHide()};ForumPopupMenu.prototype.ShowMenu=function(t,e,o){var i="_id",s={top:20,left:20};var l=false,r=false;this.PopupHide();if(typeof t=="object"){i=t.id;s=jsUtils.GetRealPos(t);this.ControlPos=s;this.oControl=t;if(typeof o=="object"&&o!=null)s=jsUtils.GetRealPos(o)}var l=this.InitFromArray(i,e);this.oDiv=this.CreateMenu(i,l);if(this.oDiv){this.PopupShow(s)}};ForumPopupMenu.prototype.CheckClick=function(t){if(!this.oDiv||this.oDiv.style.visibility!="visible")return;var e=jsUtils.GetWindowSize();var o=t.clientX+e.scrollLeft;var i=t.clientY+e.scrollTop;a=jsUtils.GetRealPos(this.oDiv);var s=parseInt(a["left"]);var l=parseInt(a["top"]);var r=s+this.oDiv.offsetWidth;var n=l+this.oDiv.offsetHeight;if(o>=s&&o<=r&&i>=l&&i<=n)return;if(this.ControlPos){var a=this.ControlPos;if(o>=a["left"]&&o<=a["right"]&&i>=a["top"]&&i<=a["bottom"])return}this.PopupHide()};window.fMenu=new ForumPopupMenu;function initFJCFloatDiv(){if(!window["JCFloatDiv"]){setTimeout(initFJCFloatDiv,50);return false}window["FJCFloatDiv"]=new JCFloatDiv;window["FJCFloatDiv"].Show=function(t,e,o,i,s,l){var r=parseInt(t.style.zIndex);r=r<=0||isNaN(r)?100:r;e=parseInt(e)<0?0:parseInt(e);o=parseInt(o)<0?0:parseInt(o);i=parseInt(isNaN(i)?5:i);s=!!s;t.style.zIndex=r;t.style.left=e+"px";t.style.top=o+"px";t.restrictDrag=l||false;if(s==true){var n=document.getElementById(t.id+"_substrate");if(!n){n=document.createElement("DIV");n.id=t.id+"_substrate";n.style.zIndex=r-3;n.style.position="absolute";n.style.display="none";n.style.background="white";n.style.opacity="0.5";if(n.style.MozOpacity)n.style.MozOpacity="0.5";else if(n.style.KhtmlOpacity)n.style.KhtmlOpacity="0.5";if(jsUtils.IsIE()){n.style.filter+="progid:DXImageTransform.Microsoft.Alpha(opacity=50)"}document.body.appendChild(n)}n.style.display="block";n.style.left=0;n.style.top=0;var a=jsUtils.GetWindowSize();n.style.width=a["scrollWidth"]+"px";n.style.height=a["scrollHeight"]+"px"}t.style.display="block";t.style.visibility="visible";return false};window["FJCFloatDiv"].Close=function(t){if(!t)return false;if(document.getElementById(t.id+"_shadow")){document.getElementById(t.id+"_shadow").style.visibility="hidden"}if(document.getElementById(t.id+"_substrate")){document.getElementById(t.id+"_substrate").style.display="none"}t.style.visibility="hidden";return false}}initFJCFloatDiv();
//# sourceMappingURL=script.map.js