BX.namespace("BX.Crm");if(typeof BX.Crm.OrderPayment==="undefined"){BX.Crm.OrderPayment=function(){this._id="";this._settings={};this._editorCreateHandler=BX.delegate(this.onEditorCreate,this);this._editorUpdateHandler=BX.delegate(this.onEntityUpdate,this);this._editorDeleteHandler=BX.delegate(this.onSliderDelete,this)};BX.Crm.OrderPayment.prototype={initialize:function(e,t){this._id=BX.type.isNotEmptyString(e)?e:BX.util.getRandomString(4);this._settings=t?t:{};this.bindEvents()},bindEvents:function(){BX.addCustomEvent(window,BX.Crm.EntityEvent.names.create,this._editorCreateHandler);BX.addCustomEvent(window,BX.Crm.EntityEvent.names.update,this._editorUpdateHandler);BX.addCustomEvent(window,BX.Crm.EntityEvent.names.delete,this._editorDeleteHandler)},onEditorCreate:function(e){if(BX.type.isPlainObject(e["entityData"])){var t={entityTypeId:BX.CrmEntityType.enumeration.orderpayment,field:e["entityData"]};window.top.BX.SidePanel.Instance.postMessage(window,"CrmOrderPayment::Create",t)}},onEntityUpdate:function(e){if(BX.type.isPlainObject(e["entityData"])){var t={entityTypeId:BX.CrmEntityType.enumeration.orderpayment,field:e["entityData"]};window.top.BX.SidePanel.Instance.postMessage(window,"CrmOrderPayment::Update",t)}},onSliderDelete:function(e){if(parseInt(e["id"])>0){var t={entityTypeId:BX.CrmEntityType.enumeration.orderpayment,ID:e["id"]};window.top.BX.SidePanel.Instance.postMessage(window,"CrmOrderPayment::Delete",t)}}};BX.Crm.OrderPayment.create=function(e,t){var n=new BX.Crm.OrderPayment;n.initialize(e,t);return n}}