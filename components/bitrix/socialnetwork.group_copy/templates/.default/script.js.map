{"version":3,"file":"script.js","sources":["src/error.alert.js","src/form/field/base.field.js","src/form/field/text.field.js","src/form/validator/require.validator.js","src/form/field/textarea.field.js","src/form/form.js","src/request.sender.js","src/form/field/custom.field.js","src/form/field/image.field.js","src/form/validator/date.validator.js","src/form/field/date.field.js","src/form/field/date.range.field.js","src/form/field/user.field.js","src/form/field/select.field.js","src/form/block/options.js","src/form/block/switcher.js","src/form/field/checkbox.field.js","src/form/block/child.option.js","src/form/block/features.js","src/form/block/rights.js","src/form/field/selector.field.js","src/form/field/tag.field.js","src/form/block/tags.js","src/form/block/types.js","src/copying.manager.js"],"sourcesContent":["import {Tag, Text} from \"main.core\";\n\nexport class ErrorAlert\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tid: Text.getRandom(),\n\t\t\tmessage: \"Error!\"\n\t\t}, ...options};\n\n\t\tthis.id = options.id;\n\t\tthis.message = options.message;\n\n\t\tthis.classes = new Map([\n\t\t\t[\"container\", \"ui-alert ui-alert-danger\"],\n\t\t\t[\"message\", \"ui-alert-message\"],\n\t\t]);\n\t}\n\n\trender()\n\t{\n\t\tthis.id = Text.encode(this.id);\n\t\tthis.message = Text.encode(this.message);\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.id}\" class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<span class=\"${this.classes.get(\"message\")}\">${this.message}</span>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {Dom, Event, Text, Type} from \"main.core\";\nimport {ErrorAlert} from \"../../error.alert\";\n\nexport class BaseField extends Event.EventEmitter\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tfieldTitle: \"title\",\n\t\t\tfieldName: \"name\",\n\t\t\tvalidators: [],\n\t\t\tonCustomChange: null,\n\t\t\tparentNode: null,\n\t\t\tvalue: \"\",\n\t\t\tfocus: false,\n\t\t\tvisible: true\n\t\t}, ...options};\n\n\t\tthis.fieldTitle = options.fieldTitle;\n\t\tthis.fieldName = options.fieldName;\n\t\tthis.validators = options.validators;\n\t\tthis.onCustomChange = options.onCustomChange;\n\t\tthis.parentNode = options.parentNode;\n\n\t\tthis.titleControl = null;\n\t\tthis.titleId = Text.encode(this.fieldName) + \"-\" + \"title\";\n\t\tthis.innerControl = null;\n\t\tthis.innerControlId = this.fieldName + \"-\" + Text.getRandom();\n\t\tthis.value = (options.value ? options.value : \"\");\n\t\tthis.focus = options.focus;\n\t\tthis.visible = options.visible;\n\n\t\tthis.container = null;\n\n\t\tthis.ids = new Map([\n\t\t\t[\"container\", \"social-group-copy-field-\" + this.fieldName],\n\t\t]);\n\n\t\tthis.errorContainer = new Set();\n\n\t\tthis.classes = new Map([\n\t\t\t[\"container\", \"social-group-copy-fields-item\"],\n\t\t\t[\"leftColumn\", \"social-group-copy-fields-item-column-left\"],\n\t\t\t[\"rightColumn\", \"social-group-copy-fields-item-column-right\"],\n\t\t\t[\"fieldTitle\", \"social-group-copy-fields-item-name\"],\n\t\t\t[\"errorMark\", \"ui-ctl-danger\"],\n\t\t\t[\"hide\", \"hide\"]\n\t\t]);\n\n\t\tif (Type.isDomNode(this.parentNode))\n\t\t{\n\t\t\tthis.observerParent = new MutationObserver(this.onAppendToParent.bind(this));\n\t\t\tthis.observerParent.observe(this.parentNode, {\n\t\t\t\tchildList: true\n\t\t\t});\n\t\t}\n\t}\n\n\tsetClass(id, name)\n\t{\n\t\tthis.classes.set(id, name);\n\t}\n\n\taddClass(id, name)\n\t{\n\t\tif (this.classes.has(id))\n\t\t{\n\t\t\tthis.classes.set(id, this.classes.get(id) + \" \" + name);\n\t\t}\n\t}\n\n\tgetType()\n\t{\n\t\treturn this.constructor.name();\n\t}\n\n\tgetControl()\n\t{\n\t\treturn this.innerControl;\n\t}\n\n\tonAppendToParent(mutations)\n\t{\n\t\tthis.titleControl = document.getElementById(this.titleId);\n\t\tthis.innerControl = document.getElementById(this.innerControlId);\n\t\tthis.container = document.getElementById(this.ids.get(\"container\"));\n\n\t\tif (Type.isFunction(this.onCustomChange))\n\t\t{\n\t\t\tEvent.bind(this.innerControl, \"change\", this.onCustomChange);\n\t\t}\n\n\t\tif (this.focus)\n\t\t{\n\t\t\tthis.innerControl.focus();\n\t\t}\n\t}\n\n\tvalidate()\n\t{\n\t\tthis.errorContainer.clear();\n\n\t\tif (!this.visible)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tconst parentNode = (this.parentNode ? this.parentNode : this.innerControl.parentNode);\n\n\t\tthis.validators.forEach((validatorClass) => {\n\t\t\tconst validator = new validatorClass();\n\n\t\t\tconst errorId = \"social-group-\" + this.fieldName + \"-\" + validatorClass.getType();\n\t\t\tconst errorDom = document.getElementById(errorId);\n\t\t\tif (Type.isDomNode(errorDom))\n\t\t\t{\n\t\t\t\terrorDom.remove();\n\t\t\t}\n\n\t\t\tif (validator.validate(this.value))\n\t\t\t{\n\t\t\t\tDom.removeClass(parentNode, this.classes.get(\"errorMark\"));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tDom.addClass(parentNode, this.classes.get(\"errorMark\"));\n\n\t\t\t\tconst error = new ErrorAlert({\n\t\t\t\t\tid: errorId,\n\t\t\t\t\tmessage: validator.getErrorMessage()\n\t\t\t\t});\n\t\t\t\tparentNode.before(error.render());\n\n\t\t\t\tthis.errorContainer.add(error);\n\t\t\t}\n\t\t});\n\n\t\treturn this.errorContainer.size === 0;\n\t}\n\n\tgetErrorContainer()\n\t{\n\t\treturn this.errorContainer;\n\t}\n\n\tsetValue(value)\n\t{\n\t\tthis.value = value;\n\t}\n\n\tgetValue()\n\t{\n\t\tif (!this.visible)\n\t\t{\n\t\t\treturn \"\";\n\t\t}\n\t\treturn this.value;\n\t}\n\n\tgetName()\n\t{\n\t\treturn this.fieldName;\n\t}\n\n\tchangeTitle(title)\n\t{\n\t\tthis.fieldTitle = title;\n\t\tthis.titleControl.innerHTML = Text.encode(this.fieldTitle);\n\t}\n\n\ttoggleVisible(bool)\n\t{\n\t\tthis.visible = bool;\n\n\t\tif (bool)\n\t\t{\n\t\t\tDom.removeClass(this.container, this.classes.get(\"hide\"));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.container, this.classes.get(\"hide\"));\n\t\t}\n\t}\n}","import {Tag, Text} from \"main.core\";\nimport {BaseField} from \"./base.field\";\n\nexport class TextField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tplaceHolder: \"\",\n\t\t}, ...options};\n\n\t\tthis.placeHolder = options.placeHolder;\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-textbox ui-ctl-w100\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\t}\n\t\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tconst onChange = this.onChange.bind(this);\n\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\tthis.value = Text.encode(this.value);\n\t\tthis.placeHolder = Text.encode(this.placeHolder);\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<input id=\"${this.innerControlId}\" type=\"text\" value=\"${this.value}\" \n\t\t\t\t\tname=\"${this.fieldName}\" class=\"${this.classes.get(\"innerControl\")}\" \n\t\t\t\t\tonchange=\"${onChange}\" placeholder=\"${this.placeHolder}\">\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tchangePlaceHolder(text)\n\t{\n\t\tthis.innerControl.placeholder = Text.encode(text);\n\t}\n\n\tonChange()\n\t{\n\t\tthis.setValue(this.innerControl.value);\n\t\tthis.validate();\n\t}\n}","import {Loc, Type} from \"main.core\";\n\nexport class RequireValidator\n{\n\tconstructor()\n\t{\n\t\tthis.errorMessage = Loc.getMessage(\"SGCG_REQUIRE_ERROR\");\n\n\t}\n\n\tvalidate(value)\n\t{\n\t\treturn this.constructor.isValid(value);\n\t}\n\n\tstatic getType()\n\t{\n\t\treturn \"require\";\n\t}\n\n\tstatic isValid(value)\n\t{\n\t\tif (Type.isArray(value))\n\t\t{\n\t\t\treturn value.length > 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn (value !== undefined) && (String(value).trim().length > 0);\n\t\t}\n\t}\n\n\tgetErrorMessage()\n\t{\n\t\treturn this.errorMessage;\n\t}\n}","import {Tag, Text} from \"main.core\";\nimport {BaseField} from \"./base.field\";\n\nexport class TextAreaField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tplaceHolder: \"\",\n\t\t}, ...options};\n\n\t\tthis.placeHolder = options.placeHolder;\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-textarea\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tconst onChange = this.onChange.bind(this);\n\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\tthis.value = Text.encode(this.value);\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<textarea id=\"${this.innerControlId}\" type=\"text\" name=\"${this.fieldName}\" onchange=\"${onChange}\" \n\t\t\t\tclass=\"${this.classes.get(\"innerControl\")}\" placeholder=\"${this.placeHolder}\">${this.value}</textarea>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonChange()\n\t{\n\t\tthis.setValue(this.innerControl.value);\n\t\tthis.validate();\n\t}\n}","import {Event, Tag, Text, Type, Loc} from \"main.core\";\nimport {ErrorAlert} from \"../error.alert\";\nimport {UI as Buttons} from \"ui.buttons\";\nimport {TextField} from \"./field/text.field\";\nimport {RequireValidator} from \"./validator/require.validator\";\nimport {TextAreaField} from \"./field/textarea.field\";\n\nexport class Form\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\trequestSender: null,\n\t\t\tgroupData: {},\n\t\t\tcopyButtonId: \"\",\n\t\t\tcancelButtonId: \"\"\n\t\t}, ...options};\n\n\t\tthis.requestSender = options.requestSender;\n\n\t\tthis.groupData = options.groupData;\n\t\tthis.isProject = (this.groupData.PROJECT === \"Y\");\n\n\t\tthis.copyButtonId = options.copyButtonId;\n\t\tthis.cancelButtonId = options.cancelButtonId;\n\n\t\tthis.fields = [];\n\t\tthis.blocks = [];\n\n\t\tthis.errorContainer = new Map();\n\t\tthis.errorDomContainer = null;\n\n\t\tthis.ids = new Map([\n\t\t\t[\"errorDomContainer\", \"social-group-copy-error\"],\n\t\t]);\n\t\tthis.classes = new Map([\n\t\t\t[\"form\", \"social-group-copy-form\"],\n\t\t\t[\"base\", \"social-group-copy-base\"],\n\t\t\t[\"nameContainer\", \"social-group-copy-name\"],\n\t\t\t[\"name\", \"social-group-copy-name-title\"],\n\t\t\t[\"descriptionContainer\", \"social-group-copy-description\"],\n\t\t\t[\"descriptionArea\", \"social-group-copy-description-area\"],\n\t\t\t[\"description\", \"social-group-copy-description\"],\n\t\t\t[\"descriptionSeparator\", \"social-group-copy-separator-line\"],\n\t\t\t[\"errorDomContainer\", \"social-group-copy-error\"],\n\t\t\t[\"fields\", \"social-group-copy-fields\"],\n\t\t\t[\"blocks\", \"social-group-copy-blocks\"]\n\t\t]);\n\n\t\tthis.checkboxEventName = \"BX.Socialnetwork.CheckboxField\";\n\t}\n\n\trenderTo(formContainer)\n\t{\n\t\tif (!Type.isDomNode(formContainer))\n\t\t{\n\t\t\tthrow new Error(\"Form: HTMLElement for form not found\");\n\t\t}\n\n\t\tformContainer.appendChild(this.render());\n\n\t\tthis.errorDomContainer = document.getElementById(this.ids.get(\"errorDomContainer\"));\n\n\t\tthis.emitFormAppend(formContainer);\n\n\t\tthis.bindButtons();\n\t}\n\n\tonCopy()\n\t{\n\t\tif (this.validate())\n\t\t{\n\t\t\tconst uiCopyButton = new Buttons.Button({\n\t\t\t\tbuttonContainer: this.copyButton\n\t\t\t});\n\n\t\t\tif (uiCopyButton.isWaiting())\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tuiCopyButton.setWaiting(true);\n\n\t\t\tthis.requestSender.copyGroup(this.getRequestData())\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.handleResponse(response);\n\t\t\t\t}).catch((response) => {\n\t\t\t\tuiCopyButton.setWaiting(false);\n\t\t\t\tthis.handleResponse(response);\n\t\t\t});\n\t\t}\n\t}\n\n\tonClose()\n\t{\n\t\tthis.constructor.closeSlider();\n\t}\n\n\tstatic closeSlider()\n\t{\n\t\t// eslint-ignore-next-line\n\t\twindow.top.BX.onCustomEvent(\"BX.Bitrix24.PageSlider:close\", [false]);\n\t}\n\n\tbindButtons()\n\t{\n\t\tthis.copyButton = document.getElementById(this.copyButtonId);\n\t\tthis.cancelButton = document.getElementById(this.cancelButtonId);\n\t\tif (!Type.isDomNode(this.copyButton) || !Type.isDomNode(this.cancelButton))\n\t\t{\n\t\t\tthrow new Error(\"Form: buttons are not found\");\n\t\t}\n\n\t\tEvent.bind(this.copyButton, \"click\", this.onCopy.bind(this));\n\t\tEvent.bind(this.cancelButton, \"click\", this.onClose.bind(this));\n\t}\n\n\temitFormAppend(formContainer)\n\t{\n\t\tthis.fields.forEach((field) => {\n\t\t\tfield.onAppendToParent(formContainer);\n\t\t});\n\t\tthis.blocks.forEach((block) => {\n\t\t\tblock.onAppendToParent(formContainer);\n\t\t});\n\t}\n\n\taddField(field)\n\t{\n\t\tthis.fields.push(field);\n\t}\n\n\tgetFields()\n\t{\n\t\treturn this.fields;\n\t}\n\n\taddBlock(block)\n\t{\n\t\tthis.blocks.push(block);\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tconst nameField = new TextField({\n\t\t\tfieldName: \"name\",\n\t\t\tvalidators: [RequireValidator],\n\t\t\tplaceHolder: (this.isProject ? Loc.getMessage(\"SGCG_PROJECT_NAME_FIELD\") :\n\t\t\t\tLoc.getMessage(\"SGCG_GROUP_NAME_FIELD\")),\n\t\t\tfocus: true\n\t\t});\n\t\tnameField.setClass(\"control\", this.classes.get(\"name\"));\n\t\tEvent.EventEmitter.subscribe(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tnameField.changePlaceHolder(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_NAME_FIELD\") : Loc.getMessage(\"SGCG_GROUP_NAME_FIELD\"))\n\t\t});\n\n\t\tconst descriptionField = new TextAreaField({\n\t\t\tfieldName: \"description\",\n\t\t\tvalue: this.groupData.DESCRIPTION,\n\t\t\tplaceHolder: (this.isProject ? Loc.getMessage(\"SGCG_PROJECT_DESCRIPTION_FIELD\") :\n\t\t\t\tLoc.getMessage(\"SGCG_GROUP_DESCRIPTION_FIELD\"))\n\t\t});\n\t\tdescriptionField.setClass(\"control\", this.classes.get(\"descriptionArea\"));\n\t\tdescriptionField.setClass(\"innerControl\", this.classes.get(\"description\"));\n\n\t\tconst fields = this.fields.map((field) => {\n\t\t\treturn field.render();\n\t\t});\n\t\tconst blocks = this.blocks.map((block) => {\n\t\t\treturn block.render();\n\t\t});\n\n\t\tthis.addField(nameField);\n\t\tthis.addField(descriptionField);\n\n\t\treturn Tag.render`\n\t\t\t<form class=\"${this.classes.get(\"form\")}\" novalidate>\n\t\t\t\t<div id=\"${this.ids.get(\"errorDomContainer\")}\" class=\"${this.classes.get(\"errorDomContainer\")}\"></div>\n\t\t\t\t<div class=\"${this.classes.get(\"base\")}\">\n\t\t\t\t\t<div class=\"${this.classes.get(\"nameContainer\")}\">\n\t\t\t\t\t\t${nameField.renderRightColumn()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${this.classes.get(\"descriptionContainer\")}\">\n\t\t\t\t\t\t${descriptionField.renderRightColumn()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"fields\")}\">\n\t\t\t\t\t${fields}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"blocks\")}\">\n\t\t\t\t\t${blocks}\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t`;\n\t}\n\n\tvalidate()\n\t{\n\t\tthis.fields.forEach((field) => {\n\t\t\tif (field.validate())\n\t\t\t{\n\t\t\t\tthis.errorContainer.delete(field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.errorContainer.set(field, field.getErrorContainer());\n\t\t\t}\n\t\t});\n\n\t\treturn this.errorContainer.size === 0;\n\t}\n\n\tgetRequestData()\n\t{\n\t\tconst fieldsValues = {\n\t\t\tid: this.groupData[\"ID\"]\n\t\t};\n\n\t\tthis.fields.forEach((field) => {\n\t\t\tfieldsValues[field.getName()] = field.getValue();\n\t\t});\n\n\t\tlet blocksValues = {};\n\t\tthis.blocks.forEach((block) => {\n\t\t\tblocksValues = {...blocksValues, ...block.getValues()};\n\t\t});\n\n\t\treturn Object.assign(fieldsValues , blocksValues);\n\t}\n\n\thandleResponse(response)\n\t{\n\t\tif (response.errors.length)\n\t\t{\n\t\t\tthis.displayResponseError(new ErrorAlert({\n\t\t\t\tmessage: response.errors.shift().message\n\t\t\t}));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst urlToCopiedGroup = response.data;\n\t\t\tif (urlToCopiedGroup.length)\n\t\t\t{\n\t\t\t\ttop.window.location.href = urlToCopiedGroup;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.displayResponseError(new ErrorAlert({\n\t\t\t\t\tmessage: \"Unknown error\"\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n\n\tdisplayResponseError(errorAlert)\n\t{\n\t\twhile (this.errorDomContainer.hasChildNodes())\n\t\t{\n\t\t\tthis.errorDomContainer.removeChild(this.errorDomContainer.firstChild);\n\t\t}\n\n\t\tthis.errorDomContainer.appendChild(errorAlert.render());\n\t}\n}","import {ajax} from \"main.core\";\n\nexport class RequestSender\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tsignedParameters: \"\",\n\t\t}, ...options};\n\n\t\tthis.signedParameters = options.signedParameters;\n\t\tthis.isProject = false;\n\t}\n\n\tselectGroup(groupId)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runComponentAction(\"bitrix:socialnetwork.group_copy\", \"getGroupData\", {\n\t\t\t\tmode: \"class\",\n\t\t\t\tsignedParameters: this.signedParameters,\n\t\t\t\tdata: {\n\t\t\t\t\tgroupId: parseInt(groupId)\n\t\t\t\t}\n\t\t\t}).then(resolve, reject);\n\t\t});\n\t}\n\n\tcopyGroup(requestData)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runComponentAction(\"bitrix:socialnetwork.group_copy\", \"copyGroup\", {\n\t\t\t\tmode: \"class\",\n\t\t\t\tsignedParameters: this.signedParameters,\n\t\t\t\tdata: requestData,\n\t\t\t\tanalyticsLabel: {\n\t\t\t\t\tproject: (this.isProject ? \"Y\" : \"N\"),\n\t\t\t\t}\n\t\t\t}).then(resolve, reject);\n\t\t});\n\t}\n\n\tsetProjectMarker(bool)\n\t{\n\t\tthis.isProject = Boolean(bool);\n\t}\n}","import {BaseField} from \"./base.field\";\nimport {Dom, Tag, Text} from \"main.core\";\n\nexport class CustomField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tfieldContainerId: \"\",\n\t\t}, ...options};\n\n\t\tthis.fieldContainerId = options.fieldContainerId;\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-textbox ui-ctl-wa\");\n\t\tthis.classes.set(\"innerControl\", \"social-group-copy-ui-ctl-element\");\n\t\tthis.classes.set(\"customContainer\", \"social-group-copy-custom-container\");\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\treturn Tag.render`\n\t\t\t<div id=\"${Text.encode(this.ids.get(\"container\"))}\" class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tconst customContainer = document.getElementById(this.fieldContainerId);\n\t\tDom.removeClass(customContainer, this.classes.get(\"customContainer\"));\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<div id=\"${this.innerControlId}\" class=\"${this.classes.get(\"innerControl\")}\">\n\t\t\t\t\t${customContainer}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}","import {CustomField} from \"./custom.field\";\nimport {Dom, Event, Type} from \"main.core\";\n\nexport class ImageField extends CustomField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.classes.set(\"innerControl\", \"social-group-copy-link-upload social-group-copy-link-upload-set\");\n\t\tthis.classes.set(\"uploadSet\", \"social-group-copy-link-upload-set\");\n\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\t// eslint-ignore-next-line\n\t\tconst uploaderInstance = BX.UploaderManager.getById(this.fieldName);\n\t\tif (uploaderInstance)\n\t\t{\n\t\t\t// eslint-ignore-next-line\n\t\t\tBX.addCustomEvent(uploaderInstance, \"onQueueIsChanged\", this.onQueueIsChanged.bind(this));\n\t\t}\n\t}\n\n\tonAppendToParent()\n\t{\n\t\tsuper.onAppendToParent();\n\n\t\tconst currentValue = this.getCurrentValue();\n\t\tsuper.setValue(currentValue);\n\t\tif (!currentValue)\n\t\t{\n\t\t\tDom.removeClass(this.innerControl, this.classes.get(\"uploadSet\"));\n\t\t}\n\t}\n\n\tonQueueIsChanged(uploaderInstance, action, fileId, file)\n\t{\n\t\t// eslint-ignore-next-line\n\t\tBX.addCustomEvent(file, \"onUploadDone\", this.onUploadDone.bind(this));\n\n\t\tswitch (action)\n\t\t{\n\t\t\tcase \"add\":\n\t\t\t\tDom.addClass(this.innerControl, this.classes.get(\"uploadSet\"));\n\t\t\t\tbreak;\n\t\t\tcase \"delete\":\n\t\t\t\tDom.removeClass(this.innerControl, this.classes.get(\"uploadSet\"));\n\t\t\t\tsuper.setValue(\"\");\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonUploadDone(status, file, agent, pIndex)\n\t{\n\t\tsuper.setValue(this.getCurrentValue());\n\t}\n\n\tgetCurrentValue()\n\t{\n\t\tconst fieldInput = document.getElementsByName(this.fieldName);\n\t\treturn fieldInput.length > 0 ? fieldInput[0].value : \"\";\n\t}\n}","import {Validation, Loc, Type} from \"main.core\";\n\nexport class DateValidator\n{\n\tconstructor()\n\t{\n\t\tthis.errorMessage = Loc.getMessage(\"SGCG_FORMAT_ERROR\");\n\t}\n\n\tvalidate(value)\n\t{\n\t\treturn this.constructor.isValid(value);\n\t}\n\n\tstatic getType()\n\t{\n\t\treturn \"date\";\n\t}\n\n\tstatic isValid(value)\n\t{\n\t\t//todo\n\t\treturn true;\n\t}\n\n\tgetErrorMessage()\n\t{\n\t\treturn this.errorMessage;\n\t}\n}","import {Event, Tag, Text, Type} from \"main.core\";\nimport {BaseField} from \"./base.field\";\nimport {DateValidator} from \"../validator/date.validator\";\n\nexport class DateField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.ids.set(\"container\", \"social-group-copy-date-field-\" + this.fieldName);\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-after-icon ui-ctl-datetime\");\n\t\tthis.classes.set(\"icon\", \"ui-ctl-after ui-ctl-icon-calendar\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\n\t\tthis.validators.push(DateValidator);\n\t}\n\n\tonAppendToParent()\n\t{\n\t\tsuper.onAppendToParent();\n\n\t\tEvent.bind(this.innerControl, \"click\", this.showCalendar.bind(this));\n\t}\n\n\tsetParentNode(node)\n\t{\n\t\tif (Type.isDomNode(node))\n\t\t{\n\t\t\tthis.parentNode = node;\n\t\t}\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\n\t\treturn Tag.render`\n\t\t\t<div id=\"${Text.encode(this.ids.get(\"container\"))}\" class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\tthis.value = Text.encode(this.value);\n\t\tconst onChange = this.onChange.bind(this);\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"icon\")}\"></div>\n\t\t\t\t<input id=\"${this.innerControlId}\" type=\"text\" autocomplete=\"off\" value=\"${this.value}\" name=\"\n\t\t\t\t\t${this.fieldName}\" class=\"${this.classes.get(\"innerControl\")}\" onchange=\"${onChange}\">\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tshowCalendar()\n\t{\n\t\t/* eslint-disable */\n\t\tBX.calendar({\n\t\t\tnode: this.innerControl,\n\t\t\tfield: this.innerControl,\n\t\t\tbTime: false,\n\t\t\tbSetFocus: false,\n\t\t\tbHideTime: false\n\t\t});\n\t\t/* eslint-enable */\n\t}\n\n\tonChange()\n\t{\n\t\tthis.setValue(this.innerControl.value);\n\t\tthis.validate();\n\t}\n}","import {CustomField} from \"./custom.field\";\nimport {Tag} from \"main.core\";\nimport {DateField} from \"./date.field\";\nimport {RequireValidator} from \"../validator/require.validator\";\n\nexport class DateRangeField extends CustomField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.startPoint = null;\n\t\tthis.endPoint = null;\n\n\t\tthis.ids.set(\"container\", \"social-group-copy-date-range-field-\" + this.fieldName);\n\t\tthis.ids.set(\"baseContainer\", \"social-group-copy-date-range-base-\" + this.fieldName);\n\n\t\tthis.classes.set(\"baseContainer\", \"social-group-copy-field-container \" +\n\t\t\t\"social-group-copy-field-container-datetime social-group-copy-field-datetime\");\n\t\tthis.classes.set(\"delimiter\", \"social-group-copy-field-block social-group-copy-field-block-between\");\n\t}\n\n\tonAppendToParent()\n\t{\n\t\tsuper.onAppendToParent();\n\n\t\tthis.baseContainer = document.getElementById(this.ids.get(\"baseContainer\"));\n\n\t\tthis.startPoint.setParentNode(this.baseContainer);\n\t\tthis.startPoint.onAppendToParent();\n\t\tthis.endPoint.onAppendToParent();\n\n\t\tthis.toggleVisible(this.visible);\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tthis.startPoint = new DateField({\n\t\t\tfieldName: \"range_start_point\",\n\t\t\tvalidators: [RequireValidator]\n\t\t});\n\t\tthis.endPoint = new DateField({\n\t\t\tfieldName: \"range_end_point\"\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div>\n\t\t\t\t<div id=\"${this.ids.get(\"baseContainer\")}\" class=\"${this.classes.get(\"baseContainer\")}\">\n\t\t\t\t\t${this.startPoint.renderRightColumn()}\n\t\t\t\t\t<div class=\"${this.classes.get(\"delimiter\")}\"></div>\n\t\t\t\t\t${this.endPoint.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tvalidate()\n\t{\n\t\tthis.errorContainer.clear();\n\n\t\tif (!this.visible)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\treturn this.startPoint && this.startPoint.validate();\n\t}\n\n\tgetValue()\n\t{\n\t\treturn {\n\t\t\tstart_point: this.startPoint.getValue(),\n\t\t\tend_point: this.endPoint.getValue()\n\t\t};\n\t}\n}","import {CustomField} from \"./custom.field\";\nimport {Type} from \"main.core\";\n\nexport class UserField extends CustomField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tselectorId: \"\",\n\t\t\tmultiple: true\n\t\t}, ...options};\n\n\t\tthis.selectorId = options.selectorId;\n\t\tthis.multiple = options.multiple;\n\n\t\tthis.value = (this.multiple ? {} : \"\");\n\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\t// eslint-ignore-next-line\n\t\tBX.addCustomEvent(\"BX.Main.User.SelectorController:select\", this.onSelect.bind(this));\n\t\t// eslint-ignore-next-line\n\t\tBX.addCustomEvent(\"BX.Main.User.SelectorController:unSelect\", this.onUnSelect.bind(this));\n\t}\n\n\tonSelect(info)\n\t{\n\t\tif (this.selectorId !== info.selectorId)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (Type.isUndefined(info.item) || Type.isUndefined(info.item.entityId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setValue(info.item.entityId);\n\t}\n\n\tonUnSelect(info)\n\t{\n\t\tif (this.selectorId !== info.selectorId)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (Type.isUndefined(info.item) || Type.isUndefined(info.item.entityId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.deleteValue(info.item.entityId);\n\t\tthis.validate();\n\t}\n\n\tsetValue(value)\n\t{\n\t\tif (this.multiple)\n\t\t{\n\t\t\tthis.value[value] = value;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.value = value;\n\t\t}\n\t}\n\n\tdeleteValue(value)\n\t{\n\t\tif (this.multiple)\n\t\t{\n\t\t\tdelete this.value[value];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.value = \"\";\n\t\t}\n\t}\n}","import {Tag, Text} from \"main.core\";\nimport {BaseField} from \"./base.field\";\n\nexport class SelectField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tlist: {},\n\t\t}, ...options};\n\n\t\tthis.list = options.list;\n\n\t\tthis.onChangeCallback = this.onChange.bind(this);\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-after-icon ui-ctl-dropdown\");\n\t\tthis.classes.set(\"controlAngle\", \"ui-ctl-after ui-ctl-icon-angle\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\tthis.value = Text.encode(this.value);\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"container\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t${this.renderRightColumn()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trenderRightColumn()\n\t{\n\t\tconst options = this.getOptions();\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"controlAngle\")}\"></div>\n\t\t\t\t<select id=\"${this.innerControlId}\" name=\"${this.fieldName}\" class=\"${\n\t\t\t\t\tthis.classes.get(\"innerControl\")}\" onchange=\"${this.onChangeCallback}\">\n\t\t\t\t\t${options.join(\"\")}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetOptions()\n\t{\n\t\treturn Object.entries(this.list).map(([id, value]) => {\n\t\t\treturn `<option ${(id === this.value ? \"selected\" : \"\")} value=\"${Text.encode(id)}\">${\n\t\t\t\tText.encode(value)}</option>`;\n\t\t});\n\t}\n\n\tchangeOptions(data)\n\t{\n\t\tthis.list = data;\n\t\tconst options = this.getOptions();\n\t\tthis.innerControl.innerHTML = options.join(\"\");\n\t}\n\n\tonChange()\n\t{\n\t\tthis.validate();\n\t}\n\n\tvalidate()\n\t{\n\t\tsuper.setValue(this.innerControl.value);\n\n\t\treturn super.validate();\n\t}\n}","import {Tag} from \"main.core\";\n\nexport class Options\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tswitcher: null\n\t\t}, ...options};\n\n\t\tthis.switcher = options.switcher;\n\n\t\tthis.options = [];\n\n\t\tthis.block = null;\n\t\tthis.list = null;\n\n\t\tthis.ids = new Map([\n\t\t\t[\"blockId\", \"social-group-copy-options-block\"],\n\t\t\t[\"listId\", \"social-group-copy-options-list-block\"],\n\t\t]);\n\t\tthis.classes = new Map([\n\t\t\t[\"block\", \"social-group-copy-options-block\"],\n\t\t\t[\"switcher\", \"social-group-copy-options-title-block\"],\n\t\t\t[\"optionsList\", \"social-group-copy-options-list hide fade-out\"],\n\t\t]);\n\t}\n\n\tonAppendToParent()\n\t{\n\t\tthis.block = document.getElementById(this.ids.get(\"blockId\"));\n\t\tthis.list = document.getElementById(this.ids.get(\"listId\"));\n\n\t\tthis.options.forEach((option) => {\n\t\t\treturn option.onAppendToParent(this.list);\n\t\t});\n\n\t\tthis.switcher.onAppendToParent(this.list);\n\t}\n\n\taddOption(option)\n\t{\n\t\tthis.options.push(option);\n\t\tthis.switcher.addOption(option);\n\t}\n\n\trender()\n\t{\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.ids.get(\"blockId\")}\" class=\"${this.classes.get(\"block\")}\">\n\t\t\t\t${this.switcher.render()}\n\t\t\t\t<div id=\"${this.ids.get(\"listId\")}\" class=\"${this.classes.get(\"optionsList\")}\"></div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetValues()\n\t{\n\t\tlet optionsValues = {};\n\t\tthis.options.forEach((option) => {\n\t\t\toptionsValues = {...optionsValues, ...option.getValues()};\n\t\t});\n\t\treturn optionsValues;\n\t}\n}","import {Dom, Event, Tag, Text} from \"main.core\";\n\nexport class Switcher\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\ttitle: \"Title\"\n\t\t}, ...options};\n\n\t\tthis.title = options.title;\n\n\t\tthis.container = null;\n\t\tthis.options = [];\n\n\t\tthis.ids = new Map([\n\t\t\t[\"switcherId\", \"social-group-copy-switcher\"],\n\t\t]);\n\t\tthis.classes = new Map([\n\t\t\t[\"switcher\", \"social-group-copy-switcher\"],\n\t\t\t[\"switcherMore\", \"social-group-copy-switcher-more\"],\n\t\t\t[\"switcherPromo\", \"social-group-copy-switcher-promo\"],\n\t\t\t[\"opened\", \"opened\"],\n\t\t\t[\"hide\", \"hide\"],\n\t\t\t[\"easingIn\", \"fade-in\"],\n\t\t\t[\"easingOut\", \"fade-out\"],\n\t\t]);\n\t}\n\n\taddOption(option)\n\t{\n\t\tthis.options.push(option);\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tthis.optionsContainer = optionsContainer;\n\t\tthis.container = document.getElementById(this.ids.get(\"switcherId\"));\n\t\tEvent.bind(this.container, \"click\", this.onClick.bind(this));\n\t}\n\n\tisOpened()\n\t{\n\t\treturn Dom.hasClass(this.container, this.classes.get(\"opened\"));\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tthis.title = Text.encode(this.title);\n\n\t\tconst options = this.options.map((option) => {\n\t\t\treturn option.renderPromo();\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.ids.get(\"switcherId\")}\" class=\"${this.classes.get(\"switcher\")}\">\n\t\t\t\t<div class=\"${this.classes.get(\"switcherMore\")}\">${this.title}</div>\n\t\t\t\t<div class=\"${this.classes.get(\"switcherPromo\")}\">\n\t\t\t\t\t${options}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tonClick(event)\n\t{\n\t\tlet target = event.target;\n\t\tlet targetId = target.getAttribute(\"id\");\n\t\tif (!targetId)\n\t\t{\n\t\t\ttarget = event.currentTarget;\n\t\t\ttargetId = target.getAttribute(\"id\");\n\t\t}\n\n\t\tif (targetId === this.ids.get(\"switcherId\"))\n\t\t{\n\t\t\tthis.switchOptions();\n\t\t}\n\t}\n\n\tswitchOptions()\n\t{\n\t\tthis.constructor.switchOptions(this);\n\t}\n\n\tstatic switchOptions(switcher)\n\t{\n\t\tif (Dom.hasClass(switcher.optionsContainer, switcher.classes.get(\"easingOut\")))\n\t\t{\n\t\t\tDom.removeClass(switcher.optionsContainer, switcher.classes.get(\"hide\"));\n\t\t\tDom.removeClass(switcher.optionsContainer, switcher.classes.get(\"easingOut\"));\n\t\t\tDom.addClass(switcher.container, switcher.classes.get(\"opened\"));\n\t\t\tDom.addClass(switcher.optionsContainer, switcher.classes.get(\"easingIn\"));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.removeClass(switcher.container, switcher.classes.get(\"opened\"));\n\t\t\tDom.removeClass(switcher.optionsContainer, switcher.classes.get(\"easingIn\"));\n\t\t\tDom.addClass(switcher.optionsContainer, switcher.classes.get(\"easingOut\"));\n\t\t}\n\t}\n}","import {Tag, Text} from \"main.core\";\nimport {BaseField} from \"./base.field\";\n\nexport class CheckboxField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tchecked: true,\n\t\t\tdisabled: false\n\t\t}, ...options};\n\n\t\tthis.checked = options.checked;\n\t\tthis.disabled = options.disabled;\n\n\t\tthis.classes.set(\"control\", \"ui-ctl ui-ctl-checkbox ui-ctl-wa ui-ctl-xs social-group-copy-checkbox\");\n\t\tthis.classes.set(\"innerControl\", \"ui-ctl-element\");\n\t\tthis.classes.set(\"title\", \"ui-ctl-label-text\");\n\n\t\t// todo tmp delete after main 20.0.200\n\t\tthis.eventNamespace = \"BX.Socialnetwork.CheckboxField:\";\n\t\tif (typeof this.setEventNamespace === \"function\")\n\t\t{\n\t\t\tthis.eventNamespace = \"\";\n\t\t\tthis.setEventNamespace(\"BX.Socialnetwork.CheckboxField\");\n\t\t}\n\t}\n\n\tsetChecked(checked)\n\t{\n\t\tthis.innerControl.checked = checked;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\trender()\n\t{\n\t\tconst onChange = this.onChange.bind(this);\n\n\t\tthis.fieldTitle = Text.encode(this.fieldTitle);\n\t\tthis.fieldName = Text.encode(this.fieldName);\n\t\treturn Tag.render`\n\t\t\t<label class=\"${this.classes.get(\"control\")}\">\n\t\t\t\t<input id=\"${this.innerControlId}\" ${this.disabled ? \"disabled\" : \"\"} ${this.checked ? \"checked\" : \"\"} \n\t\t\t\t\ttype=\"checkbox\" name=\"${this.fieldName}\" \n\t\t\t\t\tonchange=\"${onChange}\" class=\"${this.classes.get(\"innerControl\")}\">\n\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"title\")}\">${this.fieldTitle}</div>\n\t\t\t</label>\n\t\t`;\n\t}\n\n\tonChange()\n\t{\n\t\tthis.validate();\n\n\t\tthis.emit(this.eventNamespace+this.fieldName+\":onChange\", {checked: this.innerControl.checked});\n\t}\n\n\tisDisabled()\n\t{\n\t\treturn Boolean(this.innerControl.disabled);\n\t}\n\n\t/**\n\t * @param {Boolean} disabled\n\t */\n\tchangeDisabled(disabled)\n\t{\n\t\tif (disabled)\n\t\t{\n\t\t\tthis.innerControl.checked = false;\n\t\t\tthis.setValue(\"\");\n\t\t}\n\t\tthis.innerControl.disabled = disabled;\n\t}\n\n\tvalidate()\n\t{\n\t\tthis.setValue(this.innerControl.checked ? \"Y\": \"\");\n\n\t\treturn super.validate();\n\t}\n\n\tgetValue()\n\t{\n\t\treturn (this.innerControl.checked ? \"Y\": \"\");\n\t}\n}","import {Tag, Dom, Type, Text} from \"main.core\";\nimport {Switcher} from \"./switcher\";\n\nexport class ChildOption\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tfieldTitle: \"title\",\n\t\t\tdata: {},\n\t\t\tswitcher: null,\n\t\t\tvalue: \"\"\n\t\t}, ...options};\n\n\t\tthis.fieldTitle = Text.encode(options.fieldTitle);\n\t\tthis.data = options.data;\n\t\tthis.value = (options.value ? options.value : \"\");\n\t\tthis.switcher = options.switcher;\n\n\t\tthis.titleControl = null;\n\t\tthis.titleId = \"child-option-title-id\";\n\n\t\tthis.optionsContainer = null;\n\t\tthis.blockId = \"base\";\n\t\tthis.block = null;\n\n\t\tthis.fields = new Set();\n\n\t\tthis.classes = new Map([\n\t\t\t[\"optionItem\", \"social-group-copy-options-item social-group-copy-form-field-list-block\"],\n\t\t\t[\"leftColumn\", \"social-group-copy-options-item-column-left\"],\n\t\t\t[\"fieldTitle\", \"social-group-copy-options-item-name\"],\n\t\t\t[\"rightColumn\", \"social-group-copy-options-item-column-right\"],\n\t\t\t[\"promoText\", \"social-group-copy-switcher-promo-text\"],\n\t\t\t[\"itemHighlight\", \"item-highlight\"],\n\t\t]);\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tthis.optionsContainer = optionsContainer;\n\n\t\tif (Type.isPlainObject(this.data))\n\t\t{\n\t\t\tthis.append(this.data)\n\t\t}\n\n\t\tthis.fields.forEach((field) => {\n\t\t\treturn field.onAppendToParent();\n\t\t});\n\n\t\tthis.block = document.getElementById(this.blockId);\n\t\tthis.titleControl = document.getElementById(this.titleId);\n\t}\n\n\tappend(data)\n\t{\n\t\tthis.optionsContainer.appendChild(\n\t\t\tTag.render`\n\t\t\t\t<div id=\"${this.blockId}\" class=\"${this.classes.get(\"optionItem\")}\">\n\t\t\t\t\t<div class=\"${this.classes.get(\"leftColumn\")}\">\n\t\t\t\t\t\t<div id=\"${this.titleId}\" class=\"${this.classes.get(\"fieldTitle\")}\">${this.fieldTitle}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"${this.classes.get(\"rightColumn\")}\">\n\t\t\t\t\t\t${this.getChildRender(data)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`\n\t\t);\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\tgetChildRender(data)\n\t{\n\t\treturn Tag.render``;\n\t}\n\n\tgetValues()\n\t{\n\t\tconst fieldsValues = {};\n\t\tthis.fields.forEach((field) => {\n\t\t\tfieldsValues[field.getName()] = field.getValue();\n\t\t});\n\n\t\treturn fieldsValues;\n\t}\n\n\tonClick(event)\n\t{\n\t\tthis.switcher.switchOptions();\n\n\t\tif (this.switcher.isOpened())\n\t\t{\n\t\t\tsetTimeout(() => {\n\t\t\t\tDom.addClass(this.block, this.classes.get(\"itemHighlight\"));\n\t\t\t\tconst position = Dom.getPosition(this.block);\n\t\t\t\twindow.scrollBy({\n\t\t\t\t\ttop: position.top,\n\t\t\t\t\tleft: position.left,\n\t\t\t\t\tbehavior: \"smooth\"\n\t\t\t\t});\n\t\t\t\t// todo hack for slider\n\t\t\t\t//this.block.scrollIntoView({behavior: \"smooth\", block: \"start\"});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tDom.removeClass(this.block, this.classes.get(\"itemHighlight\"));\n\t\t\t\t}, 3000);\n\t\t\t}, 1000);\n\t\t}\n\t}\n\n\tchangeTitle(title)\n\t{\n\t\tthis.fieldTitle = title;\n\t\tthis.titleControl.innerHTML = Text.encode(this.fieldTitle);\n\t}\n}","import {Tag, Dom, Type, Event} from \"main.core\";\nimport {CheckboxField} from \"../field/checkbox.field\";\nimport {ChildOption} from \"./child.option\";\n\nexport class Features extends ChildOption\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.promoId = \"features\";\n\t\tthis.blockId = \"features-block\";\n\n\t\tthis.classes.set(\"featuresList\", \"social-group-copy-features-list\");\n\t\tthis.classes.set(\"featureItem\", \"social-group-copy-feature-item social-group-copy-feature-item-tree\");\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tsuper.onAppendToParent(optionsContainer);\n\n\t\tEvent.bind(document.getElementById(this.promoId), \"click\", this.onClick.bind(this));\n\t}\n\n\trenderPromo()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span id=\"${this.promoId}\" class=\"${this.classes.get(\"promoText\")}\">${this.fieldTitle}</span>\n\t\t`;\n\t}\n\n\t/**\n\t * @returns {HTMLElement}\n\t */\n\tgetChildRender(data)\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"featuresList\")}\">\n\t\t\t\t${this.getFeaturesRender(data)}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tselfClean()\n\t{\n\t\tif (Type.isDomNode(this.block))\n\t\t{\n\t\t\tDom.remove(this.block);\n\t\t}\n\t}\n\n\tgetFeaturesRender(features)\n\t{\n\t\treturn Object.values(features).map((feature) => {\n\t\t\tconst hasProperty = Object.prototype.hasOwnProperty;\n\t\t\tconst childrenFields = Object.values(feature[\"Children\"]).map((featureChild) => {\n\t\t\t\tconst childField = new CheckboxField({\n\t\t\t\t\tfieldTitle: featureChild[\"Title\"],\n\t\t\t\t\tfieldName: \"features[\" + feature[\"Name\"] + \"][\" + featureChild[\"Name\"] + \"]\",\n\t\t\t\t\tvalidators: [],\n\t\t\t\t\tparentNode: this.optionsContainer,\n\t\t\t\t\tchecked: (hasProperty.call(featureChild, \"Checked\") ? featureChild[\"Checked\"] : true)\n\t\t\t\t});\n\t\t\t\tthis.fields.add(childField);\n\t\t\t\treturn childField;\n\t\t\t});\n\n\t\t\tconst childrenRender = childrenFields.map((childrenField) => {\n\t\t\t\treturn Tag.render`${childrenField.render()}`;\n\t\t\t});\n\n\t\t\tconst featureField = new CheckboxField({\n\t\t\t\tfieldTitle: feature[\"Title\"],\n\t\t\t\tfieldName: \"features[\" + feature[\"Name\"] + \"][active]\",\n\t\t\t\tvalidators: [],\n\t\t\t\tparentNode: this.optionsContainer,\n\t\t\t\tchecked: (hasProperty.call(feature, \"Checked\") ? feature[\"Checked\"] : true),\n\t\t\t\tonCustomChange: function(event) {\n\t\t\t\t\tthis.forEach((childrenField) => {\n\t\t\t\t\t\tchildrenField.setChecked(event.currentTarget.checked);\n\t\t\t\t\t});\n\t\t\t\t}.bind(childrenFields)\n\t\t\t});\n\t\t\tthis.fields.add(featureField);\n\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"${this.classes.get(\"featureItem\")}\">\n\t\t\t\t\t${featureField.render()}\n\t\t\t\t\t${childrenRender}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n}","import {Tag, Dom, Type, Text, Loc, Event} from \"main.core\";\nimport {ChildOption} from \"./child.option\";\nimport {SelectField} from \"../field/select.field\";\n\nexport class Rights extends ChildOption\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\tthis.promoId = \"rights\";\n\t\tthis.blockId = \"rights-block\";\n\t\tthis.titleId = \"rights-option-title-id\";\n\n\t\tthis.selectField = null;\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tsuper.onAppendToParent(optionsContainer);\n\n\t\tEvent.bind(document.getElementById(this.promoId), \"click\", this.onClick.bind(this));\n\t}\n\n\trenderPromo()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span id=\"${this.promoId}\" class=\"${this.classes.get(\"promoText\")}\">\n\t\t\t\t${Loc.getMessage(\"SGCG_OPTIONS_PERMS_TITLE\")}\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tgetChildRender(data)\n\t{\n\t\tthis.selectField = new SelectField({\n\t\t\tfieldTitle: this.fieldTitle,\n\t\t\tfieldName: \"initiate_perms\",\n\t\t\tvalue: this.value,\n\t\t\tlist: data\n\t\t});\n\n\t\tthis.fields.add(this.selectField);\n\n\t\treturn this.selectField.renderRightColumn();\n\t}\n\n\tchangeSelectOptions(data)\n\t{\n\t\tthis.selectField.changeOptions(data);\n\t}\n}","import {CustomField} from \"./custom.field\";\nimport {Type} from \"main.core\";\n\nexport class SelectorField extends CustomField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tselectorId: \"\",\n\t\t}, ...options};\n\n\t\tthis.selectorId = options.selectorId;\n\n\t\tthis.selector = null;\n\n\t\tthis.value = {};\n\n\t\tthis.init();\n\t}\n\n\tinit()\n\t{\n\t\t/* eslint-disable */\n\t\tthis.selector = BX.UI.TileSelector.getById(this.selectorId);\n\t\tif (this.selector)\n\t\t{\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.search, this.onSearch.bind(this));\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.input, this.onInput.bind(this));\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.buttonSelect, this.buttonSelect.bind(this));\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.tileRemove, this.removeTile.bind(this));\n\t\t\tBX.addCustomEvent(this.selector, this.selector.events.tileClick, this.clickTile.bind(this));\n\n\t\t\tthis.selector.getTiles().map((tile) => {\n\t\t\t\tthis.setValue(tile.id, tile);\n\t\t\t});\n\t\t}\n\t\t/* eslint-enable */\n\t}\n\n\tsetValue(key, value)\n\t{\n\t\tthis.value[key] = value;\n\t}\n\n\tdeleteValue(key)\n\t{\n\t\tdelete this.value[key];\n\t}\n\n\tonSearch(inputValue)\n\t{\n\t\tif (inputValue)\n\t\t{\n\t\t\tthis.selector.addTile(inputValue, [], inputValue);\n\t\t\tconst tile = this.selector.getTile(inputValue);\n\t\t\tthis.setValue(tile.id, tile);\n\t\t}\n\t}\n\n\tonInput(inputValue)\n\t{\n\t\t//todo later ajax search.tags.input\n\t}\n\n\tbuttonSelect()\n\t{\n\t\t//todo if need\n\t}\n\n\tremoveTile(tile)\n\t{\n\t\tthis.deleteValue(tile.id);\n\t}\n\n\tclickTile(tile)\n\t{\n\t\t//todo if need\n\t}\n}","import {SelectorField} from \"./selector.field\";\n\nexport class TagField extends SelectorField\n{\n\tgetValue()\n\t{\n\t\treturn Object.keys(this.value).join(\",\");\n\t}\n}","import {Tag, Dom, Type, Text, Loc, Event} from \"main.core\";\nimport {ChildOption} from \"./child.option\";\nimport {TagField} from \"../field/tag.field\";\n\nexport class Tags extends ChildOption\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\ttagsFieldContainerId: \"\"\n\t\t}, ...options};\n\n\t\tthis.promoId = \"tags\";\n\t\tthis.blockId = \"tags-block\";\n\n\t\tthis.tagsFieldContainerId = options.tagsFieldContainerId;\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tsuper.onAppendToParent(optionsContainer);\n\n\t\tEvent.bind(document.getElementById(this.promoId), \"click\", this.onClick.bind(this));\n\t}\n\n\trenderPromo()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span id=\"${this.promoId}\" class=\"${this.classes.get(\"promoText\")}\">${this.fieldTitle}</span>\n\t\t`;\n\t}\n\n\tgetChildRender(data)\n\t{\n\t\tconst tagField = new TagField({\n\t\t\tselectorId: \"tags-list\",\n\t\t\tfieldTitle: this.fieldTitle,\n\t\t\tfieldName: \"keywords\",\n\t\t\tfieldContainerId: this.tagsFieldContainerId\n\t\t});\n\n\t\tthis.fields.add(tagField);\n\n\t\treturn tagField.renderRightColumn();\n\t}\n}","import {Tag, Loc, Event} from \"main.core\";\nimport {ChildOption} from \"./child.option\";\nimport {CheckboxField} from \"../field/checkbox.field\";\n\nexport class Types extends ChildOption\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\n\t\toptions = {...{\n\t\t\tisProject: false,\n\t\t\tisExtranetGroup: false,\n\t\t\tisExtranetInstalled: false,\n\t\t\tisIntranetInstalled: false,\n\t\t\tisLandingInstalled: false,\n\t\t}, ...options};\n\n\t\tthis.isProject = options.isProject;\n\t\tthis.isExtranetGroup = options.isExtranetGroup;\n\t\tthis.isExtranetInstalled = options.isExtranetInstalled;\n\t\tthis.isIntranetInstalled = options.isIntranetInstalled;\n\t\tthis.isLandingInstalled = options.isLandingInstalled;\n\n\t\tthis.promoId = \"types\";\n\t\tthis.blockId = \"types-block\";\n\t\tthis.titleId = \"types-option-title-id\";\n\n\t\tthis.classes.set(\"typesList\", \"social-group-copy-types-list\");\n\t\tthis.classes.set(\"typeItem\", \"social-group-copy-feature-item\");\n\n\t\tthis.checkboxEventName = \"BX.Socialnetwork.CheckboxField\";\n\t}\n\n\tonAppendToParent(optionsContainer)\n\t{\n\t\tsuper.onAppendToParent(optionsContainer);\n\n\t\tEvent.bind(document.getElementById(this.promoId), \"click\", this.onClick.bind(this));\n\t}\n\n\trenderPromo()\n\t{\n\t\treturn Tag.render`\n\t\t\t<span id=\"${this.promoId}\" class=\"${this.classes.get(\"promoText\")}\">\n\t\t\t\t${Loc.getMessage(\"SGCG_OPTIONS_TYPE_TITLE\")}\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tgetChildRender(data)\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"${this.classes.get(\"typesList\")}\">\n\t\t\t\t${this.getTypesRender(data)}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetTypesRender(data)\n\t{\n\t\tconst result = [];\n\n\t\tconst visibleField = this.createVisibleField(data);\n\t\tresult.push(Tag.render`${visibleField.render()}`);\n\n\t\tconst openField = this.createOpenedField(data);\n\t\tresult.push(Tag.render`${openField.render()}`);\n\n\t\tconst closeField = this.createCloseField(data);\n\t\tresult.push(Tag.render`${closeField.render()}`);\n\n\t\tif (this.isExtranetInstalled)\n\t\t{\n\t\t\tconst extranetField = this.createExtranetField(data);\n\t\t\tresult.push(Tag.render`${extranetField.render()}`);\n\t\t}\n\n\t\tif (this.isIntranetInstalled)\n\t\t{\n\t\t\tconst projectField = this.createProjectField(data);\n\t\t\tresult.push(Tag.render`${projectField.render()}`);\n\t\t}\n\n\t\tif (this.isLandingInstalled)\n\t\t{\n\t\t\tconst landingField = this.createLandingField(data);\n\t\t\tresult.push(Tag.render`${landingField.render()}`);\n\t\t}\n\n\t\treturn Tag.render`${result}`;\n\t}\n\n\tcreateVisibleField(data)\n\t{\n\t\tconst visibleField = new CheckboxField({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_VISIBLE\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_VISIBLE\")),\n\t\t\tfieldName: \"visible\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"VISIBLE\"] === \"Y\" && !this.isExtranetGroup),\n\t\t\tdisabled: this.isExtranetGroup\n\t\t});\n\n\t\tthis.fields.add(visibleField);\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tvisibleField.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_VISIBLE\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_VISIBLE\"))\n\t\t});\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":extranet_group:onChange\", (baseEvent) => {\n\t\t\tvisibleField.changeDisabled(baseEvent.data.checked);\n\t\t});\n\n\t\treturn visibleField;\n\t}\n\n\tcreateOpenedField(data)\n\t{\n\t\tconst openField = new CheckboxField({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_OPEN\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_OPEN\")),\n\t\t\tfieldName: \"opened\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"OPENED\"] === \"Y\" && !this.isExtranetGroup),\n\t\t\tdisabled: (data[\"VISIBLE\"] !== \"Y\" || this.isExtranetGroup)\n\t\t});\n\n\t\tthis.fields.add(openField);\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\topenField.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_OPEN\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_OPEN\"))\n\t\t});\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":visible:onChange\", (baseEvent) => {\n\t\t\topenField.changeDisabled(!baseEvent.data.checked);\n\t\t});\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":extranet_group:onChange\", (baseEvent) => {\n\t\t\topenField.changeDisabled(baseEvent.data.checked);\n\t\t});\n\n\t\treturn openField;\n\t}\n\n\tcreateCloseField(data)\n\t{\n\t\tconst closeField = new CheckboxField({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_CLOSED\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_CLOSED\")),\n\t\t\tfieldName: \"closed\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"CLOSED\"] === \"Y\"),\n\t\t\tdisabled: this.isExtranetGroup\n\t\t});\n\n\t\tthis.fields.add(closeField);\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tcloseField.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_CLOSED\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_CLOSED\"));\n\t\t});\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":extranet_group:onChange\", (baseEvent) => {\n\t\t\tcloseField.changeDisabled(baseEvent.data.checked);\n\t\t});\n\n\t\treturn closeField;\n\t}\n\n\tcreateExtranetField(data)\n\t{\n\t\tconst extranetField = new CheckboxField({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_EXTRANET\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_EXTRANET\")),\n\t\t\tfieldName: \"extranet_group\",\n\t\t\tvalidators: [],\n\t\t\tchecked: this.isExtranetGroup\n\t\t});\n\n\t\tthis.fields.add(extranetField);\n\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\textranetField.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_EXTRANET\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_EXTRANET\"))\n\t\t});\n\n\t\treturn extranetField;\n\t}\n\n\tcreateProjectField(data)\n\t{\n\t\tconst projectField = new CheckboxField({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_OPTIONS_TYPE_PROJECT\"),\n\t\t\tfieldName: \"project\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"PROJECT\"] === \"Y\")\n\t\t});\n\t\tthis.fields.add(projectField);\n\t\treturn projectField;\n\t}\n\n\tcreateLandingField(data)\n\t{\n\t\tconst landingField = new CheckboxField({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_OPTIONS_TYPE_LANDING\"),\n\t\t\tfieldName: \"landing\",\n\t\t\tvalidators: [],\n\t\t\tchecked: (data[\"LANDING\"] === \"Y\")\n\t\t});\n\t\tthis.fields.add(landingField);\n\t\treturn landingField;\n\t}\n\n\tsubscribeToField(eventName, callback)\n\t{\n\t\tEvent.EventEmitter.subscribe(eventName, callback);\n\t}\n}","import {Event, Loc, Type} from 'main.core';\nimport {Form} from \"./form/form\";\nimport {RequestSender} from \"./request.sender\";\nimport {ImageField} from \"./form/field/image.field\";\nimport {DateField} from \"./form/field/date.field\";\nimport {DateRangeField} from \"./form/field/date.range.field\";\nimport {UserField} from \"./form/field/user.field\";\nimport {SelectField} from \"./form/field/select.field\";\nimport {RequireValidator} from \"./form/validator/require.validator\";\nimport {Options} from \"./form/block/options\";\nimport {Switcher} from \"./form/block/switcher\";\nimport {Features} from \"./form/block/features\";\nimport {Rights} from \"./form/block/rights\";\nimport {Tags} from \"./form/block/tags\";\nimport {Types} from \"./form/block/types\";\n\nexport class CopyingManager\n{\n\tconstructor(options)\n\t{\n\t\toptions = {...{\n\t\t\tsignedParameters: \"\",\n\t\t\tformContainerId: \"\",\n\t\t\tisProject: \"N\",\n\t\t\tisExtranet: \"N\",\n\t\t\tisExtranetGroup: \"N\",\n\t\t\tisExtranetInstalled: \"N\",\n\t\t\tisIntranetInstalled: \"N\",\n\t\t\tgroupData: {},\n\t\t\timageFieldContainerId: \"\",\n\t\t\townerFieldContainerId: \"\",\n\t\t\thelpersFieldContainerId: \"\",\n\t\t\tisLandingInstalled: \"\",\n\t\t\ttagsFieldContainerId: \"\",\n\t\t\tcopyButtonId: \"\",\n\t\t\tcancelButtonId: \"\"\n\t\t}, ...options};\n\n\t\tthis.signedParameters = options.signedParameters;\n\n\t\tthis.formContainerId = options.formContainerId;\n\n\t\tthis.isProject = (options.isProject === \"Y\");\n\t\tthis.isExtranet = (options.isExtranet === \"Y\");\n\t\tthis.isExtranetGroup = (options.isExtranetGroup === \"Y\");\n\t\tthis.isExtranetInstalled = (options.isExtranetInstalled === \"Y\");\n\t\tthis.isIntranetInstalled = (options.isIntranetInstalled === \"Y\");\n\t\tthis.isLandingInstalled = (options.isLandingInstalled === \"Y\");\n\n\t\tthis.groupData = options.groupData;\n\n\t\tthis.subjects = this.groupData[\"SUBJECTS\"];\n\t\tthis.features = this.groupData[\"FEATURES\"];\n\t\tthis.initiatePerms = this.groupData[\"LIST_INITIATE_PERMS\"];\n\n\t\tthis.imageFieldContainerId = options.imageFieldContainerId;\n\t\tthis.ownerFieldContainerId = options.ownerFieldContainerId;\n\t\tthis.helpersFieldContainerId = options.helpersFieldContainerId;\n\t\tthis.tagsFieldContainerId = options.tagsFieldContainerId;\n\n\t\tthis.requestSender = new RequestSender({\n\t\t\tsignedParameters: this.signedParameters,\n\t\t});\n\t\tthis.requestSender.setProjectMarker(this.isProject);\n\n\t\tthis.form = new Form({\n\t\t\trequestSender: this.requestSender,\n\t\t\tgroupData: options.groupData,\n\t\t\tcopyButtonId: options.copyButtonId,\n\t\t\tcancelButtonId: options.cancelButtonId\n\t\t});\n\n\t\tthis.buildForm();\n\t}\n\n\tbuildForm()\n\t{\n\t\tthis.checkboxEventName = \"BX.Socialnetwork.CheckboxField\";\n\n\t\tthis.form.addField(new ImageField({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_UPLOAD_IMAGE_TITLE\"),\n\t\t\tfieldName: \"image_id\",\n\t\t\tfieldContainerId: this.imageFieldContainerId\n\t\t}));\n\n\t\tthis.form.addField(this.createDate());\n\n\t\tif (!this.isProject)\n\t\t{\n\t\t\tthis.form.addField(this.createRangeDate());\n\t\t}\n\n\t\tthis.form.addField(this.createOwner());\n\n\t\tthis.form.addField(new UserField({\n\t\t\tselectorId: \"group-copy-helpers\",\n\t\t\tfieldTitle: (this.isProject ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_HELPERS_TITLE\") : Loc.getMessage(\"SGCG_GROUP_HELPERS_TITLE\")),\n\t\t\tfieldName: \"moderators\",\n\t\t\tfieldContainerId: this.helpersFieldContainerId\n\t\t}));\n\t\tif (Type.isPlainObject(this.subjects))\n\t\t{\n\t\t\tthis.form.addField(this.createSubject());\n\t\t}\n\n\t\tconst switcher = new Switcher({\n\t\t\ttitle: Loc.getMessage(\"SGCG_OPTIONS_TITLE\")\n\t\t});\n\t\tconst options = new Options({\n\t\t\tswitcher: switcher\n\t\t});\n\t\tconst features = new Features({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_OPTIONS_FEATURES_TITLE\"),\n\t\t\tdata: this.features,\n\t\t\tswitcher: switcher\n\t\t});\n\t\toptions.addOption(features);\n\n\t\t//todo SPAM_PERMS\n\t\toptions.addOption(this.createRights(switcher));\n\n\t\toptions.addOption(this.createTags(switcher));\n\n\t\toptions.addOption(this.createTypes(switcher));\n\n\t\tthis.form.addBlock(options);\n\n\t\tthis.form.renderTo(document.getElementById(this.formContainerId));\n\t}\n\n\tsubscribeToField(eventName, callback)\n\t{\n\t\tEvent.EventEmitter.subscribe(eventName, callback);\n\t}\n\n\tcreateTypes(switcher)\n\t{\n\t\tconst types = new Types({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_LABEL\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_LABEL\")),\n\t\t\tdata: this.groupData,\n\t\t\tswitcher: switcher,\n\t\t\tisProject: this.isProject,\n\t\t\tisExtranetGroup: this.isExtranetGroup,\n\t\t\tisExtranetInstalled: this.isExtranetInstalled,\n\t\t\tisIntranetInstalled: this.isIntranetInstalled,\n\t\t\tisLandingInstalled: this.isLandingInstalled\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\ttypes.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_TYPE_LABEL\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_TYPE_LABEL\"));\n\t\t});\n\t\treturn types;\n\t}\n\n\tcreateTags(switcher)\n\t{\n\t\treturn new Tags({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_OPTIONS_KEYWORDS_TITLE\"),\n\t\t\ttagsFieldContainerId: this.tagsFieldContainerId,\n\t\t\tswitcher: switcher\n\t\t});\n\t}\n\n\tcreateRights(switcher)\n\t{\n\t\tconst rights = new Rights({\n\t\t\tfieldTitle: (this.isProject ? Loc.getMessage(\"SGCG_OPTIONS_PROJECT_PERMS_LABEL\") :\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_GROUP_PERMS_LABEL\")),\n\t\t\tvalue: this.groupData[\"INITIATE_PERMS\"],\n\t\t\tdata: (this.isProject ? this.initiatePerms.project : this.initiatePerms.group),\n\t\t\tswitcher: switcher\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\trights.changeSelectOptions((baseEvent.data.checked ? this.initiatePerms.project : this.initiatePerms.group));\n\t\t\trights.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_OPTIONS_PROJECT_PERMS_LABEL\") : Loc.getMessage(\"SGCG_OPTIONS_GROUP_PERMS_LABEL\"));\n\t\t});\n\t\treturn rights;\n\t}\n\n\tcreateSubject()\n\t{\n\t\tconst subject = new SelectField({\n\t\t\tfieldTitle: (this.isProject ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_SUBJECT\") : Loc.getMessage(\"SGCG_GROUP_SUBJECT\")),\n\t\t\tfieldName: \"subject_id\",\n\t\t\tvalue: this.groupData[\"SUBJECT_ID\"],\n\t\t\tlist: this.subjects\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tsubject.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_SUBJECT\") : Loc.getMessage(\"SGCG_GROUP_SUBJECT\"));\n\t\t});\n\t\treturn subject;\n\t}\n\n\tcreateOwner()\n\t{\n\t\tconst owner = new UserField({\n\t\t\tselectorId: \"group-copy-owner\",\n\t\t\tmultiple: false,\n\t\t\tfieldTitle: (this.isProject ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_OWNER_TITLE\") : Loc.getMessage(\"SGCG_GROUP_OWNER_TITLE\")),\n\t\t\tfieldName: \"owner_id\",\n\t\t\tvalidators: [RequireValidator],\n\t\t\tfieldContainerId: this.ownerFieldContainerId\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\towner.changeTitle(baseEvent.data.checked ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_OWNER_TITLE\") : Loc.getMessage(\"SGCG_GROUP_OWNER_TITLE\"));\n\t\t});\n\t\treturn owner;\n\t}\n\n\tcreateDate()\n\t{\n\t\tconst date = new DateField({\n\t\t\tfieldTitle: (this.isProject ?\n\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_START_POINT_TITLE\") : Loc.getMessage(\"SGCG_GROUP_START_POINT_TITLE\")),\n\t\t\tfieldName: \"start_point\",\n\t\t\tvalidators: [RequireValidator],\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tif (this.isProject)\n\t\t\t{\n\t\t\t\tdate.changeTitle(baseEvent.data.checked ?\n\t\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_START_POINT_TITLE\") : Loc.getMessage(\"SGCG_GROUP_START_POINT_TITLE\"));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdate.toggleVisible(!baseEvent.data.checked);\n\t\t\t\tdate.changeTitle(baseEvent.data.checked ?\n\t\t\t\t\tLoc.getMessage(\"SGCG_PROJECT_RANGE_TITLE\") : Loc.getMessage(\"SGCG_GROUP_START_POINT_TITLE\"));\n\t\t\t}\n\t\t});\n\t\treturn date;\n\t}\n\n\tcreateRangeDate()\n\t{\n\t\tconst dateRange = new DateRangeField({\n\t\t\tfieldTitle: Loc.getMessage(\"SGCG_PROJECT_RANGE_TITLE\"),\n\t\t\tfieldName: \"project_term\",\n\t\t\tvisible: false\n\t\t});\n\t\tthis.subscribeToField(this.checkboxEventName + \":project:onChange\", (baseEvent) => {\n\t\t\tif (!this.isProject)\n\t\t\t{\n\t\t\t\tdateRange.toggleVisible(baseEvent.data.checked);\n\t\t\t}\n\t\t});\n\t\treturn dateRange;\n\t}\n}"],"names":["ErrorAlert","options","id","Text","getRandom","message","classes","Map","encode","Tag","render","get","BaseField","fieldTitle","fieldName","validators","onCustomChange","parentNode","value","focus","visible","titleControl","titleId","innerControl","innerControlId","container","ids","errorContainer","Set","Type","isDomNode","observerParent","MutationObserver","onAppendToParent","bind","observe","childList","name","set","has","constructor","mutations","document","getElementById","isFunction","Event","clear","forEach","validatorClass","validator","errorId","getType","errorDom","remove","validate","Dom","removeClass","addClass","error","getErrorMessage","before","add","size","title","innerHTML","bool","EventEmitter","TextField","placeHolder","renderRightColumn","onChange","text","placeholder","setValue","RequireValidator","errorMessage","Loc","getMessage","isValid","isArray","length","undefined","String","trim","TextAreaField","Form","requestSender","groupData","copyButtonId","cancelButtonId","isProject","PROJECT","fields","blocks","errorDomContainer","checkboxEventName","formContainer","Error","appendChild","emitFormAppend","bindButtons","uiCopyButton","Buttons","Button","buttonContainer","copyButton","isWaiting","setWaiting","copyGroup","getRequestData","then","response","handleResponse","catch","closeSlider","cancelButton","onCopy","onClose","field","block","push","nameField","setClass","subscribe","baseEvent","changePlaceHolder","data","checked","descriptionField","DESCRIPTION","map","addField","delete","getErrorContainer","fieldsValues","getName","getValue","blocksValues","getValues","Object","assign","errors","displayResponseError","shift","urlToCopiedGroup","top","window","location","href","errorAlert","hasChildNodes","removeChild","firstChild","BX","onCustomEvent","RequestSender","signedParameters","groupId","Promise","resolve","reject","ajax","runComponentAction","mode","parseInt","requestData","analyticsLabel","project","Boolean","CustomField","fieldContainerId","customContainer","ImageField","init","uploaderInstance","UploaderManager","getById","addCustomEvent","onQueueIsChanged","currentValue","getCurrentValue","action","fileId","file","onUploadDone","status","agent","pIndex","fieldInput","getElementsByName","DateValidator","DateField","showCalendar","node","calendar","bTime","bSetFocus","bHideTime","DateRangeField","startPoint","endPoint","baseContainer","setParentNode","toggleVisible","start_point","end_point","UserField","selectorId","multiple","onSelect","onUnSelect","info","isUndefined","item","entityId","deleteValue","SelectField","list","onChangeCallback","getOptions","join","entries","Options","switcher","option","addOption","optionsValues","Switcher","optionsContainer","onClick","hasClass","renderPromo","event","target","targetId","getAttribute","currentTarget","switchOptions","CheckboxField","disabled","eventNamespace","setEventNamespace","emit","ChildOption","blockId","isPlainObject","append","getChildRender","isOpened","setTimeout","position","getPosition","scrollBy","left","behavior","Features","promoId","getFeaturesRender","features","values","feature","hasProperty","prototype","hasOwnProperty","childrenFields","featureChild","childField","call","childrenRender","childrenField","featureField","setChecked","Rights","selectField","changeOptions","SelectorField","selector","UI","TileSelector","events","search","onSearch","input","onInput","buttonSelect","tileRemove","removeTile","tileClick","clickTile","getTiles","tile","key","inputValue","addTile","getTile","TagField","keys","Tags","tagsFieldContainerId","tagField","Types","isExtranetGroup","isExtranetInstalled","isIntranetInstalled","isLandingInstalled","getTypesRender","result","visibleField","createVisibleField","openField","createOpenedField","closeField","createCloseField","extranetField","createExtranetField","projectField","createProjectField","landingField","createLandingField","subscribeToField","changeTitle","changeDisabled","eventName","callback","CopyingManager","formContainerId","isExtranet","imageFieldContainerId","ownerFieldContainerId","helpersFieldContainerId","subjects","initiatePerms","setProjectMarker","form","buildForm","createDate","createRangeDate","createOwner","createSubject","createRights","createTags","createTypes","addBlock","renderTo","types","rights","group","changeSelectOptions","subject","owner","date","dateRange"],"mappings":"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"}