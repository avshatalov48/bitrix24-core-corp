(function(){BX.namespace("BX.Intranet.Placement");if(!BX.Intranet.Placement){return}function t(){}t.prototype={init:function(t){this.containerId=t.containerId;this.placementCode=t.placementCode;this.maxLoadDelay=t.maxLoadDelay;this.serviceUrl=t.serviceUrl;this.items=t.items;this.signedParameters=t.signedParameters;this.loadPlacement()},loadPlacement:function(){for(let t=0;t<this.items.length;t++){BX.ajax({url:this.serviceUrl,method:"POST",dataType:"html",data:{PARAMS:{params:{ID:this.items[t].APP_ID,PLACEMENT:this.items[t].PLACEMENT,PLACEMENT_ID:this.items[t].PLACEMENT_ID,PLACEMENT_OPTIONS:this.items[t].PLACEMENT_OPTIONS}}},onsuccess:function(e){this.appRequestOnSuccess(e,this.items[t])}.bind(this)})}},appRequestOnSuccess:function(t,e){BX.append(BX.create("div",{props:{id:e.ID},html:t}),BX(this.containerId));this.checkLoadTiming(e,Date.now())},checkLoadTiming:function(t,e){BX.findChild(BX(t.ID),{tag:"iframe"},true).onload=function(){if(this.maxLoadDelay<Date.now()-e){this.sendAjax("setLongLoad",{item:t})}}.bind(this)},sendAjax:function(t,e){BX.ajax.runComponentAction("bitrix:intranet.placement",t,{mode:"class",signedParameters:this.signedParameters,data:e}).then((function(t){}))}};BX.Intranet.Placement=t})(window);
//# sourceMappingURL=script.map.js