{"version":3,"file":"script.min.js","sources":["script.js"],"names":["BXWikiEditor","params","this","element","elementId","wikiTextHtmlInit","editUrl","htmlEditorId","editorId","htmlEditor","charset","maxImageWidth","myAgent","navigator","userAgent","toLowerCase","myVersion","parseInt","appVersion","wikitags","arWikiImg","arWikiCodeStorage","rng","sel","selLength","selStart","selEnd","oPrevRange","currentMode","is_ie","indexOf","is_nav","is_opera","is_win","is_mac","window","phpVars","prototype","init","document","getElementById","getHtmlEditor","bindEventHandlers","setTimeout","showEditField","bind","items","BX","addCustomEvent","editor","id","handlers","wiki-wcode-bold","wiki_bold","wiki-wcode-italic","wiki_italic","wiki-wcode-wheader","wiki_header","wiki-wcode-category","ShowCategoryInsert","wiki-wcode-url","ShowInsertLink","wiki-wcode-signature","wiki_signature","wiki-wcode-line","wiki_line","wiki-wcode-ignore","wiki_nowiki","wiki-wcode-external-url","wiki-wcode-img","ShowImageInsert","wiki-wcode-img-upload","ShowImageUpload","wiki-wcode-code","WikiInsertCode","buttonClass","button","querySelector","hasOwnProperty","addEventListener","switchToTextElement","switchToHtmlElement","messageElement","check_ctrl_enter","simpletag","doInsert","InsertHTML","thetag","checkTag","push","cstat","showDialog","buttons","bxd","CDialog","ClearButtons","SetButtons","adjustSizeEx","DIV","parentNode","removeChild","Show","wikiEditor","title","message","content","getTemplate","height","width","min_height","min_width","_BTN","action","disableUntilError","ajax","submitAjax","forms","url","method","dataType","onsuccess","data","WindowManager","Get","ShowError","image","name","html","imgTable","newImageElement","createElement","classList","add","innerHTML","render","appendChild","closeWait","Close","onerror","btnCancel","getSelectedText","wiki_tag_image","value","parentWindow","wiki_tag_category","external","template","selectedText","linkName","wiki_tag_url_external","wiki_tag_url","text","URL","TEXT","SelectRange","prefix","_str","SetBxTag","tag","file_name","closeall","length","tagRemove","pop","focus","GetSelectionRange","startContainer","endContainer","nodeType","textContent","substring","startOffset","endOffset","htmlText","textarea","currentScroll","scrollTop","selection","createRange","stored_rng","duplicate","moveToElementText","setEndPoint","collapse","type","textLength","selectionStart","selectionEnd","mozillaWr","open","close","replace","s1","s2","s3","setSelectionRange","bracketEnd","bracketStart","substr","ibTag","ibClsTag","isSingle","imgID","__image","imageSrc","src","_img_width","_img_height","_img_style","naturalWidth","lgi","Image","naturalHeight","isClose","new_rng","createTextRange","move","select","e","keyCode","ctrlKey","REPLIER","submit","saveWikiCodes","retText","_this","code","offset","i","restoreWikiCodes","digit","convTextForText","convTextForVisual","htmlspecchWikiCodes","p1","p2","p3","util","htmlspecialchars","htmlspecchWikiCodesBack","htmlspecialcharsback","insertSanitized","pLEditor","SetEditorContent","oDivIDHtml","show","showWait","textPrepared","requestParams","act","sessid","bitrix_sessid","result","setEditorContentAfterLoad","change","oDivIDText","style","display","SaveContent","_content","GetContent","wikiPostToFeedTogle","ptf","wikiSetCheckboxPTF","cb","checked","replaceLinkByInput","linkObj","inputDivId","inputDiv","addClass","removeClass","templateName","match","variable"],"mappings":"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"}