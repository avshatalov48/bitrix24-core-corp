(function(t,e,n,a){"use strict";a=a&&a.hasOwnProperty("default")?a["default"]:a;function r(){var t=babelHelpers.taggedTemplateLiteral(['<div class="rpa-edit-robot-btn-list-target-target"></div>']);r=function e(){return t};return t}function i(){var t=babelHelpers.taggedTemplateLiteral(['<div class="rpa-edit-robot-btn-item-drag-target"></div>']);i=function e(){return t};return t}function o(){var t=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<span class="rpa-edit-robot-btn-icon-draggable"></span>\n\t\t\t']);o=function e(){return t};return t}var s=e.Reflection.namespace("BX.Rpa");var g=function(){function t(n){babelHelpers.classCallCheck(this,t);this.btnContainer=n;this.draggableBtnContainer=null;this.dragElement=null;this.cache=new e.Cache.MemoryCache}babelHelpers.createClass(t,[{key:"init",value:function t(){var n=this.getDragButton();e.Dom.prepend(n,this.btnContainer);n.onbxdragstart=this.onDragStart.bind(this);n.onbxdrag=this.onDrag.bind(this);n.onbxdragstop=this.onDragStop.bind(this);jsDD.registerObject(n);this.btnContainer.onbxdestdraghover=this.onDragEnter.bind(this);this.btnContainer.onbxdestdraghout=this.onDragLeave.bind(this);this.btnContainer.onbxdestdragfinish=this.onDragDrop.bind(this);jsDD.registerDest(this.btnContainer,30)}},{key:"getDragButton",value:function t(){return this.cache.remember("dragButton",function(){return e.Tag.render(o())})}},{key:"onDragStart",value:function t(){e.Dom.addClass(this.btnContainer,"rpa-edit-robot-btn-item-disabled");if(!this.dragElement){this.dragElement=this.btnContainer.cloneNode(true);this.dragElement.style.position="absolute";this.dragElement.style.width=this.btnContainer.offsetWidth+"px";this.dragElement.className="rpa-edit-robot-btn-item rpa-edit-robot-btn-item-drag";e.Dom.append(this.dragElement,document.body)}}},{key:"onDrag",value:function t(e,n){if(this.dragElement){this.dragElement.style.left=e+"px";this.dragElement.style.top=n+"px"}}},{key:"onDragStop",value:function t(){e.Dom.removeClass(this.btnContainer,"rpa-edit-robot-btn-item-disabled");e.Dom.remove(this.dragElement);this.dragElement=null}},{key:"onDragEnter",value:function t(e){this.draggableBtnContainer=e.closest(".rpa-edit-robot-btn-item");if(this.draggableBtnContainer!==this.btnContainer){this.showDragTarget()}}},{key:"onDragLeave",value:function t(){this.hideDragTarget()}},{key:"onDragDrop",value:function t(){if(this.draggableBtnContainer!==this.btnContainer){this.hideDragTarget();e.Dom.remove(this.draggableBtnContainer);e.Dom.insertBefore(this.draggableBtnContainer,this.btnContainer)}}},{key:"showDragTarget",value:function t(){e.Dom.addClass(this.btnContainer,"rpa-edit-robot-btn-item-target-shown");this.getDragTarget().style.height=this.btnContainer.offsetHeight+"px"}},{key:"hideDragTarget",value:function t(){e.Dom.removeClass(this.btnContainer,"rpa-edit-robot-btn-item-target-shown");this.getDragTarget().style.height=0}},{key:"getDragTarget",value:function t(){if(!this.dragTarget){this.dragTarget=e.Tag.render(i());e.Dom.prepend(this.dragTarget,this.btnContainer)}return this.dragTarget}}]);return t}();var h=function(){function t(){babelHelpers.classCallCheck(this,t);this.container=document.querySelector(".rpa-edit-robot-btn-item-list");this.height=null}babelHelpers.createClass(t,[{key:"init",value:function t(){this.container.onbxdestdraghover=BX.delegate(this.onDragEnter,this);this.container.onbxdestdraghout=BX.delegate(this.onDragLeave,this);this.container.onbxdestdragfinish=BX.delegate(this.onDragDrop,this);jsDD.registerDest(this.container,40)}},{key:"onDragEnter",value:function t(e){this.draggableBtnContainer=e.closest(".rpa-edit-robot-btn-item");this.height=this.draggableBtnContainer.offsetHeight;this.showDragTarget()}},{key:"onDragLeave",value:function t(){this.hideDragTarget()}},{key:"onDragDrop",value:function t(){this.hideDragTarget();e.Dom.remove(this.draggableBtnContainer);e.Dom.insertBefore(this.draggableBtnContainer,this.dragTarget)}},{key:"showDragTarget",value:function t(){e.Dom.addClass(this.container,"rpa-edit-robot-btn-list-target-shown");this.getDragTarget().style.height=this.height+"px"}},{key:"hideDragTarget",value:function t(){e.Dom.removeClass(this.container,"rpa-edit-robot-btn-list-target-shown");this.getDragTarget().style.height=0}},{key:"getDragTarget",value:function t(){if(!this.dragTarget){this.dragTarget=e.Tag.render(r());e.Dom.append(this.dragTarget,this.container)}return this.dragTarget}}]);return t}();s.DragDropBtn=g;s.DragDropBtnContainer=h})(this.window=this.window||{},BX,BX.Rpa,BX);
//# sourceMappingURL=script.map.js