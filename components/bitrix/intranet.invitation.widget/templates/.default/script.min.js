this.BX=this.BX||{};(function(t,e,n,i,a,r){"use strict";function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){babelHelpers.defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=function(t){babelHelpers.inherits(e,t);function e(t){var n;babelHelpers.classCallCheck(this,e);n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this));babelHelpers.defineProperty(babelHelpers.assertThisInitialized(n),"cache",new a.Cache.MemoryCache);n.setOptions(t);return n}babelHelpers.createClass(e,[{key:"setOptions",value:function t(e){this.cache.set("options",o({},e))}},{key:"getOptions",value:function t(){return this.cache.get("options",{})}},{key:"getLayout",value:function t(){throw new Error("Must be implemented in a child class")}},{key:"showInfoHelper",value:function t(e){BX.UI.InfoHelper.show(e);this.sendAnalytics(e)}},{key:"sendAnalytics",value:function t(e){a.ajax.runAction("intranet.invitationwidget.analyticsLabel",{data:{},analyticsLabel:{helperCode:e,headerPopup:"Y"}})}},{key:"getHintPopup",value:function t(e,r,s){return this.cache.remember(s,(function(){return new n.Popup("bx-hint-".concat(a.Text.getRandom()),r,{content:e,className:"bx-invitation-warning",zIndex:15e3,angle:true,offsetTop:0,offsetLeft:40,closeIcon:false,autoHide:true,darkMode:true,overlay:false,maxWidth:300,events:{onShow:function t(e){i.EventEmitter.emit(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.InvitationWidget.HintPopup:show",new i.BaseEvent({data:{popup:e.target}}));var n=setTimeout((function(){e.target.close()}),4e3);i.EventEmitter.subscribeOnce(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.InvitationWidget.HintPopup:close",(function(){clearTimeout(n)}))},onClose:function t(){i.EventEmitter.emit(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.InvitationWidget.HintPopup:close")}}})}))}},{key:"showHintPopup",value:function t(e,n,i){this.getHintPopup(e,n,i).toggle()}},{key:"showInvitationPlace",value:function t(e,n,i){if(this.getOptions().isAdmin){this.showInvitationSlider(i)}else{if(this.getOptions().isInvitationAvailable){this.showInvitationSlider(i)}else{this.showHintPopup(e,n,"hint-"+i)}}}},{key:"showInvitationSlider",value:function t(e){var n=this.getOptions().invitationLink;if(e==="extranet"){n="".concat(n,"&firstInvitationBlock=extranet")}BX.SidePanel.Instance.open(n,{cacheable:false,allowChangeHistory:false,width:1100})}},{key:"getConfig",value:function t(){return{html:this.getLayout()}}}]);return e}(i.EventEmitter);var c;var u=function(t){babelHelpers.inherits(e,t);function e(t){var n;babelHelpers.classCallCheck(this,e);n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this,t));n.setEventNamespace("BX.Intranet.InvitationWidget.InvitationContent");n.setOptions(t);return n}babelHelpers.createClass(e,[{key:"getConfig",value:function t(){return{html:this.getLayout(),backgroundColor:"#14bfd5"}}},{key:"getLayout",value:function t(){var e=this;return this.cache.remember("layout",(function(){var t=function t(n){n.stopPropagation();e.showInvitationPlace(a.Loc.getMessage("INTRANET_INVITATION_WIDGET_DISABLED_TEXT"),n.target,"default-invitation")};var n=function t(){e.showInfoHelper("limit_why_team_invites")};return a.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="intranet-invitation-widget-invite">\n\t\t\t\t\t<div class="intranet-invitation-widget-invite-main">\n\t\t\t\t\t\t<div class="intranet-invitation-widget-inner">\n\t\t\t\t\t\t\t<div class="intranet-invitation-widget-content">\n\t\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-icon intranet-invitation-widget-item-icon--invite"></div>\n\t\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-content">\n\t\t\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-name">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-link">\n\t\t\t\t\t\t\t\t\t\t<span onclick="','" class="intranet-invitation-widget-item-link-text">\n\t\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a onclick="','" class="intranet-invitation-widget-item-btn intranet-invitation-widget-item-btn--invite"> \n\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),a.Loc.getMessage("INTRANET_INVITATION_WIDGET_INVITE_EMPLOYEE"),n,a.Loc.getMessage("INTRANET_INVITATION_WIDGET_DESC"),t,a.Loc.getMessage("INTRANET_INVITATION_WIDGET_INVITE"))}))}}]);return e}(l);var p;var v=function(t){babelHelpers.inherits(e,t);function e(t){var n;babelHelpers.classCallCheck(this,e);n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this,t));n.setEventNamespace("BX.Intranet.InvitationWidget.StructureContent");return n}babelHelpers.createClass(e,[{key:"getConfig",value:function t(){return{html:this.getLayout(),flex:3}}},{key:"getLayout",value:function t(){var e=this;return this.cache.remember("layout",(function(){return a.Tag.render(p||(p=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="intranet-invitation-widget-item intranet-invitation-widget-item--company intranet-invitation-widget-item--active">\n\t\t\t\t\t<div class="intranet-invitation-widget-item-logo"></div>\n\t\t\t\t\t<div class="intranet-invitation-widget-item-content">\n\t\t\t\t\t\t<div class="intranet-invitation-widget-item-name">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a href="','" class="intranet-invitation-widget-item-btn"> \n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),a.Loc.getMessage("INTRANET_INVITATION_WIDGET_STRUCTURE"),e.getOptions().link,a.Loc.getMessage("INTRANET_INVITATION_WIDGET_EDIT"))}))}}]);return e}(l);var g,b,d;function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){babelHelpers.defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){I(t,e);e.set(t,n)}function I(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var T=new WeakMap;var w=function(t){babelHelpers.inherits(e,t);function e(t){var n;babelHelpers.classCallCheck(this,e);n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this,t));f(babelHelpers.assertThisInitialized(n),T,{writable:true,value:void 0});n.setEventNamespace("BX.Intranet.InvitationWidget.EmployeesContent");return n}babelHelpers.createClass(e,[{key:"getConfig",value:function t(){var e=this;return{html:this.getOptions().awaitData.then((function(t){e.setOptions(m(m({},t.data.users),e.getOptions()));return e.getLayout()})),flex:5,sizeLoader:55}}},{key:"getLayout",value:function t(){var e=this;return this.cache.remember("layout",(function(){return a.Tag.render(g||(g=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="intranet-invitation-widget-item intranet-invitation-widget-item--emp ','">\n\t\t\t\t\t<div class="intranet-invitation-widget-inner">\n\t\t\t\t\t\t<div class="intranet-invitation-widget-content">\n\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-content">\n\t\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-progress ','"/>\n\t\t\t\t\t\t\t\t<div class="intranet-invitation-widget-employees">\n\t\t\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-name">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-num">\n\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),e.getOptions().isLimit?"intranet-invitation-widget-item--emp-alert":null,e.getOptions().isLimit?"intranet-invitation-widget-item-progress--crit":"intranet-invitation-widget-item-progress--full",a.Loc.getMessage("INTRANET_INVITATION_WIDGET_EMPLOYEES"),e.getOptions().currentUserCountMessage,e.getDetail(),e.getOptions().isAdmin?e.getSelectorRights():null)}))}},{key:"getDetail",value:function t(){var e=this;return this.cache.remember("detail",(function(){var t="";if(Number(e.getOptions().maxUserCount)===0){t=a.Loc.getMessage("INTRANET_INVITATION_WIDGET_EMPLOYEES_NO_LIMIT")}else if(e.getOptions().isLimit){t=a.Loc.getMessage("INTRANET_INVITATION_WIDGET_EMPLOYEES_LIMIT")}else{t=e.getOptions().leftCountMessage}return a.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="intranet-invitation-widget-item-detail">\n\t\t\t\t\t<span class="intranet-invitation-widget-item-link-text">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t"])),t)}))}},{key:"getSelectorRights",value:function t(){var e=this;return this.cache.remember("selector-rights",(function(){var t=function t(n){n.stopPropagation();e.getRightsMenu(n.target).toggle()};var n=a.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div onclick="','" class="intranet-invitation-widget-item-menu"></div>\n\t\t\t'])),t);e.subscribe("right-selected",(function(t){var i=e.getRightsMenu(n);i.close();i.destroy();if(t.data.type){e.cache["delete"]("menu-rights");babelHelpers.classPrivateFieldSet(e,T,t.data.type)}}));return n}))}},{key:"getRightsMenu",value:function t(e){var r=this;return this.cache.remember("menu-rights",(function(){return new n.Menu("menu-rights-".concat(a.Text.getRandom()),e,r.getMenuRightsItems(),{autoHide:true,offsetLeft:10,offsetTop:0,angle:true,className:"license-right-popup-men",events:{onPopupShow:function t(e){i.EventEmitter.emit(i.EventEmitter.GLOBAL_TARGET,r.getEventNamespace()+":showRightMenu",new i.BaseEvent({data:{popup:e}}))},onPopupClose:function t(e){i.EventEmitter.emit(i.EventEmitter.GLOBAL_TARGET,r.getEventNamespace()+":closeRightMenu",new i.BaseEvent({data:{popup:e}}))},onPopupFirstShow:function t(e){i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"SidePanel.Slider:onOpenStart",(function(){e.close()}))}}})}))}},{key:"getMenuRightsItems",value:function t(){var e=this;if(!babelHelpers.classPrivateFieldGet(this,T)){babelHelpers.classPrivateFieldSet(this,T,this.getOptions().rightType)}return[{text:a.Loc.getMessage("INTRANET_INVITATION_WIDGET_SETTING_ALL_INVITE"),className:babelHelpers.classPrivateFieldGet(this,T)==="all"?"menu-popup-item-accept":"",onclick:function t(){e.saveInvitationRightSetting("all").then((function(){e.emit("right-selected",new i.BaseEvent({data:{type:"all"}}))}))}},{text:a.Loc.getMessage("INTRANET_INVITATION_WIDGET_SETTING_ADMIN_INVITE"),className:babelHelpers.classPrivateFieldGet(this,T)==="admin"?"menu-popup-item-accept":"",onclick:function t(){e.saveInvitationRightSetting("admin").then((function(){e.emit("right-selected",new i.BaseEvent({data:{type:"admin"}}))}))}}]}},{key:"saveInvitationRightSetting",value:function t(e){return a.ajax.runAction("intranet.invitationwidget.saveInvitationRight",{data:{type:e}})}}]);return e}(l);var E,O;function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){babelHelpers.defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=function(t){babelHelpers.inherits(e,t);function e(t){var n;babelHelpers.classCallCheck(this,e);n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this,t));babelHelpers.defineProperty(babelHelpers.assertThisInitialized(n),"articleCode","6770709");n.setEventNamespace("BX.Intranet.InvitationWidget.ExtranetContent");return n}babelHelpers.createClass(e,[{key:"getConfig",value:function t(){var e=this;return{html:this.getOptions().awaitData.then((function(t){e.setOptions(H(H({},t.data.users),e.getOptions()));return e.getLayout()})),minHeight:"55px",sizeLoader:37,marginBottom:24,secondary:true}}},{key:"getLayout",value:function t(){var e=this;return this.cache.remember("layout",(function(){var t=function t(n){n.stopPropagation();e.showInvitationPlace(a.Loc.getMessage("INTRANET_INVITATION_WIDGET_DISABLED_TEXT"),n.target,"extranet")};var n=function t(){BX.Helper.show("redirect=detail&code=".concat(e.articleCode));e.sendAnalytics(e.articleCode)};return a.Tag.render(E||(E=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="','">\n\t\t\t\t\t<div class="intranet-invitation-widget-content">\n\t\t\t\t\t\t<div class="intranet-invitation-widget-item-icon intranet-invitation-widget-item-icon--ext"></div>\n\t\t\t\t\t\t<div class="intranet-invitation-widget-item-content">\n\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-name">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="intranet-invitation-widget-item-link">\n\t\t\t\t\t\t\t\t<span onclick="','" class="intranet-invitation-widget-item-link-text">\n\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t",'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onclick="','" class="intranet-invitation-widget-item-btn">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t"])),e.getWrapperClass(),a.Loc.getMessage("INTRANET_INVITATION_WIDGET_EXTRANET"),n,a.Loc.getMessage("INTRANET_INVITATION_WIDGET_EXTRANET_DESC"),e.getCountUserMessage(),t,a.Loc.getMessage("INTRANET_INVITATION_WIDGET_INVITE"))}))}},{key:"getWrapperClass",value:function t(){var e=this;return this.cache.remember("wrapper-class",(function(){var t="intranet-invitation-widget-item intranet-invitation-widget-item--wide";if(e.getOptions().currentExtranetUserCount>0){return t+" intranet-invitation-widget-item--active"}return t}))}},{key:"getCountUserMessage",value:function t(){var e=this;return this.cache.remember("count-user-message",(function(){if(e.getOptions().currentExtranetUserCount>0){return a.Tag.render(O||(O=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="intranet-invitation-widget-item-ext-users">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t"])),e.getOptions().currentExtranetUserCountMessage)}return null}))}}]);return e}(l);var L,k;var A=function(t){babelHelpers.inherits(e,t);function e(){babelHelpers.classCallCheck(this,e);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).apply(this,arguments))}babelHelpers.createClass(e,[{key:"getLoader",value:function t(){return this.cache.remember("loader",(function(){return new r.Loader({size:45})}))}},{key:"getComponentContent",value:function t(){var e=this;return this.cache.remember("component-content",(function(){var t=a.Tag.render(L||(L=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div data-role="invitation-widget-ustat-online" class="invitation-widget-ustat-online"/>\n\t\t\t'])));a.Dom.style(t,"min-height","70px");e.getLoader().show(t);a.ajax.runAction("intranet.invitationwidget.getUserOnlineComponent").then((function(n){e.getLoader().hide();var i=n.data.assets;BX.load([].concat(babelHelpers.toConsumableArray(i["css"]),babelHelpers.toConsumableArray(i["js"])),(function(){a.Runtime.html(null,babelHelpers.toConsumableArray(i["string"]).join("\n"),{useAdjacentHTML:true}).then((function(){a.Runtime.html(t,n.data.html).then((function(){e.getLoader().destroy()}))}))}))}));return t}))}},{key:"getLayout",value:function t(){var e=this;return this.cache.remember("layout",(function(){return a.Tag.render(k||(k=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="intranet-invitation-widget-item intranet-invitation-widget-item--wide intranet-invitation-widget-item--no-padding">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"])),e.getComponentContent())}))}}]);return e}(l);function C(t,e){_(t,e);e.add(t)}function N(t,e,n){_(t,e);e.set(t,n)}function _(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function G(t,e,n){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return n}var R=new WeakMap;var B=new WeakSet;var M=new WeakSet;var S=new WeakSet;var W=new WeakSet;var j=new WeakSet;var D=new WeakSet;var x=new WeakSet;var X=new WeakSet;var z=new WeakSet;var F=function(t){babelHelpers.inherits(n,t);function n(t){var e;babelHelpers.classCallCheck(this,n);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this));C(babelHelpers.assertThisInitialized(e),z);C(babelHelpers.assertThisInitialized(e),X);C(babelHelpers.assertThisInitialized(e),x);C(babelHelpers.assertThisInitialized(e),D);C(babelHelpers.assertThisInitialized(e),j);C(babelHelpers.assertThisInitialized(e),W);C(babelHelpers.assertThisInitialized(e),S);C(babelHelpers.assertThisInitialized(e),M);C(babelHelpers.assertThisInitialized(e),B);N(babelHelpers.assertThisInitialized(e),R,{writable:true,value:new a.Cache.MemoryCache});e.setEventNamespace("BX.Intranet.InvitationWidget.Popup");e.setOptions(t);G(babelHelpers.assertThisInitialized(e),z,$).call(babelHelpers.assertThisInitialized(e));return e}babelHelpers.createClass(n,[{key:"setOptions",value:function t(e){babelHelpers.classPrivateFieldGet(this,R).set("options",e)}},{key:"getOptions",value:function t(){return babelHelpers.classPrivateFieldGet(this,R).get("options",{})}},{key:"show",value:function t(){this.getPopup().show()}},{key:"close",value:function t(){this.getPopup().close()}},{key:"getPopup",value:function t(){var n=this;return babelHelpers.classPrivateFieldGet(this,R).remember("popup",(function(){return new e.PopupComponentsMaker({id:"invitation-popup",target:n.getOptions().target,width:350,content:G(n,M,U).call(n)})}))}}]);return n}(i.EventEmitter);function V(){return babelHelpers.classPrivateFieldGet(this,R).remember("await-data",(function(){return new Promise((function(t,e){a.ajax.runAction("intranet.invitationwidget.getData",{data:{},analyticsLabel:{headerPopup:"Y"}}).then(t)["catch"](e)}))}))}function U(){var t=this;return babelHelpers.classPrivateFieldGet(this,R).remember("content",(function(){return[G(t,S,Y).call(t).getConfig(),{html:[G(t,W,q).call(t).getConfig(),G(t,j,J).call(t).getConfig()],marginBottom:24},t.getOptions().isExtranetAvailable?G(t,D,K).call(t).getConfig():null,G(t,x,Q).call(t).getConfig()]}))}function Y(){var t=this;return babelHelpers.classPrivateFieldGet(this,R).remember("invitation-content",(function(){return new u({isAdmin:t.getOptions().isAdmin,invitationLink:t.getOptions().params.invitationLink,isInvitationAvailable:t.getOptions().isInvitationAvailable})}))}function q(){var t=this;return babelHelpers.classPrivateFieldGet(this,R).remember("structure-content",(function(){return new v({link:t.getOptions().params.structureLink})}))}function J(){var t=this;return babelHelpers.classPrivateFieldGet(this,R).remember("employees-content",(function(){return new w({isAdmin:t.getOptions().isAdmin,awaitData:G(t,B,V).call(t)})}))}function K(){var t=this;return babelHelpers.classPrivateFieldGet(this,R).remember("extranet-content",(function(){return new P({isAdmin:t.getOptions().isAdmin,awaitData:G(t,B,V).call(t),invitationLink:t.getOptions().params.invitationLink,isInvitationAvailable:t.getOptions().isInvitationAvailable})}))}function Q(){return babelHelpers.classPrivateFieldGet(this,R).remember("user-online-content",(function(){return new A}))}function Z(){var t=this;return babelHelpers.classPrivateFieldGet(this,R).remember("popup-container",(function(){return t.getPopup().getPopup().getPopupContainer()}))}function $(){var t=this;var e=function e(n){if(n.data.popup){setTimeout((function(){a.Event.bind(G(t,X,Z).call(t),"click",(function(){n.data.popup.close()}))}),100)}};var n=function e(){t.close()};i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.InvitationWidget.EmployeesContent:showRightMenu",e);i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.InvitationWidget.HintPopup:show",e);i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UstatOnline:showPopup",e);i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"SidePanel.Slider:onOpenStart",n)}function tt(t,e){nt(t,e);e.add(t)}function et(t,e,n){nt(t,e);e.set(t,n)}function nt(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function it(t,e,n){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return n}var at=new WeakMap;var rt=new WeakSet;var st=function(t){babelHelpers.inherits(e,t);function e(t){var n;babelHelpers.classCallCheck(this,e);n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this));tt(babelHelpers.assertThisInitialized(n),rt);et(babelHelpers.assertThisInitialized(n),at,{writable:true,value:new a.Cache.MemoryCache});n.setEventNamespace("BX.Intranet.InvitationWidget");n.setOptions(t);a.Event.bind(n.getOptions().button,"click",(function(){it(babelHelpers.assertThisInitialized(n),rt,ot).call(babelHelpers.assertThisInitialized(n)).show()}));i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"BX.Bitrix24.NotifyPanel:showInvitationWidget",(function(){it(babelHelpers.assertThisInitialized(n),rt,ot).call(babelHelpers.assertThisInitialized(n)).show()}));return n}babelHelpers.createClass(e,[{key:"setOptions",value:function t(e){babelHelpers.classPrivateFieldGet(this,at).set("options",e)}},{key:"getOptions",value:function t(){return babelHelpers.classPrivateFieldGet(this,at).get("options",{})}}]);return e}(i.EventEmitter);function ot(){var t=this;return babelHelpers.classPrivateFieldGet(this,at).remember("popup",(function(){return new F({isAdmin:t.getOptions().isCurrentUserAdmin,target:t.getOptions().button,isExtranetAvailable:t.getOptions().isExtranetAvailable,isInvitationAvailable:t.getOptions().isInvitationAvailable,params:{structureLink:t.getOptions().structureLink,invitationLink:t.getOptions().invitationLink}})}))}t.InvitationWidget=st})(this.BX.Intranet=this.BX.Intranet||{},BX.UI,BX.Main,BX.Event,BX,BX);
//# sourceMappingURL=script.map.js