{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import {Reflection, Type, Event, Tag, Dom, Loc} from 'main.core';\nimport {MessageBox} from 'ui.dialogs.messagebox';\nimport {Script} from 'bizproc.script';\n\nconst namespace = Reflection.namespace('BX.Bizproc');\n\nclass ScriptQueueListComponent\n{\n\tgridId;\n\n\tconstructor(options)\n\t{\n\t\tif(Type.isPlainObject(options))\n\t\t{\n\t\t\tthis.gridId = options.gridId;\n\t\t}\n\t}\n\n\tdeleteQueue(queueId: number)\n\t{\n\t\tMessageBox.confirm(\n\t\t\tLoc.getMessage('BIZPROC_SCRIPT_QUEUE_LIST_CONFIRM_DELETE'),\n\t\t\t() => {\n\t\t\t\tScript.Manager.Instance.deleteScriptQueue(queueId);\n\t\t\t\tthis.reloadGrid();\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tLoc.getMessage('BIZPROC_SCRIPT_QUEUE_LIST_BTN_DELETE')\n\t\t);\n\t}\n\n\tterminateQueue(queueId: number)\n\t{\n\t\tMessageBox.confirm(\n\t\t\tLoc.getMessage('BIZPROC_SCRIPT_QUEUE_LIST_CONFIRM_TERMINATE'),\n\t\t\t() => {\n\t\t\t\tScript.Manager.Instance.terminateScriptQueue(queueId);\n\t\t\t\tthis.reloadGrid();\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tLoc.getMessage('BIZPROC_SCRIPT_QUEUE_LIST_BTN_TERMINATE')\n\t\t);\n\t}\n\n\treloadGrid()\n\t{\n\t\tif (this.gridId)\n\t\t{\n\t\t\tconst grid = BX.Main.gridManager && BX.Main.gridManager.getInstanceById(this.gridId);\n\t\t\tif (grid)\n\t\t\t{\n\t\t\t\tgrid.reload();\n\t\t\t}\n\t\t}\n\t}\n}\n\nnamespace.ScriptQueueListComponent = ScriptQueueListComponent;"],"names":["namespace","Reflection","ScriptQueueListComponent","options","Type","isPlainObject","gridId","queueId","MessageBox","confirm","Loc","getMessage","Script","Manager","Instance","deleteScriptQueue","reloadGrid","terminateScriptQueue","grid","BX","Main","gridManager","getInstanceById","reload"],"mappings":";;;;CAIA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAS,CAAC,YAAY,CAAC;CAAC,IAE/CE,wBAAwB;GAI7B,kCAAYC,OAAO,EACnB;KAAA;KACC,IAAGC,cAAI,CAACC,aAAa,CAACF,OAAO,CAAC,EAC9B;OACC,IAAI,CAACG,MAAM,GAAGH,OAAO,CAACG,MAAM;;;GAE7B;KAAA;KAAA,4BAEWC,OAAe,EAC3B;OAAA;OACCC,gCAAU,CAACC,OAAO,CACjBC,aAAG,CAACC,UAAU,CAAC,0CAA0C,CAAC,EAC1D,YAAM;SACLC,qBAAM,CAACC,OAAO,CAACC,QAAQ,CAACC,iBAAiB,CAACR,OAAO,CAAC;SAClD,KAAI,CAACS,UAAU,EAAE;SACjB,OAAO,IAAI;QACX,EACDN,aAAG,CAACC,UAAU,CAAC,sCAAsC,CAAC,CACtD;;;KACD;KAAA,+BAEcJ,OAAe,EAC9B;OAAA;OACCC,gCAAU,CAACC,OAAO,CACjBC,aAAG,CAACC,UAAU,CAAC,6CAA6C,CAAC,EAC7D,YAAM;SACLC,qBAAM,CAACC,OAAO,CAACC,QAAQ,CAACG,oBAAoB,CAACV,OAAO,CAAC;SACrD,MAAI,CAACS,UAAU,EAAE;SACjB,OAAO,IAAI;QACX,EACDN,aAAG,CAACC,UAAU,CAAC,yCAAyC,CAAC,CACzD;;;KACD;KAAA,6BAGD;OACC,IAAI,IAAI,CAACL,MAAM,EACf;SACC,IAAMY,IAAI,GAAGC,EAAE,CAACC,IAAI,CAACC,WAAW,IAAIF,EAAE,CAACC,IAAI,CAACC,WAAW,CAACC,eAAe,CAAC,IAAI,CAAChB,MAAM,CAAC;SACpF,IAAIY,IAAI,EACR;WACCA,IAAI,CAACK,MAAM,EAAE;;;;;GAGf;CAAA;CAGFvB,SAAS,CAACE,wBAAwB,GAAGA,wBAAwB;;;;"}