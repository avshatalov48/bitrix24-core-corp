this.BX=this.BX||{};(function(t,e,n,i,r,a){"use strict";var s,o;function l(t,e){u(t,e);e.add(t)}function c(t,e,n){u(t,e);e.set(t,n)}function u(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function p(t,e,n){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return n}var f=new WeakMap;var b=new WeakSet;var h=new WeakSet;var v=new WeakSet;var T=new WeakSet;var O=new WeakSet;var N=new WeakSet;var d=new WeakSet;var m=new WeakSet;var I=function(){function t(e){babelHelpers.classCallCheck(this,t);l(this,m);l(this,d);l(this,N);l(this,O);l(this,T);l(this,v);l(this,h);l(this,b);c(this,f,{writable:true,value:new r.Cache.MemoryCache});this.setOptions(e)}babelHelpers.createClass(t,[{key:"setOptions",value:function t(e){babelHelpers.classPrivateFieldGet(this,f).set("options",e)}},{key:"getOptions",value:function t(){return babelHelpers.classPrivateFieldGet(this,f).get("options",null)}},{key:"show",value:function t(){p(this,b,g).call(this).show()}},{key:"close",value:function t(){p(this,b,g).call(this).close()}}]);return t}();function g(){var t=this;return babelHelpers.classPrivateFieldGet(this,f).remember("popup",(function(){return new e.Popup({className:"bitrix24-notify-popup",width:800,padding:0,content:p(t,h,E).call(t),contentBackground:"transparent",overlay:true,closeIcon:true,titleBar:false,buttons:p(t,O,y).call(t),events:{onShow:function e(){r.ajax.runComponentAction(it.componentName,"setLicenseNotifyConfig",{mode:"class",data:{type:t.getOptions().type}})}}})}))}function E(){var t=this;return babelHelpers.classPrivateFieldGet(this,f).remember("popup-content",(function(){return r.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="bitrix24-notify-popup-inner">\n\t\t\t\t\t<div class="bitrix24-notify-popup-title">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bitrix24-notify-popup-block">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"])),t.getOptions().isExpired?r.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_TITLE_EXPIRED",{"#DAY_MONTH#":p(t,v,_).call(t)}):r.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_TITLE",{"#DAY_MONTH#":p(t,v,_).call(t)}),t.getOptions().isExpired?r.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_EXPIRED_DESCRIPTION_1",{"#DAY_MONTH#":p(t,v,_).call(t)}):r.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_DESCRIPTION_1"),t.getOptions().isPortalWithPartner?p(t,T,w).call(t):null)}))}function _(){var t=this;return babelHelpers.classPrivateFieldGet(this,f).remember("date",(function(){var e=a.DateTimeFormat.getFormat("DAY_MONTH_FORMAT");if(t.getOptions().isExpired){return a.DateTimeFormat.format(e,Number(t.getOptions().blockDate))}return a.DateTimeFormat.format(e,Number(t.getOptions().expireDate))}))}function w(){return babelHelpers.classPrivateFieldGet(this,f).remember("description-partner",(function(){return r.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="bitrix24-notify-popup-block">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"])),r.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_DESCRIPTION_2"))}))}function y(){return[p(this,d,P).call(this),this.getOptions().isAdmin?p(this,N,C).call(this):null,p(this,m,F).call(this)]}function C(){var t=this;return babelHelpers.classPrivateFieldGet(this,f).remember("partner-button",(function(){if(!t.getOptions().isPortalWithPartner){return null}return new n.Button({color:n.Button.Color.LIGHT_BORDER,text:r.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_PARTNER"),round:true,onclick:function e(){window.open(t.getOptions().urlBuyWithPartner,"_self")}})}))}function P(){var t=this;return babelHelpers.classPrivateFieldGet(this,f).remember("renewal-button",(function(){return new n.Button({color:n.Button.Color.SUCCESS,text:r.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_RENEW_LICENSE"),round:true,onclick:function e(){window.open(t.getOptions().urlDefaultBuy,"_blank")}})}))}function F(){var t=this;return babelHelpers.classPrivateFieldGet(this,f).remember("more-button",(function(){return new n.Button({color:n.Button.Color.LIGHT_BORDER,text:r.Loc.getMessage("INTRANET_NOTIFY_PANEL_LICENSE_NOTIFICATION_BUTTON_MORE"),round:true,onclick:function e(){window.open(t.getOptions().urlArticle,"_blank")}})}))}var k;function A(t,e){H(t,e);e.add(t)}function L(t,e,n){H(t,e);e.set(t,n)}function H(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function S(t,e,n){D(t,e);x(n,"get");return B(t,n)}function x(t,e){if(t===undefined){throw new TypeError("attempted to "+e+" private static field before its declaration")}}function D(t,e){if(t!==e){throw new TypeError("Private static access of wrong provenance")}}function B(t,e){if(e.get){return e.get.call(t)}return e.value}function M(t,e,n){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return n}var R=new WeakMap;var W=new WeakSet;var G=new WeakSet;var j=new WeakSet;var Y=new WeakSet;var X=new WeakSet;var U=function(){function t(e){babelHelpers.classCallCheck(this,t);A(this,X);A(this,Y);A(this,j);A(this,G);A(this,W);L(this,R,{writable:true,value:new r.Cache.MemoryCache});this.setOptions(e)}babelHelpers.createClass(t,[{key:"setOptions",value:function t(e){babelHelpers.classPrivateFieldGet(this,R).set("options",e)}},{key:"getOptions",value:function t(){return babelHelpers.classPrivateFieldGet(this,R).get("options",null)}},{key:"show",value:function t(){var e=document.querySelector(".bx-layout-table");if(e){r.Dom.insertBefore(M(this,G,K).call(this),e)}}},{key:"close",value:function e(){if(r.Dom.hasClass(M(this,G,K).call(this),S(t,t,V))){r.Dom.removeClass(M(this,G,K).call(this),S(t,t,V))}}}]);return t}();function z(){return this.getOptions().params}function K(){var t=this;var e=function e(){t.close()};return babelHelpers.classPrivateFieldGet(this,R).remember("panel-template",(function(){return r.Tag.render(k||(k=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="bx24-tariff-notify bx24-tariff-notify-show bx24-tariff-notify-panel">\n\t\t\t\t\t<div class="bx24-tariff-notify-wrap ','">\n\t\t\t\t\t\t<span class="bx24-tariff-notify-text">\n\t\t\t\t\t\t ','\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span onclick="','" class="bx24-tariff-notify-text-reload">\n\t\t\t\t\t\t\t<span class="bx24-tariff-notify-text-reload-title">\n\t\t\t\t\t\t\t\tx\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'])),M(t,j,q).call(t),M(t,Y,J).call(t),e)}))}function q(){return this.getOptions().color&&this.getOptions().color==="blue"?"bx24-tariff-notify-blue":"bx24-tariff-notify-red"}function J(){if(this.getOptions().type==="license-expired"){return r.Loc.getMessage("INTRANET_NOTIFY_PANEL_FOOTER_LICENSE_NOTIFICATION_TEXT",{"#BLOCK_DATE#":M(this,X,Q).call(this),"#LINK_BUY#":M(this,W,z).call(this).urlBuy,"#ARTICLE_LINK#":M(this,W,z).call(this).urlArticle})}}function Q(){var t=a.DateTimeFormat.getFormat("DAY_MONTH_FORMAT");return a.DateTimeFormat.format(t,Number(this.getOptions().params.blockDate))}var V={writable:true,value:"bx24-tariff-notify-show"};function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){babelHelpers.defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tt(t,e,n){et(t,e);e.set(t,n)}function et(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var nt=new WeakMap;var it=function(){function t(e){babelHelpers.classCallCheck(this,t);tt(this,nt,{writable:true,value:new r.Cache.MemoryCache});this.setOptions(e)}babelHelpers.createClass(t,[{key:"setOptions",value:function t(e){babelHelpers.classPrivateFieldGet(this,nt).set("options",e)}},{key:"getOptions",value:function t(){return babelHelpers.classPrivateFieldGet(this,nt).get("options",null)}},{key:"getLicenseNotificationPopup",value:function t(e){var n=this;return babelHelpers.classPrivateFieldGet(this,nt).remember("License-notification-popup",(function(){return new I($({isAdmin:n.getOptions().isAdmin},e))}))}},{key:"getNotifyPanel",value:function t(e){return babelHelpers.classPrivateFieldGet(this,nt).remember("notify-panel",(function(){return new U(e)}))}}]);return t}();babelHelpers.defineProperty(it,"componentName","bitrix:intranet.notify.panel");t.NotifyManager=it})(this.BX.Intranet=this.BX.Intranet||{},BX.Main,BX.UI,BX,BX,BX.Main);
//# sourceMappingURL=script.map.js