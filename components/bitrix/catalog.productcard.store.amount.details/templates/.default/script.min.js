(function(t,e,i){"use strict";var r=function(){function t(e){babelHelpers.classCallCheck(this,t);this.gridId=e.gridId;this.productId=e.productId;this.onFilterApplyHandler=this.onFilterApply.bind(this);i.EventEmitter.subscribe("BX.Main.Filter:apply",this.onFilterApplyHandler)}babelHelpers.createClass(t,[{key:"getGridId",value:function t(){return this.gridId}},{key:"getProductId",value:function t(){return this.productId}},{key:"onFilterApply",value:function t(e){var i=this;var r=e.getCompatData(),n=babelHelpers.slicedToArray(r,1),a=n[0];if(a!==this.getGridId()){return}BX.ajax.runComponentAction("bitrix:catalog.productcard.store.amount.details","updateTotalData",{mode:"class",data:{productId:this.getProductId()}}).then(function(t){var e;var r=t===null||t===void 0?void 0:(e=t.data)===null||e===void 0?void 0:e.TOTAL_DATA;if(!r){return}var n=document.getElementById(i.getGridId()+"_total_quantity_available");if(n){n.innerHTML=r.QUANTITY_AVAILABLE}var a=document.getElementById(i.getGridId()+"_total_quantity_reserved");if(a){a.innerHTML=r.QUANTITY_RESERVED}var d=document.getElementById(i.getGridId()+"_total_quantity_common");if(d){d.innerHTML=r.QUANTITY_COMMON}var o=document.getElementById(i.getGridId()+"_total_price");if(o){o.innerHTML=r.PRICE}})}}]);return t}();e.Reflection.namespace("BX.Catalog").StoreAmountDetails=r})(this.window=this.window||{},BX,BX.Event);
//# sourceMappingURL=script.map.js