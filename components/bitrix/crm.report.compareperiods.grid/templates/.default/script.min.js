(function(){BX.namespace("BX.Crm.Report");BX.Crm.Report.SalesDynamicGrid={gridId:null,boardId:null,widgetId:null,init:function(e){this.gridId=e.gridId;this.boardId=e.boardId;this.widgetId=e.widgetId;this.board=BX.VisualConstructor.BoardRepository.getBoard(this.boardId);this.widget=this.board.dashboard.getWidget(this.widgetId);var t=document.getElementsByClassName("crm-report-salesdynamics-grid-value-clickable");for(var i=0;i<t.length;i++){if(t[i].dataset.target){t[i].addEventListener("click",this.onElementClick.bind(this))}}this.elements={hint:null}},bindEvents:function(){BX.addCustomEvent("Grid::beforeRequest",this.onGridBeforeRequest.bind(this))},onGridBeforeRequest:function(e,t){if(this.gridId!==t.gridId){return}t.cancelRequest=true;setTimeout(this.reloadWidget.bind(this),10)},reloadWidget:function(){this.widget.reload()},onElementClick:function(e){if(BX.SidePanel){BX.SidePanel.Instance.open(e.currentTarget.dataset.target,{cacheable:false})}else{window.open(e.currentTarget.dataset.target)}}};BX.Crm.Report.SalesDynamicGrid.bindEvents()})();
//# sourceMappingURL=script.map.js