BX.namespace("BX.MailClientConfig");BX.MailClientConfig.Edit={isForbiddenToShare:false,init:function(e){if(BX.type.isNotEmptyObject(e)){this.isForbiddenToShare=e.isForbiddenToShare||false}var i=BX.findChildrenByClassName(document,"mail-set-singleselect",true);for(var t in i){if(!i.hasOwnProperty(t)){continue}this.singleselect(i[t])}BX.bind(BX("mail_connect_mb_crm_new_lead_for_link"),"click",function(e){var i=BX("mail_connect_mb_crm_new_lead_for");var t=i.offsetHeight>0;i.style.display=t?"none":"";BX[t?"removeClass":"addClass"](this,"mail-set-textarea-show-open")})},singleselect:function(e){var i=BX.findChildren(e,{tag:"input",attr:{type:"radio"}},true);for(var t in i){if(!i.hasOwnProperty(t)){continue}BX.bind(i[t],"change",function(){if(this.checked){if(this.value==0){var i=BX(e.getAttribute("data-checked"));if(i){var t=BX.findNextSibling(this,{tag:"label",attr:{for:this.id}});var n=BX.findNextSibling(i,{tag:"label",attr:{for:i.id}});if(t&&n)BX.adjust(t,{text:n.innerHTML})}}else{e.setAttribute("data-checked",this.id)}}})}BX.bind(e,"click",function(i){i=i||window.event;i.skip_singleselect=e});BX.bind(document,"click",function(i){i=i||window.event;if(i.skip_singleselect!==e){BX(e.getAttribute("data-checked")).checked=true}})},beforeOpenDialog:function(){return new Promise(function(e,i){if(BX.MailClientConfig.Edit.isForbiddenToShare){BX.MailClientConfig.Edit.alertForbiddenToShare();return i()}return e()})},alertForbiddenToShare:function(){B24.licenseInfoPopup.show("mail-shared-mailbox-limit",BX.message("MAIL_MAILBOX_LICENSE_SHARED_LIMIT_TITLE"),BX.message("MAIL_MAILBOX_LICENSE_SHARED_LIMIT_BODY"))}};
//# sourceMappingURL=script.map.js