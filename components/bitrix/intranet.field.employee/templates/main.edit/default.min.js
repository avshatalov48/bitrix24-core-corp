this.BX=this.BX||{};this.BX.Default=this.BX.Default||{};this.BX.Default.Field=this.BX.Default.Field||{};(function(e){"use strict";BX.Default.Field.Employee=function(e){this.init(e)};BX.Default.Field.Employee.prototype={init:function e(t){this.selectorName=t["selectorName"]||"";this.isMultiple=t["isMultiple"]||"";this.fieldNameJs=t["fieldNameJs"]||"";this.selectControl=this.createSelectControl();this.entity=this.createEntity();BX.addCustomEvent(this.selectControl,"onUpdateValue",BX.delegate(this.updateHandler,this));BX.addCustomEvent(this.entity,"BX.Intranet.UserFieldEmployeeEntity:remove",BX.delegate(this.removeHandler,this))},createSelectControl:function e(){return new BX.Intranet.UserFieldEmployee(this.selectorName,{multiple:this.isMultiple})},createEntity:function e(){return new BX.Intranet.UserFieldEmployeeEntity({field:"field_".concat(this.selectorName),multiple:this.isMultiple})},updateHandler:function e(t,i){if(this.isMultiple){var l=[];for(var a=0;a<t.length;a++){l.push({name:i[t[a]].name,value:t[a]})}this.setData(l)}else{if(t===null){this.setData(null)}else{this.setData({name:i[t].name,value:t})}}},removeHandler:function e(t){var i=this.isMultiple?[]:null;var l=this.isMultiple?[]:null;for(var a=0;a<t.length;a++){var s={name:t[a].label,value:t[a].value};if(!this.isMultiple){l=s.value;i=s;break}else{l.push(s.value);i.push(s)}}this.selectControl.setValue(l);this.setData(i)},setData:function e(t){var i=BX("value_".concat(this.selectorName));var l="";if(this.isMultiple){if(t.length>0){var a=[];for(var s=0;s<t.length;s++){a.push({value:t[s].value,label:t[s].name});l+='<input type="hidden" name="'.concat(this.fieldNameJs,'" value="').concat(BX.util.htmlspecialchars(t[s].value),'">')}this.entity.setData(a)}else{this.entity.removeSquares()}}else{if(t!==null){this.entity.setData(t.name,t.value);l+='<input type="hidden" name="'.concat(this.fieldNameJs,'" value="').concat(BX.util.htmlspecialchars(t.value),'">')}else{this.entity.removeSquares()}}if(l.length<=0){l='<input type="hidden" name="'.concat(this.fieldNameJs,'" value="">')}i.innerHTML=l;BX.defer(function(){BX.fireEvent(i.firstChild,"change")})()}}})(this.BX.Default.Field.String=this.BX.Default.Field.String||{});
//# sourceMappingURL=default.map.js