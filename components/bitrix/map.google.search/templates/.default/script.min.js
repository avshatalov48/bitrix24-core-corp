var JCBXGoogleSearch=function(e,s,o){var a=this;this.map_id=e;this.map=GLOBAL_arMapObjects[this.map_id];this.obOut=s;if(null==this.map)return false;this.arSearchResults=[];this.jsMess=o;this.__searchResultsLoad=function(e,s){if(s!=google.maps.GeocoderStatus.OK&&s!=google.maps.GeocoderStatus.ZERO_RESULTS){a.handleError({message:s});return}if(null==a.obOut)return;if(!e){a.handleError()}a.obOut.innerHTML="";a.clearSearchResults();var o=0;if(s==google.maps.GeocoderStatus.OK){o=e.length;var r=null}if(o>0){r=document.createElement("UL");r.className="bx-google-search-results";var t="";t+=a.jsMess.mess_search+": <b>"+o+"</b> "+a.jsMess.mess_found+".";for(var n=0;n<o;n++){a.arSearchResults[n]=new google.maps.Marker({position:e[n].geometry.location,map:a.map});var l="";for(var i=0;i<e[n].address_components.length;i++){l+=(l.length>0?", ":"")+e[n].address_components[i].long_name}a.arSearchResults[n].infowin=new google.maps.InfoWindow({content:l});google.maps.event.addListener(a.arSearchResults[n],"click",a.__pointClick);var c=document.createElement("LI");var h=document.createElement("A");h.href="javascript:void(0)";h.appendChild(document.createTextNode(l));h.BXSearchIndex=n;h.onclick=a.__showSearchResult;c.appendChild(h);r.appendChild(c)}}else{var t=a.jsMess.mess_search_empty}a.obOut.innerHTML=t;if(null!=r){a.obOut.appendChild(r);a.BXSearchIndex=0;a.__showSearchResult(0)}};this.__showSearchResult=function(e){if(null==e||e.constructor==window.Event)e=this.BXSearchIndex;if(null!=e&&null!=a.arSearchResults[e]){a.__pointClick.apply(a.arSearchResults[e]);a.map.panTo(a.arSearchResults[e].getPosition())}};this.searchByAddress=function(e){e=e.replace(/^[\s\r\n]+/g,"").replace(/[\s\r\n]+$/g,"");if(e.length>1){if(null==this.geocoder)this.geocoder=new google.maps.Geocoder;this.geocoder.geocode({address:e,language:BX.message("LANGUAGE_ID")},this.__searchResultsLoad)}}};JCBXGoogleSearch.prototype.__pointClick=function(){if(null!=window["__bx_google_infowin_opened_search"])window["__bx_google_infowin_opened_search"].close();this.infowin.open(this.map,this);window["__bx_google_infowin_opened_search"]=this.infowin};JCBXGoogleSearch.prototype.handleError=function(e){alert(this.jsMess.mess_error+(e?": "+e.message:""))};JCBXGoogleSearch.prototype.clearSearchResults=function(){for(var e=0;e<this.arSearchResults.length;e++){this.arSearchResults[e].infowin.close();this.arSearchResults[e].setMap(null);delete this.arSearchResults[e]}this.arSearchResults=[]};
//# sourceMappingURL=script.map.js