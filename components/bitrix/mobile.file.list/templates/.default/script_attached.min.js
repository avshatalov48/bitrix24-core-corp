BX.ready(function(){var e=document.getElementById("fl-wrapper");if(e)e.addEventListener("click",function(e){e.preventDefault();if(e.target.getAttribute("data-removable-icon")=="true"){var t=e.target.parentNode.parentNode.childNodes;BX.toggleClass(e.target,"fl-delete-column");for(var a=0;a<t.length;a++){if(t[a].nodeType!=3){if(t[a].getAttribute("data-removable-btn")){BX.toggleClass(t[a],"fl-delete-btn-open");var l=t[a];l.addEventListener("click",function(){if(l.parentNode.id.length>0){if(l.parentNode.id.indexOf("mfl_item_")===0){file_id=parseInt(l.parentNode.id.substr(9));if(file_id>0)__MFLDeleteFile(file_id)}else if(l.parentNode.id.indexOf("mfl_element_")===0){element_id=parseInt(l.parentNode.id.substr(12));if(element_id>0)__MFLDeleteElement(element_id)}}})}}}}},false)});__MFLDeleteFile=function(e){if(parseInt(e)>0){app.showPopupLoader({text:""});var t=new MobileAjaxWrapper;t.Wrap({type:"json",method:"POST",url:BX.message("MFUSiteDir")+"mobile/ajax.php",data:{file_id:e,post_id:BX.message("MFUPostID"),action:"delete",mobile_action:"delete_file",sessid:BX.message("MFUSessID")},callback:function(t){app.hidePopupLoader();if(BX("mfl_item_"+e)){BX.toggleClass(BX("mfl_item_"+e),"fl-block-close")}if(t["SUCCESS"]!==undefined&&t["SUCCESS"]=="Y"&&parseInt(t["FILE_ID"])>0){app.onCustomEvent("onAfterMFLDeleteFile",t["FILE_ID"])}},callback_failure:function(){app.hidePopupLoader()}})}};__MFLDeleteElement=function(e){if(parseInt(e)>0){app.showPopupLoader({text:""});var t=new MobileAjaxWrapper;t.Wrap({type:"json",method:"POST",url:BX.message("MFUSiteDir")+"mobile/ajax.php",data:{element_id:e,post_id:BX.message("MFUPostID"),action:"delete_element",mobile_action:"delete_file_element",sessid:BX.message("MFUSessID")},callback:function(t){app.hidePopupLoader();if(BX("mfl_element_"+e)){BX.toggleClass(BX("mfl_element_"+e),"fl-block-close")}if(t["SUCCESS"]!==undefined&&t["SUCCESS"]=="Y"&&parseInt(t["ELEMENT_ID"])>0){app.onCustomEvent("onAfterMFLDeleteElement",t["ELEMENT_ID"])}},callback_failure:function(){app.hidePopupLoader()}})}};
//# sourceMappingURL=script_attached.map.js