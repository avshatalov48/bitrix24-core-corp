{"version":3,"sources":["script.js"],"names":["BX","namespace","CrmEntityLiveFeedActivityList","this","_wrapper","_container","_activityEditor","_items","_activityChangeHandler","delegate","_onActivityChange","_activitySaveHandler","_onAfterActivitySave","prototype","initialize","id","settings","_id","_settings","_containerId","getSetting","parentNode","activityEditorId","type","isNotEmptyString","CrmActivityEditor","items","addCustomEvent","window","addActivityChangeHandler","data","i","length","itemData","itemId","parseInt","activityContainer","findChild","attribute","data-entity-id","toString","CrmEntityLiveFeedActivity","create","activityEditor","container","clientTemplate","referenceTemplate","params","CrmParamBag","release","removeCustomEvent","removeActivityChangeHandler","key","hasOwnProperty","name","defaultVal","setSetting","val","setTimeout","reload","loaderData","prop","getObject","ajax","post","getString","PARAMS","html","document","body","bind","self","_completeButton","_subjectElem","_timeElem","_responsibleElem","_params","_enableExternalChange","_completeButtonHandler","_onCompleteButtonClick","_titleHandler","_onTitleClick","_onExternalChange","className","_bindingElem","unbind","getId","isCompleted","getBooleanParam","setCompleted","completed","setActivityCompleted","_onComplete","layout","classOnly","typeId","getIntParam","direction","containerClassName","CrmActivityType","call","CrmActivityDirection","incoming","meeting","task","removeClass","addClass","now","Date","time","parseDate","getParam","innerHTML","util","htmlspecialchars","checked","trimDateTimeString","date","format","getDateTimeFormat","clientTitle","clientInfo","replace","ownerType","ownerTitle","referenceInfo","bindingHtml","e","isBoolean","setParam","viewActivity","PreventDefault","sender","action","merge","isArray","comms","comm","entityType"],"mappings":"AAAA,UAAUA,GAAgC,gCAAM,YAChD,CACCA,GAAGC,UAAU,mBAEbD,GAAGE,8BAAgC,WAElCC,KAAKC,SAAW,KAChBD,KAAKE,WAAa,KAClBF,KAAKG,gBAAkB,KACvBH,KAAKI,UACLJ,KAAKK,uBAAyBR,GAAGS,SAASN,KAAKO,kBAAmBP,MAClEA,KAAKQ,qBAAuBX,GAAGS,SAASN,KAAKS,qBAAsBT,OAGpEH,GAAGE,8BAA8BW,WAEhCC,WAAY,SAASC,EAAIC,GAExBb,KAAKc,IAAMF,EACXZ,KAAKe,UAAYF,EACjBb,KAAKgB,aAAehB,KAAKiB,WAAW,eACpCjB,KAAKE,WAAaL,GAAGG,KAAKgB,cAC1BhB,KAAKC,SAAWD,KAAKE,WAAWgB,WAEhC,IAAIC,EAAmBnB,KAAKiB,WAAW,mBAAoB,IAC3D,GAAGpB,GAAGuB,KAAKC,iBAAiBF,WAA4BtB,GAAGyB,oBAAsB,aACjF,CACCtB,KAAKG,uBAAyBN,GAAGyB,kBAAkBC,MAAMJ,KAAuB,YAC7EtB,GAAGyB,kBAAkBC,MAAMJ,GAAoB,KAGnDtB,GAAG2B,eAAeC,OAAQ,sBAAuBzB,KAAKQ,sBACtD,GAAGR,KAAKG,gBACR,CACCH,KAAKG,gBAAgBuB,yBAAyB1B,KAAKK,wBAGpD,GAAGL,KAAKE,WACR,CACC,IAAIyB,EAAO3B,KAAKiB,WAAW,WAC3B,IAAI,IAAIW,EAAI,EAAGA,EAAID,EAAKE,OAAQD,IAChC,CACC,IAAIE,EAAWH,EAAKC,GACpB,IAAIG,EAASC,SAASF,EAAS,OAC/B,IAAIG,EAAoBpC,GAAGqC,UAAUlC,KAAKE,YAAciC,WAAeC,iBAAkBL,IAAW,KAAM,OAC1G,GAAGE,EACH,CACCjC,KAAKI,OAAO2B,EAAOM,YAAcxC,GAAGyC,0BAA0BC,OAC7DR,GAECS,eAAkBxC,KAAKG,gBACvBsC,UAAaR,EACbS,eAAkB1C,KAAKiB,WAAW,iBAAkB,IACpD0B,kBAAqB3C,KAAKiB,WAAW,oBAAqB,IAC1D2B,OAAU/C,GAAGgD,YAAYN,OAAOT,SAOtCgB,QAAS,WAERjD,GAAGkD,kBAAkBtB,OAAQ,sBAAuBzB,KAAKQ,sBACzD,GAAGR,KAAKG,gBACR,CACCH,KAAKG,gBAAgB6C,4BAA4BhD,KAAKK,wBAGvD,IAAI,IAAI4C,KAAOjD,KAAKI,OACpB,CACC,GAAGJ,KAAKI,OAAO8C,eAAeD,GAC9B,CACCjD,KAAKI,OAAO6C,GAAKH,aAIpB7B,WAAY,SAASkC,EAAMC,GAE1B,OAAOpD,KAAKe,UAAUmC,eAAeC,GAAQnD,KAAKe,UAAUoC,GAAQC,GAErEC,WAAY,SAASF,EAAMG,GAE1BtD,KAAKe,UAAUoC,GAAQG,GAExB7C,qBAAsB,WAErBgB,OAAO8B,WAAW1D,GAAGS,SAASN,KAAKwD,OAAQxD,MAAO,MAEnDO,kBAAmB,WAElBkB,OAAO8B,WAAW1D,GAAGS,SAASN,KAAKwD,OAAQxD,MAAO,MAEnDwD,OAAQ,WAEP,IAAIC,EAAa5D,GAAG6D,KAAKC,UAAU3D,KAAKe,UAAW,SAAU,MAC7D,IAAI0C,EACJ,CACC,OAGD5D,GAAG+D,KAAKC,KACPhE,GAAG6D,KAAKI,UAAUL,EAAY,aAAc,KAC1CM,OAAUlE,GAAG6D,KAAKC,UAAUF,EAAY,qBAC1C,SAASO,GAERnE,GAAGmE,KAAKhE,KAAKC,SAAWD,KAAKC,SAAWgE,SAASC,KAAMF,GACvDhE,KAAK8C,WACJqB,KAAKnE,SAKVH,GAAGE,8BAA8BwC,OAAS,SAAS3B,EAAIC,GAEtD,IAAIuD,EAAO,IAAIvE,GAAGE,8BAClBqE,EAAKzD,WAAWC,EAAIC,GACpB,OAAOuD,GAIT,UAAUvE,GAA4B,4BAAM,YAC5C,CACCA,GAAGyC,0BAA4B,WAE9BtC,KAAKe,aACLf,KAAKc,IAAM,EACXd,KAAKG,gBAAkB,KACvBH,KAAKE,WAAcF,KAAKqE,gBAAkBrE,KAAKsE,aAAetE,KAAKuE,UAAYvE,KAAKwE,iBAAmB,KACvGxE,KAAKyE,QAAU,KACfzE,KAAK0E,sBAAwB,KAE7B1E,KAAK2E,uBAAyB9E,GAAGS,SAASN,KAAK4E,uBAAwB5E,MACvEA,KAAK6E,cAAgBhF,GAAGS,SAASN,KAAK8E,cAAe9E,OAGtDH,GAAGyC,0BAA0B5B,WAE5BC,WAAY,SAASC,EAAIC,GAExBb,KAAKc,IAAMF,EACXZ,KAAKe,UAAYF,EAEjBb,KAAKG,gBAAkBH,KAAKiB,WAAW,iBAAkB,MACzD,IAAIjB,KAAKG,gBACT,CACC,KAAM,+DAGPH,KAAKG,gBAAgBuB,yBAAyB7B,GAAGS,SAASN,KAAK+E,kBAAmB/E,OAElFA,KAAKE,WAAaF,KAAKiB,WAAW,aAClC,IAAIjB,KAAKE,WACT,CACC,KAAM,0DAGPF,KAAKqE,gBAAkBxE,GAAGqC,UAAUlC,KAAKE,YAAc8E,UAAa,4BAA8B,KAAM,OACxG,GAAGhF,KAAKqE,gBACR,CACCxE,GAAGsE,KAAKnE,KAAKqE,gBAAiB,QAASrE,KAAK2E,wBAG7C3E,KAAKsE,aAAezE,GAAGqC,UAAUlC,KAAKE,YAAc8E,UAAa,mCAAqC,KAAM,OAC5G,GAAGhF,KAAKsE,aACR,CACCzE,GAAGsE,KAAKnE,KAAKsE,aAAc,QAAStE,KAAK6E,eAG1C7E,KAAKuE,UAAY1E,GAAGqC,UAAUlC,KAAKE,YAAc8E,UAAa,wBAA0B,KAAM,OAC9FhF,KAAKwE,iBAAmB3E,GAAGqC,UAAUlC,KAAKE,YAAc8E,UAAa,wBAA0B,KAAM,OACrGhF,KAAKiF,aAAepF,GAAGqC,UAAUlC,KAAKE,YAAc8E,UAAa,8BAAgC,KAAM,OAEvGhF,KAAKyE,QAAUzE,KAAKiB,WAAW,SAAU,MACzC,IAAIjB,KAAKyE,QACT,CACCzE,KAAKyE,QAAU5E,GAAGgD,YAAYN,WAGhCO,QAAS,WAER,GAAG9C,KAAKqE,gBACR,CACCxE,GAAGqF,OAAOlF,KAAKqE,gBAAiB,QAASrE,KAAK2E,wBAG/C,GAAG3E,KAAKsE,aACR,CACCzE,GAAGqF,OAAOlF,KAAKsE,aAAc,QAAStE,KAAK6E,iBAG7CM,MAAO,WAEN,OAAOnF,KAAKc,KAEbG,WAAY,SAASkC,EAAMC,GAE1B,OAAOpD,KAAKe,UAAUmC,eAAeC,GAAQnD,KAAKe,UAAUoC,GAAQC,GAErEC,WAAY,SAASF,EAAMG,GAE1BtD,KAAKe,UAAUoC,GAAQG,GAExB8B,YAAa,WAEZ,OAAOpF,KAAKyE,QAAQY,gBAAgB,YAAa,QAElDC,aAAc,SAASC,GAEtBA,IAAcA,EACd,GAAGvF,KAAKoF,gBAAkBG,EAC1B,CACCvF,KAAK0E,sBAAwB,MAC7B1E,KAAKG,gBAAgBqF,qBAAqBxF,KAAKc,IAAKyE,EAAW1F,GAAGS,SAASN,KAAKyF,YAAazF,SAG/F0F,OAAQ,SAASC,GAEhBA,IAAcA,EAEd,IAAIC,EAAS5F,KAAKyE,QAAQoB,YAAY,SAAU,GAChD,IAAIC,EAAY9F,KAAKyE,QAAQoB,YAAY,YAAa,GACtD,IAAIN,EAAYvF,KAAKyE,QAAQY,gBAAgB,YAAa,OAE1D,IAAIU,EAAqB,GACzB,GAAGH,IAAW/F,GAAGmG,gBAAgBC,KACjC,CACCF,EAAqBD,IAAcjG,GAAGqG,qBAAqBC,SACxD,uBAAyB,+BAExB,GAAGP,IAAW/F,GAAGmG,gBAAgBI,QACtC,CACCL,EAAqB,4BAEjB,GAAGH,IAAW/F,GAAGmG,gBAAgBK,KACtC,CACCN,EAAqB,uBAGtB,GAAGR,EACH,CACC1F,GAAGyG,YAAYtG,KAAKE,WAAY6F,GAChClG,GAAG0G,SAASvG,KAAKE,WAAY6F,EAAqB,aAGnD,CACClG,GAAGyG,YAAYtG,KAAKE,WAAY6F,EAAqB,SACrDlG,GAAG0G,SAASvG,KAAKE,WAAY6F,GAG9B,IAAIS,EAAM,IAAIC,KACd,IAAIC,EAAO7G,GAAG8G,UAAU3G,KAAKyE,QAAQmC,SAAS,aAC9C,IAAIF,EACJ,CACCA,EAAO,IAAID,KAGZ,GAAGzG,KAAKuE,UACR,CACC,IAAIgB,GAAamB,GAAQF,EACzB,CACC3G,GAAG0G,SAASvG,KAAKE,WAAY,gCAG9B,CACCL,GAAGyG,YAAYtG,KAAKE,WAAY,6BAIlC,GAAGyF,EACH,CACC,OAGD,GAAG3F,KAAKsE,cAAgBtE,KAAKyE,QAAQmC,SAAS,WAC9C,CACC5G,KAAKsE,aAAauC,UAAYhH,GAAGiH,KAAKC,iBAAiB/G,KAAKyE,QAAQmC,SAAS,YAG9E,GAAG5G,KAAKqE,iBAAmBrE,KAAKqE,gBAAgB2C,UAAYzB,EAC5D,CACCvF,KAAKqE,gBAAgB2C,QAAUzB,EAGhC,GAAGvF,KAAKuE,UACR,CACCvE,KAAKuE,UAAUsC,UAAYhH,GAAGyB,kBAAkB2F,mBAAmBpH,GAAGqH,KAAKC,OAAOtH,GAAGyB,kBAAkB8F,oBAAqBV,IAG7H,GAAG1G,KAAKwE,iBACR,CACCxE,KAAKwE,iBAAiBqC,UAAYhH,GAAGiH,KAAKC,iBAAiB/G,KAAKyE,QAAQmC,SAAS,oBAGlF,GAAG5G,KAAKiF,aACR,CACC,IAAIoC,EAAcrH,KAAKyE,QAAQmC,SAAS,cAAe,IACvD,IAAIU,EAAaD,IAAgB,GAC9BrH,KAAKiB,WAAW,kBAAkBsG,QAAQ,aAAcF,GACxD,GAEH,IAAIG,EAAYxH,KAAKyE,QAAQmC,SAAS,YAAa,IACnD,IAAIa,EAAazH,KAAKyE,QAAQmC,SAAS,aAAc,IACrD,IAAIc,EAAgBD,IAAe,KAAOD,GAAa,QAAUA,GAAa,QAC3ExH,KAAKiB,WAAW,qBAAqBsG,QAAQ,gBAAiBE,GAC9D,GAEH,IAAIE,EAAcL,EAClB,GAAGI,IAAkB,GACrB,CACC,GAAGC,IAAgB,GACnB,CACCA,GAAe,IAGhBA,GAAeD,EAEhB1H,KAAKiF,aAAa4B,UAAYhH,GAAGiH,KAAKC,iBAAiBY,KAGzD/C,uBAAwB,SAASgD,GAEhC5H,KAAKsF,cAActF,KAAKoF,gBAEzBK,YAAa,SAAS9D,GAErB3B,KAAK0E,sBAAwB,KAE7B,GAAG7E,GAAGuB,KAAKyG,UAAUlG,EAAK,cAC1B,CACC3B,KAAKyE,QAAQqD,SAAS,YAAanG,EAAK,cAGzC3B,KAAK0F,OAAO,OAEbZ,cAAe,SAAS8C,GAEvB5H,KAAKG,gBAAgB4H,aAAa/H,KAAKc,KACvC,OAAOjB,GAAGmI,eAAeJ,IAE1B7C,kBAAmB,SAASkD,EAAQC,EAAQrH,GAE3C,IAAIb,KAAK0E,sBACT,CACC,OAGD,IAAI9D,SAAYC,EAAS,QAAW,YAAcmB,SAASnB,EAAS,OAAS,EAC7E,GAAGb,KAAKc,MAAQF,EAChB,CACC,OAGDZ,KAAKyE,QAAQ0D,MAAMtH,GAEnB,GAAGhB,GAAGuB,KAAKgH,QAAQvH,EAAS,mBAC5B,CACC,IAAIwH,EAAQxH,EAAS,kBACrB,IAAI,IAAIe,EAAI,EAAGA,EAAIyG,EAAMxG,OAAQD,IACjC,CACC,IAAI0G,EAAOD,EAAMzG,GACjB,IAAI2G,EAAaD,EAAK,cACtB,GAAGC,IAAe,WAAaA,IAAe,UAC9C,CACCvI,KAAKyE,QAAQqD,SAAS,cAAejI,GAAGuB,KAAKC,iBAAiBiH,EAAK,gBAAkBA,EAAK,eAAiB,IAC3G,YAKH,CACCtI,KAAKyE,QAAQqD,SAAS,cAAe,IAGtC9H,KAAK0F,OAAO,SAId7F,GAAGyC,0BAA0BC,OAAS,SAAS3B,EAAIC,GAElD,IAAIuD,EAAO,IAAIvE,GAAGyC,0BAClB8B,EAAKzD,WAAWC,EAAIC,GACpB,OAAOuD","file":""}