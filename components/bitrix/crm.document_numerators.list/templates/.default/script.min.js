(function(){BX.namespace("BX.Crm.Numerator.List");BX.Crm.Numerator.List=function(t){this.numeratorCreateBtn=document.querySelector('[data-role="numerator-create-btn"]');this.addEventHandlers()};BX.Crm.Numerator.List.prototype={addEventHandlers:function(){BX.bind(this.numeratorCreateBtn,"click",BX.delegate(this.onNumeratorCreateBtnClick,this));this.numTitles=document.querySelectorAll('[data-role^="link-title-for-"]');for(var t=0;t<this.numTitles.length;t++){BX.bind(this.numTitles[t],"click",BX.delegate(this.onNumeratorTitleClick,this))}},onNumeratorTitleClick:function(t){t.stopPropagation();t.preventDefault();var e=t.currentTarget.dataset.id;if(e){var r=BX.util.add_url_param("/bitrix/components/bitrix/main.numerator.edit/slider.php",{NUMERATOR_TYPE:"DOCUMENT",ID:e});BX.SidePanel.Instance.open(r,{width:480})}},onNumeratorCreateBtnClick:function(){var t=BX.util.add_url_param("/bitrix/components/bitrix/main.numerator.edit/slider.php",{NUMERATOR_TYPE:"DOCUMENT"});BX.SidePanel.Instance.open(t,{width:480,cacheable:false})},onEditNumeratorClick:function(t,e){BX.addCustomEvent("SidePanel.Slider:onMessage",BX.delegate(function(t){if(t.getEventId()==="numerator-saved-event"){var e=t.getData();var r=document.querySelector('[data-role="link-title-for-'+e.id+'"]');if(r){r.innerText=e.name}var a=document.querySelector('tr[data-id="'+e.id+'"] td:nth-child(5) >'+" span");if(a&&e.template){a.innerText=e.template}}}));var r=BX.util.add_url_param("/bitrix/components/bitrix/main.numerator.edit/slider.php",{NUMERATOR_TYPE:e});if(t){r=BX.util.add_url_param(r,{ID:t})}BX.SidePanel.Instance.open(r,{width:480})}}})();