this.BX=this.BX||{};this.BX.Mobile=this.BX.Mobile||{};this.BX.Mobile.Field=this.BX.Mobile.Field||{};(function(e,t){"use strict";var i=window.BX,n=window.BXMobileApp;var c=function(){var e=function e(t,n,c){this.node=t;this.containerValue=n;this.clickValue=i.delegate(this.clickValue,this);i.bind(this.containerValue,"click",this.clickValue);this.callbackValue=i.delegate(this.callbackValue,this);this.containerCurrency=c;this.clickCurrency=i.delegate(this.clickCurrency,this);i.bind(this.containerCurrency,"click",this.clickCurrency);this.callbackCurrency=i.delegate(this.callbackCurrency,this);this.nodeValue=i(n);this.nodeCurrency=i(c)};e.prototype={clickValue:function e(t){this.showValue();return i.PreventDefault(t)},showValue:function e(){window.app.exec("showPostForm",{attachButton:{items:[]},attachFileSettings:{},attachedFiles:[],extraData:{},mentionButton:{},smileButton:{},message:{text:i.util.htmlspecialcharsback(this.nodeValue.previousElementSibling.value)},okButton:{callback:this.callbackValue,name:t.Loc.getMessage("interface_form_save")},cancelButton:{callback:function e(){},name:t.Loc.getMessage("interface_form_cancel")}})},callbackValue:function e(t){t.text=i.util.htmlspecialchars(t.text)||"";this.containerValue.previousElementSibling.value=t.text;if(t.text==""){this.containerValue.innerHTML='<span class="placeholder">'.concat(this.node.getAttribute("placeholder"),"</span>")}else{this.containerValue.innerHTML=t.text}this.node.value=t.text+"|"+this.containerCurrency.previousElementSibling.value;i.onCustomEvent(this,"onChange",[this,this.node])},clickCurrency:function e(t){this.showCurrency();return i.PreventDefault(t)},showCurrency:function e(){this.initCurrencies();n.UI.SelectPicker.show({callback:this.callbackCurrency,values:this.currencies,multiselect:false,default_value:this.defaultCurrency})},callbackCurrency:function e(t){var n=t.values[0];var c=this.containerValue.previousElementSibling.value;this.containerCurrency.innerHTML=n;this.node.value=c+"|"+n;i.onCustomEvent(this,"onChange",[this,this.node])},initCurrencies:function e(){this.currencies=[];this.defaultCurrency=[];for(var t=0;t<this.containerCurrency.previousElementSibling.options.length;t++){this.currencies.push(this.containerCurrency.previousElementSibling.options[t].innerHTML);if(this.containerCurrency.previousElementSibling.options[t].hasAttribute("selected")){this.defaultCurrency.push(this.containerCurrency.previousElementSibling.options[t].innerHTML)}}}};return e}();window.app.exec("enableCaptureKeyboard",true);i.Mobile.Field.Money=function(e){this.init(e)};i.Mobile.Field.Money.prototype={__proto__:i.Mobile.Field.prototype,bindElement:function e(t){var n=null;if(i(t)){n=new c(t,i("".concat(t.id,"_value")),i("".concat(t.id,"_currency")))}return n}}})(this.BX.Mobile.Field.Money=this.BX.Mobile.Field.Money||{},BX);
//# sourceMappingURL=mobile.map.js