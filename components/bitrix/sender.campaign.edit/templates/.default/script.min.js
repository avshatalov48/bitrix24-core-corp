(function(){BX.namespace("BX.Sender");if(BX.Sender.CampaignEditor){return}var t=BX.Sender.Page;var i=BX.Sender.Helper;function e(){this.context=null;this.editor=null}e.prototype.init=function(i){this.isFrame=i.isFrame||false;this.isSaved=i.isSaved||false;this.prettyDateFormat=i.prettyDateFormat;this.mess=i.mess||{};this.campaignTile=i.campaignTile||{};this.context=BX(i.containerId);this.initUi();t.initButtons()};e.prototype.initUi=function(){this.ui={title:i.getNode("campaign-title",this.context)};if(!this.ui.title.value.trim()){this.ui.title.value=i.replace(this.mess.patternTitle,{name:this.mess.newTitle,date:BX.date.format(this.prettyDateFormat)})}if(this.isFrame){i.titleEditor.init({dataNode:this.ui.title})}if(this.isFrame&&this.isSaved){top.BX.onCustomEvent(top,"sender-campaign-edit-change",[this.campaignTile]);BX.Sender.Page.slider.close()}};BX.Sender.CampaignEditor=new e})(window);