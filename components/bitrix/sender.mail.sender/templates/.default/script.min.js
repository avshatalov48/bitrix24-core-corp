(function(t){BX.namespace("BX.Sender.UI.Mailbox");if(BX.Sender.UI.Mailbox.Selector){return}var e=BX.Sender.Helper;function i(t){}i.prototype.init=function(t){this.list=t.list;this.list=t.containerId;this.context=BX(t.containerId);this.default=t.default;this.input=e.getNode("mailbox-input",this.context);this.mailbox=e.getNode("mailbox",this.context);this.mailboxWrap=e.getNode("mailbox-wrap",this.context);BX.bind(this.mailboxWrap,"click",this.showMenu.bind(this));this.param={placeholder:"",required:true,callback:function(t,e){this.setSelected(t)}.bind(this),settings:[],popupSettings:{maxHeight:350}};this.setCurrent(t.current)};i.prototype.setCurrent=function(t){t=t.replaceAll("'",'"');this.ifExists(t)?this.setSelected(t):this.setSelected(this.getFirstOrDefault())};i.prototype.getFirstOrDefault=function(){return BXMainMailConfirm.getMailboxes().length>0?BXMainMailConfirm.getMailboxes()[0].formated:""};i.prototype.setSelected=function(t){if(BX.type.isNotEmptyString(t)){this.param.selected=t;this.input.value=t;this.mailbox.textContent=t}else{this.input.value="";this.mailbox.textContent=this.default}};i.prototype.ifExists=function(t){if(BX.type.isNotEmptyString(t)&&BXMainMailConfirm.getMailboxes().length>0){for(var e in BXMainMailConfirm.getMailboxes()){if(BXMainMailConfirm.getMailboxes()[e].formated===t){return true}}}return false};i.prototype.showMenu=function(){BXMainMailConfirm.showList("sender-ui-mailbox-selector",this.mailbox,this.param)};BX.Sender.UI.Mailbox.Selector=new i})(window);
//# sourceMappingURL=script.map.js