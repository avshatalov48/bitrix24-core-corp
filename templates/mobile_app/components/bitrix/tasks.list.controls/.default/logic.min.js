BX.namespace("BX.Mobile.Tasks");BX.Mobile.Tasks.roles=function(e,s){this.parentConstruct(BX.Mobile.Tasks.roles,e);BX.merge(this,{sys:{classCode:"roles"},vars:{userId:false},opts:{}});this.handleInitStack(s,BX.Mobile.Tasks.roles,e)};BX.extend(BX.Mobile.Tasks.roles,BX.Mobile.Tasks.page);BX.merge(BX.Mobile.Tasks.roles.prototype,{init:function(){},dynamicActionsCustom:function(e){var s=this.instance("taskgroups");if(typeof s!="undefined"){s.setCounters(e.counters);s.setUserId(e.userId);this.resetMenu(this.getMenu())}},pullHandler:function(e){try{if(e.command=="user_counter"&&e.module_id=="main"&&BX.type.isPlainObject(e.params[this.option("siteId")])){var s=e.params[this.option("siteId")];if(BX.type.isPlainObject(this.option("counterToRole"))){var t={};var o=0;for(var i in this.option("counterToRole")){if(typeof s[i]!="undefined"){t[this.option("counterToRole")[i]]=parseInt(s[i]);o++}}if(o>0)this.instance("taskgroups").setCounters(t,true)}}}catch(n){BX.debug("Counters update UNsuccessful");BX.debug(n)}},getMenu:function(){return[{name:BX.message("MB_TASKS_ROLES_TASK_ADD"),arrowFlag:false,icon:"add",action:BX.delegate(function(){var e=this.getUser();var s=this.option("path").taskCreate.replace("#USER_ID#",e).replace("#user_id#",e);app.showModalDialog({url:s})},this)}]}});
//# sourceMappingURL=logic.map.js