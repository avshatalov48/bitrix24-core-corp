{"version":3,"file":"script.js","sources":["src/scrum.js","src/widget.js","src/controlbutton.js","src/sonetgroupevent.js","src/joinbutton.js","src/taskevent.js","src/morebutton.js","src/groupmenu.js"],"sourcesContent":["import { Type, Runtime } from 'main.core';\n\nexport default class Scrum\n{\n\tconstructor(params)\n\t{\n\t\tthis.scrumMeetings = null;\n\t\tthis.scrumMethodology = null;\n\n\t\tthis.init(params);\n\t}\n\n\tinit(params)\n\t{\n\t\tthis.groupId = !Type.isUndefined(params.groupId) ? Number(params.groupId) : 0;\n\t\tthis.urls = Type.isPlainObject(params.urls) ? params.urls : {};\n\n\t\tconst scrumMeetingsButton = document.getElementById('tasks-scrum-meetings-button');\n\t\tif (scrumMeetingsButton)\n\t\t{\n\t\t\tscrumMeetingsButton.addEventListener('click', this.showScrumMeetings.bind(this));\n\t\t}\n\n\t\tconst scrumMethodologyButton = document.getElementById('tasks-scrum-methodology-button');\n\t\tif (scrumMethodologyButton)\n\t\t{\n\t\t\tscrumMethodologyButton.addEventListener('click', this.showScrumMethodology.bind(this));\n\t\t}\n\t}\n\n\tshowScrumMeetings(event)\n\t{\n\t\tevent.target.classList.add('ui-btn-wait');\n\n\t\tRuntime.loadExtension('tasks.scrum.meetings').then(exports => {\n\t\t\tconst { Meetings } = exports;\n\n\t\t\tif (this.scrumMeetings === null)\n\t\t\t{\n\t\t\t\tthis.scrumMeetings = new Meetings({\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.scrumMeetings.showMenu(event.target);\n\t\t\tevent.target.classList.remove('ui-btn-wait');\n\t\t});\n\n\t\tevent.preventDefault();\n\t}\n\n\tshowScrumMethodology(event)\n\t{\n\t\tevent.target.classList.add('ui-btn-wait');\n\n\t\tRuntime.loadExtension('tasks.scrum.methodology').then(exports => {\n\t\t\tconst { Methodology } = exports;\n\n\t\t\tif (this.scrumMethodology === null)\n\t\t\t{\n\t\t\t\tthis.scrumMethodology = new Methodology({\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\tteamSpeedPath: this.urls.ScrumTeamSpeed,\n\t\t\t\t\tburnDownPath: this.urls.ScrumBurnDown,\n\t\t\t\t\tpathToTask: this.urls.TasksTask,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.scrumMethodology.showMenu(event.target);\n\t\t\tevent.target.classList.remove('ui-btn-wait');\n\t\t});\n\n\t\tevent.preventDefault();\n\t}\n\n\n}\n","import { Type } from 'main.core';\nimport { WorkgroupWidget as UIWorkgroupWidget } from 'socialnetwork.common';\n\nexport default class Widget\n{\n\tconstructor(params)\n\t{\n\t\tthis.projectWidgetInstance = null;\n\n\t\tthis.init(params);\n\t}\n\n\tinit(params)\n\t{\n\t\tthis.groupId = !Type.isUndefined(params.groupId) ? Number(params.groupId) : 0;\n\t\tthis.avatarPath = Type.isStringFilled(params.avatarPath) ? params.avatarPath : '';\n\t\tthis.avatarType = Type.isStringFilled(params.avatarType) ? params.avatarType : '';\n\t\tthis.projectTypeCode = Type.isStringFilled(params.projectTypeCode) ? params.projectTypeCode : '';\n\t\tthis.canModify = Type.isBoolean(params.canModify) ? params.canModify : false;\n\t\tthis.editFeaturesAllowed = Type.isBoolean(params.editFeaturesAllowed) ? params.editFeaturesAllowed : true;\n\n\t\tthis.urls = Type.isPlainObject(params.urls) ? params.urls : {};\n\n\t\tconst projectWidgetButton = document.getElementById('project-widget-button');\n\t\tif (projectWidgetButton)\n\t\t{\n\t\t\tprojectWidgetButton.addEventListener('click', this.showProjectWidget.bind(this));\n\t\t}\n\t}\n\n\tshowProjectWidget(event)\n\t{\n\t\tif (this.projectWidgetInstance === null)\n\t\t{\n\t\t\tthis.projectWidgetInstance = new UIWorkgroupWidget({\n\t\t\t\tgroupId: this.groupId,\n\t\t\t\tavatarPath: this.avatarPath,\n\t\t\t\tavatarType: this.avatarType,\n\t\t\t\tprojectTypeCode: this.projectTypeCode,\n\t\t\t\tperms: {\n\t\t\t\t\tcanModify: this.canModify,\n\t\t\t\t},\n\t\t\t\turls: {\n\t\t\t\t\tcard: this.urls.Card,\n\t\t\t\t\tmembers: this.urls.GroupUsers,\n\t\t\t\t\tfeatures: this.urls.Features,\n\t\t\t\t},\n\t\t\t\teditRolesAllowed: this.editFeaturesAllowed,\n\t\t\t});\n\t\t}\n\n\t\tthis.projectWidgetInstance.show(event.target);\n\t\tif (\n\t\t\tthis.projectWidgetInstance.widget\n\t\t\t&& this.projectWidgetInstance.widget.getPopup()\n\t\t)\n\t\t{\n\t\t\tBX.UI.Hint.init(this.projectWidgetInstance.widget.getPopup().getContentContainer());\n\t\t}\n\n\t\tevent.preventDefault();\n\t}\n}\n","import {Runtime, Type} from 'main.core';\n\nexport default class ControlButton\n{\n\tconstructor(params)\n\t{\n\t\tthis.init(params);\n\t}\n\n\tinit(params)\n\t{\n\t\tthis.groupId = !Type.isUndefined(params.groupId) ? Number(params.groupId) : 0;\n\t\tthis.inIframe = !Type.isUndefined(params.inIframe) ? !!params.inIframe : false;\n\n\t\tconst controlButtonContainer = document.getElementById('group-menu-control-button-cont');\n\t\tif (controlButtonContainer)\n\t\t{\n\t\t\tRuntime.loadExtension('intranet.control-button').then(exports => {\n\t\t\t\tconst { ControlButton } = exports;\n\n\t\t\t\tnew ControlButton({\n\t\t\t\t\tcontainer: controlButtonContainer,\n\t\t\t\t\tentityType: 'workgroup',\n\t\t\t\t\tentityId: this.groupId,\n\t\t\t\t\tbuttonClassName: `intranet-control-btn-no-hover${this.inIframe ? ' ui-btn-themes' : ''}`,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t}\n}\n","import { Type } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Common as UICommon, GroupMenu as UIGroupMenu } from 'socialnetwork.common';\n\nexport default class SonetGroupEvent\n{\n\tconstructor(params, additionalData)\n\t{\n\t\tthis.moreButtonInstance = !Type.isUndefined(additionalData.moreButtonInstance) ? additionalData.moreButtonInstance : null;\n\n\t\tthis.init(params);\n\t}\n\n\tinit(params)\n\t{\n\t\tthis.groupId = !Type.isUndefined(params.groupId) ? Number(params.groupId) : 0;\n\t\tthis.urls = Type.isPlainObject(params.urls) ? params.urls : {};\n\n\t\tEventEmitter.subscribe('SidePanel.Slider:onMessage', (event) => {\n\t\t\tconst [ sliderEvent ] = event.getCompatData();\n\n\t\t\tif (sliderEvent.getEventId() === 'sonetGroupEvent')\n\t\t\t{\n\t\t\t\tthis.sonetGroupEventHandler(sliderEvent.getData())\n\t\t\t}\n\t\t});\n\n\t\tEventEmitter.subscribe('sonetGroupEvent', (event) => {\n\t\t\tconst [ eventData ] = event.getCompatData();\n\n\t\t\tthis.sonetGroupEventHandler(eventData)\n\t\t});\n\n\t}\n\n\tsonetGroupEventHandler(eventData)\n\t{\n\t\tif (!Type.isStringFilled(eventData.code))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif ([ 'afterJoinRequestSend', 'afterEdit' ].includes(eventData.code))\n\t\t{\n\t\t\tconst joinContainerNode = document.getElementById('bx-group-menu-join-cont')\n\t\t\tif (joinContainerNode)\n\t\t\t{\n\t\t\t\tjoinContainerNode.style.display = 'none';\n\t\t\t}\n\t\t\tUICommon.reload();\n\t\t}\n\t\telse if ([ 'afterSetFavorites' ].includes(eventData.code))\n\t\t{\n\t\t\tconst sonetGroupMenu = UIGroupMenu.getInstance();\n\t\t\tconst favoritesValue = sonetGroupMenu.favoritesValue;\n\n\t\t\tsonetGroupMenu.setItemTitle(!favoritesValue);\n\t\t\tsonetGroupMenu.favoritesValue = !favoritesValue;\n\t\t}\n\t\telse if (\n\t\t\t[ 'afterDelete', 'afterLeave' ].includes(eventData.code)\n\t\t\t&& Type.isPlainObject(eventData.data)\n\t\t\t&& !Type.isUndefined(eventData.data.groupId)\n\t\t\t&& Number(eventData.data.groupId) === this.groupId\n\t\t)\n\t\t{\n\t\t\ttop.location.href = this.urls.GroupsList;\n\t\t}\n\t\telse if (\n\t\t\t[ 'afterSetSubscribe' ].includes(eventData.code)\n\t\t\t&& Type.isPlainObject(eventData.data)\n\t\t\t&& !Type.isUndefined(eventData.data.groupId)\n\t\t\t&& Number(eventData.data.groupId) === this.groupId\n\t\t\t&& this.moreButtonInstance\n\t\t)\n\t\t{\n\t\t\tthis.moreButtonInstance.redrawMenu(eventData.data.value);\n\t\t}\n\t}\n}\n","import { ajax, Type } from 'main.core';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { Common as UICommon} from 'socialnetwork.common';\n\nexport default class JoinButton\n{\n\tconstructor(params)\n\t{\n\t\tthis.init(params);\n\t}\n\n\tinit(params)\n\t{\n\t\tthis.groupId = !Type.isUndefined(params.groupId) ? Number(params.groupId) : 0;\n\t\tthis.urls = Type.isPlainObject(params.urls) ? params.urls : {};\n\n\t\tconst joinButtonNode = document.getElementById('bx-group-menu-join');\n\t\tif (joinButtonNode)\n\t\t{\n\t\t\tjoinButtonNode.addEventListener('click', this.sendJoinRequest.bind(this));\n\t\t}\n\t}\n\n\tsendJoinRequest(event)\n\t{\n\t\tconst button = event.currentTarget;\n\n\t\tUICommon.showButtonWait(button);\n\n\t\tajax.runAction('socialnetwork.api.usertogroup.join', {\n\t\t\tdata: {\n\t\t\t\tparams: {\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t},\n\t\t\t}\n\t\t}).then((response) => {\n\t\t\tUICommon.hideButtonWait(button);\n\n\t\t\tif (\n\t\t\t\tresponse.data.success\n\t\t\t\t&& Type.isStringFilled(this.urls.view)\n\t\t\t)\n\t\t\t{\n\t\t\t\tconst sonetGroupEventData = {\n\t\t\t\t\tcode: 'afterJoinRequestSend',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tEventEmitter.emit(window.top, 'sonetGroupEvent', new BaseEvent({\n\t\t\t\t\tcompatData: [ sonetGroupEventData ],\n\t\t\t\t\tdata: [ sonetGroupEventData ],\n\t\t\t\t}))\n\n\t\t\t\twindow.location.href = this.urls.view;\n\t\t\t}\n\t\t}, () => {\n\t\t\tUICommon.hideButtonWait(button);\n\t\t});\n\t}\n}\n","import { Type } from 'main.core';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\n\nexport default class TaskEvent\n{\n\tconstructor(params)\n\t{\n\t\tthis.init(params);\n\t}\n\n\tinit(params)\n\t{\n\t\tthis.pageId = Type.isStringFilled(params.pageId) ? params.pageId : '';\n\t\tthis.currentUserId = !Type.isUndefined(params.currentUserId) ? Number(params.currentUserId) : 0;\n\t\tthis.groupId = !Type.isUndefined(params.groupId) ? Number(params.groupId) : 0;\n\t\tthis.isRoleControlDisabled = !Type.isUndefined(params.isRoleControlDisabled) ? Boolean(params.isRoleControlDisabled) : false;\n\t\tconst compatMode = {\n\t\t\tcompatMode: true,\n\t\t};\n\n\t\tEventEmitter.subscribe('onPullEvent-tasks', (command, params) => {\n\t\t\tif (command === 'user_counter')\n\t\t\t{\n\t\t\t\tthis.onUserCounter(params);\n\t\t\t}\n\t\t}, compatMode);\n\n\t\tif (this.pageId !== 'group_tasks')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tdocument.querySelectorAll('.tasks_role_link').forEach((element) => {\n\t\t\telement.addEventListener('click', this.onTaskMenuItemClick.bind(this));\n\t\t});\n\n\t\tEventEmitter.subscribe('BX.Main.Filter:apply', (event) => {\n\t\t\tconst [ filterId, data, ctx ] = event.getCompatData();\n\n\t\t\tthis.onFilterApply(filterId, data, ctx);\n\t\t});\n\t}\n\n\tonTaskMenuItemClick(event)\n\t{\n\t\tconst element = event.currentTarget;\n\n\t\tevent.preventDefault();\n\n\t\tconst roleId = (element.dataset.id === 'view_all' ? '' : element.dataset.id);\n\t\tconst url = element.dataset.url;\n\n\t\tEventEmitter.emit('Tasks.TopMenu:onItem', new BaseEvent({\n\t\t\tcompatData: [ roleId, url ],\n\t\t\tdata: [ roleId, url ],\n\t\t}));\n\n\t\tdocument.querySelectorAll('.tasks_role_link').forEach((element) => {\n\t\t\telement.classList.remove('main-buttons-item-active')\n\t\t});\n\n\t\telement.classList.add('main-buttons-item-active')\n\t}\n\n\tonUserCounter(data)\n\t{\n\t\tif (\n\t\t\tthis.currentUserId !== Number(data.userId)\n\t\t\t|| !Object.prototype.hasOwnProperty.call(data, this.groupId)\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tObject.keys(data[this.groupId]).forEach((role) => {\n\t\t\tconst roleButton = document.getElementById(`group_panel_menu_${(this.groupId ? this.groupId + '_' : '')}${role}`);\n\t\t\tif (roleButton)\n\t\t\t{\n\t\t\t\troleButton.querySelector('.main-buttons-item-counter').innerText = this.getCounterValue(data[this.groupId][role].total);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetCounterValue(value)\n\t{\n\t\tif (!value)\n\t\t{\n\t\t\treturn '';\n\t\t}\n\n\t\tconst maxValue = 99;\n\n\t\treturn (value > maxValue ? `${maxValue}+` : value);\n\t}\n\n\tonFilterApply(filterId, data, ctx)\n\t{\n\t\tif (this.isRoleControlDisabled)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tlet roleId = ctx.getFilterFieldsValues().ROLEID;\n\t\tdocument.querySelectorAll('.tasks_role_link').forEach((element) => {\n\t\t\telement.classList.remove('main-buttons-item-active');\n\t\t});\n\n\t\tif (Type.isUndefined(roleId) || !roleId)\n\t\t{\n\t\t\troleId = 'view_all';\n\t\t}\n\n\t\tconst panelMenuNode = document.getElementById(`group_panel_menu_${this.groupId}_${roleId}`);\n\t\tif (panelMenuNode)\n\t\t{\n\t\t\tpanelMenuNode.classList.add('main-buttons-item-active');\n\t\t}\n\t}\n}","import { Type, Loc, ajax } from 'main.core';\nimport { MenuManager } from 'main.popup';\n\nexport default class MoreButton\n{\n\tconstructor(params)\n\t{\n\t\tthis.menu = null;\n\t\tthis.class = {\n\t\t\tactiveItem: 'menu-popup-item-sgm-accept-sm',\n\t\t\tinactiveItem: 'menu-popup-item-sgm-empty-sm',\n\t\t};\n\n\t\tthis.init(params);\n\t\treturn this;\n\t}\n\n\tinit(params)\n\t{\n\t\tthis.groupId = !Type.isUndefined(params.groupId) ? Number(params.groupId) : 0;\n\t\tthis.bindingMenuItems = Type.isObject(params.bindingMenuItems) ? Object.values(params.bindingMenuItems) : [];\n\t\tthis.userIsMember = Type.isBoolean(params.userIsMember) ? params.userIsMember : false;\n\t\tthis.subscribedValue = Type.isBoolean(params.subscribedValue) ? params.subscribedValue : false;\n\n\t\tconst moreButton = document.getElementById('group-menu-more-button');\n\t\tif (!moreButton)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tmoreButton.addEventListener('click', this.showMoreMenu.bind(this));\n\t}\n\n\tshowMoreMenu(event)\n\t{\n\t\tevent.preventDefault();\n\n\t\tconst bindingMenu = [];\n\n\t\tthis.bindingMenuItems.forEach((item) => {\n\t\t\tbindingMenu.push(item);\n\t\t});\n\n\t\tconst menu = [];\n\n\t\tif (this.userIsMember)\n\t\t{\n\t\t\tmenu.push({\n\t\t\t\tid: 'subscribe',\n\t\t\t\ttext: Loc.getMessage('SONET_SGM_T_MORE_MENU_SUBSCRIBE'),\n\t\t\t\tclassName: (this.subscribedValue ? this.class.activeItem : this.class.inactiveItem),\n\t\t\t\tonclick: () => {\n\t\t\t\t\tthis.setSubscription(true);\n\t\t\t\t},\n\t\t\t});\n\t\t\tmenu.push({\n\t\t\t\tid: 'unsubscribe',\n\t\t\t\ttext: Loc.getMessage('SONET_SGM_T_MORE_MENU_UNSUBSCRIBE'),\n\t\t\t\tclassName: (!this.subscribedValue ? this.class.activeItem : this.class.inactiveItem),\n\t\t\t\tonclick: () => {\n\t\t\t\t\tthis.setSubscription(false);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (bindingMenu.length > 0)\n\t\t{\n\t\t\tif (menu.length > 0)\n\t\t\t{\n\t\t\t\tmenu.push({\n\t\t\t\t\tdelimiter: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmenu.push({\n\t\t\t\ttext: Loc.getMessage('SONET_SGM_T_MORE_MENU_BINDING'),\n\t\t\t\titems: bindingMenu,\n\t\t\t});\n\t\t}\n\n\t\tif (menu.length <= 0)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst bindElement = event.target;\n\n\t\tthis.menu = MenuManager.create({\n\t\t\tid: 'group-more-menu',\n\t\t\toffsetTop: 5,\n\t\t\toffsetLeft: (bindElement.offsetWidth - 18),\n\t\t\tangle: true,\n\t\t\titems: menu,\n\t\t\tevents: {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tif (bindElement.tagName === 'BUTTON')\n\t\t\t\t\t{\n\t\t\t\t\t\tbindElement.classList.remove('ui-btn-active');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tsubMenuOptions: {},\n\t\t});\n\n\t\tthis.menu.popupWindow.setBindElement(bindElement);\n\t\tthis.menu.popupWindow.show();\n\t}\n\n\tsetSubscription(value: boolean)\n\t{\n\t\tthis.redrawMenu(value);\n\n\t\tajax.runAction('socialnetwork.api.workgroup.setSubscription', {\n\t\t\tdata: {\n\t\t\t\tparams: {\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\tvalue: (value ? 'Y' : 'N'),\n\t\t\t\t}\n\t\t\t},\n\t\t}).then((data) => {\n\t\t\tconst eventData = {\n\t\t\t\tcode: 'afterSetSubscribe',\n\t\t\t\tdata: {\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\tvalue: (data.RESULT === 'Y'),\n\t\t\t\t},\n\t\t\t};\n\t\t\twindow.top.BX.SidePanel.Instance.postMessageAll(window, 'sonetGroupEvent', eventData);\n\t\t}).catch(() => {\n\t\t\tthis.redrawMenu(!value);\n\t\t});\n\t}\n\n\tredrawMenu(value: boolean)\n\t{\n\t\tif (!this.menu)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeItem = this.menu.getMenuItem(value ? 'subscribe' : 'unsubscribe');\n\t\tconst inactiveItem = this.menu.getMenuItem(value ? 'unsubscribe' : 'subscribe');\n\n\t\tif (activeItem)\n\t\t{\n\t\t\tactiveItem.layout.item.classList.remove(this.class.inactiveItem);\n\t\t\tactiveItem.layout.item.classList.add(this.class.activeItem);\n\t\t}\n\n\t\tif (inactiveItem)\n\t\t{\n\t\t\tinactiveItem.layout.item.classList.remove(this.class.activeItem);\n\t\t\tinactiveItem.layout.item.classList.add(this.class.inactiveItem);\n\t\t}\n\t}\n\n}\n","import { Type } from 'main.core';\nimport { GroupMenu as UIGroupMenu, Common as UICommon } from 'socialnetwork.common';\n\nimport Scrum from './scrum';\nimport Widget from './widget';\nimport ControlButton from './controlbutton';\nimport SonetGroupEvent from './sonetgroupevent';\nimport JoinButton from './joinbutton';\nimport TaskEvent from './taskevent';\nimport MoreButton from './morebutton';\n\nexport default class GroupMenu\n{\n\tconstructor(params)\n\t{\n\t\tthis.initialized = false;\n\t\tthis.moreButtonInstance = null;\n\n\t\tthis.init(params);\n\t}\n\n\tinit(params: { [key: string]: any }): void\n\t{\n\t\tif (this.initialized === true)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.initialized = true;\n\n\t\tthis.pageId = Type.isStringFilled(params.pageId) ? params.pageId : '';\n\t\tthis.currentUserId = !Type.isUndefined(params.currentUserId) ? Number(params.currentUserId) : 0;\n\n\t\tthis.groupId = !Type.isUndefined(params.groupId) ? Number(params.groupId) : 0;\n\t\tthis.groupType = Type.isStringFilled(params.groupType) ? params.groupType : '';\n\t\tthis.projectTypeCode = Type.isStringFilled(params.projectTypeCode) ? params.projectTypeCode : '';\n\n\t\tthis.userRole = Type.isStringFilled(params.userRole) ? params.userRole : '';\n\t\tthis.userIsMember = Type.isBoolean(params.userIsMember) ? params.userIsMember : false;\n\t\tthis.userIsAutoMember = Type.isBoolean(params.userIsAutoMember) ? params.userIsAutoMember : false;\n\t\tthis.userIsScrumMaster = Type.isBoolean(params.userIsScrumMaster) ? params.userIsScrumMaster : false;\n\n\t\tthis.isProject = Type.isBoolean(params.isProject) ? params.isProject : false;\n\t\tthis.isScrumProject = Type.isBoolean(params.isScrumProject) ? params.isScrumProject : false;\n\t\tthis.isOpened = Type.isBoolean(params.isOpened) ? params.isOpened : false;\n\t\tthis.favoritesValue = Type.isBoolean(params.favoritesValue) ? params.favoritesValue : false;\n\n\t\tthis.canInitiate = Type.isBoolean(params.canInitiate) ? params.canInitiate : false;\n\t\tthis.canModify = Type.isBoolean(params.canModify) ? params.canModify : false;\n\t\tthis.canProcessRequestsIn = Type.isBoolean(params.canProcessRequestsIn) ? params.canProcessRequestsIn : false;\n\t\tthis.canPickTheme = Type.isBoolean(params.canPickTheme) ? params.canPickTheme : false;\n\n\t\tthis.avatarPath = Type.isStringFilled(params.avatarPath) ? params.avatarPath : '';\n\t\tthis.avatarType = Type.isStringFilled(params.avatarType) ? params.avatarType : '';\n\n\t\tthis.urls = Type.isPlainObject(params.urls) ? params.urls : {};\n\n\t\tthis.editFeaturesAllowed = Type.isBoolean(params.editFeaturesAllowed) ? params.editFeaturesAllowed : true;\n\t\tthis.copyFeatureAllowed = Type.isBoolean(params.copyFeatureAllowed) ? params.copyFeatureAllowed : true;\n\n\t\tnew JoinButton(params);\n\t\tnew ControlButton(params);\n\t\tnew Scrum(params);\n\t\tnew Widget(params);\n\t\tnew TaskEvent(params);\n\t\tthis.moreButtonInstance = new MoreButton(params);\n\n\t\tnew SonetGroupEvent(params, {\n\t\t\tmoreButtonInstance: this.moreButtonInstance,\n\t\t});\n\n\t\tconst settingsButtonNode = document.getElementById('bx-group-menu-settings');\n\t\tif (settingsButtonNode)\n\t\t{\n\t\t\tconst sonetGroupMenu = UIGroupMenu.getInstance();\n\t\t\tsonetGroupMenu.favoritesValue = this.favoritesValue;\n\n\t\t\tsettingsButtonNode.addEventListener('click', this.showMenu.bind(this))\n\t\t}\n\t}\n\n\tshowMenu(event)\n\t{\n\t\tUICommon.showGroupMenuPopup({\n\t\t\tbindElement: event.currentTarget,\n\t\t\tgroupId: this.groupId,\n\t\t\tgroupType: this.groupType,\n\n\t\t\tuserRole: this.userRole,\n\t\t\tuserIsMember: this.userIsMember,\n\t\t\tuserIsAutoMember: this.userIsAutoMember,\n\t\t\tuserIsScrumMaster: this.userIsScrumMaster,\n\n\t\t\tisProject: this.isProject,\n\t\t\tisScrumProject: this.isScrumProject,\n\n\t\t\tisOpened: this.isOpened,\n\t\t\teditFeaturesAllowed: this.editFeaturesAllowed,\n\t\t\tcopyFeatureAllowed: this.copyFeatureAllowed,\n\t\t\tcanPickTheme: this.canPickTheme,\n\t\t\tperms: {\n\t\t\t\tcanInitiate: this.canInitiate,\n\t\t\t\tcanProcessRequestsIn: this.canProcessRequestsIn,\n\t\t\t\tcanModify: this.canModify\n\t\t\t},\n\t\t\turls: {\n\t\t\t\trequestUser: (\n\t\t\t\t\tType.isStringFilled(this.urls.Invite)\n\t\t\t\t\t\t? this.urls.Invite\n\t\t\t\t\t\t: `${this.urls.Edit}${(this.urls.Edit.indexOf('?') >= 0 ? '&' : '?')}tab=invite`\n\t\t\t\t),\n\t\t\t\tedit: `${this.urls.Edit}${(this.urls.Edit.indexOf('?') >= 0 ? '&' : '?')}tab=edit`,\n\t\t\t\tdelete: this.urls.Delete,\n\t\t\t\tfeatures: this.urls.Features,\n\t\t\t\tmembers: this.urls.GroupUsers,\n\t\t\t\trequests: this.urls.GroupRequests,\n\t\t\t\trequestsOut: this.urls.GroupRequestsOut,\n\t\t\t\tuserRequestGroup: this.urls.UserRequestGroup,\n\t\t\t\tuserLeaveGroup: this.urls.UserLeaveGroup,\n\t\t\t\tcopy: this.urls.Copy,\n\t\t\t}\n\t\t});\n\n\t\tevent.preventDefault();\n\t}\n}\n"],"names":["Scrum","params","scrumMeetings","scrumMethodology","init","groupId","Type","isUndefined","Number","urls","isPlainObject","scrumMeetingsButton","document","getElementById","addEventListener","showScrumMeetings","bind","scrumMethodologyButton","showScrumMethodology","event","target","classList","add","Runtime","loadExtension","then","exports","Meetings","showMenu","remove","preventDefault","Methodology","teamSpeedPath","ScrumTeamSpeed","burnDownPath","ScrumBurnDown","pathToTask","TasksTask","Widget","projectWidgetInstance","avatarPath","isStringFilled","avatarType","projectTypeCode","canModify","isBoolean","editFeaturesAllowed","projectWidgetButton","showProjectWidget","UIWorkgroupWidget","perms","card","Card","members","GroupUsers","features","Features","editRolesAllowed","show","widget","getPopup","BX","UI","Hint","getContentContainer","ControlButton","inIframe","controlButtonContainer","container","entityType","entityId","buttonClassName","SonetGroupEvent","additionalData","moreButtonInstance","EventEmitter","subscribe","getCompatData","sliderEvent","getEventId","sonetGroupEventHandler","getData","eventData","code","includes","joinContainerNode","style","display","UICommon","reload","sonetGroupMenu","UIGroupMenu","getInstance","favoritesValue","setItemTitle","data","top","location","href","GroupsList","redrawMenu","value","JoinButton","joinButtonNode","sendJoinRequest","button","currentTarget","showButtonWait","ajax","runAction","response","hideButtonWait","success","view","sonetGroupEventData","emit","window","BaseEvent","compatData","TaskEvent","pageId","currentUserId","isRoleControlDisabled","Boolean","compatMode","command","onUserCounter","querySelectorAll","forEach","element","onTaskMenuItemClick","filterId","ctx","onFilterApply","roleId","dataset","id","url","userId","Object","prototype","hasOwnProperty","call","keys","role","roleButton","querySelector","innerText","getCounterValue","total","maxValue","getFilterFieldsValues","ROLEID","panelMenuNode","MoreButton","menu","activeItem","inactiveItem","bindingMenuItems","isObject","values","userIsMember","subscribedValue","moreButton","showMoreMenu","bindingMenu","item","push","text","Loc","getMessage","className","onclick","setSubscription","length","delimiter","items","bindElement","MenuManager","create","offsetTop","offsetLeft","offsetWidth","angle","events","onPopupClose","tagName","subMenuOptions","popupWindow","setBindElement","RESULT","SidePanel","Instance","postMessageAll","getMenuItem","layout","GroupMenu","initialized","groupType","userRole","userIsAutoMember","userIsScrumMaster","isProject","isScrumProject","isOpened","canInitiate","canProcessRequestsIn","canPickTheme","copyFeatureAllowed","settingsButtonNode","showGroupMenuPopup","requestUser","Invite","Edit","indexOf","edit","Delete","requests","GroupRequests","requestsOut","GroupRequestsOut","userRequestGroup","UserRequestGroup","userLeaveGroup","UserLeaveGroup","copy","Copy"],"mappings":"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"}